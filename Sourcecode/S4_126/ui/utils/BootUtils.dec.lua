-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
BOOT = {
	LegalBootPopups = {},
	CurrentLegalPopupIndex = 1
}
function BootEULAPopup( f28_arg0, f28_arg1 )
	local f28_local0 = {
		nil,
		"PLATFORM/EULA_1",
		"PLATFORM/EULA_2",
		"PLATFORM/EULA_3",
		"PLATFORM/EULA_4",
		"PLATFORM/EULA_5",
		"PLATFORM/EULA_6",
		"PLATFORM/EULA_7",
		"PLATFORM/EULA_8"
	}
	if Engine[0x836C8AD984F14F6]() then
		if IsAmericaSKU() then
			table.insert( f28_local0, "PLATFORM/EULA_ADDENDUM_AMERICA_1" )
		elseif IsEuropeSKU() then
			table.insert( f28_local0, "PLATFORM/EULA_ADDENDUM_EUROPE_1" )
		end
	end
	if not f28_arg1 then
		f28_arg1 = {}
	end
	f28_arg1.EULAStringIds = f28_local0
	f28_arg1.acceptAction = BOOT.AcceptLegalPopupAction
	f28_arg1.declineAction = function ( f29_arg0, f29_arg1, f29_arg2 )
		LUI.FlowManager.RequestPopupMenu( f28_arg0, "EULADeclinePopup", true, f29_arg1.controller, false, {
			title = Engine[0xED84C33EC5F01EA]( "LUA_MENU/EULA_ACCEPT" ),
			message = Engine[0xED84C33EC5F01EA]( "LUA_MENU/EULA_MESSAGE" ),
			action = function ( f30_arg0, f30_arg1 )
				LUI.FlowManager.RequestLeaveMenu( f30_arg0:GetCurrentMenu(), true, nil )
				if Engine[0xFB1B6E36ABE59B8]() and 2 <= f29_arg0 then
					Engine[0x54DE5FB69D3BA90]( f29_arg0.controller )
					if CONDITIONS.ArePartiesEnabledInMainMenu() then
						Engine[0xB81A5136C5503E4]( "xstopprivateparty 0", f29_arg0.controller )
						Dvar[0x8EA06EEDB58D872]( "#x34e9ab8c76756925d", false )
					end
					LUI.FlowManager.RequestLeaveMenu( f29_arg0:GetCurrentMenu(), true, true )
					LUI.FlowManager.RequestRestoreMenu( "MainLockoutMenu", nil, nil )
				end
			end
		}, f28_arg0, true, true )
	end
	
	local f28_local1 = MenuBuilder.BuildRegisteredType( "EULAPopup", f28_arg1 )
	f28_local1.id = "BootEULAPopup"
	return f28_local1
end

MenuBuilder.registerType( "BootEULAPopup", BootEULAPopup )
function BootKoreanPIProcessingPopup( f26_arg0, f26_arg1 )
	local f26_local0 = {
		nil,
		"KOREAN_LEGAL/KOREAN_PI_BODY_0",
		"KOREAN_LEGAL/KOREAN_PI_BODY_1",
		"KOREAN_LEGAL/KOREAN_PI_BODY_2",
		"KOREAN_LEGAL/KOREAN_PI_BODY_3"
	}
	if not f26_arg1 then
		f26_arg1 = {}
	end
	f26_arg1.EULAStringIds = f26_local0
	f26_arg1.disableAcceptUntilLastPage = true
	f26_arg1.terms = Engine[0xED84C33EC5F01EA]( "KOREAN_LEGAL/KOREAN_PI_HEADER" )
	f26_arg1.message = Engine[0xED84C33EC5F01EA]( "LUA_MENU/KOREAN_READ_EULA_MESSAGE" )
	f26_arg1.acceptAction = BOOT.AcceptLegalPopupAction
	f26_arg1.declineAction = function ( f27_arg0, f27_arg1 )
		LUI.FlowManager.RequestPopupMenu( f26_arg0, "EULADeclinePopup", true, f27_arg1.controller, false, {
			title = Engine[0xED84C33EC5F01EA]( "KOREAN_LEGAL/KOREAN_PI_DECLINE_TITLE" ),
			message = Engine[0xED84C33EC5F01EA]( "KOREAN_LEGAL/KOREAN_PI_DECLINE_DESCRIPTION" )
		}, f26_arg0, true, true )
	end
	
	local f26_local1 = MenuBuilder.BuildRegisteredType( "EULAPopup", f26_arg1 )
	f26_local1.id = "KoreanPIProcessingPopup"
	return f26_local1
end

MenuBuilder.registerType( "BootKoreanPIProcessingPopup", BootKoreanPIProcessingPopup )
BOOT.AcceptLegalPopupAction = function ( f25_arg0, f25_arg1 )
	BOOT.IncreaseBootPopupIndex()
	local f25_local0 = BOOT.GetCurrentLegalBootPopupName()
	if f25_local0 then
		LUI.FlowManager.RequestPopupMenu( unused, f25_local0, false, f25_arg1.controller, false, {}, nil, true, true )
		LUI.FlowManager.RequestLeaveMenu( f25_arg0:GetCurrentMenu(), true )
	else
		BOOT.AcceptEULA()
		LUI.FlowManager.RequestLeaveMenu( f25_arg0:GetCurrentMenu(), true )
	end
end

BOOT.AcceptEULA = function ()
	Engine[0xB81A5136C5503E4]( "profile_SetAcceptedEULA" )
end

BOOT.InitializeBootLegalPopupList = function ()
	local f23_local0 = {}
	table.insert( f23_local0, {
		popupName = "BootEULAPopup"
	} )
	if CONDITIONS.IsKoreanAccount() then
		table.insert( f23_local0, {
			popupName = "BootKoreanPIProcessingPopup"
		} )
	end
	return f23_local0
end

BOOT.InitializeLegalBootPopupsSequence = function ()
	BOOT.LegalBootPopups = BOOT.InitializeBootLegalPopupList()
	BOOT.CurrentLegalPopupIndex = 1
end

BOOT.GetCurrentLegalBootPopupName = function ()
	if BOOT.LegalBootPopups[BOOT.CurrentLegalPopupIndex] then
		return BOOT.LegalBootPopups[BOOT.CurrentLegalPopupIndex].popupName
	else
		
	end
end

BOOT.IncreaseBootPopupIndex = function ()
	BOOT.CurrentLegalPopupIndex = BOOT.CurrentLegalPopupIndex + 1
end

BOOT.GetRetryPopupButtons = function ( f15_arg0, f15_arg1 )
	if not f15_arg1 then
		f15_arg1 = not Engine[0x8B495DC361731F7]( f15_arg0 )
	end
	local f15_local0 = {
		label = Engine[0xED84C33EC5F01EA]( "MENU/RETRY" ),
		action = function ( f19_arg0, f19_arg1 )
			Engine[0x4B0C2D659AE39D3]( "Retry accessing MainMenu", f15_arg0 )
			LUI.FlowManager.RequestLeaveMenu( f19_arg0:GetCurrentMenu(), true )
			if CONDITIONS.IsInternalAlphaEnabled() then
				LUI.FlowManager.RequestAddMenu( "MPMainMenu", false, f15_arg0 )
			else
				LUI.FlowManager.RequestAddMenu( LUI.FlowManager.MainMenu, false, f15_arg0 )
			end
		end
	}
	local f15_local1 = {
		label = Engine[0xED84C33EC5F01EA]( "MENU/GO_OFFLINE" ),
		action = function ( f18_arg0, f18_arg1 )
			Engine[0x4B0C2D659AE39D3]( "Going Offline", f15_arg0 )
			LUI.FlowManager.RequestLeaveMenu( f18_arg0:GetCurrentMenu(), true )
			LUI.FlowManager.RequestAddMenu( LUI.FlowManager.MainMenuOffline, false, f15_arg0 )
		end
	}
	local f15_local2 = {
		label = Engine[0xED84C33EC5F01EA]( "LUA_MENU/QUIT_DESKTOP" ),
		action = function ( f17_arg0, f17_arg1 )
			LUI.FlowManager.RequestPopupMenu( self, "QuitPopup", false, f17_arg1.controller )
		end
	}
	local f15_local3 = {
		label = Engine[0xED84C33EC5F01EA]( "MENU/EXIT" ),
		action = function ( f16_arg0, f16_arg1 )
			LUI.FlowManager.RequestRestoreMenu( "MainLockoutMenu", true, f16_arg1.controller )
		end
	}
	if Engine[0x575E9C5B9AAB6F4]() then
		return {
			f15_local0,
			f15_local2
		}
	elseif f15_arg1 then
		return {
			f15_local0,
			f15_local3
		}
	elseif CONDITIONS.ForceOnlineMenus() then
		return {
			f15_local0
		}
	else
		return {
			f15_local0,
			f15_local1
		}
	end
end

BOOT.GetOkayPopupButtons = function ()
	return {
		{
			label = Engine[0xED84C33EC5F01EA]( "MENU/OK" ),
			action = function ( f14_arg0, f14_arg1 )
				LUI.FlowManager.RequestLeaveMenu( f14_arg0:GetCurrentMenu(), true )
			end
			
		}
	}
end

BOOT.AddSettingUpdatedEvent = function ( f11_arg0, f11_arg1, f11_arg2 )
	return function ()
		local f12_local0 = f11_arg0
		...
		f12_local0()
		f11_arg0:dispatchEventToCurrentMenu( {
			name = "setting_updated",
			controller = f11_arg0
		} )
	end
	
end

BOOT.CreateColorBlindFilterLogic = function ( f10_arg0, f10_arg1 )
	assert( f10_arg0.Colorblind )
	local f10_local0 = OPTIONS.GetColorBlindConfig( f10_arg1 )
	f10_local0.action = BOOT.AddSettingUpdatedEvent( f10_arg0, f10_arg1, f10_local0.action )
	LUI.AddUIArrowTextButtonLogic( f10_arg0.Colorblind, f10_arg1, f10_local0 )
end

BOOT.CreateInputMethodLogic = function ( f8_arg0, f8_arg1, f8_arg2 )
	assert( f8_arg0.InputMethod )
	local f8_local0 = OPTIONS.GetOptionsDataByIdentifier( f8_arg0, f8_arg1, f8_arg2, "InputMethod" )
	if type( f8_local0.labels ) == "function" then
		f8_local0.labels = f8_local0.labels()
	end
	if type( f8_local0.name ) == "function" then
		f8_local0.name = f8_local0.name()
	end
	if type( f8_local0.description ) == "function" then
		f8_local0.description = f8_local0.description()
	end
	local f8_local1 = f8_local0.action
	f8_local0.action = function ()
		local f9_local0 = f8_arg0
		...
		f9_local0()
		if f8_arg0.UpdateBootOptionControlsLayout then
			f8_arg0:UpdateBootOptionControlsLayout( f8_arg0 )
		end
	end
	
	f8_local0.action = BOOT.AddSettingUpdatedEvent( f8_arg0, f8_arg1, f8_local0.action )
	f8_local0.defaultValue = f8_local0.value( f8_arg1 )
	LUI.AddUIToggleButtonLogic( f8_arg0.InputMethod, f8_arg1, f8_local0 )
	f8_arg0.InputMethod.buttonName = f8_local0.name
	f8_arg0.InputMethod.buttonImage = f8_local0.image
	f8_arg0.InputMethod.buttonDescription = f8_local0.description
	OPTIONS.SetFocusEventHandlerForActiveState( f8_arg0.InputMethod, f8_arg1, f8_local0 )
	OPTIONS.SetActiveEventHandler( f8_arg0.InputMethod )
	if f8_local0.disabled then
		if type( f8_local0.disabled ) == "function" then
			f8_arg0.InputMethod:SetButtonDisabled( f8_local0.disabled( f8_arg1 ) )
		else
			f8_arg0.InputMethod:SetButtonDisabled( f8_local0.disabled )
		end
	end
	if f8_local0.specificAction then
		f8_local0.specificAction( f8_arg0, f8_arg0.InputMethod, f8_arg1 )
	end
end

BOOT.CreateMasterVolumeLogic = function ( f3_arg0, f3_arg1, f3_arg2 )
	assert( f3_arg0.MasterVolume )
	local f3_local0 = OPTIONS.GetUniformOptionData( f3_arg2.Volume, f3_arg1, false )
	LUI.AddSliderWithEditBoxLogic( f3_arg0.MasterVolume, f3_arg1, {
		name = f3_local0.name,
		action = function ( f7_arg0, f7_arg1, f7_arg2 )
			f3_arg0.valueSetter( option, f7_arg2, f7_arg0 )
		end,
		applyable = f3_local0.applyable,
		defaultValue = f3_local0.valueGetter( f3_arg1 ),
		valueGetter = f3_local0.valueGetter,
		defaultValueGetter = f3_local0.defaultValueGetter,
		onRefresh = f3_local0.onRefresh,
		onDependencyParentRefresh = f3_local0.onDependencyParentRefresh,
		max = f3_local0.bounds.max,
		min = f3_local0.bounds.min,
		step = f3_local0.bounds.step,
		pcstep = f3_local0.bounds.pcstep,
		decimalPlacesToRound = f3_local0.bounds.decimalPlacesToRound,
		fillElement = f3_arg0.MasterVolume.GenericFillBar.Fill,
		textSelectionColor = {
			g = -28,
			a = 255,
			b = -28,
			r = -32
		}
	} )
	f3_arg0.MasterVolume._name = f3_local0.name
	f3_arg0.MasterVolume._description = f3_local0.description
	f3_arg0.MasterVolume:addEventHandler( "button_action", function ( f6_arg0, f6_arg1 )
		if not f6_arg0:IsActive() then
			f6_arg0:dispatchEventToParent( {
				name = "request_active",
				target = f6_arg0,
				controller = f3_arg0
			} )
			if f6_arg0:IsActive() then
				return true
			end
		end
	end )
	if f3_local0.focusAction then
		f3_arg0.MasterVolume:addEventHandler( "button_over", function ( f5_arg0, f5_arg1 )
			f3_arg0:focusAction( f5_arg0 )
		end )
	end
	f3_arg0.MasterVolume:addEventHandler( "gain_focus", function ( f4_arg0, f4_arg1 )
		ACTIONS.AnimateSequence( f3_arg0, "NoPreview" )
		f3_arg0.ButtonTitle:setText( f3_arg0.MasterVolume._name )
		f3_arg0.Description.Text:setText( f3_arg0.MasterVolume._description )
		f3_arg0.MasterVolume:dispatchEventToParent( {
			name = "request_active",
			target = f3_arg0.MasterVolume
		} )
		return true
	end )
	if f3_arg0.MasterVolume.GenericOptionButtonBase.Title then
		f3_arg0.MasterVolume.GenericOptionButtonBase.Title:setText( f3_local0.name )
	end
end

BOOT.BuildButtonLabelHandlers = function ( f1_arg0, f1_arg1, f1_arg2, f1_arg3 )
	f1_arg0:registerEventHandler( "update_button_selected", function ( element, event )
		local f2_local0 = event.buttonName or ""
		local f2_local1 = event.description or ""
		f1_arg0:setText( f2_local0, 0 )
		f1_arg0:setText( f2_local1, 0 )
	end )
end

