-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.inGame.mp.CodCasterPortraitList" )
require( "ui.inGame.mp.CodcasterTeamListHeaderContainer" )
require( "ui.inGame.mp.CodcasterKillstreakView" )
require( "ui.inGame.mp.CodcasterFieldUpgradeView" )
require( "ui.inGame.mp.CodcasterNotificationsListContainer" )
require( "ui.inGame.mp.CodCasterPlayerList" )
local f0_local0 = function ( f25_arg0, f25_arg1, f25_arg2 )
	local f25_local0 = CODCASTER.GetCurrentVisualState( f25_arg0 )
	local f25_local1 = CODCASTER.TEAM_LIST_TYPE.NONE
	if f25_local0 ~= "Hide" then
		f25_local1 = f25_arg2.dataSources.teamListType:GetValue( f25_arg1 )
	end
	local f25_local2 = CODCASTER.GetChildDestroyReadyNotify( f25_arg2 )
	local f25_local3 = f25_local2.childId
	local f25_local4 = f25_arg2.sourceName
	local f25_local5
	if f25_local4 ~= "codcaster_hidelayer" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED and f25_local4 ~= "codcaster_teamlist" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED then
		f25_local5 = false
	else
		f25_local5 = true
	end
	if f25_local1 == CODCASTER.TEAM_LIST_TYPE.KILLSTREAK_VIEW then
		f25_arg0:CreateElement( "KillstreakView" )
	elseif f25_local3 == "KillstreakView" or f25_local5 then
		f25_arg0:DestroyElement( "KillstreakView" )
	end
	if f25_local1 == CODCASTER.TEAM_LIST_TYPE.FIELDUPGRADE_VIEW then
		f25_arg0:CreateElement( "FieldUpgradeView" )
	elseif f25_local3 == "FieldUpgradeView" or f25_local5 then
		f25_arg0:DestroyElement( "FieldUpgradeView" )
	end
	if f25_local1 ~= CODCASTER.TEAM_LIST_TYPE.PLAYER_LIST and f25_local1 ~= CODCASTER.TEAM_LIST_TYPE.NONE then
		f25_arg0:CreateElement( "NotificationsList" )
	else
		f25_arg0:DestroyElement( "NotificationsList" )
	end
end

local f0_local1 = function ( f24_arg0, f24_arg1, f24_arg2 )
	local f24_local0 = f24_arg2.sourceType == CODCASTER.VISUAL_STATES.SOURCE_TYPES.EVENT
	local f24_local1 = f24_arg2.sourceName
	local f24_local2 = CODCASTER.TEAM_LIST_TYPE_CHANGE_SOURCE.DEFAULT
	if f24_local1 == "codcaster_hidelayer" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED then
		f24_local2 = CODCASTER.TEAM_LIST_TYPE_CHANGE_SOURCE.LAYER_VISIBILITY
	elseif f24_local1 == "codcaster_dataview" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED then
		f24_local2 = CODCASTER.TEAM_LIST_TYPE_CHANGE_SOURCE.DATA_VIEW
	elseif f24_local0 then
		f24_local2 = CODCASTER.TEAM_LIST_TYPE_CHANGE_SOURCE.KEYPRESS
	end
	DataSources.inGame.MP.codcaster.teamListTypeChangeSource:SetValue( f24_arg1, f24_local2 )
	DataSources.inGame.MP.codcaster.previousTeamListType:SetValue( f24_arg1, DataSources.inGame.MP.codcaster.teamListType:GetValue( f24_arg1 ) )
end

local f0_local2 = {
	{
		name = "Show",
		refresh = true,
		animate = true,
		visibilityEnum = LUI.Visibility.Visible,
		condition = function ( f23_arg0, f23_arg1, f23_arg2 )
			local f23_local0 = f23_arg2.dataSources
			local f23_local1 = f23_local0.team1Count:GetValue( f23_arg1 )
			local f23_local2 = f23_local0.team2Count:GetValue( f23_arg1 )
			local f23_local3 = CODCASTER.IsHUDVisible( f23_arg1 )
			local f23_local4 = CODCASTER_SETTINGS.GetSettingValue( f23_arg1, "codcaster_teamlist" )
			local f23_local5
			if 0 >= f23_local1 and 0 >= f23_local2 then
				f23_local5 = false
			else
				f23_local5 = true
			end
			local f23_local6
			if f23_local3 then
				f23_local6 = f23_local3
			elseif f23_local4 then
				f23_local6 = f23_local4
			else
				f23_local6 = f23_local5
			end
			return f23_local6
		end,
		stateHandler = function ( f22_arg0, f22_arg1, f22_arg2 )
			f0_local0( f22_arg0, f22_arg1, f22_arg2 )
		end
	},
	{
		name = "Hide",
		visibilityLast = true,
		refresh = true,
		animationsFunction = CODCASTER.GetHideAnimations,
		visibilityEnum = LUI.Visibility.Hidden,
		condition = function ( f21_arg0, f21_arg1, f21_arg2 )
			return true
		end,
		postAnimationsHandler = function ( f20_arg0, f20_arg1, f20_arg2 )
			f0_local0( f20_arg0, f20_arg1, f20_arg2 )
		end
	}
}
local f0_local3 = {
	{
		handle = true,
		name = "KillstreakView",
		stateHandler = function ( f19_arg0, f19_arg1, f19_arg2 )
			DataSources.inGame.MP.codcaster.teamListType:SetValue( f19_arg1, CODCASTER.TEAM_LIST_TYPE.KILLSTREAK_VIEW )
		end,
		condition = function ( f18_arg0, f18_arg1, f18_arg2 )
			local f18_local0 = CODCASTER_SETTINGS.GetSettingValue( f18_arg1, "codcaster_killstreak_view" )
			local f18_local1 = f18_arg0._canShow
			if f18_local1 then
				f18_local1 = f18_arg0._canShowPortraitList
				if f18_local1 then
					f18_local1 = f18_local0
				end
			end
			return f18_local1
		end
	},
	{
		handle = true,
		name = "FieldUpgradeView",
		stateHandler = function ( f17_arg0, f17_arg1, f17_arg2 )
			DataSources.inGame.MP.codcaster.teamListType:SetValue( f17_arg1, CODCASTER.TEAM_LIST_TYPE.FIELDUPGRADE_VIEW )
		end,
		condition = function ( f16_arg0, f16_arg1, f16_arg2 )
			local f16_local0 = CODCASTER_SETTINGS.GetSettingValue( f16_arg1, "codcaster_fieldupgrade_view" )
			local f16_local1 = f16_arg0._canShow
			if f16_local1 then
				f16_local1 = f16_arg0._canShowPortraitList
				if f16_local1 then
					f16_local1 = f16_local0
				end
			end
			return f16_local1
		end
	},
	{
		handle = true,
		name = "PortraitList",
		stateHandler = function ( f15_arg0, f15_arg1, f15_arg2 )
			DataSources.inGame.MP.codcaster.teamListType:SetValue( f15_arg1, CODCASTER.TEAM_LIST_TYPE.PORTRAIT_LIST )
		end,
		condition = function ( f14_arg0, f14_arg1, f14_arg2 )
			local f14_local0 = f14_arg0._canShow
			if f14_local0 then
				if not f14_arg0._showPlayerList then
					f14_local0 = f14_arg0._canShowPortraitList
				else
					f14_local0 = false
				end
			end
			return f14_local0
		end
	},
	{
		handle = true,
		name = "PlayerList",
		stateHandler = function ( f13_arg0, f13_arg1, f13_arg2 )
			DataSources.inGame.MP.codcaster.teamListType:SetValue( f13_arg1, CODCASTER.TEAM_LIST_TYPE.PLAYER_LIST )
		end,
		condition = function ( f12_arg0, f12_arg1, f12_arg2 )
			local f12_local0 = f12_arg0._canShow
			if f12_local0 then
				f12_local0 = f12_arg0._showPlayerList
				if not f12_local0 then
					f12_local0 = not f12_arg0._canShowPortraitList
				end
			end
			return f12_local0
		end
	},
	{
		handle = true,
		name = "None",
		stateHandler = function ( f11_arg0, f11_arg1, f11_arg2 )
			DataSources.inGame.MP.codcaster.teamListType:SetValue( f11_arg1, CODCASTER.TEAM_LIST_TYPE.NONE )
		end,
		condition = function ( f10_arg0, f10_arg1, f10_arg2 )
			return true
		end
	}
}
local f0_local4 = function ( f8_arg0, f8_arg1, f8_arg2 )
	local f8_local0 = {
		dataSources = {
			team1Count = DataSources.alwaysLoaded.codcaster.teams.first.count,
			team2Count = DataSources.alwaysLoaded.codcaster.teams.second.count,
			matchCountDown = DataSources.inGame.MP.match.countdownTime,
			matchInProgress = DataSources.inGame.MP.isMatchInProgress
		},
		events = {
			"codcaster_hidelayer" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED,
			"codcaster_playerlist" .. CODCASTER.EVENT_TYPES.KEYPRESS,
			"codcaster_killstreak_view" .. CODCASTER.EVENT_TYPES.KEYPRESS,
			"codcaster_fieldupgrade_view" .. CODCASTER.EVENT_TYPES.KEYPRESS,
			"codcaster_teamlist" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED,
			"codcaster_dataview" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED
		}
	}
	
	local teamListTypeHolder = LUI.UIElement.new()
	f8_arg0:addElement( teamListTypeHolder )
	f8_arg0.teamListTypeHolder = teamListTypeHolder
	
	CODCASTER.SetupVisualStateHandler( f8_arg0.teamListTypeHolder, f8_arg1, f0_local0, f8_local0, {
		preState = function ( f9_arg0, f9_arg1, f9_arg2 )
			local f9_local0 = CODCASTER.IsHUDVisible( f9_arg1 )
			local f9_local1 = CODCASTER.CanShowHUD( f9_arg1 )
			local f9_local2 = CODCASTER_SETTINGS.GetSettingValue( f9_arg1, "codcaster_teamlist" )
			local f9_local3 = not CODCASTER_SETTINGS.GetSettingValue( f9_arg1, "codcaster_dataview" )
			local f9_local4
			if f9_local0 then
				f9_local4 = f9_local0
			elseif f9_local1 then
				f9_local4 = f9_local1
			elseif f9_local2 then
				f9_local4 = f9_local2
			else
				f9_local4 = f9_local3
			end
			f9_arg0._canShow = f9_local4
			f9_arg0._showPlayerList = CODCASTER_SETTINGS.GetSettingValue( f9_arg1, "codcaster_playerlist" )
			f9_arg0._canShowPortraitList = CODCASTER.IsPortraitListCountWithinRange( f9_arg1 )
		end,
		onState = f0_local0
	} )
end

local f0_local5 = function ( f7_arg0, f7_arg1, f7_arg2 )
	CODCASTER.SetupDestroyableElements( f7_arg0, f7_arg1 )
	CODCASTER.SetupVisualStateHandler( f7_arg0, f7_arg1, f0_local0, {
		dataSources = {
			team1Count = DataSources.alwaysLoaded.codcaster.teams.first.count,
			team2Count = DataSources.alwaysLoaded.codcaster.teams.second.count,
			matchCountDown = DataSources.inGame.MP.match.countdownTime,
			teamListType = DataSources.inGame.MP.codcaster.teamListType
		},
		events = {
			CODCASTER.EVENTS.CHILD_DESTROY_READY,
			"codcaster_hidelayer" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED,
			"codcaster_teamlist" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED,
			"codcaster_playerlist" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED,
			"codcaster_killstreak_view" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED,
			"codcaster_fieldupgrade_view" .. CODCASTER.EVENT_TYPES.SETTING_CHANGED
		}
	} )
	f7_arg0.TeamHeader01:SetDataSource( DataSources.alwaysLoaded.codcaster.teams.first, f7_arg1 )
	f7_arg0.TeamHeader02:SetDataSource( DataSources.alwaysLoaded.codcaster.teams.second, f7_arg1 )
end

function CoDCasterTeamList( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 457 * _1080p )
	self.id = "CoDCasterTeamList"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	f0_local0( self, f1_local1, controller )
	local f1_local2 = self
	self:setUseStencil( true )
	local PortraitList = nil
	
	PortraitList = MenuBuilder.BuildRegisteredType( "CodCasterPortraitList", {
		controllerIndex = f1_local1
	} )
	PortraitList.id = "PortraitList"
	PortraitList:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -960, _1080p * 960, _1080p * 67, _1080p * 239 )
	self:addElement( PortraitList )
	self.PortraitList = PortraitList
	
	local TeamHeader01 = nil
	
	TeamHeader01 = MenuBuilder.BuildRegisteredType( "CodcasterTeamListHeaderContainer", {
		controllerIndex = f1_local1
	} )
	TeamHeader01.id = "TeamHeader01"
	TeamHeader01:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -917, _1080p * -307, _1080p * 19, _1080p * 67 )
	self:addElement( TeamHeader01 )
	self.TeamHeader01 = TeamHeader01
	
	local TeamHeader02 = nil
	
	TeamHeader02 = MenuBuilder.BuildRegisteredType( "CodcasterTeamListHeaderContainer", {
		controllerIndex = f1_local1
	} )
	TeamHeader02.id = "TeamHeader02"
	TeamHeader02:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * 307, _1080p * 917, _1080p * 19, _1080p * 67 )
	self:addElement( TeamHeader02 )
	self.TeamHeader02 = TeamHeader02
	
	local KillstreakView = nil
	
	KillstreakView = MenuBuilder.BuildRegisteredType( "CodcasterKillstreakView", {
		controllerIndex = f1_local1
	} )
	KillstreakView.id = "KillstreakView"
	KillstreakView:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -960, _1080p * 960, _1080p * 67, _1080p * 261 )
	self:addElement( KillstreakView )
	self.KillstreakView = KillstreakView
	
	local FieldUpgradeView = nil
	
	FieldUpgradeView = MenuBuilder.BuildRegisteredType( "CodcasterFieldUpgradeView", {
		controllerIndex = f1_local1
	} )
	FieldUpgradeView.id = "FieldUpgradeView"
	FieldUpgradeView:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -960, _1080p * 960, _1080p * 67, _1080p * 229 )
	self:addElement( FieldUpgradeView )
	self.FieldUpgradeView = FieldUpgradeView
	
	local NotificationsList = nil
	
	NotificationsList = MenuBuilder.BuildRegisteredType( "CodcasterNotificationsListContainer", {
		controllerIndex = f1_local1
	} )
	NotificationsList.id = "NotificationsList"
	NotificationsList:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -960, _1080p * 960, _1080p * 67, _1080p * 167 )
	self:addElement( NotificationsList )
	self.NotificationsList = NotificationsList
	
	local PlayerList = nil
	
	PlayerList = MenuBuilder.BuildRegisteredType( "CodCasterPlayerList", {
		controllerIndex = f1_local1
	} )
	PlayerList.id = "PlayerList"
	PlayerList:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -960, _1080p * 960, _1080p * 67, _1080p * 457 )
	self:addElement( PlayerList )
	self.PlayerList = PlayerList
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local10 = nil
	PortraitList:RegisterAnimationSequence( "Show", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamHeader01:RegisterAnimationSequence( "Show", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamHeader02:RegisterAnimationSequence( "Show", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PlayerList:RegisterAnimationSequence( "Show", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Show = function ()
		menu:AnimateSequence( "Show" )
		menu:AnimateSequence( "Show" )
		menu:AnimateSequence( "Show" )
		menu:AnimateSequence( "Show" )
	end
	
	self._sequenceLengths.Show = 0
	local f1_local11 = nil
	PortraitList:RegisterAnimationSequence( "Hide", {
		{
			value = 1,
			duration = 170,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamHeader01:RegisterAnimationSequence( "Hide", {
		{
			value = 1,
			duration = 170,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamHeader02:RegisterAnimationSequence( "Hide", {
		{
			value = 1,
			duration = 170,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PlayerList:RegisterAnimationSequence( "Hide", {
		{
			value = 1,
			duration = 170,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Hide = function ()
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
	end
	
	self._sequenceLengths.Hide = 170
	local f1_local12 = nil
	PortraitList:RegisterAnimationSequence( "HideNoAnim", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamHeader01:RegisterAnimationSequence( "HideNoAnim", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamHeader02:RegisterAnimationSequence( "HideNoAnim", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PlayerList:RegisterAnimationSequence( "HideNoAnim", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideNoAnim = function ()
		menu:AnimateSequence( "HideNoAnim" )
		menu:AnimateSequence( "HideNoAnim" )
		menu:AnimateSequence( "HideNoAnim" )
		menu:AnimateSequence( "HideNoAnim" )
	end
	
	self._sequenceLengths.HideNoAnim = 0
	local f1_local13 = nil
	PortraitList:RegisterAnimationSequence( "ShowNoAnim", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamHeader01:RegisterAnimationSequence( "ShowNoAnim", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamHeader02:RegisterAnimationSequence( "ShowNoAnim", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PlayerList:RegisterAnimationSequence( "ShowNoAnim", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ShowNoAnim = function ()
		menu:AnimateSequence( "ShowNoAnim" )
		menu:AnimateSequence( "ShowNoAnim" )
		menu:AnimateSequence( "ShowNoAnim" )
		menu:AnimateSequence( "ShowNoAnim" )
	end
	
	self._sequenceLengths.ShowNoAnim = 0
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "CoDCasterTeamList", CoDCasterTeamList )
LockTable( _M )
