-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
LUI.OptionalBlurLayer = LUI.Class( LUI.UIElement )
LUI.OptionalBlurLayer.ShouldBeVisible = function ( f6_arg0 )
	return Dvar[0x9E5BE3B4BBA4E0E]( "#x34fb9bc6c1e663962" )
end

LUI.OptionalBlurLayer.ClearLayer = function ( f5_arg0, f5_arg1 )
	f5_arg0:closeChildren()
end

LUI.OptionalBlurLayer.InitLayer = function ( f4_arg0 )
	if not f4_arg0.optionalBlur then
		local self = nil
		self = LUI.UIBlur.new()
		self.id = "OptionalBlur"
		ACTIONS.ScaleFullscreen( self )
		f4_arg0.optionalBlur = self
		f4_arg0.optionalBlur:SetVisible( false )
		f4_arg0.optionalBlur:SetBlurStrength( 0, 0 )
		f4_arg0:addElement( self )
	end
end

LUI.OptionalBlurLayer.init = function ( f3_arg0, f3_arg1 )
	LUI.UIElement.init( f3_arg0 )
	local f3_local0 = f3_arg1.controllerIndex
	if not f3_local0 then
		f3_local0 = Engine[0x45B054C920178E9]()
	end
	f3_arg0._controllerIndex = f3_local0
	f3_arg0.id = "OptionalBlurLayer"
end

LUI.OptionalBlurLayer.UpdateBlurIntensity = function ( f2_arg0, f2_arg1 )
	if f2_arg0 then
		local f2_local0 = f2_arg0.optionalBlur
		if f2_local0 then
			f2_local0:SetBlurStrength( f2_arg1, 0 )
			if f2_arg1 == 0 then
				f2_local0:SetVisible( false )
			else
				f2_local0:SetVisible( true )
			end
		end
	end
end

LUI.OptionalBlurLayer.UpdateOptionalBlurVisibility = function ()
	local f1_local0 = Engine[0xEE6F69FEA944B13]()
	f1_local0 = f1_local0.optionalBlurLayer
	if not f1_local0 then
		return 
	end
	local f1_local1 = f1_local0.optionalBlur
	if Engine[0x12586A3F4FB490E]() then
		local f1_local2 = Engine[0x3215F33AB13FD98]()
		if f1_local2 == "loadout_showcase_watch" or f1_local2 == "character_faction_select_detail" or f1_local2 == "character_faction_select_quips" or f1_local2 == "character_faction_select_animation_preview" or f1_local2 == "" or f1_local2:sub( 1, 24 ) == "loadout_showcase_preview" then
			if f1_local1 then
				f1_local1:SetVisible( false )
			end
		else
			LUI.OptionalBlurLayer.UpdateBlurIntensity( f1_local0, Engine[0x7B17D94988FD5D0]( "backgroundBlurIntensity", f1_local0._controllerIndex ) )
		end
	elseif f1_local1 then
		f1_local1:closeTree()
	end
end

