-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
LUI.ReportPlayerLayer = LUI.Class( LUI.UIElement )
LUI.ReportPlayerLayer.init = function ( f8_arg0, f8_arg1 )
	LUI.ReportPlayerLayer.super.init( f8_arg0 )
	f8_arg0.id = "ReportPlayerLayer"
	f8_arg0._controllerIndex = f8_arg1
end

LUI.ReportPlayerLayer.ShouldBeVisible = function ( f7_arg0 )
	local f7_local0 = Engine.DBFFAEEFGJ()
	local f7_local1 = f7_local0.flowManager
	local f7_local2
	if f7_local1 then
		f7_local2 = f7_local1
	else
		f7_local2 = not f7_local1:IsStackEmpty()
	end
	if Game.HJHDJDCBF() and AreInGameDataSourcesInitialized() then
		local f7_local3 = VISIBILITY_CONDITIONS.InKillCam.conditionFunc( f7_arg0._controllerIndex )
		local f7_local4 = VISIBILITY_CONDITIONS.Spectating.conditionFunc( f7_arg0._controllerIndex )
		local f7_local5
		if not f7_local2 then
			if not f7_local3 and f7_local4 then
				f7_local5 = f7_local4
			else
				f7_local5 = Engine.CJJAFGIFAC( f7_arg0._controllerIndex )
			end
		else
			f7_local5 = false
		end
		return f7_local5
	else
		return false
	end
end

LUI.ReportPlayerLayer.InitLayer = function ( f5_arg0 )
	f5_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		if event.down and (event.button == "special" or event.button == "right_stick") then
			local f6_local0 = -1
			if VISIBILITY_CONDITIONS.InKillCam.conditionFunc( f5_arg0._controllerIndex ) then
				f6_local0 = DataSources.inGame.MP.killcam.killedby.clientId:GetValue( f5_arg0._controllerIndex )
			elseif VISIBILITY_CONDITIONS.Spectating.conditionFunc( f5_arg0._controllerIndex ) then
				f6_local0 = DataSources.inGame.currentPlayerStateClientNum:GetValue( f5_arg0._controllerIndex )
			end
			if f6_local0 ~= -1 and f6_local0 ~= Game.DBACJGFHDD( f5_arg0._controllerIndex ) and not Game.BHGFGIJJFD( f5_arg0._controllerIndex, f6_local0 ) then
				LUI.FlowManager.RequestPopupMenu( nil, "ReportPlayer", true, f5_arg0._controllerIndex, false, {
					xuid = Game.GJIIJAFBI( f6_local0 )
				} )
			end
		end
	end )
end

LUI.ReportPlayerLayer.ClearLayer = function ( f4_arg0, f4_arg1 )
	
end

LUI.ReportPlayerLayer.TrapsInput = function ( f3_arg0, f3_arg1 )
	local f3_local0
	if f3_arg1.name ~= "gamepad_button" or f3_arg1.button ~= "special" and f3_arg1.button ~= "right_stick" then
		f3_local0 = false
	else
		f3_local0 = true
	end
	return f3_local0
end

LUI.ReportPlayerLayer.ProcessInputEvent = function ( f2_arg0, f2_arg1 )
	local f2_local0 = false
	local f2_local1 = f2_arg0.m_eventHandlers[f2_arg1.name]
	if f2_local1 then
		f2_local0 = f2_local1( f2_arg0, f2_arg1 )
	end
	if f2_arg0:TrapsInput( f2_arg1 ) and not f2_local0 then
		f2_local0 = LUI.ReportPlayerLayer.super.processEvent( f2_arg0, f2_arg1 )
	end
	return f2_local0
end

LUI.ReportPlayerLayer.processEvent = function ( f1_arg0, f1_arg1 )
	if IsInputEvent( f1_arg1.name ) then
		return f1_arg0:ProcessInputEvent( f1_arg1 )
	else
		return LUI.ReportPlayerLayer.super.processEvent( f1_arg0, f1_arg1 )
	end
end

