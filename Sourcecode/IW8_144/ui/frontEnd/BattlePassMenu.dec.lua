-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
module( ..., package.seeall )
local f0_local0 = 150
local f0_local1 = f0_local0 + 50
local f0_local2 = 9
local f0_local3 = 5
local f0_local4 = 4
local f0_local5 = 500
local f0_local6 = 3600
local f0_local7 = 5
local f0_local8 = 10
local f0_local9 = 20
local f0_local10 = "battlePassError"
local f0_local11 = {
	nil,
	-28,
	50,
	20,
	10,
	5,
	2,
	1
}
local f0_local12 = {
	[5.333806864E-315] = "battlepass_skip100",
	[5.31664595E-315] = "battlepass_skip10",
	[5.299808824E-315] = "battlepass_skip1",
	[5.311465295E-315] = "battlepass_skip5",
	[5.32862621E-315] = "battlepass_skip50",
	[5.3218266E-315] = "battlepass_skip20",
	[5.304989477E-315] = "battlepass_skip2"
}
local f0_local13 = {
	REDEEMING = 3,
	UPSELLING = 5,
	ONBOARDING_PT1 = 2,
	PENDING = 1,
	ONBOARDING_PT2 = 4,
	NONE = 0
}
local f0_local14 = function ( f159_arg0, f159_arg1 )
	f159_arg0.LeftArrow:SetAlpha( 0 )
	f159_arg0.RightArrow:SetAlpha( 0 )
	f159_arg0.LeftPrompt:SetAlpha( 0 )
	f159_arg0.RightPrompt:SetAlpha( 0 )
end

local f0_local15 = function ( f157_arg0, f157_arg1, f157_arg2 )
	local f157_local0 = f157_arg0:Wait( f157_arg2 )
	f157_local0.onComplete = function ()
		local f158_local0, f158_local1, f158_local2, f158_local3 = f157_arg0:getLocalRect()
		f157_arg0:SetBottom( f158_local1 + f157_arg0 * _1080p, 0 )
	end
	
end

local f0_local16 = function ( f156_arg0, f156_arg1, f156_arg2 )
	if f156_arg0.WeaponAttributes then
		f156_arg0.WeaponAttributes:SetAlpha( 0 )
		if f156_arg1 == LOOT.itemTypes.WEAPON and f156_arg2 and 0 < #f156_arg2 then
			local f156_local0, f156_local1 = nil
			local f156_local2 = LOOT.GetItemRef( f156_arg1, f156_arg2 )
			if f156_local2 and 0 < #f156_local2 then
				f156_local0 = WEAPON.GenerateWeaponTableFromRef( f156_local2 )
				local f156_local3 = WEAPON.GetVariantRef( f156_arg2 )
				if f156_local3 and 0 < #f156_local3 then
					local f156_local4 = WEAPON.GetVariantFile( f156_local2 )
					f156_local1 = WEAPON.GetLootModTable( f156_arg0._controllerIndex, f156_local2, f156_arg2, CSV.ReadRowWithFile( CSV.weaponVariants, f156_local4, StringTable.BJJBBCJGEJ( f156_local4, CSV.weaponVariants.cols.ref, f156_local3 ) ) )
				end
			end
			if f156_local0 and f156_local1 and f156_local1.attachments and 0 <= #f156_local1.attachments then
				f156_arg0.WeaponAttributes:Setup( f156_local1, f156_local2, f156_local0 )
			end
		end
	end
end

local f0_local17 = function ( f155_arg0 )
	local f155_local0 = f155_arg0:GetCurrentMenu( f155_arg0 )
	if f155_local0.MPTabsMenu and f155_local0.MPTabsMenu.UpdateTabBreadcrumbs then
		f155_local0.MPTabsMenu:UpdateTabBreadcrumbs( f155_arg0._controllerIndex )
	end
end

local f0_local18 = function ( f154_arg0, f154_arg1 )
	local f154_local0 = LOOT.GetRarityColor( tonumber( f154_arg1.rarity ) )
	local f154_local1 = LOOT.GetLootQualityString( tonumber( f154_arg1.rarity ) )
	local f154_local2 = f154_arg1.type == LOOT.itemTypes.CONSUMABLE
	local f154_local3 = f154_arg1.className
	if f154_arg1.type == LOOT.itemTypes.WEAPON then
		if f154_arg1.IsVariant then
			f154_local3 = Engine.CBBHFCGDIC( "BATTLEPASS/BLUEPRINT_WITH_TYPE", WEAPON.GetSubClass( f154_arg1.ref ) )
		else
			f154_local3 = "LOOT_MP/ITEM_TYPE_WEAPON"
		end
	elseif f154_arg1.type == LOOT.itemTypes.FEATURE then
		if f154_arg1.amount or f154_arg1.duration then
			f154_local3 = "LOOT_MP/CONSUMABLE"
			f154_local2 = true
		elseif f154_arg1.isOperatorChallenge then
			f154_local3 = "LUA_MENU/OPERATOR_MISSIONS"
		end
	end
	f154_arg0.QualityText:setText( Engine.CBBHFCGDIC( "BATTLEPASS/RARITY_AND_TYPE", f154_local1, f154_local3 ) )
	f154_arg0.QualityText:SetRGBFromTable( f154_local0 )
	local f154_local4 = f154_arg0._currentChild.itemData.lootTable[f154_arg0._lootIndex]
	local f154_local5 = f154_local4._gameSourceId
	local f154_local6 = f154_local4.lootID
	local f154_local7 = f154_local6 == LOOT.COD_POINTS_ITEM_ID
	local f154_local8
	if not f154_local5 then
		f154_local8 = not f154_local2
	else
		f154_local8 = false
	end
	if f154_local8 then
		f154_arg0.ExclusiveSnipeIcon:UpdateExclusiveSnipeIcon( {
			selected = true,
			gameSourceExclusivityID = LOOT.itemSourceExclusivity.CW_WZ
		} )
	elseif f154_local5 and not f154_local7 then
		if f154_local6 then
			f154_arg0.ExclusiveSnipeIcon:UpdateExclusiveSnipeIcon( {
				selected = true,
				gameSourceExclusivityID = LOOT.GetGameSourceExclusivityByItemID( f154_local6 )
			} )
		else
			f154_arg0.ExclusiveSnipeIcon:UpdateExclusiveSnipeIcon( {
				selected = true,
				isExclusive = true,
				gameSourceID = f154_local5
			} )
		end
	else
		ACTIONS.AnimateSequence( f154_arg0.ExclusiveSnipeIcon, "Hide" )
	end
	local f154_local9 = LAYOUT.GetTextWidth( f154_arg0.QualityText )
	local f154_local10, f154_local11, f154_local12, f154_local13 = f154_arg0.QualityText:getLocalRect()
	f154_arg0.ExclusiveSnipeIcon:SetLeft( f154_local10 + f154_local9 + 70 * _1080p )
	f154_arg0.RarityIcon:setImage( RegisterMaterial(), LOOT.GetRarityImage( tonumber( f154_arg1.rarity ) ) )
	f154_arg0.RarityIcon:SetRGBFromTable( f154_local0 )
end

local f0_local19 = function ( f153_arg0, f153_arg1, f153_arg2, f153_arg3 )
	local f153_local0 = 26
	if f153_arg1.type == LOOT.itemTypes.WEAPON then
		if f153_arg3 then
			f153_arg0.WeaponDescription:setText( WEAPON.GetDesc( f153_arg1.ref ) )
			f0_local0( f153_arg0, f153_arg1.type, f153_arg1.itemID )
			ACTIONS.AnimateSequence( f153_arg0, "WeaponDetails" )
			if f153_arg0.BattlePassPurchaseButton then
				f153_arg0.BattlePassPurchaseButton._showTooltip = false
				f153_arg0.BattlePassPurchaseButton:UpdateTooltip()
			end
			if IsLanguageArabic() then
				local f153_local1 = 180
				f0_local0( f153_arg0.UnlockCriteria, f153_local0, f153_local1 )
				f0_local0( f153_arg0.DetailsPrompt, f153_local0, f153_local1 )
				f0_local0( f153_arg0.WeaponDescription, f153_local0, f153_local1 )
			end
		else
			if f153_arg0.SpecialWeaponAttributeWithText:SetupWeaponAttribute( f153_arg1.itemID ) then
				ACTIONS.AnimateSequence( f153_arg0, "WeaponPreviewWithAttribute" )
			else
				ACTIONS.AnimateSequence( f153_arg0, "WeaponPreview" )
			end
			if f153_arg0.BattlePassPurchaseButton then
				f153_arg0.BattlePassPurchaseButton._showTooltip = true
				f153_arg0.BattlePassPurchaseButton:UpdateTooltip()
			end
			if IsLanguageArabic() then
				local f153_local2 = 180
				f0_local0( f153_arg0.UnlockCriteria, f153_local0, f153_local2 )
				f0_local0( f153_arg0.DetailsPrompt, f153_local0, f153_local2 )
			end
		end
	elseif f153_arg2.lootTable[f153_arg0._lootIndex].challengeID and f153_arg2.lootTable[f153_arg0._lootIndex].challengeID ~= "" then
		local f153_local1 = Challenge.GetNameFromRef( f153_arg2.lootTable[f153_arg0._lootIndex].challengeID, Challenge.Type.MISSION )
		if f153_local1 then
			f153_arg0.MissionTag:SetupMissionTag( f153_arg1.rarityColor, f153_local1 )
			f153_arg0.MissionTag:SetAlpha( 0, 0 )
			f153_arg0.MissionTag:SetAlpha( 1, 150 )
		else
			f153_arg0.MissionTag:SetAlpha( 0, 150 )
		end
		ACTIONS.AnimateSequence( f153_arg0, "MissionPreview" )
		if IsLanguageArabic() then
			f0_local0( f153_arg0.UnlockCriteria, f153_local0, 180 )
		end
	elseif f153_arg1.type == LOOT.itemTypes.CONSUMABLE then
		f153_arg0.WeaponDescription:setText( f153_arg1.duration )
		ACTIONS.AnimateSequence( f153_arg0, "ConsumablePreview" )
		if IsLanguageArabic() then
			local f153_local1 = 180
			f0_local0( f153_arg0.UnlockCriteria, f153_local0, f153_local1 )
			f0_local0( f153_arg0.WeaponDescription, f153_local0 + 8, f153_local1 )
		end
	elseif f153_arg1.type == LOOT.itemTypes.FEATURE then
		f153_arg0.WeaponDescription:setText( LOOT.GetFeatureItemDesc( f153_arg1.ref ) )
		ACTIONS.AnimateSequence( f153_arg0, "ConsumablePreview" )
		if IsLanguageArabic() then
			local f153_local1 = 180
			f0_local0( f153_arg0.UnlockCriteria, f153_local0, f153_local1 )
			f0_local0( f153_arg0.WeaponDescription, f153_local0 + 8, f153_local1 )
		end
	else
		ACTIONS.AnimateSequence( f153_arg0, "ItemPreview" )
		if IsLanguageArabic() then
			f0_local0( f153_arg0.UnlockCriteria, f153_local0, 180 )
		end
	end
	if f153_arg0._isStandalone and f153_arg0.BattlePassPurchaseButton then
		f153_arg0.BattlePassPurchaseButton:SetAlpha( 0 )
		f153_arg0.BattlePassPurchaseButton:SetFocusable( false )
	end
end

local f0_local20 = function ( f152_arg0, f152_arg1 )
	if f152_arg1.controller == f152_arg0._controllerIndex then
		if f152_arg0._currentChild then
			f152_arg0._isExpanded = not f152_arg0._isExpanded
			f0_local0( f152_arg0, f152_arg0._currentChild.lootData, f152_arg0._currentChild.itemData, f152_arg0._isExpanded )
			if f152_arg0._currentChild.lootData.type == LOOT.itemTypes.WEAPON then
				Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
			end
		end
		if f152_arg0._missionChallengeID then
			Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
			if not f152_arg0._missionChallengeData then
				if Engine.BHICADFIHA() then
					LUI.FlowManager.RequestPopupMenu( f152_arg0, "PopupOK", true, f152_arg1.controller, false, {
						message = "Could not get missionChallengeData, likely missing SkinID for missionChallenge: " .. f152_arg0._missionChallengeID
					} )
				else
					f152_arg0:OpenBattlePassPopup()
					assert( false, "[BattlePassMenu] Error: Could not get missionChallengeData, likely missing SkinID for missionChallenge: " .. f152_arg0._missionChallengeID )
				end
				return 
			elseif f152_arg0._missionChallengeData.category == "OPERATOR" then
				local f152_local0 = StringTable.DIFCHIGDFB( CSV.questChallenges.file, CSV.questChallenges.cols.ref, f152_arg0._missionChallengeID, CSV.questChallenges.cols.id )
				if f152_local0 and 0 < #f152_local0 then
					LUI.FlowManager.RequestAddMenu( "OperatorMissions", true, f152_arg0._controllerIndex, false, {
						singleMissionOverride = true,
						challengeID = f152_local0,
						skinLootId = f152_arg0._missionChallengeData.loot
					} )
				end
			end
		end
	end
end

local f0_local21 = function ( f151_arg0, f151_arg1 )
	if Dvar.IBEGCHEFE( "OLNMSNSTKS" ) then
		LUI.FlowManager.RequestPopupMenu( f151_arg0, "CreatorCodePopup", true, f151_arg1.controller, false, options )
	end
end

local f0_local22 = function ( f150_arg0, f150_arg1 )
	if not f150_arg0._isAnimating then
		Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
		if f150_arg0._battlePassOwned then
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f150_arg0._controllerIndex, false, {
				skipDelay = true
			} )
		else
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f150_arg0._controllerIndex, false, {
				skipDelay = true,
				closeAction = OpenUpsellPopup,
				menu = f150_arg0
			} )
		end
	end
end

local f0_local23 = function ( f149_arg0 )
	f149_arg0.bindButton:processEvent( {
		name = "button_alt2"
	} )
end

local f0_local24 = function ( f148_arg0, f148_arg1 )
	local f148_local0 = f148_arg1.lootData
	local f148_local1
	if f148_local0 then
		f148_local1 = f148_local0
	else
		f148_local1 = f148_local0.isOperatorChallengeReward
	end
	if f148_local1 then
		local f148_local2
		if f148_local0 then
			f148_local2 = f148_local0
		else
			f148_local2 = f148_local0.isLocked
		end
		if f148_local2 then
			f148_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/OPERATOR_CHALLENGE_UNLOCK_MESSAGE", f148_local0.operatorChallengeName or "" ) )
			ACTIONS.AnimateSequence( f148_arg0, "IsLocked" )
		else
			ACTIONS.AnimateSequence( f148_arg0, "NotLocked" )
		end
	elseif f148_arg1._isLocked then
		if not f148_arg1._isOwned and f148_arg1._level ~= nil then
			if f148_arg0._battlePassOwned then
				f148_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_INCOMPLETE", f148_arg1._level ) )
			else
				f148_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_INCOMPLETE_WITH_BATTLEPASS", f148_arg1._level ) )
			end
		elseif f148_arg1._isBundleBonus then
			f148_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_WITH_BATTLEPASS_BUNDLE" ) )
		else
			f148_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_WITH_BATTLEPASS" ) )
		end
		ACTIONS.AnimateSequence( f148_arg0, "IsLocked" )
	else
		ACTIONS.AnimateSequence( f148_arg0, "NotLocked" )
	end
end

local f0_local25 = function ( f147_arg0 )
	local f147_local0 = {}
	local f147_local1 = f147_arg0.Name:GetCurrentAnchorsAndPositions()
	f147_local0.leftOffset = f147_local1.left
	f147_local0.nameWidth = LAYOUT.GetRawTextWidth( f147_arg0.Name, f0_local0, f147_arg0._controllerIndex )
	f147_local0.bluePrintIconWidth = 0
	return f147_local0
end

local f0_local26 = function ( f146_arg0, f146_arg1, f146_arg2 )
	if f146_arg1.type == LOOT.itemTypes.WEAPON then
		local f146_local0 = ACTIONS.AnimateSequence
		local f146_local1 = f146_arg0
		local f146_local2
		if f146_arg1.IsVariant then
			f146_local2 = "IsBlueprint"
		else
			f146_local2 = "IsBaseWeapon"
		end
		f146_local0( f146_local1, f146_local2 )
		if f146_arg0._delayBlueprintIcon then
			f146_local0 = 1
		else
			f146_local0 = 0
		end
		f146_arg2.bluePrintIconWidth = LAYOUT.GetElementWidth( f146_arg0.BlueprintIcon ) / _1080p
		local f146_local3 = (f146_arg2.nameWidth + f0_local0) * _1080p + f146_arg2.leftOffset
		f146_local1 = f146_local3 + f146_arg2.bluePrintIconWidth * _1080p
		f146_arg0.BlueprintIcon:SetLeft( f146_local3, f146_local0 )
		f146_arg0.BlueprintIcon:SetRight( f146_local1, f146_local0 )
		f146_arg0.BlueprintIcon:SetAlpha( 1, f146_local0 )
	else
		f146_arg0.BlueprintIcon:SetAlpha( 0 )
	end
end

local f0_local27 = function ( f145_arg0, f145_arg1, f145_arg2 )
	local f145_local0 = 180
	if LOOT.HasReactiveCamo( f145_arg1.itemID ) then
		local f145_local1 = f145_arg2.bluePrintIconWidth
		local f145_local2 = f0_local0
		local f145_local3
		if f145_local1 ~= 0 then
			f145_local3 = f0_local0
			if not f145_local3 then
			
			else
				f145_local3 = f145_arg2.leftOffset + f145_arg2.nameWidth + f145_local1 + f145_local2 + f145_local3
				f145_arg0.ReactiveIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * f145_local3, _1080p * (f145_local3 + f145_local0), _1080p * 244, _1080p * 324 )
				f145_arg0.ReactiveIcon:SetAlpha( 1 )
			end
		end
		f145_local3 = 0
	else
		f145_arg0.ReactiveIcon:SetAlpha( 0 )
	end
end

local f0_local28 = function ( f142_arg0, f142_arg1 )
	f142_arg0._isExpanded = false
	local f142_local0 = f142_arg1.itemData
	local f142_local1
	if f142_local0 then
		f142_local1 = f142_local0
	else
		f142_local1 = next( f142_local0 ) ~= nil
	end
	if not f142_local1 then
		
	else
		
	end
	f142_arg0._billboardMaterial = nil
	local f142_local2 = f142_local0.lootTable[f142_arg0._lootIndex].billboardImage
	if f142_local2 and 0 < #f142_local2 then
		f142_arg0._billboardMaterial = RegisterMaterial( f142_local2 )
	end
	if f142_arg0.BillboardImg:GetImage() == f142_arg0._billboardMaterial then
		
	else
		
	end
	f142_arg0._itemSelectionComplete = false
	local f142_local3 = f142_arg0.Background:Wait( f0_local0 - 10, true )
	f142_local3.onComplete = function ()
		f142_arg0._itemSelectionComplete = true
	end
	
	assert( f142_arg0.FadeCover )
	local f142_local4 = f142_arg0._itemSelectionComplete and f0_local0 or 10
	if not f142_arg0._prevImage then
		f142_local4 = 0
	end
	f142_arg0.FadeCover:SetAlpha( 1, f142_local4, LUI.EASING.inQuadratic )
	local f142_local5 = f142_arg0.FadeCover:Wait( f0_local0, true )
	f142_local5.onComplete = function ()
		if f142_arg0._itemSelectionComplete then
			assert( f142_arg0.BillboardImg )
			if f142_arg0._billboardMaterial then
				f142_arg0.BillboardImg:setImage( f142_arg0._billboardMaterial )
				f142_arg0.BillboardImg:SetAlpha( 1 )
			else
				f142_arg0.BillboardImg:SetAlpha( 0 )
			end
			f142_arg0.FadeCover:SetAlpha( 0, f142_arg0, LUI.EASING.outQuadratic )
			f142_arg0._prevImage = f142_arg0._billboardMaterial
		end
	end
	
	local f142_local6 = f142_arg1.lootData
	local f142_local7
	if f142_local6 then
		f142_local7 = f142_local6
	else
		f142_local7 = next( f142_local6 ) ~= nil
	end
	if not f142_local7 then
		return 
	end
	local f142_local8 = f142_arg0.Name
	local f142_local9 = f142_local8
	f142_local8 = f142_local8.setText
	local f142_local10 = ToUpperCase
	local f142_local11 = f142_local6.name
	if not f142_local11 then
		f142_local11 = ""
	end
	f142_local8( f142_local9, f142_local10( f142_local11 ) )
	f142_local8 = f0_local0( f142_arg0 )
	f0_local0( f142_arg0, f142_local6 )
	f0_local0( f142_arg0, f142_local6, f142_local8 )
	f0_local0( f142_arg0, f142_local6, f142_local8 )
	f0_local0( f142_arg0, f142_local6, f142_local0, false )
end

local f0_local29 = function ( f141_arg0, f141_arg1 )
	if f141_arg1 == 0 then
		return BATTLEPASS.NumBonusItems
	elseif f141_arg1 == f141_arg0._maxBattlePassLevel then
		return #f141_arg0._battlePassData
	end
	for f141_local3, f141_local4 in ipairs( f141_arg0._battlePassData ) do
		if f141_arg1 == tonumber( f141_local4.level ) and f141_local4.showProgress then
			return f141_local3
		end
	end
end

local f0_local30 = function ( f140_arg0, f140_arg1 )
	for f140_local4, f140_local5 in ipairs( f140_arg0._battlePassData[f140_arg1].lootTable ) do
		local f140_local3
		if f140_local5 then
			f140_local3 = f140_local5
		else
			f140_local3 = f140_local5.lootID
		end
		if f140_local3 and LOOT.IsItemIDEquippableByS4( f140_local3 ) then
			return true
		end
	end
	return false
end

local f0_local31 = function ( f139_arg0, f139_arg1 )
	local f139_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	if not f139_local0.battlepassSelectedColumn then
		f139_local0.battlepassSelectedColumn = #f139_arg0._battlePassData - 1
		for f139_local4, f139_local5 in ipairs( f139_arg0._battlePassData ) do
			local f139_local6 = tonumber( f139_local5.level )
			if f139_arg0._battlePassXP < tonumber( f139_local5.xp ) then
				f139_local0.battlepassSelectedColumn = f139_local4 - 1
				f139_arg0._currentLevel = f139_local6 - 1
				break
			end
		end
	end
	f139_arg0.Grid:SetDefaultFocus( {
		y = 0,
		x = f139_local0.battlepassSelectedColumn
	}, f139_arg1 )
end

local f0_local32 = function ( f138_arg0, f138_arg1 )
	if f138_arg0._isStandalone then
		return 
	end
	local f138_local0 = BATTLEPASS.GetTier( f138_arg0._controllerIndex )
	f138_arg1 = tonumber( f138_arg1 )
	f138_arg0._purchaseEnabled = not f138_arg0._battlePassOwned
	if f138_arg0._needFixUp then
		f138_arg0._purchaseEnabled = true
		if f138_arg0.BattlePassPurchaseButton then
			f138_arg0.BattlePassPurchaseButton:UpdateButtonState( f138_arg0._battlePassOwned, true, f138_arg0._currentLevel, f138_arg0._needFixUp )
		end
	elseif f138_arg0._battlePassOwned and f138_arg1 then
		local f138_local1 = f138_arg1 - f138_local0
		local f138_local2
		if 0 < f138_arg1 and 0 < f138_local1 and f138_local0 < f138_arg0._maxBattlePassLevel then
			f138_local2 = Dvar.IBEGCHEFE( "MMQLPLSNOM" )
			if f138_local2 then
				if f138_arg1 == BATTLEPASS.BUNDLE_TOPPER_ITEM_LEVEL then
					f138_local2 = false
				else
					f138_local2 = true
				end
			end
		else
			f138_local2 = false
		end
		if f138_local2 then
			f138_arg0._tierSkips = f138_local1
			f138_arg0._purchaseEnabled = true
			local f138_local3 = BATTLEPASS.SINGLE_TIER_COST
			if CONDITIONS.IsTierSaleEnabled() then
				f138_local3 = Dvar.CFHDGABACF( "MOKSKKQRLK" )
			end
			f138_arg0._itemCost = f138_arg0._tierSkips * f138_local3
			local f138_local4 = Engine.CBBHFCGDIC
			local f138_local5
			if f138_arg0._tierSkips == 1 then
				f138_local5 = "MENU/BUY_TIER_SINGLE"
			else
				f138_local5 = "MENU/BUY_TIERS_MULTIPLE"
			end
			f138_local4 = f138_local4( f138_local5, f138_arg0._tierSkips )
			if f138_arg0.BattlePassPurchaseButton then
				f138_arg0.BattlePassPurchaseButton.PurchaseText:setText( ToUpperCase( f138_local4 ) )
			end
		else
			f138_arg0._tierSkips = 0
			f138_arg0._itemCost = 0
			f138_arg0._purchaseEnabled = false
		end
		if f138_arg0.BattlePassPurchaseButton then
			f138_arg0.BattlePassPurchaseButton:UpdateButtonState( f138_arg0._battlePassOwned, not f138_local2, f138_local0 )
		end
	elseif f138_arg0.BattlePassPurchaseButton then
		f138_arg0.BattlePassPurchaseButton:UpdateButtonState( f138_arg0._battlePassOwned, true, f138_local0 )
	end
	local f138_local1 = f138_arg0._purchaseEnabled
	if f138_local1 then
		f138_local1 = not f138_arg0._isAnimating
	end
	f138_arg0._purchaseEnabled = f138_local1
end

local f0_local33 = function ( f137_arg0 )
	f0_local0( f137_arg0, f137_arg0._currentChild )
	f0_local0( f137_arg0, f137_arg0._currentChild.itemData.level )
	f0_local0( f137_arg0, f137_arg0._currentChild )
	if f137_arg0._currentChild.itemData.lootTable[f137_arg0._lootIndex].challengeID and f137_arg0._currentChild.itemData.lootTable[f137_arg0._lootIndex].challengeID ~= "" then
		f137_arg0._missionChallengeID = f137_arg0._currentChild.itemData.lootTable[f137_arg0._lootIndex].challengeID
		local f137_local0 = false
		local f137_local1 = Challenge.GetMissionDataByRef( f137_arg0._controllerIndex, f137_arg0._missionChallengeID )
		if f137_local1 then
			
		else
			
		end
		if not f137_local0 then
			DebugPrint( "Could not find skin id in mission chain for " .. f137_arg0._missionChallengeID )
		end
		f137_arg0._missionChallengeData = f137_local1
	else
		f137_arg0._missionChallengeID = nil
		f137_arg0._missionChallengeData = nil
	end
	local f137_local0 = f137_arg0._currentChild.lootData.type
	if f137_arg0._currentMenu then
		local f137_local1 = f137_arg0._currentMenu.PopupHelperBar
		if f137_arg0._isAnimating then
			if f137_local1 then
				f137_local1.ButtonHelperText:PopButtonPrompt( {
					button_ref = "button_alt2"
				} )
			end
			if not CONDITIONS.IsGiftingEnabled() or not f137_arg0._battlePassOwned then
				f137_arg0:RemoveButtonPrompt( {
					helper_text = nil,
					button_ref = "button_alt2"
				} )
			end
		end
		if f137_arg0._isAnimating or not LOOT.CanPreview( f137_local0, f137_arg0._currentChild.lootData.itemID ) then
			if f137_arg0._isBattlePassPopup and f137_arg0._currentMenu.UpdatePrompts then
				f137_arg0._currentMenu:UpdatePrompts( false )
			else
				f137_arg0:RemoveButtonPrompt( {
					side = "left",
					button_ref = "button_primary",
					helper_text = nil
				} )
			end
		elseif f137_arg0._isBattlePassPopup and f137_arg0._currentMenu.UpdatePrompts then
			f137_arg0._currentMenu:UpdatePrompts( true )
		else
			f137_arg0:AddButtonPrompt( {
				side = "left",
				button_ref = "button_primary",
				priority = 2,
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU/PREVIEW" )
			} )
		end
	end
end

local f0_local34 = function ( f136_arg0, f136_arg1, f136_arg2 )
	if f136_arg1 then
		f136_arg0._battlePassXP = f136_arg1
		f136_arg0._previousXP = f136_arg0._battlePassXP
	end
	local f136_local0 = BATTLEPASS.GetXP( f136_arg0._controllerIndex )
	if f136_arg2 then
		f136_local0 = f136_arg2
	end
	f136_arg0._finalXP = f136_local0
	if f136_local0 < f136_arg0._battlePassXP then
		f136_arg0._battlePassXP = 0
		f136_arg0._previousXP = 0
	end
	if f136_local0 == f136_arg0._battlePassXP then
		return 
	else
		f136_arg0._previousLevel = BATTLEPASS.GetTierByXP( f136_arg0._controllerIndex, f136_arg0._previousXP )
		local f136_local1 = BATTLEPASS.GetTierByXP( f136_arg0._controllerIndex, f136_local0 )
		local f136_local2 = f0_local0( f136_arg0, f136_arg0._previousLevel )
		local f136_local3 = f0_local0( f136_arg0, f136_local1 )
		f136_local2 = LUI.clamp( f136_local2, 0, #f136_arg0._battlePassData - 1 )
		f136_local3 = LUI.clamp( f136_local3, 0, #f136_arg0._battlePassData - 1 )
		f136_arg0._purchaseEnabled = false
		f136_arg0.TierPurchaseBG:SetAlpha( 1 )
		f136_arg0.TierPurchaseBG:StartAnimation()
		f136_arg0:AnimateUnlocks( f136_local2, f136_local3, false )
	end
end

local f0_local35 = function ( f135_arg0, f135_arg1, f135_arg2, f135_arg3 )
	f135_arg0._battlePassXP = f135_arg1
	f135_arg0._previousXP = f135_arg1
	f135_arg0._finalXP = f135_arg2
	f135_arg0._previousLevel = BATTLEPASS.GetTierByXP( f135_arg0._controllerIndex, f135_arg0._previousXP )
	local f135_local0 = BATTLEPASS.GetTierByXP( f135_arg0._controllerIndex, f135_arg2 )
	local f135_local1 = f0_local0( f135_arg0, f135_arg0._previousLevel )
	local f135_local2 = f0_local0( f135_arg0, f135_local0 )
	f135_local1 = LUI.clamp( f135_local1, 0, #f135_arg0._battlePassData - 1 )
	f135_local2 = LUI.clamp( f135_local2, 0, #f135_arg0._battlePassData - 1 )
	f135_arg0._purchaseEnabled = false
	f135_arg0._isAnimating = false
	f135_arg0._aarFillWaitTime = f135_arg3
	f135_arg0.TierPurchaseBG:SetAlpha( 1 )
	f135_arg0.TierPurchaseBG:StartAnimation()
	f135_arg0:AnimateUnlocks( f135_local1, f135_local2, false, true )
end

local f0_local36 = function ( f134_arg0 )
	local f134_local0 = BATTLEPASS.HasNewPassForSeason( f134_arg0._controllerIndex )
	local f134_local1, f134_local2 = BATTLEPASS.IsPendingTransactions( f134_arg0._controllerIndex )
	local f134_local3 = BATTLEPASS.IsOwned( f134_arg0._controllerIndex )
	local f134_local4
	if f134_arg0._BRRewardState ~= f0_local0.NONE and f134_arg0._BRRewardState ~= f0_local0.UPSELLING then
		f134_local4 = false
	else
		f134_local4 = true
	end
	local f134_local5
	if not f134_local0 or f134_local1 or f134_local3 or not f134_local4 or f134_arg0._crmPurchaseBattlePass then
		f134_local5 = Dvar.IBEGCHEFE( "battlepass_always_show_upsell" )
		if f134_local5 then
			f134_local5 = not f134_arg0._upsellSeen
		end
	else
		f134_local5 = true
	end
	return f134_local5
end

local f0_local37 = function ( f133_arg0, f133_arg1 )
	if CONDITIONS.IsQABotSkipActive() then
		return 
	else
		f133_arg0._upsellSeen = true
		LUI.FlowManager.RequestPopupMenu( f133_arg0, "BattlePassUpsellPopup", true, f133_arg0._controllerIndex, false, {
			sourceMenu = f133_arg0,
			backLeavesBPMenuPopup = f133_arg1
		} )
	end
end

local f0_local38 = function ( f131_arg0, f131_arg1, f131_arg2 )
	local f131_local0 = {
		title = Engine.CBBHFCGDIC( "MENU/ERROR" ),
		message = f131_arg1
	}
	local f131_local1
	if not f131_arg2 then
		f131_local1 = f131_arg2
	else
		f131_local1 = function ()
			if f131_arg0._purchaseBattlePassInAAR then
				ACTIONS.LeaveMenu( f131_arg0 )
				if AAR.IsAnyNonXPParadeAvailable( f131_arg0._controllerIndex ) then
					LUI.FlowManager.RequestAddMenu( "AARContainer", true, f131_arg0._controllerIndex, false, {
						fromBattlepassAAR = true,
						controller = controllerIndex
					} )
				end
			else
				f131_arg0.Grid:RefreshContent()
			end
		end
		
	end
	f131_local0.action = f131_local1
	LUI.FlowManager.RequestPopupMenu( nil, "PopupOK", true, f131_arg0._controllerIndex, false, f131_local0, nil, false, true )
end

local f0_local39 = function ( f130_arg0, f130_arg1, f130_arg2, f130_arg3, f130_arg4 )
	local f130_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	local f130_local1 = AAR.GetDebugMatchInfoPackageString( f130_arg1 )
	local f130_local2 = "current position "
	local f130_local3 = tostring( f130_arg2 )
	local f130_local4 = " \n start position "
	local f130_local5 = tostring( f130_arg3 )
	local f130_local6 = " \n end position "
	local f130_local7 = tostring( f130_arg4 )
	local f130_local8 = " \n previous xp "
	local f130_local9 = tostring( f130_arg0._previousXP )
	local f130_local10 = " \n previous level "
	local f130_local11 = tostring( f130_arg0._previousLevel )
	local f130_local12 = " \n current level "
	local f130_local13 = tostring( f130_arg0._currentLevel )
	local f130_local14 = " \n battle pass xp "
	local f130_local15 = tostring( f130_arg0._battlePassXP )
	local f130_local16 = " \n scoped data colum "
	local f130_local17 = tostring
	local f130_local18
	if f130_local0 then
		f130_local18 = f130_local0.battlepassSelectedColumn
		if not f130_local18 then
		
		else
			DebugPrint( "$$$ Battle Pass Menu AAR State: " .. f130_local1 .. f130_local2 .. f130_local3 .. f130_local4 .. f130_local5 .. f130_local6 .. f130_local7 .. f130_local8 .. f130_local9 .. f130_local10 .. f130_local11 .. f130_local12 .. f130_local13 .. f130_local14 .. f130_local15 .. f130_local16 .. f130_local17( f130_local18 ) )
		end
	end
	f130_local18 = "-1"
end

local f0_local40 = function ( f129_arg0 )
	if Onboarding.BattlePass.WasCompleted( f129_arg0, f129_arg0._controllerIndex ) then
		f129_arg0._bpGiftWaitTimer:closeTree()
		f129_arg0._bpGiftWaitTimer = nil
		GIFT.ProcessQueuedBattlepassGifts( f129_arg0._controllerIndex )
	end
end

local f0_local41 = function ( f127_arg0 )
	if f127_arg0._bpGiftWaitTimer ~= nil then
		f127_arg0._bpGiftWaitTimer:closeTree()
		f127_arg0._bpGiftWaitTimer = nil
	end
	f127_arg0._bpGiftWaitTimer = LUI.UITimer.new( {
		interval = 1000,
		event = "bp_wait_for_bp_onboarding"
	} )
	f127_arg0._bpGiftWaitTimer.id = "bpWaitForBPOnboarding"
	f127_arg0:addElement( f127_arg0._bpGiftWaitTimer )
	f127_arg0:addAndCallEventHandler( "bp_wait_for_bp_onboarding", function ( f128_arg0, f128_arg1 )
		f127_arg0( f127_arg0 )
	end )
end

local f0_local42 = function ( f120_arg0, f120_arg1, f120_arg2, f120_arg3, f120_arg4 )
	if f120_arg0._isAnimating then
		
	else
		
	end
	local f120_local0 = {
		START = 0,
		FILL = 2,
		FLARE = 3,
		END = 5,
		GRID = 1,
		DELAY = 4
	}
	local f120_local1 = {
		[f120_local0.START] = 1
	}
	local f120_local2 = f120_local0.GRID
	local f120_local3
	if f120_arg3 then
		f120_local3 = 50
	else
		f120_local3 = 100
	end
	f120_local1[f120_local2] = f120_local3
	f120_local2 = f120_local0.FILL
	if f120_arg3 then
		f120_local3 = 50
	else
		f120_local3 = 100
	end
	f120_local1[f120_local2] = f120_local3
	f120_local2 = f120_local0.FLARE
	if f120_arg3 then
		f120_local3 = 100
	else
		f120_local3 = 600
	end
	f120_local1[f120_local2] = f120_local3
	f120_local2 = f120_local0.DELAY
	if f120_arg3 then
		f120_local3 = 50
	else
		f120_local3 = 200
	end
	f120_local1[f120_local2] = f120_local3
	f120_local1[f120_local0.END] = 1
	if f120_arg4 then
		f120_local1[f120_local0.FILL] = f120_arg0._aarFillWaitTime and f120_arg0._aarFillWaitTime or f120_local1[f120_local0.FILL]
	end
	f120_local2 = function ( f126_arg0, f126_arg1 )
		f120_arg0.Grid:SetFocusedPosition( {
			y = 0,
			x = f126_arg0
		}, f126_arg1, nil, false )
		return f120_arg0.Grid:GetElementAtPosition( f126_arg0, 0 )
	end
	
	f120_local3 = nil
	local f120_local4 = f120_arg1
	local f120_local5 = nil
	local f120_local6 = f120_arg1 + 1
	local f120_local7 = tonumber( f120_arg0._battlePassData[f120_arg1 + 1].level )
	local f120_local8 = f120_arg0._finalXP and f120_arg0._finalXP or BATTLEPASS.GetXP( f120_arg0._controllerIndex )
	local f120_local9 = BATTLEPASS.GetTierMaxXP( f120_arg0._maxBattlePassLevel )
	f120_arg0._isAnimating = true
	f120_arg0._skipAnimationEnabled = true
	f120_arg0.Grid:SetDirectionalInputEnabled( false )
	f120_arg0.Grid:SetMouseFocusBlocker( true )
	f120_arg0.HorizontalScrollbar:SetAlpha( 0 )
	f120_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( true )
	local f120_local10
	if LUI.IsLastInputKeyboardMouse( f120_arg0._controllerIndex ) then
		f120_local10 = "BATTLEPASS/SKIP_CELEBRATION_KBM_PROMPT"
	else
		f120_local10 = "BATTLEPASS/SKIP_CELEBRATION_PROMPT"
	end
	f120_arg0.PromptContainer:setText( Engine.CBBHFCGDIC( f120_local10 ) )
	local f120_local11
	if f120_arg3 then
		f120_local11 = BATTLEPASS.GetTierMinXP( 0 and f120_local7 - 1 or 0 )
		if not f120_local11 then
		
		else
			f120_arg0._battlePassXP = f120_local11
			f120_arg0.Grid:RefreshContent()
			f0_local0( f120_arg0 )
			f120_local11 = nil
			f120_local11 = function ()
				if not f120_arg0 then
					f120_arg0 = f120_arg0.START
				else
					f120_arg0 = f120_arg0 + 1
					if f120_arg0 == f120_arg0.END and (f120_arg0 < f120_arg0 or f120_arg0._battlePassXP < f120_arg0 or f120_arg0 == f120_arg0 and f120_arg0 == f120_arg0) then
						f120_arg0 = f120_arg0.START
					end
				end
				if f120_arg0:GetCurrentMenu() then
					local f121_local0 = f120_arg0:GetCurrentMenu()
					f121_local0 = f121_local0.id
					local f121_local1 = LUI.FlowManager.GetVisibleMenu()
					if f121_local0 == f121_local1.id then
					
					else
						f120_arg0._skipAnimation = true
					end
				end
				if f120_arg0._purchaseBattlePassInAAR and not f120_arg0._purchaseBattlePassInAARSuccess then
					f120_arg0._skipAnimation = true
				end
				if f120_arg0._skipAnimation then
					f120_arg0._skipAnimation = false
					f120_arg0._skipAnimationEnabled = false
					if f120_arg0 then
						f120_arg0:EnableGlow( false )
						f120_arg0.BattlePassFlare:ClearFlare()
					end
					f120_arg0 = f120_arg0.END
					f120_arg0 = f120_arg0
					f120_arg0 = f120_arg0( f120_arg0, f120_arg0 == f120_arg0 )
					f120_arg0.BattlePassStatus:UpdateActiveBanner( f120_arg0._battlePassOwned )
				end
				if f120_arg0 == f120_arg0.START then
					f120_arg0 = f120_arg0( f120_arg0, f120_arg0 == f120_arg0 )
					if f120_arg0 then
						if not f120_arg0.itemData then
							DebugPrint( "BattlePassMenu:AnimateUnlocks: currentChild missing itemData, skipping animation\n" .. "\tstartPosition = " .. tostring( f120_arg0 ) .. ", currentPosition = " .. tostring( f120_arg0 ) .. ", endPosition = " .. tostring( f120_arg0 ) )
							f120_arg0._skipAnimation = true
							f120_arg0._forceDelayEnd = true
						else
							f120_arg0._forceDelayEnd = false
						end
						f120_arg0:SetBattlePassOwned( f120_arg0._battlePassOwned )
						f120_arg0:SetIsAnimating( true )
						if f120_arg0.itemData.showProgress and not f120_arg0._displayBattlePassInAAR then
							f120_arg0:EnableGlow( true )
						end
						if f120_arg0 then
							if f120_arg0 == f120_arg0 then
								Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseFirst )
							elseif f120_arg0 == f120_arg0 then
								Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseLast )
							else
								Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseCard )
							end
						end
					else
						f120_arg0( f120_arg0, f120_arg0._controllerIndex, f120_arg0, f120_arg0, f120_arg0 )
						assert( f120_arg0, "( currentChild == nil ) currentPosition = " .. f120_arg0 .. ", startPosition = " .. f120_arg0 )
						f120_arg0._skipAnimation = true
						f120_arg0._forceDelayEnd = true
					end
				elseif f120_arg0 == f120_arg0.FILL then
					local f121_local0 = 0
					local f121_local1 = tonumber( f120_arg0.itemData.level )
					local f121_local2 = BATTLEPASS.GetTierMinXP( f121_local1 )
					local f121_local3 = f121_local2
					if 0 < f121_local1 and f121_local1 ~= BATTLEPASS.BUNDLE_TOPPER_ITEM_LEVEL then
						f121_local3 = BATTLEPASS.GetTierMinXP( f121_local1 - 1 )
					end
					if f121_local2 <= f120_arg0 then
						f121_local0 = 1
						f120_arg0._battlePassXP = f121_local2
					else
						f121_local0 = (f120_arg0 - f121_local3) / (f121_local2 - f121_local3)
						f120_arg0._battlePassXP = f120_arg0
					end
					f120_arg0.progress = f121_local0
					if f120_arg0.itemData.showProgress then
						f120_arg0:SetProgress( f121_local0, f120_arg0[f120_arg0.FILL] )
					end
				elseif f120_arg0 == f120_arg0.FLARE then
					if f120_arg0.progress == 1 then
						local f121_local0 = f120_arg0.itemData.isFree == "1"
						f120_arg0:SetTopBanner( f121_local0, false, false )
						local f121_local1 = f120_arg0
						local f121_local3 = f121_local1
						f121_local1 = f121_local1.SetLocked
						local f121_local4
						if not f120_arg0._battlePassOwned then
							f121_local4 = not f121_local0
						else
							f121_local4 = false
						end
						f121_local1( f121_local3, f121_local4 )
						ACTIONS.AnimateSequence( f120_arg0, "NotLocked" )
						if f120_arg0 ~= f120_arg0 or f120_arg0 <= f120_arg0 then
							if f120_arg0:HasVanguardItem() then
								f120_arg0.BattlePassFlare:PlayVanguardFlare()
							elseif f120_arg0 then
								f120_arg0.BattlePassFlare:PlayPurchasedFlare()
							else
								f120_arg0.BattlePassFlare:PlayRarityFlare( f120_arg0.lootData.rarity )
							end
						end
						if f120_arg0._battlePassOwned then
							ACTIONS.AnimateSequence( f120_arg0, "CompletePurchased" )
						elseif f121_local0 then
							ACTIONS.AnimateSequence( f120_arg0, "CompleteFree" )
						else
							ACTIONS.AnimateSequence( f120_arg0, "HideCheckbox" )
						end
						if f120_arg0.itemData.showProgress then
							ACTIONS.AnimateSequence( f120_arg0, "TierCompleteFlare" )
						end
						if f120_arg0._displayBattlePassInAAR then
							f120_arg0:EnableGlow( true, {
								enableImmediately = true
							} )
						end
					end
				elseif f120_arg0 == f120_arg0.DELAY then
					if not f120_arg0 then
						f120_arg0:EnableGlow( false, {
							enableImmediately = false,
							disableGlowTime = 1500
						} )
					end
					f120_arg0:SetIsAnimating( false )
					f120_arg0 = f120_arg0 + 1
				end
				if f120_arg0 ~= f120_arg0.END then
					local f121_local0
					if f120_arg0[f120_arg0] < 1 then
						f121_local0 = 1
					else
						f121_local0 = f120_arg0[f120_arg0]
					end
					local f121_local1 = f120_arg0:Wait( f121_local0 )
					f121_local1.onComplete = function ()
						f121_local0()
					end
					
				else
					f120_arg0._purchaseEnabled = true
					f120_arg0._isAnimating = false
					f120_arg0._battlePassXP = f120_arg0
					f120_arg0.Grid:SetMouseFocusBlocker( false )
					f120_arg0.Grid:RefreshContent()
					f120_arg0( f120_arg0 )
					f120_arg0.PromptContainer:setText( "" )
					f120_arg0.HorizontalScrollbar:SetAlpha( 1, 150 )
					f120_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( false )
					BATTLEPASS.SetLastMenuXP( f120_arg0._controllerIndex, f120_arg0._battlePassXP )
					local f121_local0
					if not f120_arg0._displayBattlePassInAAR then
						f120_arg0.Grid:SetDirectionalInputEnabled( true )
						f120_arg0.TierPurchaseBG:SetAlpha( 0, 150 )
						f121_local0 = BATTLEPASS.GetLastFreeTierReached( f120_arg0._controllerIndex )
						BATTLEPASS.SetLastFreeTierSeen( f120_arg0._controllerIndex, f121_local0 )
						f120_arg0( f120_arg0 )
					else
						f121_local0 = f120_arg0.Grid
						local f121_local2 = f121_local0
						f121_local0 = f121_local0.SetDirectionalInputEnabled
						f121_local0( f121_local2, false )
					end
					f121_local0 = function ()
						if f121_local0._battlePassXP >= BATTLEPASS.GetTierMaxXP( BATTLEPASS.GetMaxTier() ) then
							local f124_local0 = f121_local0._displayBattlePassInAAR and f121_local0._displayBattlePassInAAR or false
							f121_local0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_COMPLETE
							LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f121_local0._controllerIndex, f124_local0, {
								state = f121_local0._celebrateState
							}, nil, false, true )
						end
						if not f121_local0._displayBattlePassInAAR then
							f121_local0:dispatchEventToParent( {
								name = "start_auto_close"
							} )
						else
							f121_local0:dispatchEventToRoot( {
								dispatchChildren = true,
								name = "update_aar_battlepass_tier_done"
							} )
						end
						if not f121_local0._isBattlePassPopup then
							f121_local0( f121_local0 )
						end
					end
					
					if f120_arg0._forceDelayEnd then
						local f121_local1 = f120_arg0:Wait( 2000 )
						f121_local1.onComplete = f121_local0
					else
						f121_local0()
					end
					if f120_arg0.shouldAwardFreeTierGift then
						if not f120_arg0._wasTierGiftAwarded then
							local f121_local1 = f120_arg0:Wait( 500 )
							f121_local1.onComplete = function ()
								local f122_local0 = {
									isTierGift = true,
									bundleID = tonumber( BATTLEPASS.GetTierSkipGiftID() ),
									battlePassName = BATTLEPASS.GetItemName( f121_local0.tierGiftBattlePassPurchaseRef ),
									onConfirm = function ( f123_arg0 )
										if f123_arg0 then
											f122_local0._wasTierGiftAwarded = true
											f122_local0._autoTierSkip = true
											local f123_local0 = f122_local0:GetPurchaseAction()
											f123_local0( f122_local0, {
												controller = f122_local0._controllerIndex
											} )
										else
											f122_local0.shouldAwardFreeTierGift = false
											f122_local0( f122_local0, Engine.CBBHFCGDIC( "BATTLEPASS/REWARD_ERROR_MESSAGE" ) )
										end
									end
								}
								f121_local0.tierGiftBattlePassPurchaseRef = nil
								LUI.FlowManager.RequestPopupMenu( nil, "BattlePassRewardPopup", true, f121_local0._controllerIndex, false, f122_local0, nil, false, true )
							end
							
						else
							f120_arg0._autoTierSkip = false
							f120_arg0.shouldAwardFreeTierGift = false
						end
					elseif f120_arg0._autoTierSkip then
						f120_arg0._autoTierSkip = false
					end
				end
			end
			
			if f120_arg4 then
				f120_local11()
			else
				local f120_local12 = f120_arg0:Wait( 1750, true )
				f120_local12.onComplete = f120_local11
			end
		end
	end
	f120_local11 = f120_arg0._previousXP
end

local f0_local43 = function ( f115_arg0 )
	if f115_arg0._isAnimating then
		
	else
		
	end
	local f115_local0 = 32
	local f115_local1 = 5000
	local f115_local2 = 8000
	local f115_local3 = {
		FLARE = 2,
		END = 3,
		START = 0,
		MOVE = 1
	}
	local f115_local4 = {
		[f115_local3.START] = 300,
		[f115_local3.MOVE] = 600,
		[f115_local3.FLARE] = 300,
		[f115_local3.END] = 1200
	}
	local f115_local5 = BATTLEPASS.GetShowcaseTiers()
	local f115_local6 = function ()
		local f119_local0 = table.remove( f115_arg0, 1 )
		if f119_local0 then
			f119_local0 = f119_local0 + BATTLEPASS.NumBonusItems - 1
		end
		if not f119_local0 or f119_local0 <= BATTLEPASS.NumBonusItems then
			f119_local0 = BATTLEPASS.NumBonusItems
		end
		return f119_local0
	end
	
	local f115_local7 = f115_local3.START
	local f115_local8 = f115_arg0.Grid:GetElementAtPosition( f115_local6(), 0 )
	local f115_local9 = 0
	local f115_local10 = 0
	local f115_local11 = function ( f118_arg0 )
		f115_arg0 = 0
		f115_arg0 = f118_arg0
	end
	
	f115_arg0.TierPurchaseBG:SetAlpha( 1 )
	f115_arg0.TierPurchaseBG.TierText:SetAlpha( 0 )
	f115_arg0.TierPurchaseBG:StartAnimation()
	f115_arg0._isAnimating = true
	f115_arg0._skipAnimationEnabled = true
	f115_arg0.Grid:SetDirectionalInputEnabled( false )
	f115_arg0.Grid:SetMouseFocusBlocker( true )
	local f115_local12
	if LUI.IsLastInputKeyboardMouse( f115_arg0._controllerIndex ) then
		f115_local12 = "BATTLEPASS/SKIP_CELEBRATION_KBM_PROMPT"
	else
		f115_local12 = "BATTLEPASS/SKIP_CELEBRATION_PROMPT"
	end
	f115_arg0.PromptContainer:setText( Engine.CBBHFCGDIC( f115_local12 ) )
	local f115_local13 = nil
	local f115_local14 = function ()
		local f116_local0 = f115_arg0:Wait( f115_arg0 )
		f116_local0.onComplete = function ()
			f116_local0 = f116_local0 + f116_local0
			local f117_local0 = f116_local0:GetCurrentMenu()
			f117_local0 = f117_local0.id
			local f117_local1 = LUI.FlowManager.GetVisibleMenu()
			if f117_local0 ~= f117_local1.id then
				return 
			elseif f116_local0._skipAnimation then
				f116_local0._skipAnimation = false
				f116_local0._skipAnimationEnabled = false
				f116_local0.BattlePassFlare:ClearFlare()
				f116_local0( 0 )
				f116_local0 = f116_local0.END
			end
			if f116_local0 == f116_local0.START then
				f116_local0.Grid:SetMaxVelocity( f116_local0 )
				f116_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f116_local0
				}, true )
				f116_local0 = f116_local0.Grid:GetElementAtPosition( f116_local0, 0 )
				f116_local0( f116_local0[f116_local0.START] )
				f116_local0 = f116_local0.FLARE
			elseif f116_local0 == f116_local0.MOVE and f116_local0 < f116_local0 then
				f116_local0.BattlePassFlare:ClearFlare()
				f116_local0:processEvent( {
					name = "lose_active"
				} )
				f116_local0 = f116_local0()
				f116_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f116_local0
				}, false )
				f116_local0( f116_local0[f116_local0.MOVE] )
				f116_local0 = f116_local0.FLARE
			elseif f116_local0 == f116_local0.FLARE and f116_local0 < f116_local0 then
				f116_local0 = f116_local0.Grid:GetElementAtPosition( f116_local0, 0 )
				if f116_local0 and f116_local0._isOver then
					if f116_local0:HasVanguardItem() then
						f116_local0.BattlePassFlare:PlayVanguardFlare()
					else
						f116_local0.BattlePassFlare:PlayRarityFlare( f116_local0.lootData.rarity )
					end
					if f116_local0 <= BATTLEPASS.NumBonusItems then
						f116_local0( f116_local0[f116_local0.END] )
						f116_local0 = f116_local0.END
					else
						f116_local0( f116_local0[f116_local0.FLARE] )
						f116_local0 = f116_local0.MOVE
					end
				end
			elseif f116_local0 == f116_local0.END and f116_local0 < f116_local0 then
				f116_local0.Grid:SetMaxVelocity( f116_local0 )
				if not f116_local0._displayBattlePassInAAR then
					f116_local0.TierPurchaseBG.TierText:SetAlpha( 1 )
					f116_local0.TierPurchaseBG:SetAlpha( 0, 150 )
				end
				f116_local0._isAnimating = false
				f116_local0._skipAnimationEnabled = false
				f116_local0.Grid:SetDirectionalInputEnabled( true )
				f116_local0 = BATTLEPASS.NumBonusItems
				f116_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f116_local0
				}, true )
				f116_local0( f116_local0 )
			end
			f116_local0()
		end
		
	end
	
	f115_local14()
end

local f0_local44 = function ( f107_arg0 )
	f107_arg0._isAnimating = true
	f107_arg0._purchaseEnabled = false
	f107_arg0.Grid:SetDirectionalInputEnabled( false )
	f107_arg0.Grid:SetMouseFocusBlocker( true )
	f107_arg0.HorizontalScrollbar:SetAlpha( 0 )
	f107_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( true )
	local f107_local0 = 5000
	local f107_local1 = f107_arg0.Grid:GetContentSize( LUI.DIRECTION.horizontal ) / f107_arg0.Grid:GetContentCount( LUI.DIRECTION.horizontal )
	local f107_local2 = 400
	f107_arg0.Grid:SetSpringCoefficient( 800 )
	local f107_local3 = 550
	local f107_local4 = 100 / 1000
	local f107_local5 = 0
	local f107_local6 = 1
	local f107_local7 = nil
	local f107_local8 = function ()
		local f113_local0 = f107_arg0.Grid:GetElementAtPosition( f107_arg0, 0 )
		f113_local0.BattlePassFlare:PlayVanguardFlare()
		local f113_local1 = f107_arg0:Wait( f107_arg0 )
		f113_local1.onComplete = function ()
			f113_local0()
		end
		
	end
	
	local f107_local9 = nil
	f107_local9 = function ()
		f107_arg0 = f107_arg0 + 1
		local f111_local0 = f107_arg0.Grid:GetElementAtPosition( f107_arg0, 0 )
		if f111_local0:HasVanguardItem() then
			f107_arg0.Grid:SetFocusedPosition( {
				y = 0,
				x = f107_arg0
			}, false, nil )
		else
			f107_arg0.Grid:SetPosition( {
				y = 0,
				x = f107_arg0
			}, false, nil )
		end
		local f111_local1 = f107_arg0:Wait( f107_arg0 )
		f111_local1.onComplete = function ()
			if f111_local0 then
				f111_local0()
			else
				f111_local0()
			end
		end
		
	end
	
	f107_local7 = function ()
		local f110_local0 = 0
		local f110_local1 = true
		for f110_local2 = f107_arg0 + 1 + 1, #f107_arg0._battlePassData - 1, 1 do
			f110_local0 = f110_local0 + 1
			if f107_arg0( f107_arg0, f110_local2 ) then
				f110_local1 = false
				break
			end
		end
		if not f110_local1 then
			f107_arg0.Grid:SetMaxVelocity( f107_arg0 * f110_local0 / f107_arg0 )
			f107_arg0 = f107_arg0 / f110_local0
			f107_arg0()
		else
			f107_arg0._purchaseEnabled = true
			f107_arg0._isAnimating = false
			f107_arg0.Grid:SetMouseFocusBlocker( false )
			f107_arg0.HorizontalScrollbar:SetAlpha( 1, 150 )
			f107_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( false )
			f107_arg0.Grid:SetDirectionalInputEnabled( true )
			f107_arg0.TierPurchaseBG:SetAlpha( 0, 150 )
			f107_arg0.TierPurchaseBG:HideVanguardRevealInfo()
			f107_arg0.Grid:RefreshContent()
			f107_arg0.Grid:SetMaxVelocity( f107_arg0 )
			f107_arg0.Grid:SetSpringCoefficient( f107_arg0 )
		end
	end
	
	local f107_local10 = f107_arg0:Wait( 1750, true )
	f107_local10.onComplete = function ()
		f107_arg0.TierPurchaseBG:SetAlpha( 1 )
		f107_arg0.TierPurchaseBG:ShowVanguardRevealInfo()
		f107_arg0.Grid:FocusFirstItem()
		local f108_local0 = 500
		local f108_local1 = f107_arg0:Wait( f108_local0, true )
		f108_local1.onComplete = function ()
			Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpVGTierRevealLong )
			f108_local0()
		end
		
	end
	
end

local f0_local45 = function ( f106_arg0, f106_arg1 )
	f106_arg0._finalXP = BATTLEPASS.GetXP( f106_arg0._controllerIndex )
	local f106_local0 = BATTLEPASS.GetTier( f106_arg0._controllerIndex )
	local f106_local1 = 0
	local f106_local2 = f0_local0( f106_arg0, f106_local0 )
	if f106_arg1 then
		f106_local1 = f0_local0( f106_arg0, f106_arg0._previousLevel )
	end
	if f106_arg0._purchaseBattlePassInAARSuccess then
		f106_local2 = f106_arg0.finalAAREndPosition
	end
	f0_local0( f106_arg0, LUI.clamp( f106_local1, 0, #f106_arg0._battlePassData - 1 ), LUI.clamp( f106_local2, 0, #f106_arg0._battlePassData - 1 ), not f106_arg1 )
end

local f0_local46 = function ( f105_arg0 )
	local f105_local0 = BATTLEPASS.IsOwned( f105_arg0._controllerIndex )
	local f105_local1 = BATTLEPASS.GetTier( f105_arg0._controllerIndex ) == BATTLEPASS.GetMaxTier()
	local f105_local2 = not f105_local0
	local f105_local3 = not f105_local1
	local f105_local4 = BATTLEPASS.NeedFixUp( f105_arg0._controllerIndex )
	if f105_local4 then
		if not f105_local2 then
			f105_local4 = f105_local2
		else
			f105_local4 = f105_local3
		end
	end
	return f105_local4
end

local f0_local47 = function ( f97_arg0, f97_arg1 )
	local f97_local0 = function ()
		f97_arg0._previousXP = BATTLEPASS.GetXP( f97_arg0._controllerIndex )
		f97_arg0._previousLevel = BATTLEPASS.GetTier( f97_arg0._controllerIndex )
		f97_arg0._purchaseQueue = LUI.CreateQueue()
		f97_arg0._activationQueue = LUI.CreateQueue()
		f97_arg0._queuedRef = nil
		f97_arg0._queuedPurchase = nil
		f97_arg0._numTransactions = 0
		f97_arg0._numTransactionsComplete = 0
		if not f97_arg0._battlePassOwned and f97_arg0 then
			local f102_local0 = f97_arg0
			if not f97_arg0._autoTierSkip then
				f97_arg0._tierSkips = 0
				f97_arg0._purchaseQueue:Push( {
					ref = f97_arg0
				} )
				f97_arg0._numTransactions = f97_arg0._numTransactions + 1
			else
				f102_local0 = BATTLEPASS.GetPurchaseRef()
			end
			local f102_local1 = BATTLEPASS.GetActivationRefs( f102_local0 )
			local f102_local2 = #f102_local1
			for f102_local6, f102_local7 in ipairs( f102_local1 ) do
				f97_arg0._activationQueue:Push( {
					ref = f102_local7.ref,
					id = f102_local6,
					count = f102_local2,
					skipValue = f102_local7.quantity
				} )
				f97_arg0._numTransactions = f97_arg0._numTransactions + 1
			end
			if f97_arg0 == BATTLEPASS.GetPurchaseRef() then
				f97_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_UNLOCKED
			elseif f97_arg0 == BATTLEPASS.GetPurchaseBundleRef() then
				f97_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_TIER_BUNDLE_UNLOCKED
			end
		else
			f97_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.TIERS_UNLOCKED
		end
		if not f97_arg0._autoTierSkip then
			local f102_local1 = f97_arg0._maxBattlePassLevel - BATTLEPASS.GetTier( f97_arg0._controllerIndex )
			local f102_local2 = f97_arg0._tierSkips
			if f102_local1 < f102_local2 then
				f102_local2 = f102_local1
			end
			if 0 < f102_local2 then
				f97_arg0._purchaseQueue:Push( {
					ref = BATTLEPASS.T9_SKIP_VALUE_REF,
					skipValue = f102_local2
				} )
				f97_arg0._tierSkips = f97_arg0._tierSkips - f102_local2
				f97_arg0._numTransactions = f97_arg0._numTransactions + 1
				f97_arg0._activationQueue:Push( {
					ref = BATTLEPASS.T9_SKIP_VALUE_REF,
					skipValue = f102_local2
				} )
			end
		else
			local f102_local0 = 0
			local f102_local1 = BATTLEPASS.GetTier( f97_arg0._controllerIndex )
			local f102_local2, f102_local3 = BATTLEPASS.GetPendingTierSkips( f97_arg0._controllerIndex )
			for f102_local7, f102_local8 in ipairs( f102_local2 ) do
				local f102_local9 = f102_local8.skips
				if not f97_arg0._allowTierBank or f102_local1 + f102_local0 + f102_local9 <= f97_arg0._maxBattlePassLevel then
					f97_arg0._activationQueue:Push( {
						ref = f102_local8.ref,
						skipValue = f102_local9
					} )
					f97_arg0._numTransactions = f97_arg0._numTransactions + 1
					f102_local0 = f102_local0 + f102_local9
				end
			end
		end
		local f102_local0 = false
		local f102_local1, f102_local2 = nil
		local f102_local3 = function ()
			local f103_local0 = f102_local0:Wait( 16 )
			f103_local0.onComplete = function ()
				if f103_local0._queuedRef then
					if not f103_local0._errorCode then
						f103_local0()
					else
						local f104_local0 = BATTLEPASS.GetErrorMessage( f103_local0._errorCode, f103_local0._queuedRef )
						f103_local0._errorCode = nil
						f103_local0._queuedRef = nil
						f103_local0._needFixUp = f103_local0( f103_local0 )
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
						f103_local0( f103_local0, f104_local0 )
					end
				elseif f103_local0._purchaseQueue and not f103_local0._queuedPurchase then
					f103_local0._queuedPurchase = f103_local0._purchaseQueue:Pop()
					if f103_local0._queuedPurchase then
						f103_local0._queuedRef = f103_local0._queuedPurchase.ref
						local f104_local0 = tonumber( StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f103_local0._queuedRef, CSV.battlePassIDs.cols.id ) )
						local f104_local1 = StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f103_local0._queuedRef, CSV.battlePassIDs.cols.sku )
						if f104_local1 ~= "" then
							f104_local0 = tonumber( f104_local1 )
						end
						local f104_local2 = 1
						if f103_local0._queuedRef == BATTLEPASS.T9_SKIP_VALUE_REF then
							f104_local2 = f103_local0._queuedPurchase.skipValue
						end
						if STORE.IsItemOnSale( f104_local0, f103_local0._controllerIndex ) then
							local f104_local3 = StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f103_local0._queuedRef, CSV.battlePassIDs.cols.saleSku )
							if f104_local3 ~= "" then
								f104_local0 = tonumber( f104_local3 )
							end
						end
						Battlepass.GAICDBJEC( f103_local0._controllerIndex, f104_local0, f104_local2 )
					else
						f103_local0._purchaseQueue = nil
					end
					f103_local0()
				elseif f103_local0._activationQueue then
					f103_local0._activation = f103_local0._activationQueue:Pop()
					if f103_local0._activation then
						f103_local0._queuedRef = f103_local0._activation.ref
						local f104_local0 = tonumber( StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f103_local0._queuedRef, CSV.battlePassIDs.cols.id ) )
						local f104_local1 = StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f103_local0._queuedRef, CSV.battlePassIDs.cols.challengeID )
						if f103_local0._queuedRef == BATTLEPASS.T9_SKIP_VALUE_REF then
							local f104_local3 = f103_local0._maxBattlePassLevel - BATTLEPASS.GetTier( f103_local0._controllerIndex )
							local f104_local4 = f103_local0._activation.skipValue
							if f104_local3 < f104_local4 then
								f104_local4 = f104_local3
							end
							f104_local1 = StringTable.CBGJCDIHCE( CSV.t9TierSkipIDs.file, f104_local4, CSV.t9TierSkipIDs.cols.id )
						end
						Battlepass.CBHBFIJDHG( f103_local0._controllerIndex, f104_local1, f104_local0 )
					else
						f103_local0._activationQueue = nil
					end
					f103_local0()
				else
					if not f103_local0 then
						f103_local0 = Engine.BFBIDEGDFB()
					elseif not f103_local0 and f103_local0 <= Engine.BFBIDEGDFB() - f103_local0 then
						f103_local0 = true
						f103_local0.TierPurchaseBG:SetAlpha( 1 )
						f103_local0.TierPurchaseBG:StartAnimation()
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
						LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f103_local0._controllerIndex, false, {
							state = f103_local0._celebrateState
						}, nil, false, true )
						f103_local0:DisableBundleBonusTopper( f103_local0 )
					end
					if f103_local0 and f103_local0._purchaseBattlePassInAAR then
						f103_local0._purchaseBattlePassInAARSuccess = true
						if f103_local0.BattlePassTierProgression then
							f103_local0.BattlePassTierProgression:SetAlpha( 0 )
						end
						f103_local0.TierPurchaseBG:SetAlpha( 1 )
						f103_local0:dispatchEventToRoot( {
							dispatchChildren = true,
							name = "purchase_aar_battlepass_success",
							immediate = true
						} )
					end
					if f103_local0 and not LUI.FlowManager.IsInStack( "BattlePassFullScreenPopup" ) then
						f103_local0._needFixUp = f103_local0( f103_local0 )
						f103_local0( f103_local0, f103_local0 == nil )
					else
						f103_local0()
					end
				end
			end
			
		end
		
		f102_local3()
	end
	
	return function ( f98_arg0, f98_arg1 )
		if not f97_arg0._battlePassOwned and not f97_arg0._autoTierSkip then
			f97_arg0._itemCost = tonumber( BATTLEPASS.GetItemCost( f97_arg0 ) )
		end
		local f98_local0
		if f97_arg0._recipentXuidString then
			f98_local0 = tonumber( BATTLEPASS.GetItemCost( f97_arg0 ) )
			if not f98_local0 then
			
			else
				f97_arg0._availableCODPoints = Commerce.CEDDCGHIGA( f98_arg1.controller, LOOT.CurrencyIDs.COD_POINTS )
				if not f97_arg0._autoTierSkip and f97_arg0._availableCODPoints < f98_local0 then
					local f98_local1 = {
						showBalance = true,
						controllerIndex = f98_arg1.controller,
						currencyID = LOOT.CurrencyIDs.COD_POINTS,
						currencyAmount = f98_local0
					}
					local f98_local2 = STORE.EnterStore
					local f98_local3 = f98_arg1.controller
					local f98_local4 = f98_arg0:GetCurrentMenu()
					f98_local2( f98_local3, f98_local4.id, f98_arg0.id, f98_local1, "PurchaseCODPointsPopup", true )
				else
					if f97_arg0._recipentXuidString then
						local f98_local1 = f97_arg0._recipentXuidString
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchasePopup" )
						local f98_local2 = BATTLEPASS.GetItemSKU( f97_arg0 )
						local f98_local5 = LUI.ToastManager.GetInstance()
						f98_local5:QueueGiftRecipientXuid( f97_arg0._recipentXuidString )
						Gifting.DAFDBDBEJC( f98_arg1.controller, f98_local2, 1, f97_arg0._recipentXuidString )
						LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f97_arg0._controllerIndex, false, {
							purchaseGift = true
						}, nil, false, true )
						local f98_local4 = f97_arg0:Wait( 1500 )
						f98_local4.onComplete = function ()
							LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup", true, true )
							LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f98_arg0._controllerIndex, false, {
								state = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_GIFTED,
								recipentXuidString = f98_arg0
							}, nil, false, true )
						end
						
						f97_arg0._recipentXuidString = nil
					end
					local f98_local1 = nil
					if not f97_arg0._battlePassOwned and f97_arg0 then
						f98_local1 = Engine.CBBHFCGDIC( BATTLEPASS.GetItemName( f97_arg0 ) )
					elseif f97_arg0._tierSkips == 1 then
						f98_local1 = Engine.CBBHFCGDIC( "BATTLEPASS/1_TIER_SKIP" )
					else
						f98_local1 = Engine.CBBHFCGDIC( "BATTLEPASS/N_TIER_SKIPS", f97_arg0._tierSkips )
					end
					local f98_local2 = {
						hidePurchasingText = f97_arg0._autoTierSkip,
						itemCost = f97_arg0._itemCost,
						itemName = f98_local1,
						confirmAction = f97_arg0,
						cancelAction = function ()
							f98_arg0._purchaseEnabled = true
						end
					}
					LUI.FlowManager.RequestLeaveMenuByName( "BattlePassConfirmPurchasePopup", true )
					local f98_local5 = f97_arg0._currentMenu.id
					local f98_local3 = LUI.FlowManager.GetVisibleMenu()
					if f98_local5 == f98_local3.id or f97_arg0._autoTierSkip and f97_arg0._BRRewardState == f97_arg0.NONE then
						f98_local5 = false
					else
						f98_local5 = true
					end
					if Engine.DBFCJBDJEC() and Engine.DDHFCGHJEA() and not isPendingTransactions and not f97_arg0._autoTierSkip then
						f98_local3 = ""
						local f98_local4 = false
						if not f97_arg0._battlePassOwned and f97_arg0 then
							if f97_arg0 == BATTLEPASS.GetPurchaseRef() then
								f98_local3 = "battlepass_button_premium"
							elseif f97_arg0 == BATTLEPASS.GetPurchaseBundleRef() then
								f98_local3 = "battlepass_button_bundle"
							end
						else
							f98_local3 = "battlepass_emblem"
							f98_local4 = true
						end
						LUI.FlowManager.RequestPopupMenu( nil, "StoreConfirmPurchaseKoreaLegalPupup", true, f98_arg1.controller, f98_local5, {
							isItemNameLocalized = true,
							itemName = f98_local1,
							itemImage = f98_local3,
							itemCurrencyID = LOOT.CurrencyIDs.COD_POINTS,
							itemCurrencyAmount = f97_arg0._itemCost,
							isBattlepassTier = f98_local4,
							confirmAction = function ()
								LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f98_arg0.controller, f98_arg0, f98_arg0, nil, false, true )
								f98_arg0._purchaseEnabled = false
							end
						}, nil, false, false )
					else
						LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f98_arg1.controller, f98_local5, f98_local2, nil, false, true )
						f97_arg0._purchaseEnabled = false
					end
				end
			end
		end
		f98_local0 = f97_arg0._itemCost
	end
	
end

local f0_local48 = function ( f96_arg0, f96_arg1 )
	local f96_local0, f96_local1 = BATTLEPASS.IsPendingTransactions( f96_arg1 )
	local f96_local2, f96_local3 = BATTLEPASS.GetPendingTierSkips( f96_arg1 )
	local f96_local4 = nil
	if f96_local0 then
		if 20 <= f96_local3 then
			f96_local4 = BATTLEPASS.GetPurchaseBundleRef()
		else
			f96_local4 = BATTLEPASS.GetPurchaseRef()
		end
	end
	local f96_local5 = f96_arg0:GetPurchaseAction( f96_local4 )
	f96_local5( f96_arg0, {
		controller = f96_arg1
	} )
end

local f0_local49 = function ( f94_arg0 )
	f94_arg0._purchaseEnabled = false
	f94_arg0._previousXP = BATTLEPASS.GetXP( f94_arg0._controllerIndex )
	f94_arg0._previousLevel = BATTLEPASS.GetTier( f94_arg0._controllerIndex )
	BATTLEPASS.FixUp( f94_arg0._controllerIndex )
	local f94_local0 = 60000
	f94_arg0._fixingUp = true
	local f94_local1 = f94_arg0:Wait( f94_local0 )
	f94_local1.onComplete = function ()
		f94_arg0:processEvent( {
			name = "battlepass_fixup_failed"
		} )
	end
	
	LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f94_arg0._controllerIndex, false, {
		fixUp = true
	}, nil, false, true )
end

local f0_local50 = function ( f93_arg0, f93_arg1 )
	local f93_local0 = {
		sourceMenu = f93_arg0,
		purchaseAction = f93_arg0:GetPurchaseAction()
	}
	local f93_local1 = f93_arg0._purchaseBattlePassInAAR
	if not f93_local1 then
		f93_local1 = f93_arg0._purchaseBattlePassInStore or f93_arg0._purchaseBattlePassInVIPGift
	end
	f93_local0.backLeavesBPMenuPopup = f93_local1
	LUI.FlowManager.RequestPopupMenu( f93_arg0, "BattlePassPurchasePopup", true, f93_arg1, false, f93_local0 )
end

local f0_local51 = function ( f90_arg0, f90_arg1 )
	if f90_arg0._battlePassOwned then
		f0_local0( f90_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/ERROR_ALREADY_OWN" ), function ()
			ACTIONS.LeaveMenu( f90_arg0 )
		end )
		return 
	end
	f90_arg0._purchaseBattlePassInVIPGift = true
	if f90_arg1 then
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f90_arg0._controllerIndex, false, {
			skipDelay = true,
			menu = f90_arg0,
			closeAction = function ( f91_arg0 )
				f90_arg0( f91_arg0, true )
			end
		} )
	else
		f0_local0( f90_arg0, f90_arg0._controllerIndex )
	end
end

local f0_local52 = function ( f87_arg0 )
	if f87_arg0._battlePassOwned then
		f0_local0( f87_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/ERROR_ALREADY_OWN" ), function ()
			ACTIONS.LeaveMenu( f87_arg0 )
		end )
		return 
	end
	f87_arg0._purchaseBattlePassInStore = true
	if not Onboarding.BattlePass.WasCompleted( f87_arg0, f87_arg0._controllerIndex ) then
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f87_arg0._controllerIndex, false, {
			skipDelay = true,
			menu = f87_arg0,
			closeAction = function ( f88_arg0 )
				f87_arg0( f88_arg0, f88_arg0._controllerIndex )
			end
		} )
	else
		f0_local0( f87_arg0, f87_arg0._controllerIndex )
	end
end

local f0_local53 = function ( f86_arg0, f86_arg1 )
	ACTIONS.AnimateSequence( f86_arg0, "SetupStandalone" )
	f86_arg0._purchaseBattlePassInAAR = true
	f0_local0( f86_arg0, f86_arg1 )
end

local f0_local54 = function ( f83_arg0, f83_arg1, f83_arg2 )
	f83_arg0._displayBattlePassInAAR = true
	f83_arg0._shouldAnimateDoubleXP = f83_arg2.isDoubleXPActive
	local f83_local0 = f83_arg2.startTierXP
	f83_arg0.finalAAREndPosition = f0_local0( f83_arg0, BATTLEPASS.GetTierByXP( f83_arg0._controllerIndex, f83_arg2.currentTierXP ) )
	f83_arg0.BattlePassTierProgression = MenuBuilder.BuildRegisteredType( "BattlePassTierProgression", {
		isAARBattlepass = true,
		controllerIndex = f83_arg1
	} )
	f83_arg0.BattlePassTierProgression.id = "BattlePassTierProgression"
	f83_arg0.BattlePassTierProgression:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, _1080p * -54, _1080p * 1026 )
	f83_arg0:addElement( f83_arg0.BattlePassTierProgression )
	f83_arg0.BattlePassTierProgression:PlayBattlePassTierProgression( f83_arg1, f83_arg2 )
	f83_arg0.BattlePassTierProgression:SetAlpha( 0 )
	f83_arg0.BattlePassTierProgression:SetAlpha( 1, 100 )
	f0_local0( f83_arg0, f83_arg1 )
	f83_arg0.Background:SetAlpha( 0 )
	f83_arg0.TierPurchaseBG:HideBattlePassInfo()
	f83_arg0.Grid:SetDirectionalInputEnabled( false )
	f83_arg0.BattlePassGridContainer:SetupAARGridMask()
	f83_arg0:registerEventHandler( "update_aar_battlepass_tier", function ( element, event )
		if not f83_arg0._purchaseBattlePassInAAR then
			f83_arg0:AnimateXPEarnedInAAR( event.displayTierXP, event.earnedTypeXP + event.displayTierXP, event.waitTime )
		end
	end )
	f83_arg0:registerEventHandler( AAR.PARADE_BATTLE_PASS_DONE, function ( element, event )
		if not f83_arg0._purchaseBattlePassInAAR then
			ACTIONS.LeaveMenu( f83_arg0 )
			if AAR.IsAnyNonXPParadeAvailable( f83_arg0._controllerIndex ) then
				LUI.FlowManager.RequestAddMenu( "AARContainer", true, f83_arg0._controllerIndex, false, {
					fromBattlepassAAR = true,
					controller = f83_arg0
				} )
			end
		end
	end )
end

local f0_local55 = function ( f82_arg0, f82_arg1 )
	if f82_arg0._skipAnimationEnabled then
		f82_arg0._skipAnimation = true
	end
end

local f0_local56 = function ( f81_arg0, f81_arg1 )
	if f81_arg1.controller == f81_arg0._controllerIndex then
		if f81_arg0._purchaseEnabled then
			if f81_arg0._isStandalone then
				return 
			elseif f81_arg0._needFixUp then
				f0_local0( f81_arg0 )
			elseif not f81_arg0._battlePassOwned then
				LUI.FlowManager.RequestPopupMenu( f81_arg0, "BattlePassPurchasePopup", true, f81_arg1.controller, false, {
					sourceMenu = f81_arg0,
					purchaseAction = purchaseAction
				} )
			elseif 0 < f81_arg0._tierSkips then
				LUI.FlowManager.RequestPopupMenu( f81_arg0, "BattlePassTiersPurchasePopup", true, f81_arg1.controller, false, {
					sourceMenu = f81_arg0,
					purchaseAction = purchaseAction,
					tierSkips = f81_arg0._tierSkips
				} )
			end
			Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseSelect )
		elseif f81_arg0._skipAnimationEnabled and not LUI.IsLastInputKeyboardMouse( f81_arg1.controller ) then
			f81_arg0._skipAnimation = true
		end
	end
end

local f0_local57 = function ( f80_arg0, f80_arg1 )
	f80_arg0._recipentXuidString = f80_arg1
end

local f0_local58 = function ( f78_arg0, f78_arg1 )
	GIFT.StartFTUEFlow( f78_arg0, function ()
		LUI.FlowManager.RequestPopupMenu( f78_arg0, "BattlePassPurchasePopup", true, f78_arg0.controller, false, {
			sourceMenu = f78_arg0,
			battlePassSKU = StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, BATTLEPASS.GetPurchaseRef(), CSV.battlePassIDs.cols.sku ),
			giftingActionCallback = f78_arg0
		} )
	end )
end

local f0_local59 = function ( f77_arg0, f77_arg1 )
	if LUI.IsLastInputKeyboardMouse( f77_arg1.controller ) then
		if CONDITIONS.IsWZWipDvarEnabled() and f77_arg0._shouldShowGameSourceUpsell then
			LUI.FlowManager.RequestPopupMenu( f77_arg0, "WZCWUpsellPopup", true, f77_arg0._controllerIndex, false )
			return 
		elseif not f77_arg0._isAnimating then
			if LOOT.CanPreview( f77_arg0._currentChild.lootData.type, f77_arg0._currentChild.lootData.itemID ) then
				STORE.PreviewItem( f77_arg1.controller, f77_arg0._currentChild.lootData.type, f77_arg0._currentChild.lootData.itemID, nil, nil, true )
			end
		elseif f77_arg0._skipAnimationEnabled then
			f77_arg0._skipAnimation = true
		end
	else
		f0_local0( f77_arg0, f77_arg1 )
	end
end

local f0_local60 = function ( f76_arg0, f76_arg1, f76_arg2 )
	if f76_arg1 and not f76_arg2 then
		f76_arg0:AddTooltipData( controllerIndex, {
			promptsData = {
				{
					button_ref = "button_alt1",
					keyprompt_text = Engine.CBBHFCGDIC( "KEY/MOUSE1" ),
					helper_text = Engine.CBBHFCGDIC( "LUA_MENU/PREVIEW" )
				}
			}
		} )
	else
		f76_arg0:RemoveToolTipData()
	end
end

local f0_local61 = function ( f72_arg0, f72_arg1, f72_arg2, f72_arg3 )
	f72_arg0:SetupContextualMenu( {
		title = ToUpperCase( f72_arg0.lootData.name or "" )
	} )
	if f72_arg1._battlePassOwned and not f72_arg3 and f72_arg2 then
		f72_arg0:AddContextualMenuAction( {
			id = "battlePassContextualBuyTier",
			actionName = Engine.CBBHFCGDIC( "BATTLEPASS/BUY_TIERS_MULTIPLE" ),
			actionFunction = function ()
				f72_arg0( f72_arg0, {
					controller = f72_arg0._controllerIndex
				} )
			end
		} )
	end
	local f72_local0 = f72_arg0.lootData.type
	if f72_local0 == LOOT.itemTypes.WEAPON or f72_local0 == LOOT.itemTypes.OPERATOR_SKIN then
		local f72_local1 = nil
		if f72_local0 == LOOT.itemTypes.WEAPON then
			f72_local1 = Engine.CBBHFCGDIC( "BATTLEPASS/TOGGLE_REWARD_DETAILS_CONTEXTUAL" )
		else
			f72_local1 = Engine.CBBHFCGDIC( "BATTLEPASS/VIEW_MISSION_DETAILS_CONTEXTUAL" )
		end
		f72_arg0:AddContextualMenuAction( {
			id = "battlePassContextualViewDetails",
			actionName = f72_local1,
			actionFunction = function ()
				if f72_arg0 == LOOT.itemTypes.WEAPON then
					f72_arg0._isExpanded = not f72_arg0._isExpanded
					Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
				end
				f72_arg0( f72_arg0, f72_arg0.lootData, f72_arg0.itemData, f72_arg0._isExpanded )
				if f72_arg0._missionChallengeID then
					Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
					if not Engine.DBAEJAHFGJ( f72_arg0._controllerIndex ) then
						if f72_arg0._missionChallengeData.category == Challenge.Operator then
							local f74_local0 = StringTable.DIFCHIGDFB( CSV.questChallenges.file, CSV.questChallenges.cols.ref, f72_arg0._missionChallengeID, CSV.questChallenges.cols.id )
							if f74_local0 and 0 < #f74_local0 then
								LUI.FlowManager.RequestAddMenu( "OperatorMissions", true, f72_arg0._controllerIndex, false, {
									challengeID = f74_local0,
									skinLootId = f72_arg0._missionChallengeData.loot
								} )
							end
						end
					else
						LUI.FlowManager.RequestPopupMenu( nil, "mp_no_guest_popup", false, f72_arg0._controllerIndex, false )
					end
				end
			end
		} )
	end
	if LOOT.CanPreview( f72_local0, f72_arg0.lootData.itemID ) or f72_arg1._shouldShowGameSourceUpsell then
		local f72_local1 = f72_arg0.itemData.lootTable[f72_arg1._lootIndex]._gameSourceId == LUI.GAME_SOURCE_ID.COLD_WAR
		f72_arg0:AddContextualMenuAction( {
			id = "battlePassContextualPreview",
			actionName = Engine.CBBHFCGDIC( "LUA_MENU/PREVIEW" ),
			actionFunction = function ()
				if not f72_arg0._isAnimating then
					if f72_arg0._shouldShowGameSourceUpsell then
						LUI.FlowManager.RequestPopupMenu( f72_arg0, "WZCWUpsellPopup", true, f72_arg0._controllerIndex, false )
						return 
					end
					STORE.PreviewItem( f72_arg0._controllerIndex, f72_arg0, f72_arg0.lootData.itemID, nil, nil, true )
				end
			end
		} )
		f0_local0( f72_arg0, true, f72_local1 )
	else
		f0_local0( f72_arg0, false )
	end
end

local f0_local62 = function ( f71_arg0 )
	if f71_arg0 then
		local f71_local0 = f71_arg0[#f71_arg0]
		if 1 < #f71_local0.lootTable then
			table.remove( f71_arg0, #f71_arg0 )
			for f71_local4, f71_local5 in ipairs( f71_local0.lootTable ) do
				local f71_local6 = LUI.ShallowCopy( f71_local0 )
				local f71_local7 = {
					lootID = f71_local5.lootID,
					billboardImage = f71_local5.billboardImage,
					challengeID = f71_local5.challengeID,
					subTierID = f71_local5.subTierID
				}
				if 1 < f71_local4 then
					f71_local6.showProgress = false
				end
				f71_local6.subTierID = f71_local5.subTierID
				f71_local6.lootTable = {}
				table.insert( f71_local6.lootTable, f71_local7 )
				table.insert( f71_arg0, f71_local6 )
			end
		end
	end
end

local f0_local63 = function ( f70_arg0, f70_arg1 )
	if not Dvar.IBEGCHEFE( "MPQSMOPRQK" ) then
		return 
	end
	local f70_local0 = Challenge.GetQuestsForMissionChallenges( f70_arg1, {
		Challenge.Operator
	} )
	f70_local0 = f70_local0.quests
	local f70_local1 = {}
	for f70_local5, f70_local6 in pairs( f70_local0 ) do
		f70_local1[f70_local6[1].ref] = f70_local5
	end
	for f70_local5, f70_local6 in ipairs( f70_arg0 ) do
		for f70_local15, f70_local16 in ipairs( f70_local6.lootTable ) do
			local f70_local18 = f70_local16.challengeID
			if f70_local18 and 0 < #f70_local18 and f70_local1[f70_local18] then
				for f70_local13, f70_local14 in ipairs( f70_local0[f70_local1[f70_local18]] ) do
					if f70_local14.loot and 0 < #f70_local14.loot then
						local f70_local10 = LUI.ShallowCopy( f70_local16 )
						local f70_local11 = tonumber( f70_local14.amount ) <= Quests.CCBJIDFAHE( f70_arg1, tonumber( f70_local14.id ) )
						f70_local10.lootID = f70_local14.loot
						f70_local10.isOperatorChallengeReward = true
						f70_local10.operatorChallengeName = f70_local14.name
						local f70_local12
						if f70_local14.unlocked then
							f70_local12 = not f70_local11
						else
							f70_local12 = true
						end
						f70_local10.isLocked = f70_local12
						table.insert( f70_local6.lootTable, f70_local10 )
					end
				end
			end
		end
	end
end

local f0_local64 = function ( f69_arg0, f69_arg1 )
	for f69_local10, f69_local11 in ipairs( f69_arg0 ) do
		local f69_local12 = BATTLEPASS.GetTierSplitItemIDs( tonumber( f69_local11.level ) )
		local f69_local13 = BATTLEPASS.GetTierSplitBillboardImages( tonumber( f69_local11.level ) )
		for f69_local7, f69_local8 in ipairs( f69_local11.lootTable ) do
			local f69_local4 = assert
			local f69_local3 = f69_local8.subTierID
			if f69_local3 then
				f69_local3 = 0 < f69_local8.subTierID
			end
			f69_local4( f69_local3, "SetupSplitTierUnlocks: Invalid subTierID provided, expected non-nil and greater than 0" )
			f69_local4 = f69_local12[f69_local8.subTierID]
			local f69_local5 = f69_local13[f69_local8.subTierID]
			if f69_local4 and f69_local4 ~= "0" then
				f69_local8._gameSourceId = LOOT.GetGameSourceIDFromItemID( f69_local8.lootID )
				f69_local3 = LUI.ShallowCopy( f69_local8 )
				f69_local3._gameSourceId = LOOT.GetGameSourceIDFromItemID( f69_local4 )
				f69_local3.lootID = f69_local4
				local f69_local6
				if f69_local5 then
					f69_local6 = f69_local5
				elseif f69_local5 == "" or f69_local5 == "0" then
					f69_local6 = false
				else
					f69_local6 = true
				end
				if f69_local6 then
					f69_local3.billboardImage = f69_local5
				end
				table.insert( f69_local11.lootTable, f69_local3 )
			end
		end
	end
end

local f0_local65 = function ( f68_arg0 )
	if f68_arg0._gridTimer then
		f68_arg0._gridTimer:closeTree()
		f68_arg0._gridTimer = nil
		f68_arg0._battlePassData = BATTLEPASS.GetAllTiersData( f68_arg0._controllerIndex )
		f0_local0( f68_arg0._battlePassData )
		f0_local0( f68_arg0._battlePassData, f68_arg0._controllerIndex )
		f0_local0( f68_arg0._battlePassData, f68_arg0._controllerIndex )
		f68_arg0.Grid:SetNumChildren( #f68_arg0._battlePassData )
		f68_arg0.Grid:RefreshContent()
	end
end

local f0_local66 = nil
f0_local66 = function ( f62_arg0 )
	local f62_local0
	if not LUI.FlowManager.IsInStack( "BattlePassRewardPopup" ) and not LUI.FlowManager.IsInStack( "BattlePassOnboardingPopup" ) then
		f62_local0 = not LUI.FlowManager.IsInStack( "BattlePassPurchaseProgressPopup" )
	else
		f62_local0 = false
	end
	if not f62_local0 then
		
	else
		
	end
	if f62_arg0._BRRewardState == f0_local0.PENDING and CONDITIONS.IsBRFirstMatchTierSkipRewardEnabled() then
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassRewardPopup", true, f62_arg0._controllerIndex, false, {
			isBRReward = true,
			onConfirm = function ( f67_arg0 )
				local f67_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
				f67_local0.brRewardPending = nil
				local f67_local1 = f62_arg0
				local f67_local2
				if f67_arg0 then
					f67_local2 = f62_arg0.ONBOARDING_PT1
					if not f67_local2 then
					
					else
						f67_local1._BRRewardState = f67_local2
						if not f67_arg0 then
							f62_arg0( f62_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/REWARD_ERROR_MESSAGE" ) )
						elseif LUI.IsLastInputMouseNavigation( f62_arg0._controllerIndex ) then
							LUI.FlowManager.RequestLeaveMenuByName( "BattlePassRewardPopup", true )
							f62_arg0( f62_arg0 )
						end
					end
				end
				f67_local2 = f62_arg0.NONE
			end
		}, nil, false, true )
	elseif f62_arg0._BRRewardState == f0_local0.ONBOARDING_PT1 and not LUI.FlowManager.IsInStack( "BattlePassRewardPopup" ) then
		if not Onboarding.BattlePass.WasCompleted( f62_arg0, f62_arg0._controllerIndex ) then
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f62_arg0._controllerIndex, false, {
				currentPage = 1,
				overrideAction = function ()
					Engine.EBCGADABJ()
					LUI.FlowManager.RequestLeaveMenuByName( "BattlePassOnboardingPopup" )
					f62_arg0._BRRewardState = f62_arg0.REDEEMING
					f62_arg0( f62_arg0 )
				end
			} )
		else
			f62_arg0._BRRewardState = f0_local0.REDEEMING
			f0_local0( f62_arg0 )
		end
	elseif f62_arg0._BRRewardState == f0_local0.REDEEMING then
		if not f62_arg0._animatingBRReward then
			f62_arg0._animatingBRReward = true
			Engine.BJDBIAGIDA( SOUND_SETS.storefront.smokeCardSlam )
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f62_arg0._controllerIndex, false, {
				tierSkipID = BATTLEPASS.SINGLE_TIER_SKIP_ID
			} )
			local f62_local1 = f62_arg0:Wait( 1500 )
			f62_local1.onComplete = function ()
				LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup", true, true )
				f62_arg0._autoTierSkip = true
				f62_arg0._animatingBRReward = false
				f62_arg0( f62_arg0, f62_arg0._controllerIndex )
				f62_arg0._BRRewardState = f62_arg0.ONBOARDING_PT2
			end
			
		end
	elseif f62_arg0._BRRewardState == f0_local0.ONBOARDING_PT2 then
		f62_arg0._autoTierSkip = false
		if not Onboarding.BattlePass.WasCompleted( f62_arg0, f62_arg0._controllerIndex ) then
			local f62_local2 = f62_arg0:Wait( 1500 )
			f62_local2.onComplete = function ()
				local f63_local0 = {
					currentPage = 2,
					closeAction = function ()
						f63_local0._BRRewardState = f63_local0.UPSELLING
						f63_local0( f63_local0 )
					end
				}
				LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f62_arg0._controllerIndex, false, f63_local0 )
			end
			
		else
			f62_arg0._BRRewardState = f0_local0.UPSELLING
			f0_local0( f62_arg0 )
		end
	elseif f62_arg0._BRRewardState == f0_local0.UPSELLING then
		if f0_local0( f62_arg0 ) then
			f0_local0( f62_arg0 )
		end
		f62_arg0._BRRewardState = f0_local0.NONE
	end
end

function PreLoadFunc( f61_arg0, f61_arg1, f61_arg2 )
	f61_arg0._displayBattlePassInAAR = f61_arg2.displayBattlePassInAAR ~= nil
end

local f0_local67 = function ( f60_arg0 )
	local f60_local0 = LOOT.itemSourceExclusivity.NONE
	local f60_local1 = f60_arg0._currentChild.itemData.lootTable[f60_arg0._lootIndex].lootID
	if f60_local1 then
		f60_local0 = LOOT.GetGameSourceExclusivityByItemID( f60_local1 )
	end
	f60_arg0._isGameSourceUpsellItemFocused = f60_local0 == LOOT.itemSourceExclusivity.CW_EXCLUSIVE
	local f60_local2 = f60_arg0._isGameSourceUpsellItemFocused
	if f60_local2 then
		if STORE.IsZeusOwned( f60_arg0._controllerIndex ) and Dvar.IBEGCHEFE( "RONTRKPRP" ) ~= true then
			f60_local2 = false
		else
			f60_local2 = true
		end
	end
	f60_arg0._shouldShowGameSourceUpsell = f60_local2
	f60_local2 = ACTIONS.AnimateSequence
	local f60_local3 = f60_arg0
	local f60_local4
	if f60_arg0._shouldShowGameSourceUpsell then
		f60_local4 = "ShowGameSourceUpsell"
	else
		f60_local4 = "HideGameSourceUpsell"
	end
	f60_local2( f60_local3, f60_local4 )
end

local f0_local68 = function ( f59_arg0, f59_arg1 )
	local f59_local0 = #f59_arg0._currentChild.itemData.lootTable
	if 1 < f59_local0 then
		if f59_arg1.button == "up" then
			if f59_arg0._lootIndex < f59_local0 then
				f59_arg0._lootIndex = f59_arg0._lootIndex + 1
			else
				f59_arg0._lootIndex = 1
			end
		elseif f59_arg1.button == "down" then
			if 1 < f59_arg0._lootIndex then
				f59_arg0._lootIndex = f59_arg0._lootIndex - 1
			else
				f59_arg0._lootIndex = f59_local0
			end
		end
		f0_local0( f59_arg0 )
		f59_arg0._currentChild:CycleLootCards( f59_arg0._lootIndex )
		f0_local0( f59_arg0._currentChild, f59_arg0, f59_arg0._currentChild.isLockedWithBattlePass, f59_arg0._isBattlePassPopup )
		f0_local0( f59_arg0 )
	end
end

local f0_local69 = function ( f19_arg0, f19_arg1, f19_arg2 )
	f19_arg0.AnimateXPEarned = f0_local0
	f19_arg0.AnimateXPEarnedInAAR = f0_local0
	f19_arg0.AnimateUnlocks = f0_local0
	f19_arg0.AnimateShowcase = f0_local0
	f19_arg0.AnimateVanguardTierEvent = f0_local0
	f19_arg0.UpdateMenuDisplay = f0_local0
	f19_arg0.CycleLootCards = f0_local0
	f19_arg0._screenOpenedTime = Engine.DEIDGHDBHD()
	f19_arg0.OpenBattlePassPopup = f0_local0
	f19_arg0.Grid = f19_arg0.BattlePassGridContainer.Grid
	f19_arg0.HorizontalScrollbar = f19_arg0.BattlePassGridContainer.HorizontalScrollbar
	f19_arg0._delayBlueprintIcon = true
	ACTIONS.ScaleFullscreen( f19_arg0.Background )
	if not f19_arg2.displayBattlePassInAAR then
		Engine.DHFCHIIJCA( "quartermaster" )
	end
	local f19_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	f19_arg0._maxBattlePassLevel = BATTLEPASS.GetMaxTier()
	f19_arg0._controllerIndex = f19_arg1
	f19_arg0._battlePassXP = BATTLEPASS.GetLastMenuXP( f19_arg0._controllerIndex )
	if f19_arg2.displayBattlePassInAAR then
		f19_arg0._battlePassXP = f19_arg2.battlePassData.startTierXP
	end
	f19_arg0._previousXP = f19_arg0._battlePassXP
	f19_arg0._battlePassOwned = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
	f19_arg0._battlePassData = BATTLEPASS.GetAllTiersData( f19_arg0._controllerIndex )
	f19_arg0._availableCODPoints = Commerce.CEDDCGHIGA( f19_arg0._controllerIndex, LOOT.CurrencyIDs.COD_POINTS )
	f19_arg0._currentLevel = BATTLEPASS.GetTier( f19_arg0._controllerIndex )
	if f19_arg2.displayBattlePassInAAR then
		f19_arg0._currentLevel = BATTLEPASS.GetTierByXP( f19_arg0._controllerIndex, f19_arg0._battlePassXP )
	end
	f19_arg0._isAnimating = false
	f19_arg0._isExpanded = false
	f19_arg0._currentChild = nil
	f19_arg0._autoTierSkip = f19_arg2.tierSkipID ~= nil
	f19_arg0._displayBattlePassInAAR = f19_arg2.displayBattlePassInAAR ~= nil
	f19_arg0._isBattlePassPopup = f19_arg2.isBattlePassPopup
	local f19_local1 = f19_arg0._isBattlePassPopup
	if not f19_local1 then
		f19_local1 = f19_arg0._displayBattlePassInAAR
		if not f19_local1 then
			f19_local1 = f19_arg2.isStandalone or f19_arg2.purchaseBattlePassInAAR
		end
	end
	f19_arg0._isStandalone = f19_local1
	f19_arg0._needFixUp = f0_local0( f19_arg0 )
	f19_arg0._itemSelectionComplete = true
	f19_arg0._lootIndex = 1
	if not f19_arg0._isStandalone and BATTLEPASS.BRRewardAvailable( f19_arg0._controllerIndex ) then
		local f19_local2 = f19_local0.brRewardPending
		local f19_local3 = f0_local0.PENDING
	end
	f19_arg0._BRRewardState = f19_local2 and f19_local3 or f0_local0.NONE
	f19_arg0._allowTierBank = f19_arg2.allowTierBank
	f19_arg0._shouldShowVGOnboarding = CONDITIONS.ShouldShowVanguardBPSplitTiersEvent( f19_arg0, f19_arg0._controllerIndex )
	f19_arg0._hasSeenVGSplitTierVid = false
	if f19_local0.crmPurchaseBattlePass then
		f19_local0.crmPurchaseBattlePass = nil
		f19_arg0._crmPurchaseBattlePass = true
	end
	if f19_arg0._BRRewardState == f0_local0.PENDING then
		f19_arg0._battlePassXP = BATTLEPASS.GetXP()
		f19_arg0._previousXP = f19_arg0._battlePassXP
	end
	f19_arg0.GetPurchaseAction = f0_local0
	f19_arg0.TriggerAutoTierSkip = f0_local0
	f19_arg0.TriggerPurchaseBattlePassInAAR = f0_local0
	f19_arg0.TriggerDisplayBattlePassInAAR = f0_local0
	f19_arg0.TriggerPurchaseBattlePassInStore = f0_local0
	f19_arg0.TriggerPurchaseBattlePassInVIPGift = f0_local0
	f19_arg0.DisableBundleBonusTopper = f0_local0
	f19_arg0:addElement( LOOT.GetLootFlareMaterialStreamer() )
	f19_arg0.BattlePassStatus:UpdateActiveBanner( f19_arg0._battlePassOwned )
	f0_local0( f19_arg0._battlePassData )
	f0_local0( f19_arg0._battlePassData, f19_arg0._controllerIndex )
	f0_local0( f19_arg0._battlePassData, f19_arg0._controllerIndex )
	f19_arg0.BillboardImg:SetMask( f19_arg0.CenterOutMask )
	f19_arg0.FadeCover:SetMask( f19_arg0.CenterOutMaskFade )
	f19_local1 = function ( f56_arg0, f56_arg1, f56_arg2 )
		local f56_local0 = f19_arg0._battlePassData[f56_arg1 + 1]
		local f56_local1 = tonumber( f56_local0.level )
		local f56_local2 = f56_local1 <= 0
		local f56_local3 = f56_local1 == BATTLEPASS.BUNDLE_TOPPER_ITEM_LEVEL
		local f56_local4 = {}
		local f56_local5 = Dvar.IBEGCHEFE( "NKPPMRTRRK" )
		for f56_local11, f56_local12 in ipairs( f56_local0.lootTable ) do
			local f56_local9
			if f56_local12 then
				f56_local9 = f56_local12
			else
				f56_local9 = f56_local12.lootID
			end
			if f56_local9 then
				local f56_local10 = LOOT.IsItemIDEquippableByS4( f56_local9 )
				if not f56_local10 or f56_local5 then
					if f56_local10 and f56_local11 ~= 1 then
						f56_local4[f56_local11] = f56_local4[1]
						f56_local4[1] = f56_local12
					else
						f56_local4[f56_local11] = f56_local12
						goto basicblock_13:
					end
				end
			end
			f56_local4[f56_local11] = f56_local12
		end
		f56_local0.lootTable = f56_local4
		f56_local6 = f56_local0.lootTable[1]
		if 1 < #f56_local0.lootTable then
			if f56_local6 then
				f56_local7 = f56_local6
			else
				f56_local7 = f56_local6._gameSourceId
			end
		else
			f56_local7 = false
		end
		f56_arg0._isMultiItemGameSourceTier = f56_local7
		f56_arg0.itemData = f56_local0
		f56_arg0:SetupLootData( f56_local0 )
		f56_local7 = f56_arg0.lootData
		f56_arg0:SetBattlePassOwned( f19_arg0._battlePassOwned )
		f56_local12 = f56_arg0
		f56_local8 = f56_arg0.SetTopBanner
		local f56_local9 = f56_local0.isFree == "1"
		local f56_local10
		if not f19_arg0._battlePassOwned then
			f56_local10 = f56_local2
		else
			f56_local10 = false
		end
		f56_local8( f56_local12, f56_local9, f56_local10, f56_local3 )
		f56_arg0:SetIsAnimating( f19_arg0._isAnimating )
		f56_arg0:EnableGlow( false )
		f56_local8 = 0
		if not f56_local2 then
			f56_local11 = tonumber( f56_local0.xp )
			if f56_local11 <= f19_arg0._battlePassXP then
				f56_local8 = 1
			else
				f56_local12 = 0
				if 1 < f56_local1 and not f56_local3 then
					f56_local12 = BATTLEPASS.GetTierMinXP( f56_local1 - 1 )
				end
				if f56_local12 < f19_arg0._battlePassXP then
					f56_local8 = (f19_arg0._battlePassXP - f56_local12) / (f56_local11 - f56_local12)
				end
			end
			if f56_local8 ~= 1 then
				ACTIONS.AnimateSequence( f56_arg0, "HideCheckbox" )
			end
		elseif f19_arg0._battlePassOwned then
			f56_local8 = 1
		else
			f56_local8 = 0
		end
		f56_local11 = f56_local1
		if f56_local2 or f56_local3 then
			f56_local11 = nil
		end
		f56_arg0:SetLevel( f56_local11, f56_local0.showProgress )
		f56_arg0:SetProgress( f56_local8, 0 )
		f56_arg0:SetIsBundleBonus( f56_local3 )
		if f56_local0.lootTable[1].challengeID and f56_local0.lootTable[1].challengeID ~= "" then
			f56_arg0:ShowMission( true )
		else
			f56_arg0:ShowMission( false )
		end
		f56_arg0._column = f56_arg1
		f56_arg0:UpdateExpandedState()
		f56_local12 = f56_local8 == 1
		f56_local9 = f56_local8 < 1
		f56_local10 = f56_local0.isFree == "1"
		local f56_local13
		if f56_local8 ~= 1 or f56_local0.isFree == "1" then
			f56_local13 = false
		else
			f56_local13 = true
		end
		if f56_local10 and f56_local12 then
			local f56_local14 = f56_local2
		else
			local f56_local14 = true
		end
		local f56_local15
		if not f56_local12 then
			f56_local15 = not f56_local2
		else
			f56_local15 = false
		end
		f56_arg0.isLockedWithBattlePass = f56_local15
		f56_arg0:SetOwned( f56_local12 )
		local f56_local16 = f56_arg0
		local f56_local17 = f56_arg0.SetLocked
		local f56_local18
		if not f19_arg0._battlePassOwned then
			if not f56_local2 then
				f56_local18 = f56_local2
			elseif not f56_local13 then
				f56_local18 = f56_local13
			elseif f56_local9 then
				f56_local18 = f56_local9
			else
				f56_local18 = not f56_local2
			end
		elseif f56_local9 then
			f56_local18 = f56_local9
		else
			f56_local18 = not f56_local2
		end
		f56_local17( f56_local16, f56_local18 )
		if not f56_local12 and (not f56_local2 or not f19_arg0._battlePassOwned) then
			f56_arg0:SetPromoted( BATTLEPASS.GetTierLootIsPromoted( f19_arg0._controllerIndex, f56_local1, f56_local0.subTierID ) )
			f56_arg0:SetShowcased( BATTLEPASS.GetTierLootIsShowcased( f19_arg0._controllerIndex, f56_local1, f56_local0.subTierID ) )
		else
			f56_arg0:SetShowcased( false )
			f56_arg0:SetPromoted( false )
		end
		f56_arg0:SetDirectionalInputEnabled( not f19_arg0._isAnimating )
		if not f56_arg0._buttonHandlerAdded then
			f56_arg0._buttonHandlerAdded = true
			f56_arg0:addEventHandler( "button_over", function ( f58_arg0, f58_arg1 )
				if f56_arg0._focusItem == nil or f56_arg0._focusItem ~= f58_arg0 then
					if f56_arg0._focusItem ~= nil then
						f56_arg0( f56_arg0._focusItem, false )
						f56_arg0._focusItem:processEvent( {
							name = "lose_active"
						} )
					end
					f56_arg0._focusItem = f58_arg0
					f56_arg0._currentChild = f56_arg0
					f56_arg0._lootIndex = 1
				end
				f56_arg0( f56_arg0 )
				local f58_local0
				if not (tonumber( f56_arg0.itemData.level ) <= 0) then
					f58_local0 = not f56_arg0._isOwned
				else
					f58_local0 = false
				end
				f56_arg0.BillboardImg:SetHandleMouse( f58_local0 )
				f56_arg0( f56_arg0, f56_arg0, f58_local0, f56_arg0._isBattlePassPopup )
				f56_arg0( f56_arg0 )
			end )
			f56_arg0:addEventHandler( "button_action", function ( f57_arg0, f57_arg1 )
				local f57_local0
				if f57_arg1.keyboard then
					f57_local0 = f56_arg0._battlePassOwned
				else
					f57_local0 = true
				end
				if f56_arg0._shouldShowGameSourceUpsell and f57_local0 then
					LUI.FlowManager.RequestPopupMenu( f56_arg0, "WZCWUpsellPopup", true, f56_arg0._controllerIndex, false )
				elseif not f57_arg1.keyboard then
					if not f56_arg0._isAnimating and f57_arg1.controller == f56_arg0._controllerIndex and not f56_arg0._displayBattlePassInAAR and LOOT.CanPreview( f57_arg0.lootData.type, f57_arg0.lootData.itemID ) then
						STORE.PreviewItem( f56_arg0._controllerIndex, f57_arg0.lootData.type, f57_arg0.lootData.itemID, nil, nil, true )
					end
				end
				return true
			end )
		end
	end
	
	if CONDITIONS.IsBattlePassBundleTopperActive() then
		local f19_local4 = Engine.DEIDGHDBHD()
		local f19_local5 = Dvar.CFHDGABACF( "LKOKTLQSPT" )
		local f19_local6
		if f19_local4 < f19_local5 then
			f19_local6 = f19_local5 - f19_local4
			if not f19_local6 then
			
			else
				f19_arg0._gridTimer = LUI.UITimer.new( {
					event = "disable_bp_topper_timer",
					interval = BATTLEPASS.TOPPER_TIMER_MAX_THRESHOLD_MS and BATTLEPASS.TOPPER_TIMER_MAX_THRESHOLD_TIMER_TICK_MS or f19_local6 * 1000
				} )
				f19_arg0._gridTimer.id = "bpTopperTimerGrid"
				f19_arg0:addElement( f19_arg0._gridTimer )
				f19_arg0:addAndCallEventHandler( "disable_bp_topper_timer", function ()
					local f55_local0 = Engine.DEIDGHDBHD()
					local f55_local1 = Dvar.CFHDGABACF( "LKOKTLQSPT" )
					local f55_local2
					if f55_local0 < f55_local1 then
						f55_local2 = f55_local1 - f55_local0
						if not f55_local2 then
						
						else
							if f55_local2 == 0 then
								f19_arg0:DisableBundleBonusTopper( f19_arg0 )
							end
						end
					end
					f55_local2 = 0
				end )
			end
		end
		f19_local6 = 0
	end
	f19_arg0.Grid:SetSnapOnWrapEnabled( true )
	f19_arg0.Grid:SetRefreshChild( f19_local1 )
	f19_arg0.Grid:SetNumChildren( #f19_arg0._battlePassData )
	f19_arg0.Grid:SetMeasureColumnFunction( LUI.ExpanderUtils.GenerateMeasureColumnFunction( 150 * _1080p ) )
	f19_arg0.Grid:RefreshContent()
	local f19_local4 = Onboarding.BattlePass.WasCompleted( f19_arg0, f19_arg0._controllerIndex )
	f19_arg0.Grid:SetNotifyOnLayoutInit( true )
	f19_arg0.Grid:addEventHandler( "layout_initialized", function ()
		f19_arg0 = Onboarding.BattlePass.WasCompleted( f19_arg0, f19_arg0._controllerIndex )
		local f54_local0 = BATTLEPASS.HasNewPassForSeason( f19_arg0._controllerIndex )
		if f54_local0 then
			f54_local0 = not BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		end
		local f54_local1
		if not f54_local0 then
			f54_local1 = f54_local0
		else
			f54_local1 = Dvar.IBEGCHEFE( "battlepass_always_show_upsell" )
			if f54_local1 then
				f54_local1 = not f19_arg0._upsellSeen
			end
		end
		if f19_arg0 and not f54_local1 and f19_arg0._BRRewardState == f19_arg0.NONE and not f19_arg0._crmPurchaseBattlePass then
			f19_arg0( f19_arg0 )
		end
	end )
	if f19_arg0._BRRewardState == f0_local0.NONE and not f19_arg0._isStandalone then
		if f19_arg0._crmPurchaseBattlePass and not BATTLEPASS.IsOwned( f19_arg0._controllerIndex ) then
			Onboarding.BattlePass.MarkCompleted( f19_arg0, f19_arg0._controllerIndex )
			BATTLEPASS.MarkPassSeenForSeason( f19_arg0._controllerIndex, SEASON.GetCurrentSeasonDataNum() )
			f0_local0( f19_arg0, f19_arg1 )
		elseif not f19_local4 then
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f19_arg0._controllerIndex, false )
		end
	end
	if f19_local0.showBattlePassPurchasePopup then
		f19_local0.showBattlePassPurchasePopup = nil
		f0_local0( f19_arg0, f19_arg1 )
	end
	local f19_local5 = function ( f51_arg0, f51_arg1 )
		f19_arg0 = Onboarding.BattlePass.WasCompleted( f19_arg0, f19_arg0._controllerIndex )
		if not f19_arg0._isAnimating and f19_arg0 then
			if f19_arg0( f19_arg0 ) then
				if Dvar.IBEGCHEFE( "battlepass_use_showcase_animation" ) then
					f19_arg0:AnimateShowcase()
				else
					f19_arg0( f19_arg0 )
				end
			elseif f19_arg0._shouldShowVGOnboarding and not f19_arg0._hasSeenVGSplitTierVid then
				f19_arg0._hasSeenVGSplitTierVid = true
				local f51_local0 = function ( f52_arg0 )
					return function ()
						f52_arg0:AnimateVanguardTierEvent()
						Onboarding.VanguardBattlePassSplitTiers.MarkCompleted( f52_arg0, f52_arg0._controllerIndex )
					end
					
				end
				
				LUI.FlowManager.RequestPopupMenu( f19_arg0, "CinematicFullscreen", true, f19_arg0._controllerIndex, false, {
					unskippable = false,
					disableQuickAccess = true,
					video = "mtx_vg_tiers_activated_1080",
					skipImmediate = false,
					isEncrypted = true,
					skipVideoOnPartyJoin = true,
					onVideoFinished = f51_local0( f19_arg0._controllerIndex )
				} )
				Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpVGTierRevealVideo )
			end
		end
	end
	
	if f19_arg0._isStandalone then
		if not f19_arg0._displayBattlePassInAAR then
			f19_arg0._battlePassXP = BATTLEPASS.GetXP( f19_arg0._controllerIndex )
		end
		ACTIONS.AnimateSequence( f19_arg0, "SetupStandalone" )
		f19_arg0.HorizontalScrollbar:SetAlpha( 0 )
		f19_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( true )
	else
		f19_arg0:addEventHandler( "gain_focus", function ( f50_arg0, f50_arg1 )
			if f19_arg0._BRRewardState ~= f19_arg0.NONE then
				f19_arg0( f19_arg0 )
			else
				f19_arg0( f50_arg0, f50_arg1 )
			end
		end )
		if LUI.IsLastInputMouseNavigation( f19_arg0._controllerIndex ) then
			f19_arg0:processEvent( {
				name = "gain_focus"
			} )
		end
		f19_arg0:addEventHandler( "restore_focus", function ( f49_arg0, f49_arg1 )
			local f49_local0 = LUI.FlowManager.GetScopedData( f19_arg0 )
			if f19_arg0._BRRewardState ~= f19_arg0.NONE then
				f19_arg0( f19_arg0 )
			elseif f49_local0.restoreTiersPopup then
				f49_local0.restoreTiersPopup = false
				LUI.FlowManager.RequestPopupMenu( f19_arg0, "BattlePassTiersPurchasePopup", true, f19_arg0, false, {
					sourceMenu = f19_arg0,
					tierSkips = f19_arg0._tierSkips
				} )
			elseif f49_local0.isPurchaseFromPreview then
				f49_local0.isPurchaseFromPreview = false
				f19_arg0( f19_arg0, {
					controller = f19_arg0._controllerIndex
				} )
			else
				f19_arg0( f49_arg0, f49_arg1 )
			end
			f19_arg0( f49_arg0 )
			if not f49_arg0._displayBattlePassInAAR then
				Engine.DHFCHIIJCA( "quartermaster" )
			end
		end )
	end
	local f19_local6 = function ()
		f19_arg0._numTransactionsComplete = f19_arg0._numTransactionsComplete + 1
		f19_arg0:dispatchEventToRoot( {
			name = "update_battle_pass_purchasing_popup",
			progress = f19_arg0._numTransactionsComplete / f19_arg0._numTransactions
		} )
	end
	
	f19_arg0.BillboardImg:SetHandleMouse( true )
	f19_arg0.BillboardImg:registerEventHandler( "leftmousedown", function ( element, event )
		return true
	end )
	f19_arg0.BillboardImg:registerEventHandler( "leftmouseup", function ( element, event )
		f19_arg0( f19_arg0, event )
		return true
	end )
	if f19_arg0.BattlePassPurchaseButton then
		f19_arg0.BattlePassPurchaseButton:addEventHandler( "button_action", function ( f45_arg0, f45_arg1 )
			if LUI.IsLastInputKeyboardMouse( f19_arg0._controllerIndex ) then
				f19_arg0( f19_arg0, f45_arg1 )
			end
		end )
	end
	f19_arg0:addEventHandler( "loot_item_transaction_complete", function ( f44_arg0, f44_arg1 )
		f19_arg0()
		f19_arg0._queuedRef = nil
	end )
	f19_arg0:addEventHandler( "loot_item_transaction_error", function ( f43_arg0, f43_arg1 )
		if f43_arg1.errorCode == STORE.ProductNoLongerAvailableError then
			LUI.FlowManager.RequestPopupMenu( nil, "ProductNoLongerAvailableErrorPopup", true, f19_arg0, false )
		end
		DebugPrint( "BattlePass loot_item_transaction_error for ref: " .. f19_arg0._queuedRef )
		f19_arg0._purchaseEnabled = true
		f19_arg0._errorCode = BATTLEPASS.GetErrorCode( f43_arg1.name, f19_arg0._queuedRef )
	end )
	f19_arg0:addEventHandler( "battlepass_activation_failed", function ( f42_arg0, f42_arg1 )
		DebugPrint( "BattlePass battlepass_activation_failed for ref: " .. f19_arg0._queuedRef )
		f19_arg0._purchaseEnabled = true
		f19_arg0._errorCode = BATTLEPASS.GetErrorCode( f42_arg1.name, f19_arg0._queuedRef )
	end )
	f19_arg0:addEventHandler( "cycle_loot_cards", function ( f41_arg0, f41_arg1 )
		f19_arg0:CycleLootCards( {
			button = "down"
		} )
	end )
	local f19_local7 = function ( f40_arg0, f40_arg1 )
		if f40_arg0._currentChild then
			if (f40_arg0._currentChild.lootData.type == LOOT.itemTypes.WEAPON) or f40_arg0._missionChallengeID then
				f19_arg0( f40_arg0, f40_arg1 )
			else
				f19_arg0( f40_arg0, f40_arg1 )
			end
		else
			f19_arg0( f40_arg0, f40_arg1 )
		end
	end
	
	local f19_local8 = function ( f39_arg0, f39_arg1 )
		local f39_local0 = CONDITIONS.IsGiftingEnabled()
		if f39_local0 then
			f39_local0 = BATTLEPASS.IsOwned( f39_arg0._controllerIndex )
		end
		if f39_local0 then
			f19_arg0( f39_arg0, f39_arg1 )
		end
	end
	
	local f19_local9 = function ( f38_arg0, f38_arg1 )
		local f38_local0
		if f38_arg1.keyboard then
			f38_local0 = f38_arg0._battlePassOwned
		else
			f38_local0 = true
		end
		if f38_arg0._shouldShowGameSourceUpsell and f38_local0 then
			LUI.FlowManager.RequestPopupMenu( f38_arg0, "WZCWUpsellPopup", true, f38_arg0._controllerIndex, false )
		end
	end
	
	local f19_local10 = GRID.SetUpArrowScrolling
	local f19_local11 = f19_arg0
	local f19_local12 = f19_arg1
	local f19_local13 = {
		numGridItemsShown = f0_local0,
		scrollStepsForward = f0_local0,
		scrollStepsBack = f0_local0,
		onUpdateInputType = f0_local0,
		ignoreCondition = f19_arg0._displayBattlePassInAAR
	}
	local f19_local14 = {
		button_left_trigger = LUI.IsLastInputKeyboardMouse( f19_arg0._controllerIndex ) and f0_local0 or nil,
		button_alt1 = f0_local0,
		button_alt2 = f19_local8,
		button_right_stick = f19_local7,
		button_left_stick = f0_local0
	}
	local f19_local15
	if LUI.IsLastInputKeyboardMouse( f19_arg0._controllerIndex ) and not f19_local9 then
		f19_local15 = f19_local9
	else
		f19_local15 = nil
	end
	f19_local14.button_right_trigger = f19_local15
	f19_local13.bindButtonInput = f19_local14
	f19_local13.bitsToSetOnScroll = {
		f19_arg0._delayBlueprintIcon
	}
	f19_local13.kbmArrowUI = {
		leftArrow = f19_arg0.LeftArrow,
		rightArrow = f19_arg0.RightArrow
	}
	f19_local13.gamePadArrowUI = {
		leftPrompt = f19_arg0.LeftPrompt,
		rightPrompt = f19_arg0.RightPrompt
	}
	f19_local10( f19_local11, f19_local12, f19_local13 )
	f19_arg0:addEventHandler( "battlepass_event_complete", function ( f37_arg0, f37_arg1 )
		DebugPrint( "BattlePass battlepass_event_complete for ref: " .. f19_arg0._queuedRef )
		f19_arg0()
		f19_arg0._battlePassOwned = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		f19_arg0.BattlePassStatus:UpdateActiveBanner( f19_arg0._battlePassOwned )
		if tonumber( StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f19_arg0._queuedRef, CSV.battlePassIDs.cols.type ) ) == BATTLEPASS.ItemTypes.TIER_SKIP and f37_arg1.controller then
			local f37_local0 = CSV.ReadRowWithFile( CSV.battlePassIDs, CSV.battlePassIDs.file, StringTable.BJJBBCJGEJ( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f19_arg0._queuedRef ) )
			Engine.CEJJDJJHIJ( f37_arg1.controller, "dlog_event_bp_tier_up", {
				previous_bp_tier = f37_arg1.rank - tonumber( f37_local0.skips ),
				new_bp_tier = f37_arg1.rank,
				reason = f37_local0.event
			} )
		end
		if f19_arg0._activation then
			if f19_arg0._activation.id and f19_arg0._activation.count then
				if f19_arg0._activation.id == f19_arg0._activation.count then
					f19_arg0._queuedPurchase = nil
				end
			else
				f19_arg0._queuedPurchase = nil
			end
		end
		f19_arg0._queuedRef = nil
		if CONDITIONS.IsGiftingEnabled() and f19_arg0._battlePassOwned then
			f19_arg0:AddButtonPrompt( {
				side = "left",
				button_ref = "button_alt2",
				priority = 6,
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU_MP/GIFT_BATTLEPASS" )
			} )
		end
	end )
	f19_arg0:addEventHandler( "battlepass_send_event_failed", function ( f36_arg0, f36_arg1 )
		DebugPrint( "BattlePass battlepass_send_event_failed for ref: " .. f19_arg0._queuedRef )
		f19_arg0._errorCode = BATTLEPASS.GetErrorCode( f36_arg1.name, f19_arg0._queuedRef )
	end )
	f19_local10 = function ()
		LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
		f19_arg0._needFixUp = f19_arg0( f19_arg0 )
		f19_arg0._battlePassOwned = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		f19_arg0._battlePassXP = BATTLEPASS.GetXP( f19_arg0._controllerIndex )
		if f19_arg0._fixingUp then
			f19_arg0._fixingUp = false
			f19_arg0:Wait( 1, true )
		end
	end
	
	f19_arg0:addEventHandler( "battlepass_fixup_complete", function ( f32_arg0, f32_arg1 )
		DebugPrint( "BattlePass battlepass_fixup_complete" )
		local f32_local0 = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		local f32_local1 = BATTLEPASS.GetXP( f19_arg0._controllerIndex )
		local f32_local2 = f19_arg0._battlePassOwned ~= f32_local0
		local f32_local3 = f19_arg0._battlePassXP ~= f32_local1
		f19_arg0()
		f19_arg0.BattlePassStatus:UpdateActiveBanner( f32_local0 )
		local f32_local4 = nil
		if f32_local2 and f32_local3 then
			f32_local4 = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_TIER_BUNDLE_UNLOCKED
		elseif f32_local2 then
			f32_local4 = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_UNLOCKED
		elseif f32_local3 then
			f32_local4 = BATTLEPASS.FullScreenPopupStates.TIERS_UNLOCKED
		else
			f32_local4 = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_UNLOCKED
		end
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f19_arg0._controllerIndex, false, {
			state = f32_local4
		}, nil, false, true )
		local f32_local5 = nil
		local f32_local6 = function ()
			local f33_local0 = f32_arg0:Wait( 100 )
			f33_local0.onComplete = function ()
				if LUI.FlowManager.IsInStack( "BattlePassFullScreenPopup" ) then
					f33_local0()
				else
					local f34_local0 = f33_local0
					local f34_local1 = f33_local0
					local f34_local2 = f33_local0
					if f34_local2 then
						f34_local2 = not f33_local0
					end
					f34_local0( f34_local1, f34_local2 )
				end
			end
			
		end
		
		f32_local6()
	end )
	f19_arg0:addEventHandler( "battlepass_fixup_failed", function ( f31_arg0, f31_arg1 )
		DebugPrint( "BattlePass battlepass_fixup_failed" )
		f19_arg0()
		f19_arg0( f19_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/FAILED_CLAIM", "BATTLEPASS/BATTLE_PASS_TOKENS" ) )
	end )
	LAYOUT.AddAspectRatioFadeFrame( f19_arg0, f19_arg1 )
	ACTIONS.ScaleFullscreen( f19_arg0.Background )
	f19_arg0:addAndCallEventHandler( "onVideoChange", function ()
		f19_arg0.VignetteRight:SetScale( CoD.GetAspectRatioScaleAdjust( 0.65 ) )
		f19_arg0.VignetteLeft:SetScale( CoD.GetAspectRatioScaleAdjust( 0.5 ) )
	end )
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f19_arg0, "AR" )
	elseif IsLanguageJapanese() then
		ACTIONS.AnimateSequence( f19_arg0, "JP" )
	end
	f19_arg0:addEventHandler( "gamepad_button", function ( f29_arg0, f29_arg1 )
		if f29_arg1.controller ~= f19_arg0._controllerIndex then
			if f29_arg1.button == "left" or f29_arg1.button == "right" or f29_arg1.button == "up" or f29_arg1.button == "down" then
				return true
			end
		elseif f29_arg1.down and not f19_arg0._isAnimating and (f29_arg1.button == "up" or f29_arg1.button == "down") then
			f19_arg0( f19_arg0, f29_arg1 )
		end
	end )
	f19_arg0:addEventHandler( "purchase_aar_battlepass", function ( f28_arg0, f28_arg1 )
		f19_arg0( f19_arg0, f19_arg0 )
	end )
	if f19_arg0._isBattlePassPopup then
		f19_arg0:addEventHandler( "menu_create", function ( f27_arg0, f27_arg1 )
			f19_arg0( f19_arg0 )
		end )
	else
		f19_arg0:addEventHandler( "tab_create", function ()
			f19_arg0._currentMenu = f19_arg0:GetCurrentMenu( f19_arg0 )
			f19_arg0( f19_arg0 )
		end )
	end
	if CONDITIONS.IsWZWipDvarEnabled() then
		ACTIONS.AnimateSequence( f19_arg0, "WZWipSetup" )
	end
	f19_local11 = LUI.FlowManager.GetScopedData( "MainMenu" )
	if f19_local11 and f19_local11.ShouldHandleGiftBattlePass then
		f19_local11.ShouldHandleGiftBattlePass = nil
		f19_local12 = function ( f24_arg0 )
			if not Onboarding.BattlePass.WasCompleted( f24_arg0, f24_arg0._controllerIndex ) then
				LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f24_arg0._controllerIndex, true, {
					skipDelay = true,
					menu = f24_arg0,
					closeAction = function ( f25_arg0 )
						f24_arg0( f25_arg0, {
							controller = f25_arg0._controllerIndex
						} )
					end
				} )
			else
				f19_arg0( f24_arg0, {
					controller = f24_arg0._controllerIndex
				} )
			end
		end
		
		f19_local13 = nil
		f19_local14 = function ( f22_arg0 )
			local f22_local0 = f22_arg0:Wait( 100 )
			f22_local0.onComplete = function ( f23_arg0 )
				if LUI.FlowManager.IsInStack( "BattlePassOnboardingPopup" ) then
					f22_arg0( f23_arg0 )
				else
					f22_arg0( f23_arg0 )
				end
			end
			
		end
		
		f19_local14( f19_arg0 )
	end
	if not f19_arg0._isBattlePassPopup then
		f19_arg0:addAndCallEventHandler( "gift_queued_in", function ( f21_arg0, f21_arg1 )
			f19_arg0( f19_arg0 )
			return true
		end )
	end
	f19_arg0:registerEventHandler( "claim_pending_bp_purchase_gift", function ( element, event )
		f19_arg0._needFixUp = f19_arg0( f19_arg0 )
		f19_arg0( f19_arg0, event )
		Engine.BJDBIAGIDA( SOUND_SETS.storefront.smokeCardSlam )
		f19_arg0._autoTierSkip = true
		f19_arg0._animatingBRReward = false
		f19_arg0( f19_arg0, f19_arg0._controllerIndex )
		f19_arg0._BRRewardState = f19_arg0.ONBOARDING_PT2
	end )
	f19_arg0.OpenGiftingPopup = f0_local0
end

function BattlePassMenu( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "BattlePassMenu"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	PreLoadFunc( self, f1_local1, controller )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromInt( 0, 0 )
	Background:SetAlpha( 0.9, 0 )
	Background:setImage( RegisterMaterial( "widg_gradient_bottom_to_top" ), 0 )
	self:addElement( Background )
	self.Background = Background
	
	local BillboardImg = nil
	
	BillboardImg = LUI.UIImage.new()
	BillboardImg.id = "BillboardImg"
	BillboardImg:setImage( RegisterMaterial( "mw_store_billboard_placeholder" ), 0 )
	BillboardImg:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -340, _1080p * 380 )
	self:addElement( BillboardImg )
	self.BillboardImg = BillboardImg
	
	local CenterOutMask = nil
	
	CenterOutMask = LUI.UIImage.new()
	CenterOutMask.id = "CenterOutMask"
	CenterOutMask:setImage( RegisterMaterial( "ui_mp_br_shared_item_mask" ), 0 )
	CenterOutMask:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -355, _1080p * 405 )
	self:addElement( CenterOutMask )
	self.CenterOutMask = CenterOutMask
	
	local FadeCover = nil
	
	FadeCover = LUI.UIImage.new()
	FadeCover.id = "FadeCover"
	FadeCover:SetRGBFromInt( 0, 0 )
	FadeCover:SetAlpha( 0, 0 )
	FadeCover:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -463, _1080p * 486 )
	self:addElement( FadeCover )
	self.FadeCover = FadeCover
	
	local CenterOutMaskFade = nil
	
	CenterOutMaskFade = LUI.UIImage.new()
	CenterOutMaskFade.id = "CenterOutMaskFade"
	CenterOutMaskFade:setImage( RegisterMaterial( "ui_mp_br_shared_item_mask" ), 0 )
	CenterOutMaskFade:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -1038, _1080p * 1007, _1080p * -404, _1080p * 409 )
	self:addElement( CenterOutMaskFade )
	self.CenterOutMaskFade = CenterOutMaskFade
	
	local VignetteRight = nil
	
	VignetteRight = LUI.UIImage.new()
	VignetteRight.id = "VignetteRight"
	VignetteRight:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteRight:SetAlpha( 0.3, 0 )
	VignetteRight:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	VignetteRight:SetAnchorsAndPosition( 1, 0, 0, 0, 0, _1080p * -467, 0, 0 )
	self:addElement( VignetteRight )
	self.VignetteRight = VignetteRight
	
	local VignetteLeft = nil
	
	VignetteLeft = LUI.UIImage.new()
	VignetteLeft.id = "VignetteLeft"
	VignetteLeft:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteLeft:SetAlpha( 0.9, 0 )
	VignetteLeft:setImage( RegisterMaterial( "widg_gradient_left_to_right" ), 0 )
	VignetteLeft:SetAnchorsAndPosition( 1, 0, 0, 0, _1080p * -1920, _1080p * -1030, 0, 0 )
	self:addElement( VignetteLeft )
	self.VignetteLeft = VignetteLeft
	
	local LeftPrompt = nil
	
	LeftPrompt = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = "LUA_MENU/PAD_LEFT_TRIGGER_BUTTON",
		controllerIndex = f1_local1
	} )
	LeftPrompt.id = "LeftPrompt"
	LeftPrompt:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	LeftPrompt:setImage( RegisterMaterial( "button_trigger_left" ), 0 )
	LeftPrompt:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -771, _1080p * -727, _1080p * -267, _1080p * -223 )
	self:addElement( LeftPrompt )
	self.LeftPrompt = LeftPrompt
	
	local RightPrompt = nil
	
	RightPrompt = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = "LUA_MENU/PAD_RIGHT_TRIGGER_BUTTON",
		controllerIndex = f1_local1
	} )
	RightPrompt.id = "RightPrompt"
	RightPrompt:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	RightPrompt:setImage( RegisterMaterial( "button_trigger_right" ), 0 )
	RightPrompt:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * 727, _1080p * 771, _1080p * -267, _1080p * -223 )
	self:addElement( RightPrompt )
	self.RightPrompt = RightPrompt
	
	local f1_local12 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12 = MenuBuilder.BuildRegisteredType( "BattlePassPurchaseButton", {
			controllerIndex = f1_local1
		} )
		f1_local12.id = "BattlePassPurchaseButton"
		f1_local12:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 72, _1080p * 572, _1080p * 413, _1080p * 613 )
		self:addElement( f1_local12 )
		self.BattlePassPurchaseButton = f1_local12
	end
	local WeaponAttributes = nil
	
	WeaponAttributes = MenuBuilder.BuildRegisteredType( "WeaponAttributes", {
		controllerIndex = f1_local1
	} )
	WeaponAttributes.id = "WeaponAttributes"
	WeaponAttributes:SetAlpha( 0, 0 )
	WeaponAttributes:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 508, _1080p * 433, _1080p * 593 )
	self:addElement( WeaponAttributes )
	self.WeaponAttributes = WeaponAttributes
	
	local QualityText = nil
	
	QualityText = LUI.UIStyledText.new()
	QualityText.id = "QualityText"
	QualityText:setText( Engine.CBBHFCGDIC( "BATTLEPASS/RARITY_AND_TYPE" ), 0 )
	QualityText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	QualityText:SetWordWrap( false )
	QualityText:SetAlignment( LUI.Alignment.Left )
	QualityText:SetOptOutRightToLeftAlignmentFlip( true )
	QualityText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 141, _1080p * 617, _1080p * 218, _1080p * 246 )
	self:addElement( QualityText )
	self.QualityText = QualityText
	
	local RarityIcon = nil
	
	RarityIcon = LUI.UIImage.new()
	RarityIcon.id = "RarityIcon"
	RarityIcon:setImage( RegisterMaterial( "icon_rarity_4" ), 0 )
	RarityIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 128, _1080p * 216, _1080p * 248 )
	self:addElement( RarityIcon )
	self.RarityIcon = RarityIcon
	
	local WeaponDescription = nil
	
	WeaponDescription = LUI.UIStyledText.new()
	WeaponDescription.id = "WeaponDescription"
	WeaponDescription:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	WeaponDescription:setText( "some random text here", 0 )
	WeaponDescription:SetFont( FONTS.GetFont( FONTS.BodyRegular.File ) )
	WeaponDescription:SetAlignment( LUI.Alignment.Left )
	WeaponDescription:SetOptOutRightToLeftAlignmentFlip( true )
	WeaponDescription:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	WeaponDescription:SetStartupDelay( 1000 )
	WeaponDescription:SetLineHoldTime( 400 )
	WeaponDescription:SetAnimMoveTime( 1000 )
	WeaponDescription:SetAnimMoveSpeed( 150 )
	WeaponDescription:SetEndDelay( 1000 )
	WeaponDescription:SetCrossfadeTime( 1000 )
	WeaponDescription:SetFadeInTime( 300 )
	WeaponDescription:SetFadeOutTime( 300 )
	WeaponDescription:SetMaxVisibleLines( 2 )
	WeaponDescription:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 572, _1080p * 319, _1080p * 341 )
	self:addElement( WeaponDescription )
	self.WeaponDescription = WeaponDescription
	
	local DetailsPrompt = nil
	
	DetailsPrompt = LUI.UIStyledText.new()
	DetailsPrompt.id = "DetailsPrompt"
	DetailsPrompt:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	DetailsPrompt:setText( Engine.CBBHFCGDIC( "BATTLEPASS/VIEW_REWARD_DETAILS" ), 0 )
	DetailsPrompt:SetFont( FONTS.GetFont( FONTS.BodyRegular.File ) )
	DetailsPrompt:SetWordWrap( false )
	DetailsPrompt:SetAlignment( LUI.Alignment.Left )
	DetailsPrompt:SetOptOutRightToLeftAlignmentFlip( true )
	DetailsPrompt:SetTintFontIcons( true )
	DetailsPrompt:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 472, _1080p * 319, _1080p * 341 )
	self:addElement( DetailsPrompt )
	self.DetailsPrompt = DetailsPrompt
	
	local DetailsPromptAttributesOpened = nil
	
	DetailsPromptAttributesOpened = LUI.UIStyledText.new()
	DetailsPromptAttributesOpened.id = "DetailsPromptAttributesOpened"
	DetailsPromptAttributesOpened:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	DetailsPromptAttributesOpened:SetAlpha( 0, 0 )
	DetailsPromptAttributesOpened:setText( Engine.CBBHFCGDIC( "BATTLEPASS/HIDE_REWARD_DETAILS" ), 0 )
	DetailsPromptAttributesOpened:SetFont( FONTS.GetFont( FONTS.BodyRegular.File ) )
	DetailsPromptAttributesOpened:SetWordWrap( false )
	DetailsPromptAttributesOpened:SetAlignment( LUI.Alignment.Left )
	DetailsPromptAttributesOpened:SetOptOutRightToLeftAlignmentFlip( true )
	DetailsPromptAttributesOpened:SetTintFontIcons( true )
	DetailsPromptAttributesOpened:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 472, _1080p * 586, _1080p * 608 )
	self:addElement( DetailsPromptAttributesOpened )
	self.DetailsPromptAttributesOpened = DetailsPromptAttributesOpened
	
	local LeftArrow = nil
	
	LeftArrow = MenuBuilder.BuildRegisteredType( "GenericArrowButtonLarge", {
		controllerIndex = f1_local1
	} )
	LeftArrow.id = "LeftArrow"
	LeftArrow:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -830, _1080p * -690, _1080p * -370, _1080p * -120 )
	self:addElement( LeftArrow )
	self.LeftArrow = LeftArrow
	
	local RightArrow = nil
	
	RightArrow = MenuBuilder.BuildRegisteredType( "GenericArrowButtonLarge", {
		controllerIndex = f1_local1
	} )
	RightArrow.id = "RightArrow"
	RightArrow.Arrow:SetZRotation( 271, 0 )
	RightArrow:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * 691, _1080p * 831, _1080p * -370, _1080p * -120 )
	self:addElement( RightArrow )
	self.RightArrow = RightArrow
	
	local Name = nil
	
	Name = LUI.UIStyledText.new()
	Name.id = "Name"
	Name:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	Name:setText( ToUpperCase( "TITLE" ), 0 )
	Name:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	Name:SetWordWrap( false )
	Name:SetTracking( 5 * _1080p, 0 )
	Name:SetAlignment( LUI.Alignment.Left )
	Name:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 596, _1080p * 249, _1080p * 319 )
	self:addElement( Name )
	self.Name = Name
	
	local BlueprintIcon = nil
	
	BlueprintIcon = LUI.UIImage.new()
	BlueprintIcon.id = "BlueprintIcon"
	BlueprintIcon:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	BlueprintIcon:setImage( RegisterMaterial( "icon_blueprint" ), 0 )
	BlueprintIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 283, _1080p * 329, _1080p * 259, _1080p * 305 )
	self:addElement( BlueprintIcon )
	self.BlueprintIcon = BlueprintIcon
	
	local BattlePassStatus = nil
	
	BattlePassStatus = MenuBuilder.BuildRegisteredType( "BattlePassStatus", {
		controllerIndex = f1_local1
	} )
	BattlePassStatus.id = "BattlePassStatus"
	BattlePassStatus:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1388, _1080p * 1824, _1080p * 218, _1080p * 282 )
	self:addElement( BattlePassStatus )
	self.BattlePassStatus = BattlePassStatus
	
	local UnlockCriteria = nil
	
	UnlockCriteria = LUI.UIStyledText.new()
	UnlockCriteria.id = "UnlockCriteria"
	UnlockCriteria:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	UnlockCriteria:SetAlpha( 0, 0 )
	UnlockCriteria:setText( "Rewarded with Battle Pass", 0 )
	UnlockCriteria:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	UnlockCriteria:SetWordWrap( false )
	UnlockCriteria:SetAlignment( LUI.Alignment.Left )
	UnlockCriteria:SetOptOutRightToLeftAlignmentFlip( true )
	UnlockCriteria:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollH )
	UnlockCriteria:SetStartupDelay( 1000 )
	UnlockCriteria:SetLineHoldTime( 400 )
	UnlockCriteria:SetAnimMoveTime( 1000 )
	UnlockCriteria:SetAnimMoveSpeed( 150 )
	UnlockCriteria:SetEndDelay( 1000 )
	UnlockCriteria:SetCrossfadeTime( 250 )
	UnlockCriteria:SetFadeInTime( 300 )
	UnlockCriteria:SetFadeOutTime( 300 )
	UnlockCriteria:SetMaxVisibleLines( 1 )
	UnlockCriteria:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 125, _1080p * 600, _1080p * 319, _1080p * 341 )
	self:addElement( UnlockCriteria )
	self.UnlockCriteria = UnlockCriteria
	
	local LockIcon = nil
	
	LockIcon = LUI.UIImage.new()
	LockIcon.id = "LockIcon"
	LockIcon:SetRGBFromTable( SWATCHES.Store.TextOver, 0 )
	LockIcon:SetAlpha( 0, 0 )
	LockIcon:setImage( RegisterMaterial( "battlepass_lock" ), 0 )
	LockIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 121, _1080p * 317, _1080p * 343 )
	self:addElement( LockIcon )
	self.LockIcon = LockIcon
	
	local MissionTag = nil
	
	MissionTag = MenuBuilder.BuildRegisteredType( "BattlePassMissionTag", {
		controllerIndex = f1_local1
	} )
	MissionTag.id = "MissionTag"
	MissionTag:SetAlpha( 0, 0 )
	MissionTag:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 596, _1080p * 315, _1080p * 375 )
	self:addElement( MissionTag )
	self.MissionTag = MissionTag
	
	local SpecialWeaponAttributeWithText = nil
	
	SpecialWeaponAttributeWithText = MenuBuilder.BuildRegisteredType( "SpecialWeaponAttributeWithText", {
		controllerIndex = f1_local1
	} )
	SpecialWeaponAttributeWithText.id = "SpecialWeaponAttributeWithText"
	SpecialWeaponAttributeWithText:SetAlpha( 0, 0 )
	SpecialWeaponAttributeWithText.Title:SetRGBFromTable( SWATCHES.BattlePass.ShadowLight, 0 )
	SpecialWeaponAttributeWithText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 496, _1080p * 315, _1080p * 347 )
	self:addElement( SpecialWeaponAttributeWithText )
	self.SpecialWeaponAttributeWithText = SpecialWeaponAttributeWithText
	
	local ExclusiveSnipeIcon = nil
	
	ExclusiveSnipeIcon = MenuBuilder.BuildRegisteredType( "WZExclusiveSnipeIcon", {
		controllerIndex = f1_local1
	} )
	ExclusiveSnipeIcon.id = "ExclusiveSnipeIcon"
	ExclusiveSnipeIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 281, _1080p * 681, _1080p * 214, _1080p * 246 )
	self:addElement( ExclusiveSnipeIcon )
	self.ExclusiveSnipeIcon = ExclusiveSnipeIcon
	
	local Upsell = nil
	
	Upsell = MenuBuilder.BuildRegisteredType( "WZBattlePassUpsellPrompt", {
		controllerIndex = f1_local1
	} )
	Upsell.id = "Upsell"
	Upsell:SetAlpha( 0, 0 )
	Upsell:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -396, _1080p * -96, _1080p * 313, _1080p * 513 )
	self:addElement( Upsell )
	self.Upsell = Upsell
	
	local TierPurchaseBG = nil
	
	TierPurchaseBG = MenuBuilder.BuildRegisteredType( "BattlePassPurchaseBackground", {
		controllerIndex = f1_local1
	} )
	TierPurchaseBG.id = "TierPurchaseBG"
	TierPurchaseBG:SetAlpha( 0, 0 )
	TierPurchaseBG:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, 0, _1080p * 1080 )
	self:addElement( TierPurchaseBG )
	self.TierPurchaseBG = TierPurchaseBG
	
	local PromptContainer = nil
	
	PromptContainer = LUI.UIText.new()
	PromptContainer.id = "PromptContainer"
	PromptContainer:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	PromptContainer:setText( "", 0 )
	PromptContainer:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	PromptContainer:SetWordWrap( false )
	PromptContainer:SetAlignment( LUI.Alignment.Left )
	PromptContainer:SetOptOutRightToLeftAlignmentFlip( true )
	PromptContainer:SetTintFontIcons( true )
	PromptContainer:SetAnchorsAndPosition( 0, 0, 1, 0, _1080p * 260, _1080p * -1348, _1080p * -109, _1080p * -85 )
	self:addElement( PromptContainer )
	self.PromptContainer = PromptContainer
	
	local BattlePassGridContainer = nil
	
	BattlePassGridContainer = MenuBuilder.BuildRegisteredType( "BattlePassGridContainer", {
		controllerIndex = f1_local1
	} )
	BattlePassGridContainer.id = "BattlePassGridContainer"
	BattlePassGridContainer:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -700, _1080p * 700, _1080p * -539, _1080p * -81 )
	self:addElement( BattlePassGridContainer )
	self.BattlePassGridContainer = BattlePassGridContainer
	
	local SupportingCreatorCode = nil
	
	SupportingCreatorCode = MenuBuilder.BuildRegisteredType( "SupportingCreatorCode", {
		controllerIndex = f1_local1
	} )
	SupportingCreatorCode.id = "SupportingCreatorCode"
	SupportingCreatorCode:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1162, _1080p * 1522, _1080p * 220, _1080p * 244 )
	self:addElement( SupportingCreatorCode )
	self.SupportingCreatorCode = SupportingCreatorCode
	
	local ReactiveIcon = nil
	
	ReactiveIcon = LUI.UIImage.new()
	ReactiveIcon.id = "ReactiveIcon"
	ReactiveIcon:setImage( RegisterMaterial( "ui_icon_blueprint_reactive_camo_flipbook" ), 0 )
	ReactiveIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 276, _1080p * 244, _1080p * 324 )
	self:addElement( ReactiveIcon )
	self.ReactiveIcon = ReactiveIcon
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local35 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "WeaponPreview", {
			{
				value = 1,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Text_Style_Font,
			value = FONTS.BodyRegular.File,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319,
			easing = LUI.EASING.snap
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "WeaponPreview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine.CBBHFCGDIC( "BATTLEPASS/VIEW_REWARD_DETAILS" )
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "WeaponPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 358
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 378
		}
	} )
	LockIcon:RegisterAnimationSequence( "WeaponPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 356
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 382
		}
	} )
	MissionTag:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WeaponPreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "WeaponPreview" )
		end
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
	end
	
	local f1_local36 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "WeaponDetails", {
			{
				value = 0,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "WeaponDetails", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 200
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 360
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 412
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 572
		},
		{
			value = 1,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 1,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "WeaponDetails", {
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 377
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 397
		}
	} )
	LockIcon:RegisterAnimationSequence( "WeaponDetails", {
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 375
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 401
		}
	} )
	MissionTag:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WeaponDetails = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "WeaponDetails" )
		end
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
	end
	
	local f1_local37 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "ItemPreview", {
			{
				value = 1,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "ItemPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 325
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 345
		}
	} )
	LockIcon:RegisterAnimationSequence( "ItemPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 323
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 349
		}
	} )
	MissionTag:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ItemPreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "ItemPreview" )
		end
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
	end
	
	local f1_local38 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "MissionPreview", {
			{
				value = 1,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "MissionPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341
		},
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "MissionPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 383
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 403
		}
	} )
	LockIcon:RegisterAnimationSequence( "MissionPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 380
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 406
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.MissionPreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "MissionPreview" )
		end
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
	end
	
	local f1_local39 = nil
	Background:RegisterAnimationSequence( "SetupStandalone", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	BillboardImg:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -290
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 290
		}
	} )
	CenterOutMask:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 250
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 830
		}
	} )
	FadeCover:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -290
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 290
		}
	} )
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "SetupStandalone", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	BattlePassStatus:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 218
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 282
		}
	} )
	self._sequences.SetupStandalone = function ()
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "SetupStandalone" )
		end
		menu:AnimateSequence( "SetupStandalone" )
	end
	
	local f1_local40 = nil
	BlueprintIcon:RegisterAnimationSequence( "IsBlueprint", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 283
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 329
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 259
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 305
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.genericMenu.mainTitle
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "icon_blueprint" )
		}
	} )
	self._sequences.IsBlueprint = function ()
		menu:AnimateSequence( "IsBlueprint" )
	end
	
	local f1_local41 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "ConsumablePreview", {
			{
				value = 1,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "ConsumablePreview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 343
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text_Style_Font,
			value = FONTS.MainRegular.File
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "ConsumablePreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 358
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 378
		}
	} )
	LockIcon:RegisterAnimationSequence( "ConsumablePreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 356
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 382
		}
	} )
	MissionTag:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ConsumablePreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "ConsumablePreview" )
		end
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
	end
	
	local f1_local42 = nil
	UnlockCriteria:RegisterAnimationSequence( "IsLocked", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	LockIcon:RegisterAnimationSequence( "IsLocked", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.IsLocked = function ()
		menu:AnimateSequence( "IsLocked" )
		menu:AnimateSequence( "IsLocked" )
	end
	
	local f1_local43 = nil
	UnlockCriteria:RegisterAnimationSequence( "NotLocked", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 339,
			easing = LUI.EASING.snap
		}
	} )
	LockIcon:RegisterAnimationSequence( "NotLocked", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 317,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 343,
			easing = LUI.EASING.snap
		}
	} )
	self._sequences.NotLocked = function ()
		menu:AnimateSequence( "NotLocked" )
		menu:AnimateSequence( "NotLocked" )
	end
	
	local f1_local44 = nil
	BlueprintIcon:RegisterAnimationSequence( "IsBaseWeapon", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 274
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 250
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 338
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 314
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "battlepass_icon_weapon_glint" )
		}
	} )
	self._sequences.IsBaseWeapon = function ()
		menu:AnimateSequence( "IsBaseWeapon" )
	end
	
	local f1_local45 = nil
	WeaponDescription:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text_Style_Horizontal_Alignment,
			value = LUI.Alignment.Left
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 612
		}
	} )
	Name:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Tracking,
			value = 0 * _1080p
		}
	} )
	self._sequences.AR = function ()
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
	end
	
	local f1_local46 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
			{
				value = 1,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Text_Style_Font,
			value = FONTS.BodyRegular.File,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319,
			easing = LUI.EASING.snap
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine.CBBHFCGDIC( "BATTLEPASS/VIEW_REWARD_DETAILS" )
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 353
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 375
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 383
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 403
		}
	} )
	LockIcon:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 381
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 407
		}
	} )
	MissionTag:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 347
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 315
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WeaponPreviewWithAttribute = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		end
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
	end
	
	local f1_local47 = nil
	Upsell:RegisterAnimationSequence( "ShowGameSourceUpsell", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ShowGameSourceUpsell = function ()
		menu:AnimateSequence( "ShowGameSourceUpsell" )
	end
	
	local f1_local48 = nil
	Upsell:RegisterAnimationSequence( "HideGameSourceUpsell", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideGameSourceUpsell = function ()
		menu:AnimateSequence( "HideGameSourceUpsell" )
	end
	
	local f1_local49 = nil
	BillboardImg:RegisterAnimationSequence( "WZWipSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "cw_store_billboard_placeholder" )
		}
	} )
	self._sequences.WZWipSetup = function ()
		menu:AnimateSequence( "WZWipSetup" )
	end
	
	local f1_local50 = nil
	WeaponDescription:RegisterAnimationSequence( "JP", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 354
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 334
		}
	} )
	self._sequences.JP = function ()
		menu:AnimateSequence( "JP" )
	end
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "BattlePassMenu", BattlePassMenu )
LockTable( _M )
