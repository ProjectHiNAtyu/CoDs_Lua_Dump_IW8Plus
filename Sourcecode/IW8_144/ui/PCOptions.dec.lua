-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
module( ..., package.seeall )
CoD.PrintModuleLoad( _NAME )
local f0_local0 = 12
local f0_local1 = 1
local f0_local2 = 40
local f0_local3 = 80
function SinglePlayerDisabled( f17_arg0, f17_arg1 )
	return not Engine.EAAHGICFBD()
end

function ChatDisableFunc( f16_arg0, f16_arg1 )
	local f16_local0 = SinglePlayerDisabled( f16_arg0, f16_arg1 )
	if not f16_local0 then
		f16_local0 = GamepadDisabledFunc( f16_arg0, f16_arg1 )
	end
	return f16_local0
end

function GamepadDisabledFunc( f15_arg0, f15_arg1 )
	return Engine.BBDCAFEGDJ() == 1
end

function OptimalVideoDisabledFunc( f14_arg0, f14_arg1 )
	local f14_local0
	if not Engine.DDJFBBJAIG() then
		f14_local0 = Engine.EAAHGICFBD()
	else
		f14_local0 = false
	end
	return f14_local0
end

function OptimalVideoNotice( f11_arg0, f11_arg1 )
	local f11_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", {
		title = Engine.CBBHFCGDIC( "MENU/RESET_SYSTEM_DEFAULTS" ),
		message = Engine.CBBHFCGDIC( "MENU/RESTORE_DEFAULTS" ),
		yesAction = function ( f13_arg0, f13_arg1 )
			Engine.EJJEHHFCC( true )
			Dvar.IICIFEEDC( "NNMSONQSOP", f11_arg0 )
			Dvar.IICIFEEDC( "LKOLMLQRRT", 1 )
			Dvar.IICIFEEDC( "NLQKNTQSNT", 1 )
			Dvar.IICIFEEDC( "NMRKMSMTOO", 0 )
			Engine.DAGFFDGFII( "profile_setFilmGrain " .. tostring( 1 ), f13_arg1 )
			Engine.EBIDFIDHIE( "profile_menuDvarsFinish " .. f13_arg1 )
			Engine.EBIDFIDHIE( "wait; wait; r_applyPicmip;" )
			f13_arg0:dispatchEventToRoot( {
				name = "optimal_video_update"
			} )
		end,
		noAction = function ()
			
		end
	} )
	f11_local0.id = "OptimalVideoNotice"
	return f11_local0
end

function MicThreshDisable()
	return Dvar.IBEGCHEFE( "MOOMTQSMPS" )
end

function ResetControlsYesAction( f9_arg0, f9_arg1 )
	Engine.DAGFFDGFII( "profile_toggleLean 1", f9_arg1 )
	Engine.DAGFFDGFII( "profile_toggleholdSprint 0", f9_arg1 )
	if Engine.BBDCAFEGDJ() == 1 then
		Engine.BEBBDFEICI( "thumbstick_default", f9_arg1 )
		Engine.CBCIHEGADA( "buttons_default", f9_arg1, CONDITIONS.IsMagmaGameMode() )
		Engine.DAGFFDGFII( "profile_toggleInvertedPitch 0", f9_arg1 )
		Engine.DAGFFDGFII( "profile_toggleRumble 1", f9_arg1 )
		Engine.DAGFFDGFII( "profile_toggleAutoAim 1", f9_arg1 )
		Engine.DAGFFDGFII( "profile_toggleTargetAssist 1", f9_arg1 )
		Engine.DAGFFDGFII( "profile_toggleSprintCancelsReload 0", f9_arg1 )
		Dvar.IICIFEEDC( "MRKPMKMRQL", 4 )
		Dvar.IICIFEEDC( "NQQNNPQPKR", 4 )
	else
		Engine.EBIDFIDHIE( "exec default_keys.cfg" )
		Dvar.IICIFEEDC( "NLQQLQRKSM", f0_local0 )
		Dvar.IICIFEEDC( "LONMSRNMSK", f0_local0 )
		Dvar.IICIFEEDC( "MKONQNTMKQ", f0_local0 )
		Dvar.IICIFEEDC( "MPKPOPRTLQ", f0_local0 )
		Dvar.DHEGHJJJHI( "LRTLMMOTML", false )
	end
	Engine.DAGFFDGFII( "profile_toggleInvertedFlyPitch 0", f9_arg1 )
	Engine.DAGFFDGFII( "profile_menuDvarsFinish" )
end

function ResetControls()
	local f7_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", {
		title = Engine.CBBHFCGDIC( "LUA_MENU/SET_DEFAULT_CONTROLS" ),
		message = Engine.CBBHFCGDIC( "LUA_MENU/RESTORE_EACH_SETTING" ),
		yesAction = ResetControlsYesAction,
		noAction = function ()
			
		end
	} )
	f7_local0.id = "ResetControls"
	return f7_local0
end

function CopyKeysFromOtherModeAction( f6_arg0, f6_arg1 )
	if CoD.GetCurrentGameMode() == CoD.PlayMode.SP then
		Engine.CCFIBGGCBE( CoD.PlayMode.Core, f6_arg1 )
	else
		Engine.CCFIBGGCBE( CoD.PlayMode.SP, f6_arg1 )
	end
end

function CopyKeysFromOtherMode()
	local f4_local0 = {
		title = Engine.CBBHFCGDIC( "LUA_MENU_PC/COPY_KEYS_TITLE" )
	}
	if Engine.EAAHGICFBD() then
		f4_local0.message = Engine.CBBHFCGDIC( "LUA_MENU_PC/COPY_KEYS_FROM_SP" )
	elseif Engine.CAADCDEEIA() then
		f4_local0.message = Engine.CBBHFCGDIC( "LUA_MENU_PC/COPY_KEYS_FROM_MP" )
	end
	f4_local0.yesAction = CopyKeysFromOtherModeAction
	f4_local0.noAction = function ()
		
	end
	
	local f4_local1 = MenuBuilder.BuildRegisteredType( "PopupYesNo", f4_local0 )
	f4_local1.id = "CopyKeysFromOtherMode"
	return f4_local1
end

local f0_local4 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0:addEventHandler( "menu_create", function ()
		local f3_local0 = LUI.FlowManager.GetScopedData( f2_arg0 )
		local f3_local1 = f3_local0.currentOptionsCategory
		if f3_local1 == nil then
			f3_local1 = "video_options"
		end
		OPTIONS_DATA.UpdateOptionsWindow( f2_arg0, f3_local1, true )
	end )
end

MenuBuilder.registerType( "PCOptionsButtons", function ( menu, controller )
	local self = LUI.UIVerticalList.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1100 * _1080p, 0, 705 * _1080p )
	self:SetSpacing( 10 * _1080p )
	self.id = "PCOptions"
	self._animationSets = {}
	self._sequences = {}
	local f1_local1
	if not controller then
		f1_local1 = controller
	else
		f1_local1 = {}
	end
	local f1_local2 = f1_local1.controllerIndex
	self:setUseStencil( false )
	
	local VideoOptions = OPTIONS.CreateOption( self, f1_local2, OPTIONS_DATA.optionsDataList.videoOptions )
	self:addElement( VideoOptions )
	self.VideoOptions = VideoOptions
	
	local AudioOptions = OPTIONS.CreateOption( self, f1_local2, OPTIONS_DATA.optionsDataList.audioOptions )
	self:addElement( AudioOptions )
	self.AudioOptions = AudioOptions
	
	local NetworkDiagnosticOptions = OPTIONS.CreateOption( self, f1_local2, OPTIONS_DATA.optionsDataList.networkDiagnosticOptions )
	self:addElement( NetworkDiagnosticOptions )
	self.NetworkDiagnosticOptions = NetworkDiagnosticOptions
	
	local ControlOptions = OPTIONS.CreateOption( self, f1_local2, OPTIONS_DATA.optionsDataList.controlOptions )
	self:addElement( ControlOptions )
	self.ControlOptions = ControlOptions
	
	if Engine.EAAHGICFBD() then
		local f1_local7 = OPTIONS.CreateOption( self, f1_local2, OPTIONS_DATA.optionsDataList.voiceOptions )
		self:addElement( f1_local7 )
		self.VoiceOptions = f1_local7
	end
	if not CONDITIONS.IsWeGameGovBanned() then
		local f1_local7 = OPTIONS.CreateOption( self, f1_local2, OPTIONS_DATA.optionsDataList.SpamRemoval )
		self:addElement( f1_local7 )
		self.SpamRemoval = f1_local7
	end
	f0_local0( self, f1_local2, f1_local1 )
	return self
end )
MenuBuilder.registerType( "OptimalVideoNotice", OptimalVideoNotice )
MenuBuilder.registerType( "ResetControls", ResetControls )
MenuBuilder.registerType( "CopyKeysFromOtherMode", CopyKeysFromOtherMode )
LockTable( _M )
