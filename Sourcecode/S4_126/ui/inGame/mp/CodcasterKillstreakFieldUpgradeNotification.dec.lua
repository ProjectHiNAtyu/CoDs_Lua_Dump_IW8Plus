-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
local f0_local0 = function ( f11_arg0, f11_arg1 )
	local f11_local0 = f11_arg0._playerDataSource
	local f11_local1 = f11_local0.notificationData
	local f11_local2 = f11_local1.id:GetValue( f11_arg1 )
	local f11_local3 = f11_local1.index:GetValue( f11_arg1 )
	local f11_local4, f11_local5, f11_local6, f11_local7, f11_local8 = nil
	local f11_local9 = CODCASTER_SETTINGS.GetSettingValue( f11_arg1, "codcaster_killstreaks_notification" )
	local f11_local10 = CODCASTER_SETTINGS.GetSettingValue( f11_arg1, "codcaster_fieldupgrades_notification" )
	if f11_local2 == CODCASTER.NOTIFICATION_TYPE.KILLSTREAK_USED then
		if not f11_local9 then
			return 
		end
		f11_local7 = f11_local0.killstreaks[f11_local3]
		f11_local6 = "CODCASTER/NOTIFICATION_ACTIVATED"
		f11_local8 = "Activated"
	elseif f11_local2 == CODCASTER.NOTIFICATION_TYPE.KILLSTREAK_AVAILABLE then
		if not f11_local9 then
			return 
		end
		f11_local7 = f11_local0.killstreaks[f11_local3]
		f11_local6 = "CODCASTER/NOTIFICATIONS_READY"
		f11_local8 = "Ready"
	elseif f11_local2 == CODCASTER.NOTIFICATION_TYPE.FIELDUPGRADE_USED then
		if not f11_local10 then
			return 
		end
		f11_local7 = f11_local0.equipments.fieldUpgrade
		f11_local6 = "CODCASTER/NOTIFICATION_ACTIVATED"
		f11_local8 = "Activated"
	end
	if f11_local7 then
		f11_local4 = f11_local7.name:GetValue( f11_arg1 )
		f11_local5 = f11_local7.icon:GetValue( f11_arg1 )
	end
	if not f11_local4 or f11_local4 == "" or not f11_local5 or f11_local5 == "" or not f11_local8 then
		return 
	end
	table.insert( f11_arg0._notificationsData, {
		name = f11_local4,
		icon = f11_local5,
		string = f11_local6,
		animation = f11_local8
	} )
	if not f11_arg0._isPlayingAnim then
		f11_arg0:PlayNotificationAnim()
	end
end

local f0_local1 = function ( f10_arg0 )
	local f10_local0 = f10_arg0._notificationsData[1]
	f10_arg0.AvailableText:setText( Engine[0xED84C33EC5F01EA]( f10_local0.string ) )
	f10_arg0.KillstreakImage:setImage( RegisterMaterial( f10_local0.icon ) )
	f10_arg0.NotificationText:setText( Engine[0xED84C33EC5F01EA]( f10_local0.name ) )
end

local f0_local2 = function ( f8_arg0 )
	f8_arg0:UpdateNotificationInfo()
	f8_arg0._isPlayingAnim = true
	ACTIONS.AnimateSequence( f8_arg0, f8_arg0._notificationsData[1].animation, {
		onComplete = PackedFunctionWrapper( {
			element = f8_arg0
		}, function ( f9_arg0 )
			local f9_local0 = f9_arg0.element
			if f9_local0 then
				f9_local0._isPlayingAnim = false
				table.remove( f9_local0._notificationsData, 1 )
				if 0 < #f9_local0._notificationsData then
					f9_local0:PlayNotificationAnim()
				end
			end
		end
		 )
	} )
end

local f0_local3 = function ( f6_arg0, f6_arg1, f6_arg2 )
	if f6_arg1 and not f6_arg0._isDataSourceSet then
		f6_arg0._playerDataSource = f6_arg1
		f6_arg0:SubscribeToModel( f6_arg1.notificationData.value:GetModel( f6_arg2 ), PackedFunctionWrapper( {
			element = f6_arg0,
			controllerIndex = f6_arg2
		}, function ( f7_arg0, f7_arg1 )
			local f7_local0 = f7_arg0.element
			if f7_local0 then
				local f7_local1 = f7_arg0.controllerIndex
				local f7_local2 = f7_local0._playerDataSource.notificationData.id:GetValue( f7_local1 )
				if f7_local2 and f7_local2 ~= CODCASTER.INVALID_DATA and DataSources.inGame.MP.codcaster.teamListType:GetValue( f7_local1 ) == CODCASTER.TEAM_LIST_TYPE.PORTRAIT_LIST then
					f7_local0:AddToQueue( f7_local1 )
				end
			end
		end ), true )
		f6_arg0._isDataSourceSet = true
	end
	LUI.UIElement.SetDataSource( f6_arg0, f6_arg1, f6_arg2 )
end

local f0_local4 = function ( f5_arg0, f5_arg1, f5_arg2 )
	f5_arg0.SetDataSource = f0_local0
	f5_arg0.AddToQueue = f0_local0
	f5_arg0.UpdateNotificationInfo = f0_local0
	f5_arg0.PlayNotificationAnim = f0_local0
	f5_arg0._notificationsData = {}
	f5_arg0._isPlayingAnim = false
end

function CodcasterKillstreakFieldUpgradeNotification( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 130 * _1080p, 0, 100 * _1080p )
	self.id = "CodcasterKillstreakFieldUpgradeNotification"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromTable( SWATCHES.codcasterColors.codcasterDark, 0 )
	Background:SetAlpha( 0, 0 )
	Background:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 103 )
	self:addElement( Background )
	self.Background = Background
	
	local BannerBackground = nil
	
	BannerBackground = LUI.UIImage.new()
	BannerBackground.id = "BannerBackground"
	BannerBackground:SetAlpha( 0, 0 )
	BannerBackground:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -65, _1080p * 65, 0, _1080p * 25 )
	self:addElement( BannerBackground )
	self.BannerBackground = BannerBackground
	
	local AvailableText = nil
	
	AvailableText = LUI.UIText.new()
	AvailableText.id = "AvailableText"
	AvailableText:SetRGBFromInt( 0, 0 )
	AvailableText:SetAlpha( 0, 0 )
	AvailableText:setText( Engine[0xED84C33EC5F01EA]( "CODCASTER/NOTIFICATION_ACTIVATED" ), 0 )
	AvailableText:setCaseStyle( LUI.CaseStyle.Uppercase )
	AvailableText:SetFont( FONTS.GetFont( FONTS.Abolition.File ) )
	AvailableText:SetFontSize( 22 * _PT )
	AvailableText:SetMinFontSize( 16 * _PT )
	AvailableText:SetWordWrap( false )
	AvailableText:SetAlignment( LUI.Alignment.Center )
	AvailableText:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 130, 0, _1080p * 25 )
	self:addElement( AvailableText )
	self.AvailableText = AvailableText
	
	local KillstreakImage = nil
	
	KillstreakImage = LUI.UIImage.new()
	KillstreakImage.id = "KillstreakImage"
	KillstreakImage:SetAlpha( 0, 0 )
	KillstreakImage:setImage( RegisterMaterial( "hud_icon_killstreak_airstrike" ), 0 )
	KillstreakImage:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 39, _1080p * 91, _1080p * 49, _1080p * 101 )
	self:addElement( KillstreakImage )
	self.KillstreakImage = KillstreakImage
	
	local NotificationText = nil
	
	NotificationText = LUI.UIText.new()
	NotificationText.id = "NotificationText"
	NotificationText:SetAlpha( 0, 0 )
	NotificationText:setText( "", 0 )
	NotificationText:setCaseStyle( LUI.CaseStyle.Uppercase )
	NotificationText:SetFont( FONTS.GetFont( FONTS.Abolition.File ) )
	NotificationText:SetFontSize( 22 * _PT )
	NotificationText:SetMinFontSize( 16 * _PT )
	NotificationText:SetWordWrap( true )
	NotificationText:SetAlignment( LUI.Alignment.Center )
	NotificationText:SetVerticalAlignment( LUI.Alignment.Center )
	NotificationText:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 130, _1080p * 24, _1080p * 48 )
	self:addElement( NotificationText )
	self.NotificationText = NotificationText
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local8 = nil
	Background:RegisterAnimationSequence( "Activated", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Bottom
		},
		{
			value = 1,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 300,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 100
		},
		{
			value = 1,
			duration = 4330,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 3970,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 100
		},
		{
			value = 0,
			duration = -18,
			property = TWEEN_PROPERTY.Bottom
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	BannerBackground:RegisterAnimationSequence( "Activated", {
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 0,
			duration = 260,
			property = TWEEN_PROPERTY.Left
		},
		{
			value = 0,
			duration = 260,
			property = TWEEN_PROPERTY.Right
		},
		{
			value = 0,
			duration = 260,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 65
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -65
		},
		{
			value = 1,
			duration = 170,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 3850,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -65
		},
		{
			duration = 3850,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 65
		},
		{
			value = 0,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 3670,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Right
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Left
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	AvailableText:RegisterAnimationSequence( "Activated", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 0,
			duration = 340,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 400,
			property = TWEEN_PROPERTY.Text,
			value = Engine[0xED84C33EC5F01EA]( "CODCASTER/NOTIFICATION_ACTIVATED" )
		},
		{
			value = 1,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 60,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 3520,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -8,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	KillstreakImage:RegisterAnimationSequence( "Activated", {
		{
			value = 0,
			duration = 700,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 330,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 3120,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -8,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	NotificationText:RegisterAnimationSequence( "Activated", {
		{
			value = 0,
			duration = 630,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 350,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 3170,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -8,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Activated = function ()
		menu:AnimateSequence( "Activated" )
		menu:AnimateSequence( "Activated" )
		menu:AnimateSequence( "Activated" )
		menu:AnimateSequence( "Activated" )
		menu:AnimateSequence( "Activated" )
	end
	
	self._sequenceLengths.Activated = 4380
	local f1_local9 = nil
	Background:RegisterAnimationSequence( "Ready", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Bottom
		},
		{
			value = 1,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 300,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 100
		},
		{
			value = 1,
			duration = 4330,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 3970,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 100
		},
		{
			value = 0,
			duration = -18,
			property = TWEEN_PROPERTY.Bottom
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	BannerBackground:RegisterAnimationSequence( "Ready", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.codcasterColors.codcasterLight
		},
		{
			value = 0,
			duration = 260,
			property = TWEEN_PROPERTY.Left
		},
		{
			value = 0,
			duration = 260,
			property = TWEEN_PROPERTY.Right
		},
		{
			value = 0,
			duration = 260,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 65
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -65
		},
		{
			value = 1,
			duration = 170,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 3850,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -65
		},
		{
			duration = 3850,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 65
		},
		{
			value = 0,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 3670,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Right
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Left
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	AvailableText:RegisterAnimationSequence( "Ready", {
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine[0xED84C33EC5F01EA]( "CODCASTER/NOTIFICATIONS_READY" )
		},
		{
			value = 0,
			duration = 340,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 60,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 40,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 3520,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -8,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	KillstreakImage:RegisterAnimationSequence( "Ready", {
		{
			value = 0,
			duration = 700,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 330,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 3120,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -8,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	NotificationText:RegisterAnimationSequence( "Ready", {
		{
			value = 0,
			duration = 630,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 350,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 3170,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -8,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Ready = function ()
		menu:AnimateSequence( "Ready" )
		menu:AnimateSequence( "Ready" )
		menu:AnimateSequence( "Ready" )
		menu:AnimateSequence( "Ready" )
		menu:AnimateSequence( "Ready" )
	end
	
	self._sequenceLengths.Ready = 4380
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "CodcasterKillstreakFieldUpgradeNotification", CodcasterKillstreakFieldUpgradeNotification )
LockTable( _M )
