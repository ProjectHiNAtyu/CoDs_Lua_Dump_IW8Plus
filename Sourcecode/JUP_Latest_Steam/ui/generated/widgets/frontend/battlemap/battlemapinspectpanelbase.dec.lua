-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
module( ..., package.seeall )
local f0_local0 = 16
local f0_local1 = -10
local f0_local2 = 100
local f0_local3 = "mp_frontend_iw9_bundle"
local f0_local4 = {
	AMBIENT = 1,
	UNLOCK = 2
}
local f0_local5 = function ( f47_arg0 )
	if f47_arg0._currentModel and 0 < #f47_arg0._currentVfx then
		for f47_local3, f47_local4 in ipairs( f47_arg0._currentVfx ) do
			ClientModel[0xC9A8C32357F9F52]( f47_arg0._currentModel.index, f47_local4 )
			f47_arg0._currentVfx[f47_local3] = nil
		end
	end
end

local f0_local6 = function ( f45_arg0, f45_arg1, f45_arg2, f45_arg3, f45_arg4, f45_arg5 )
	local f45_local0 = {}
	if f45_arg2 == f0_local0.UNLOCK then
		local f45_local1 = table.insert
		local f45_local2 = f45_local0
		local f45_local3
		if f45_arg3 then
			f45_local3 = f45_arg1.unlockVfx
			if not f45_local3 then
			
			else
				f45_local1( f45_local2, f45_local3 )
				table.insert( f45_local0, f45_arg1.ambientVfx )
			end
		end
		f45_local3 = f45_arg1.unlockVfxFree
	end
	if f45_arg2 == f0_local0.AMBIENT then
		table.insert( f45_local0, f45_arg1.ambientVfx )
	end
	local f45_local4 = function ()
		if f45_arg0 and 0 < #f45_arg0 then
			local f46_local0, f46_local1 = BATTLEMAP.GetBattlemapModels( f45_arg0 )
			if f46_local0 and f46_local0.index then
				for f46_local5, f46_local6 in ipairs( f45_arg0 ) do
					local f46_local7 = String.Split( f46_local6, "." )
					local f46_local8 = ClientModel[0xDDB34362F51CE30]( f46_local0.index, f46_local7[1], CLIENT_MODEL.defaultTags.TAG_ORIGIN )
					if f46_local8 and 0 < f46_local8 then
						table.insert( f45_arg0._currentVfx, f46_local8 )
					end
				end
			end
		end
	end
	
	f45_local4()
end

local f0_local7 = function ( f44_arg0, f44_arg1, f44_arg2 )
	local f44_local0 = f44_arg0.modelName
	local f44_local1 = f44_arg0.bgModelName
	local f44_local2, f44_local3 = BATTLEMAP.GetBattlemapModels( f44_arg0, f44_arg2 )
	if f44_local2 and f44_local3 then
		f44_arg1:KillCurrentVFX()
		f44_arg1._currentModel = f44_local2
		CLIENT_MODEL.HideAllBattlePassModels()
		CLIENT_MODEL.SetAssetType( f44_local2, Enum[0x4D1082DFC9AF660][0x912D6AEFE9657E7] )
		CLIENT_MODEL.SetAssetType( f44_local3, Enum[0x4D1082DFC9AF660][0x912D6AEFE9657E7] )
		CLIENT_MODEL.SetModel( f44_local2, f44_local0 )
		CLIENT_MODEL.SetModel( f44_local3, f44_local1 )
		if f44_local2 and f44_local2.index and f44_local2.angles then
			ClientModel[0xEFA1738E096A743]( f44_local2.index, {
				xAngle = f44_local2.angles.xAngle,
				yAngle = f44_local2.angles.yAngle + f44_arg0.rotationOffset,
				zAngle = f44_local2.angles.xAngle
			} )
		end
		if f44_local3 and f44_local3.index and f44_local3.origin then
			ClientModel[0x9C89C00DF9B85ED]( f44_local3.index, {
				xPosition = f44_local3.origin.xPosition + f44_arg0.bgOffset.x,
				yPosition = f44_local3.origin.yPosition + f44_arg0.bgOffset.y,
				zPosition = f44_local3.origin.zPosition + f44_arg0.bgOffset.z
			} )
		end
	end
end

local f0_local8 = function ( f43_arg0, f43_arg1, f43_arg2 )
	BATTLEMAP.SendBattleMapNavDlogEvent( f43_arg0, f43_arg1, "Token Inspect Panel", f43_arg2 )
end

local f0_local9 = function ( f42_arg0, f42_arg1, f42_arg2, f42_arg3 )
	local f42_local0 = f42_arg3.isOwned
	if f42_local0 then
		local f42_local1 = f42_arg0._isPremium
		if not f42_local1 then
			f42_local0 = f42_local1
		else
			f42_local0 = f42_arg3.isFree
		end
	end
	if f42_local0 then
		LOOT.SetupQuickEquipContextualMenus( f42_arg2, f42_arg1, f42_arg3 )
	end
end

local f0_local10 = function ( f41_arg0, f41_arg1, f41_arg2, f41_arg3 )
	local f41_local0 = f41_arg3.isOwned
	if f41_local0 then
		f41_local0 = LOOT.IsLootTypeQuickEquipable( f41_arg3.lootType )
	end
	if f41_local0 then
		if not f41_arg0._isPremium then
			local f41_local1 = f41_arg3.isFree
			if f41_local1 then
				f41_local0 = f41_local1
			else
				f41_local0 = not f41_arg2._contextualMenuIsAdded
			end
		end
		f41_local0 = not f41_arg2._contextualMenuIsAdded
	end
	if f41_local0 and f41_local0 then
		f41_local0 = not LOOT.IsLootTypeQuickEquipped( f41_arg1, f41_arg3.lootType, f41_arg3.lootRef )
	end
	return f41_local0
end

local f0_local11 = function ( f40_arg0, f40_arg1 )
	if f40_arg0._sectorType == BATTLEMAP.SectorType.FINAL then
		local f40_local0, f40_local1 = BATTLEMAP.GetNumberOfCompleteSectorsAndRewards( f40_arg1, SEASON.GetCurrentSeason() )
		f40_arg0.Title:setText( Engine[0xED84C33EC5F01EA]( "CAS/PERCENT", f40_local1 / BATTLEMAP.NUM_BASE_SECTORS * BATTLEMAP.NUM_UNLOCKS_PER_SECTOR * 100 ) )
	else
		f40_arg0.Title:setText( BATTLEMAP.GetSectorDisplayName( f40_arg0._curIndex - 1 ) )
	end
	local f40_local2 = LAYOUT.GetTextWidth( f40_arg0.Title )
	f40_arg0.TitleBacker:SetRight( f40_arg0._titleBackerLeft, 0 )
	f40_arg0.TitleBacker:SetRight( f40_arg0._titleLeft + f0_local0 + f40_local2, 300, LUI.EASING.outCubic )
	if not (f40_arg0._sectorState ~= BATTLEMAP.SectorState.COMPLETED and (f40_arg0._sectorType ~= BATTLEMAP.SectorType.INSTANT or not f40_arg0._isPremium)) or f40_arg0._isBPComplete then
		local f40_local0 = f40_arg0._isPremium and SWATCHES[0xAE02465B3F418FB][0xCA026E99CA5FFA] or SWATCHES[0xAE02465B3F418FB][0x9853FA0F469126B]
		f40_arg0.Title:SetRGB( f40_local0 )
		f40_arg0.TitleBackerCap:SetRGB( f40_local0 )
		f40_arg0.TitleBacker:SetRGB( f40_local0 )
	end
end

local f0_local12 = function ( f39_arg0, f39_arg1 )
	local f39_local0, f39_local1, f39_local2 = nil
	if f39_arg0._sectorType == BATTLEMAP.SectorType.INSTANT then
		f39_local0 = 0xE1C5115E961D1B5
		if f39_arg0._isPremium then
			local f39_local3 = BATTLEMAP.SectorTagState.COMPLETED_PREMIUM
			if not f39_local3 then
				f39_local2 = f39_local3
			end
		end
		f39_local2 = BATTLEMAP.SectorTagState.BONUS
	elseif f39_arg0._sectorType == BATTLEMAP.SectorType.FINAL then
		local f39_local3 = f39_arg0._isBPComplete and f39_arg0._isPremium
		f39_local0 = 0xC000FAAFD6DDFAD
		if f39_local3 then
			local f39_local4 = 0xD3239C033A5455F
			if not f39_local4 then
				f39_local1 = f39_local4
			end
		end
		f39_local1 = 0xDA24811F8CFC759
	elseif f39_arg0._sectorState == BATTLEMAP.SectorState.COMPLETED or f39_arg0._isBPComplete then
		f39_local0 = 0x641E375B8E4723E
		f39_local1 = 0xD3239C033A5455F
		if f39_arg0._isPremium then
			local f39_local3 = BATTLEMAP.SectorTagState.COMPLETED_PREMIUM
			if not f39_local3 then
				f39_local2 = f39_local3
			end
		end
		f39_local2 = BATTLEMAP.SectorTagState.COMPLETED_FREE
	elseif f39_arg0._sectorState == BATTLEMAP.SectorState.ACTIVE then
		f39_local0 = 0x83CEE78A1F5573
		f39_local2 = BATTLEMAP.SectorTagState.ACTIVE
	else
		f39_local0 = 0x8B93DC546B4878D
		f39_local1 = 0xDA24811F8CFC759
		f39_local2 = BATTLEMAP.SectorTagState.LOCKED
	end
	local f39_local3 = f39_arg0.SectorStateTag:UpdateLabel( Engine[0xED84C33EC5F01EA]( f39_local0 ), f39_local1, f39_local2, false )
	f39_arg0.SectorStateTag:SetRight( f39_arg0._tagLeft + f39_local3 )
	f39_arg0.SectorStateTag:PlayGlint()
	if not (f39_arg0._sectorType ~= BATTLEMAP.SectorType.INSTANT or f39_arg0._isPremium) or f39_arg0._sectorType == BATTLEMAP.SectorType.FINAL and not f39_arg0._isBPComplete then
		f39_arg0.ExtraTag:SetAlpha( 1, 200 )
		local f39_local4 = nil
		local f39_local5 = f0_local0
		if f39_arg0._sectorType == BATTLEMAP.SectorType.INSTANT then
			f39_local4 = f39_arg0.ExtraTag:UpdateLabel( Engine[0xED84C33EC5F01EA]( 0x8B93DC546B4878D ), 0xDA24811F8CFC759, BATTLEMAP.SectorTagState.LOCKED, true )
		elseif f39_arg0._sectorType == BATTLEMAP.SectorType.FINAL then
			local f39_local6, f39_local7 = BATTLEMAP.GetNumberOfCompleteSectorsAndRewards( f39_arg1, SEASON.GetCurrentSeason() )
			f39_local4 = f39_arg0.ExtraTag:UpdateLabel( Engine[0xED84C33EC5F01EA]( 0x74821ADAF79FD0F, f39_local6, BATTLEMAP.NUM_BASE_SECTORS ), nil, BATTLEMAP.SectorTagState.LOCKED, true )
			f39_local5 = f39_local5 + 6
		end
		f39_arg0.ExtraTag:SetLeft( f39_arg0._tagLeft + f39_local3 + f39_local5 )
		f39_arg0.ExtraTag:SetRight( f39_arg0._tagLeft + f39_local3 + f39_local5 + f39_local4 )
		f39_arg0.ExtraTag:PlayGlint()
	else
		f39_arg0.ExtraTag:SetAlpha( 0 )
	end
end

local f0_local13 = nil
f0_local13 = function ( f35_arg0, f35_arg1, f35_arg2 )
	local f35_local0 = function ( f38_arg0 )
		if f38_arg0.success then
			f35_arg0:UpdatePreviewMapState( f35_arg0._controllerIndex, BATTLEMAP.SectorPreviewState.UNLOCK_SECTOR )
		elseif f38_arg0.errorCode then
			LUI.ToastManager.CreateToast( f35_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xE4D24CA2FAD477A ), BATTLEMAP.GetSpendTokenErrorMessage( f38_arg0.errorCode ), LUI.ToastManager.ToastNotificationType.Warnings ) )
			f35_arg0:UpdatePreviewMapState( f35_arg0._controllerIndex, BATTLEMAP.SectorPreviewState.NORMAL )
		end
		ACTIONS.AnimateSequence( f35_arg0.Footer, "HideSpinner" )
		f35_arg0( f35_arg0, f35_arg0, f35_arg0 )
	end
	
	local f35_local1 = ""
	local f35_local2
	if not (f35_arg0._sectorType ~= BATTLEMAP.SectorType.INSTANT or f35_arg0._sectorType ~= BATTLEMAP.SectorType.FINAL) or f35_arg0._sectorState ~= BATTLEMAP.SectorState.ACTIVE then
		f35_local2 = false
	else
		f35_local2 = true
	end
	local f35_local3
	if f35_arg2 then
		f35_local3 = f35_arg2
	else
		f35_local3 = f35_local2
	end
	local f35_local4 = BATTLEMAP.CLAIM_SECTOR_ENABLED
	if f35_local4 then
		if f35_local2 then
			f35_local4 = f35_local2
		else
			f35_local4 = BATTLEMAP.CanSpendTokenMaxSector( f35_arg1, f35_arg0._curIndex, {} )
		end
	end
	if f35_local3 then
		if BATTLEMAP.CLAIM_SECTOR_ENABLED and f35_local4 then
			f35_local1 = Engine[0xED84C33EC5F01EA]( 0x322B65C9D13D8FD, Engine[0x7D3158A9539A355]( BATTLEMAP.GetSectorDisplayName( f35_arg0._curIndex - 1 ) ) )
			if not f35_arg0.Footer._hasActionHandler then
				local f35_local5 = function ()
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.action )
					if BATTLEMAP.CanSpendTokenMaxSector( f35_arg0, f35_arg0._curIndex, {} ) then
						BATTLEMAP.SpendTokenMaxSector( f35_arg0, f35_arg0, f35_arg0._curIndex, f35_arg0 )
						f35_arg0:UpdatePreviewMapState( f35_arg0._controllerIndex, BATTLEMAP.SectorPreviewState.UNLOCK_SECTOR_WAIT )
						f35_arg0.Footer:UpdateFooter( f35_arg0, Engine[0xED84C33EC5F01EA]( 0x91C38A186BB2170 ), false, f35_arg0._isPremium, false )
						ACTIONS.AnimateSequence( f35_arg0.Footer, "ShowSpinner" )
						if f35_arg0.NumTokensRequired and f35_arg0.NumTokensRequiredBacker then
							f35_arg0.NumTokensRequired:SetVisible( false )
							f35_arg0.NumTokensRequiredBacker:SetVisible( false )
						end
					end
				end
				
				f35_arg0:addEventHandler( "gamepad_button", function ( f36_arg0, f36_arg1 )
					if f36_arg1.bind == "menu_action7" and LUI.IsLastInputKeyboardMouse( f36_arg1.controller ) then
						f35_arg0()
					elseif CONDITIONS.ButtonRightTrigger( f36_arg0, f36_arg1 ) then
						f35_arg0()
					end
				end )
				local f35_local6 = CONDITIONS.IsMobileOrMobileSim() and f35_arg0.Footer.Footer or f35_arg0.Footer
				f35_local6:addEventHandler( "button_action", f35_local5 )
				f35_local6._hasActionHandler = true
			end
		end
	elseif f35_arg0._sectorType == BATTLEMAP.SectorType.FINAL and not f35_arg0._isBPComplete then
		f35_local1 = Engine[0xED84C33EC5F01EA]( 0x2891C74837A1421 )
	elseif not f35_arg0._isPremium and f35_arg0._sectorType == BATTLEMAP.SectorType.INSTANT then
		f35_local1 = Engine[0xED84C33EC5F01EA]( 0x92C0353F4F1D49 )
	end
	f35_arg0.Footer:UpdateFooter( f35_arg1, f35_local1, f35_local3, f35_arg0._isPremium, f35_arg0._sectorType == BATTLEMAP.SectorType.FINAL )
	if f35_arg0.NumTokensRequired and f35_arg0.NumTokensRequiredBacker then
		if f35_local4 then
			f35_arg0.NumTokensRequired:SetVisible( true )
			f35_arg0.NumTokensRequired:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x6F3F70AE1A5D74B, BATTLEMAP.GetNumRewardsRemainingInSector( f35_arg1, f35_arg0._curIndex ) ) ) )
			f35_arg0.NumTokensRequiredBacker:SetVisible( not f35_local3 )
			if not f35_local3 then
				local f35_local6 = f35_arg0.NumTokensRequired:GetAnchorsAndPosition()
				local f35_local7 = LAYOUT.GetTextWidth( f35_arg0.NumTokensRequired )
				local f35_local8 = (f35_local6.right - f35_local6.left) / 2 + f35_local6.left
				local f35_local9 = 8
				f35_arg0.NumTokensRequiredBacker:SetLeft( f35_local8 - f35_local7 / 2 - f35_local9 )
				f35_arg0.NumTokensRequiredBacker:SetRight( f35_local8 + f35_local7 / 2 + f35_local9 )
			end
		else
			f35_arg0.NumTokensRequired:SetVisible( false )
			f35_arg0.NumTokensRequiredBacker:SetVisible( false )
		end
	end
end

local f0_local14 = function ( f32_arg0 )
	if f32_arg0._isBPComplete and (f32_arg0._isPremium or f32_arg0._sectorType ~= BATTLEMAP.SectorType.INSTANT and f32_arg0._sectorType ~= BATTLEMAP.SectorType.FINAL) then
		ACTIONS.AnimateSequence( f32_arg0, "CompletedState" )
		f32_arg0.Gradient:SetRGB( f32_arg0._isPremium and SWATCHES[0xAE02465B3F418FB][0x5C8B52A2FF6F708] or SWATCHES[0xAE02465B3F418FB][0x9853FA0F469126B] )
		f32_arg0.Topo:SetRGB( f32_arg0._isPremium and SWATCHES[0xAE02465B3F418FB][0x5C8B82A2FF6FC21] or SWATCHES[0xAE02465B3F418FB][0x9853FA0F469126B] )
	elseif f32_arg0._sectorType == BATTLEMAP.SectorType.INSTANT then
		local f32_local0 = ACTIONS.AnimateSequence
		local f32_local1 = f32_arg0
		local f32_local2
		if f32_arg0._isPremium then
			f32_local2 = "CompletedState"
		else
			f32_local2 = "BonusState"
		end
		f32_local0( f32_local1, f32_local2 )
		f32_arg0.Gradient:SetRGB( f32_arg0._isPremium and SWATCHES[0xAE02465B3F418FB][0x5C8B52A2FF6F708] or SWATCHES[0xAE02465B3F418FB][0xA7360974387D537] )
		if f32_arg0._isPremium then
			f32_arg0.Topo:SetRGB( SWATCHES[0xAE02465B3F418FB][0x5C8B82A2FF6FC21] )
		end
	elseif f32_arg0._sectorType == BATTLEMAP.SectorType.FINAL then
		local f32_local0 = ACTIONS.AnimateSequence
		local f32_local1 = f32_arg0
		local f32_local2
		if f32_arg0._isBPComplete and f32_arg0._isPremium then
			f32_local2 = "CompletedState"
		else
			f32_local2 = "FinalState"
		end
		f32_local0( f32_local1, f32_local2 )
		f32_local0 = f32_arg0.Gradient
		f32_local1 = f32_local0
		f32_local0 = f32_local0.SetRGB
		if f32_arg0._isBPComplete then
			local f32_local3 = f32_arg0._isPremium
			local f32_local4 = SWATCHES[0xAE02465B3F418FB][0xCA026E99CA5FFA]
		end
		f32_local0( f32_local1, f32_local3 and f32_local4 or SWATCHES[0xAE02465B3F418FB][0x5C8B82A2FF6FC21] )
	elseif f32_arg0._sectorState == BATTLEMAP.SectorState.COMPLETED then
		if CONDITIONS.IsMobileOrMobileSim() then
			local f32_local5 = BATTLEMAP.GetLastSectorState( f32_arg0._controllerIndex, f32_arg0._curIndex, SEASON.GetCurrentSeason() )
			if f32_local5 and f32_local5 ~= f32_arg0._sectorState then
				local f32_local1 = f32_arg0:Wait( f0_local0 )
				f32_local1.onComplete = function ()
					local f33_local0 = ACTIONS.AnimateSequence
					f33_local0( f32_arg0, "SectorCeleb", {
						onComplete = function ()
							ACTIONS.AnimateSequence( f33_local0, "CompletedState" )
						end
					} )
				end
				
			else
				ACTIONS.AnimateSequence( f32_arg0, "CompletedState" )
			end
		else
			ACTIONS.AnimateSequence( f32_arg0, "CompletedState" )
		end
		f32_arg0.Gradient:SetRGB( f32_arg0._isPremium and SWATCHES[0xAE02465B3F418FB][0x5C8B52A2FF6F708] or SWATCHES[0xAE02465B3F418FB][0x9853FA0F469126B] )
		f32_arg0.Topo:SetRGB( f32_arg0._isPremium and SWATCHES[0xAE02465B3F418FB][0x5C8B82A2FF6FC21] or SWATCHES[0xAE02465B3F418FB][0x9853FA0F469126B] )
	elseif f32_arg0._sectorState == BATTLEMAP.SectorState.ACTIVE then
		ACTIONS.AnimateSequence( f32_arg0, "ActiveState" )
	else
		ACTIONS.AnimateSequence( f32_arg0, "LockedState" )
	end
	local f32_local0, f32_local5 = nil
	if f32_arg0._sectorType == BATTLEMAP.SectorType.FINAL then
		f32_local0 = SWATCHES[0xAE02465B3F418FB][0x693F4E8B54D317]
		f32_local5 = f32_local0
		f32_arg0.SectorMainTitleText:SetAlpha( 0.55 )
		f32_arg0.SectorMainTitleText:SetBlendMode( BLEND_MODE.addWithAlpha )
		f32_arg0.SectorMainTitle:SetAlpha( 0.13 )
	elseif f32_arg0._sectorType == BATTLEMAP.SectorType.INSTANT and not f32_arg0._isPremium then
		f32_local0 = SWATCHES[0xAE02465B3F418FB][0xA7361974387D6EA]
		f32_local5 = SWATCHES[0xAE02465B3F418FB][0xA7360974387D537]
		f32_arg0.SectorMainTitleText:SetAlpha( 0.55 )
		f32_arg0.SectorMainTitleText:SetBlendMode( BLEND_MODE.addWithAlpha )
		f32_arg0.SectorMainTitle:SetAlpha( 0.09 )
	else
		if f32_arg0._isPremium then
			local f32_local1 = SWATCHES[0xAE02465B3F418FB][0x5C8B82A2FF6FC21]
			if not f32_local1 then
				f32_local0 = f32_local1
			end
		end
		f32_local0 = SWATCHES[0xAE02465B3F418FB][0x9853FA0F469126B]
	end
	f32_arg0.SectorMainTitleText:SetRGB( f32_local0 )
	f32_arg0.SectorMainTitle:SetRGB( f32_local5 )
end

local f0_local15 = function ( f31_arg0 )
	if f31_arg0._sectorType == BATTLEMAP.SectorType.INSTANT and not f31_arg0._isPremium then
		f31_arg0.Sparks:SetVisible( true )
		Engine[0xFCF332AA8AC9B0F]( "bp_bonus_sparks", VideoPlaybackFlags.LOOP )
	elseif f31_arg0._sectorType == BATTLEMAP.SectorType.FINAL then
		f31_arg0.Sparks:SetVisible( true )
		Engine[0xFCF332AA8AC9B0F]( "bp_mount_olympus_cinegraph", VideoPlaybackFlags.LOOP )
	else
		f31_arg0.Sparks:SetVisible( false )
	end
end

local f0_local16 = function ( f30_arg0, f30_arg1, f30_arg2 )
	return f30_arg0._allUnlockData[f30_arg2]
end

local f0_local17 = function ( f28_arg0, f28_arg1, f28_arg2, f28_arg3, f28_arg4 )
	BATTLEMAP.SpendTokenSingle( f28_arg0, f28_arg1, f28_arg2, f28_arg3, function ( f29_arg0 )
		if f29_arg0.success then
			f28_arg0:CelebrateSpendToken()
			if CONDITIONS.IsMobileOrMobileSim() then
				f28_arg0.isOwned = true
			end
			return 
		elseif f29_arg0.errorCode then
			LUI.ToastManager.CreateToast( f28_arg0, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xE4D24CA2FAD477A ), BATTLEMAP.GetSpendTokenErrorMessage( f29_arg0.errorCode ), LUI.ToastManager.ToastNotificationType.Warnings ) )
		end
		f28_arg0:UpdatePreviewMapState( f28_arg0, BATTLEMAP.SectorPreviewState.NORMAL )
	end )
end

local f0_local18 = function ( f27_arg0, f27_arg1, f27_arg2 )
	local f27_local0 = f27_arg1 == BATTLEMAP.SectorType.INSTANT
	local f27_local1 = f27_arg1 == BATTLEMAP.SectorType.FINAL
	local f27_local2 = f27_arg2 == BATTLEMAP.SectorState.ACTIVE
	local f27_local3 = f27_arg0.isUnlocked
	if f27_local3 then
		if not f27_arg0.isOwned and not f27_local0 and not f27_local1 then
			f27_local3 = f27_local2
		else
			f27_local3 = false
		end
	end
	return f27_local3
end

local f0_local19 = function ( f26_arg0, f26_arg1, f26_arg2, f26_arg3 )
	f26_arg0:SetButtonDisabled( not f0_local0( f26_arg1, f26_arg2, f26_arg3 ) )
	if f26_arg1.isUnlocked then
		local f26_local0 = f26_arg1.isOwned
		local f26_local1 = 0xA5197E422EF0A7F
	end
	f26_arg0.Label.LabelText:setText( Engine[0xED84C33EC5F01EA]( f26_local0 and f26_local1 or 0x4D0DD3FE8F02644 ) )
	Engine[0xC4146BA76D0F982]( SOUND_SETS.default.action )
end

local f0_local20 = function ( f23_arg0, f23_arg1 )
	if f23_arg0._isOnboarding then
		TIP.CreateTips( Onboarding.Tips.BattlePass.REWARD_CLAIM( f23_arg1, f23_arg0.SectorUnlocksGrid ) )
		f23_arg0:addEventHandler( "completed_onboarding_state", function ( f24_arg0, f24_arg1 )
			if not f24_arg0._showingHVTTip then
				f24_arg0._showingHVTTip = true
				TIP.CreateTips( Onboarding.Tips.BattlePass.HVT_CLAIM( f23_arg0, f23_arg0.SectorMainUnlock ) )
			else
				local f24_local0 = CONDITIONS.IsMobileOrMobileSim() and LUI.FlowManager.GetScopedData( "MainMenuMobile" ) or LUI.FlowManager.GetMainScopedData()
				f24_local0.isOnboarding = true
				f24_local0.previewSectorIndex = 1
				f24_local0.state = BATTLEPASS.IsOwned( f23_arg0, SEASON.GetCurrentSeason() ) and BATTLEMAP.SectorMapState.UNLOCK or BATTLEMAP.SectorMapState.ONBOARDING
				local f24_local1 = f23_arg0:Wait( 100 )
				f24_local1.onComplete = function ()
					ACTIONS.LeaveMenu( f24_arg0._previewMenu )
				end
				
			end
		end )
	elseif not Onboarding.BattlePassHVT.WasCompleted( f23_arg0, f23_arg1 ) then
		local f23_local0 = BATTLEMAP.GetSectorProgress( f23_arg1, f23_arg0._curIndex, SEASON.GetCurrentSeason() )
		local f23_local1 = true
		for f23_local2 = 1, BATTLEMAP.NUM_UNLOCKS_PER_SECTOR - 1, 1 do
			if not f23_local0[f23_local2] then
				f23_local1 = false
			end
		end
		if f23_local1 and not f23_local0[BATTLEMAP.NUM_UNLOCKS_PER_SECTOR] then
			TIP.CreateTips( Onboarding.Tips.BattlePass.HVT_UNLOCKED( f23_arg1, f23_arg0.SectorMainUnlock ) )
		end
	end
end

local f0_local21 = function ( f22_arg0, f22_arg1, f22_arg2 )
	local f22_local0 = f22_arg0 .. "+" .. tostring( f22_arg1 )
	if f22_arg2 then
		f22_local0 = f22_local0 .. "+" .. f22_arg2
	end
	Engine[0x90FF5F1FFE3CE9E]( "battlemap_sector_update", f22_local0 )
end

local f0_local22 = function ( f17_arg0, f17_arg1, f17_arg2 )
	local f17_local0 = f17_arg0:getParent()
	local f17_local1 = f17_local0:getParent()
	f17_arg0.unlockData = f17_local1:GetGridUnlockDataForIndex( f17_local0, f17_local0:GetContentIndex( f17_arg1, f17_arg2 ) + 1 )
	if f17_arg0.unlockData then
		f17_arg0:Setup( f17_local1._sectorType, f17_local1._sectorState, f17_arg0.unlockData, f17_arg0.unlockData.lootType == LOOT.itemTypes.CAMO, f17_local1._isPremium, f17_local1._isBPComplete )
		if f17_local1._previewMenu then
			f17_arg0:SetupButton( f17_local1._controllerIndex, f17_arg0.unlockData.isOwned, f17_local1._isPremium )
		else
			f17_arg0:SetupPanel()
		end
		if not CONDITIONS.IsMobileOrMobileSim() then
			local f17_local2 = nil
			if f17_arg0.unlockData.isOwned then
				if (f17_arg0.unlockData.isFree or f17_local1._isPremium) and LOOT.IsLootTypeQuickEquipable( f17_arg0.unlockData.lootType ) then
					if not f17_arg0._contextualMenuIsAdded then
						f0_local0( f17_local1, f17_local1._controllerIndex, f17_arg0, f17_arg0.unlockData )
					end
					f17_local2 = Engine[0xED84C33EC5F01EA]( 0xCA07A93FADF9E95 )
				end
			elseif f17_local1._sectorType ~= BATTLEMAP.SectorType.INSTANT and f17_local1._sectorType ~= BATTLEMAP.SectorType.FINAL and f17_local1._sectorState == BATTLEMAP.SectorState.ACTIVE then
				if 0 < BATTLEMAP.GetTokenBalance( f17_local1._controllerIndex ) then
					f17_local2 = Engine[0xED84C33EC5F01EA]( 0xBC472FC7597D5FE )
				else
					f17_local2 = Engine[0xED84C33EC5F01EA]( 0xC3B5EA7CC3C1B74 )
				end
			end
			f17_arg0:SetPrimaryPrompt( f17_local2 )
		end
		if not f17_arg0._handlersAdded and f17_local1._previewMenu then
			local f17_local2 = function ( f21_arg0 )
				if f17_arg0._isUnlocking then
					return 
				elseif f17_arg0._previewMenu._focusedButton == f21_arg0 then
					return 
				elseif CONDITIONS.IsMobileOrMobileSim() or f17_arg0._previewMenu._state == BATTLEMAP.SectorPreviewState.NORMAL then
					f17_arg0._previewMenu._focusedButton = f21_arg0
				end
				f17_arg0:UpdateVision( f21_arg0.unlockData )
				f17_arg0._previewMenu.DetailPanel:UpdateDetails( f17_arg0._controllerIndex, f21_arg0.unlockData, f17_arg0._sectorType, f17_arg0._sectorState, f17_arg0._isPremium )
				f17_arg0._previewMenu.DetailPanel:UpdateSingleReward( f21_arg0.unlockData, f17_arg0._sectorType, f17_arg0._sectorState, f17_arg0._isPremium )
				f17_arg0( f17_arg0, f17_arg0._controllerIndex, "Inspecting item " .. f21_arg0.unlockData.lootRef )
				if CONDITIONS.IsMobileOrMobileSim() then
					f17_arg0._previewMenu:BuildViewer( f21_arg0.unlockData, f17_arg0._controllerIndex )
					f17_arg0( f17_arg0.ClaimButton, f21_arg0.unlockData, f17_arg0._sectorType, f17_arg0._sectorState )
				else
					local f21_local0 = BATTLEMAP.SectionForLootType( f21_arg0.unlockData.lootRef, f21_arg0.unlockData.lootType, false )
					local f21_local1 = nil
					local f21_local2 = f21_arg0.unlockData.lootImage
					if f21_arg0.unlockData.lootType == LOOT.itemTypes.EMBLEM then
						f21_local1 = LUI.DataSourceInGlobalModel.new( "cg.frontendscene.rttemblemmaterial" )
					elseif f21_arg0.unlockData.lootType == LOOT.itemTypes.PLAYERCARD then
						f21_local1 = LUI.DataSourceInGlobalModel.new( "cg.frontendscene.rttplayercardmaterial" )
					elseif f21_arg0.unlockData.lootType == LOOT.itemTypes.LOAD_SCREEN then
						f21_local1 = LUI.DataSourceInGlobalModel.new( "cg.frontendscene.rttloadingscreenmaterial" )
						local f21_local3 = LOAD_SCREEN.GetLoadingScreenByID( f21_arg0.unlockData.lootID )
						f21_local2 = f21_local3[0xE19C41B5A516BD9]
					end
					if f21_local1 then
						DataModel[0x83C9B5DE1D9371]( f21_local1:GetModel(), f21_local2 )
					end
					if f17_arg0._prevSection ~= f21_local0 then
						Engine[0x685AE31DEDA30A4]( f21_local0 )
						f17_arg0( f17_arg0.rewardRef, BATTLEMAP.BATTLEMAP_SCENES[f21_local0] )
					else
						f17_arg0( f17_arg0.rewardRef, BATTLEMAP.BATTLEMAP_SCENES[f21_local0], f21_local0 )
					end
					f17_arg0( f21_arg0.unlockData, f17_arg0 )
					f17_arg0( f17_arg0, f21_arg0.unlockData, f17_arg0.AMBIENT, f17_arg0._isPremium, true, f17_arg0.isOwned )
					f17_arg0._prevSection = f21_local0
					f17_arg0._previewMenu:UpdateCameraDefaultPosition( f21_arg0.unlockData, f21_local0 )
				end
			end
			
			if CONDITIONS.IsMobileOrMobileSim() then
				f17_arg0:addEventHandler( "button_active", function ( f20_arg0, f20_arg1 )
					f17_arg0.SectorMainUnlock:processEvent( {
						name = "main_battlemap_preview_button_up"
					} )
					f17_arg0( f20_arg0 )
				end )
				f17_arg0:addEventHandler( "button_over_active", function ( f19_arg0, f19_arg1 )
					f17_arg0.SectorMainUnlock:processEvent( {
						name = "main_battlemap_preview_button_up"
					} )
					f17_arg0( f19_arg0 )
				end )
			else
				f17_arg0:addEventHandler( "button_over", f17_local2 )
				f17_arg0:addEventHandler( "button_over_active", f17_local2 )
			end
			local f17_local3 = function ( f18_arg0, f18_arg1 )
				if f17_arg0( f18_arg0.unlockData, f17_arg0._sectorType, f17_arg0._sectorState ) then
					if 0 < BATTLEMAP.GetTokenBalance( f18_arg1.controller ) then
						f17_arg0._isUnlocking = true
						f17_arg0._previewMenu:UpdatePreviewMapState( f18_arg1.controller, BATTLEMAP.SectorPreviewState.UNLOCK_INDIVIDUAL_WAIT )
						f17_arg0( f17_arg0._previewMenu, f18_arg1.controller, f17_arg0._curIndex, f17_arg0 + 1, f18_arg0.unlockData )
						if f17_arg0.ClaimButton then
							f17_arg0.ClaimButton:SetButtonDisabled( true )
							f17_arg0.ClaimButton.Label.LabelText:setText( Engine[0xED84C33EC5F01EA]( 0xA5197E422EF0A7F ) )
						end
						Engine[0xC4146BA76D0F982]( SOUND_SETS.default.action )
						f17_arg0( f17_arg0, f17_arg0._controllerIndex, "Claimed unlock" .. f18_arg0.unlockData.lootRef )
					else
						f17_arg0._previewMenu.TokenWidget:PlayNoTokenAnim( f17_arg0._isPremium, f17_arg0._isComplete )
						Engine[0xC4146BA76D0F982]( SOUND_SETS.default.deny )
					end
				elseif f17_arg0( f17_arg0, f17_arg0._controllerIndex, f17_arg0, f17_arg0.unlockData ) then
					LOOT.LootQuickEquip( f17_arg0._controllerIndex, f18_arg0.unlockData.lootType, f18_arg0.unlockData.lootRef, f18_arg0.unlockData.lootID )
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.action )
				else
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.deny )
				end
			end
			
			if CONDITIONS.IsMobileOrMobileSim() then
				f17_arg0:registerEventHandler( "mobile_spend_token_single", f17_local3 )
			else
				f17_arg0:addEventHandler( "button_action", f17_local3 )
			end
			f17_arg0._handlersAdded = true
		end
	else
		f17_arg0:SetAlpha( 0 )
	end
end

local f0_local23 = function ( f16_arg0 )
	for f16_local3, f16_local4 in ipairs( f16_arg0.SectorUnlocksGrid:getAllChildren() ) do
		if not f16_local4.unlockData.isOwned and f16_local4.PulseAlpha then
			f16_local4:PulseAlpha()
		end
	end
end

local f0_local24 = function ( f10_arg0, f10_arg1, f10_arg2 )
	f10_arg0.SectorMainUnlock:SetupButton( f10_arg1, f10_arg0._sectorType, f10_arg0._sectorState, f10_arg0._mainUnlockData, f10_arg0._isPremium, f10_arg0._isBPComplete )
	if not CONDITIONS.IsMobileOrMobileSim() then
		if f10_arg0._mainUnlockData.isUnlocked and not f10_arg0._mainUnlockData.isOwned then
			if 0 < BATTLEMAP.GetTokenBalance( f10_arg1 ) then
				f10_arg0.SectorMainUnlock:SetPrimaryPrompt( Engine[0xED84C33EC5F01EA]( 0xBC472FC7597D5FE ) )
			else
				f10_arg0.SectorMainUnlock:SetPrimaryPrompt( Engine[0xED84C33EC5F01EA]( 0xC3B5EA7CC3C1B74 ) )
			end
		elseif f10_arg0._mainUnlockData.isOwned then
			if LOOT.IsLootTypeQuickEquipable( f10_arg0._mainUnlockData.lootType ) and (f10_arg0._isPremium or f10_arg0._mainUnlockData.isFree) then
				f10_arg0.SectorMainUnlock:SetPrimaryPrompt( Engine[0xED84C33EC5F01EA]( 0xCA07A93FADF9E95 ) )
				if not f10_arg0.SectorMainUnlock._contextualMenuIsAdded then
					f0_local0( f10_arg0, f10_arg0._controllerIndex, f10_arg0.SectorMainUnlock, f10_arg0._mainUnlockData )
				end
			end
		else
			f10_arg0.SectorMainUnlock:SetPrimaryPrompt( nil )
		end
	else
		f10_arg0.SectorMainUnlock.ProductRarityIndicator:SetupProductAvailability( {
			rarity = 4294967295,
			id = f10_arg0._mainUnlockData.lootID
		} )
	end
	if not f10_arg0.SectorMainUnlock._handlersAdded then
		f10_arg0:UpdateVision( f10_arg0._mainUnlockData )
		f10_arg2.DetailPanel:UpdateDetails( f10_arg1, f10_arg0._mainUnlockData, f10_arg0._sectorType, f10_arg0._sectorState, f10_arg0._isPremium, true )
		f10_arg2.DetailPanel:UpdateHVTReward( f10_arg0._allUnlockData, f10_arg0._sectorType, f10_arg0._sectorState, f10_arg0._mainUnlockData.isFree, f10_arg0._isPremium )
		local f10_local0 = function ( f15_arg0 )
			if f10_arg0._focusedButton == f15_arg0 then
				return 
			end
			f10_arg0:UpdateVision( f10_arg0._mainUnlockData )
			f10_arg0._focusedButton = f15_arg0
			f10_arg0.DetailPanel:UpdateDetails( f10_arg0, f10_arg0._mainUnlockData, f10_arg0._sectorType, f10_arg0._sectorState, f10_arg0._isPremium )
			f10_arg0.DetailPanel:UpdateHVTReward( f10_arg0._allUnlockData, f10_arg0._sectorType, f10_arg0._sectorState, f10_arg0._mainUnlockData.isFree, f10_arg0._isPremium )
			f15_arg0.unlockData = f10_arg0._mainUnlockData
			f10_arg0( f10_arg0, f10_arg0, "Inspecting item " .. tostring( f10_arg0._mainUnlockData.lootRef ) )
			if CONDITIONS.IsMobileOrMobileSim() then
				f10_arg0:BuildViewer( f10_arg0._mainUnlockData, f10_arg0 )
				f10_arg0( f10_arg0.ClaimButton, f10_arg0._mainUnlockData, f10_arg0._sectorType, f10_arg0._sectorState )
			else
				local f15_local0 = BATTLEMAP.SectionForLootType( f10_arg0._mainUnlockData.lootRef, f10_arg0._mainUnlockData.lootType, Dvar[0x9E5BE3B4BBA4E0E]( 0x3F9D7802407A661 ) )
				f10_arg0( f10_arg0._mainUnlockData.rewardRef, BATTLEMAP.BATTLEMAP_SCENES[f15_local0] )
				if f10_arg0._prevSection ~= f15_local0 then
					Engine[0x685AE31DEDA30A4]( f15_local0 )
					f10_arg0._prevSection = f15_local0
				end
				f10_arg0( f10_arg0._mainUnlockData, f10_arg0, Dvar[0x9E5BE3B4BBA4E0E]( 0x3F9D7802407A661 ) )
				f10_arg0( f10_arg0, f10_arg0._mainUnlockData, f10_arg0.AMBIENT, f10_arg0._isPremium, false, f10_arg0._mainUnlockData.isOwned )
				f10_arg0:UpdateCameraDefaultPosition( f10_arg0._mainUnlockData, f15_local0 )
			end
		end
		
		if CONDITIONS.IsMobileOrMobileSim() then
			f10_arg0.SectorMainUnlock:addEventHandler( "button_action", function ( f14_arg0, f14_arg1 )
				f10_arg0.SectorUnlocksGrid:processEvent( {
					name = "request_inactive"
				} )
				f10_arg0( f14_arg0 )
			end )
			f10_arg0.SectorMainUnlock:processEvent( {
				name = "main_battlemap_preview_button_over"
			} )
			f10_local0( f10_arg0.SectorMainUnlock )
		else
			f10_arg0.SectorMainUnlock:addEventHandler( "button_over", f10_local0 )
			f10_arg0.SectorMainUnlock:addEventHandler( "button_over_active", f10_local0 )
			f10_arg0.SectorMainUnlock:addEventHandler( "button_over_disable", function ( f13_arg0, f13_arg1 )
				f10_arg0._focusedButton = f13_arg0
			end )
			f10_arg0.SectorMainUnlock:addEventHandler( "button_over_disable_active", function ( f12_arg0, f12_arg1 )
				f10_arg0._focusedButton = f12_arg0
			end )
		end
		local f10_local1 = function ( f11_arg0, f11_arg1 )
			if f10_arg0( f10_arg0._mainUnlockData, f10_arg0._sectorType, f10_arg0._sectorState ) then
				if 0 < BATTLEMAP.GetTokenBalance( f11_arg1.controller ) then
					f10_arg0._isUnlocking = true
					f10_arg0:UpdatePreviewMapState( f11_arg1.controller, BATTLEMAP.SectorPreviewState.UNLOCK_INDIVIDUAL_WAIT )
					f10_arg0( f10_arg0, f11_arg1.controller, f10_arg0._curIndex, BATTLEMAP.NUM_UNLOCKS_PER_SECTOR, f10_arg0._mainUnlockData )
					if f10_arg0.ClaimButton then
						f10_arg0.ClaimButton:SetButtonDisabled( true )
						f10_arg0.ClaimButton.Label.LabelText:setText( Engine[0xED84C33EC5F01EA]( 0xA5197E422EF0A7F ) )
					end
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.action )
					f10_arg0( f10_arg0, f10_arg0._controllerIndex, "Claimed unlock" .. tostring( f10_arg0._mainUnlockData.lootRef ) )
				else
					f10_arg0.TokenWidget:PlayNoTokenAnim( f10_arg0._isPremium, f10_arg0._isComplete )
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.deny )
				end
			elseif f10_arg0( f10_arg0, f10_arg0._controllerIndex, f10_arg0.SectorMainUnlock, f10_arg0._mainUnlockData ) then
				LOOT.LootQuickEquip( f10_arg0._controllerIndex, f10_arg0._mainUnlockData.lootType, f10_arg0._mainUnlockData.lootRef, f10_arg0._mainUnlockData.lootID )
				Engine[0xC4146BA76D0F982]( SOUND_SETS.default.action )
			else
				f10_arg0( f10_arg0 )
				Engine[0xC4146BA76D0F982]( SOUND_SETS.default.deny )
			end
		end
		
		if CONDITIONS.IsMobileOrMobileSim() then
			f10_arg0.SectorMainUnlock:registerEventHandler( "mobile_spend_token_single", f10_local1 )
		else
			f10_arg0.SectorMainUnlock:addEventHandler( "button_action", f10_local1 )
		end
		f10_arg0.SectorMainUnlock._handlersAdded = true
		if not CONDITIONS.IsMobileOrMobileSim() then
			local f10_local2 = BATTLEMAP.SectionForLootType( f10_arg0._mainUnlockData.lootRef, f10_arg0._mainUnlockData.lootType, Dvar[0x9E5BE3B4BBA4E0E]( 0x3F9D7802407A661 ) )
			f0_local0( f10_arg0._mainUnlockData.rewardRef, BATTLEMAP.BATTLEMAP_SCENES[f10_local2], f10_local2 )
			Engine[0x685AE31DEDA30A4]( f10_local2 )
		end
	end
	f0_local0( f10_arg0, f10_arg1, f10_arg2 )
end

local f0_local25 = function ( f9_arg0, f9_arg1, f9_arg2, f9_arg3, f9_arg4, f9_arg5, f9_arg6, f9_arg7, f9_arg8 )
	if not f9_arg6 and f9_arg0._curIndex and f9_arg0._curIndex == f9_arg4 then
		return 
	end
	f9_arg0._previewMenu = f9_arg5
	f9_arg0._controllerIndex = f9_arg1
	f9_arg0._curIndex = f9_arg4
	f9_arg0._isPremium = f9_arg2
	f9_arg0._isBPComplete = f9_arg3
	f9_arg0._isOnboarding = f9_arg7
	local f9_local0 = SEASON.GetCurrentSeason()
	local f9_local1 = LUI.IsLastInputMouseNavigation( f9_arg1 ) and f9_arg8
	f9_arg0._sectorType = BATTLEMAP.GetSectorType( f9_arg4, f9_local0 )
	if f9_arg0._sectorType ~= BATTLEMAP.SectorType.INSTANT and f9_arg0._sectorType ~= BATTLEMAP.SectorType.FINAL then
		f9_arg0._sectorState = TEST_STATE and TEST_STATE or BATTLEMAP.GetSectorState( f9_arg1, f9_arg4, f9_local0 )
	end
	local f9_local2 = ACTIONS.AnimateSequence
	local f9_local3 = f9_arg0
	local f9_local4
	if f9_arg0._isPremium then
		f9_local4 = "Premium"
	else
		f9_local4 = "Free"
	end
	f9_local2( f9_local3, f9_local4 )
	f0_local0( f9_arg0, f9_arg1 )
	f0_local0( f9_arg0, f9_arg1 )
	f0_local0( f9_arg0 )
	f0_local0( f9_arg0 )
	f9_arg0._allUnlockData = BATTLEMAP.GetSectorUnlockData( f9_arg1, f9_local0, f9_arg4 )
	f9_arg0.SectorUnlocksGrid.currentUnlocks = f9_arg0._allUnlockData
	f9_arg0.SectorUnlocksGrid:SetNumChildren( #f9_arg0._allUnlockData - 1 )
	if f9_local1 then
		f9_arg0.SectorUnlocksGrid._loseActiveOnRefresh = false
	end
	f9_arg0.SectorUnlocksGrid:SetRefreshChild( f0_local0 )
	f9_arg0.SectorUnlocksGrid:RefreshContent()
	if f9_local1 then
		f9_arg0.SectorUnlocksGrid:processEvent( {
			name = "request_inactive"
		} )
	end
	f9_arg0._mainUnlockData = f9_arg0._allUnlockData[BATTLEMAP.NUM_UNLOCKS_PER_SECTOR]
	if not f9_arg0._mainUnlockData then
		f9_arg0.SectorMainUnlock:SetAlpha( 0 )
	else
		if f9_arg5 then
			f0_local0( f9_arg0, f9_arg1, f9_arg5 )
		else
			f9_arg0.SectorMainUnlock:SetupPanel( f9_arg0._sectorType, f9_arg0._sectorState, f9_arg0._mainUnlockData, f9_arg0._isPremium, f9_arg0._isBPComplete, f9_arg0.PanelMask )
			f9_arg0.SectorMainTitleText:setText( ToUpperCase( f9_arg0._mainUnlockData.lootName ) )
			f0_local0( f9_arg0, f9_arg1, f9_arg5 )
		end
		f9_local2 = ACTIONS.AnimateSequence
		f9_local3 = f9_arg0
		if f9_arg5 then
			f9_local4 = "ButtonVer"
		else
			f9_local4 = "PanelVer"
		end
		f9_local2( f9_local3, f9_local4 )
		f9_local2 = ACTIONS.AnimateSequence
		f9_local3 = f9_arg0
		if f9_arg0._mainUnlockData.isUnlocked then
			f9_local4 = "Unlocked"
		else
			f9_local4 = "Locked"
		end
		f9_local2( f9_local3, f9_local4 )
	end
	if f9_arg5 then
		f0_local0( f9_arg0, f9_arg1 )
		if f9_arg5._focusedButton and f9_arg5._focusedButton.unlockData then
			f9_local2 = f9_arg5._focusedButton.unlockData
			if f9_local2.isHVT then
				f9_arg5.DetailPanel:UpdateHVTReward( f9_arg0._allUnlockData, f9_arg0._sectorType, f9_arg0._sectorState, f9_local2.isFree, f9_arg0._isPremium )
			else
				f9_arg5.DetailPanel:UpdateSingleReward( f9_local2, f9_arg0._sectorType, f9_arg0._sectorState, f9_arg0._isPremium )
			end
		end
	end
	if CONDITIONS.IsMobileOrMobileSim() and f9_arg0.ClaimButton then
		f9_arg0:SetupBonusSectorText( f9_arg4, f9_arg1 )
	end
end

local f0_local26 = function ( f8_arg0 )
	local f8_local0 = f8_arg0.Title:GetAnchorsAndPosition()
	f8_arg0._titleLeft = f8_local0.left
	f8_local0 = f8_arg0.TitleBacker:GetAnchorsAndPosition()
	f8_arg0._titleBackerLeft = f8_local0.left
	f8_local0 = f8_arg0.SectorStateTag:GetAnchorsAndPosition()
	f8_arg0._tagLeft = f8_local0.left
end

local f0_local27 = function ( f7_arg0, f7_arg1 )
	if CONDITIONS.IsMobileOrMobileSim() then
		return 
	elseif f7_arg1 then
		if f7_arg0._isPremium or not f7_arg0._isPremium and f7_arg1.isFree then
			f0_local0( f7_arg1.rewardRef, BATTLEMAP.BATTLEMAP_SCENES[BATTLEMAP.SectionForLootType( f7_arg1.lootRef, f7_arg1.lootType )] )
			f0_local0( f7_arg1, f7_arg0 )
			f0_local0( f7_arg0, f7_arg1, f0_local0.UNLOCK, f7_arg0._isPremium, false, f7_arg1.isOwned )
		end
		if f7_arg0._previewMenu and f7_arg0._previewMenu.DetailPanel then
			f7_arg0._previewMenu.DetailPanel:PlayUnlockAnimation( f7_arg1, f7_arg0._sectorType, f7_arg0._sectorState, f7_arg0._isPremium )
		end
		if f7_arg0.UnlockGradient then
			if f7_arg0._isPremium then
				f7_arg0.UnlockGradient:SetRGB( SWATCHES[0xAE02465B3F418FB][0x5C8B82A2FF6FC21] )
			else
				f7_arg0.UnlockGradient:SetRGB( f7_arg1.isFree and SWATCHES[0xAE02465B3F418FB][0xDCB8B6B04F99BD1] or SWATCHES[0xAE02465B3F418FB][0x9853FA0F469126B] )
			end
			ACTIONS.AnimateSequence( f7_arg0, "PlayUnlockGradient" )
		end
		f7_arg0:UpdateVision( f7_arg1 )
	end
end

local f0_local28 = function ( f6_arg0, f6_arg1 )
	if CONDITIONS.IsMobileOrMobileSim() then
		return 
	end
	local f6_local0 = Engine[0x45B054C920178E9]()
	if f6_arg1.isOwned and f6_arg1.visionSetUnlocked then
		Engine[0x671C74695E20482]( f6_local0, f6_arg1.visionSetUnlocked, 300 )
	elseif not f6_arg1.isOwned and f6_arg1.visionSetLocked then
		Engine[0x671C74695E20482]( f6_local0, f6_arg1.visionSetLocked, 300 )
	else
		f6_arg0:ResetVision()
	end
end

local f0_local29 = function ( f5_arg0 )
	if CONDITIONS.IsMobileOrMobileSim() then
		return 
	else
		Engine[0x671C74695E20482]( Engine[0x45B054C920178E9](), f0_local0, 300 )
	end
end

local f0_local30 = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0._controllerIndex = f3_arg1
	f3_arg0.SetupInspectPanel = f0_local0
	f3_arg0.UpdateTitle = f0_local0
	f3_arg0.UpdateTag = f0_local0
	f3_arg0.UpdateState = f0_local0
	f3_arg0.UpdateCinematic = f0_local0
	f3_arg0.GetGridUnlockDataForIndex = f0_local0
	f3_arg0.UpdateVision = f0_local0
	f3_arg0.ResetVision = f0_local0
	f3_arg0.KillCurrentVFX = f0_local0
	f3_arg0.ShowUnlockEffect = f0_local0
	f3_arg0.menuEnterTime = CoD.GetUTC()
	f3_arg0._prevSection = ""
	f3_arg0._currentVfx = {}
	f0_local0( f3_arg0 )
	f3_arg0:addEventHandler( "on_close", function ( f4_arg0, f4_arg1 )
		f4_arg0:KillCurrentVFX()
	end )
end

local f0_local31 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.PostLoadShared = f0_local0
end

function BattleMapInspectPanelBase( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = f1_local0.UIElement.new()
	f1_local1:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 436, 0, 1080 )
	f1_local1.id = "BattleMapInspectPanelBase"
	local f1_local2
	if f1_arg1 then
		f1_local2 = f1_arg1
	else
		f1_local2 = f1_arg1.controllerIndex
	end
	f0_local0( f1_local1, f1_local0.ValidateControllerIndex( f1_local1, f1_local2 ), f1_arg1 )
	return f1_local1
end

MenuBuilder.registerType( 0x4BE0559F6EDBFFC, BattleMapInspectPanelBase )
LockTable( _M )
