-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
LUI.ButtonHelperText = LUI.Class( LUI.UIElement )
local f0_local0 = CoD.TextSettings.ButtonHelperFont
local f0_local1 = 32
local f0_local2 = 400
local f0_local3 = 2
local f0_local4 = 8
local f0_local5 = SWATCHES[0x2B125210C0B2BB1][0xF5C0139BA6F896C]
local f0_local6 = 56
local f0_local7 = 0.6
local f0_local8 = 4
local f0_local9 = 12
local f0_local10 = 16
local f0_local11 = 22
local f0_local12 = function ( f54_arg0 )
	f54_arg0:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, -5, 27, -15, 15 )
end

LUI.ButtonHelperText.GAMEPAD_BUTTON_ICON_HEIGHT = 22
LUI.ButtonHelperText.PROMPT_ORDER = {
	nil,
	"button_primary",
	"button_secondary",
	"button_start"
}
LUI.ButtonHelperText.PROMPT_UI_MENU_ORDER = {
	nil,
	"button_secondary",
	"button_primary",
	"button_start"
}
TOOLTIPS = {
	EXIT = {
		key = Engine[0xEB2A2834B76AEA4]( Engine[0xED84C33EC5F01EA]( 0x4E76830223A336F ) ),
		text = Engine[0xED84C33EC5F01EA]( 0x78045F77B0CF10E )
	},
	OPTIONS = {
		key = Engine[0xEB2A2834B76AEA4]( Engine[0xED84C33EC5F01EA]( 0x371D314917B7829 ) ),
		text = Engine[0xED84C33EC5F01EA]( 0xDC43D01750C15FD )
	},
	DISMISS = {
		key = Engine[0xEB2A2834B76AEA4]( Engine[0xED84C33EC5F01EA]( 0xEF0F75B0AB08E35 ) ),
		text = Engine[0xED84C33EC5F01EA]( 0x934BF1499C71BC6 )
	}
}
LUI.ButtonHelperText.AutomaticIcons = {
	{
		icon = "FooterBackIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x678DCE0E97FD19C )
	},
	{
		icon = "FooterBackIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x8E9604004261969 )
	},
	{
		icon = "FooterBackIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x4C4B7B2FF4A57EE )
	},
	{
		icon = "FooterOptionsIcon",
		text = Engine[0xED84C33EC5F01EA]( 0xDE7B3C94B0B0F67 )
	},
	{
		icon = "FooterCursorIcon",
		text = Engine[0xED84C33EC5F01EA]( 0xBDC2AC973D02C84 )
	},
	{
		icon = "MuteAllIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x46FABA13E586EDA )
	},
	{
		icon = "UnmuteAllIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x7D144975A6EEA95 )
	},
	{
		icon = "FooterNVidiaIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x78B3BFB51D68607 )
	},
	{
		icon = "FooterMouseIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x384B5ED94000390 )
	}
}
local f0_local13 = function ( f53_arg0 )
	if f53_arg0.optOutOfAutomaticKBMIcon then
		return nil
	end
	for f53_local3, f53_local4 in ipairs( LUI.ButtonHelperText.AutomaticIcons ) do
		if f53_arg0.helper_text == f53_local4.text then
			return f53_local4
		end
	end
	return nil
end

local f0_local14 = function ( f52_arg0 )
	local f52_local0 = f52_arg0
	for f52_local4, f52_local5 in pairs( TOOLTIPS ) do
		if f52_local0 == f52_local5.key then
			f52_local0 = f52_local5.text
			break
		end
	end
	return f52_local0
end

local f0_local15 = function ( f51_arg0, f51_arg1 )
	local f51_local0
	if not f51_arg1.clickable then
		f51_local0 = f51_arg1.kbm_only
		if f51_local0 then
			f51_local0 = LUI.IsKBMActiveInputMethodForPrompts( f51_arg0 )
			if f51_local0 then
				if not CONDITIONS.IsMobileOrMobileSim() then
					f51_local0 = not f51_arg1.ignoreAlternatePCButton
				else
					f51_local0 = false
				end
			end
		end
	else
		f51_local0 = LUI.IsKBMActiveInputMethodForPrompts( f51_arg0 )
		if f51_local0 then
			if not CONDITIONS.IsMobileOrMobileSim() then
				f51_local0 = not f51_arg1.ignoreAlternatePCButton
			else
				f51_local0 = false
			end
		end
	end
	return f51_local0
end

local f0_local16 = function ( f50_arg0 )
	return f50_arg0.button_ref and f50_arg0.button_ref or f50_arg0.button_ref2
end

local f0_local17 = function ( f49_arg0, f49_arg1 )
	local f49_local0 = Engine[0xFB1B6E36ABE59B8]()
	if not f49_local0 then
		f49_local0 = LUI.IsGamepadActiveInputMethodForPrompts( f49_arg0 ) or f49_arg1.forceGamepadPrompt
	end
	local f49_local1
	if f49_local0 then
		f49_local1 = LUI.ButtonHelperText.GAMEPAD_BUTTON_ICON_HEIGHT
		if not f49_local1 then
		
		else
			return f49_local1
		end
	end
	f49_local1 = f0_local0.Height
end

local f0_local18 = function ( f48_arg0, f48_arg1, f48_arg2 )
	if f48_arg2.forceKbmPrompt and f48_arg2.key_ref then
		return Engine[0x3C3B6822A98A4BC]( f48_arg0, "global", f48_arg2.key_ref, 0, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] )
	elseif f48_arg2.forceGamepadPrompt then
		return Engine[0xED84C33EC5F01EA]( ButtonMap[f48_arg2.button_ref].string )
	elseif f48_arg2.overrideControllerButtonIcon and LUI.IsGamepadActiveInputMethodForPrompts( f48_arg0 ) then
		return CoD.GetIconForButton( f48_arg2.overrideControllerButtonIcon )
	elseif not f48_arg2.useTextButtons or LUI.IsGamepadActiveInputMethodForPrompts( f48_arg0 ) then
		return CoD.GetIconForButton( f48_arg1 )
	else
		return CoD.GetTextForButton( f48_arg1 )
	end
end

local f0_local19 = function ( f47_arg0, f47_arg1, f47_arg2, f47_arg3 )
	if not f0_local0( f47_arg0, f47_arg2 ) then
		local f47_local0, f47_local1, f47_local2, f47_local3 = GetTextDimensions( f0_local0( f47_arg0, f47_arg1, f47_arg2 ), f0_local0.Font, f0_local0( f47_arg0, f47_arg2 ) )
		return f47_local2 - f47_local0
	elseif f0_local0( f47_arg2 ) then
		return f47_arg3._width or f0_local0
	else
		return 0
	end
end

local f0_local20 = function ( f43_arg0, f43_arg1, f43_arg2 )
	local f43_local0 = f0_local0( f43_arg0, f43_arg2 ) or f43_arg2.always_use_alt_PC_icon
	local f43_local1 = f0_local0( f43_arg0, f43_arg1, f43_arg2 )
	local f43_local2 = f0_local0( f43_arg0, f43_arg2 )
	local self = nil
	local f43_local4 = function ( f44_arg0 )
		local f44_local0 = f43_arg0 and SWATCHES[0x2B125210C0B2BB1][0xF5C0139BA6F896C] or f43_arg0
		if f43_arg0.overrideTextUpColor then
			f44_local0 = f43_arg0.overrideTextUpColor
		end
		local f44_local1 = f43_arg0 and SWATCHES[0x2B125210C0B2BB1][0xF5C0139BA6F896C] or SWATCHES[0x6459D74AFA793E1][0x5697F5B479A79D6]
		if f43_arg0.overrideTextOverColor then
			f44_local1 = f43_arg0.overrideTextOverColor
		end
		local f44_local2 = {
			nil,
			nil,
			nil,
			10,
			nil,
			nil,
			0,
			nil,
			1,
			10,
			[1] = TWEEN_PROPERTY.RGB,
			[2] = f44_local1,
			[4] = TWEEN_PROPERTY.Blend_Mode,
			[5] = BLEND_MODE.blend,
			[7] = TWEEN_PROPERTY.Alpha
		}
		local f44_local3 = {
			nil,
			nil,
			nil,
			10,
			nil,
			nil,
			0,
			nil,
			5.29462817E-315,
			10,
			[1] = TWEEN_PROPERTY.RGB,
			[2] = f44_local0,
			[4] = TWEEN_PROPERTY.Blend_Mode,
			[5] = BLEND_MODE.addWithAlpha,
			[7] = TWEEN_PROPERTY.Alpha
		}
		f44_arg0.Icon:RegisterAnimationSequence( "buttonOver", f44_local2 )
		f44_arg0.Icon:RegisterAnimationSequence( "buttonUp", f44_local3 )
		f44_arg0.Icon:AnimateSequence( "buttonUp" )
		f44_arg0.Icon:registerEventHandler( "button_up", function ( element, event )
			element:AnimateSequence( "buttonUp" )
		end )
		f44_arg0.Icon:registerEventHandler( "button_over", function ( element, event )
			element:AnimateSequence( "buttonOver" )
		end )
	end
	
	if f43_local0 then
		local f43_local5 = f0_local0( f43_arg2 )
		if f43_local5 then
			self = MenuBuilder.BuildRegisteredType( f43_local5.icon, {
				controllerIndex = f43_arg0
			} )
			local f43_local6, f43_local7, f43_local8, f43_local9 = self:getLocalRect()
			self._width = f43_local8 - f43_local6
			self:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, self._width, -f43_local2 / 2, f43_local2 / 2 )
			self:SetTintFontIcons( true )
			self:SetRGB( f0_local0 )
			self:SetAlpha( 1, 0 )
			self.id = f43_arg2.side .. "Icon"
			if self[0x5A2686A1843D38D] == 0x1AB018DDFFB593B or self[0x5A2686A1843D38D] == 0x51B8E9299C16D1E then
				f43_local4( self )
			end
		end
	elseif not f43_arg2.isTouch or f43_arg2.IsLastInputGamepad then
		self = LUI.UIStyledText.new()
		self:SetRGB( f0_local0 )
		self:SetFont( f0_local0.Font )
		self:SetAlignment( LUI.Alignment.Center )
		self:SetTintFontIcons( true )
		self:SetAlpha( 0.8, 0 )
		self:SetWordWrap( false )
		self.id = f43_arg2.side .. "Icon"
		self:setText( f43_local1 )
		self:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, f0_local0( f43_arg0, f43_arg1, f43_arg2 ), -f43_local2 / 2, f43_local2 / 2 )
		if self[0x5A2686A1843D38D] == 0x1AB018DDFFB593B or self[0x5A2686A1843D38D] == 0x51B8E9299C16D1E then
			f43_local4( self )
		end
	end
	return self
end

local f0_local21 = function ( f42_arg0, f42_arg1, f42_arg2 )
	local f42_local0 = f0_local0.Height
	if IsLanguageArabic() then
		f42_local0 = 26
	elseif IsLanguageKorean() then
		f42_local0 = 22
	end
	local f42_local1 = MenuBuilder.BuildRegisteredType( "ToggleButton", {
		controllerIndex = f42_arg0
	} )
	local f42_local2, f42_local3, f42_local4, f42_local5 = f42_local1:getLocalRect()
	f42_local1._width = f42_local4 - f42_local2
	f42_local1:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, f42_local1._width, -f42_local0 * f0_local0, f42_local0 * f0_local0 )
	f42_local1:SetAlpha( 1, 0 )
	f42_local1:SetScale( -0.2, 0 )
	f42_local1.m_requireFocusType = FocusType.MouseOver
	f42_local1.id = f42_arg2.side .. "Toggle"
	return f42_local1
end

local f0_local22 = function ( f41_arg0, f41_arg1 )
	local f41_local0 = MenuBuilder.BuildRegisteredType( "UIRadialProgressBar", {
		segmentMaterial = "global_progression_fill_segment",
		snapToMultiplesOfAngle = 0,
		fillFromAngle = 0,
		maskMaterial = "global_progression_fill_mask",
		segmentCount = 2,
		controllerIndex = f41_arg0
	} )
	f41_local0:SetProgress( 0 )
	f0_local0( f41_local0 )
	f41_local0:SetRGB( SWATCHES[0x3E789DB0A12E313][0x9A2E22D095C6ED7], 0 )
	f41_local0.id = "ProgressBar"
	ProgressBarUtils.AddUIHoldLogic( f41_local0, f41_arg0, {
		buttons = {
			[CoD.GetRawButtonFromButtonRef( f41_arg1.button_ref )] = true
		},
		duration = f41_arg1.holdDuration,
		onFill = f41_arg1.callback,
		callbackOptions = f41_arg1.callbackOptions
	} )
	return f41_local0
end

local f0_local23 = function ( menu, controller )
	local self = LUI.UIImage.new()
	self.id = "hold_indicator"
	f0_local0( self )
	self:setImage( RegisterMaterial( "global_progression_fill_ring" ) )
	self:SetRGB( COLORS[0xEDD458C47261ED8], 0 )
	self:SetAlpha( 0.6, 0 )
	local f40_local1 = controller.button_ref
	return self
end

local f0_local24 = function ( f35_arg0, f35_arg1, f35_arg2 )
	local f35_local0 = f0_local0( f35_arg0, f35_arg1 )
	if not f35_local0 or not SWATCHES[0x2B125210C0B2BB1][0xF5C0139BA6F896C] then
		local f35_local1 = f0_local0
	end
	if f35_arg1.overrideTextUpColor then
		local f35_local1 = f35_arg1.overrideTextUpColor
	end
	if not f35_local0 or not SWATCHES[0x2B125210C0B2BB1][0xF5C0139BA6F896C] then
		local f35_local2 = SWATCHES[0x6459D74AFA793E1][0x5697F5B479A79D6]
	end
	if f35_arg1.overrideTextOverColor then
		local f35_local2 = f35_arg1.overrideTextOverColor
	end
	local f35_local3 = {
		nil,
		nil,
		nil,
		10,
		nil,
		-2.353438279577766E-185,
		10,
		[1] = TWEEN_PROPERTY.RGB,
		[2] = f35_local2,
		[4] = TWEEN_PROPERTY.Alpha
	}
	local f35_local4 = {
		nil,
		nil,
		nil,
		10,
		nil,
		-2.353438279577766E-185,
		10,
		[1] = TWEEN_PROPERTY.RGB,
		[2] = f35_local1,
		[4] = TWEEN_PROPERTY.Alpha
	}
	local f35_local5 = f35_arg1.helper_text
	local self = function ( f39_arg0 )
		local f39_local0 = f39_arg0
		if not LUI.IsGamepadActiveInputMethodForPrompts( f35_arg0 ) and f35_arg0.buttonText then
			if IsLanguageArabic() then
				f39_local0 = f39_arg0 .. " " .. f35_arg0.buttonText
			else
				f39_local0 = f35_arg0.buttonText .. " " .. f39_arg0
			end
		end
		return f39_local0
	end
	
	f35_local5 = self( f35_local5 )
	self = LUI.UIText.new()
	local f35_local7 = f0_local0.Height
	if IsLanguageArabic() then
		f35_local7 = 26
	elseif IsLanguageKorean() or IsLanguageJapanese() then
		f35_local7 = 22
	end
	self:SetMinFontSize( f35_local7 )
	self:SetMaxFontSize( f35_local7 )
	self:SetFont( f0_local0.Font )
	self:SetAlignment( LUI.Alignment.Left )
	self:SetVerticalAlignment( LUI.Alignment.Middle )
	self:SetRGB( f35_local1 )
	self.id = "promptText" .. f35_arg1.primaryRef
	self.ref = f35_arg1.primaryRef
	self:setText( ToUpperCase( f35_local5 ) )
	self:SetOptOutRightToLeftAlignmentFlip( true )
	self:SetWordWrap( false )
	self:SetTintFontIcons( true )
	self:SetAlpha( 0.8 )
	self:RegisterAnimationSequence( "buttonOver", f35_local3 )
	self:RegisterAnimationSequence( "buttonUp", f35_local4 )
	self:AnimateSequence( "buttonUp" )
	self:registerEventHandler( "button_up", function ( self, event )
		self:AnimateSequence( "buttonUp" )
	end )
	self:registerEventHandler( "button_over", function ( self, event )
		self:AnimateSequence( "buttonOver" )
	end )
	self:registerEventHandler( "change_text", function ( self, event )
		self:setText( ToUpperCase( f35_arg0( event.newText ) ) )
		f35_arg0.helper_text = event.newText
	end )
	local f35_local8 = LAYOUT.GetTextWidth( self, f35_arg0 )
	self:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, f0_local0, -f35_local7 * 0.7, f35_local7 * 0.7 )
	return self
end

local f0_local25 = function ( f34_arg0, f34_arg1 )
	if f34_arg0.data.clickable and (f34_arg1.mouse == true or CONDITIONS.IsMobileOrMobileSim()) then
		f34_arg0:dispatchEventToRoot( {
			name = "gamepad_button",
			immediate = true,
			button = ButtonMap[f34_arg0.data.primaryRef].raw_button,
			down = true,
			controller = f34_arg1.controller
		} )
		if not CONDITIONS.IsMobileOrMobileSim() then
			Engine[0xA1DAA3E8650282A]( f34_arg1.controller )
		end
	end
end

local f0_local26 = function ( f33_arg0, f33_arg1, f33_arg2, f33_arg3, f33_arg4, f33_arg5, f33_arg6 )
	local f33_local0 = nil
	local f33_local1 = f0_local0( f33_arg0, f33_arg1 )
	if f33_arg1.width then
		f33_local0 = f33_arg1.width
	else
		local f33_local2 = 0
		local f33_local3 = 0
		local f33_local4 = 0
		local f33_local5 = 0
		if f33_arg3 then
			f33_local2 = f0_local0( f33_arg0, f33_arg3, f33_arg1, f33_arg5 )
			f33_local4 = f33_local4 + 1
		end
		local f33_local6 = LAYOUT.GetTextWidth( f33_arg2, f33_arg0 )
		if f33_arg4 then
			f33_local3 = f0_local0( f33_arg0, f33_arg4, f33_arg1, f33_arg6 )
			f33_local4 = f33_local4 + 1
		end
		if f33_arg1.isToggleButton then
			f33_local5 = f0_local0
		end
		local f33_local7 = 0
		if f33_local1 or f33_arg1.isToggleButton or f33_arg1.isImportantAction then
			if f0_local0( f33_arg1 ) then
				f33_local7 = f0_local0 * f33_local4
			end
			f33_local7 = f33_local7 + f0_local0 * 2
			if not f33_local1 then
				f33_local7 = f33_local7 + f0_local0 * f33_local4
			end
		else
			f33_local7 = f0_local0 * f33_local4
		end
		f33_local0 = f33_local2 + f33_local6 + f33_local3 + f33_local7 + f33_local5
	end
	if f33_arg1.updateWidthCallback then
		f33_arg1.updateWidthCallback( f33_arg1.headerWidget, f33_local0 )
	end
	return f33_local0
end

local f0_local27 = function ( f32_arg0, f32_arg1, f32_arg2 )
	local f32_local0 = {
		element = f32_arg1,
		event = f32_arg2
	}
	if f32_arg0.callbackOptions then
		for f32_local4, f32_local5 in pairs( f32_arg0.callbackOptions ) do
			f32_local0[f32_local4] = f32_local5
		end
	end
	f32_arg0.callback( f32_local0 )
end

local f0_local28 = function ( f26_arg0, f26_arg1 )
	if f26_arg1.isImportantAction then
		
	else
		
	end
	local f26_local0 = f26_arg1.button_ref
	local f26_local1 = f26_arg1.button_ref2
	local f26_local2 = f26_arg1.button_ref_override_icon or nil
	local f26_local3 = f26_arg1.button_ref_override_icon2 or nil
	local f26_local4 = f0_local0( f26_arg0, f26_arg1 )
	f26_arg1.primaryRef = f0_local0( f26_arg1 )
	if f26_arg1.useTextButtons == nil then
		f26_arg1.useTextButtons = false
	end
	local self = LUI.UIButton.new()
	self.id = f26_arg1.primaryRef
	self.data = f26_arg1
	self.m_requireFocusType = FocusType.MouseOver
	self.ref = f26_arg1.primaryRef
	self.hasTwoButtons = f26_arg1.button_ref and f26_arg1.button_ref2
	self.blockKeyboardSound = true
	self.skipPlayGlobalGainFocusAnim = true
	if f26_arg1.muteAction then
		if not self.properties then
			self.properties = {}
		end
		self.properties.muteAction = f26_arg1.muteAction
	end
	local f26_local6
	if f26_arg1.isHold then
		f26_local6 = f26_arg1.isHold
		if f26_local6 then
			f26_local6 = not f26_arg1.isLastInputGamepad
		end
	else
		f26_local6 = true
	end
	local f26_local7
	if not f26_local4 and not f26_arg1.isToggleButton then
		f26_local7 = f26_arg1.isImportantAction
		if f26_local7 then
			if not f26_arg1.ignoreButtonBackground then
				f26_local7 = f26_local6
			else
				f26_local7 = false
			end
		end
	elseif not f26_arg1.ignoreButtonBackground then
		f26_local7 = f26_local6
	else
		f26_local7 = false
	end
	if f26_local7 then
		local f26_local8 = MenuBuilder.BuildRegisteredType( "ButtonHelperButtonBackground", {
			controllerIndex = f26_arg0,
			isImportantAction = f26_arg1.isImportantAction
		} )
		f26_local8.id = "ButtonHelperButtonBackground"
		f26_local8:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		self:addElement( f26_local8 )
		self.ButtonHelperButtonBackground = f26_local8
	end
	if f26_local4 then
		local f26_local8
		if not f26_local0 then
			f26_local8 = f26_local0
		else
			f26_local8 = f26_local1
		end
		if f26_local8 then
			local f26_local9 = CoD.GetTextForButton( f26_local8 )
			local f26_local10 = f26_arg1.helper_text
			if f26_arg1.kbmTooltipPromptOverload and f26_arg1.kbmTooltipPromptOverload ~= "" then
				f26_local9 = CoD.GetTextForButton( f26_arg1.kbmTooltipPromptOverload )
			end
			for f26_local14, f26_local15 in ipairs( LUI.ButtonHelperText.PROMPT_ORDER ) do
				if f26_local15 == f26_local8 then
					f26_local10 = f0_local0( f26_local10 )
				end
			end
			if f26_local10 == f26_arg1.helper_text then
				f26_local10 = ""
				if f26_arg1.helper_definition then
					f26_local10 = f26_arg1.helper_definition
				end
			end
			if f26_local9 then
				f26_local11 = {
					{
						keyprompt_text = f26_local9,
						helper_text = f26_local10,
						button_ref = f26_local8,
						ignoreTooltipPrompt = f26_arg1.ignoreTooltipPrompt,
						isHardcodedKey = f26_arg1.isHardcodedKey
					}
				}
				if not f26_arg1.ignoreTooltipPrompt then
					f26_local12 = {
						isMouseOnly = true,
						promptsData = f26_local11
					}
					if f26_arg1.addTooltip ~= false then
						self:AddTooltipData( f26_arg0, f26_local12 )
					end
				elseif f26_arg1.isIconEnabledForKBM then
					f26_arg1.buttonText = f26_local9
				end
			end
		end
	end
	self:registerEventHandler( "button_action", function ( self, event )
		if f26_arg0.callback and type( f26_arg0.callback ) == "function" then
			f26_arg0( f26_arg0, self, event )
		else
			f26_arg0( self, event )
		end
	end )
	if f26_arg1.callback and type( f26_arg1.callback ) == "function" then
		self:addEventHandler( "gamepad_button", function ( f30_arg0, f30_arg1 )
			if f30_arg1.qualifier == "gamepad" and f30_arg0.data.isHold then
				return 
			elseif f30_arg1.button == CoD.GetRawButtonFromButtonRef( f26_arg0.button_ref ) then
				f26_arg0( f26_arg0, f30_arg0, f30_arg1 )
			end
		end )
	end
	local f26_local8 = CONDITIONS.IsMobileOrMobileSim()
	local f26_local9
	if f26_local8 then
		f26_local9 = LUI.UIVerticalList.new()
		if not f26_local9 then
		
		else
			f26_local9:SetSpacing( f0_local0 )
			f26_local9:SetAdjustSizeToContent( true )
			f26_local9.id = "helperList"
			local f26_local10 = nil
			if f26_local0 and not f26_arg1.hidePrompt then
				local f26_local11 = f0_local0
				local ToggleButton = f26_arg0
				local f26_local14
				if not f26_local2 then
					f26_local14 = f26_local2
				else
					f26_local14 = f26_local0
				end
				f26_local10 = f26_local11( ToggleButton, f26_local14, f26_arg1 )
				if f26_local10 then
					f26_local10:SetRGB( f0_local0 )
					f26_local9:addElement( f26_local10 )
				end
			end
			if f26_local8 then
				local f26_local11 = f0_local0( f26_arg1 )
				if f26_local11 then
					local f26_local12 = LUI.UIFixedAspectRatioImage.new()
					f26_local12.id = "Icon"
					f26_local12:setImage( RegisterMaterial( f26_local11.icon ), 0 )
					f26_local12:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -20, 20, -20, 20 )
					f26_local9:addElement( f26_local12 )
				end
			end
			local f26_local11 = f0_local0( f26_arg0, f26_arg1, self.hasTwoButtons )
			f26_local9:addElement( f26_local11 )
			local f26_local12 = nil
			if f26_local1 and not f26_arg1.hidePrompt then
				local ToggleButton = f0_local0
				local f26_local15 = f26_arg0
				local f26_local16
				if not f26_local3 then
					f26_local16 = f26_local3
				else
					f26_local16 = f26_local1
				end
				f26_local12 = ToggleButton( f26_local15, f26_local16, f26_arg1 )
				if f26_local12 then
					f26_local12:SetRGB( f0_local0 )
					f26_local9:addElement( f26_local12 )
				end
			end
			local ToggleButton = nil
			if f26_arg1.isToggleButton then
				ToggleButton = f0_local0( f26_arg0, f26_local0, f26_arg1 )
				if ToggleButton then
					f26_local9:addElement( ToggleButton )
					self.ToggleButton = ToggleButton
					
					self.SetToggleState = function ( f29_arg0, f29_arg1, f29_arg2 )
						if f29_arg2 == nil then
							f29_arg2 = true
						end
						f29_arg0.ToggleButton:SetToggleState( f29_arg1, f29_arg2 )
					end
					
					self:setActionSFX( 0x411D2011118F7B5 )
					self:SetToggleState( f26_arg1.isToggledOn )
				end
			else
				self.SetToggleState = nil
			end
			self:addElement( f26_local9 )
			if f26_arg1.priority then
				self:setPriority( f26_arg1.priority )
			end
			if not f26_arg1.clickable then
				self:SetFocusable( false )
				self:SetHandleMouseButton( false )
			end
			local f26_local14 = function ( f28_arg0, f28_arg1, f28_arg2, f28_arg3, f28_arg4, f28_arg5, f28_arg6, f28_arg7 )
				if CONDITIONS.IsMobileOrMobileSim() then
					f28_arg1:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 100 )
				else
					local f28_local0 = f26_arg0( f28_arg0, f28_arg2, f28_arg3, f28_arg4, f28_arg5, f28_arg6, f28_arg7 )
					if f28_arg2.container then
						local f28_local1 = f28_arg2.container:GetAnchorsAndPosition()
						local f28_local2 = (f28_local1.right - f28_local1.left) / 2
						if f28_arg2.containerAlignment == LUI.Alignment.Right then
							f28_arg1:SetAnchorsAndPosition( 1, 0, 0, 0, -f28_local0, 0, 0, 0 )
						elseif f28_arg2.containerAlignment == LUI.Alignment.Center then
							f28_arg1:SetAnchorsAndPosition( 0, 1, 0, 0, f28_local2 - f28_local0 / 2, f28_local2 + f28_local0 / 2, 0, 0 )
						else
							f28_arg1:SetAnchorsAndPosition( 0, 1, 0, 0, 0, f28_local0, 0, 0 )
						end
					else
						f28_arg1:SetAnchorsAndPosition( 0, 1, 0, 0, 0, f28_local0, 0, 0 )
					end
				end
			end
			
			if f26_arg1.container then
				if f26_arg1.setButtonContainerAlignment == LUI.Alignment.Right then
					f26_arg1.container:SetAlignment( LUI.Alignment.Right )
				elseif f26_arg1.setContainerAlignment == LUI.Alignment.Center then
					f26_arg1.container:SetAlignment( LUI.Alignment.Center )
				end
			end
			f26_local14( f26_arg0, self, f26_arg1, f26_local11, f26_local0, f26_local1, f26_local10, f26_local12 )
			if f26_arg1.isHold and f26_arg1.isLastInputGamepad then
				self:addElement( f0_local0( f26_arg0, f26_arg1 ) )
				self:addElement( f0_local0( f26_arg0, f26_arg1 ) )
			end
			self:registerEventHandler( "update_button_width", function ( self, event )
				f26_arg0( f26_arg0, self, f26_arg0, f26_arg0, f26_arg0, f26_arg0, f26_arg0, f26_arg0 )
			end )
			local f26_local15
			if not (not f26_local4 and (not f26_arg1.isToggleButton or f26_arg1.isHold)) or f26_arg1.isImportantAction then
				f26_local15 = f0_local0
				if not f26_local15 then
				
				else
					f26_local9:SetAnchorsAndPosition( 0, 0, 0, 0, f26_local15, -f26_local15, 0, 0 )
					return self
				end
			end
			f26_local15 = 0
		end
	end
	f26_local9 = LUI.UIHorizontalList.new()
end

local f0_local29 = function ( f25_arg0 )
	local f25_local0 = LUI.IsGamepadActiveInputMethodForPrompts( f25_arg0._controllerIndex )
	if LUI.FlowManager.IsStackEmpty() then
		f25_local0 = Engine[0x7B17D94988FD5D0]( "gpadEnabled", f25_arg0._controllerIndex )
	end
	local f25_local1
	if f25_local0 then
		f25_local1 = f0_local0
		if not f25_local1 then
		
		else
			f25_arg0.buttonHelperLeftList:SetSpacing( f25_local1 )
			f25_arg0.buttonHelperCenterList:SetSpacing( f25_local1 )
			f25_arg0.buttonHelperRightList:SetSpacing( f25_local1 )
		end
	end
	f25_local1 = f0_local0
end

local f0_local30 = function ( f23_arg0 )
	local f23_local0 = 88
	local f23_local1 = -88
	local self = LUI.UIElement.new()
	self._controllerIndex = f23_arg0._controllerIndex
	self.SetButtonContainerSpacing = f0_local0
	local f23_local3 = CONDITIONS.IsMobileOrMobileSim()
	if f23_local3 then
		self:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	else
		self:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 50 )
	end
	self.id = "buttonHelperListContainer"
	f23_arg0.buttonHelperListContainer = self
	f23_arg0._buttonHelperLists = {}
	local buttonHelperLeftList = nil
	if f23_local3 then
		buttonHelperLeftList = LUI.UIVerticalList.new()
		buttonHelperLeftList:SetTop( f23_local0 )
		buttonHelperLeftList:SetVerticalAlignment( LUI.Alignment.Top )
	else
		buttonHelperLeftList = LUI.UIHorizontalList.new()
		buttonHelperLeftList:SetLeft( f23_local0 )
		buttonHelperLeftList:SetAlignment( LUI.Alignment.Left )
	end
	buttonHelperLeftList:SetSpacing( f0_local0 )
	buttonHelperLeftList.id = "buttonHelperLeftList"
	buttonHelperLeftList.side = "left"
	self:addElement( buttonHelperLeftList )
	self.buttonHelperLeftList = buttonHelperLeftList
	
	f23_arg0._buttonHelperLists.left = buttonHelperLeftList
	local buttonHelperRightList = nil
	if f23_local3 then
		buttonHelperRightList = LUI.UIVerticalList.new()
		buttonHelperRightList:SetBottom( f23_local1 )
		buttonHelperRightList:SetVerticalAlignment( LUI.Alignment.Bottom )
	else
		buttonHelperRightList = LUI.UIHorizontalList.new()
		buttonHelperRightList:SetRight( f23_local1 )
		buttonHelperRightList:SetAlignment( LUI.Alignment.Right )
	end
	buttonHelperRightList:SetSpacing( f0_local0 )
	buttonHelperRightList.id = "buttonHelperRightList"
	buttonHelperRightList.side = "right"
	self:addElement( buttonHelperRightList )
	self.buttonHelperRightList = buttonHelperRightList
	
	f23_arg0._buttonHelperLists.right = buttonHelperRightList
	local buttonHelperCenterList = nil
	if f23_local3 then
		buttonHelperCenterList = LUI.UIVerticalList.new()
		buttonHelperCenterList:SetTop( f23_local0 )
		buttonHelperCenterList:SetBottom( f23_local1 )
		buttonHelperCenterList:SetVerticalAlignment( LUI.Alignment.Middle )
	else
		buttonHelperCenterList = LUI.UIHorizontalList.new()
		buttonHelperCenterList:SetLeft( f23_local0 )
		buttonHelperCenterList:SetRight( f23_local1 )
		buttonHelperCenterList:SetAlignment( LUI.Alignment.Center )
	end
	buttonHelperCenterList:SetSpacing( f0_local0 )
	buttonHelperCenterList.id = "buttonHelperCenterList"
	buttonHelperCenterList.side = "center"
	self:addElement( buttonHelperCenterList )
	self.buttonHelperCenterList = buttonHelperCenterList
	
	f23_arg0._buttonHelperLists.center = buttonHelperCenterList
	self:SubscribeToInputTypeModel( self._controllerIndex, function ( f24_arg0, f24_arg1 )
		f24_arg1:SetButtonContainerSpacing()
	end )
	return self
end

LUI.ButtonHelperText.GetPromptByButtonRef = function ( f22_arg0, f22_arg1 )
	for f22_local3, f22_local4 in pairs( f22_arg0._buttonHelperLists ) do
		if f22_local4:getFirstChild() then
			
		end
	end
end

LUI.ButtonHelperText.TogglePromptByButtonRef = function ( f21_arg0, f21_arg1, f21_arg2, f21_arg3, f21_arg4 )
	local f21_local0 = f21_arg0:GetPromptByButtonRef( f21_arg1 )
	if f21_arg4 == nil then
		f21_arg4 = true
	end
	if f21_local0 and f21_local0.SetToggleState then
		f21_local0:SetToggleState( f21_arg2, f21_arg4 )
		if f21_arg3 then
			f21_local0._isActive = f21_arg2
			if f21_arg2 then
				f21_local0:processEvent( {
					name = "button_over",
					focusType = FocusType.MouseOver
				} )
			elseif not f21_local0:isInFocus() then
				f21_local0:processEvent( {
					name = "button_up",
					snap = FocusType.MouseOver
				} )
			end
		end
	end
end

LUI.ButtonHelperText.AddHelperListContainer = function ( f20_arg0, f20_arg1 )
	if f20_arg0._buttonHelperLists[f20_arg1.id] then
		return 
	else
		f20_arg0._buttonHelperLists[f20_arg1.id] = f20_arg1
	end
end

LUI.ButtonHelperText.AttemptRemoveHelperListContainer = function ( f19_arg0, f19_arg1 )
	local f19_local0 = nil
	if 0 < #f19_arg0._promptStack[f19_arg1] then
		f19_local0 = f19_arg0._promptStack[f19_arg1][#f19_arg0._promptStack[f19_arg1]].side
	end
	if f19_local0 == "left" or f19_local0 == "right" or f19_local0 == "center" or f19_local0 == nil then
		return 
	else
		local f19_local1 = f19_arg0._buttonHelperLists[f19_local0]
		if not f19_local1 then
			return 
		elseif f19_local1:getFirstChild() then
			return 
		else
			f19_arg0._buttonHelperLists[f19_local0] = nil
		end
	end
end

LUI.ButtonHelperText.UpdateHelperText = function ( f18_arg0, f18_arg1, f18_arg2, f18_arg3 )
	local f18_local0 = LUI.ButtonHelperText.GetPromptByButtonRef( f18_arg0, f18_arg2 )
	if f18_local0 then
		f18_local0:dispatchEventToChildren( {
			name = "change_text",
			newText = f18_arg3
		} )
		f18_local0:processEvent( {
			name = "update_button_width"
		} )
	end
end

LUI.ButtonHelperText.PushButtonPrompt = function ( f16_arg0, f16_arg1, f16_arg2 )
	if not f16_arg2 then
		f16_arg2 = {}
	end
	f16_arg2.replaceTop = f16_arg2.replaceTop or false
	f16_arg0._refreshHelperEvent = f16_arg1.refreshHelperEvent
	f16_arg1.isTouch = CONDITIONS.IsTouchEnabled()
	if LUI.FlowManager.IsStackEmpty() then
		local f16_local0 = Engine[0x7B17D94988FD5D0]( "gpadEnabled", f16_arg0._controllerIndex )
		f16_arg1.forceKbmPrompt = not f16_local0
		f16_arg1.forceGamepadPrompt = f16_local0
	end
	f16_arg1.isLastInputGamepad = LUI.IsGamepadActiveInputMethodForPrompts( f16_arg0._controllerIndex )
	f16_arg1.isHold = f16_arg1.isHold or false
	f16_arg1.callback = f16_arg1.callback
	f16_arg1.holdDuration = f16_arg1.holdDuration or 500
	f16_arg1.muteAction = f16_arg1.muteAction or false
	if f16_arg1.container then
		f16_arg0:AddHelperListContainer( f16_arg1.container )
		f16_arg1.side = f16_arg1.container.id
	end
	if f16_arg1.useTextButtons == nil then
		f16_arg1.useTextButtons = false
	end
	if f16_arg1.isIconEnabledForKBM == nil then
		f16_arg1.isIconEnabledForKBM = true
	end
	f16_arg1.side = f16_arg1.side or "left"
	if f16_arg1.clickable == nil then
		f16_arg1.clickable = true
	end
	local f16_local0 = f0_local0( f16_arg1 )
	if not f16_arg0._promptStack[f16_local0] then
		f16_arg0._promptStack[f16_local0] = {}
	end
	local f16_local1 = f16_arg0.wasLastInputGamepad
	if f16_local1 then
		f16_local1 = not f16_arg1.isLastInputGamepad
	end
	f16_arg0.wasLastInputGamepad = f16_arg1.isLastInputGamepad
	local f16_local2 = #f16_arg0._promptStack[f16_local0]
	if f16_arg1.helper_text == "" then
		f16_arg0:RemoveButtonPrompt( f16_local0 )
	elseif 0 < f16_local2 then
		f16_arg1.primaryRef = f0_local0( f16_arg1 )
		if LUI.AreTableContentsEqual( f16_arg1, f16_arg0._promptStack[f16_local0][f16_local2] ) and not f16_local1 then
			
		else
			
		end
		if f16_arg2.replaceTop then
			f16_arg0:RemoveButtonPrompt( f16_local0 )
		else
			f16_arg0:CloseButtonPrompt( f16_local0 )
		end
	end
	table.insert( f16_arg0._promptStack[f16_local0], f16_arg1 )
	local f16_local3 = false
	if f16_arg1.force_display then
		f16_local3 = true
	elseif LUI.IsGamepadActiveInputMethodForPrompts( f16_arg0._controllerIndex ) then
		if not f16_arg1.kbm_only and not f16_arg1.hideOnGamepad then
			f16_local3 = true
		end
	elseif not f16_arg1.gamepad_only and (f16_local0 ~= "button_primary" or f16_arg1.forceShowPrimaryBtn) then
		f16_local3 = true
	end
	if f16_local3 then
		f16_arg0._buttonHelperLists[f16_arg1.side]:addElement( f0_local0( f16_arg0._controllerIndex, f16_arg1 ) )
	end
	f16_arg0:registerEventHandler( "onVideoChange", function ( element, event )
		element:RefreshButtonHelpers( {
			controllerIndex = element._controllerIndex
		} )
	end )
end

LUI.ButtonHelperText.TryRemoveButtonPrompt = function ( f15_arg0, f15_arg1 )
	if f15_arg0:GetPromptByButtonRef( f15_arg1 ) then
		f15_arg0:RemoveButtonPrompt( f15_arg1 )
		return true
	else
		return false
	end
end

LUI.ButtonHelperText.RemoveAllButtonPrompts = function ( f14_arg0 )
	for f14_local3, f14_local4 in pairs( f14_arg0._promptStack ) do
		if 0 < #f14_local4 then
			f14_arg0:RemoveButtonPrompt( f14_local3 )
		end
	end
end

LUI.ButtonHelperText.RemoveButtonPrompt = function ( f13_arg0, f13_arg1 )
	f13_arg0:CloseButtonPrompt( f13_arg1 )
	f13_arg0:AttemptRemoveHelperListContainer( f13_arg1 )
	table.remove( f13_arg0._promptStack[f13_arg1] )
end

LUI.ButtonHelperText.CloseButtonPrompt = function ( f12_arg0, f12_arg1 )
	local f12_local0 = f12_arg0:GetPromptByButtonRef( f12_arg1 )
	if f12_local0 then
		f12_local0:processEvent( {
			immediate = true,
			name = "lose_focus"
		} )
		f12_local0:closeTree()
	end
end

LUI.ButtonHelperText.RefreshButtonHelpers = function ( f11_arg0, f11_arg1 )
	f11_arg0._controllerIndex = f11_arg1.controllerIndex
	local f11_local0 = f11_arg1.useUIMenuOrder and f11_arg0.PROMPT_UI_MENU_ORDER or f11_arg0.PROMPT_ORDER
	local f11_local1 = LUI.DeepCopy( f11_arg0._promptStack )
	local f11_local2 = {}
	for f11_local8, f11_local9 in pairs( f11_arg0._promptStack ) do
		if 0 < #f11_local9 then
			local f11_local6 = f11_local9[#f11_local9]
			if f11_local6.isToggleButton then
				local f11_local7 = f11_arg0:GetPromptByButtonRef( f11_local6.button_ref )
				if f11_local7 and f11_local7.ToggleButton and f11_local7.ToggleButton.GetToggleState then
					f11_local2[f11_local6.button_ref] = f11_local7.ToggleButton:GetToggleState()
				end
			end
			f11_arg0:RemoveButtonPrompt( f11_local8 )
		end
	end
	for f11_local8, f11_local9 in ipairs( f11_local0 ) do
		if f11_local1[f11_local9] then
			local f11_local6 = f11_local1[f11_local9][#f11_local1[f11_local9]]
			if f11_local6 then
				f11_arg0:PushButtonPrompt( f11_local6 )
			end
			f11_local1[f11_local9] = nil
		end
	end
	for f11_local8, f11_local9 in pairs( f11_local1 ) do
		if 0 < #f11_local9 then
			local f11_local6 = f11_local9[#f11_local9]
			f11_arg0:PushButtonPrompt( f11_local6 )
			if f11_local6.isToggleButton then
				local f11_local7 = f11_local2[f11_local6.button_ref]
				if f11_local7 == nil then
					f11_local7 = f11_local6.isToggledOn
				end
				f11_arg0:TogglePromptByButtonRef( f11_local6.button_ref, f11_local7, false, false )
			end
		end
	end
	if f11_arg0._refreshHelperEvent then
		f11_arg0:processEvent( {
			name = f11_arg0._refreshHelperEvent
		} )
	end
end

LUI.ButtonHelperText.PopButtonPrompt = function ( f10_arg0, f10_arg1 )
	local f10_local0 = f0_local0( f10_arg1 )
	if not f10_arg0._promptStack[f10_local0] then
		return 
	end
	f10_arg0:RemoveButtonPrompt( f10_local0 )
	local f10_local1 = f10_arg0._promptStack[f10_local0]
	if f10_local1 and 0 < #f10_local1 then
		f10_arg0:PushButtonPrompt( f10_local1[#f10_local1] )
	end
end

LUI.ButtonHelperText.SetupFocusOnlyButtonPrompt = function ( f7_arg0, f7_arg1, f7_arg2 )
	f7_arg1:addEventHandler( "gain_focus", function ( f9_arg0, f9_arg1 )
		f7_arg0:PushButtonPrompt( f7_arg0 )
	end )
	f7_arg1:addEventHandler( "lose_focus", function ( f8_arg0, f8_arg1 )
		if f8_arg0:isInFocus() then
			f7_arg0:PopButtonPrompt( f7_arg0 )
		end
	end )
end

local f0_local31 = function ( f6_arg0, f6_arg1 )
	f6_arg0:SetupFocusOnlyButtonPrompt( f6_arg1.focusButton, f6_arg1 )
end

LUI.ButtonHelperText.GetButtonHelperListContainer = function ( f5_arg0, f5_arg1 )
	return f5_arg0._buttonHelperLists[f5_arg1]
end

LUI.ButtonHelperText.GetHelperSpacing = function ( f4_arg0 )
	return f0_local0
end

LUI.ButtonHelperText.GetButtonSpacing = function ( f3_arg0 )
	return f0_local0
end

LUI.ButtonHelperText.init = function ( f1_arg0, f1_arg1 )
	f1_arg0._controllerIndex = f1_arg1.controllerIndex
	LUI.ButtonHelperText.super.init( f1_arg0 )
	f1_arg0:addElement( f0_local0( f1_arg0 ) )
	f1_arg0:registerEventHandler( "add_button_helper_text", f1_arg0.PushButtonPrompt )
	f1_arg0:registerEventHandler( "setup_focus_only_button_prompt", f0_local0 )
	f1_arg0._promptStack = {}
	f1_arg0._inputTypeSubscription = f1_arg0:SubscribeToInputTypeModel( f1_arg0._controllerIndex, function ( f2_arg0, f2_arg1 )
		f2_arg1:RefreshButtonHelpers( {
			controllerIndex = f2_arg1._controllerIndex
		} )
	end )
end

