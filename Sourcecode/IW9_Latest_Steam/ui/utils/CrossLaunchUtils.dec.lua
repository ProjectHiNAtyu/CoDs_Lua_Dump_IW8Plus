-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
CROSS_LAUNCH = CROSS_LAUNCH or {}
CROSS_LAUNCH.OFFLINE_DEEPLINK_SUFFIX = "_offline"
CROSS_LAUNCH.GAME_IDS = {
	COD23 = "mp23",
	MP = "cod22",
	BETA = "beta",
	SP = "sp22",
	SP23 = "sp23",
	CODHQ = "codhq"
}
CROSS_LAUNCH.GAME_DATA = {
	[CROSS_LAUNCH.GAME_IDS.SP] = {
		SUNSETTED = false,
		TRANSITION_DATA = 0x3EC972F89750893,
		GAMENAME = 0xEBDF6FE47BAD9EE,
		SCENARIO = CoD.Scenarios.SP22
	},
	[CROSS_LAUNCH.GAME_IDS.MP] = {
		SUNSETTED = false,
		TRANSITION_DATA = 0x3EC972F89750893,
		GAMENAME = 0xEBDF6FE47BAD9EE,
		SCENARIO = CoD.Scenarios.MP22
	},
	[CROSS_LAUNCH.GAME_IDS.SP23] = {
		SUNSETTED = true,
		TRANSITION_DATA = 0xD7C6A2F97D0D93A,
		GAMENAME = 0xEBDF7FE47BADBA1,
		SCENARIO = CoD.Scenarios.SP23
	},
	[CROSS_LAUNCH.GAME_IDS.COD23] = {
		SUNSETTED = true,
		TRANSITION_DATA = 0xD7C6A2F97D0D93A,
		GAMENAME = 0xEBDF7FE47BADBA1,
		SCENARIO = CoD.Scenarios.MP23
	},
	[CROSS_LAUNCH.GAME_IDS.BETA] = {
		SUNSETTED = true,
		TRANSITION_DATA = 0xD7C6A2F97D0D93A,
		GAMENAME = 0xEBDF7FE47BADBA1,
		SCENARIO = CoD.Scenarios.MP23
	},
	[CROSS_LAUNCH.GAME_IDS.CODHQ] = {
		SUNSETTED = true,
		TRANSITION_DATA = 0x6B0AC43FD78DD2B,
		GAMENAME = 0xEBDF7FE47BADBA1,
		SCENARIO = CoD.Scenarios.CODHQ
	}
}
CROSS_LAUNCH.MODE_IDS = {
	SP = "sp",
	MP = "mp",
	OFFLINE = "offline_menu",
	CP = "cp",
	BR = "br",
	NONE = "none"
}
CROSS_LAUNCH.SPDeeplinkActions = {
	MISSION_SELECT = "mission_select",
	RESUME_GAME = "resume_game",
	NEW_GAME = "new_game",
	CINEMATICS = "cinematics"
}
CROSS_LAUNCH.CrossLaunchIfPossible = function ( f5_arg0, f5_arg1, f5_arg2, f5_arg3 )
	local f5_local0
	if not f5_arg3 then
		f5_local0 = f5_arg3
	else
		f5_local0 = {}
	end
	assert( f5_arg0 )
	assert( f5_arg1 )
	assert( f5_arg2 )
	local f5_local1 = Engine[0x8EC01CCAE9EF80B]( f5_arg0 )
	if f5_local0.useOfflineDeeplink then
		f5_arg2 = f5_arg2 .. CROSS_LAUNCH.OFFLINE_DEEPLINK_SUFFIX
	end
	if (Engine[0x1A7135C278E324D]() or f5_local0.showTransitionWithoutPreload) and not f5_local0.skipTransition then
		local f5_local2 = CROSS_LAUNCH.GAME_DATA[f5_arg1]
		if f5_local2 then
			f5_local2 = Engine[0xED84C33EC5F01EA]( CROSS_LAUNCH.GAME_DATA[f5_arg1].GAMENAME )
		end
		local f5_local3 = {
			canCancel = true,
			mainMenuKeyartTransitionOptions = {
				scriptBundle = Engine[0x6093D047200548]( CROSS_LAUNCH.GAME_DATA[f5_arg1] and CROSS_LAUNCH.GAME_DATA[f5_arg1].TRANSITION_DATA or PLAY_MENU.MAIN_MENU_TRANSITION_SCRIPTBUNDLES.MW2 )
			},
			targetGameId = f5_arg1,
			targetDeepLink = f5_arg2
		}
		local f5_local4 = {}
		local f5_local5 = Engine[0xED84C33EC5F01EA]
		local f5_local6 = 0x285ECCD2E89FF71
		local f5_local7
		if not f5_local2 then
			f5_local7 = f5_local2
		else
			f5_local7 = ""
		end
		f5_local4[1] = f5_local5( f5_local6, f5_local7 )
		f5_local5 = Engine[0xED84C33EC5F01EA]
		f5_local6 = 0x15C6DFC5E7BA415
		if not f5_local2 then
			f5_local7 = f5_local2
		else
			f5_local7 = ""
		end
		f5_local4[2] = f5_local5( f5_local6, f5_local7 )
		f5_local5 = Engine[0xED84C33EC5F01EA]
		f5_local6 = 0xCB8FD591A154633
		if not f5_local2 then
			f5_local7 = f5_local2
		else
			f5_local7 = ""
		end
		f5_local4[1] = f5_local5( f5_local6, f5_local7 )
		f5_local3.messaging = f5_local4
		Engine[0xFF3097B3AA2F227]( f5_arg1, f5_arg2 )
		LUI.FlowManager.RequestPopupMenu( nil, "CrosslaunchKeyartTransitionIn", false, f5_arg0, false, f5_local3, nil, true )
		return true
	elseif f5_arg2 == CROSS_LAUNCH.MODE_IDS.NONE and Engine[0xCCBD65B6EAA7717]( f5_arg0, f5_arg1, f5_arg2, f5_local1 ) then
		Engine[0x6A81EEA50510D09]( f5_arg0, f5_arg1, f5_arg2, f5_local1 )
		return true
	elseif Engine[0xF5374353E9DE089]( f5_arg0, f5_arg1, f5_arg2, f5_local1 ) then
		Engine[0x6A81EEA50510D09]( f5_arg0, f5_arg1, f5_arg2, f5_local1 )
		return true
	else
		Engine[0xE28C46DFA655228]( f5_arg0, f5_arg2, f5_arg1 )
		return true
	end
end

CROSS_LAUNCH.GetIncomingDeeplink = function ()
	return string.gsub( Dvar[0x54084D7CA2317BB]( 0x943347594FDA14D ), CROSS_LAUNCH.OFFLINE_DEEPLINK_SUFFIX .. "$", "" )
end

CROSS_LAUNCH.SetDeeplinkComplete = function ()
	local f3_local0 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.deeplinkComplete" )
	f3_local0:SetValue( nil, true )
end

CROSS_LAUNCH.ShouldHandleDeeplink = function ()
	local f2_local0 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.deeplinkComplete" )
	if f2_local0:GetValue() then
		return false
	elseif CONDITIONS.IsSingleplayer() then
		return Table.IsItemIndexInArray( CROSS_LAUNCH.SPDeeplinkActions, CROSS_LAUNCH.GetIncomingDeeplink() )
	else
		return false
	end
end

CROSS_LAUNCH.OpenCODHQ = function ( f1_arg0, f1_arg1 )
	if not CROSS_LAUNCH.CrossLaunchIfPossible( f1_arg0, CROSS_LAUNCH.GAME_IDS.CODHQ, CROSS_LAUNCH.MODE_IDS.NONE, {
		showTransitionWithoutPreload = true,
		skipTransition = CONDITIONS.IsPC()
	} ) then
		if Engine[0xBBF0609667DBEA]() then
			LUI.FlowManager.RequestAutomaticNavigation( PartyUIRoot.MAIN_MENU )
		elseif f1_arg1 then
			LUI.FlowManager.RequestAutomaticNavigation( PartyUIRoot.MAIN_MENU_OFFLINE )
		end
	end
end

