-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:52
module( ..., package.seeall )
local f0_local0 = function ( f9_arg0, f9_arg1, f9_arg2 )
	if MatchRules.EAIEFBHGJ() ~= nil then
		f9_arg0._infiniteLives = MatchRules.BIJEDCBCBH( "commonOption", "numLives" )
		if f9_arg0._infiniteLives == 0 then
			ACTIONS.AnimateSequence( f9_arg0, "Hide" )
		end
	end
	local f9_local0 = LUI.DataSourceFromOmnvar.new( "ui_oic_lives" )
	f9_arg0:SubscribeToModel( f9_local0:GetModel( f9_arg1 ), function ()
		local f10_local0 = f9_arg0:GetValue( f9_arg0 )
		if f10_local0 ~= nil and 0 < f10_local0 and f9_arg0._infiniteLives ~= 0 then
			if 3 < f10_local0 then
				ACTIONS.AnimateSequence( f9_arg0, "ShowCount" )
				ACTIONS.AnimateSequence( f9_arg0, "HighLives" )
				f9_arg0.LivesCount:setText( f10_local0 )
			else
				if f10_local0 == 3 then
					ACTIONS.AnimateSequence( f9_arg0, "HighLives" )
				elseif f10_local0 == 2 then
					ACTIONS.AnimateSequence( f9_arg0, "MedLives" )
				else
					ACTIONS.AnimateSequence( f9_arg0, "LowLives" )
				end
				ACTIONS.AnimateSequence( f9_arg0, "ShowIcons" )
			end
		end
	end )
end

function LifeCounter( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 240 * _1080p, 0, 44 * _1080p )
	self.id = "LifeCounter"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromTable( SWATCHES.HUD.friendlyTeam, 0 )
	Background:SetPixelGridEnabled( true )
	Background:SetPixelGridContrast( 0.5, 0 )
	Background:SetPixelGridBlockWidth( 2, 0 )
	Background:SetPixelGridBlockHeight( 2, 0 )
	Background:SetPixelGridGutterWidth( 1, 0 )
	Background:SetPixelGridGutterHeight( 1, 0 )
	Background:setImage( RegisterMaterial( "widg_gradient_center_out" ), 0 )
	Background:Setup3SliceHorizontalImage( _1080p * 25, 0.2 )
	Background:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * -48, _1080p * 48, 0, 0 )
	self:addElement( Background )
	self.Background = Background
	
	local LivesCount = nil
	
	LivesCount = LUI.UIStyledText.new()
	LivesCount.id = "LivesCount"
	LivesCount:SetAlpha( 0, 0 )
	LivesCount:setText( "7", 0 )
	LivesCount:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	LivesCount:SetAlignment( LUI.Alignment.Left )
	LivesCount:SetOptOutRightToLeftAlignmentFlip( true )
	LivesCount:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * 43, _1080p * 163, _1080p * 9, _1080p * 39 )
	self:addElement( LivesCount )
	self.LivesCount = LivesCount
	
	local Life1 = nil
	
	Life1 = LUI.UIImage.new()
	Life1.id = "Life1"
	Life1:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	Life1:setImage( RegisterMaterial( "hud_icon_player" ), 0 )
	Life1:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, 0, _1080p * 28, _1080p * -14, _1080p * 14 )
	self:addElement( Life1 )
	self.Life1 = Life1
	
	local Life2 = nil
	
	Life2 = LUI.UIImage.new()
	Life2.id = "Life2"
	Life2:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	Life2:setImage( RegisterMaterial( "hud_icon_player" ), 0 )
	Life2:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 38, _1080p * 66, _1080p * -14, _1080p * 14 )
	self:addElement( Life2 )
	self.Life2 = Life2
	
	local Life3 = nil
	
	Life3 = LUI.UIImage.new()
	Life3.id = "Life3"
	Life3:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	Life3:setImage( RegisterMaterial( "hud_icon_player" ), 0 )
	Life3:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 75, _1080p * 103, _1080p * -14, _1080p * 14 )
	self:addElement( Life3 )
	self.Life3 = Life3
	
	local LivesText = nil
	
	LivesText = LUI.UIStyledText.new()
	LivesText.id = "LivesText"
	LivesText:setText( ToUpperCase( Engine.CBBHFCGDIC( "LUA_MENU_MP/ARENA_LIVES" ) ), 0 )
	LivesText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	LivesText:SetWordWrap( false )
	LivesText:SetAlignment( LUI.Alignment.Right )
	LivesText:SetOptOutRightToLeftAlignmentFlip( true )
	LivesText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -239, _1080p * -17, _1080p * -15, _1080p * 15 )
	self:addElement( LivesText )
	self.LivesText = LivesText
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local9 = nil
	LivesCount:RegisterAnimationSequence( "ShowIcons", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Life2:RegisterAnimationSequence( "ShowIcons", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Life3:RegisterAnimationSequence( "ShowIcons", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ShowIcons = function ()
		menu:AnimateSequence( "ShowIcons" )
		menu:AnimateSequence( "ShowIcons" )
		menu:AnimateSequence( "ShowIcons" )
	end
	
	local f1_local10 = nil
	LivesCount:RegisterAnimationSequence( "ShowCount", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Life2:RegisterAnimationSequence( "ShowCount", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Life3:RegisterAnimationSequence( "ShowCount", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ShowCount = function ()
		menu:AnimateSequence( "ShowCount" )
		menu:AnimateSequence( "ShowCount" )
		menu:AnimateSequence( "ShowCount" )
	end
	
	local f1_local11 = nil
	Background:RegisterAnimationSequence( "HighLives", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.HUD.friendlyTeam
		}
	} )
	Life2:RegisterAnimationSequence( "HighLives", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "hud_icon_player" )
		}
	} )
	Life3:RegisterAnimationSequence( "HighLives", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "hud_icon_player" )
		}
	} )
	self._sequences.HighLives = function ()
		menu:AnimateSequence( "HighLives" )
		menu:AnimateSequence( "HighLives" )
		menu:AnimateSequence( "HighLives" )
	end
	
	local f1_local12 = nil
	Background:RegisterAnimationSequence( "MedLives", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.splashNotifications.splashAlternativeColor1light
		}
	} )
	Life2:RegisterAnimationSequence( "MedLives", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "hud_icon_player" )
		}
	} )
	Life3:RegisterAnimationSequence( "MedLives", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "hud_icon_death_sm" )
		}
	} )
	self._sequences.MedLives = function ()
		menu:AnimateSequence( "MedLives" )
		menu:AnimateSequence( "MedLives" )
		menu:AnimateSequence( "MedLives" )
	end
	
	local f1_local13 = nil
	Background:RegisterAnimationSequence( "LowLives", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.splashNotifications.warning
		}
	} )
	Life2:RegisterAnimationSequence( "LowLives", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "hud_icon_death_sm" )
		}
	} )
	Life3:RegisterAnimationSequence( "LowLives", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "hud_icon_death_sm" )
		}
	} )
	self._sequences.LowLives = function ()
		menu:AnimateSequence( "LowLives" )
		menu:AnimateSequence( "LowLives" )
		menu:AnimateSequence( "LowLives" )
	end
	
	local f1_local14 = nil
	Background:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	LivesCount:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Life1:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Life2:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Life3:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	LivesText:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Hide = function ()
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
	end
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "LifeCounter", LifeCounter )
LockTable( _M )
