-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
LUI.AddEditBoxLogic = function ( f4_arg0, f4_arg1, f4_arg2 )
	local f4_local0 = f4_arg2.defaultValue
	local f4_local1 = f4_arg2.font
	local f4_local2 = f4_arg2.alignment
	local f4_local3 = f4_arg2.textSelectionColor
	local f4_local4 = f4_arg2.maxInputStringLength
	if not f4_local4 then
		f4_local4 = TEXT_EDIT.MAX_LUI_TEXT_EDIT_LEN
	end
	local f4_local5 = f4_arg2.disableAfterEdit ~= false
	local f4_local6 = f4_arg2.useStringVerification or false
	local f4_local7 = f4_arg2.checkProfanity or false
	local f4_local8 = f4_arg2.allowEmptyString ~= false
	local f4_local9 = f4_arg2.useAutoAlign ~= false
	local f4_local10 = f4_arg2.isNumeric
	if not f4_local10 then
		f4_local10 = f4_arg2.isNumericEmpty or false
	end
	local f4_local11 = f4_arg2.isNumericEmpty or false
	local f4_local12 = f4_arg2.focusable ~= false
	local f4_local13 = f4_arg2.isPassword or false
	local f4_local14 = f4_arg2.isPasswordEditable or false
	local f4_local15 = f4_arg2.isEmail or false
	local f4_local16 = f4_arg2.isChat or false
	local f4_local17 = f4_arg2.autoConfirmOnTab or false
	local f4_local18 = f4_arg2.autoConfirmOnOutsideClick or false
	local f4_local19 = f4_arg2.autoSelectAllOnActive or false
	local f4_local20 = f4_arg2.autoSetActiveOnCreation or false
	local f4_local21 = f4_arg2.alwaysSendTypingEvents ~= false
	local f4_local22
	if f4_arg2.autoHideShowPassword == nil then
		f4_local22 = true
	else
		f4_local22 = f4_arg2.autoHideShowPassword
	end
	local f4_local23 = f4_arg2.hidePasswordOnEditedText or false
	local f4_local24 = f4_arg2.cancelOnOutsideClick or false
	if not f4_arg2.name then
		local f4_local25 = tostring( f4_arg2.defaultValue )
	end
	local f4_local26 = f4_arg2.min or 0
	local f4_local27 = f4_arg2.max or 1
	local f4_local28 = f4_arg2.scaleTextEditToFullSize ~= false
	local f4_local29 = Enum[0x1F1F125CD9CA94A][0x589A3C1CF1B1D38]
	if f4_local11 then
		f4_local29 = Enum[0x1F1F125CD9CA94A][0x389AA85A3A2B930]
	elseif f4_local10 then
		f4_local29 = Enum[0x1F1F125CD9CA94A][0x305ADE522556E8E]
	elseif f4_local13 then
		f4_local29 = Enum[0x1F1F125CD9CA94A][0x5D255F2BAA33E86]
	elseif f4_local15 then
		f4_local29 = Enum[0x1F1F125CD9CA94A][0x9819ABBAC958F3D]
	elseif f4_local16 then
		f4_local29 = Enum[0x1F1F125CD9CA94A][0x6B21E0D58C898F1]
	end
	f4_arg0:setText( "" )
	f4_arg0._textEditingActive = false
	f4_arg0._firstInteraction = true
	f4_arg0._controllerIndex = f4_arg1
	f4_arg0.isDefault = true
	f4_arg0.defaultValue = f4_arg2.defaultValue
	local f4_local30 = not f4_arg0._disableClearText
	local f4_local31 = function ( f17_arg0 )
		return function ( f18_arg0 )
			if f18_arg0._textEditingActive then
				local f18_local0 = f18_arg0:getParent()
				local f18_local1 = f18_arg0.textEdit
				f18_local1:setTextEditActive( false )
				f18_arg0._textEditingActive = false
				if not f18_arg0.allowEmptyString and String.IsNilOrEmpty( f18_local1:getText() ) then
					f18_arg0.isDefault = true
					f18_arg0._firstInteraction = true
				end
				if f18_local0 and f18_local0.ManageTrailingVisual then
					f18_local0:ManageTrailingVisual()
				end
			end
		end
		
	end
	
	f4_arg0.TextEditOff = f4_local31( f4_arg0 )
	f4_arg0._requireFocusType = f4_arg2.focusType
	f4_local31 = {
		controllerIndex = f4_arg1,
		maxLength = f4_local4,
		useAutoAlign = f4_local9,
		disableAfterEdit = f4_local5,
		isNumeric = f4_local10,
		isPassword = f4_local13,
		autoConfirmOnTab = f4_local17,
		autoConfirmOnOutsideClick = f4_local18,
		autoSelectAllOnActive = f4_local19,
		alwaysSendTypingEvents = f4_local21,
		autoHideShowPassword = f4_local22,
		cancelOnOutsideClick = f4_local24,
		defaultValue = f4_local0,
		font = f4_local1,
		alignment = f4_local2,
		textSelectionColor = {
			g = -9,
			a = 255,
			b = -9,
			r = -9
		},
		letGamepadInputsGoThrough = f4_local30
	}
	local f4_local32 = MenuBuilder.BuildRegisteredType( "UITextEdit", f4_local31 )
	if f4_local28 then
		f4_local32:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	elseif IsLanguageArabic() then
		f4_local32:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 4, 30 )
	else
		f4_local32:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 7, 27 )
	end
	f4_local32.id = "textEdit"
	f4_arg0.textEdit = f4_local32
	f4_arg0.textEdit.isPassword = f4_local13
	f4_local32:SetSDFRenderingEnabled( f4_arg2.useSDF or false )
	if f4_local13 then
		f4_arg0:setAutoHidePassword( f4_local31.autoHideShowPassword )
		f4_arg0:setShowPassword( false )
		f4_arg0.textEdit._showPassword = false
		f4_arg0.textEdit.ShowPassword = function ( f16_arg0, f16_arg1 )
			f16_arg0._showPassword = f16_arg1
			f16_arg0:setShowPassword( f16_arg1 )
		end
		
	end
	f4_arg0:addElement( f4_local32 )
	f4_arg0.textEdit:SetFont( f4_local31.font )
	f4_arg0.textEdit:SetAlignment( f4_local31.alignment )
	f4_arg0.textEdit:setTextSelectionHighlightColor( f4_local31.textSelectionColor.r, f4_local31.textSelectionColor.g, f4_local31.textSelectionColor.b, f4_local31.textSelectionColor.a )
	f4_arg0.textEdit:addEventHandler( "menu_create", function ( f15_arg0, f15_arg1 )
		if f4_arg0 and CONDITIONS.IsPC() then
			local f15_local0 = f15_arg0:getParent()
			if f15_local0 then
				local f15_local1 = f15_local0:getParent()
				if f15_local1 then
					f15_local1:processEvent( {
						name = "button_action",
						controller = f15_local1._controllerIndex
					} )
				end
			end
		end
	end )
	f4_arg0.SetButtonActionCallbackFunc = function ( f14_arg0, f14_arg1 )
		f14_arg0._buttonActionCallbackFunc = f14_arg1
	end
	
	f4_arg0.SetIsTypingCallbackFunc = function ( f13_arg0, f13_arg1 )
		f13_arg0._isTypingCallbackFunc = f13_arg1
	end
	
	f4_arg0.SetTextEditCompleteCallbackFunc = function ( f12_arg0, f12_arg1 )
		f12_arg0._textEditCompleteCallbackFunc = f12_arg1
	end
	
	local f4_local33 = function ( f11_arg0, f11_arg1 )
		if f11_arg0.isDefault and f11_arg1 and string.find( f11_arg0.defaultValue, f11_arg1 ) then
			f11_arg0.textEdit:setTextEditText( "" )
			f11_arg0.textEdit:setShowPassword( false )
			local f11_local0 = f11_arg0.textEdit.defaultText
			if f11_local0 then
				f11_local0:SetVisible( false )
			end
		end
	end
	
	f4_arg0:addEventHandler( "update_textedit_active", function ( f10_arg0, f10_arg1 )
		if LUI.IsLastInputGamepad( f10_arg1.controller ) then
			f10_arg0.textEdit:setTextEditActive( f10_arg1.setActive )
		end
	end )
	f4_arg0._activateEditBox = function ( f8_arg0, f8_arg1 )
		local f8_local0 = f8_arg0.textEdit:getText()
		if f8_arg0._textEditingActive then
			f4_arg0( f8_arg0, f8_local0 )
			
		elseif f4_arg0 and not f4_arg0 then
			f8_local0 = ""
		end
		if f4_arg0._firstInteraction then
			if not f4_arg0 then
				f8_local0 = ""
			end
			f4_arg0._firstInteraction = false
		end
		if not (not Engine[0xFB1B6E36ABE59B8]() or not LUI.IsLastInputGamepad( f8_arg1.controller )) or Dvar[0x9E5BE3B4BBA4E0E]( 0x7298380DBA69011 ) then
			LUI.UIRoot.BlockButtonInput( Engine[0xEE6F69FEA944B13](), true )
			local f8_local1 = function ( f9_arg0, f9_arg1, f9_arg2 )
				LUI.UIRoot.BlockButtonInput( f8_arg0, false )
				local f9_local0 = f8_arg0
				local f9_local1
				if f9_arg1 == "" then
					f9_local1 = f8_arg0.isDefault
					if not f9_local1 then
						if f9_arg1 ~= nil or f8_arg0 ~= "" then
							f9_local1 = false
						else
							f9_local1 = true
						end
					end
				elseif f9_arg1 ~= nil or f8_arg0 ~= "" then
					f9_local1 = false
				else
					f9_local1 = true
				end
				f9_local0.isDefault = f9_local1
				f9_local0 = f9_arg2 == Enum[0xA163D545F5F9533][0x97FA5305313C03F]
				if f8_arg0 then
					if tonumber( f9_arg1 ) ~= nil then
						f9_arg1 = tostring( LUI.clamp( tonumber( f9_arg1 ), f8_arg0, f8_arg0 ) )
					else
						f9_arg1 = f8_arg0
					end
				end
				if f8_arg0.isDefault then
					f9_arg1 = f8_arg0.defaultValue
					f8_arg0._firstInteraction = true
				elseif not f9_arg1 or not f9_arg1 then
					f9_arg1 = f8_arg0
				end
				f8_arg0._textEditingActive = false
				if not f9_local0 or f8_arg0.isDefault then
					if not f8_arg0.textEdit.defaultText then
						f8_arg0.textEdit:setTextEditText( f9_arg1 )
					else
						f8_arg0.textEdit.defaultText:SetVisible( f8_arg0.isDefault )
						if f8_arg0.isDefault then
							f8_arg0.textEdit:setTextEditText( "" )
						else
							f8_arg0.textEdit:setTextEditText( f9_arg1 )
						end
					end
				end
				f8_arg0.text = f9_arg1
				f8_arg0.isDefault = f8_arg0.isDefault
				f8_arg0.cancelled = f9_local0
				f8_arg0.isOSK = true
				if f8_arg0._textEditCompleteCallbackFunc then
					f8_arg0:_textEditCompleteCallbackFunc( f8_arg0 )
				end
				f8_arg0:dispatchEventToParent( {
					name = "generic_edit_box_complete",
					event = f8_arg0
				} )
				if f8_arg0.isPassword and (not CONDITIONS.IsMobileOrMobileSim() or f8_arg0) then
					f8_arg0.textEdit:setShowPassword( f8_arg0.isDefault )
				end
			end
			
			if f4_arg0.isPassword then
				f8_arg0.textEdit:setShowPassword( f8_arg0.isDefault )
			end
			if f4_arg0.nameSystem then
				OSK[0x9E95BADA4D54835]( f8_arg1.controller, f4_arg0, f4_arg0.nameSystem, f8_local0, f4_arg0.maxLength, f4_arg0, f4_arg0, f4_arg0, f8_local1, f4_arg0 )
			else
				OSK[0xC1C15C14B75864C]( f8_arg1.controller, f4_arg0, f8_local0, f4_arg0.maxLength, f4_arg0, f4_arg0, f4_arg0, f8_local1, f4_arg0 )
			end
			if f4_arg0 then
				f8_arg0.textEdit:setShowPassword( f8_arg0.isDefault )
			end
		end
		f8_arg0.textEdit:setTextEditActive()
		f8_arg0._textEditingActive = true
		if f8_arg0._buttonActionCallbackFunc then
			f8_arg0._buttonActionCallbackFunc()
		end
		f4_arg0( f8_arg0, f8_local0 )
		local f8_local2 = f8_arg0:getParent()
		if f8_local2 then
			f8_local2:ManageTrailingVisual( {
				fromTextEditActivate = true
			} )
		end
		return true
	end
	
	f4_arg0:addEventHandler( "button_action", function ( f7_arg0, f7_arg1 )
		f4_arg0( f7_arg0, f7_arg1 )
	end )
	f4_arg0:addEventHandler( "text_edit_complete", function ( f6_arg0, f6_arg1 )
		if f6_arg0._textEditingActive and f6_arg1.active then
			f6_arg0:TextEditOff()
			if f6_arg0._textEditCompleteCallbackFunc and not f6_arg1.cancelled then
				f6_arg1.text = f6_arg0.textEdit:getText()
				f6_arg1.isDefault = f6_arg0.isDefault
				f6_arg0:_textEditCompleteCallbackFunc( f6_arg1 )
			end
			f6_arg0:dispatchEventToParent( {
				name = "generic_edit_box_complete",
				event = f6_arg1
			} )
		end
	end )
	f4_arg0:addEventHandler( "text_edit_is_typing", function ( f5_arg0, f5_arg1 )
		if f5_arg0._textEditingActive then
			f5_arg0.isDefault = false
			if f5_arg0.textEdit and f5_arg0.textEdit.defaultText then
				f5_arg0.textEdit.defaultText:SetVisible( false )
			end
			if f5_arg0._isTypingCallbackFunc then
				f5_arg0._isTypingCallbackFunc( f5_arg1.isTyping, f5_arg1.text )
			end
			local f5_local0 = f5_arg0:getParent()
			if f5_arg0._isTypingCallbackInternalFunc then
				f5_arg0._isTypingCallbackInternalFunc( f5_local0, f5_arg1 )
			end
		end
	end )
end

LUI.AddGenericEditBoxWidgetLogic = function ( f3_arg0, f3_arg1, f3_arg2 )
	local f3_local0 = Color.IntToRGB( SWATCHES[0x31408192FB5B5C6][0xC5803D8A5526C67] )
	local f3_local1 = {
		a = 5.330852272E-315,
		r = f3_local0.r * 255,
		g = f3_local0.g * 255,
		b = f3_local0.b * 255
	}
	local f3_local2 = LUI.Alignment.Left
	if IsLanguageRightToLeft( GetCurrentLanguage() ) then
		f3_local2 = LUI.Alignment.Right
	end
	if not f3_arg2 then
		f3_arg2 = {}
	end
	f3_arg2.font = f3_arg2.font and f3_arg2.font or FONTS.GetFont( FONTS.BattleNetRegular.File )
	f3_arg2.alignment = f3_arg2.alignment and f3_arg2.alignment or f3_local2
	f3_arg2.focusType = f3_arg2.focusType and f3_arg2.focusType or FocusType.MouseOver
	f3_arg2.defaultValue = f3_arg2.defaultValue and f3_arg2.defaultValue or f3_arg0.Text:getText()
	f3_arg2.textSelectionColor = f3_arg2.textSelectionColor and f3_arg2.textSelectionColor or f3_local1
	f3_arg2.autoConfirmOnTab = true
	f3_arg2.autoSelectAllOnActive = true
	f3_arg2.autoConfirmOnOutsideClick = true
	LUI.AddEditBoxLogic( f3_arg0.Text, f3_arg1, f3_arg2 )
end

LUI.CanClearEditBoxText = function ( f2_arg0, f2_arg1 )
	local f2_local0 = f2_arg0:isInFocus()
	if not f2_local0 then
		f2_local0 = f2_arg0:IsTextEditActive() or f2_arg0._isOver
	end
	local f2_local1
	if not f2_arg0._disableClearText then
		f2_local1 = LUI.IsEditboxTextEmpty( f2_arg0 )
		if f2_local1 then
			if not f2_arg0.Text.isDefault then
				f2_local1 = f2_local0
			else
				f2_local1 = false
			end
		end
	else
		f2_local1 = false
	end
	return f2_local1
end

LUI.IsEditboxTextEmpty = function ( f1_arg0 )
	local f1_local0 = f1_arg0.Text.textEdit
	if f1_local0 then
		f1_local0 = f1_arg0.Text.textEdit:getText()
		if f1_local0 then
			f1_local0 = #f1_arg0.Text.textEdit:getText() ~= 0
		end
	end
	return f1_local0
end

