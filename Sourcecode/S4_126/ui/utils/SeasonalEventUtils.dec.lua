-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
SEASONAL_EVENT = SEASONAL_EVENT or {}
SEASONAL_EVENT.IDS = {
	CODMAS = 2,
	VALENTINES = 3,
	PACIFIC = 1
}
local f0_local0 = {
	{
		warzoneDescription = "LEP/LEP_DESC",
		tabName = "LEP/PACIFIC_NAME",
		description = "LEP/MP_LEP_DESC",
		episodeID = "S4_PACIFIC_LAUNCH",
		titleImage = "v_ui_img_logo_pacific",
		backgroundImage = "v_ui_img_billboard_pacific",
		bonusAchievementID = "144115188081455878",
		id = SEASONAL_EVENT.IDS.PACIFIC,
		prestreamImages = {
			nil,
			"v_ui_img_billboard_pacific",
			"v_ui_img_logo_pacific",
			"v_ui_seasonal_pacific_hint_bg",
			"v_ui_img_billboard_pacific_01",
			"v_ui_img_billboard_pacific_02",
			"v_ui_img_billboard_pacific_03",
			"v_ui_img_billboard_pacific_04",
			"v_ui_img_billboard_pacific_05",
			"v_ui_img_billboard_pacific_06"
		},
		onboardingData = {
			title = "LEP/PACIFIC_NAME",
			panelData = {
				{
					desc = "LEP/ONBOARDING_1_DESC",
					image = "v_ui_img_onboarding_pacific_01"
				},
				{
					desc = "LEP/ONBOARDING_2_DESC",
					image = "v_ui_img_onboarding_pacific_02"
				},
				{
					desc = "LEP/ONBOARDING_3_DESC",
					image = "v_ui_img_onboarding_pacific_03"
				}
			}
		},
		vanguardFeatureImages = {
			["144115188081455874"] = "v_ui_seasonal_event_lep_card_09",
			["144115188081455876"] = "v_ui_seasonal_event_lep_card_11",
			["144115188081455875"] = "v_ui_seasonal_event_lep_card_10",
			["144115188081455877"] = "v_ui_seasonal_event_lep_card_12",
			["144115188081455872"] = "v_ui_seasonal_event_lep_card_07",
			["144115188081455873"] = "v_ui_seasonal_event_lep_card_08"
		},
		warzoneAchievementData = {
			{
				description = "LEP/CH_HINT_WZ_1",
				name = "LEP/CH_HINT_TITLE_WZ_1",
				billboardImage = "v_ui_img_billboard_pacific_01",
				activeTier = 1,
				featureImage = "v_ui_seasonal_event_lep_card_01",
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33724551",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			},
			{
				description = "LEP/CH_HINT_WZ_2",
				name = "LEP/CH_HINT_TITLE_WZ_2",
				billboardImage = "v_ui_img_billboard_pacific_02",
				activeTier = 1,
				featureImage = "v_ui_seasonal_event_lep_card_02",
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33734477",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			},
			{
				description = "LEP/CH_HINT_WZ_3",
				name = "LEP/CH_HINT_TITLE_WZ_3",
				billboardImage = "v_ui_img_billboard_pacific_03",
				activeTier = 1,
				featureImage = "v_ui_seasonal_event_lep_card_03",
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33634456",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			},
			{
				description = "LEP/CH_HINT_WZ_4",
				name = "LEP/CH_HINT_TITLE_WZ_4",
				billboardImage = "v_ui_img_billboard_pacific_04",
				activeTier = 1,
				featureImage = "v_ui_seasonal_event_lep_card_04",
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33884467",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			},
			{
				description = "LEP/CH_HINT_WZ_5",
				name = "LEP/CH_HINT_TITLE_WZ_5",
				billboardImage = "v_ui_img_billboard_pacific_05",
				activeTier = 1,
				featureImage = "v_ui_seasonal_event_lep_card_05",
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33744449",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			},
			{
				description = "LEP/CH_HINT_WZ_6",
				name = "LEP/CH_HINT_TITLE_WZ_6",
				billboardImage = "v_ui_img_billboard_pacific_06",
				activeTier = 1,
				featureImage = "v_ui_seasonal_event_lep_card_06",
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33724554",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			}
		}
	},
	{
		warzoneDescription = "SEASONAL_EVENT/CODMAS_DESC_WZ",
		tabSequence = "EventVariant_Codmas",
		description = "SEASONAL_EVENT/CODMAS_DESC",
		bonusAchievementID = "144115188081455885",
		episodeID = "S4_CHRISTMAS",
		menuSequence = "Event_Codmas",
		bonusAchievementTitle = "SEASONAL_EVENT/CODMAS_STOCKING_STUFFER",
		bonusAchievementDescription = "SEASONAL_EVENT/CODMAS_STOCKING_STUFFER_DESC",
		titleImage = "v_ui_icon_festive_fervor_logo",
		tabName = "SEASONAL_EVENT/FESTIVE_FERVOR",
		backgroundImage = "v_ui_img_billboard_festive_fervor",
		warzoneChallengeSequence = "Event_Codmas",
		id = SEASONAL_EVENT.IDS.CODMAS,
		prestreamImages = {
			nil,
			"v_ui_img_billboard_festive_fervor",
			"v_ui_icon_festive_fervor_logo"
		},
		onboardingData = {
			video = "mp_event_intro",
			title = "SEASONAL_EVENT/FESTIVE_FERVOR",
			panelData = {
				{
					desc = "SEASONAL_EVENT/CODMAS_ONBOARDING_DESC_1",
					image = "v_ui_img_onboarding_codmas01"
				},
				{
					desc = "SEASONAL_EVENT/CODMAS_ONBOARDING_DESC_2",
					image = "v_ui_img_onboarding_codmas02"
				},
				{
					desc = "SEASONAL_EVENT/CODMAS_ONBOARDING_DESC_3",
					image = "v_ui_img_onboarding_codmas03"
				}
			}
		},
		warzoneAchievementData = {
			{
				aeID = "11537",
				name = "SEASONAL_EVENT/EMPTY",
				description = "SEASONAL_EVENT/CODMAS_WZ_CH_DESC_1",
				activeTier = 1,
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33754467",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			},
			{
				aeID = "11538",
				name = "SEASONAL_EVENT/EMPTY",
				description = "SEASONAL_EVENT/CODMAS_WZ_CH_DESC_2",
				activeTier = 1,
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33744454",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			},
			{
				aeID = "11539",
				name = "SEASONAL_EVENT/EMPTY",
				description = "SEASONAL_EVENT/CODMAS_WZ_CH_DESC_3",
				activeTier = 1,
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33734591",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			},
			{
				aeID = "11540",
				name = "SEASONAL_EVENT/EMPTY",
				description = "SEASONAL_EVENT/CODMAS_WZ_CH_DESC_4",
				activeTier = 1,
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33724631",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			},
			{
				aeID = "11541",
				name = "SEASONAL_EVENT/EMPTY",
				description = "SEASONAL_EVENT/CODMAS_WZ_CH_DESC_5",
				activeTier = 1,
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33734590",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			},
			{
				aeID = "11542",
				name = "SEASONAL_EVENT/EMPTY",
				description = "SEASONAL_EVENT/CODMAS_WZ_CH_DESC_6",
				activeTier = 1,
				tiers = {
					{
						rewards = {
							{
								rewardValueOrID = "33724632",
								rewardType = Challenge.Reward.LOOT
							}
						}
					}
				}
			}
		}
	},
	{
		episodeID = "S4_VALENTINES",
		id = SEASONAL_EVENT.IDS.VALENTINES
	}
}
SEASONAL_EVENT.GetCurrentEventID = function ()
	return Dvar[0x22EAAB59AA27E9B]( "#x32180fa7fd65a3faa" )
end

SEASONAL_EVENT.GetCurrentSeasonalEventData = function ()
	if not CONDITIONS.IsSeasonalEventActive() then
		return nil
	end
	local f17_local0 = SEASONAL_EVENT.GetCurrentEventID()
	for f17_local4, f17_local5 in ipairs( f0_local0 ) do
		if f17_local0 == f17_local5.id then
			return f17_local5
		end
	end
end

SEASONAL_EVENT.IsEventTabEnabled = function ()
	local f16_local0 = SEASONAL_EVENT.GetCurrentSeasonalEventData()
	local f16_local1
	if f16_local0 == nil or f16_local0.id == SEASONAL_EVENT.IDS.VALENTINES then
		f16_local1 = false
	else
		f16_local1 = true
	end
	return f16_local1
end

SEASONAL_EVENT.ShouldHideChallenges = function ()
	return not Dvar[0x9E5BE3B4BBA4E0E]( "#x35cbaa7f9f2913aaa" )
end

local f0_local1 = function ( f13_arg0, f13_arg1, f13_arg2 )
	if f13_arg0 and f13_arg0.onboardingData then
		if f13_arg0.onboardingData.video then
			local f13_local0 = {
				video = f13_arg0.onboardingData.video,
				onVideoFinished = function ()
					LUI.FlowManager.RequestPopupMenu( f13_arg0, "onboardingpopup", true, f13_arg0, false, f13_arg0.onboardingData )
				end
			}
			Engine[0x3DACD106DDC0D71]()
			LUI.FlowManager.RequestAddMenu( "MPEventCinematic", true, f13_arg2, false, f13_local0 )
		else
			LUI.FlowManager.RequestPopupMenu( f13_arg1, "onboardingpopup", true, f13_arg2, false, f13_arg0.onboardingData )
		end
	end
end

SEASONAL_EVENT.ShowOnboarding = function ( f12_arg0, f12_arg1 )
	local f12_local0 = SEASONAL_EVENT.GetCurrentSeasonalEventData()
	if f12_local0 then
		f0_local0( f12_local0, f12_arg0, f12_arg1 )
	end
end

SEASONAL_EVENT.ShowOnboardingAndMarkAsSeen = function ( f11_arg0, f11_arg1 )
	local f11_local0 = SEASONAL_EVENT.GetCurrentSeasonalEventData()
	if f11_local0 then
		local f11_local1 = PlayerData[0x8B73907B55C4D71]( f11_arg1, CoD.StatsGroup.NonGame )
		f11_local1 = f11_local1.lastSeasonalEventSeen
		if f11_local1 and f11_local1:get() ~= f11_local0.id then
			f11_local1:set( f11_local0.id )
			f0_local0( f11_local0, f11_arg0, f11_arg1 )
		end
	end
end

SEASONAL_EVENT.GetCompletionChallengeData = function ()
	local f10_local0 = SEASONAL_EVENT.GetCurrentSeasonalEventData()
	local f10_local1 = {}
	table.insert( f10_local1, {
		key = 1,
		col = CSV.seasonalEvent.cols.isFinalReward
	} )
	table.insert( f10_local1, {
		col = CSV.seasonalEvent.cols.eventID,
		key = f10_local0.id
	} )
	local f10_local2 = CSV.ReadRow( CSV.seasonalEvent, StringTable[0xF6B0CC3002991DB]( CSV.seasonalEvent.file, f10_local1 ) )
	if f10_local2 then
		return f10_local2.lootID, f10_local2.challengeRef, f10_local2.backendChallengeRef
	else
		
	end
end

SEASONAL_EVENT.IsWZChallengeUnlocked = function ( f9_arg0, f9_arg1 )
	if f9_arg1.aeID then
		return OnlineChallenges[0xF76B36D35A1A81D]( f9_arg0, f9_arg1.aeID ) == Challenge.State.FINISHED
	end
	for f9_local3, f9_local4 in ipairs( f9_arg1.tiers[f9_arg1.activeTier].rewards ) do
		if f9_local4.rewardType == Challenge.Reward.LOOT and LOOT.IsUnlockedWithID( f9_arg0, f9_local4.rewardValueOrID ) then
			return true
		end
	end
	return false
end

SEASONAL_EVENT.GetChallengesAndProgress = function ( f6_arg0 )
	local f6_local0 = SEASONAL_EVENT.GetCurrentSeasonalEventData()
	local f6_local1
	if f6_local0 then
		f6_local1 = f6_local0
	else
		f6_local1 = f6_local0.episodeID
	end
	if not f6_local0 then
		local f6_local2 = {}
	end
	local f6_local2 = Engine[0x2DA54CF5D6B7F02]()
	if f6_local2 then
		f6_local2 = Dvar[0x9E5BE3B4BBA4E0E]( "#x33f42e360a6bda01c" )
	end
	local f6_local3 = Challenge.GetChallengesAndProgress( f6_arg0, AEKinds.S4_AE_KIND_EVENT, function ( f8_arg0, f8_arg1 )
		return StringTable[0x2077452C28AB2FC]( f8_arg0.file, f8_arg1, f8_arg0.cols.episode ) == f6_arg0
	end )
	for f6_local8, f6_local9 in ipairs( f6_local3 ) do
		f6_local9.gameSourceID = LUI.GAME_SOURCE_ID.VANGUARD
		if f6_local1 == SEASONAL_EVENT.IDS.PACIFIC then
			local f6_local7 = f6_local9.complete
			if not f6_local7 then
				f6_local7 = SEASONAL_EVENT.IsWZChallengeUnlocked( f6_arg0, f6_local9 )
			end
			f6_local9.complete = f6_local7
		end
	end
	table.sort( f6_local3, function ( f7_arg0, f7_arg1 )
		return f7_arg0.aeID < f7_arg1.aeID
	end )
	if f6_local2 then
		for f6_local8, f6_local9 in ipairs( f6_local3 ) do
			if f6_local8 < 4 then
				f6_local9.complete = true
			end
		end
	end
	f6_local4 = nil
	for f6_local9, f6_local7 in ipairs( f6_local3 ) do
		if f6_local7.aeID == f6_local0.bonusAchievementID then
			f6_local4 = f6_local9
			break
		end
	end
	if f6_local4 then
		f6_local5 = f6_local4
	else
		f6_local5 = f6_local3[f6_local4]
	end
	if f6_local4 then
		table.remove( f6_local3, f6_local4 )
	end
	f6_local6 = f6_local0.warzoneAchievementData and LUI.ShallowCopy( f6_local0.warzoneAchievementData ) or {}
	for f6_local10, f6_local11 in ipairs( f6_local6 ) do
		f6_local11.gameSourceID = LUI.GAME_SOURCE_ID.WARZONE
		f6_local11.complete = SEASONAL_EVENT.IsWZChallengeUnlocked( f6_arg0, f6_local11 )
	end
	if f6_local2 then
		for f6_local10, f6_local11 in ipairs( f6_local6 ) do
			if f6_local10 < 3 then
				f6_local11.complete = true
			end
		end
	end
	if f6_local0.id == SEASONAL_EVENT.IDS.PACIFIC then
		for f6_local10, f6_local11 in ipairs( f6_local3 ) do
			if f6_local11.complete then
				f6_local11.featureImage = f6_local0.vanguardFeatureImages[f6_local11.aeID]
			end
		end
		for f6_local10, f6_local11 in ipairs( f6_local6 ) do
			if not f6_local6[f6_local10].complete then
				f6_local11.featureImage = nil
			end
		end
		for f6_local10, f6_local11 in ipairs( f6_local6 ) do
			if f6_local11.complete then
				f6_local11.billboardImage = nil
			end
		end
	end
	f6_local8 = {}
	for f6_local9 = 1, math.max( #f6_local3, #f6_local6 ), 1 do
		table.insert( f6_local8, {} )
		if f6_local9 <= #f6_local3 then
			table.insert( f6_local8[f6_local9], f6_local3[f6_local9] )
		end
		if f6_local9 <= #f6_local6 then
			table.insert( f6_local8[f6_local9], f6_local6[f6_local9] )
		end
	end
	return {
		bonusChallenge = f6_local5,
		challenges = f6_local8
	}
end

SEASONAL_EVENT.GetEventChallengeDisplays = function ( f4_arg0 )
	local f4_local0 = {}
	local f4_local1 = function ( f5_arg0 )
		if f5_arg0.activeTier and f5_arg0.cumulativeProgress and f5_arg0.cumulativeProgressMax and f5_arg0.description then
			table.insert( f4_arg0, Challenge.GetChallengeItemDisplayDataForTier( f5_arg0, f5_arg0.activeTier ) )
		end
	end
	
	if f4_arg0.challenges then
		for f4_local8, f4_local9 in ipairs( f4_arg0.challenges ) do
			for f4_local5, f4_local6 in ipairs( f4_local9 ) do
				f4_local1( f4_local6 )
			end
		end
	end
	if f4_arg0.bonusChallenge then
		f4_local1( f4_arg0.bonusChallenge )
	end
	return f4_local0
end

SEASONAL_EVENT.SetupCountdown = function ( f2_arg0, f2_arg1 )
	assert( f2_arg0 )
	local f2_local0 = Dvar[0x22EAAB59AA27E9B]( "#x33b5c20f32aadb975" ) or 0
	f2_arg0.eventTimer = LUI.UITimer.new( {
		interval = 1000,
		event = "update_seasonal_event_timer"
	} )
	f2_arg0.eventTimer.id = "seasonalEventTimer"
	f2_arg0:addElement( f2_arg0.eventTimer )
	f2_arg0:addAndCallEventHandler( "update_seasonal_event_timer", function ()
		local f3_local0 = Engine[0xF16311E3FCA3DCF]()
		local f3_local1
		if f3_local0 < f2_arg0 then
			f3_local1 = f2_arg0 - f3_local0
			if not f3_local1 then
			
			else
				if f3_local1 == 0 then
					f2_arg0.eventTimer:closeTree()
					f2_arg0.eventTimer = nil
				end
				f3_local1 = ToUpperCase( Engine[0x7D3158A9539A355]( Engine[0x9F0E9247C145452]( f3_local1 ) ) )
				if f2_arg0 and f2_arg0.singleLineDisplayString then
					assert( "string" == type( "singleLineDisplayString" ), "The singleLineDisplayString must be of type 'string'." )
					f2_arg0:setText( Engine[0xED84C33EC5F01EA]( f2_arg0.singleLineDisplayString, f3_local1 ) )
				else
					f2_arg0:setText( f3_local1 )
				end
			end
		end
		f3_local1 = 0
	end )
end

SEASONAL_EVENT.GetMaterialStreamer = function ()
	local f1_local0 = {}
	local f1_local1 = SEASONAL_EVENT.GetCurrentSeasonalEventData()
	if f1_local1 and CONDITIONS.IsSeasonalEventActive() and f1_local1.prestreamImages then
		for f1_local5, f1_local6 in ipairs( f1_local1.prestreamImages ) do
			table.insert( f1_local0, RegisterMaterial( f1_local6 ) )
		end
	end
	local self = LUI.UIElement.new()
	self.id = "SeasonMaterialStreamer"
	self:SetupImageTableStreamer( f1_local0 )
	return self
end

