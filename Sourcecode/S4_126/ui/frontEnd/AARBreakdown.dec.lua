-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.frontEnd.AARXPBreakdown" )
local f0_local0 = 1500
local f0_local1 = function ( f9_arg0, f9_arg1, f9_arg2 )
	if f9_arg2 == nil then
		return 
	end
	local f9_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/DEFAULT_THOUSANDS_SEPARATOR" )
	if CONDITIONS.IsBRGameType( f9_arg0 ) then
		f9_arg0.ContractBonusXP.Value:setupTextValueIntTween( 0, f9_arg2.contractBonus or 0, f0_local0, LUI.EASING.inOutSine, "", 0, f9_local0 )
	end
	local f9_local1 = f9_arg2.matchXP or 0
	local f9_local2 = f9_arg2.challengeBonus or 0
	local f9_local3 = f9_arg2.accoladeBonus or 0
	local f9_local4 = f9_arg2.boosterXP or 0
	local f9_local5 = f9_arg2.earnedXP + f9_arg2.earnedSeasonXP
	local f9_local6 = f9_arg2.currentCPpoints - f9_arg2.startCPpoints
	f9_arg0.RoundTotalXP:setupTextValueIntTween( 0, math.max( f9_local5, 0 ), f0_local0, LUI.EASING.linear, "", 0, f9_local0 )
	f9_arg0.MatchXP.Value:setupTextValueIntTween( 0, math.max( f9_local1, 0 ), f0_local0, LUI.EASING.linear, "", 0, f9_local0 )
	f9_arg0.ChallengeBonusXP.Value:setupTextValueIntTween( 0, math.max( f9_local2, 0 ), f0_local0, LUI.EASING.linear, "", 0, f9_local0 )
	f9_arg0.AccoladesBonusXP.Value:setupTextValueIntTween( 0, math.max( f9_local3, 0 ), f0_local0, LUI.EASING.inOutSine, "", 0, f9_local0 )
	f9_arg0.BoosterBonusXP.Value:setupTextValueIntTween( 0, math.max( f9_local4, 0 ), f0_local0, LUI.EASING.inOutSine, "", 0, f9_local0 )
	f9_arg0.TotalPointCount:setupTextValueIntTween( 0, math.max( f9_local6, 0 ), f0_local0, LUI.EASING.inOutSine, "", 0, f9_local0 )
	if CONDITIONS.IsBRGameType( f9_arg0 ) then
		ACTIONS.AnimateSequence( f9_arg0, "InitBR" )
	end
end

local f0_local2 = function ( f8_arg0, f8_arg1, f8_arg2 )
	local f8_local0 = SCOREBOARD.menus.AARSummary
	local f8_local1 = PostMatch[0x732BA5720DD2F42]( f8_arg1 )
	if f8_local1 == nil then
		ACTIONS.AnimateSequence( f8_arg0, "HideCaptureDefends" )
		return 
	end
	local f8_local2 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/DEFAULT_THOUSANDS_SEPARATOR" )
	f8_arg0.TotalXPLabel:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/SCORE_CAPS" ) )
	f8_arg0.RoundTotalXP:setupTextValueIntTween( 0, f8_local1.score, f0_local0, LUI.EASING.inOutSine, "", 0, f8_local2 )
	local f8_local3 = SCOREBOARD.GetColumnNames( f8_arg1 )
	local f8_local4 = SCOREBOARD.MenuColumnRefStart[f8_local0]
	for f8_local5 = 1, SCOREBOARD.maxColumnsPerMode[f8_local0], 1 do
		f8_arg0._fieldArray[f8_local5]:SetText( StringTable[0x2DCF0973239E909]( CSV.gameStats.file, CSV.gameStats.cols.ref, f8_local3[f8_local5 + f8_local4], CSV.gameStats.cols.name ) )
		local f8_local8 = SCOREBOARD.GetGameModeFieldName( f8_arg1, f8_local5, f8_local0 )
		local f8_local9 = f8_local1[f8_local8]
		if f8_local8 == "kdRatio" then
			f8_local9 = SCOREBOARD.CalculateKillDeathRatio( f8_local1.eliminations, f8_local1.deaths or 0 )
		end
		f8_arg0._fieldArray[f8_local5].Value:setText( f8_local9 )
		f8_arg0._fieldArray[f8_local5]:SetVisibility( LUI.Visibility.Visible )
	end
end

local f0_local3 = function ( f7_arg0, f7_arg1, f7_arg2 )
	f7_arg0.InitProgression = f0_local0
	f7_arg0.InitScoreboardProgression = f0_local0
	if CONDITIONS.IsThirdGameMode() then
		ACTIONS.AnimateSequence( f7_arg0, "HideCaptureDefends" )
	end
	f7_arg0._fieldArray = {
		f7_arg0.MatchXP,
		f7_arg0.ChallengeBonusXP,
		f7_arg0.AccoladesBonusXP,
		f7_arg0.BoosterBonusXP
	}
	for f7_local0 = 1, #f7_arg0._fieldArray, 1 do
		f7_arg0._fieldArray[f7_local0]:SetVisibility( LUI.Visibility.Hidden )
	end
end

function AARBreakdown( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 444 * _1080p, 0, 290 * _1080p )
	self.id = "AARBreakdown"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local TotalPointCount = nil
	
	TotalPointCount = MenuBuilder.BuildRegisteredType( "AARXPBreakdown", {
		controllerIndex = f1_local1
	} )
	TotalPointCount.id = "TotalPointCount"
	TotalPointCount:SetAlpha( 0, 0 )
	TotalPointCount.Title:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/POINTS_ACQUIRED" ), 0 )
	TotalPointCount:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 189, _1080p * 213 )
	self:addElement( TotalPointCount )
	self.TotalPointCount = TotalPointCount
	
	local BoosterBonusXP = nil
	
	BoosterBonusXP = MenuBuilder.BuildRegisteredType( "AARXPBreakdown", {
		controllerIndex = f1_local1
	} )
	BoosterBonusXP.id = "BoosterBonusXP"
	BoosterBonusXP:SetAlpha( 0.75, 0 )
	BoosterBonusXP.Title:setText( Engine[0xED84C33EC5F01EA]( "AAR/BOOSTERS" ), 0 )
	BoosterBonusXP:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 168, _1080p * 192 )
	self:addElement( BoosterBonusXP )
	self.BoosterBonusXP = BoosterBonusXP
	
	local AccoladesBonusXP = nil
	
	AccoladesBonusXP = MenuBuilder.BuildRegisteredType( "AARXPBreakdown", {
		controllerIndex = f1_local1
	} )
	AccoladesBonusXP.id = "AccoladesBonusXP"
	AccoladesBonusXP:SetAlpha( 0.75, 0 )
	AccoladesBonusXP.Title:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/ACCOLADES" ), 0 )
	AccoladesBonusXP:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 132, _1080p * 156 )
	self:addElement( AccoladesBonusXP )
	self.AccoladesBonusXP = AccoladesBonusXP
	
	local ChallengeBonusXP = nil
	
	ChallengeBonusXP = MenuBuilder.BuildRegisteredType( "AARXPBreakdown", {
		controllerIndex = f1_local1
	} )
	ChallengeBonusXP.id = "ChallengeBonusXP"
	ChallengeBonusXP:SetAlpha( 0.75, 0 )
	ChallengeBonusXP.Title:setText( Engine[0xED84C33EC5F01EA]( "AAR/CHALLENGES" ), 0 )
	ChallengeBonusXP:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 97, _1080p * 121 )
	self:addElement( ChallengeBonusXP )
	self.ChallengeBonusXP = ChallengeBonusXP
	
	local MatchXP = nil
	
	MatchXP = MenuBuilder.BuildRegisteredType( "AARXPBreakdown", {
		controllerIndex = f1_local1
	} )
	MatchXP.id = "MatchXP"
	MatchXP:SetAlpha( 0.75, 0 )
	MatchXP.Title:setText( Engine[0xED84C33EC5F01EA]( "AAR/MATCH_XP_TITLE" ), 0 )
	MatchXP:SetAnchorsAndPosition( 0, 0, 0, 1, 0, _1080p * -1, _1080p * 60, _1080p * 84 )
	self:addElement( MatchXP )
	self.MatchXP = MatchXP
	
	local RoundTotalXP = nil
	
	RoundTotalXP = LUI.UIText.new()
	RoundTotalXP.id = "RoundTotalXP"
	RoundTotalXP:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	RoundTotalXP:setText( "0000", 0 )
	RoundTotalXP:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_LHeaderBold.font.File ) )
	RoundTotalXP:SetFontSize( FONT_STYLES.fontStyle_LHeaderBold.size )
	RoundTotalXP:SetMinFontSize( FONT_STYLES.fontStyle_LHeaderBold.minSize )
	RoundTotalXP:SetWordWrap( false )
	RoundTotalXP:SetAlignment( LUI.Alignment.Right )
	RoundTotalXP:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -149, 0, 0, _1080p * 60 )
	self:addElement( RoundTotalXP )
	self.RoundTotalXP = RoundTotalXP
	
	local TotalXPLabel = nil
	
	TotalXPLabel = LUI.UIText.new()
	TotalXPLabel.id = "TotalXPLabel"
	TotalXPLabel:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	TotalXPLabel:SetAlpha( 0.75, 0 )
	TotalXPLabel:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/TOTAL_XP_EARNED" ), 0 )
	TotalXPLabel:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_MHeaderBold.font.File ) )
	TotalXPLabel:SetFontSize( FONT_STYLES.fontStyle_MHeaderBold.size )
	TotalXPLabel:SetMinFontSize( FONT_STYLES.fontStyle_MHeaderBold.minSize )
	TotalXPLabel:SetWordWrap( false )
	TotalXPLabel:SetAlignment( LUI.Alignment.Left )
	TotalXPLabel:SetOptOutRightToLeftAlignmentFlip( true )
	TotalXPLabel:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 294, _1080p * 7, _1080p * 43 )
	self:addElement( TotalXPLabel )
	self.TotalXPLabel = TotalXPLabel
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local10 = nil
	BoosterBonusXP:RegisterAnimationSequence( "Intro", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 600,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 5.297218497E-315,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	AccoladesBonusXP:RegisterAnimationSequence( "Intro", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 500,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 5.297218497E-315,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ChallengeBonusXP:RegisterAnimationSequence( "Intro", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 400,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 5.297218497E-315,
			duration = 300,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MatchXP:RegisterAnimationSequence( "Intro", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 280,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 5.297218497E-315,
			duration = -8,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	RoundTotalXP:RegisterAnimationSequence( "Intro", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 140,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TotalXPLabel:RegisterAnimationSequence( "Intro", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 5.297218497E-315,
			duration = 140,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Intro = function ()
		menu:AnimateSequence( "Intro" )
		menu:AnimateSequence( "Intro" )
		menu:AnimateSequence( "Intro" )
		menu:AnimateSequence( "Intro" )
		menu:AnimateSequence( "Intro" )
		menu:AnimateSequence( "Intro" )
	end
	
	self._sequenceLengths.Intro = 700
	local f1_local11 = nil
	TotalPointCount:RegisterAnimationSequence( "ShowPointsEarned", {
		{
			value = 5.297218497E-315,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ShowPointsEarned = function ()
		menu:AnimateSequence( "ShowPointsEarned" )
	end
	
	self._sequenceLengths.ShowPointsEarned = 0
	local f1_local12 = nil
	ChallengeBonusXP:RegisterAnimationSequence( "InitBR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 105
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 129
		}
	} )
	MatchXP:RegisterAnimationSequence( "InitBR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 73
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 97
		}
	} )
	self._sequences.InitBR = function ()
		menu:AnimateSequence( "InitBR" )
		menu:AnimateSequence( "InitBR" )
	end
	
	self._sequenceLengths.InitBR = 0
	local f1_local13 = nil
	BoosterBonusXP:RegisterAnimationSequence( "HideCaptureDefends", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Hidden
		}
	} )
	AccoladesBonusXP:RegisterAnimationSequence( "HideCaptureDefends", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Hidden
		}
	} )
	self._sequences.HideCaptureDefends = function ()
		menu:AnimateSequence( "HideCaptureDefends" )
		menu:AnimateSequence( "HideCaptureDefends" )
	end
	
	self._sequenceLengths.HideCaptureDefends = 0
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "AARBreakdown", AARBreakdown )
LockTable( _M )
