-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
CoD.PrintModuleLoad( _NAME )
function OpenFriendsList( f4_arg0 )
	if IsOnlineMatch() and Engine.BACCCIHGDG() and Engine.BICHEEFHEC( f4_arg0 ) then
		if not Engine.DBAEJAHFGJ( f4_arg0 ) then
			LUI.FlowManager.RequestAddMenu( "SocialMenu", true, f4_arg0 )
		else
			LUI.FlowManager.RequestPopupMenu( nil, "mp_no_guest_popup", false, f4_arg0, false )
		end
	end
end

function online_friends_widget()
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 1, 0, 1, 0, -170, -130, -48, -28 )
	self.id = "online_friends_widget"
	self:registerEventHandler( "menu_create", function ( self, event )
		local f3_local0 = self:getParent()
		if f3_local0 then
			f3_local0:processEvent( {
				clickable = true,
				side = "right",
				name = "add_button_helper_text",
				priority = 4294966296,
				button_ref = "button_alt2",
				helper_text = Engine.CBBHFCGDIC( "@LUA_MENU/FRIENDS" )
			} )
			if Engine.BAHIIBFDDG() or Engine.CBFHIIHAGH() then
				Engine.DAGFFDGFII( "friends_widget_refresh" )
			end
		end
	end )
	local f1_local1 = LUI.UIBindButton.new()
	f1_local1.id = "friends_bind_buttons_id"
	f1_local1:registerEventHandler( "button_alt2", function ( element, event )
		OpenFriendsList( event.controller )
		return true
	end )
	self:addElement( f1_local1 )
	return self
end

MenuBuilder.registerType( "online_friends_widget", online_friends_widget )
LockTable( _M )
