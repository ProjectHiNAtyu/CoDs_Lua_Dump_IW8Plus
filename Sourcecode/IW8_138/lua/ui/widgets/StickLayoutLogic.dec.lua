-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
local f0_local0 = "options.stickLayout"
local f0_local1 = {}
local f0_local2 = function ( f10_arg0, f10_arg1 )
	assert( 0 < #f10_arg0 )
	for f10_local3, f10_local4 in ipairs( f10_arg0 ) do
		if f10_arg1 == f10_local4 then
			return f10_local3
		end
	end
	assert( false, "Entry not found" )
end

LUI.AddStickLayoutLogic = function ( f1_arg0, f1_arg1, f1_arg2 )
	f0_local0 = {}
	local f1_local0 = StringTable.BFHCAIIDA( CSV.stickLayouts.file )
	local f1_local1 = CSV.ReadRow( CSV.stickLayouts, 0 )
	local f1_local2 = LUI.DataSourceInGlobalModel.new( f0_local0 .. ".oldColor", GetIntForColor( SWATCHES.layouts.oldLayout ) )
	local f1_local3 = LUI.DataSourceInGlobalModel.new( f0_local0 .. ".newColor", GetIntForColor( SWATCHES.layouts.newLayout ) )
	local f1_local4 = function ( f9_arg0, f9_arg1 )
		local f9_local0 = f9_arg0[f9_arg1]
		local f9_local1 = f1_arg0[f9_arg1]
		return REG4 and f1_arg0 or f1_arg0
	end
	
	local f1_local5 = function ( f8_arg0, f8_arg1 )
		local f8_local0 = CSV.ReadRow( CSV.stickLayouts, f8_arg0 )
		local f8_local1 = f1_arg0 .. "." .. f8_arg0
		return {
			ref = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".ref", f8_local0.cfg ),
			name = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".name", Engine.CBBHFCGDIC( f8_local0.name ) ),
			left = {
				up = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".left.up", Engine.CBBHFCGDIC( f8_local0.leftUp ) ),
				upColor = f1_arg0( f8_local0, "leftUp" ),
				down = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".left.down", Engine.CBBHFCGDIC( f8_local0.leftDown ) ),
				downColor = f1_arg0( f8_local0, "leftDown" ),
				left = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".left.left", Engine.CBBHFCGDIC( f8_local0.leftLeft ) ),
				leftColor = f1_arg0( f8_local0, "leftLeft" ),
				right = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".left.right", Engine.CBBHFCGDIC( f8_local0.leftRight ) ),
				rightColor = f1_arg0( f8_local0, "leftRight" ),
				button = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".left.button", Engine.CBBHFCGDIC( f8_local0.leftButton ) ),
				buttonColor = f1_arg0( f8_local0, "leftButton" )
			},
			right = {
				up = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".right.up", Engine.CBBHFCGDIC( f8_local0.rightUp ) ),
				upColor = f1_arg0( f8_local0, "rightUp" ),
				down = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".right.down", Engine.CBBHFCGDIC( f8_local0.rightDown ) ),
				downColor = f1_arg0( f8_local0, "rightDown" ),
				left = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".right.left", Engine.CBBHFCGDIC( f8_local0.rightLeft ) ),
				leftColor = f1_arg0( f8_local0, "rightLeft" ),
				right = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".right.right", Engine.CBBHFCGDIC( f8_local0.rightRight ) ),
				rightColor = f1_arg0( f8_local0, "rightRight" ),
				button = LUI.DataSourceInGlobalModel.new( f8_local1 .. ".right.button", Engine.CBBHFCGDIC( f8_local0.rightButton ) ),
				buttonColor = f1_arg0( f8_local0, "rightButton" )
			}
		}
	end
	
	local f1_local6 = function ( f7_arg0, f7_arg1 )
		f1_arg0:SetDataSource( f1_arg0[f7_arg0], f7_arg1 )
		Engine.BEBBDFEICI( f1_arg0._dataSource.ref:GetValue( f7_arg1 ), f7_arg1 )
	end
	
	local f1_local7 = function ( f6_arg0, f6_arg1 )
		f1_arg0:SetDataSource( f1_arg0[f6_arg0], f6_arg1 )
	end
	
	local f1_local8 = nil
	local f1_local9 = #OPTIONS.GetStickLayoutLabels() - 1
	for f1_local10 = 0, f1_local9, 1 do
		table.insert( f0_local0, f1_local5( f1_local10, f1_arg1 ) )
	end
	f1_arg0:SetDataSource( f0_local0[f0_local0( OPTIONS.GetStickLayoutLabels(), Engine.CBBHFCGDIC( OPTIONS.stickLayoutStrings[Engine.BECCFCBIAA( "gpadSticksConfig", f1_arg1 )] ) )], f1_arg1 )
	f1_arg0:SetAlpha( 0 )
	f1_arg0:addEventHandler( "stickLayout_over", function ( f5_arg0, f5_arg1 )
		f1_arg0:SetAlpha( 1 )
	end )
	f1_arg0:addEventHandler( "stickLayout_up", function ( f4_arg0, f4_arg1 )
		f1_arg0:SetAlpha( 0 )
	end )
	f1_arg0:addEventHandler( "stickLayout_updated", function ( f3_arg0, f3_arg1 )
		f1_arg0( f3_arg1.index, f3_arg1.controller )
	end )
	f1_arg0:addEventHandler( "stickLayout_updatedVisual", function ( f2_arg0, f2_arg1 )
		f1_arg0( f2_arg1.index, f2_arg1.controller )
	end )
end

