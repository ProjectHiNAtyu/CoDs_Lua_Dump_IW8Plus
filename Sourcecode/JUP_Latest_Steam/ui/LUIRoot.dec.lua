-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
LUI.UIRoot = LUI.Class( LUI.UIElement )
local f0_local0 = {
	POST_GAME = 0,
	HOST_MIGRATION = 1
}
GlobalInputEvents = {
	global_panel = true,
	channel_connect = true,
	decline_notification = true,
	search_bar = true,
	accept_notification = true,
	radial_killstreak_nohold = true,
	quick_social = true,
	mute_sound = true,
	proximity_voice = true,
	mute_microphone = true,
	keyboard_preview = true,
	togglescores_with_inventory = true,
	radial_nohold = true,
	quick_action_notification = true,
	quick_options = true,
	quick_cac = true
}
local f0_local1 = function ( f109_arg0, f109_arg1 )
	local f109_local0 = f109_arg1.button
	if f109_local0 == "keyboard_preview" then
		return CONDITIONS.IsQuickBindingPreviewButton( f109_arg1 )
	elseif not f109_arg1.uiBind or f109_arg1.uiBind == f109_local0 then
		return GlobalInputEvents[f109_local0]
	else
		
	end
end

LUI.UIRoot.SetUiKeybindContext = function ( f108_arg0 )
	local f108_local0 = Engine[0xEE6F69FEA944B13]()
	local f108_local1 = f108_local0:GetControllerIndex()
	if not f108_local1 then
		f108_local1 = Engine[0x45B054C920178E9]()
	end
	if not f108_arg0 then
		f108_arg0 = "ui"
	end
	KeyBinds[0x256C025184FCAE3]( f108_local1, "ui", f108_local0._currentContext or "ui", false )
	KeyBinds[0x256C025184FCAE3]( f108_local1, "ui", f108_arg0, true )
	f108_local0._currentContext = f108_arg0
end

LUI.UIRoot.TryAddMouseCursor = function ( f107_arg0, f107_arg1 )
	local f107_local0
	if f107_arg1 and not f107_arg1 then
		f107_local0 = f107_arg1
	else
		f107_local0 = "base"
	end
	f107_arg0._flagCursor[f107_local0] = true
	if Engine[0x5EE05AD994388B6]() and not Engine[0xE25E29D8ADE8F27]() and not f107_arg0.cursor then
		local f107_local1 = f107_arg0:GetControllerIndex()
		if not f107_local1 then
			f107_local1 = Engine[0x45B054C920178E9]()
		end
		f107_arg0.cursor = LUI.UIMouseCursor.new( {
			controllerIndex = f107_local1
		} )
		f107_arg0:addElement( f107_arg0.cursor )
		if Engine[0x3ECA657EE4C6C9]() and LUI.IsLastInputKeyboardMouse( f107_local1 ) then
			Engine[0x5F965FF5540EAC8]( true )
		end
	end
end

LUI.UIRoot.RemoveMouseCursor = function ( f106_arg0, f106_arg1 )
	local f106_local0
	if f106_arg1 and not f106_arg1 then
		f106_local0 = f106_arg1
	else
		f106_local0 = "base"
	end
	f106_arg0._flagCursor[f106_local0] = false
	local f106_local1 = true
	for f106_local5, f106_local6 in pairs( f106_arg0._flagCursor ) do
		if f106_local6 then
			f106_local1 = false
			break
		end
	end
	if f106_arg0.cursor and f106_local1 then
		f106_arg0.cursor:closeTree()
		f106_arg0.cursor = nil
		if Engine[0x3ECA657EE4C6C9]() then
			Engine[0x5F965FF5540EAC8]( false )
		end
		if f106_arg0.mouseCursorTooltipLayer then
			f106_local2 = f106_arg0:GetControllerIndex()
			if not f106_local2 then
				f106_local2 = Engine[0x45B054C920178E9]()
			end
			f106_arg0.mouseCursorTooltipLayer:ClearTooltipData( f106_local2, nil )
		end
	end
end

LUI.UIRoot.BlockButtonInput = function ( f105_arg0, f105_arg1, f105_arg2 )
	if f105_arg1 then
		f105_arg0.m_blockButtonInput = true
	else
		f105_arg0.m_blockButtonInput = false
	end
end

LUI.UIRoot.IsButtonInputBlocked = function ( f104_arg0 )
	return f104_arg0.m_blockButtonInput
end

LUI.UIRoot.BlockStickInput = function ( f103_arg0, f103_arg1 )
	f103_arg0.m_blockStickInput = f103_arg1
end

LUI.UIRoot.PixelsToUnits = function ( f102_arg0, f102_arg1, f102_arg2 )
	return f102_arg0:RootPixelsToUnits( f102_arg1, f102_arg2 )
end

local f0_local2 = function ( f101_arg0, f101_arg1 )
	local f101_local0 = false
	local f101_local1 = false
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xA816390B12854DB ) and HUDEDITOR and HUDEDITOR.TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.HUDInputLayer and f101_arg0.HUDInputLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.flowManager and not f101_arg0.flowManager:IsStackEmpty() then
		f101_local0 = true
	elseif f101_arg0.binkSkipPromptLayer and f101_arg0.binkSkipPromptLayer:ShouldBeVisible() and f101_arg0.binkSkipPromptLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.Snakecam and f101_arg0.Snakecam:ShouldBeVisible() and f101_arg0.Snakecam:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.MobileFTUELayer and f101_arg0.MobileFTUELayer:ShouldBeVisible() and f101_arg0.MobileFTUELayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.prototypeLayer and f101_arg0.prototypeLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.loadingScreenManager and f101_arg0.loadingScreenManager:ShouldBeVisible() and f101_arg0.loadingScreenManager:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.textChat and f101_arg0.textChat:ShouldBeVisible() and f101_arg0.textChat:TrapsInput( f101_arg1 ) then
		f101_local0, f101_local1 = f101_arg0.textChat:InputsTrappedOrInteresting( f101_arg1 )
	elseif f101_arg0.scoreboardLayer and f101_arg0.scoreboardLayer:ShouldBeVisible() and f101_arg0.scoreboardLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.squadEliminatedLayer and f101_arg0.squadEliminatedLayer:ShouldBeVisible() and f101_arg0.squadEliminatedLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.postGameManager and f101_arg0.postGameManager:ShouldBeVisible() and f101_arg0.postGameManager:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.requisitionsLayer and f101_arg0.requisitionsLayer:ShouldBeVisible() and f101_arg0.requisitionsLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.radialMenuLayer and f101_arg0.radialMenuLayer:ShouldBeVisible() and f101_arg0.radialMenuLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.SPCraftingRadialMenuLayer and f101_arg0.SPCraftingRadialMenuLayer:ShouldBeVisible() and f101_arg0.SPCraftingRadialMenuLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.SafeLayer and f101_arg0.SafeLayer:ShouldBeVisible() and f101_arg0.SafeLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.ZM_SafeLayer and f101_arg0.ZM_SafeLayer:ShouldBeVisible() and f101_arg0.ZM_SafeLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.UIButtonCombinationLayer and f101_arg0.UIButtonCombinationLayer:ShouldBeVisible() and f101_arg0.UIButtonCombinationLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.reportPlayerLayer and f101_arg0.reportPlayerLayer:ShouldBeVisible() and f101_arg0.reportPlayerLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.tacOpsLayer and f101_arg0.tacOpsLayer:ShouldBeVisible() and f101_arg0.tacOpsLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.inventoryLayer and f101_arg0.inventoryLayer:ShouldBeVisible() and f101_arg0.inventoryLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.immovableNotesLayer and f101_arg0.immovableNotesLayer:ShouldBeVisible() and f101_arg0.immovableNotesLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.dpadPopupLayer and f101_arg0.dpadPopupLayer:ShouldBeVisible() and f101_arg0.dpadPopupLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.birdsEyeLayer and f101_arg0.birdsEyeLayer:ShouldBeVisible() and f101_arg0.birdsEyeLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.timedUseMeterLayer and f101_arg0.timedUseMeterLayer:ShouldBeVisible() and f101_arg0.timedUseMeterLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.codcasterLayer and f101_arg0.codcasterLayer:ShouldBeVisible() and f101_arg0.codcasterLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.gunsmithDebug and f101_arg0.gunsmithDebug:ShouldBeVisible() and f101_arg0.gunsmithDebug:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f0_local0( f101_arg0, f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.SPCruiseMissileLayer and f101_arg0.SPCruiseMissileLayer:ShouldBeVisible() and f101_arg0.SPCruiseMissileLayer:TrapsInput( f101_arg1 ) then
		f101_local0 = true
	elseif f101_arg0.scriptedWidgetLayer and f101_arg0.scriptedWidgetLayer:ShouldBeVisible() and (f101_arg0.scriptedWidgetLayer:TrapsInput( f101_arg1 ) or f101_arg0.scriptedWidgetLayer:GetHandleMouseButton() and IsMouseInputEvent( f101_arg1.name, f101_arg1.qualifier )) then
		f101_local1 = f101_arg0.scriptedWidgetLayer:InputIsPassthrough( f101_arg1 )
	end
	if f101_local0 or f101_local1 then
		table.insert( f101_arg0.inputQueue, f101_arg1 )
		if 4 < #f101_arg0.inputQueue then
			table.remove( f101_arg0.inputQueue, 1 )
		end
	end
	if f101_arg0.devButtonHandlers == nil then
		f101_arg0.devButtonHandlers = {}
	end
	local f101_local2 = f101_arg0.devButtonHandlers[f101_arg1.button]
	if f101_local2 and f101_arg1.down == false then
		f101_local2()
	end
	return f101_local0
end

LUI.UIRoot.AddDevKeybindHandler = function ( f100_arg0, f100_arg1 )
	local f100_local0 = Engine[0xEE6F69FEA944B13]()
	local f100_local1 = f100_local0.flowManager
	if f100_local0.devButtonHandlers == nil then
		f100_local0.devButtonHandlers = {}
	end
	f100_local0.devButtonHandlers[f100_arg0] = f100_arg1
end

LUI.UIRoot.QueueMouseInput = function ( f99_arg0, f99_arg1, f99_arg2, f99_arg3, f99_arg4, f99_arg5, f99_arg6, f99_arg7, f99_arg8, f99_arg9, f99_arg10, f99_arg11 )
	return f0_local0( f99_arg0, {
		name = f99_arg3,
		rootName = f99_arg2,
		controller = f99_arg1,
		button = f99_arg4,
		uiBind = f99_arg11,
		bind = f99_arg5,
		key = f99_arg10,
		down = f99_arg6,
		x = f99_arg7,
		y = f99_arg8,
		resetInputs = f99_arg9
	} )
end

LUI.UIRoot.QueueInput = function ( f98_arg0, f98_arg1, f98_arg2, f98_arg3, f98_arg4, f98_arg5, f98_arg6, f98_arg7, f98_arg8, f98_arg9, f98_arg10, f98_arg11 )
	return f0_local0( f98_arg0, {
		name = "gamepad_button",
		controller = f98_arg1,
		rootName = f98_arg2,
		button = f98_arg4,
		uiBind = f98_arg11,
		bind = f98_arg5,
		key = f98_arg10,
		qualifier = f98_arg6,
		down = f98_arg3,
		x = f98_arg7,
		y = f98_arg8,
		resetInputs = f98_arg9
	} )
end

LUI.UIRoot.AddPreviewDependency = function ( f97_arg0, f97_arg1 )
	if Engine[0x7AE6126734FCDB]() and f97_arg0.previewModuleDeps then
		table.insert( f97_arg0.previewModuleDeps, f97_arg1 )
	end
end

LUI.UIRoot.PreviewWidget = function ( f96_arg0, f96_arg1, f96_arg2, f96_arg3, f96_arg4 )
	if Engine[0x7AE6126734FCDB]() then
		if f96_arg0.previewWidget then
			f96_arg0.previewWidget:closeTree()
			Engine[0x3DACD106DDC0D71]()
			f96_arg0.previewWidet = nil
		end
		if f96_arg0.previewingMenu then
			f96_arg0.flowManager:closeAllMenus()
			Engine[0x3DACD106DDC0D71]()
			f96_arg0.previewingMenu = false
		end
		if f96_arg0.previewModuleDeps then
			for f96_local3, f96_local4 in ipairs( f96_arg0.previewModuleDeps ) do
				package.loaded[f96_local4] = nil
			end
		end
		local f96_local0 = {}
		for f96_local4, f96_local5 in pairs( package.loaded ) do
			f96_local0[f96_local4] = true
		end
		f96_arg0:UpdateGameMode( {
			previousGameMode = CoD.PlayMode.None,
			currentGameMode = MenuBuilder_TEL.GetPreviewPlayMode( f96_arg3 )
		} )
		require( f96_arg2 )
		f96_local2 = MenuBuilder_TEL.GetPreviewOptions( f96_arg3 )
		if f96_arg4 == "menu" then
			f96_local3 = LUI.FlowManager.RequestAddMenu
			f96_local5 = f96_arg3
			local f96_local6 = true
			local f96_local7 = f96_arg1
			local f96_local8 = true
			local f96_local9
			if not f96_local2 then
				f96_local9 = f96_local2
			else
				f96_local9 = nil
			end
			f96_local3( f96_local5, f96_local6, f96_local7, f96_local8, f96_local9, false, true )
			f96_arg0.previewingMenu = true
		elseif f96_arg4 == "widget" then
			f96_local3 = MenuBuilder.BuildRegisteredType
			f96_local5 = f96_arg3
			local f96_local6
			if not f96_local2 then
				f96_local6 = f96_local2
			else
				f96_local6 = {
					controllerIndex = f96_arg1
				}
			end
			f96_arg0.previewWidget = f96_local3( f96_local5, f96_local6 )
			f96_arg0:addElement( f96_arg0.previewWidget )
		elseif f96_arg4 == "hud" then
			
		else
			
		end
		f96_arg0.previewModuleDeps = {}
		for f96_local6, f96_local7 in pairs( package.loaded ) do
			if not f96_local0[f96_local6] then
				table.insert( f96_arg0.previewModuleDeps, f96_local6 )
			end
		end
	end
end

local f0_local3 = {}
local f0_local4 = 0
local f0_local5 = function ( f95_arg0, f95_arg1 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xCC4DD23D9CFFC32 ) and f95_arg1.name ~= "run_frame" then
		local f95_local0 = -1
		local f95_local1 = f95_arg1.name
		if f95_arg1.name == 0xC174C4E72481AF2 then
			f95_local1 = f95_arg1.omnvar
		end
		for f95_local2 = 1, #f0_local0, 1 do
			if f0_local0[f95_local2].eventName == f95_local1 then
				f95_local0 = f95_local2
				break
			end
		end
		if f95_local0 ~= -1 then
			f0_local0[f95_local0].count = f0_local0[f95_local0].count + 1
			f0_local0[f95_local0].added = f0_local0
		elseif #f0_local0 < 50 then
			table.insert( f0_local0, {
				eventName = f95_local1,
				count = 1,
				added = f0_local0
			} )
		end
		for f95_local2 = #f0_local0, 1, -1 do
			if f0_local0[f95_local2].count == 1 and f0_local0[f95_local2].added + 1800 < f0_local0 then
				table.remove( f0_local0, f95_local2 )
			end
		end
	end
end

local f0_local6 = function ( f93_arg0, f93_arg1 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xCC4DD23D9CFFC32 ) then
		table.sort( f0_local0, function ( f94_arg0, f94_arg1 )
			return f94_arg1.count < f94_arg0.count
		end )
		f0_local0 = f0_local0 + 1
		if f0_local0 % 200 == 0 then
			for f93_local3, f93_local4 in ipairs( f0_local0 ) do
				goto basicblock_4:
			end
		end
	end
end

local f0_local7 = function ( f92_arg0, f92_arg1 )
	local f92_local0 = #f92_arg1
	if 8 < f92_local0 and Dvar[0x9E5BE3B4BBA4E0E]( 0xCC4DD23D9CFFC32 ) then
		for f92_local1 = 1, f92_local0, 1 do
			if f92_arg1[f92_local1].name == 0xC174C4E72481AF2 then
				
			end
		end
	end
end

LUI.UIRoot.ProcessQueue = function ( f91_arg0, f91_arg1 )
	local f91_local0 = #f91_arg1
	if CONDITIONS[0x2DA54CF5D6B7F02]() then
		f0_local0( f91_arg0, f91_arg1 )
	end
	local f91_local1 = nil
	for f91_local2 = 1, f91_local0, 1 do
		local f91_local5 = f91_local2
		f91_local1 = f91_arg1[1]
		local f91_local6 = Engine[0xD344B7DE66AFA81]
		local f91_local7 = f91_local1.name
		local f91_local8 = f91_local1.name
		local f91_local9 = 0xC174C4E72481AF2
		f91_local6( f91_local7 .. (REG16 and f91_local1.omnvar or "") )
		table.remove( f91_arg1, 1 )
		LUI.UIRoot._hackyRootEvent = f91_local1
		LUI.UIRoot.ProcessEventNow( f91_arg0, f91_local1 )
		LUI.UIRoot._hackyRootEvent = nil
		if GL_HACK.EnableStagedSocialMenuTabSwapping() and f91_local1.postProcessEvents then
			for f91_local6 = 1, #f91_local1.postProcessEvents, 1 do
				LUI.UIRoot.ProcessEventNow( f91_arg0, f91_local1.postProcessEvents[f91_local6] )
			end
		end
		if CONDITIONS[0x2DA54CF5D6B7F02]() then
			f0_local0( f91_arg0, f91_local1 )
		end
		Engine[0xC99CAB76F12E539]()
	end
	if CONDITIONS[0x2DA54CF5D6B7F02]() then
		f0_local0( f91_arg0, f91_local1 )
	end
end

LUI.UIRoot.ProcessEvents = function ( f90_arg0 )
	Engine[0xD75F5E555D60E1]( "LUI.UIRoot.ProcessEvents" )
	f90_arg0:ProcessQueue( f90_arg0.eventQueue )
	Engine[0x4D47DEF7D5ED4B9]()
end

LUI.UIRoot.ProcessInputs = function ( f89_arg0 )
	Engine[0xD75F5E555D60E1]( "LUI.UIRoot.ProcessInputs" )
	f89_arg0:ProcessQueue( f89_arg0.inputQueue )
	Engine[0x4D47DEF7D5ED4B9]()
end

LUI.UIRoot.ProcessEvent = function ( f88_arg0, f88_arg1 )
	if f88_arg1.immediate == true then
		Engine[0xD75F5E555D60E1]( tostring( f88_arg1.name ) )
		local f88_local0 = LUI.UIRoot.ProcessEventNow( f88_arg0, f88_arg1 )
		Engine[0x4D47DEF7D5ED4B9]()
		return f88_local0
	else
		table.insert( f88_arg0.eventQueue, f88_arg1 )
		return false
	end
end

LUI.UIRoot.ProcessEventNow = function ( f87_arg0, f87_arg1 )
	Engine[0xD75F5E555D60E1]( "LUI.UIRoot.ProcessEventNow for event " .. tostring( f87_arg1.name ) )
	if f87_arg0.debugPrintIgnoreEvents and not f87_arg0.debugPrintIgnoreEvents[f87_arg1.name] and Dvar[0x9E5BE3B4BBA4E0E]( 0x7F57525F50450C ) and f87_arg1.name == "gamepad_button" then
		
	else
		
	end
	if f87_arg0.m_blockButtonInput and (f87_arg1.name == "gamepad_button" or f87_arg1.name == "mouseup") then
		Engine[0x4D47DEF7D5ED4B9]()
		return false
	elseif f87_arg0.m_blockStickInput then
		local f87_local0 = f87_arg1.name == "gamepad_sticks"
		if not f87_local0 then
			if f87_arg1.name ~= "gamepad_button" or f87_arg1.button ~= "up" and f87_arg1.button ~= "down" and f87_arg1.button ~= "left" and f87_arg1.button ~= "right" and f87_arg1.button ~= "rs_up" and f87_arg1.button ~= "rs_down" and f87_arg1.button ~= "rs_left" and f87_arg1.button ~= "rs_right" then
				f87_local0 = false
			else
				f87_local0 = true
			end
		end
		if f87_local0 then
			Engine[0x4D47DEF7D5ED4B9]()
			return false
		end
	end
	if IsMouseEvent( f87_arg1.name, f87_arg1.qualifier ) and f87_arg1.controller == f87_arg0._controllerIndex then
		local f87_local0 = f87_arg0.flowManager:GetTopMostOpenMenuInfo()
		if f87_local0 and f87_local0.isControllerExclusive then
			local f87_local1
			if f87_local0.controller and f87_arg1.controller and f87_local0.controller ~= f87_arg1.controller then
				f87_local1 = false
			else
				f87_local1 = true
			end
			if not f87_local1 then
				Engine[0x4D47DEF7D5ED4B9]()
				return true
			elseif f87_local0._blockMouseInput then
				Engine[0x4D47DEF7D5ED4B9]()
				return true
			end
		end
		f87_arg1.root = f87_arg0
		if IsMouseInputEvent( f87_arg1.name, f87_arg1.qualifier ) then
			LUI.UIRoot.ProcessMouseButtonEvent( f87_arg0, f87_arg1 )
		else
			LUI.UIRoot.ProcessMouseMoveEvent( f87_arg0, f87_arg1 )
		end
		if f87_arg0.cursor then
			f87_arg0.cursor:processEvent( f87_arg1 )
		end
		Engine[0x4D47DEF7D5ED4B9]()
		return true
	elseif IsTouchInputEvent( f87_arg1.name ) or IsTouchGestureEvent( f87_arg1.name ) then
		f87_arg1.root = f87_arg0
		LUI.UIRoot.ProcessTouchEvent( f87_arg0, f87_arg1 )
		Engine[0x4D47DEF7D5ED4B9]()
		return true
	elseif f87_arg1.target and f87_arg1.target ~= f87_arg0 then
		Engine[0x4D47DEF7D5ED4B9]()
		return f87_arg1.target:processEvent( f87_arg1 )
	elseif IsInputEvent( f87_arg1.name ) then
		if not AnyActiveMenusInStack( f87_arg0 ) and f87_arg0.gunsmithDebug then
			f87_arg0.gunsmithDebug:processEvent( f87_arg1 )
		end
		local f87_local0 = false
		local f87_local1 = AnyActiveMenusInStack( f87_arg0 )
		local f87_local2 = Engine[0xCA085C21FCBD7CA]()
		if f87_arg0.toastManager and f87_arg0.toastManager:processEvent( f87_arg1 ) then
			f87_local0 = true
		elseif f87_arg0.mouseCursorContextualMenuLayer and f87_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f87_arg0.mouseCursorContextualMenuLayer:processEvent( f87_arg1 ) then
			f87_local0 = true
		elseif AnyActiveMenusInStack( f87_arg0 ) or f0_local0( f87_arg0, f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.flowManager:processEvent( f87_arg1 )
			end
		elseif f87_arg0.scoreboardLayer and (not (f87_local2 or not f87_arg0.scoreboardLayer:TrapsInput( f87_arg1 )) or f87_local2 and LUI.ScoreboardLayer.IsShowingScoreboard( f87_arg0.scoreboardLayer )) then
			if not f87_local0 then
				f87_local0 = f87_arg0.scoreboardLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.tacOpsLayer and f87_arg0.tacOpsLayer:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.tacOpsLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.scoreboardLayer and not f87_local2 and f87_arg0.scoreboardLayer:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.scoreboardLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.scoreboardLayer and f87_local2 and LUI.ScoreboardLayer.IsShowingScoreboard( f87_arg0.scoreboardLayer ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.scoreboardLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.reportPlayerLayer and f87_arg0.reportPlayerLayer:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.reportPlayerLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.HUDInputLayer and f87_arg0.HUDInputLayer:TrapsInput( f87_arg1, true ) then
			f87_local0 = true
		elseif Dvar[0x9E5BE3B4BBA4E0E]( 0xA816390B12854DB ) and HUDEDITOR and HUDEDITOR.CapturesInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.HUDEditorLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.binkSkipPromptLayer and f87_arg0.binkSkipPromptLayer:ShouldBeVisible() then
			if not f87_local0 then
				f87_local0 = f87_arg0.binkSkipPromptLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.Snakecam and f87_arg0.Snakecam:ShouldBeVisible() then
			if not f87_local0 then
				f87_local0 = f87_arg0.Snakecam:processEvent( f87_arg1 )
			end
		elseif f87_arg0.loadingScreenManager and f87_arg0.loadingScreenManager:ShouldBeVisible() then
			if not f87_local0 then
				f87_local0 = f87_arg0.loadingScreenManager:processEvent( f87_arg1 )
			end
		elseif f87_arg0.codcasterLayer and f87_arg0.codcasterLayer:ShouldBeVisible() and f87_arg0.codcasterLayer:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.codcasterLayer:processEvent( f87_arg1 )
			end
			f87_local1 = true
		elseif f87_arg0.textChat and f87_arg0.textChat:ShouldBeVisible() and f87_arg0.textChat:processEvent( f87_arg1 ) then
			f87_local0 = true
			f87_local1 = true
		elseif f87_arg0.squadEliminatedLayer and f87_arg0.squadEliminatedLayer:ShouldBeVisible() and f87_arg0.squadEliminatedLayer:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.squadEliminatedLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.postGameManager and f87_arg0.postGameManager:ShouldBeVisible() and f87_arg0.postGameManager:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.postGameManager:processEvent( f87_arg1 )
			end
		elseif f87_arg0.dpadPopupLayer and LUI.DpadPopupLayer.IsShowingDpadPopup( f87_arg0.dpadPopupLayer ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.dpadPopupLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.UIButtonCombinationLayer and f87_arg0.UIButtonCombinationLayer:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.UIButtonCombinationLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.birdsEyeLayer and LUI.BirdsEyeLayer.IsShowingBirdsEye( f87_arg0.birdsEyeLayer ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.birdsEyeLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.timedUseMeterLayer and LUI.TimedUseMeterLayer.IsShowingTimedUseMeter( f87_arg0.timedUseMeterLayer ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.timedUseMeterLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.inventoryLayer and f87_arg0.inventoryLayer:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.inventoryLayer:processEvent( f87_arg1 )
			end
			f87_local1 = true
		elseif f87_arg0.immovableNotesLayer and f87_arg0.immovableNotesLayer:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.immovableNotesLayer:processEvent( f87_arg1 )
			end
			f87_local1 = true
		elseif f87_arg0.tacOpsLayer and f87_arg0.tacOpsLayer:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.tacOpsLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.telemetryLayer and f87_arg0.telemetryLayer:ShouldBeVisible() and f87_arg0.telemetryLayer:TrapsInput() then
			if not f87_local0 then
				f87_local0 = f87_arg0.telemetryLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.achievementsManager and f87_arg0.achievementsManager:ShouldBeVisible() and f87_arg0.achievementsManager:TrapsInput() then
			if not f87_local0 then
				f87_local0 = f87_arg0.achievementsManager:processEvent( f87_arg1 )
			end
		elseif f87_arg0.SafeLayer and f87_arg0.SafeLayer:ShouldBeVisible() and f87_arg0.SafeLayer:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.SafeLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.ZM_SafeLayer and f87_arg0.ZM_SafeLayer:ShouldBeVisible() and f87_arg0.ZM_SafeLayer:TrapsInput( f87_arg1 ) then
			if not f87_local0 then
				f87_local0 = f87_arg0.ZM_SafeLayer:processEvent( f87_arg1 )
			end
		elseif f87_arg0.SPCruiseMissileLayer and f87_arg0.SPCruiseMissileLayer:ShouldBeVisible() and f87_arg0.SPCruiseMissileLayer:TrapsInput( f87_arg1 ) and not f87_local0 then
			f87_local0 = f87_arg0.SPCruiseMissileLayer:processEvent( f87_arg1 )
		end
		if not f87_local1 then
			if f87_arg0.requisitionsLayer and f87_arg0.requisitionsLayer:ShouldBeVisible() and f87_arg0.requisitionsLayer:TrapsInput( f87_arg1 ) then
				if not f87_local0 then
					f87_local0 = f87_arg0.requisitionsLayer:processEvent( f87_arg1 )
				end
			elseif f87_arg0.radialMenuLayer and f87_arg0.radialMenuLayer:ShouldBeVisible() and f87_arg0.radialMenuLayer:TrapsInput( f87_arg1 ) then
				if not f87_local0 then
					f87_local0 = f87_arg0.radialMenuLayer:processEvent( f87_arg1 )
				end
			elseif f87_arg0.SPCraftingRadialMenuLayer and f87_arg0.SPCraftingRadialMenuLayer:ShouldBeVisible() and not f87_local0 then
				f87_local0 = f87_arg0.SPCraftingRadialMenuLayer:processEvent( f87_arg1 )
			end
		end
		if not f87_local0 and not f87_local1 and f87_arg0.scriptedWidgetLayer and f87_arg0.scriptedWidgetLayer:ShouldBeVisible() and not f87_local0 then
			f87_local0 = f87_arg0.scriptedWidgetLayer:processEvent( f87_arg1 )
		end
		Engine[0x4D47DEF7D5ED4B9]()
		return f87_local0
	end
	f87_arg0:UpdateInputConnected( f87_arg1 )
	local f87_local0 = LUI.UIElement.processEvent( f87_arg0, f87_arg1 )
	Engine[0x4D47DEF7D5ED4B9]()
	return f87_local0
end

local f0_local8 = function ( f85_arg0, f85_arg1, f85_arg2, f85_arg3, f85_arg4, f85_arg5 )
	local f85_local0 = nil
	local f85_local1 = function ( f86_arg0 )
		local f86_local0 = false
		if f85_arg0 and f85_arg0 and f86_arg0 then
			
		else
			
		end
		return false
	end
	
	return f85_local1( f85_arg1 )
end

LUI.UIRoot.ComputeCurrentFocus = function ( f84_arg0, f84_arg1, f84_arg2, f84_arg3, f84_arg4, f84_arg5 )
	local f84_local0 = {}
	f0_local0( f84_arg0, f84_arg1, f84_local0, f84_arg2, f84_arg3, f84_arg5 )
	if f84_arg4 then
		for f84_local1 = #f84_local0, 1, -1 do
			if not f84_local0[f84_local1]:isDescendentOf( f84_arg4 ) then
				table.remove( f84_local0, f84_local1 )
			end
		end
	end
	return f84_local0
end

LUI.UIRoot.ComputeCurrentFocusFromEvent = function ( f83_arg0, f83_arg1 )
	local f83_local0 = f83_arg1.rootName
	local f83_local1 = Engine[0xEE6F69FEA944B13]()
	if not f83_local0 then
		f83_local0 = f83_local1.name
	end
	return LUI.UIRoot.ComputeCurrentFocus( f83_local0, f83_arg0, f83_arg1.x, f83_arg1.y, f83_local1.lockedFocusToChildrenOf, IsMouseEvent( f83_arg1.name, f83_arg1.qualifier ) )
end

LUI.UIRoot.PropagateFocusToStack = function ( f82_arg0 )
	for f82_local4, f82_local5 in ipairs( f82_arg0.focusStack ) do
		if f82_local5:AcceptsFocusType( FocusType.MouseOver ) and not f82_local5:isInFocus() then
			f82_local5:processEvent( {
				name = "gain_focus",
				focusType = FocusType.MouseOver,
				controller = f82_arg0.controller
			} )
			local f82_local3 = f82_local5:getParent()
			if f82_local3:isIDNamed() then
				f82_local3.shouldSaveState = not f82_local3.neverSaveState
			end
		end
		if f82_local5.m_mouseOver == nil then
			f82_local5.m_mouseOver = true
			if f82_local5.m_eventHandlers.mouseenter ~= nil then
				f82_local5.m_eventHandlers:mouseenter( {
					name = "mouseenter",
					controller = f82_arg0.controller,
					root = f82_arg0.root,
					x = f82_arg0.x,
					y = f82_arg0.y
				} )
			end
		end
	end
end

local f0_local9 = function ( f81_arg0, f81_arg1, f81_arg2 )
	local f81_local0 = false
	if not f81_arg0._currentFocus or f81_arg0._currentFocus.element ~= f81_arg2.element then
		f81_local0 = true
	end
	f81_arg0._currentCursorStack = f81_arg1
	f81_arg0._currentFocus = f81_arg2
	if f81_local0 then
		AUTOMATEDTEST[0xC96594224B808DC]( Enum[0xAF11B35A073E184][0xD9B9046C1850A19], {
			root = f81_arg0
		} )
	end
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain( f81_arg0 )
		for f81_local4, f81_local5 in ipairs( f81_arg1 ) do
			LUI.FocusDebug.BeginFocusChainItem( f81_local5, {}, true, f81_local5.handleMouseButton, f81_local5._blockMouseMove )
		end
		LUI.FocusDebug.EndFocusChain( f81_arg0 )
	end
end

LUI.UIRoot.ClearCursorStack = function ( f80_arg0 )
	for f80_local3, f80_local4 in ipairs( f80_arg0._currentCursorStack ) do
		if not f80_local4.__gccollected and f80_local4:isInFocus() then
			f80_local4:processEventNoDispatch( {
				name = "lose_focus"
			} )
		end
	end
	f80_arg0.lockedMouseFocusStack = false
	if f80_arg0.cursor and f80_arg0.cursor._controllerIndex then
		LUI.UIMouseCursor.UpdateMouseCursor( nil, f80_arg0.cursor._controllerIndex )
	end
	f80_arg0._currentFocus = Table.CreateWeakValueTable()
	f80_arg0._currentCursorStack = Table.CreateWeakValueTable()
end

LUI.UIRoot.UpdateCursorStack = function ( f79_arg0, f79_arg1, f79_arg2, f79_arg3 )
	for f79_local3, f79_local4 in ipairs( f79_arg0._currentCursorStack ) do
		if (#f79_arg1 < f79_local3 or f79_local4 ~= f79_arg1[f79_local3]) and not f79_local4.__gccollected then
			f79_local4:processEventNoDispatch( {
				name = "mouseleave",
				controller = f79_arg3.controller,
				x = f79_arg3.x,
				y = f79_arg3.y
			} )
			if f79_local4:isInFocus() then
				f79_local4:processEventNoDispatch( {
					name = "lose_focus",
					focusType = FocusType.MouseOver
				} )
			end
		end
	end
	for f79_local3, f79_local4 in ipairs( f79_arg1 ) do
		if (#f79_arg0._currentCursorStack < f79_local3 or f79_local4 ~= f79_arg0._currentCursorStack[f79_local3]) and not f79_local4.__gccollected then
			f79_local4:processEventNoDispatch( {
				name = "mouseenter"
			} )
			local f79_local5 = f79_local4._focusable
			if f79_local5 then
				f79_local5 = f79_local4:AcceptsFocusType( FocusType.MouseOver )
			end
			if f79_local5 then
				f79_local4:processEventNoDispatch( {
					name = "gain_focus",
					focusType = FocusType.MouseOver
				} )
			end
		end
	end
	f0_local0( f79_arg0, f79_arg1, f79_arg2 )
end

LUI.UIRoot.MouseDragStack = function ( f78_arg0, f78_arg1, f78_arg2 )
	if f78_arg0._currentCursorStack then
		for f78_local0 = #f78_arg0._currentCursorStack, 1, -1 do
			local f78_local3 = f78_arg0._currentCursorStack[f78_local0]
			if f78_local3 and f78_local3.handleMouseButton and not f78_local3.__gccollected then
				local f78_local4
				if f78_arg2 then
					f78_local4 = "mousedrag"
				else
					f78_local4 = "rightMouseDrag"
				end
				if f78_local3:processEventNoDispatch( {
					name = f78_local4,
					root = f78_arg0,
					x = f78_arg1.x,
					y = f78_arg1.y
				} ) then
					break
				end
			end
		end
	end
end

LUI.UIRoot.SetFocus = function ( f77_arg0, f77_arg1 )
	if f77_arg0._currentFocus.element ~= f77_arg1.focus.element then
		f77_arg0:ClearCursorStack()
		f0_local0( f77_arg0, f77_arg1.stack, f77_arg1.focus )
	end
	return true
end

LUI.UIRoot.GetActiveLayer = function ( f76_arg0 )
	local f76_local0 = nil
	if f76_arg0.scoreboardLayer and f76_arg0.scoreboardLayer:ShouldBeVisible() and f76_arg0.scoreboardLayer:IsShowingScoreboard() then
		f76_local0 = f76_arg0.scoreboardLayer
	elseif f76_arg0.inventoryLayer and f76_arg0.inventoryLayer:ShouldBeVisible() and f76_arg0.inventoryLayer:IsShowingInventory() then
		f76_local0 = f76_arg0.inventoryLayer
	elseif f76_arg0.immovableNotesLayer and f76_arg0.immovableNotesLayer:ShouldBeVisible() and f76_arg0.immovableNotesLayer:IsShowingNote() then
		f76_local0 = f76_arg0.immovableNotesLayer
	elseif f76_arg0.UIButtonCombinationLayer and f76_arg0.UIButtonCombinationLayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.UIButtonCombinationLayer
	elseif f76_arg0.PrototypeLayer and f76_arg0.PrototypeLayer.IsExpanded then
		f76_local0 = f76_arg0.PrototypeLayer
	elseif f76_arg0.requisitionsLayer and f76_arg0.requisitionsLayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.requisitionsLayer
	elseif f76_arg0.radialMenuLayer and f76_arg0.radialMenuLayer:ShouldBeVisible() and f76_arg0.radialMenuLayer:GetActiveRadialWidgetInLayer() ~= nil then
		f76_local0 = f76_arg0.radialMenuLayer
	elseif f76_arg0.SPCraftingRadialMenuLayer and f76_arg0.SPCraftingRadialMenuLayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.SPCraftingRadialMenuLayer
	elseif f76_arg0.loadingScreenManager and f76_arg0.loadingScreenManager:ShouldBeVisible() then
		f76_local0 = f76_arg0.loadingScreenManager
	elseif f76_arg0.codcasterLayer and f76_arg0.codcasterLayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.codcasterLayer
	elseif f76_arg0.squadEliminatedLayer and f76_arg0.squadEliminatedLayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.squadEliminatedLayer
	elseif f76_arg0.postGameManager and f76_arg0.postGameManager:ShouldBeVisible() then
		f76_local0 = f76_arg0.postGameManager
	elseif f76_arg0.SafeLayer and f76_arg0.SafeLayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.SafeLayer
	elseif f76_arg0.ZM_SafeLayer and f76_arg0.ZM_SafeLayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.ZM_SafeLayer
	elseif f76_arg0.tacOpsLayer and f76_arg0.tacOpsLayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.tacOpsLayer
	elseif f76_arg0.textChat and f76_arg0.textChat:ShouldBeVisible() then
		f76_local0 = f76_arg0.textChat
	elseif f76_arg0.binkSkipPromptLayer and f76_arg0.binkSkipPromptLayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.binkSkipPromptLayer
	elseif f76_arg0.MobileFTUELayer and f76_arg0.MobileFTUELayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.FTULayer
	elseif f76_arg0.MobileWaitTimeLayer and f76_arg0.MobileWaitTimeLayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.MobileWaitTimeLayer
	elseif f76_arg0.SPCruiseMissileLayer and f76_arg0.SPCruiseMissileLayer:ShouldBeVisible() then
		f76_local0 = f76_arg0.SPCruiseMissileLayer
	elseif Dvar[0x9E5BE3B4BBA4E0E]( 0xA816390B12854DB ) and HUDEDITOR and HUDEDITOR.CaptureInput then
		f76_local0 = f76_arg0.HUDEditorLayer
	elseif f76_arg0.scriptedWidgetLayer and f76_arg0.scriptedWidgetLayer:ShouldBeVisible() and f76_arg0.scriptedWidgetLayer:HasInputTraps() then
		f76_local0 = f76_arg0.scriptedWidgetLayer
	end
	return f76_local0
end

LUI.UIRoot.ProcessMouseMoveEvent = function ( f75_arg0, f75_arg1 )
	local f75_local0 = {}
	if f75_arg0.mouseCursorContextualMenuLayer and f75_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f75_arg0.mouseCursorContextualMenuLayer:IsOpened() then
		table.insert( f75_local0, f75_arg0.mouseCursorContextualMenuLayer )
	else
		if Engine[0x2DA54CF5D6B7F02]() and f75_arg0.prototypeLayer then
			table.insert( f75_local0, f75_arg0.prototypeLayer )
		end
		if f75_arg0.toastManager then
			table.insert( f75_local0, f75_arg0.toastManager )
		end
		if f75_arg0.textChat and f75_arg0.textChat.chat and TEXTCHAT.IsCurrentStateOpened( f75_arg0.textChat.chat ) and f75_arg0.textChat:ShouldBeVisible() then
			table.insert( f75_local0, f75_arg0.textChat )
		end
		if AnyActiveMenusInStack( f75_arg0 ) then
			local f75_local1 = table.insert
			local f75_local2 = f75_local0
			local f75_local3 = f75_arg0.flowManager:GetTopMostOpenMenuInfo()
			f75_local1( f75_local2, f75_local3.menu )
		end
		if HUD_INPUT and 0 < HUD_INPUT[0xF79328A2971723B] then
			table.insert( f75_local0, f75_arg0.HUDInputLayer )
		end
		local f75_local1 = LUI.UIRoot.GetActiveLayer( f75_arg0 )
		if f75_local1 and f75_local1 == f75_arg0.scriptedWidgetLayer and not f75_local1.handleMouseMove and f75_local1.ScriptedWidgetUnderHudContainer then
			f75_local1 = f75_local1.ScriptedWidgetUnderHudContainer
		end
		if f75_local1 and f75_local1.handleMouseMove then
			table.insert( f75_local0, f75_local1 )
		end
	end
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x2E09DBEF25C533D ) then
		if not f75_arg0.lockedMouseFocusStack then
			local f75_local1 = Table.CreateWeakValueTable()
			local f75_local4 = Table.CreateWeakValueTable()
			for f75_local6, f75_local7 in ipairs( f75_local0 ) do
				if f75_local7._isMenu then
					f75_local7:CursorMoved( f75_arg1.x, f75_arg1.y, f75_local1, f75_local4 )
					if 1 <= #f75_local4 then
						break
					end
				end
			end
			LUI.UIMouseCursor.UpdateMouseCursor( f75_local1.element, f75_arg1.controller )
			f75_arg0:UpdateCursorStack( f75_local4, f75_local1, f75_arg1 )
		else
			local f75_local1 = f75_arg0._currentFocus.element
			if f75_local1 and not f75_local1.__gccollected then
				local f75_local4 = f75_local1.m_leftMouseDown
				if f75_local4 or f75_local1.m_rightMouseDown then
					f75_arg0:MouseDragStack( f75_arg1, f75_local4 )
				end
			end
		end
	else
		local f75_local1 = 0
		if not f75_arg0.lastX then
			f75_arg0.lastX = 0
			f75_arg0.lastY = 0
		end
		local f75_local4 = f75_arg0.lastX
		local f75_local2 = f75_arg0.lastY
		local f75_local3 = f75_arg1.x
		local f75_local5 = f75_arg1.y
		if not f75_local3 or not f75_local5 then
			return 
		end
		local f75_local8 = math.abs( f75_local3 - f75_local4 ) + math.abs( f75_local5 - f75_local2 )
		if Dvar[0x9E5BE3B4BBA4E0E]( 0xC46450939E2438F ) then
			if not f75_arg0._lastMouseMoveTime then
				f75_arg0._lastMouseMoveTime = 0
			end
			if not f75_arg0._stackTimers then
				f75_arg0._stackTimers = {}
			end
			local f75_local9 = Engine[0x6991337AE950F99]()
			f75_local1 = f75_local9 - f75_arg0._lastMouseMoveTime
			f75_arg0._lastMouseMoveTime = f75_local9
		end
		f75_arg0.lastX = f75_arg1.x
		f75_arg0.lastY = f75_arg1.y
		if not f75_arg0.lockedMouseFocusStack then
			f75_arg0.mouseFocusStack = setmetatable( {}, {
				__mode = "v"
			} )
			for f75_local12, f75_local13 in ipairs( f75_local0 ) do
				f75_arg0.mouseFocusStack = setmetatable( LUI.UIRoot.ComputeCurrentFocusFromEvent( f75_local13, f75_arg1 ), {
					__mode = "v"
				} )
				if 0 < #f75_arg0.mouseFocusStack then
					break
				end
			end
			if Dvar[0x9E5BE3B4BBA4E0E]( 0xC46450939E2438F ) then
				f75_local9 = {}
				f75_arg0._hasStackTimers = false
				f75_local10 = Dvar[0x22EAAB59AA27E9B]( 0xD597A5C7C748F30 )
				if not f75_local10 then
					f75_local10 = 10
				end
				if f75_local10 < f75_local8 and 0 < #f75_arg0.mouseFocusStack and f75_arg0.mouseFocusStack[1]:GetUseDelayedFocus() then
					f75_arg1.focusStack = {}
					f75_local12 = false
					f75_local13 = Dvar[0x22EAAB59AA27E9B]( 0x85F8EE8D7D04310 )
					if not f75_local13 then
						f75_local13 = 500
					end
					f75_arg0._hasStackTimers = true
					for f75_local17, f75_local18 in pairs( f75_arg0.mouseFocusStack ) do
						if f75_local18:isInFocus() then
							table.insert( f75_arg1.focusStack, f75_local18 )
						end
						if f75_arg0._stackTimers[f75_local18] then
							f75_local9[f75_local18] = f75_arg0._stackTimers[f75_local18] + f75_local1
							if f75_local13 < f75_local9[f75_local18] then
								table.insert( f75_arg1.focusStack, f75_local18 )
							end
						end
						f75_local9[f75_local18] = f75_local1
					end
				else
					f75_arg1.focusStack = f75_arg0.mouseFocusStack
				end
				f75_arg0._stackTimers = f75_local9
			end
			f75_arg1.focusStack = f75_arg0.mouseFocusStack
		else
			local f75_local9 = {}
			for f75_local13, f75_local14 in ipairs( f75_local0 ) do
				f75_local9 = LUI.UIRoot.ComputeCurrentFocusFromEvent( f75_local14, f75_arg1 )
				if 0 < #f75_local9 then
					break
				end
			end
			f75_arg1.focusStack = {}
			for f75_local13, f75_local14 in ipairs( f75_local9 ) do
				for f75_local18, f75_local19 in ipairs( f75_arg0.mouseFocusStack ) do
					if f75_local14 == f75_local19 then
						table.insert( f75_arg1.focusStack, f75_local14 )
					end
				end
			end
		end
		if LUI.FocusDebug ~= nil then
			LUI.FocusDebug.StartFocusChain( f75_arg0 )
		end
		for f75_local12, f75_local13 in ipairs( f75_local0 ) do
			if LUI.FocusDebug ~= nil then
				LUI.FocusDebug.BeginFocusChainLayer( f75_local13 )
			end
			f75_local13:processEventNoDispatch( f75_arg1 )
			if LUI.FocusDebug ~= nil then
				LUI.FocusDebug.EndFocusChainItem()
			end
		end
		if LUI.FocusDebug ~= nil then
			LUI.FocusDebug.EndFocusChain( f75_arg0 )
		end
		LUI.UIMouseCursor.UpdateMouseCursor( f75_arg1.focusStack[#f75_arg1.focusStack], f75_arg1.controller )
		LUI.UIRoot.PropagateFocusToStack( f75_arg1 )
	end
	return true
end

LUI.UIRoot.CreateAndSubscribeToMouseModel = function ( f73_arg0, f73_arg1 )
	local f73_local0 = DataModel[0x4DF5CFBC1771947]( f73_arg1 )
	local f73_local1 = f73_local0[0x74E5FEADEA773FD]( f73_local0, 0x927453FBE6252EF )
	f73_arg0.mouseNotify = f73_local1[0x74E5FEADEA773FD]( f73_local1, 0x8C0303DBBBA6C3C )
	f73_arg0.mouseX = f73_local1[0x74E5FEADEA773FD]( f73_local1, 0xF63F54C86021707 )
	f73_arg0.mouseY = f73_local1[0x74E5FEADEA773FD]( f73_local1, 0xF63F44C86021554 )
	f73_arg0:SubscribeToModel( f73_arg0.mouseNotify, function ( f74_arg0, f74_arg1 )
		LUI.UIRoot.ProcessEventNow( f74_arg1, {
			name = "mousemove",
			root = f74_arg1,
			rootName = f74_arg1.name,
			x = f74_arg1.mouseX[0x4E26318FAAA79F7]( f74_arg1.mouseX ),
			y = f74_arg1.mouseY[0x4E26318FAAA79F7]( f74_arg1.mouseY ),
			controller = f73_arg0
		} )
	end, true )
end

LUI.UIRoot.GetMouseModels = function ()
	local f72_local0 = Engine[0xEE6F69FEA944B13]()
	if not f72_local0 then
		return 
	else
		return f72_local0.mouseNotify, f72_local0.mouseX, f72_local0.mouseY
	end
end

local f0_local10 = function ( f71_arg0, f71_arg1, f71_arg2 )
	if f71_arg0.touchVirtualGamepadLayer then
		local f71_local0 = f71_arg0.touchVirtualGamepadLayer.virtualGamepad
		if f71_local0 and f71_arg2 ~= f71_local0 and f71_arg2:isDescendentOf( f71_local0 ) and f71_local0:ShouldProcessTouchEventFromChild( f71_arg2, f71_arg1 ) then
			return f71_local0:ProcessTouchEvent( f71_arg1 )
		end
	end
end

local f0_local11 = function ( f70_arg0, f70_arg1 )
	local f70_local0 = f70_arg0.focusStackHistory
	if f70_local0.first <= f70_local0.last and f70_local0[f70_local0.last].stack == f70_arg1 then
		return false
	elseif f70_local0.last - f70_local0.first + 1 == f70_local0.maxLen then
		f70_local0:Pop()
	end
	f70_local0:Push( {
		stack = f70_arg1,
		time = Engine[0x6991337AE950F99]()
	} )
	return true
end

local f0_local12 = function ( f69_arg0 )
	local f69_local0 = f69_arg0.focusStackHistory
	local f69_local1 = "|"
	if f69_local0.last - f69_local0.first <= -1 then
		return f69_local1
	end
	for f69_local2 = f69_local0.last, f69_local0.first, -1 do
		f69_local1 = f69_local1 .. f69_local0[f69_local2].stack
	end
	return f69_local1
end

local f0_local13 = function ( f68_arg0 )
	local f68_local0 = f68_arg0.focusStackHistory
	local f68_local1 = "|"
	if f68_local0.last - f68_local0.first <= -1 then
		return f68_local1
	end
	for f68_local2 = f68_local0.last, f68_local0.first, -1 do
		f68_local1 = f68_local1 .. f68_local0[f68_local2].time .. "|"
	end
	return f68_local1
end

local f0_local14 = function ( f67_arg0, f67_arg1, f67_arg2 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x2E09DBEF25C533D ) then
		for f67_local0 = #f67_arg2, 1, -1 do
			local f67_local3 = f67_arg2[f67_local0]
			if f67_local3 and f67_local3.handleMouseButton and not f67_local3.__gccollected then
				f67_arg1.inside = f67_local3:IsPositionInside( f67_arg1.x, f67_arg1.y )
				if f67_arg1.x and f67_arg1.y and f67_arg0 then
					f67_arg1.unitsX, f67_arg1.unitsY = f67_arg0:PixelsToUnits( f67_arg1.x, f67_arg1.y )
					f67_arg1.root = f67_arg0
				end
				if f67_local3:processEventNoDispatch( f67_arg1 ) then
					
				end
			end
		end
	else
		local f67_local0 = f67_arg1.dispatchChildren
		f67_arg1.dispatchChildren = false
		if f0_local0( f67_arg0, strStack ) then
			local f67_local1 = f0_local0( f67_arg0 )
			local f67_local2 = f0_local0( f67_arg0 )
			Engine[0x303F227D078550A]( f67_local1 )
			Engine[0x6B11DFD782A9EED]( f67_local2 )
		end
		local f67_local1 = {}
		local f67_local2 = f67_arg2[#f67_arg2]
		if f67_local2 and f67_local2 ~= f67_arg0 then
			
		else
			
		end
		local f67_local4 = IsMouseEvent( f67_arg1.name, f67_arg1.qualifier )
		local f67_local3 = f67_arg1.rootName
		if not f67_local3 then
			local f67_local5 = Engine[0xEE6F69FEA944B13]()
			f67_local3 = f67_local5.name
		end
		for f67_local5 = #f67_arg2, 1, -1 do
			if not (not f67_local4 or not f67_arg2[f67_local5].handleMouseButton) or not f67_local4 then
				local f67_local8 = f67_arg1.x
				local f67_local9 = f67_arg1.y
				f67_arg1.mouseX = f67_local8
				f67_arg1.mouseY = f67_local9
				f67_arg1.inside = f67_arg2[f67_local5]:IsPositionInside( f67_local8, f67_local9 )
				if f67_local8 and f67_local9 then
					local f67_local10 = LUI.UIRoot.GetRootFromName( f67_local3 )
					if f67_local10 then
						f67_arg1.unitsX, f67_arg1.unitsY = f67_local10:PixelsToUnits( f67_local8, f67_local9 )
						f67_arg1.root = f67_local10
					end
				end
				if f67_local4 then
					if f67_arg2[f67_local5]:processEventNoDispatch( f67_arg1 ) then
						break
					end
				end
				local f67_local10 = nil
				if f67_arg2[f67_local5].handleTouchInput then
				
				else
					local f67_local11 = f0_local0( f67_arg0, f67_arg1, f67_arg2[f67_local5] )
					f67_arg1.alreadyHandled = f67_arg1.alreadyHandled or f67_local11
					if not f67_local10 then
						if f67_local11 then
							break
						end
					end
				end
				f67_local10 = f67_arg2[f67_local5]:ProcessTouchEvent( f67_arg1 )
				f67_arg1.alreadyHandled = f67_arg1.alreadyHandled or f67_local10
			end
		end
		f67_arg1.dispatchChildren = f67_local0
	end
end

LUI.UIRoot.ProcessMouseButtonEvent = function ( f66_arg0, f66_arg1 )
	local f66_local0 = LUI.UIRoot.GetActiveLayer( f66_arg0 )
	if f66_local0 and f66_local0 == f66_arg0.scriptedWidgetLayer and not f66_local0.handleMouseButton and f66_local0.ScriptedWidgetUnderHudContainer then
		f66_local0 = f66_local0.ScriptedWidgetUnderHudContainer
	end
	local f66_local1 = nil
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x2E09DBEF25C533D ) then
		f66_local1 = LUI.ShallowCopy( f66_arg0._currentCursorStack )
		if f66_local0 and not f66_local0.handleMouseMove and f66_local0.handleMouseButton then
			table.insert( f66_local1, 1, f66_local0 )
		end
	else
		f66_local1 = LUI.ShallowCopy( f66_arg0.mouseFocusStack )
		if f66_local0 and not f66_local0.handleMouseMove and f66_local0.handleMouseButton then
			table.insert( f66_local1, f66_local0 )
		end
	end
	local f66_local2 = false
	local f66_local3 = false
	if 0 < #f66_local1 and f66_arg1.name == "mousedown" then
		f66_arg0.lockedMouseFocusStack = true
		f66_local2 = true
	elseif f66_arg1.name == "mouseup" then
		if f66_arg0.lockedMouseFocusStack then
			f66_arg0.lockedMouseFocusStack = false
			f66_local2 = true
			f66_local3 = true
		elseif #f66_arg0.mouseFocusStack == 0 then
			Engine[0xA1DAA3E8650282A]( f66_arg1.controller )
		end
	elseif f66_arg1.name == "gamepad_button" and f66_arg1.qualifier == "mousewheel" then
		f66_local2 = true
	end
	if f66_arg0.mouseCursorContextualMenuLayer and f66_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f66_arg0.mouseCursorContextualMenuLayer:processEvent( f66_arg1 ) then
		f66_local2 = false
	elseif f66_arg0.scriptedWidgetLayer and f66_arg0.scriptedWidgetLayer:ShouldBeVisible() and f66_arg0.scriptedWidgetLayer:processEvent( f66_arg1 ) then
		f66_local2 = false
	end
	if f66_arg1.name == "mouseup" and f66_arg0.textChat and f66_arg0.textChat:ShouldBeVisible() and not LUI.UIElement.isDescendentOf( f66_local1[#f66_local1], f66_arg0.textChat ) then
		f66_arg0.textChat:processEvent( {
			name = "minimize_chat"
		} )
	end
	if f66_local2 then
		f0_local0( f66_arg0, f66_arg1, f66_local1 )
	end
	if f66_local3 then
		Engine[0xA1DAA3E8650282A]( f66_arg1.controller )
	end
	return true
end

local f0_local15 = function ( f65_arg0, f65_arg1 )
	if not f65_arg0.touchFocusElements[f65_arg1] or not next( f65_arg0.touchFocusElements, next( f65_arg0.touchFocusElements ) ) or not AnyActiveMenusInStack( f65_arg0 ) then
		return 
	end
	local f65_local0 = false
	for f65_local4, f65_local5 in ipairs( f65_arg0.touchFocusElements[f65_arg1] ) do
		if f65_local5:IsTouchMultiFingerEnabled() then
			f65_local0 = true
			break
		end
	end
	if not f65_local0 then
		f65_arg0.touchFocusElements[f65_arg1] = nil
		return true
	end
end

local f0_local16 = function ( f64_arg0, f64_arg1, f64_arg2 )
	local f64_local0 = nil
	for f64_local4, f64_local5 in ipairs( f64_arg2 ) do
		f64_local0 = LUI.UIRoot.ComputeCurrentFocusFromEvent( f64_local5, f64_arg1 )
		if f64_local0 and 0 < #f64_local0 then
			break
		end
	end
	return f64_local0
end

local f0_local17 = function ( f63_arg0, f63_arg1 )
	if not f63_arg0 or not f63_arg1 then
		return false
	elseif #f63_arg0 ~= #f63_arg1 then
		return false
	end
	for f63_local3, f63_local4 in ipairs( f63_arg0 ) do
		if f63_local4.id ~= f63_arg1[f63_local3].id then
			return false
		end
	end
	return true
end

LUI.UIRoot.SubscribeToAllTouchEvents = function ( f61_arg0, f61_arg1, f61_arg2 )
	if f61_arg0._allTouchEvents == nil then
		f61_arg0._allTouchEvents = {}
	end
	f61_arg0._allTouchEvents[f61_arg1] = f61_arg2
	f61_arg1:addEventHandler( "on_close", function ()
		f61_arg0._allTouchEvents[f61_arg0] = nil
	end )
end

LUI.UIRoot.ProcessTouchEvent = function ( f60_arg0, f60_arg1 )
	local f60_local0 = {}
	if f60_arg0.toastManager then
		table.insert( f60_local0, f60_arg0.toastManager )
	end
	if f60_arg0.MobileWaitTimeLayer and f60_arg0.MobileWaitTimeLayer:ShouldBeVisible() then
		table.insert( f60_local0, f60_arg0.MobileWaitTimeLayer )
	end
	if CONDITIONS.IsMobileOrMobileSim() and f60_arg0.mouseCursorTooltipLayer then
		table.insert( f60_local0, f60_arg0.mouseCursorTooltipLayer )
	end
	if f60_arg0.MobileFTUELayer and f60_arg0.MobileFTUELayer:ShouldBeVisible() then
		table.insert( f60_local0, f60_arg0.MobileFTUELayer )
	end
	if f60_arg0.mobilePurchaseCelebrationLayer and f60_arg0.mobilePurchaseCelebrationLayer:ShouldBeVisible() then
		table.insert( f60_local0, f60_arg0.mobilePurchaseCelebrationLayer )
	end
	if AnyActiveMenusInStack( f60_arg0 ) then
		local f60_local1 = table.insert
		local f60_local2 = f60_local0
		local f60_local3 = f60_arg0.flowManager:GetTopMostOpenMenuInfo()
		f60_local1( f60_local2, f60_local3.menu )
	end
	if f60_arg0.scoreboardLayer then
		table.insert( f60_local0, f60_arg0.scoreboardLayer )
	end
	if f60_arg0.hudManager and Dvar[0x9E5BE3B4BBA4E0E]( 0xD7862EAA83B3B27 ) then
		table.insert( f60_local0, f60_arg0.hudManager )
	end
	if f60_arg0.requisitionsLayer then
		table.insert( f60_local0, f60_arg0.requisitionsLayer )
	end
	if f60_arg0.radialMenuLayer then
		table.insert( f60_local0, f60_arg0.radialMenuLayer )
	end
	if f60_arg0.inventoryLayer and f60_arg0.inventoryLayer:IsShowing() and Dvar[0x9E5BE3B4BBA4E0E]( 0x65BF2F3CA428A8D ) then
		table.insert( f60_local0, f60_arg0.inventoryLayer )
	end
	if f60_arg0.touchVirtualGamepadLayer then
		table.insert( f60_local0, f60_arg0.touchVirtualGamepadLayer )
	end
	if f60_arg0.mobileUIDevLayer and f60_arg0.mobileUIDevLayer:ShouldBeVisible() then
		table.insert( f60_local0, f60_arg0.mobileUIDevLayer )
	end
	if f60_arg0.mobileMatchmakingStatusLayer and f60_arg0.mobileMatchmakingStatusLayer:ShouldBeVisible() then
		table.insert( f60_local0, f60_arg0.mobileMatchmakingStatusLayer )
	end
	if Engine[0x2DA54CF5D6B7F02]() then
		if f60_arg1.name == "touchbegin" then
			DebugTouch.TouchPointBegin( f60_arg0, f60_arg1 )
		elseif f60_arg1.name == "touchmove" then
			DebugTouch.TouchPointMove( f60_arg0, f60_arg1 )
		elseif f60_arg1.name == "touchend" then
			DebugTouch.TouchPointEnd( f60_arg0, f60_arg1 )
		end
	end
	if f60_arg0._allTouchEvents then
		for f60_local3, f60_local5 in pairs( f60_arg0._allTouchEvents ) do
			if f60_local3 and f60_local5 then
				f60_local5( f60_local3, f60_arg1 )
			end
		end
	end
	local f60_local1 = f60_arg1.id
	local f60_local4 = nil
	if IsTouchGestureEvent( f60_arg1.name ) then
		local f60_local2 = true
		if f60_arg0.gestureFocusStack and f60_arg1.name == "gesturePinchZoom" and f60_arg0.prevGestureEvent == "gesturePinchZoom" then
			f60_local2 = false
		end
		if f60_local2 then
			f60_arg0.gestureFocusStack = f0_local0( f60_arg0, f60_arg1, f60_local0 )
		end
		f60_local4 = f60_arg0.gestureFocusStack
		if not f0_local0( f60_arg0.gestureFocusStack, f60_arg0.initialTouchStack[f60_local1] ) then
			f60_arg0.gestureFocusStack = nil
			return 
		end
		f60_arg0.prevGestureEvent = f60_arg1.name
	else
		if f60_arg1.name == "touchbegin" then
			f60_local4 = f0_local0( f60_arg0, f60_arg1, f60_local0 )
			f60_arg0.touchFocusElements[f60_local1] = f60_local4
			f60_arg0.initialTouchStack[f60_local1] = f60_local4
			if f0_local0( f60_arg0, f60_local1 ) then
				f60_local4 = nil
			end
		else
			if f60_arg1.name == "touchend" then
				f60_arg0.gestureFocusStack = nil
				f60_arg0.initialTouchStack[f60_local1] = nil
			end
			f60_local4 = f60_arg0.touchFocusElements[f60_local1]
		end
		if f60_local4 == nil or #f60_local4 == 0 or not f60_local4[1]:getParent() then
			f60_arg0.touchFocusElements[f60_local1] = nil
			f60_arg0.initialTouchStack[f60_local1] = nil
			f60_arg0.gestureFocusStack = nil
			return 
		end
	end
	if f60_arg0.hudManager and f60_arg1.name == "touchend" and f60_arg0.hudManager:ShouldBeVisible() then
		local f60_local2 = LUI.HudManager.GetElementToNotifyOnOutsideClickOrTap( LUI.HudManager.GetInstance() )
		if f60_local2 then
			for f60_local7, f60_local8 in pairs( f60_local2 ) do
				if not LUI.UIElement.isDescendentOf( f60_local4[#f60_local4], f60_local7 ) then
					f60_local7:processEvent( {
						name = "outsideClick"
					} )
				end
			end
		end
		f60_local2 = nil
	end
	if f60_arg1.name == "touchend" then
		f60_arg0.touchFocusElements[f60_local1] = nil
		f60_arg0.initialTouchStack[f60_local1] = nil
	end
	local f60_local2 = setmetatable( LUI.ShallowCopy( f60_local4 ), {
		__mode = "v"
	} )
	f60_local4 = nil
	f0_local0( f60_arg0, f60_arg1, f60_local2 )
end

LUI.UIRoot.ClearFocusStack = function ( f59_arg0 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x2E09DBEF25C533D ) then
		f59_arg0:ClearMouseFocusStack()
	end
	f59_arg0:ClearTouchFocusStack()
end

LUI.UIRoot.ClearMouseFocusStack = function ( f58_arg0 )
	f58_arg0.lockedMouseFocusStack = false
	local f58_local0 = {
		name = "stackCleared",
		down = "false",
		button = "left",
		controller = f58_arg0._controllerIndex,
		rootName = f58_arg0.name,
		x = f58_arg0.lastX,
		y = f58_arg0.lastY
	}
	for f58_local4, f58_local5 in pairs( f58_arg0.mouseFocusStack ) do
		f58_local5:processEventNoDispatch( f58_local0 )
	end
	f58_arg0.mouseFocusStack = setmetatable( {}, {
		__mode = "v"
	} )
	if f58_arg0.cursor and f58_arg0.cursor._controllerIndex then
		LUI.UIMouseCursor.UpdateMouseCursor( nil, f58_arg0.cursor._controllerIndex )
	end
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain()
		LUI.FocusDebug.EndFocusChain()
	end
end

LUI.UIRoot.ClearTouchFocusStack = function ( f57_arg0 )
	f57_arg0.touchFocusElements = {}
	f57_arg0.initialTouchStack = {}
	f57_arg0.gestureFocusStack = nil
end

LUI.UIRoot.UpdatePublisherVariables = function ( f56_arg0, f56_arg1 )
	if f56_arg0.flowManager then
		f56_arg0.flowManager:processEvent( {
			name = "update_publisher_variables"
		} )
		f56_arg0:PostPubVarUpdateFunc()
	end
	return true
end

LUI.UIRoot.PostPubVarUpdateFunc = function ( f55_arg0 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x600DFC277808B9C ) and (CDNI[0xE5E728E3949799D]() or not CDNI[0x664BD7FBBE48584]()) then
		return 
	elseif CONDITIONS.IsCIABuildEnabled() then
		Dvar[0x8EA06EEDB58D872]( 0x440D8B63386F861, false )
		Dvar[0x8EA06EEDB58D872]( 0x21CA8849A01319F, false )
	end
	if CONDITIONS.IsMobileOrMobileSim() and PlaylistUtils.UpdateMobileVisiblePlaylistIds() then
		local f55_local0 = PlaylistUtils.GetMobileVisiblePlaylistIds()
		if not PlaylistUtils.IsPlaylistIDIncludedInArray( DataSources.alwaysLoaded.BR.matchmakingPreferences.playlistId and DataSources.alwaysLoaded.BR.matchmakingPreferences.playlistId:GetValue( f55_arg0._controllerIndex ) or nil, f55_local0 ) then
			local f55_local1 = PlaylistUtils.GetDefaultPlaylistIDOutOfPlaylistIDArray( f55_local0 )
			if DataSources.alwaysLoaded.BR.matchmakingPreferences.playlistId then
				DataSources.alwaysLoaded.BR.matchmakingPreferences.playlistId:SetValue( f55_arg0._controllerIndex, f55_local1 )
			else
				DataSources.alwaysLoaded.BR.matchmakingPreferences.playlistId = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.BR.matchmakingPreferences.playlistId", f55_local1 )
			end
		end
	end
end

LUI.UIRoot.AddLayer = function ( f54_arg0, f54_arg1, f54_arg2 )
	local f54_local0
	if not f54_arg2 then
		f54_local0 = f54_arg2
	else
		f54_local0 = {}
	end
	f54_arg1.options = f54_local0
	if f54_arg1.options.exclusive then
		table.insert( f54_arg0.exclusiveLayers, f54_arg1 )
	end
	f54_arg1.layerEnabled = false
	if f54_arg1.options.isSecondaryUpdate then
		table.insert( f54_arg0.updateGroup_B, f54_arg1 )
	else
		table.insert( f54_arg0.updateGroup_A, f54_arg1 )
	end
	table.insert( f54_arg0.allLayers, f54_arg1 )
	if not CONDITIONS.IsEdgeToEdgeDisplay() then
		f54_local0 = _1080 * 16 / 18
		f54_arg1:SetAnchorsAndPosition( 0.5, 0.5, 0, 0, -f54_local0, f54_local0, 0, 0 )
	else
		f54_local0 = f54_arg1.options.useMobileSafeAreaPadding and LUI.MobileSafeAreaPaddingFixed or 0
		f54_arg1:SetAnchorsAndPosition( 0, 0, 0, 0, f54_local0, -f54_local0, 0, 0 )
	end
	f54_arg0:addElement( f54_arg1 )
	if not f54_arg1._isMenu then
		
	else
		
	end
	return f54_arg1
end

LUI.UIRoot.GetLayersVisibilityStr = function ( f53_arg0 )
	local f53_local0 = "^"
	for f53_local4, f53_local5 in pairs( f53_arg0.allLayers ) do
		if f53_local5 and f53_local5:ShouldBeVisible() then
			f53_local0 = f53_local0 .. tostring( f53_local5.id ) .. "^"
		end
	end
	return f53_local0
end

LUI.UIRoot.UpdateLayers = function ( f52_arg0 )
	Engine[0xF6FAD847CDC062E]( "LUI.UIRoot.UpdateLayers" )
	Engine[0xD75F5E555D60E1]( "Calc Exclusive Layer" )
	local f52_local0 = nil
	for f52_local5, f52_local6 in pairs( f52_arg0.exclusiveLayers ) do
		Engine[0xF6FAD847CDC062E]( "ExclusiveLayer:ShouldBeVisible " .. f52_local6.id )
		local f52_local4
		if f52_local0 ~= nil and f52_local0.options.priority >= f52_local6.options.priority then
			f52_local4 = false
		else
			f52_local4 = true
		end
		if f52_local4 and f52_local6:ShouldBeVisible() then
			f52_local0 = f52_local6
		end
		Engine[0x9F883F45414C166]()
	end
	Engine[0x4D47DEF7D5ED4B9]()
	Engine[0xD75F5E555D60E1]( "ShouldBeVisible" )
	f52_local1 = {}
	f52_local2 = {}
	f52_local3 = {}
	f52_local5 = {}
	if f52_arg0._useLayerVisibilityStaggerFrames then
		Engine[0xD75F5E555D60E1]( "ComputeUpdateRanges " .. f52_arg0._currentLayerFrame + 1 .. "/" .. f52_arg0._numFramesForLayerUpdateStagger )
		f52_local6 = math.ceil( #f52_arg0.allLayers / f52_arg0._numFramesForLayerUpdateStagger )
		local f52_local4 = f52_arg0._currentLayerFrame * f52_local6
		local f52_local7 = f52_local4 + f52_local6 - 1
		for f52_local8 = f52_local4, f52_local7, 1 do
			local f52_local11 = f52_arg0.allLayers[f52_local8 + 1]
			if f52_local11 then
				table.insert( f52_local5, f52_local11 )
			end
		end
		f52_arg0._currentLayerFrame = f52_arg0._currentLayerFrame + 1
		if f52_arg0._numFramesForLayerUpdateStagger <= f52_arg0._currentLayerFrame then
			f52_arg0._currentLayerFrame = 0
		end
		Engine[0x4D47DEF7D5ED4B9]()
	else
		if LUI.UIRoot._frameCounter % 2 == 0 then
			f52_local6 = f52_arg0.updateGroup_A
			if not f52_local6 then
				f52_local5 = f52_local6
			else
				f52_local5 = f52_arg0.updateGroup_B
			end
		end
		f52_local5 = f52_arg0.updateGroup_B
	end
	if CONDITIONS.InGame() then
		f52_local6 = LUI.UIRoot.GetActiveLayer( f52_arg0 )
		if f52_local6 ~= nil and f52_arg0._activeLayer ~= f52_local6 then
			ClickStream.OnNavigation( f52_arg0, f52_arg0._controllerIndex, f52_local6, f52_arg0._activeLayer, ClickStream.Direction.NONE, {
				isLayer = true
			} )
			f52_arg0._activeLayer = f52_local6
		end
	end
	for f52_local8, f52_local9 in pairs( f52_local5 ) do
		Engine[0xD75F5E555D60E1]( "Layers:ShouldBeVisible " .. f52_local9.id )
		local f52_local10
		if f52_local0 ~= f52_local9 then
			if f52_local0 == nil then
				f52_local10 = f52_local9:ShouldBeVisible()
			else
				f52_local10 = false
			end
		else
			f52_local10 = true
		end
		f52_local9._cachedVisibility = f52_local10
		if f52_local9.layerEnabled ~= f52_local10 then
			if not f52_local10 then
				table.insert( f52_local1, f52_local9 )
			else
				table.insert( f52_local2, f52_local9 )
			end
		end
		if f52_local10 then
			table.insert( f52_local3, f52_local9 )
		end
		Engine[0x4D47DEF7D5ED4B9]()
	end
	Engine[0x4D47DEF7D5ED4B9]()
	Engine[0xD75F5E555D60E1]( "Layer Frames" )
	for f52_local8, f52_local9 in pairs( f52_local1 ) do
		Engine[0xD75F5E555D60E1]( "Layer:ClearLayer " .. f52_local9.id )
		f52_local9:ClearLayer()
		Engine[0x4D47DEF7D5ED4B9]()
		f52_local9.layerEnabled = false
	end
	for f52_local8, f52_local9 in pairs( f52_local2 ) do
		Engine[0xD75F5E555D60E1]( "Layer:InitLayer " .. f52_local9.id )
		f52_local9:InitLayer()
		Engine[0x4D47DEF7D5ED4B9]()
		f52_local9.layerEnabled = true
	end
	for f52_local8, f52_local9 in pairs( f52_local3 ) do
		if f52_local9.layerEnabled and f52_local9.Frame then
			Engine[0xD75F5E555D60E1]( "Layer:Frame " .. f52_local9.id )
			f52_local9:Frame()
			Engine[0x4D47DEF7D5ED4B9]()
		end
	end
	Engine[0x4D47DEF7D5ED4B9]()
	Engine[0x9F883F45414C166]()
end

LUI.UIRoot.HandleBootMessages = function ( f51_arg0 )
	local f51_local0 = Dvar[0x54084D7CA2317BB]( 0xA0F9567BB33DE1D )
	local f51_local1 = Dvar[0x54084D7CA2317BB]( 0x5DF85682C903E8 )
	if f51_local1 and 0 < #f51_local1 then
		if Dvar[0x9E5BE3B4BBA4E0E]( 0xC783F84637095B7 ) then
			LUI.ToastManager.CreateToast( f51_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( f51_local0, f51_local1, LUI.ToastManager.ToastNotificationType.StudioNotes ) )
			Engine[0xCB84A78BA1FF1C5]()
		elseif not CONDITIONS.IsMenuInStack( "boot_message_popup" ) then
			LUI.FlowManager.RequestPopupMenu( nil, "boot_message_popup", nil, f51_arg0._controllerIndex, false, {
				title = f51_local0,
				message = f51_local1
			}, nil, true )
		end
	end
end

LUI.UIRoot.HandleErrors = function ( f50_arg0 )
	Engine[0xD75F5E555D60E1]( "LUI.UIRoot.HandleErrors" )
	local f50_local0 = Dvar[0x54084D7CA2317BB]( 0xCEEF44E99C361E4 )
	local f50_local1 = Dvar[0x54084D7CA2317BB]( 0xC7FD770960649E9 )
	if f50_local1 and 0 < #f50_local1 and not Dvar[0x9E5BE3B4BBA4E0E]( 0x1BF06A0535A9B8A ) then
		if (Engine[0x9DD5167C6D720F1]() or Engine[0x5575DCFF312365A]()) and Engine[0xD87B38D9E227ECC]() then
			
		elseif CONDITIONS.IsTrialLicense() and Dvar[0x9E5BE3B4BBA4E0E]( 0xD75AA73DC46F44A ) then
			LUI.FlowManager.RequestPopupMenu( nil, "ShowUpsellDialogPopup", true, f50_arg0._controllerIndex, false, {
				controllerIndex = f50_arg0._controllerIndex
			} )
		elseif not LUI.FlowManager.IsInStack( "error_popmenu" ) and not GL_HACK.IsTextErrorStringToIgnore( f50_local1 ) then
			LUI.FlowManager.RequestPopupMenu( nil, "error_popmenu", nil, f50_arg0._controllerIndex, false, nil, nil, true )
		end
	end
	if Engine[0x2DA54CF5D6B7F02]() and not Engine[0x7AE6126734FCDB]() and not Engine[0x74423E76DECE3E4]() then
		local f50_local2 = Engine[0x8D21D8DCA457A86]()
		if f50_local2 and 0 < f50_local2 and not LUI.FlowManager.IsInStack( "error_popmenu" ) and not LUI.FlowManager.IsInStack( "LoadErrorPopup" ) then
			LUI.FlowManager.RequestPopupMenu( nil, "LoadErrorPopup" )
		end
	end
	f50_arg0:HandleMissingControllers()
	local f50_local2 = Engine[0x709213536E7C42A]()
	local f50_local3 = LUI.FlowManager.IsInStack( "WaitingForTransientsPopMenu" )
	if f50_local2 and not f50_local3 then
		LUI.FlowManager.RequestPopupMenu( nil, "WaitingForTransientsPopMenu", false, nil, false, {}, nil, true )
	elseif f50_local3 and not f50_local2 then
		LUI.FlowManager.RequestLeaveMenuByName( "WaitingForTransientsPopMenu", true )
	end
	Engine[0x4D47DEF7D5ED4B9]()
end

local f0_local18 = function ( f49_arg0, f49_arg1, f49_arg2 )
	if DMZ and DMZ.ArePMCMissionEnabled() and not Engine[0x12586A3F4FB490E]() then
		local f49_local0 = DMZ.GetActiveFactionMissions( f49_arg1 )
		if CONDITIONS.IsOutbreakGametype() and f49_local0 then
			DMZ.ValidatePMCMissionActivated( f49_arg0, f49_arg1, f49_local0[1], 0 )
		end
		for f49_local4, f49_local5 in ipairs( f49_local0 ) do
			if f49_arg2 == nil or f49_arg2 == f49_local5 or DMZ.IsMissionAChildOfChallenge( f49_local5, f49_arg2 ) then
				DMZ.UpdateActiveFactionMissionProgress( f49_arg0, f49_arg1, f49_local4 - 1 )
			end
		end
	end
end

LUI.UIRoot.HandleMissingControllers = function ( f48_arg0 )
	if Engine[0xE1F9074C0D53A40]() then
		return 
	end
	local f48_local0 = LUI.FlowManager.IsInStack( "controllerremoved_popmenu" )
	local f48_local1 = LUI.FlowManager.IsInStack( "keyboardremoved_inputswap_popup" )
	local f48_local2 = LUI.FlowManager.IsInStack( "controllerremoved_inputswap_popup" )
	local f48_local3 = CONDITIONS.IsPS5()
	if f48_local3 then
		f48_local3 = CONDITIONS.IsMenuInStack( "ItemExchangeFencePopup" )
	end
	local f48_local4 = MenuUtils.CanShowConnectionPopups() and not f48_local3
	local f48_local5 = Engine[0x8F0EB634D1D8564]()
	local f48_local6, f48_local7, f48_local8, f48_local9 = nil
	if not f48_local0 and not f48_local1 and not f48_local2 then
		for f48_local10 = 0, Engine[0x70187FE84AE61FD]() - 1, 1 do
			local f48_local13 = Engine[0xF13D4623D3F6D4E]( f48_local10 )
			local f48_local14
			if f48_local13 then
				f48_local14 = f48_local13
			else
				f48_local14 = Engine[0x58B65FD249E3E59]( f48_local13 )
			end
			local f48_local15
			if f48_local14 then
				f48_local15 = f48_local14
			else
				f48_local15 = OPTIONS.IsGamepadConnected( f48_local13 )
			end
			local f48_local16
			if f48_local14 then
				f48_local16 = f48_local14
			else
				f48_local16 = Engine[0x741C985ADA0608B]( f48_local13 )
			end
			local f48_local17
			if f48_local14 then
				f48_local17 = f48_local14
			else
				f48_local17 = LUI.IsGameInputMethodGamepad( f48_local13 )
			end
			if not (not f48_local17 or f48_local15) or not f48_local17 and not f48_local16 then
				f48_local6 = f48_local13
				f48_local8 = not f48_local16
				f48_local9 = not f48_local15
				f48_local7 = f48_local17
				break
			end
		end
	end
	if f48_local4 and not CONDITIONS.IsMobileOrMobileSim() and f48_local6 and not f48_local0 and not f48_local1 and not f48_local2 then
		local f48_local10 = nil
		if f48_local8 and not f48_local7 and f48_local5 then
			if not f48_local1 then
				f48_local10 = "keyboardremoved_inputswap_popup"
			end
		elseif f48_local9 and f48_local7 then
			if f48_local8 and not f48_local0 and (Engine[0xFB1B6E36ABE59B8]() or f48_local5) then
				f48_local10 = "controllerremoved_popmenu"
			elseif not f48_local2 and f48_local5 then
				f48_local10 = "controllerremoved_inputswap_popup"
			end
		end
		if f48_local10 then
			LUI.FlowManager.RequestPopupMenu( nil, f48_local10, false, f48_arg0._controllerIndex, false, {
				missingControllerIndex = f48_local6
			}, nil, true )
		end
	end
	local f48_local10 = LUI.FlowManager.GetTopmostMenu()
	local f48_local11
	if f48_local10 then
		f48_local11 = f48_local10
	else
		f48_local11 = f48_local10.menu
	end
	local f48_local12
	if f48_local11 then
		f48_local12 = f48_local11
	else
		f48_local12 = LUI.FlowManager.GetScopedData( f48_local11 )
	end
	local f48_local18
	if f48_local12 then
		f48_local18 = f48_local12.missingControllerIndex
		if not f48_local18 then
		
		else
			if f48_local1 and (Engine[0x741C985ADA0608B]( f48_local18 ) or not f48_local4 or LUI.IsGameInputMethodGamepad( f48_local18 )) then
				LUI.FlowManager.RequestLeaveMenuByName( "keyboardremoved_inputswap_popup", true )
			end
			if f48_local2 and (OPTIONS.IsGamepadConnected( f48_local18 ) or not f48_local4 or not LUI.IsGameInputMethodGamepad( f48_local18 )) then
				LUI.FlowManager.RequestLeaveMenuByName( "controllerremoved_inputswap_popup", true )
			end
			if f48_local0 and (OPTIONS.IsGamepadConnected( f48_local18 ) or not f48_local4 or not LUI.IsGameInputMethodGamepad( f48_local18 )) then
				LUI.FlowManager.RequestLeaveMenuByName( "controllerremoved_popmenu", true )
			end
		end
	end
	f48_local18 = f48_arg0._controllerIndex
end

LUI.UIRoot.QueueFunctionForNextFrame = function ( f47_arg0, f47_arg1 )
	if f47_arg0._nextFrameFunctionQueue then
		table.insert( f47_arg0._nextFrameFunctionQueue, f47_arg1 )
	else
		f47_arg0._nextFrameFunctionQueue = {
			f47_arg1
		}
	end
end

LUI.UIRoot._frameCounter = 0
LUI.UIRoot.Frame = function ( f46_arg0, f46_arg1 )
	Engine[0xD75F5E555D60E1]( "LUI.UIRoot.Frame" )
	if f46_arg0._nextFrameFunctionQueue then
		local f46_local0 = f46_arg0._nextFrameFunctionQueue
		f46_arg0._nextFrameFunctionQueue = nil
		for f46_local4, f46_local5 in ipairs( f46_local0 ) do
			f46_local5()
		end
	end
	if not Engine[0x12586A3F4FB490E]() and Game[0xA988866C889EAAD]() and not f46_arg0._postInitializeUpdate then
		InitInGameDataSources( f46_arg0:GetControllerIndex() )
		f0_local0( f46_arg0, f46_arg0:GetControllerIndex() )
		f46_arg0._postInitializeUpdate = true
	end
	if not Engine[0x12586A3F4FB490E]() and not AreLoadingScreensDataSourcesInitialized() then
		LoadingScreensDataSources()
	end
	f46_arg0:ProcessEvents()
	f46_arg0:UpdateLayers()
	URI.Frame()
	f46_arg0:ProcessInputs()
	f46_arg0:HandleBootMessages()
	f46_arg0:RunFixups()
	MenuBuilder.HotloadCleanup()
	f46_arg0:HandleErrors()
	if f46_arg0._oldNotifyInt ~= Dvar[0x22EAAB59AA27E9B]( 0xE1E5E3314213125 ) then
		f46_arg0._oldNotifyInt = Dvar[0x22EAAB59AA27E9B]( 0xE1E5E3314213125 )
		Engine[0x6055C55456F05DF]( "drop_item", f46_arg0._oldNotifyInt )
	end
	SOUNDS.UpdateLoopingSounds()
	LUI.UIRoot._frameCounter = LUI.UIRoot._frameCounter + 1
	Engine[0x4D47DEF7D5ED4B9]()
	return true
end

LUI.UIRoot.UpdateGameMode = function ( f45_arg0, f45_arg1 )
	CoD.UpdateGameMode( f45_arg1.currentGameMode, f45_arg1.previousGameMode )
	return true
end

LUI.UIRoot.NavigateToMenu = function ( f44_arg0, f44_arg1 )
	URI.Manager.QueueURI( f44_arg1.uri )
	return true
end

LUI.UIRoot.TriggerBackEvent = function ( f43_arg0, f43_arg1 )
	local f43_local0 = f43_arg0.flowManager:GetTopMostOpenMenuInfo()
	if f43_local0 and f43_local0.menu then
		f43_local0.menu:processEvent( {
			name = "button_secondary"
		} )
	end
	return true
end

LUI.UIRoot.OffensiveUsernameNotification = function ( f42_arg0, f42_arg1 )
	if CONDITIONS.InGame() then
		DataSources.alwaysLoaded.notifications.showOffensiveUsernameNotification:SetValue( f42_arg0._controllerIndex, true )
	else
		local f42_local0 = Engine[0x29680E4E30C45C2]( f42_arg0._controllerIndex )
		local f42_local1 = PLAYER_DATA.IO( f42_arg0._controllerIndex, CoD.StatsGroup.NonGame )
		if f42_local0 ~= f42_local1.savedUsername:get() then
			TOAST_NOTIF.MobileSetupFeedbackToast( f42_arg0._controllerIndex, Engine[0xED84C33EC5F01EA]( 0xAE9C2FCB9263F63 ), false )
			f42_local1.savedUsername:set( f42_local0 )
			Engine[0xB81A5136C5503E4]( "uploadstats", f42_arg0._controllerIndex )
		elseif f42_arg1.viewState == Enum[0x9A5A38708E49978][0x1167737884B54A2] then
			LUI.FlowManager.RequestPopupMenu( nil, "offensive_username_popup", false, nil, false, {
				controllerIndex = f42_arg0._controllerIndex
			}, nil, false, true )
			Notifications[0xB4A39403C48EB56]( Enum[0x9A5A38708E49978][0xCFADB18D3ECD12A], {
				f42_arg1.handle
			} )
		end
	end
end

LUI.UIRoot.PlayerDataAvailable = function ( f41_arg0, f41_arg1 )
	MP_COMMON.ValidatePlayerData( f41_arg1.controllerIndex, f41_arg1.statsSource )
	return true
end

LUI.UIRoot.StartMatch = function ( f40_arg0, f40_arg1 )
	OnlineProgression[0x855FA3EEB7A15F3]( f40_arg1.controller )
	PROGRESSION.SaveAllWeaponsXPToDDL( f40_arg1.controller )
	SEASONAL_EVENT.SavePreMatchChallengeProgress( f40_arg1.controller )
	if Engine[0x836C8AD984F14F6]() then
		InGameStore.ShowStoreIcon( false )
	end
	if Engine[0x5DB05DD2E1E27DD]() then
		Engine[0x3B6AF6E42866493]()
	end
	return true
end

LUI.UIRoot.ChallengesFetched = function ( f39_arg0, f39_arg1 )
	OnlineProgression[0x855FA3EEB7A15F3]( f39_arg1.controller )
	PROGRESSION.SaveAllWeaponsXPToDDL( f39_arg1.controller )
	return false
end

LUI.UIRoot.ChallengeCompleted = function ( f36_arg0, f36_arg1 )
	local f36_local0 = function ()
		if not CONDITIONS.IsSingleplayer() and PROGRESSION.IsBattlePassRankUp( f36_arg0.id ) then
			local f38_local0 = PLAYER_DATA.IO( f36_arg0.controller, CoD.StatsGroup.NonGame )
			if f38_local0 then
				BATTLEPASS.SetTokensEarnedSinceLastBattlePassUpsell( f36_arg0.controller, f38_local0, BATTLEPASS.GetTokensEarnedSinceLastBattlePassUpsell( f36_arg0.controller, f38_local0 ) + 1 )
			end
			return 
		elseif SEASONAL_EVENT.IsEventCurrencyAwardingChallenge( f36_arg0.controller, f36_arg0.id ) then
			SEASONAL_EVENT.IncrementEventCurrency( f36_arg0.controller )
		end
		if CONDITIONS.IsMobileOrMobileSim() then
			MOBILE_CHALLENGES.SetChallengeComplete( f36_arg0.controller, f36_arg0.id )
		end
	end
	
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0xCEE8143C3C5D02 ) and f36_arg1.kind == Challenge.GetAEKindID( 0xE06DA8578F922D9 ) then
		local f36_local1 = f36_arg1.controller
		OnlineProgression[0xE826BFCAE818EF0]( f36_local1 )
		Engine[0xC4146BA76D0F982]( SOUND_SETS.popups.tokenUseSuccess )
		XPTOKENS.SetTokenUseLocked( f36_local1, false )
		local f36_local2 = XPTOKENS.GetToastDataFromAchievementID( f36_arg1.id )
		if not Table.IsNilOrEmpty( f36_local2 ) then
			LUI.ToastManager.CreateToast( f36_local1, LUI.ToastManager.StandardEmphasisToast( f36_local2.successTitle, f36_local2.duration, LUI.ToastManager.ToastNotificationType.XP ) )
		end
	end
	if PROGRESSION.IsWeaponProgressionChallenge( f36_arg1.kind, f36_arg1.id ) then
		PROGRESSION.SaveWeaponXPToDDL( f36_arg1.controller, f36_arg1.id )
	elseif f36_arg1.kind == Challenge.GetAEKindID( 0xB5B9F37D66C7E1A ) or f36_arg1.kind == Challenge.GetAEKindID( 0xE59E23C2185E7FD ) then
		OnlineProgression[0x855FA3EEB7A15F3]( f36_arg1.controller )
		if f36_arg1.id == PROGRESSION.GetPlayerProgressionChallengeID() then
			PROGRESSION.CheckAndGivePlayerProgressionAchievements( f36_arg1.controller )
		end
	elseif CONDITIONS[0x4A020C7B018B3BA]() and AAR and AAR.IsBRWeaponCaseChallenge( f36_arg1.id ) then
		AAR.UpdateBRWeaponCaseChallengeLocally( f36_arg1 )
	elseif CONDITIONS[0x4A020C7B018B3BA]() and AAR and BROKEN_ARROW.IsChampionsQuestChallenge( f36_arg1.id ) then
		BROKEN_ARROW.SetChallengeCompleted()
	elseif CONDITIONS.IsDMZGametype() and AAR and AAR.IsDMZWeaponCaseChallenge( f36_arg1.id ) then
		AAR.UpdateWeaponCaseChallengeLocally( f36_arg1 )
	elseif PROGRESSION.IsPMCMissionInventoryChallenge( f36_arg1.kind, f36_arg1.id ) then
		if f36_arg1.progress and f36_arg1.progress.starttime ~= nil then
			DMZ.CompleteMissionTimer( f36_arg0, f36_arg1.controller, f36_arg1.id, f36_arg1.progress.starttime )
		end
		if DMZ.IsParentMission( f36_arg1.id ) then
			f0_local0( f36_arg0, f36_arg0:GetControllerIndex(), tonumber( f36_arg1.id ) )
		end
	end
	if f36_arg1.kind == Challenge.GetAEKindID( 0x79AE67E8F8A2FB4 ) then
		local f36_local1 = DataSources.alwaysLoaded.battlepassShouldRequestTokens
		if f36_local1 then
			f36_local1:SetValue( f36_arg1.controller, true )
		end
		if f36_arg1.id == PROGRESSION.GetPlayerProgressionChallengeID() and Appsflyer[0x84C1D7864022EAE]() then
			local f36_local3 = f36_arg1.progress.rank + 1
			local f36_local2 = PLAYER_DATA.IO( f36_arg0._controllerIndex, CoD.StatsGroup.NonGame )
			local f36_local4 = f36_local2.lastRank:get()
			if f36_local3 ~= f36_local4 then
				if f36_local4 < f36_local3 then
					if 60 < f36_local3 and f36_local4 ~= 60 then
						f36_local3 = 60
					elseif 40 < f36_local3 and f36_local3 < 60 and f36_local4 ~= 40 then
						f36_local3 = 40
					elseif 20 < f36_local3 and f36_local3 < 40 and f36_local4 ~= 20 then
						f36_local3 = 20
					elseif 10 < f36_local3 and f36_local3 < 20 and f36_local4 ~= 10 then
						f36_local3 = 10
					end
				end
				if f36_local3 == 10 or f36_local3 == 20 or f36_local3 == 40 or f36_local3 == 60 then
					f36_local2.lastRank:set( f36_local3 )
					Engine[0xB81A5136C5503E4]( "uploadstats", f36_arg0._controllerIndex )
					Appsflyer[0xEB2E0A2B239D3F4]( "level_" .. tostring( f36_local3 ) )
				end
			end
		end
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xA23D2D1710AA43C ) then
		f36_local0()
	else
		f36_arg0:QueueFunctionForNextFrame( function ()
			f36_arg0()
		end )
	end
end

LUI.UIRoot.ChallengeUpdated = function ( f35_arg0, f35_arg1 )
	if CONDITIONS.IsMobileOrMobileSim() then
		MOBILE_CHALLENGES.UpdateMobileDailyChallenge( f35_arg0:GetControllerIndex(), f35_arg1 )
	end
	f0_local0( f35_arg0, f35_arg0:GetControllerIndex(), tonumber( f35_arg1.id ) )
	if PROGRESSION.IsPMCMissionInventoryChallenge( f35_arg1.kind, f35_arg1.id ) then
		if f35_arg1.progress and f35_arg1.progress.starttime ~= nil and DMZ.GetPMCMissionAlgorithm( f35_arg1.id ) ~= "multitimed" then
			DMZ.UpdateMissionTimer( f35_arg0, f35_arg1.controller, f35_arg1.id, f35_arg1.progress.starttime )
		end
		UpdatePMCMissions( f35_arg0, f35_arg0:GetControllerIndex(), tonumber( f35_arg1.id ) )
	elseif CONDITIONS[0x4A020C7B018B3BA]() and AAR and AAR.IsBRWeaponCaseChallenge( f35_arg1.id ) then
		AAR.UpdateBRWeaponCaseChallengeLocally( f35_arg1 )
	end
end

LUI.UIRoot.ClanNotification = function ( f34_arg0, f34_arg1 )
	local f34_local0 = f34_arg1.options
	if not SOCIAL.IsSocialGroupsEnabled( f34_local0.controllerIndex ) then
		return 
	elseif f34_local0.genEventName == 0x68DC76C444D2E3F then
		Challenge.SendClanMembershipEvent( f34_local0.controllerIndex, f34_local0.clanId )
	elseif f34_local0.genEventName == 0xB8524856913D61E then
		Engine[0x83EEB60522A30A9]( f34_local0.controllerIndex, ClanTagType.CUSTOM )
	end
end

LUI.UIRoot.InventoryAddItem = function ( f33_arg0, f33_arg1 )
	Challenge.ActivateAchievementForNewItem( f33_arg1.controller, f33_arg1.id )
	if OnlineChallenges[0xEA5D0BEF269B42A]( f33_arg1.controller ) then
		Challenge.RequestWinChallengeBypassIfNeeded( f33_arg1.controller, f33_arg1.id )
	end
end

LUI.UIRoot.InventoryUpdateItem = function ( f32_arg0, f32_arg1 )
	
end

LUI.UIRoot.InventoryDeleteItem = function ( f31_arg0, f31_arg1 )
	
end

LUI.UIRoot.StoreFrontFetchComplete = function ( f30_arg0, f30_arg1 )
	STORE.Cache.PopulateCache( f30_arg1.controller )
end

LUI.UIRoot.InventoryDownloadComplete = function ( f29_arg0, f29_arg1 )
	if f29_arg1.type == "player" then
		Challenge.PerformTrophyXPConversion( f29_arg1.controller )
		Challenge.FixupActivationTokens( f29_arg1.controller )
		if OnlineChallenges[0xEA5D0BEF269B42A]( f29_arg1.controller ) then
			Challenge.ReconcileWinChallengesBypass( f29_arg1.controller )
		end
	end
end

LUI.UIRoot.AEStatesDownloadComplete = function ( f28_arg0, f28_arg1 )
	if Loot[0xAA8859BE66B75FD]( f28_arg1.controller ) then
		Challenge.ReconcileWinChallengesBypass( f28_arg1.controller )
	end
end

LUI.UIRoot.ItemTransactionComplete = function ( f27_arg0, f27_arg1 )
	WEAPON.ClearCaches()
	ITEM_UTILS.ClearItemCaches()
	STORE.Cache.InvalidatePurchasedSkus()
	STORE.Cache.InvalidateLootIdToBundleMap()
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xEDB7071526E6A22 ) then
		collectgarbage( "collect" )
	end
	return false
end

LUI.UIRoot.IngameStorePurchaseComplete = function ( f26_arg0, f26_arg1 )
	if f26_arg1.transactionResult == STORE.TransactionResult.TRANSACTION_SUCCEEDED then
		LUI.UIRoot.ItemTransactionComplete( f26_arg0, f26_arg1 )
	end
	return false
end

LUI.UIRoot.XPTokenActivated = function ( f25_arg0, f25_arg1 )
	if f25_arg1.kind == Challenge.GetAEKindID( 0xE06DA8578F922D9 ) then
		local f25_local0 = f25_arg1.controller
		if f25_arg1.success then
			if not Dvar[0x9E5BE3B4BBA4E0E]( 0xCEE8143C3C5D02 ) then
				return 
			end
			OnlineProgression[0xE826BFCAE818EF0]( f25_local0 )
			Engine[0xC4146BA76D0F982]( SOUND_SETS.popups.tokenUseSuccess )
		else
			Engine[0xC4146BA76D0F982]( SOUND_SETS.popups.tokenUseFail )
		end
		XPTOKENS.SetTokenUseLocked( f25_local0, false )
		local f25_local1 = XPTOKENS.GetToastDataFromAchievementID( f25_arg1.id )
		if not Table.IsNilOrEmpty( f25_local1 ) then
			LUI.ToastManager.CreateToast( f25_local0, LUI.ToastManager.StandardEmphasisToast( f25_arg1.success and f25_local1.successTitle or Engine[0xED84C33EC5F01EA]( 0x89D9E285EE1867F ), f25_local1.duration, LUI.ToastManager.ToastNotificationType.XP ) )
		end
	end
end

LUI.UIRoot.OpenCodeOfConductIfNeeded = function ( f23_arg0, f23_arg1 )
	if Engine[0x3C09B81177ACC2C]() then
		Engine[0x9694388D6DAC134]( "CodeOfConductAccepted", true, f23_arg1.controller )
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x39AAC1F9A77505 ) then
		Engine[0x9694388D6DAC134]( "CodeOfConductAccepted", true, f23_arg1.controller )
	end
	LUI.FlowManager.RequestPopupMenu( nil, "codeconduct", true, f23_arg1.controller, false, {
		acceptedCallback = function ()
			
		end
	}, nil, true, true )
end

LUI.UIRoot.OnlineFencesNotification = function ( f22_arg0, f22_arg1 )
	if f22_arg1.gamemode == CoD.PlayMode.Core then
		local f22_local0 = f22_arg1.controller
		Challenge.SendLoginEvent( f22_local0 )
		Challenge.SendClanMembershipEvent( f22_local0 )
	end
end

LUI.UIRoot.OpenBackendPartyCrosslaunchingPopup = function ( f21_arg0, f21_arg1 )
	LUI.FlowManager.RequestPopupMenu( self, "backend_party_crosslaunching", true, nil, false, {
		partyIdString = f21_arg1.partyIdString,
		titleId = f21_arg1.titleId,
		crosslaunchIdString = f21_arg1.crosslaunchIdString,
		gameId = f21_arg1.gameId,
		deeplink = f21_arg1.deeplink
	}, nil, true, true )
	return true
end

LUI.UIRoot.GridSetFocusedPosition = function ( f20_arg0, f20_arg1 )
	local f20_local0 = LUI.FlowManager.GetMenuByName( f20_arg1.menuName )
	if f20_local0 ~= nil and f20_local0.menu[f20_arg1.gridName] ~= nil then
		f20_local0.menu[f20_arg1.gridName]:SetFocusedPosition( {
			x = f20_arg1.x,
			y = f20_arg1.y
		}, true, true, false, false, false )
	end
end

LUI.UIRoot.RunFixups = function ( f19_arg0 )
	for f19_local0 = 0, Engine[0xB686A0A723E6442]() - 1, 1 do
		if Challenge.WinChallengeBypassRetries ~= nil and Challenge.WinChallengeBypassRetries[f19_local0] ~= nil and Challenge.WinChallengeBypassRetries[f19_local0].nextRequestTime <= Engine[0x6991337AE950F99]() then
			Challenge.ReconcileWinChallengesBypass( f19_local0 )
		end
	end
end

LUI.UIRoot.UpdateInputConnected = function ( f18_arg0 )
	local f18_local0 = f18_arg0.flowManager
	if f18_local0 then
		f18_local0 = f18_arg0.flowManager:GetTopMostOpenMenuInfo()
	end
	local f18_local1
	if f18_local0 then
		f18_local1 = f18_local0
	else
		f18_local1 = f18_local0.isControllerExclusive and f18_local0.controller
	end
	local f18_local2
	if not f18_local1 then
		f18_local2 = f18_local1
	else
		f18_local2 = f18_arg0._controllerIndex
	end
	if not f18_local2 or not Engine[0x10A5732AB1DAE9F]( f18_local2 ) then
		f18_local2 = Engine[0x45B054C920178E9]()
	end
	local f18_local3 = OPTIONS.IsGamepadConnected( f18_local2 )
	local f18_local4 = Engine[0x741C985ADA0608B]( f18_local2 )
	local f18_local5 = CONDITIONS.IsUsingPS4Controller( f18_local2 )
	if not f18_local5 then
		f18_local5 = CONDITIONS.IsUsingPS5Controller( f18_local2 )
	end
	if f18_arg0.keyboardConnected[f18_local2] == nil then
		f18_arg0.keyboardConnected[f18_local2] = f18_local4
	end
	if f18_arg0.gamepadConnected[f18_local2] == nil then
		f18_arg0.gamepadConnected[f18_local2] = f18_local3
	end
	if f18_arg0.keyboardConnected[f18_local2] ~= f18_local4 then
		local f18_local6 = Engine[0xE1F9074C0D53A40]()
		if not f18_local6 and not f18_arg0.systemUiOpened then
			f18_arg0.keyboardConnected[f18_local2] = f18_local4
			f18_arg0.connectionChanged = true
			f18_arg0:dispatchEventToChildren( {
				name = "input_connection",
				controllerIndex = f18_local2
			} )
		elseif f18_local6 then
			f18_arg0.systemUiOpened = true
		else
			f18_arg0.systemUiOpened = false
		end
	elseif f18_arg0.gamepadConnected[f18_local2] ~= f18_local3 then
		f18_arg0.gamepadConnected[f18_local2] = f18_local3
		f18_arg0.connectionChanged = true
		f18_arg0:dispatchEventToChildren( {
			name = "input_connection",
			controllerIndex = f18_local2
		} )
	elseif f18_local3 == true and f18_arg0.isPSController ~= f18_local5 then
		f18_arg0.isPSController = f18_local5
		f18_arg0:dispatchEventToChildren( {
			name = "two_controller_connection_changed",
			controllerIndex = f18_local2
		} )
	end
end

LUI.UIRoot.SetLuiLayerKeycatch = function ( f17_arg0, f17_arg1, f17_arg2 )
	local f17_local0 = Engine[0xEE6F69FEA944B13]()
	if not f17_local0 then
		return 
	end
	Engine[0x2E4EF2A0E608C38]()
	if f17_local0.layerLUIKeycatch[f17_arg1] == nil then
		f17_local0.layerLUIKeycatch[f17_arg1] = {}
	end
	local f17_local1 = f17_local0.layerLUIKeycatch[f17_arg1]
	if f17_arg2 then
		local f17_local2 = false
		for f17_local6, f17_local7 in pairs( f17_local1 ) do
			if 0 < f17_local7 then
				f17_local2 = true
				break
			end
		end
		f17_local1[f17_arg0.id] = f17_local1[f17_arg0.id] and f17_local1[f17_arg0.id] + 1 or 1
		if not f17_local2 then
			Engine[0xB6C9C9D8AD5A171]( f17_arg1, f17_arg2 )
			f17_local0:TryAddMouseCursor( "layerKeyCatch" )
		end
	elseif f17_local1[f17_arg0.id] then
		local f17_local2 = f17_arg0.id
		local f17_local3 = f17_local1[f17_arg0.id]
		if f17_local3 then
			f17_local3 = f17_local1[f17_arg0.id] - 1
		end
		f17_local1[f17_local2] = f17_local3
		if 0 < f17_local1[f17_arg0.id] then
			return 
		end
		f17_local1[f17_arg0.id] = nil
		f17_local2 = true
		for f17_local6, f17_local7 in pairs( f17_local1 ) do
			if 0 < f17_local7 then
				f17_local2 = false
				break
			end
		end
		if f17_local2 then
			Engine[0xB6C9C9D8AD5A171]( f17_arg1, f17_arg2 )
			f17_local0:RemoveMouseCursor( "layerKeyCatch" )
		end
	end
end

local f0_local19 = function ( f16_arg0, f16_arg1 )
	LUI.UIRoot.HandleMissingControllers( f16_arg0 )
	return true
end

LUI.UIRoot.init = function ( f9_arg0, f9_arg1, f9_arg2 )
	f9_arg0.isRootElement = true
	LUI.UIRoot.super.init( f9_arg0 )
	f9_arg0:SetAnchors( 0.5, 0.5, 0.5, 0.5 )
	local f9_local0
	if not f9_arg1 then
		f9_local0 = f9_arg1
	else
		f9_local0 = Engine[0x45B054C920178E9]()
	end
	local f9_local1 = Engine[0x12586A3F4FB490E]()
	local f9_local2 = Engine[0x74423E76DECE3E4]()
	local f9_local3 = SPSharedUtils.IsSPGametype()
	local f9_local4 = Engine[0x9258F49F515F97B]()
	local f9_local5 = Engine[0xCA085C21FCBD7CA]()
	local f9_local6 = Engine[0x575E9C5B9AAB6F4]()
	local f9_local7 = CONDITIONS.IsSony()
	local f9_local8 = CONDITIONS.IsMobileOrMobileSim()
	local f9_local9 = Engine[0x2DA54CF5D6B7F02]()
	local f9_local10 = Engine[0x5575DCFF312365A]()
	local f9_local11 = Engine[0x9DD5167C6D720F1]()
	local f9_local12 = Engine[0xD151EC5B41223B5]()
	local f9_local13 = CDNI[0xE5E728E3949799D]()
	local f9_local14 = Dvar[0x9E5BE3B4BBA4E0E]( 0x403ABFECB93D67C )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x81342D00D7AC492 ) then
		THEMES.ApplyDebugTheme()
	else
		local f9_local15 = Dvar[0x54084D7CA2317BB]( 0x202F1441CDEF85E ) or ""
		if THEMES[f9_local15] then
			THEMES.ApplyTheme( THEMES[f9_local15] )
		end
	end
	f9_arg0._flagCursor = {
		layerKeyCatch = false,
		base = false
	}
	f9_arg0.id = "LUIRoot"
	f9_arg0._controllerIndex = f9_local0
	f9_arg0.name = f9_arg2
	f9_arg0.allLayers = {}
	f9_arg0.updateGroup_A = {}
	f9_arg0.updateGroup_B = {}
	f9_arg0.exclusiveLayers = {}
	f9_arg0.eventQueue = {}
	f9_arg0.inputQueue = {}
	f9_arg0.lastInputType = Engine[0x363C9B5AE5CC5ED]( f9_local0 )
	f9_arg0.layerLUIKeycatch = {}
	f9_arg0.keyboardConnected = {}
	f9_arg0.gamepadConnected = {}
	f9_arg0.keyboardConnected[f9_local0] = Engine[0x741C985ADA0608B]( f9_local0 )
	f9_arg0.gamepadConnected[f9_local0] = OPTIONS.IsGamepadConnected( f9_local0 )
	local f9_local15 = CONDITIONS.IsUsingPS4Controller( f9_local0 )
	if not f9_local15 then
		f9_local15 = CONDITIONS.IsUsingPS5Controller( f9_local0 )
	end
	f9_arg0.isPSController = f9_local15
	f9_arg0.systemUiOpened = false
	f9_arg0.connectionChanged = false
	f9_arg0.mouseFocusStack = setmetatable( {}, {
		__mode = "v"
	} )
	f9_arg0.focusStackHistory = LUI.CreateQueue()
	f9_arg0.focusStackHistory.maxLen = 64
	f9_arg0.lockedMouseFocusStack = false
	f9_arg0.touchFocusElements = {}
	f9_arg0.initialTouchStack = {}
	f9_arg0.debugPrintIgnoreEvents = {
		mousemove = true,
		gamepad_sticks = true,
		process_events = true
	}
	f9_arg0._currentFocus = Table.CreateWeakValueTable()
	f9_arg0._currentCursorStack = Table.CreateWeakValueTable()
	f9_arg0._uiKeybindContextNames = {}
	f9_arg0._useLayerVisibilityStaggerFrames = not Dvar[0x9E5BE3B4BBA4E0E]( 0xD6C7F61962C13F7 )
	f9_arg0._numFramesForLayerUpdateStagger = Dvar[0x22EAAB59AA27E9B]( 0xA51B99C9F072884 ) or 4
	f9_arg0._currentLayerFrame = 0
	Engine[0x95B08DBB27E217B]( f9_local0, false )
	if Dvar[0x22EAAB59AA27E9B]( 0x568C49B63465283 ) == nil and CONDITIONS.IsBrFFAMatch() then
		Dvar[0x8EA06EEDB58D872]( 0x568C49B63465283, true )
	end
	LUI.roots[f9_arg2] = f9_arg0
	if LUI.primaryRoot == nil then
		LUI.primaryRoot = f9_arg0
	end
	f9_arg0.processEvent = LUI.UIRoot.ProcessEvent
	f9_arg0.eventCatcher = EventCatcher.new()
	f9_arg0.eventCatcher:setupRoot( f9_arg0 )
	f9_arg0:registerEventHandler( "run_frame", LUI.UIRoot.Frame )
	f9_arg0:registerEventHandler( "update_game_mode", LUI.UIRoot.UpdateGameMode )
	f9_arg0:registerEventHandler( "update_publisher_variables", LUI.UIRoot.UpdatePublisherVariables )
	f9_arg0:addEventHandler( "empty_menu_stack", LUI.UIRoot.ClearFocusStack )
	f9_arg0:registerEventHandler( "playerdata_available", LUI.UIRoot.PlayerDataAvailable )
	f9_arg0:registerEventHandler( "start_match", LUI.UIRoot.StartMatch )
	if not IsCodcaster() and not f9_local3 then
		f9_arg0:registerEventHandler( "challenges_fetched", LUI.UIRoot.ChallengesFetched )
		f9_arg0:registerEventHandler( "completed_challenge", LUI.UIRoot.ChallengeCompleted )
		f9_arg0:registerEventHandler( "updated_challenge", LUI.UIRoot.ChallengeUpdated )
	end
	f9_arg0:registerEventHandler( "online_data_fences_passed", LUI.UIRoot.OnlineFencesNotification )
	f9_arg0:registerEventHandler( "navigate_to_menu_uri", LUI.UIRoot.NavigateToMenu )
	f9_arg0:registerEventHandler( "os_back_button_pressed", LUI.UIRoot.TriggerBackEvent )
	f9_arg0:registerEventHandler( "clans_notification", LUI.UIRoot.ClanNotification )
	f9_arg0:registerEventHandler( "Inventory_AddItem", LUI.UIRoot.InventoryAddItem )
	f9_arg0:registerEventHandler( "Inventory_UpdateItem", LUI.UIRoot.InventoryUpdateItem )
	f9_arg0:registerEventHandler( "Inventory_DeleteItem", LUI.UIRoot.InventoryDeleteItem )
	f9_arg0:registerEventHandler( "Inventory_DownloadComplete", LUI.UIRoot.InventoryDownloadComplete )
	f9_arg0:registerEventHandler( "loot_item_transaction_complete", LUI.UIRoot.ItemTransactionComplete )
	f9_arg0:registerEventHandler( "ingamestore_purchased_product", LUI.UIRoot.IngameStorePurchaseComplete )
	f9_arg0:registerEventHandler( "open_codeconduct", LUI.UIRoot.OpenCodeOfConductIfNeeded )
	f9_arg0:registerEventHandler( "GridSetFocusedPosition", LUI.UIRoot.GridSetFocusedPosition )
	f9_arg0:registerEventHandler( "challenges_updated", LUI.UIRoot.AEStatesDownloadComplete )
	f9_arg0:registerEventHandler( "controller_inserted", f0_local0 )
	f9_arg0:replaceEventHandler( "set_focus", LUI.UIRoot.SetFocus )
	f9_arg0:replaceEventHandler( "register_actionable_element", function ( f15_arg0, f15_arg1 )
		return true
	end )
	f9_arg0:registerEventHandler( "StoreFrontFetchComplete", LUI.UIRoot.StoreFrontFetchComplete )
	f9_arg0:registerEventHandler( "genOpenBackendCrosslaunchingPopup", LUI.UIRoot.OpenBackendPartyCrosslaunchingPopup )
	if f9_local8 then
		f9_arg0:registerEventHandler( "AccountRenameSuccess", function ( element, event )
			local f14_local0 = Engine[0x29680E4E30C45C2]( element._controllerIndex )
			local f14_local1 = PLAYER_DATA.IO( element._controllerIndex, CoD.StatsGroup.NonGame )
			if f14_local0 ~= f14_local1.savedUsername:get() then
				f14_local1.savedUsername:set( f14_local0 )
				Engine[0xB81A5136C5503E4]( "uploadstats", element._controllerIndex )
			end
		end )
		f9_arg0:registerEventHandler( "offensive_username_notification", LUI.UIRoot.OffensiveUsernameNotification )
		f9_arg0:registerEventHandler( "lui_game_start_notify", function ( element, event )
			Web[0xEBE6AB796572B6E]()
		end )
	else
		f9_arg0:registerEventHandler( "OnAchievementActivated", LUI.UIRoot.XPTokenActivated )
	end
	f9_arg0:registerEventHandler( "level_change", function ( element, event )
		Install.CheckDiscStatusSP( element, event.exitTime )
	end )
	f9_arg0._postInitializeUpdate = false
	if f9_arg2 == "UIRootFull" then
		if Engine[0x12586A3F4FB490E]() then
			LUI.UIRoot.CreateAndSubscribeToMouseModel( f9_arg0, f9_local0 )
		end
	else
		LUI.UIRoot.CreateAndSubscribeToMouseModel( f9_arg0, f9_local0 )
	end
	if UIDebugOverlayUtils and f9_arg0 == LUI.primaryRoot then
		f9_arg0:registerEventHandler( "debug_overlay_frame", UIDebugOverlayUtils.FrameEvent )
	end
	if f9_local3 and f9_local7 then
		InGameStore.ShowStoreIcon( false )
	end
	if not LUI.MobileSafeAreaPaddingFixed then
		if CoD.MobileUseHorizontalSafeArea() then
			LUI.MobileSafeAreaPaddingFixed = LUI.MOBILE_SAFEAREA_HORIZONTAL_PADDING
		else
			LUI.MobileSafeAreaPaddingFixed = 0
		end
	end
	if Engine[0x7AE6126734FCDB]() or f9_local13 then
		f9_arg0.flowManager = f9_arg0:AddLayer( LUI.FlowManager.new( f9_arg0, f9_local0 ) )
		f9_arg0.fadeFrameLayer = f9_arg0:AddLayer( LUI.AspectRatioFadeFrameLayer.new( f9_arg0._controllerIndex ) )
		if f9_local13 then
			f9_arg0.mouseCursorContextualMenuLayer = f9_arg0:AddLayer( LUI.MouseCursorContextualMenuLayer.new( {
				controllerIndex = f9_local0
			} ) )
		end
		f9_arg0.debugLayer = f9_arg0:AddLayer( LUI.DebugLayer.new( {
			controllerIndex = f9_local0
		} ) )
		if f9_local9 then
			f9_arg0.prototypeLayer = f9_arg0:AddLayer( LUI.PrototypeLayer.new( {
				controllerIndex = f9_local0
			} ) )
		end
		return 
	end
	f9_arg0.fadeManager = f9_arg0:AddLayer( LUI.FadeManager.new( f9_arg0._controllerIndex ), {
		isSecondaryUpdate = true
	} )
	if f9_local6 and f9_local4 and not f9_local1 and not f9_local5 and not IsCodcaster() and Dvar[0x9E5BE3B4BBA4E0E]( 0x440D8B63386F861 ) then
		f9_arg0.BenchmarkLayer = f9_arg0:AddLayer( LUI.BenchmarkLayer.new( f9_arg0._controllerIndex ) )
	end
	if not f9_local1 then
		f9_arg0.inWorldManager = f9_arg0:AddLayer( LUI.InWorldManager.new( f9_arg0._controllerIndex ) )
		if f9_local4 then
			f9_arg0.radialMenuLayer = f9_arg0:AddLayer( LUI.RadialMenuLayer.new( f9_arg0._controllerIndex ), {
				isSecondaryUpdate = true,
				exclusive = false
			} )
		end
		f9_arg0.hudManager = f9_arg0:AddLayer( LUI.HudManager.new( {
			root = f9_arg0
		} ) )
		if Dvar[0x9E5BE3B4BBA4E0E]( 0xD7862EAA83B3B27 ) then
			f9_arg0.touchVirtualGamepadLayer = f9_arg0:AddLayer( LUI.TouchVirtualGamepadLayer.new( {
				root = f9_arg0
			} ) )
		end
		f9_arg0.scriptedWidgetLayer = f9_arg0:AddLayer( LUI.ScriptedWidgetLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
		if f9_local4 then
			if f9_local12 and IsCodcaster() then
				if CONDITIONS.IsBRGameType() then
					f9_arg0.codcasterLayer = f9_arg0:AddLayer( LUI.BRCodcasterLayer.new( f9_arg0._controllerIndex ), {
						exclusive = false
					} )
				else
					f9_arg0.codcasterLayer = f9_arg0:AddLayer( LUI.CodcasterLayer.new( f9_arg0._controllerIndex ), {
						exclusive = false
					} )
				end
			end
			if not IsCodcaster() then
				f9_arg0.reportPlayerLayer = f9_arg0:AddLayer( LUI.ReportPlayerLayer.new( f9_arg0._controllerIndex ), {
					isSecondaryUpdate = true,
					exclusive = false
				} )
			end
			if not CONDITIONS.IsDungeonsGameType() then
				f9_arg0.loadingScreenManager = f9_arg0:AddLayer( LUI.LoadingScreenManager.new( f9_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
			if CONDITIONS.IsUsingTacOpsLayer() then
				f9_arg0.tacOpsLayer = f9_arg0:AddLayer( LUI.TacOpsLayer.new( f9_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
			f9_arg0.postGameManager = f9_arg0:AddLayer( LUI.PostGameManager.new( f9_arg0._controllerIndex ), {
				isSecondaryUpdate = true,
				priority = f0_local0.POST_GAME
			} )
			if GAMEMODE_SCRIPTBUNDLE_UTILS.EndGame_UseSquadEliminatedLayer() or CONDITIONS.IsBRGameType() then
				f9_arg0.squadEliminatedLayer = f9_arg0:AddLayer( LUI.SquadEliminatedLayer.new( f9_arg0._controllerIndex ), {
					exclusive = false
				} )
				if not Dvar[0x9E5BE3B4BBA4E0E]( 0x50E336E6FB99E84 ) and not IsCodcaster() then
					if f9_local8 then
						if Dvar[0x9E5BE3B4BBA4E0E]( 0x65BF2F3CA428A8D ) then
							f9_arg0.inventoryLayer = f9_arg0:AddLayer( LUI.MobileInventoryLayer.new( f9_arg0._controllerIndex ), {
								isSecondaryUpdate = true,
								exclusive = false
							} )
						end
					elseif f9_local1 or not CONDITIONS.IsCommonInventoryEnabled() then
						f9_arg0.inventoryLayer = f9_arg0:AddLayer( LUI.InventoryLayer.new( f9_arg0._controllerIndex ), {
							isSecondaryUpdate = true,
							exclusive = false
						} )
					end
				end
				if (CONDITIONS.IsBRTutorialMap() or CONDITIONS.IsBMTutorialMap()) and not IsCodcaster() then
					f9_arg0.brTutorialEndGameFlowLayer = f9_arg0:AddLayer( LUI.BRTutorialEndGameFlowLayer.new( f9_arg0._controllerIndex ), {
						exclusive = false
					} )
				end
				if not f9_local8 then
					f9_arg0.immovableNotesLayer = f9_arg0:AddLayer( LUI.ImmovableNotesLayer.new( f9_arg0._controllerIndex ), {
						isSecondaryUpdate = true,
						exclusive = false
					} )
				end
			end
			f9_arg0.scoreboardLayer = f9_arg0:AddLayer( LUI.ScoreboardLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
			f9_arg0.hostMigrationManager = f9_arg0:AddLayer( LUI.HostMigrationManager.new(), {
				exclusive = true,
				priority = f0_local0.HOST_MIGRATION
			} )
			if f9_local9 then
				f9_arg0.gunsmithDebug = f9_arg0:AddLayer( LUI.GunsmithDebug.new( f9_arg0._controllerIndex ) )
			end
		end
		if f9_local2 or CONDITIONS.IsThirdGameMode() then
			f9_arg0.binkSkipPromptLayer = f9_arg0:AddLayer( LUI.BinkSkipPromptLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
		end
		if f9_local2 then
			f9_arg0.Snakecam = f9_arg0:AddLayer( LUI.Snakecam.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
			if Install.IsDiscCheckRequired( f9_arg0._controllerIndex ) and Dvar[0x9E5BE3B4BBA4E0E]( 0x32C6B65C38EC5E0 ) ~= true then
				LUI.UIElement.CreateEventTimer( f9_arg0, "sp_disc_check", Dvar[0x22EAAB59AA27E9B]( 0x2736A807E5C02C7 ) or 20 * 60 * 1000, {
					callbackFunc = function ()
						Install.CheckDiscStatusWrap( f9_arg0, f9_arg0._controllerIndex, nil, nil, {
							checkDiscBeforePopup = true
						} )
					end
				} )
			end
		end
	end
	if not f9_local1 and f9_local4 and CONDITIONS.IsBRGameType() and not IsCodcaster() then
		f9_arg0.brTransitionManager = f9_arg0:AddLayer( LUI.BrTransitionManager.new( f9_arg0._controllerIndex ), {
			isSecondaryUpdate = true
		} )
	end
	if f9_local1 and not IsCodcaster() and not f9_local8 then
		f9_arg0.frontEndManager = f9_arg0:AddLayer( LUI.FrontEndManager.new( f9_arg0._controllerIndex ) )
	end
	if f9_local4 and Dvar[0x9E5BE3B4BBA4E0E]( 0xA816390B12854DB ) then
		f9_arg0.HUDEditorLayer = f9_arg0:AddLayer( HUDEDITOR.Layer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if not f9_local1 and HUD_INPUT then
		f9_arg0.HUDInputLayer = f9_arg0:AddLayer( HUD_INPUT.Layer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	f9_arg0.flowManager = f9_arg0:AddLayer( LUI.FlowManager.new( f9_arg0, f9_arg0._controllerIndex ), {
		useMobileSafeAreaPadding = true
	} )
	f9_arg0.URIManager = f9_arg0:AddLayer( URI.Manager.new( f9_arg0._controllerIndex ) )
	if Engine[0x1DCFAFA7CE6F8D0]() and not f9_local1 then
		f9_arg0.ps4LightbarManager = f9_arg0:AddLayer( LUI.PS4LightbarManager.new( f9_arg0._controllerIndex ) )
	end
	if f9_local4 and not f9_local1 then
		if CONDITIONS.UsingRequisitionsMode() then
			f9_arg0.requisitionsLayer = f9_arg0:AddLayer( LUI.RequisitionsLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
		end
		f9_arg0.UIButtonCombinationLayer = f9_arg0:AddLayer( LUI.UIButtonCombinationLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if f9_local2 and not f9_local1 then
		f9_arg0.SafeLayer = f9_arg0:AddLayer( LUI.SafeLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if CONDITIONS.IsZMRoundBased() and not f9_local1 then
		f9_arg0.ZM_SafeLayer = f9_arg0:AddLayer( LUI.ZM_SafeLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if f9_local2 and not f9_local1 then
		f9_arg0.radialMenuLayer = f9_arg0:AddLayer( LUI.RadialMenuLayer.new( f9_arg0._controllerIndex ), {
			isSecondaryUpdate = true,
			exclusive = false
		} )
		if CONDITIONS.LevelHasCrafting() then
			f9_arg0.SPCraftingRadialMenuLayer = f9_arg0:AddLayer( LUI.SPCraftingRadialMenuLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
		end
		f9_arg0.SPCruiseMissileLayer = f9_arg0:AddLayer( LUI.SPCruiseMissileLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if f9_local5 and not f9_local1 and not GameX.IsSplitscreen() and Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_town" then
		f9_arg0.townIntro = f9_arg0:AddLayer( LUI.TownIntro.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if f9_local5 and not f9_local1 then
		if not CONDITIONS.IsWaveGameType() and not CONDITIONS.IsSpecOpsGameType() then
			f9_arg0.dpadPopupLayer = f9_arg0:AddLayer( LUI.DpadPopupLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
			f9_arg0.birdsEyeLayer = f9_arg0:AddLayer( LUI.BirdsEyeLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
			if Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_raid_complex" then
				f9_arg0.timedUseMeterLayer = f9_arg0:AddLayer( LUI.TimedUseMeterLayer.new( f9_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
		end
		if CONDITIONS.IsIncursionGameType() or CONDITIONS.IsMissionsGameType() then
			if not Dvar[0x9E5BE3B4BBA4E0E]( 0x50E336E6FB99E84 ) then
				f9_arg0.inventoryLayer = f9_arg0:AddLayer( LUI.InventoryLayer.new( f9_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
			if f9_arg0.dpadPopupLayer == nil and (Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_port02" or Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_raid1" or Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_raid1_maze" or Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_raid1_nums" or Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_jup_mechanics") then
				f9_arg0.dpadPopupLayer = f9_arg0:AddLayer( LUI.DpadPopupLayer.new( f9_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
		end
	end
	if not f9_local1 and CONDITIONS.IsCommonInventoryEnabled() then
		f9_arg0.inventoryLayer = f9_arg0:AddLayer( LUI.InventoryLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if CONDITIONS.InGame() then
		f9_arg0.subtitlesLayer = f9_arg0:AddLayer( LUI.SubtitlesLayer.new( f9_arg0._controllerIndex ), {
			isSecondaryUpdate = true,
			exclusive = false
		} )
	end
	f9_local15 = Dvar[0x9E5BE3B4BBA4E0E]( 0x4F6DECB7DC6092E )
	if f9_local15 then
		f9_local15 = Dvar[0x9E5BE3B4BBA4E0E]( 0x64EF49A9DA44DE7 )
	end
	local f9_local16 = false
	if not CONDITIONS.IsMobileOrMobileSim() and f9_local15 and not CONDITIONS.IsSplitscreen() and not f9_local1 and not f9_local3 then
		f9_local16 = true
	end
	if f9_local16 then
		f9_arg0.textChat = f9_arg0:AddLayer( LUI.TextChat.new( {
			controllerIndex = f9_local0
		} ), {
			isSecondaryUpdate = true
		} )
	end
	if f9_local6 and not CONDITIONS.IsEdgeToEdgeDisplay() then
		f9_arg0.fadeFrameLayer = f9_arg0:AddLayer( LUI.AspectRatioFadeFrameLayer.new( f9_arg0._controllerIndex ) )
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x7CC4CDB5E18C89A ) and not CONDITIONS.IsMobileOrMobileSim() and not f9_local3 then
		f9_arg0.lobbyStatusLayer = f9_arg0:AddLayer( LUI.LobbyStatusLayer.new( f9_arg0._controllerIndex ) )
	end
	f9_arg0.uiFadeManager = f9_arg0:AddLayer( LUI.UIFadeManager.new( f9_arg0._controllerIndex ) )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x32B46FAC461986C ) and not f9_local3 and not CONDITIONS.IsMobileOrMobileSim() then
		f9_arg0.talkersLayer = f9_arg0:AddLayer( LUI.TalkersLayer.new( f9_arg0._controllerIndex ), {
			isSecondaryUpdate = true
		} )
	end
	if f9_local1 then
		f9_arg0.UILFPGlobalWidget = f9_arg0:AddLayer( LUI.UILFPGlobalWidget.new( f9_arg0._controllerIndex ) )
	end
	if f9_local1 then
		f9_arg0:addElement( MenuBuilder.BuildRegisteredType( "BuildAndServerText" ) )
	end
	local f9_local17 = Dvar[0x9E5BE3B4BBA4E0E]( 0x523A7BD3D2554F5 )
	if f9_local17 then
		f9_local17 = Dvar[0x9E5BE3B4BBA4E0E]( 0xFD4969800942556 )
		if not f9_local17 then
			f9_local17 = CONDITIONS.InGame()
		end
	end
	if not IsSystemLink() and not BuiltInEsports[0x9894ED459E76619]() and f9_local17 and not Dvar[0x9E5BE3B4BBA4E0E]( 0x2B7DA075887F96F ) and not Engine[0x74423E76DECE3E4]() and not CONDITIONS.IsDungeonsGameType() then
		f9_arg0:addElement( MenuBuilder.BuildRegisteredType( "MatchID" ) )
	end
	if f9_local6 or f9_local9 then
		local self = LUI.UIElement.new()
		self:SetupFPSCounter()
		self:SetAlignment( LUI.Alignment.Right )
		self:SetRGB( SWATCHES[0x4DF62CF810D16C2][0xC5803D8A5526C67], 0 )
		self:SetAnchorsAndPosition( 1, 0, 0, 1, -510, -10, 10, 48 )
		self:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
		self:SetFontSize( 38 )
		self:SetWordWrap( false )
		self.id = "FPSCounter"
		f9_arg0:addElement( self )
	end
	if f9_local9 and f9_local14 then
		f9_arg0:addElement( MenuBuilder.BuildRegisteredType( "DataSourceDebug", {
			controllerIndex = f9_local0
		} ) )
	end
	if CONDITIONS.IsLaunchChunk() then
		f9_arg0.launchChunk = f9_arg0:AddLayer( LUI.LaunchChunkLayer.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if not f9_local8 then
		f9_arg0.telemetryLayer = f9_arg0:AddLayer( LUI.TelemetryLayer.new( {
			controllerIndex = f9_local0
		} ), {
			isSecondaryUpdate = true
		} )
	end
	if f9_local6 and not CONDITIONS[0x8601D4FFBB8C991]() then
		f9_arg0.achievementsManager = f9_arg0:AddLayer( LUI.AchievementsManager.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if CONDITIONS.ShowShaderPreloadBanner() then
		f9_arg0.shaderPreloadLayer = f9_arg0:AddLayer( LUI.ShaderPreloadLayer.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if CONDITIONS.MobileMatchmakingStatusCreateCondition() then
		f9_arg0.mobileMatchmakingStatusLayer = f9_arg0:AddLayer( LUI.MobileMatchmakingStatusLayer.new( {
			controllerIndex = f9_local0
		} ), {
			useMobileSafeAreaPadding = true
		} )
	end
	if CONDITIONS.MobilePurchaseCelebrationLayerCreateCondition() then
		f9_arg0.mobilePurchaseCelebrationLayer = f9_arg0:AddLayer( LUI.MobilePurchaseCelebrationLayer.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if CONDITIONS.MobileUIDevLayerCreateCondition() then
		f9_arg0.mobileUIDevLayer = f9_arg0:AddLayer( LUI.MobileUIDevLayer.new( {
			controllerIndex = f9_local0
		} ) )
	end
	f9_arg0.notificationManager = f9_arg0:AddLayer( LUI.NotificationManager.new( {
		controllerIndex = f9_local0
	} ) )
	f9_arg0.toastManager = f9_arg0:AddLayer( LUI.ToastManager.new( {
		controllerIndex = f9_local0
	} ), {
		isSecondaryUpdate = true,
		useMobileSafeAreaPadding = CONDITIONS.IsMobileOrMobileSim()
	} )
	if not f9_local8 then
		PARTY.AddPartyEventHandlers( f9_arg0.notificationManager, PARTY.BasePartyEventHandlers )
	end
	if f9_local8 then
		f9_arg0.MobileWaitTimeLayer = f9_arg0:AddLayer( LUI.MobileWaitTimeLayer.new( f9_arg0._controllerIndex ) )
		if CONDITIONS.IsFTUEMobileEnabled() and (f9_local1 or CONDITIONS.IsMagellanGameType()) then
			f9_arg0.MobileFTUELayer = f9_arg0:AddLayer( LUI.MobileFTUELayer.new( f9_arg0._controllerIndex ) )
		end
	end
	f9_arg0.mouseCursorTooltipLayer = f9_arg0:AddLayer( LUI.MouseCursorTooltipLayer.new( {
		controllerIndex = f9_local0
	} ) )
	f9_arg0.mouseCursorContextualMenuLayer = f9_arg0:AddLayer( LUI.MouseCursorContextualMenuLayer.new( {
		controllerIndex = f9_local0
	} ) )
	if f9_local1 then
		f9_arg0.webviewManager = f9_arg0:AddLayer( LUI.WebViewManager.new( {
			controllerIndex = f9_local0
		} ) )
		f9_arg0.webviewManager:PostInit()
		f9_arg0.webURIManager = f9_arg0:AddLayer( LUI.WebURIManager.new( {
			controllerIndex = f9_local0
		} ) )
		f9_arg0.webURIManager:PostInit()
		f9_arg0.worldCupManager = f9_arg0:AddLayer( LUI.WorldCupManager.new( {
			controllerIndex = f9_local0
		} ) )
		f9_arg0.worldCupManager:PostInit()
	end
	if f9_local1 then
		f9_arg0.FrontendPresenceManager = f9_arg0:AddLayer( LUI.FrontendPresenceManager.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if f9_local1 then
		f9_arg0.RejoinManager = f9_arg0:AddLayer( LUI.RejoinManager.new( f9_arg0._controllerIndex ) )
	end
	if f9_local1 then
		f9_arg0.mainMenuPopupManager = f9_arg0:AddLayer( LUI.MainMenuPopupManager.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if CONDITIONS.IsMobileMSWatermarkEnabled() and (f9_local1 or f9_local4) then
		if f9_local1 then
			DataSources.frontEnd.primaryPlayerUserName = LUI.DataSourceInGlobalModel.new( "frontend.primaryPlayerName" )
		end
		local self = MenuBuilder.BuildRegisteredType( "MobileMilestoneWatermark", {
			controllerIndex = f9_local0
		} )
		self:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		f9_arg0:addElement( self )
	end
	f9_arg0.debugLayer = f9_arg0:AddLayer( LUI.DebugLayer.new( {
		controllerIndex = f9_local0
	} ) )
	if f9_local9 then
		f9_arg0.prototypeLayer = f9_arg0:AddLayer( LUI.PrototypeLayer.new( {
			controllerIndex = f9_local0
		} ) )
		RatLua.InitLui()
	end
	if f9_local1 then
		DataSources.frontEnd.lobby.isMatchmakingActive = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.isMatchmakingActive" )
		f9_arg0:SubscribeToModel( DataSources.frontEnd.lobby.isMatchmakingActive:GetModel( f9_arg0._controllerIndex ), function ( f10_arg0, f10_arg1 )
			if DataModel[0x614D394F6F9A18D]( f10_arg0 ) and not (Dvar[0x22EAAB59AA27E9B]( 0x4A26A691E6EDBDE ) == Enum[0x3085A67688502CD][0x7C26AC6414E926F]) then
				PLAY_MENU.UpdateLastPlayedWithCurrent( f10_arg1._controllerIndex )
			end
		end, true )
	end
	STREAMING.Init( f9_local1 )
	OPTIONS.InitOptionsData( f9_arg0._controllerIndex )
	if f9_local7 then
		CoD.GameDVRReset()
	end
	ResetDynamicImages()
end

LUI.UIRoot.ReloadChatForDebugOption = function ()
	if not Engine[0x2DA54CF5D6B7F02]() then
		return 
	end
	local f8_local0 = Engine[0xEE6F69FEA944B13]()
	if not f8_local0 then
		return 
	elseif f8_local0.textChat then
		f8_local0:RemoveElement( f8_local0.textChat )
		f8_local0.textChat = nil
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x4F6DECB7DC6092E ) then
		local f8_local1 = f8_local0
		local f8_local2 = f8_local0.AddLayer
		local f8_local3 = LUI.TextChat.new
		local f8_local4 = {}
		local f8_local5 = f8_local0._controllerIndex
		if not f8_local5 then
			f8_local5 = Engine[0x45B054C920178E9]()
		end
		f8_local4.controllerIndex = f8_local5
		f8_local0.textChat = f8_local2( f8_local1, f8_local3( f8_local4 ) )
	end
end

LUI.UIRoot.GetControllerIndex = function ( f7_arg0 )
	return f7_arg0._controllerIndex
end

LUI.UIRoot.GetRootFromName = function ( f6_arg0 )
	return LUI.roots[f6_arg0]
end

LUI.UIRoot.GetRootForControllerIndex = function ( f5_arg0 )
	for f5_local3, f5_local4 in pairs( LUI.roots ) do
		if f5_local4._controllerIndex == f5_arg0 then
			return f5_local4
		end
	end
	return LUI.primaryRoot
end

local f0_local20 = nil
LUI.UIRoot.SetTabName = function ( f4_arg0 )
	local f4_local0
	if not f4_arg0 then
		f4_local0 = f4_arg0
	else
		f4_local0 = nil
	end
	f0_local0 = f4_local0
end

LUI.UIRoot.GetTabName = function ()
	return f0_local0
end

LUI.UIRoot.CreateNavigationHistory = function ( f2_arg0, f2_arg1 )
	local f2_local0 = LUI.UIRoot.GetRootForControllerIndex( f2_arg0 )
	local f2_local1 = {}
	if f2_local0 ~= nil then
		local f2_local2 = f2_local0.flowManager:GetStackTop()
		if f2_local2 ~= nil then
			f2_local2.tabName = f2_arg1
		end
		for f2_local7, f2_local8 in ipairs( f2_local0.flowManager.menuInfoStack ) do
			local f2_local6 = f2_local8.tabName
			if not f2_local6 then
				f2_local6 = f2_local8.name
			end
			f2_local1[f2_local7] = f2_local6
		end
	end
	return f2_local1
end

LUI.UIRoot.GetNavigationHistory = function ( f1_arg0 )
	local f1_local0 = LUI.UIRoot.GetRootForControllerIndex( f1_arg0 )
	local f1_local1 = {}
	if f1_local0 ~= nil then
		for f1_local5, f1_local6 in ipairs( f1_local0.flowManager.menuInfoStack ) do
			f1_local1[f1_local5] = f1_local6.tabName or f1_local6.name
		end
	end
	return f1_local1
end

