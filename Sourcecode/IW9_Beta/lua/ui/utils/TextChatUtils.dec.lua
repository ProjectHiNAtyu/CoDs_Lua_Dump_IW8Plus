-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
TEXTCHAT = TEXTCHAT or {}
TEXTCHAT.NO_CHAT = Enum[0xEBC6725912C9693][0xBB8481C813E8268]
TEXTCHAT.FIRST_VALID_CHAT_INDEX = Enum[0xEBC6725912C9693][0x3BC4679E96194E9]
TEXTCHAT.LAST_VALID_CHAT_INDEX = Enum[0xEBC6725912C9693][0x7C61CC549527A1]
TEXTCHAT.INVALID_CHAT_ID = "0"
TEXTCHAT.IN_CREATION_CHAT_ID = "-1"
TEXTCHAT.INVALID_MESSAGE_ID = 0
local f0_local0 = function ( f94_arg0, f94_arg1 )
	local f94_local0 = tonumber( f94_arg1.id )
	local f94_local1 = Engine[0xB686A0A723E6442]()
	local f94_local2 = f94_local1 * (f94_arg0.id - 1) + 1
	local f94_local3 = f94_local2 + f94_local1
	local f94_local4
	if f94_local0 then
		f94_local4 = f94_local0
	elseif f94_local2 > f94_local0 or f94_local0 >= f94_local3 then
		f94_local4 = false
	else
		f94_local4 = true
	end
	return f94_local4
end

TEXTCHAT.ChatChannels = {
	[Enum[0xEBC6725912C9693][0x7DBC6C7E698D90F]] = {
		titleFormat = 0x7B8E91BD1DD0D05,
		textFormat = 0x3F09141B80DA160,
		getColor = function ( f93_arg0 )
			return COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType( f93_arg0, COLORBLIND_UTILS.CUSTOM_COLORS.PARTY )
		end,
		name = Engine[0xED84C33EC5F01EA]( 0xF57331327CC9116 ) .. ":"
	},
	[Enum[0xEBC6725912C9693][0x241689C6BFC80DB]] = {
		getColor = function ( f92_arg0 )
			return SWATCHES.BattleNetChat.matchChat
		end,
		name = Engine[0xED84C33EC5F01EA]( 0x83723AF5970F3DB ) .. ":",
		titleFormat = {
			preGame = 0xA19CE9B6C0DF711,
			ally = 0x85EB895FE2C0BD7,
			enemy = 0x17EE638A8CB577B
		},
		textFormat = {
			enemy = 0x288FB256829A87C,
			ally = 0xB7142D390C8EBBE
		}
	},
	[Enum[0xEBC6725912C9693][0xDDDB40E94530E30]] = {
		titleFormat = 0xDA53D445C072AEA,
		textFormat = 0x9BF2090C2A01A6D,
		getColor = function ( f91_arg0 )
			return COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType( f91_arg0, COLORBLIND_UTILS.CUSTOM_COLORS.ALLY )
		end,
		name = Engine[0xED84C33EC5F01EA]( 0x4FC57B89D7CCEEB ) .. ":"
	},
	[Enum[0xEBC6725912C9693][0x3BC4679E96194E9]] = {
		getColor = function ( f90_arg0 )
			return SWATCHES.BattleNetChat.clansChat
		end,
		name = Engine[0xED84C33EC5F01EA]( 0xD7CA91D3EC1DC4 ) .. ":"
	},
	[Enum[0xEBC6725912C9693][0x7C61CC549527A1]] = {
		titleFormat = 0x5A599B3861CFEAB,
		getColor = function ( f89_arg0 )
			return COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType( f89_arg0, COLORBLIND_UTILS.CUSTOM_COLORS.YOU )
		end
	},
	[Enum[0xEBC6725912C9693][0x57219D9622CBD0B]] = {
		isStaticId = true,
		name = "SystemEvent",
		id = {
			id = 1
		},
		typeCheckFunction = f0_local0,
		getColor = function ( f88_arg0 )
			return SWATCHES.BattleNetChat.systemEvent
		end
	},
	[Enum[0xEBC6725912C9693][0x84329FEC8098255]] = {
		titleFormat = 0x3A502C66745E78B,
		textFormat = 0x9BF2090C2A01A6D,
		getColor = function ( f87_arg0 )
			return COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType( f87_arg0, COLORBLIND_UTILS.CUSTOM_COLORS.ALLY )
		end
	}
}
TEXTCHAT.DisplayStates = {
	EXPANDED_INACTIVE = 4,
	SINGLE_LINE = 2,
	ALL_LINES = 3,
	NONE = 1
}
TEXTCHAT.Styles = {
	MENU = 1,
	INGAME = 2
}
TEXTCHAT.TextChatChannelEntryTypes = {
	Category = 3,
	ModelChannel = 4,
	Channel = 2,
	Empty = 1
}
TEXTCHAT.DisplayStatesSequences = {
	[TEXTCHAT.DisplayStates.NONE] = {
		[TEXTCHAT.Styles.MENU] = {
			anim = nil
		},
		[TEXTCHAT.Styles.INGAME] = {
			anim = nil
		}
	},
	[TEXTCHAT.DisplayStates.SINGLE_LINE] = {
		[TEXTCHAT.Styles.MENU] = {
			noMouseInBody = true,
			anim = {
				nil,
				"CommonMenu",
				"CollapsedSingle"
			}
		},
		[TEXTCHAT.Styles.INGAME] = {
			noMouseInBody = true,
			anim = "InGameCollapsed"
		}
	},
	[TEXTCHAT.DisplayStates.ALL_LINES] = {
		[TEXTCHAT.Styles.MENU] = {
			anim = {
				nil,
				"CommonMenu",
				"Expanded"
			}
		},
		[TEXTCHAT.Styles.INGAME] = {
			anim = "InGameExpanded"
		}
	},
	[TEXTCHAT.DisplayStates.EXPANDED_INACTIVE] = {
		[TEXTCHAT.Styles.MENU] = {
			anim = {
				nil,
				"CommonMenu",
				"ExpandedInactive"
			}
		},
		[TEXTCHAT.Styles.INGAME] = {
			anim = "InGameExpandedInactive"
		}
	}
}
TEXTCHAT.DefaultMinimizedState = TEXTCHAT.DisplayStates.SINGLE_LINE
TEXTCHAT.PrivateChatChannels = {}
TEXTCHAT.WantedChatLines = 30
TEXTCHAT.MessagesFadeOutTimeInMs = 8000
TEXTCHAT.GamepadOpenChatTimeInMs = 1000
TEXTCHAT.CrossplayWarningTimeInMs = 10000
TEXTCHAT.MaxAutocompleteOptions = 6
TEXTCHAT.LastMessageText = nil
TEXTCHAT.LastMessageColor = nil
TEXTCHAT.LastUserSetChannel = TEXTCHAT.NO_CHAT
TEXTCHAT.ActiveChatID = TEXTCHAT.INVALID_CHAT_ID
TEXTCHAT.ActiveChatType = TEXTCHAT.NO_CHAT
TEXTCHAT.ActiveChatData = {}
TEXTCHAT.FramedMessageId = {}
TEXTCHAT.Channels = {}
TEXTCHAT.ChatMessages = {}
TEXTCHAT.ChannelCategoryTypes = {
	CUSTOM = 3,
	GAME = 2,
	WHISPER = 4,
	NONE = 1
}
local f0_local1 = function ( f86_arg0, f86_arg1 )
	local f86_local0 = Social[0x9B41909B1131594]( f86_arg0 )
	if f86_arg1 == Enum[0x71816B8A6999EAF][0x68DC478D31ACCEA] then
		return f86_local0
	end
	local f86_local1 = {}
	for f86_local5, f86_local6 in pairs( f86_local0 ) do
		local f86_local7 = LUI.DataSourceForSubmodelUserdata.DataSourceForSubmodelUserdata( f86_local6, "partyType" )
		if DataModel[0x614D394F6F9A18D]( f86_local7:GetModel( f86_arg0 ) ) == f86_arg1 then
			table.insert( f86_local1, f86_local6 )
		end
	end
	return f86_local1
end

local f0_local2 = function ( f85_arg0, f85_arg1, f85_arg2 )
	local f85_local0 = {}
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xA726B5609663941 ) then
		local f85_local1 = f0_local0( f85_arg0, f85_arg1 )
		if f85_local1 then
			for f85_local5, f85_local6 in pairs( f85_local1 ) do
				table.insert( f85_local0, {
					model = f85_local6,
					type = f85_arg2
				} )
			end
		end
	else
		for f85_local5, f85_local6 in pairs( Social[0xC57868DE2B09F52]( f85_arg0 ) ) do
			local f85_local7 = Social[0x163314C01029FB1]( f85_arg0, f85_local6 )
			local f85_local8 = ChatChannel[0x3A9F1F51625857F]( f85_arg0, f85_local7.textChatId )
			if f85_local8 and f85_local8.channelType == f85_arg1 then
				table.insert( f85_local0, {
					id = f85_local8.id,
					name = f85_local8.name,
					type = f85_local8.channelType
				} )
			end
		end
	end
	return f85_local0
end

local f0_local3 = function ( f84_arg0 )
	return f0_local0( f84_arg0, Enum[0x71816B8A6999EAF][0x5F503BE0C38AF61], Enum[0xEBC6725912C9693][0x7DBC6C7E698D90F] )
end

local f0_local4 = function ( f83_arg0 )
	return f0_local0( f83_arg0, Enum[0x71816B8A6999EAF][0xC0E29ADAA5D346F], Enum[0xEBC6725912C9693][0x7B4035B60952BF5] )
end

local f0_local5 = function ( f82_arg0 )
	local f82_local0 = {}
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xB3A545C169BA65F ) then
		local f82_local1 = ChatChannel[0xDA3F244B05D6806]( f82_arg0 )
		if f82_local1 then
			for f82_local5, f82_local6 in pairs( f82_local1 ) do
				table.insert( f82_local0, {
					model = f82_local6,
					type = Enum[0xEBC6725912C9693][0x7C61CC549527A1]
				} )
			end
		end
	else
		f82_local0 = ChatChannel[0xD208983B645FC0E]( f82_arg0, 0, 0, Enum[0xEBC6725912C9693][0x7C61CC549527A1] )
	end
	return f82_local0
end

TEXTCHAT.IsTextChatOptionEnabled = function ( f81_arg0 )
	return Engine[0x7B17D94988FD5D0]( "textChatEnabled", f81_arg0 )
end

TEXTCHAT.IsTextChatAllowedNotRestricted = function ( f80_arg0 )
	local f80_local0 = CONDITIONS.IsTextChatEnabled( f80_arg0 )
	if f80_local0 then
		if not Engine[0xB66CAA419F1D11A]( f80_arg0 ) then
			f80_local0 = TEXTCHAT.IsTextChatOptionEnabled( f80_arg0 )
			if f80_local0 then
				f80_local0 = not Social[0x65E77807D809B6B]()
			end
		else
			f80_local0 = false
		end
	end
	return f80_local0
end

TEXTCHAT.ChannelCategories = {
	{
		type = TEXTCHAT.ChannelCategoryTypes.GAME,
		name = Engine[0xED84C33EC5F01EA]( 0xE3B8103E512FB2A ),
		channels = {
			{
				needOrdering = false,
				multipleEntries = true,
				getChannelsIdFunction = f0_local3
			}
		}
	},
	{
		type = TEXTCHAT.ChannelCategoryTypes.CUSTOM,
		getName = function ()
			local f79_local0 = ChatChannel[0xCA7854751F9DA0C]( Enum[0xEBC6725912C9693][0x7B4035B60952BF5] )
			local f79_local1 = "??"
			local f79_local2 = Engine[0xED84C33EC5F01EA]
			local f79_local3 = 0x7C5F607E9901270
			local f79_local4 = MarkLocalized( f79_local0 )
			return f79_local2( f79_local3, MarkLocalized( f79_local1 ) )
		end,
		channels = {
			{
				needOrdering = true,
				multipleEntries = true,
				type = Enum[0xEBC6725912C9693][0x7B4035B60952BF5],
				getChannelsIdFunction = f0_local4
			}
		}
	},
	{
		type = TEXTCHAT.ChannelCategoryTypes.WHISPER,
		getName = function ()
			local f78_local0 = ChatChannel[0xCA7854751F9DA0C]( Enum[0xEBC6725912C9693][0x7C61CC549527A1] )
			local f78_local1 = Engine[0xED84C33EC5F01EA]
			local f78_local2 = 0x8C4EA622221A758
			return f78_local1( MarkLocalized( f78_local0 ) )
		end,
		channels = {
			{
				needOrdering = true,
				multipleEntries = true,
				type = Enum[0xEBC6725912C9693][0x7C61CC549527A1],
				getChannelsIdFunction = f0_local5
			}
		}
	}
}
TEXTCHAT.ChatCommands = {
	{
		names = {
			nil,
			"/t",
			"/team"
		},
		autocompleteListString = "/t " .. Engine[0xED84C33EC5F01EA]( 0x31DB1B6CFE28297 ),
		chatType = Enum[0xEBC6725912C9693][0xDDDB40E94530E30],
		execute = function ( f77_arg0, f77_arg1 )
			if TEXTCHAT.TryToChangeChannel( f77_arg0, Enum[0xEBC6725912C9693][0xDDDB40E94530E30] ) then
				return true
			else
				return false, Engine[0xED84C33EC5F01EA]( 0x3DA035BA16E1D38 )
			end
		end
	},
	{
		names = {
			nil,
			"/m",
			"/match"
		},
		autocompleteListString = "/m " .. Engine[0xED84C33EC5F01EA]( 0xD6128C084D2C339 ),
		chatType = Enum[0xEBC6725912C9693][0x241689C6BFC80DB],
		execute = function ( f76_arg0, f76_arg1 )
			if TEXTCHAT.TryToChangeChannel( f76_arg0, Enum[0xEBC6725912C9693][0x241689C6BFC80DB] ) then
				return true
			else
				return false, Engine[0xED84C33EC5F01EA]( 0xA5D7ABD741E59D2 )
			end
		end
	},
	{
		names = {
			nil,
			"/p",
			"/party"
		},
		autocompleteListString = "/p " .. Engine[0xED84C33EC5F01EA]( 0x598DD24304E2E90 ),
		chatType = Enum[0xEBC6725912C9693][0x7DBC6C7E698D90F],
		execute = function ( f75_arg0, f75_arg1 )
			if TEXTCHAT.TryToChangeChannel( f75_arg0, Enum[0xEBC6725912C9693][0x7DBC6C7E698D90F] ) then
				return true
			else
				return false, Engine[0xED84C33EC5F01EA]( 0x9461C11B5CCB13B )
			end
		end
	},
	{
		secondParamListType = "friends",
		names = {
			nil,
			"/w",
			"/whisper"
		},
		autocompleteListString = "/w " .. Engine[0xED84C33EC5F01EA]( 0xEAA3874FBCE0DE ),
		chatType = Enum[0xEBC6725912C9693][0x7C61CC549527A1],
		execute = function ( f74_arg0, f74_arg1, f74_arg2 )
			if #f74_arg2 < 2 then
				return true
			end
			local f74_local0 = f74_arg2[2]
			local f74_local1 = nil
			if f74_arg0._lastFirstParameterMetadata then
				f74_local1 = f74_arg0._lastFirstParameterMetadata.xuid
			else
				local f74_local2 = Social[0x1C2029E1F856758]( f74_arg1, f74_local0 )
				if 0 < #f74_local2 then
					if #f74_local2 == 1 then
						local f74_local3 = f74_local2[1].xuid
						if not f74_local3 then
							f74_local1 = f74_local3
						else
							f74_local1 = f74_local2[1].xuidString
						end
					else
						return false, Engine[0xED84C33EC5F01EA]( 0xA92232A71042F98 )
					end
				end
			end
			if f74_local1 ~= nil then
				TEXTCHAT.InitiateWhisperWithXUID( f74_arg0, f74_arg1, f74_local1, f74_local0 )
				return true
			end
			return false, Engine[0xED84C33EC5F01EA]( 0x718C4AA1487AFA1 )
		end,
		getFirstParamsList = function ( f73_arg0, f73_arg1 )
			local f73_local0 = {}
			local f73_local1 = Friends[0xF416BE39A1048FC]( f73_arg0 )
			if f73_local1 and 0 < f73_local1.count then
				for f73_local5, f73_local6 in ipairs( f73_local1.friends ) do
					table.insert( f73_local0, {
						name = f73_arg1 .. f73_local6.gamertag,
						displayName = f73_local6.gamertag,
						chatType = Enum[0xEBC6725912C9693][0x7C61CC549527A1],
						xuid = f73_local6.xuid
					} )
				end
			end
			return f73_local0
		end
	},
	{
		names = {
			nil,
			"/r",
			"/reply"
		},
		autocompleteListString = "/r " .. Engine[0xED84C33EC5F01EA]( 0xFA037733C88D930 ),
		chatType = Enum[0xEBC6725912C9693][0x7C61CC549527A1],
		execute = function ( f72_arg0, f72_arg1, f72_arg2 )
			if f72_arg0._replyTargetChatId == nil then
				return false, Engine[0xED84C33EC5F01EA]( 0x43C62DDD029C1EB )
			elseif not TEXTCHAT.UpdateActiveChannel( Enum[0xEBC6725912C9693][0x7C61CC549527A1], f72_arg0._replyTargetChatId ) then
				return false, Engine[0xED84C33EC5F01EA]( 0xB7E8A617C1874B5 )
			else
				return true
			end
		end
	}
}
local f0_local6 = function ( f71_arg0 )
	return f71_arg0 == TEXTCHAT.DisplayStates.ALL_LINES
end

local f0_local7 = function ( f70_arg0 )
	return f70_arg0 == TEXTCHAT.DisplayStates.EXPANDED_INACTIVE
end

local f0_local8 = function ( f69_arg0 )
	return f69_arg0 == TEXTCHAT.DisplayStates.NONE
end

TEXTCHAT.IsValidChatID = function ( f68_arg0 )
	if not f68_arg0 then
		return false
	else
		assert( type( f68_arg0 ) == "string", "chatID must be a string to support uint64" )
		return f68_arg0 ~= TEXTCHAT.INVALID_CHAT_ID
	end
end

TEXTCHAT.CanConnectToTextChat = function ()
	return Engine[0x69497335ABCAD95]()
end

TEXTCHAT.IsChatInactive = function ( f66_arg0 )
	local f66_local0 = f66_arg0._chatInactive
	if not f66_local0 then
		f66_local0 = MP
		if f66_local0 then
			f66_local0 = MP.IsOffline()
		end
	end
	return f66_local0
end

TEXTCHAT.GetChatType = function ( f65_arg0, f65_arg1 )
	local f65_local0 = ChatChannel[0x3A9F1F51625857F]( f65_arg0, f65_arg1 )
	local f65_local1
	if f65_local0 then
		f65_local1 = f65_local0.channelType
		if not f65_local1 then
		
		else
			return f65_local1
		end
	end
	f65_local1 = Enum[0xEBC6725912C9693][0xCD9766BA636F094]
end

TEXTCHAT.IsWhisper = function ( f64_arg0, f64_arg1 )
	return TEXTCHAT.GetChatType( f64_arg0, f64_arg1 ) == Enum[0xEBC6725912C9693][0x7C61CC549527A1]
end

TEXTCHAT.IsFromSystem = function ( f63_arg0 )
	return f63_arg0 == Enum[0xEBC6725912C9693][0x57219D9622CBD0B]
end

TEXTCHAT.IsStateTextZoneClickable = function ( f62_arg0 )
	return f62_arg0 == TEXTCHAT.DisplayStates.ALL_LINES
end

TEXTCHAT.IsCurrentStateTyping = function ( f61_arg0 )
	return f0_local0( f61_arg0._currentState )
end

TEXTCHAT.IsCurrentExpandedInactive = function ( f60_arg0 )
	return f0_local0( f60_arg0._currentState )
end

TEXTCHAT.IsCurrentStateNoInputs = function ( f59_arg0 )
	return f0_local0( f59_arg0._currentState )
end

TEXTCHAT.IsStateOpened = function ( f58_arg0 )
	local f58_local0 = f0_local0( f58_arg0 )
	if not f58_local0 then
		f58_local0 = f0_local0( f58_arg0 )
	end
	return f58_local0
end

TEXTCHAT.IsCurrentStateOpened = function ( f57_arg0 )
	return TEXTCHAT.IsStateOpened( f57_arg0._currentState )
end

TEXTCHAT.IsChannelValidToTypeIn = function ( f56_arg0 )
	local f56_local0
	if f56_arg0 == nil or f56_arg0 < TEXTCHAT.FIRST_VALID_CHAT_INDEX or f56_arg0 > TEXTCHAT.LAST_VALID_CHAT_INDEX then
		f56_local0 = false
	else
		f56_local0 = true
	end
	return f56_local0
end

TEXTCHAT.IsCurrentChannelValidToTypeIn = function ()
	return TEXTCHAT.IsChannelValidToTypeIn( TEXTCHAT.ActiveChatType )
end

TEXTCHAT.CanChangeChannel = function ( f54_arg0 )
	return not TEXTCHAT.IsChatInactive( f54_arg0 )
end

TEXTCHAT.TryToChangeChannel = function ( f53_arg0, f53_arg1 )
	local f53_local0 = TEXTCHAT.CanChangeChannel( f53_arg0 )
	if f53_local0 then
		TEXTCHAT.UpdateActiveChannel( f53_arg1, nil, f53_arg0 )
		return true
	else
		return not f53_local0
	end
end

TEXTCHAT.IsChatVisibleInMenu = function ( f52_arg0 )
	local f52_local0
	if f52_arg0 then
		f52_local0 = f52_arg0
	elseif f52_arg0.chatOptOut or f52_arg0.chatMinimizedDisplayState == TEXTCHAT.DisplayStates.NONE then
		f52_local0 = false
	else
		f52_local0 = true
	end
	return f52_local0
end

TEXTCHAT.IsInGameStyle = function ()
	local f51_local0
	if not LUI.FlowManager.IsAnyInStack( {
		nil,
		nil,
		"OptionsMenuNewLayout",
		"OptionsMenuLayout",
		"SocialMenu",
		"TrialResults",
		[1] = CoD.GetPauseMenu()
	} ) and not Engine[0x12586A3F4FB490E]() then
		f51_local0 = not LUI.HUD.IsChatAllowedInHUD()
	else
		f51_local0 = false
	end
	return f51_local0
end

TEXTCHAT.GetDefaultStateForMenu = function ( f50_arg0 )
	local f50_local0
	if f50_arg0 then
		f50_local0 = f50_arg0.chatMinimizedDisplayState
		if not f50_local0 then
			f50_local0 = TEXTCHAT.DefaultMinimizedState
			if not f50_local0 then
				f50_local0 = TEXTCHAT.DisplayStates.NONE
			end
		end
	else
		f50_local0 = TEXTCHAT.DisplayStates.NONE
	end
	return f50_local0
end

TEXTCHAT.IsStaticChannelId = function ( f49_arg0 )
	return TEXTCHAT.ChatChannels[f49_arg0].isStaticId
end

TEXTCHAT.AreChatIDsEqual = function ( f48_arg0, f48_arg1 )
	if f48_arg0 == nil or f48_arg1 == nil then
		return false
	else
		local f48_local0
		if f48_arg0.id ~= f48_arg1.id or f48_arg0.label ~= f48_arg1.label or f48_arg0.epoch ~= f48_arg1.epoch then
			f48_local0 = false
		else
			f48_local0 = true
		end
	end
	return f48_local0
end

TEXTCHAT.GetCommandAndParamsFromString = function ( f47_arg0 )
	local f47_local0 = {
		string.match( f47_arg0, "(.-)%s(.*)" )
	}
	if #f47_local0 == 0 then
		table.insert( f47_local0, f47_arg0 )
	end
	return f47_local0
end

TEXTCHAT.CloseAutocompleteList = function ( f46_arg0 )
	assert( f46_arg0, "Missing the text chat argument!" )
	assert( f46_arg0.TextChatFooter, "The text chat is missing the footer!" )
	assert( f46_arg0.TextChatFooter.InputTextButton, "The text chat's footer is missing the input button!" )
	if f46_arg0.TextChatFooter.InputTextButton.TextChatAutocompleteListContainer then
		f46_arg0.TextChatFooter.InputTextButton.TextChatAutocompleteListContainer:closeTree()
		f46_arg0.TextChatFooter.InputTextButton.TextChatAutocompleteListContainer = nil
	end
end

TEXTCHAT.ExitAutocomplete = function ( f45_arg0 )
	assert( f45_arg0, "Missing the text chat argument!" )
	f45_arg0._lastInputText = ""
	f45_arg0._lastAutocompledText = nil
	TEXTCHAT.CloseAutocompleteList( f45_arg0 )
end

TEXTCHAT.DisplayIntroMessage = function ( f42_arg0 )
	local f42_local0 = function ()
		local f44_local0, f44_local1, f44_local2, f44_local3 = Friends[0x225FFBEAEDD4168]( f42_arg0._controllerIndex )
		if f44_local3 <= 0 then
			if Engine[0x8B495DC361731F7]( f42_arg0._controllerIndex ) then
				
			end
		elseif Engine[0x8B495DC361731F7]( f42_arg0._controllerIndex ) then
			
		else
			
		end
	end
	
	if Engine[0x4093E2CC78AFD4A]( Engine[0x45B054C920178E9]() ) and not Dvar[0x9E5BE3B4BBA4E0E]( 0xE4C65D6181B6CB2 ) then
		Dvar[0x8EA06EEDB58D872]( 0xE4C65D6181B6CB2, true )
		local f42_local1 = f42_arg0:Wait( TEXTCHAT.CrossplayWarningTimeInMs )
		f42_local1.onComplete = function ()
			f42_arg0()
		end
		
	else
		f42_local0()
	end
end

TEXTCHAT.UpdateActiveChannel = function ( f41_arg0, f41_arg1, f41_arg2 )
	local f41_local0, f41_local1 = nil
	if not f41_arg2 then
		f41_arg2 = LUI.TextChat.GetChat()
	end
	if f41_arg0 == Enum[0xEBC6725912C9693][0x7C61CC549527A1] then
		f41_local0 = TEXTCHAT.PrivateChatChannels[f41_arg1]
		if f41_local0 then
			f41_local1 = f41_local0.id
			if f41_local0.name == "" then
				for f41_local5, f41_local6 in ipairs( Social[0x9B0E27A8C177754]( f41_local0.id, Enum[0xEBC6725912C9693][0x7C61CC549527A1] ) ) do
					if f41_local6.gamertag and not f41_local6.localPlayer then
						f41_local0.name = f41_local6.gamertag
					end
				end
			end
		else
			return false
		end
	else
		if TEXTCHAT.ChatChannels[f41_arg0] then
			local f41_local7 = tostring( TEXTCHAT.ChatChannels[f41_arg0].id )
			if not f41_local7 then
				f41_local1 = f41_local7
			else
				f41_local1 = 0
			end
		end
		f41_local1 = 0
	end
	if not CONDITIONS.IsMobileTextChatEnabled() then
		f41_arg2:SetChannelLabelByType( f41_arg0, f41_local0 )
	end
	local f41_local7 = ChatChannel[0xDE0B3EA8DDC5A8D]
	local f41_local3 = f41_arg2._controllerIndex
	local f41_local4
	if not f41_local1 then
		f41_local4 = f41_local1
	else
		f41_local4 = 0
	end
	f41_local7( f41_local3, f41_local4 )
	f41_arg2._currentLobbyChatType = f41_arg0
	f41_arg2.TextChatFooter.InputTextButton:UpdateInputHintText( {
		controllerIndex = f41_arg2._controllerIndex
	} )
	return true
end

TEXTCHAT.GetActiveChannelCount = function ()
	local f40_local0 = 0
	for f40_local4, f40_local5 in ipairs( TEXTCHAT.ChatChannels ) do
		if f40_local5.id ~= nil and not f40_local5.isStaticId then
			f40_local0 = f40_local0 + 1
		end
	end
	for f40_local4, f40_local5 in pairs( TEXTCHAT.PrivateChatChannels ) do
		if f40_local5.id ~= nil then
			f40_local0 = f40_local0 + 1
		end
	end
	return f40_local0
end

TEXTCHAT.InitiateWhisperWithXUID = function ( f39_arg0, f39_arg1, f39_arg2, f39_arg3 )
	if f39_arg2 ~= "" then
		local f39_local0 = Friends[0xF416BE39A1048FC]( f39_arg1 )
		if f39_local0 and 0 < f39_local0.count then
			for f39_local4, f39_local5 in ipairs( f39_local0.friends ) do
				if f39_local5.xuid == f39_arg2 then
					f39_arg3 = f39_local5.gamertag
					break
				end
			end
		end
		local f39_local1 = {}
		table.insert( f39_local1, f39_arg2 )
		local f39_local2 = ChatChannel[0x74E5FEADEA773FD]( f39_arg1, Enum[0xEBC6725912C9693][0x7C61CC549527A1], f39_local1 )
		if TEXTCHAT.PrivateChatChannels[f39_local2] == nil then
			TEXTCHAT.ChannelAdded( f39_arg0, {
				initiatedChat = true,
				chatType = Enum[0xEBC6725912C9693][0x7C61CC549527A1],
				chatName = f39_arg3,
				chatId = f39_local2
			} )
		else
			TEXTCHAT.UpdateActiveChannel( Enum[0xEBC6725912C9693][0x7C61CC549527A1], f39_local2, f39_arg0 )
		end
	end
end

TEXTCHAT.TryExecuteChatCommand = function ( f38_arg0, f38_arg1, f38_arg2 )
	assert( f38_arg0, "Missing the text chat argument!" )
	local f38_local0 = true
	local f38_local1 = TEXTCHAT.GetCommandAndParamsFromString( f38_arg1 )
	local f38_local2 = false
	for f38_local11, f38_local12 in ipairs( TEXTCHAT.ChatCommands ) do
		for f38_local8, f38_local9 in ipairs( f38_local12.names ) do
			if f38_local9 == f38_local1[1] then
				if f38_local12.secondParamListType and #f38_local1 < 2 then
					if not f38_arg2 then
						local f38_local6 = TEXTCHAT.GetTextEditWidget( f38_arg0 )
						f38_local6:setTextEditText( f38_local9 .. " " )
					end
					return 
				end
				assert( f38_local12.execute )
				local f38_local6, f38_local7 = f38_local12.execute( f38_arg0, f38_arg0._controllerIndex, f38_local1 )
				if not f38_local6 and f38_local7 then
				
				else
					f38_local2 = true
					break
				end
			end
		end
		if f38_local2 then
			
		end
	end
	if not f38_local2 then
		
	else
		
	end
	if f38_local0 then
		TEXTCHAT.ExitAutocomplete( f38_arg0 )
		f38_local3 = TEXTCHAT.GetTextEditWidget( f38_arg0 )
		f38_local3:setTextEditText( "" )
		TEXTCHAT.ScrollChatToEnd()
		return true
	else
		return false
	end
end

TEXTCHAT.ClearCollapsedChatLog = function ( f37_arg0, f37_arg1 )
	if TEXTCHAT.IsChatInactive( f37_arg0 ) then
		f37_arg0.CollapsedChatLog.Message:setText( Engine[0xED84C33EC5F01EA]( 0x875C6DAAEA7A515 ) )
	elseif LUI.IsLastInputGamepad( f37_arg1 ) then
		f37_arg0.CollapsedChatLog.Message:setText( Engine[0xED84C33EC5F01EA]( 0x446F5AE3ECCBAD2 ) )
	else
		f37_arg0.CollapsedChatLog.Message:setText( Engine[0xED84C33EC5F01EA]( 0x9D1F0EFA4758792 ) )
	end
end

TEXTCHAT.UpdateCollapsedChatLog = function ( f36_arg0, f36_arg1, f36_arg2 )
	local f36_local0 = f36_arg0.CollapsedChatLog
	if f36_local0 then
		if f36_arg1 == "" or f36_arg1 == nil then
			TEXTCHAT.ClearCollapsedChatLog( f36_arg0, f36_arg0._controllerIndex )
			f36_local0.Message:SetRGBFromTable( COLORS.grey128 )
			f36_local0.Message:SetAlignment( LUI.Alignment.Center )
		else
			f36_local0.Message:setText( f36_arg1 )
			f36_local0.Message:SetRGBFromTable( f36_arg2 )
			if TEXTCHAT.LastMessageText == nil then
				f36_local0.Message:SetAlignment( LUI.Alignment.Left )
			end
		end
	end
	TEXTCHAT.LastMessageText = f36_arg1
	TEXTCHAT.LastMessageColor = f36_arg2
end

TEXTCHAT.InvalidateMessageFadeTimer = function ( f35_arg0 )
	f35_arg0.startFadeTime = -1
end

TEXTCHAT.InvalidateMessagesFadeTimer = function ()
	for f34_local3, f34_local4 in ipairs( TEXTCHAT.ChatMessages ) do
		TEXTCHAT.InvalidateMessageFadeTimer( f34_local4 )
	end
end

TEXTCHAT.ResetMessagesFadeTimer = function ()
	if TEXTCHAT.ShouldSetFadeTimers() and 0 < #TEXTCHAT.ChatMessages then
		local f33_local0 = Engine[0x6991337AE950F99]() + TEXTCHAT.MessagesFadeOutTimeInMs
		for f33_local4, f33_local5 in ipairs( TEXTCHAT.ChatMessages ) do
			f33_local5.startFadeTime = f33_local0
		end
	end
end

TEXTCHAT.GetLastReceivedMessage = function ()
	if #TEXTCHAT.ChatMessages then
		return TEXTCHAT.ChatMessages[#TEXTCHAT.ChatMessages]
	else
		return nil
	end
end

TEXTCHAT.SetChatMessages = function ( f31_arg0, f31_arg1, f31_arg2 )
	local f31_local0 = {}
	local f31_local1
	if not Engine[0x5575DCFF312365A]() then
		f31_local1 = Engine[0x9DD5167C6D720F1]()
		if f31_local1 then
			if f31_arg2 then
				f31_local1 = f31_arg2
			else
				f31_local1 = Engine[0x74423E76DECE3E4]()
			end
		end
	elseif f31_arg2 then
		f31_local1 = f31_arg2
	else
		f31_local1 = Engine[0x74423E76DECE3E4]()
	end
	local f31_local2 = TEXTCHAT.ShouldSetFadeTimers()
	for f31_local3 = 1, #f31_arg1, 1 do
		if f31_local1 then
			newMessage.startFadeTime = -1
			newMessage.forceHide = true
		end
		table.insert( f31_local0, f31_arg1[f31_local3] )
	end
	TEXTCHAT.ChatMessages = f31_local0
	TEXTCHAT.ScrollChatToEnd()
end

TEXTCHAT.SetAllMessagesAndPlayers = function ( f29_arg0, f29_arg1 )
	local f29_local0 = {}
	for f29_local1 = 0, Enum[0xEBC6725912C9693][0xBB8481C813E8268], 1 do
		local f29_local4 = Social[0x9F6F6420564F885]( f29_local1 )
		for f29_local5 = 1, #f29_local4, 1 do
			table.insert( f29_local0, f29_local4[f29_local5] )
		end
	end
	table.sort( f29_local0, function ( f30_arg0, f30_arg1 )
		if f30_arg0.receivedTimeInt == f30_arg1.receivedTimeInt then
			return f30_arg0.chatType < f30_arg1.chatType
		else
			return f30_arg0.receivedTimeInt < f30_arg1.receivedTimeInt
		end
	end )
	TEXTCHAT.SetChatMessages( f29_arg0, f29_local0, f29_arg1 )
	local f29_local1 = TEXTCHAT.GetLastReceivedMessage()
	if f29_local1 then
		TEXTCHAT.LastMessageText = f29_local1.message
		TEXTCHAT.LastMessageColor = TEXTCHAT.ChatChannels[f29_local1.chatType].getColor( f29_arg0 )
	else
		TEXTCHAT.LastMessageText = nil
	end
end

TEXTCHAT.SelectNextValidChannel = function ( f28_arg0, f28_arg1 )
	local f28_local0 = DataSources.alwaysLoaded.textChat.chatType:GetValue( f28_arg0._controllerIndex )
	local f28_local1 = ChatChannel[0xB3F536475151EAC]( f28_arg0._controllerIndex )
	local f28_local2 = f28_local0
	local f28_local3 = nil
	if f28_local0 == Enum[0xEBC6725912C9693][0x7C61CC549527A1] then
		local f28_local4 = false
		for f28_local8, f28_local9 in pairs( TEXTCHAT.PrivateChatChannels ) do
			if f28_local4 then
				f28_local3 = f28_local9.id
				break
			elseif f28_local9.id == f28_local1 then
				f28_local4 = true
			end
		end
	end
	local f28_local4 = false
end

TEXTCHAT.OnNewReceivedMessage = function ( f27_arg0, f27_arg1 )
	local f27_local0 = LUI.TextChat.GetSelector()
	local f27_local1
	if f27_local0 then
		f27_local1 = f27_local0
	else
		f27_local1 = f27_local0:IsChatVisible()
		if f27_local1 then
			f27_local1 = ChatChannel[0xB3F536475151EAC]( f27_arg0._controllerIndex ) == f27_arg1.channelId
		end
	end
	if f27_local1 then
		if TEXTCHAT.ChatMessages[#TEXTCHAT.ChatMessages] and f27_arg1.timestamp > TEXTCHAT.ChatMessages[#TEXTCHAT.ChatMessages].timestamp then
			table.insert( TEXTCHAT.ChatMessages, f27_arg1 )
		else
			local f27_local2 = 1
			if TEXTCHAT.ChatMessages[f27_local2] and TEXTCHAT.ChatMessages[f27_local2].timestamp < f27_arg1.timestamp then
				
			else
				
			end
			table.insert( TEXTCHAT.ChatMessages, f27_local2, f27_arg1 )
		end
		TEXTCHAT.SetupMessagesList( false )
	end
	TEXTCHAT.RefreshNumChannelEntries( f27_arg1.controllerIndex )
end

TEXTCHAT.ChannelAdded = function ( f26_arg0, f26_arg1 )
	local f26_local0 = false
	local f26_local1 = DataSources.alwaysLoaded.textChat.chatType:GetValue( f26_arg0._controllerIndex )
	if f26_arg1.chatType ~= Enum[0xEBC6725912C9693][0x7C61CC549527A1] then
		if not TEXTCHAT.IsStaticChannelId( f26_arg1.chatType ) then
			if f26_arg1.chatType == Enum[0xEBC6725912C9693][0xDDDB40E94530E30] and Engine[0xCA085C21FCBD7CA]() then
				f26_arg0.TextChatFooter.InputTextButton:UpdateInputHintText( {
					controllerIndex = f26_arg0._controllerIndex
				} )
				return true
			end
			TEXTCHAT.ChatChannels[f26_arg1.chatType].id = f26_arg1.chatId
			if f26_arg1.chatType ~= TEXTCHAT.LastUserSetChannel and f26_local1 ~= f26_arg1.chatType then
				f26_local0 = false
			else
				f26_local0 = true
			end
		end
	elseif TEXTCHAT.PrivateChatChannels[f26_arg1.chatId] == nil then
		TEXTCHAT.PrivateChatChannels[f26_arg1.chatId] = {
			id = f26_arg1.chatId,
			name = f26_arg1.chatName or ""
		}
		if f26_arg1.initiatedChat then
			TEXTCHAT.UpdateActiveChannel( Enum[0xEBC6725912C9693][0x7C61CC549527A1], f26_arg1.chatId, f26_arg0 )
		end
	end
	if not f26_local0 and (TEXTCHAT.ActiveChatType == Enum[0xEBC6725912C9693][0x7C61CC549527A1] or f26_arg0._alreadyAvoidedEmptyPartyChat) then
		local f26_local2 = f26_arg0._alreadyAvoidedEmptyPartyChat
		if not f26_local2 then
			local f26_local3 = DataSources.alwaysLoaded.activeParty.memberVisibleCount
			if f26_local3 then
				f26_local2 = f26_local3
			else
				f26_local2 = f26_local3:GetValue() <= 1
			end
		end
		if f26_local2 then
			f26_arg0._alreadyAvoidedEmptyPartyChat = true
			if f26_arg1.chatType == Enum[0xEBC6725912C9693][0xDDDB40E94530E30] then
				f26_local0 = true
			elseif f26_arg1.chatType == Enum[0xEBC6725912C9693][0x241689C6BFC80DB] and TEXTCHAT.ActiveChatType ~= Enum[0xEBC6725912C9693][0x7C61CC549527A1] then
				f26_local0 = true
			end
		end
	end
	if f26_local0 or not TEXTCHAT.IsCurrentChannelValidToTypeIn() and TEXTCHAT.IsChannelValidToTypeIn( f26_arg1.chatType ) then
		TEXTCHAT.UpdateActiveChannel( f26_arg1.chatType, f26_arg1.chatId, f26_arg0 )
	end
	return true
end

TEXTCHAT.ChannelRemoved = function ( f25_arg0, f25_arg1 )
	local f25_local0 = -1
	local f25_local1 = f25_arg0._controllerIndex
	if TEXTCHAT.PrivateChatChannels[f25_arg1.chatId.id] then
		f25_local0 = f25_arg1.chatId
	else
		f25_local0 = TEXTCHAT.ChatChannels[f25_arg1.chatType].id
	end
	if f25_local0 ~= nil and TEXTCHAT.AreChatIDsEqual( f25_local0, f25_arg1.chatId ) then
		TEXTCHAT.ChatChannels[f25_arg1.chatType].id = nil
		TEXTCHAT.SelectNextValidChannel( f25_arg0, false )
		TEXTCHAT.SetAllMessagesAndPlayers( f25_local1, false )
		TEXTCHAT.UpdateActiveChannel( TEXTCHAT.NO_CHAT, nil, f25_arg0 )
		TEXTCHAT.UpdateCollapsedChatLog( f25_arg0, TEXTCHAT.LastMessageText, TEXTCHAT.LastMessageColor, false )
	end
	f25_arg0.TextChatFooter.InputTextButton:UpdateInputHintText( {
		controllerIndex = f25_local1
	} )
	return true
end

TEXTCHAT.SocialGameChanged = function ( f24_arg0, f24_arg1 )
	local f24_local0 = f24_arg1.clientProgramID
	local f24_local1 = FRIENDS.BattleNetGameInfo[f24_local0]
	if f24_local1 then
		f24_local1 = FRIENDS.BattleNetGameInfo[f24_local0].name
	end
	if f24_local1 and f24_local1 ~= "" and Engine[0xED84C33EC5F01EA]( f24_local1 ) ~= "" and f24_arg1.controller and f24_arg1.platformId then
		
	else
		
	end
end

TEXTCHAT.SocialMemberAdded = function ( f23_arg0, f23_arg1 )
	if not f23_arg1.localPlayer then
		local f23_local0 = TEXTCHAT.PrivateChatChannels[f23_arg1.chatId.id]
		if f23_local0 then
			local f23_local1 = split( f23_arg1.gamertag, "#" )
			if f23_local1 and 0 < #f23_local1 then
				f23_arg1.gamertag = f23_local1[1]
			end
			f23_local0.name = f23_arg1.gamertag
			local f23_local2 = ChatChannel[0xB3F536475151EAC]( controllerIndex )
			local f23_local3 = DataSources.alwaysLoaded.textChat.chatType:GetValue( f23_arg1.controllerIndex )
			if TEXTCHAT.AreChatIDsEqual( f23_local2, f23_arg1.chatId ) then
				TEXTCHAT.UpdateActiveChannel( f23_local3, f23_local2, f23_arg0 )
			end
		end
	end
	return true
end

TEXTCHAT.GetCurrentStyle = function ()
	local f22_local0 = LUI.TextChat.GetChat()
	if f22_local0 then
		return f22_local0._currentStyle
	else
		
	end
end

TEXTCHAT.ShouldChangeStyle = function ( f21_arg0 )
	local f21_local0 = TEXTCHAT.Styles.MENU
	if LUI.HUD then
		if LUI.HUD.IsChatAllowedInHUD() then
			local f21_local1 = TEXTCHAT.Styles.MENU
			if not f21_local1 then
				f21_local0 = f21_local1
			else
				f21_local0 = TEXTCHAT.Styles.INGAME
			end
		end
		f21_local0 = TEXTCHAT.Styles.INGAME
	end
	return f21_arg0._currentStyle ~= f21_local0
end

TEXTCHAT.SetExpandedInactiveState = function ( f20_arg0, f20_arg1 )
	if f20_arg0.expandedInactive ~= f20_arg1 then
		f20_arg0.expandedInactive = f20_arg1
		if f20_arg0.UpdateVisibilityState then
			f20_arg0:UpdateVisibilityState()
		end
	end
end

TEXTCHAT.SelectPreviousValidChannel = function ( f19_arg0, f19_arg1 )
	local f19_local0 = DataSources.alwaysLoaded.textChat.chatType:GetValue( f19_arg0._controllerIndex )
	local f19_local1 = f19_local0
	local f19_local2 = nil
	local f19_local3 = false
	local f19_local4 = ChatChannel[0xB3F536475151EAC]( controllerIndex )
	if f19_local0 == Enum[0xEBC6725912C9693][0x7C61CC549527A1] then
		local f19_local5 = nil
		for f19_local9, f19_local10 in pairs( TEXTCHAT.PrivateChatChannels ) do
			if f19_local10.id == f19_local4 then
				f19_local2 = f19_local5
				break
			end
			f19_local5 = f19_local10.id
		end
	end
	if not f19_local2 then
		
	end
	if f19_arg1 then
		TEXTCHAT.LastUserSetChannel = f19_local1
	end
	TEXTCHAT.UpdateActiveChannel( f19_local1, f19_local2 )
end

TEXTCHAT.HandleSelectButton = function ( f18_arg0, f18_arg1 )
	local f18_local0 = LUI.FlowManager.GetVisibleMenu()
	if f18_local0 and not f18_local0.isTextChatDisabled then
		if f18_arg0.TextChatFooter.InputTextButton.topMenuStates[f18_local0.id] == nil then
			f18_arg0.TextChatFooter.InputTextButton.topMenuStates[f18_local0.id] = f18_local0:saveState()
		end
		if LUI.IsLastInputGamepad( f18_arg1.controller ) then
			f18_local0:processEvent( {
				name = "lose_focus"
			} )
			f18_local0:processEvent( {
				dispatchChildren = true,
				name = "popup_active"
			} )
		end
		LUI.TextChat.StartEditing( f18_arg1.controller )
		return true
	else
		return false
	end
end

local f0_local9 = function ( f17_arg0 )
	if f17_arg0._controllerIndex then
		f17_arg0._chatMouseCursorActive = f17_arg0.userWantsToType
		LUI.UIRoot.SetLuiLayerKeycatch( f17_arg0, f17_arg0._controllerIndex, f17_arg0._chatMouseCursorActive )
	end
end

TEXTCHAT.SetTypingState = function ( f16_arg0, f16_arg1 )
	if f16_arg0.userWantsToType ~= f16_arg1 then
		f16_arg0.userWantsToType = f16_arg1
		f16_arg0:UpdateVisibilityState()
		if f16_arg0._currentStyle == TEXTCHAT.Styles.INGAME then
			local f16_local0 = Engine[0xEE6F69FEA944B13]()
			if not f16_local0.flowManager:IsStackEmpty() then
			
			else
				f0_local0( f16_arg0 )
			end
		end
		if f16_arg0._chatMouseCursorActive and not f16_arg0.userWantsToType then
			f0_local0( f16_arg0 )
		end
	end
end

TEXTCHAT.ShouldSetFadeTimers = function ()
	local f15_local0 = LUI.TextChat.GetChat()
	if f15_local0 then
		return not TEXTCHAT.IsCurrentStateOpened( f15_local0 )
	else
		
	end
end

TEXTCHAT.SetupMessagesList = function ( f14_arg0 )
	local f14_local0 = LUI.TextChat.GetChat()
	if f14_local0 then
		local f14_local1 = f14_local0.TextChatBody.TextChatEntriesList:GetGrid()
		local f14_local2 = f14_local1:GetFocusPosition( LUI.DIRECTION.vertical )
		local f14_local3
		if not f14_arg0 then
			f14_local3 = f14_arg0
		elseif f14_local2 ~= nil and f14_local2 < #TEXTCHAT.ChatMessages - 2 then
			f14_local3 = false
		else
			f14_local3 = true
		end
		if CONDITIONS.IsMobileTextChatEnabled() then
			f14_local0:UpdateEmptyState()
			f14_local0:SetupMessagesList( f14_local3 )
		else
			f14_local0.TextChatBody.TextChatEntriesList:SetupMessagesList( f14_local3 )
		end
		if f14_local3 then
			TEXTCHAT.ScrollChatToEnd()
		end
	end
end

TEXTCHAT.GetTextEditWidget = function ( f13_arg0 )
	return f13_arg0.TextChatFooter.InputTextButton.textEdit
end

local f0_local10 = function ( f12_arg0, f12_arg1 )
	local f12_local0 = nil
	if f12_arg0.model then
		local f12_local1 = f12_arg0.model
		if f12_arg0.type ~= Enum[0xEBC6725912C9693][0x7C61CC549527A1] then
			local f12_local2 = LUI.DataSourceForSubmodelUserdata.DataSourceForSubmodelUserdata( f12_local1, "textChatId" )
			f12_local1 = f12_local2:GetModel( f12_arg1 )
		end
		local f12_local2 = LUI.DataSourceForSubmodelUserdata.DataSourceForSubmodelUserdata( f12_local1, "latestMessageId" )
		f12_local0 = DataModel[0x614D394F6F9A18D]( f12_local2:GetModel( f12_arg1 ) )
	else
		local f12_local1 = ChatChannel[0x3A9F1F51625857F]( f12_arg1, f12_arg0.channelId )
		f12_local0 = f12_local1.latestMessageId
	end
	return f12_local0
end

TEXTCHAT.RefreshNumChannelEntries = function ( f10_arg0, f10_arg1 )
	local f10_local0
	if not f10_arg1 then
		f10_local0 = f10_arg1
	else
		f10_local0 = LUI.TextChat.GetSelector()
	end
	local f10_local1 = ChatChannel[0xB3F536475151EAC]( f10_arg0 )
	local f10_local2 = DataSources.alwaysLoaded.textChat.chatType:GetValue( f10_arg0 )
	if not f10_local0 then
		
	else
		
	end
	local f10_local3 = f10_local0.ChannelList
	f10_local3:RemoveAllWidgets()
	local f10_local4 = TEXTCHAT.Channels
	local f10_local5 = 0
	for f10_local20, f10_local21 in ipairs( TEXTCHAT.ChannelCategories ) do
		f10_local5 = f10_local5 + 1
		local f10_local22 = {
			entryType = TEXTCHAT.TextChatChannelEntryTypes.Category,
			categoryType = f10_local21.type,
			name = f10_local21.name,
			getName = f10_local21.getName
		}
		f10_local4[f10_local5] = f10_local22
		f10_local3:AddWidget( "Category", {
			adjustContentToFit = true,
			refreshGrid = false,
			widgetOptions = {
				categoryData = f10_local22
			}
		} )
		local f10_local23 = f10_local5
		for f10_local15, f10_local16 in ipairs( f10_local21.channels ) do
			local f10_local18 = f10_local16.getChannelsIdFunction( f10_arg0 )
			if f10_local16.multipleEntries then
				if f10_local16.type == f10_local2 and f10_local1 == TEXTCHAT.IN_CREATION_CHAT_ID then
					f10_local4[f10_local5 + 1] = {
						entryType = TEXTCHAT.TextChatChannelEntryTypes.Channel,
						channelType = f10_local16.type,
						channelId = CHANNELS.IN_CREATION_CHANNEL_ID
					}
				end
				if f10_local16.needOrdering and Dvar[0x9E5BE3B4BBA4E0E]( 0x10858DB17705FFE ) then
					table.sort( f10_local18, function ( f11_arg0, f11_arg1 )
						local f11_local0 = ChatChannel[0x23D37B42CADE1D6]
						local f11_local1 = f10_arg0
						local f11_local2 = f10_arg0( f11_arg0, f10_arg0 )
						if not f11_local2 then
							f11_local2 = TEXTCHAT.INVALID_MESSAGE_ID
						end
						f11_local0 = f11_local0( f11_local1, f11_local2 )
						local f11_local3 = ChatChannel[0x23D37B42CADE1D6]
						f11_local2 = f10_arg0
						local f11_local4 = f10_arg0( f11_arg1, f10_arg0 )
						if not f11_local4 then
							f11_local4 = TEXTCHAT.INVALID_MESSAGE_ID
						end
						f11_local3 = f11_local3( f11_local2, f11_local4 )
						if f11_local0 then
							f11_local1 = f11_local0
						else
							f11_local1 = f11_local0.timestamp
						end
						if f11_local3 then
							f11_local2 = f11_local3
						else
							f11_local2 = f11_local3.timestamp
						end
						if not f11_local1 then
							return false
						elseif not f11_local2 then
							return true
						else
							return f11_local2 < f11_local1
						end
					end )
				end
				for f10_local13, f10_local14 in ipairs( f10_local18 ) do
					if f10_local14.model then
						f10_local5 = f10_local5 + 1
						local f10_local12 = {
							entryType = TEXTCHAT.TextChatChannelEntryTypes.ModelChannel,
							model = f10_local14.model,
							chatType = f10_local14.type
						}
						f10_local4[f10_local5] = f10_local12
						f10_local3:AddWidget( "Channel", {
							adjustContentToFit = true,
							refreshGrid = false,
							widgetOptions = {
								isModel = true,
								channelData = f10_local12
							}
						} )
					end
					if not f10_local14.type then
						f10_local14.type = f10_local16.type
					end
					f10_local5 = f10_local5 + 1
					local f10_local12 = {
						entryType = TEXTCHAT.TextChatChannelEntryTypes.Channel,
						channelType = f10_local14.type,
						channelId = f10_local14.id
					}
					f10_local4[f10_local5] = f10_local12
					f10_local3:AddWidget( "Channel", {
						adjustContentToFit = true,
						refreshGrid = false,
						widgetOptions = {
							channelData = f10_local12
						}
					} )
				end
			end
			f10_local5 = f10_local5 + 1
			local f10_local9 = {
				entryType = TEXTCHAT.TextChatChannelEntryTypes.Channel,
				channelType = f10_local16.type,
				channelId = f10_local18
			}
			f10_local4[f10_local5] = f10_local9
			f10_local3:AddWidget( "Channel", {
				adjustContentToFit = true,
				refreshGrid = false,
				widgetOptions = {
					channelData = f10_local9
				}
			} )
		end
		if f10_local23 == f10_local5 then
			f10_local5 = f10_local5 + 1
			f10_local19 = {
				entryType = TEXTCHAT.TextChatChannelEntryTypes.Empty,
				categoryType = f10_local21.type
			}
			f10_local4[f10_local5] = f10_local19
			f10_local3:AddWidget( "NoChannel", {
				adjustContentToFit = true,
				refreshGrid = false,
				widgetOptions = {
					entryData = f10_local19
				}
			} )
		end
	end
	f10_local3:RefreshGrid()
end

TEXTCHAT.SendMessage = function ( f9_arg0, f9_arg1 )
	local f9_local0 = assert
	local f9_local1
	if f9_arg1 then
		f9_local1 = f9_arg1
	else
		f9_local1 = f9_arg1 ~= ""
	end
	f9_local0( f9_local1 )
	f9_local0 = ChatChannel[0xB3F536475151EAC]( f9_arg0 )
	local f9_local2 = DataSources.alwaysLoaded.textChat.chatType:GetValue( f9_arg0 )
	if f9_local0 == TEXTCHAT.IN_CREATION_CHAT_ID then
		f9_local1 = {}
		if f9_local2 == Enum[0xEBC6725912C9693][0x7C61CC549527A1] then
			table.insert( f9_local1, TEXTCHAT.ActiveChatData.xuid )
		end
		CHANNELS.CreateChannel( f9_arg0, f9_local2, f9_local1 )
	end
	if not ChatChannel[0x1264C22209052AE]( f9_arg0, f9_local0, 1, f9_arg1 ) then
		
	else
		
	end
end

TEXTCHAT.OnMessageSent = function ( f8_arg0, f8_arg1 )
	if not TEXTCHAT.IsValidChatID( ChatChannel[0xB3F536475151EAC]( f8_arg1.controllerIndex ) ) then
		return false
	else
		TEXTCHAT.FramedMessageId = f8_arg1.id
		ChatChannel[0xFCA3CE28D525623]( f8_arg1.controllerIndex, TEXTCHAT.FramedMessageId )
		TEXTCHAT.RefreshNumChannelEntries( f8_arg1.controllerIndex )
		TEXTCHAT.RefreshVisibleMessages()
		TEXTCHAT.ScrollChatToEnd()
		return true
	end
end

TEXTCHAT.ScrollChatToIndex = function ( f7_arg0 )
	local f7_local0 = LUI.TextChat.GetChat()
	if f7_local0 then
		f7_local0.TextChatBody.TextChatEntriesList:ScrollListToIndex( f7_arg0 )
	end
end

TEXTCHAT.ScrollChatToEnd = function ()
	local f6_local0 = LUI.TextChat.GetChat()
	if f6_local0 then
		if not CONDITIONS.IsMobileTextChatEnabled() then
			f6_local0.TextChatBody.TextChatEntriesList:ScrollListToEnd()
		else
			f6_local0:ScrollListToEnd()
		end
	end
end

TEXTCHAT.EnableScrollDownButton = function ( f5_arg0 )
	local f5_local0 = LUI.TextChat.GetChat()
	if f5_local0 and f5_local0.EnableScrollDownButton then
		f5_local0:EnableScrollDownButton( f5_arg0 )
	end
end

TEXTCHAT.RefreshVisibleMessages = function ()
	TEXTCHAT.ChatMessages = ChatChannel[0xF6F1F4913ABA49F]()
	if LUI.TextChat.GetChat() then
		TEXTCHAT.SetupMessagesList( false )
	end
end

TEXTCHAT.OnChannelFetchStateChanged = function ( f3_arg0, f3_arg1 )
	if f3_arg1.channelId == ChatChannel[0xB3F536475151EAC]( f3_arg1.controllerIndex ) and f3_arg1.fetchState == Enum[0xB11A3B2794AF0A6][0x937F07E5DE6B562] then
		TEXTCHAT.RefreshVisibleMessages()
	end
end

TEXTCHAT.GetWhisperMemberGamertag = function ( f2_arg0, f2_arg1 )
	local f2_local0 = ""
	local f2_local1 = TEXTCHAT.IsValidChatID( f2_arg1 )
	assert( f2_local1 )
	if f2_local1 then
		local f2_local2 = ChatChannel[0x3A9F1F51625857F]( f2_arg0, f2_arg1 )
		assert( f2_local2, "Unable to get the chat data for a whisper!" )
		assert( #f2_local2.members == 1, "Whispers should only have 1 other member!" )
		if f2_local2 then
			f2_local0 = Engine[0x94083579568ECE5]( f2_local2.members[1].playerId )
		end
	end
	return f2_local0
end

TEXTCHAT.IsMultipostMessage = function ( f1_arg0 )
	if 0 < f1_arg0 and 1 < #TEXTCHAT.ChatMessages and f1_arg0 < #TEXTCHAT.ChatMessages then
		local f1_local0 = f1_arg0 + 1
		return TEXTCHAT.ChatMessages[f1_local0].senderId == TEXTCHAT.ChatMessages[f1_local0 - 1].senderId
	else
		return false
	end
end

