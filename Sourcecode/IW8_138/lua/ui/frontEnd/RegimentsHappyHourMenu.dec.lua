-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
module( ..., package.seeall )
local f0_local0 = function ( f4_arg0, f4_arg1, f4_arg2 )
	assert( f4_arg2.clanID )
	f4_arg0._clanID = f4_arg2.clanID
	local f4_local0 = Clans.CBJDIGCAED( f4_arg1, f4_arg0._clanID )
	f4_arg0._selectedHour = f4_local0.happyHour or 0
	f4_local0 = Clans.CBJDIGCAED( f4_arg1, f4_arg0._clanID )
	f4_arg0._selectedMinutes = f4_local0.happyMinutes or 0
	f4_local0 = {}
	if IsLanguageEnglish() then
		local f4_local1 = Engine.CBBHFCGDIC( "LUA_MENU/TIME_PERIOD_AM" )
		local f4_local2 = Engine.CBBHFCGDIC( "LUA_MENU/TIME_PERIOD_PM" )
		f4_local0 = {
			"12 " .. f4_local1,
			"1 " .. f4_local1,
			"2 " .. f4_local1,
			"3 " .. f4_local1,
			"4 " .. f4_local1,
			"5 " .. f4_local1,
			"6 " .. f4_local1,
			"7 " .. f4_local1,
			"8 " .. f4_local1,
			"9 " .. f4_local1,
			"10 " .. f4_local1,
			"11 " .. f4_local1,
			"12 " .. f4_local2,
			"1 " .. f4_local2,
			"2 " .. f4_local2,
			"3 " .. f4_local2,
			"4 " .. f4_local2,
			"5 " .. f4_local2,
			"6 " .. f4_local2,
			"7 " .. f4_local2,
			"8 " .. f4_local2,
			"9 " .. f4_local2,
			"10 " .. f4_local2,
			"11 " .. f4_local2
		}
	else
		for f4_local1 = 0, 23, 1 do
			table.insert( f4_local0, string.format( "%02d", f4_local1 ) )
		end
	end
	LUI.AddUIArrowTextButtonLogic( f4_arg0.HourButton, f4_arg1, {
		wrapAround = true,
		labels = f4_local0,
		action = function ( f7_arg0 )
			f4_arg0._selectedHour = f7_arg0 - 1
		end,
		defaultValue = f4_arg0._selectedHour + 1
	} )
	LUI.AddUIArrowTextButtonLogic( f4_arg0.MinutesButton, f4_arg1, {
		wrapAround = true,
		labels = {
			nil,
			"00",
			"05",
			"10",
			"15",
			"20",
			"25",
			"30",
			"35",
			"40",
			"45",
			"50",
			"55"
		},
		action = function ( f6_arg0 )
			f4_arg0._selectedMinutes = (f6_arg0 - 1) * 5
		end,
		defaultValue = math.floor( f4_arg0._selectedMinutes / 5 ) + 1
	} )
	f4_arg0.OKButton:addEventHandler( "button_action", function ( f5_arg0, f5_arg1 )
		Clans.BGJDIAAACD( f4_arg0, f4_arg0._clanID, f4_arg0._selectedHour, f4_arg0._selectedMinutes )
		LUI.FlowManager.RequestLeaveMenu( f4_arg0, true, true )
	end )
	ACTIONS.ScaleFullscreen( f4_arg0.Darkener )
end

function RegimentsHappyHourMenu( menu, controller )
	local self = LUI.UIVerticalNavigator.new()
	self.id = "RegimentsHappyHourMenu"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	Darkener:SetRGBFromInt( 0, 0 )
	Darkener:SetAlpha( 0.8, 0 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	local GenericPopupWindow = nil
	
	GenericPopupWindow = MenuBuilder.BuildRegisteredType( "GenericPopupWindow", {
		controllerIndex = f1_local1
	} )
	GenericPopupWindow.id = "GenericPopupWindow"
	GenericPopupWindow:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -854, _1080p * 856, _1080p * -202, _1080p * 234 )
	self:addElement( GenericPopupWindow )
	self.GenericPopupWindow = GenericPopupWindow
	
	local SetHappyHour = nil
	
	SetHappyHour = LUI.UIText.new()
	SetHappyHour.id = "SetHappyHour"
	SetHappyHour:SetRGBFromTable( SWATCHES.genericMenu.mainTitle, 0 )
	SetHappyHour:setText( ToUpperCase( Engine.CBBHFCGDIC( "LUA_MENU/SET_HAPPY_HOUR" ) ), 0 )
	SetHappyHour:SetFont( FONTS.GetFont( FONTS.MainLight.File ) )
	SetHappyHour:SetAlignment( LUI.Alignment.Left )
	SetHappyHour:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -304, _1080p * 296, _1080p * -148, _1080p * -88 )
	self:addElement( SetHappyHour )
	self.SetHappyHour = SetHappyHour
	
	local Image = nil
	
	Image = LUI.UIImage.new()
	Image.id = "Image"
	Image:SetRGBFromTable( SWATCHES.Global.keyColor, 0 )
	Image:SetAlpha( 0.6, 0 )
	Image:setImage( RegisterMaterial( "icon_regiments_happyhour" ), 0 )
	Image:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -775, _1080p * -413, _1080p * -165, _1080p * 197 )
	self:addElement( Image )
	self.Image = Image
	
	local ButtonHelperBar = nil
	
	ButtonHelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	ButtonHelperBar.id = "ButtonHelperBar"
	ButtonHelperBar.Background:SetAlpha( 0, 0 )
	ButtonHelperBar:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -854, _1080p * 854, _1080p * 240, _1080p * 300 )
	self:addElement( ButtonHelperBar )
	self.ButtonHelperBar = ButtonHelperBar
	
	local HourButton = nil
	
	HourButton = MenuBuilder.BuildRegisteredType( "GenericArrowButton", {
		controllerIndex = f1_local1
	} )
	HourButton.id = "HourButton"
	HourButton.Title:setText( Engine.CBBHFCGDIC( "MENU/HOURS" ), 0 )
	HourButton.Text:setText( "", 0 )
	HourButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 626, _1080p * 1256, _1080p * 565, _1080p * 605 )
	self:addElement( HourButton )
	self.HourButton = HourButton
	
	local MinutesButton = nil
	
	MinutesButton = MenuBuilder.BuildRegisteredType( "GenericArrowButton", {
		controllerIndex = f1_local1
	} )
	MinutesButton.id = "MinutesButton"
	MinutesButton.Title:setText( Engine.CBBHFCGDIC( "MENU/MINUTES" ), 0 )
	MinutesButton.Text:setText( "", 0 )
	MinutesButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 626, _1080p * 1256, _1080p * 613, _1080p * 653 )
	self:addElement( MinutesButton )
	self.MinutesButton = MinutesButton
	
	local OKButton = nil
	
	OKButton = MenuBuilder.BuildRegisteredType( "GenericButton", {
		controllerIndex = f1_local1
	} )
	OKButton.id = "OKButton"
	OKButton.Text:SetLeft( _1080p * 20, 0 )
	OKButton.Text:setText( Engine.CBBHFCGDIC( "LUA_MENU_MP/CONFIRM" ), 0 )
	OKButton.Text:SetAlignment( LUI.Alignment.Left )
	OKButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 656, _1080p * 1256, _1080p * 661, _1080p * 699 )
	self:addElement( OKButton )
	self.OKButton = OKButton
	
	local HappyHourDesc = nil
	
	HappyHourDesc = LUI.UIText.new()
	HappyHourDesc.id = "HappyHourDesc"
	HappyHourDesc:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	HappyHourDesc:setText( Engine.CBBHFCGDIC( "LUA_MENU/HAPPY_HOUR_DESC" ), 0 )
	HappyHourDesc:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	HappyHourDesc:SetAlignment( LUI.Alignment.Left )
	HappyHourDesc:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -304, _1080p * 780, _1080p * -80, _1080p * -56 )
	self:addElement( HappyHourDesc )
	self.HappyHourDesc = HappyHourDesc
	
	local HappyHourRestriction = nil
	
	HappyHourRestriction = LUI.UIText.new()
	HappyHourRestriction.id = "HappyHourRestriction"
	HappyHourRestriction:SetRGBFromTable( SWATCHES.genericMenu.mainTitle, 0 )
	HappyHourRestriction:setText( Engine.CBBHFCGDIC( "LUA_MENU/HAPPY_HOUR_RESTRICTION" ), 0 )
	HappyHourRestriction:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	HappyHourRestriction:SetAlignment( LUI.Alignment.Left )
	HappyHourRestriction:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -304, _1080p * 780, _1080p * 181, _1080p * 205 )
	self:addElement( HappyHourRestriction )
	self.HappyHourRestriction = HappyHourRestriction
	
	self.addButtonHelperFunction = function ( f3_arg0, f3_arg1 )
		f3_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU/BACK" )
		} )
		f3_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_primary",
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU/SELECT" )
		} )
	end
	
	self:addEventHandler( "menu_create", self.addButtonHelperFunction )
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "selfBindButton"
	self:addElement( bindButton )
	self.bindButton = bindButton
	
	self.bindButton:addEventHandler( "button_secondary", function ( f2_arg0, f2_arg1 )
		local f2_local0 = f2_arg1.controller or menu
		ACTIONS.LeaveMenu( menu )
	end )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "RegimentsHappyHourMenu", RegimentsHappyHourMenu )
LockTable( _M )
