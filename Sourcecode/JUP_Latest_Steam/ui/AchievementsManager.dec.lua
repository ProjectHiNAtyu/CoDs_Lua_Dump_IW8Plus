-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
LUI.AchievementsManager = LUI.Class( LUI.UIElement )
local f0_local0 = function ( f11_arg0 )
	if CONDITIONS.IsPC() then
		f11_arg0.achievementsList = LUI.AchievementsManager.GetAchievements( f11_arg0._controllerIndex, false )
	end
end

local f0_local1 = function ( f9_arg0, f9_arg1 )
	if #f9_arg0.achievementsList <= 0 then
		f0_local0( f9_arg0 )
	end
	if f9_arg1 + 1 == nil or f9_arg0.achievementsList[f9_arg1 + 1] == nil then
		
	end
	LUI.ToastManager.CreateToast( f9_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0x17F0717CCB6C4EA ), f9_arg0.achievementsList[f9_arg1 + 1].name, LUI.ToastManager.ToastNotificationType.Unlocks ), LUI.ToastManager.ToastAction( Engine[0xED84C33EC5F01EA]( 0xF635E25722D1A9F ), function ( f10_arg0 )
		local f10_local0 = CONDITIONS.InGame()
		if f10_local0 then
			f10_local0 = SPSharedUtils.IsSPGametype()
			if f10_local0 then
				f10_local0 = LUI.FlowManager.IsStackEmpty()
			end
		end
		LUI.FlowManager.RequestAddMenu( "PCAchievementsMenu", false, f9_arg0._controllerIndex, false, {
			shouldHandlePausingWhenOpened = f10_local0
		} )
	end, true ) )
end

LUI.AchievementsManager.init = function ( f8_arg0, f8_arg1 )
	LUI.UIElement.init( f8_arg0 )
	local f8_local0 = f8_arg1.controllerIndex
	if not f8_local0 then
		f8_local0 = Engine[0x45B054C920178E9]()
	end
	f8_arg0._controllerIndex = f8_local0
	f8_arg0.id = "AchievementsManager"
end

LUI.AchievementsManager.ShouldBeVisible = function ( f7_arg0 )
	return true
end

LUI.AchievementsManager.TrapsInput = function ( f6_arg0 )
	return false
end

LUI.AchievementsManager.InitLayer = function ( f4_arg0 )
	f4_arg0.achievementsList = {}
	f0_local0( f4_arg0 )
	if not CONDITIONS[0x8601D4FFBB8C991]() then
		f4_arg0:registerEventHandler( "achievement_unlocked", function ( element, event )
			f4_arg0( element, event.achievementIndex )
		end )
	end
end

LUI.AchievementsManager.ClearLayer = function ( f3_arg0, f3_arg1 )
	f3_arg0:closeChildren()
end

LUI.AchievementsManager.GetLayer = function ()
	local f2_local0 = Engine[0xEE6F69FEA944B13]()
	return f2_local0.achievementsManager
end

LUI.AchievementsManager.GetAchievements = function ( f1_arg0, f1_arg1 )
	local f1_local0 = Achievement[0x4226E6C6A70C253]()
	local f1_local1 = 1
	local f1_local2 = {}
	if f1_local0 then
		for f1_local3 = 0, f1_local0 - 1, 1 do
			local f1_local6 = Achievement[0xF27F45F33AB6D6]( f1_local3 )
			local f1_local7 = {
				id = Achievement[0x4CED9603A20284F]( f1_local6 ),
				nameId = Achievement[0xC457C39F67E5649]( f1_local6 ),
				gameMode = Achievement[0x45DEE132C6B12C3]( f1_local6 ),
				name = Achievement[0xB96A81BE57A0E4E]( f1_local6 ),
				description = Achievement[0xE2A204E2E918814]( f1_local6 ),
				image = Achievement[0x218AD34152FC06F]( f1_local6 ),
				score = Achievement[0xFED0C3041A28148]( f1_local6 )
			}
			if Achievement[0x2711E67947D673]( f1_arg0, f1_local6 ) then
				f1_local7.isCompleted = true
			end
			if f1_arg1 then
				if not Achievement[0xE89EEFAD5BD6DEE]( f1_arg0, f1_local6 ) then
					if f1_local7.isCompleted then
						table.insert( f1_local2, f1_local1, f1_local7 )
						f1_local1 = f1_local1 + 1
					else
						table.insert( f1_local2, f1_local7 )
					end
				end
			end
			f1_local2[f1_local3 + 1] = f1_local7
		end
	end
	return f1_local2
end

