-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
module( ..., package.seeall )
local f0_local0 = 150
local f0_local1 = f0_local0 + 50
local f0_local2 = 9
local f0_local3 = 5
local f0_local4 = 4
local f0_local5 = 500
local f0_local6 = 3600
local f0_local7 = 5
local f0_local8 = 10
local f0_local9 = 20
local f0_local10 = "battlePassError"
local f0_local11 = {
	nil,
	-28,
	50,
	20,
	10,
	5,
	2,
	1
}
local f0_local12 = {
	[5.333806864E-315] = "battlepass_skip100",
	[5.31664595E-315] = "battlepass_skip10",
	[5.299808824E-315] = "battlepass_skip1",
	[5.311465295E-315] = "battlepass_skip5",
	[5.32862621E-315] = "battlepass_skip50",
	[5.3218266E-315] = "battlepass_skip20",
	[5.304989477E-315] = "battlepass_skip2"
}
local f0_local13 = {
	REDEEMING = 3,
	UPSELLING = 5,
	ONBOARDING_PT1 = 2,
	PENDING = 1,
	ONBOARDING_PT2 = 4,
	NONE = 0
}
local f0_local14 = function ( f131_arg0, f131_arg1 )
	f131_arg0.LeftArrow:SetAlpha( 0 )
	f131_arg0.RightArrow:SetAlpha( 0 )
	f131_arg0.LeftPrompt:SetAlpha( 0 )
	f131_arg0.RightPrompt:SetAlpha( 0 )
end

local f0_local15 = function ( f129_arg0, f129_arg1, f129_arg2 )
	local f129_local0 = f129_arg0:Wait( f129_arg2 )
	f129_local0.onComplete = function ()
		local f130_local0, f130_local1, f130_local2, f130_local3 = f129_arg0:getLocalRect()
		f129_arg0:SetBottom( f130_local1 + f129_arg0 * _1080p, 0 )
	end
	
end

local f0_local16 = function ( f128_arg0, f128_arg1, f128_arg2 )
	if f128_arg0.WeaponAttributes then
		f128_arg0.WeaponAttributes:SetAlpha( 0 )
		if f128_arg1 == LOOT.itemTypes.WEAPON and f128_arg2 and 0 < f128_arg2 then
			local f128_local0, f128_local1 = nil
			local f128_local2 = LOOT.GetItemRef( f128_arg1, f128_arg2 )
			if f128_local2 and 0 < #f128_local2 then
				f128_local0 = WEAPON.GenerateWeaponTableFromRef( f128_local2 )
				local f128_local3 = WEAPON.GetVariantRef( f128_arg2 )
				if f128_local3 and 0 < #f128_local3 then
					local f128_local4 = WEAPON.GetVariantFile( f128_local2 )
					f128_local1 = WEAPON.GetLootModTable( f128_arg0._controllerIndex, f128_local2, f128_arg2, CSV.ReadRowWithFile( CSV.weaponVariants, f128_local4, StringTable.BJJBBCJGEJ( f128_local4, CSV.weaponVariants.cols.ref, f128_local3 ) ) )
				end
			end
			if f128_local0 and f128_local1 and f128_local1.attachments and 0 <= #f128_local1.attachments then
				f128_arg0.WeaponAttributes:Setup( f128_local1, f128_local2, f128_local0 )
			end
		end
	end
end

local f0_local17 = function ( f127_arg0 )
	local f127_local0 = f127_arg0:GetCurrentMenu( f127_arg0 )
	if f127_local0.MPTabsMenu and f127_local0.MPTabsMenu.UpdateTabBreadcrumbs then
		f127_local0.MPTabsMenu:UpdateTabBreadcrumbs( f127_arg0._controllerIndex )
	end
end

local f0_local18 = function ( f126_arg0, f126_arg1 )
	local f126_local0 = LOOT.GetRarityColor( tonumber( f126_arg1.rarity ) )
	local f126_local1 = LOOT.GetLootQualityString( tonumber( f126_arg1.rarity ) )
	local f126_local2 = f126_arg1.type == LOOT.itemTypes.CONSUMABLE
	local f126_local3 = f126_arg1.className
	if f126_arg1.type == LOOT.itemTypes.WEAPON then
		if f126_arg1.IsVariant then
			f126_local3 = Engine.CBBHFCGDIC( "BATTLEPASS/BLUEPRINT_WITH_TYPE", WEAPON.GetSubClass( f126_arg1.ref ) )
		else
			f126_local3 = "LOOT_MP/ITEM_TYPE_WEAPON"
		end
	elseif f126_arg1.type == LOOT.itemTypes.FEATURE then
		if f126_arg1.amount or f126_arg1.duration then
			f126_local3 = "LOOT_MP/CONSUMABLE"
			f126_local2 = true
		elseif f126_arg1.isOperatorChallenge then
			f126_local3 = "LUA_MENU/OPERATOR_MISSIONS"
		end
	end
	f126_arg0.QualityText:setText( Engine.CBBHFCGDIC( "BATTLEPASS/RARITY_AND_TYPE", f126_local1, f126_local3 ) )
	f126_arg0.QualityText:SetRGBFromTable( f126_local0 )
	local f126_local4 = f126_arg0._currentChild.itemData.lootTable[f126_arg0._lootIndex]._gameSourceId
	f126_arg0.ExclusiveTag:SetGameSource( {
		isExclusive = true,
		gameSourceID = f126_local4
	} )
	local f126_local5
	if not f126_local4 then
		f126_local5 = not f126_local2
	else
		f126_local5 = false
	end
	local f126_local6 = f126_arg0.CWWZExclusive
	local f126_local7 = f126_local6
	f126_local6 = f126_local6.SetAlpha
	local f126_local8
	if f126_local5 then
		f126_local8 = 1
	else
		f126_local8 = 0
	end
	f126_local6( f126_local7, f126_local8 )
	f126_local6 = LAYOUT.GetTextWidth( f126_arg0.QualityText )
	f126_local9, f126_local7, f126_local8, f126_local10 = f126_arg0.QualityText:getLocalRect()
	local f126_local11 = 32 * _1080p
	f126_arg0.ExclusiveTag:SetLeft( f126_local9 + f126_local6 + f126_local11 )
	f126_arg0.CWWZExclusive:SetLeft( f126_local9 + f126_local6 * 1.05 + f126_local11 )
	f126_arg0.RarityIcon:setImage( RegisterMaterial(), LOOT.GetRarityImage( tonumber( f126_arg1.rarity ) ) )
	f126_arg0.RarityIcon:SetRGBFromTable( f126_local0 )
end

local f0_local19 = function ( f125_arg0, f125_arg1, f125_arg2, f125_arg3 )
	local f125_local0 = 26
	if f125_arg1.type == LOOT.itemTypes.WEAPON then
		if f125_arg3 then
			f125_arg0.WeaponDescription:setText( WEAPON.GetDesc( f125_arg1.ref ) )
			f0_local0( f125_arg0, f125_arg1.type, f125_arg1.itemID )
			ACTIONS.AnimateSequence( f125_arg0, "WeaponDetails" )
			if f125_arg0.BattlePassPurchaseButton then
				f125_arg0.BattlePassPurchaseButton._showTooltip = false
				f125_arg0.BattlePassPurchaseButton:UpdateTooltip()
			end
			if IsLanguageArabic() then
				local f125_local1 = 180
				f0_local0( f125_arg0.UnlockCriteria, f125_local0, f125_local1 )
				f0_local0( f125_arg0.DetailsPrompt, f125_local0, f125_local1 )
				f0_local0( f125_arg0.WeaponDescription, f125_local0, f125_local1 )
			end
		else
			if f125_arg0.SpecialWeaponAttributeWithText:SetupWeaponAttribute( f125_arg1.itemID ) then
				ACTIONS.AnimateSequence( f125_arg0, "WeaponPreviewWithAttribute" )
			else
				ACTIONS.AnimateSequence( f125_arg0, "WeaponPreview" )
			end
			if f125_arg0.BattlePassPurchaseButton then
				f125_arg0.BattlePassPurchaseButton._showTooltip = true
				f125_arg0.BattlePassPurchaseButton:UpdateTooltip()
			end
			if IsLanguageArabic() then
				local f125_local2 = 180
				f0_local0( f125_arg0.UnlockCriteria, f125_local0, f125_local2 )
				f0_local0( f125_arg0.DetailsPrompt, f125_local0, f125_local2 )
			end
		end
	elseif f125_arg2.lootTable[f125_arg0._lootIndex].challengeID and f125_arg2.lootTable[f125_arg0._lootIndex].challengeID ~= "" then
		local f125_local1 = Challenge.GetNameFromRef( f125_arg2.lootTable[f125_arg0._lootIndex].challengeID, Challenge.Type.MISSION )
		if f125_local1 then
			f125_arg0.MissionTag:SetupMissionTag( f125_arg1.rarityColor, f125_local1 )
			f125_arg0.MissionTag:SetAlpha( 0, 0 )
			f125_arg0.MissionTag:SetAlpha( 1, 150 )
		else
			f125_arg0.MissionTag:SetAlpha( 0, 150 )
		end
		ACTIONS.AnimateSequence( f125_arg0, "MissionPreview" )
		if IsLanguageArabic() then
			f0_local0( f125_arg0.UnlockCriteria, f125_local0, 180 )
		end
	elseif f125_arg1.type == LOOT.itemTypes.CONSUMABLE then
		f125_arg0.WeaponDescription:setText( f125_arg1.duration )
		ACTIONS.AnimateSequence( f125_arg0, "ConsumablePreview" )
		if IsLanguageArabic() then
			local f125_local1 = 180
			f0_local0( f125_arg0.UnlockCriteria, f125_local0, f125_local1 )
			f0_local0( f125_arg0.WeaponDescription, f125_local0 + 8, f125_local1 )
		end
	elseif f125_arg1.type == LOOT.itemTypes.FEATURE then
		f125_arg0.WeaponDescription:setText( LOOT.GetFeatureItemDesc( f125_arg1.ref ) )
		ACTIONS.AnimateSequence( f125_arg0, "ConsumablePreview" )
		if IsLanguageArabic() then
			local f125_local1 = 180
			f0_local0( f125_arg0.UnlockCriteria, f125_local0, f125_local1 )
			f0_local0( f125_arg0.WeaponDescription, f125_local0 + 8, f125_local1 )
		end
	else
		ACTIONS.AnimateSequence( f125_arg0, "ItemPreview" )
		if IsLanguageArabic() then
			f0_local0( f125_arg0.UnlockCriteria, f125_local0, 180 )
		end
	end
	if f125_arg0._isStandalone and f125_arg0.BattlePassPurchaseButton then
		f125_arg0.BattlePassPurchaseButton:SetAlpha( 0 )
		f125_arg0.BattlePassPurchaseButton:SetFocusable( false )
	end
end

local f0_local20 = function ( f124_arg0, f124_arg1 )
	if f124_arg1.controller == f124_arg0._controllerIndex then
		if f124_arg0._currentChild then
			f124_arg0._isExpanded = not f124_arg0._isExpanded
			f0_local0( f124_arg0, f124_arg0._currentChild.lootData, f124_arg0._currentChild.itemData, f124_arg0._isExpanded )
			if f124_arg0._currentChild.lootData.type == LOOT.itemTypes.WEAPON then
				Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
			end
		end
		if f124_arg0._missionChallengeID then
			Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
			if f124_arg0._missionChallengeData.category == "OPERATOR" then
				local f124_local0 = StringTable.DIFCHIGDFB( CSV.questChallenges.file, CSV.questChallenges.cols.ref, f124_arg0._missionChallengeID, CSV.questChallenges.cols.id )
				if f124_local0 and 0 < #f124_local0 then
					LUI.FlowManager.RequestAddMenu( "OperatorMissions", true, f124_arg0._controllerIndex, false, {
						challengeID = f124_local0,
						skinLootId = f124_arg0._missionChallengeData.loot
					} )
				end
			end
		end
	end
end

local f0_local21 = function ( f123_arg0, f123_arg1 )
	if Dvar.IBEGCHEFE( "OLNMSNSTKS" ) then
		LUI.FlowManager.RequestPopupMenu( f123_arg0, "CreatorCodePopup", true, f123_arg1.controller, false, options )
	end
end

local f0_local22 = function ( f122_arg0, f122_arg1 )
	if not f122_arg0._isAnimating then
		Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
		if f122_arg0._battlePassOwned then
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f122_arg0._controllerIndex, false, {
				skipDelay = true
			} )
		else
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f122_arg0._controllerIndex, false, {
				skipDelay = true,
				closeAction = OpenUpsellPopup,
				menu = f122_arg0
			} )
		end
	end
end

local f0_local23 = function ( f121_arg0, f121_arg1 )
	local f121_local0 = f121_arg1.lootData
	local f121_local1
	if f121_local0 then
		f121_local1 = f121_local0
	else
		f121_local1 = f121_local0.isOperatorChallengeReward
	end
	if f121_local1 then
		local f121_local2
		if f121_local0 then
			f121_local2 = f121_local0
		else
			f121_local2 = f121_local0.isLocked
		end
		if f121_local2 then
			f121_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/OPERATOR_CHALLENGE_UNLOCK_MESSAGE", f121_local0.operatorChallengeName or "" ) )
			ACTIONS.AnimateSequence( f121_arg0, "IsLocked" )
		else
			ACTIONS.AnimateSequence( f121_arg0, "NotLocked" )
		end
	elseif f121_arg1._isLocked then
		if not f121_arg1._isOwned and f121_arg1._level ~= nil then
			if f121_arg0._battlePassOwned then
				f121_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_INCOMPLETE", f121_arg1._level ) )
			else
				f121_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_INCOMPLETE_WITH_BATTLEPASS", f121_arg1._level ) )
			end
		else
			f121_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_WITH_BATTLEPASS" ) )
		end
		ACTIONS.AnimateSequence( f121_arg0, "IsLocked" )
	else
		ACTIONS.AnimateSequence( f121_arg0, "NotLocked" )
	end
end

local f0_local24 = function ( f120_arg0 )
	local f120_local0 = {}
	local f120_local1 = f120_arg0.Name:GetCurrentAnchorsAndPositions()
	f120_local0.leftOffset = f120_local1.left
	f120_local0.nameWidth = LAYOUT.GetRawTextWidth( f120_arg0.Name, f0_local0, f120_arg0._controllerIndex )
	f120_local0.bluePrintIconWidth = 0
	return f120_local0
end

local f0_local25 = function ( f119_arg0, f119_arg1, f119_arg2 )
	if f119_arg1.type == LOOT.itemTypes.WEAPON then
		local f119_local0 = ACTIONS.AnimateSequence
		local f119_local1 = f119_arg0
		local f119_local2
		if f119_arg1.IsVariant then
			f119_local2 = "IsBlueprint"
		else
			f119_local2 = "IsBaseWeapon"
		end
		f119_local0( f119_local1, f119_local2 )
		if f119_arg0._delayBlueprintIcon then
			f119_local0 = 1
		else
			f119_local0 = 0
		end
		f119_arg2.bluePrintIconWidth = LAYOUT.GetElementWidth( f119_arg0.BlueprintIcon ) / _1080p
		local f119_local3 = (f119_arg2.nameWidth + f0_local0) * _1080p + f119_arg2.leftOffset
		f119_local1 = f119_local3 + f119_arg2.bluePrintIconWidth * _1080p
		f119_arg0.BlueprintIcon:SetLeft( f119_local3, f119_local0 )
		f119_arg0.BlueprintIcon:SetRight( f119_local1, f119_local0 )
		f119_arg0.BlueprintIcon:SetAlpha( 1, f119_local0 )
	else
		f119_arg0.BlueprintIcon:SetAlpha( 0 )
	end
end

local f0_local26 = function ( f118_arg0, f118_arg1, f118_arg2 )
	local f118_local0 = 180
	if LOOT.HasReactiveCamo( f118_arg1.itemID ) then
		local f118_local1 = f118_arg2.bluePrintIconWidth
		local f118_local2 = f0_local0
		local f118_local3
		if f118_local1 ~= 0 then
			f118_local3 = f0_local0
			if not f118_local3 then
			
			else
				f118_local3 = f118_arg2.leftOffset + f118_arg2.nameWidth + f118_local1 + f118_local2 + f118_local3
				f118_arg0.ReactiveIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * f118_local3, _1080p * (f118_local3 + f118_local0), _1080p * 244, _1080p * 324 )
				f118_arg0.ReactiveIcon:SetAlpha( 1 )
			end
		end
		f118_local3 = 0
	else
		f118_arg0.ReactiveIcon:SetAlpha( 0 )
	end
end

local f0_local27 = function ( f115_arg0, f115_arg1 )
	f115_arg0._isExpanded = false
	local f115_local0 = f115_arg1.itemData
	local f115_local1
	if f115_local0 then
		f115_local1 = f115_local0
	else
		f115_local1 = next( f115_local0 ) ~= nil
	end
	if not f115_local1 then
		
	else
		
	end
	f115_arg0._billboardMaterial = nil
	local f115_local2 = f115_local0.lootTable[f115_arg0._lootIndex].billboardImage
	if f115_local2 and 0 < #f115_local2 then
		f115_arg0._billboardMaterial = RegisterMaterial( f115_local2 )
	end
	if f115_arg0.BillboardImg:GetImage() == f115_arg0._billboardMaterial then
		
	else
		
	end
	f115_arg0._itemSelectionComplete = false
	local f115_local3 = f115_arg0.Background:Wait( f0_local0 - 10, true )
	f115_local3.onComplete = function ()
		f115_arg0._itemSelectionComplete = true
	end
	
	assert( f115_arg0.FadeCover )
	local f115_local4 = f115_arg0._itemSelectionComplete and f0_local0 or 10
	if not f115_arg0._prevImage then
		f115_local4 = 0
	end
	f115_arg0.FadeCover:SetAlpha( 1, f115_local4, LUI.EASING.inQuadratic )
	local f115_local5 = f115_arg0.FadeCover:Wait( f0_local0, true )
	f115_local5.onComplete = function ()
		if f115_arg0._itemSelectionComplete then
			assert( f115_arg0.BillboardImg )
			if f115_arg0._billboardMaterial then
				f115_arg0.BillboardImg:setImage( f115_arg0._billboardMaterial )
				f115_arg0.BillboardImg:SetAlpha( 1 )
			else
				f115_arg0.BillboardImg:SetAlpha( 0 )
			end
			f115_arg0.FadeCover:SetAlpha( 0, f115_arg0, LUI.EASING.outQuadratic )
			f115_arg0._prevImage = f115_arg0._billboardMaterial
		end
	end
	
	local f115_local6 = f115_arg1.lootData
	local f115_local7
	if f115_local6 then
		f115_local7 = f115_local6
	else
		f115_local7 = next( f115_local6 ) ~= nil
	end
	if not f115_local7 then
		return 
	end
	local f115_local8 = f115_arg0.Name
	local f115_local9 = f115_local8
	f115_local8 = f115_local8.setText
	local f115_local10 = ToUpperCase
	local f115_local11 = f115_local6.name
	if not f115_local11 then
		f115_local11 = ""
	end
	f115_local8( f115_local9, f115_local10( f115_local11 ) )
	f115_local8 = f0_local0( f115_arg0 )
	f0_local0( f115_arg0, f115_local6 )
	f0_local0( f115_arg0, f115_local6, f115_local8 )
	f0_local0( f115_arg0, f115_local6, f115_local8 )
	f0_local0( f115_arg0, f115_local6, f115_local0, false )
end

local f0_local28 = function ( f114_arg0, f114_arg1 )
	if f114_arg1 == 0 then
		return BATTLEPASS.NumBonusItems
	elseif f114_arg1 == f114_arg0._maxBattlePassLevel then
		return #f114_arg0._battlePassData
	end
	for f114_local3, f114_local4 in ipairs( f114_arg0._battlePassData ) do
		if f114_arg1 == tonumber( f114_local4.level ) and f114_local4.showProgress then
			return f114_local3
		end
	end
end

local f0_local29 = function ( f113_arg0, f113_arg1 )
	local f113_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	if not f113_local0.battlepassSelectedColumn then
		f113_local0.battlepassSelectedColumn = #f113_arg0._battlePassData - 1
		for f113_local4, f113_local5 in ipairs( f113_arg0._battlePassData ) do
			local f113_local6 = tonumber( f113_local5.level )
			if f113_arg0._battlePassXP < tonumber( f113_local5.xp ) then
				f113_local0.battlepassSelectedColumn = f113_local4 - 1
				f113_arg0._currentLevel = f113_local6 - 1
				break
			end
		end
	end
	f113_arg0.Grid:SetDefaultFocus( {
		y = 0,
		x = f113_local0.battlepassSelectedColumn
	}, f113_arg1 )
end

local f0_local30 = function ( f112_arg0, f112_arg1 )
	if f112_arg0._isStandalone then
		return 
	end
	local f112_local0 = BATTLEPASS.GetTier( f112_arg0._controllerIndex )
	f112_arg1 = tonumber( f112_arg1 )
	f112_arg0._purchaseEnabled = not f112_arg0._battlePassOwned
	if f112_arg0._needFixUp then
		f112_arg0._purchaseEnabled = true
		if f112_arg0.BattlePassPurchaseButton then
			f112_arg0.BattlePassPurchaseButton:UpdateButtonState( f112_arg0._battlePassOwned, true, f112_arg0._currentLevel, f112_arg0._needFixUp )
		end
	elseif f112_arg0._battlePassOwned and f112_arg1 then
		local f112_local1 = f112_arg1 - f112_local0
		local f112_local2
		if 0 < f112_arg1 and 0 < f112_local1 and f112_local0 < f112_arg0._maxBattlePassLevel then
			f112_local2 = Dvar.IBEGCHEFE( "MMQLPLSNOM" )
		else
			f112_local2 = false
		end
		if f112_local2 then
			f112_arg0._tierSkips = f112_local1
			f112_arg0._purchaseEnabled = true
			local f112_local3 = BATTLEPASS.SINGLE_TIER_COST
			if CONDITIONS.IsTierSaleEnabled() then
				f112_local3 = Dvar.CFHDGABACF( "MOKSKKQRLK" )
			end
			f112_arg0._itemCost = f112_arg0._tierSkips * f112_local3
			local f112_local4 = Engine.CBBHFCGDIC
			local f112_local5
			if f112_arg0._tierSkips == 1 then
				f112_local5 = "MENU/BUY_TIER_SINGLE"
			else
				f112_local5 = "MENU/BUY_TIERS_MULTIPLE"
			end
			f112_local4 = f112_local4( f112_local5, f112_arg0._tierSkips )
			if f112_arg0.BattlePassPurchaseButton then
				f112_arg0.BattlePassPurchaseButton.PurchaseText:setText( ToUpperCase( f112_local4 ) )
			end
		else
			f112_arg0._tierSkips = 0
			f112_arg0._itemCost = 0
			f112_arg0._purchaseEnabled = false
		end
		if f112_arg0.BattlePassPurchaseButton then
			f112_arg0.BattlePassPurchaseButton:UpdateButtonState( f112_arg0._battlePassOwned, not f112_local2, f112_local0 )
		end
	elseif f112_arg0.BattlePassPurchaseButton then
		f112_arg0.BattlePassPurchaseButton:UpdateButtonState( f112_arg0._battlePassOwned, true, f112_local0 )
	end
	local f112_local1 = f112_arg0._purchaseEnabled
	if f112_local1 then
		f112_local1 = not f112_arg0._isAnimating
	end
	f112_arg0._purchaseEnabled = f112_local1
end

local f0_local31 = function ( f111_arg0 )
	f0_local0( f111_arg0, f111_arg0._currentChild )
	f0_local0( f111_arg0, f111_arg0._currentChild.itemData.level )
	f0_local0( f111_arg0, f111_arg0._currentChild )
	if f111_arg0._currentChild.itemData.lootTable[f111_arg0._lootIndex].challengeID and f111_arg0._currentChild.itemData.lootTable[f111_arg0._lootIndex].challengeID ~= "" then
		f111_arg0._missionChallengeID = f111_arg0._currentChild.itemData.lootTable[f111_arg0._lootIndex].challengeID
		local f111_local0 = false
		local f111_local1 = Challenge.GetMissionDataByRef( f111_arg0._controllerIndex, f111_arg0._missionChallengeID )
		if f111_local1 then
			
		else
			
		end
		if not f111_local0 then
			DebugPrint( "Could not find skin id in mission chain for " .. f111_arg0._missionChallengeID )
		end
		f111_arg0._missionChallengeData = f111_local1
	else
		f111_arg0._missionChallengeID = nil
		f111_arg0._missionChallengeData = nil
	end
	local f111_local0 = f111_arg0._currentChild.lootData.type
	if f111_arg0._currentMenu then
		local f111_local1 = f111_arg0._currentMenu.PopupHelperBar
		if f111_arg0._isAnimating then
			if f111_local1 then
				f111_local1.ButtonHelperText:PopButtonPrompt( {
					button_ref = "button_alt2"
				} )
			end
			f111_arg0:RemoveButtonPrompt( {
				helper_text = nil,
				button_ref = "button_alt2"
			} )
		elseif f111_local1 then
			f111_local1.ButtonHelperText:PushButtonPrompt( {
				side = "left",
				button_ref = "button_alt2",
				priority = 3,
				helper_text = Engine.CBBHFCGDIC( "BATTLEPASS/MORE_INFO" )
			} )
		else
			f111_arg0:AddButtonPrompt( {
				side = "left",
				button_ref = "button_alt2",
				priority = 3,
				helper_text = Engine.CBBHFCGDIC( "BATTLEPASS/MORE_INFO" )
			} )
		end
		if f111_arg0._isAnimating or not LOOT.CanPreview( f111_local0, f111_arg0._currentChild.lootData.itemID ) then
			if f111_arg0._isBattlePassPopup and f111_arg0._currentMenu.UpdatePrompts then
				f111_arg0._currentMenu:UpdatePrompts( false )
			else
				f111_arg0:RemoveButtonPrompt( {
					side = "left",
					button_ref = "button_primary",
					helper_text = nil
				} )
			end
		elseif f111_arg0._isBattlePassPopup and f111_arg0._currentMenu.UpdatePrompts then
			f111_arg0._currentMenu:UpdatePrompts( true )
		else
			f111_arg0:AddButtonPrompt( {
				side = "left",
				button_ref = "button_primary",
				priority = 2,
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU/PREVIEW" )
			} )
		end
	end
end

local f0_local32 = function ( f110_arg0, f110_arg1, f110_arg2 )
	if f110_arg1 then
		f110_arg0._battlePassXP = f110_arg1
		f110_arg0._previousXP = f110_arg0._battlePassXP
	end
	local f110_local0 = BATTLEPASS.GetXP( f110_arg0._controllerIndex )
	if f110_arg2 then
		f110_local0 = f110_arg2
	end
	f110_arg0._finalXP = f110_local0
	if f110_local0 < f110_arg0._battlePassXP then
		f110_arg0._battlePassXP = 0
		f110_arg0._previousXP = 0
	end
	if f110_local0 == f110_arg0._battlePassXP then
		return 
	else
		f110_arg0._previousLevel = BATTLEPASS.GetTierByXP( f110_arg0._controllerIndex, f110_arg0._previousXP )
		local f110_local1 = BATTLEPASS.GetTierByXP( f110_arg0._controllerIndex, f110_local0 )
		local f110_local2 = f0_local0( f110_arg0, f110_arg0._previousLevel )
		local f110_local3 = f0_local0( f110_arg0, f110_local1 )
		f110_local2 = LUI.clamp( f110_local2, 0, #f110_arg0._battlePassData - 1 )
		f110_local3 = LUI.clamp( f110_local3, 0, #f110_arg0._battlePassData - 1 )
		f110_arg0._purchaseEnabled = false
		f110_arg0.TierPurchaseBG:SetAlpha( 1 )
		f110_arg0.TierPurchaseBG:StartAnimation()
		f110_arg0:AnimateUnlocks( f110_local2, f110_local3, false )
	end
end

local f0_local33 = function ( f109_arg0, f109_arg1, f109_arg2, f109_arg3 )
	f109_arg0._battlePassXP = f109_arg1
	f109_arg0._previousXP = f109_arg1
	f109_arg0._finalXP = f109_arg2
	f109_arg0._previousLevel = BATTLEPASS.GetTierByXP( f109_arg0._controllerIndex, f109_arg0._previousXP )
	local f109_local0 = BATTLEPASS.GetTierByXP( f109_arg0._controllerIndex, f109_arg2 )
	local f109_local1 = f0_local0( f109_arg0, f109_arg0._previousLevel )
	local f109_local2 = f0_local0( f109_arg0, f109_local0 )
	f109_local1 = LUI.clamp( f109_local1, 0, #f109_arg0._battlePassData - 1 )
	f109_local2 = LUI.clamp( f109_local2, 0, #f109_arg0._battlePassData - 1 )
	f109_arg0._purchaseEnabled = false
	f109_arg0._isAnimating = false
	f109_arg0._aarFillWaitTime = f109_arg3
	f109_arg0.TierPurchaseBG:SetAlpha( 1 )
	f109_arg0.TierPurchaseBG:StartAnimation()
	f109_arg0:AnimateUnlocks( f109_local1, f109_local2, false, true )
end

local f0_local34 = function ( f108_arg0 )
	local f108_local0 = BATTLEPASS.HasNewPassForSeason( f108_arg0._controllerIndex )
	local f108_local1, f108_local2 = BATTLEPASS.IsPendingTransactions( f108_arg0._controllerIndex )
	local f108_local3 = BATTLEPASS.IsOwned( f108_arg0._controllerIndex )
	local f108_local4
	if f108_arg0._BRRewardState ~= f0_local0.NONE and f108_arg0._BRRewardState ~= f0_local0.UPSELLING then
		f108_local4 = false
	else
		f108_local4 = true
	end
	local f108_local5
	if not f108_local0 or f108_local1 or f108_local3 or not f108_local4 or f108_arg0._crmPurchaseBattlePass then
		f108_local5 = Dvar.IBEGCHEFE( "battlepass_always_show_upsell" )
		if f108_local5 then
			f108_local5 = not f108_arg0._upsellSeen
		end
	else
		f108_local5 = true
	end
	return f108_local5
end

local f0_local35 = function ( f107_arg0, f107_arg1 )
	f107_arg0._upsellSeen = true
	LUI.FlowManager.RequestPopupMenu( f107_arg0, "BattlePassUpsellPopup", true, f107_arg0._controllerIndex, false, {
		sourceMenu = f107_arg0,
		backLeavesBPMenuPopup = f107_arg1
	} )
end

local f0_local36 = function ( f105_arg0, f105_arg1, f105_arg2 )
	local f105_local0 = {
		title = Engine.CBBHFCGDIC( "MENU/ERROR" ),
		message = f105_arg1
	}
	local f105_local1
	if not f105_arg2 then
		f105_local1 = f105_arg2
	else
		f105_local1 = function ()
			if f105_arg0._purchaseBattlePassInAAR then
				ACTIONS.LeaveMenu( f105_arg0 )
				if AAR.IsAnyNonXPParadeAvailable( f105_arg0._controllerIndex ) then
					LUI.FlowManager.RequestAddMenu( "AARContainer", true, f105_arg0._controllerIndex, false, {
						fromBattlepassAAR = true,
						controller = controllerIndex
					} )
				end
			else
				f105_arg0.Grid:RefreshContent()
			end
		end
		
	end
	f105_local0.action = f105_local1
	LUI.FlowManager.RequestPopupMenu( nil, "PopupOK", true, f105_arg0._controllerIndex, false, f105_local0, nil, false, true )
end

local f0_local37 = function ( f104_arg0, f104_arg1, f104_arg2, f104_arg3, f104_arg4 )
	local f104_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	local f104_local1 = AAR.GetDebugMatchInfoPackageString( f104_arg1 )
	local f104_local2 = "current position "
	local f104_local3 = tostring( f104_arg2 )
	local f104_local4 = " \n start position "
	local f104_local5 = tostring( f104_arg3 )
	local f104_local6 = " \n end position "
	local f104_local7 = tostring( f104_arg4 )
	local f104_local8 = " \n previous xp "
	local f104_local9 = tostring( f104_arg0._previousXP )
	local f104_local10 = " \n previous level "
	local f104_local11 = tostring( f104_arg0._previousLevel )
	local f104_local12 = " \n current level "
	local f104_local13 = tostring( f104_arg0._currentLevel )
	local f104_local14 = " \n battle pass xp "
	local f104_local15 = tostring( f104_arg0._battlePassXP )
	local f104_local16 = " \n scoped data colum "
	local f104_local17 = tostring
	local f104_local18
	if f104_local0 then
		f104_local18 = f104_local0.battlepassSelectedColumn
		if not f104_local18 then
		
		else
			DebugPrint( "$$$ Battle Pass Menu AAR State: " .. f104_local1 .. f104_local2 .. f104_local3 .. f104_local4 .. f104_local5 .. f104_local6 .. f104_local7 .. f104_local8 .. f104_local9 .. f104_local10 .. f104_local11 .. f104_local12 .. f104_local13 .. f104_local14 .. f104_local15 .. f104_local16 .. f104_local17( f104_local18 ) )
		end
	end
	f104_local18 = "-1"
end

local f0_local38 = function ( f97_arg0, f97_arg1, f97_arg2, f97_arg3, f97_arg4 )
	if f97_arg0._isAnimating then
		
	else
		
	end
	local f97_local0 = {
		START = 0,
		FILL = 2,
		FLARE = 3,
		END = 5,
		GRID = 1,
		DELAY = 4
	}
	local f97_local1 = {
		[f97_local0.START] = 1
	}
	local f97_local2 = f97_local0.GRID
	local f97_local3
	if f97_arg3 then
		f97_local3 = 50
	else
		f97_local3 = 100
	end
	f97_local1[f97_local2] = f97_local3
	f97_local2 = f97_local0.FILL
	if f97_arg3 then
		f97_local3 = 50
	else
		f97_local3 = 100
	end
	f97_local1[f97_local2] = f97_local3
	f97_local2 = f97_local0.FLARE
	if f97_arg3 then
		f97_local3 = 100
	else
		f97_local3 = 600
	end
	f97_local1[f97_local2] = f97_local3
	f97_local2 = f97_local0.DELAY
	if f97_arg3 then
		f97_local3 = 50
	else
		f97_local3 = 200
	end
	f97_local1[f97_local2] = f97_local3
	f97_local1[f97_local0.END] = 1
	if f97_arg4 then
		f97_local1[f97_local0.FILL] = f97_arg0._aarFillWaitTime and f97_arg0._aarFillWaitTime or f97_local1[f97_local0.FILL]
	end
	f97_local2 = function ( f103_arg0, f103_arg1 )
		f97_arg0.Grid:SetFocusedPosition( {
			y = 0,
			x = f103_arg0
		}, f103_arg1, nil, false )
		return f97_arg0.Grid:GetElementAtPosition( f103_arg0, 0 )
	end
	
	f97_local3 = nil
	local f97_local4 = f97_arg1
	local f97_local5 = nil
	local f97_local6 = 0
	local f97_local7 = f97_arg1 + 1
	local f97_local8 = tonumber( f97_arg0._battlePassData[f97_arg1 + 1].level )
	local f97_local9 = f97_arg0._finalXP and f97_arg0._finalXP or BATTLEPASS.GetXP( f97_arg0._controllerIndex )
	local f97_local10 = BATTLEPASS.GetTierMaxXP( f97_arg0._maxBattlePassLevel )
	f97_arg0._isAnimating = true
	f97_arg0._skipAnimationEnabled = true
	f97_arg0.Grid:SetDirectionalInputEnabled( false )
	f97_arg0.Grid:SetMouseFocusBlocker( true )
	f97_arg0.HorizontalScrollbar:SetAlpha( 0 )
	f97_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( true )
	f97_arg0.PromptContainer:setText( Engine.CBBHFCGDIC( "BATTLEPASS/SKIP_CELEBRATION_PROMPT" ) )
	local f97_local11
	if f97_arg3 then
		f97_local11 = BATTLEPASS.GetTierMinXP( 0 and f97_local8 - 1 or 0 )
		if not f97_local11 then
		
		else
			f97_arg0._battlePassXP = f97_local11
			f97_arg0.Grid:RefreshContent()
			f0_local0( f97_arg0 )
			f97_local11 = nil
			f97_local11 = function ()
				if not f97_arg0 then
					f97_arg0 = f97_arg0.START
				else
					f97_arg0 = f97_arg0 + 1
					if f97_arg0 == f97_arg0.END and (f97_arg0 < f97_arg0 or f97_arg0._battlePassXP < f97_arg0 or f97_arg0 == f97_arg0 and f97_arg0 == f97_arg0) then
						f97_arg0 = f97_arg0.START
					end
				end
				if f97_arg0:GetCurrentMenu() then
					local f98_local0 = f97_arg0:GetCurrentMenu()
					f98_local0 = f98_local0.id
					local f98_local1 = LUI.FlowManager.GetVisibleMenu()
					if f98_local0 == f98_local1.id then
					
					else
						f97_arg0._skipAnimation = true
					end
				end
				if f97_arg0._purchaseBattlePassInAAR and not f97_arg0._purchaseBattlePassInAARSuccess then
					f97_arg0._skipAnimation = true
				end
				if f97_arg0._skipAnimation then
					f97_arg0._skipAnimation = false
					f97_arg0._skipAnimationEnabled = false
					if f97_arg0 then
						f97_arg0:EnableGlow( false )
						f97_arg0.BattlePassFlare:ClearFlare()
					end
					f97_arg0 = f97_arg0.END
					f97_arg0 = f97_arg0
					f97_arg0 = f97_arg0( f97_arg0, f97_arg0 == f97_arg0 )
					f97_arg0.BattlePassStatus:UpdateActiveBanner( f97_arg0._battlePassOwned )
				end
				if f97_arg0 == f97_arg0.START then
					f97_arg0 = f97_arg0( f97_arg0, f97_arg0 == f97_arg0 )
					if f97_arg0 then
						if not f97_arg0.itemData then
							DebugPrint( "BattlePassMenu:AnimateUnlocks: currentChild missing itemData, skipping animation\n" .. "\tstartPosition = " .. tostring( f97_arg0 ) .. ", currentPosition = " .. tostring( f97_arg0 ) .. ", endPosition = " .. tostring( f97_arg0 ) )
							f97_arg0._skipAnimation = true
							f97_arg0._forceDelayEnd = true
						else
							f97_arg0._forceDelayEnd = false
						end
						f97_arg0:SetBattlePassOwned( f97_arg0._battlePassOwned )
						f97_arg0:SetIsAnimating( true )
						if f97_arg0.itemData.showProgress and not f97_arg0._displayBattlePassInAAR then
							f97_arg0:EnableGlow( true )
						end
						if f97_arg0 then
							if f97_arg0 == f97_arg0 then
								Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseFirst )
							elseif f97_arg0 == f97_arg0 then
								Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseLast )
							else
								Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseCard )
							end
						end
					else
						f97_arg0( f97_arg0, f97_arg0._controllerIndex, f97_arg0, f97_arg0, f97_arg0 )
						assert( f97_arg0, "( currentChild == nil ) currentPosition = " .. f97_arg0 .. ", startPosition = " .. f97_arg0 )
						f97_arg0._skipAnimation = true
						f97_arg0._forceDelayEnd = true
					end
				elseif f97_arg0 == f97_arg0.FILL then
					local f98_local0 = 0
					local f98_local1 = tonumber( f97_arg0.itemData.level )
					local f98_local2 = BATTLEPASS.GetTierMinXP( f98_local1 )
					local f98_local3 = f98_local2
					if 0 < f98_local1 then
						f98_local3 = BATTLEPASS.GetTierMinXP( f98_local1 - 1 )
					end
					if f98_local2 <= f97_arg0 then
						f98_local0 = 1
						f97_arg0._battlePassXP = f98_local2
					else
						f98_local0 = (f97_arg0 - f98_local3) / (f98_local2 - f98_local3)
						f97_arg0._battlePassXP = f97_arg0
					end
					f97_arg0.progress = f98_local0
					if f97_arg0.itemData.showProgress then
						f97_arg0:SetProgress( f98_local0, f97_arg0[f97_arg0.FILL] )
					end
				elseif f97_arg0 == f97_arg0.FLARE then
					if f97_arg0.progress == 1 then
						local f98_local0 = f97_arg0.itemData.isFree == "1"
						f97_arg0:SetTopBanner( f98_local0, false )
						local f98_local1 = f97_arg0
						local f98_local3 = f98_local1
						f98_local1 = f98_local1.SetLocked
						local f98_local4
						if not f97_arg0._battlePassOwned then
							f98_local4 = not f98_local0
						else
							f98_local4 = false
						end
						f98_local1( f98_local3, f98_local4 )
						ACTIONS.AnimateSequence( f97_arg0, "NotLocked" )
						if f97_arg0 ~= f97_arg0 or f97_arg0 <= f97_arg0 then
							if f97_arg0 then
								f97_arg0.BattlePassFlare:PlayPurchasedFlare()
							else
								f97_arg0.BattlePassFlare:PlayRarityFlare( f97_arg0.lootData.rarity )
							end
						end
						if f97_arg0._battlePassOwned then
							ACTIONS.AnimateSequence( f97_arg0, "CompletePurchased" )
						elseif f98_local0 then
							ACTIONS.AnimateSequence( f97_arg0, "CompleteFree" )
						else
							ACTIONS.AnimateSequence( f97_arg0, "HideCheckbox" )
						end
						if f97_arg0.itemData.showProgress then
							ACTIONS.AnimateSequence( f97_arg0, "TierCompleteFlare" )
						end
						if f97_arg0._displayBattlePassInAAR then
							f97_arg0:EnableGlow( true, {
								enableImmediately = true
							} )
						end
					end
				elseif f97_arg0 == f97_arg0.DELAY then
					if not f97_arg0 then
						f97_arg0:EnableGlow( false, {
							enableImmediately = false,
							disableGlowTime = 1500
						} )
					end
					f97_arg0:SetIsAnimating( false )
					f97_arg0 = f97_arg0 + 1
				end
				if f97_arg0 ~= f97_arg0.END then
					local f98_local0
					if f97_arg0[f97_arg0] < 1 then
						f98_local0 = 1
					else
						f98_local0 = f97_arg0[f97_arg0]
					end
					local f98_local1 = f97_arg0:Wait( f98_local0 )
					f98_local1.onComplete = function ()
						f98_local0()
					end
					
				else
					f97_arg0._purchaseEnabled = true
					f97_arg0._isAnimating = false
					f97_arg0._battlePassXP = f97_arg0
					f97_arg0.Grid:SetMouseFocusBlocker( false )
					f97_arg0.Grid:RefreshContent()
					f97_arg0( f97_arg0 )
					f97_arg0.PromptContainer:setText( "" )
					f97_arg0.HorizontalScrollbar:SetAlpha( 1, 150 )
					f97_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( false )
					BATTLEPASS.SetLastMenuXP( f97_arg0._controllerIndex, f97_arg0._battlePassXP )
					local f98_local0
					if not f97_arg0._displayBattlePassInAAR then
						f97_arg0.Grid:SetDirectionalInputEnabled( true )
						f97_arg0.TierPurchaseBG:SetAlpha( 0, 150 )
						f98_local0 = BATTLEPASS.GetLastFreeTierReached( f97_arg0._controllerIndex )
						BATTLEPASS.SetLastFreeTierSeen( f97_arg0._controllerIndex, f98_local0 )
						f97_arg0( f97_arg0 )
					else
						f98_local0 = f97_arg0.Grid
						local f98_local2 = f98_local0
						f98_local0 = f98_local0.SetDirectionalInputEnabled
						f98_local0( f98_local2, false )
					end
					f98_local0 = function ()
						if f98_local0._battlePassXP >= BATTLEPASS.GetTierMaxXP( BATTLEPASS.GetMaxTier() ) then
							local f101_local0 = f98_local0._displayBattlePassInAAR and f98_local0._displayBattlePassInAAR or false
							f98_local0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_COMPLETE
							LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f98_local0._controllerIndex, f101_local0, {
								state = f98_local0._celebrateState
							}, nil, false, true )
						end
						if not f98_local0._displayBattlePassInAAR then
							f98_local0:dispatchEventToParent( {
								name = "start_auto_close"
							} )
						else
							f98_local0:dispatchEventToRoot( {
								dispatchChildren = true,
								name = "update_aar_battlepass_tier_done"
							} )
						end
						if not f98_local0._isBattlePassPopup then
							GIFT.ProcessQueuedGifts( f98_local0._controllerIndex )
						end
					end
					
					if f97_arg0._forceDelayEnd then
						local f98_local1 = f97_arg0:Wait( 2000 )
						f98_local1.onComplete = f98_local0
					else
						f98_local0()
					end
					if f97_arg0.shouldAwardFreeTierGift then
						if not f97_arg0._wasTierGiftAwarded then
							local f98_local1 = f97_arg0:Wait( 500 )
							f98_local1.onComplete = function ()
								local f99_local0 = {
									isTierGift = true,
									bundleID = tonumber( BATTLEPASS.GetTierSkipGiftID() ),
									battlePassName = BATTLEPASS.GetItemName( f98_local0.tierGiftBattlePassPurchaseRef ),
									onConfirm = function ( f100_arg0 )
										if f100_arg0 then
											f99_local0._wasTierGiftAwarded = true
											f99_local0._autoTierSkip = true
											local f100_local0 = f99_local0:GetPurchaseAction()
											f100_local0( f99_local0, {
												controller = f99_local0._controllerIndex
											} )
										else
											f99_local0.shouldAwardFreeTierGift = false
											f99_local0( f99_local0, Engine.CBBHFCGDIC( "BATTLEPASS/REWARD_ERROR_MESSAGE" ) )
										end
									end
								}
								f98_local0.tierGiftBattlePassPurchaseRef = nil
								LUI.FlowManager.RequestPopupMenu( nil, "BattlePassRewardPopup", true, f98_local0._controllerIndex, false, f99_local0, nil, false, true )
							end
							
						else
							f97_arg0._autoTierSkip = false
							f97_arg0.shouldAwardFreeTierGift = false
						end
					elseif f97_arg0._autoTierSkip then
						f97_arg0._autoTierSkip = false
					end
				end
			end
			
			if f97_arg4 then
				f97_local11()
			else
				local f97_local12 = f97_arg0:Wait( 1750, true )
				f97_local12.onComplete = f97_local11
			end
		end
	end
	f97_local11 = f97_arg0._previousXP
end

local f0_local39 = function ( f92_arg0 )
	if f92_arg0._isAnimating then
		
	else
		
	end
	local f92_local0 = 32
	local f92_local1 = 5000
	local f92_local2 = 8000
	local f92_local3 = {
		FLARE = 2,
		END = 3,
		START = 0,
		MOVE = 1
	}
	local f92_local4 = {
		[f92_local3.START] = 300,
		[f92_local3.MOVE] = 600,
		[f92_local3.FLARE] = 300,
		[f92_local3.END] = 1200
	}
	local f92_local5 = BATTLEPASS.GetShowcaseTiers()
	local f92_local6 = function ()
		local f96_local0 = table.remove( f92_arg0, 1 )
		if f96_local0 then
			f96_local0 = f96_local0 + BATTLEPASS.NumBonusItems - 1
		end
		if not f96_local0 or f96_local0 <= BATTLEPASS.NumBonusItems then
			f96_local0 = BATTLEPASS.NumBonusItems
		end
		return f96_local0
	end
	
	local f92_local7 = f92_local3.START
	local f92_local8 = f92_arg0.Grid:GetElementAtPosition( f92_local6(), 0 )
	local f92_local9 = 0
	local f92_local10 = 0
	local f92_local11 = function ( f95_arg0 )
		f92_arg0 = 0
		f92_arg0 = f95_arg0
	end
	
	f92_arg0.TierPurchaseBG:SetAlpha( 1 )
	f92_arg0.TierPurchaseBG.TierText:SetAlpha( 0 )
	f92_arg0.TierPurchaseBG:StartAnimation()
	f92_arg0._isAnimating = true
	f92_arg0._skipAnimationEnabled = true
	f92_arg0.Grid:SetDirectionalInputEnabled( false )
	f92_arg0.Grid:SetMouseFocusBlocker( true )
	f92_arg0.PromptContainer:setText( Engine.CBBHFCGDIC( "BATTLEPASS/SKIP_CELEBRATION_PROMPT" ) )
	local f92_local12 = nil
	local f92_local13 = function ()
		local f93_local0 = f92_arg0:Wait( f92_arg0 )
		f93_local0.onComplete = function ()
			f93_local0 = f93_local0 + f93_local0
			local f94_local0 = f93_local0:GetCurrentMenu()
			f94_local0 = f94_local0.id
			local f94_local1 = LUI.FlowManager.GetVisibleMenu()
			if f94_local0 ~= f94_local1.id then
				return 
			elseif f93_local0._skipAnimation then
				f93_local0._skipAnimation = false
				f93_local0._skipAnimationEnabled = false
				f93_local0.BattlePassFlare:ClearFlare()
				f93_local0( 0 )
				f93_local0 = f93_local0.END
			end
			if f93_local0 == f93_local0.START then
				f93_local0.Grid:SetMaxVelocity( f93_local0 )
				f93_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f93_local0
				}, true )
				f93_local0 = f93_local0.Grid:GetElementAtPosition( f93_local0, 0 )
				f93_local0( f93_local0[f93_local0.START] )
				f93_local0 = f93_local0.FLARE
			elseif f93_local0 == f93_local0.MOVE and f93_local0 < f93_local0 then
				f93_local0.BattlePassFlare:ClearFlare()
				f93_local0:processEvent( {
					name = "lose_active"
				} )
				f93_local0 = f93_local0()
				f93_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f93_local0
				}, false )
				f93_local0( f93_local0[f93_local0.MOVE] )
				f93_local0 = f93_local0.FLARE
			elseif f93_local0 == f93_local0.FLARE and f93_local0 < f93_local0 then
				f93_local0 = f93_local0.Grid:GetElementAtPosition( f93_local0, 0 )
				if f93_local0 and f93_local0._isOver then
					f93_local0.BattlePassFlare:PlayRarityFlare( f93_local0.lootData.rarity )
					if f93_local0 <= BATTLEPASS.NumBonusItems then
						f93_local0( f93_local0[f93_local0.END] )
						f93_local0 = f93_local0.END
					else
						f93_local0( f93_local0[f93_local0.FLARE] )
						f93_local0 = f93_local0.MOVE
					end
				end
			elseif f93_local0 == f93_local0.END and f93_local0 < f93_local0 then
				f93_local0.Grid:SetMaxVelocity( f93_local0 )
				if not f93_local0._displayBattlePassInAAR then
					f93_local0.TierPurchaseBG.TierText:SetAlpha( 1 )
					f93_local0.TierPurchaseBG:SetAlpha( 0, 150 )
				end
				f93_local0._isAnimating = false
				f93_local0._skipAnimationEnabled = false
				f93_local0.Grid:SetDirectionalInputEnabled( true )
				f93_local0 = BATTLEPASS.NumBonusItems
				f93_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f93_local0
				}, true )
				f93_local0( f93_local0 )
			end
			f93_local0()
		end
		
	end
	
	f92_local13()
end

local f0_local40 = function ( f91_arg0, f91_arg1 )
	f91_arg0._finalXP = BATTLEPASS.GetXP( f91_arg0._controllerIndex )
	local f91_local0 = BATTLEPASS.GetTier( f91_arg0._controllerIndex )
	local f91_local1 = 0
	local f91_local2 = f0_local0( f91_arg0, f91_local0 )
	if f91_arg1 then
		f91_local1 = f0_local0( f91_arg0, f91_arg0._previousLevel )
	end
	if f91_arg0._purchaseBattlePassInAARSuccess then
		f91_local2 = f91_arg0.finalAAREndPosition
	end
	f0_local0( f91_arg0, LUI.clamp( f91_local1, 0, #f91_arg0._battlePassData - 1 ), LUI.clamp( f91_local2, 0, #f91_arg0._battlePassData - 1 ), not f91_arg1 )
end

local f0_local41 = function ( f90_arg0 )
	local f90_local0 = BATTLEPASS.IsOwned( f90_arg0._controllerIndex )
	local f90_local1 = BATTLEPASS.GetTier( f90_arg0._controllerIndex ) == BATTLEPASS.GetMaxTier()
	local f90_local2 = not f90_local0
	local f90_local3 = not f90_local1
	local f90_local4 = BATTLEPASS.NeedFixUp( f90_arg0._controllerIndex )
	if f90_local4 then
		if not f90_local2 then
			f90_local4 = f90_local2
		else
			f90_local4 = f90_local3
		end
	end
	return f90_local4
end

local f0_local42 = function ( f83_arg0, f83_arg1 )
	local f83_local0 = function ()
		f83_arg0._previousXP = BATTLEPASS.GetXP( f83_arg0._controllerIndex )
		f83_arg0._previousLevel = BATTLEPASS.GetTier( f83_arg0._controllerIndex )
		f83_arg0._purchaseQueue = LUI.CreateQueue()
		f83_arg0._activationQueue = LUI.CreateQueue()
		f83_arg0._queuedRef = nil
		f83_arg0._queuedPurchase = nil
		f83_arg0._numTransactions = 0
		f83_arg0._numTransactionsComplete = 0
		if not f83_arg0._battlePassOwned and f83_arg0 then
			local f87_local0 = f83_arg0
			if not f83_arg0._autoTierSkip then
				f83_arg0._tierSkips = 0
				f83_arg0._purchaseQueue:Push( {
					ref = f83_arg0
				} )
				f83_arg0._numTransactions = f83_arg0._numTransactions + 1
			else
				f87_local0 = BATTLEPASS.GetPurchaseRef()
			end
			local f87_local1 = BATTLEPASS.GetActivationRefs( f87_local0 )
			local f87_local2 = #f87_local1
			for f87_local6, f87_local7 in ipairs( f87_local1 ) do
				f83_arg0._activationQueue:Push( {
					ref = f87_local7.ref,
					id = f87_local6,
					count = f87_local2,
					skipValue = f87_local7.quantity
				} )
				f83_arg0._numTransactions = f83_arg0._numTransactions + 1
			end
			if f83_arg0 == BATTLEPASS.GetPurchaseRef() then
				f83_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_UNLOCKED
			elseif f83_arg0 == BATTLEPASS.GetPurchaseBundleRef() then
				f83_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_TIER_BUNDLE_UNLOCKED
			end
		else
			f83_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.TIERS_UNLOCKED
		end
		if not f83_arg0._autoTierSkip then
			local f87_local1 = f83_arg0._maxBattlePassLevel - BATTLEPASS.GetTier( f83_arg0._controllerIndex )
			local f87_local2 = f83_arg0._tierSkips
			if f87_local1 < f87_local2 then
				f87_local2 = f87_local1
			end
			if 0 < f87_local2 then
				f83_arg0._purchaseQueue:Push( {
					ref = BATTLEPASS.T9_SKIP_VALUE_REF,
					skipValue = f87_local2
				} )
				f83_arg0._tierSkips = f83_arg0._tierSkips - f87_local2
				f83_arg0._numTransactions = f83_arg0._numTransactions + 1
				f83_arg0._activationQueue:Push( {
					ref = BATTLEPASS.T9_SKIP_VALUE_REF,
					skipValue = f87_local2
				} )
			end
		else
			local f87_local0 = 0
			local f87_local1 = BATTLEPASS.GetTier( f83_arg0._controllerIndex )
			local f87_local2, f87_local3 = BATTLEPASS.GetPendingTierSkips( f83_arg0._controllerIndex )
			for f87_local7, f87_local8 in ipairs( f87_local2 ) do
				local f87_local9 = f87_local8.skips
				if not f83_arg0._allowTierBank or f87_local1 + f87_local0 + f87_local9 <= f83_arg0._maxBattlePassLevel then
					f83_arg0._activationQueue:Push( {
						ref = f87_local8.ref,
						skipValue = f87_local9
					} )
					f83_arg0._numTransactions = f83_arg0._numTransactions + 1
					f87_local0 = f87_local0 + f87_local9
				end
			end
		end
		local f87_local0 = false
		local f87_local1, f87_local2 = nil
		local f87_local3 = function ()
			local f88_local0 = f87_local0:Wait( 16 )
			f88_local0.onComplete = function ()
				if f88_local0._queuedRef then
					if not f88_local0._errorCode then
						f88_local0()
					else
						local f89_local0 = BATTLEPASS.GetErrorMessage( f88_local0._errorCode, f88_local0._queuedRef )
						f88_local0._errorCode = nil
						f88_local0._queuedRef = nil
						f88_local0._needFixUp = f88_local0( f88_local0 )
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
						f88_local0( f88_local0, f89_local0 )
					end
				elseif f88_local0._purchaseQueue and not f88_local0._queuedPurchase then
					f88_local0._queuedPurchase = f88_local0._purchaseQueue:Pop()
					if f88_local0._queuedPurchase then
						f88_local0._queuedRef = f88_local0._queuedPurchase.ref
						local f89_local0 = tonumber( StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f88_local0._queuedRef, CSV.battlePassIDs.cols.id ) )
						local f89_local1 = StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f88_local0._queuedRef, CSV.battlePassIDs.cols.sku )
						if f89_local1 ~= "" then
							f89_local0 = tonumber( f89_local1 )
						end
						local f89_local2 = 1
						if f88_local0._queuedRef == BATTLEPASS.T9_SKIP_VALUE_REF then
							f89_local2 = f88_local0._queuedPurchase.skipValue
						end
						if STORE.IsItemOnSale( f89_local0, f88_local0._controllerIndex ) then
							local f89_local3 = StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f88_local0._queuedRef, CSV.battlePassIDs.cols.saleSku )
							if f89_local3 ~= "" then
								f89_local0 = tonumber( f89_local3 )
							end
						end
						Battlepass.GAICDBJEC( f88_local0._controllerIndex, f89_local0, f89_local2 )
					else
						f88_local0._purchaseQueue = nil
					end
					f88_local0()
				elseif f88_local0._activationQueue then
					f88_local0._activation = f88_local0._activationQueue:Pop()
					if f88_local0._activation then
						f88_local0._queuedRef = f88_local0._activation.ref
						local f89_local0 = tonumber( StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f88_local0._queuedRef, CSV.battlePassIDs.cols.id ) )
						local f89_local1 = StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f88_local0._queuedRef, CSV.battlePassIDs.cols.challengeID )
						if f88_local0._queuedRef == BATTLEPASS.T9_SKIP_VALUE_REF then
							local f89_local3 = f88_local0._maxBattlePassLevel - BATTLEPASS.GetTier( f88_local0._controllerIndex )
							local f89_local4 = f88_local0._activation.skipValue
							if f89_local3 < f89_local4 then
								f89_local4 = f89_local3
							end
							f89_local1 = StringTable.CBGJCDIHCE( CSV.t9TierSkipIDs.file, f89_local4, CSV.t9TierSkipIDs.cols.id )
						end
						Battlepass.CBHBFIJDHG( f88_local0._controllerIndex, f89_local1, f89_local0 )
					else
						f88_local0._activationQueue = nil
					end
					f88_local0()
				else
					if not f88_local0 then
						f88_local0 = Engine.BFBIDEGDFB()
					elseif not f88_local0 and f88_local0 <= Engine.BFBIDEGDFB() - f88_local0 then
						f88_local0 = true
						f88_local0.TierPurchaseBG:SetAlpha( 1 )
						f88_local0.TierPurchaseBG:StartAnimation()
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
						LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f88_local0._controllerIndex, false, {
							state = f88_local0._celebrateState
						}, nil, false, true )
					end
					if f88_local0 and f88_local0._purchaseBattlePassInAAR then
						f88_local0._purchaseBattlePassInAARSuccess = true
						if f88_local0.BattlePassTierProgression then
							f88_local0.BattlePassTierProgression:SetAlpha( 0 )
						end
						f88_local0.TierPurchaseBG:SetAlpha( 1 )
						f88_local0:dispatchEventToRoot( {
							dispatchChildren = true,
							name = "purchase_aar_battlepass_success",
							immediate = true
						} )
					end
					if f88_local0 and not LUI.FlowManager.IsInStack( "BattlePassFullScreenPopup" ) then
						f88_local0._needFixUp = f88_local0( f88_local0 )
						f88_local0( f88_local0, f88_local0 == nil )
					else
						f88_local0()
					end
				end
			end
			
		end
		
		f87_local3()
	end
	
	return function ( f84_arg0, f84_arg1 )
		if not f83_arg0._battlePassOwned and not f83_arg0._autoTierSkip then
			f83_arg0._itemCost = tonumber( BATTLEPASS.GetItemCost( f83_arg0 ) )
		end
		f83_arg0._availableCODPoints = Commerce.CEDDCGHIGA( f84_arg1.controller, LOOT.CurrencyIDs.COD_POINTS )
		if not f83_arg0._autoTierSkip and f83_arg0._availableCODPoints < f83_arg0._itemCost then
			local f84_local0 = {
				showBalance = true,
				controllerIndex = f84_arg1.controller,
				currencyID = LOOT.CurrencyIDs.COD_POINTS,
				currencyAmount = f83_arg0._itemCost
			}
			local f84_local1 = STORE.EnterStore
			local f84_local2 = f84_arg1.controller
			local f84_local3 = f84_arg0:GetCurrentMenu()
			f84_local1( f84_local2, f84_local3.id, f84_arg0.id, f84_local0, "PurchaseCODPointsPopup", true )
		else
			local f84_local0 = nil
			if not f83_arg0._battlePassOwned and f83_arg0 then
				f84_local0 = Engine.CBBHFCGDIC( BATTLEPASS.GetItemName( f83_arg0 ) )
			elseif f83_arg0._tierSkips == 1 then
				f84_local0 = Engine.CBBHFCGDIC( "BATTLEPASS/1_TIER_SKIP" )
			else
				f84_local0 = Engine.CBBHFCGDIC( "BATTLEPASS/N_TIER_SKIPS", f83_arg0._tierSkips )
			end
			local f84_local1 = {
				hidePurchasingText = f83_arg0._autoTierSkip,
				itemCost = f83_arg0._itemCost,
				itemName = f84_local0,
				confirmAction = f83_arg0,
				cancelAction = function ()
					f84_arg0._purchaseEnabled = true
				end
			}
			LUI.FlowManager.RequestLeaveMenuByName( "BattlePassConfirmPurchasePopup", true )
			local f84_local4 = f83_arg0._currentMenu.id
			local f84_local2 = LUI.FlowManager.GetVisibleMenu()
			if f84_local4 == f84_local2.id or f83_arg0._autoTierSkip and f83_arg0._BRRewardState == f83_arg0.NONE then
				f84_local4 = false
			else
				f84_local4 = true
			end
			if Engine.DBFCJBDJEC() and Engine.DDHFCGHJEA() and not isPendingTransactions and not f83_arg0._autoTierSkip then
				f84_local2 = ""
				local f84_local3 = false
				if not f83_arg0._battlePassOwned and f83_arg0 then
					if f83_arg0 == BATTLEPASS.GetPurchaseRef() then
						f84_local2 = "battlepass_button_premium"
					elseif f83_arg0 == BATTLEPASS.GetPurchaseBundleRef() then
						f84_local2 = "battlepass_button_bundle"
					end
				else
					f84_local2 = "battlepass_emblem"
					f84_local3 = true
				end
				LUI.FlowManager.RequestPopupMenu( nil, "StoreConfirmPurchaseKoreaLegalPupup", true, f84_arg1.controller, f84_local4, {
					isItemNameLocalized = true,
					itemName = f84_local0,
					itemImage = f84_local2,
					itemCurrencyID = LOOT.CurrencyIDs.COD_POINTS,
					itemCurrencyAmount = f83_arg0._itemCost,
					isBattlepassTier = f84_local3,
					confirmAction = function ()
						LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f84_arg0.controller, f84_arg0, f84_arg0, nil, false, true )
						f84_arg0._purchaseEnabled = false
					end
				}, nil, false, false )
			else
				LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f84_arg1.controller, f84_local4, f84_local1, nil, false, true )
				f83_arg0._purchaseEnabled = false
			end
		end
	end
	
end

local f0_local43 = function ( f82_arg0, f82_arg1 )
	local f82_local0, f82_local1 = BATTLEPASS.IsPendingTransactions( f82_arg1 )
	local f82_local2, f82_local3 = BATTLEPASS.GetPendingTierSkips( f82_arg1 )
	local f82_local4 = nil
	if f82_local0 then
		if 20 <= f82_local3 then
			f82_local4 = BATTLEPASS.GetPurchaseBundleRef()
		else
			f82_local4 = BATTLEPASS.GetPurchaseRef()
		end
	end
	local f82_local5 = f82_arg0:GetPurchaseAction( f82_local4 )
	f82_local5( f82_arg0, {
		controller = f82_arg1
	} )
end

local f0_local44 = function ( f80_arg0 )
	f80_arg0._purchaseEnabled = false
	f80_arg0._previousXP = BATTLEPASS.GetXP( f80_arg0._controllerIndex )
	f80_arg0._previousLevel = BATTLEPASS.GetTier( f80_arg0._controllerIndex )
	BATTLEPASS.FixUp( f80_arg0._controllerIndex )
	local f80_local0 = 60000
	f80_arg0._fixingUp = true
	local f80_local1 = f80_arg0:Wait( f80_local0 )
	f80_local1.onComplete = function ()
		f80_arg0:processEvent( {
			name = "battlepass_fixup_failed"
		} )
	end
	
	LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f80_arg0._controllerIndex, false, {
		fixUp = true
	}, nil, false, true )
end

local f0_local45 = function ( f79_arg0, f79_arg1 )
	local f79_local0 = {
		sourceMenu = f79_arg0,
		purchaseAction = f79_arg0:GetPurchaseAction()
	}
	local f79_local1 = f79_arg0._purchaseBattlePassInAAR
	if not f79_local1 then
		f79_local1 = f79_arg0._purchaseBattlePassInStore or f79_arg0._purchaseBattlePassInVIPGift
	end
	f79_local0.backLeavesBPMenuPopup = f79_local1
	LUI.FlowManager.RequestPopupMenu( f79_arg0, "BattlePassPurchasePopup", true, f79_arg1, false, f79_local0 )
end

local f0_local46 = function ( f76_arg0, f76_arg1 )
	if f76_arg0._battlePassOwned then
		f0_local0( f76_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/ERROR_ALREADY_OWN" ), function ()
			ACTIONS.LeaveMenu( f76_arg0 )
		end )
		return 
	end
	f76_arg0._purchaseBattlePassInVIPGift = true
	if f76_arg1 then
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f76_arg0._controllerIndex, false, {
			skipDelay = true,
			menu = f76_arg0,
			closeAction = function ( f77_arg0 )
				f76_arg0( f77_arg0, true )
			end
		} )
	else
		f0_local0( f76_arg0, f76_arg0._controllerIndex )
	end
end

local f0_local47 = function ( f73_arg0 )
	if f73_arg0._battlePassOwned then
		f0_local0( f73_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/ERROR_ALREADY_OWN" ), function ()
			ACTIONS.LeaveMenu( f73_arg0 )
		end )
		return 
	end
	f73_arg0._purchaseBattlePassInStore = true
	if not Onboarding.BattlePass.WasCompleted( f73_arg0, f73_arg0._controllerIndex ) then
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f73_arg0._controllerIndex, false, {
			skipDelay = true,
			menu = f73_arg0,
			closeAction = function ( f74_arg0 )
				f73_arg0( f74_arg0, f74_arg0._controllerIndex )
			end
		} )
	else
		f0_local0( f73_arg0, f73_arg0._controllerIndex )
	end
end

local f0_local48 = function ( f72_arg0, f72_arg1 )
	ACTIONS.AnimateSequence( f72_arg0, "SetupStandalone" )
	f72_arg0._purchaseBattlePassInAAR = true
	f0_local0( f72_arg0, f72_arg1 )
end

local f0_local49 = function ( f69_arg0, f69_arg1, f69_arg2 )
	f69_arg0._displayBattlePassInAAR = true
	f69_arg0._shouldAnimateDoubleXP = f69_arg2.isDoubleXPActive
	local f69_local0 = f69_arg2.startTierXP
	f69_arg0.finalAAREndPosition = f0_local0( f69_arg0, BATTLEPASS.GetTierByXP( f69_arg0._controllerIndex, f69_arg2.currentTierXP ) )
	f69_arg0.BattlePassTierProgression = MenuBuilder.BuildRegisteredType( "BattlePassTierProgression", {
		isAARBattlepass = true,
		controllerIndex = f69_arg1
	} )
	f69_arg0.BattlePassTierProgression.id = "BattlePassTierProgression"
	f69_arg0.BattlePassTierProgression:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, _1080p * -54, _1080p * 1026 )
	f69_arg0:addElement( f69_arg0.BattlePassTierProgression )
	f69_arg0.BattlePassTierProgression:PlayBattlePassTierProgression( f69_arg1, f69_arg2 )
	f69_arg0.BattlePassTierProgression:SetAlpha( 0 )
	f69_arg0.BattlePassTierProgression:SetAlpha( 1, 100 )
	f0_local0( f69_arg0, f69_arg1 )
	f69_arg0.Background:SetAlpha( 0 )
	f69_arg0.TierPurchaseBG:HideBattlePassInfo()
	f69_arg0.Grid:SetDirectionalInputEnabled( false )
	f69_arg0.BattlePassGridContainer:SetupAARGridMask()
	f69_arg0:registerEventHandler( "update_aar_battlepass_tier", function ( element, event )
		if not f69_arg0._purchaseBattlePassInAAR then
			f69_arg0:AnimateXPEarnedInAAR( event.displayTierXP, event.earnedTypeXP + event.displayTierXP, event.waitTime )
		end
	end )
	f69_arg0:registerEventHandler( AAR.PARADE_BATTLE_PASS_DONE, function ( element, event )
		if not f69_arg0._purchaseBattlePassInAAR then
			ACTIONS.LeaveMenu( f69_arg0 )
			if AAR.IsAnyNonXPParadeAvailable( f69_arg0._controllerIndex ) then
				LUI.FlowManager.RequestAddMenu( "AARContainer", true, f69_arg0._controllerIndex, false, {
					fromBattlepassAAR = true,
					controller = f69_arg0
				} )
			end
		end
	end )
end

local f0_local50 = function ( f68_arg0, f68_arg1 )
	if f68_arg1.controller == f68_arg0._controllerIndex then
		if f68_arg0._purchaseEnabled then
			if f68_arg0._isStandalone then
				return 
			elseif f68_arg0._needFixUp then
				f0_local0( f68_arg0 )
			elseif not f68_arg0._battlePassOwned then
				LUI.FlowManager.RequestPopupMenu( f68_arg0, "BattlePassPurchasePopup", true, f68_arg1.controller, false, {
					sourceMenu = f68_arg0,
					purchaseAction = purchaseAction
				} )
			elseif 0 < f68_arg0._tierSkips then
				LUI.FlowManager.RequestPopupMenu( f68_arg0, "BattlePassTiersPurchasePopup", true, f68_arg1.controller, false, {
					sourceMenu = f68_arg0,
					purchaseAction = purchaseAction,
					tierSkips = f68_arg0._tierSkips
				} )
			end
			Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseSelect )
		elseif f68_arg0._skipAnimationEnabled then
			f68_arg0._skipAnimation = true
		end
	end
end

local f0_local51 = function ( f67_arg0, f67_arg1 )
	if LUI.IsLastInputKeyboardMouse( f67_arg1.controller ) then
		if CONDITIONS.IsWZWipDvarEnabled() and f67_arg0._shouldShowGameSourceUpsell then
			LUI.FlowManager.RequestPopupMenu( f67_arg0, "WZCWUpsellPopup", true, f67_arg0._controllerIndex, false )
			return 
		elseif not f67_arg0._isAnimating then
			if LOOT.CanPreview( f67_arg0._currentChild.lootData.type, f67_arg0._currentChild.lootData.itemID ) then
				STORE.PreviewItem( f67_arg1.controller, f67_arg0._currentChild.lootData.type, f67_arg0._currentChild.lootData.itemID, nil, nil, true )
			end
		elseif f67_arg0._skipAnimationEnabled then
			f67_arg0._skipAnimation = true
		end
	else
		f0_local0( f67_arg0, f67_arg1 )
	end
end

local f0_local52 = function ( f66_arg0, f66_arg1, f66_arg2 )
	if f66_arg1 and not f66_arg2 then
		f66_arg0:AddTooltipData( controllerIndex, {
			promptsData = {
				{
					button_ref = "button_alt1",
					keyprompt_text = Engine.CBBHFCGDIC( "KEY/MOUSE1" ),
					helper_text = Engine.CBBHFCGDIC( "LUA_MENU/PREVIEW" )
				}
			}
		} )
	else
		f66_arg0:RemoveToolTipData()
	end
end

local f0_local53 = function ( f62_arg0, f62_arg1, f62_arg2, f62_arg3 )
	f62_arg0:SetupContextualMenu( {
		title = ToUpperCase( f62_arg0.lootData.name or "" )
	} )
	if f62_arg1._battlePassOwned and not f62_arg3 and f62_arg2 then
		f62_arg0:AddContextualMenuAction( {
			id = "battlePassContextualBuyTier",
			actionName = Engine.CBBHFCGDIC( "BATTLEPASS/BUY_TIERS_MULTIPLE" ),
			actionFunction = function ()
				f62_arg0( f62_arg0, {
					controller = f62_arg0._controllerIndex
				} )
			end
		} )
	end
	local f62_local0 = f62_arg0.lootData.type
	if f62_local0 == LOOT.itemTypes.WEAPON or f62_local0 == LOOT.itemTypes.OPERATOR_SKIN then
		local f62_local1 = nil
		if f62_local0 == LOOT.itemTypes.WEAPON then
			f62_local1 = Engine.CBBHFCGDIC( "BATTLEPASS/TOGGLE_REWARD_DETAILS_CONTEXTUAL" )
		else
			f62_local1 = Engine.CBBHFCGDIC( "BATTLEPASS/VIEW_MISSION_DETAILS_CONTEXTUAL" )
		end
		f62_arg0:AddContextualMenuAction( {
			id = "battlePassContextualViewDetails",
			actionName = f62_local1,
			actionFunction = function ()
				if f62_arg0 == LOOT.itemTypes.WEAPON then
					f62_arg0._isExpanded = not f62_arg0._isExpanded
					Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
				end
				f62_arg0( f62_arg0, f62_arg0.lootData, f62_arg0.itemData, f62_arg0._isExpanded )
				if f62_arg0._missionChallengeID then
					Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
					if not Engine.DBAEJAHFGJ( f62_arg0._controllerIndex ) then
						if f62_arg0._missionChallengeData.category == Challenge.Operator then
							local f64_local0 = StringTable.DIFCHIGDFB( CSV.questChallenges.file, CSV.questChallenges.cols.ref, f62_arg0._missionChallengeID, CSV.questChallenges.cols.id )
							if f64_local0 and 0 < #f64_local0 then
								LUI.FlowManager.RequestAddMenu( "OperatorMissions", true, f62_arg0._controllerIndex, false, {
									challengeID = f64_local0,
									skinLootId = f62_arg0._missionChallengeData.loot
								} )
							end
						end
					else
						LUI.FlowManager.RequestPopupMenu( nil, "mp_no_guest_popup", false, f62_arg0._controllerIndex, false )
					end
				end
			end
		} )
	end
	if LOOT.CanPreview( f62_local0, f62_arg0.lootData.itemID ) or f62_arg1._shouldShowGameSourceUpsell then
		local f62_local1 = f62_arg0.itemData.lootTable[f62_arg1._lootIndex]._gameSourceId == LUI.GAME_SOURCE_ID.COLD_WAR
		f62_arg0:AddContextualMenuAction( {
			id = "battlePassContextualPreview",
			actionName = Engine.CBBHFCGDIC( "LUA_MENU/PREVIEW" ),
			actionFunction = function ()
				if not f62_arg0._isAnimating then
					if f62_arg0._shouldShowGameSourceUpsell then
						LUI.FlowManager.RequestPopupMenu( f62_arg0, "WZCWUpsellPopup", true, f62_arg0._controllerIndex, false )
						return 
					end
					STORE.PreviewItem( f62_arg0._controllerIndex, f62_arg0, f62_arg0.lootData.itemID, nil, nil, true )
				end
			end
		} )
		f0_local0( f62_arg0, true, f62_local1 )
	else
		f0_local0( f62_arg0, false )
	end
end

local f0_local54 = function ( f61_arg0 )
	if f61_arg0 then
		local f61_local0 = f61_arg0[#f61_arg0]
		if 1 < #f61_local0.lootTable then
			table.remove( f61_arg0, #f61_arg0 )
			for f61_local4, f61_local5 in ipairs( f61_local0.lootTable ) do
				local f61_local6 = LUI.ShallowCopy( f61_local0 )
				local f61_local7 = {
					lootID = f61_local5.lootID,
					billboardImage = f61_local5.billboardImage,
					challengeID = f61_local5.challengeID,
					subTierID = f61_local5.subTierID
				}
				if 1 < f61_local4 then
					f61_local6.showProgress = false
				end
				f61_local6.subTierID = f61_local5.subTierID
				f61_local6.lootTable = {}
				table.insert( f61_local6.lootTable, f61_local7 )
				table.insert( f61_arg0, f61_local6 )
			end
		end
	end
end

local f0_local55 = function ( f60_arg0, f60_arg1 )
	if not Dvar.IBEGCHEFE( "MPQSMOPRQK" ) then
		return 
	end
	local f60_local0 = Challenge.GetQuestsForMissionChallenges( f60_arg1, {
		Challenge.Operator
	} )
	f60_local0 = f60_local0.quests
	local f60_local1 = {}
	for f60_local5, f60_local6 in pairs( f60_local0 ) do
		f60_local1[f60_local6[1].ref] = f60_local5
	end
	for f60_local5, f60_local6 in ipairs( f60_arg0 ) do
		for f60_local15, f60_local16 in ipairs( f60_local6.lootTable ) do
			local f60_local18 = f60_local16.challengeID
			if f60_local18 and 0 < #f60_local18 and f60_local1[f60_local18] then
				for f60_local13, f60_local14 in ipairs( f60_local0[f60_local1[f60_local18]] ) do
					if f60_local14.loot and 0 < #f60_local14.loot then
						local f60_local10 = LUI.ShallowCopy( f60_local16 )
						local f60_local11 = tonumber( f60_local14.amount ) <= Quests.CCBJIDFAHE( f60_arg1, tonumber( f60_local14.id ) )
						f60_local10.lootID = f60_local14.loot
						f60_local10.isOperatorChallengeReward = true
						f60_local10.operatorChallengeName = f60_local14.name
						local f60_local12
						if f60_local14.unlocked then
							f60_local12 = not f60_local11
						else
							f60_local12 = true
						end
						f60_local10.isLocked = f60_local12
						table.insert( f60_local6.lootTable, f60_local10 )
					end
				end
			end
		end
	end
end

local f0_local56 = function ( f59_arg0, f59_arg1 )
	for f59_local10, f59_local11 in ipairs( f59_arg0 ) do
		local f59_local12 = BATTLEPASS.GetTierSplitItemIDs( tonumber( f59_local11.level ) )
		local f59_local13 = BATTLEPASS.GetTierSplitBillboardImages( tonumber( f59_local11.level ) )
		for f59_local7, f59_local8 in ipairs( f59_local11.lootTable ) do
			local f59_local4 = assert
			local f59_local3 = f59_local8.subTierID
			if f59_local3 then
				f59_local3 = 0 < f59_local8.subTierID
			end
			f59_local4( f59_local3, "SetupSplitTierUnlocks: Invalid subTierID provided, expected non-nil and greater than 0" )
			f59_local4 = tonumber( f59_local12[f59_local8.subTierID] )
			local f59_local5 = f59_local13[f59_local8.subTierID]
			if f59_local4 and f59_local4 ~= 0 then
				f59_local8._gameSourceId = LOOT.GetGameSourceIDFromItemID( f59_local8.lootID )
				f59_local3 = LUI.ShallowCopy( f59_local8 )
				f59_local3._gameSourceId = LOOT.GetGameSourceIDFromItemID( f59_local4 )
				f59_local3.lootID = f59_local4
				local f59_local6
				if f59_local5 then
					f59_local6 = f59_local5
				elseif f59_local5 == "" or f59_local5 == "0" then
					f59_local6 = false
				else
					f59_local6 = true
				end
				if f59_local6 then
					f59_local3.billboardImage = f59_local5
				end
				table.insert( f59_local11.lootTable, f59_local3 )
			end
		end
	end
end

local f0_local57 = nil
f0_local57 = function ( f53_arg0 )
	local f53_local0
	if not LUI.FlowManager.IsInStack( "BattlePassRewardPopup" ) and not LUI.FlowManager.IsInStack( "BattlePassOnboardingPopup" ) then
		f53_local0 = not LUI.FlowManager.IsInStack( "BattlePassPurchaseProgressPopup" )
	else
		f53_local0 = false
	end
	if not f53_local0 then
		
	else
		
	end
	if f53_arg0._BRRewardState == f0_local0.PENDING and CONDITIONS.IsBRFirstMatchTierSkipRewardEnabled() then
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassRewardPopup", true, f53_arg0._controllerIndex, false, {
			isBRReward = true,
			onConfirm = function ( f58_arg0 )
				local f58_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
				f58_local0.brRewardPending = nil
				local f58_local1 = f53_arg0
				local f58_local2
				if f58_arg0 then
					f58_local2 = f53_arg0.ONBOARDING_PT1
					if not f58_local2 then
					
					else
						f58_local1._BRRewardState = f58_local2
						if not f58_arg0 then
							f53_arg0( f53_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/REWARD_ERROR_MESSAGE" ) )
						elseif LUI.IsLastInputMouseNavigation( f53_arg0._controllerIndex ) then
							LUI.FlowManager.RequestLeaveMenuByName( "BattlePassRewardPopup", true )
							f53_arg0( f53_arg0 )
						end
					end
				end
				f58_local2 = f53_arg0.NONE
			end
		}, nil, false, true )
	elseif f53_arg0._BRRewardState == f0_local0.ONBOARDING_PT1 and not LUI.FlowManager.IsInStack( "BattlePassRewardPopup" ) then
		if not Onboarding.BattlePass.WasCompleted( f53_arg0, f53_arg0._controllerIndex ) then
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f53_arg0._controllerIndex, false, {
				currentPage = 1,
				overrideAction = function ()
					Engine.EBCGADABJ()
					LUI.FlowManager.RequestLeaveMenuByName( "BattlePassOnboardingPopup" )
					f53_arg0._BRRewardState = f53_arg0.REDEEMING
					f53_arg0( f53_arg0 )
				end
			} )
		else
			f53_arg0._BRRewardState = f0_local0.REDEEMING
			f0_local0( f53_arg0 )
		end
	elseif f53_arg0._BRRewardState == f0_local0.REDEEMING then
		if not f53_arg0._animatingBRReward then
			f53_arg0._animatingBRReward = true
			Engine.BJDBIAGIDA( SOUND_SETS.storefront.smokeCardSlam )
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f53_arg0._controllerIndex, false, {
				tierSkipID = BATTLEPASS.SINGLE_TIER_SKIP_ID
			} )
			local f53_local1 = f53_arg0:Wait( 1500 )
			f53_local1.onComplete = function ()
				LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup", true, true )
				f53_arg0._autoTierSkip = true
				f53_arg0._animatingBRReward = false
				f53_arg0( f53_arg0, f53_arg0._controllerIndex )
				f53_arg0._BRRewardState = f53_arg0.ONBOARDING_PT2
			end
			
		end
	elseif f53_arg0._BRRewardState == f0_local0.ONBOARDING_PT2 then
		f53_arg0._autoTierSkip = false
		if not Onboarding.BattlePass.WasCompleted( f53_arg0, f53_arg0._controllerIndex ) then
			local f53_local2 = f53_arg0:Wait( 1500 )
			f53_local2.onComplete = function ()
				local f54_local0 = {
					currentPage = 2,
					closeAction = function ()
						f54_local0._BRRewardState = f54_local0.UPSELLING
						f54_local0( f54_local0 )
					end
				}
				LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f53_arg0._controllerIndex, false, f54_local0 )
			end
			
		else
			f53_arg0._BRRewardState = f0_local0.UPSELLING
			f0_local0( f53_arg0 )
		end
	elseif f53_arg0._BRRewardState == f0_local0.UPSELLING then
		if f0_local0( f53_arg0 ) then
			f0_local0( f53_arg0 )
		end
		f53_arg0._BRRewardState = f0_local0.NONE
	end
end

function PreLoadFunc( f52_arg0, f52_arg1, f52_arg2 )
	f52_arg0._displayBattlePassInAAR = f52_arg2.displayBattlePassInAAR ~= nil
end

local f0_local58 = function ( f51_arg0 )
	local f51_local0 = f51_arg0._currentChild.itemData.lootTable[f51_arg0._lootIndex]._gameSourceId
	local f51_local1
	if f51_local0 and f51_local0 == LUI.GAME_SOURCE_ID.COLD_WAR then
		f51_local1 = true
	else
		f51_local1 = false
	end
	f51_arg0._isGameSourceUpsellItemFocused = f51_local1
	f51_local1 = f51_arg0._isGameSourceUpsellItemFocused
	if f51_local1 then
		if STORE.IsZeusOwned( f51_arg0._controllerIndex ) and Dvar.IBEGCHEFE( "RONTRKPRP" ) ~= true then
			f51_local1 = false
		else
			f51_local1 = true
		end
	end
	f51_arg0._shouldShowGameSourceUpsell = f51_local1
	f51_local1 = ACTIONS.AnimateSequence
	local f51_local2 = f51_arg0
	local f51_local3
	if f51_arg0._shouldShowGameSourceUpsell then
		f51_local3 = "ShowGameSourceUpsell"
	else
		f51_local3 = "HideGameSourceUpsell"
	end
	f51_local1( f51_local2, f51_local3 )
end

local f0_local59 = function ( f50_arg0, f50_arg1 )
	local f50_local0 = #f50_arg0._currentChild.itemData.lootTable
	if 1 < f50_local0 then
		if f50_arg1.button == "up" then
			if f50_arg0._lootIndex < f50_local0 then
				f50_arg0._lootIndex = f50_arg0._lootIndex + 1
			else
				f50_arg0._lootIndex = 1
			end
		elseif f50_arg1.button == "down" then
			if 1 < f50_arg0._lootIndex then
				f50_arg0._lootIndex = f50_arg0._lootIndex - 1
			else
				f50_arg0._lootIndex = f50_local0
			end
		end
		f0_local0( f50_arg0 )
		f50_arg0._currentChild:CycleLootCards( f50_arg0._lootIndex )
		f0_local0( f50_arg0._currentChild, f50_arg0, f50_arg0._currentChild.isLockedWithBattlePass, f50_arg0._isBattlePassPopup )
		f0_local0( f50_arg0 )
	end
end

local f0_local60 = function ( f19_arg0, f19_arg1, f19_arg2 )
	f19_arg0.AnimateXPEarned = f0_local0
	f19_arg0.AnimateXPEarnedInAAR = f0_local0
	f19_arg0.AnimateUnlocks = f0_local0
	f19_arg0.AnimateShowcase = f0_local0
	f19_arg0.UpdateMenuDisplay = f0_local0
	f19_arg0.CycleLootCards = f0_local0
	f19_arg0.Grid = f19_arg0.BattlePassGridContainer.Grid
	f19_arg0.HorizontalScrollbar = f19_arg0.BattlePassGridContainer.HorizontalScrollbar
	f19_arg0._delayBlueprintIcon = true
	ACTIONS.ScaleFullscreen( f19_arg0.Background )
	if not f19_arg2.displayBattlePassInAAR then
		Engine.DHFCHIIJCA( "quartermaster" )
	end
	local f19_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	f19_arg0._maxBattlePassLevel = BATTLEPASS.GetMaxTier()
	f19_arg0._controllerIndex = f19_arg1
	f19_arg0._battlePassXP = BATTLEPASS.GetLastMenuXP( f19_arg0._controllerIndex )
	if f19_arg2.displayBattlePassInAAR then
		f19_arg0._battlePassXP = f19_arg2.battlePassData.startTierXP
	end
	f19_arg0._previousXP = f19_arg0._battlePassXP
	f19_arg0._battlePassOwned = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
	f19_arg0._battlePassData = BATTLEPASS.GetAllTiersData()
	f19_arg0._availableCODPoints = Commerce.CEDDCGHIGA( f19_arg0._controllerIndex, LOOT.CurrencyIDs.COD_POINTS )
	f19_arg0._currentLevel = BATTLEPASS.GetTier( f19_arg0._controllerIndex )
	if f19_arg2.displayBattlePassInAAR then
		f19_arg0._currentLevel = BATTLEPASS.GetTierByXP( f19_arg0._controllerIndex, f19_arg0._battlePassXP )
	end
	f19_arg0._isAnimating = false
	f19_arg0._isExpanded = false
	f19_arg0._currentChild = nil
	f19_arg0._autoTierSkip = f19_arg2.tierSkipID ~= nil
	f19_arg0._displayBattlePassInAAR = f19_arg2.displayBattlePassInAAR ~= nil
	f19_arg0._isBattlePassPopup = f19_arg2.isBattlePassPopup
	local f19_local1 = f19_arg0._isBattlePassPopup
	if not f19_local1 then
		f19_local1 = f19_arg0._displayBattlePassInAAR
		if not f19_local1 then
			f19_local1 = f19_arg2.isStandalone or f19_arg2.purchaseBattlePassInAAR
		end
	end
	f19_arg0._isStandalone = f19_local1
	f19_arg0._needFixUp = f0_local0( f19_arg0 )
	f19_arg0._itemSelectionComplete = true
	f19_arg0._lootIndex = 1
	if not f19_arg0._isStandalone and BATTLEPASS.BRRewardAvailable( f19_arg0._controllerIndex ) then
		local f19_local2 = f19_local0.brRewardPending
		local f19_local3 = f0_local0.PENDING
	end
	f19_arg0._BRRewardState = f19_local2 and f19_local3 or f0_local0.NONE
	f19_arg0._allowTierBank = f19_arg2.allowTierBank
	if f19_local0.crmPurchaseBattlePass then
		f19_local0.crmPurchaseBattlePass = nil
		f19_arg0._crmPurchaseBattlePass = true
	end
	if f19_arg0._BRRewardState == f0_local0.PENDING then
		f19_arg0._battlePassXP = BATTLEPASS.GetXP()
		f19_arg0._previousXP = f19_arg0._battlePassXP
	end
	f19_arg0.GetPurchaseAction = f0_local0
	f19_arg0.TriggerAutoTierSkip = f0_local0
	f19_arg0.TriggerPurchaseBattlePassInAAR = f0_local0
	f19_arg0.TriggerDisplayBattlePassInAAR = f0_local0
	f19_arg0.TriggerPurchaseBattlePassInStore = f0_local0
	f19_arg0.TriggerPurchaseBattlePassInVIPGift = f0_local0
	f19_arg0:addElement( LOOT.GetLootFlareMaterialStreamer() )
	f19_arg0.BattlePassStatus:UpdateActiveBanner( f19_arg0._battlePassOwned )
	f0_local0( f19_arg0._battlePassData )
	f0_local0( f19_arg0._battlePassData, f19_arg0._controllerIndex )
	f0_local0( f19_arg0._battlePassData, f19_arg0._controllerIndex )
	f19_arg0.BillboardImg:SetMask( f19_arg0.CenterOutMask )
	f19_arg0.FadeCover:SetMask( f19_arg0.CenterOutMaskFade )
	f19_local1 = function ( f47_arg0, f47_arg1, f47_arg2 )
		local f47_local0 = f19_arg0._battlePassData[f47_arg1 + 1]
		local f47_local1 = tonumber( f47_local0.level )
		local f47_local2 = f47_local1 <= 0
		local f47_local3 = f47_local0.lootTable[1]
		local f47_local4
		if 1 < #f47_local0.lootTable then
			if f47_local3 then
				f47_local4 = f47_local3
			else
				f47_local4 = f47_local3._gameSourceId
			end
		else
			f47_local4 = false
		end
		f47_arg0._isMultiItemGameSourceTier = f47_local4
		f47_arg0.itemData = f47_local0
		f47_arg0:SetupLootData( f47_local0 )
		f47_local4 = f47_arg0.lootData
		f47_arg0:SetBattlePassOwned( f19_arg0._battlePassOwned )
		local f47_local5 = f47_arg0
		local f47_local6 = f47_arg0.SetTopBanner
		local f47_local7 = f47_local0.isFree == "1"
		local f47_local8
		if not f19_arg0._battlePassOwned then
			f47_local8 = f47_local2
		else
			f47_local8 = false
		end
		f47_local6( f47_local5, f47_local7, f47_local8 )
		f47_arg0:SetIsAnimating( f19_arg0._isAnimating )
		f47_arg0:EnableGlow( false )
		f47_local6 = 0
		if not f47_local2 then
			local f47_local9 = tonumber( f47_local0.xp )
			if f47_local9 <= f19_arg0._battlePassXP then
				f47_local6 = 1
			else
				f47_local5 = 0
				if 1 < f47_local1 then
					f47_local5 = BATTLEPASS.GetTierMinXP( f47_local1 - 1 )
				end
				if f47_local5 < f19_arg0._battlePassXP then
					f47_local6 = (f19_arg0._battlePassXP - f47_local5) / (f47_local9 - f47_local5)
				end
			end
			if f47_local6 ~= 1 then
				ACTIONS.AnimateSequence( f47_arg0, "HideCheckbox" )
			end
		elseif f19_arg0._battlePassOwned then
			f47_local6 = 1
		else
			f47_local6 = 0
		end
		local f47_local9 = f47_local1
		if f47_local2 then
			f47_local9 = nil
		end
		f47_arg0:SetLevel( f47_local9, f47_local0.showProgress )
		f47_arg0:SetProgress( f47_local6, 0 )
		if f47_local0.lootTable[1].challengeID and f47_local0.lootTable[1].challengeID ~= "" then
			f47_arg0:ShowMission( true )
		else
			f47_arg0:ShowMission( false )
		end
		f47_arg0._column = f47_arg1
		f47_arg0:UpdateExpandedState()
		f47_local5 = f47_local6 == 1
		f47_local7 = f47_local6 < 1
		f47_local8 = f47_local0.isFree == "1"
		local f47_local10
		if f47_local6 ~= 1 or f47_local0.isFree == "1" then
			f47_local10 = false
		else
			f47_local10 = true
		end
		if f47_local8 and f47_local5 then
			local f47_local11 = f47_local2
		else
			local f47_local11 = true
		end
		local f47_local12
		if not f47_local5 then
			f47_local12 = not f47_local2
		else
			f47_local12 = false
		end
		f47_arg0.isLockedWithBattlePass = f47_local12
		f47_arg0:SetOwned( f47_local5 )
		local f47_local13 = f47_arg0
		local f47_local14 = f47_arg0.SetLocked
		local f47_local15
		if not f19_arg0._battlePassOwned then
			if not f47_local2 then
				f47_local15 = f47_local2
			elseif not f47_local10 then
				f47_local15 = f47_local10
			elseif f47_local7 then
				f47_local15 = f47_local7
			else
				f47_local15 = not f47_local2
			end
		elseif f47_local7 then
			f47_local15 = f47_local7
		else
			f47_local15 = not f47_local2
		end
		f47_local14( f47_local13, f47_local15 )
		if not f47_local5 and (not f47_local2 or not f19_arg0._battlePassOwned) then
			f47_arg0:SetPromoted( BATTLEPASS.GetTierLootIsPromoted( f19_arg0._controllerIndex, f47_local1, f47_local0.subTierID ) )
			f47_arg0:SetShowcased( BATTLEPASS.GetTierLootIsShowcased( f19_arg0._controllerIndex, f47_local1, f47_local0.subTierID ) )
		else
			f47_arg0.BattlePassFlare:ClearFlare()
			f47_arg0:SetShowcased( false )
			f47_arg0:SetPromoted( false )
		end
		f47_arg0:SetDirectionalInputEnabled( not f19_arg0._isAnimating )
		if not f47_arg0._buttonHandlerAdded then
			f47_arg0._buttonHandlerAdded = true
			f47_arg0:addEventHandler( "button_over", function ( f49_arg0, f49_arg1 )
				if f47_arg0._focusItem == nil or f47_arg0._focusItem ~= f49_arg0 then
					if f47_arg0._focusItem ~= nil then
						f47_arg0( f47_arg0._focusItem, false )
						f47_arg0._focusItem:processEvent( {
							name = "lose_active"
						} )
					end
					f47_arg0._focusItem = f49_arg0
					f47_arg0._currentChild = f47_arg0
					f47_arg0._lootIndex = 1
				end
				f47_arg0( f47_arg0 )
				local f49_local0
				if not (tonumber( f47_arg0.itemData.level ) <= 0) then
					f49_local0 = not f47_arg0._isOwned
				else
					f49_local0 = false
				end
				f47_arg0.BillboardImg:SetHandleMouse( f49_local0 )
				f47_arg0( f47_arg0, f47_arg0, f49_local0, f47_arg0._isBattlePassPopup )
				f47_arg0( f47_arg0 )
			end )
			f47_arg0:addEventHandler( "button_action", function ( f48_arg0, f48_arg1 )
				local f48_local0
				if f48_arg1.keyboard then
					f48_local0 = f48_arg1.keyboard
					if f48_local0 then
						f48_local0 = f47_arg0._battlePassOwned
					end
				else
					f48_local0 = true
				end
				if f47_arg0._shouldShowGameSourceUpsell and f48_local0 then
					LUI.FlowManager.RequestPopupMenu( f47_arg0, "WZCWUpsellPopup", true, f47_arg0._controllerIndex, false )
				elseif not f48_arg1.keyboard then
					if not f47_arg0._isAnimating and f48_arg1.controller == f47_arg0._controllerIndex and not f47_arg0._displayBattlePassInAAR and LOOT.CanPreview( f48_arg0.lootData.type, f48_arg0.lootData.itemID ) then
						STORE.PreviewItem( f47_arg0._controllerIndex, f48_arg0.lootData.type, f48_arg0.lootData.itemID, nil, nil, true )
					end
				else
					f47_arg0( f47_arg0, f48_arg1 )
				end
				return true
			end )
		end
	end
	
	f19_arg0.Grid:SetSnapOnWrapEnabled( true )
	f19_arg0.Grid:SetRefreshChild( f19_local1 )
	f19_arg0.Grid:SetNumChildren( #f19_arg0._battlePassData )
	f19_arg0.Grid:SetMeasureColumnFunction( LUI.ExpanderUtils.GenerateMeasureColumnFunction( 150 * _1080p ) )
	f19_arg0.Grid:RefreshContent()
	local f19_local4 = Onboarding.BattlePass.WasCompleted( f19_arg0, f19_arg0._controllerIndex )
	f19_arg0.Grid:SetNotifyOnLayoutInit( true )
	f19_arg0.Grid:addEventHandler( "layout_initialized", function ()
		f19_arg0 = Onboarding.BattlePass.WasCompleted( f19_arg0, f19_arg0._controllerIndex )
		local f46_local0 = BATTLEPASS.HasNewPassForSeason( f19_arg0._controllerIndex )
		if f46_local0 then
			f46_local0 = not BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		end
		local f46_local1
		if not f46_local0 then
			f46_local1 = f46_local0
		else
			f46_local1 = Dvar.IBEGCHEFE( "battlepass_always_show_upsell" )
			if f46_local1 then
				f46_local1 = not f19_arg0._upsellSeen
			end
		end
		if f19_arg0 and not f46_local1 and f19_arg0._BRRewardState == f19_arg0.NONE and not f19_arg0._crmPurchaseBattlePass then
			f19_arg0( f19_arg0 )
		end
	end )
	if f19_arg0._BRRewardState == f0_local0.NONE and not f19_arg0._isStandalone then
		if f19_arg0._crmPurchaseBattlePass and not BATTLEPASS.IsOwned( f19_arg0._controllerIndex ) then
			Onboarding.BattlePass.MarkCompleted( f19_arg0, f19_arg0._controllerIndex )
			BATTLEPASS.MarkPassSeenForSeason( f19_arg0._controllerIndex, SEASON.GetCurrentSeasonDataNum() )
			f0_local0( f19_arg0, f19_arg1 )
		elseif not f19_local4 then
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f19_arg0._controllerIndex, false )
		end
	end
	if f19_local0.showBattlePassPurchasePopup then
		f19_local0.showBattlePassPurchasePopup = nil
		f0_local0( f19_arg0, f19_arg1 )
	end
	local f19_local5 = function ( f45_arg0, f45_arg1 )
		f19_arg0 = Onboarding.BattlePass.WasCompleted( f19_arg0, f19_arg0._controllerIndex )
		if not f19_arg0._isAnimating and f19_arg0 and f19_arg0( f19_arg0 ) then
			if Dvar.IBEGCHEFE( "battlepass_use_showcase_animation" ) then
				f19_arg0:AnimateShowcase()
			else
				f19_arg0( f19_arg0 )
			end
		end
	end
	
	if f19_arg0._isStandalone then
		if not f19_arg0._displayBattlePassInAAR then
			f19_arg0._battlePassXP = BATTLEPASS.GetXP( f19_arg0._controllerIndex )
		end
		ACTIONS.AnimateSequence( f19_arg0, "SetupStandalone" )
		f19_arg0.HorizontalScrollbar:SetAlpha( 0 )
		f19_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( true )
	else
		f19_arg0:addEventHandler( "gain_focus", function ( f44_arg0, f44_arg1 )
			if f19_arg0._BRRewardState ~= f19_arg0.NONE then
				f19_arg0( f19_arg0 )
			else
				f19_arg0( f44_arg0, f44_arg1 )
			end
		end )
		if LUI.IsLastInputMouseNavigation( f19_arg0._controllerIndex ) then
			f19_arg0:processEvent( {
				name = "gain_focus"
			} )
		end
		f19_arg0:addEventHandler( "restore_focus", function ( f43_arg0, f43_arg1 )
			local f43_local0 = LUI.FlowManager.GetScopedData( f19_arg0 )
			if f19_arg0._BRRewardState ~= f19_arg0.NONE then
				f19_arg0( f19_arg0 )
			elseif f43_local0.restoreTiersPopup then
				f43_local0.restoreTiersPopup = false
				LUI.FlowManager.RequestPopupMenu( f19_arg0, "BattlePassTiersPurchasePopup", true, f19_arg0, false, {
					sourceMenu = f19_arg0,
					tierSkips = f19_arg0._tierSkips
				} )
			elseif f43_local0.isPurchaseFromPreview then
				f43_local0.isPurchaseFromPreview = false
				f19_arg0( f19_arg0, {
					controller = f19_arg0._controllerIndex
				} )
			else
				f19_arg0( f43_arg0, f43_arg1 )
			end
			f19_arg0( f43_arg0 )
			if not f43_arg0._displayBattlePassInAAR then
				Engine.DHFCHIIJCA( "quartermaster" )
			end
		end )
	end
	local f19_local6 = function ()
		f19_arg0._numTransactionsComplete = f19_arg0._numTransactionsComplete + 1
		f19_arg0:dispatchEventToRoot( {
			name = "update_battle_pass_purchasing_popup",
			progress = f19_arg0._numTransactionsComplete / f19_arg0._numTransactions
		} )
	end
	
	f19_arg0.BillboardImg:SetHandleMouse( true )
	f19_arg0.BillboardImg:registerEventHandler( "leftmousedown", function ( element, event )
		return true
	end )
	f19_arg0.BillboardImg:registerEventHandler( "leftmouseup", function ( element, event )
		f19_arg0( f19_arg0, event )
		return true
	end )
	if f19_arg0.BattlePassPurchaseButton then
		f19_arg0.BattlePassPurchaseButton:addEventHandler( "button_action", function ( f39_arg0, f39_arg1 )
			if LUI.IsLastInputKeyboardMouse( f19_arg0._controllerIndex ) then
				f19_arg0( f19_arg0, f39_arg1 )
			end
		end )
	end
	f19_arg0:addEventHandler( "loot_item_transaction_complete", function ( f38_arg0, f38_arg1 )
		f19_arg0()
		f19_arg0._queuedRef = nil
	end )
	f19_arg0:addEventHandler( "loot_item_transaction_error", function ( f37_arg0, f37_arg1 )
		if f37_arg1.errorCode == STORE.ProductNoLongerAvailableError then
			LUI.FlowManager.RequestPopupMenu( nil, "ProductNoLongerAvailableErrorPopup", true, f19_arg0, false )
		end
		DebugPrint( "BattlePass loot_item_transaction_error for ref: " .. f19_arg0._queuedRef )
		f19_arg0._purchaseEnabled = true
		f19_arg0._errorCode = BATTLEPASS.GetErrorCode( f37_arg1.name, f19_arg0._queuedRef )
	end )
	f19_arg0:addEventHandler( "battlepass_activation_failed", function ( f36_arg0, f36_arg1 )
		DebugPrint( "BattlePass battlepass_activation_failed for ref: " .. f19_arg0._queuedRef )
		f19_arg0._purchaseEnabled = true
		f19_arg0._errorCode = BATTLEPASS.GetErrorCode( f36_arg1.name, f19_arg0._queuedRef )
	end )
	GRID.SetUpArrowScrolling( f19_arg0, f19_arg1, {
		numGridItemsShown = f0_local0,
		scrollStepsForward = f0_local0,
		scrollStepsBack = f0_local0,
		onUpdateInputType = f0_local0,
		ignoreCondition = f19_arg0._displayBattlePassInAAR,
		bindButtonInput = {
			button_primary = LUI.IsLastInputKeyboardMouse( f19_arg0._controllerIndex ) and f0_local0 or nil,
			button_alt1 = f0_local0,
			button_alt2 = f0_local0,
			button_right_stick = f0_local0,
			button_left_stick = f0_local0
		},
		bitsToSetOnScroll = {
			f19_arg0._delayBlueprintIcon
		},
		kbmArrowUI = {
			leftArrow = f19_arg0.LeftArrow,
			rightArrow = f19_arg0.RightArrow
		},
		gamePadArrowUI = {
			leftPrompt = f19_arg0.LeftPrompt,
			rightPrompt = f19_arg0.RightPrompt
		}
	} )
	f19_arg0:addEventHandler( "battlepass_event_complete", function ( f35_arg0, f35_arg1 )
		DebugPrint( "BattlePass battlepass_event_complete for ref: " .. f19_arg0._queuedRef )
		f19_arg0()
		f19_arg0._battlePassOwned = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		f19_arg0.BattlePassStatus:UpdateActiveBanner( f19_arg0._battlePassOwned )
		if tonumber( StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f19_arg0._queuedRef, CSV.battlePassIDs.cols.type ) ) == BATTLEPASS.ItemTypes.TIER_SKIP and f35_arg1.controller then
			local f35_local0 = CSV.ReadRowWithFile( CSV.battlePassIDs, CSV.battlePassIDs.file, StringTable.BJJBBCJGEJ( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f19_arg0._queuedRef ) )
			Engine.CEJJDJJHIJ( f35_arg1.controller, "dlog_event_bp_tier_up", {
				previous_bp_tier = f35_arg1.rank - tonumber( f35_local0.skips ),
				new_bp_tier = f35_arg1.rank,
				reason = f35_local0.event
			} )
		end
		if f19_arg0._activation then
			if f19_arg0._activation.id and f19_arg0._activation.count then
				if f19_arg0._activation.id == f19_arg0._activation.count then
					f19_arg0._queuedPurchase = nil
				end
			else
				f19_arg0._queuedPurchase = nil
			end
		end
		f19_arg0._queuedRef = nil
	end )
	f19_arg0:addEventHandler( "battlepass_send_event_failed", function ( f34_arg0, f34_arg1 )
		DebugPrint( "BattlePass battlepass_send_event_failed for ref: " .. f19_arg0._queuedRef )
		f19_arg0._errorCode = BATTLEPASS.GetErrorCode( f34_arg1.name, f19_arg0._queuedRef )
	end )
	local f19_local7 = function ()
		LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
		f19_arg0._needFixUp = f19_arg0( f19_arg0 )
		f19_arg0._battlePassOwned = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		f19_arg0._battlePassXP = BATTLEPASS.GetXP( f19_arg0._controllerIndex )
		if f19_arg0._fixingUp then
			f19_arg0._fixingUp = false
			f19_arg0:Wait( 1, true )
		end
	end
	
	f19_arg0:addEventHandler( "battlepass_fixup_complete", function ( f30_arg0, f30_arg1 )
		DebugPrint( "BattlePass battlepass_fixup_complete" )
		local f30_local0 = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		local f30_local1 = BATTLEPASS.GetXP( f19_arg0._controllerIndex )
		local f30_local2 = f19_arg0._battlePassOwned ~= f30_local0
		local f30_local3 = f19_arg0._battlePassXP ~= f30_local1
		f19_arg0()
		f19_arg0.BattlePassStatus:UpdateActiveBanner( f30_local0 )
		local f30_local4 = nil
		if f30_local2 and f30_local3 then
			f30_local4 = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_TIER_BUNDLE_UNLOCKED
		elseif f30_local2 then
			f30_local4 = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_UNLOCKED
		elseif f30_local3 then
			f30_local4 = BATTLEPASS.FullScreenPopupStates.TIERS_UNLOCKED
		else
			f30_local4 = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_UNLOCKED
		end
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f19_arg0._controllerIndex, false, {
			state = f30_local4
		}, nil, false, true )
		local f30_local5 = nil
		local f30_local6 = function ()
			local f31_local0 = f30_arg0:Wait( 100 )
			f31_local0.onComplete = function ()
				if LUI.FlowManager.IsInStack( "BattlePassFullScreenPopup" ) then
					f31_local0()
				else
					local f32_local0 = f31_local0
					local f32_local1 = f31_local0
					local f32_local2 = f31_local0
					if f32_local2 then
						f32_local2 = not f31_local0
					end
					f32_local0( f32_local1, f32_local2 )
				end
			end
			
		end
		
		f30_local6()
	end )
	f19_arg0:addEventHandler( "battlepass_fixup_failed", function ( f29_arg0, f29_arg1 )
		DebugPrint( "BattlePass battlepass_fixup_failed" )
		f19_arg0()
		f19_arg0( f19_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/FAILED_CLAIM", "BATTLEPASS/BATTLE_PASS_TOKENS" ) )
	end )
	LAYOUT.AddAspectRatioFadeFrame( f19_arg0, f19_arg1 )
	ACTIONS.ScaleFullscreen( f19_arg0.Background )
	f19_arg0:addAndCallEventHandler( "onVideoChange", function ()
		f19_arg0.VignetteRight:SetScale( CoD.GetAspectRatioScaleAdjust( 0.65 ) )
		f19_arg0.VignetteLeft:SetScale( CoD.GetAspectRatioScaleAdjust( 0.5 ) )
	end )
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f19_arg0, "AR" )
	elseif IsLanguageJapanese() then
		ACTIONS.AnimateSequence( f19_arg0, "JP" )
	end
	f19_arg0:addEventHandler( "gamepad_button", function ( f27_arg0, f27_arg1 )
		if f27_arg1.controller ~= f19_arg0._controllerIndex then
			if f27_arg1.button == "left" or f27_arg1.button == "right" or f27_arg1.button == "up" or f27_arg1.button == "down" then
				return true
			end
		elseif f27_arg1.down and not f19_arg0._isAnimating and (f27_arg1.button == "up" or f27_arg1.button == "down") then
			f19_arg0( f19_arg0, f27_arg1 )
		end
	end )
	f19_arg0:addEventHandler( "purchase_aar_battlepass", function ( f26_arg0, f26_arg1 )
		f19_arg0( f19_arg0, f19_arg0 )
	end )
	if f19_arg0._isBattlePassPopup then
		f19_arg0:addEventHandler( "menu_create", function ( f25_arg0, f25_arg1 )
			f19_arg0( f19_arg0 )
		end )
	else
		f19_arg0:addEventHandler( "tab_create", function ()
			f19_arg0._currentMenu = f19_arg0:GetCurrentMenu( f19_arg0 )
			f19_arg0( f19_arg0 )
		end )
	end
	if CONDITIONS.IsWZWipDvarEnabled() then
		ACTIONS.AnimateSequence( f19_arg0, "WZWipSetup" )
	end
	local f19_local8 = LUI.FlowManager.GetScopedData( "BRMainMenu" )
	if f19_local8 and f19_local8.ShouldHandleGiftBattlePass then
		f19_local8.ShouldHandleGiftBattlePass = nil
		local f19_local9 = function ( f22_arg0 )
			if not Onboarding.BattlePass.WasCompleted( f22_arg0, f22_arg0._controllerIndex ) then
				LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f22_arg0._controllerIndex, true, {
					skipDelay = true,
					menu = f22_arg0,
					closeAction = function ( f23_arg0 )
						f22_arg0( f23_arg0, {
							controller = f23_arg0._controllerIndex
						} )
					end
				} )
			else
				f19_arg0( f22_arg0, {
					controller = f22_arg0._controllerIndex
				} )
			end
		end
		
		local f19_local10 = nil
		local f19_local11 = function ( f20_arg0 )
			local f20_local0 = f20_arg0:Wait( 100 )
			f20_local0.onComplete = function ( f21_arg0 )
				if LUI.FlowManager.IsInStack( "BattlePassOnboardingPopup" ) then
					f20_arg0( f21_arg0 )
				else
					f20_arg0( f21_arg0 )
				end
			end
			
		end
		
		f19_local11( f19_arg0 )
	end
	if not f19_arg0._isBattlePassPopup then
		GIFT.ProcessQueuedGifts( f19_arg0._controllerIndex )
	end
end

function BattlePassMenu( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "BattlePassMenu"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	PreLoadFunc( self, f1_local1, controller )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromInt( 0, 0 )
	Background:SetAlpha( 0.9, 0 )
	Background:setImage( RegisterMaterial( "widg_gradient_bottom_to_top" ), 0 )
	self:addElement( Background )
	self.Background = Background
	
	local BillboardImg = nil
	
	BillboardImg = LUI.UIImage.new()
	BillboardImg.id = "BillboardImg"
	BillboardImg:setImage( RegisterMaterial( "mw_store_billboard_placeholder" ), 0 )
	BillboardImg:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -340, _1080p * 380 )
	self:addElement( BillboardImg )
	self.BillboardImg = BillboardImg
	
	local CenterOutMask = nil
	
	CenterOutMask = LUI.UIImage.new()
	CenterOutMask.id = "CenterOutMask"
	CenterOutMask:setImage( RegisterMaterial( "ui_mp_br_shared_item_mask" ), 0 )
	CenterOutMask:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -355, _1080p * 405 )
	self:addElement( CenterOutMask )
	self.CenterOutMask = CenterOutMask
	
	local FadeCover = nil
	
	FadeCover = LUI.UIImage.new()
	FadeCover.id = "FadeCover"
	FadeCover:SetRGBFromInt( 0, 0 )
	FadeCover:SetAlpha( 0, 0 )
	FadeCover:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -463, _1080p * 486 )
	self:addElement( FadeCover )
	self.FadeCover = FadeCover
	
	local CenterOutMaskFade = nil
	
	CenterOutMaskFade = LUI.UIImage.new()
	CenterOutMaskFade.id = "CenterOutMaskFade"
	CenterOutMaskFade:setImage( RegisterMaterial( "ui_mp_br_shared_item_mask" ), 0 )
	CenterOutMaskFade:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -1038, _1080p * 1007, _1080p * -404, _1080p * 409 )
	self:addElement( CenterOutMaskFade )
	self.CenterOutMaskFade = CenterOutMaskFade
	
	local VignetteRight = nil
	
	VignetteRight = LUI.UIImage.new()
	VignetteRight.id = "VignetteRight"
	VignetteRight:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteRight:SetAlpha( 0.3, 0 )
	VignetteRight:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	VignetteRight:SetAnchorsAndPosition( 1, 0, 0, 0, 0, _1080p * -467, 0, 0 )
	self:addElement( VignetteRight )
	self.VignetteRight = VignetteRight
	
	local VignetteLeft = nil
	
	VignetteLeft = LUI.UIImage.new()
	VignetteLeft.id = "VignetteLeft"
	VignetteLeft:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteLeft:SetAlpha( 0.9, 0 )
	VignetteLeft:setImage( RegisterMaterial( "widg_gradient_left_to_right" ), 0 )
	VignetteLeft:SetAnchorsAndPosition( 1, 0, 0, 0, _1080p * -1920, _1080p * -1030, 0, 0 )
	self:addElement( VignetteLeft )
	self.VignetteLeft = VignetteLeft
	
	local LeftPrompt = nil
	
	LeftPrompt = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = "LUA_MENU/PAD_LEFT_TRIGGER_BUTTON",
		controllerIndex = f1_local1
	} )
	LeftPrompt.id = "LeftPrompt"
	LeftPrompt:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	LeftPrompt:setImage( RegisterMaterial( "button_trigger_left" ), 0 )
	LeftPrompt:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -771, _1080p * -727, _1080p * -267, _1080p * -223 )
	self:addElement( LeftPrompt )
	self.LeftPrompt = LeftPrompt
	
	local RightPrompt = nil
	
	RightPrompt = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = "LUA_MENU/PAD_RIGHT_TRIGGER_BUTTON",
		controllerIndex = f1_local1
	} )
	RightPrompt.id = "RightPrompt"
	RightPrompt:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	RightPrompt:setImage( RegisterMaterial( "button_trigger_right" ), 0 )
	RightPrompt:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * 727, _1080p * 771, _1080p * -267, _1080p * -223 )
	self:addElement( RightPrompt )
	self.RightPrompt = RightPrompt
	
	local f1_local12 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12 = MenuBuilder.BuildRegisteredType( "BattlePassPurchaseButton", {
			controllerIndex = f1_local1
		} )
		f1_local12.id = "BattlePassPurchaseButton"
		f1_local12:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 72, _1080p * 572, _1080p * 413, _1080p * 613 )
		self:addElement( f1_local12 )
		self.BattlePassPurchaseButton = f1_local12
	end
	local WeaponAttributes = nil
	
	WeaponAttributes = MenuBuilder.BuildRegisteredType( "WeaponAttributes", {
		controllerIndex = f1_local1
	} )
	WeaponAttributes.id = "WeaponAttributes"
	WeaponAttributes:SetAlpha( 0, 0 )
	WeaponAttributes:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 508, _1080p * 433, _1080p * 593 )
	self:addElement( WeaponAttributes )
	self.WeaponAttributes = WeaponAttributes
	
	local QualityText = nil
	
	QualityText = LUI.UIStyledText.new()
	QualityText.id = "QualityText"
	QualityText:setText( Engine.CBBHFCGDIC( "BATTLEPASS/RARITY_AND_TYPE" ), 0 )
	QualityText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	QualityText:SetWordWrap( false )
	QualityText:SetAlignment( LUI.Alignment.Left )
	QualityText:SetOptOutRightToLeftAlignmentFlip( true )
	QualityText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 141, _1080p * 617, _1080p * 218, _1080p * 246 )
	self:addElement( QualityText )
	self.QualityText = QualityText
	
	local RarityIcon = nil
	
	RarityIcon = LUI.UIImage.new()
	RarityIcon.id = "RarityIcon"
	RarityIcon:setImage( RegisterMaterial( "icon_rarity_4" ), 0 )
	RarityIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 128, _1080p * 216, _1080p * 248 )
	self:addElement( RarityIcon )
	self.RarityIcon = RarityIcon
	
	local WeaponDescription = nil
	
	WeaponDescription = LUI.UIStyledText.new()
	WeaponDescription.id = "WeaponDescription"
	WeaponDescription:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	WeaponDescription:setText( "some random text here", 0 )
	WeaponDescription:SetFont( FONTS.GetFont( FONTS.BodyRegular.File ) )
	WeaponDescription:SetAlignment( LUI.Alignment.Left )
	WeaponDescription:SetOptOutRightToLeftAlignmentFlip( true )
	WeaponDescription:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	WeaponDescription:SetStartupDelay( 1000 )
	WeaponDescription:SetLineHoldTime( 400 )
	WeaponDescription:SetAnimMoveTime( 1000 )
	WeaponDescription:SetAnimMoveSpeed( 150 )
	WeaponDescription:SetEndDelay( 1000 )
	WeaponDescription:SetCrossfadeTime( 1000 )
	WeaponDescription:SetFadeInTime( 300 )
	WeaponDescription:SetFadeOutTime( 300 )
	WeaponDescription:SetMaxVisibleLines( 2 )
	WeaponDescription:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 572, _1080p * 319, _1080p * 341 )
	self:addElement( WeaponDescription )
	self.WeaponDescription = WeaponDescription
	
	local DetailsPrompt = nil
	
	DetailsPrompt = LUI.UIStyledText.new()
	DetailsPrompt.id = "DetailsPrompt"
	DetailsPrompt:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	DetailsPrompt:setText( Engine.CBBHFCGDIC( "BATTLEPASS/VIEW_REWARD_DETAILS" ), 0 )
	DetailsPrompt:SetFont( FONTS.GetFont( FONTS.BodyRegular.File ) )
	DetailsPrompt:SetWordWrap( false )
	DetailsPrompt:SetAlignment( LUI.Alignment.Left )
	DetailsPrompt:SetOptOutRightToLeftAlignmentFlip( true )
	DetailsPrompt:SetTintFontIcons( true )
	DetailsPrompt:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 472, _1080p * 319, _1080p * 341 )
	self:addElement( DetailsPrompt )
	self.DetailsPrompt = DetailsPrompt
	
	local DetailsPromptAttributesOpened = nil
	
	DetailsPromptAttributesOpened = LUI.UIStyledText.new()
	DetailsPromptAttributesOpened.id = "DetailsPromptAttributesOpened"
	DetailsPromptAttributesOpened:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	DetailsPromptAttributesOpened:SetAlpha( 0, 0 )
	DetailsPromptAttributesOpened:setText( Engine.CBBHFCGDIC( "BATTLEPASS/HIDE_REWARD_DETAILS" ), 0 )
	DetailsPromptAttributesOpened:SetFont( FONTS.GetFont( FONTS.BodyRegular.File ) )
	DetailsPromptAttributesOpened:SetWordWrap( false )
	DetailsPromptAttributesOpened:SetAlignment( LUI.Alignment.Left )
	DetailsPromptAttributesOpened:SetOptOutRightToLeftAlignmentFlip( true )
	DetailsPromptAttributesOpened:SetTintFontIcons( true )
	DetailsPromptAttributesOpened:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 472, _1080p * 586, _1080p * 608 )
	self:addElement( DetailsPromptAttributesOpened )
	self.DetailsPromptAttributesOpened = DetailsPromptAttributesOpened
	
	local LeftArrow = nil
	
	LeftArrow = MenuBuilder.BuildRegisteredType( "GenericArrowButtonLarge", {
		controllerIndex = f1_local1
	} )
	LeftArrow.id = "LeftArrow"
	LeftArrow:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -830, _1080p * -690, _1080p * -370, _1080p * -120 )
	self:addElement( LeftArrow )
	self.LeftArrow = LeftArrow
	
	local RightArrow = nil
	
	RightArrow = MenuBuilder.BuildRegisteredType( "GenericArrowButtonLarge", {
		controllerIndex = f1_local1
	} )
	RightArrow.id = "RightArrow"
	RightArrow.Arrow:SetZRotation( 271, 0 )
	RightArrow:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * 691, _1080p * 831, _1080p * -370, _1080p * -120 )
	self:addElement( RightArrow )
	self.RightArrow = RightArrow
	
	local Name = nil
	
	Name = LUI.UIStyledText.new()
	Name.id = "Name"
	Name:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	Name:setText( ToUpperCase( "TITLE" ), 0 )
	Name:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	Name:SetWordWrap( false )
	Name:SetTracking( 5 * _1080p, 0 )
	Name:SetAlignment( LUI.Alignment.Left )
	Name:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 596, _1080p * 249, _1080p * 319 )
	self:addElement( Name )
	self.Name = Name
	
	local BlueprintIcon = nil
	
	BlueprintIcon = LUI.UIImage.new()
	BlueprintIcon.id = "BlueprintIcon"
	BlueprintIcon:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	BlueprintIcon:setImage( RegisterMaterial( "icon_blueprint" ), 0 )
	BlueprintIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 283, _1080p * 329, _1080p * 259, _1080p * 305 )
	self:addElement( BlueprintIcon )
	self.BlueprintIcon = BlueprintIcon
	
	local BattlePassStatus = nil
	
	BattlePassStatus = MenuBuilder.BuildRegisteredType( "BattlePassStatus", {
		controllerIndex = f1_local1
	} )
	BattlePassStatus.id = "BattlePassStatus"
	BattlePassStatus:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1388, _1080p * 1824, _1080p * 218, _1080p * 282 )
	self:addElement( BattlePassStatus )
	self.BattlePassStatus = BattlePassStatus
	
	local UnlockCriteria = nil
	
	UnlockCriteria = LUI.UIStyledText.new()
	UnlockCriteria.id = "UnlockCriteria"
	UnlockCriteria:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	UnlockCriteria:SetAlpha( 0, 0 )
	UnlockCriteria:setText( "Rewarded with Battle Pass", 0 )
	UnlockCriteria:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	UnlockCriteria:SetWordWrap( false )
	UnlockCriteria:SetAlignment( LUI.Alignment.Left )
	UnlockCriteria:SetOptOutRightToLeftAlignmentFlip( true )
	UnlockCriteria:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollH )
	UnlockCriteria:SetStartupDelay( 1000 )
	UnlockCriteria:SetLineHoldTime( 400 )
	UnlockCriteria:SetAnimMoveTime( 1000 )
	UnlockCriteria:SetAnimMoveSpeed( 150 )
	UnlockCriteria:SetEndDelay( 1000 )
	UnlockCriteria:SetCrossfadeTime( 250 )
	UnlockCriteria:SetFadeInTime( 300 )
	UnlockCriteria:SetFadeOutTime( 300 )
	UnlockCriteria:SetMaxVisibleLines( 1 )
	UnlockCriteria:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 125, _1080p * 600, _1080p * 319, _1080p * 341 )
	self:addElement( UnlockCriteria )
	self.UnlockCriteria = UnlockCriteria
	
	local LockIcon = nil
	
	LockIcon = LUI.UIImage.new()
	LockIcon.id = "LockIcon"
	LockIcon:SetRGBFromTable( SWATCHES.Store.TextOver, 0 )
	LockIcon:SetAlpha( 0, 0 )
	LockIcon:setImage( RegisterMaterial( "battlepass_lock" ), 0 )
	LockIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 121, _1080p * 317, _1080p * 343 )
	self:addElement( LockIcon )
	self.LockIcon = LockIcon
	
	local MissionTag = nil
	
	MissionTag = MenuBuilder.BuildRegisteredType( "BattlePassMissionTag", {
		controllerIndex = f1_local1
	} )
	MissionTag.id = "MissionTag"
	MissionTag:SetAlpha( 0, 0 )
	MissionTag:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 596, _1080p * 315, _1080p * 375 )
	self:addElement( MissionTag )
	self.MissionTag = MissionTag
	
	local SpecialWeaponAttributeWithText = nil
	
	SpecialWeaponAttributeWithText = MenuBuilder.BuildRegisteredType( "SpecialWeaponAttributeWithText", {
		controllerIndex = f1_local1
	} )
	SpecialWeaponAttributeWithText.id = "SpecialWeaponAttributeWithText"
	SpecialWeaponAttributeWithText:SetAlpha( 0, 0 )
	SpecialWeaponAttributeWithText.Title:SetRGBFromTable( SWATCHES.BattlePass.ShadowLight, 0 )
	SpecialWeaponAttributeWithText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 496, _1080p * 315, _1080p * 347 )
	self:addElement( SpecialWeaponAttributeWithText )
	self.SpecialWeaponAttributeWithText = SpecialWeaponAttributeWithText
	
	local TierPurchaseBG = nil
	
	TierPurchaseBG = MenuBuilder.BuildRegisteredType( "BattlePassPurchaseBackground", {
		controllerIndex = f1_local1
	} )
	TierPurchaseBG.id = "TierPurchaseBG"
	TierPurchaseBG:SetAlpha( 0, 0 )
	TierPurchaseBG:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, 0, _1080p * 1080 )
	self:addElement( TierPurchaseBG )
	self.TierPurchaseBG = TierPurchaseBG
	
	local PromptContainer = nil
	
	PromptContainer = LUI.UIText.new()
	PromptContainer.id = "PromptContainer"
	PromptContainer:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	PromptContainer:setText( "", 0 )
	PromptContainer:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	PromptContainer:SetWordWrap( false )
	PromptContainer:SetAlignment( LUI.Alignment.Left )
	PromptContainer:SetOptOutRightToLeftAlignmentFlip( true )
	PromptContainer:SetTintFontIcons( true )
	PromptContainer:SetAnchorsAndPosition( 0, 0, 1, 0, _1080p * 260, _1080p * -1348, _1080p * -109, _1080p * -85 )
	self:addElement( PromptContainer )
	self.PromptContainer = PromptContainer
	
	local BattlePassGridContainer = nil
	
	BattlePassGridContainer = MenuBuilder.BuildRegisteredType( "BattlePassGridContainer", {
		controllerIndex = f1_local1
	} )
	BattlePassGridContainer.id = "BattlePassGridContainer"
	BattlePassGridContainer:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -700, _1080p * 700, _1080p * -539, _1080p * -81 )
	self:addElement( BattlePassGridContainer )
	self.BattlePassGridContainer = BattlePassGridContainer
	
	local SupportingCreatorCode = nil
	
	SupportingCreatorCode = MenuBuilder.BuildRegisteredType( "SupportingCreatorCode", {
		controllerIndex = f1_local1
	} )
	SupportingCreatorCode.id = "SupportingCreatorCode"
	SupportingCreatorCode:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1162, _1080p * 1522, _1080p * 220, _1080p * 244 )
	self:addElement( SupportingCreatorCode )
	self.SupportingCreatorCode = SupportingCreatorCode
	
	local Upsell = nil
	
	Upsell = MenuBuilder.BuildRegisteredType( "WZBattlePassUpsellPrompt", {
		controllerIndex = f1_local1
	} )
	Upsell.id = "Upsell"
	Upsell:SetAlpha( 0, 0 )
	Upsell:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -396, _1080p * -96, _1080p * 313, _1080p * 513 )
	self:addElement( Upsell )
	self.Upsell = Upsell
	
	local ExclusiveTag = nil
	
	ExclusiveTag = MenuBuilder.BuildRegisteredType( "WZBattlePassItemSnipeBanner", {
		controllerIndex = f1_local1
	} )
	ExclusiveTag.id = "ExclusiveTag"
	ExclusiveTag:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 276, _1080p * 416, _1080p * 216, _1080p * 248 )
	self:addElement( ExclusiveTag )
	self.ExclusiveTag = ExclusiveTag
	
	local CWWZExclusive = nil
	
	CWWZExclusive = MenuBuilder.BuildRegisteredType( "WZStoreBundleGameSourceLogos", {
		controllerIndex = f1_local1
	} )
	CWWZExclusive.id = "CWWZExclusive"
	CWWZExclusive:SetAlpha( 0, 0 )
	CWWZExclusive:SetScale( -0.4, 0 )
	CWWZExclusive:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 204, _1080p * 574, _1080p * 196, _1080p * 268 )
	self:addElement( CWWZExclusive )
	self.CWWZExclusive = CWWZExclusive
	
	local ReactiveIcon = nil
	
	ReactiveIcon = LUI.UIImage.new()
	ReactiveIcon.id = "ReactiveIcon"
	ReactiveIcon:setImage( RegisterMaterial( "ui_icon_blueprint_reactive_camo_flipbook" ), 0 )
	ReactiveIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 276, _1080p * 244, _1080p * 324 )
	self:addElement( ReactiveIcon )
	self.ReactiveIcon = ReactiveIcon
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local36 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "WeaponPreview", {
			{
				value = 1,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Text_Style_Font,
			value = FONTS.BodyRegular.File,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319,
			easing = LUI.EASING.snap
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "WeaponPreview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine.CBBHFCGDIC( "BATTLEPASS/VIEW_REWARD_DETAILS" )
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "WeaponPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 358
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 378
		}
	} )
	LockIcon:RegisterAnimationSequence( "WeaponPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 356
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 382
		}
	} )
	MissionTag:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WeaponPreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "WeaponPreview" )
		end
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
	end
	
	local f1_local37 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "WeaponDetails", {
			{
				value = 0,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "WeaponDetails", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 200
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 360
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 412
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 572
		},
		{
			value = 1,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 1,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "WeaponDetails", {
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 377
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 397
		}
	} )
	LockIcon:RegisterAnimationSequence( "WeaponDetails", {
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 375
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 401
		}
	} )
	MissionTag:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WeaponDetails = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "WeaponDetails" )
		end
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
	end
	
	local f1_local38 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "ItemPreview", {
			{
				value = 1,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "ItemPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 325
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 345
		}
	} )
	LockIcon:RegisterAnimationSequence( "ItemPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 323
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 349
		}
	} )
	MissionTag:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ItemPreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "ItemPreview" )
		end
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
	end
	
	local f1_local39 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "MissionPreview", {
			{
				value = 1,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "MissionPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341
		},
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "MissionPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 383
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 403
		}
	} )
	LockIcon:RegisterAnimationSequence( "MissionPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 380
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 406
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.MissionPreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "MissionPreview" )
		end
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
	end
	
	local f1_local40 = nil
	Background:RegisterAnimationSequence( "SetupStandalone", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	BillboardImg:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -290
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 290
		}
	} )
	CenterOutMask:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 250
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 830
		}
	} )
	FadeCover:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -290
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 290
		}
	} )
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "SetupStandalone", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	BattlePassStatus:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 218
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 282
		}
	} )
	self._sequences.SetupStandalone = function ()
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "SetupStandalone" )
		end
		menu:AnimateSequence( "SetupStandalone" )
	end
	
	local f1_local41 = nil
	BlueprintIcon:RegisterAnimationSequence( "IsBlueprint", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 283
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 329
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 259
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 305
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.genericMenu.mainTitle
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "icon_blueprint" )
		}
	} )
	self._sequences.IsBlueprint = function ()
		menu:AnimateSequence( "IsBlueprint" )
	end
	
	local f1_local42 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "ConsumablePreview", {
			{
				value = 1,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "ConsumablePreview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 343
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text_Style_Font,
			value = FONTS.MainRegular.File
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "ConsumablePreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 358
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 378
		}
	} )
	LockIcon:RegisterAnimationSequence( "ConsumablePreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 356
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 382
		}
	} )
	MissionTag:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ConsumablePreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "ConsumablePreview" )
		end
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
	end
	
	local f1_local43 = nil
	UnlockCriteria:RegisterAnimationSequence( "IsLocked", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	LockIcon:RegisterAnimationSequence( "IsLocked", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.IsLocked = function ()
		menu:AnimateSequence( "IsLocked" )
		menu:AnimateSequence( "IsLocked" )
	end
	
	local f1_local44 = nil
	UnlockCriteria:RegisterAnimationSequence( "NotLocked", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 339,
			easing = LUI.EASING.snap
		}
	} )
	LockIcon:RegisterAnimationSequence( "NotLocked", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 317,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 343,
			easing = LUI.EASING.snap
		}
	} )
	self._sequences.NotLocked = function ()
		menu:AnimateSequence( "NotLocked" )
		menu:AnimateSequence( "NotLocked" )
	end
	
	local f1_local45 = nil
	BlueprintIcon:RegisterAnimationSequence( "IsBaseWeapon", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 274
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 250
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 338
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 314
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "battlepass_icon_weapon_glint" )
		}
	} )
	self._sequences.IsBaseWeapon = function ()
		menu:AnimateSequence( "IsBaseWeapon" )
	end
	
	local f1_local46 = nil
	WeaponDescription:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text_Style_Horizontal_Alignment,
			value = LUI.Alignment.Left
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 612
		}
	} )
	Name:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Tracking,
			value = 0 * _1080p
		}
	} )
	self._sequences.AR = function ()
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
	end
	
	local f1_local47 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
			{
				value = 1,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Text_Style_Font,
			value = FONTS.BodyRegular.File,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319,
			easing = LUI.EASING.snap
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine.CBBHFCGDIC( "BATTLEPASS/VIEW_REWARD_DETAILS" )
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 353
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 375
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 383
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 403
		}
	} )
	LockIcon:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 381
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 407
		}
	} )
	MissionTag:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 347
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 315
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WeaponPreviewWithAttribute = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		end
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
	end
	
	local f1_local48 = nil
	Upsell:RegisterAnimationSequence( "ShowGameSourceUpsell", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ShowGameSourceUpsell = function ()
		menu:AnimateSequence( "ShowGameSourceUpsell" )
	end
	
	local f1_local49 = nil
	Upsell:RegisterAnimationSequence( "HideGameSourceUpsell", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideGameSourceUpsell = function ()
		menu:AnimateSequence( "HideGameSourceUpsell" )
	end
	
	local f1_local50 = nil
	BillboardImg:RegisterAnimationSequence( "WZWipSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "cw_store_billboard_placeholder" )
		}
	} )
	self._sequences.WZWipSetup = function ()
		menu:AnimateSequence( "WZWipSetup" )
	end
	
	local f1_local51 = nil
	WeaponDescription:RegisterAnimationSequence( "JP", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 354
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 334
		}
	} )
	self._sequences.JP = function ()
		menu:AnimateSequence( "JP" )
	end
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "BattlePassMenu", BattlePassMenu )
LockTable( _M )
