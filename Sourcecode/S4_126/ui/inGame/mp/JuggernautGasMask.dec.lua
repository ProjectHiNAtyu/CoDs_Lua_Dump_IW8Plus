-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
local f0_local0 = 1
local f0_local1 = 0.5
local f0_local2 = 0.25
local f0_local3 = {
	f0_local2,
	f0_local1,
	f0_local0
}
local f0_local4 = {
	[f0_local0] = "NONE",
	[f0_local1] = "DAMAGE_1",
	[f0_local2] = "DAMAGE_2"
}
local f0_local5 = {
	[f0_local0] = "HideDamage",
	[f0_local1] = "ShowDamage1",
	[f0_local2] = "ShowDamage2"
}
local f0_local6 = function ( f10_arg0, f10_arg1 )
	if f10_arg1.value == 1 then
		ACTIONS.AnimateSequence( f10_arg0, "FadeIn" )
		ACTIONS.AnimateSequence( f10_arg0, f0_local0[f0_local0] )
		f10_arg0.curDamageState = f0_local0[f0_local0]
	else
		ACTIONS.AnimateSequence( f10_arg0, "FadeOut" )
	end
end

local f0_local7 = function ( f9_arg0, f9_arg1 )
	local f9_local0 = f9_arg1.value
	for f9_local1 = 1, #f0_local0, 1 do
		local f9_local4 = f0_local0[f9_local1]
		if f9_local0 < f9_local4 then
			if f9_arg0.curDamageState ~= f0_local0[f9_local4] then
				f9_arg0.curDamageState = f0_local0[f9_local4]
				ACTIONS.AnimateSequence( f9_arg0, f0_local0[f9_local4] )
				break
			end
		end
	end
end

local f0_local8 = function ( f8_arg0, f8_arg1, f8_arg2 )
	if CONDITIONS.IsDevelopmentBuild() then
		for f8_local0 = 1, #f0_local0, 1 do
			local f8_local3 = f0_local0[f8_local0]
			assert( f0_local0[f8_local3] )
			assert( f0_local0[f8_local3] )
		end
	end
	f8_arg0.curDamageState = f0_local0[f0_local0]
	f8_arg0:registerOmnvarHandler( "ui_gas_mask_juggernaut", f0_local0 )
	f8_arg0:registerOmnvarHandler( "ui_gasmask_damage", f0_local0 )
end

function JuggernautGasMask( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "JuggernautGasMask"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Damage2 = nil
	
	Damage2 = LUI.UIImage.new()
	Damage2.id = "Damage2"
	ACTIONS.ScaleFullscreen( Damage2 )
	Damage2:SetVisibility( LUI.Visibility.Hidden )
	Damage2:setImage( RegisterMaterial( "gasmask_overlay_alpha_col_broken" ), 0 )
	self:addElement( Damage2 )
	self.Damage2 = Damage2
	
	local Damage1 = nil
	
	Damage1 = LUI.UIImage.new()
	Damage1.id = "Damage1"
	ACTIONS.ScaleFullscreen( Damage1 )
	Damage1:SetVisibility( LUI.Visibility.Hidden )
	Damage1:setImage( RegisterMaterial( "v_ui_elmnt_killstreak_overlay_04" ), 0 )
	self:addElement( Damage1 )
	self.Damage1 = Damage1
	
	local Overlay = nil
	
	Overlay = LUI.UIImage.new()
	Overlay.id = "Overlay"
	ACTIONS.ScaleFullscreen( Overlay )
	Overlay:setImage( RegisterMaterial( "gasmask_overlay_alpha_col" ), 0 )
	self:addElement( Overlay )
	self.Overlay = Overlay
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local6 = nil
	Overlay:RegisterAnimationSequence( "FadeIn", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 500,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.FadeIn = function ()
		menu:AnimateSequence( "FadeIn" )
	end
	
	self._sequenceLengths.FadeIn = 600
	local f1_local7 = nil
	Overlay:RegisterAnimationSequence( "FadeOut", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 550,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.FadeOut = function ()
		menu:AnimateSequence( "FadeOut" )
	end
	
	self._sequenceLengths.FadeOut = 650
	local f1_local8 = nil
	Damage1:RegisterAnimationSequence( "ShowDamage1", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible
		}
	} )
	self._sequences.ShowDamage1 = function ()
		menu:AnimateSequence( "ShowDamage1" )
	end
	
	self._sequenceLengths.ShowDamage1 = 0
	local f1_local9 = nil
	Damage2:RegisterAnimationSequence( "HideDamage", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Hidden
		}
	} )
	Damage1:RegisterAnimationSequence( "HideDamage", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Hidden
		}
	} )
	self._sequences.HideDamage = function ()
		menu:AnimateSequence( "HideDamage" )
		menu:AnimateSequence( "HideDamage" )
	end
	
	self._sequenceLengths.HideDamage = 0
	local f1_local10 = nil
	Damage2:RegisterAnimationSequence( "ShowDamage2", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible
		}
	} )
	self._sequences.ShowDamage2 = function ()
		menu:AnimateSequence( "ShowDamage2" )
	end
	
	self._sequenceLengths.ShowDamage2 = 0
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "JuggernautGasMask", JuggernautGasMask )
LockTable( _M )
