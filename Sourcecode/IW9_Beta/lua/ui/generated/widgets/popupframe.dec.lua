-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
module( ..., package.seeall )
require( "ui.generated.widgets.genericpopupwindow" )
function PostLoadFunc( f8_arg0, f8_arg1, f8_arg2 )
	assert( f8_arg0.Title )
	assert( f8_arg0.Darkener )
	f8_arg0.SetTitle = function ( f10_arg0, f10_arg1 )
		f10_arg0.Title:setText( ToUpperCase( f10_arg1 ) )
		local f10_local0 = f10_arg0.Title:GetAnchorsAndPosition()
		f10_arg0.TextHighlight:SetRight( f10_local0.left + LAYOUT.GetTextWidth( f10_arg0.Title, f8_arg0 ) + f10_local0.left / 2 )
	end
	
	f8_arg0.MeasureTitle = function ( f9_arg0, f9_arg1 )
		local f9_local0 = f9_arg0.Title:GetCurrentFont()
		local f9_local1, f9_local2, f9_local3, f9_local4 = f9_arg0.Title:getLocalRect()
		local f9_local5, f9_local6, f9_local7, f9_local8 = f9_arg0.Title:GetAnchorData()
		local f9_local9 = assert
		local f9_local10
		if (f9_local6 ~= 0 or f9_local8 ~= 1) and (f9_local6 ~= 1 or f9_local8 ~= 0) then
			f9_local10 = false
		else
			f9_local10 = true
		end
		f9_local9( f9_local10 )
		f9_local11, f9_local10, f9_local12, f9_local13 = GetTextDimensions( f9_arg1, f9_local0, math.abs( f9_local2 - f9_local4 ) )
		return f9_local12 - f9_local11
	end
	
	if f8_arg2.hideBackground then
		f8_arg0.Darkener:SetAlpha( 0, 0 )
	end
	if f8_arg2.hideFrame then
		REG3.SetAlpha( f8_arg0.TitleBG or f8_arg0.MobileTitleBG, 0, 0 )
	end
	if CONDITIONS.IsSplitscreen() then
		f8_arg0.Darkener:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -1200, _1080p * 1200, _1080p * -960, _1080p * 960, 0 )
	end
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f8_arg0, "AR" )
	end
	if IsLanguageKorean() then
		ACTIONS.AnimateSequence( f8_arg0, "KOR" )
	end
	ACTIONS.ScaleFullscreen( f8_arg0.Darkener )
end

States = {
	[0xAD14C6E7156B923] = function ( f3_arg0, f3_arg1 )
		local f3_local0 = function ( f7_arg0, f7_arg1 )
			
		end
		
		f3_arg0.Darkener:RegisterAnimationSequence( "Darken", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 4.667261642678925E-62,
				duration = -28,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		local f3_local1 = function ( f6_arg0, f6_arg1 )
			f6_arg0.Darkener:AnimateSequence( "Darken" )
		end
		
		f3_arg0.Title:RegisterAnimationSequence( "AR", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -61
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * -31
			}
		} )
		local f3_local2 = function ( f5_arg0, f5_arg1 )
			f5_arg0.Title:AnimateSequence( "AR" )
			f5_arg0.Title:SetOptOutRightToLeftAlignmentFlip( true )
		end
		
		f3_arg0.Title:RegisterAnimationSequence( "KOR", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -55
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * -25
			}
		} )
		f3_arg0._sequences = {
			DefaultSequence = f3_local0,
			Darken = f3_local1,
			AR = f3_local2,
			KOR = function ( f4_arg0, f4_arg1 )
				f4_arg0.Title:AnimateSequence( "KOR" )
			end
		}
		f3_arg0._sequenceLengths = {
			AR = 0,
			KOR = 0,
			DefaultSequence = 0,
			Darken = -28
		}
	end
}
function PopupFrame( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 780 * _1080p, 0, 220 * _1080p )
	self.id = "PopupFrame"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	Darkener:SetRGBFromInt( 0, 0 )
	Darkener:SetAlpha( 0.85, 0 )
	Darkener:SetScale( 1, 0 )
	Darkener:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * -760, _1080p * 760, _1080p * -760, _1080p * 760 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	local f1_local3, f1_local4 = nil
	if not CONDITIONS.IsMobileOrMobileSim() then
		f1_local4 = MenuBuilder.BuildRegisteredType( "GenericPopupWindow", {
			controllerIndex = f1_local1
		} )
		f1_local4.id = "TitleBG"
		f1_local4:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * -150, _1080p * 150, _1080p * -135, _1080p * 45 )
		self:addElement( f1_local4 )
		self.TitleBG = f1_local4
	end
	local TextHighlight = nil
	
	TextHighlight = LUI.UIImage.new()
	TextHighlight.id = "TextHighlight"
	TextHighlight:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool03, 0 )
	TextHighlight:SetAlpha( 0.25, 0 )
	TextHighlight:setImage( RegisterMaterial( 0x69E60085209E5A4 ), 0 )
	TextHighlight:SetupNonUniform9SliceImage( _1080p * 16, _1080p * 16, 0, _1080p * 16, 0.3, 0.3, 0.3, 0.3 )
	TextHighlight:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 2, _1080p * 166, _1080p * -52, _1080p * -20 )
	self:addElement( TextHighlight )
	self.TextHighlight = TextHighlight
	
	local Title = nil
	
	Title = LUI.UIStyledText.new()
	Title.id = "Title"
	Title:SetRGBFromTable( SWATCHES.Popups.headerTxt, 0 )
	Title:SetAlpha( 0.65, 0 )
	Title:setText( Engine[0xED84C33EC5F01EA]( 0x18D641B5CB4FE00 ), 0 )
	Title:SetFont( FONTS.GetFont( FONTS.SecondaryRegular.File ) )
	Title:SetFontSize( 30 * _PT )
	Title:SetMinFontSize( 30 * _PT )
	Title:SetWordWrap( false )
	Title:SetAlignment( LUI.Alignment.Left )
	Title:SetAutoScroll( AUTOSCROLL.enabled )
	Title:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollH )
	Title:SetStartupDelay( 2000 )
	Title:SetLineHoldTime( 400 )
	Title:SetAnimMoveTime( 2000 )
	Title:SetAnimMoveSpeed( 150 )
	Title:SetEndDelay( 2000 )
	Title:SetCrossfadeTime( 250 )
	Title:SetFadeInTime( 300 )
	Title:SetFadeOutTime( 300 )
	Title:SetDecodeLetterLength( 25 )
	Title:SetDecodeMaxRandChars( 3 )
	Title:SetDecodeUpdatesPerLetter( 4 )
	Title:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 23, _1080p * 777, _1080p * -51, _1080p * -21 )
	self:addElement( Title )
	self.Title = Title
	
	local Line = nil
	
	Line = LUI.UIImage.new()
	Line.id = "Line"
	Line:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	Line:SetAlpha( 0.15, 0 )
	Line:SetAnchorsAndPosition( 0, 1, 0, 0, _1080p * 2, _1080p * 3, _1080p * -79, _1080p * -117 )
	self:addElement( Line )
	self.Line = Line
	
	local LineHighlight = nil
	
	LineHighlight = LUI.UIImage.new()
	LineHighlight.id = "LineHighlight"
	LineHighlight:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	LineHighlight:SetAlpha( 0.5, 0 )
	LineHighlight:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 3, _1080p * -52, _1080p * -20 )
	self:addElement( LineHighlight )
	self.LineHighlight = LineHighlight
	
	local CrossFluff = nil
	
	CrossFluff = LUI.UIImage.new()
	CrossFluff.id = "CrossFluff"
	CrossFluff:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	CrossFluff:SetAlpha( 0.4, 0 )
	CrossFluff:setImage( RegisterMaterial( 0x965A2DFAE513209 ), 0 )
	CrossFluff:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * -7, _1080p * 11, _1080p * -121, _1080p * -103 )
	self:addElement( CrossFluff )
	self.CrossFluff = CrossFluff
	
	self.addButtonHelperFunction = function ( f2_arg0, f2_arg1 )
		f2_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_primary",
			priority = 1,
			helper_text = Engine[0xED84C33EC5F01EA]( 0x7D9DC9E3291E103 )
		} )
	end
	
	self:addEventHandler( "menu_create", self.addButtonHelperFunction )
	if not self.bindButton then
		local f1_local10 = LUI.UIBindButton.new()
		f1_local10.id = "selfBindButton"
		self:addElement( f1_local10 )
		self.bindButton = f1_local10
	end
	PostLoadFunc( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "PopupFrame", PopupFrame )
LockTable( _M )
