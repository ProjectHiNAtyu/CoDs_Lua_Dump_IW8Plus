-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:49
module( ..., package.seeall )
require( "ui.generated.widgets.buttons.mousebuttonarea" )
require( "ui.generated.widgets.frontend.social.socialmenulayoutnew" )
require( "ui.generated.widgets.frontend.menubuttonprompt" )
require( "ui.generated.widgets.frontend.social.socialprofilecard" )
require( "ui.generated.widgets.frontend.social.socialcardsgrid" )
require( "ui.generated.widgets.frontend.social.socialprofilecardsmallfriend" )
require( "ui.generated.widgets.frontend.social.socialchannelfeaturehint" )
require( "ui.generated.widgets.frontend.social.socialchanneltextchatpreviewentries" )
require( "ui.generated.widgets.frontend.social.socialhubandfriendsactionbuttons" )
require( "ui.generated.widgets.frontend.social.sociallocalpresencedebug" )
local f0_local0 = 1000
local f0_local1 = 11
local f0_local2 = 200
local f0_local3 = function ( f85_arg0 )
	return f85_arg0.SocialMenuLayout:GetPlayerGrid()
end

local f0_local4 = function ( f84_arg0 )
	if not CONDITIONS.IsSocialActionButtonsEnabled() then
		return false
	elseif f84_arg0.SocialMenuLayout.ActionBar:getFirstChild() then
		
	else
		
	end
	return false
end

local f0_local5 = function ( f83_arg0, f83_arg1 )
	if f83_arg0.ViewProfilePrompt ~= nil and f83_arg0.PlayerDetailPromptLine ~= nil then
		local f83_local0
		if f83_arg1 then
			f83_local0 = f83_arg1
		else
			f83_local0 = not f83_arg0._isExpanded
		end
		f83_arg0.ViewProfilePrompt:SetVisible( f83_local0 )
		f83_arg0.PlayerDetailPromptLine:SetVisible( f83_local0 )
	end
end

local f0_local6 = function ( f82_arg0, f82_arg1 )
	if f82_arg0.ChannelHint then
		f82_arg0.ChannelHint:SetVisible( f82_arg1 )
	end
	if f82_arg0.TextChatPreviewEntries then
		f82_arg0.TextChatPreviewEntries:SetVisible( f82_arg1 )
	end
end

local f0_local7 = function ( f81_arg0 )
	if f81_arg0._isExpanded then
		return false
	else
		return true
	end
end

local f0_local8 = function ( f80_arg0, f80_arg1 )
	assert( f0_local0( f80_arg0 ), "Trying to expand the grid in a scenario where it should not be expanded" )
	if not f0_local0( f80_arg0 ) then
		return 
	end
	f80_arg0._isExpanded = true
	Engine[0xC4146BA76D0F982]( SOUND_SETS.mpMainMenu.navPageDown )
	local f80_local0 = ACTIONS.AnimateSequence
	local f80_local1 = f80_arg0
	local f80_local2
	if f80_arg1 then
		f80_local2 = "ExpandInstant"
	else
		f80_local2 = "Expand"
	end
	f80_local0( f80_local1, f80_local2 )
	if CONDITIONS.InGame() then
		f80_local0 = ACTIONS.AnimateSequence
		f80_local1 = f80_arg0
		if f80_arg1 then
			f80_local2 = "ExpandMouseInstantInGame"
		else
			f80_local2 = "ExpandMouseInGame"
		end
		f80_local0( f80_local1, f80_local2 )
	else
		f80_local0 = ACTIONS.AnimateSequence
		f80_local1 = f80_arg0
		if f80_arg1 then
			f80_local2 = "ExpandMouseInstantInFrontend"
		else
			f80_local2 = "ExpandMouseInFrontEnd"
		end
		f80_local0( f80_local1, f80_local2 )
	end
	f80_local0 = ACTIONS.AnimateSequence
	f80_local1 = f80_arg0.SocialMenuLayout
	if f80_arg1 then
		f80_local2 = "HideActionBar"
	else
		f80_local2 = "FadeOutActionBar"
	end
	f80_local0( f80_local1, f80_local2 )
	f80_arg0.SocialMenuLayout:DisableActionBar()
	f80_arg0.WorldBlur:SetBlurStrength( f0_local0, f0_local0 )
	f80_arg0.FriendsGrid:EnableSearching()
	f80_arg0.FriendsGrid.PlayersGridControls:SetVisible( true )
	f80_arg0.FriendsGrid:SetMouseFocusBlocker( false )
	f80_arg0.FriendsGrid.PlayersGrid:UpdateScrolling()
	f80_arg0.BottomExpandClickZone:SetVisible( false )
	f80_arg0.BottomExpandClickZone:Deactivate()
	f80_arg0.BottomExpandClickZone:SetHandleMouseMove( false )
	f0_local0( f80_arg0, false )
	f0_local0( f80_arg0, false )
	if f80_arg0.SocialLocalPresenceDebug then
		f80_arg0.SocialLocalPresenceDebug:SetVisible( false )
	end
	f80_arg0:processEvent( {
		dispatchChildren = false,
		name = "grid_view_changed"
	} )
end

local f0_local9 = function ( f79_arg0 )
	if not f79_arg0._isExpanded then
		return false
	elseif f79_arg0.FriendsGrid:IsSearching() then
		return false
	elseif f79_arg0._isAnimatingCollapse then
		return false
	else
		return true
	end
end

local f0_local10 = function ( f76_arg0 )
	assert( f0_local0( f76_arg0 ), "Trying to collapse the grid in a scenario where it should not be collapsed" )
	if not f0_local0( f76_arg0 ) then
		
	else
		
	end
	f76_arg0._isExpanded = false
	f76_arg0._isAnimatingCollapse = true
	local f76_local0 = function ()
		local f77_local0 = f76_arg0:Wait( 500 )
		f77_local0.onComplete = function ()
			f77_local0._isAnimatingCollapse = false
		end
		
		if f76_arg0.SocialLocalPresenceDebug then
			f76_arg0.SocialLocalPresenceDebug:SetVisible( true )
		end
	end
	
	Engine[0xC4146BA76D0F982]( SOUND_SETS.mpMainMenu.navPageUp )
	ACTIONS.AnimateSequence( f76_arg0, "Collapse", {
		onComplete = f76_local0
	} )
	if CONDITIONS.InGame() then
		ACTIONS.AnimateSequence( f76_arg0, "CollapseMouseInGame" )
	else
		ACTIONS.AnimateSequence( f76_arg0, "CollapseMouseInFrontEnd" )
	end
	ACTIONS.AnimateSequence( f76_arg0.SocialMenuLayout, "FadeInActionBar" )
	f76_arg0.SocialMenuLayout:EnableActionBar()
	f76_arg0.WorldBlur:SetBlurStrength( 0, f0_local0, LUI.EASING.outQuadratic )
	f76_arg0.FriendsGrid:DisableSearching()
	f76_arg0.FriendsGrid.PlayersGridControls:SetVisible( false )
	f76_arg0.FriendsGrid:SetMouseFocusBlocker( true )
	local f76_local1 = f76_arg0.FriendsGrid:GetCardGrid()
	f76_local1:SetTargetRowToDefault()
	f76_arg0.FriendsGrid.PlayersGrid:UpdateScrolling()
	f76_arg0.BottomExpandClickZone:SetVisible( true )
	f76_arg0.BottomExpandClickZone:Activate()
	f76_arg0.BottomExpandClickZone:SetHandleMouseMove( true )
	ACTIONS.GainFocus( f76_arg0, f76_arg0.PlayerPartyCard.id )
	f76_arg0:processEvent( {
		dispatchChildren = false,
		name = "grid_view_changed"
	} )
end

local f0_local11 = function ( f75_arg0 )
	ACTIONS.LoseFocus( f75_arg0, f75_arg0.PlayerPartyCard.id, f75_arg0._controllerIndex )
	f75_arg0.PlayerPartyCard:RemoveActive()
	f75_arg0.FriendsGrid:ClearFocus()
	f75_arg0.FriendsGrid:ClearActive()
	f75_arg0.SocialActivityGrid:ClearFocus()
	f75_arg0.SocialActivityGrid:ClearActive()
end

local f0_local12 = function ( f73_arg0, f73_arg1 )
	if CONDITIONS.InGame() then
		
	else
		
	end
	local f73_local0 = PlayercardUtils.PlayerDataFromDataSource( f73_arg1 )
	f73_arg0.ViewProfilePrompt:SetupPrompt( {
		isLocalized = true,
		buttonPrompt = ButtonMap.button_l3,
		text = Engine[0xED84C33EC5F01EA]( 0xE182D421CCB0577 ),
		action = function ( f74_arg0, f74_arg1 )
			if f73_arg0._isExpanded then
				return 
			end
			local f74_local0 = nil
			local f74_local1 = f73_arg0.SocialActivityGrid:GetCardGrid()
			f74_local1 = f74_local1:GetFocusPositionIndex()
			if f74_local1 then
				local f74_local2 = f73_arg0.SocialActivityGrid:GetCardGrid()
				f74_local2 = f74_local2:GetPositionForIndex( f74_local1 )
				local f74_local3 = f73_arg0.SocialActivityGrid:GetCardGrid()
				f74_local0 = f74_local3:GetElementAtPosition( f74_local2.x, f74_local2.y )
			end
			local f74_local2
			if f74_local0 then
				f74_local2 = f74_local0
			else
				f74_local2 = f73_arg0.ViewProfilePrompt:IsVisible()
			end
			local f74_local3
			if f74_local2 then
				f74_local3 = f74_local0._cardData
				if not f74_local3 then
				
				else
					local f74_local4 = FRIENDS.GetOpenPlayerDetailsPopupFunc( f74_local3 )
					f74_arg1.isShowcase = true
					f74_local4( f74_arg0, f74_arg1 )
				end
			end
			f74_local3 = f73_arg0
		end
	} )
	f73_arg0.PlayerDetailPromptLine = LUI.UILine.new()
	f73_arg0.PlayerDetailPromptLine:setPriority( 100 )
	f73_arg0.PlayerDetailPromptLine:SetAlpha( 0.5 )
	f73_arg0.PlayerDetailPromptLine:SetThickness( 3 * _1080p )
	f73_arg0.PlayerDetailPromptLine:SetVertexPosition( LUI.UILine.START, 1, 0, -765 * _1080p, 170 * _1080p )
	f73_arg0.PlayerDetailPromptLine:SetVertexPosition( LUI.UILine.END, 1, 0, -900 * _1080p, 250 * _1080p )
	f73_arg0.PlayerDetailPromptLine:SetRGBFromTable( SWATCHES[0xEAF2060ABE5269B][0x25ECEAC112DE079] )
	f73_arg0.PlayerDetailPromptLine:SetMaterial( RegisterMaterial( "widg_gradient_top_to_bottom_with_base" ) )
	f73_arg0:addElement( f73_arg0.PlayerDetailPromptLine )
end

local f0_local13 = function ( f72_arg0 )
	local f72_local0 = DataSources.alwaysLoaded.privateParty.count:GetValue()
	local f72_local1 = DataSources.alwaysLoaded.privateParty.maxCount:GetValue()
	local f72_local2 = {
		myParty = true,
		cardType = FRIENDS.ProfileCardType.PARTY_TYPE,
		count = f72_local0,
		maxPartySize = f72_local1,
		party = Social[0xE30C6358EF728A1]()
	}
	f72_arg0.PlayerPartyLabel:setText( Engine[0xED84C33EC5F01EA]( 0x64DDE5B17E371C6, f72_local0, f72_local1 ) )
	f72_arg0.PlayerPartyCard:SetupPlayerData( f72_local2 )
	f72_arg0.PlayerPartyCard:SetCurrentLocation( FRIENDS.TabIDs.HUB )
	if f72_arg0._isViewingPlayerPartyDetails then
		f72_arg0:UpdateDetails( f72_arg0.PlayerPartyCard, f72_local2 )
	end
end

local f0_local14 = function ( f71_arg0, f71_arg1, f71_arg2 )
	if f71_arg0._isExpanded then
		return 
	end
	local f71_local0 = f71_arg1:getParent()
	if f71_arg1 == f71_arg0.PlayerPartyCard then
		f71_arg0.SocialMenuLayout:UpdateDetails( nil, f71_arg2 )
	elseif f71_local0 == f71_arg0.FriendsGrid:GetCardGrid() then
		
	elseif f71_local0 == f71_arg0.SocialActivityGrid:GetCardGrid() then
		f71_arg0.SocialMenuLayout:UpdateDetails( nil, f71_arg2 )
	else
		assert( false, "Unhandled state for focusing a profile card" )
	end
end

local f0_local15 = function ( f70_arg0 )
	if CONDITIONS.IsSocialActionButtonsEnabled() then
		local f70_local0 = MenuBuilder.BuildRegisteredType( "SocialHubAndFriendsActionButtons", {
			controllerIndex = f70_arg0._controllerIndex
		} )
		f70_local0.id = "SocialHubAndFriendsActionButtons"
		f70_arg0.SocialMenuLayout:SetActionBar( f70_local0 )
	end
end

local f0_local16 = function ( f62_arg0, f62_arg1 )
	local f62_local0 = f62_arg0.PlayerPartyLabel._backingElement
	f62_arg0.FriendsGrid.PlayersGrid:SetApplyTargetPositionFixupAfterRestore( true )
	f62_arg0.PlayerPartyCard:addEventHandler( "gain_focus", function ( f69_arg0, f69_arg1 )
		f62_arg0._isViewingPlayerPartyDetails = true
		f62_arg0:SetRGBFromTable( SOCIAL.Constants.selectedLabelTextColor )
		f62_arg0:SetRGBFromTable( SOCIAL.Constants.selectedLabelBackerColor )
		f62_arg0.PlayerPartyCard:SetActive()
		f62_arg0( f62_arg0, true )
		f62_arg0( f62_arg0 )
		f62_arg0( f62_arg0, false )
	end )
	if CONDITIONS.IsSocialActionButtonsEnabled() then
		f62_arg0.SocialMenuLayout.ActionBar:addEventHandler( "gain_focus", function ( f68_arg0, f68_arg1 )
			f62_arg0.PlayerPartyCard:RemoveActive()
		end )
	end
	f62_arg0:registerEventHandler( "friend_card_gain_focus", function ( element, event )
		if event.card ~= f62_arg0.PlayerPartyCard then
			if event.card:getParent() == f62_arg0.FriendsGrid:GetCardGrid() then
				assert( f62_arg0._isExpanded, "We should not be focusing any friends cards while the grid is collapsed" )
			end
			f62_arg0._isViewingPlayerPartyDetails = false
			f62_arg0:SetRGBFromTable( SOCIAL.Constants.unselectedLabelTextColor )
			f62_arg0:SetRGBFromTable( SOCIAL.Constants.unselectedLabelBackerColor )
			f62_arg0.PlayerPartyCard:RemoveActive( {
				controller = f62_arg0
			} )
			if event.card:getParent() == f62_arg0.SocialActivityGrid:GetCardGrid() then
				f62_arg0( f62_arg0, FRIENDS.IsPlayerTypeProfileCard( event.card._cardData ) )
			else
				f62_arg0( f62_arg0, false )
			end
		end
	end )
	f62_arg0.PlayerPartyCard:addEventHandler( "gamepad_button", function ( f66_arg0, f66_arg1 )
		if f66_arg1.down and f66_arg1.button == "alt1" and f62_arg0.PlayerPartyCard:isInFocus() then
			Engine[0xC4146BA76D0F982]( SOUND_SETS.default.selectAltSmall )
			f62_arg0.PlayerPartyCard.secondaryActionData.action()
			return true
		else
			
		end
	end )
	f62_arg0:SubscribeToModel( DataSources.alwaysLoaded.privateParty.count:GetModel(), function ( f65_arg0 )
		f62_arg0( f62_arg0 )
	end )
	f62_arg0:SubscribeToModel( DataSources.alwaysLoaded.privateParty.maxCount:GetModel(), function ( f64_arg0 )
		f62_arg0( f62_arg0 )
	end )
	f62_arg0:CreateEventTimer( "partyRefreshTimer", f0_local0, {
		immediate = false,
		callbackFunc = function ( f63_arg0, f63_arg1 )
			f62_arg0( f63_arg0 )
			return true
		end
	} )
end

local f0_local17 = function ( f61_arg0 )
	f61_arg0.SocialActivityGrid.PlayersGrid.id = "SocialActivityGrid"
	f61_arg0.SocialActivityGrid:SetCardGridHeaderStaticText( 0xC150304A79E9F8 )
	f61_arg0.SocialActivityGrid:SetupEmptyGrid( 0xAFD36CFDEAE110D, true )
	f61_arg0.SocialActivityGrid:DisableSearching()
	f61_arg0.SocialActivityGrid:DisableGridView()
	f61_arg0.SocialActivityGrid:SetupPlayerGrid( FRIENDS.TabIDs.HUB )
	f61_arg0.SocialActivityGrid.PlayersSideButtonsRow:HideSideButtons()
	if not CONDITIONS.IsSocialHubRecommendationsEnabled() then
		f61_arg0.SocialActivityGrid:SetVisible( false )
	end
end

local f0_local18 = function ( f57_arg0 )
	f57_arg0.FriendsGrid.PlayersGrid.id = "FriendsPlayersGrid"
	f57_arg0.FriendsGrid:DisableGridView()
	f57_arg0.FriendsGrid:SetMouseFocusBlocker( true )
	f57_arg0.FriendsGrid:SetSearchBoxFocusType( FocusType.MouseOver )
	f57_arg0.FriendsGrid:SetCardGridHeaderStaticText( 0xF3284E74E6D65E2 )
	f57_arg0.FriendsGrid:SetCardGridHeaderDynamicText( 0xDC2B550A740511F )
	f57_arg0.FriendsGrid:SetupEmptyGrid( 0xC3164CD46D11ED0, true )
	f57_arg0.FriendsGrid:DisableSearching()
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x746990509FF7E2B ) then
		Social[0x5B211B1C9757589]( f57_arg0._controllerIndex, "" )
		f57_arg0.FriendsGrid:SetSearchBoxCallback( function ( f60_arg0, f60_arg1 )
			local f60_local0 = LUI.FlowManager.GetScopedData( f57_arg0 )
			local f60_local1 = Social[0x5B211B1C9757589]
			local f60_local2 = f57_arg0._controllerIndex
			local f60_local3
			if not f60_arg1 then
				f60_local3 = f60_arg1
			else
				f60_local3 = ""
			end
			f60_local1( f60_local2, f60_local3 )
			FRIENDS.RefreshData( FRIENDS.TabIDs.FRIENDS, f57_arg0.FriendsGrid:GetCardGrid(), f57_arg0._controllerIndex, f60_local0 )
		end )
		f57_arg0.FriendsGrid:SetSearchBoxEditCompleteCallback()
		f57_arg0.FriendsGrid:SetSearchBoxDefaultText( 0x6D864AA6A236A0F )
	end
	f57_arg0:addEventHandler( "on_close", function ( f59_arg0, f59_arg1 )
		Social[0x5B211B1C9757589]( f59_arg0._controllerIndex, "" )
	end )
	local f57_local0 = function ( f58_arg0 )
		Social[0x39E2616E863B53D]( f57_arg0._controllerIndex, f58_arg0.activeFilter )
		FRIENDS.RefreshData( FRIENDS.TabIDs.FRIENDS, f57_arg0.FriendsGrid:GetCardGrid(), f57_arg0._controllerIndex, f58_arg0 )
		f57_arg0.FriendsGrid:UpdateFilteringLabel( Engine[0xED84C33EC5F01EA]( 0x9ADAC0AA6B81B29, FRIENDS.GetFriendsTypeFilterString( f58_arg0.activeFilter ) ), Social[0xE1E8FED08B06DF7]( f57_arg0._controllerIndex ) )
	end
	
	local f57_local1 = Social[0x27F3D85340D45A1]( f57_arg0._controllerIndex )
	if FRIENDS.FriendTypeFilterStrings[f57_local1] == nil or not f57_local1 then
		f57_local1 = Enum[0xADC14CB4C9865D7][0x6F09B190519DAA4]
	end
	f57_arg0.SocialMenuLayout:SetActiveFilter( f57_local1, f57_local0 )
	FRIENDS.AddFilteringEventHandler( f57_arg0.SocialMenuLayout, f57_local0 )
	f57_arg0.FriendsGrid.PlayersGridControls:SetVisible( false )
	f57_arg0.FriendsGrid:SetupPlayerGrid( FRIENDS.TabIDs.FRIENDS, f57_local1 )
	f57_arg0.FriendsGrid.PlayersGrid:SetMouseScrollStep( 3 )
	ACTIONS.AnimateSequence( f57_arg0.FriendsGrid, "ExpandGrid" )
end

local f0_local19 = function ( f53_arg0 )
	if f53_arg0.ChannelHint then
		f53_arg0:addEventHandler( "friend_card_gain_focus", function ( f56_arg0, f56_arg1 )
			local f56_local0
			if f53_arg0._isExpanded or f56_arg1.card._cardData.cardType ~= FRIENDS.ProfileCardType.CHANNEL_TYPE then
				f56_local0 = false
			else
				f56_local0 = true
			end
			if f56_local0 then
				f53_arg0.ChannelHint:UpdateHintDetails( f56_arg1.card._cardData )
			end
			if f53_arg0.TextChatPreviewEntries and f56_arg1.card._cardData and f56_arg1.card._cardData.textChatId then
				f53_arg0.TextChatPreviewEntries:SetRecentChats( ChatChannel[0x928D46AB4CABE62]( f56_arg1.card._cardData.controllerIndex, f56_arg1.card._cardData.textChatId, 2 ) )
			end
			f53_arg0( f53_arg0, f56_local0 )
		end )
		if CONDITIONS.IsSocialActionButtonsEnabled() then
			f53_arg0.SocialMenuLayout.ActionBar:addEventHandler( "gain_focus", function ( f55_arg0, f55_arg1 )
				f53_arg0( f53_arg0, false )
			end )
		end
		local f53_local0 = f53_arg0.SocialActivityGrid:GetCardGrid()
		f53_local0:addEventHandler( "player_grid_refreshed", function ( f54_arg0, f54_arg1 )
			local f54_local0 = f53_arg0.SocialActivityGrid:GetCardGrid()
			f54_local0 = f54_local0._childInFocus
			if f54_local0 and f54_local0._cardData.cardType == FRIENDS.ProfileCardType.CHANNEL_TYPE then
				f53_arg0.ChannelHint:UpdateHintDetails( f54_local0._cardData )
			end
		end )
	end
end

local f0_local20 = function ( f52_arg0 )
	if f52_arg0.down then
		local f52_local0
		if (f52_arg0.qualifier ~= "keyboard" or f52_arg0.bind ~= "menu_nav_up") and (f52_arg0.qualifier ~= "gamepad" or f52_arg0.button ~= "up") and (f52_arg0.qualifier ~= "dpad" or f52_arg0.button ~= "up") then
			f52_local0 = false
		else
			f52_local0 = true
		end
		return f52_local0
	else
		return false
	end
end

local f0_local21 = function ( f51_arg0 )
	if f51_arg0.down then
		local f51_local0
		if (f51_arg0.qualifier ~= "keyboard" or f51_arg0.bind ~= "menu_nav_down") and (f51_arg0.qualifier ~= "gamepad" or f51_arg0.button ~= "down") and (f51_arg0.qualifier ~= "dpad" or f51_arg0.button ~= "down") then
			f51_local0 = false
		else
			f51_local0 = true
		end
		return f51_local0
	else
		return false
	end
end

local f0_local22 = function ( f49_arg0 )
	f49_arg0:addEventHandler( "gamepad_button", function ( f50_arg0, f50_arg1 )
		if f49_arg0( f50_arg1 ) and f49_arg0( f49_arg0 ) then
			local f50_local0 = f49_arg0.PlayerPartyCard:isInFocus()
			local f50_local1 = f49_arg0.SocialActivityGrid:GetCardGrid()
			f50_local1 = f50_local1._childInFocus
			if not f50_local1 then
				f50_local1 = f49_arg0.SocialActivityGrid:GetCardGrid()
				f50_local1 = f50_local1:GetActiveElement()
			end
			if f50_local0 or f50_local1 then
				f49_arg0( f49_arg0 )
			end
		elseif f49_arg0( f50_arg1 ) and f49_arg0( f49_arg0 ) then
			local f50_local0 = f49_arg0.FriendsGrid:GetCardGrid()
			f50_local0 = f50_local0._targetPosition
			if f50_local0 ~= nil then
				if f50_local0.y ~= 0 then
					return 
				end
				local f50_local1 = f49_arg0.FriendsGrid:GetCardGrid()
				f50_local1 = f50_local1:GetElementAtPosition( 0, 0 )
				if f50_local1 == nil then
					return 
				end
				local f50_local2, f50_local3, f50_local4, f50_local5 = f50_local1:getLocalRect()
				if f50_local3 < -5 then
					return 
				end
				f49_arg0( f49_arg0 )
			else
				f49_arg0( f49_arg0 )
			end
			return true
		elseif f49_arg0( f50_arg1 ) and f49_arg0._isAnimatingCollapse then
			return true
		end
	end )
end

local f0_local23 = function ( f46_arg0 )
	local f46_local0 = function ( f48_arg0 )
		if not LUI.DeferredFence.IsFenceComplete( f48_arg0 ) then
			return 
		else
			
		end
	end
	
	f46_local0( LUI.DeferredFence.Attach( f46_arg0, f46_arg0._controllerIndex, "FRIENDS_LIST", LUI.DeferredFence.Criticality.LOW, LUI.DeferredFence.BackOutMethod.NONE, function ( f47_arg0, f47_arg1 )
		f46_arg0( f47_arg1.fenceState )
	end, true ) )
end

local f0_local24 = function ( f41_arg0 )
	local f41_local0 = function ( f45_arg0 )
		f45_arg0.SocialActivityGrid.navigation = {}
		f45_arg0.SocialActivityGrid.navigation.left = f45_arg0.PlayerPartyCard
		if CONDITIONS.IsSocialActionButtonsEnabled() and not f45_arg0._isExpanded then
			f45_arg0.SocialActivityGrid.navigation.up = f45_arg0.SocialMenuLayout.ActionBar
		end
		local f45_local0 = f45_arg0.FriendsGrid:GetCardGrid()
		if 0 < f45_local0:GetNumChildren() then
			f45_arg0.SocialActivityGrid.navigation.down = f45_arg0.FriendsGrid:GetCardGrid()
		end
		if CONDITIONS.IsSocialActionButtonsEnabled() and not f45_arg0._isExpanded then
			f45_arg0.SocialMenuLayout.ActionBar.navigation = {}
			f45_arg0.SocialMenuLayout.ActionBar.navigation.down = f45_arg0.PlayerPartyCard
		end
		f45_arg0.PlayerPartyCard.navigation = {}
		if CONDITIONS.IsSocialActionButtonsEnabled() and not f45_arg0._isExpanded then
			f45_arg0.PlayerPartyCard.navigation.up = f45_arg0.SocialMenuLayout.ActionBar
		end
		f45_local0 = f45_arg0.SocialActivityGrid:GetCardGrid()
		if 0 < f45_local0:GetNumChildren() then
			f45_arg0.PlayerPartyCard.navigation.right = f45_arg0.SocialActivityGrid:GetCardGrid()
		end
		f45_local0 = f45_arg0.FriendsGrid:GetCardGrid()
		if 0 < f45_local0:GetNumChildren() then
			f45_arg0.PlayerPartyCard.navigation.down = f45_arg0.FriendsGrid:GetCardGrid()
		end
		f45_arg0.FriendsGrid.navigation = {}
	end
	
	f41_local0( f41_arg0 )
	f41_local0 = f41_arg0.SocialActivityGrid:GetCardGrid()
	f41_local0:addEventHandler( "player_grid_refreshed", function ( f44_arg0, f44_arg1 )
		f41_arg0( f41_arg0 )
	end )
	local f41_local1 = f41_arg0.FriendsGrid:GetCardGrid()
	f41_local1:addEventHandler( "player_grid_refreshed", function ( f43_arg0, f43_arg1 )
		f41_arg0( f41_arg0 )
	end )
	f41_arg0:addEventHandler( "grid_view_changed", function ( f42_arg0, f42_arg1 )
		f41_arg0( f41_arg0 )
	end )
end

local f0_local25 = function ( f39_arg0 )
	f39_arg0.SocialMenuLayout:SetAutoUpdateFocusOnInputChange( false )
	f39_arg0:SubscribeToInputTypeModel( f39_arg0._controllerIndex, function ( f40_arg0, f40_arg1 )
		if f39_arg0( f40_arg1 ) then
			if LUI.IsLastInputMouseNavigation( f40_arg1._controllerIndex ) then
				ACTIONS.GainFocus( f40_arg1, f40_arg1.PlayerPartyCard.id )
			else
				ACTIONS.LoseFocus( f40_arg1, f40_arg1.PlayerPartyCard.id, f40_arg1._controllerIndex )
				f40_arg1.PlayerPartyCard:RemoveActive()
				f40_arg1.SocialActivityGrid:ClearFocus()
				f40_arg1.SocialActivityGrid:ClearActive()
			end
			return 
		elseif f40_arg1.PlayerPartyCard:IsActive() then
			ACTIONS.GainFocus( f40_arg1, f40_arg1.PlayerPartyCard.id )
			return 
		end
		local f40_local0 = f40_arg1.SocialActivityGrid:GetCardGrid()
		f40_local0 = f40_local0._activeElement
		if not f40_local0 then
			f40_local0 = f40_arg1.SocialActivityGrid:GetCardGrid()
			f40_local0 = f40_local0._childInFocus
		end
		if f40_local0 then
			f40_local0:processEvent( {
				name = "gain_focus",
				controller = f40_arg1._controllerIndex
			} )
			return 
		end
		local f40_local1 = f40_arg1.FriendsGrid:GetCardGrid()
		f40_local1 = f40_local1._activeElement
		if not f40_local1 then
			f40_local1 = f40_arg1.FriendsGrid:GetCardGrid()
			f40_local1 = f40_local1._childInFocus
		end
		if f40_local1 then
			f40_local1:processEvent( {
				name = "gain_focus",
				controller = f40_arg1._controllerIndex
			} )
			return 
		elseif f40_arg1.SocialMenuLayout.ActionBarContainer and f40_arg1.SocialMenuLayout.ActionBarContainer:isInFocus() then
			return 
		elseif f39_arg0( f40_arg1 ) and not f40_arg1.FriendsGrid.SearchTextBox:IsTextEditActive() then
			f39_arg0( f40_arg1 )
		end
		f40_arg1:ClearFocus()
		ACTIONS.GainFocus( f40_arg1, f40_arg1.PlayerPartyCard.id )
	end )
end

local f0_local26 = function ( f36_arg0 )
	local f36_local0 = function ( f38_arg0, f38_arg1 )
		if f38_arg1.down and CONDITIONS.IsMouseWheelEvent( f38_arg1 ) then
			if not f36_arg0._isExpanded and f38_arg1.button == "down" and f36_arg0( f36_arg0 ) then
				f36_arg0( f36_arg0 )
				return true
			elseif f36_arg0._isExpanded and f38_arg1.button == "up" and f36_arg0( f36_arg0 ) then
				if f38_arg0 == f36_arg0.GlobalMouseArea or f36_arg0.GlobalMouseArea:IsPositionInside( f38_arg1.mouseX, f38_arg1.mouseY ) then
					f36_arg0( f36_arg0 )
				else
					local f38_local0 = f36_arg0.FriendsGrid:GetCardGrid()
					local f38_local0, f38_local1 = f38_local0:GetRowBoundaries()
					if f38_local0 == nil then
						f38_local0 = 0
					end
					if f38_local0 ~= 0 then
						return 
					end
					local f38_local2 = f36_arg0.FriendsGrid:GetCardGrid()
					f38_local2 = f38_local2:GetElementAtPosition( 0, 0 )
					if f38_local2 == nil then
						return 
					end
					local f38_local3, f38_local4, f38_local5, f38_local6 = f38_local2:getLocalRect()
					if f38_local4 ~= 0 then
						return 
					end
					f36_arg0( f36_arg0 )
				end
				return true
			end
		end
	end
	
	f36_arg0.PlayerPartyCard:addEventHandler( "gamepad_button", f36_local0 )
	local f36_local1 = f36_arg0.FriendsGrid:GetCardGrid()
	f36_local1:addEventHandler( "gamepad_button", f36_local0 )
	f36_local1 = f36_arg0.SocialActivityGrid:GetCardGrid()
	f36_local1:addEventHandler( "gamepad_button", f36_local0 )
	f36_arg0.GlobalMouseArea:addEventHandler( "gamepad_button", f36_local0 )
	f36_arg0.BottomExpandClickZone:addEventHandler( "gamepad_button", f36_local0 )
	f36_arg0.BottomExpandClickZone:addEventHandler( "button_action", function ( f37_arg0, f37_arg1 )
		if not f36_arg0._isExpanded and f36_arg0( f36_arg0 ) then
			f36_arg0( f36_arg0 )
			return true
		else
			
		end
	end )
end

local f0_local27 = function ( f31_arg0 )
	f31_arg0.getAllFocusedChildren = function ( f34_arg0, f34_arg1 )
		local f34_local0
		if not f34_arg1 then
			f34_local0 = f34_arg1
		else
			f34_local0 = {}
		end
		local f34_local1 = function ( f35_arg0 )
			return {
				hasFocus = f35_arg0._childInFocus ~= nil,
				targetRow = f35_arg0:GetTargetRow(),
				targetColumn = f35_arg0:GetTargetColumn(),
				targetPosition = f35_arg0._targetPosition and LUI.ShallowCopy( f35_arg0._targetPosition ) or nil
			}
		end
		
		f34_arg0.saveData = {
			isExpanded = f34_arg0._isExpanded,
			playerPartyCardHasFocus = f34_arg0.PlayerPartyCard:isInFocus(),
			friendsGridData = f34_local1( f34_arg0.FriendsGrid:GetCardGrid() ),
			socialActivityGridData = f34_local1( f34_arg0.SocialActivityGrid:GetCardGrid() )
		}
		table.insert( f34_local0, f34_arg0 )
		if f34_arg0._isExpanded then
			f34_arg0.FriendsGrid.PlayersGrid:SetShouldFocus( true )
		end
		return LUI.UIElement.getAllFocusedChildren( f34_arg0, f34_local0 )
	end
	
	f31_arg0.restoreFocus = function ( f32_arg0, f32_arg1 )
		local f32_local0 = function ( f33_arg0, f33_arg1, f33_arg2 )
			f33_arg0:SetTargetRow( f33_arg1.targetRow, false, true )
			f33_arg0:SetTargetColumn( f33_arg1.targetColumn, false, true )
			local f33_local0 = f33_arg0:GetNumChildren() or 0
			if f33_arg1.hasFocus and 0 < f33_local0 then
				f33_arg0:processEvent( {
					name = "gain_focus",
					controller = f33_arg2
				} )
			end
			if f33_arg1.targetPosition and f33_arg1.hasFocus then
				if 0 < f33_local0 then
					f33_arg0:SetFocusedPosition( f33_arg1.targetPosition, true )
				else
					f33_arg0:SetPosition( f33_arg1.targetPosition, true )
				end
			end
		end
		
		if f32_arg0.id == f32_arg1.id then
			if f32_arg1.data.isExpanded and f31_arg0( f32_arg0 ) then
				f31_arg0( f32_arg0, true )
			end
			f32_local0( f32_arg0.FriendsGrid:GetCardGrid(), f32_arg1.data.friendsGridData, f32_arg0._controllerIndex )
			f32_local0( f32_arg0.SocialActivityGrid:GetCardGrid(), f32_arg1.data.socialActivityGridData, f32_arg0._controllerIndex )
		end
		if f32_arg1.id == f32_arg0.id or f32_arg1.id == f32_arg0.FriendsGrid.id or f32_arg1.id == f32_arg0.SocialActivityGrid.id then
			return true
		else
			return f32_arg0:dispatchEventToChildren( f32_arg1 )
		end
	end
	
	f31_arg0:registerEventHandler( "restore_focus", f31_arg0.restoreFocus )
end

local f0_local28 = function ( f24_arg0 )
	if CONDITIONS.IsSocialActionButtonsEnabled() and f24_arg0.SocialMenuLayout.ActionBar and f24_arg0.SocialMenuLayout.ActionBar:getFirstChild() then
		
	else
		
	end
	f24_arg0.PlayerPartyCard:addEventHandler( "gain_focus", function ( f29_arg0, f29_arg1 )
		f24_arg0.FriendsGrid:ClearFocus()
		f24_arg0.FriendsGrid:ClearActive()
		f24_arg0.SocialActivityGrid:ClearFocus()
		f24_arg0.SocialActivityGrid:ClearActive()
		if CONDITIONS.IsSocialActionButtonsEnabled() and f24_arg0.SocialMenuLayout.ActionBar then
			ACTIONS.LoseFocus( f24_arg0.SocialMenuLayout, f24_arg0.SocialMenuLayout.ActionBar.id )
		end
	end )
	local f24_local0 = f24_arg0.SocialActivityGrid:GetCardGrid()
	f24_local0:addEventHandler( "gain_focus", function ( f28_arg0, f28_arg1 )
		f24_arg0.FriendsGrid:ClearFocus()
		f24_arg0.FriendsGrid:ClearActive()
		ACTIONS.LoseFocus( f24_arg0, f24_arg0.PlayerPartyCard.id, f24_arg0._controllerIndex )
		f24_arg0.PlayerPartyCard:RemoveActive()
		if CONDITIONS.IsSocialActionButtonsEnabled() and f24_arg0.SocialMenuLayout.ActionBar then
			ACTIONS.LoseFocus( f24_arg0.SocialMenuLayout, f24_arg0.SocialMenuLayout.ActionBar.id )
		end
	end )
	f24_local0 = f24_arg0.SocialActivityGrid:GetCardGrid()
	f24_local0:addEventHandler( "request_active", function ( f27_arg0, f27_arg1 )
		if LUI.IsLastInputMouseNavigation( f24_arg0._controllerIndex ) and f27_arg1.target ~= nil then
			f24_arg0.FriendsGrid:ClearFocus()
			f24_arg0.FriendsGrid:ClearActive()
			ACTIONS.LoseFocus( f24_arg0, f24_arg0.PlayerPartyCard.id, f24_arg0._controllerIndex )
			f24_arg0.PlayerPartyCard:RemoveActive()
			if CONDITIONS.IsSocialActionButtonsEnabled() and f24_arg0.SocialMenuLayout.ActionBar then
				ACTIONS.LoseFocus( f24_arg0.SocialMenuLayout, f24_arg0.SocialMenuLayout.ActionBar.id )
			end
		end
	end )
	f24_local0 = f24_arg0.FriendsGrid:GetCardGrid()
	f24_local0:addEventHandler( "gain_focus", function ( f26_arg0, f26_arg1 )
		assert( f24_arg0._isExpanded, "The friends grid should not be able to gain focus while not in the expanded state" )
		f24_arg0.SocialActivityGrid:ClearFocus()
		f24_arg0.SocialActivityGrid:ClearActive()
		ACTIONS.LoseFocus( f24_arg0, f24_arg0.PlayerPartyCard.id, f24_arg0._controllerIndex )
		f24_arg0.PlayerPartyCard:RemoveActive()
		if CONDITIONS.IsSocialActionButtonsEnabled() and f24_arg0.SocialMenuLayout.ActionBar then
			ACTIONS.LoseFocus( f24_arg0.SocialMenuLayout, f24_arg0.SocialMenuLayout.ActionBar.id )
		end
	end )
	f24_local0 = f24_arg0.FriendsGrid:GetCardGrid()
	f24_local0:addEventHandler( "request_active", function ( f25_arg0, f25_arg1 )
		local f25_local0 = assert
		local f25_local1
		if f25_arg1.target ~= nil then
			f25_local1 = f24_arg0._isExpanded
		else
			f25_local1 = true
		end
		f25_local0( f25_local1 )
		if LUI.IsLastInputMouseNavigation( f24_arg0._controllerIndex ) and f25_arg1.target ~= nil then
			f24_arg0.SocialActivityGrid:ClearFocus()
			f24_arg0.SocialActivityGrid:ClearActive()
			ACTIONS.LoseFocus( f24_arg0, f24_arg0.PlayerPartyCard.id, f24_arg0._controllerIndex )
			f24_arg0.PlayerPartyCard:RemoveActive()
			if not CONDITIONS.InGame() and f24_arg0.SocialMenuLayout.ActionBar then
				ACTIONS.LoseFocus( f24_arg0.SocialMenuLayout, f24_arg0.SocialMenuLayout.ActionBar.id )
			end
		end
	end )
end

local f0_local29 = function ( f20_arg0 )
	local f20_local0 = function ()
		if f20_arg0( f20_arg0 ) then
			return 
		end
		local f23_local0 = f20_arg0.PlayerPartyCard:isInFocus()
		if not f23_local0 then
			f23_local0 = f20_arg0.PlayerPartyCard:IsActive()
		end
		if f23_local0 then
			return 
		end
		local f23_local1 = f20_arg0.SocialActivityGrid:GetCardGrid()
		f23_local1 = f23_local1:GetFocusPositionIndex()
		if f23_local1 then
			local f23_local2 = f20_arg0.SocialActivityGrid:GetCardGrid()
			f23_local2 = f23_local2:GetPositionForIndex( f23_local1 )
			local f23_local3 = f20_arg0.SocialActivityGrid:GetCardGrid()
			if f23_local3:GetElementAtPosition( f23_local2.x, f23_local2.y ) then
				return 
			end
		end
		local f23_local2 = f20_arg0.SocialActivityGrid:GetCardGrid()
		f23_local2 = f23_local2:GetActiveElement()
		if f23_local2 then
			local f23_local3 = f20_arg0.SocialActivityGrid:GetCardGrid()
			if f23_local3:GetChildPosition( f23_local2 ) ~= nil then
				return 
			end
		end
		local f23_local3 = f20_arg0.FriendsGrid:GetCardGrid()
		f23_local3 = f23_local3:GetFocusPositionIndex()
		if f23_local3 then
			local f23_local4 = f20_arg0.FriendsGrid:GetCardGrid()
			f23_local4 = f23_local4:GetPositionForIndex( f23_local3 )
			local f23_local5 = f20_arg0.FriendsGrid:GetCardGrid()
			if f23_local5:IsPositionInDataSet( f23_local4.x, f23_local4.y ) then
				return 
			end
		end
		local f23_local4 = f20_arg0.FriendsGrid:GetCardGrid()
		f23_local4 = f23_local4:GetActiveElement()
		if f23_local4 then
			local f23_local5 = f20_arg0.FriendsGrid:GetCardGrid()
			if f23_local5:GetChildPosition( f23_local4 ) ~= nil then
				return 
			end
		end
		if f20_arg0.FriendsGrid.SearchTextBox:IsTextEditActive() then
			return 
		elseif f20_arg0._isExpanded then
			local f23_local5 = f20_arg0.FriendsGrid:GetCardGrid()
			if 0 < f23_local5:GetNumChildren() then
				f20_arg0.FriendsGrid:GainInitialFocus()
			else
				f23_local5 = f20_arg0.SocialActivityGrid:GetCardGrid()
				if 0 < f23_local5:GetNumChildren() then
					f20_arg0.SocialActivityGrid:GainInitialFocus()
				else
					ACTIONS.GainFocus( f20_arg0, f20_arg0.PlayerPartyCard.id )
				end
			end
		else
			ACTIONS.GainFocus( f20_arg0, f20_arg0.PlayerPartyCard.id )
		end
	end
	
	local f20_local1 = f20_arg0.FriendsGrid:GetCardGrid()
	f20_local1:addEventHandler( "player_grid_refreshed", function ( f22_arg0, f22_arg1 )
		local f22_local0 = f20_arg0.FriendsGrid:GetCardGrid()
		if f22_local0:GetNumChildren() == 0 and not f20_arg0.FriendsGrid.SearchTextBox:IsTextEditActive() then
			f20_arg0.FriendsGrid:ClearActive()
			f20_arg0.FriendsGrid:ClearFocus()
		end
		f20_arg0()
	end )
	local f20_local2 = f20_arg0.SocialActivityGrid:GetCardGrid()
	f20_local2:addEventHandler( "player_grid_refreshed", function ( f21_arg0, f21_arg1 )
		local f21_local0 = f20_arg0.SocialActivityGrid:GetCardGrid()
		if f21_local0:GetNumChildren() == 0 then
			f20_arg0.SocialActivityGrid:ClearActive()
			f20_arg0.SocialActivityGrid:ClearFocus()
			f21_local0 = 0xAFD36CFDEAE110D
			local f21_local1 = f20_arg0.SocialActivityGrid:GetCardGrid()
			if f21_local1._friendsData then
				f21_local1 = f20_arg0.SocialActivityGrid:GetCardGrid()
				if f21_local1._friendsData.isFetching then
					f21_local0 = 0x727513B0ACB918A
				end
			end
			f20_arg0.SocialActivityGrid:SetupEmptyGrid( f21_local0, true )
		end
		f21_local0 = f20_arg0.SocialActivityGrid:GetCardGrid()
		local f21_local1 = f21_local0:GetActiveElement()
		if not f21_local1 then
			f21_local1 = f21_local0._childInFocus
		end
		if f21_local1 then
			local f21_local2, f21_local3 = f21_local0:GetChildPosition( f21_local1 )
			if f21_local2 == nil or not f21_local0:IsPositionInDataSet( f21_local2, f21_local3 ) then
				f21_local0:SetFocusedPosition( f21_local0:GetPositionForIndex( f21_local0:GetNumChildren() - 1 ), false, true )
			end
		end
		f20_arg0()
	end )
end

local f0_local30 = function ( f19_arg0 )
	if CONDITIONS.InGame() then
		ACTIONS.AnimateSequence( f19_arg0, "InGame" )
	end
end

local f0_local31 = function ( f18_arg0 )
	if f18_arg0.SocialMenuLayout.ActionBarContainer then
		local f18_local0 = f18_arg0.SocialMenuLayout.ActionBarContainer:GetAnchorsAndPosition()
		f18_arg0.SocialMenuLayout.ActionBarContainer:SetTop( f18_local0.top + 35 * _1080p )
	end
end

local f0_local32 = function ( f16_arg0 )
	if CONDITIONS.IsDemoBuildOrDevBuildOrAreDevFeaturesEnabled() then
		f16_arg0:CreateEventTimer( "updateLocalPresenceDebugTimer", 1000, {
			immediate = true,
			callbackFunc = function ( f17_arg0, f17_arg1 )
				if Dvar[0x9E5BE3B4BBA4E0E]( 0x5D5B542DBF4860E ) then
					if not f16_arg0.SocialLocalPresenceDebug then
						local SocialLocalPresenceDebug = MenuBuilder.BuildRegisteredType( "SocialLocalPresenceDebug", {
							controllerIndex = controllerIndex
						} )
						SocialLocalPresenceDebug.id = "SocialLocalPresenceDebug"
						SocialLocalPresenceDebug:setPriority( 100 )
						SocialLocalPresenceDebug:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 597, _1080p * 1197, _1080p * 145, _1080p * 845 )
						f16_arg0:addElement( SocialLocalPresenceDebug )
						f16_arg0.SocialLocalPresenceDebug = SocialLocalPresenceDebug
						
					end
				elseif f16_arg0.SocialLocalPresenceDebug then
					f16_arg0.SocialLocalPresenceDebug:closeTree()
					f16_arg0.SocialLocalPresenceDebug = nil
				end
			end
		} )
	end
end

local f0_local33 = function ( f15_arg0, f15_arg1, f15_arg2 )
	assert( f15_arg0.SocialMenuLayout.SocialCardsGrid == nil )
	f15_arg0.SocialMenuLayout.SocialCardsGrid = f15_arg0.SocialActivityGrid
	f15_arg0.UpdateDetails = f0_local0
	f15_arg0.ClearFocus = f0_local0
	f15_arg0.GetPlayerGrid = f0_local0
	f15_arg0._platform = CoD.GetActiveSocialFriendsPlatform()
	f15_arg0._controllerIndex = f15_arg1
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0, f15_arg1 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f0_local0( f15_arg0 )
	f15_arg0:ClearFocus()
	ACTIONS.GainFocus( f15_arg0, f15_arg0.PlayerPartyCard.id, f15_arg0._controllerIndex )
end

States = {
	[0xAD14C6E7156B923] = function ( f3_arg0, f3_arg1 )
		local f3_local0 = function ( f14_arg0, f14_arg1 )
			
		end
		
		f3_arg0.SocialMenuLayout:RegisterAnimationSequence( "Expand", {
			nil,
			nil,
			0,
			0,
			nil,
			0,
			0,
			nil,
			1,
			0,
			nil,
			nil,
			200,
			nil,
			nil,
			200,
			nil,
			0,
			200,
			[1] = TWEEN_PROPERTY.Top,
			[4] = TWEEN_PROPERTY.Bottom,
			[7] = TWEEN_PROPERTY.Alpha,
			[10] = TWEEN_PROPERTY.Top,
			[11] = _1080p * -529,
			[13] = TWEEN_PROPERTY.Bottom,
			[14] = _1080p * -529,
			[16] = TWEEN_PROPERTY.Alpha
		} )
		if f3_arg0.ViewProfilePrompt then
			f3_arg0.ViewProfilePrompt:RegisterAnimationSequence( "Expand", {
				nil,
				nil,
				nil,
				0,
				nil,
				nil,
				0,
				nil,
				nil,
				200,
				nil,
				nil,
				200,
				[1] = TWEEN_PROPERTY.Top,
				[2] = _1080p * 138,
				[4] = TWEEN_PROPERTY.Bottom,
				[5] = _1080p * 170,
				[7] = TWEEN_PROPERTY.Top,
				[8] = _1080p * -431,
				[10] = TWEEN_PROPERTY.Bottom,
				[11] = _1080p * -399
			} )
		end
		f3_arg0.PlayerPartyCard:RegisterAnimationSequence( "Expand", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			nil,
			nil,
			200,
			nil,
			nil,
			200,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * 704,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 908,
			[7] = TWEEN_PROPERTY.Top,
			[8] = _1080p * 175,
			[10] = TWEEN_PROPERTY.Bottom,
			[11] = _1080p * 379
		} )
		f3_arg0.PlayerPartyLabel:RegisterAnimationSequence( "Expand", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			nil,
			nil,
			200,
			nil,
			nil,
			200,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * 660,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 684,
			[7] = TWEEN_PROPERTY.Top,
			[8] = _1080p * 131,
			[10] = TWEEN_PROPERTY.Bottom,
			[11] = _1080p * 155
		} )
		f3_arg0.SocialActivityGrid:RegisterAnimationSequence( "Expand", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			nil,
			nil,
			200,
			nil,
			nil,
			200,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * -40,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 1040,
			[7] = TWEEN_PROPERTY.Top,
			[8] = _1080p * -569,
			[10] = TWEEN_PROPERTY.Bottom,
			[11] = _1080p * 511
		} )
		f3_arg0.FriendsGrid:RegisterAnimationSequence( "Expand", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			nil,
			nil,
			200,
			nil,
			nil,
			200,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * 270,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 1649,
			[7] = TWEEN_PROPERTY.Top,
			[8] = _1080p * -259,
			[10] = TWEEN_PROPERTY.Bottom,
			[11] = _1080p * 1120
		} )
		local f3_local1 = function ( f13_arg0, f13_arg1 )
			f13_arg0.SocialMenuLayout:AnimateSequence( "Expand" )
			if f13_arg0.ViewProfilePrompt then
				f13_arg0.ViewProfilePrompt:AnimateSequence( "Expand" )
			end
			f13_arg0.PlayerPartyCard:AnimateSequence( "Expand" )
			f13_arg0.PlayerPartyLabel:AnimateSequence( "Expand" )
			f13_arg0.SocialActivityGrid:AnimateSequence( "Expand" )
			f13_arg0.FriendsGrid:AnimateSequence( "Expand" )
		end
		
		f3_arg0.SocialMenuLayout:RegisterAnimationSequence( "ExpandInstant", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			nil,
			0,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * -529,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * -529,
			[7] = TWEEN_PROPERTY.Alpha
		} )
		if f3_arg0.ViewProfilePrompt then
			f3_arg0.ViewProfilePrompt:RegisterAnimationSequence( "ExpandInstant", {
				nil,
				nil,
				nil,
				0,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Top,
				[2] = _1080p * -431,
				[4] = TWEEN_PROPERTY.Bottom,
				[5] = _1080p * -399
			} )
		end
		f3_arg0.PlayerPartyCard:RegisterAnimationSequence( "ExpandInstant", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * 175,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 379
		} )
		f3_arg0.PlayerPartyLabel:RegisterAnimationSequence( "ExpandInstant", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * 131,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 155
		} )
		f3_arg0.SocialActivityGrid:RegisterAnimationSequence( "ExpandInstant", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * -569,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 511
		} )
		f3_arg0.FriendsGrid:RegisterAnimationSequence( "ExpandInstant", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * -259,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 1120
		} )
		local f3_local2 = function ( f12_arg0, f12_arg1 )
			f12_arg0.SocialMenuLayout:AnimateSequence( "ExpandInstant" )
			if f12_arg0.ViewProfilePrompt then
				f12_arg0.ViewProfilePrompt:AnimateSequence( "ExpandInstant" )
			end
			f12_arg0.PlayerPartyCard:AnimateSequence( "ExpandInstant" )
			f12_arg0.PlayerPartyLabel:AnimateSequence( "ExpandInstant" )
			f12_arg0.SocialActivityGrid:AnimateSequence( "ExpandInstant" )
			f12_arg0.FriendsGrid:AnimateSequence( "ExpandInstant" )
		end
		
		f3_arg0.SocialMenuLayout:RegisterAnimationSequence( "Collapse", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			nil,
			0,
			0,
			nil,
			0,
			200,
			nil,
			0,
			200,
			nil,
			1,
			200,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * -529,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * -529,
			[7] = TWEEN_PROPERTY.Alpha,
			[10] = TWEEN_PROPERTY.Top,
			[13] = TWEEN_PROPERTY.Bottom,
			[16] = TWEEN_PROPERTY.Alpha
		} )
		if f3_arg0.ViewProfilePrompt then
			f3_arg0.ViewProfilePrompt:RegisterAnimationSequence( "Collapse", {
				nil,
				nil,
				nil,
				0,
				nil,
				nil,
				0,
				nil,
				nil,
				200,
				nil,
				nil,
				200,
				[1] = TWEEN_PROPERTY.Top,
				[2] = _1080p * -431,
				[4] = TWEEN_PROPERTY.Bottom,
				[5] = _1080p * -399,
				[7] = TWEEN_PROPERTY.Top,
				[8] = _1080p * 138,
				[10] = TWEEN_PROPERTY.Bottom,
				[11] = _1080p * 170
			} )
		end
		f3_arg0.PlayerPartyCard:RegisterAnimationSequence( "Collapse", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			nil,
			nil,
			200,
			nil,
			nil,
			200,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * 175,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 379,
			[7] = TWEEN_PROPERTY.Top,
			[8] = _1080p * 704,
			[10] = TWEEN_PROPERTY.Bottom,
			[11] = _1080p * 908
		} )
		f3_arg0.PlayerPartyLabel:RegisterAnimationSequence( "Collapse", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			nil,
			nil,
			200,
			nil,
			nil,
			200,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * 131,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 155,
			[7] = TWEEN_PROPERTY.Top,
			[8] = _1080p * 660,
			[10] = TWEEN_PROPERTY.Bottom,
			[11] = _1080p * 684
		} )
		f3_arg0.SocialActivityGrid:RegisterAnimationSequence( "Collapse", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			nil,
			nil,
			200,
			nil,
			nil,
			200,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * -569,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 511,
			[7] = TWEEN_PROPERTY.Top,
			[8] = _1080p * -40,
			[10] = TWEEN_PROPERTY.Bottom,
			[11] = _1080p * 1040
		} )
		f3_arg0.FriendsGrid:RegisterAnimationSequence( "Collapse", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			nil,
			nil,
			200,
			nil,
			nil,
			200,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * -259,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 1120,
			[7] = TWEEN_PROPERTY.Top,
			[8] = _1080p * 270,
			[10] = TWEEN_PROPERTY.Bottom,
			[11] = _1080p * 1649
		} )
		local f3_local3 = function ( f11_arg0, f11_arg1 )
			f11_arg0.SocialMenuLayout:AnimateSequence( "Collapse" )
			if f11_arg0.ViewProfilePrompt then
				f11_arg0.ViewProfilePrompt:AnimateSequence( "Collapse" )
			end
			f11_arg0.PlayerPartyCard:AnimateSequence( "Collapse" )
			f11_arg0.PlayerPartyLabel:AnimateSequence( "Collapse" )
			f11_arg0.SocialActivityGrid:AnimateSequence( "Collapse" )
			f11_arg0.FriendsGrid:AnimateSequence( "Collapse" )
		end
		
		f3_arg0.GlobalMouseArea:RegisterAnimationSequence( "InGame", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[2] = _1080p * 606,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 1611
		} )
		local f3_local4 = function ( f10_arg0, f10_arg1 )
			f10_arg0.GlobalMouseArea:AnimateSequence( "InGame" )
		end
		
		local f3_local5 = function ( f9_arg0, f9_arg1 )
			
		end
		
		f3_arg0.GlobalMouseArea:RegisterAnimationSequence( "ExpandMouseInFrontEnd", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			200,
			[1] = TWEEN_PROPERTY.Bottom,
			[2] = _1080p * 1080,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 485
		} )
		local f3_local6 = function ( f8_arg0, f8_arg1 )
			f8_arg0.GlobalMouseArea:AnimateSequence( "ExpandMouseInFrontEnd" )
		end
		
		local f3_local7 = function ( f7_arg0, f7_arg1 )
			
		end
		
		f3_arg0.GlobalMouseArea:RegisterAnimationSequence( "ExpandMouseInstantInFrontend", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Bottom,
			[2] = _1080p * 485
		} )
		local f3_local8 = function ( f6_arg0, f6_arg1 )
			f6_arg0.GlobalMouseArea:AnimateSequence( "ExpandMouseInstantInFrontend" )
		end
		
		f3_arg0.GlobalMouseArea:RegisterAnimationSequence( "CollapseMouseInFrontEnd", {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			200,
			[1] = TWEEN_PROPERTY.Bottom,
			[2] = _1080p * 485,
			[4] = TWEEN_PROPERTY.Bottom,
			[5] = _1080p * 1080
		} )
		f3_arg0._sequences = {
			DefaultSequence = f3_local0,
			Expand = f3_local1,
			ExpandInstant = f3_local2,
			Collapse = f3_local3,
			InGame = f3_local4,
			ExpandMouseInGame = f3_local5,
			ExpandMouseInFrontEnd = f3_local6,
			ExpandMouseInstantInGame = f3_local7,
			ExpandMouseInstantInFrontend = f3_local8,
			CollapseMouseInFrontEnd = function ( f5_arg0, f5_arg1 )
				f5_arg0.GlobalMouseArea:AnimateSequence( "CollapseMouseInFrontEnd" )
			end,
			CollapseMouseInGame = function ( f4_arg0, f4_arg1 )
				
			end
		}
		f3_arg0._sequenceLengths = {
			Expand = 200,
			ExpandMouseInstantInGame = 0,
			CollapseMouseInFrontEnd = 200,
			ExpandInstant = 0,
			ExpandMouseInGame = 0,
			Collapse = 200,
			ExpandMouseInstantInFrontend = 0,
			InGame = 0,
			ExpandMouseInFrontEnd = 200,
			CollapseMouseInGame = 0,
			DefaultSequence = 0
		}
	end
}
function SocialMenuHubAndFriends( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "SocialMenuHubAndFriends"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local WorldBlur = nil
	
	WorldBlur = MenuBuilder.BuildRegisteredType( "WorldBlur", {
		worldBlur = 0,
		controllerIndex = f1_local1
	} )
	WorldBlur.id = "WorldBlur"
	self:addElement( WorldBlur )
	self.WorldBlur = WorldBlur
	
	local GlobalMouseArea = nil
	
	GlobalMouseArea = MenuBuilder.BuildRegisteredType( "MouseButtonArea", {
		controllerIndex = f1_local1
	} )
	GlobalMouseArea.id = "GlobalMouseArea"
	GlobalMouseArea:SetVerticalPivot( LUI.VerticalPivot.Top )
	GlobalMouseArea:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 75, _1080p * 1080 )
	self:addElement( GlobalMouseArea )
	self.GlobalMouseArea = GlobalMouseArea
	
	local SocialMenuLayout = nil
	
	SocialMenuLayout = MenuBuilder.BuildRegisteredType( "SocialMenuLayoutNew", {
		controllerIndex = f1_local1,
		SocialCardsGridConfigOverride = {
			maxVisibleColumns = 3,
			maxVisibleRows = SubtractForSplitscreen( 1, 6 )
		}
	} )
	SocialMenuLayout.id = "SocialMenuLayout"
	SocialMenuLayout:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	self:addElement( SocialMenuLayout )
	self.SocialMenuLayout = SocialMenuLayout
	
	local f1_local6 = nil
	if not CONDITIONS.InGame() then
		f1_local6 = MenuBuilder.BuildRegisteredType( "MenuButtonPrompt", {
			controllerIndex = f1_local1
		} )
		f1_local6.id = "ViewProfilePrompt"
		f1_local6:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1146, _1080p * 1346, _1080p * 138, _1080p * 170 )
		self:addElement( f1_local6 )
		self.ViewProfilePrompt = f1_local6
	end
	local PlayerPartyCard = nil
	
	PlayerPartyCard = MenuBuilder.BuildRegisteredType( "SocialProfileCard", {
		controllerIndex = f1_local1
	} )
	PlayerPartyCard.id = "PlayerPartyCard"
	PlayerPartyCard:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 88, _1080p * 510, _1080p * 704, _1080p * 908 )
	self:addElement( PlayerPartyCard )
	self.PlayerPartyCard = PlayerPartyCard
	
	local PlayerPartyLabel = nil
	
	PlayerPartyLabel = LUI.UIStyledText.new()
	PlayerPartyLabel.id = "PlayerPartyLabel"
	PlayerPartyLabel:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	PlayerPartyLabel:setText( Engine[0xED84C33EC5F01EA]( 0x23855B5F86BA7BC ), 0 )
	PlayerPartyLabel:setCaseStyle( LUI.CaseStyle.Uppercase )
	PlayerPartyLabel:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	PlayerPartyLabel:SetFontSize( 20 * _PT )
	PlayerPartyLabel:SetMinFontSize( 20 * _PT )
	PlayerPartyLabel:SetWordWrap( false )
	PlayerPartyLabel:SetAlignment( LUI.Alignment.Left )
	PlayerPartyLabel:SetBackingType( 2 )
	PlayerPartyLabel._backingElement = LUI.UIImage.new()
	PlayerPartyLabel._backingElement:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool05, 0 )
	PlayerPartyLabel._backingElement:setImage( RegisterMaterial( 0xD03F9F9FB719FC7 ), 0 )
	PlayerPartyLabel._backingElement:Setup9SliceImage( _1080p * 4, _1080p * 4, 0.1666667, 0.25 )
	PlayerPartyLabel._backingElement:SetAnchors( 0, 0, 0, 0 )
	PlayerPartyLabel:SetRenderChildrenFirst( true )
	PlayerPartyLabel:addElement( PlayerPartyLabel._backingElement )
	PlayerPartyLabel:SetBackingElementFitText( 1, _1080p * 263 )
	PlayerPartyLabel:SetBackingIgnoreParentColor( true )
	PlayerPartyLabel:SetBackingLeftPadding( 10 )
	PlayerPartyLabel:SetBackingRightPadding( 10 )
	PlayerPartyLabel:SetBackingTopPadding( 5 )
	PlayerPartyLabel:SetBackingBottomPadding( 5 )
	PlayerPartyLabel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 98, _1080p * 361, _1080p * 660, _1080p * 684 )
	self:addElement( PlayerPartyLabel )
	self.PlayerPartyLabel = PlayerPartyLabel
	
	local SocialActivityGrid = nil
	
	SocialActivityGrid = MenuBuilder.BuildRegisteredType( "SocialCardsGrid", {
		controllerIndex = f1_local1,
		PlayersGridConfigOverride = {
			wrapY = false,
			maxVisibleColumns = 3,
			maxVisibleRows = SubtractForSplitscreen( 1, 6 )
		},
		EmptyPlayerGridConfigOverride = {
			maxVisibleColumns = 3
		}
	} )
	SocialActivityGrid.id = "SocialActivityGrid"
	SocialActivityGrid:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 438, _1080p * 2358, _1080p * -40, _1080p * 1040 )
	self:addElement( SocialActivityGrid )
	self.SocialActivityGrid = SocialActivityGrid
	
	local FriendsGrid = nil
	
	FriendsGrid = MenuBuilder.BuildRegisteredType( "SocialCardsGrid", {
		controllerIndex = f1_local1,
		PlayersGridConfigOverride = {
			maxVisibleColumns = 3,
			wrapY = false,
			buildChild = function ()
				return MenuBuilder.BuildRegisteredType( "SocialProfileCardSmallFriend", {
					controllerIndex = menu
				} )
			end,
			columnWidth = _1080p * 556,
			rowHeight = _1080p * 94,
			maxVisibleRows = SubtractForSplitscreen( 6, 6 ),
			spacingX = _1080p * 34,
			spacingY = _1080p * 14
		}
	} )
	FriendsGrid.id = "FriendsGrid"
	FriendsGrid:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, _1080p * 270, _1080p * 1649 )
	self:addElement( FriendsGrid )
	self.FriendsGrid = FriendsGrid
	
	local BottomExpandClickZone = nil
	
	BottomExpandClickZone = MenuBuilder.BuildRegisteredType( "MouseButtonArea", {
		controllerIndex = f1_local1
	} )
	BottomExpandClickZone.id = "BottomExpandClickZone"
	BottomExpandClickZone:SetVerticalPivot( LUI.VerticalPivot.Bottom )
	BottomExpandClickZone:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, _1080p * 1000, _1080p * 1600 )
	self:addElement( BottomExpandClickZone )
	self.BottomExpandClickZone = BottomExpandClickZone
	
	local f1_local12 = nil
	if not CONDITIONS.InGame() then
		f1_local12 = MenuBuilder.BuildRegisteredType( "SocialChannelFeatureHint", {
			controllerIndex = f1_local1
		} )
		f1_local12.id = "ChannelHint"
		f1_local12:SetVisible( false )
		f1_local12:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1192, _1080p * 1824, _1080p * 448, _1080p * 624 )
		self:addElement( f1_local12 )
		self.ChannelHint = f1_local12
	end
	local TextChatPreviewEntries = nil
	
	TextChatPreviewEntries = MenuBuilder.BuildRegisteredType( "SocialChannelTextChatPreviewEntries", {
		controllerIndex = f1_local1
	} )
	TextChatPreviewEntries.id = "TextChatPreviewEntries"
	TextChatPreviewEntries:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 88, _1080p * 638, _1080p * 236, _1080p * 536 )
	self:addElement( TextChatPreviewEntries )
	self.TextChatPreviewEntries = TextChatPreviewEntries
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "SocialMenuHubAndFriends", SocialMenuHubAndFriends )
LockTable( _M )
