-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.frontend.mp.playmenu.menutab" )
require( "ui.generated.widgets.frontend.menubuttonprompt" )
local f0_local0 = 0
local f0_local1 = 1
local f0_local2 = 2
local f0_local3 = function ( f12_arg0 )
	if f12_arg0._isDailyChallenges then
		if CONDITIONS[0x4A020C7B018B3BA]() then
			return f0_local0
		elseif CONDITIONS.IsOutbreakGametype() then
			return f0_local0
		else
			return f0_local0
		end
	else
		
	end
end

local f0_local4 = function ( f8_arg0, f8_arg1, f8_arg2, f8_arg3 )
	local f8_local0 = #f8_arg3
	if f8_arg0._isWeeklyChallenges then
		f8_local0 = f8_arg0._currentWeek
	end
	f8_arg0.Tabs:SetPostSetupFunc( function ( f11_arg0, f11_arg1 )
		if f11_arg0.postTabSetupFunc then
			f11_arg0:postTabSetupFunc( f11_arg1.controllerIndex )
		end
	end )
	local f8_local1 = {}
	for f8_local5, f8_local6 in ipairs( f8_arg3 ) do
		table.insert( f8_local1, {
			shortenWeaponTabs = true,
			notUsingTextSize = true,
			id = f8_arg2,
			name = f8_local6,
			disabled = f8_local0 < f8_local5,
			parent = f8_arg0,
			loseFocusFunction = function ()
				return 0
			end,
			focusFunction = function ( f9_arg0, f9_arg1, f9_arg2, f9_arg3, f9_arg4, f9_arg5 )
				if f8_arg0._isWeeklyChallenges and f8_arg0.activeTabWidget then
					f8_arg0.activeTabWidget:SetCurrentWeekTab( f9_arg1, f8_arg0 )
				elseif f8_arg0._isWeaponChallenges and f8_arg0.activeTabWidget then
					f8_arg0.activeTabWidget:SetCurrentWeaponChallengeTab( f9_arg1, f9_arg2 )
				elseif f8_arg0._isOperatorChallenges and f8_arg0.activeTabWidget then
					f8_arg0.activeTabWidget:SwitchFactions( f9_arg1, f9_arg2 + 1 )
				else
					TAB.UpdateBuiltWidget( f8_arg0, f8_arg0, f9_arg2, f9_arg3, {
						buildPriority = 4294967295,
						controllerIndex = f9_arg1,
						currentTabIndex = f8_arg0
					} )
				end
				if f9_arg3 == FocusType.Gamepad or f9_arg3 == FocusType.MouseOver then
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.tabHighlight )
				end
			end
		} )
	end
	f8_arg0.Tabs:SetTabs( f8_local1, {
		defaultTab = f8_arg0._isWeeklyChallenges and f8_arg0._currentWeek - 1 or f0_local0( f8_arg0 )
	} )
end

local f0_local5 = function ( f7_arg0, f7_arg1, f7_arg2 )
	local f7_local0 = f7_arg0.activeTabWidget.GetChallengeTabIndex
	if f7_local0 then
		f7_local0 = f7_arg0.activeTabWidget:GetChallengeTabIndex( f7_arg2 )
	end
	if f7_local0 then
		f7_arg0.Tabs:processEvent( {
			name = "tab_mouse_select",
			immediate = true,
			index = f7_local0 - 1
		} )
	end
	f7_arg0.activeTabWidget:FocusChallenge( f7_arg1, f7_arg2 )
end

local f0_local6 = function ( f6_arg0 )
	local f6_local0 = {}
	local f6_local1 = WeeklyChallenge.GetTotalWeeksInSeason( f6_arg0._currentSeason )
	for f6_local2 = 1, f6_local1, 1 do
		table.insert( f6_local0, Engine[0xED84C33EC5F01EA]( "CHALLENGE/WEEK_N", f6_local2 ) )
	end
	return f6_local0
end

local f0_local7 = function ( f3_arg0, f3_arg1, f3_arg2 )
	Engine[0x685AE31DEDA30A4]( "black_screen" )
	DataSources.frontEnd.MP.operatorFilter = LUI.DataSourceInGlobalModel.new( "frontEnd.operatorFilter", 1 )
	f3_arg0._currentSeason = WeeklyChallenge.GetCurrentSeason()
	f3_arg0._currentWeek = WeeklyChallenge.GetCurrentWeek()
	f3_arg0._isWeeklyChallenges = f3_arg2.selectMenu == "WeeklyChallengeSelect"
	f3_arg0._isDailyChallenges = f3_arg2.selectMenu == "DailyMultiplayerChallengeSelect"
	f3_arg0._isWeaponChallenges = f3_arg2.selectMenu == "WeaponChallengeSelect"
	f3_arg0._isOperatorChallenges = f3_arg2.selectMenu == "OperatorChallengeSelect"
	f3_arg0._isWinChallenges = f3_arg2.selectMenu == "WinChallengeChallengeSelect"
	local f3_local0 = {}
	if not SEASON.IsPreSeason() and not SEASON.IsCurrentSeasonSunset() then
		f3_local0 = {
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x6E40C37FD8C06B3 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x51C75135B8DBEF8 ) ),
			[1] = ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x18E6B071E64EB83 ) )
		}
	else
		f3_local0 = {
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x6E40C37FD8C06B3 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x51C75135B8DBEF8 ) )
		}
	end
	local f3_local1 = {
		OperatorChallengeSelect = {
			Engine[0xED84C33EC5F01EA]( 0xF0EB4937CD75565 ),
			Engine[0xED84C33EC5F01EA]( 0xA9718225F3C9EAF )
		},
		WeaponChallengeSelect = {
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x87A813576AFEBBB ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x87D873576B22BC4 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x1F6825582E1FDB4 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x9478155081D3C01 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x45A285961956C82 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x119D1D8BAD3123B ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x32D1F84B71EB2D3 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x422E9F21CD7CF09 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xF0220503525FC88 ) ),
			[3] = ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x7AD458929A584D4 ) )
		},
		WeeklyChallengeSelect = f0_local0( f3_arg0 ),
		DailyMultiplayerChallengeSelect = f3_local0,
		WinChallengeChallengeSelect = {
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x198F318A98DCCE6 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x757F53F82FD770 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x1D178FC6531021E ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xD054C32F9867919 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x3FA21BFA8C3D554 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x3DE7DE0C6E455AF ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xCB7F887C28D2B9A ) ),
			[4] = ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xAFB88FBDAA55912 ) )
		}
	}
	f0_local0( f3_arg0, f3_arg1, f3_arg2.selectMenu, f3_local1[f3_arg2.selectMenu] )
	if f3_arg0._isWeeklyChallenges then
		f3_arg0:CreateEventTimer( "checkWeeklyChallenge", 1000, {
			immediate = false,
			callbackFunc = function ( f5_arg0, f5_arg1 )
				if f3_arg0._currentSeason ~= WeeklyChallenge.GetCurrentSeason() then
					f3_arg0._currentSeason = WeeklyChallenge.GetCurrentSeason()
					f3_arg0._currentWeek = WeeklyChallenge.GetCurrentWeek()
					f3_arg0( f3_arg0, f3_arg0, f3_arg0.selectMenu, f3_arg0( f3_arg0 ) )
					return true
				end
				local f5_local0 = WeeklyChallenge.GetCurrentWeek()
				if f3_arg0._currentWeek < f5_local0 then
					for f5_local1 = f3_arg0._currentWeek + 1, f5_local0, 1 do
						local f5_local4 = f3_arg0.Tabs:GetTabAtIndex( f5_local1 )
						f5_local4:Enable()
					end
					f3_arg0._currentWeek = f5_local0
				end
				return true
			end
		} )
	end
	if f3_arg2.focusChallengeId then
		f0_local0( f3_arg0, f3_arg1, f3_arg2.focusChallengeId )
	end
	if CONDITIONS.IsChallengeTrackingFlyInEnabled() and not f3_arg0._isDailyChallenges and not f3_arg0._isWinChallenges then
		f3_arg0.TrackedButton:SetVisible( true )
		f3_arg0.TrackedButton:SetupPrompt( {
			buttonPrompt = ButtonMap.button_select,
			text = TrackedChallenges.TRACKED_CHALLENGES_TITLE,
			action = function ( f4_arg0, f4_arg1 )
				TrackedChallenges.OpenChallengesTrackedFlyIn( f4_arg1.controller or f4_arg0._controllerIndex )
			end
		} )
	else
		f3_arg0.TrackedButton:SetVisible( false )
		f3_arg0.TrackedButton:ClearPromptConfig()
	end
	if f3_arg0.MenuTitle and f3_arg0.MenuTitle.Line then
		f3_arg0.MenuTitle.Line:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -872, 872, 180, 182 )
	end
end

function ChallengesSelectMenu( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = f1_local0.UIMenu.new()
	f1_local2.id = "ChallengesSelectMenu"
	local f1_local3
	if f1_arg1 then
		f1_local3 = f1_arg1
	else
		f1_local3 = f1_arg1.controllerIndex
	end
	f1_local3 = f1_local0.ValidateControllerIndex( f1_local2, f1_local3 )
	f1_local2[0x4C364FC7CAA3C92] = f1_local1.BuildRegisteredType( 0x8608EBDC1924A2E, {
		controllerIndex = f1_local3
	} )
	f1_local2[0x4C364FC7CAA3C92][0x8B72E07B55C3AC0] = "HelperBar"
	if CONDITIONS.IsMobileOrMobileSim() then
		f1_local2[0x4C364FC7CAA3C92]:SetAnchorsAndPosition( 1, 0, 0, 0, -120, 0, 0, 0 )
	else
		f1_local2[0x4C364FC7CAA3C92]:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, -115, -30 )
	end
	f1_local2[0x4C364FC7CAA3C92]:setPriority( 10 )
	f1_local2:addElement( f1_local2[0x4C364FC7CAA3C92] )
	local f1_local4 = f1_local2
	local f1_local5 = nil
	f1_local5 = f1_local1.BuildRegisteredType( 0x93CC4E91B38D10C, {
		controllerIndex = f1_local3
	} )
	f1_local5[0x8B72E07B55C3AC0] = "MenuTitle"
	f1_local5[0x93CC4E91B38D10C]:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x722AAF0023EBAFC ) ), 0 )
	f1_local5:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 80 )
	f1_local2:addElement( f1_local5 )
	f1_local2[0x93CC4E91B38D10C] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local0.TabManager.new( {
		tabHeight = 32,
		spacing = 12,
		wrap = true,
		buildTab = function ()
			return f1_arg0.BuildRegisteredType( 0x1248403C7BAAA89, {
				controllerIndex = f1_arg0
			} )
		end,
		controllerIndex = f1_local3
	} )
	f1_local6[0x8B72E07B55C3AC0] = "Tabs"
	f1_local6:SetVerticalPivot( f1_local0.VerticalPivot.Top )
	f1_local6:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -905, -398, 195, 275 )
	f1_local2:addElement( f1_local6 )
	f1_local2[0x92753EF0779B5CD] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local1.BuildRegisteredType( 0x679E56885240690, {
		controllerIndex = f1_local3
	} )
	f1_local7[0x8B72E07B55C3AC0] = "TrackedButton"
	f1_local7:SetVisible( false )
	f1_local7:SetAnchorsAndPosition( 0, 1, 0, 1, 1565.75, 1765.75, 141.73, 173.73 )
	f1_local2:addElement( f1_local7 )
	f1_local2[0x2C05DB467DB70B9] = f1_local7
	f0_local0( f1_local2, f1_local3, f1_arg1 )
	return f1_local2
end

MenuBuilder.registerType( 0x367E7F81D54D2E8, ChallengesSelectMenu )
LockTable( _M )
