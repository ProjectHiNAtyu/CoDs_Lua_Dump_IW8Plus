-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
function PostLoadFunc( f9_arg0, f9_arg1, f9_arg2 )
	f9_arg0:SetYRotation( 20 * MP.SplitScreenRotModifier )
	f9_arg0:SetXRotation( 5 * MP.SplitScreenRotModifier )
	f9_arg0.Place:SetShadowUOffset( -0.001 )
	f9_arg0.Place:SetShadowVOffset( -0.001 )
	f9_arg0:SubscribeToModel( DataSources.inGame.HUD.uplinkTimerStopped:GetModel( f9_arg1 ), function ()
		if DataSources.inGame.HUD.uplinkTimerStopped:GetValue( f9_arg0 ) then
			f9_arg0.Timer:freeze()
		else
			f9_arg0.Timer:unfreeze()
		end
	end )
end

function UplinkTimer( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 380 * _1080p, 0, 54 * _1080p )
	self.id = "UplinkTimer"
	self._animationSets = {}
	self._sequences = {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local PlaceBg = nil
	
	PlaceBg = LUI.UIImage.new()
	PlaceBg.id = "PlaceBg"
	PlaceBg:SetRGBFromInt( 0, 0 )
	PlaceBg:SetAlpha( 0.3, 0 )
	PlaceBg:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 95, _1080p * 283, 0, _1080p * 73 )
	self:addElement( PlaceBg )
	self.PlaceBg = PlaceBg
	
	local HighlightBAr = nil
	
	HighlightBAr = LUI.UIImage.new()
	HighlightBAr.id = "HighlightBAr"
	HighlightBAr:SetAlpha( 0.3, 0 )
	HighlightBAr:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 95, _1080p * 283, 0, _1080p * 44 )
	HighlightBAr:BindColorToModel( DataSources.inGame.HUD.uplinkBallStatusColor:GetModel( f1_local1 ) )
	self:addElement( HighlightBAr )
	self.HighlightBAr = HighlightBAr
	
	local Place = nil
	
	Place = LUI.UIStyledText.new()
	Place.id = "Place"
	Place:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	Place:SetAlignment( LUI.Alignment.Center )
	Place:SetShadowMinDistance( -0.2, 0 )
	Place:SetShadowMaxDistance( 0.2, 0 )
	Place:SetOutlineRGBFromInt( 0, 0 )
	Place:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 7, _1080p * 371, _1080p * 45, _1080p * 73 )
	Place:SubscribeToModel( DataSources.inGame.HUD.uplinkTimerTextStatus:GetModel( f1_local1 ), function ()
		local f8_local0 = DataSources.inGame.HUD.uplinkTimerTextStatus:GetValue( menu )
		if f8_local0 ~= nil then
			menu:setText( ToUpperCase( f8_local0 ), 0 )
		end
	end )
	self:addElement( Place )
	self.Place = Place
	
	local Timer = nil
	
	Timer = MenuBuilder.BuildRegisteredType( "UICountdown", {
		controllerIndex = f1_local1
	} )
	Timer.id = "Timer"
	Timer:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	Timer:SetAlignment( LUI.Alignment.Center )
	Timer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 27.5, _1080p * 352.5, _1080p * 6.5, _1080p * 36.5 )
	Timer:SubscribeToModel( DataSources.inGame.HUD.uplinkTimer:GetModel( f1_local1 ), function ()
		local f7_local0 = DataSources.inGame.HUD.uplinkTimer:GetValue( menu )
		if f7_local0 ~= nil then
			menu:setEndTime( f7_local0 )
		end
	end )
	self:addElement( Timer )
	self.Timer = Timer
	
	local CapR = nil
	
	CapR = LUI.UIImage.new()
	CapR.id = "CapR"
	CapR:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 283, _1080p * 288, 0, _1080p * 73 )
	self:addElement( CapR )
	self.CapR = CapR
	
	local CapRCopy0 = nil
	
	CapRCopy0 = LUI.UIImage.new()
	CapRCopy0.id = "CapRCopy0"
	CapRCopy0:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 95, _1080p * 89, 0, _1080p * 73 )
	self:addElement( CapRCopy0 )
	self.CapRCopy0 = CapRCopy0
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequences.ShowBar = function ()
		
	end
	
	Timer:RegisterAnimationSequence( "HideBar", {
		{
			value = 0,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideBar = function ()
		menu:AnimateSequence( "HideBar" )
	end
	
	PlaceBg:RegisterAnimationSequence( "HideAll", {
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	HighlightBAr:RegisterAnimationSequence( "HideAll", {
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Place:RegisterAnimationSequence( "HideAll", {
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Timer:RegisterAnimationSequence( "HideAll", {
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	CapR:RegisterAnimationSequence( "HideAll", {
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	CapRCopy0:RegisterAnimationSequence( "HideAll", {
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideAll = function ()
		menu:AnimateSequence( "HideAll" )
		menu:AnimateSequence( "HideAll" )
		menu:AnimateSequence( "HideAll" )
		menu:AnimateSequence( "HideAll" )
		menu:AnimateSequence( "HideAll" )
		menu:AnimateSequence( "HideAll" )
	end
	
	local f1_local9 = function ()
		if DataSources.inGame.HUD.uplinkTimerShow:GetValue( menu ) ~= nil and DataSources.inGame.HUD.uplinkTimerShow:GetValue( menu ) == 1 then
			ACTIONS.AnimateSequence( menu, "HideBar" )
		end
		if DataSources.inGame.HUD.uplinkTimerShow:GetValue( menu ) ~= nil and DataSources.inGame.HUD.uplinkTimerShow:GetValue( menu ) == 0 then
			ACTIONS.AnimateSequence( menu, "HideAll" )
		end
	end
	
	self:SubscribeToModel( DataSources.inGame.HUD.uplinkTimerShow:GetModel( f1_local1 ), f1_local9 )
	self:SubscribeToModel( DataSources.inGame.HUD.uplinkTimer:GetModel( f1_local1 ), f1_local9 )
	PostLoadFunc( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "UplinkTimer", UplinkTimer )
LockTable( _M )
