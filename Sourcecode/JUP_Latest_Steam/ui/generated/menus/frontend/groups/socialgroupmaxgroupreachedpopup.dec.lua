-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.rownavigationhint" )
require( "ui.generated.widgets.frontend.groups.groupleavebutton" )
require( "ui.generated.widgets.frontend.headerbackarrowlarge" )
local f0_local0 = function ( f10_arg0, f10_arg1 )
	if GROUPS.CanCreateGroup( f10_arg1 ) then
		LUI.FlowManager.RequestLeaveMenuByName( "SocialGroupMaxGroupReachedPopup", true )
	end
	f10_arg0._groupsData = GROUPS.GetJoinedGroups( f10_arg1 )
	local f10_local0 = f10_arg0._groupsData.count or 0
	if f10_local0 == 0 then
		SocialGroups[0x49B392E62946DE9]( f10_arg1, f10_arg0._options.inviteGroupID )
		ACTIONS.LeaveMenu( f10_arg0 )
		return 
	else
		f10_arg0.GroupsGrid:SetNumRows( f10_local0 )
		f10_arg0.GroupsGrid:RefreshContent()
		f10_arg0.RowNavigationHint:SetHintText( {
			localizedText = Engine[0xED84C33EC5F01EA]( 0x56C8EA49B25B9C6, f10_local0, GROUPS.SOCIAL_GROUPS_MAX_JOINED_GROUPS )
		} )
	end
end

local f0_local1 = function ( f7_arg0, f7_arg1, f7_arg2 )
	f7_arg0:addEventHandler( GROUPS.GroupEvents.LUI_EVENT_GROUP_NOTIFICATION, function ( f9_arg0, f9_arg1 )
		if (f9_arg1.options.genEventName == GROUPS.GroupEvents.LUI_EVENT_PARAM_GROUP_DELETED or f9_arg1.options.genEventName == GROUPS.GroupEvents.LUI_EVENT_PARAM_GROUP_LEFT_ACTIVE) and f9_arg1.options.success then
			f7_arg0( f7_arg0, f7_arg0 )
		end
	end )
	f7_arg0:AddGamepadEventCallback( "button_secondary", function ( f8_arg0, f8_arg1 )
		local f8_local0 = f8_arg1.controller or f7_arg0
		if GROUPS.CanCreateGroup( f8_local0 ) then
			SocialGroups[0x49B392E62946DE9]( f8_local0, f8_arg0._options.inviteGroupID )
		end
		ACTIONS.LeaveMenu( f8_arg0 )
	end )
end

local f0_local2 = function ( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg0._groupsData = {}
	f4_arg0._options = f4_arg2
	f4_arg0.Title:setText( Engine[0xED84C33EC5F01EA]( 0x2DC25C3BE26CEC6 ) )
	f4_arg0.Description:setText( Engine[0xED84C33EC5F01EA]( 0x517AF9BE20A77DF ) )
	f4_arg0.RowNavigationHint:SetupStaticHint()
	f4_arg0.RowNavigationHint:ShowHintAccent( false )
	f4_arg0.GroupsGrid:SetMask( f4_arg0.GridMask )
	f4_arg0.GroupsGrid:SetNumRows( GROUPS.SOCIAL_GROUPS_MAX_JOINED_GROUPS )
	f4_arg0.GroupsGrid:SetNumColumns( 1 )
	f4_arg0.GroupsGrid:SetRefreshChild( function ( f5_arg0, f5_arg1, f5_arg2 )
		local f5_local0 = f4_arg0._groupsData.groups[f5_arg2 + 1]
		local f5_local1 = f4_arg0.id
		f5_arg0:Setup( f5_local0.groupId, function ()
			if LUI.FlowManager.IsInStack( f5_arg0 ) then
				ACTIONS.PopMenuStackUpToMenu( f5_arg0, false )
			end
		end )
	end )
	f0_local0( f4_arg0, f4_arg1, f4_arg2 )
	f0_local0( f4_arg0, f4_arg1 )
end

function SocialGroupMaxGroupReachedPopup( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = f1_local0.UIMenu.new()
	f1_local2.id = "SocialGroupMaxGroupReachedPopup"
	local f1_local3
	if f1_arg1 then
		f1_local3 = f1_arg1
	else
		f1_local3 = f1_arg1.controllerIndex
	end
	f1_local3 = f1_local0.ValidateControllerIndex( f1_local2, f1_local3 )
	local f1_local4 = f1_local2
	local f1_local5 = nil
	f1_local5 = f1_local0.UIImage.new()
	f1_local5[0x8B72E07B55C3AC0] = "Background"
	ACTIONS.ScaleFullscreen( f1_local5 )
	f1_local5:SetAlpha( 0.96, 0 )
	f1_local5:setImage( RegisterMaterial( 0xB2D83B6B3E95DD7 ), 0 )
	f1_local2:addElement( f1_local5 )
	f1_local2[0xD4176E7CA246EDD] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local0.UIText.new()
	f1_local6[0x8B72E07B55C3AC0] = "Title"
	f1_local6:SetRGB( SWATCHES[0x2B125210C0B2BB1][0xF5C0139BA6F896C], 0 )
	f1_local6:SetAlpha( 0.9, 0 )
	f1_local6:setText( Engine[0xED84C33EC5F01EA]( 0x2DC25C3BE26CEC6 ), 0 )
	f1_local6:setCaseStyle( f1_local0.CaseStyle.Uppercase )
	f1_local6:SetFontStyle( FONT_STYLES[0x9F431E8A42624BE] )
	f1_local6:SetWordWrap( false )
	f1_local6:SetTracking( -2, 0 )
	f1_local6:SetAlignment( f1_local0.Alignment.Center )
	f1_local6:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -473.5, 473.5, 110, 187 )
	f1_local2:addElement( f1_local6 )
	f1_local2[0xA31296C0C1B6029] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local0.UIText.new()
	f1_local7[0x8B72E07B55C3AC0] = "Description"
	f1_local7:SetRGB( SWATCHES[0x2B125210C0B2BB1][0xF5C0139BA6F896C], 0 )
	f1_local7:SetAlpha( 0.6, 0 )
	f1_local7:setText( Engine[0xED84C33EC5F01EA]( 0x517AF9BE20A77DF ), 0 )
	f1_local7:SetFontStyle( FONT_STYLES[0x68FE131283CDA0] )
	f1_local7:SetWordWrap( true )
	f1_local7:SetAlignment( f1_local0.Alignment.Center )
	f1_local7:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -504.5, 506.5, 192, 243 )
	f1_local2:addElement( f1_local7 )
	f1_local2[0xCC44970C8397929] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local1.BuildRegisteredType( 0xE76F5A4A93583D0, {
		controllerIndex = f1_local3
	} )
	f1_local8[0x8B72E07B55C3AC0] = "RowNavigationHint"
	f1_local8:SetAnchorsAndPosition( 0, 1, 0, 1, 699, 849, 356, 384 )
	f1_local2:addElement( f1_local8 )
	f1_local2[0xE76F5A4A93583D0] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local0.UIImage.new()
	f1_local9[0x8B72E07B55C3AC0] = "GridMask"
	f1_local9:SetAnchorsAndPosition( 0, 1, 0, 1, 563, 1363, 386, 928 )
	f1_local2:addElement( f1_local9 )
	f1_local2[0xA695CD9470626ED] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local0.UIGrid.new( {
		columnWidth = 528,
		maxVisibleColumns = 1,
		maxVisibleRows = 5,
		rowHeight = -48,
		spacingY = 9,
		wrapX = false,
		controllerIndex = f1_local3,
		buildChild = function ()
			return f1_arg0.BuildRegisteredType( 0xB72F9F2A547061B, {
				controllerIndex = f1_arg0
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		primaryAxis = f1_local0.DIRECTION.vertical,
		scrollType = Enum[0x92A69278394394][0x20D1032BAFC0C12]
	} )
	f1_local10[0x8B72E07B55C3AC0] = "GroupsGrid"
	f1_local10:setUseStencil( true )
	f1_local10:SetAnchorsAndPosition( 0, 1, 0, 1, 712, 1244, 404, 845 )
	f1_local2:addElement( f1_local10 )
	f1_local2[0x980B315DD6800C9] = f1_local10
	local f1_local11 = nil
	f1_local11 = f1_local1.BuildRegisteredType( 0x74A473CD2E27B5F, {
		controllerIndex = f1_local3
	} )
	f1_local11[0x8B72E07B55C3AC0] = "BackButtonArrow"
	f1_local11:SetAnchorsAndPosition( 0, 1, 0, 1, 16, 72, 21, 75 )
	f1_local2:addElement( f1_local11 )
	f1_local2[0xA5F920F33D9AA77] = f1_local11
	f0_local0( f1_local2, f1_local3, f1_arg1 )
	return f1_local2
end

MenuBuilder.registerType( 0xFD1EE71B631008C, SocialGroupMaxGroupReachedPopup )
LockTable( _M )
