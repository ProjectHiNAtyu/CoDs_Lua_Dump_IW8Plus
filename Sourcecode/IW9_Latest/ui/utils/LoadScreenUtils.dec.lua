-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
LOAD_SCREEN = LOAD_SCREEN or {}
LOAD_SCREEN.DEFAULT_BUTTON_ID = 1
LOAD_SCREEN.RANDOM_BUTTON_ID = 2
LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_ID = 3
LOAD_SCREEN.FIRST_REGULAR_BUTTON = 4
LOAD_SCREEN.DEFAULT_BUTTON_DISPLAY_NAME = 0xDAABB045D5BAAEA
LOAD_SCREEN.DEFAULT_BUTTON_DESCRIPTION = 0xAEECCB0EB61E95C
LOAD_SCREEN.DEFAULT_BUTTON_HOW_TO_EARN = ""
LOAD_SCREEN.DEFAULT_BUTTON_IMAGE = "icon_generic_plus_w_shadow"
LOAD_SCREEN.DEFAULT_BUTTON_FULL_IMAGE = ""
LOAD_SCREEN.RANDOM_BUTTON_DISPLAY_NAME = 0x144197A08613734
LOAD_SCREEN.RANDOM_BUTTON_DESCRIPTION = ""
LOAD_SCREEN.RANDOM_BUTTON_HOW_TO_EARN = ""
LOAD_SCREEN.RANDOM_BUTTON_IMAGE = "icon_generic_random"
LOAD_SCREEN.RANDOM_BUTTON_FULL_IMAGE = ""
LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_DISPLAY_NAME = 0x1EE7F5847C969A6
LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_DESCRIPTION = 0x683C104FEC7D1A0
LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_HOW_TO_EARN = ""
LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_IMAGE = "icon_generic_random_favorite"
LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_FULL_IMAGE = ""
LOAD_SCREEN.LOADSCREEN_BUNDLE = 0x31321E8ED5E6BED
LOAD_SCREEN.LOADSCREENHINTS_BR_BUNDLE = 0xC9F9C06C241BA15
LOAD_SCREEN.LOADSCREENHINTS_BR_DELTA_BUNDLE = 0x72217F82F606318
LOAD_SCREEN.LOADSCREENHINTS_BRTDM_BUNDLE = 0x6C45379AA094648
LOAD_SCREEN.LOADSCREENHINTS_CLASSIC_BUNDLE = 0xB36CC6FCDFEC293
LOAD_SCREEN.LOADSCREENHINTS_BR_RANKED_BUNDLE = 0x3BCE3FDFD7FEA59
LOAD_SCREEN.LOADSCREENHINTS_DMZ_BUNDLE = 0x2928E7BF99CA240
LOAD_SCREEN.LOADSCREENHINTS_DMZ_SEALION_BUNDLE = 0xADD618951EC2D1E
LOAD_SCREEN.LOADSCREENHINTS_DMZ_DELTA_BUNDLE = 0x6D84E202C8444C9
LOAD_SCREEN.LOADSCREENHINTS_KINGSLAYER_BUNDLE = 0x5F0DBEE3F6E7E30
LOAD_SCREEN.LOADSCREENHINTS_RISK_BUNDLE = 0x31A5061B44B660A
LOAD_SCREEN.LOADSCREENHINTS_PLUNDER_BUNDLE = 0x39B9D611C179F79
LOAD_SCREEN.LOADSCREENHINTS_BURN_BUNDLE = 0xF2E016816591CA7
LOAD_SCREEN.LOADSCREENHINTS_TRUCKWAR_BUNDLE = 0x6D3B4FC8BC99A42
LOAD_SCREEN.LOADSCREENHINTS_ZONECONTROL_BUNDLE = 0xFC77A47EE984B48
LOAD_SCREEN.LOADSCREENHINTS_ZONECONTROL_PM_BUNDLE = 0x387F95F98E38436
LOAD_SCREEN.LOADSCREENHINTS_RESURGENCE_BUNDLE = 0xDA27DAA712FF494
LOAD_SCREEN.LOADSCREENHINTS_RESURGENCE_DELTA_BUNDLE = 0x5B024861DC7B745
LOAD_SCREEN.LOADSCREENHINTS_RESURGENCE_DELTA_PM_BUNDLE = 0x4283034AD13E355
LOAD_SCREEN.LOADSCREENHINTS_ZXP_BUNDLE = 0x664707C8CC33EAD
LOAD_SCREEN.EMPTY_ID = 0
LOAD_SCREEN.FilterType = {
	ALL = 0,
	PURCHASED = 2,
	AVAILABLE_FOR_PURCHASE = 3,
	CHALLENGES = 1
}
LOAD_SCREEN.FilterTypeStrings = {
	[LOAD_SCREEN.FilterType.ALL] = 0xF0A67A938EB5347,
	[LOAD_SCREEN.FilterType.PURCHASED] = 0x1AF524D39C35EB9,
	[LOAD_SCREEN.FilterType.AVAILABLE_FOR_PURCHASE] = 0xF6F7666278B8B4B
}
LOAD_SCREEN.SortingType = {
	LATEST = 1,
	OLDEST = 2,
	ALPHABETICAL = 3,
	FAVORITES_FIRST = 0
}
LOAD_SCREEN.SortingTypeStrings = {
	[LOAD_SCREEN.SortingType.FAVORITES_FIRST] = 0xC530EFF8086ABC2,
	[LOAD_SCREEN.SortingType.LATEST] = 0x9CAF1DA9D0DC8ED,
	[LOAD_SCREEN.SortingType.OLDEST] = 0x7EEFB5B8B491155,
	[LOAD_SCREEN.SortingType.ALPHABETICAL] = 0x240635D2DB1310
}
LOAD_SCREEN.FilterSortMenuName = 0x3FA0C1C751A265F
LOAD_SCREEN.FilterSortMenuDesc = 0x6B719CCD9481105
LOAD_SCREEN.FilterHeaderName = 0x17F0A4BE9CCB062
LOAD_SCREEN.SortHeaderName = 0x2634434E3B3E7F0
local f0_local0 = function ()
	local f21_local0 = {}
	local f21_local1 = {
		id = LOAD_SCREEN.DEFAULT_BUTTON_ID,
		name = LOAD_SCREEN.DEFAULT_BUTTON_DISPLAY_NAME,
		desc = LOAD_SCREEN.DEFAULT_BUTTON_DESCRIPTION,
		how_to_earn = LOAD_SCREEN.DEFAULT_BUTTON_HOW_TO_EARN,
		image = LOAD_SCREEN.DEFAULT_BUTTON_IMAGE,
		fullImage = LOAD_SCREEN.DEFAULT_BUTTON_FULL_IMAGE
	}
	local f21_local2 = {
		id = LOAD_SCREEN.RANDOM_BUTTON_ID,
		name = LOAD_SCREEN.RANDOM_BUTTON_DISPLAY_NAME,
		desc = LOAD_SCREEN.RANDOM_BUTTON_DESCRIPTION,
		how_to_earn = LOAD_SCREEN.RANDOM_BUTTON_HOW_TO_EARN,
		image = LOAD_SCREEN.RANDOM_BUTTON_IMAGE,
		fullImage = LOAD_SCREEN.RANDOM_BUTTON_FULL_IMAGE
	}
	local f21_local3 = {
		id = LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_ID,
		name = LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_DISPLAY_NAME,
		desc = LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_DESCRIPTION,
		how_to_earn = LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_HOW_TO_EARN,
		image = LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_IMAGE,
		fullImage = LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_FULL_IMAGE
	}
	table.insert( f21_local0, f21_local1 )
	table.insert( f21_local0, f21_local2 )
	table.insert( f21_local0, f21_local3 )
	return f21_local0
end

local f0_local1 = function ()
	if not PROJECT[0x5A05E13AC947C99][0x1407D480CE37098] then
		PROJECT[0x5A05E13AC947C99][0x1407D480CE37098] = {}
		local f20_local0 = Engine[0x6093D047200548]( LOAD_SCREEN.LOADSCREEN_BUNDLE )
		if f20_local0 then
			for f20_local4, f20_local5 in ipairs( f20_local0[0x50E353BB3879634] ) do
				table.insert( PROJECT[0x5A05E13AC947C99][0x1407D480CE37098], Engine[0x6093D047200548]( "loadingscreen:" .. f20_local5[0x47DC14CABDF917B] ) )
			end
		end
	end
	return PROJECT[0x5A05E13AC947C99][0x1407D480CE37098]
end

LOAD_SCREEN.GetAllLoadScreens = function ( f19_arg0 )
	if not LOAD_SCREEN.LOADSCREENS then
		LOAD_SCREEN.LOADSCREENS = {}
		local f19_local0 = f0_local0()
		for f19_local5, f19_local6 in ipairs( f0_local0() ) do
			local f19_local7 = {}
			local f19_local4 = f19_local6[0x8B72E07B55C3AC0]
			if not f19_local4 then
				f19_local4 = LOAD_SCREEN.EMPTY_ID
			end
			f19_local7.id = f19_local4
			f19_local4 = f19_local6[0x28887F70BF5EBA]
			if not f19_local4 then
				f19_local4 = LOAD_SCREEN.EMPTY_ID
			end
			f19_local7.lootID = f19_local4
			f19_local7.availableProjects = f19_local6[0x429E8B8C45B9CBA] or ""
			f19_local7.unlockableProjects = f19_local6[0x401AF13367DEA97] or ""
			f19_local7.name = f19_local6[0x4BCADBA8E631B86] or ""
			f19_local7.desc = f19_local6[0xCC44970C8397929] or ""
			f19_local7.how_to_earn = f19_local6[0x1BA1A6EEDDB518E] or ""
			f19_local7.disabled = f19_local6[0xFA3391DB68E4425] or false
			f19_local7.image = f19_local6[0xAB612888528489A] or ""
			f19_local7.fullImage = f19_local6[0xE19C41B5A516BD9] or ""
			f19_local4 = f19_local6[0x8DFD5E2759BA3F8]
			if not f19_local4 then
				f19_local4 = LOAD_SCREEN.EMPTY_ID
			end
			f19_local7.season = f19_local4
			if not f19_local7.disabled then
				table.insert( f19_local0, f19_local7 )
			end
		end
		LOAD_SCREEN.LOADSCREENS = f19_local0
	end
	return LOAD_SCREEN.LOADSCREENS
end

LOAD_SCREEN.GetLoadingScreenByID = function ( f18_arg0 )
	f0_local0()
	local f18_local0 = PROJECT[0x5A05E13AC947C99][0x1407D480CE37098]
	if f18_local0 then
		for f18_local4, f18_local5 in ipairs( f18_local0 ) do
			if f18_local5[0x28887F70BF5EBA] == tonumber( f18_arg0 ) then
				return f18_local5
			end
		end
	end
	return nil
end

LOAD_SCREEN.GetLoadingScreenByRef = function ( f17_arg0 )
	f0_local0()
	local f17_local0 = PROJECT[0x5A05E13AC947C99][0x1407D480CE37098]
	if f17_local0 then
		for f17_local4, f17_local5 in ipairs( f17_local0 ) do
			if f17_local5[0x8B72E07B55C3AC0] == f17_arg0 then
				return f17_local5
			end
		end
	end
	return nil
end

LOAD_SCREEN.GetLoadingScreenByItemID = function ( f16_arg0 )
	f0_local0()
	local f16_local0 = PROJECT[0x5A05E13AC947C99][0x1407D480CE37098]
	if f16_local0 then
		for f16_local4, f16_local5 in ipairs( f16_local0 ) do
			if f16_local5[0x8B72E07B55C3AC0] == f16_arg0 then
				return f16_local5
			end
		end
	end
	return nil
end

LOAD_SCREEN.GetLoadScreenGameIndex = function ()
	if not (not Engine[0x12586A3F4FB490E]() or not CoD.IsDMZMatch()) or CONDITIONS.IsDMZGametype() then
		return Enum[0x5F53FEDDE04544C][0x50C8BD06ACDD9DC]
	elseif CONDITIONS.IsMagmaGameMode() then
		return Enum[0x5F53FEDDE04544C][0x6C00627181D1A78]
	else
		return Enum[0x5F53FEDDE04544C][0xD3B3D0E2427065F]
	end
end

local f0_local2 = function ( f14_arg0, f14_arg1 )
	if f14_arg0.lootID and f14_arg0.lootID ~= f14_arg0.EMPTY_ID and not LOOT.IsUnlockedWithID( f14_arg1, f14_arg0.lootID ) then
		return false
	else
		return true
	end
end

local f0_local3 = function ( f13_arg0, f13_arg1 )
	local f13_local0 = {}
	local f13_local1 = {}
	for f13_local2 = 1, #f13_arg0, 1 do
		local f13_local5 = f13_arg0[f13_local2]
		if f13_local5.id >= LOAD_SCREEN.FIRST_REGULAR_BUTTON and f0_local0( f13_local5, f13_arg1 ) then
			table.insert( f13_local0, f13_local5 )
		end
	end
	local f13_local2 = #f13_local0
	if 0 < f13_local2 then
		f13_local1 = f13_local0[math.random( 1, f13_local2 )]
	end
	return f13_local1
end

local f0_local4 = function ( f12_arg0, f12_arg1 )
	local f12_local0 = LOAD_SCREEN.InvalidateAndRetrieveLoadScreenFavorites( f12_arg1 )
	local f12_local1 = {}
	local f12_local2 = #f12_local0
	local f12_local3 = {}
	if 0 < f12_local2 then
		for f12_local4 = 1, #f12_arg0, 1 do
			local f12_local7 = f12_arg0[f12_local4]
			local f12_local8 = f12_local7.id
			for f12_local9 = 1, f12_local2, 1 do
				if f12_local8 == f12_local0[f12_local9] then
					table.insert( f12_local1, f12_local7 )
				end
			end
		end
		local f12_local4 = #f12_local1
		assert( f12_local2 == f12_local4 )
		if 0 < f12_local4 then
			f12_local3 = f12_local1[math.random( 1, f12_local4 )]
		else
			return f12_local3
		end
	end
	return f12_local3
end

local f0_local5 = function ( f11_arg0, f11_arg1, f11_arg2 )
	local f11_local0 = {}
	for f11_local1 = 1, #f11_arg0, 1 do
		local f11_local4 = f11_arg0[f11_local1]
		if f11_local4.id == f11_arg1 then
			if f0_local0( f11_local4, f11_arg2 ) then
				f11_local0 = f11_local4
				break
			end
			Engine[0x8ECBE06940A0CDF]( f11_arg2, LOAD_SCREEN.GetLoadScreenGameIndex(), LOAD_SCREEN.DEFAULT_BUTTON_ID )
		end
	end
	return f11_local0
end

LOAD_SCREEN.GetLoadScreenToDisplay = function ( f10_arg0 )
	local f10_local0 = LOAD_SCREEN.GetAllLoadScreens()
	local f10_local1 = Engine[0xC8C08377A225C76]( f10_arg0, LOAD_SCREEN.GetLoadScreenGameIndex() )
	local f10_local2 = {}
	if f10_local1 == LOAD_SCREEN.RANDOM_BUTTON_ID then
		f10_local2 = f0_local0( f10_local0, f10_arg0 )
	elseif f10_local1 == LOAD_SCREEN.RANDOM_FAVORITE_BUTTON_ID then
		f10_local2 = f0_local0( f10_local0, f10_arg0 )
	elseif f10_local1 ~= LOAD_SCREEN.DEFAULT_BUTTON_ID then
		f10_local2 = f0_local0( f10_local0, f10_local1, f10_arg0 )
	end
	return f10_local2
end

LOAD_SCREEN.InvalidateAndRetrieveSavedLoadScreen = function ( f9_arg0 )
	local f9_local0 = LOAD_SCREEN.GetLoadScreenGameIndex()
	local f9_local1 = Engine[0xC8C08377A225C76]( f9_arg0, f9_local0 )
	if f9_local1 >= LOAD_SCREEN.FIRST_REGULAR_BUTTON then
		local f9_local2 = LOAD_SCREEN.GetAllLoadScreens()
		local f9_local3 = false
		for f9_local4 = 1, #f9_local2, 1 do
			local f9_local7 = f9_local2[f9_local4]
			if f9_local7.id == f9_local1 then
				if f0_local0( f9_local7, f9_arg0 ) then
					f9_local3 = true
					break
				end
			end
		end
		if not f9_local3 then
			Engine[0x8ECBE06940A0CDF]( f9_arg0, f9_local0, LOAD_SCREEN.DEFAULT_BUTTON_ID )
			f9_local1 = LOAD_SCREEN.DEFAULT_BUTTON_ID
		end
	end
	return f9_local1
end

LOAD_SCREEN.InvalidateAndRetrieveLoadScreenFavorites = function ( f8_arg0 )
	local f8_local0 = LOAD_SCREEN.GetAllLoadScreens()
	local f8_local1 = LOAD_SCREEN.GetLoadScreenGameIndex()
	local f8_local2 = Engine[0x69D1CDDC9F7F04C]( f8_arg0, f8_local1 )
	local f8_local3 = #f8_local2
	local f8_local4 = f8_local2
	if 0 < f8_local3 then
		for f8_local5 = 1, f8_local3, 1 do
			local f8_local8 = f8_local2[f8_local5]
			local f8_local9 = false
			for f8_local10 = 1, #f8_local0, 1 do
				local f8_local13 = f8_local0[f8_local10]
				if f8_local13.id == f8_local8 then
					if f0_local0( f8_local13, f8_arg0 ) then
						f8_local9 = true
						break
					end
				end
			end
			if not f8_local9 then
				f8_local4 = Engine[0xC4FC61D95B9321A]( f8_arg0, f8_local1, f8_local8 )
			end
		end
	end
	return f8_local4
end

LOAD_SCREEN.QuickEquipLoadScreen = function ( f7_arg0, f7_arg1, f7_arg2 )
	local f7_local0 = LOAD_SCREEN.GetLoadingScreenByID( f7_arg1 )
	f7_local0 = f7_local0[0x8B72E07B55C3AC0]
	if f7_arg2 == "MP" then
		Engine[0x8ECBE06940A0CDF]( f7_arg0, Enum[0x5F53FEDDE04544C][0xD3B3D0E2427065F], f7_local0 )
	elseif f7_arg2 == "BR" then
		Engine[0x8ECBE06940A0CDF]( f7_arg0, Enum[0x5F53FEDDE04544C][0x6C00627181D1A78], f7_local0 )
	elseif f7_arg2 == "DMZ" then
		Engine[0x8ECBE06940A0CDF]( f7_arg0, Enum[0x5F53FEDDE04544C][0x50C8BD06ACDD9DC], f7_local0 )
	else
		Engine[0x8ECBE06940A0CDF]( f7_arg0, Enum[0x5F53FEDDE04544C][0x6C00627181D1A78], f7_local0 )
		Engine[0x8ECBE06940A0CDF]( f7_arg0, Enum[0x5F53FEDDE04544C][0xD3B3D0E2427065F], f7_local0 )
		Engine[0x8ECBE06940A0CDF]( f7_arg0, Enum[0x5F53FEDDE04544C][0x50C8BD06ACDD9DC], f7_local0 )
	end
end

LOAD_SCREEN.AddFilteringSortingEventHandler = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0:AddGamepadEventCallback( "button_right_trigger", function ( f4_arg0, f4_arg1 )
		local f4_local0 = {
			{
				filter = LOAD_SCREEN.FilterType.ALL
			},
			{
				filter = LOAD_SCREEN.FilterType.PURCHASED
			},
			{
				filter = LOAD_SCREEN.FilterType.AVAILABLE_FOR_PURCHASE
			}
		}
		local f4_local1 = {
			{
				sort = LOAD_SCREEN.SortingType.FAVORITES_FIRST
			},
			{
				sort = LOAD_SCREEN.SortingType.ALPHABETICAL
			},
			{
				sort = LOAD_SCREEN.SortingType.LATEST
			},
			{
				sort = LOAD_SCREEN.SortingType.OLDEST
			}
		}
		local f4_local2 = {}
		local f4_local3 = LUI.FlowManager.GetScopedData( f3_arg0 )
		local f4_local4 = {
			header = Engine[0xED84C33EC5F01EA]( LOAD_SCREEN.FilterHeaderName ),
			shouldUpdateSelection = true
		}
		for f4_local5 = 1, #f4_local0, 1 do
			table.insert( f4_local4, {
				label = ToUpperCase( Engine[0xED84C33EC5F01EA]( LOAD_SCREEN.FilterTypeStrings[f4_local0[f4_local5].filter] ) ),
				selected = f4_local0[f4_local5].filter == f4_local3.activeFilter,
				action = function ()
					f4_arg0:SetActiveFilter( f4_arg0[f4_arg0].filter )
				end
			} )
		end
		table.insert( f4_local2, f4_local4 )
		local f4_local5 = {
			header = Engine[0xED84C33EC5F01EA]( LOAD_SCREEN.SortHeaderName ),
			shouldUpdateSelection = true
		}
		for f4_local6 = 1, #f4_local1, 1 do
			table.insert( f4_local5, {
				label = ToUpperCase( Engine[0xED84C33EC5F01EA]( LOAD_SCREEN.SortingTypeStrings[f4_local1[f4_local6].sort] ) ),
				selected = f4_local1[f4_local6].sort == f4_local3.activeSort,
				action = function ()
					f4_arg0:SetActiveSort( f4_arg0[f4_arg0].sort )
				end
			} )
		end
		table.insert( f4_local2, f4_local5 )
		LUI.FlowManager.RequestPopupMenu( nil, "LoadScreenFilterPopupLayout", true, f3_arg0, false, {
			buttonData = f4_local2,
			controllerIndex = f3_arg0,
			menuName = Engine[0xED84C33EC5F01EA]( LOAD_SCREEN.FilterSortMenuName )
		} )
	end )
end

MenuBuilder.registerType( "LoadScreenFilterPopupLayout", function ( f1_arg0, f1_arg1 )
	local f1_local0 = MenuBuilder.BuildRegisteredType( "GenericPopupList", f1_arg1 )
	for f1_local1 = 1, #f1_arg1.buttonData, 1 do
		f1_local0:AddButtonActions( f1_arg1, f1_arg1.buttonData[f1_local1] )
	end
	f1_local0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0x59D7A2BADD1083E ) )
	local f1_local1 = MenuBuilder.BuildRegisteredType( "FlyInPopup", {
		flyInRightNarrow = true,
		quickCloseEvent = "closing_quick_access_menu",
		controllerIndex = f1_arg1.controllerIndex,
		widget = f1_local0,
		disableQuickAccessShortcuts = f1_arg1.disableQuickAccessShortcuts
	} )
	f1_local1.id = "LoadScreenFilterPopupLayout"
	f1_local1:addEventHandler( "closing_quick_access_menu", function ( f2_arg0, f2_arg1 )
		f2_arg0:exitAnimation( f2_arg0, f1_arg0 )
	end )
	return f1_local1
end )
