-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
local f0_local0 = function ( f4_arg0, f4_arg1 )
	local f4_local0 = f4_arg1.value
	if 0 < f4_local0 then
		f4_arg0.CountdownElement:SetVisible( LUI.Visibility.Visible )
		f4_arg0.CountdownElement:setEndTime( f4_local0 )
	else
		f4_arg0.CountdownElement:SetVisible( LUI.Visibility.Hidden )
		f4_arg0.CountdownElement:setEndTime( 0 )
	end
end

local f0_local1 = function ( f3_arg0, f3_arg1, f3_arg2 )
	local f3_local0 = Game[0x28624DEF6F708C8]( f3_arg1, "ui_base_nuke_selection_timer" )
	if 0 < f3_local0 then
		f0_local0( f3_arg0, {
			value = f3_local0
		} )
	end
	f3_arg0:registerOmnvarHandler( "ui_base_nuke_selection_timer", f0_local0 )
end

function TacOpsMapNebulaTimer( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 800 * _1080p, 0, 100 * _1080p )
	self.id = "TacOpsMapNebulaTimer"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromInt( 1250067, 0 )
	Background:setImage( RegisterMaterial( "nuke_main_backer" ), 0 )
	Background:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 800, 0, _1080p * 100 )
	self:addElement( Background )
	self.Background = Background
	
	local Circle = nil
	
	Circle = LUI.UIImage.new()
	Circle.id = "Circle"
	Circle:SetRGBFromTable( SWATCHES.HUD.contested, 0 )
	Circle:setImage( RegisterMaterial( "hud_objective_circle_backing" ), 0 )
	Circle:SetAnchorsAndPosition( 1, 0, 0.5, 0.5, _1080p * -200, _1080p * -110, _1080p * -45, _1080p * 45 )
	self:addElement( Circle )
	self.Circle = Circle
	
	local Circle1 = nil
	
	Circle1 = LUI.UIImage.new()
	Circle1.id = "Circle1"
	Circle1:SetRGBFromTable( SWATCHES.HUD.contested, 0 )
	Circle1:setImage( RegisterMaterial( "hud_objective_circle_backing" ), 0 )
	Circle1:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, _1080p * 110, _1080p * 200, _1080p * -45, _1080p * 45 )
	self:addElement( Circle1 )
	self.Circle1 = Circle1
	
	local NukeImg = nil
	
	NukeImg = LUI.UIImage.new()
	NukeImg.id = "NukeImg"
	NukeImg:SetRGBFromInt( 0, 0 )
	NukeImg:setImage( RegisterMaterial( "v_ui_icon_objective_nebula_00" ), 0 )
	NukeImg:SetAnchorsAndPosition( 1, 0, 0.5, 0.5, _1080p * -195, _1080p * -115, _1080p * -45, _1080p * 35 )
	self:addElement( NukeImg )
	self.NukeImg = NukeImg
	
	local NukeImg1 = nil
	
	NukeImg1 = LUI.UIImage.new()
	NukeImg1.id = "NukeImg1"
	NukeImg1:SetRGBFromInt( 0, 0 )
	NukeImg1:setImage( RegisterMaterial( "v_ui_icon_objective_nebula_00" ), 0 )
	NukeImg1:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, _1080p * 115, _1080p * 195, _1080p * -45, _1080p * 35 )
	self:addElement( NukeImg1 )
	self.NukeImg1 = NukeImg1
	
	local SelectABaseText = nil
	
	SelectABaseText = LUI.UIText.new()
	SelectABaseText.id = "SelectABaseText"
	SelectABaseText:SetRGBFromTable( SWATCHES.HUD.contested, 0 )
	SelectABaseText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "MP_ARM/SELECT_A_BASE" ) ), 0 )
	SelectABaseText:setCaseStyle( LUI.CaseStyle.Uppercase )
	SelectABaseText:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_SSubHeaderBold.font.File ) )
	SelectABaseText:SetFontSize( FONT_STYLES.fontStyle_SSubHeaderBold.size )
	SelectABaseText:SetMinFontSize( FONT_STYLES.fontStyle_SSubHeaderBold.minSize )
	SelectABaseText:SetWordWrap( false )
	SelectABaseText:SetAlignment( LUI.Alignment.Center )
	SelectABaseText:SetVerticalAlignment( LUI.Alignment.Center )
	SelectABaseText:SetSDFRenderingEnabled( true )
	SelectABaseText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -194, _1080p * 194, _1080p * -41, _1080p * -13 )
	self:addElement( SelectABaseText )
	self.SelectABaseText = SelectABaseText
	
	local CountdownElement = nil
	
	CountdownElement = MenuBuilder.BuildRegisteredType( "UICountdown", {
		controllerIndex = f1_local1
	} )
	CountdownElement.id = "CountdownElement"
	CountdownElement:SetFont( FONTS.GetFont( FONTS.FocalBoldHeader.File ) )
	CountdownElement:SetFontSize( 54 * _PT )
	CountdownElement:SetMinFontSize( 54 * _PT )
	CountdownElement:SetWordWrap( false )
	CountdownElement:SetAlignment( LUI.Alignment.Center )
	CountdownElement:SetVerticalAlignment( LUI.Alignment.Center )
	CountdownElement:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -175, _1080p * 175, _1080p * -12, _1080p * 36 )
	CountdownElement:SubscribeToModel( DataSources.inGame.MP.scorestreakHuds.nukeCountdown:GetModel( f1_local1 ), function ()
		local f2_local0 = DataSources.inGame.MP.scorestreakHuds.nukeCountdown:GetValue( menu )
		if f2_local0 ~= nil then
			menu:setEndTime( f2_local0 )
		end
	end )
	self:addElement( CountdownElement )
	self.CountdownElement = CountdownElement
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "TacOpsMapNebulaTimer", TacOpsMapNebulaTimer )
LockTable( _M )
