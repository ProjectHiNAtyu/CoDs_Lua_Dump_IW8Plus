-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
module( ..., package.seeall )
FenceTournament = LUI.Class( LUI.Fence )
FenceTournament.init = function ( f9_arg0, f9_arg1, f9_arg2 )
	f9_arg0.super:init( f9_arg1, f9_arg2 )
	f9_arg0._controllerIndex = f9_arg2
	assert( f9_arg0._controllerIndex )
end

FenceTournament.Start = function ( f8_arg0 )
	DebugPrint( "FenceTournament.Start" )
end

FenceTournament.Stop = function ( f7_arg0 )
	DebugPrint( "FenceTournament.Stop" )
	LUI.FlowManager.RequestLeaveMenuByName( "tournament_inprogress_popup", true )
	f7_arg0._openedPopup = false
end

FenceTournament.UpdateState = function ( f6_arg0 )
	assert( f6_arg0._state ~= LUI.Fence.STATE.fail )
	if Tournament.EBIIIFGCD( f6_arg0._controllerIndex ) or Dvar.IBEGCHEFE( "dev_banned_tournaments" ) then
		if not f6_arg0._openedPopup then
			f6_arg0:ShowBannedPopup()
		end
		return 
	elseif Tournament.CJGIDBHHED() then
		f6_arg0._state = LUI.Fence.STATE.pass
	elseif not Tournament.BAEACBHFGF() then
		f6_arg0._state = LUI.Fence.STATE.fail
	else
		f6_arg0._state = LUI.Fence.STATE.block
		Engine.DHCGHHBHCH()
	end
	if f6_arg0._state == LUI.Fence.STATE.block and not f6_arg0._openedPopup then
		f6_arg0:ShowInProgressPopup()
	end
end

FenceTournament.PostFail = function ( f5_arg0 )
	if f5_arg0._state == LUI.Fence.STATE.fail then
		Tournament.DCEADJJC()
		Lobby.LeavePublicLobby()
		Engine.DHCGHHBHCH()
	end
end

FenceTournament.ShowBannedPopup = function ( f3_arg0 )
	LUI.FlowManager.RequestPopupMenu( nil, "TournamentBannedPopup", false, nil, false, {
		onAccept = function ( f4_arg0, f4_arg1 )
			f3_arg0._state = LUI.Fence.STATE.fail
		end,
		duration = Tournament.BJCAJFJJCA( controllerIndex )
	} )
	f3_arg0._openedPopup = true
end

FenceTournament.ShowInProgressPopup = function ( f1_arg0 )
	LUI.FlowManager.RequestPopupMenu( nil, "tournament_inprogress_popup", false, nil, false, {
		message = Engine.CBBHFCGDIC( "MENU/FETCHING_TOURNAMENT_BRACKET" ),
		onCancel = function ( f2_arg0, f2_arg1 )
			f1_arg0._state = LUI.Fence.STATE.fail
		end
	}, nil, true, true )
	f1_arg0._openedPopup = true
end

LUI.Fence.Register( "tournament", FenceTournament )
LockTable( _M )
