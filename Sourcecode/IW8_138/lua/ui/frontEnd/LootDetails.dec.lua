-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
module( ..., package.seeall )
local f0_local0 = 200
local f0_local1 = function ( f6_arg0, f6_arg1 )
	f6_arg0:SetAnchorsAndPosition( 0, 1, 0, 1, f6_arg0._curDim.left, f6_arg0._curDim.right, f6_arg0._curDim.top, f6_arg0._curDim.bottom + f6_arg1, f0_local0 )
end

local f0_local2 = function ( f5_arg0 )
	local f5_local0 = LOOT.GetTypeForID( f5_arg0 )
	local f5_local1
	if f5_local0 ~= LOOT.itemTypes.WATCH and f5_local0 ~= LOOT.itemTypes.CHARM and f5_local0 ~= LOOT.itemTypes.STICKER and f5_local0 ~= LOOT.itemTypes.VEHICLE_CAMO then
		f5_local1 = false
	else
		f5_local1 = true
	end
	return f5_local1
end

local f0_local3 = function ( f4_arg0, f4_arg1 )
	f4_arg0.Name:setText( ToUpperCase( Engine.CBBHFCGDIC( f4_arg1.name ) ) )
	f4_arg0.QualityWithText:UpdateQualityText( f4_arg1.rarity )
	f4_arg0.SeasonWithText:UpdateSeasonText( f4_arg1.season )
	local f4_local0 = f4_arg0.EquippedWidget
	local f4_local1 = f4_local0
	f4_local0 = f4_local0.SetAlpha
	local f4_local2
	if f4_arg1.isSelected then
		f4_local2 = 1
	else
		f4_local2 = 0
	end
	f4_local0( f4_local1, f4_local2 )
	f4_local0 = f4_arg0.NewItemNotification
	f4_local1 = f4_local0
	f4_local0 = f4_local0.SetAlpha
	if f4_arg1.isNew and not f4_arg1.isSelected then
		f4_local2 = 1
	else
		f4_local2 = 0
	end
	f4_local0( f4_local1, f4_local2 )
	if f4_arg1.season then
		f4_local0 = 0 < f4_arg1.season
	end
	local f4_local3 = f4_arg0.Name:GetCurrentAnchorsAndPositions()
	f4_local3 = f4_local3.bottom
	f4_local1 = 10 * _1080p
	f4_arg0.EquippedWidget:SetAlpha( 0 )
	f4_arg0.NewItemNotification:SetAlpha( 0 )
	if f4_arg1.isSelected then
		f4_arg0.EquippedWidget:SetAlpha( 1, f0_local0 )
	elseif f4_arg1.isNew then
		f4_arg0.NewItemNotification:SetAlpha( 1, f0_local0 )
	end
	if f4_arg1.isSelected or f4_arg1.isNew then
		f4_local2 = LAYOUT.GetElementHeight( f4_arg0.EquippedWidget )
		f4_arg0.EquippedWidget:SetTop( f4_local3 + f4_local1, f0_local0 )
		f4_arg0.EquippedWidget:SetBottom( f4_local3 + f4_local1 + f4_local2, f0_local0 )
		f4_arg0.NewItemNotification:SetTop( f4_local3 + f4_local1, f0_local0 )
		f4_arg0.NewItemNotification:SetBottom( f4_local3 + f4_local1 + f4_local2, f0_local0 )
		f4_local3 = f4_local3 + f4_local2 + f4_local1
	end
	f4_local2 = LAYOUT.GetElementHeight( f4_arg0.QualityWithText )
	local f4_local4 = f4_local3 + f4_local1
	f4_arg0.QualityWithText:SetTop( f4_local4, f0_local0 )
	local f4_local5 = f4_local4 + f4_local2
	f4_arg0.QualityWithText:SetBottom( f4_local5, f0_local0 )
	local f4_local6 = 0
	if f4_arg1.season and 0 < f4_arg1.season then
		f4_local6 = LAYOUT.GetElementHeight( f4_arg0.SeasonWithText )
		f4_arg0.SeasonWithText:UpdateSeasonText( f4_arg1.season )
		f4_arg0.SeasonWithText:SetAlpha( 1, f0_local0 )
		local f4_local7 = f4_local5 + f4_local1
		local f4_local8 = f4_local7 + f4_local6
		f4_arg0.SeasonWithText:SetTop( f4_local7, f0_local0 )
		f4_arg0.SeasonWithText:SetBottom( f4_local8, f0_local0 )
		f4_local6 = f4_local6 + f4_local1
	else
		f4_arg0.SeasonWithText:SetAlpha( 0, 0 )
	end
	local f4_local7
	if f4_arg1.rarity ~= nil and -1 < f4_arg1.rarity and not f4_local2 then
		f4_local7 = f4_local2
	else
		f4_local7 = 0
	end
	f4_local3 = f4_local3 + f4_local7 + f4_local6 + f4_local1
	if f4_arg1.isRandom == true and f4_arg1.lootType == LOOT.itemTypes.WATCH then
		f4_arg1.flavorOverride = Engine.CBBHFCGDIC( "CUSTOMIZE/RANDOM_WATCH" )
	end
	if f4_arg1.ref and f4_arg1.ref ~= "default" and (f4_arg1.isRandom == true or f0_local0( f4_arg1.lootID )) then
		f4_local7, f4_local8 = nil
		local f4_local9 = LOOT.GetTypeForID( f4_arg1.lootID )
		if f4_arg1.flavorOverride and 0 < #f4_arg1.flavorOverride then
			f4_local7 = f4_arg1.flavorOverride
		else
			if f4_local9 == LOOT.itemTypes.VEHICLE_CAMO then
				f4_local8 = VEHICLE.GetFlavorText( f4_arg1.ref )
			else
				f4_local8 = f4_arg1.storeFlavor
			end
			f4_local7 = Engine.CBBHFCGDIC( f4_local8 )
		end
		if f4_local7 ~= f4_local8 then
			f4_arg0.FlavorText:SetAlpha( 0 )
			f4_arg0.FlavorText:SetAlpha( 1, f0_local0 )
			f4_arg0.FlavorText:setText( f4_local7 )
		else
			f4_arg0.FlavorText:SetAlpha( 1 )
		end
		local f4_local10 = LAYOUT.GetTextHeightWithWrapping( f4_arg0.FlavorText, f4_local7 )
		local f4_local11 = LAYOUT.GetElementHeight( f4_arg0.FlavorText )
		f4_arg0.FlavorText:SetTop( f4_local3 + f4_local1, f0_local0 )
		f4_arg0.FlavorText:SetBottom( f4_local11 + f4_local3 + f4_local1, f0_local0 )
		f4_local3 = f4_local3 + f4_local10 + f4_local1
	else
		f4_arg0.FlavorText:SetAlpha( 0 )
		f4_arg0.FlavorText:setText( "" )
	end
	f4_local7 = ""
	if f4_arg1.lootType == LOOT.itemTypes.WATCH then
		f4_local7 = "CAS/WATCH_PREVIEW_PROMPT"
	elseif f4_arg1.lootType == LOOT.itemTypes.CHARM then
		f4_local7 = "LUA_MENU/PREVIEW_CHARM_PROMPT"
	elseif f4_arg1.lootType == LOOT.itemTypes.STICKER then
		f4_local7 = "LUA_MENU/PREVIEW_STICKER_PROMPT"
	end
	f4_arg0.PromptPreview:setText( Engine.CBBHFCGDIC( f4_local7 ) )
	f0_local0( f4_arg0, f4_local3 )
end

local f0_local4 = function ( f3_arg0, f3_arg1 )
	f3_arg0._curDim = f3_arg1
end

local f0_local5 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.SetupDetails = f0_local0
	f2_arg0.InitializeDimensions = f0_local0
end

function LootDetails( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 540 * _1080p, 0, 245 * _1080p )
	self.id = "LootDetails"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local DoubleNotchedBacker = nil
	
	DoubleNotchedBacker = MenuBuilder.BuildRegisteredType( "DoubleNotchedBacker", {
		controllerIndex = f1_local1
	} )
	DoubleNotchedBacker.id = "DoubleNotchedBacker"
	DoubleNotchedBacker:SetAlpha( 0.75, 0 )
	DoubleNotchedBacker:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	self:addElement( DoubleNotchedBacker )
	self.DoubleNotchedBacker = DoubleNotchedBacker
	
	local Name = nil
	
	Name = LUI.UIStyledText.new()
	Name.id = "Name"
	Name:SetRGBFromTable( SWATCHES.genericMenu.mainTitle, 0 )
	Name:setText( "", 0 )
	Name:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	Name:SetWordWrap( false )
	Name:SetAlignment( LUI.Alignment.Left )
	Name:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollH )
	Name:SetStartupDelay( 2000 )
	Name:SetLineHoldTime( 400 )
	Name:SetAnimMoveTime( 2000 )
	Name:SetAnimMoveSpeed( 150 )
	Name:SetEndDelay( 2000 )
	Name:SetCrossfadeTime( 400 )
	Name:SetFadeInTime( 300 )
	Name:SetFadeOutTime( 300 )
	Name:SetMaxVisibleLines( 1 )
	Name:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 32, _1080p * -32, _1080p * 16, _1080p * 66 )
	self:addElement( Name )
	self.Name = Name
	
	local SeasonWithText = nil
	
	SeasonWithText = MenuBuilder.BuildRegisteredType( "SeasonWithText", {
		controllerIndex = f1_local1
	} )
	SeasonWithText.id = "SeasonWithText"
	SeasonWithText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 34, _1080p * 194, _1080p * 151, _1080p * 183 )
	self:addElement( SeasonWithText )
	self.SeasonWithText = SeasonWithText
	
	local QualityWithText = nil
	
	QualityWithText = MenuBuilder.BuildRegisteredType( "QualityWithText", {
		controllerIndex = f1_local1
	} )
	QualityWithText.id = "QualityWithText"
	QualityWithText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 34, _1080p * 194, _1080p * 113, _1080p * 145 )
	self:addElement( QualityWithText )
	self.QualityWithText = QualityWithText
	
	local EquippedWidget = nil
	
	EquippedWidget = MenuBuilder.BuildRegisteredType( "EquippedWidget", {
		controllerIndex = f1_local1
	} )
	EquippedWidget.id = "EquippedWidget"
	EquippedWidget:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 34, _1080p * 170, _1080p * 77, _1080p * 107 )
	self:addElement( EquippedWidget )
	self.EquippedWidget = EquippedWidget
	
	local NewItemNotification = nil
	
	NewItemNotification = MenuBuilder.BuildRegisteredType( "NewItemNotification", {
		controllerIndex = f1_local1
	} )
	NewItemNotification.id = "NewItemNotification"
	NewItemNotification:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 34, _1080p * 112, _1080p * 77, _1080p * 107 )
	self:addElement( NewItemNotification )
	self.NewItemNotification = NewItemNotification
	
	local FlavorText = nil
	
	FlavorText = LUI.UIStyledText.new()
	FlavorText.id = "FlavorText"
	FlavorText:SetRGBFromTable( SWATCHES.AAR.AARdescription, 0 )
	FlavorText:setText( "", 0 )
	FlavorText:SetFont( FONTS.GetFont( FONTS.BodyRegular.File ) )
	FlavorText:SetAlignment( LUI.Alignment.Left )
	FlavorText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 32, _1080p * 494, _1080p * 195, _1080p * 217 )
	self:addElement( FlavorText )
	self.FlavorText = FlavorText
	
	local PromptPreview = nil
	
	PromptPreview = LUI.UIText.new()
	PromptPreview.id = "PromptPreview"
	PromptPreview:SetRGBFromTable( SWATCHES.AAR.XPText, 0 )
	PromptPreview:setText( Engine.CBBHFCGDIC( "CAS/WATCH_PREVIEW_PROMPT" ), 0 )
	PromptPreview:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	PromptPreview:SetAlignment( LUI.Alignment.Left )
	PromptPreview:SetVerticalAlignment( LUI.Alignment.Center )
	PromptPreview:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 34, _1080p * 378, _1080p * 8, _1080p * 28 )
	self:addElement( PromptPreview )
	self.PromptPreview = PromptPreview
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "LootDetails", LootDetails )
LockTable( _M )
