-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
module( ..., package.seeall )
local f0_local0 = "RelatedSettingsList"
local f0_local1 = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = f5_arg0.OptionWindow:GetChildIndexInGrid( f5_arg1.previewOption ) + 1
	if f5_arg0.ignoreUpdate then
		return 
	elseif f5_local0 == f5_arg0.selectedOptionIndex then
		local f5_local1 = f5_arg1.previewOption.getParent
		if f5_local1 then
			f5_local1 = f5_arg1.previewOption:getParent()
		end
		if f5_local1.id ~= "ChildrenContainer" and not f5_arg0._lastSelectedOptionInExpander then
			f5_arg0._lastSelectedOptionInExpander = false
			return 
		end
		f5_arg0._lastSelectedOptionInExpander = true
	end
	f5_arg0.selectedOptionIndex = f5_local0
	if f5_arg1.description then
		f5_arg0.ButtonDescriptionText.Description:SetVisible( true )
		f5_arg0.ButtonDescriptionText.Description:setText( f5_arg1.description )
	else
		f5_arg0.ButtonDescriptionText.Description:SetVisible( false )
		f5_arg0.ButtonDescriptionText.Description:setText( "" )
	end
	if f5_arg1.buttonName then
		f5_arg0.OptionName:SetAlpha( 0.8 )
		f5_arg0.OptionName:setText( ToUpperCase( f5_arg1.buttonName ) )
	end
	local f5_local1 = f5_arg0.OptionWindow.categoryIndexList
	if 0 < #f5_local1 then
		OPTIONS.UpdateSeparator( f5_arg0, f5_arg2, OPTIONS.GetCategoryIndexWithSettingIndex( f5_local1, f5_local0 ) )
	end
	OPTIONS.HandleRelatedSettingsPosition( f5_arg0, f5_arg2, f5_arg1, f0_local0 )
	OPTIONS.HandleNavigationToRelatedSettings( f5_arg0, f5_arg1 )
end

local f0_local2 = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0:addEventHandler( "update_button_selected", function ( f4_arg0, f4_arg1 )
		f4_arg0:UpdateOptionSelectedShared( f4_arg1, f3_arg0 )
		return true
	end )
end

function PostLoadFunc( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.PostLoadShared = f0_local0
	f2_arg0.UpdateOptionSelectedShared = f0_local0
end

function OptionsLayoutBase( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "OptionsLayoutBase"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	PostLoadFunc( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "OptionsLayoutBase", OptionsLayoutBase )
LockTable( _M )
