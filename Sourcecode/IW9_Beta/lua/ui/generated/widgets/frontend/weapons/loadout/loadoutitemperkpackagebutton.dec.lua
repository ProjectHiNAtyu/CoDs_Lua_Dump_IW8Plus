-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
module( ..., package.seeall )
require( "ui.generated.widgets.buttons.buttonlargetall" )
require( "ui.generated.widgets.frontend.weapons.perkpackage.perkicon" )
local f0_local0 = function ( f6_arg0 )
	local f6_local0 = false
	if type( f6_arg0._perkData.name ) == "xhash" then
		f6_local0 = true
	end
	if f6_local0 then
		return Engine[0xED84C33EC5F01EA]( f6_arg0._perkData.name )
	else
		return f6_arg0._perkData.name
	end
end

local f0_local1 = function ( f5_arg0, f5_arg1, f5_arg2, f5_arg3 )
	f5_arg0._perkData = f5_arg3
	local f5_local0 = {
		subHeader = 0xFF4339D58007DBF,
		header = f5_arg3.name
	}
	local f5_local1 = false
	if type( f5_arg3.name ) == "xhash" then
		f5_local1 = true
	end
	f5_arg0.Button:SetupButton( {
		localizeSubHeader = true,
		removeTextBacker = true,
		removeEquipBanner = true,
		imageSize = "Image2x1",
		buttonData = f5_local0,
		localizeHeader = f5_local1
	} )
	f5_arg0.Button:SetPrimaryPromptText( 0x7D9DC9E3291E103 )
	if f5_arg3.perks then
		local f5_local2 = {}
		if #f5_arg3.perks == 3 or CONDITIONS.IsThirdGameMode() then
			f5_local2 = {
				f5_arg0.PerkIcon1,
				f5_arg0.PerkIcon2,
				f5_arg0.PerkIcon3
			}
		elseif #f5_arg3.perks == 4 then
			f5_local2 = {
				f5_arg0.PerkIcon1,
				f5_arg0.PerkIcon2,
				f5_arg0.PerkIcon3,
				f5_arg0.SpecialPerkIcon1
			}
		end
		local f5_local3 = LOOT.itemTypes.PERK
		for f5_local4 = 1, #f5_local2, 1 do
			local f5_local7 = LOOT.GetItemImage( f5_local3, f5_arg3.perks[f5_local4] )
			if 0 >= #f5_local7 or not f5_local7 then
				f5_local7 = CoD.ERROR_TEXTURE
			end
			f5_local2[f5_local4]:UpdateIcon( RegisterMaterial( f5_local7 ) )
		end
	end
end

local f0_local2 = function ( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg0.SetupButton = f0_local0
	f4_arg0.GetPerkName = f0_local0
end

function LoadoutItemPerkPackageButton( menu, controller )
	local self = LUI.UIButton.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 336 * _1080p, 0, 204 * _1080p )
	self.id = "LoadoutItemPerkPackageButton"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local Button = nil
	
	Button = MenuBuilder.BuildRegisteredType( "ButtonLargeTall", {
		controllerIndex = f1_local1
	} )
	Button.id = "Button"
	Button:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 336, 0, _1080p * 204 )
	self:addElement( Button )
	self.Button = Button
	
	local PerkIcon1 = nil
	
	PerkIcon1 = MenuBuilder.BuildRegisteredType( "PerkIcon", {
		controllerIndex = f1_local1
	} )
	PerkIcon1.id = "PerkIcon1"
	PerkIcon1.BottomHighlight:SetRGBFromTable( SWATCHES.PerkPackages.BasicPerk, 0 )
	PerkIcon1.ColorTint:SetRGBFromTable( SWATCHES.PerkPackages.BasicPerk, 0 )
	PerkIcon1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 16, _1080p * 71, _1080p * 55, _1080p * 106 )
	self:addElement( PerkIcon1 )
	self.PerkIcon1 = PerkIcon1
	
	local SpecialPerkIcon1 = nil
	
	SpecialPerkIcon1 = MenuBuilder.BuildRegisteredType( "PerkIcon", {
		controllerIndex = f1_local1
	} )
	SpecialPerkIcon1.id = "SpecialPerkIcon1"
	SpecialPerkIcon1.BottomHighlight:SetRGBFromTable( SWATCHES.PerkPackages.UltimatePerkLight, 0 )
	SpecialPerkIcon1.ColorTint:SetRGBFromTable( SWATCHES.PerkPackages.UltimatePerkLight, 0 )
	SpecialPerkIcon1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 255, _1080p * 320, _1080p * 55, _1080p * 106 )
	self:addElement( SpecialPerkIcon1 )
	self.SpecialPerkIcon1 = SpecialPerkIcon1
	
	local PerkIcon2 = nil
	
	PerkIcon2 = MenuBuilder.BuildRegisteredType( "PerkIcon", {
		controllerIndex = f1_local1
	} )
	PerkIcon2.id = "PerkIcon2"
	PerkIcon2.BottomHighlight:SetRGBFromTable( SWATCHES.PerkPackages.BasicPerk, 0 )
	PerkIcon2.ColorTint:SetRGBFromTable( SWATCHES.PerkPackages.BasicPerk, 0 )
	PerkIcon2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 79.33, _1080p * 134.33, _1080p * 55, _1080p * 106 )
	self:addElement( PerkIcon2 )
	self.PerkIcon2 = PerkIcon2
	
	local PerkIcon3 = nil
	
	PerkIcon3 = MenuBuilder.BuildRegisteredType( "PerkIcon", {
		controllerIndex = f1_local1
	} )
	PerkIcon3.id = "PerkIcon3"
	PerkIcon3:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 158.67, _1080p * 223.67, _1080p * 55, _1080p * 106 )
	self:addElement( PerkIcon3 )
	self.PerkIcon3 = PerkIcon3
	
	local Chevron1 = nil
	
	Chevron1 = LUI.UIImage.new()
	Chevron1.id = "Chevron1"
	Chevron1:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	Chevron1:SetAlpha( 0.6, 0 )
	Chevron1:setImage( RegisterMaterial( 0x719668785D55232 ), 0 )
	Chevron1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 140, _1080p * 156, _1080p * 72, _1080p * 88 )
	self:addElement( Chevron1 )
	self.Chevron1 = Chevron1
	
	local Chevron2 = nil
	
	Chevron2 = LUI.UIImage.new()
	Chevron2.id = "Chevron2"
	Chevron2:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	Chevron2:SetAlpha( 0.6, 0 )
	Chevron2:setImage( RegisterMaterial( 0x1E0CAD4F6237620 ), 0 )
	Chevron2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 232, _1080p * 248, _1080p * 71, _1080p * 87 )
	self:addElement( Chevron2 )
	self.Chevron2 = Chevron2
	
	self:addEventHandler( "button_over", function ( f3_arg0, f3_arg1 )
		local f3_local0 = f3_arg1.controller or menu
		ACTIONS.AnimateSequence( menu, "ButtonOver", menu )
	end )
	self:addEventHandler( "button_up", function ( f2_arg0, f2_arg1 )
		local f2_local0 = f2_arg1.controller or menu
		ACTIONS.AnimateSequence( menu, "ButtonUp", menu )
	end )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "LoadoutItemPerkPackageButton", LoadoutItemPerkPackageButton )
LockTable( _M )
