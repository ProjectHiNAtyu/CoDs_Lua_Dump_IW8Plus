-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:49
module( ..., package.seeall )
require( "ui.generated.widgets.tabbacker" )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.frontend.challenges.weaponmasterbutton" )
require( "ui.generated.widgets.frontend.challenges.weaponmasterultimatepanel" )
require( "ui.generated.widgets.frontend.challenges.weaponmasterdetailspanel" )
local f0_local0 = function ( f6_arg0, f6_arg1 )
	for f6_local9, f6_local10 in ipairs( f6_arg0._categories ) do
		local f6_local11 = f6_arg1[f6_local9]
		if not f6_local11 then
			f6_local10.header:SetAlpha( 0 )
			for f6_local6, f6_local7 in ipairs( f6_local10.buttons ) do
				f6_local7:SetAlpha( 0 )
			end
			for f6_local6, f6_local7 in ipairs( f6_local10.links ) do
				f6_local7:SetAlpha( 0 )
			end
		end
		for f6_local6, f6_local7 in ipairs( f6_local11 ) do
			if f6_local6 == 1 then
				f6_local10.header:setText( f6_local7.categoryName or "" )
			end
			if f6_local6 <= #f6_local10.buttons then
				f6_local10.buttons[f6_local6]:Setup( f6_local7 )
			end
			local f6_local8 = f6_local10.links[f6_local6]
			if f6_local8 then
				if f6_local7.isComplete then
					f6_local8:SetRGBFromTable( SWATCHES.genericButton.textDefault )
				else
					f6_local8:SetRGBFromTable( SWATCHES.genericButton.border )
				end
			end
		end
	end
end

local f0_local1 = function ( f5_arg0 )
	f5_arg0._categories = {
		{
			header = f5_arg0.Cat1Header,
			buttons = {
				f5_arg0.Cat1Button1,
				f5_arg0.Cat1Button2
			},
			links = {
				f5_arg0.Cat1Link1
			}
		},
		{
			header = f5_arg0.Cat2Header,
			buttons = {
				f5_arg0.Cat2Button1,
				f5_arg0.Cat2Button2
			},
			links = {
				f5_arg0.Cat2Link1
			}
		},
		{
			header = f5_arg0.Cat3Header,
			buttons = {
				f5_arg0.Cat3Button1,
				f5_arg0.Cat3Button2,
				f5_arg0.Cat3Button3,
				f5_arg0.Cat3Button4
			},
			links = {
				f5_arg0.Cat3Link1,
				f5_arg0.Cat3Link2,
				f5_arg0.Cat3Link3
			}
		}
	}
end

local f0_local2 = function ( f3_arg0, f3_arg1, f3_arg2 )
	assert( f3_arg2.loadoutIndex )
	assert( f3_arg2.weaponSlot )
	local f3_local0 = LOADOUT.GetLoadoutSquadMember( f3_arg1 )
	local f3_local1 = WEAPON.GetMasterChallenges( f3_arg1, f3_local0.loadouts[f3_arg2.loadoutIndex].weaponSetups[f3_arg2.weaponSlot].weapon:get() )
	f3_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0x7A66BCC09F5447A ) )
	f0_local0( f3_arg0 )
	f0_local0( f3_arg0, f3_local1 )
	f3_arg0:registerEventHandler( "update_weapon_master_challenge_details", function ( element, event )
		assert( event.challenge )
		element.DetailsPanel:Setup( event.challenge )
		local f4_local0 = WEAPON.GetMasterChallengeCompletionCount( f3_arg0 )
		if f4_local0 and f4_local0 >= WEAPON.UltimateChallengeCounts.MIN then
			f3_arg0.UltimatePanel:SetAlpha( 1 )
			f3_arg0.UltimatePanel:Setup( f4_local0 )
			if not Onboarding.WeaponMasteryClassifiedChallenges.WasCompleted( f3_arg0, f3_arg0 ) then
				LUI.FlowManager.RequestPopupMenu( f3_arg0, "onboardingpopup", true, f3_arg0, false, ONBOARDING_DATA.GetOnboardingWeaponClassifiedChallengeData() )
				Onboarding.WeaponMasteryClassifiedChallenges.MarkCompleted( f3_arg0, f3_arg0 )
			end
		else
			f3_arg0.UltimatePanel:SetAlpha( 0 )
		end
	end )
	if LUI.IsLastInputMouseNavigation( f3_arg1 ) then
		local f3_local2 = 1
		f3_arg0._categories[1].buttons[1]:processEvent( {
			name = "gain_focus"
		} )
	end
	ACTIONS.ScaleStretchAnchorFullscreen( f3_arg0.TabBacker )
	ACTIONS.ScaleStretchAnchorFullscreen( f3_arg0.Darkener )
end

function WeaponMasterMenu( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "WeaponMasterMenu"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	self.HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	self.HelperBar.id = "HelperBar"
	if CONDITIONS.IsMobileOrMobileSim() then
		self.HelperBar:SetAnchorsAndPosition( 1, 0, 0, 0, _1080p * -120, 0, 0, 0 )
	else
		self.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	end
	self.HelperBar:setPriority( 10 )
	self:addElement( self.HelperBar )
	local f1_local2 = self
	local WorldBlur = nil
	
	WorldBlur = MenuBuilder.BuildRegisteredType( "WorldBlur", {
		worldBlur = 3,
		controllerIndex = f1_local1
	} )
	WorldBlur.id = "WorldBlur"
	WorldBlur:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * 2, 0, 0, 0 )
	self:addElement( WorldBlur )
	self.WorldBlur = WorldBlur
	
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	Darkener:SetRGBFromInt( 0, 0 )
	Darkener:SetAlpha( 0.2, 0 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	local TabBacker = nil
	
	TabBacker = MenuBuilder.BuildRegisteredType( "TabBacker", {
		controllerIndex = f1_local1
	} )
	TabBacker.id = "TabBacker"
	TabBacker:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 160 )
	self:addElement( TabBacker )
	self.TabBacker = TabBacker
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( Engine[0xED84C33EC5F01EA]( 0x7A66BCC09F5447A ), 0 )
	MenuTitle.ModeTitle:setText( "", 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1024, 0, _1080p * 100 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local Cat1Header = nil
	
	Cat1Header = LUI.UIStyledText.new()
	Cat1Header.id = "Cat1Header"
	Cat1Header:SetRGBFromTable( SWATCHES.genericMenu.title, 0 )
	Cat1Header:setText( Engine[0xED84C33EC5F01EA]( 0xE91F2CEB7345600 ), 0 )
	Cat1Header:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	Cat1Header:SetFontSize( 24 * _PT )
	Cat1Header:SetMinFontSize( 18 * _PT )
	Cat1Header:SetWordWrap( true )
	Cat1Header:SetEllipsesEnabled( true )
	Cat1Header:SetAlignment( LUI.Alignment.Left )
	Cat1Header:SetVerticalAlignment( LUI.Alignment.Bottom )
	Cat1Header:SetMaxVisibleLines( 2 )
	Cat1Header:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 448, _1080p * 230, _1080p * 254 )
	self:addElement( Cat1Header )
	self.Cat1Header = Cat1Header
	
	local Cat2Header = nil
	
	Cat2Header = LUI.UIStyledText.new()
	Cat2Header.id = "Cat2Header"
	Cat2Header:SetRGBFromTable( SWATCHES.genericMenu.title, 0 )
	Cat2Header:setText( Engine[0xED84C33EC5F01EA]( 0xE91F5CEB7345B19 ), 0 )
	Cat2Header:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	Cat2Header:SetFontSize( 24 * _PT )
	Cat2Header:SetMinFontSize( 18 * _PT )
	Cat2Header:SetWordWrap( true )
	Cat2Header:SetEllipsesEnabled( true )
	Cat2Header:SetAlignment( LUI.Alignment.Left )
	Cat2Header:SetVerticalAlignment( LUI.Alignment.Bottom )
	Cat2Header:SetMaxVisibleLines( 2 )
	Cat2Header:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 448, _1080p * 430, _1080p * 454 )
	self:addElement( Cat2Header )
	self.Cat2Header = Cat2Header
	
	local Cat3Header = nil
	
	Cat3Header = LUI.UIStyledText.new()
	Cat3Header.id = "Cat3Header"
	Cat3Header:SetRGBFromTable( SWATCHES.genericMenu.title, 0 )
	Cat3Header:setText( Engine[0xED84C33EC5F01EA]( 0xE91F4CEB7345966 ), 0 )
	Cat3Header:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	Cat3Header:SetFontSize( 24 * _PT )
	Cat3Header:SetMinFontSize( 18 * _PT )
	Cat3Header:SetWordWrap( true )
	Cat3Header:SetEllipsesEnabled( true )
	Cat3Header:SetAlignment( LUI.Alignment.Left )
	Cat3Header:SetVerticalAlignment( LUI.Alignment.Bottom )
	Cat3Header:SetMaxVisibleLines( 2 )
	Cat3Header:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 448, _1080p * 630, _1080p * 654 )
	self:addElement( Cat3Header )
	self.Cat3Header = Cat3Header
	
	local Cat1Button1 = nil
	
	Cat1Button1 = MenuBuilder.BuildRegisteredType( "WeaponMasterButton", {
		controllerIndex = f1_local1
	} )
	Cat1Button1.id = "Cat1Button1"
	Cat1Button1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 306, _1080p * 256, _1080p * 406 )
	self:addElement( Cat1Button1 )
	self.Cat1Button1 = Cat1Button1
	
	local Cat1Button2 = nil
	
	Cat1Button2 = MenuBuilder.BuildRegisteredType( "WeaponMasterButton", {
		controllerIndex = f1_local1
	} )
	Cat1Button2.id = "Cat1Button2"
	Cat1Button2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 381, _1080p * 557, _1080p * 256, _1080p * 406 )
	self:addElement( Cat1Button2 )
	self.Cat1Button2 = Cat1Button2
	
	local Cat2Button1 = nil
	
	Cat2Button1 = MenuBuilder.BuildRegisteredType( "WeaponMasterButton", {
		controllerIndex = f1_local1
	} )
	Cat2Button1.id = "Cat2Button1"
	Cat2Button1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 306, _1080p * 456, _1080p * 606 )
	self:addElement( Cat2Button1 )
	self.Cat2Button1 = Cat2Button1
	
	local Cat2Button2 = nil
	
	Cat2Button2 = MenuBuilder.BuildRegisteredType( "WeaponMasterButton", {
		controllerIndex = f1_local1
	} )
	Cat2Button2.id = "Cat2Button2"
	Cat2Button2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 381, _1080p * 557, _1080p * 456, _1080p * 606 )
	self:addElement( Cat2Button2 )
	self.Cat2Button2 = Cat2Button2
	
	local Cat3Button1 = nil
	
	Cat3Button1 = MenuBuilder.BuildRegisteredType( "WeaponMasterButton", {
		controllerIndex = f1_local1
	} )
	Cat3Button1.id = "Cat3Button1"
	Cat3Button1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 306, _1080p * 656, _1080p * 806 )
	self:addElement( Cat3Button1 )
	self.Cat3Button1 = Cat3Button1
	
	local Cat3Button2 = nil
	
	Cat3Button2 = MenuBuilder.BuildRegisteredType( "WeaponMasterButton", {
		controllerIndex = f1_local1
	} )
	Cat3Button2.id = "Cat3Button2"
	Cat3Button2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 381, _1080p * 557, _1080p * 656, _1080p * 806 )
	self:addElement( Cat3Button2 )
	self.Cat3Button2 = Cat3Button2
	
	local Cat3Button3 = nil
	
	Cat3Button3 = MenuBuilder.BuildRegisteredType( "WeaponMasterButton", {
		controllerIndex = f1_local1
	} )
	Cat3Button3.id = "Cat3Button3"
	Cat3Button3:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 632, _1080p * 808, _1080p * 656, _1080p * 806 )
	self:addElement( Cat3Button3 )
	self.Cat3Button3 = Cat3Button3
	
	local Cat3Button4 = nil
	
	Cat3Button4 = MenuBuilder.BuildRegisteredType( "WeaponMasterButton", {
		controllerIndex = f1_local1
	} )
	Cat3Button4.id = "Cat3Button4"
	Cat3Button4:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 883, _1080p * 1059, _1080p * 656, _1080p * 806 )
	self:addElement( Cat3Button4 )
	self.Cat3Button4 = Cat3Button4
	
	local Cat1Link1 = nil
	
	Cat1Link1 = LUI.UIImage.new()
	Cat1Link1.id = "Cat1Link1"
	Cat1Link1:SetRGBFromTable( SWATCHES.genericButton.border, 0 )
	Cat1Link1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 306, _1080p * 381, _1080p * 394, _1080p * 400 )
	self:addElement( Cat1Link1 )
	self.Cat1Link1 = Cat1Link1
	
	local Cat2Link1 = nil
	
	Cat2Link1 = LUI.UIImage.new()
	Cat2Link1.id = "Cat2Link1"
	Cat2Link1:SetRGBFromTable( SWATCHES.genericButton.border, 0 )
	Cat2Link1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 306, _1080p * 381, _1080p * 594, _1080p * 600 )
	self:addElement( Cat2Link1 )
	self.Cat2Link1 = Cat2Link1
	
	local Cat3Link1 = nil
	
	Cat3Link1 = LUI.UIImage.new()
	Cat3Link1.id = "Cat3Link1"
	Cat3Link1:SetRGBFromTable( SWATCHES.genericButton.border, 0 )
	Cat3Link1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 306, _1080p * 381, _1080p * 795, _1080p * 801 )
	self:addElement( Cat3Link1 )
	self.Cat3Link1 = Cat3Link1
	
	local Cat3Link2 = nil
	
	Cat3Link2 = LUI.UIImage.new()
	Cat3Link2.id = "Cat3Link2"
	Cat3Link2:SetRGBFromTable( SWATCHES.genericButton.border, 0 )
	Cat3Link2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 557, _1080p * 632, _1080p * 795, _1080p * 801 )
	self:addElement( Cat3Link2 )
	self.Cat3Link2 = Cat3Link2
	
	local Cat3Link3 = nil
	
	Cat3Link3 = LUI.UIImage.new()
	Cat3Link3.id = "Cat3Link3"
	Cat3Link3:SetRGBFromTable( SWATCHES.genericButton.border, 0 )
	Cat3Link3:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 808, _1080p * 883, _1080p * 795, _1080p * 801 )
	self:addElement( Cat3Link3 )
	self.Cat3Link3 = Cat3Link3
	
	local UltimatePanel = nil
	
	UltimatePanel = MenuBuilder.BuildRegisteredType( "WeaponMasterUltimatePanel", {
		controllerIndex = f1_local1
	} )
	UltimatePanel.id = "UltimatePanel"
	UltimatePanel:SetAlpha( 0, 0 )
	UltimatePanel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 1060, _1080p * 829, _1080p * 979 )
	self:addElement( UltimatePanel )
	self.UltimatePanel = UltimatePanel
	
	local DetailsPanel = nil
	
	DetailsPanel = MenuBuilder.BuildRegisteredType( "WeaponMasterDetailsPanel", {
		controllerIndex = f1_local1
	} )
	DetailsPanel.id = "DetailsPanel"
	DetailsPanel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1214, _1080p * 1790, _1080p * 230, _1080p * 880 )
	self:addElement( DetailsPanel )
	self.DetailsPanel = DetailsPanel
	
	Cat1Button1.navigation = {
		right = Cat1Button2,
		down = Cat2Button1
	}
	Cat1Button2.navigation = {
		left = Cat1Button1,
		down = Cat2Button2
	}
	Cat2Button1.navigation = {
		up = Cat1Button1,
		right = Cat2Button2,
		down = Cat3Button1
	}
	Cat2Button2.navigation = {
		left = Cat2Button1,
		up = Cat1Button2,
		down = Cat3Button2
	}
	Cat3Button1.navigation = {
		up = Cat2Button1,
		right = Cat3Button2
	}
	Cat3Button2.navigation = {
		left = Cat3Button1,
		up = Cat2Button2,
		right = Cat3Button3
	}
	Cat3Button3.navigation = {
		left = Cat3Button2,
		right = Cat3Button4
	}
	Cat3Button4.navigation = {
		left = Cat3Button3
	}
	self.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_secondary",
		helper_text = Engine[0xED84C33EC5F01EA]( 0x678DCE0E97FD19C )
	} )
	self:AddGamepadEventCallback( "button_secondary", function ( f2_arg0, f2_arg1 )
		ACTIONS.LeaveMenu( menu, f2_arg1.controller or menu )
	end )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "WeaponMasterMenu", WeaponMasterMenu )
LockTable( _M )
