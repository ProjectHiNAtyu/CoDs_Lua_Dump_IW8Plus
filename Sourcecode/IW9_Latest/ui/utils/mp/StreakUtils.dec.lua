-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:18
STREAK = STREAK or {}
STREAK.MaxStreaks = 3
STREAK.none = "none"
STREAK.uavRef = "uav"
STREAK.GUNSHIP_WEAPON_25MM_ID = 1
STREAK.GUNSHIP_WEAPON_40MM_ID = 2
STREAK.GUNSHIP_WEAPON_105MM_ID = 3
STREAK.HIDE_ALL_WEAPON_ID = 0
STREAK.GUNSHIP_WEAPON_25MM_AMMO_MAX = 30
STREAK.GUNSHIP_WEAPON_40MM_AMMO_MAX_SP = 10
STREAK.GUNSHIP_WEAPON_40MM_AMMO_MAX_MP = 5
STREAK.GUNSHIP_WEAPON_105MM_AMMO_MAX = 1
STREAK.Types = {
	LETHAL = "LETHAL",
	SUPPORT = "SUPPORT"
}
STREAK.Juggernaut = {
	Executing = 4294967295,
	Active = 1,
	Inactive = 0
}
STREAK[0x74F9D21004E6324] = {
	[0xEDB417272684F9E] = 2,
	[0x49985EF4CEE20BD] = 1,
	[0x9D7ED7F996F1D41] = 0
}
local f0_local0 = STREAK
if Engine[0x47E265B6CAD4442]() ~= Enum[0xFA786CCC4BE4587][0x8244119177F60D3] or not 0x33ADACEF6E2A34A then
	local f0_local1 = Engine[0x47E265B6CAD4442]()
	local f0_local2 = Enum[0xFA786CCC4BE4587][0x634801943BDFA92]
	local f0_local3 = 0x8CE35BE0C01753
	local f0_local4 = 0x2C8C0044FD8FD3D
end
f0_local0.listBundle = REG4 and f0_local3 or f0_local4
STREAK.GetMaxEquipStreaks = function ()
	return CONDITIONS.IsLeaguePlay() and LeaguePlayUtils.MAX_STREAKS_EQUIPPED or 3
end

STREAK.GetExtraRecordType = function ( f47_arg0 )
	local f47_local0
	if f47_arg0 ~= nil then
		f47_local0 = f47_arg0[0x7B72DB582220330]
		if not f47_local0 then
		
		else
			return f47_local0
		end
	end
	f47_local0 = ""
end

STREAK.GetDPadIcon = function ( f46_arg0 )
	local f46_local0
	if f46_arg0 ~= nil then
		f46_local0 = f46_arg0[0xD9DBC794EC76465]
		if not f46_local0 then
		
		else
			return f46_local0
		end
	end
	f46_local0 = "white"
end

STREAK.GetFullImage = function ( f45_arg0 )
	local f45_local0
	if f45_arg0 ~= nil then
		f45_local0 = f45_arg0[0xE19C41B5A516BD9]
		if not f45_local0 then
		
		else
			return f45_local0
		end
	end
	f45_local0 = "white"
end

STREAK.GetIcon = function ( f44_arg0 )
	local f44_local0
	if f44_arg0 ~= nil then
		f44_local0 = f44_arg0[0xBFF4CC56C2092F0]
		if not f44_local0 then
		
		else
			return f44_local0
		end
	end
	f44_local0 = "white"
end

STREAK.GetImage = function ( f43_arg0 )
	return STREAK.GetIcon( f43_arg0 )
end

STREAK.GetImageLarge = function ( f42_arg0 )
	local f42_local0
	if f42_arg0 ~= nil then
		f42_local0 = f42_arg0[0x26DC781D05913E5]
		if not f42_local0 then
		
		else
			return f42_local0
		end
	end
	f42_local0 = "white"
end

STREAK.GetProgressionImage = function ( f41_arg0 )
	local f41_local0
	if f41_arg0 ~= nil then
		f41_local0 = f41_arg0[0xBD538BB85256D75]
		if not f41_local0 then
		
		else
			return f41_local0
		end
	end
	f41_local0 = "white"
end

STREAK.GetTutorialVideo = function ( f40_arg0 )
	local f40_local0 = tostring
	local f40_local1
	if f40_arg0 ~= nil then
		f40_local1 = f40_arg0[0xA4F81ED61B08D92]
		if not f40_local1 then
		
		else
			return f40_local0( f40_local1 )
		end
	end
	f40_local1 = ""
end

STREAK.AreAllSlotsFilled = function ( f39_arg0 )
	for f39_local3, f39_local4 in ddlpairs( f39_arg0 ) do
		if f39_local4.killstreak:get() == STREAK.none then
			return false
		end
	end
	return true
end

STREAK.GetScore = function ( f38_arg0 )
	local f38_local0
	if f38_arg0 ~= nil then
		f38_local0 = f38_arg0[0x10E63FBE7F624F5]
		if not f38_local0 then
		
		else
			return f38_local0
		end
	end
	f38_local0 = 0
end

STREAK.GetScoreCost = function ( f37_arg0 )
	local f37_local0
	if f37_arg0 ~= nil then
		f37_local0 = f37_arg0[0x328C5F57C2D16C8]
		if not f37_local0 then
		
		else
			return f37_local0
		end
	end
	f37_local0 = 0
end

STREAK.GetKills = function ( f36_arg0 )
	local f36_local0
	if f36_arg0 ~= nil then
		f36_local0 = f36_arg0[0xBFF3D8DB7BB109E]
		if not f36_local0 then
		
		else
			return f36_local0
		end
	end
	f36_local0 = 0
end

STREAK.SortPlayerData = function ( f34_arg0 )
	local f34_local0 = {}
	for f34_local4, f34_local5 in ddlpairs( f34_arg0 ) do
		local f34_local6 = f34_local5.killstreak:get()
		table.insert( f34_local0, {
			ref = f34_local6,
			kills = tonumber( STREAK.GetKills( f34_local6 ) ) or 0
		} )
	end
	table.sort( f34_local0, function ( f35_arg0, f35_arg1 )
		if f35_arg0.ref == STREAK.none and f35_arg1.ref ~= STREAK.none then
			return false
		elseif f35_arg1.ref == STREAK.none and f35_arg0.ref ~= STREAK.none then
			return true
		else
			return f35_arg0.kills < f35_arg1.kills
		end
	end )
	for f34_local4, f34_local5 in ddlpairs( f34_arg0 ) do
		f34_local5.killstreak:set( f34_local0[f34_local4 + 1].ref )
	end
end

STREAK.GetSupportCost = function ( f33_arg0 )
	local f33_local0
	if f33_arg0 ~= nil then
		f33_local0 = f33_arg0[0x49183BD54C29D0D]
		if not f33_local0 then
		
		else
			return f33_local0
		end
	end
	f33_local0 = 0
end

STREAK.GetUseTime = function ( f32_arg0 )
	local f32_local0
	if f32_arg0 ~= nil then
		f32_local0 = f32_arg0[0xE0747334DAE395]
		if not f32_local0 then
		
		else
			return f32_local0
		end
	end
	f32_local0 = 0
end

STREAK.GetName = function ( f31_arg0 )
	return Engine[0xED84C33EC5F01EA]( STREAK.GetNameUnlocalized( f31_arg0 ) )
end

STREAK.GetNameUnlocalized = function ( f30_arg0 )
	local f30_local0
	if f30_arg0 ~= nil then
		f30_local0 = f30_arg0[0x4BCADBA8E631B86]
		if not f30_local0 then
		
		else
			return f30_local0
		end
	end
	f30_local0 = ""
end

STREAK.GetDesc = function ( f29_arg0 )
	return Engine[0xED84C33EC5F01EA]( STREAK.GetDescUnlocalized( f29_arg0 ) )
end

STREAK.GetDescUnlocalized = function ( f28_arg0 )
	local f28_local0
	if f28_arg0 ~= nil then
		f28_local0 = f28_arg0[0xCC44970C8397929]
		if not f28_local0 then
		
		else
			return f28_local0
		end
	end
	f28_local0 = ""
end

STREAK.GetShownInMenu = function ( f27_arg0 )
	local f27_local0
	if f27_arg0 ~= nil then
		f27_local0 = f27_arg0[0x6022D0B66E8CB2E]
		if not f27_local0 then
		
		else
			return f27_local0
		end
	end
	f27_local0 = ""
end

STREAK.GetStreakType = function ( f26_arg0 )
	local f26_local0
	if f26_arg0 ~= nil then
		f26_local0 = f26_arg0[0x6E3381BBB1707AB]
		if not f26_local0 then
		
		else
			return f26_local0
		end
	end
	f26_local0 = ""
end

STREAK.GetTabletImage = function ( f25_arg0 )
	local f25_local0
	if f25_arg0 ~= nil then
		f25_local0 = f25_arg0[0xACBB3549D0054A6]
		if not f25_local0 then
		
		else
			return f25_local0
		end
	end
	f25_local0 = ""
end

STREAK.GetUnlockText = function ( f24_arg0, f24_arg1 )
	return PROGRESSION.GetUnlockText( CSV.streakUnlockTable, f24_arg1 )
end

STREAK.IsNukeStreak = function ( f23_arg0 )
	return f23_arg0 == "nuke_multi"
end

STREAK.IsPhoneStreak = function ( f22_arg0 )
	local f22_local0
	if f22_arg0 ~= nil then
		f22_local0 = f22_arg0[0x607FA1EE6911B39]
		if not f22_local0 then
		
		else
			return f22_local0
		end
	end
	f22_local0 = false
end

STREAK.GetStreakIcon = function ( f21_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.munitions.file, CSV.munitions.cols.index, f21_arg0, CSV.munitions.cols.icon )
end

STREAK.GetStreakName = function ( f20_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.munitions.file, CSV.munitions.cols.index, f20_arg0, CSV.munitions.cols.name )
end

STREAK.GetStatsTable = function ( f19_arg0 )
	local f19_local0 = {}
	local f19_local1 = Engine[0x6093D047200548]( STREAK.listBundle )
	assert( f19_local1 ~= nil )
	local f19_local2 = PLAYER_DATA.IO( f19_arg0, CoD.StatsGroup.Ranked )
	f19_local2 = f19_local2.playerStats
	assert( f19_local2 ~= nil )
	for f19_local11, f19_local12 in pairs( f19_local1[0xF67E5F5982A5C70] ) do
		if f19_local12[0x8B6F2336E5960E5] then
			local f19_local6 = STREAK.GetBundleByBundleName( f19_local12[0x8B6F2336E5960E5] )
			if f19_local6 ~= nil then
				local f19_local7 = STREAK.GetStreakType( f19_local6 )
				if f19_local7 ~= "" and STREAK.GetShownInMenu( f19_local6 ) then
					local f19_local8, f19_local9 = nil
					if f19_local7 == STREAK.Types.LETHAL then
						f19_local8 = f19_local2.lethalScorestreakStats[f19_local12[0x9E9C01960F4C582]]
					elseif f19_local7 == STREAK.Types.SUPPORT then
						f19_local8 = f19_local2.supportScorestreakStats[f19_local12[0x9E9C01960F4C582]]
						f19_local9 = STREAK.GetExtraRecordType( f19_local6 )
					end
					if f19_local8 == nil then
						DebugPrint( f19_local12[0x9E9C01960F4C582] .. " streak not found in playerStats" )
					else
						local f19_local10 = STREAK.GetBundleByRef( f19_local12[0x9E9C01960F4C582] )
						table.insert( f19_local0, {
							ref = f19_local12[0x9E9C01960F4C582],
							name = STREAK.GetNameUnlocalized( f19_local10 ),
							image = STREAK.GetProgressionImage( f19_local10 ),
							uses = f19_local8.uses:get(),
							extraStat1 = f19_local8.extraStat1:get(),
							streakType = f19_local7,
							extraRecordType = f19_local9
						} )
					end
				end
			end
		end
	end
	return f19_local0
end

STREAK.GetHint = function ( f18_arg0 )
	local f18_local0
	if f18_arg0 ~= nil then
		f18_local0 = f18_arg0[0x341FCCC9B1D9B78]
		if not f18_local0 then
		
		else
			return f18_local0
		end
	end
	f18_local0 = ""
end

STREAK.GetBundleByBundleName = function ( f17_arg0 )
	local f17_local0
	if f17_arg0 ~= nil then
		f17_local0 = Engine[0x6093D047200548]( 0x2EA7297330C3F8A .. f17_arg0 )
		if not f17_local0 then
		
		else
			return f17_local0
		end
	end
	f17_local0 = nil
end

STREAK._bundleByListByRef = {}
STREAK.GetBundleByRef = function ( f16_arg0 )
	if STREAK.listBundle == nil then
		return nil
	elseif STREAK._bundleByListByRef[STREAK.listBundle] ~= nil and STREAK._bundleByListByRef[STREAK.listBundle][f16_arg0] ~= nil then
		return STREAK._bundleByListByRef[STREAK.listBundle][f16_arg0]
	end
	local f16_local0 = Engine[0x6093D047200548]( STREAK.listBundle )
	assert( f16_local0 )
	if STREAK._bundleByListByRef[STREAK.listBundle] == nil then
		STREAK._bundleByListByRef[STREAK.listBundle] = {}
	end
	for f16_local5, f16_local6 in ipairs( f16_local0[0xF67E5F5982A5C70] ) do
		if (f16_local6[0x9E9C01960F4C582] or "") == f16_arg0 and f16_local6[0x8B6F2336E5960E5] then
			local f16_local4 = Engine[0x6093D047200548]( 0x2EA7297330C3F8A .. (f16_local6[0x8B6F2336E5960E5] or "") )
			STREAK._bundleByListByRef[STREAK.listBundle][f16_arg0] = f16_local4
			return f16_local4
		end
	end
	return nil
end

STREAK.GetBundleByIndex = function ( f15_arg0 )
	local f15_local0 = Engine[0x6093D047200548]( STREAK.listBundle )
	assert( f15_local0 )
	if f15_local0[0xF67E5F5982A5C70] ~= nil then
		assert( f15_local0[0xF67E5F5982A5C70][1][0x8B6F2336E5960E5] == "killstreak_none" )
		local f15_local1
		if not f15_arg0 then
			f15_local1 = f15_arg0
		else
			f15_local1 = 0
		end
		local f15_local2 = f15_local0[0xF67E5F5982A5C70][f15_local1 + 1]
		if f15_local2 and f15_local2[0x8B6F2336E5960E5] then
			return Engine[0x6093D047200548]( 0x2EA7297330C3F8A .. (f15_local2[0x8B6F2336E5960E5] or "") )
		end
	end
	return nil
end

STREAK.GetBundleRefForIndex = function ( f14_arg0 )
	local f14_local0 = Engine[0x6093D047200548]( STREAK.listBundle )
	assert( f14_local0 )
	if f14_local0[0xF67E5F5982A5C70] ~= nil then
		local f14_local1
		if not f14_arg0 then
			f14_local1 = f14_arg0
		else
			f14_local1 = 0
		end
		local f14_local2 = f14_local0[0xF67E5F5982A5C70][f14_local1 + 1]
		local f14_local3
		if f14_local2 ~= nil then
			f14_local3 = f14_local2[0x9E9C01960F4C582]
			if not f14_local3 then
			
			else
				return f14_local3
			end
		end
		f14_local3 = ""
	else
		return ""
	end
end

STREAK.GetStreakCategoryTextFromStreakData = function ( f13_arg0, f13_arg1 )
	if f13_arg1 then
		return Engine[0xED84C33EC5F01EA]( 0xAC5395F92ACCD81, f13_arg0.kills )
	else
		return f13_arg0.scoreCost
	end
end

STREAK.GetStreakPlayerData = function ( f12_arg0 )
	local f12_local0 = LOADOUT.GetLoadoutSquadMember( f12_arg0 )
	return f12_local0.killstreakSetups
end

STREAK.GetStreaksData = function ( f9_arg0 )
	local f9_local0 = STREAK.GetStreakPlayerData( f9_arg0 )
	local f9_local1 = Engine[0x6093D047200548]( STREAK.listBundle )
	assert( f9_local1 )
	local f9_local2 = {}
	local f9_local3 = {}
	local f9_local4 = {}
	if CoD.IsDMZMatch() then
		f9_local3[f9_local0[0].killstreak:get()] = true
	else
		local f9_local5 = STREAK.GetMaxEquipStreaks()
		for f9_local9, f9_local10 in ddlpairs( f9_local0 ) do
			if f9_local5 <= f9_local9 then
				break
			end
			f9_local3[f9_local10.killstreak:get()] = true
		end
	end
	for f9_local8, f9_local9 in pairs( f9_local1[0xF67E5F5982A5C70] ) do
		if f9_local9[0x8B6F2336E5960E5] then
			local f9_local10 = STREAK.GetBundleByBundleName( f9_local9[0x8B6F2336E5960E5] )
			if f9_local10 then
				local f9_local11 = DMZ.IsLimitedInventoryEnabled()
				local f9_local12 = {}
				if f9_local11 then
					f9_local12 = DMZ.GetInventoryItemsOfType( f9_arg0, LOOT.itemTypes.STREAK, {
						lootIDKey = true
					} )
				end
				local f9_local13 = LOOT.GetItemID( f9_local9[0x9E9C01960F4C582] )
				local f9_local14 = f9_local3[f9_local9[0x9E9C01960F4C582]]
				local f9_local15 = f9_local10[0x6022D0B66E8CB2E]
				if f9_local15 then
					f9_local15 = MatchRules[0xEAD2EDE698008BA]( f9_local9[0x9E9C01960F4C582] )
				end
				if (not f9_local15 or f9_local14) and (not (not f9_local10[0x6022D0B66E8CB2E] or f9_local11) or f9_local11 and f9_local12[f9_local13]) then
					local f9_local16 = {
						ref = f9_local9[0x9E9C01960F4C582],
						name = STREAK.GetNameUnlocalized( f9_local10 ),
						desc = STREAK.GetDescUnlocalized( f9_local10 ),
						kills = STREAK.GetKills( f9_local10 ),
						scoreCost = STREAK.GetScoreCost( f9_local10 ),
						icon = STREAK.GetIcon( f9_local10 ),
						fullImage = STREAK.GetFullImage( f9_local10 ),
						isRestricted = f9_local15,
						isActive = f9_local14
					}
					local f9_local17 = PROGRESSION.GetUnlockRank( f9_local13 )
					local f9_local18 = {
						type = LOOT.unlockTypes.LEVEL
					}
					if f9_local17 then
						local f9_local19 = 0
						local f9_local20 = PROGRESSION.GetRankDisplay( f9_local17 )
					end
					f9_local18.level = f9_local19 and f9_local20 or 99
					f9_local16.unlockInfo = f9_local18
					if not f9_local11 then
						f9_local18 = f9_local11
					else
						f9_local18 = PROGRESSION.IsUnlocked( f9_arg0, LOOT.itemTypes.STREAK, f9_local16.ref )
					end
					f9_local16.isUnlocked = f9_local18
					f9_local16.lootID = f9_local13
					if not f9_local16.isUnlocked then
						f9_local16.unlockCriteria = PROGRESSION.GetUnlockText( LOOT.itemTypes.STREAK, f9_local16.ref )
					end
					f9_local16.headerTags = STREAK.MobileGetStreakHeaderTag( f9_arg0, f9_local16 )
					if f9_local14 then
						table.insert( f9_local4, f9_local16 )
					end
					if f9_local11 then
						f9_local16.quantity = f9_local12[f9_local13].quantity
					end
					table.insert( f9_local2, f9_local16 )
				end
			end
		end
	end
	table.sort( f9_local2, function ( f11_arg0, f11_arg1 )
		if CONDITIONS.IsT10() then
			return tonumber( f11_arg0.scoreCost ) < tonumber( f11_arg1.scoreCost )
		else
			return tonumber( f11_arg0.kills ) < tonumber( f11_arg1.kills )
		end
	end )
	table.sort( f9_local4, function ( f10_arg0, f10_arg1 )
		if CONDITIONS.IsT10() then
			return tonumber( f10_arg0.scoreCost ) < tonumber( f10_arg1.scoreCost )
		else
			return tonumber( f10_arg0.kills ) < tonumber( f10_arg1.kills )
		end
	end )
	return f9_local2, f9_local4
end

STREAK.GetStreakData = function ( f8_arg0, f8_arg1 )
	for f8_local3, f8_local4 in ipairs( STREAK.GetStreaksData( f8_arg0 ) ) do
		if f8_local4.ref == f8_arg1 then
			return f8_local4
		end
	end
	return nil
end

STREAK.GetEquippedStreakRef = function ( f7_arg0, f7_arg1 )
	if not f7_arg1 then
		f7_arg1 = STREAK[0x74F9D21004E6324][0x9D7ED7F996F1D41]
	end
	local f7_local0 = STREAK.GetStreakPlayerData( f7_arg0 )
	if CoD.IsDMZMatch() then
		f7_arg1 = STREAK[0x74F9D21004E6324][0x9D7ED7F996F1D41]
	end
	return f7_local0[f7_arg1].killstreak:get()
end

STREAK.MobileGetStreakHeaderTag = function ( f6_arg0, f6_arg1 )
	if not CONDITIONS.IsMobileOrMobileSim() then
		return nil
	end
	local f6_local0 = {}
	local f6_local1, f6_local2 = nil
	local f6_local3 = LOADOUT.GetLoadoutSquadMember( f6_arg0 )
	if f6_local3.scoreStreak:get() == 0 then
		f6_local1 = Engine[0xED84C33EC5F01EA]( 0x56ECD1CD964F55B, f6_arg1.kills )
		f6_local2 = ItemDetailsUtils.LeftHeaderState.STREAK_KILLS
	else
		f6_local1 = Engine[0xED84C33EC5F01EA]( 0x30BDAFE605FFDFA, f6_arg1.scoreCost )
		f6_local2 = ItemDetailsUtils.LeftHeaderState.STREAK_SCORE
	end
	table.insert( f6_local0, {
		name = f6_local1,
		tagState = f6_local2
	} )
	return f6_local0
end

STREAK.GetStreakDetails = function ( f5_arg0, f5_arg1 )
	local f5_local0 = STREAK.GetStreakData( f5_arg0, f5_arg1 )
	return {
		name = f5_local0.name,
		desc = f5_local0.desc,
		kills = f5_local0.kills,
		scoreCost = f5_local0.scoreCost,
		isUnlocked = f5_local0.isUnlocked,
		unlockCriteria = f5_local0.unlockCriteria,
		isEquipped = f5_local0.isActive,
		lootID = f5_local0.lootID,
		headerTags = f5_local0.headerTags
	}
end

STREAK.GetCurrentStreakDetails = function ( f4_arg0 )
	return STREAK.GetStreakDetails( f4_arg0, STREAK.GetEquippedStreakRef( f4_arg0 ) )
end

STREAK.GetStreaksStackAnimation = function ( f3_arg0 )
	if f3_arg0 == 1 then
		return "OneStreak"
	elseif f3_arg0 == 2 then
		return "TwoStreaks"
	else
		return "ThreeStreaks"
	end
end

STREAK.GetStreakInfoWidgets = function ( f2_arg0, f2_arg1 )
	local f2_local0 = {}
	if 1 <= f2_arg1 then
		f2_local0[1] = f2_arg0.StreakInfoOne
	end
	if 2 <= f2_arg1 then
		f2_local0[2] = f2_arg0.StreakInfoTwo
	end
	if 3 <= f2_arg1 then
		f2_local0[3] = f2_arg0.StreakInfoThree
	end
	return f2_local0
end

STREAK.SetupStreakSelectMenu = function ( f1_arg0, f1_arg1, f1_arg2 )
	if not CONDITIONS.IsMobileOrMobileSim() then
		return 
	else
		f1_arg0.detailsDataSource = LUI.SetupDataSourceUpdate( f1_arg0, f1_arg1, "UpdateDetailsDataSources", "alwaysLoaded.menu.streak.details", STREAK.GetCurrentStreakDetails( f1_arg1 ), ItemDetailsUtils.FormatDetailsDataTable, {
			rootField = "detailsDataSource",
			listHandlersData = ItemDetailsUtils.GetHeaderTagsDataSourcesListHandlers()
		} )
		ItemDetailsUtils.MobileSetMenuItemDetailsType( f1_arg0, ItemDetailsUtils[0x5ABE5FD362B0038][0xF6A30D8E8906F53] )
	end
end

