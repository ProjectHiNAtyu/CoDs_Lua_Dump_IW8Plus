-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
LUI.FlowManager = LUI.Class( LUI.UIElement )
PushAndPopsTable = {}
DisableLetterbox = {}
DisableMousePointer = {}
FenceGroups = {}
FenceGroupFallbackMenu = {}
SavedMenuStates = {}
AlwaysVisible = {}
PresetStacks = {}
IgnoreFollowHostCallbacks = {}
PartyUIRoot = {
	PRE_LOBBY_MENU = 11,
	BR_TRIALS = 18,
	MISSION_SELECT = 27,
	GAMEMODE_MP_MENUS_START = 8,
	CP_PUBLIC_MATCH_LOBBY = 51,
	MP_SYSTEM_LINK = 15,
	MP_MAIN_MENU = 10,
	WZ_TOURNAMENT_MATCHMAKING = 57,
	LOCKOUT_MENU = 2,
	GAMEMODE_NONE_MENUS_START = 1,
	CP_MAIN_MENU = 49,
	TOURNAMENT_BRACKET = 22,
	EXGM_LOADOUT_CONFIRMATION_MENU = 32,
	GAMEMODE_WZ_MENUS_START = 55,
	LP_MAIN_MENU = 34,
	SP_MAIN_MENU = 6,
	BR_PRE_PRIVATE_MATCH = 41,
	OPERATOR_SELECT_SCREEN = 28,
	MAIN_MENU_OFFLINE = 3,
	DMZ_MAIN_MENU = 24,
	MAIN_MENU = 9,
	BR_MAIN_MENU = 39,
	TOURNAMENT_LOADING = 20,
	EXGM_MAIN_MENU = 25,
	WZ_TOURNAMENT_BRACKET = 58,
	LOADOUT_SELECT_MENU = 23,
	MP_TRIAL_EVENT = 61,
	TOURNAMENT_MATCHMAKING = 21,
	OFFLINE_GAMEMODE_SP_MENUS_END = -63,
	CP_SYSTEM_LINK_LOBBY = 53,
	GAMEMODE_NONE_MENUS_END = 4,
	GAMEMODE_SP_MENUS_END = 7,
	MP_PUBLIC_MATCH_LOBBY = 13,
	LP_PUBLIC_MATCH_LOBBY = 35,
	LP_BR_PUBLIC_MATCH_LOBBY = 43,
	GAMEMODE_MP_MENUS_END = 47,
	PARTY_MATCHMAKING_LOBBY = 33,
	LP_BR_MAIN_MENU = 42,
	BR_PRE_LOBBY_MENU = 40,
	GAMEMODE_SP_MENUS_START = 5,
	PAYBACK_ONBOARDING_LOBBY = 46,
	LAST = -62,
	MP_SYSTEM_LINK_GAMEMODE = 14,
	GAMEMODE_CP_MENUS_END = 54,
	GAMEMODE_CP_MENUS_START = 48,
	MP_SYSTEM_LINK_LOBBY = 16,
	DMZ_MISSIONS_OVERVIEW = 30,
	CP_PRIVATE_MATCH = 50,
	SP_MAIN_MENU_OFFLINE = -64,
	MP_TRIALS = 17,
	DMZ_LOCATION_SELECT = 29,
	BATTLE_ROYALE_MENU_TUTORIAL = 45,
	MP_PRE_PRIVATE_MATCH = 37,
	MP_BENCHMARK = 36,
	FREE = 0,
	MP_PRIVATE_MATCH = 12,
	BATTLE_ROYALE_MENU_PUBLIC_LOBBY = 44,
	OB_MAIN_MENU = 26,
	MP_PRIVATE_TOURNAMENT_LOBBY = 19,
	GAMEMODE_WZ_MENUS_END = 60,
	WZ_PRIVATE_MATCH_LOBBY = 59,
	OFFLINE_GAMEMODE_SP_MENUS_START = 63,
	WZ_TOURNAMENT_LOADING = 56,
	BR_TRIAL_EVENT = 62,
	DMZ_LOADOUT_CONFIRMATION_MENU = 31,
	CP_SYSTEM_LINK = 52,
	BATTLE_ROYALE_MENU = 38
}
local f0_local0 = "LoadoutOverview"
local f0_local1 = "BindingPreview"
local f0_local2 = "FiringRangeMenu"
local f0_local3 = "FiringRangePauseMenu"
BR_MENUS_START = PartyUIRoot.BATTLE_ROYALE_MENU
BR_MENUS_END = PartyUIRoot.PAYBACK_ONBOARDING_LOBBY
LUI.FlowManager.IsBelowBlockingFence = false
LUI.FlowManager.FlowMenus = {
	[PartyUIRoot.LOCKOUT_MENU] = "MainLockoutMenu",
	[PartyUIRoot.MAIN_MENU_OFFLINE] = "MainMenuOffline",
	[PartyUIRoot.MAIN_MENU] = "MainMenu",
	[PartyUIRoot.SP_MAIN_MENU] = "CampaignMenu",
	[PartyUIRoot.MP_MAIN_MENU] = "MPMainMenu",
	[PartyUIRoot.PRE_LOBBY_MENU] = "PrelobbyMainMenu",
	[PartyUIRoot.MP_PRIVATE_MATCH] = "PrivateMatchLobby",
	[PartyUIRoot.MP_PUBLIC_MATCH_LOBBY] = "MPPublicLobby",
	[PartyUIRoot.MP_SYSTEM_LINK_GAMEMODE] = "MPSystemLinkGameModes",
	[PartyUIRoot.MP_SYSTEM_LINK] = "MPSystemLinkMenu",
	[PartyUIRoot.MP_SYSTEM_LINK_LOBBY] = "MPSystemLinkLobby",
	[PartyUIRoot.MP_TRIALS] = "TrialsMP",
	[PartyUIRoot.BR_TRIALS] = "TrialsBR",
	[PartyUIRoot.MP_PRIVATE_TOURNAMENT_LOBBY] = "PrivateTournamentLobby",
	[PartyUIRoot.TOURNAMENT_LOADING] = "TournamentLoadingScreen",
	[PartyUIRoot.TOURNAMENT_MATCHMAKING] = "TournamentMatchmaking",
	[PartyUIRoot.TOURNAMENT_BRACKET] = "ArenaTournament",
	[PartyUIRoot.LOADOUT_SELECT_MENU] = "<disabled>",
	[PartyUIRoot.DMZ_MAIN_MENU] = "DMZMainMenu",
	[PartyUIRoot.EXGM_MAIN_MENU] = "EXGMMainMenu",
	[PartyUIRoot.OB_MAIN_MENU] = "OBMainMenu",
	[PartyUIRoot.MISSION_SELECT] = "MissionSelect",
	[PartyUIRoot.OPERATOR_SELECT_SCREEN] = "OperatorSelectScreen",
	[PartyUIRoot.DMZ_LOCATION_SELECT] = "DMZLocationSelect",
	[PartyUIRoot.DMZ_MISSIONS_OVERVIEW] = "DMZMissionsOverview",
	[PartyUIRoot.DMZ_LOADOUT_CONFIRMATION_MENU] = "DMZLoadoutConfirmationMenu",
	[PartyUIRoot.EXGM_LOADOUT_CONFIRMATION_MENU] = "EXGMLoadoutConfirmationMenu",
	[PartyUIRoot.PARTY_MATCHMAKING_LOBBY] = "PartyMatchmakingLobby",
	[PartyUIRoot.BATTLE_ROYALE_MENU] = "BattleRoyale",
	[PartyUIRoot.BR_MAIN_MENU] = "BRMainMenu",
	[PartyUIRoot.BR_PRE_LOBBY_MENU] = "BrPrelobbyMainMenu",
	[PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY] = "BRPublicLobby",
	[PartyUIRoot.BATTLE_ROYALE_MENU_TUTORIAL] = "LobbyWarzoneTutorial",
	[PartyUIRoot.LP_MAIN_MENU] = "LPMainMenu",
	[PartyUIRoot.LP_BR_MAIN_MENU] = "LPBRMainMenu",
	[PartyUIRoot.LP_PUBLIC_MATCH_LOBBY] = "LPPublicLobby",
	[PartyUIRoot.LP_BR_PUBLIC_MATCH_LOBBY] = "LPBRPublicLobby",
	[PartyUIRoot.MP_BENCHMARK] = "BenchmarkLobby",
	[PartyUIRoot.MP_PRE_PRIVATE_MATCH] = "GameModes",
	[PartyUIRoot.BR_PRE_PRIVATE_MATCH] = "BRGameModes",
	[PartyUIRoot.CP_MAIN_MENU] = "CPMainMenu",
	[PartyUIRoot.CP_PRIVATE_MATCH] = "CPPrivateMatchLobby",
	[PartyUIRoot.CP_PUBLIC_MATCH_LOBBY] = "CPPublicMatchMenu",
	[PartyUIRoot.CP_SYSTEM_LINK] = "CPSystemLinkMenu",
	[PartyUIRoot.CP_SYSTEM_LINK_LOBBY] = "CPSystemLinkLobby",
	[PartyUIRoot.PAYBACK_ONBOARDING_LOBBY] = "PayBackOnBoardingLobby",
	[PartyUIRoot.WZ_TOURNAMENT_LOADING] = "WZTournamentLoadingScreen",
	[PartyUIRoot.WZ_TOURNAMENT_MATCHMAKING] = "WZTournamentMatchmaking",
	[PartyUIRoot.WZ_TOURNAMENT_BRACKET] = "WZArenaTournament",
	[PartyUIRoot.WZ_PRIVATE_MATCH_LOBBY] = "WarzonePrivateMatchLobbyChangeRoleMenu",
	[PartyUIRoot.MP_TRIAL_EVENT] = "TrialEventMP",
	[PartyUIRoot.BR_TRIAL_EVENT] = "TrialEventBR",
	[PartyUIRoot.SP_MAIN_MENU_OFFLINE] = "CampaignMenuOffline"
}
LUI.FlowManager.PremiumMenus = {
	nil,
	"CampaignMenu",
	"CampaignMenuOffline",
	"MPMainMenu",
	"MPSystemLinkMenu",
	"MPSystemLinkLobby",
	"CPMainMenu",
	"CPSystemLinkMenu"
}
local f0_local4 = {}
LUI.FlowManager.RegisterMainMenuKeyArtTransitionMenu = function ( f183_arg0 )
	table.insert( f0_local0, f183_arg0 )
end

LUI.FlowManager.IsInMainMenuTransition = function ()
	return LUI.FlowManager.IsAnyInStack( f0_local0 )
end

local f0_local5 = false
LUI.FlowManager.ShouldHideNonMainMenuTransitionVideos = function ()
	local f181_local0 = LUI.FlowManager.IsInMainMenuTransition()
	if f181_local0 then
		f181_local0 = f0_local0
	end
	return f181_local0
end

LUI.FlowManager.SetShouldHideNonMainMenuTransitionVideos = function ( f180_arg0 )
	f0_local0 = f180_arg0
end

LUI.FlowManager.AutoNavigationType = {
	TOURNAMENT = 4,
	PARTY_UI_ROOT = 3,
	GAME_MODE = 2,
	NONE = 1
}
LUI.FlowManager.GetPartyUIRootIndexByMenuName = function ( f179_arg0 )
	for f179_local3, f179_local4 in pairs( LUI.FlowManager.FlowMenus ) do
		if f179_local4 == f179_arg0 then
			return f179_local3
		end
	end
	return PartyUIRoot.FREE
end

LUI.FlowManager.RegisterStackPushBehaviour = function ( f178_arg0, f178_arg1 )
	assert( f178_arg1 )
	assert( MenuBuilder.IsValidAlias( f178_arg0 ) )
	PushAndPopsTable[f178_arg0] = PushAndPopsTable[f178_arg0] or {}
	local f178_local0 = PushAndPopsTable[f178_arg0]
	f178_local0.pushFuncs = f178_local0.pushFuncs or {}
	table.insert( f178_local0.pushFuncs, f178_arg1 )
end

LUI.FlowManager.RegisterStackPopBehaviour = function ( f177_arg0, f177_arg1 )
	assert( f177_arg1 )
	assert( MenuBuilder.IsValidAlias( f177_arg0 ) )
	PushAndPopsTable[f177_arg0] = PushAndPopsTable[f177_arg0] or {}
	local f177_local0 = PushAndPopsTable[f177_arg0]
	f177_local0.popFuncs = f177_local0.popFuncs or {}
	table.insert( f177_local0.popFuncs, f177_arg1 )
end

LUI.FlowManager.ClearStackPushAndPopBehaviour = function ( f176_arg0 )
	PushAndPopsTable[f176_arg0] = nil
end

LUI.FlowManager.RegisterFenceGroup = function ( f175_arg0, f175_arg1, f175_arg2 )
	FenceGroups[f175_arg0] = f175_arg1
	FenceGroupFallbackMenu[f175_arg0] = f175_arg2
end

LUI.FlowManager.RegisterIgnoreFollowHostCallback = function ( f174_arg0, f174_arg1 )
	IgnoreFollowHostCallbacks[f174_arg0] = f174_arg1
end

LUI.FlowManager.DisableLetterboxForMenu = function ( f173_arg0 )
	DisableLetterbox[f173_arg0] = true
end

LUI.FlowManager.AlwaysVisibleForMenu = function ( f172_arg0 )
	AlwaysVisible[f172_arg0] = true
end

LUI.FlowManager.RequestSetStack = function ( f171_arg0, f171_arg1 )
	assert( type( f171_arg0 ) == "string" )
	assert( type( f171_arg1 ) == "table" )
	PresetStacks[f171_arg0] = f171_arg1
end

LUI.FlowManager.DisableMousePointerForMenu = function ( f170_arg0 )
	DisableMousePointer[f170_arg0] = true
end

LUI.FlowManager.GetPerControllerPersistentData = function ( f169_arg0 )
	if not LUI.FlowManager._persistentData then
		LUI.FlowManager._persistentData = {}
	end
	if not LUI.FlowManager._persistentData[f169_arg0] then
		LUI.FlowManager._persistentData[f169_arg0] = {}
	end
	return LUI.FlowManager._persistentData[f169_arg0]
end

LUI.FlowManager.GetFlowManager = function ()
	local f168_local0 = Engine[0xEE6F69FEA944B13]()
	local f168_local1
	if f168_local0 then
		f168_local1 = f168_local0
	else
		f168_local1 = f168_local0.flowManager
	end
	return f168_local1
end

LUI.FlowManager.GetScopedData = function ( f167_arg0 )
	local f167_local0 = type( f167_arg0 )
	local f167_local1 = assert
	local f167_local2
	if f167_local0 ~= "string" and f167_local0 ~= "userdata" then
		f167_local2 = false
	else
		f167_local2 = true
	end
	f167_local1( f167_local2 )
	f167_local1 = Engine[0xEE6F69FEA944B13]()
	local f167_local3 = assert
	local f167_local4
	if f167_local1 then
		f167_local4 = f167_local1
	else
		f167_local4 = f167_local1.flowManager
	end
	f167_local3( f167_local4 )
	f167_local3 = f167_local1.flowManager
	if f167_local0 == "string" then
		return f167_local3:GetScopedDataFromMenuName( f167_arg0 )
	elseif f167_local0 == "userdata" then
		return f167_local3:GetScopedDataFromElement( f167_arg0 )
	else
		
	end
end

LUI.FlowManager.GetMainScopedData = function ()
	return LUI.FlowManager.GetScopedData( LUI.FlowManager.FlowMenus[PartyUIRoot.LOCKOUT_MENU] )
end

LUI.FlowManager.RequestAddMenu = function ( f165_arg0, f165_arg1, f165_arg2, f165_arg3, f165_arg4, f165_arg5 )
	assert( type( f165_arg0 ) == "string" )
	METRICS.SendDlogEventCODHQ_UISession( f165_arg2, f165_arg0 )
	local f165_local0 = {
		name = "addmenu",
		menu = f165_arg0,
		exclusiveController = f165_arg1,
		controller = f165_arg2,
		replaceTop = f165_arg3,
		immediate = f165_arg5,
		data = f165_arg4
	}
	local f165_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( f165_local1, true, "RequestAddMenu " .. f165_arg0 )
	LUI.UIRoot.ProcessEvent( f165_local1, f165_local0 )
end

LUI.FlowManager.RequestPopupMenu = function ( f164_arg0, f164_arg1, f164_arg2, f164_arg3, f164_arg4, f164_arg5, f164_arg6, f164_arg7, f164_arg8 )
	assert( f164_arg1 )
	local f164_local0 = {
		name = "popupmenu",
		menu = f164_arg1,
		isModal = f164_arg7,
		exclusiveController = f164_arg2,
		controller = f164_arg3,
		replaceTop = f164_arg4,
		data = f164_arg5
	}
	if f164_arg8 ~= nil then
		f164_local0.immediate = f164_arg8
	else
		f164_local0.immediate = true
	end
	local f164_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( f164_local1, true, "RequestPopupMenu " .. f164_arg1 )
	LUI.UIRoot.ProcessEvent( f164_local1, f164_local0 )
end

LUI.FlowManager.RequestErrorPopup = function ( f163_arg0, f163_arg1, f163_arg2, f163_arg3 )
	if f163_arg3 == nil then
		f163_arg3 = true
	end
	if not LUI.FlowManager.IsInStack( "generic_error_popup" ) then
		LUI.FlowManager.RequestPopupMenu( nil, "generic_error_popup", true, f163_arg0, false, {
			title = f163_arg1,
			message = f163_arg2
		}, nil, false, f163_arg3 )
	end
end

LUI.FlowManager.RequestDevErrorPopup = function ( f162_arg0, f162_arg1 )
	if CONDITIONS.IsDevelopmentBuild() and not LUI.FlowManager.IsInStack( "error_popmenu" ) then
		Dvar[0xE3CB005036E0C0F]( 0xCEEF44E99C361E4, f162_arg0 )
		Dvar[0xE3CB005036E0C0F]( 0xC7FD770960649E9, f162_arg1 )
		DebugPrint( "Opening error popup (#1): | Title: " .. tostring( f162_arg0 ) .. " | Message:" .. tostring( f162_arg1 ) .. " | Length: " .. tostring( #f162_arg1 ) )
		LUI.FlowManager.RequestPopupMenu( nil, "error_popmenu" )
	end
end

local f0_local6 = function ( f161_arg0 )
	local f161_local0 = f161_arg0
	if String.IsNilOrEmpty( f161_local0 ) then
		local f161_local1 = LUI.FlowManager.GetTopmostMenu()
		if f161_local1 and f161_local1.name then
			f161_local0 = f161_local1.name
		end
	end
	if not String.IsNilOrEmpty( f161_local0 ) then
		IgnoreFollowHostCallbacks[f161_local0] = nil
	end
end

LUI.FlowManager.RequestLeaveMenu = function ( f160_arg0, f160_arg1, f160_arg2, f160_arg3 )
	f0_local0( nil )
	local f160_local0 = {
		name = "leavemenu",
		element = f160_arg0,
		immediate = f160_arg1,
		blockSound = f160_arg2,
		controller = f160_arg3
	}
	local f160_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( f160_local1, true, "RequestLeaveMenu" )
	LUI.UIRoot.ProcessEvent( f160_local1, f160_local0 )
	if Dvar[0x9E5BE3B4BBA4E0E]( "lui_disable_focus_on_leave" ) ~= true then
		LUI.UIRoot.ClearFocusStack( f160_local1 )
	end
end

LUI.FlowManager.RequestLeaveMenuByName = function ( f159_arg0, f159_arg1, f159_arg2, f159_arg3 )
	assert( f159_arg0 )
	f0_local0( f159_arg0 )
	local f159_local0 = {
		name = "leavemenu",
		menu = f159_arg0,
		immediate = f159_arg1,
		blockSound = f159_arg2,
		controller = f159_arg3
	}
	local f159_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( f159_local1, true, "RequestLeaveMenuByName " .. f159_arg0 )
	LUI.UIRoot.ProcessEvent( f159_local1, f159_local0 )
	if Dvar[0x9E5BE3B4BBA4E0E]( "lui_disable_focus_on_leave" ) ~= true then
		LUI.UIRoot.ClearFocusStack( f159_local1 )
	end
end

LUI.FlowManager.RequestLeaveMenuByNameWithController = function ( f158_arg0, f158_arg1, f158_arg2, f158_arg3 )
	assert( f158_arg0 )
	f0_local0( f158_arg0 )
	local f158_local0 = {
		name = "leavemenu",
		menu = f158_arg0,
		immediate = f158_arg2,
		blockSound = f158_arg3,
		managerControllerIndex = f158_arg1
	}
	local f158_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( Engine[0xEE6F69FEA944B13](), true, "RequestLeaveMenuByName " .. f158_arg0 )
	LUI.UIRoot.ProcessEvent( f158_local1, f158_local0 )
	if Dvar[0x9E5BE3B4BBA4E0E]( "lui_disable_focus_on_leave" ) ~= true then
		LUI.UIRoot.ClearFocusStack( f158_local1 )
	end
end

LUI.FlowManager.RequestRestoreMenu = function ( f157_arg0, f157_arg1, f157_arg2, f157_arg3 )
	local f157_local0 = {
		name = "restoreMenu",
		menu = f157_arg0
	}
	local f157_local1
	if f157_arg3 == nil then
		f157_local1 = true
	else
		f157_local1 = f157_arg3
	end
	f157_local0.immediate = f157_local1
	f157_local0.exclusiveController = f157_arg1
	f157_local0.controller = f157_arg2
	f157_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( f157_local1, true, "RequestRestoreMenu" )
	LUI.UIRoot.ProcessEvent( f157_local1, f157_local0 )
	METRICS.SendDlogEventCODHQ_UISession( f157_arg2, f157_arg0 )
end

LUI.FlowManager.RequestCloseAllMenus = function ( f156_arg0, f156_arg1, f156_arg2 )
	LUI.UIRoot.ProcessEvent( Engine[0xEE6F69FEA944B13](), {
		name = "closeallmenus"
	} )
	if f156_arg0 then
		METRICS.RecordInGameDismissMenuUsage( f156_arg2, f156_arg0, f156_arg1 )
	end
end

LUI.FlowManager.IsInStack = function ( f155_arg0 )
	local f155_local0 = Engine[0xEE6F69FEA944B13]()
	local f155_local1 = assert
	local f155_local2
	if f155_local0 then
		f155_local2 = f155_local0
	else
		f155_local2 = f155_local0.flowManager
	end
	f155_local1( f155_local2 )
	return f155_local0.flowManager:StackContains( f155_arg0 )
end

LUI.FlowManager.IsAnyInStack = function ( f154_arg0 )
	local f154_local0 = Engine[0xEE6F69FEA944B13]()
	local f154_local1 = assert
	local f154_local2
	if f154_local0 then
		f154_local2 = f154_local0
	else
		f154_local2 = f154_local0.flowManager
	end
	f154_local1( f154_local2 )
	return f154_local0.flowManager:StackContainsAny( f154_arg0 )
end

LUI.FlowManager.PopMenuStackUpToMenu = function ( f153_arg0, f153_arg1 )
	if not LUI.FlowManager.IsInStack( f153_arg0 ) then
		return 
	end
	local f153_local0 = Engine[0xEE6F69FEA944B13]()
	local f153_local1 = assert
	local f153_local2
	if f153_local0 then
		f153_local2 = f153_local0
	else
		f153_local2 = f153_local0.flowManager
	end
	f153_local1( f153_local2 )
end

LUI.FlowManager.IsErrorPopUp = function ( f152_arg0 )
	if f152_arg0 and f152_arg0.name and (f152_arg0.name == "generic_error_popup" or f152_arg0.name == "error_popmenu") then
		return true
	else
		return false
	end
end

local f0_local7 = function ( f151_arg0 )
	if SavedMenuStates[f151_arg0] == nil then
		SavedMenuStates[f151_arg0] = {}
	end
	return SavedMenuStates[f151_arg0]
end

LUI.FlowManager.ClearSavedMenuStatesByControllerIndex = function ( f150_arg0, f150_arg1 )
	local f150_local0 = f0_local0( f150_arg0 )
	if f150_arg1 then
		f150_local0[f150_arg1] = nil
	end
end

LUI.FlowManager.IsTopMenuModal = function ()
	local f149_local0 = Engine[0xEE6F69FEA944B13]()
	local f149_local1 = assert
	local f149_local2
	if f149_local0 then
		f149_local2 = f149_local0
	else
		f149_local2 = f149_local0.flowManager
	end
	f149_local1( f149_local2 )
	f149_local1 = f149_local0.flowManager.menuInfoStack
	local f149_local3 = f149_local1[#f149_local1]
	if f149_local3 then
		f149_local2 = f149_local3
	else
		f149_local2 = f149_local3.isModal
	end
	return f149_local2
end

LUI.FlowManager.IsMenuOnTop = function ( f148_arg0 )
	local f148_local0 = Engine[0xEE6F69FEA944B13]()
	local f148_local1 = assert
	local f148_local2
	if f148_local0 then
		f148_local2 = f148_local0
	else
		f148_local2 = f148_local0.flowManager
	end
	f148_local1( f148_local2 )
	f148_local1 = f148_local0.flowManager:GetStackTop()
	local f148_local3
	if f148_local1 then
		f148_local3 = f148_local1
	else
		f148_local3 = f148_local1.name == f148_arg0
	end
	return f148_local3
end

LUI.FlowManager.IsFlyInPopupMenuOnTop = function ()
	local f147_local0 = LUI.FlowManager.GetVisibleMenu()
	if f147_local0 and f147_local0._isFlyInPopup then
		return true
	else
		return false
	end
end

LUI.FlowManager.GetCurrentMenu = function ( f146_arg0 )
	local f146_local0 = Engine[0xEE6F69FEA944B13]()
	local f146_local1 = assert
	local f146_local2
	if f146_local0 then
		f146_local2 = f146_local0
	else
		f146_local2 = f146_local0.flowManager
	end
	f146_local1( f146_local2 )
	if f146_arg0:getParent() then
		
	else
		
	end
	assert( "Error getting current menu. Most likely, the element has not been added to a menu yet." )
end

LUI.FlowManager.GetPreviousMenu = function ( f145_arg0 )
	local f145_local0
	if not f145_arg0 then
		f145_local0 = f145_arg0
	else
		f145_local0 = Engine[0xEE6F69FEA944B13]()
	end
	local f145_local1 = f145_local0.flowManager:GetFirstNonPopUpMenu()
	local f145_local2 = LUI.FlowManager.GetMenuStack()
	for f145_local3 = #f145_local2, 1, -1 do
		if f145_local2[f145_local3].name == f145_local1.previousMenuName then
			return f145_local2[f145_local3]
		end
	end
end

LUI.FlowManager.GetVisibleMenu = function ()
	local f144_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f144_local0 )
	local f144_local1 = f144_local0.flowManager
	if f144_local1 and f144_local1.menuInfoStack then
		local f144_local2 = f144_local1.menuInfoStack[#f144_local1.menuInfoStack]
		if f144_local2 and f144_local2.menu then
			return f144_local2.menu
		end
	end
end

LUI.FlowManager.IsUsingWeaponOriginOffset = function ()
	if WEAPON.IsWeaponPreviewInStack() then
		return false
	elseif CONDITIONS.IsMenuInStack( "SocialShowcaseWeaponAttachmentInspect" ) then
		return false
	else
		return true
	end
end

LUI.FlowManager.GetMenuNameAtIndex = function ( f142_arg0 )
	local f142_local0 = LUI.FlowManager.GetMenuStack()
	if f142_local0 ~= nil and f142_arg0 < 0 then
		f142_arg0 = #f142_local0 + f142_arg0
	end
	assert( f142_local0[f142_arg0] )
	return f142_local0[f142_arg0].name
end

LUI.FlowManager.GetMenuStartTime = function ( f141_arg0 )
	if f141_arg0 and f141_arg0.scopedData then
		return f141_arg0.scopedData.menuStartTime or 0
	else
		return 0
	end
end

LUI.FlowManager.GetMenuStack = function ()
	local f140_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f140_local0 )
	return f140_local0.flowManager.menuInfoStack
end

LUI.FlowManager.GetAllMenuNames = function ()
	local f139_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f139_local0 )
	local f139_local1 = f139_local0.flowManager
	local f139_local2 = nil
	if f139_local1 and f139_local1.menuInfoStack then
		for f139_local3 = #f139_local1.menuInfoStack, 1, -1 do
			local f139_local6 = f139_local1.menuInfoStack[f139_local3].name
			if f139_local6 and f139_local6 ~= "" then
				if f139_local3 == #f139_local1.menuInfoStack and not f139_local6 then
					f139_local2 = f139_local6
				else
					f139_local2 = f139_local2 .. ";" .. f139_local6
				end
			end
		end
	end
	return f139_local2
end

LUI.FlowManager.GetMenuByName = function ( f138_arg0 )
	local f138_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f138_local0 )
	local f138_local1 = f138_local0.flowManager
	if f138_local1 and f138_local1.menuInfoStack then
		for f138_local2 = #f138_local1.menuInfoStack, 1, -1 do
			local f138_local5 = f138_local1.menuInfoStack[f138_local2]
			if f138_arg0 == f138_local5.name then
				return f138_local5
			end
		end
	end
end

function ExecuteLUAFunction( f137_arg0 )
	local f137_local0 = _G
	for f137_local4 in string.gmatch( f137_arg0, "[^.]+" ) do
		f137_local0 = f137_local0[f137_local4]
	end
	f137_local1 = f137_local0
	...
	f137_local1()
end

function SetBRWeaponStatusInfoReactiveHUDType( f136_arg0 )
	GL_HACK.reactiveHUDType = tonumber( f136_arg0 )
end

function SaveMenuStack( f135_arg0 )
	assert( f135_arg0 )
	assert( f135_arg0.flowManager )
	local f135_local0 = {}
	for f135_local4, f135_local5 in ipairs( f135_arg0.flowManager.menuInfoStack ) do
		table.insert( f135_local0, CreateMenuInfoSaveData( f135_local5 ) )
	end
	return Table.Serialize( f135_local0 )
end

function RestoreMenuStack( f134_arg0, f134_arg1 )
	assert( f134_arg0 )
	assert( f134_arg0.flowManager )
	assert( f134_arg1 )
	local f134_local0 = f134_arg0.flowManager
	f134_local0:closeAllMenus()
	local f134_local1, f134_local2 = loadstring( f134_arg1 )
	if f134_local1 then
		local f134_local3, f134_local4 = pcall( f134_local1 )
		for f134_local8, f134_local9 in ipairs( f134_local4 ) do
			local f134_local10 = f134_local9.name
			assert( f134_local10 )
			if FenceGroups[f134_local10] then
				f134_local9.fenceGroup = LUI.FenceGroup.new( FenceGroups[f134_local10], Engine[0x45B054C920178E9]() )
			end
			f134_local9.scopedData = MakeScopedDataForMenuInfo( f134_local9 )
			f134_local0:PushMenuInfo( f134_local9 )
		end
	end
	f134_arg0:TryAddMouseCursor()
end

function IsMenuInStack( f133_arg0, f133_arg1 )
	assert( f133_arg0 )
	local f133_local0 = f133_arg0.flowManager
	if not f133_local0 then
		return false
	else
		return f133_local0:StackContains( f133_arg1 )
	end
end

function IsMenuOpenAndVisible( f132_arg0, f132_arg1 )
	assert( f132_arg0 )
	local f132_local0 = f132_arg0.flowManager
	if not f132_local0 then
		return false
	elseif f132_local0.menuInfoStack then
		for f132_local4, f132_local5 in ipairs( f132_local0.menuInfoStack ) do
			if f132_local5.name == f132_arg1 and f132_local5.menu ~= nil then
				return true
			elseif f132_local5.name == "FlyInPopup" and f132_local5.buildData.FlyInPopupName == f132_arg1 then
				return true
			end
		end
	end
	return false
end

function AnyActiveMenusInStack( f131_arg0 )
	assert( f131_arg0 )
	local f131_local0 = f131_arg0.flowManager
	if not f131_local0 then
		return false
	elseif f131_local0.menuInfoStack then
		for f131_local4, f131_local5 in ipairs( f131_local0.menuInfoStack ) do
			if f131_local5.menu then
				return true
			end
		end
	end
	return false
end

function GetVisibleMenu( f130_arg0 )
	assert( f130_arg0 )
	local f130_local0 = f130_arg0.flowManager
	if not f130_local0 then
		return ""
	elseif f130_local0.menuInfoStack then
		local f130_local1 = f130_local0.menuInfoStack[#f130_local0.menuInfoStack]
		if f130_local1 and f130_local1.menu then
			if f130_local1.menu.id then
				return f130_local1.menu.id
			elseif f130_local1.menu.name then
				return f130_local1.menu.name
			end
		end
	end
	return ""
end

function IsUsingWeaponOriginOffset( f129_arg0 )
	assert( f129_arg0 )
	if WEAPON.IsWeaponPreviewInStack() then
		return false
	elseif CONDITIONS.IsMenuInStack( "SocialShowcaseWeaponAttachmentInspect" ) then
		return false
	else
		return true
	end
end

function GetAllMenuNames()
	local f128_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f128_local0 )
	local f128_local1 = f128_local0.flowManager
	local f128_local2 = nil
	if f128_local1 and f128_local1.menuInfoStack then
		for f128_local3 = #f128_local1.menuInfoStack, 1, -1 do
			local f128_local6 = f128_local1.menuInfoStack[f128_local3]
			local f128_local7 = f128_local6.name
			local f128_local8 = ClickStream.FindTabsAtMenu( f128_local6.menu, f128_local6.menu )
			if LUI.TabManager.HasTab( f128_local8 ) then
				local f128_local9 = f128_local8:GetCurrentTab()
				local f128_local10
				if f128_local9 then
					f128_local10 = "#Tab " .. (f128_local9.menuId and f128_local9.menuId or f128_local9.id)
					if not f128_local10 then
					
					else
						f128_local7 = f128_local7 .. "-" .. f128_local10
					end
				end
				f128_local10 = "#EmptyTab"
			end
			if f128_local7 and f128_local7 ~= "" then
				if f128_local3 == #f128_local1.menuInfoStack and not f128_local7 then
					f128_local2 = f128_local7
				else
					f128_local2 = f128_local2 .. ";" .. f128_local7
				end
			end
		end
	end
	return f128_local2
end

function GetLuiStreamerInfo( f127_arg0, f127_arg1 )
	if f127_arg0 and f127_arg0:getFirstChild() then
		
	else
		
	end
end

function GetLuiImageStreamersInfo()
	local f126_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f126_local0 )
	local f126_local1 = {
		value = nil
	}
	local f126_local2 = f126_local0.flowManager
	if f126_local2 and f126_local2.menuInfoStack then
		for f126_local3 = #f126_local2.menuInfoStack, 1, -1 do
			local f126_local6 = f126_local2.menuInfoStack[f126_local3]
			GetLuiStreamerInfo( f126_local6.menu, f126_local1 )
			f126_local1.value = ";" .. f126_local6.name .. ": " .. f126_local1.value .. ";"
		end
	end
	return f126_local1.value
end

function PrintLuiStreamedImageInfo( f125_arg0, f125_arg1 )
	if f125_arg0 and f125_arg0:getFirstChild() then
		
	else
		
	end
end

function GetLuiStreamedImageList( f124_arg0 )
	local f124_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f124_local0 )
	if f124_local0:getFirstChild() then
		
	else
		
	end
end

function GetAttachmentsReference( f123_arg0 )
	if CONDITIONS.InGame() then
		local f123_local0 = ""
		local f123_local1 = Game[0x7A240787D8A22FE]( f123_arg0, true )
		if f123_local1 and 0 < #f123_local1 then
			for f123_local2 = 1, #f123_local1, 1 do
				if f123_local1[f123_local2].ref then
					local f123_local5 = f123_local1[f123_local2].ref
					local f123_local6 = f123_local1[f123_local2].variantID
					if f123_local6 and 0 < f123_local6 then
						f123_local5 = f123_local5 .. "|" .. f123_local6
					end
					if f123_local0 ~= "" then
						local f123_local7 = f123_local0 .. ";" .. f123_local5
						if not f123_local7 then
							f123_local0 = f123_local7
						else
							f123_local0 = f123_local5
						end
					end
					f123_local0 = f123_local5
				end
			end
			return f123_local0
		end
	end
	return ""
end

function GetFrontsceneWeaponModelName( f122_arg0 )
	if Engine[0x12586A3F4FB490E]() then
		local f122_local0 = f122_arg0.flowManager
		if f122_local0 and f122_local0.menuInfoStack then
			local f122_local1 = f122_local0.menuInfoStack[#f122_local0.menuInfoStack]
			if f122_local1 and f122_local1.menu and f122_local1.menu.id == LOADOUT.GetAttachmentSelectMenuRef() then
				local f122_local2 = LUI.FlowManager.GetScopedData( f122_local1.menu )
				if f122_local2.loadoutIndex then
					local f122_local3 = ""
					local f122_local4 = LOADOUT.GetLoadoutSquadMember( Engine[0x45B054C920178E9]() )
					local f122_local5 = f122_local4.loadouts[f122_local2.loadoutIndex].weaponSetups[f122_local2.weaponSlot]
					return WEAPON.GetWeaponModelName( f122_local5.weapon:get(), WEAPON.GenerateWeaponTable( f122_local5 ), {
						includeStickers = true,
						includeCamos = true,
						includeAttachments = true
					} )
				end
			elseif f122_local1 and f122_local1.menu and f122_local1.menu.GetCurrentWeaponModelName then
				return f122_local1.menu:GetCurrentWeaponModelName()
			else
				local f122_local2 = ""
				local f122_local3 = Engine[0x45B054C920178E9]()
				local f122_local4 = LOADOUT.GetLoadoutSquadMember( f122_local3 )
				local f122_local6 = f122_local4.loadouts[LOADOUT.GetFavoriteLoadoutIndex( f122_local3 )].weaponSetups[WEAPON.PrimarySlot]
				return WEAPON.GetWeaponModelName( f122_local6.weapon:get(), WEAPON.GenerateWeaponTable( f122_local6 ), {
					includeStickers = true,
					includeCamos = true,
					includeAttachments = true
				} )
			end
		end
	end
	return ""
end

function IsTopSignInMenu( f121_arg0 )
	assert( f121_arg0 )
	if not CONDITIONS.IsSplitScreenEnabled() then
		return false
	end
	local f121_local0 = f121_arg0.flowManager
	if not f121_local0 then
		return false
	elseif not LUI.UIRoot.IsButtonInputBlocked( f121_arg0 ) and f121_local0.menuInfoStack then
		local f121_local1 = f121_local0.menuInfoStack[#f121_local0.menuInfoStack]
		if f121_local1 and f121_local1.menu and f121_local1.menu.isSignInMenu then
			local f121_local2 = LUI.FlowManager.GetScopedData( f121_local1.menu )
			if f121_local2 and f121_local2.focusedPage and 2 < f121_local2.focusedPage then
				return false
			else
				local f121_local3 = LUI.FlowManager.FindTabsAtElement( f121_local1.menu )
				if f121_local3 and not f121_local3:IsSplitScreenSignInTab() then
					return false
				else
					return true
				end
			end
		end
	end
	return false
end

function CanSignoutSplitscreenPlayer( f120_arg0 )
	assert( f120_arg0 )
	local f120_local0 = f120_arg0.flowManager
	local f120_local1 = false
	if not LUI.UIRoot.IsButtonInputBlocked( f120_arg0 ) and f120_local0.menuInfoStack then
		local f120_local2 = f120_local0.menuInfoStack[#f120_local0.menuInfoStack]
		if f120_local2 and f120_local2.menu and f120_local2.menu.signoutSplitscreen ~= false then
			f120_local1 = true
		end
	end
	return f120_local1
end

function IsTopLocalSignInMenu( f119_arg0 )
	return false
end

LUI.FlowManager.removeMenuStack = function ( f118_arg0, f118_arg1 )
	if f118_arg0.currentSplitScreenMenusInUse and f118_arg0.currentSplitScreenMenusInUse[f118_arg1.menuName] then
		local f118_local0 = DataSources.inGame.numberOfSplitScreenPlayersInMenus:GetModel()
		local f118_local1 = DataModel[0x614D394F6F9A18D]( f118_local0 )
		assert( 0 < f118_local1 )
		DataModel[0x83C9B5DE1D9371]( f118_local0, f118_local1 - 1 )
		f118_arg0.currentSplitScreenMenusInUse[f118_arg1.menuName] = nil
	end
end

LUI.FlowManager.isSplitScreenMenuInUse = function ( f117_arg0 )
	local f117_local0 = LUI.FlowManager.GetFlowManager()
	if f117_local0.currentSplitScreenMenusInUse and f117_local0.currentSplitScreenMenusInUse[f117_arg0] then
		return true
	end
	for f117_local5, f117_local6 in pairs( LUI.roots ) do
		if f117_local6 ~= f117_local0.root then
			local f117_local4 = f117_local6.flowManager
			if f117_local4.currentSplitScreenMenusInUse and f117_local4.currentSplitScreenMenusInUse[f117_arg0] then
				return true
			end
		end
	end
	return false
end

LUI.FlowManager.closeAllMenusHandler = function ( f116_arg0, f116_arg1 )
	f116_arg0:closeAllMenus()
end

LUI.FlowManager.restoreMenuHandler = function ( f115_arg0, f115_arg1 )
	f115_arg0:restoreMenu( f115_arg1 )
	LUI.UIRoot.BlockButtonInput( f115_arg0.root, false, "RestoreMenuHandler" )
end

LUI.FlowManager.autoNavigationToMenuHandler = function ( f114_arg0, f114_arg1 )
	assert( f114_arg1 )
	assert( f114_arg1.menuId )
	LUI.FlowManager.RequestAutomaticNavigation( f114_arg1.menuId )
	LUI.UIRoot.BlockButtonInput( f114_arg0.root, false, "AutoNavigationToMenuHandler" )
end

LUI.FlowManager.addMenuHandler = function ( f113_arg0, f113_arg1 )
	f113_arg0:addMenu( f113_arg1 )
	LUI.UIRoot.BlockButtonInput( f113_arg0.root, false, "AddMenuHandler" )
end

LUI.FlowManager.popupMenuHandler = function ( f112_arg0, f112_arg1 )
	f112_arg1.isPopup = true
	f112_arg0:addMenuHandler( f112_arg1 )
end

LUI.FlowManager.leaveMenuHandler = function ( f111_arg0, f111_arg1 )
	f111_arg0:leaveMenu( f111_arg1 )
	LUI.UIRoot.BlockButtonInput( f111_arg0.root, false, "leaveMenu" )
end

LUI.FlowManager.onMobileWebviewOpenHandler = function ( f110_arg0, f110_arg1 )
	if f110_arg0:AreMainMenuFencedOut() then
		return 
	else
		LUI.FlowManager.RequestPopupMenu( nil, "MobileWebLoading", true, f110_arg0._controllerIndex )
	end
end

LUI.FlowManager.closeAllMenus = function ( f109_arg0 )
	for f109_local0 = #f109_arg0.menuInfoStack, 1, -1 do
		local f109_local3 = f109_arg0.menuInfoStack[f109_local0]
		if not AlwaysVisible[f109_local3.name] then
			f109_arg0:CloseMenuInfo( f109_local3, false, false )
			f109_arg0:RemoveMenuInfo( f109_local3 )
		end
	end
end

LUI.FlowManager.closeFlyInPopup = function ( f108_arg0 )
	local f108_local0 = nil
	local f108_local1 = LUI.FlowManager.GetMenuByName( "FlyInPopup" )
	if f108_local1 then
		if f108_arg0 and f108_local1.menu and f108_local1.menu.exitAnimation then
			f108_local1.menu:exitAnimation()
		else
			ACTIONS.LeaveMenu( f108_local1.buildData.widget )
		end
		f108_local0 = f108_local1.menu
		MobileFlyInPopupUtils.ResetCurrentFlyInPopup()
	end
	return f108_local0
end

LUI.FlowManager.restoreMenu = function ( f107_arg0, f107_arg1 )
	local f107_local0 = nil
	if f107_arg1.menuId ~= nil then
		f107_arg1.menu = LUI.FlowManager.FlowMenus[f107_arg1.menuId]
	end
	if not f107_arg0.IsInStack( f107_arg1.menu ) then
		f107_arg0:addMenu( f107_arg1 )
		return 
	end
	local f107_local1 = f107_arg0:GetStackTop()
	if f107_local1 and f107_local1.name == f107_arg1.menu then
		return 
	end
	local f107_local2 = nil
	for f107_local3 = #f107_arg0.menuInfoStack, 1, -1 do
		local f107_local6 = f107_arg0.menuInfoStack[f107_local3]
		if not f107_local6.isModal then
			if f107_local6.name ~= f107_arg1.menu then
				f107_arg0:CloseMenuInfo( f107_local6, false, false )
				f107_arg0:RemoveMenuInfo( f107_local6 )
			end
		end
	end
	f107_arg0:RefreshStack()
end

local f0_local8 = function ( f106_arg0 )
	local f106_local0 = nil
	for f106_local1 = #f106_arg0.menuInfoStack, 1, -1 do
		local f106_local4 = f106_arg0.menuInfoStack[f106_local1]
		if f106_local4.isCreatedByGlobalPanel then
			f106_local0 = f106_local4.name
		end
	end
	return f106_local0
end

local f0_local9 = function ( f105_arg0 )
	local f105_local0 = f0_local0( f105_arg0 )
	if f105_local0 then
		LUI.FlowManager.PopMenuStackUpToMenu( f105_local0, true )
	end
end

LUI.FlowManager.SaveGlobalPanelScopedData = function ( f104_arg0, f104_arg1 )
	f104_arg0._globalPanelScopedData = f104_arg1
end

LUI.FlowManager.addMenu = function ( f103_arg0, f103_arg1 )
	local f103_local0 = f103_arg1.menu
	local f103_local1 = f103_arg1.controller
	if not f103_local1 then
		f103_local1 = f103_arg0:getRootController()
	end
	local f103_local2 = f103_arg0.menuInfoStack[#f103_arg0.menuInfoStack]
	if GLOBAL_PANEL and CONDITIONS.IsMenuInStack( f103_local0 ) then
		ACTIONS.PopMenuStackUpToMenu( f103_local0, true )
	end
	DebugPrintLogFileOnly( "INGAME MENU: Add Menu: " .. f103_local0 )
	for f103_local6, f103_local7 in ipairs( f103_arg0.menuInfoStack ) do
		if f103_local7.name == f103_local0 then
			if f103_local0 == "FlyInPopup" and f103_arg1.data.FlyInPopupName ~= nil then
				f103_local7.buildData.FlyInPopupName = f103_arg1.data.FlyInPopupName
			end
			DebugPrintLogFileOnly( "- Menu already exists." )
			return 
		end
	end
	if LUI.FlowManager.IsMenuUnreleased( f103_arg0, f103_local0 ) then
		DebugPrintLogFileOnly( "- Menu unreleased." )
		return 
	elseif DataSources.alwaysLoaded.flowManager.stackChanged then
		DataSources.alwaysLoaded.flowManager.stackChanged:SetValue( f103_local1, f103_arg1.name )
	end
	if f103_local2 and f103_arg1.replaceTop then
		DebugPrintLogFileOnly( "- Replace top menu." )
		f103_arg0:CloseMenuInfo( f103_local2, false, false )
		f103_arg0:RemoveMenuInfo( f103_local2 )
	end
	f103_local4 = f103_arg0:CreateMenuInfo( f103_local0, f103_arg1.data, f103_arg1.exclusiveController, f103_local1, LUI.UIRoot.GetTabName() )
	f103_local4.isPopup = f103_arg1.isPopup or f103_arg1.isModal
	f103_local4.isModal = f103_arg1.isModal
	ClickStream.OnNavigation( f103_arg0, f103_local1, f103_local4, f103_local2, ClickStream.Direction.FORWARD )
	if f103_local2 then
		f103_local4.previousMenuName = f103_local2.name
		if GLOBAL_PANEL then
			f103_local4.isCreatedByGlobalPanel = f103_local2.isCreatedByGlobalPanel
			if f103_local4.previousMenuName == GLOBAL_PANEL.MENU_NAME then
				f103_local4.isCreatedByGlobalPanel = true
				if not f103_local4.isPopup then
					f0_local0( f103_arg0 )
					f103_arg0:SaveGlobalPanelScopedData( f103_local2.scopedData )
					LUI.FlowManager.RequestLeaveMenuByName( GLOBAL_PANEL.MENU_NAME, true, true )
				end
			end
		end
	end
	f103_arg0:PushMenuInfo( f103_local4 )
	f103_arg0:RefreshStack()
	DebugPrintLogFileOnly( "TEST_BOT: Opening " .. f103_local0 .. " menu." )
end

LUI.FlowManager.leaveMenu = function ( f102_arg0, f102_arg1 )
	DebugPrintLogFileOnly( "INGAME MENU: Leave Menu" )
	if not f102_arg1.controller then
		local f102_local0 = f102_arg0:getRootController()
	end
	local f102_local1 = f102_arg0._controllerIndex
	if not f102_local1 then
		local f102_local0 = f102_local1
	else
		local f102_local0 = Engine[0x45B054C920178E9]()
	end
	if f102_arg1.controller and GL_HACK.IsLeaveMenuControllerFixEnabled() then
		local f102_local0 = f102_arg1.controller
	end
	if f102_arg1.managerControllerIndex and f102_local0 ~= f102_arg1.managerControllerIndex then
		DebugPrintLogFileOnly( "- Incorrect controller trying to leave the menu." )
		return 
	end
	f102_local1 = nil
	if f102_arg1.menuId ~= nil then
		f102_arg1.menu = LUI.FlowManager.FlowMenus[f102_arg1.menuId]
		DebugPrintLogFileOnly( "- Menu ID: " .. tostring( f102_arg1.menuId ) .. "." )
	end
	if DataSources.alwaysLoaded.flowManager.stackChanged then
		DataSources.alwaysLoaded.flowManager.stackChanged:SetValue( f102_local0, f102_arg1.name )
	end
	if f102_arg1.element or f102_arg1.menu then
		for f102_local2 = #f102_arg0.menuInfoStack, 1, -1 do
			local f102_local5 = f102_arg0.menuInfoStack[f102_local2]
			local f102_local6 = f102_arg1.element
			if f102_local6 then
				f102_local6 = f102_arg1.element:isDescendentOf( f102_local5.menu )
			end
			local f102_local7 = f102_arg1.menu
			if f102_local7 then
				f102_local7 = f102_local5.name == f102_arg1.menu
			end
			if f102_local6 or f102_local7 then
				f102_local1 = f102_local5
				break
			end
		end
		f102_arg1.element = nil
		f102_arg1.menu = nil
		if f102_local1 then
			DebugPrintLogFileOnly( "- Leaving specific menu: " .. f102_local1.name .. "." )
		else
			if not f102_local1 then
				DebugPrintLogFileOnly( "- No menu to close." )
				return 
			end
			DebugPrintLogFileOnly( "TEST_BOT: Closing " .. f102_local1.name .. " menu." )
			ClickStream.OnNavigation( f102_arg0, f102_local0, nil, f102_local1, ClickStream.Direction.BACKWARD )
			f102_arg0:CloseMenuInfo( f102_local1, false, false )
			f102_arg0:RemoveMenuInfo( f102_local1 )
			if not f102_local1.isModal and not f102_arg1.blockSound then
				Engine[0xC4146BA76D0F982]( SOUND_SETS.default.back )
			end
			f102_arg0:RefreshStack()
			local f102_local2 = f102_arg0.menuInfoStack[#f102_arg0.menuInfoStack]
			if f102_local2 then
				f102_local2.previousMenuName = f102_local1.name
				DebugPrintLogFileOnly( "TEST_BOT: Returning to " .. f102_local2.name .. " menu." )
			end
			local f102_local4
			if f0_local0( f102_arg0 ) == nil then
				f102_local4 = f102_local1.isCreatedByGlobalPanel
			else
				f102_local4 = false
			end
			if GLOBAL_PANEL and f102_local4 and not LUI.FlowManager.IsInStack( GLOBAL_PANEL.MENU_NAME ) and f102_local1.name ~= GLOBAL_PANEL.MENU_NAME then
				GLOBAL_PANEL.OpenGlobalPanel( f102_arg0, f102_local0, 0, {}, f102_arg0._globalPanelScopedData )
			end
		end
	else
		DebugPrintLogFileOnly( "- Leaving top menu." )
		f102_local1 = f102_arg0:GetStackTop()
	end
	if not f102_local1 then
		DebugPrintLogFileOnly( "- No menu to close." )
		return 
	end
	DebugPrintLogFileOnly( "TEST_BOT: Closing " .. f102_local1.name .. " menu." )
	ClickStream.OnNavigation( f102_arg0, f102_local0, nil, f102_local1, ClickStream.Direction.BACKWARD )
	f102_arg0:CloseMenuInfo( f102_local1, false, false )
	f102_arg0:RemoveMenuInfo( f102_local1 )
	if not f102_local1.isModal and not f102_arg1.blockSound then
		Engine[0xC4146BA76D0F982]( SOUND_SETS.default.back )
	end
	f102_arg0:RefreshStack()
	local f102_local2 = f102_arg0.menuInfoStack[#f102_arg0.menuInfoStack]
	if f102_local2 then
		f102_local2.previousMenuName = f102_local1.name
		DebugPrintLogFileOnly( "TEST_BOT: Returning to " .. f102_local2.name .. " menu." )
	end
	local f102_local4
	if f0_local0( f102_arg0 ) == nil then
		f102_local4 = f102_local1.isCreatedByGlobalPanel
	else
		f102_local4 = false
	end
	if GLOBAL_PANEL and f102_local4 and not LUI.FlowManager.IsInStack( GLOBAL_PANEL.MENU_NAME ) and f102_local1.name ~= GLOBAL_PANEL.MENU_NAME then
		GLOBAL_PANEL.OpenGlobalPanel( f102_arg0, f102_local0, 0, {}, f102_arg0._globalPanelScopedData )
	end
end

LUI.FlowManager.GetScopedDataFromElement = function ( f101_arg0, f101_arg1, f101_arg2 )
	if f101_arg1._scoped then
		return f101_arg1._scoped
	else
		local f101_local0 = f101_arg1:getParent()
		if not f101_local0 then
			if f101_arg2 then
				DebugPrint( "Could not find scoped data for supplied LUI element and current visible menu" )
				return {}
			else
				DebugPrint( "Could not find scoped data for supplied LUI element, attempting to get scoped data from visible menu. The supplied LUI element is " .. tostring( f101_arg1.id ) )
				local f101_local1 = LUI.FlowManager.GetVisibleMenu()
				if f101_local1 then
					return f101_arg0:GetScopedDataFromElement( f101_local1, true )
				elseif Engine[0x7AE6126734FCDB]() then
					return {}
				else
					DebugPrint( "Could not find scoped data for supplied LUI element and there is no visible menu. The supplied LUI element is " .. tostring( f101_arg1.id ) )
					return {}
				end
			end
		else
			return f101_arg0:GetScopedDataFromElement( f101_local0, f101_arg2 )
		end
	end
end

LUI.FlowManager.GetScopedDataFromMenuName = function ( f100_arg0, f100_arg1 )
	for f100_local0 = #f100_arg0.menuInfoStack, 1, -1 do
		local f100_local3 = f100_arg0.menuInfoStack[f100_local0]
		if f100_local3.name == f100_arg1 then
			return f100_local3.scopedData
		end
	end
	assert( false, "Could not find scoped data for menu named " .. f100_arg1 .. "." )
end

function CreateMenuInfoSaveData( f99_arg0 )
	local f99_local0 = {}
	for f99_local9, f99_local10 in pairs( f99_arg0 ) do
		if f99_local9 ~= "fenceGroup" and f99_local9 ~= "scopedData" then
			if f99_local9 == "menu" then
				
			end
			if f99_local9 == "buildData" then
				for f99_local7, f99_local8 in pairs( f99_local10 ) do
					if type( f99_local8 ) == "table" and f99_local8.__serializable == false then
						DebugPrint( "WARNING: Not saving buildData field \"" .. tostring( f99_local7 ) .. "\" for LUI Reload of menu \"" .. tostring( f99_arg0.name ) .. "\"" )
						f99_local10[f99_local7] = nil
					end
				end
			end
			f99_local0[f99_local9] = f99_local10
		end
	end
	return f99_local0
end

function MakeScopedDataForMenuInfo( f98_arg0 )
	local f98_local0 = {}
	for f98_local4, f98_local5 in pairs( f98_arg0.buildData ) do
		f98_local0[f98_local4] = f98_local5
	end
	if f98_arg0.controller then
		f98_local0.controllerIndex = f98_arg0.controller
		f98_local0.exclusiveController = f98_arg0.controller
		f98_local0.exclusiveControllerIndex = f98_arg0.controller
		f98_local0.isControllerExclusive = f98_arg0.isControllerExclusive
	end
	f98_local0.menuName = f98_arg0.name
	f98_local0.menuStartTime = Engine[0x3B8CFB6758EF57C]()
	return f98_local0
end

LUI.FlowManager.CreateMenuInfo = function ( f94_arg0, f94_arg1, f94_arg2, f94_arg3, f94_arg4, f94_arg5 )
	local f94_local0 = f94_arg0
	local f94_local1 = {
		name = f94_arg1,
		tabName = f94_arg5
	}
	local f94_local2
	if not f94_arg2 then
		f94_local2 = f94_arg2
	else
		f94_local2 = {}
	end
	f94_local1.buildData = f94_local2
	f94_local1.controller = f94_arg4
	if not Engine[0x12586A3F4FB490E]() then
		f94_local1.controller = f94_arg0:getRootController()
	elseif not f94_arg4 then
		DebugPrint( "Warning: opening menu \"" .. f94_arg1 .. "\" for unspecified controllerIndex, defaulting to 0" )
		f94_local1.controller = 0
	end
	if f94_arg4 == nil or f94_arg3 ~= true then
		f94_local2 = false
	else
		f94_local2 = true
	end
	f94_local1.isControllerExclusive = f94_local2
	f94_local1.scopedData = MakeScopedDataForMenuInfo( f94_local1 )
	if not MenuBuilder.IsTypeRegistered( f94_arg1 ) then
		MenuBuilder.LoadFile( f94_arg1 )
	end
	if FenceGroups[f94_arg1] then
		f94_local1.fenceGroup = LUI.FenceGroup.new( FenceGroups[f94_arg1], f94_local1.controller, f94_local1.buildData )
		f94_local1.fenceGroup.OnPass = function ( f97_arg0 )
			
		end
		
		f94_local1.fenceGroup.OnBlock = function ( f96_arg0 )
			
		end
		
		f94_local1.fenceGroup.OnFail = function ( f95_arg0 )
			DebugPrint( "Fencegroup failed for " .. f94_arg0 )
			if FenceGroupFallbackMenu[f94_arg0] then
				LUI.FlowManager.RequestAutomaticNavigation( FenceGroupFallbackMenu[f94_arg0] )
			elseif f94_arg0:StackContains( f94_arg0 ) then
				for f95_local0 = #f94_arg0.menuInfoStack, 1, -1 do
					local f95_local3 = f94_arg0.menuInfoStack[f95_local0]
					f94_arg0:CloseMenuInfo( f95_local3, true, false )
					f94_arg0:RemoveMenuInfo( f95_local3 )
					if f95_local3.name == f94_arg0 then
						
					end
				end
			else
				DebugPrint( "WARNING: Attempted to fail fencegroup for " .. f94_arg0 .. " but " .. f94_arg0 .. " is not in the stack." )
			end
		end
		
	end
	f94_arg0:CheckLeakedAllocatedElements()
	return f94_local1
end

LUI.FlowManager.IsMenuUnreleased = function ( f93_arg0, f93_arg1 )
	local f93_local0 = Dvar[0x54084D7CA2317BB]( 0x977B7BB7EB17556 )
	if f93_local0 and 0 < #f93_local0 then
		local f93_local1 = LUI.KeyValueSplit( string.gsub( f93_local0, "%s+", "" ), "," )
		local f93_local2 = f93_local1[f93_arg1]
		if f93_local2 and not Engine[0x15D98DF5F61904B]( 0, "lua_unreleased_menu", {
			unreleased_menu_name = f93_arg1,
			current_menu_stack = f93_arg0:MenuStackToString()
		} ) then
			DebugPrint( "Failed to write to blackbox, lua_unreleased_menu" )
		end
		return f93_local2
	else
		return false
	end
end

LUI.FlowManager.GetMenuStackStr = function ( f92_arg0 )
	local f92_local0 = "|"
	if #f92_arg0.menuInfoStack == 0 then
		return f92_local0
	end
	for f92_local1 = #f92_arg0.menuInfoStack, 1, -1 do
		f92_local0 = f92_local0 .. f92_arg0.menuInfoStack[f92_local1].name .. "|"
	end
	return f92_local0
end

LUI.FlowManager.GetMenuHistoryStr = function ( f91_arg0 )
	local f91_local0 = "|"
	if f91_arg0.menuHistoryQueue.last - f91_arg0.menuHistoryQueue.first <= -1 then
		return f91_local0
	end
	for f91_local1 = f91_arg0.menuHistoryQueue.last, f91_arg0.menuHistoryQueue.first, -1 do
		local f91_local4 = f91_arg0.menuHistoryQueue[f91_local1]
		f91_local0 = f91_local0 .. f91_local4.eventName .. " " .. f91_local4.menuName .. "|"
	end
	return f91_local0
end

LUI.FlowManager.GetMenuHistoryTimestampsStr = function ( f90_arg0 )
	local f90_local0 = "|"
	if f90_arg0.menuHistoryQueue.last - f90_arg0.menuHistoryQueue.first <= -1 then
		return f90_local0
	end
	for f90_local1 = f90_arg0.menuHistoryQueue.last, f90_arg0.menuHistoryQueue.first, -1 do
		f90_local0 = f90_local0 .. f90_arg0.menuHistoryQueue[f90_local1].time .. "|"
	end
	return f90_local0
end

LUI.FlowManager.GetDlogMemoryUsageStr = function ( f89_arg0 )
	local f89_local0 = Engine[0xEE6F69FEA944B13]()
	local f89_local1 = assert
	local f89_local2
	if f89_local0 then
		f89_local2 = f89_local0
	else
		f89_local2 = f89_local0.flowManager
	end
	f89_local1( f89_local2 )
	local f89_local3 = LUI.FlowManager.GetMenuStackStr( f89_local0.flowManager )
	if CONDITIONS.InFrontend() then
		f89_local2 = ""
	else
		f89_local2 = f89_local0:GetLayersVisibilityStr()
	end
	local f89_local4
	if f89_arg0 then
		f89_local4 = "o"
	else
		f89_local4 = "c"
	end
	local f89_local5
	if CONDITIONS.InGame() then
		f89_local5 = "g"
	else
		f89_local5 = "f"
	end
	return f89_local3 .. f89_local2, f89_local4, f89_local5
end

LUI.FlowManager.GetDlogMemoryUsageTable = function ( f88_arg0, f88_arg1 )
	local f88_local0 = Engine[0x133304B768CE6B7]( f88_arg0 )
	f88_local0.lui_stack, f88_local0.lui_action, f88_local0.lui_is_ingame = LUI.FlowManager.GetDlogMemoryUsageStr( f88_arg1 )
	return f88_local0
end

LUI.FlowManager.SendDlogMemoryUsageTableData = function ( f87_arg0, f87_arg1, f87_arg2 )
	Engine[0x15D98DF5F61904B]( f87_arg1, "dlog_event_lui_memory_usage", LUI.FlowManager.GetDlogMemoryUsageTable( f87_arg0, f87_arg2 ) )
end

LUI.FlowManager.OpenMenuInfo = function ( f86_arg0, f86_arg1 )
	if f86_arg1.opening then
		return 
	elseif LUI.FlowManager.IsMenuUnreleased( f86_arg0, f86_arg1.name ) then
		return 
	end
	local f86_local0 = Engine[0xF3D71C800542A78]()
	if Engine[0x12586A3F4FB490E]() then
		PlayerData[0xC583B1BCF5C2AB3]()
	end
	assert( not f86_arg1.menu )
	LUI.ActiveScoped = f86_arg1.scopedData
	assert( not f86_arg1.removedFromStack )
	f86_arg1.opening = true
	f86_arg1.menu = MenuBuilder.buildMenu( f86_arg1.name, f86_arg1.scopedData )
	f86_arg1.opening = false
	if f86_arg1.removedFromStack then
		return 
	end
	for f86_local4, f86_local5 in ipairs( f86_arg0.menuInfoStack ) do
		if f86_local5.menu then
			f86_local5.menu:setPriority( f86_local4 )
		end
	end
	f86_arg0:addElement( f86_arg1.menu )
	f86_arg1.menu:processEvent( {
		dispatchChildren = true,
		name = "menu_create",
		controller = f86_arg1.controller
	} )
	assert( f86_arg1.menu )
	if LAYOUT.ShouldSetupLetterboxOnCurrentPlatform() and not Engine[0xAD041992EB2AEC9]() and not DisableLetterbox[f86_arg1.name] then
		f86_arg1.menu:setupLetterboxElement()
	end
	if Engine[0x575E9C5B9AAB6F4]() then
		LAYOUT.UpdateFadeFrameForCurrentMenu( f86_arg1.menu, f86_arg1.controller )
	end
	LUI.ActiveScoped = nil
	LUI.FlowManager.SendDlogMemoryUsageTableData( f86_arg1.name, f86_arg1.controller, true )
	Engine[0x2F533671787A4A4]( true )
	f86_local1 = Engine[0xF3D71C800542A78]()
	Engine[0x15D98DF5F61904B]( 0, "lua_menu_info", {
		completed_menu = true,
		menu_name = f86_arg1.name,
		memory_delta_bytes = f86_local1 - f86_local0,
		init_free_bytes = f86_local0,
		post_free_bytes = f86_local1,
		in_game = Engine[0x12586A3F4FB490E]()
	} )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x424EF9AA9364E13 ) then
		Engine[0x258C1DCEAAEC91B]( f86_arg1.name )
	end
	f86_arg0:LogMenuChangeTo( f86_arg1.controller, f86_arg1.name )
end

LUI.FlowManager.CloseMenuInfo = function ( f85_arg0, f85_arg1, f85_arg2, f85_arg3 )
	local f85_local0 = f85_arg0._controllerIndex
	if not f85_local0 then
		f85_local0 = Engine[0x45B054C920178E9]()
	end
	local f85_local1 = f0_local0( f85_local0 )
	if not f85_arg3 then
		f85_local1[f85_arg1.name] = nil
	end
	if f85_arg1.menu then
		if f85_arg3 and not f85_local1[f85_arg1.name] then
			f85_local1[f85_arg1.name] = f85_arg1.menu:saveState()
		end
		if not f85_arg2 then
			f85_arg1.menu:processEvent( {
				dispatchChildren = true,
				name = "menu_close",
				controller = f85_arg1.controller
			} )
		end
		LUI.FlowManager.SendDlogMemoryUsageTableData( f85_arg1.name, f85_arg1.controller, false )
		f85_arg1.menu:closeTree()
		f85_arg1.menu = nil
		if Dvar[0x1FAB6D9A30481F8]( 0x356CE493BC1D5B8 ) then
			local f85_local2 = Dvar[0x22EAAB59AA27E9B]( 0x356CE493BC1D5B8 )
			for f85_local3 = 1, f85_local2, 1 do
				Engine[0xD344B7DE66AFA81]( "Closing " .. f85_arg1.name .. " GC " .. f85_local3 .. "/" .. f85_local2 )
				collectgarbage( "collect" )
				Engine[0xC99CAB76F12E539]()
			end
		end
		local f85_local2 = f85_arg0:GetTopMostOpenMenuInfo()
		if f85_local2 and Engine[0x575E9C5B9AAB6F4]() then
			LAYOUT.UpdateFadeFrameForCurrentMenu( f85_local2.menu, f85_local2.controller )
		end
		Engine[0x15D98DF5F61904B]( 0, "dlog_event_menu_navigation", {
			target = "na",
			action = "Render",
			phase = f85_arg1.name,
			stack = f85_arg0:GetMenuStackStr()
		} )
		Engine[0x2F533671787A4A4]( true )
		URI.ResumeExecutionOnMenuClose( f85_arg1.name )
	end
end

LUI.FlowManager.GetStackVersion = function ( f84_arg0 )
	assert( f84_arg0.stackVersion )
	return f84_arg0.stackVersion
end

LUI.FlowManager.InsertMenuInfo = function ( f83_arg0, f83_arg1, f83_arg2 )
	assert( f83_arg2 )
	f83_arg0:SendLastOpenKVP( f83_arg2.name )
	f83_arg0.stackVersion = f83_arg0.stackVersion + 1
	table.insert( f83_arg0.menuInfoStack, f83_arg1, f83_arg2 )
	f83_arg0:MenuHistoryQueuePush( "push", f83_arg2.name )
	f83_arg0.root:processEvent( {
		name = "add_menu_stack",
		controllerIndex = f83_arg0._controllerIndex
	} )
	Engine[0x15D98DF5F61904B]( 0, "dlog_event_menu_navigation", {
		target = "na",
		action = "Render",
		phase = f83_arg2.name,
		stack = f83_arg0:GetMenuStackStr()
	} )
	if PushAndPopsTable[f83_arg2.name] and PushAndPopsTable[f83_arg2.name].pushFuncs and 0 < #PushAndPopsTable[f83_arg2.name].pushFuncs then
		for f83_local3, f83_local4 in ipairs( PushAndPopsTable[f83_arg2.name].pushFuncs ) do
			f83_local4()
		end
	end
	Engine[0xA0F090AEEC9C553]( true )
	if #f83_arg0.menuInfoStack == 1 then
		f83_arg0.root:processEvent( {
			name = "non_empty_menu_stack",
			controllerIndex = f83_arg0._controllerIndex
		} )
	end
	f83_arg0:SendMenuStackKVP()
	if CONDITIONS.IsDemoBuildOrDevBuildOrAreDevFeaturesEnabled() then
		f83_arg0:PrintStack()
		f83_arg0:PrintHistory()
	end
end

LUI.FlowManager.RemoveMenuInfo = function ( f82_arg0, f82_arg1 )
	assert( f82_arg1 )
	local f82_local0 = nil
	local f82_local1 = #f82_arg0.menuInfoStack
	if 1 <= f82_local1 and f82_arg0.menuInfoStack[f82_local1] ~= f82_arg1 then
		
	else
		
	end
	if 1 <= f82_local1 then
		if f82_arg1.fenceGroup then
			f82_arg1.fenceGroup:Abort()
		end
		if PushAndPopsTable[f82_arg1.name] and PushAndPopsTable[f82_arg1.name].popFuncs and 0 < #PushAndPopsTable[f82_arg1.name].popFuncs then
			for f82_local5, f82_local6 in ipairs( PushAndPopsTable[f82_arg1.name].popFuncs ) do
				f82_local6()
			end
		end
		f82_arg0.stackVersion = f82_arg0.stackVersion + 1
		table.remove( f82_arg0.menuInfoStack, f82_local1 )
		f82_arg0:MenuHistoryQueuePush( "pop", f82_arg1.name )
		f82_arg0.root:processEvent( {
			name = "remove_menu_stack",
			controllerIndex = f82_arg0._controllerIndex,
			menuName = f82_arg1.name
		} )
	end
	f82_arg1.removedFromStack = true
	Engine[0x15D98DF5F61904B]( 0, "dlog_event_menu_navigation", {
		target = "na",
		action = "unload",
		phase = f82_arg1.name,
		stack = f82_arg0:GetMenuStackStr()
	} )
	if #f82_arg0.menuInfoStack == 0 then
		if Engine[0x74423E76DECE3E4]() and not Engine[0x12586A3F4FB490E]() then
			ACTIONS.ResumeGame( f82_arg0 )
		end
		f82_arg0.root:processEvent( {
			name = "empty_menu_stack",
			controllerIndex = f82_arg0._controllerIndex
		} )
		f82_arg0.root:RemoveMouseCursor()
	end
	f82_arg0:SendMenuStackKVP()
	if Engine[0x2DA54CF5D6B7F02]() then
		f82_arg0:PrintStack()
		f82_arg0:PrintHistory()
	end
	Engine[0xA0F090AEEC9C553]( 0 < #f82_arg0.menuInfoStack )
end

LUI.FlowManager.MenuHistoryQueuePush = function ( f81_arg0, f81_arg1, f81_arg2 )
	if f81_arg0.menuHistoryQueue.last - f81_arg0.menuHistoryQueue.first + 1 == f81_arg0.menuHistoryQueue.maxLen then
		f81_arg0.menuHistoryQueue:Pop()
	end
	f81_arg0.menuHistoryQueue:Push( {
		eventName = f81_arg1,
		time = Engine[0x6991337AE950F99](),
		menuName = f81_arg2
	} )
end

LUI.FlowManager.PushMenuInfo = function ( f80_arg0, f80_arg1 )
	f80_arg0:SetStack( f80_arg1 )
	if f80_arg1.isModal then
		f80_arg0:InsertMenuInfo( #f80_arg0.menuInfoStack + 1, f80_arg1 )
	else
		local f80_local0 = #f80_arg0.menuInfoStack + 1
		if 1 < f80_local0 and f80_arg0.menuInfoStack[f80_local0 - 1].isModal then
			
		else
			
		end
		f80_arg0:InsertMenuInfo( f80_local0, f80_arg1 )
	end
end

local f0_local10 = function ( f79_arg0, f79_arg1 )
	local f79_local0 = f79_arg0[#f79_arg0].name
	local f79_local1 = PresetStacks[f79_local0]
	if not f79_local1 then
		return 
	end
	local f79_local2 = false
	for f79_local6, f79_local7 in ipairs( f79_local1 ) do
		if f79_arg0[f79_local6].name ~= f79_local1[f79_local6].name then
			f79_local2 = true
			break
		end
	end
	if f79_local2 then
		LUI.FlowManager.RequestDevErrorPopup( "Conflicting Requested Menu Stacks", string.format( "Requested stack for %s conflicts with stack for %s", f79_arg1, f79_local0 ) )
	end
end

LUI.FlowManager.SetStack = function ( f78_arg0, f78_arg1 )
	assert( f78_arg1.name )
	local f78_local0 = PresetStacks[f78_arg1.name]
	if not f78_local0 or f78_arg1.scopedData and f78_arg1.scopedData.skipStackUpdate then
		return 
	end
	local f78_local1 = f78_arg1.controller
	DebugPrint( "FlowManager: Rewriting menu stack for " .. f78_arg1.name )
	if Engine[0x2DA54CF5D6B7F02]() then
		local f78_local2 = ""
		for f78_local7, f78_local8 in ipairs( f78_arg0.menuInfoStack ) do
			local f78_local9 = f78_local2
			local f78_local6
			if 1 < f78_local7 then
				f78_local6 = " > "
			else
				f78_local6 = ""
			end
			f78_local2 = f78_local9 .. f78_local6 .. f78_local8.name
		end
		DebugPrint( "    Current stack: " .. f78_local2 )
		f78_local2 = ""
		for f78_local7, f78_local8 in ipairs( f78_local0 ) do
			local f78_local9 = f78_local2
			local f78_local6
			if 1 < f78_local7 then
				f78_local6 = " > "
			else
				f78_local6 = ""
			end
			f78_local2 = f78_local9 .. f78_local6 .. f78_local8.name
		end
		DebugPrint( "    Requesting: " .. f78_local2 .. " > " .. f78_arg1.name )
		f0_local0( f78_local0, f78_arg1.name )
	end
	for f78_local5, f78_local7 in ipairs( f78_arg0.menuInfoStack ) do
		if #f78_local0 < f78_local5 or f78_local7.name ~= f78_local0[f78_local5].name then
			for f78_local8 = #f78_arg0.menuInfoStack, f78_local5, -1 do
				local f78_local10 = f78_arg0.menuInfoStack[f78_local8]
				if not f78_local10.isModal then
					f78_arg0:CloseMenuInfo( f78_local10 )
					f78_arg0:RemoveMenuInfo( f78_local10 )
				end
			end
		end
	end
	for f78_local5, f78_local7 in ipairs( f78_local0 ) do
		if #f78_arg0.menuInfoStack < f78_local5 or f78_local7.name ~= f78_arg0.menuInfoStack[f78_local5].name then
			local f78_local8 = f78_arg0:CreateMenuInfo( f78_local7.name, nil, f78_local7.exclusiveController, f78_local1 )
			f78_local8.isPopup = f78_local7.isPopup
			f78_arg0:PushMenuInfo( f78_local8 )
		end
	end
	DebugPrint( "Set stack complete" )
end

LUI.FlowManager.PrintStack = function ( f77_arg0 )
	DebugPrint( "----MENU STACK TOP----" )
	for f77_local0 = #f77_arg0.menuInfoStack, 1, -1 do
		local f77_local3 = f77_arg0.menuInfoStack[f77_local0]
		local f77_local4
		if f77_local3.menu then
			f77_local4 = "Opened"
		else
			f77_local4 = "Closed"
		end
		local f77_local5
		if f77_local3.menu then
			f77_local5 = " -> "
		else
			f77_local5 = ""
		end
		DebugPrint( f77_local5 .. f77_local0 .. ") " .. f77_local3.name .. " (" .. f77_local4 .. ")" )
	end
	DebugPrint( "---MENU STACK BOTTOM---" )
end

LUI.FlowManager.PrintHistory = function ( f76_arg0 )
	DebugPrint( "----MENU HISTORY TOP----" )
	for f76_local0 = f76_arg0.menuHistoryQueue.last, f76_arg0.menuHistoryQueue.first, -1 do
		local f76_local3 = f76_arg0.menuHistoryQueue[f76_local0]
		DebugPrint( f76_local3.time .. " " .. f76_local3.eventName .. " " .. f76_local3.menuName )
	end
	DebugPrint( "----MENU HISTORY BOTTOM---" )
end

LUI.FlowManager.SendMenuStackKVP = function ( f75_arg0 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0xB54640DC8A26C74 ) then
		Engine[0x8215720C816567C]( f75_arg0:GetMenuStackStr() )
		Engine[0xC32FD316B441023]( f75_arg0:GetMenuHistoryStr() )
		Engine[0x5A686216F37AD0C]( f75_arg0:GetMenuHistoryTimestampsStr() )
	end
end

LUI.FlowManager.SendLastOpenKVP = function ( f74_arg0, f74_arg1 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0xB54640DC8A26C74 ) then
		Engine[0xC5178F7E4DAE098]( f74_arg1 )
	end
end

LUI.FlowManager.CheckLeakedAllocatedElements = function ( f73_arg0 )
	if Engine[0x2DA54CF5D6B7F02]() and CONDITIONS.InFrontend() and RequestMemoryLeakCheck then
		RequestMemoryLeakCheck()
	end
end

LUI.FlowManager.MenuStackToString = function ( f72_arg0 )
	local f72_local0 = "----MENU STACK TOP----"
	for f72_local1 = #f72_arg0.menuInfoStack, 1, -1 do
		local f72_local4 = f72_arg0.menuInfoStack[f72_local1]
		local f72_local5
		if f72_local4.menu then
			f72_local5 = "Opened"
		else
			f72_local5 = "Closed"
		end
		f72_local0 = f72_local0 .. f72_local1 .. ") " .. f72_local4.name .. " (" .. f72_local5 .. ")" .. "| "
	end
	return f72_local0 .. "---MENU STACK BOTTOM---"
end

LUI.FlowManager.StackContains = function ( f71_arg0, f71_arg1 )
	for f71_local3, f71_local4 in ipairs( f71_arg0.menuInfoStack ) do
		if f71_local4.name == f71_arg1 then
			return true
		end
	end
	return false
end

LUI.FlowManager.StackContainsAny = function ( f70_arg0, f70_arg1 )
	for f70_local6, f70_local7 in ipairs( f70_arg0.menuInfoStack ) do
		for f70_local3, f70_local4 in pairs( f70_arg1 ) do
			if f70_local7.name == f70_local4 then
				return true
			end
		end
	end
	return false
end

LUI.FlowManager.GetTopmostMenu = function ()
	local f69_local0 = Engine[0xEE6F69FEA944B13]()
	local f69_local1 = assert
	local f69_local2
	if f69_local0 then
		f69_local2 = f69_local0
	else
		f69_local2 = f69_local0.flowManager
	end
	f69_local1( f69_local2 )
	return f69_local0.flowManager:GetStackTop( true )
end

LUI.FlowManager.GetStackTop = function ( f68_arg0, f68_arg1 )
	local f68_local0 = #f68_arg0.menuInfoStack
	if not f68_arg1 and 1 <= f68_local0 and f68_arg0.menuInfoStack[f68_local0].isModal then
		
	else
		
	end
	if 1 <= f68_local0 then
		return f68_arg0.menuInfoStack[f68_local0]
	else
		return nil
	end
end

LUI.FlowManager.GetFirstNonPopUpMenu = function ( f67_arg0 )
	local f67_local0 = #f67_arg0.menuInfoStack
	if 1 <= f67_local0 and f67_arg0.menuInfoStack[f67_local0].isPopup then
		
	else
		
	end
	if 1 <= f67_local0 then
		return f67_arg0.menuInfoStack[f67_local0]
	else
		return nil
	end
end

LUI.FlowManager.GetTopMostOpenMenuInfo = function ( f66_arg0 )
	if not f66_arg0 then
		f66_arg0 = LUI.FlowManager.GetFlowManager()
	end
	if f66_arg0 then
		local f66_local0 = #f66_arg0.menuInfoStack
		if 1 <= f66_local0 and not f66_arg0.menuInfoStack[f66_local0].menu then
			
		else
			
		end
		if 1 <= f66_local0 then
			return f66_arg0.menuInfoStack[f66_local0]
		end
	end
	return nil
end

LUI.FlowManager.IsStackEmpty = function ( f65_arg0 )
	if not f65_arg0 then
		f65_arg0 = LUI.FlowManager.GetFlowManager()
	end
	local f65_local0
	if f65_arg0 then
		f65_local0 = f65_arg0
	else
		f65_local0 = #f65_arg0.menuInfoStack == 0
	end
	return f65_local0
end

LUI.FlowManager.AreMainMenuFencedOut = function ( f64_arg0 )
	for f64_local3, f64_local4 in ipairs( f64_arg0.menuInfoStack ) do
		if (f64_local4.name == "MainMenuOffline" or f64_local4.name == "MainMenu" or f64_local4.name == "MainMenuMobile") and f64_local4.fenced then
			return true
		end
	end
	return false
end

LUI.FlowManager.PopMenuStackUntilMenuIsRemoved = function ( f63_arg0, f63_arg1, f63_arg2, f63_arg3, f63_arg4 )
	local f63_local0 = {}
	local f63_local1
	if not f63_arg3 then
		f63_local1 = f63_arg3
	else
		f63_local1 = {}
	end
	for f63_local2 = #f63_arg0.menuInfoStack, 1, -1 do
		local f63_local5 = f63_arg0.menuInfoStack[f63_local2]
		if not Table.FindItemIndexInArray( f63_local1, f63_local5.name ) then
			table.insert( f63_local0, f63_local5.name )
		end
	end
	if f63_arg4 ~= nil then
		f63_local2 = not f63_arg4
	else
		local f63_local2 = true
	end
	local f63_local3 = false
	for f63_local7, f63_local8 in ipairs( f63_local0 ) do
		f63_local3 = f63_local8 == f63_arg2
		LUI.FlowManager.RequestLeaveMenuByName( f63_local8, f63_local2, true )
		if f63_local3 then
			break
		end
	end
end

LUI.FlowManager.SetFirstTimeFlowCompletedForScreen = function ( f62_arg0, f62_arg1 )
	local f62_local0 = LUI.FlowManager._isScreenFirstTimeFlowCompleted or {}
	f62_local0[f62_arg0] = f62_arg1
	LUI.FlowManager._isScreenFirstTimeFlowCompleted = f62_local0
end

LUI.FlowManager.IsFirstTimeFlowForScreen = function ( f61_arg0 )
	local f61_local0 = LUI.FlowManager._isScreenFirstTimeFlowCompleted
	if not f61_local0 or f61_local0[f61_arg0] == nil then
		LUI.FlowManager.SetFirstTimeFlowCompletedForScreen( f61_arg0, false )
		return true
	else
		return f61_local0[f61_arg0] == false
	end
end

local f0_local11 = function ( f60_arg0 )
	if LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) and CONDITIONS.InFrontend() then
		local f60_local0 = LUI.FlowManager.GetMenuNameAtIndex( -1 )
		GLOBAL_PANEL.CloseGlobalPanelNow()
		return f60_local0 == f60_arg0
	else
		return false
	end
end

local f0_local12 = function ( f59_arg0, f59_arg1 )
	local f59_local0 = CONDITIONS.IsMenuInStack( "BootAccessibilitySetting" )
	if LUI.FlowManager.IsFirstTimeFlowForScreen( OPTIONS.MENU_NAME ) and not f59_local0 then
		if LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) then
			local f59_local1 = LUI.FlowManager.GetMenuByName( GLOBAL_PANEL.MENU_NAME )
			f59_local1 = f59_local1.menu
			if f59_local1 then
				if f59_local1.GlobalPanel:GetCurrentTabIndex() ~= GLOBAL_PANEL.TAB_INDEX.OPTIONS then
					f59_local1.GlobalPanel:ChangeTab( GLOBAL_PANEL.TAB_INDEX.OPTIONS )
					return true
				elseif CONDITIONS.InGame() then
					LUI.FlowManager.RequestCloseAllMenus()
				else
					GLOBAL_PANEL.CloseGlobalPanel()
				end
			end
		elseif CONDITIONS.InGame() then
			f59_arg0:dispatchEventToRoot( {
				forcePause = true,
				name = "pause",
				immediate = true,
				controllerIndex = f59_arg1.controller,
				globalPanelTabIndex = GLOBAL_PANEL.TAB_INDEX.OPTIONS
			} )
			if Engine[0x74423E76DECE3E4]() then
				GAME.PauseGame()
			end
		else
			GLOBAL_PANEL.OpenGlobalPanel( f59_arg0, f59_arg1.controller, GLOBAL_PANEL.TAB_INDEX.OPTIONS )
		end
		return true
	elseif f0_local0( OPTIONS.MENU_NAME ) then
		return true
	elseif CONDITIONS.IsMenuInStack( OPTIONS.MENU_NAME ) then
		f59_arg0:dispatchEventToRoot( {
			name = "closing_quick_access_menu",
			controllerIndex = f59_arg1.controller
		} )
		if not LUI.FlowManager.IsMenuOnTop( OPTIONS.MENU_NAME ) then
			LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f59_arg0, f59_arg1, OPTIONS.MENU_NAME )
		end
	elseif f59_local0 then
		LUI.FlowManager.RequestLeaveMenuByName( "BootAccessibilitySetting", true )
	elseif not OSK[0x736AF74410E3002]() and not CONDITIONS.IsSplitScreenMenuInUse() then
		f59_arg0:dispatchEventToRoot( {
			immediate = true,
			name = "opening_quick_access_menu"
		} )
		LUI.FlowManager.LeaveQuickMenus( false )
		ACTIONS.OpenOptionsMenu( f59_arg1.controller, nil, true )
		if Engine[0x74423E76DECE3E4]() and CONDITIONS.InGame() then
			GAME.PauseGame()
		end
	end
	return true
end

local f0_local13 = function ( f58_arg0, f58_arg1 )
	if Engine[0xD2813B521711C11]( f58_arg1.controller ) and CONDITIONS.IsSocialMenuEnabled( f58_arg1.controller ) then
		local f58_local0 = CODCASTER_CONDITIONS.IsCodcaster()
		if f58_local0 then
			f58_local0 = not CODCASTER_SETTINGS.GetSettingValue( f58_arg1.controller, "codcaster_socialshortcut" )
		end
		if CONDITIONS.InGame() then
			if f58_local0 or CONDITIONS.IsSplitScreenMenuInUse() then
				return false
			elseif LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) then
				local f58_local1 = LUI.FlowManager.GetMenuByName( GLOBAL_PANEL.MENU_NAME )
				f58_local1 = f58_local1.menu
				if f58_local1 and f58_local1.GlobalPanel:GetCurrentTabIndex() == GLOBAL_PANEL.TAB_INDEX.NOTIFICATIONS then
					LUI.FlowManager.RequestCloseAllMenus()
					return true
				end
			end
			if LUI.FlowManager.IsInStack( SOCIAL.MENU_NAME ) then
				LUI.FlowManager.RequestCloseAllMenus()
				return false
			elseif LUI.FlowManager.IsInStack( OPTIONS.MENU_NAME ) and CoD.IsInPauseMenu() then
				ACTIONS.LeaveMenuByName( OPTIONS.MENU_NAME )
			end
			LUI.FlowManager.RequestAddMenu( CoD.GetPauseMenuFromCurrentContext(), true, f58_arg1.controllerIndex, false, nil, true )
			SOCIAL.OpenSocialMenu( f58_arg1.controllerIndex )
		elseif CONDITIONS.IsSocialEnabledInMainMenu( f58_arg1.controller ) and not f0_local0( SOCIAL.MENU_NAME ) then
			if FRIENDS.CanCloseSocial( f58_arg1.controller ) then
				f58_arg0:dispatchEventToRoot( {
					name = "closing_quick_access_menu",
					controllerIndex = f58_arg1.controller
				} )
				FRIENDS.HandleSocial( f58_arg1.controller, true )
			elseif FRIENDS.CanOpenSocial( f58_arg1.controller ) then
				f58_arg0:dispatchEventToRoot( {
					immediate = true,
					name = "opening_quick_access_menu"
				} )
				LUI.FlowManager.LeaveQuickMenus( false )
				FRIENDS.HandleSocial( f58_arg1.controller, true )
			end
		end
		return true
	else
		return false
	end
end

local f0_local14 = function ( f57_arg0, f57_arg1 )
	if CONDITIONS.IsSPEarlyAccessBuildEnabled() then
		return false
	elseif CONDITIONS.IsSplitScreenMenuInUse() then
		return false
	elseif CONDITIONS.IsCIABuildEnabled() then
		return false
	elseif CONDITIONS.IsDMZGametype() or CONDITIONS.IsDMZMatch() or CONDITIONS.IsSingleplayer() or CONDITIONS.IsThirdGameMode() then
		return false
	elseif not CONDITIONS.IsCoreMultiplayer() or CONDITIONS.InGame() and not CONDITIONS.IsClassChoiceAllowed( f57_arg0, f57_arg1.controller ) then
		return false
	elseif CONDITIONS.InFrontend() and not CONDITIONS.IsMenuInStack( "MPMainMenu" ) then
		return false
	elseif CONDITIONS.InFrontend() and not PROGRESSION.AreCustomLoadoutsUnlocked( f57_arg1.controller ) then
		return false
	end
	local f57_local0 = f0_local0
	if f0_local0( f57_local0 ) then
		return true
	elseif CONDITIONS.IsMenuInStack( f57_local0 ) and not CONDITIONS.IsMenuInStack( f0_local0 ) then
		if LUI.FlowManager.IsMenuOnTop( f57_local0 ) or CONDITIONS.InGame() then
			f57_arg0:dispatchEventToRoot( {
				name = "closing_quick_access_menu",
				controllerIndex = f57_arg1.controller
			} )
			if CONDITIONS.InGame() then
				LUI.FlowManager.RequestCloseAllMenus()
			else
				LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f57_arg0, f57_arg1, f57_local0 )
			end
		else
			ACTIONS.PopMenuStackUpToMenu( f57_local0 )
		end
	else
		if CONDITIONS.IsMenuInStack( f0_local0 ) then
			LUI.UIMouseCursor.ShowMouseCursorOnActivity( true )
			Engine[0x6055C55456F05DF]( "exit_firing_range", 1 )
			if Engine[0x3ECA657EE4C6C9]() then
				Engine[0x5F965FF5540EAC8]( true )
			end
			LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f57_arg0, f57_arg1, f0_local0 )
		end
		f57_arg0:dispatchEventToRoot( {
			immediate = true,
			name = "opening_quick_access_menu"
		} )
		LUI.FlowManager.LeaveQuickMenus( false )
		LUI.FlowManager.RequestAddMenu( f57_local0, true, f57_arg1.controller, nil, {
			isQuickAccess = true
		}, true )
	end
	return true
end

local f0_local15 = function ( f56_arg0, f56_arg1 )
	local f56_local0 = Dvar[0x9E5BE3B4BBA4E0E]( 0xB32F268C08CD4E8 )
	Dvar[0x8EA06EEDB58D872]( 0xB32F268C08CD4E8, not f56_local0 )
	local f56_local1 = LUI.TelemetryLayer.GetLayer()
	if f56_local1 then
		f56_local1:processEvent( {
			name = "update_telemetry",
			id = "sound",
			value = OPTIONS.ValueToIndex( not f56_local0 ) - 1,
			controllerIndex = f56_arg1.controller
		} )
	end
	return true
end

local f0_local16 = function ( f55_arg0, f55_arg1 )
	local f55_local0 = CHANNELS.GetChannelDataSourceValues( f55_arg1.controller )
	local f55_local1 = CHANNELS.INVALID_PARTY_ID
	if CHANNELS.IsValidPartyID( f55_local0.channelID ) then
		f55_local1 = f55_local0.channelID
	elseif CHANNELS.IsValidPartyID( f55_local0.lastConnectedChannelID ) then
		f55_local1 = f55_local0.lastConnectedChannelID
	else
		return 
	end
	CHANNELS.ToggleVoicePartyConnection( f55_arg1.controller, f55_local1 )
end

local f0_local17 = function ( f54_arg0, f54_arg1 )
	if CHANNELS.IsValidPartyID( Social[0xF12FC4AFD7A2A6D]( f54_arg0._controllerIndex ) ) then
		CHANNELS.ToggleSelfMute( f54_arg1.controller, true )
	end
end

local f0_local18 = function ( f53_arg0, f53_arg1 )
	if CONDITIONS.InFrontend() then
		if CONDITIONS.IsMenuInStack( GLOBAL_PANEL.MENU_NAME ) then
			if LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) then
				GLOBAL_PANEL.CloseGlobalPanel()
			else
				ACTIONS.PopMenuStackUpToMenu( GLOBAL_PANEL.MENU_NAME )
				GLOBAL_PANEL.CloseGlobalPanel()
			end
		else
			local f53_local0 = f53_arg0:GetStackTop( true )
			if f53_local0 then
				GLOBAL_PANEL.OpenGlobalPanel( f53_local0, f53_arg1.controller )
			end
		end
		return true
	elseif CONDITIONS.InGame() then
		local f53_local0 = CoD.PauseMenuName[CoD.PauseMenu.BR_PAUSE_MENU]
		if CONDITIONS.IsMenuInStack( GLOBAL_PANEL.MENU_NAME ) or CONDITIONS.IsMenuInStack( f53_local0 ) then
			if LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) or LUI.FlowManager.IsMenuOnTop( f53_local0 ) then
				GLOBAL_PANEL.CloseGlobalPanel()
				LUI.FlowManager.RequestCloseAllMenus()
				if Engine[0x74423E76DECE3E4]() then
					ACTIONS.ResumeGame()
				end
			else
				ACTIONS.PopMenuStackUpToMenu( GLOBAL_PANEL.MENU_NAME )
			end
		else
			local f53_local1 = LUI.FlowManager.GetMenuStack()
			if f53_local1 and 0 < #f53_local1 then
				LUI.FlowManager.RequestCloseAllMenus()
			end
			f53_arg0:dispatchEventToRoot( {
				name = "pause",
				forcePause = true,
				immediate = true,
				controllerIndex = f53_arg1.controller
			} )
			if Engine[0x74423E76DECE3E4]() then
				GAME.PauseGame()
			end
		end
		return true
	else
		return false
	end
end

local f0_local19 = function ( f52_arg0, f52_arg1 )
	if CONDITIONS.IsOptionsSearchEnabled() and (CONDITIONS.InFrontend() or CONDITIONS.IsMenuInStack( OPTIONS.MENU_NAME ) or CONDITIONS.IsMenuInStack( GLOBAL_PANEL.MENU_NAME )) then
		LUI.FlowManager.RequestPopupMenu( nil, "GlobalPanelOptionsSearch", true, f52_arg1.controller )
	end
end

local f0_local20 = function ( f51_arg0, f51_arg1 )
	if CONDITIONS.IsMenuInStack( f0_local0 ) then
		if not CONDITIONS.IsMenuInStack( "OptionsMenuLayout" ) then
			f51_arg0:dispatchEventToRoot( {
				name = "closing_quick_access_menu",
				controllerIndex = f51_arg1.controller
			} )
		end
		LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f51_arg0, f51_arg1, f0_local0 )
	elseif not CONDITIONS.IsSplitScreenMenuInUse() then
		if Engine[0x74423E76DECE3E4]() and CONDITIONS.InGame() then
			GAME.PauseGame()
		end
		ACTIONS.OpenBindingPreview( f51_arg1.controller )
	end
end

local f0_local21 = function ( f50_arg0, f50_arg1 )
	local f50_local0 = f50_arg0.root and f50_arg0.root:GetControllerIndex() or f50_arg1.controller
	if (CONDITIONS.InFrontend() or CONDITIONS.InGame() and not LUI.FlowManager.IsStackEmpty()) and CONDITIONS.IsChannelsEnabled( f50_local0 ) then
		if CONDITIONS.IsMenuInStack( CHANNELS.CHANNEL_MENU_NAME ) then
			if LUI.FlowManager.IsMenuOnTop( CHANNELS.CHANNEL_MENU_NAME ) then
				CHANNELS.CloseChannelPanel()
				if CONDITIONS.InFrontend() then
					GLOBAL_PANEL.CloseGlobalPanel()
				end
			else
				ACTIONS.PopMenuStackUpToMenu( CHANNELS.CHANNEL_MENU_NAME )
				CHANNELS.CloseChannelPanel()
				if CONDITIONS.InFrontend() then
					GLOBAL_PANEL.CloseGlobalPanel()
				end
			end
		else
			local f50_local1 = f50_arg0:GetStackTop( true )
			if f50_local1 then
				local f50_local2 = LUI.FlowManager.GetPerControllerPersistentData( f50_local0 )
				local f50_local3 = f50_local2.lastSelectedChatID
				local f50_local4 = CHANNELS.GetChannelIDForChatID( f50_local0, f50_local3 )
				local f50_local5
				if not CHANNELS.IsValidPartyID( f50_local4 ) then
					f50_local5 = not TEXTCHAT.IsValidChatID( f50_local3 )
				else
					f50_local5 = false
				end
				if f50_local5 then
					if not LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) and (not CONDITIONS.IsMenuInStack( f0_local0 ) or CONDITIONS.IsMenuInStack( f0_local0 )) then
						GLOBAL_PANEL.OpenGlobalPanel( f50_local1, f50_local0, GLOBAL_PANEL.TAB_INDEX.CHANNELS )
					end
				else
					CHANNELS.OpenChannelPanel( f50_local0, f50_local4, f50_local3, {
						openedWithShortcut = true,
						openGlobalPanel = true,
						defaultTabIndex = CHANNELS.TAB_ID.CHAT,
						groupId = GROUPS.GetJoinedGroupIDByChatID( f50_local0, f50_local3 )
					} )
				end
			end
		end
		return true
	else
		return false
	end
end

local f0_local22 = function ( f49_arg0, f49_arg1 )
	local f49_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f49_local0 )
	if CONDITIONS.InFrontend() then
		local f49_local1 = true
		if IsMenuInStack( f49_local0, CoD.PauseMenuName[CoD.PauseMenu.FIRING_RANGE_PAUSE_MENU] ) then
			local f49_local2 = CoD.PauseMenuName[CoD.PauseMenu.FIRING_RANGE_PAUSE_MENU]
			f49_arg0:dispatchEventToRoot( {
				name = "closing_quick_access_menu",
				controllerIndex = f49_arg1.controller
			} )
			LUI.FlowManager.PopMenuStackUpToMenu( f49_arg0, f49_arg1, f49_local2 )
			LUI.FlowManager.RequestRestoreMenu( f49_local2, nil, nil, true )
			LUI.FlowManager.RequestLeaveMenuByName( f49_local2, nil, true )
			f49_local1 = false
		end
		if IsMenuInStack( f49_local0, SOCIAL.MENU_NAME ) then
			f49_arg0:dispatchEventToRoot( {
				name = "closing_quick_access_menu",
				controllerIndex = f49_arg1.controller
			} )
			LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f49_arg0, f49_arg1, SOCIAL.MENU_NAME )
			f49_local1 = false
		end
		if IsMenuInStack( f49_local0, OPTIONS.MENU_NAME ) then
			f49_arg0:dispatchEventToRoot( {
				name = "closing_quick_access_menu",
				controllerIndex = f49_arg1.controller
			} )
			LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f49_arg0, f49_arg1, OPTIONS.MENU_NAME )
			f49_local1 = false
		end
		if IsMenuInStack( f49_local0, f0_local0 ) and not IsMenuInStack( f49_local0, f0_local0 ) then
			f49_arg0:dispatchEventToRoot( {
				name = "closing_quick_access_menu",
				controllerIndex = f49_arg1.controller
			} )
			LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f49_arg0, f49_arg1, f0_local0 )
			f49_local1 = false
		end
		if IsMenuInStack( f49_local0, GLOBAL_PANEL.MENU_NAME ) then
			if f49_local1 then
				GLOBAL_PANEL.CloseGlobalPanel()
			else
				LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f49_arg0, f49_arg1, GLOBAL_PANEL.MENU_NAME )
			end
		end
	else
		if IsMenuInStack( f49_local0, f0_local0 ) then
			local f49_local1 = LUI.FlowManager.GetScopedData( f0_local0 )
			if f49_local1.openedFromScriptRequest then
				return true
			end
		end
		LUI.FlowManager.RequestCloseAllMenus()
	end
	return true
end

local f0_local23 = function ( f47_arg0, f47_arg1 )
	local f47_local0 = CONDITIONS.InGame() or false
	f47_local0 = "Proximity_Chat_Timer"
	local f47_local1
	if OPTIONS.GetPlayerDataValue( f47_arg1.controller, CoD.StatsGroup.NonGame, "disableProximityVoice" ) == 0 then
		f47_local1 = 0
	else
		f47_local1 = 1
	end
	Social[0x48B9F3A8FB58EE6]( f47_arg1.controller, f47_local1 )
	f47_arg0._lastProximityChatValue = f47_local1
	if not f47_arg0[f47_local0] then
		f47_arg0:CreateEventTimer( f47_local0, 1000, {
			callbackFunc = function ( f48_arg0 )
				f48_arg0:RemoveEventTimer( f47_arg0 )
				LUI.ToastManager.CreateToast( f47_arg0.controller, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0x7953F23C924FD6D ), Engine[0xED84C33EC5F01EA]( f48_arg0._lastProximityChatValue and 0xFF7151072198E9D or 0x55DB71026F3A1 ), LUI.ToastManager.ToastNotificationType.Channels ), nil, nil, {
					displayTime = 2000
				} )
				f48_arg0._lastProximityChatValue = nil
			end
		} )
	end
	if not LUI.FlowManager.IsStackEmpty( f47_arg0 ) then
		f47_arg0:dispatchEventToRoot( {
			name = "proximity_chat_toggled",
			controllerIndex = f47_arg1.controller,
			newValue = f47_local1
		} )
	end
	return true
end

local f0_local24 = function ( f46_arg0 )
	local f46_local0 = {
		proximity_voice = true,
		search_bar = true,
		keyboard_preview = true,
		global_panel = true,
		quick_social = true,
		quick_options = true,
		quick_cac = true
	}
	if f46_local0[f46_arg0] and CONDITIONS.InGame() then
		if LUI.LoadingScreenManager then
			return LUI.LoadingScreenManager.IsGameLoading()
		else
			return not Game[0xA988866C889EAAD]()
		end
	else
		return false
	end
end

local f0_local25 = function ()
	local f45_local0 = LUI.FlowManager.GetMenuByName( "MainLockoutMenu" )
	local f45_local1 = LUI.FlowManager.IsMenuOnTop( "MainLockoutMenu" )
	if not f45_local1 then
		if f45_local0 then
			f45_local1 = f45_local0
		else
			f45_local1 = f45_local0.menu
			if f45_local1 then
				f45_local1 = not f45_local0.menu.isMenuClosed
			end
		end
	end
	return f45_local1
end

local f0_local26 = function ()
	return GLOBAL_PANEL.IsGlobalPanelChannelTabOpen()
end

local f0_local27 = function ( f43_arg0, f43_arg1 )
	if CONDITIONS.IsBenchmarkMode() and not CONDITIONS.IsMuteSoundShortcut( f43_arg1 ) and not Engine[0x12586A3F4FB490E]() then
		return false
	elseif LUI.FlowManager.IsMenuOnTop( "ContextualTipMenu" ) then
		return false
	elseif IsMenuInStack( Engine[0xEE6F69FEA944B13](), "FiringRangeMenu" ) and (f43_arg1 == "global_panel" or f43_arg1 == "quick_social" or f43_arg1 == "quick_options" or f43_arg1 == "quick_cac" or f43_arg1 == "keyboard_preview") then
		return false
	elseif f43_arg1 == "quick_social" or f43_arg1 == "quick_options" or f43_arg1 == "global_panel" or f43_arg1 == "quick_cac" or f43_arg1 == "open_chat" or f43_arg1 == "search_bar" or f43_arg1 == "keyboard_preview" then
		local f43_local0 = f43_arg0:GetTopMostOpenMenuInfo()
		if f43_local0 and (not (not f43_local0.menu or not f43_local0.menu.isQuickAccessShortcutsDisabled) or f43_local0.isPopup and f43_local0.isModal) then
			return false
		end
	end
	if f43_arg1 ~= "mute_sound" and f0_local0() then
		return false
	elseif f0_local0( f43_arg1 ) then
		return false
	elseif f43_arg1 == "quick_social" and not CONDITIONS.IsSocialShortcutAllowed() then
		return false
	elseif f43_arg1 == "channel_connect" and (CONDITIONS.IsMenuInStack( "ChannelPanelBase" ) or f0_local0()) then
		return false
	end
	return true
end

local f0_local28 = function ( f42_arg0, f42_arg1 )
	if CONDITIONS.AreQuickAccessShortcutsEnabled() and f42_arg1.down and f0_local0( f42_arg0, f42_arg1.button ) then
		if f42_arg1.button == "mute_sound" then
			return f0_local0( f42_arg0, f42_arg1 )
		elseif CONDITIONS.IsVoiceChatEnabled() and f42_arg1.button == "channel_connect" then
			return f0_local0( f42_arg0, f42_arg1 )
		elseif f42_arg1.button == "mute_microphone" then
			return f0_local0( f42_arg0, f42_arg1 )
		elseif f42_arg1.button == "quick_action_notification" then
			f42_arg0:dispatchEventToRoot( {
				isPrimaryAction = false,
				name = "kbm_notification_prompt_answer"
			} )
		elseif f42_arg1.button == "quick_options" then
			return f0_local0( f42_arg0, f42_arg1 )
		elseif f42_arg1.button == "global_panel" then
			if LUI.ToastManager.HavePrimaryActionOnScreen() then
				f42_arg0:dispatchEventToRoot( {
					isPrimaryAction = true,
					name = "kbm_notification_prompt_answer"
				} )
			else
				return f0_local0( f42_arg0, f42_arg1 )
			end
		elseif f42_arg1.button == "quick_social" then
			return f0_local0( f42_arg0, f42_arg1 )
		elseif f42_arg1.button == "quick_cac" then
			return f0_local0( f42_arg0, f42_arg1 )
		elseif f42_arg1.button == "menu_dismiss" then
			return f0_local0( f42_arg0, f42_arg1 )
		elseif f42_arg1.button == "open_chat" then
			return f0_local0( f42_arg0, f42_arg1 )
		elseif f42_arg1.button == "search_bar" then
			return f0_local0( f42_arg0, f42_arg1 )
		elseif f42_arg1.button == "keyboard_preview" then
			return f0_local0( f42_arg0, f42_arg1 )
		elseif f42_arg1.button == "proximity_voice" then
			return f0_local0( f42_arg0, f42_arg1 )
		end
	end
	return false
end

LUI.FlowManager.LeaveQuickMenus = function ( f41_arg0, f41_arg1, f41_arg2 )
	local f41_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f41_local0 )
	local f41_local1
	if f41_arg0 == nil then
		f41_local1 = true
	else
		f41_local1 = f41_arg0
	end
	if f41_local1 then
		f41_local0:dispatchEventToRoot( {
			name = "closing_quick_access_menu"
		} )
	end
	if IsMenuInStack( f41_local0, SOCIAL.MENU_NAME ) then
		LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f41_local0.flowManager, nil, SOCIAL.MENU_NAME, f41_arg1, f41_arg2 )
	end
	if IsMenuInStack( f41_local0, OPTIONS.MENU_NAME ) then
		LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f41_local0.flowManager, nil, OPTIONS.MENU_NAME, f41_arg1, f41_arg2 )
	end
	if IsMenuInStack( f41_local0, f0_local0 ) and not IsMenuInStack( f41_local0, f0_local0 ) then
		LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f41_local0.flowManager, nil, f0_local0, f41_arg1, f41_arg2 )
	end
end

LUI.FlowManager.PopMenuStackUpToSocialMenu = function ( f40_arg0 )
	if LUI.FlowManager.IsInStack( SOCIAL.MENU_NAME ) then
		LUI.FlowManager.PopMenuStackUpToMenu( SOCIAL.MENU_NAME, f40_arg0 )
		return true
	else
		return false
	end
end

LUI.FlowManager.CreateMenuExitByIdFunc = function ( f38_arg0, f38_arg1 )
	assert( f38_arg0 )
	local f38_local0 = Engine[0xEE6F69FEA944B13]()
	local f38_local1 = assert
	local f38_local2
	if f38_local0 then
		f38_local2 = f38_local0
	else
		f38_local2 = f38_local0.flowManager
	end
	f38_local1( f38_local2 )
	f38_local1 = f38_arg0:GetCurrentMenu() or f38_arg0
	local f38_local3 = f38_local1.id
	return function ()
		LUI.FlowManager.RequestLeaveMenuByName( f38_arg0, f38_arg0 )
	end
	
end

LUI.FlowManager.HandleNavigationForMobileMergedMainMenu = function ( f37_arg0, f37_arg1 )
	local f37_local0 = LUI.FlowManager.FlowMenus[PartyUIRoot.BR_MAIN_MENU]
	if f37_arg1 == LUI.FlowManager.FlowMenus[PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY] or f37_arg1 == LUI.FlowManager.FlowMenus[PartyUIRoot.WZ_PRIVATE_MATCH_LOBBY] then
		return true
	else
		
	end
end

LUI.FlowManager.init = function ( f33_arg0, f33_arg1, f33_arg2 )
	LUI.UIElement.init( f33_arg0 )
	f33_arg0.id = "flowManager"
	f33_arg0.root = f33_arg1
	f33_arg0._controllerIndex = f33_arg2
	f33_arg0.menuInfoStack = {}
	f33_arg0.menuHistoryQueue = LUI.CreateQueue()
	f33_arg0.menuHistoryQueue.maxLen = 64
	f33_arg0.stackVersion = 0
	f33_arg0.stackChangeTime = Engine[0x6991337AE950F99]()
	f33_arg0.stackChangeMenu = "NA"
	f33_arg0.isPartyUIRootDirty = false
	f33_arg0.isGameModeUIRootDirty = false
	f33_arg0.gameModeKey = Enum[0xAC7E3CE067D9A9F][0xC0D17BAD169557B]
	f33_arg0.isShuttingDownGameModeInFenceUpdate = false
	f33_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		if f33_arg0( element, event ) then
			return true
		end
		local f36_local0 = f33_arg0:GetTopMostOpenMenuInfo()
		if f36_local0 then
			local f36_local1
			if f36_local0.controller and event.controller and f36_local0.controller ~= event.controller then
				f36_local1 = false
			else
				f36_local1 = true
			end
			if f36_local1 then
				return element:ForwardEventToTopMostOpenMenu( event )
			elseif not f36_local0.isControllerExclusive then
				if LUI.FlowManager.TabsBlockInput( f36_local0.menu, event ) then
					return false
				else
					return element:ForwardEventToTopMostOpenMenu( event )
				end
			end
		end
		return false
	end )
	if Engine[0x5EE05AD994388B6]() then
		f33_arg0:registerEventHandler( "mousemove", f33_arg0.ForwardMouseEventToTopMostOpenMenu )
		f33_arg0:registerEventHandler( "mousedown", f33_arg0.ForwardMouseEventToTopMostOpenMenu )
		f33_arg0:registerEventHandler( "mouseup", f33_arg0.ForwardMouseEventToTopMostOpenMenu )
	end
	local f33_local0 = Engine[0x7AE6126734FCDB]()
	local f33_local1 = f33_arg0
	local f33_local2 = f33_arg0.registerEventHandler
	local f33_local3 = "addmenu"
	local f33_local4
	if f33_local0 then
		f33_local4 = f33_arg0.addMenuHandler_TEL
		if not f33_local4 then
		
		else
			f33_local2( f33_local1, f33_local3, f33_local4 )
			f33_local1 = f33_arg0
			f33_local2 = f33_arg0.registerEventHandler
			f33_local3 = "popupmenu"
			if f33_local0 then
				f33_local4 = f33_arg0.popupMenuHandler_TEL
				if not f33_local4 then
				
				else
					f33_local2( f33_local1, f33_local3, f33_local4 )
					f33_local1 = f33_arg0
					f33_local2 = f33_arg0.registerEventHandler
					f33_local3 = "leavemenu"
					if f33_local0 then
						f33_local4 = f33_arg0.leaveMenuHandler_TEL
						if not f33_local4 then
						
						else
							f33_local2( f33_local1, f33_local3, f33_local4 )
							f33_local1 = f33_arg0
							f33_local2 = f33_arg0.registerEventHandler
							f33_local3 = "restoreMenu"
							if f33_local0 then
								f33_local4 = f33_arg0.restoreMenuHandler_TEL
								if not f33_local4 then
								
								else
									f33_local2( f33_local1, f33_local3, f33_local4 )
									f33_local1 = f33_arg0
									f33_local2 = f33_arg0.registerEventHandler
									f33_local3 = "auto_navigation_to_menu"
									if f33_local0 then
										f33_local4 = f33_arg0.autoNavigationToMenuHandler_TEL
										if not f33_local4 then
										
										else
											f33_local2( f33_local1, f33_local3, f33_local4 )
											f33_arg0:registerEventHandler( "closeallmenus", f33_arg0.closeAllMenusHandler )
											if CONDITIONS.IsSplitscreen() then
												f33_arg0:registerEventHandler( "remove_menu_stack", f33_arg0.removeMenuStack )
											end
											if Engine[0x9258F49F515F97B]() and not Engine[0x12586A3F4FB490E]() then
												f33_arg0:registerOmnvarHandler( "ui_options_menu", function ( f35_arg0, f35_arg1 )
													DebugPrint( "ui_options_menu omnvar handler called. Value is: " .. tostring( f35_arg1.value ) )
													f35_arg0:OpenMenuByScriptRequest( f35_arg1.value )
												end )
												f33_arg0:OpenMenuByScriptRequest( Game[0x28624DEF6F708C8]( f33_arg2, "ui_options_menu" ) )
											end
											if CONDITIONS.IsMobileOrMobileSim() then
												LUI.FlowManager.FlowMenus[PartyUIRoot.MP_MAIN_MENU] = "MainMenuMobile"
												LUI.FlowManager.FlowMenus[PartyUIRoot.BR_MAIN_MENU] = "MainMenuMobile"
												LUI.FlowManager.FlowMenus[PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY] = "MainMenuMobileMatchmakingLobby"
												LUI.FlowManager.FlowMenus[PartyUIRoot.WZ_PRIVATE_MATCH_LOBBY] = "MainMenuMobilePrivateMatchLobby"
												f33_local2 = LUI.FlowManager.FlowMenus
												local f33_local5 = PartyUIRoot.LP_BR_PUBLIC_MATCH_LOBBY
												f33_local1 = "MainMenuMobileMatchmakingLobby"
												f33_arg0:addEventHandler( "empty_menu_stack", function ( f34_arg0, f34_arg1 )
													LUI.FlowManager.MobileClearTakeDamageSubscription()
												end )
												f33_local2[f33_local5] = f33_local1
												f33_local1 = f33_arg0
												f33_local2 = f33_arg0.addEventHandler
												f33_local3 = "on_mobile_webview_open"
												if f33_local0 then
													f33_local4 = f33_arg0.onMobileWebviewOpenHandler_TEL
													if not f33_local4 then
													
													else
														f33_local2( f33_local1, f33_local3, f33_local4 )
													end
												end
												f33_local4 = f33_arg0.onMobileWebviewOpenHandler
											end
										end
									end
									f33_local4 = f33_arg0.autoNavigationToMenuHandler
								end
							end
							f33_local4 = f33_arg0.restoreMenuHandler
						end
					end
					f33_local4 = f33_arg0.leaveMenuHandler
				end
			end
			f33_local4 = f33_arg0.popupMenuHandler
		end
	end
	f33_local4 = f33_arg0.addMenuHandler
end

LUI.FlowManager.GetGamemodeForUIRoot = function ( f32_arg0 )
	if f32_arg0 > PartyUIRoot.GAMEMODE_NONE_MENUS_START and f32_arg0 < PartyUIRoot.GAMEMODE_NONE_MENUS_END then
		return CoD.PlayMode.None
	elseif f32_arg0 > PartyUIRoot.GAMEMODE_SP_MENUS_START and f32_arg0 < PartyUIRoot.GAMEMODE_SP_MENUS_END then
		return CoD.PlayMode.SP
	elseif f32_arg0 > PartyUIRoot.GAMEMODE_MP_MENUS_START and f32_arg0 < PartyUIRoot.GAMEMODE_MP_MENUS_END then
		return CoD.PlayMode.Core
	elseif f32_arg0 > PartyUIRoot.GAMEMODE_CP_MENUS_START and f32_arg0 < PartyUIRoot.GAMEMODE_CP_MENUS_END then
		return CoD.PlayMode.Aliens
	elseif f32_arg0 > PartyUIRoot.GAMEMODE_WZ_MENUS_START and f32_arg0 < PartyUIRoot.GAMEMODE_WZ_MENUS_END then
		return CoD.PlayMode.Core
	elseif f32_arg0 > PartyUIRoot.OFFLINE_GAMEMODE_SP_MENUS_START and f32_arg0 < PartyUIRoot.OFFLINE_GAMEMODE_SP_MENUS_END then
		return CoD.PlayMode.SP
	else
		assert( "LUI.FlowManager.GetGamemodeForUIRoot invalid ui root " .. tostring( f32_arg0 ) )
	end
end

LUI.FlowManager.IsUIRootBRGamemode = function ( f31_arg0 )
	local f31_local0
	if (f31_arg0 < BR_MENUS_START or f31_arg0 > BR_MENUS_END) and (f31_arg0 <= PartyUIRoot.GAMEMODE_WZ_MENUS_START or f31_arg0 >= PartyUIRoot.GAMEMODE_WZ_MENUS_END) then
		f31_local0 = false
	else
		f31_local0 = true
	end
	return f31_local0
end

LUI.FlowManager.IsAutoNavigationActive = function ()
	local f30_local0 = Engine[0xEE6F69FEA944B13]()
	local f30_local1 = assert
	local f30_local2
	if f30_local0 then
		f30_local2 = f30_local0
	else
		f30_local2 = f30_local0.flowManager
	end
	f30_local1( f30_local2 )
	f30_local1 = f30_local0.flowManager
	local f30_local3 = f30_local1.isGameModeUIRootDirty
	if not f30_local3 then
		f30_local3 = f30_local1.isPartyUIRootDirty
	end
	return f30_local3
end

LUI.FlowManager.SetIsShuttingDownGameModeInFenceUpdate = function ( f29_arg0 )
	DebugPrint( "SetIsShuttingDownGameModeInFenceUpdate to " .. tostring( f29_arg0 ) )
	local f29_local0 = Engine[0xEE6F69FEA944B13]()
	local f29_local1 = assert
	local f29_local2
	if f29_local0 then
		f29_local2 = f29_local0
	else
		f29_local2 = f29_local0.flowManager
	end
	f29_local1( f29_local2 )
	f29_local0.flowManager.IsShuttingDownGameModeInFenceUpdate = f29_arg0
end

LUI.FlowManager.IsShuttingDownGameModeInFenceUpdateActive = function ()
	local f28_local0 = Engine[0xEE6F69FEA944B13]()
	local f28_local1 = assert
	local f28_local2
	if f28_local0 then
		f28_local2 = f28_local0
	else
		f28_local2 = f28_local0.flowManager
	end
	f28_local1( f28_local2 )
	return f28_local0.flowManager.IsShuttingDownGameModeInFenceUpdate
end

LUI.FlowManager.RequestAutomaticNavigation = function ( f27_arg0, f27_arg1 )
	DebugPrint( "RequestAutomaticNavigation to  " .. tostring( f27_arg0 ) )
	local f27_local0 = Engine[0xEE6F69FEA944B13]()
	local f27_local1 = assert
	local f27_local2
	if f27_local0 then
		f27_local2 = f27_local0
	else
		f27_local2 = f27_local0.flowManager
	end
	f27_local1( f27_local2 )
	f27_local1 = f27_local0.flowManager
	f27_local1.isGameModeUIRootDirty = true
	f27_local1._autoNavDestination = f27_arg0
	f27_local1._autoNavBuildData = f27_arg1
	METRICS.SendDlogEventCODHQ_UISession( f27_local1._controllerIndex, LUI.FlowManager.FlowMenus[f27_arg0] )
end

LUI.FlowManager.MarkUIRootDirty = function ( f26_arg0 )
	assert( f26_arg0 )
	DebugPrintLogFileOnly( "MarkUIRootDirty " .. f26_arg0 )
	local f26_local0 = Engine[0xEE6F69FEA944B13]()
	local f26_local1 = assert
	local f26_local2
	if f26_local0 then
		f26_local2 = f26_local0
	else
		f26_local2 = f26_local0.flowManager
	end
	f26_local1( f26_local2 )
	f26_local0.flowManager.isPartyUIRootDirty = true
end

LUI.FlowManager.AutomaticNavigationFrame = function ( f25_arg0 )
	local f25_local0 = PartyUIRoot.FREE
	local f25_local1 = LUI.FlowManager.AutoNavigationType.NONE
	local f25_local2 = {}
	local f25_local3 = {}
	local f25_local4 = f25_arg0._controllerIndex
	if not f25_local4 then
		f25_local4 = Engine[0x45B054C920178E9]()
	end
	if f25_arg0.isGameModeUIRootDirty then
		f25_local0 = f25_arg0._autoNavDestination
		f25_local1 = LUI.FlowManager.AutoNavigationType.GAME_MODE
		if f25_arg0._autoNavBuildData then
			f25_local2 = f25_arg0._autoNavBuildData
		end
	elseif f25_arg0.isPartyUIRootDirty and Engine[0x71280024B610B02]() then
		f25_local0 = Lobby[0x340158680AC50CB]()
		f25_local1 = LUI.FlowManager.AutoNavigationType.PARTY_UI_ROOT
	else
		local f25_local5 = Tournament[0xB06A385411B9B43]()
		if f25_local5 ~= PartyUIRoot.FREE then
			f25_local0 = f25_local5
			f25_local1 = LUI.FlowManager.AutoNavigationType.TOURNAMENT
			f25_local3.leaveLobby = true
			f25_local3.createPrivateParty = true
		end
	end
	if f25_local0 ~= PartyUIRoot.FREE then
		if Dvar[0x9E5BE3B4BBA4E0E]( 0xB189E9721E5C907 ) and (Friends[0x46D7C4C8488282E]() or not Engine[0x8B495DC361731F7]( f25_local4 ) or not Engine[0xDA7A89CE2B1A2CA]( f25_local4 ) or CONDITIONS.IsMagmaGameMode()) then
			if f25_local0 == PartyUIRoot.MP_PUBLIC_MATCH_LOBBY then
				DebugPrint( "AutomaticNavigationFrame override MP_PUBLIC_MATCH_LOBBY to BATTLE_ROYALE_MENU_PUBLIC_LOBBY" )
				f25_local0 = PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY
			elseif f25_local0 == PartyUIRoot.TOURNAMENT_LOADING or f25_local0 == PartyUIRoot.TOURNAMENT_MATCHMAKING or f25_local0 == PartyUIRoot.TOURNAMENT_BRACKET then
				DebugPrint( "AutomaticNavigationFrame override tournament menus to f2p tournament menus" )
				f25_local0 = TOURNAMENT.GetUIRootForF2PFromPremiumIfF2PAllowed( f25_local0 )
			end
		end
		if CONDITIONS.IsMobileOrMobileSim() and f25_local0 == PartyUIRoot.MP_PUBLIC_MATCH_LOBBY then
			DebugPrint( "AutomaticNavigationFrame override MP_PUBLIC_MATCH_LOBBY to BATTLE_ROYALE_MENU_PUBLIC_LOBBY (mobile)" )
			f25_local0 = PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY
		end
		if f25_arg0:DoAutomaticNavigation( f25_local0, f25_local2, f25_local3 ) then
			if f25_local1 == LUI.FlowManager.AutoNavigationType.GAME_MODE then
				f25_arg0.isGameModeUIRootDirty = false
				f25_arg0._autoNavDestination = nil
				f25_arg0._autoNavBuildData = nil
			elseif f25_local1 == LUI.FlowManager.AutoNavigationType.PARTY_UI_ROOT then
				f25_arg0.isPartyUIRootDirty = false
			elseif f25_local1 == LUI.FlowManager.AutoNavigationType.TOURNAMENT then
				Tournament[0xB38329E392C08B9]()
			end
		else
			LUI.MouseCursorContextualMenuLayer.ForceCloseContextualMenu()
		end
	end
end

LUI.FlowManager.DoAutomaticNavigation = function ( f24_arg0, f24_arg1, f24_arg2, f24_arg3 )
	local f24_local0 = f24_arg3.leaveLobby
	local f24_local1 = f24_arg3.createPrivateParty
	if Engine[0x7B6EB1163EFAAE0]() then
		END_GAME.StopServerAndLeave( f24_arg0 )
		return false
	elseif not Engine[0x12586A3F4FB490E]() then
		return false
	elseif Lobby[0x9FF3CECE5278A72]() then
		return false
	elseif f24_local0 and Lobby[0xF1D2956B0C99DF6]() then
		if IsPrivateMatch() then
			Lobby.LeaveCustomGameLobby()
		elseif IsPublicMatch() then
			Lobby.LeavePublicLobby()
		end
		return false
	end
	local f24_local2 = Engine[0x45B054C920178E9]()
	if f24_local0 and IsSystemLink() then
		Engine[0x5DEE98AA6FB3C2]( f24_local2, CoD.LeavePartyMoveUI.NO, CoD.LeavePartyShowMessage.NO, "DoAutomaticNavigation systemlink" )
		Dvar[0x8EA06EEDB58D872]( 0x3DDB961100B5F47, false )
		return false
	elseif f24_local1 and not Lobby[0x63537242F1D48FF]() then
		Social[0x4CFFBE37F5E69BB]( f24_local2, "DoAutomaticNavigation" )
		return false
	end
	local f24_local3 = Engine[0xCFB814FF4C67F87]()
	if (f24_local3 ~= LUI.FlowManager.GetGamemodeForUIRoot( f24_arg1 ) or LUI.FlowManager.IsUIRootBRGamemode( f24_arg1 ) ~= CONDITIONS.IsMagmaGameMode() and not CONDITIONS.IsMobileOrMobileSim()) and f24_local3 ~= CoD.PlayMode.None then
		local f24_local4 = Engine[0x45B054C920178E9]()
		if GL_HACK.IsStoppingGamemodeBeforeMain() then
			Engine[0x5BEA42EE45B1EE0]()
		end
		f24_arg0:closeAllMenus()
		f24_arg0:addMenu( {
			menu = LUI.FlowManager.FlowMenus[PartyUIRoot.LOCKOUT_MENU],
			controller = f24_local4
		} )
		return false
	end
	local f24_local4 = LUI.FlowManager.FlowMenus[f24_arg1]
	if not f24_local4 then
		return true
	end
	for f24_local8, f24_local9 in pairs( IgnoreFollowHostCallbacks ) do
		if f24_arg0:StackContains( f24_local8 ) and f24_local9( f24_local4 ) then
			return true
		end
	end
	f24_local5 = f24_arg0:StackContains( f24_local4 )
	f24_local6 = false
	for f24_local7 = f24_arg1 + 1, PartyUIRoot.LAST, 1 do
		if f24_arg0:StackContains( LUI.FlowManager.FlowMenus[f24_local7] ) then
			f24_local6 = true
			break
		end
	end
	if CONDITIONS.IsMobileOrMobileSim() then
		f24_local7, f24_local8 = LUI.FlowManager.HandleNavigationForMobileMergedMainMenu( f24_local2, f24_local4 )
		if f24_local7 then
			if f24_local8 and Lobby[0x63537242F1D48FF]() and not Lobby[0x6957722EF74F5D2]() then
				f24_local4 = f24_local8
				f24_local5 = true
				f24_local6 = true
			else
				return true
			end
		end
	end
	if f24_local5 and not f24_local6 then
		return true
	end
	DebugPrint( "LUI.FlowManager.FollowPartyHost to " .. f24_local4 )
	f24_local7 = PresetStacks[f24_local4]
	f24_local8 = false
	if f24_local7 and #f24_local7 == #f24_arg0.menuInfoStack then
		f24_local8 = true
		for f24_local12, f24_local13 in ipairs( f24_arg0.menuInfoStack ) do
			if f24_local13.name ~= f24_local7[f24_local12].name then
				f24_local8 = false
				break
			end
		end
	end
	if not f24_local8 then
		f24_arg0:closeAllMenus()
	end
	f24_arg0:addMenu( {
		menu = f24_local4,
		controller = f24_local2,
		data = f24_arg2
	} )
	return false
end

LUI.FlowManager.OpenMenuByScriptRequest = function ( f20_arg0, f20_arg1 )
	assert( Engine[0x9258F49F515F97B]() )
	if not Game[0xA988866C889EAAD]() then
		
	else
		
	end
	local f20_local0 = nil
	f20_local0 = function ( f22_arg0 )
		local f22_local0 = f20_arg0:Wait( 16 )
		f22_local0.onComplete = function ()
			if f22_arg0.root.loadingScreenManager and f22_arg0.root.loadingScreenManager:ShouldBeVisible() then
				f22_arg0( f22_arg0 )
			else
				f22_arg0()
			end
		end
		
	end
	
	local f20_local1 = {
		nil,
		"TeamSelectMenu",
		nil,
		"LaunchChunkNewPhasePopup",
		"FieldUpgrades",
		[2] = LOADOUT.GetLoadoutMenuRef()
	}
	if f20_local1[f20_arg1] then
		local f20_local2 = f20_arg0.root:GetControllerIndex()
		DebugPrint( "Begining stall for loading." )
		f20_local0( function ()
			LUI.FlowManager.RequestAddMenu( f20_arg0, true, f20_arg0, false, {
				openedFromScriptRequest = true
			}, true )
			if f20_arg0 ~= "LaunchChunkNewPhasePopup" then
				LUI.FlowManager.RequestSetStack( f20_arg0, {
					{
						name = CoD.GetPauseMenuFromCurrentContext()
					}
				} )
			end
		end )
	end
	LUI.FlowManager.RequestCloseAllMenus()
end

LUI.FlowManager.ShouldBeVisible = function ( f19_arg0 )
	local f19_local0 = Engine[0x12586A3F4FB490E]()
	if not f19_local0 then
		f19_local0 = Game[0xA988866C889EAAD]()
	end
	return f19_local0
end

LUI.FlowManager.SetGameModeKey = function ( f18_arg0 )
	local f18_local0 = Engine[0xEE6F69FEA944B13]()
	local f18_local1 = assert
	local f18_local2
	if f18_local0 then
		f18_local2 = f18_local0
	else
		f18_local2 = f18_local0.flowManager
	end
	f18_local1( f18_local2 )
	f18_local0.flowManager.gameModeKey = f18_arg0
end

LUI.FlowManager.LogMenuChangeTo = function ( f17_arg0, f17_arg1, f17_arg2 )
	if f17_arg0.stackChangeMenu ~= f17_arg2 then
		local f17_local0 = Engine[0x6991337AE950F99]()
		local f17_local1 = f17_local0 - (f17_arg0.stackChangeTime or 0)
		if 0 > f17_arg1 or not f17_arg1 then
			f17_arg1 = 0
		end
		if String.IsNilOrEmpty( f17_arg2 ) then
			f17_arg2 = "NA"
		else
			
		end
		local f17_local2
		if String.IsNilOrEmpty( f17_arg0.stackChangeMenu ) then
			f17_local2 = "NA"
		else
			f17_local2 = f17_arg0.stackChangeMenu
		end
		f17_arg0.stackChangeMenu = f17_local2
		Engine[0xCC15E38125CE143]( f17_arg1, f17_arg0.stackChangeMenu, f17_arg2, f17_local1 )
		f17_arg0.stackChangeMenu = f17_arg2
		f17_arg0.stackChangeTime = f17_local0
	end
end

LUI.FlowManager.Frame = function ( f16_arg0 )
	f16_arg0:RefreshStack()
	f16_arg0:AutomaticNavigationFrame()
end

LUI.FlowManager.InitLayer = function ( f14_arg0 )
	if Engine[0x12586A3F4FB490E]() and not f14_arg0._partyRootSubscription then
		local f14_local0 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.partyUIRoot" )
		f14_local0 = f14_local0:GetModel( 0 )
		local f14_local1 = Lobby[0x340158680AC50CB]()
		f14_arg0._partyRootSubscription = f14_arg0:SubscribeToModel( f14_local0, function ( f15_arg0 )
			local f15_local0 = Lobby[0x340158680AC50CB]()
			if f15_local0 > PartyUIRoot.LOCKOUT_MENU then
				LUI.FlowManager.MarkUIRootDirty( "party root subscription" )
				local f15_local1 = LUI.FlowManager.FlowMenus[f14_arg0]
				if not f15_local1 then
					f15_local1 = tostring( f14_arg0 )
				end
				local f15_local2 = LUI.FlowManager.FlowMenus[f15_local0]
				if not f15_local2 then
					f15_local2 = tostring( f15_local0 )
				end
				DebugPrintLogFileOnly( "PartyUIRoot changed from " .. f15_local1 .. " to " .. f15_local2 )
				f14_arg0 = f15_local0
			end
		end )
	end
end

LUI.FlowManager.ClearLayer = function ( f13_arg0 )
	f13_arg0:closeAllMenus()
	if f13_arg0._partyRootSubscription then
		f13_arg0:UnsubscribeFromModel( f13_arg0._partyRootSubscription )
		f13_arg0._partyRootSubscription = nil
	end
end

LUI.FlowManager.RefreshStack = function ( f12_arg0 )
	local f12_local0 = Engine[0xEE6F69FEA944B13]()
	if DataSources.alwaysLoaded.flowManager.stackEmpty then
		DataSources.alwaysLoaded.flowManager.stackEmpty:SetValue( f12_arg0._controllerIndex, not AnyActiveMenusInStack( f12_local0 ) )
	end
	if #f12_arg0.menuInfoStack == 0 then
		local f12_local1 = f12_arg0._controllerIndex
		if not f12_local1 then
			f12_local1 = Engine[0x45B054C920178E9]()
		end
		DataSources.alwaysLoaded.uri.menuOnTop:SetValue( f12_local1, "" )
		for f12_local5, f12_local6 in pairs( DataSources.alwaysLoaded.uri.menusInStack ) do
			f12_local6:SetValue( f12_local1, false )
		end
		for f12_local5, f12_local6 in pairs( DataSources.alwaysLoaded.uri.menusOpened ) do
			f12_local6:SetValue( f12_local1, false )
		end
		return 
	else
		for f12_local4, f12_local5 in ipairs( f12_arg0.menuInfoStack ) do
			if f12_local5.fenceGroup then
				f12_local5.fenceGroup:Frame( f12_arg0.gameModeKey )
			end
			local f12_local6 = f12_local5.fenceGroup
			if f12_local6 then
				f12_local6 = not f12_local5.fenceGroup:Passes()
			end
			f12_local5.fenced = f12_local6
			if f12_local5.fenced then
				for f12_local6 = f12_local4 + 1, #f12_arg0.menuInfoStack, 1 do
					local f12_local9 = f12_arg0.menuInfoStack[f12_local6]
					if f12_local9 then
						local f12_local10 = f12_local9.fenceGroup
						if f12_local10 then
							f12_local10:Reset()
						end
					end
				end
			end
		end
		f12_local1 = #f12_arg0.menuInfoStack
		for f12_local5, f12_local6 in ipairs( f12_arg0.menuInfoStack ) do
			if f12_local6.fenced then
				f12_local1 = f12_local5 - 1
				break
			end
		end
		f12_local2 = 1
		for f12_local6, f12_local7 in ipairs( f12_arg0.menuInfoStack ) do
			if not f12_local7.isPopup and (f12_local7.menu or f12_local6 <= f12_local1) then
				local f12_local8 = assert
				local f12_local9 = f12_local7.menu
				if not f12_local9 then
					f12_local9 = not f12_local7.fenced
				end
				f12_local8( f12_local9 )
				f12_local2 = f12_local6
			end
		end
		f12_local3 = f12_arg0:GetStackVersion()
		for f12_local7, f12_local8 in ipairs( f12_arg0.menuInfoStack ) do
			if f12_local3 ~= f12_arg0:GetStackVersion() then
				return f12_arg0:RefreshStack()
			elseif f12_local7 < f12_local2 then
				if f12_local8.menu and not AlwaysVisible[f12_local8.name] then
					f12_arg0:CloseMenuInfo( f12_local8, false, true )
				end
			end
			if not f12_local8.menu and (f12_local7 <= f12_local1 or f12_local8.isModal) then
				assert( not f12_local8.fenced )
				Engine[0x20F70AE94873E0B]( "(FlowManager OpenMenuInfo) " .. f12_local8.name, "widget" )
				Engine[0xD344B7DE66AFA81]( "OpenMenuInfo: " .. f12_local8.name )
				f12_arg0:OpenMenuInfo( f12_local8 )
				Engine[0xC99CAB76F12E539]()
				Engine[0xFE34BB8C92CDBEE]( "(FlowManager OpenMenuInfo) " .. f12_local8.name, "widget" )
			end
		end
		f12_local4 = f12_arg0._controllerIndex
		if not f12_local4 then
			f12_local4 = Engine[0x45B054C920178E9]()
		end
		f12_local5 = f0_local0( f12_local4 )
		f12_local6 = nil
		for f12_local9, f12_local10 in ipairs( f12_arg0.menuInfoStack ) do
			local f12_local15 = f12_local10.onTop == true
			local f12_local12 = f12_local10.menu
			if f12_local12 then
				f12_local12 = f12_local9 == #f12_arg0.menuInfoStack
			end
			f12_local10.onTop = f12_local12
			if f12_local9 > f12_local1 or f12_local1 >= #f12_arg0.menuInfoStack then
				f12_local12 = false
			else
				f12_local12 = true
			end
			LUI.FlowManager.IsBelowBlockingFence = f12_local12
			if f12_local10.menu then
				if f12_local10.onTop then
					if f12_local10.menu.popupActive then
						f12_local10.menu:processEvent( {
							dispatchChildren = true,
							name = "popup_inactive"
						} )
						f12_local10.menu.popupActive = nil
					end
					if not f12_local15 then
						if DisableMousePointer[f12_local10.name] then
							f12_arg0.root:RemoveMouseCursor()
						else
							f12_arg0.root:TryAddMouseCursor()
						end
						local f12_local13, f12_local14 = f12_local10.menu:restoreState( f12_local5[f12_local10.name], f12_local10.controller )
						if not LUI.IsLastInputPointer( f12_local10.controller ) then
							if not f12_local13 or f12_local14 == 0 then
								Engine[0x20F70AE94873E0B]( "(FlowManager gain_focus) " .. f12_local10.name, "widget" )
								f12_local10.menu:processEvent( {
									name = "gain_focus",
									controller = f12_local10.controller,
									focusType = FocusType.MenuFlow
								} )
								Engine[0xFE34BB8C92CDBEE]( "(FlowManager gain_focus) " .. f12_local10.name, "widget" )
							end
						else
							Engine[0xA1DAA3E8650282A]( f12_local10.controller )
							LUI.MouseCursorTooltipLayer.ForceCloseTooltip( f12_local10.controller )
						end
						LUI.MouseCursorContextualMenuLayer.ForceCloseContextualMenu()
						f12_local5[f12_local10.name] = nil
						f12_local6 = f12_local10
					end
				else
					if f12_local15 then
						f12_local5[f12_local10.name] = f12_local10.menu:saveState()
						f12_local10.menu:processEvent( {
							name = "lose_focus"
						} )
						f12_local10.menu:processEvent( {
							dispatchChildren = true,
							name = "popup_active"
						} )
					end
					f12_local10.menu.popupActive = true
				end
				if f12_local10.menu.isBelowBlockingFence ~= f12_local12 then
					f12_local10.menu.isBelowBlockingFence = f12_local12
					if f12_local12 then
						f12_local10.menu:processEvent( {
							name = "below_blocking_fence"
						} )
					else
						f12_local10.menu:processEvent( {
							name = "not_below_blocking_fence",
							isAutoNavigationActive = f12_arg0.IsAutoNavigationActive()
						} )
					end
				end
			end
		end
		LUI.DeferredFence.DeferredFenceUpdate()
		if CONDITIONS.IsFTUEMobileEnabled() and f12_local6 then
			FTUE.StorePendingLocation( {
				menu = f12_local6.menu,
				isModal = f12_local6.isModal,
				isPopup = f12_local6.isPopup
			} )
		end
		f12_local7 = LUI.FlowManager.GetTopMostOpenMenuInfo()
		if f12_local7 and DataSources.alwaysLoaded.uri.menuOnTop then
			DataSources.alwaysLoaded.uri.menuOnTop:SetValue( f12_arg0._controllerIndex, f12_local7.name )
		end
		for f12_local10, f12_local15 in pairs( DataSources.alwaysLoaded.uri.menusInStack ) do
			f12_local15:SetValue( f12_local4, IsMenuInStack( f12_local0, f12_local10 ) )
		end
		for f12_local10, f12_local15 in pairs( DataSources.alwaysLoaded.uri.menusOpened ) do
			f12_local15:SetValue( f12_local4, IsMenuOpenAndVisible( f12_local0, f12_local10 ) )
		end
	end
end

LUI.FlowManager.processEvent = function ( f11_arg0, f11_arg1 )
	local f11_local0 = nil
	local f11_local1 = f11_arg0.m_eventHandlers[f11_arg1.name]
	if f11_local1 then
		f11_local0 = f11_local1( f11_arg0, f11_arg1 )
	else
		f11_local0 = LUI.UIElement.processEvent( f11_arg0, f11_arg1 )
	end
	if not f11_local0 and f11_arg0.IsNavigationEvent( f11_arg1 ) then
		f11_arg0:EnsureFocus( f11_arg1 )
	end
	return f11_local0
end

LUI.FlowManager.EnsureFocus = function ( f10_arg0, f10_arg1 )
	local f10_local0 = f10_arg0.menuInfoStack[#f10_arg0.menuInfoStack]
	if f10_local0 and f10_local0.menu and not f10_local0.menu:getFirstInFocus() then
		DebugPrint( "FlowManager: No child in focus, trying to restore focus.  This should probably only happen when using a mouse" )
		local f10_local1 = LUI.FlowManager.GetScopedData( f10_local0.menu )
		f10_local0.menu:processEvent( {
			fromEnsureFocus = true,
			name = "gain_focus",
			controller = f10_local1.controllerIndex,
			focusType = f10_arg1.name
		} )
		DebugPrint( "CheckRestoreFocus to " .. f10_local0.name )
	end
end

LUI.FlowManager.ForwardEventToTopMostOpenMenu = function ( f9_arg0, f9_arg1 )
	local f9_local0 = f9_arg0:GetTopMostOpenMenuInfo()
	if f9_local0 then
		return f9_local0.menu:processEvent( f9_arg1 )
	else
		return false
	end
end

LUI.FlowManager.ForwardMouseEventToTopMostOpenMenu = function ( f8_arg0, f8_arg1 )
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain( f8_arg0 )
	end
	local f8_local0 = f8_arg0:ForwardEventToTopMostOpenMenu( f8_arg1 )
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.EndFocusChain( f8_arg0 )
	end
	if f8_arg1.name == "mousemove" then
		return true
	else
		return f8_local0
	end
end

LUI.FlowManager.IsNavigationEvent = function ( f7_arg0 )
	if f7_arg0.name == "gamepad_button" and f7_arg0.down and f7_arg0.qualifier ~= "mousewheel" and (f7_arg0.button == "up" or f7_arg0.button == "down" or f7_arg0.button == "left" or f7_arg0.button == "right" or f7_arg0.button == "primary") then
		return true
	else
		return false
	end
end

LUI.FlowManager.TabsBlockInput = function ( f6_arg0, f6_arg1 )
	local f6_local0 = LUI.FlowManager.FindTabsAtElement( f6_arg0 )
	if f6_local0 and f6_local0:IsControllerExclusive() then
		if f6_local0:IsControllerExclusiveGamepadInput( f6_arg1.button ) and not f6_local0:IsExpectedController( f6_arg1.controller ) then
			return true
		elseif not f6_local0:IsControllerExclusiveGamepadInput( f6_arg1.button ) then
			f6_local0:SetupExclusiveControllerData( {
				isControllerExclusive = true,
				controllerIndex = f6_arg1.controller
			} )
		end
	end
	return false
end

LUI.FlowManager.FindTabsAtElement = function ( f5_arg0 )
	if f5_arg0 then
		if f5_arg0._isTabs then
			return f5_arg0
		elseif f5_arg0:getFirstChild() then
			
		else
			
		end
	end
end

LUI.FlowManager.OpenDrawerPopup = function ( f4_arg0, f4_arg1, f4_arg2 )
	if not f4_arg2 then
		f4_arg2 = {}
	end
	f4_arg2.controllerIndex = f4_arg0
	local f4_local0 = MenuBuilder.BuildRegisteredType( f4_arg1, f4_arg2 )
	f4_local0:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	f4_arg2.widget = f4_local0
	LUI.FlowManager.RequestPopupMenu( nil, "DrawerPopup", false, f4_arg0, false, f4_arg2 )
end

LUI.FlowManager.OpenDrawer = function ( f3_arg0, f3_arg1, f3_arg2 )
	local f3_local0 = f3_arg2.parent
	if f3_local0 then
		f3_arg2.controllerIndex = f3_arg0
		local f3_local1 = MenuBuilder.BuildRegisteredType( f3_arg1, f3_arg2 )
		f3_local1:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		f3_arg2.widget = f3_local1
		local f3_local2 = MenuBuilder.BuildRegisteredType( "DrawerPanelList", f3_arg2 )
		f3_local2:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		f3_local2:SetupDrawerList( f3_arg0, f3_arg2 )
		f3_local0:addElement( f3_local2 )
	else
		LUI.FlowManager.OpenDrawerPopup( f3_arg0, f3_arg1, f3_arg2 )
	end
end

LUI.FlowManager.OpenWidgetPopup = function ( f2_arg0, f2_arg1, f2_arg2 )
	if not f2_arg2 then
		f2_arg2 = {}
	end
	f2_arg2.controllerIndex = f2_arg0
	f2_arg2.widget = MenuBuilder.BuildRegisteredType( f2_arg1, f2_arg2 )
	LUI.FlowManager.RequestPopupMenu( nil, "MobileGenericWidgetPopup", false, f2_arg0, false, f2_arg2 )
end

LUI.FlowManager.MobileClearTakeDamageSubscription = function ()
	if Engine[0x12586A3F4FB490E]() then
		return 
	end
	local f1_local0 = LUI.FlowManager.GetFlowManager()
	if f1_local0._takeDamageSubscription then
		f1_local0:UnsubscribeFromModel( f1_local0._takeDamageSubscription )
		f1_local0._takeDamageSubscription = nil
	end
end

