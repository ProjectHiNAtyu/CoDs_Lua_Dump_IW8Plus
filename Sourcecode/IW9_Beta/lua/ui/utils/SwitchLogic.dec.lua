-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
SWITCH = SWITCH or {}
SWITCH.STATES = {
	ON = 2,
	OFF = 1
}
local f0_local0 = function ( f13_arg0, f13_arg1 )
	f13_arg0:_action( f13_arg1, f13_arg0._currentValue )
end

local f0_local1 = function ( f12_arg0, f12_arg1, f12_arg2, f12_arg3 )
	local f12_local0 = f12_arg0._currentValue
	f12_arg0._currentValue = f12_arg2
	if not f12_arg0._applyable and f12_local0 ~= f12_arg2 then
		f12_arg0:_action( f12_arg1, f12_arg0._currentValue )
	end
	local f12_local1 = "switch"
	local f12_local2
	if f12_arg3 then
		f12_local2 = "_init"
	else
		f12_local2 = ""
	end
	f12_local1 = f12_local1 .. f12_local2
	if f12_arg0:isOn() then
		f12_local2 = "_on"
	else
		f12_local2 = "_off"
	end
	f12_arg0:processEvent( {
		name = f12_local1 .. f12_local2
	} )
end

local f0_local2 = function ( f11_arg0, f11_arg1 )
	f11_arg0:_setValue( f11_arg1, f11_arg0:isOn() and SWITCH.STATES.OFF or SWITCH.STATES.ON )
end

local f0_local3 = function ( f10_arg0 )
	return f10_arg0._currentValue == SWITCH.STATES.ON
end

local f0_local4 = function ( f9_arg0, f9_arg1 )
	f9_arg0._onDependencyParentRefresh = f9_arg1.onDependencyParentRefresh
	f9_arg0._defaultValueGetter = f9_arg1.defaultValueGetter
	f9_arg0._valueGetter = f9_arg1.valueGetter
	f9_arg0._onRefresh = f9_arg1.onRefresh
	f9_arg0._onReset = f9_arg1.onReset
	f9_arg0._action = f9_arg1.action
end

LUI.AddSwitchLogic = function ( f1_arg0, f1_arg1, f1_arg2 )
	assert( f1_arg2, "No table to copy" )
	f0_local0( f1_arg0, f1_arg2 )
	f1_arg0._setValue = f0_local0
	f1_arg0._switchState = f0_local0
	f1_arg0._applyValue = f0_local0
	f1_arg0.isOn = f0_local0
	f1_arg0._currentValue = f1_arg0._valueGetter( f1_arg1 )
	f1_arg0.SwitchButton:registerEventHandler( "button_action", function ( element, event )
		f1_arg0:_switchState( event.controllerIndex or f1_arg0 )
		return true
	end )
	f1_arg0:registerEventHandler( "refresh_values", function ( element, event )
		element:_setValue( event.controllerIndex or f1_arg0, element._currentValue )
	end )
	f1_arg0:registerEventHandler( "reset_value", function ( element, event )
		if element._defaultValueGetter then
			element:_setValue( event.controllerIndex or f1_arg0, element._defaultValueGetter( event.controllerIndex or f1_arg0 ) )
			element:_onReset( event.controllerIndex )
		end
	end )
	f1_arg0:registerEventHandler( "apply_value", function ( element, event )
		if element._applyable then
			element:_applyValue( f1_arg0 )
		end
	end )
	f1_arg0:registerEventHandler( "parent_value_changed", function ( element, event )
		if element._onDependencyParentRefresh then
			local f4_local0 = element:_onDependencyParentRefresh( event.controllerIndex or f1_arg0, element._currentValue, event.parentId, event.parentValue )
			if f4_local0 == true then
				element:_onRefresh( event.controllerIndex, element._currentValue )
			elseif f4_local0 ~= nil then
				element:_setValue( event.controllerIndex or f1_arg0, f4_local0 )
			end
		end
	end )
	f1_arg0:registerEventHandler( "refresh_option", function ( element, event )
		if element._onRefresh then
			element:_onRefresh( event.controllerIndex, element._currentValue )
		end
	end )
	f1_arg0:registerEventHandler( "seek_value", function ( element, event )
		if element._valueGetter then
			element:_setValue( event.controllerIndex or f1_arg0, element._valueGetter( f1_arg0 ) )
		end
	end )
	if f1_arg0._valueGetter then
		f1_arg0:_setValue( f1_arg1, f1_arg0._valueGetter( f1_arg1 ), true )
	end
	if Engine[0x84287BE93239E99]() then
		f1_arg0:SetHandleHold( true )
	end
end

