-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:49
MenuUtils = MenuUtils or {}
MenuUtils.MenusBlockingConnectionPopups = {
	nil,
	"popup_leave_game",
	"leave_public_mp_lobby",
	"leave_private_mp_lobby",
	nil,
	"splash_screens",
	[4] = CoD.PauseMenuName[CoD.PauseMenu.MP_PAUSE_MENU]
}
MenuUtils.FENCEDLCTIMER = 5000
local f0_local0 = 250
MenuUtils.AddDismissPauseMenuKBMHandler = function ( f100_arg0 )
	f100_arg0:addEventHandler( "gamepad_button", function ( f101_arg0, f101_arg1 )
		if f101_arg1.down and f101_arg1.button == "menu_dismiss" and not Engine[0x12586A3F4FB490E]() then
			if Engine[0x74423E76DECE3E4]() then
				ACTIONS.ResumeGame( f101_arg0 )
			end
			local f101_local0 = Engine[0xEE6F69FEA944B13]()
			f101_local0 = f101_local0.flowManager:GetStackTop()
			LUI.FlowManager.RequestCloseAllMenus( f101_local0.name, true, f101_arg1.controller )
			return true
		else
			return false
		end
	end )
end

MenuUtils.CanShowConnectionPopups = function ()
	local f99_local0 = true
	local f99_local1 = Engine[0xEE6F69FEA944B13]()
	f99_local1 = f99_local1.flowManager:GetStackTop()
	if f99_local1 then
		if f99_local1.buildData.isBlockingConnectionPopup then
			f99_local0 = false
		else
			for f99_local5, f99_local6 in ipairs( MenuUtils.MenusBlockingConnectionPopups ) do
				if f99_local6 == f99_local1.name then
					f99_local0 = false
					break
				end
			end
		end
	end
	return f99_local0
end

MenuUtils.OrdinalText = {
	nil,
	0x73710B66909E4A,
	0xBC657A4FC8FCCB8,
	0x5085F3D8033024D,
	0xA827A6109355274
}
MenuUtils.OrdinalTextFem = {
	nil,
	0xFBD17B950703E5,
	0x92702C17B54165B,
	0x645C0CE45658406,
	0x8B54BB7C92EFEC7
}
MenuUtils.GetOrdinalPlacment = function ( f98_arg0 )
	local f98_local0 = ""
	if f98_arg0 % 100 == 11 or f98_arg0 % 100 == 12 or f98_arg0 % 100 == 13 then
		f98_local0 = 0xA827A6109355274
	else
		local f98_local1 = MenuUtils.OrdinalText[f98_arg0 % 10]
		if not f98_local1 then
			f98_local0 = f98_local1
		else
			f98_local0 = 0xA827A6109355274
		end
	end
	return Engine[0xED84C33EC5F01EA]( f98_local0, f98_arg0 )
end

MenuUtils.GetOrdinalNumber = function ( f97_arg0, f97_arg1 )
	local f97_local0
	if f97_arg1 then
		f97_local0 = MenuUtils.OrdinalTextFem
		if not f97_local0 then
		
		else
			local f97_local1 = f97_local0[f97_arg0]
			if not f97_local1 then
				f97_local1 = f97_local0[4]
			end
			return f97_local1
		end
	end
	f97_local0 = MenuUtils.OrdinalText
end

MenuUtils.SetupSceneChangeCallback = function ( f94_arg0, f94_arg1 )
	local f94_local0 = assert
	local f94_local1
	if f94_arg1 then
		f94_local1 = f94_arg1
	else
		f94_local1 = type( f94_arg1 ) == "function"
	end
	f94_local0( f94_local1 )
	if not f94_arg0._sceneTimer then
		f94_arg0._sceneTimer = LUI.UITimer.new( {
			interval = 50,
			event = "check_scene_transition"
		} )
		f94_arg0:addElement( f94_arg0._sceneTimer )
	end
	f94_local0 = function ( f96_arg0 )
		if f96_arg0._sceneTimer then
			f96_arg0._sceneTimer:closeTree()
			f96_arg0._sceneTimer = nil
		end
	end
	
	f94_arg0:registerEventHandler( "check_scene_transition", function ( element, event )
		if CONDITIONS.InGame() then
			f94_arg0( element )
			return true
		elseif #Dvar[0x54084D7CA2317BB]( 0x8CC749B90DD2705 ) == 0 and Engine[0x283B38F2501D924]() then
			f94_arg0( element )
			f94_arg0( element )
		end
		return true
	end )
end

MenuUtils.SetupXModelsLoadedCallback = function ( f92_arg0, f92_arg1, f92_arg2, f92_arg3, f92_arg4 )
	MenuUtils.AddLoadingSpinner( f92_arg0, f92_arg4 )
	local f92_local0 = nil
	local f92_local1 = function ()
		if STREAMING.AreXModelsReadyToDisplay( f92_arg0, f92_arg0, f92_arg0 ) then
			MenuUtils.RemoveLoadingSpinnerIfExist( f92_arg0 )
			f92_arg0( f92_arg0 )
		else
			local f93_local0 = f92_arg0:Wait( 100 )
			f93_local0.onComplete = f92_arg0
		end
	end
	
	f92_local1()
end

MenuUtils.WaitForEntitySystem = function ( f90_arg0, f90_arg1 )
	local f90_local0 = assert
	local f90_local1
	if f90_arg1 then
		f90_local1 = f90_arg1
	else
		f90_local1 = type( f90_arg1 ) == "function"
	end
	f90_local0( f90_local1 )
	f90_arg0._entitySystemTimer = LUI.UITimer.new( {
		interval = -28,
		event = "check_entity_system_allocated"
	} )
	f90_arg0:addElement( f90_arg0._entitySystemTimer )
	f90_arg0:registerEventHandler( "check_entity_system_allocated", function ( element, event )
		if Engine[0x283B38F2501D924]() and element._entitySystemTimer then
			element._entitySystemTimer:closeTree()
			element._entitySystemTimer = nil
			f90_arg0()
		end
		return true
	end )
end

MenuUtils.GetMainMenu = function ()
	if Engine[0xCA085C21FCBD7CA]() then
		return "CPMainMenu"
	elseif Engine[0xD151EC5B41223B5]() then
		if Engine[0x220CB915CEFC1FE]() then
			return "BRMainMenu"
		else
			return "MPMainMenu"
		end
	else
		return "MainMeu"
	end
end

MenuUtils.SortViaFunctions = function ( f88_arg0, f88_arg1 )
	for f88_local3, f88_local4 in ipairs( MenuUtils._options ) do
		local f88_local5 = f88_local4.sortFunc( f88_arg0, f88_arg1, f88_local4.sortFuncParams )
		if f88_local5 ~= nil then
			return f88_local5
		end
	end
	return false
end

MenuUtils.SortNoneValue = function ( f87_arg0, f87_arg1, f87_arg2 )
	assert( f87_arg0.ref )
	assert( f87_arg1.ref )
	assert( type( f87_arg2 ) == "table" )
	assert( f87_arg2.noneValue )
	if f87_arg0.ref ~= f87_arg2.noneValue and f87_arg1.ref == f87_arg2.noneValue then
		return false
	elseif f87_arg0.ref == f87_arg2.noneValue and f87_arg1.ref ~= f87_arg2.noneValue then
		return true
	else
		return nil
	end
end

MenuUtils.SortFavorites = function ( f86_arg0, f86_arg1, f86_arg2 )
	assert( f86_arg0.ref )
	assert( f86_arg1.ref )
	assert( type( f86_arg2 ) == "table" )
	assert( type( f86_arg2.favoritesTable ) == "table" )
	if f86_arg2.favoritesTable[f86_arg0.ref] ~= f86_arg2.favoritesTable[f86_arg1.ref] then
		local f86_local0 = f86_arg2.favoritesTable[f86_arg0.ref]
		if f86_local0 then
			f86_local0 = not f86_arg2.favoritesTable[f86_arg1.ref]
		end
		return f86_local0
	else
		return nil
	end
end

MenuUtils.SortNew = function ( f85_arg0, f85_arg1, f85_arg2 )
	assert( f85_arg0.lootID )
	assert( f85_arg1.lootID )
	assert( type( f85_arg2 ) == "table" )
	assert( f85_arg2.controllerIndex )
	local f85_local0 = Loot[0xB853FAE9166621]( f85_arg2.controllerIndex, f85_arg0.lootID )
	local f85_local1 = Loot[0xB853FAE9166621]( f85_arg2.controllerIndex, f85_arg1.lootID )
	if f85_local0 ~= f85_local1 then
		local f85_local2
		if f85_local0 then
			f85_local2 = f85_local0
		else
			f85_local2 = not f85_local1
		end
		return f85_local2
	else
		return nil
	end
end

MenuUtils.SortUnlocks = function ( f84_arg0, f84_arg1 )
	assert( f84_arg0.isUnlocked )
	assert( f84_arg1.isUnlocked )
	if f84_arg0.isUnlocked ~= f84_arg1.isUnlocked then
		local f84_local0 = f84_arg0.isUnlocked
		if f84_local0 then
			f84_local0 = not f84_arg1.isUnlocked
		end
		return f84_local0
	else
		return nil
	end
end

MenuUtils.SortSeasons = function ( f83_arg0, f83_arg1, f83_arg2 )
	assert( f83_arg0.season )
	assert( f83_arg1.season )
	assert( type( f83_arg2 ) == "table" )
	assert( f83_arg2.seasonsSortingType )
	if f83_arg0.season ~= f83_arg1.season then
		if f83_arg2.seasonsSortingType == LOOT.seasonsSortingOptions.OLD_FIRST then
			return f83_arg0.season < f83_arg1.season
		elseif f83_arg2.seasonsSortingType == LOOT.seasonsSortingOptions.RECENT_FIRST then
			return f83_arg1.season < f83_arg0.season
		end
	end
	return nil
end

MenuUtils.WaitUntilCondition = function ( f81_arg0, f81_arg1, f81_arg2 )
	local f81_local0 = f81_arg0:Wait( f0_local0, true )
	f81_local0.onComplete = function ()
		if f81_arg0 and f81_arg0() then
			f81_arg0( f81_arg0 )
		else
			MenuUtils.WaitUntilCondition( f81_arg0, f81_arg0, f81_arg0 )
		end
	end
	
end

MenuUtils.SortName = function ( f80_arg0, f80_arg1 )
	assert( f80_arg0.name )
	assert( f80_arg1.name )
	local f80_local0 = Engine[0xED84C33EC5F01EA]( f80_arg0.name )
	local f80_local1 = Engine[0xED84C33EC5F01EA]( f80_arg1.name )
	if f80_local0 ~= f80_local1 then
		return f80_local0 < f80_local1
	else
		return nil
	end
end

MenuUtils.SortNameLocalized = function ( f79_arg0, f79_arg1 )
	assert( f79_arg0.localizedName )
	assert( f79_arg1.localizedName )
	if f79_arg0.localizedName ~= f79_arg1.localizedName then
		return f79_arg0.localizedName < f79_arg1.localizedName
	else
		return nil
	end
end

MenuUtils.SortRef = function ( f78_arg0, f78_arg1 )
	assert( f78_arg0.ref )
	assert( f78_arg1.ref )
	if f78_arg0.ref ~= f78_arg1.ref then
		return f78_arg0.ref < f78_arg1.ref
	else
		return nil
	end
end

MenuUtils.SortTableViaOptions = function ( f77_arg0, f77_arg1 )
	assert( type( f77_arg0 ) == "table" )
	assert( type( f77_arg1 ) == "table" )
	assert( MenuUtils._options == nil )
	MenuUtils._options = f77_arg1
	table.sort( f77_arg0, MenuUtils.SortViaFunctions )
	MenuUtils._options = nil
end

MenuUtils.SetupSubMenuTab = function ( f46_arg0, f46_arg1, f46_arg2 )
	local f46_local0 = function ( f76_arg0, f76_arg1 )
		local f76_local0 = f76_arg0._isRestricted or false
		local f76_local1 = f76_arg0.NewItemSmallIcon
		local f76_local2 = f76_local1
		f76_local1 = f76_local1.UpdateAlpha
		local f76_local3
		if f76_arg1 and not f76_local0 then
			f76_local3 = 1
		else
			f76_local3 = 0
		end
		f76_local1( f76_local2, f76_local3 )
	end
	
	local f46_local1 = function ( f75_arg0, f75_arg1 )
		if not f75_arg0.Banner then
			local f75_local0 = nil
			f75_local0 = MenuBuilder.BuildRegisteredType( "BattlePassFreeBanner", {
				controllerIndex = f75_arg0._controllerIndex
			} )
			f75_local0.id = "Banner"
			f75_local0:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, 0, _1080p * 24 )
			f75_local0:setPriority( -1 )
			f75_local0:SetAlpha( 1 )
			f75_arg0:addElement( f75_local0 )
			f75_arg0.Banner = f75_local0
		end
		f75_arg0.Banner:SetText( f75_arg1 )
	end
	
	local f46_local2 = nil
	f46_local2 = function ( f73_arg0, f73_arg1, f73_arg2 )
		if not f73_arg1 or #f73_arg1 <= 0 then
			
		end
		local f73_local0 = f73_arg0.Banner:Wait( f46_arg0, true )
		f73_local0.onComplete = function ()
			if LUI.FlowManager.IsMenuOnTop( f73_arg0 ) then
				f73_arg0()
			else
				f73_arg0( f73_arg0, f73_arg0, f73_arg0 )
			end
		end
		
	end
	
	local f46_local3 = function ( f70_arg0, f70_arg1 )
		f46_arg0( f70_arg0, Engine[0xED84C33EC5F01EA]( 0x1580AC0D78CF1C9 ) )
		f70_arg0.Banner.FreeText:SetTracking( 0 * _1080p, 0 )
		if f70_arg1 then
			f70_arg0.Banner:SetAlpha( 1 )
			ACTIONS.AnimateSequence( f70_arg0.Banner, "FreeBundleVariant" )
			if Dvar[0x9E5BE3B4BBA4E0E]( 0x21761462AFB421E ) then
				local f70_local0 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.storeTabFreeBundleVisibilitySeen" )
				if not f70_local0:GetValue( f70_arg0._controllerIndex ) then
					f70_arg0.Banner:SetAlpha( 0 )
					f70_arg0:addEventHandler( "menu_create", function ( f71_arg0, f71_arg1 )
						local f71_local0
						if f71_arg0:GetCurrentMenu() then
							f71_local0 = f71_arg0:GetCurrentMenu()
							f71_local0 = f71_local0.id
							if not f71_local0 then
							
							else
								f70_arg0( f70_arg0, f71_local0, function ()
									f71_arg0.Banner:SetAlpha( 1 )
									Engine[0xC4146BA76D0F982]( SOUND_SETS.mpMainMenu.freeBannerSplash )
									ACTIONS.AnimateSequence( f71_arg0.Banner, "Splash" )
									f71_arg0:SetValue( f71_arg0._controllerIndex, true )
								end )
							end
						end
						f71_local0 = ""
					end )
				end
				if not f70_arg0._isFreeItem then
					ACTIONS.AnimateSequence( f70_arg0, "FreeBundleTabUp" )
				end
				f70_arg0._isFreeItem = true
			end
		else
			f70_arg0.Banner:SetAlpha( 0 )
		end
	end
	
	local f46_local4 = function ( f68_arg0, f68_arg1 )
		f46_arg0( f68_arg0, "" )
		local f68_local0 = nil
		local f68_local1 = function ()
			local f69_local0, f69_local1, f69_local2 = STORE.GetCategoryTimeLeft( nil, f68_arg0 )
			if 0 < f69_local0 then
				f68_arg0.Banner:SetText( f69_local1, true )
				f68_arg0.Banner:SetAlpha( 1 )
				local f69_local3 = f68_arg0.Banner:Wait( 1000, true )
				f69_local3.onComplete = f68_arg0
				if f69_local0 < STORE.LimitedTimeWarningThreshold then
					ACTIONS.AnimateSequence( f68_arg0.Banner, "LimitedTimeWarningVariant" )
				else
					ACTIONS.AnimateSequence( f68_arg0.Banner, "LimitedTimeVariant" )
				end
			else
				f68_arg0.Banner:SetText( "" )
				f68_arg0.Banner:SetAlpha( 0 )
			end
		end
		
		f68_local1()
	end
	
	local f46_local5 = function ( f67_arg0 )
		f46_arg0( f67_arg0, Engine[0xED84C33EC5F01EA]( 0xAA9D4A70FC2AF79, SEASON.GetCurrentSeason() ) )
		ACTIONS.AnimateSequence( f67_arg0.Banner, "SeasonVariant" )
	end
	
	local f46_local6 = function ( f66_arg0 )
		f46_arg0( f66_arg0, Engine[0xED84C33EC5F01EA]( 0xBAFF02F27ED86CA ) )
		ACTIONS.AnimateSequence( f66_arg0.Banner, "Zeus" )
	end
	
	local f46_local7 = function ( f63_arg0, f63_arg1, f63_arg2 )
		assert( f63_arg1 )
		if not f63_arg1 then
			
		else
			
		end
		local f63_local0 = f63_arg1 - CoD.GetUTC()
		local f63_local1 = 86400
		local f63_local2 = "promo_tab_timer"
		if f63_local0 <= 0 then
			
		else
			
		end
		f46_arg0( f63_arg0, "" )
		f63_arg0._promoTimer = LUI.UITimer.new( {
			interval = 1000,
			event = f63_local2
		} )
		f63_arg0._promoTimer.id = "PromoTabTimer"
		f63_arg0:addElement( f63_arg0._promoTimer )
		f63_arg0.Banner.Shine:SetAlpha( 0.5 )
		ACTIONS.AnimateSequence( f63_arg0.Banner, "GlintSlow" )
		local f63_local3 = function ()
			if f63_arg0 then
				local f65_local0
				if CONDITIONS.IsTierSaleEnabled() then
					f65_local0 = not BATTLEPASS.IsOwned( f63_arg0._controllerIndex )
				else
					f65_local0 = true
				end
				return f65_local0
			else
				local f65_local0
				if BATTLEPASS.IsTierSkipGiftActive( f63_arg0._controllerIndex ) then
					f65_local0 = BATTLEPASS.IsOwned( f63_arg0._controllerIndex )
				else
					f65_local0 = true
				end
			end
			return f65_local0
		end
		
		f63_arg0:addAndCallEventHandler( f63_local2, function ( f64_arg0, f64_arg1 )
			f63_arg0 = CoD.GetUTC()
			f63_arg0 = f63_arg0 - f63_arg0
			if f63_arg0 <= 0 or f63_arg0() then
				if f63_arg0._promoTimer then
					f63_arg0._promoTimer:closeTree()
					f63_arg0._promoTimer = nil
				end
				if f63_arg0._isBattlePassTab then
					ACTIONS.AnimateSequence( f63_arg0.Banner, "StopGlint" )
					f63_arg0:SetSeasonBanner()
				else
					f63_arg0.Banner:SetAlpha( 0 )
				end
			else
				f63_arg0.Banner:SetText( Engine[0xED84C33EC5F01EA]( f63_arg0 and 0xE80981DD5B16084 or 0xC9C1C5B452AACCD ) )
				ACTIONS.AnimateSequence( f63_arg0.Banner, "TabSizeSetup" )
				if f63_arg0 < f63_arg0 then
					ACTIONS.AnimateSequence( f63_arg0.Banner, "TierSaleVariant" )
				else
					ACTIONS.AnimateSequence( f63_arg0.Banner, "TierSaleVariantEndSoon" )
				end
			end
		end )
	end
	
	f46_arg0.IsRestricted = function ( f62_arg0, f62_arg1 )
		return Restrictions.AreAnyRestrictionInUse( f62_arg1 )
	end
	
	f46_arg0._isBattlePassTab = false
	f46_arg0._controllerIndex = f46_arg1
	f46_arg0.Setup = function ( f59_arg0, f59_arg1 )
		f59_arg0.TabText:setText( ToUpperCase( f59_arg1.name ) )
		if f59_arg1.hasRestrictionIcon then
			f59_arg0:addEventHandler( "menu_create", function ( f61_arg0, f61_arg1 )
				f59_arg0._isRestricted = f59_arg0:IsRestricted( f59_arg0 )
				if f59_arg0._isRestricted then
					ACTIONS.AnimateSequence( f61_arg0, "RestrictionOn" )
				else
					ACTIONS.AnimateSequence( f61_arg0, "RestrictionOff" )
				end
				if f59_arg0.hasNewItem then
					local f61_local0 = f59_arg0.NewItemSmallIcon
					local f61_local1 = f61_local0
					f61_local0 = f61_local0.UpdateAlpha
					local f61_local2
					if f59_arg0.hasNewItem and not f59_arg0._isRestricted then
						f61_local2 = 1
					else
						f61_local2 = 0
					end
					f61_local0( f61_local1, f61_local2 )
				end
			end )
			f59_arg0:registerEventHandler( "matchrules_updated", function ( element, event )
				if MLG.IsCDLActive( f59_arg0 ) then
					ACTIONS.AnimateSequence( element, "RestrictionOn" )
				else
					ACTIONS.AnimateSequence( element, "RestrictionOff" )
				end
			end )
		end
		if f59_arg1.isStoreTab then
			ACTIONS.AnimateSequence( f59_arg0.NewItemSmallIcon, "Store" )
		end
		if f59_arg1.isBattlePassTab then
			f59_arg0._isBattlePassTab = true
			ACTIONS.AnimateSequence( f59_arg0, "BattlePassTabUp" )
		end
		if f59_arg1.hasFreeItem then
			f59_arg0._isFreeItem = true
			f46_arg0( f59_arg0, f59_arg1.hasFreeItem )
		end
		if f59_arg1.getBreadcrumb and f59_arg0.SetBreadcrumbFromModel then
			f59_arg0:SetBreadcrumbFromModel( f59_arg1.getBreadcrumb(), f46_arg0 )
		end
		if f59_arg1.isStoreTab and not f59_arg0._isFreeItem and STORE.IsZeusOwned( f46_arg0 ) == false then
			f46_arg0( f59_arg0 )
		end
		if f59_arg1.breadcrumbCategory then
			BREADCRUMBS.SetupBreadcrumbForWeaponInnerLayers( f59_arg0, f46_arg0, f59_arg1.breadcrumbCategory )
		end
	end
	
	f46_arg0.Enable = function ( f58_arg0 )
		f58_arg0._disabled = false
		if CONDITIONS.IsWZWipFlowEnabled() then
			ACTIONS.AnimateSequence( f58_arg0, "WZWipUnFocused" )
		else
			ACTIONS.AnimateSequence( f58_arg0, "UnFocused" )
		end
	end
	
	f46_arg0.Disable = function ( f57_arg0 )
		f57_arg0._disabled = true
		ACTIONS.AnimateSequence( f57_arg0, "Disabled" )
	end
	
	f46_arg0.IsEnabled = function ( f56_arg0 )
		return not f56_arg0._disabled
	end
	
	f46_arg0.SetBreadcrumb = f46_local0
	f46_arg0.SetFreeBanner = f46_local3
	f46_arg0.SetLimitedTimeBanner = f46_local4
	f46_arg0.SetSeasonBanner = f46_local5
	f46_arg0.SetPromoBanner = f46_local7
	f46_arg0:registerEventHandler( "focus_tab", function ( element, event )
		if event.index == element.index then
			if event.playSound then
				if CONDITIONS.IsWZWipFlowEnabled() then
					element._sequences:WZWipWZFocused()
				elseif CONDITIONS.IsMagmaGameMode() then
					element._sequences:WZFocused()
				else
					element._sequences:Focused()
				end
			elseif CONDITIONS.IsWZWipFlowEnabled() then
				element._sequences:WZWipWZFocusedNoSound()
			elseif CONDITIONS.IsMagmaGameMode() then
				element._sequences:WZFocusedNoSound()
			else
				element._sequences:FocusedNoSound()
			end
			element.focused = true
		elseif element.focused then
			if CONDITIONS.IsWZWipFlowEnabled() then
				element._sequences:WZWipUnFocused()
			else
				element._sequences:UnFocused()
			end
			element.focused = false
		end
		if element._isBattlePassTab then
			if element.focused then
				ACTIONS.AnimateSequence( element, "BattlePassTabOver" )
			else
				ACTIONS.AnimateSequence( element, "BattlePassTabUp" )
			end
		end
		if element._isFreeItem then
			if element.focused then
				ACTIONS.AnimateSequence( element, "FreeBundleTabOver" )
			else
				ACTIONS.AnimateSequence( element, "FreeBundleTabUp" )
			end
		end
		element.TabText:SetParentHasFocus( element.focused )
	end )
	f46_arg0:registerEventHandler( LUI.TabManager.TAB_SWITCH_EVENT, function ( element, event )
		if event.index == f46_arg0.index then
			f46_arg0:dispatchEventToCurrentMenu( event )
		end
		return true
	end )
	f46_arg0:SetHandleMouse( true )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xD7862EAA83B3B27 ) and not CONDITIONS.IsMacWithMouse() then
		f46_arg0:addEventHandler( "touchbegin", function ( f53_arg0, f53_arg1 )
			if f53_arg1.inside and not f53_arg0._disabled then
				f53_arg0:playSound( "menu_open" )
				if f53_arg0:GetCurrentMenu() then
					f53_arg0:dispatchEventToCurrentMenu( {
						name = "tab_mouse_select",
						index = f53_arg0.index
					} )
				else
					f53_arg0:dispatchEventToRoot( {
						name = "tab_mouse_select",
						index = f53_arg0.index
					} )
				end
				if CONDITIONS.IsWZWipFlowEnabled() then
					f53_arg0._sequences:WZWipWZHighlighted()
				elseif CONDITIONS.IsMagmaGameMode() then
					f53_arg0._sequences:WZHighlighted()
				else
					f53_arg0._sequences:Highlighted()
				end
				if f53_arg0._isBattlePassTab then
					ACTIONS.AnimateSequence( f53_arg0, "BattlePassTabOver" )
				end
				if f53_arg0._isFreeItem then
					ACTIONS.AnimateSequence( f53_arg0, "FreeBundleTabOver" )
				end
			end
		end )
	elseif Engine[0x5EE05AD994388B6]() then
		f46_arg0:registerEventHandler( "mouseenter", function ( element, event )
			Engine[0xC4146BA76D0F982]( CoD.SFX.MouseOver )
			if not element.focused then
				if not element._disabled then
					if CONDITIONS.IsWZWipFlowEnabled() then
						element._sequences:WZWipWZHighlighted()
					elseif CONDITIONS.IsMagmaGameMode() then
						element._sequences:WZHighlighted()
					else
						element._sequences:Highlighted()
					end
				elseif CONDITIONS.IsWZWipFlowEnabled() then
					element._sequences:WZWipWZFocused()
				elseif CONDITIONS.IsMagmaGameMode() then
					element._sequences:WZFocused()
				else
					element._sequences:Focused()
				end
			elseif not CONDITIONS.IsMac() then
				if CONDITIONS.IsWZWipFlowEnabled() then
					element._sequences:WZWipWZHighlighted()
				elseif CONDITIONS.IsMagmaGameMode() then
					element._sequences:WZHighlighted()
				else
					element._sequences:Highlighted()
				end
			end
			if element._isBattlePassTab then
				ACTIONS.AnimateSequence( element, "BattlePassTabOver" )
			end
			if element._isFreeItem then
				ACTIONS.AnimateSequence( element, "FreeBundleTabOver" )
			end
		end )
		f46_arg0:registerEventHandler( "mouseleave", function ( element, event )
			if element.focused and not element._disabled then
				if not CONDITIONS.IsMac() then
					if CONDITIONS.IsWZWipFlowEnabled() then
						element._sequences:WZWipWZFocusedNoSound()
					elseif CONDITIONS.IsMagmaGameMode() then
						element._sequences:WZFocusedNoSound()
					else
						element._sequences:FocusedNoSound()
					end
				end
			else
				if CONDITIONS.IsWZWipFlowEnabled() then
					element._sequences:WZWipUnFocused()
				else
					element._sequences:UnFocused()
				end
				if element._disabled then
					element._sequences:Disabled()
				end
			end
			if element._isBattlePassTab then
				if element.focused then
					ACTIONS.AnimateSequence( element, "BattlePassTabOver" )
				else
					ACTIONS.AnimateSequence( element, "BattlePassTabUp" )
				end
			end
			if element._isFreeItem then
				if element.focused then
					ACTIONS.AnimateSequence( element, "FreeBundleTabOver" )
				else
					ACTIONS.AnimateSequence( element, "FreeBundleTabUp" )
				end
			end
			element:setFocus( false )
		end )
		f46_arg0:registerEventHandler( "leftmousedown", function ( element, event )
			
		end )
		f46_arg0:registerEventHandler( "leftmouseup", function ( element, event )
			if event.inside and not element._disabled then
				element:playSound( "menu_open" )
				if element:GetCurrentMenu() then
					element:dispatchEventToCurrentMenu( {
						name = "tab_mouse_select",
						index = element.index
					} )
				else
					element:dispatchEventToRoot( {
						name = "tab_mouse_select",
						index = element.index
					} )
				end
				if CONDITIONS.IsWZWipFlowEnabled() then
					element._sequences:WZWipWZHighlighted()
				elseif CONDITIONS.IsMagmaGameMode() then
					element._sequences:WZHighlighted()
				else
					element._sequences:Highlighted()
				end
				if element._isBattlePassTab then
					ACTIONS.AnimateSequence( element, "BattlePassTabOver" )
				end
				if element._isFreeItem then
					ACTIONS.AnimateSequence( element, "FreeBundleTabOver" )
				end
			end
		end )
	end
	f46_arg0:registerEventHandler( "tab_disable_blur", function ( element, event )
		ACTIONS.AnimateSequence( element, "NoBlur" )
	end )
	f46_arg0:SubscribeToModelThroughElement( f46_arg0, "disabled", function ( f47_arg0 )
		if DataModel[0x614D394F6F9A18D]( f47_arg0 ) then
			f46_arg0:Disable()
		end
	end )
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f46_arg0, "AR" )
	elseif IsLanguageKorean() or IsLanguageChinese() then
		ACTIONS.AnimateSequence( f46_arg0, "KORZH" )
	elseif IsLanguageGerman() then
		ACTIONS.AnimateSequence( f46_arg0, "DE" )
	elseif IsLanguageRussian() then
		ACTIONS.AnimateSequence( f46_arg0, "RU" )
	elseif IsLanguageJapanese() then
		ACTIONS.AnimateSequence( f46_arg0, "JP" )
		f46_arg0.TabText:SetMaxVisibleLines( 1 )
	end
end

MenuUtils.GetContextualMenuGlobalBounds = function ( f45_arg0 )
	local f45_local0, f45_local1, f45_local2, f45_local3 = f45_arg0:getCurrentGlobalRect()
	if f45_arg0._contextualMenuBounds then
		local f45_local4 = f45_arg0._contextualMenuBounds
		return Lerp( f45_local4.leftAnchor, f45_local0, f45_local2 ) + f45_local4.left * _1080p, Lerp( f45_local4.topAnchor, f45_local1, f45_local3 ) + f45_local4.top * _1080p, Lerp( f45_local4.rightAnchor, f45_local2, f45_local0 ) + f45_local4.right * _1080p, Lerp( f45_local4.bottomAnchor, f45_local3, f45_local1 ) + f45_local4.bottom * _1080p
	else
		return f45_local0, f45_local1, f45_local2, f45_local3
	end
end

MenuUtils.HideBackButton = function ( f44_arg0 )
	assert( f44_arg0 )
	assert( f44_arg0.BackButtonArrow )
	f44_arg0.BackButtonArrow:Hide()
end

MenuUtils.ShowBackButton = function ( f43_arg0, f43_arg1 )
	assert( f43_arg0 )
	assert( f43_arg0.BackButtonArrow )
	f43_arg0.BackButtonArrow:Show( f43_arg1 )
end

MenuUtils.SetupBackButton = function ( f42_arg0, f42_arg1, f42_arg2, f42_arg3 )
	assert( f42_arg0 )
	assert( f42_arg1 )
	assert( f42_arg2 )
	if not f42_arg0.BackButtonArrow then
		local f42_local0 = "HeaderBackArrowLarge"
		local f42_local1 = 16
		local f42_local2 = 48
		local f42_local3 = 48
		local f42_local4 = 54
		local f42_local5
		if f42_arg3 then
			f42_local5 = f42_arg3.widgetName
			if not f42_local5 then
			
			else
				local f42_local6
				if f42_arg3 then
					f42_local6 = f42_arg3.horizontalOffset
					if not f42_local6 then
					
					else
						local f42_local7
						if f42_arg3 then
							f42_local7 = f42_arg3.verticalOffset
							if not f42_local7 then
							
							else
								local f42_local8
								if f42_arg3 then
									f42_local8 = f42_arg3.width
									if not f42_local8 then
									
									else
										local f42_local9
										if f42_arg3 then
											f42_local9 = f42_arg3.height
											if not f42_local9 then
											
											else
												local BackButtonArrow = nil
												
												BackButtonArrow = MenuBuilder.BuildRegisteredType( f42_local5, {
													controllerIndex = f42_arg1
												} )
												BackButtonArrow.id = "BackButtonArrow"
												BackButtonArrow:SetAnchorsAndPosition( f42_arg2.leftAnchor, f42_arg2.rightAnchor, f42_arg2.topAnchor, f42_arg2.bottomAnchor, f42_arg2.left - f42_local6 + f42_local8 * _1080p, f42_arg2.left - f42_local6 * _1080p, (f42_local7 - f42_local9 / 2) * _1080p, (f42_local7 + f42_local9 / 2) * _1080p )
												f42_arg0:addElement( BackButtonArrow )
												f42_arg0.BackButtonArrow = BackButtonArrow
												
											end
										end
										f42_local9 = f42_local4
									end
								end
								f42_local8 = f42_local3
							end
						end
						f42_local7 = f42_local2
					end
				end
				f42_local6 = f42_local1
			end
		end
		f42_local5 = f42_local0
	else
		MenuUtils.ShowBackButton( f42_arg0, f42_arg1 )
	end
end

MenuUtils.SetupSideArrows = function ( f39_arg0, f39_arg1, f39_arg2, f39_arg3 )
	if not f39_arg3 then
		f39_arg3 = {}
	end
	local f39_local0 = f39_arg0.SideArrows
	assert( f39_local0 )
	local f39_local1 = f39_arg1:GetContentCount( LUI.DIRECTION.horizontal )
	if f39_arg2 then
		f39_arg1:SetSnapOnScrollBarMouseDrag( true )
	end
	f39_arg1:addEventHandler( "gamepad_button", function ( f41_arg0, f41_arg1 )
		if CONDITIONS.IsMouseWheelEvent( f41_arg1 ) and f41_arg1.down then
			return f39_arg0.SideArrows:ExternalScroll( f41_arg1 )
		else
			
		end
	end )
	f39_local0:SetupSideButtons( f39_arg1, f39_local1, f39_arg3 )
	f39_local0:UpdateSideButtons()
	f39_arg1._onNewTargetFocusPosition = function ( f40_arg0, f40_arg1 )
		f39_arg0:AddScrollWatch()
	end
	
	if f39_arg3.mouseArea then
		f39_arg1:SetMouseScrollArea( f39_arg3.mouseArea )
	end
end

MenuUtils.SetupActiveStateOnNonListButtons = function ( f33_arg0, f33_arg1, f33_arg2 )
	assert( f33_arg2.buttonList )
	local f33_local0 = f33_arg2.buttonList
	local f33_local1
	if f33_arg2.addGridListActiveBehavior == nil then
		f33_local1 = true
	else
		f33_local1 = f33_arg2.addGridListActiveBehavior
	end
	local f33_local2 = f33_arg2.defaultFocusButton or nil
	f33_arg0.buttonMap = {}
	if f33_local1 and f33_arg0.SetActiveParentBehaviorGridAndList then
		f33_arg0:SetActiveParentBehaviorGridAndList( f33_arg1 )
	end
	f33_arg0._currentFocusedButton = nil
	for f33_local6, f33_local7 in pairs( f33_local0 ) do
		if not f33_local7._handleChildFocus then
			f33_local7._handleChildFocus = true
		end
		f33_local7:addEventHandler( "gain_focus", function ( f38_arg0, f38_arg1 )
			if f33_arg0._currentFocusedButton ~= f38_arg0 and LUI.IsLastInputMouseNavigation( f33_arg0 ) then
				MenuUtils.RemoveCurrentActiveButton( f33_arg0, f38_arg1.controller or f33_arg0, true )
				f33_arg0._currentFocusedButton = f38_arg0
				if f38_arg0.SetActive then
					f38_arg0:SetActive()
				end
				f38_arg0:processEvent( {
					name = "parent_active"
				} )
			end
		end )
		f33_arg0.buttonMap[f33_local7.id] = f33_local7
	end
	if f33_local2 ~= nil then
		f33_arg0:addEventHandler( "menu_create", function ( f37_arg0, f37_arg1 )
			if LUI.IsLastInputMouseNavigation( f37_arg1.controller or f33_arg0 ) then
				f33_arg0:processEvent( {
					name = "gain_focus"
				} )
			end
		end )
		f33_arg0:addEventHandler( "tab_create", function ( f36_arg0, f36_arg1 )
			if LUI.IsLastInputMouseNavigation( f36_arg1.controller or f33_arg0 ) then
				f33_arg0:processEvent( {
					name = "gain_focus",
					focusType = FocusType.MouseOver
				} )
			end
		end )
		f33_arg0:addEventHandler( "restore_focus", function ( f35_arg0, f35_arg1 )
			if f35_arg1.id and LUI.IsLastInputMouseNavigation( f35_arg1.controller or f33_arg0 ) and f35_arg1.id ~= f33_arg0.id then
				local f35_local0 = f35_arg0.buttonMap[f35_arg1.id]
				if f35_local0 then
					f33_arg0:processEvent( {
						name = "lose_focus"
					} )
					f35_local0:processEvent( {
						name = "gain_focus"
					} )
				end
				return true
			else
				
			end
		end )
	end
	f33_arg0:addEventHandler( "update_input_type", function ( f34_arg0, f34_arg1 )
		local f34_local0 = f34_arg1.controller or f33_arg0
		if not LUI.IsLastInputMouseNavigation( f34_local0 ) then
			MenuUtils.RemoveCurrentActiveButton( f34_arg0, f34_local0, true )
		end
	end )
end

MenuUtils.RemoveCurrentActiveButton = function ( f32_arg0, f32_arg1, f32_arg2 )
	if f32_arg0._currentFocusedButton ~= nil then
		if f32_arg0._currentFocusedButton.RemoveActive then
			f32_arg0._currentFocusedButton:RemoveActive( {
				controller = f32_arg1
			} )
		end
		if LUI.IsLastInputMouseNavigation( f32_arg1 ) then
			f32_arg0._currentFocusedButton:processEvent( {
				name = "lose_focus"
			} )
		end
		f32_arg0._currentFocusedButton:processEvent( {
			name = "remove_parent_active",
			controller = f32_arg1
		} )
		if f32_arg2 then
			f32_arg0._currentFocusedButton = nil
		end
	end
end

MenuUtils.GetSortPromptText = function ( f31_arg0, f31_arg1, f31_arg2 )
	local f31_local0 = 0x0
	if f31_arg0.seasonsSortingType == LOOT.seasonsSortingOptions.RECENT_FIRST then
		f31_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PROMPT_TWO_PARTS", f31_local0, Engine[0xED84C33EC5F01EA]( 0x18D641B5CB4FE00 ) )
	elseif f31_arg0.seasonsSortingType == LOOT.seasonsSortingOptions.OLD_FIRST then
		f31_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PROMPT_TWO_PARTS", f31_local0, Engine[0xED84C33EC5F01EA]( 0x93F9C1B60CB9C83 ) )
	end
	if f31_local0 ~= 0x0 then
		f31_local0 = Engine[0xED84C33EC5F01EA]( 0xA9C7FDBA2ECD498, f31_local0 )
	else
		f31_local0 = Engine[0xED84C33EC5F01EA]( 0xC000A1B2EFA72A3, "[", Engine[0xED84C33EC5F01EA]( 0xFF806753942C879 ), "]" )
	end
	local f31_local1 = Engine[0xED84C33EC5F01EA]( 0xFFD50D7035EEA91, Engine[0x7D3158A9539A355]( f31_local0 ) )
	if f31_arg2 then
		f31_local1 = Engine[0xED84C33EC5F01EA]( 0x2BB55DAA4C3D2D5, Engine[0xED84C33EC5F01EA]( f31_arg2 ), Engine[0xED84C33EC5F01EA]( 0x5F5C4F0B9956D2B, Engine[0x7D3158A9539A355]( f31_local0 ) ) )
	end
	if f31_arg1 then
		f31_local1 = Engine[0xED84C33EC5F01EA]( 0x5F5C4F0B9956D2B, Engine[0x7D3158A9539A355]( f31_local0 ) )
	end
	return f31_local1
end

MenuUtils.CheckAndRunCodeOfConductFirstMatch = function ( f30_arg0, f30_arg1 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x39AAC1F9A77505 ) then
		return 
	end
	local f30_local0 = CONDITIONS.IsCortezSubExe()
	if not f30_local0 then
		f30_local0 = Engine[0x7B17D94988FD5D0]( "CodeOfConductAccepted", f30_arg0 )
	end
	if not f30_local0 then
		LUI.FlowManager.RequestPopupMenu( self, "codeconduct", true, f30_arg0, false, {
			acceptedCallback = f30_arg1
		} )
	else
		f30_arg1()
	end
end

MenuUtils.SetBackgroundImage = function ( f29_arg0 )
	if CONDITIONS.IsDvarBoolEnabled( 0xAE6C56A170FCB66 ) then
		Engine[0x98F76EE292E1FA4]( RegisterMaterial( f29_arg0 ) )
	end
end

MenuUtils.RemoveSFXFromScrollbarSliderKBM = function ( f26_arg0 )
	local f26_local0 = function ( f27_arg0 )
		local f27_local0 = f27_arg0:getParent()
		if f27_local0 and f27_local0.gainFocusSFX then
			f27_arg0:addAndCallEventHandler( "update_input_type", function ( f28_arg0, f28_arg1 )
				local f28_local0 = LUI.IsLastInputGamepad
				local f28_local1 = f28_arg1.controllerIndex
				if not f28_local1 then
					f28_local1 = Engine[0x45B054C920178E9]()
				end
				f28_arg0.shouldPlayButtonSound = f28_local0( f28_local1 )
			end )
			f27_arg0:setGainFocusSFX( nil, {
				clearChildrenSFX = true
			} )
		end
	end
	
	f26_arg0:addEventHandler( "menu_create", f26_local0 )
	f26_arg0:addEventHandler( "tab_create", f26_local0 )
end

local f0_local1 = function ( f25_arg0 )
	if f25_arg0._uniqueItemID then
		f25_arg0._uniqueItemID = f25_arg0._uniqueItemID + 1
	else
		f25_arg0._uniqueItemID = 1
	end
end

MenuUtils.LerpReactiveSlots = function ( f21_arg0, f21_arg1, f21_arg2, f21_arg3, f21_arg4, f21_arg5 )
	if f21_arg0.transitionDuration == 0 then
		
	else
		
	end
	f21_arg0.startTime = Engine[0x6991337AE950F99]()
	f0_local0( f21_arg0 )
	local f21_local0 = f21_arg0._uniqueItemID
	local f21_local1 = nil
	local f21_local2 = function ( f22_arg0, f22_arg1, f22_arg2, f22_arg3, f22_arg4, f22_arg5 )
		local f22_local0 = Engine[0x6991337AE950F99]() - f22_arg0.startTime
		local f22_local1 = f22_arg0.transitionDuration
		if f22_local0 < f22_local1 then
			local f22_local2 = LUI.Lerp( f22_arg3, f22_arg4, Engine[0x47397F97D556255]( f22_local0 / f22_local1, LUI.EASING.linear ) )
			LUI.Round( f22_local2, 1 )
			for f22_local7, f22_local8 in ipairs( f22_arg5 ) do
				local f22_local6
				if f22_local2 ~= 0 and f22_local2 ~= 0.5 then
					f22_local6 = false
				else
					f22_local6 = true
				end
				f22_arg1[0x58C8D2B61AB0A48]( f22_arg2, f22_local8, f22_local2, f22_local6 )
			end
			f22_local3 = f22_arg0:Wait( 5 )
			f22_local3.onComplete = function ( f24_arg0 )
				if f22_arg0 == f24_arg0._uniqueItemID then
					f22_arg0( f24_arg0, f22_arg0, f22_arg0, f22_arg0, f22_arg0, f22_arg0 )
				end
			end
			
		else
			for f22_local4, f22_local5 in ipairs( f22_arg5 ) do
				f22_arg1[0x58C8D2B61AB0A48]( f22_arg2, f22_local5, f22_arg4, true )
			end
			f22_local9 = f22_arg0:Wait( f22_arg0.transitionDuration )
			f22_local9.onComplete = function ( f23_arg0 )
				if f22_arg0 == f23_arg0._uniqueItemID then
					f23_arg0.startTime = Engine[0x6991337AE950F99]()
					f22_arg0( f23_arg0, f22_arg0, f22_arg0, f22_arg0, f22_arg0, f22_arg0 )
				end
			end
			
		end
	end
	
	f21_local2( f21_arg0, f21_arg1, f21_arg2, f21_arg3, f21_arg4, f21_arg5 )
end

MenuUtils.BackToGlobalPanel = function ( f20_arg0, f20_arg1, f20_arg2, f20_arg3 )
	if not f20_arg3 and Engine[0x12586A3F4FB490E]() and not f20_arg0.isBoot and not CONDITIONS.IsMenuInStack( "FiringRangeMenu" ) then
		if GLOBAL_PANEL.IsOpen() then
			GLOBAL_PANEL.FocusTab( f20_arg1, f20_arg2 )
		else
			GLOBAL_PANEL.OpenGlobalPanel( f20_arg0, f20_arg1, f20_arg2, {
				immediate = true
			} )
		end
		local f20_local0 = LUI.FlowManager.GetMenuByName( GLOBAL_PANEL.MENU_NAME )
		if f20_local0 and f20_local0.menu.GlobalPanel.activeTabWidget then
			local f20_local1 = f20_local0.menu.GlobalPanel.activeTabWidget
			if f20_local1.id == "GlobalPanelOptions" then
				GLOBAL_PANEL.SetButtonGridFocus( f20_local1.DynamicList, f20_arg0.menuIndex - 1 )
			elseif f20_local1.id == "GlobalPanelPlayer" then
				GLOBAL_PANEL.SetButtonGridFocus( f20_local1.ActionsGrid, f20_arg0.menuIndex - 1 )
			end
		end
	end
end

MenuUtils.GetPreviousMenu = function ()
	local f19_local0 = Engine[0xEE6F69FEA944B13]()
	local f19_local1
	if f19_local0 then
		f19_local1 = f19_local0
	else
		f19_local1 = f19_local0.flowManager
	end
	local f19_local2
	if f19_local1 then
		f19_local2 = f19_local1
	else
		f19_local2 = f19_local1:GetStackTop()
	end
	local f19_local3
	if f19_local2 then
		f19_local3 = f19_local2
	else
		f19_local3 = f19_local2.previousMenuName
	end
	if f19_local3 then
		local f19_local4 = LUI.FlowManager.GetMenuByName( f19_local3 )
		local f19_local5
		if f19_local4 then
			f19_local5 = f19_local4
		else
			f19_local5 = f19_local4.menu
		end
		return f19_local5
	else
		
	end
end

MenuUtils.CustomizeGetCurrentGridIndex = function ( f18_arg0 )
	local f18_local0 = f18_arg0:GetCurrentActiveIndex()
	if not (CONDITIONS.IsMobileOrMobileSim() or LUI.IsLastInputMouseNavigation( f18_arg0._controllerIndex )) or f18_local0 == -1 then
		f18_local0 = f18_arg0:GetFocusPositionIndex()
	end
	if f18_local0 then
		return f18_local0 + 1
	else
		return nil
	end
end

MenuUtils.CustomizeUpdateGrid = function ( f17_arg0, f17_arg1, f17_arg2 )
	f17_arg0:RemoveFocusFromChild()
	f17_arg0:SetNumChildren( f17_arg1 )
	f17_arg0:RefreshContent()
	if f17_arg2 and 0 < f17_arg1 then
		f17_arg2:SetAlpha( 0 )
	end
end

MenuUtils.CustomizeRestoreFocusFunction = function ( f15_arg0, f15_arg1, f15_arg2 )
	if f15_arg0._isComingFromFilterMenu and LUI.IsLastInputGamepad( f15_arg1 ) then
		local f15_local0 = function ()
			for f16_local3, f16_local4 in ipairs( f15_arg0._lootTable ) do
				if f16_local4.lootID == f15_arg0._currentSelectedLootID then
					return f16_local3 - 1
				end
			end
			return 0
		end
		
		f15_arg2:SetFocusedPosition( f15_arg2:GetPositionForIndex( f15_local0() ), true, nil, nil, nil )
		f15_arg0._isComingFromFilterMenu = false
		return true
	else
		
	end
end

MenuUtils.CustomizeFilterTable = function ( f13_arg0, f13_arg1, f13_arg2 )
	f13_arg0._lootTable = {}
	local f13_local0 = nil
	if f13_arg2 == LOOT.itemTypes.PLAYERCARD then
		local f13_local1 = Challenge.GetCallingCardMasterChallenges( f13_arg1 )
		local f13_local2 = CallingCardUtils.GetAllPlayerCards()
		local f13_local3 = {}
		local f13_local4 = {}
		for f13_local8, f13_local9 in ipairs( f13_local1 ) do
			table.insert( f13_local3, String.Split( f13_local9.loot, "|" ) )
		end
		for f13_local8, f13_local9 in ipairs( f13_local2 ) do
			local f13_local10 = false
			for f13_local14, f13_local15 in ipairs( f13_local3 ) do
				for f13_local11, f13_local12 in ipairs( f13_local15 ) do
					if f13_local9.lootID == tonumber( f13_local12 ) then
						f13_local10 = true
					end
				end
			end
			if not f13_local10 then
				table.insert( f13_local4, f13_local9 )
			end
		end
		f13_local0 = f13_local4
	elseif f13_arg2 == LOOT.itemTypes.EMBLEM then
		f13_local0 = EmblemEditorUtils.GetAllEmblems()
	end
	if not f13_arg0._allLootTable then
		f13_arg0._allLootTable = f13_local0
	end
	local f13_local1 = 0
	local f13_local2 = 0
	for f13_local6, f13_local7 in ipairs( f13_arg0._allLootTable ) do
		f13_local7.isUnlocked = LOOT.IsUnlocked( f13_arg1, f13_arg2, f13_local7.ref )
		if not f13_local7.hideInUI then
			if f13_local7.isUnlocked then
				f13_local1 = f13_local1 + 1
				f13_local2 = f13_local2 + 1
			end
			if not f13_local7.isPremium then
				f13_local2 = f13_local2 + 1
			end
		end
	end
	if f13_arg0.ItemsCollected then
		f13_arg0.ItemsCollected:setText( Engine[0xED84C33EC5F01EA]( 0x48D718D82BA33FF, f13_local1, f13_local2 ) )
	end
	for f13_local6, f13_local7 in ipairs( f13_arg0._allLootTable ) do
		if (f13_local7.isUnlocked or f13_arg0.lockedSortingType == LOOT.lockedSortingOptions.SHOW) and not f13_local7.hideInUI then
			local f13_local8
			if f13_arg2 == LOOT.itemTypes.PLAYERCARD then
				f13_local8 = CONDITIONS.IsMobileOrMobileSim()
			else
				f13_local8 = false
			end
			local f13_local9
			if f13_local8 then
				f13_local9 = f13_local8
			else
				f13_local9 = f13_arg0._equippedPlayerCardIndex == f13_local7.index
			end
			local f13_local10
			if f13_local8 then
				f13_local10 = f13_local8
			else
				f13_local10 = Table.FindItemIndexInArray( f13_arg0._equippedShowcaseCardIndexes, f13_local7.index )
			end
			if not f13_local8 or not f13_local9 and not f13_local10 then
				table.insert( f13_arg0._lootTable, f13_local7 )
			end
		end
	end
	table.sort( f13_arg0._lootTable, function ( f14_arg0, f14_arg1 )
		if f13_arg0._favoriteLoots and f13_arg0._favoriteLoots[f14_arg0.ref] ~= f13_arg0._favoriteLoots[f14_arg1.ref] then
			local f14_local0 = f13_arg0._favoriteLoots[f14_arg0.ref]
			if f14_local0 then
				f14_local0 = not f13_arg0._favoriteLoots[f14_arg1.ref]
			end
			return f14_local0
		elseif f14_arg0.isUnlocked ~= f14_arg1.isUnlocked then
			local f14_local0 = f14_arg0.isUnlocked
			if f14_local0 then
				f14_local0 = not f14_arg1.isUnlocked
			end
			return f14_local0
		elseif f13_arg0.officerSortingType ~= LOOT.officerSortingOptions.NONE and f14_arg0.isOfficerEmblem ~= f14_arg1.isOfficerEmblem then
			local f14_local0 = f14_arg0.isOfficerEmblem
			if f14_local0 then
				f14_local0 = not f14_arg1.isOfficerEmblem
			end
			return f14_local0
		elseif f14_arg0.season ~= f14_arg1.season and f13_arg0.seasonsSortingType ~= LOOT.seasonsSortingOptions.NONE then
			if f13_arg0.seasonsSortingType == LOOT.seasonsSortingOptions.OLD_FIRST then
				return f14_arg0.season < f14_arg1.season
			elseif f13_arg0.seasonsSortingType == LOOT.seasonsSortingOptions.RECENT_FIRST then
				return f14_arg1.season < f14_arg0.season
			end
		end
		if CONDITIONS.IsMobileOrMobileSim() then
			local f14_local0 = f13_arg0.raritySortingType
			local f14_local1 = LOOT.raritySortingOptions
			local f14_local2 = f14_arg0.availableProjects
			local f14_local3 = f14_arg1.availableProjects
			local f14_local4 = f14_arg0.rarity
			local f14_local5 = f14_arg1.rarity
			if f14_local0 ~= f14_local1.NONE then
				if f14_local2 ~= f14_local3 then
					local f14_local6
					if f14_local2 ~= "MGL" or f14_local3 == "MGL" then
						f14_local6 = false
					else
						f14_local6 = true
					end
					return f14_local6
				elseif f14_local4 ~= f14_local5 then
					if f14_local0 == f14_local1.LOW_FIRST then
						return f14_local4 < f14_local5
					elseif f14_local0 == f14_local1.HIGH_FIRST then
						return f14_local5 < f14_local4
					end
				end
			end
		end
		local f14_local0 = Engine[0xED84C33EC5F01EA]( f14_arg0.name )
		local f14_local1 = Engine[0xED84C33EC5F01EA]( f14_arg1.name )
		if f14_local0 ~= f14_local1 then
			if f13_arg0.alphabetSortingType and f13_arg0.alphabetSortingType == LOOT.alphabetSortingOptions.Z_FIRST then
				return f14_local1 < f14_local0
			end
			return f14_local0 < f14_local1
		end
		return false
	end )
	if f13_arg0.FavoriteAndSort then
		f13_arg0.FavoriteAndSort:Update( f13_arg1, f13_arg0 )
	end
end

MenuUtils.CustomizeSortingPopupEventHandler = function ( f11_arg0, f11_arg1, f11_arg2, f11_arg3, f11_arg4, f11_arg5 )
	if LUI.IsLastInputGamepad( f11_arg2.controller ) then
		local f11_local0 = MenuUtils.CustomizeGetCurrentGridIndex( f11_arg3 )
		if f11_local0 then
			f11_arg0._currentSelectedLootID = f11_arg0._lootTable[f11_local0].lootID
		end
	end
	local f11_local0 = MenuBuilder.BuildRegisteredType( "CustomizeSortingPopup", {
		controllerIndex = f11_arg1,
		menu = f11_arg0,
		type = f11_arg4
	} )
	LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", true, f11_arg1, false, {
		flyInLeftNarrow = true,
		widget = f11_local0
	} )
	f11_local0:addEventHandler( "menu_close", function ( f12_arg0, f12_arg1 )
		f11_arg0._isComingFromFilterMenu = true
		MenuUtils.CustomizeFilterTable( f11_arg0, f11_arg0 )
		MenuUtils.CustomizeUpdateGrid( f11_arg0, #f11_arg0._lootTable, f11_arg0 )
	end )
end

local f0_local2 = function ( f10_arg0, f10_arg1, f10_arg2, f10_arg3, f10_arg4 )
	if f10_arg2 and f10_arg3 and f10_arg2 < f10_arg3 and not DataSources.inGame.MP.isLastStand:GetValue( f10_arg1 ) and not DataSources.inGame.player.playerStatus.isDowned:GetValue( f10_arg1 ) and not DataSources.inGame.MP.spectating.isSpectating:GetValue( f10_arg1 ) then
		f10_arg4( f10_arg0 )
	end
end

MenuUtils.SubscribeToHealthAndArmorChanges = function ( f7_arg0, f7_arg1, f7_arg2 )
	if CONDITIONS.InFrontend() then
		
	else
		
	end
	local f7_local0 = DataSources.inGame.player.health:GetModel( f7_arg1 )
	local f7_local1 = DataSources.inGame.player.armorHealthRatio:GetModel( f7_arg1 )
	f7_arg0._prevHealth = DataModel[0x614D394F6F9A18D]( f7_local0 )
	f7_arg0._prevArmor = DataModel[0x614D394F6F9A18D]( f7_local1 )
	f7_arg0:SubscribeToModel( f7_local0, function ( f9_arg0, f9_arg1 )
		if f9_arg1 then
			local f9_local0 = DataModel[0x614D394F6F9A18D]( f9_arg0 )
			f7_arg0( f9_arg1, f7_arg0, f9_local0, f9_arg1._prevHealth, f7_arg0 )
			f9_arg1._prevHealth = f9_local0
		end
	end )
	f7_arg0:SubscribeToModel( f7_local1, function ( f8_arg0, f8_arg1 )
		if f8_arg1 then
			local f8_local0 = DataModel[0x614D394F6F9A18D]( f8_arg0 )
			f7_arg0( f8_arg1, f7_arg0, f8_local0, f8_arg1._prevArmor, f7_arg0 )
			f8_arg1._prevArmor = f8_local0
		end
	end )
end

MenuUtils.AddLoadingSpinner = function ( f6_arg0, f6_arg1 )
	if not f6_arg0.LoadingSpinner and CONDITIONS.IsMobileOrMobileSim() then
		local self = nil
		self = LUI.UIImage.new()
		self.id = "LoadingSpinner"
		self:setImage( RegisterMaterial( 0xCD7E5347D11FA03 ), 0 )
		if f6_arg1 then
			self:SetAnchorsAndPosition( f6_arg1.leftAnchor, f6_arg1.rightAnchor, f6_arg1.topAnchor, f6_arg1.bottomAnchor, f6_arg1.left, f6_arg1.right, f6_arg1.top, f6_arg1.bottom )
		else
			self:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -64, _1080p * 64, _1080p * -64, _1080p * 64 )
		end
		f6_arg0:addElement( self )
		f6_arg0.LoadingSpinner = self
	end
end

MenuUtils.RemoveLoadingSpinnerIfExist = function ( f5_arg0 )
	if f5_arg0.LoadingSpinner then
		f5_arg0.LoadingSpinner:closeTree()
		f5_arg0.LoadingSpinner = nil
	end
end

MenuUtils.ReachInitialMenuFromInGameMPCallback = function ()
	local f4_local0 = Engine[0x45B054C920178E9]()
	if Game[0xB4B4037FC0E6837]( f4_local0 ) == true then
		Game[0xFC96833CDA450A6]( f4_local0 )
		if CONDITIONS.IsMobileOrMobileSim() then
			METRICS.MobileRecordDailyChallengesDLog( f4_local0 )
		end
	end
end

MenuUtils.AddTabsToMobileMenu = function ( f2_arg0, f2_arg1, f2_arg2, f2_arg3 )
	f2_arg0:registerAndCallEventHandler( "onVideoChange", function ( f3_arg0, f3_arg1 )
		if f3_arg0.Tabs then
			f3_arg0:RemoveElement( f3_arg0.Tabs )
			f3_arg0.Tabs:closeTree()
		end
		local Tabs = TAB.MobileCreateAspectRatioAdjustedWidthTabs( f3_arg0, f2_arg0, f2_arg0 )
		if f2_arg0.preAddCallback then
			f2_arg0.preAddCallback( f3_arg0, Tabs )
		end
		f3_arg0:addElement( Tabs )
		f3_arg0.Tabs = Tabs
		
		if f2_arg0.postAddCallback then
			f2_arg0.postAddCallback( f3_arg0 )
		end
		f3_arg0.Tabs:SetTabs( f2_arg0 )
		if #f2_arg0 <= 1 then
			f3_arg0.Tabs:HideTabs()
		else
			f3_arg0.Tabs:ShowTabs()
		end
		if f2_arg0.postSetupCallback then
			f2_arg0.postSetupCallback( f3_arg0 )
		end
		f2_arg0:dispatchEventToRoot( {
			name = "postOnVideoChange"
		} )
	end )
end

MenuUtils.SetMenuTitle = function ( f1_arg0, f1_arg1, f1_arg2, f1_arg3 )
	f1_arg0:SetTitle( Engine[0xED84C33EC5F01EA]( f1_arg2 ) )
	if f1_arg3 then
		f1_arg0:SetupBackButton( f1_arg1 )
	end
end

