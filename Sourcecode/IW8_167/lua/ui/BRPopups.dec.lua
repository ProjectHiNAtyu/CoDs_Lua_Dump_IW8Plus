-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
CoD.PrintModuleLoad( _NAME )
MenuBuilder.registerType( "PlayAgainPartyHostPopup", function ( f11_arg0, f11_arg1 )
	local f11_local0 = LUI.PostGameManager.IsPostGame( f11_arg1.controllerIndex )
	local f11_local1 = 1 <= DataSources.inGame.MP.brSquadEliminatedActive:GetValue( f11_arg1.controllerIndex )
	DebugPrint( "------ Play Again State: brSquadEliminatedActive: " .. tostring( f11_local1 ) )
	if not f11_local1 then
		local f11_local2 = not f11_local0
	else
		local f11_local2 = false
	end
	local f11_local2
	if CONDITIONS.IsBloodMoney() or CONDITIONS.IsRiskGametype() or CONDITIONS.IsWZRatRace() or CONDITIONS.IsBRKingSlayer() then
		DebugPrint( "------ Play Again State: gametype check entered" )
		f11_local2 = false
	else
		local f11_local3 = DataSources.inGame.MP.brPlayerPosition:GetValue( f11_arg1.controllerIndex )
		DebugPrint( "------ Play Again State: playerPosition: " .. tostring( f11_local3 ) )
		if f11_local3 == 1 then
			f11_local2 = false
		end
	end
	local f11_local3 = Engine.CBBHFCGDIC( "MP_BR_INGAME/PLAY_AGAIN_PARTY_HOST_DESC" )
	if f11_local2 then
		f11_local3 = f11_local3 .. "\n" .. Engine.CBBHFCGDIC( "MP_BR_INGAME/PLAY_AGAIN_PARTY_HOST_LEAVE_PARTY_WARNING" )
	end
	local f11_local4 = MenuBuilder.BuildRegisteredType( "PopupMessageAndButtons", {
		title = Engine.CBBHFCGDIC( "PLATFORM_UI/EOG_SUMMARY_PLAY_AGAIN" ),
		message = f11_local3,
		buttons = {
			{
				label = Engine.CBBHFCGDIC( "MENU/LEAVE_WITH_PARTY" ),
				disabled = f11_local2,
				action = function ( f14_arg0, f14_arg1 )
					BR.SetPlayAgainChoice( BR.PlayAgainChoice.WITH_PARTY )
					BR.ExecuteBREndTransition( f14_arg0, f14_arg1, BR.PLAY_AGAIN_WITH_PARTY_COMMAND )
				end
			},
			{
				label = Engine.CBBHFCGDIC( "MENU/LEAVE_WITHOUT_PARTY" ),
				action = function ( f13_arg0, f13_arg1 )
					BR.SetPlayAgainChoice( BR.PlayAgainChoice.WITHOUT_PARTY )
					BR.ExecuteBREndTransition( f13_arg0, f13_arg1, BR.PLAY_AGAIN_WITHOUT_PARTY_COMMAND )
				end
			},
			{
				label = Engine.CBBHFCGDIC( "MENU/CANCEL" ),
				action = function ( f12_arg0, f12_arg1 )
					
				end
			}
		}
	} )
	f11_local4.id = "PlayAgainPartyHostPopup"
	return f11_local4
end )
MenuBuilder.registerType( "PlayAgainPopup", function ( f9_arg0, f9_arg1 )
	local f9_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", {
		title = Engine.CBBHFCGDIC( "PLATFORM_UI/EOG_SUMMARY_PLAY_AGAIN" ),
		message = Engine.CBBHFCGDIC( "MP_BR_INGAME/PLAY_AGAIN_DESC" ),
		yesAction = function ( f10_arg0, f10_arg1 )
			BR.SetPlayAgainChoice( BR.PlayAgainChoice.WITHOUT_PARTY )
			BR.ExecuteBREndTransition( f10_arg0, f10_arg1, BR.PLAY_AGAIN_WITHOUT_PARTY_COMMAND )
		end
	} )
	f9_local0.id = "PlayAgainPopup"
	return f9_local0
end )
MenuBuilder.registerType( "PlayAgainPartyMemberPopup", function ( f7_arg0, f7_arg1 )
	local f7_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", {
		title = Engine.CBBHFCGDIC( "PLATFORM_UI/EOG_SUMMARY_PLAY_AGAIN" ),
		message = Engine.CBBHFCGDIC( "MP_BR_INGAME/PLAY_AGAIN_LEAVE_PARTY_DESC" ),
		yesAction = function ( f8_arg0, f8_arg1 )
			BR.SetPlayAgainChoice( BR.PlayAgainChoice.WITHOUT_PARTY )
			BR.ExecuteBREndTransition( f8_arg0, f8_arg1, BR.PLAY_AGAIN_WITHOUT_PARTY_COMMAND )
		end
	} )
	f7_local0.id = "PlayAgainPartyMemberPopup"
	return f7_local0
end )
MenuBuilder.registerType( "RestartPracticePopup", function ( f5_arg0, f5_arg1 )
	local f5_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", {
		title = Engine.CBBHFCGDIC( "LUA_MENU/RESTART_PRACTICE" ),
		message = Engine.CBBHFCGDIC( "LUA_MENU/RESTART_PRACTICE_DESC" ),
		yesAction = function ( f6_arg0, f6_arg1 )
			Engine.EBIDFIDHIE( "map_restart" )
		end
	} )
	f5_local0.id = "RestartPracticePopup"
	return f5_local0
end )
MenuBuilder.registerType( "EndRestartPracticePopup", function ( f3_arg0, f3_arg1 )
	local f3_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", {
		title = Engine.CBBHFCGDIC( "LUA_MENU/RESTART_PRACTICE" ),
		message = Engine.CBBHFCGDIC( "LUA_MENU/RESTART_PRACTICE_DESC" ),
		yesAction = function ( f4_arg0, f4_arg1 )
			BR.ExecuteBREndTransition( f4_arg0, f4_arg1, "map_restart" )
		end
	} )
	f3_local0.id = "EndRestartPracticePopup"
	return f3_local0
end )
MenuBuilder.registerType( "LeavePlayAgainSquadPopup", function ( f1_arg0, f1_arg1 )
	local f1_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", {
		title = Engine.CBBHFCGDIC( "LUA_MENU_MP/LEAVE_PLAY_AGAIN_SQUAD" ),
		message = Engine.CBBHFCGDIC( "LUA_MENU_MP/LEAVE_PLAY_AGAIN_SQUAD_DESC" ),
		yesAction = function ( f2_arg0, f2_arg1 )
			if f1_arg0.buttons then
				f1_arg0.buttons:processEvent( {
					name = "leave_play_again_squad"
				} )
			end
			LUI.FlowManager.RequestLeaveMenuByName( "LeavePlayAgainSquadPopup", true, true )
		end
	} )
	f1_local0.id = "LeavePlayAgainSquadPopup"
	return f1_local0
end )
LockTable( _M )
