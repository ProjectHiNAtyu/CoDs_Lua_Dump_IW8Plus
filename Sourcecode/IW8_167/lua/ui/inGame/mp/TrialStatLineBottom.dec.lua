-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = function ( f2_arg0, f2_arg1, f2_arg2 )
	local f2_local0 = DataSources.inGame.MP.trialMainScore
	local f2_local1 = DataSources.inGame.MP.trialMainTime
	local f2_local2 = function ()
		local f4_local0 = f2_arg0:GetValue( f2_arg0 )
		if f4_local0 ~= -1 then
			f2_arg0.FinalScore:setText( f4_local0, 0 )
			f2_arg0.FinalScoreLabel:setText( Engine.CBBHFCGDIC( "LUA_MENU/FINAL_SCORE" ) )
		end
	end
	
	local f2_local3 = function ()
		local f3_local0 = f2_arg0:GetValue( f2_arg0 )
		if f3_local0 ~= -1 then
			f2_arg0.FinalScore:setText( TIME.FormatMilliseconds( f3_local0, TIME.Format.STOPWATCH ) )
			f2_arg0.FinalScoreLabel:setText( Engine.CBBHFCGDIC( "LUA_MENU/FINAL_TIME" ) )
		end
	end
	
	f2_arg0:SubscribeToModel( f2_local0:GetModel( f2_arg1 ), f2_local2 )
	f2_arg0:SubscribeToModel( f2_local1:GetModel( f2_arg1 ), f2_local3 )
end

function TrialStatLineBottom( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 600 * _1080p, 0, 40 * _1080p )
	self.id = "TrialStatLineBottom"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local FinalScoreLabel = nil
	
	FinalScoreLabel = LUI.UIText.new()
	FinalScoreLabel.id = "FinalScoreLabel"
	FinalScoreLabel:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	FinalScoreLabel:setText( Engine.CBBHFCGDIC( "LUA_MENU/FINAL_TIME" ), 0 )
	FinalScoreLabel:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	FinalScoreLabel:SetAlignment( LUI.Alignment.Left )
	FinalScoreLabel:SetOptOutRightToLeftAlignmentFlip( true )
	FinalScoreLabel:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, _1080p * 300, _1080p * -15, _1080p * 15 )
	self:addElement( FinalScoreLabel )
	self.FinalScoreLabel = FinalScoreLabel
	
	local FinalScore = nil
	
	FinalScore = LUI.UIText.new()
	FinalScore.id = "FinalScore"
	FinalScore:SetRGBFromTable( SWATCHES.HUD.friendlyTeam, 0 )
	FinalScore:setText( "1:33.7", 0 )
	FinalScore:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	FinalScore:SetAlignment( LUI.Alignment.Right )
	FinalScore:SetAnchorsAndPosition( 1, 0, 0.5, 0.5, _1080p * -300, 0, _1080p * -18, _1080p * 18 )
	self:addElement( FinalScore )
	self.FinalScore = FinalScore
	
	local f1_local5 = nil
	if CONDITIONS.IsMenuInStack( "TrialResults" ) then
		f1_local5 = MenuBuilder.BuildRegisteredType( "TrialStatDivider", {
			controllerIndex = f1_local1
		} )
		f1_local5.id = "TrialStatDividerBottom"
		f1_local5:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 2 )
		self:addElement( f1_local5 )
		self.TrialStatDividerBottom = f1_local5
	end
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "TrialStatLineBottom", TrialStatLineBottom )
LockTable( _M )
