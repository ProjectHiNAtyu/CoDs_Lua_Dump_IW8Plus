-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
LUI.ButtonHelperText = LUI.Class( LUI.UIElement )
local f0_local0 = CoD.TextSettings.ButtonHelperFont
local f0_local1 = 30 * _1080p
local f0_local2 = 12
local f0_local3 = 9
local f0_local4 = 2
local f0_local5 = 10.66
local f0_local6 = 10 * _1080p
local f0_local7 = SWATCHES.text.buttonTextDefault
LUI.ButtonHelperText.GAMEPAD_BUTTON_ICON_HEIGHT = 20
LUI.ButtonHelperText.PROMPT_ORDER = {
	nil,
	"button_primary",
	"button_secondary",
	"button_start"
}
TOOLTIPS = {
	EXIT = {
		key = Engine[0xEB2A2834B76AEA4]( Engine[0xED84C33EC5F01EA]( "LUA_MENU/QUIT_DESKTOP" ) ),
		text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/FOOTER_TOOLTIP_QUIT" )
	},
	OPTIONS = {
		key = Engine[0xEB2A2834B76AEA4]( Engine[0xED84C33EC5F01EA]( "LUA_MENU/OPTIONS_CAPS" ) ),
		text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/FOOTER_TOOLTIP_OPTIONS" )
	},
	DISMISS = {
		key = Engine[0xEB2A2834B76AEA4]( Engine[0xED84C33EC5F01EA]( "LUA_MENU/DISMISS_MENU" ) ),
		text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/FOOTER_TOOLTIP_DISMISS_GAME" )
	}
}
LUI.ButtonHelperText.AutomaticIcons = {
	{
		icon = "FooterBackIcon",
		text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/BACK" )
	},
	{
		icon = "FooterBackIcon",
		text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/CLOSE" )
	},
	{
		icon = "FooterOptionsIcon",
		text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/OPTIONS" )
	},
	{
		icon = "FooterCursorIcon",
		text = Engine[0xED84C33EC5F01EA]( "MPUI/ENABLE_CURSOR" )
	},
	{
		icon = "MuteAllIcon",
		text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/MUTE_ALL" )
	},
	{
		icon = "UnmuteAllIcon",
		text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/UNMUTE_ALL" )
	},
	{
		icon = "FooterNVidiaIcon",
		text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/NVIDIA_SUMMARY" )
	}
}
local f0_local8 = function ( f33_arg0 )
	if f33_arg0.optOutOfAutomaticKBMIcon then
		return nil
	end
	for f33_local3, f33_local4 in ipairs( LUI.ButtonHelperText.AutomaticIcons ) do
		if string.find( f33_arg0.helper_text, f33_local4.text ) then
			return f33_local4
		end
	end
	return nil
end

local f0_local9 = function ( f32_arg0 )
	local f32_local0 = ""
	for f32_local4, f32_local5 in pairs( TOOLTIPS ) do
		if f32_arg0 == f32_local5.key then
			f32_local0 = f32_local5.text
			break
		end
	end
	return f32_local0
end

local f0_local10 = function ( f31_arg0, f31_arg1 )
	local f31_local0
	if not f31_arg1.clickable then
		f31_local0 = f31_arg1.kbm_only
		if f31_local0 then
		
		else
			return f31_local0
		end
	end
	f31_local0 = LUI.IsLastInputKeyboardMouse( f31_arg0 )
end

local f0_local11 = function ( f30_arg0 )
	if f30_arg0.multiButton then
		return f30_arg0.button_ref .. "+" .. f30_arg0.button_ref2
	else
		return f30_arg0.button_ref and f30_arg0.button_ref or f30_arg0.button_ref2
	end
end

local f0_local12 = function ( f29_arg0 )
	local f29_local0 = Engine[0xFB1B6E36ABE59B8]()
	if not f29_local0 then
		f29_local0 = LUI.IsLastInputGamepad( f29_arg0 )
	end
	local f29_local1
	if f29_local0 then
		f29_local1 = LUI.ButtonHelperText.GAMEPAD_BUTTON_ICON_HEIGHT
		if not f29_local1 then
		
		else
			return f29_local1
		end
	end
	f29_local1 = f0_local0.Height
end

local f0_local13 = function ( f28_arg0, f28_arg1, f28_arg2 )
	assert( ButtonMap[f28_arg1] )
	if not f28_arg2.useTextButtons or LUI.IsLastInputGamepad( f28_arg0 ) then
		return CoD.GetIconForButton( f28_arg1 )
	else
		return CoD.GetTextForButton( f28_arg1 )
	end
end

local f0_local14 = function ( f27_arg0, f27_arg1, f27_arg2, f27_arg3 )
	if not f0_local0( f27_arg0, f27_arg2 ) then
		local f27_local0, f27_local1, f27_local2, f27_local3 = GetTextDimensions( f0_local0( f27_arg0, f27_arg1, f27_arg2 ), f0_local0.Font, f0_local0( f27_arg0 ) )
		return f27_local2 - f27_local0
	elseif f0_local0( f27_arg2 ) then
		return f27_arg3._width or f0_local0
	else
		return 0
	end
end

local f0_local15 = function ( f24_arg0, f24_arg1, f24_arg2 )
	local f24_local0 = f0_local0( f24_arg0, f24_arg2 )
	local f24_local1 = f0_local0( f24_arg0, f24_arg1, f24_arg2 )
	local f24_local2 = f0_local0( f24_arg0 )
	local self = nil
	if not f24_local0 then
		self = LUI.UIStyledText.new()
		self:SetRGBFromTable( f0_local0 )
		self:SetFont( f0_local0.Font )
		self:SetFontSize( f24_local2 )
		self:SetAlignment( LUI.Alignment.Center )
		self:SetTintFontIcons( true )
		self:SetAlpha( 0.8, 0 )
		self:SetUseForceOpacityMode( true )
		self:SetWordWrap( false )
		self.id = f24_arg2.side .. "Icon"
		self:SetSDFRenderingEnabled( true )
		self:setText( f24_local1 )
		self:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, f0_local0( f24_arg0, f24_arg1, f24_arg2 ), -f24_local2 / 2, f24_local2 / 2 )
	else
		local f24_local4 = f0_local0( f24_arg2 )
		if f24_local4 then
			self = MenuBuilder.BuildRegisteredType( f24_local4.icon, {
				controllerIndex = f24_arg0
			} )
			local f24_local5, f24_local6, f24_local7, f24_local8 = self:getLocalRect()
			self._width = f24_local7 - f24_local5
			self:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, self._width, -f24_local2 / 2, f24_local2 / 2 )
			self:SetTintFontIcons( true )
			self:SetAlpha( 1, 0 )
			self.id = f24_arg2.side .. "Icon"
		end
	end
	if self then
		self:registerEventHandler( "button_up", function ( self, event )
			ACTIONS.AnimateSequenceIfItExists( self, "ButtonUp" )
		end )
		self:registerEventHandler( "button_over", function ( self, event )
			ACTIONS.AnimateSequenceIfItExists( self, "ButtonOver" )
		end )
	end
	return self
end

local f0_local16 = function ( f21_arg0, f21_arg1, f21_arg2 )
	local f21_local0 = f0_local0( f21_arg0, f21_arg1 )
	if not f21_local0 or not SWATCHES.genericButton.listButtonDefault then
		local f21_local1 = f0_local0
	end
	if f21_arg1.overrideTextUpColor then
		local f21_local1 = f21_arg1.overrideTextUpColor
	end
	local f21_local2
	if f21_local0 then
		f21_local2 = SWATCHES.text.buttonTextHighlighted
		if not f21_local2 then
		
		else
			if f21_arg1.overrideTextOverColor then
				local f21_local1 = f21_arg1.overrideTextOverColor
			end
			local f21_local3 = {
				{
					duration = 10,
					property = TWEEN_PROPERTY.RGB,
					value = f21_local2
				},
				{
					value = 1,
					duration = 10,
					property = TWEEN_PROPERTY.Alpha
				}
			}
			local f21_local4 = {
				{
					duration = 10,
					property = TWEEN_PROPERTY.RGB,
					value = f21_local1
				},
				{
					value = -2.353438279577766E-185,
					duration = 10,
					property = TWEEN_PROPERTY.Alpha
				}
			}
			local f21_local5 = f21_arg1.helper_text
			if not LUI.IsLastInputGamepad( f21_arg0 ) and f21_arg1.buttonText then
				f21_local5 = f21_arg1.buttonText .. " " .. f21_arg1.helper_text
			end
			local self = LUI.UIText.new()
			local f21_local7 = f0_local0.Height * _1080p * 0.5
			self:SetMinFontSize( f0_local0.Height * _1080p )
			self:SetMaxFontSize( f0_local0.Height * _1080p )
			self:SetFont( f0_local0.Font )
			self:setCaseStyle( LUI.CaseStyle.Uppercase )
			self:SetRGBFromTable( f21_local1 )
			self.id = "promptText" .. f21_arg1.primaryRef
			self.ref = f21_arg1.primaryRef
			self:setText( f21_local5 )
			self:SetOptOutRightToLeftAlignmentFlip( true )
			self:SetWordWrap( false )
			self:SetAlpha( 0.7 )
			self:SetUseForceOpacityMode( true )
			self:SetSDFRenderingEnabled( true )
			if IsLanguageArabic() then
				f21_local7 = f0_local0.Height * _1080p * 1
				self:SetMinFontSize( f0_local0.Height * _1080p * 1.5 )
				self:SetMaxFontSize( f0_local0.Height * _1080p * 1.5 )
			end
			self:RegisterAnimationSequence( "buttonOver", f21_local3 )
			self:RegisterAnimationSequence( "buttonUp", f21_local4 )
			self:AnimateSequence( "buttonUp" )
			self:registerEventHandler( "button_up", function ( self, event )
				self:SetMinFontSize( f21_arg0.Height * _1080p )
				self:SetMaxFontSize( f21_arg0.Height * _1080p )
				self:SetFont( f21_arg0.Font )
				if IsLanguageArabic() then
					f21_arg0 = f21_arg0.Height * _1080p * 1
					f21_arg0:SetMinFontSize( f21_arg0.Height * _1080p * 1.5 )
					f21_arg0:SetMaxFontSize( f21_arg0.Height * _1080p * 1.5 )
				end
				self:AnimateSequence( "buttonUp" )
			end )
			self:registerEventHandler( "button_over", function ( self, event )
				self:SetMinFontSize( f21_arg0.Height * _1080p )
				self:SetMaxFontSize( f21_arg0.Height * _1080p )
				self:SetFont( FONTS.GetFont( FONTS.MainBoldHeader.File ) )
				if IsLanguageArabic() then
					f21_arg0 = f21_arg0.Height * _1080p * 1
					f21_arg0:SetMinFontSize( f21_arg0.Height * _1080p * 1.5 )
					f21_arg0:SetMaxFontSize( f21_arg0.Height * _1080p * 1.5 )
				end
				self:AnimateSequence( "buttonOver" )
			end )
			self:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, LAYOUT.GetTextWidth( self, f21_arg0 ), -f21_local7, f21_local7 )
			return self
		end
	end
	f21_local2 = SWATCHES.buttonHelper.helperText
end

function SendButtonEvent( f20_arg0, f20_arg1 )
	if f20_arg0.data.clickable and f20_arg1.mouse == true then
		local f20_local0 = {
			immediate = true,
			controller = f20_arg1.controller
		}
		if f20_arg0.data.multiButton then
			f20_local0.name = f20_arg0.data.primaryRef
			f20_arg0:dispatchEventToRoot( f20_local0 )
		else
			f20_local0.name = "gamepad_button"
			assert( ButtonMap[f20_arg0.data.primaryRef].raw_button )
			f20_local0.button = ButtonMap[f20_arg0.data.primaryRef].raw_button
			f20_local0.down = true
			f20_local0.maintainMouseFocus = true
			f20_arg0:dispatchEventToRoot( f20_local0 )
		end
	end
end

local f0_local17 = function ( f19_arg0, f19_arg1, f19_arg2, f19_arg3, f19_arg4, f19_arg5, f19_arg6 )
	local f19_local0 = nil
	local f19_local1 = f0_local0( f19_arg0, f19_arg1 )
	if f19_arg1.width then
		f19_local0 = f19_arg1.width
	else
		local f19_local2 = 0
		local f19_local3 = 0
		local f19_local4 = 0
		local f19_local5 = 0
		if f19_arg3 then
			f19_local2 = f0_local0( f19_arg0, f19_arg3, f19_arg1, f19_arg5 )
			f19_local5 = f19_local5 + 1
		end
		local f19_local6 = LAYOUT.GetTextWidth( f19_arg2, f19_arg0 )
		if f19_arg4 then
			if not f19_local1 then
				f19_local4 = LUI.ButtonHelperText.GAMEPAD_BUTTON_ICON_HEIGHT * 0.5
				f19_local5 = f19_local5 + 1
			end
			f19_local3 = f0_local0( f19_arg0, f19_arg4, f19_arg1, f19_arg6 )
			f19_local5 = f19_local5 + 1
		end
		local f19_local7 = 0
		if f19_local1 then
			if f0_local0( f19_arg1 ) then
				f19_local7 = f0_local0 * f19_local5
			end
			f19_local7 = f19_local7 + f0_local0 * 2
		else
			f19_local7 = f0_local0 * f19_local5
		end
		f19_local0 = f19_local2 + f19_local6 + f19_local3 + f19_local7 + f19_local4
	end
	return f19_local0
end

local f0_local18 = function ( f18_arg0, f18_arg1 )
	local f18_local0 = f18_arg1.button_ref
	local f18_local1 = f18_arg1.button_ref2
	local f18_local2 = f18_arg1.multiButton
	local f18_local3 = f0_local0( f18_arg0, f18_arg1 )
	f18_arg1.primaryRef = f0_local0( f18_arg1 )
	if f18_arg1.useTextButtons == nil then
		f18_arg1.useTextButtons = false
	end
	if f18_arg1.addTooltip == nil then
		f18_arg1.addTooltip = true
	end
	local self = LUI.UIButton.new()
	self.id = f18_arg1.primaryRef
	self.data = f18_arg1
	self.m_requireFocusType = FocusType.MouseOver
	self.ref = f18_arg1.primaryRef
	self.hasTwoButtons = f18_arg1.button_ref and f18_arg1.button_ref2
	self.blockKeyboardSound = true
	self.blockConfirmSound = true
	if f18_local3 then
		if not f18_arg1.ignoreButtonBackground then
			local f18_local5 = MenuBuilder.BuildRegisteredType( "GenericFooterButtonBackground", {
				controllerIndex = f18_arg0
			} )
			f18_local5.id = "ButtonBackground"
			if f18_arg1.container and f18_arg1.ignoreTooltipPrompt then
				if LUI.COMPARE.higher == CoD.AspectRatioCompare() then
					f18_local5:SetAnchorsAndPosition( 0, 0, 0, 0, 16 * _1080p, 0, 1.2 * _1080p, -1.2 * _1080p )
				else
					f18_local5:SetAnchorsAndPosition( 0, 0, 0, 0, 16 * _1080p, 0, 2 * _1080p, -1.2 * _1080p )
				end
			else
				f18_local5:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
			end
			self:addElement( f18_local5 )
			self.ButtonBackground = f18_local5
		end
		if f18_local0 and not f18_local2 then
			local f18_local5 = CoD.GetTextForButton( f18_local0 )
			local f18_local6 = f18_arg1.helper_text
			if f18_arg1.kbmTooltipPromptOverload and f18_arg1.kbmTooltipPromptOverload ~= "" then
				f18_local5 = CoD.GetTextForButton( f18_arg1.kbmTooltipPromptOverload )
			end
			for f18_local10, f18_local11 in ipairs( LUI.ButtonHelperText.PROMPT_ORDER ) do
				if f18_local11 == f18_local0 then
					f18_local6 = f0_local0( Engine[0xEB2A2834B76AEA4]( f18_local6 ) )
				end
			end
			if f18_local6 == f18_arg1.helper_text then
				f18_local6 = ""
			end
			if f18_local5 then
				f18_local7 = {
					{
						keyprompt_text = f18_local5,
						helper_text = f18_local6,
						button_ref = f18_local0,
						ignoreTooltipPrompt = f18_arg1.ignoreTooltipPrompt
					}
				}
				if not f18_arg1.ignoreTooltipPrompt then
					f18_local8 = {
						promptsData = f18_local7
					}
					if f18_arg1.addTooltip then
						self:AddTooltipData( f18_arg0, f18_local8 )
					end
				end
				f18_arg1.buttonText = f18_local5
			end
		end
	end
	self:registerEventHandler( "button_action", SendButtonEvent )
	local f18_local5 = LUI.UIHorizontalList.new()
	f18_local5:SetSpacing( f0_local0 )
	f18_local5.id = "helperHorizontalList"
	if f18_arg1.multiButton == nil then
		f18_arg1.multiButton = false
	end
	local f18_local6 = f18_arg1.separatorString and f18_arg1.separatorString or "+"
	local f18_local7 = nil
	if f18_local0 then
		f18_local7 = f0_local0( f18_arg0, f18_local0, f18_arg1 )
		if f18_local7 then
			f18_local5:addElement( f18_local7 )
		end
	end
	if f18_arg1.multiButton and f18_local1 then
		local f18_local8 = "SymbolIcon"
		if not f18_local3 then
			local f18_local9 = LUI.UIStyledText.new()
			f18_local9:SetRGBFromTable( f0_local0 )
			f18_local9:SetFont( f0_local0.Font )
			f18_local9:SetFontSize( LUI.ButtonHelperText.GAMEPAD_BUTTON_ICON_HEIGHT )
			f18_local9:SetAlignment( LUI.Alignment.Center )
			f18_local9:SetTintFontIcons( true )
			f18_local9:SetAlpha( 0.8, 0 )
			f18_local9:SetUseForceOpacityMode( true )
			f18_local9:SetWordWrap( false )
			f18_local9.id = f18_local8
			f18_local9:SetSDFRenderingEnabled( true )
			f18_local9:setText( f18_local6 )
			local f18_local10 = LUI.ButtonHelperText.GAMEPAD_BUTTON_ICON_HEIGHT * 0.5
			f18_local9:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, f18_local10, -f18_local10, f18_local10 )
			f18_local5:addElement( f18_local9 )
		end
		local f18_local9 = f0_local0( f18_arg0, f18_local1, f18_arg1 )
		if f18_local9 then
			f18_local5:addElement( f18_local9 )
		end
	end
	local f18_local8 = f0_local0( f18_arg0, f18_arg1, self.hasTwoButtons )
	f18_local5:addElement( f18_local8 )
	local f18_local9 = nil
	if f18_local1 and not f18_arg1.multiButton then
		f18_local9 = f0_local0( f18_arg0, f18_local1, f18_arg1 )
		if f18_local9 then
			f18_local5:addElement( f18_local9 )
		end
	end
	self:addElement( f18_local5 )
	if f18_arg1.priority then
		self:setPriority( f18_arg1.priority )
	end
	if not f18_arg1.clickable then
		self:SetFocusable( false )
		self:SetHandleMouseButton( false )
	end
	local f18_local10 = f0_local0( f18_arg0, f18_arg1, f18_local8, f18_local0, f18_local1, f18_local7, f18_local9 )
	if f18_arg1.container then
		local f18_local11 = f18_arg1.container:GetCurrentAnchorsAndPositions()
		local f18_local12 = (f18_local11.right - f18_local11.left) / 2
		if f18_arg1.containerAlignment == LUI.Alignment.Right then
			self:SetAnchorsAndPosition( 1, 0, 0, 0, -f18_local10, 0, 0, 0 )
		elseif f18_arg1.containerAlignment == LUI.Alignment.Center then
			self:SetAnchorsAndPosition( 0, 1, 0, 0, f18_local12 - f18_local10 / 2, f18_local12 + f18_local10 / 2, 0, 0 )
		elseif LUI.IsLastInputKeyboardMouse( f18_arg0 ) then
			self:SetAnchorsAndPosition( 0, 1, 0, 0, -8, f18_local10 - 8, 0, 0 )
		else
			self:SetAnchorsAndPosition( 0, 1, 0, 0, 0, f18_local10, 0, 0 )
		end
	else
		self:SetAnchorsAndPosition( 0, 1, 0, 0, 0, f18_local10, 0, 0 )
	end
	local f18_local11
	if f18_local3 then
		f18_local11 = f0_local0
		if not f18_local11 then
		
		else
			f18_local5:SetAnchorsAndPosition( 0, 0, 0, 0, f18_local11, -f18_local11, 0, 0 )
			return self
		end
	end
	f18_local11 = 0
end

local f0_local19 = function ( f16_arg0 )
	local f16_local0 = 75
	local f16_local1 = -75
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 5, 26 )
	self.id = "buttonHelperListContainer"
	f16_arg0._buttonHelperLists = {}
	
	local buttonHelperLeftList = LUI.UIHorizontalList.new()
	buttonHelperLeftList:SetLeft( f16_local0 )
	buttonHelperLeftList:SetAlignment( LUI.Alignment.Left )
	buttonHelperLeftList:SetSpacing( f0_local0 )
	buttonHelperLeftList.id = "buttonHelperLeftList"
	buttonHelperLeftList.side = "left"
	self:addElement( buttonHelperLeftList )
	self.buttonHelperLeftList = buttonHelperLeftList
	
	f16_arg0._buttonHelperLists.left = buttonHelperLeftList
	
	local buttonHelperRightList = LUI.UIHorizontalList.new()
	buttonHelperRightList:SetRight( f16_local1 )
	buttonHelperRightList:SetAlignment( LUI.Alignment.Right )
	buttonHelperRightList:SetSpacing( f0_local0 )
	buttonHelperRightList.id = "buttonHelperRightList"
	buttonHelperRightList.side = "right"
	self:addElement( buttonHelperRightList )
	self.buttonHelperRightList = buttonHelperRightList
	
	f16_arg0._buttonHelperLists.right = buttonHelperRightList
	
	local buttonHelperCenterList = LUI.UIHorizontalList.new()
	buttonHelperCenterList:SetLeft( f16_local0 )
	buttonHelperCenterList:SetRight( f16_local1 )
	buttonHelperCenterList:SetAlignment( LUI.Alignment.Center )
	buttonHelperCenterList:SetSpacing( f0_local0 )
	buttonHelperCenterList.id = "buttonHelperCenterList"
	buttonHelperCenterList.side = "center"
	self:addElement( buttonHelperCenterList )
	self.buttonHelperCenterList = buttonHelperCenterList
	
	f16_arg0._buttonHelperLists.center = buttonHelperCenterList
	if LUI.IsLastInputKeyboardMouse( f16_arg0._controllerIndex ) then
		buttonHelperLeftList:SetSpacing( f0_local0 )
		buttonHelperCenterList:SetSpacing( f0_local0 )
		buttonHelperRightList:SetSpacing( f0_local0 )
	end
	self:registerEventHandler( "update_input_type", function ( self, event )
		if LUI.IsLastInputKeyboardMouse( event.controllerIndex ) then
			self.buttonHelperLeftList:SetSpacing( f16_arg0 )
			self.buttonHelperCenterList:SetSpacing( f16_arg0 )
			self.buttonHelperRightList:SetSpacing( f16_arg0 )
		else
			self.buttonHelperLeftList:SetSpacing( f16_arg0 )
			self.buttonHelperCenterList:SetSpacing( f16_arg0 )
			self.buttonHelperRightList:SetSpacing( f16_arg0 )
		end
	end )
	return self
end

LUI.ButtonHelperText.GetPromptByButtonRef = function ( f15_arg0, f15_arg1 )
	for f15_local3, f15_local4 in pairs( f15_arg0._buttonHelperLists ) do
		if f15_local4:getFirstChild() then
			
		end
	end
end

LUI.ButtonHelperText.AddHelperListContainer = function ( f14_arg0, f14_arg1 )
	assert( f14_arg0._buttonHelperLists )
	local f14_local0 = assert
	local f14_local1
	if f14_arg1.id == "left" or f14_arg1.id == "right" or f14_arg1.id == "center" then
		f14_local1 = false
	else
		f14_local1 = true
	end
	f14_local0( f14_local1, "Custom button helper containers cannot be named \"left\", \"right\" or \"center\". These are reserved" )
	if f14_arg0._buttonHelperLists[f14_arg1.id] then
		return 
	else
		f14_arg0._buttonHelperLists[f14_arg1.id] = f14_arg1
	end
end

LUI.ButtonHelperText.AttemptRemoveHelperListContainer = function ( f13_arg0, f13_arg1 )
	assert( f13_arg0._buttonHelperLists )
	local f13_local0 = nil
	if 0 < #f13_arg0._promptStack[f13_arg1] then
		f13_local0 = f13_arg0._promptStack[f13_arg1][#f13_arg0._promptStack[f13_arg1]].side
	end
	if f13_local0 == "left" or f13_local0 == "right" or f13_local0 == "center" or f13_local0 == nil then
		return 
	else
		local f13_local1 = f13_arg0._buttonHelperLists[f13_local0]
		if not f13_local1 then
			return 
		elseif f13_local1:getFirstChild() then
			return 
		else
			f13_arg0._buttonHelperLists[f13_local0] = nil
		end
	end
end

LUI.ButtonHelperText.PushButtonPrompt = function ( f12_arg0, f12_arg1, f12_arg2 )
	if f12_arg1.multiButton then
		local f12_local0 = assert
		local f12_local1 = f12_arg1.button_ref
		if f12_local1 then
			if 0 < #f12_arg1.button_ref then
				f12_local1 = f12_arg1.button_ref2
				if f12_local1 then
					if 0 >= #f12_arg1.button_ref2 then
						f12_local1 = false
					else
						f12_local1 = true
					end
				else
					f12_local0( f12_local1 )
				end
			end
			f12_local1 = false
		end
		f12_local0( f12_local1 )
	else
		local f12_local0 = assert
		local f12_local1
		if not f12_arg1.button_ref or 0 >= #f12_arg1.button_ref then
			f12_local1 = f12_arg1.button_ref2
			if f12_local1 then
				if 0 >= #f12_arg1.button_ref2 then
					f12_local1 = false
				else
					f12_local1 = true
				end
			end
		else
			f12_local1 = true
		end
		f12_local0( f12_local1 )
	end
	assert( f12_arg1.helper_text )
	if not f12_arg2 then
		f12_arg2 = {}
	end
	f12_arg2.replaceTop = f12_arg2.replaceTop or false
	if f12_arg1.container then
		f12_arg0:AddHelperListContainer( f12_arg1.container )
		f12_arg1.side = f12_arg1.container.id
	end
	if f12_arg1.useTextButtons == nil then
		f12_arg1.useTextButtons = false
	end
	f12_arg1.side = f12_arg1.side or "left"
	if f12_arg1.clickable == nil then
		f12_arg1.clickable = true
	end
	local f12_local0 = f0_local0( f12_arg1 )
	if f12_arg1.multiButton then
		local f12_local2 = LUI.Split( f12_local0, "+" )
		for f12_local1 = 1, #f12_local2, 1 do
			assert( ButtonMap[f12_local2[f12_local1]] )
		end
	else
		assert( ButtonMap[f12_local0] )
	end
	if not f12_arg0._promptStack[f12_local0] then
		f12_arg0._promptStack[f12_local0] = {}
	end
	local f12_local2 = f12_arg0.wasLastInputGamepad
	if f12_local2 then
		f12_local2 = not LUI.IsLastInputGamepad( f12_arg0._controllerIndex )
	end
	f12_arg0.wasLastInputGamepad = LUI.IsLastInputGamepad( f12_arg0._controllerIndex )
	local f12_local1 = #f12_arg0._promptStack[f12_local0]
	if f12_arg1.helper_text == "" then
		f12_arg0:RemoveButtonPrompt( f12_local0 )
		return 
	elseif 0 < f12_local1 then
		f12_arg1.primaryRef = f0_local0( f12_arg1 )
		if LUI.AreTableContentsEqual( f12_arg1, f12_arg0._promptStack[f12_local0][f12_local1] ) and not f12_local2 then
			return 
		elseif f12_arg2.replaceTop then
			f12_arg0:RemoveButtonPrompt( f12_local0 )
		else
			f12_arg0:CloseButtonPrompt( f12_local0 )
		end
	end
	table.insert( f12_arg0._promptStack[f12_local0], f12_arg1 )
	local f12_local3 = false
	if f12_arg1.force_display then
		f12_local3 = true
	elseif LUI.IsLastInputGamepad( f12_arg0._controllerIndex ) then
		if not f12_arg1.kbm_only then
			f12_local3 = true
		end
	elseif not f12_arg1.gamepad_only and f12_local0 ~= "button_primary" then
		f12_local3 = true
	end
	if f12_local3 then
		local f12_local4 = f12_arg0._buttonHelperLists[f12_arg1.side]
		if f12_local4 then
			f12_local4:addElement( f0_local0( f12_arg0._controllerIndex, f12_arg1 ) )
			return true
		end
	end
end

LUI.ButtonHelperText.RemoveButtonPrompt = function ( f11_arg0, f11_arg1 )
	f11_arg0:CloseButtonPrompt( f11_arg1 )
	f11_arg0:AttemptRemoveHelperListContainer( f11_arg1 )
	assert( f11_arg0._promptStack[f11_arg1], "Attempting to remove a button prompt that doesn't exist." )
	table.remove( f11_arg0._promptStack[f11_arg1] )
end

LUI.ButtonHelperText.CloseButtonPrompt = function ( f10_arg0, f10_arg1 )
	local f10_local0 = f10_arg0:GetPromptByButtonRef( f10_arg1 )
	if f10_local0 then
		f10_local0:processEvent( {
			immediate = true,
			name = "lose_focus"
		} )
		f10_local0:closeTree()
	end
end

LUI.ButtonHelperText.RefreshButtonHelpers = function ( f9_arg0, f9_arg1 )
	f9_arg0._controllerIndex = f9_arg1.controllerIndex
	local f9_local0 = LUI.DeepCopy( f9_arg0._promptStack )
	for f9_local4, f9_local5 in pairs( f9_arg0._promptStack ) do
		if 0 < #f9_local5 then
			f9_arg0:RemoveButtonPrompt( f9_local4 )
		end
	end
	for f9_local4, f9_local5 in ipairs( f9_arg0.PROMPT_ORDER ) do
		if f9_local0[f9_local5] then
			local f9_local6 = f9_local0[f9_local5][#f9_local0[f9_local5]]
			if f9_local6 then
				f9_arg0:PushButtonPrompt( f9_local6 )
			end
			f9_local0[f9_local5] = nil
		end
	end
	for f9_local4, f9_local5 in pairs( f9_local0 ) do
		if 0 < #f9_local5 then
			f9_arg0:PushButtonPrompt( f9_local5[#f9_local5] )
		end
	end
end

LUI.ButtonHelperText.PopButtonPrompt = function ( f8_arg0, f8_arg1 )
	assert( f8_arg0._buttonHelperLists )
	local f8_local0 = f0_local0( f8_arg1 )
	if not f8_arg0._promptStack[f8_local0] then
		DebugPrint( "PopButtonPrompt: '" .. f8_local0 .. "' doesn't exist" )
		return 
	end
	f8_arg0:RemoveButtonPrompt( f8_local0 )
	local f8_local1 = f8_arg0._promptStack[f8_local0]
	if f8_local1 and 0 < #f8_local1 then
		f8_arg0:PushButtonPrompt( f8_local1[#f8_local1] )
	end
end

LUI.ButtonHelperText.SetupFocusOnlyButtonPrompt = function ( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg1:addEventHandler( "gain_focus", function ( f7_arg0, f7_arg1 )
		if not LUI.IsLastInputKeyboardMouse( f7_arg1.controller ) then
			f4_arg0:PushButtonPrompt( f4_arg0 )
		end
	end )
	f4_arg1:addEventHandler( "lose_focus", function ( f6_arg0, f6_arg1 )
		f4_arg0:PopButtonPrompt( f4_arg0 )
	end )
	f4_arg1:addEventHandler( "on_close", function ( f5_arg0 )
		f4_arg0:PopButtonPrompt( f4_arg0 )
	end )
end

local f0_local20 = function ( f3_arg0, f3_arg1 )
	f3_arg0:SetupFocusOnlyButtonPrompt( f3_arg1.focusButton, f3_arg1 )
end

LUI.ButtonHelperText.IsPromptDisplayed = function ( f2_arg0, f2_arg1 )
	local f2_local0 = f2_arg0._promptStack[f2_arg1]
	if f2_local0 then
		f2_local0 = 0 < #f2_arg0._promptStack[f2_arg1]
	end
	return f2_local0
end

LUI.ButtonHelperText.init = function ( f1_arg0, f1_arg1 )
	assert( f1_arg1.controllerIndex )
	f1_arg0._controllerIndex = f1_arg1.controllerIndex
	LUI.ButtonHelperText.super.init( f1_arg0 )
	f1_arg0:addElement( f0_local0( f1_arg0 ) )
	f1_arg0:registerEventHandler( "update_input_type", f1_arg0.RefreshButtonHelpers )
	f1_arg0:registerEventHandler( "add_button_helper_text", f1_arg0.PushButtonPrompt )
	f1_arg0:registerEventHandler( "setup_focus_only_button_prompt", f0_local0 )
	f1_arg0._promptStack = {}
end

