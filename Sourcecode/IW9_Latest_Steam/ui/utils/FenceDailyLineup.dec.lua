-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
module( ..., package.seeall )
CoD.PrintModuleLoad( _NAME )
FenceDailyLineup = LUI.Class( LUI.Fence )
FenceDailyLineup.init = function ( f4_arg0 )
	LUI.Fence.init( f4_arg0 )
end

FenceDailyLineup.Start = function ( f3_arg0 )
	DebugPrint( "FenceDailyLineup.Start" )
	if Dvar[0x1FAB6D9A30481F8]( 0xCD98B8B368C9416 ) and Dvar[0x9E5BE3B4BBA4E0E]( 0xCD98B8B368C9416 ) then
		MOBILE_CHALLENGES.SendDailyLineupResetEvent( Engine[0x45B054C920178E9]() )
	end
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x623C638F8A6660C ) then
		f3_arg0._state = LUI.Fence.STATE.pass
		f3_arg0._shouldRequestPopup = false
		return 
	else
		f3_arg0._shouldRequestPopup = true
		MobileDailyLineupUtils.usingOnlineEventFramework = Events[0x40C5B40AB269421] ~= nil
	end
end

FenceDailyLineup.Stop = function ( f2_arg0 )
	DebugPrint( "FenceDailyLineup.Stop" )
end

FenceDailyLineup.UpdateState = function ( f1_arg0 )
	if DataSources.frontEnd.mobile.ftue.gradualUnlock.dailyLoginDisabled:GetValue( FTUE.GetControllerIndex() ) then
		f1_arg0._state = LUI.Fence.STATE.pass
		return 
	end
	local f1_local0 = Engine[0x45B054C920178E9]()
	if f1_arg0._shouldRequestPopup and Fences[0x6C6D08978B8C65]( f1_local0, "EVENTS_DATA" ) == LUI.Fence.FenceObjectState.PASSING and (not MobileDailyLineupUtils.usingOnlineEventFramework or Events[0x40C5B40AB269421]( f1_local0 )) then
		MobileDailyLineupUtils.ShowDailyLogin( f1_local0 )
		f1_arg0._shouldRequestPopup = false
	end
	if MobileDailyLineupUtils.popupClosed then
		f1_arg0._state = LUI.Fence.STATE.pass
	end
end

LUI.Fence.Register( "dailyLineup", FenceDailyLineup )
LockTable( _M )
