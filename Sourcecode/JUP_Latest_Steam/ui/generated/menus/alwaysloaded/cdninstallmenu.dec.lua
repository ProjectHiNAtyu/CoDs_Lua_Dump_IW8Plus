-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
module( ..., package.seeall )
require( "ui.generated.widgets.loadingspinner" )
local f0_local0 = function ( f26_arg0 )
	local f26_local0 = 1024
	local f26_local1 = 1024 * f26_local0
	local f26_local2 = 1024 * f26_local1
	local f26_local3 = "B"
	if f26_local2 < f26_arg0 then
		f26_arg0 = f26_arg0 / f26_local2
		f26_local3 = "GB"
	elseif f26_local1 < f26_arg0 then
		f26_arg0 = f26_arg0 / f26_local1
		f26_local3 = "MB"
	elseif f26_local0 < f26_arg0 then
		f26_arg0 = f26_arg0 / f26_local0
		f26_local3 = "KB"
	end
	return string.format( "%.2f", f26_arg0 ) .. f26_local3
end

local f0_local1 = function ( f25_arg0 )
	return math.ceil( f25_arg0 / 60 )
end

local f0_local2 = function ( f24_arg0, f24_arg1 )
	local f24_local0 = CDNI[0x24E5B752655352F]()
	local f24_local1 = 0
	local f24_local2 = 0
	local f24_local3 = 0
	if f24_arg1 ~= nil then
		local f24_local4 = f24_arg1.sizeDownloaded
		if not f24_local4 then
			f24_local1 = f24_local4
		else
			f24_local1 = 0
		end
		f24_local4 = f24_arg1.currentSpeed
		if not f24_local4 then
			f24_local2 = f24_local4
		else
			f24_local2 = 0
		end
		f24_local4 = f24_arg1.averageSpeed
		if not f24_local4 then
			f24_local3 = f24_local4
		else
			f24_local3 = 0
		end
	end
	f24_arg0.CurrentSpeedText:setText( Engine[0xED84C33EC5F01EA]( 0x965FD05ACA50FDA, Engine[0x7D3158A9539A355]( f0_local0( f24_local1 ) ), Engine[0x7D3158A9539A355]( f0_local0( f24_local0 ) ), Engine[0x7D3158A9539A355]( f0_local0( f24_local2 ) ) ) )
	if 0 < f24_local3 then
		f24_arg0.RemainingTime:setText( Engine[0xED84C33EC5F01EA]( 0xB1031B188EFC553, math.ceil( (f24_local0 - f24_local1) / f24_local3 / 60 ) ) )
	else
		f24_arg0.RemainingTime:setText( "" )
	end
	local f24_local5 = 0
	if 0 < f24_local0 then
		f24_local5 = f24_local1 / f24_local0
	end
	f24_arg0.ProgressText:setText( math.floor( f24_local5 * 100 ) .. "%" )
	local f24_local6 = f24_arg0.ProgressBarBg:GetAnchorsAndPosition()
	local f24_local7 = (f24_local6.right - f24_local6.left) * f24_local5
	local f24_local8 = f24_arg0.ProgressBar:GetAnchorsAndPosition()
	f24_arg0.ProgressBar:SetAnchorsAndPosition( f24_local8.leftAnchor, f24_local8.rightAnchor, f24_local8.topAnchor, f24_local8.bottomAnchor, f24_local8.left, f24_local8.left + f24_local7, f24_local8.top, f24_local8.bottom )
end

local f0_local3 = function ( f23_arg0 )
	local f23_local0 = CDNI[0x5777728FF2163E1]()
	if f23_local0 and f23_local0 ~= "" then
		f23_arg0.CDNInstallText:setText( f23_local0 )
	end
end

local f0_local4 = function ( f22_arg0 )
	local f22_local0 = CDNI[0xECCE170D8E24ACF]()
	local f22_local1 = CDNI[0x7E1A24FAD4D44CE]()
	if 0 < f22_local1 and f22_local0 ~= f22_local1 then
		f22_arg0.BuildVersion:setText( Engine[0xED84C33EC5F01EA]( 0xE20082C01E57E1, f22_local0 ) .. " -> " .. f22_local1 )
	else
		f22_arg0.BuildVersion:setText( Engine[0xED84C33EC5F01EA]( 0xE20082C01E57E1, f22_local0 ) )
	end
end

local f0_local5 = function ( f21_arg0 )
	local f21_local0 = CDNI[0x9DEDB3D9A375C7D]()
	local f21_local1 = f21_arg0.UsingDev
	local f21_local2 = f21_local1
	f21_local1 = f21_local1.SetVisibility
	local f21_local3
	if f21_local0 then
		f21_local3 = LUI.Visibility.Visible
		if not f21_local3 then
		
		else
			f21_local1( f21_local2, f21_local3 )
		end
	end
	f21_local3 = LUI.Visibility.Hidden
end

local f0_local6 = function ( f16_arg0, f16_arg1, f16_arg2 )
	f16_arg0:registerEventHandler( "cdni_set_state_hint", function ( element, event )
		f16_arg0( element )
	end )
	f16_arg0:registerEventHandler( "cdni_update_download_progress", function ( element, event )
		f16_arg0( element, event )
	end )
	f16_arg0:registerEventHandler( "cdni_update_build_version", function ( element, event )
		f16_arg0( element )
	end )
	f16_arg0:registerEventHandler( "cdni_update_show_using_dev", function ( element, event )
		f16_arg0( element )
	end )
	f0_local0( f16_arg0 )
	f0_local0( f16_arg0 )
	f0_local0( f16_arg0 )
	f0_local0( f16_arg0 )
end

local f0_local7 = function ()
	local f14_local0 = {
		no_close_button = true,
		cancel_will_close = false,
		popup_title = Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ),
		message_text = Engine[0xED84C33EC5F01EA]( 0xD7CF8B44507DBAB )
	}
	local f14_local1 = nil
	if CONDITIONS.IsMobileOrMobileSim() then
		f14_local1 = MenuBuilder.BuildRegisteredType( "mobile_blocking_popup", f14_local0 )
	else
		f14_local0.confirmation_action = function ()
			Engine[0x34C623E28A1C5E7]( Engine[0xED84C33EC5F01EA]( 0xD7CF8B44507DBAB ) )
		end
		
		f14_local1 = MenuBuilder.BuildRegisteredType( "generic_confirmation_popup", f14_local0 )
	end
	f14_local1.id = "CDNIRebootPopup"
	return f14_local1
end

local f0_local8 = function ()
	local f12_local0 = Engine[0x89568FAED505116]()
	local f12_local1 = {
		no_close_button = true,
		cancel_will_close = false,
		popup_title = Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ),
		message_text = CDNI[0x1F7DA1A07DDB966]()
	}
	if not f12_local0 then
		f12_local1.button_text = Engine[0xED84C33EC5F01EA]( 0x5D451FAECCA0F2D )
		f12_local1.confirmation_action = function ()
			Engine[0xDEE6107B26F8BB6]()
		end
		
	end
	local f12_local2 = MenuBuilder.BuildRegisteredType
	local f12_local3
	if f12_local0 then
		f12_local3 = "generic_no_button_popup"
	else
		f12_local3 = "generic_confirmation_popup"
	end
	f12_local2 = f12_local2( f12_local3, f12_local1 )
	f12_local2.id = "CDNIErrorPopup"
	return f12_local2
end

local f0_local9 = function ()
	local f10_local0 = MenuBuilder.BuildRegisteredType( "generic_confirmation_popup", {
		no_close_button = true,
		cancel_will_close = false,
		popup_title = Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ),
		button_text = Engine[0xED84C33EC5F01EA]( 0x7AD98F98A0E4518 ),
		message_text = CDNI[0x1F7DA1A07DDB966](),
		confirmation_action = function ()
			CDNI[0x6DC913C6B53BF22]()
		end
	} )
	f10_local0.id = "CDNIRecoverableErrorPopup"
	return f10_local0
end

local f0_local10 = function ()
	local f8_local0 = MenuBuilder.BuildRegisteredType( "generic_confirmation_popup", {
		no_close_button = true,
		cancel_will_close = false,
		popup_title = Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ),
		button_text = Engine[0xED84C33EC5F01EA]( 0xB91D7DEBAF26AC6 ),
		message_text = CDNI[0x1F7DA1A07DDB966](),
		confirmation_action = function ()
			CDNI[0x75D286F7EC801F6]()
		end
	} )
	f8_local0.id = "CDNIGoToAppStorePopup"
	return f8_local0
end

local f0_local11 = function ()
	local f6_local0 = MenuBuilder.BuildRegisteredType( "generic_confirmation_popup", {
		popup_title = Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ),
		message_text = CDNI[0x1F7DA1A07DDB966](),
		confirmation_action = function ()
			
		end
	} )
	f6_local0.id = "CDNIMessagePopup"
	return f6_local0
end

local f0_local12 = function ()
	local f4_local0 = MenuBuilder.BuildRegisteredType( "generic_confirmation_popup", {
		no_close_button = true,
		cancel_will_close = false,
		popup_title = Engine[0xED84C33EC5F01EA]( 0xD26F22364B0A342 ),
		message_text = Engine[0xED84C33EC5F01EA]( 0xABFB04BC63E74EB, Engine[0x7D3158A9539A355]( f0_local0( CDNI[0x3FC63ED12AB701D]() ) ), Engine[0x7D3158A9539A355]( f0_local0( CDNI[0x24E5B752655352F]() ) ) ),
		button_text = Engine[0xED84C33EC5F01EA]( 0xCD14F04C82634F4 ),
		confirmation_action = function ()
			CDNI[0x9367DEDD0F11948]()
		end
	} )
	f4_local0.id = "CDNICheckDiskSpaceFailedPopup"
	return f4_local0
end

local f0_local13 = function ()
	local f2_local0 = MenuBuilder.BuildRegisteredType( "generic_confirmation_popup", {
		no_close_button = true,
		cancel_will_close = false,
		popup_title = Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ),
		message_text = Engine[0xED84C33EC5F01EA]( 0xD52792FE95C4650, Engine[0x7D3158A9539A355]( f0_local0( CDNI[0x24E5B752655352F]() - CDNI[0x6775D5114BE16CB]() ) ) ),
		button_text = Engine[0xED84C33EC5F01EA]( 0x9F9720417371302 ),
		confirmation_action = function ()
			CDNI[0x1127AEFF0CF7BFE]()
		end
	} )
	f2_local0.id = "CDNICellularDownloadPopup"
	return f2_local0
end

MenuBuilder.registerType( "CDNIRebootPopup", f0_local7 )
MenuBuilder.registerType( "CDNIErrorPopup", f0_local8 )
MenuBuilder.registerType( "CDNIRecoverableErrorPopup", f0_local9 )
MenuBuilder.registerType( "CDNIGoToAppStorePopup", f0_local10 )
MenuBuilder.registerType( "CDNIMessagePopup", f0_local11 )
MenuBuilder.registerType( "CDNICheckDiskSpaceFailedPopup", f0_local12 )
MenuBuilder.registerType( "CDNICellularDownloadPopup", f0_local13 )
function CDNInstallMenu( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = f1_local0.UIMenu.new()
	f1_local2.id = "CDNInstallMenu"
	local f1_local3
	if f1_arg1 then
		f1_local3 = f1_arg1
	else
		f1_local3 = f1_arg1.controllerIndex
	end
	f1_local3 = f1_local0.ValidateControllerIndex( f1_local2, f1_local3 )
	local f1_local4 = f1_local2
	local f1_local5 = nil
	f1_local5 = f1_local0.UIFixedAspectRatioImage.new()
	f1_local5[0x8B72E07B55C3AC0] = "Background"
	f1_local5:SetRGB( 0, 0 )
	f1_local5:setStretchedDimension( f1_local0.UIFixedAspectRatioImage.Dimensions.FILL_SCREEN )
	f1_local5:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -1390, 1390, -642, 642 )
	f1_local2:addElement( f1_local5 )
	f1_local2[0xD4176E7CA246EDD] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local0.UIImage.new()
	f1_local6[0x8B72E07B55C3AC0] = "ProgressBarBg"
	f1_local6:SetRGB( 1315603, 0 )
	f1_local6:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -820, 820, -132.5, -119.5 )
	f1_local2:addElement( f1_local6 )
	f1_local2[0xCD9E48E0697F2C0] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local0.UIImage.new()
	f1_local7[0x8B72E07B55C3AC0] = "ProgressBar"
	f1_local7:SetRGB( 7979888, 0 )
	f1_local7:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -820, -820, -132.5, -119.5 )
	f1_local2:addElement( f1_local7 )
	f1_local2[0x1B657F2A152DBDF] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local0.UIStyledText.new()
	f1_local8[0x8B72E07B55C3AC0] = "ProgressText"
	f1_local8:setText( "", 0 )
	f1_local8:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local8:SetFontSize( 32 * _PT )
	f1_local8:SetMinFontSize( 32 * _PT )
	f1_local8:SetWordWrap( false )
	f1_local8:SetAlignment( f1_local0.Alignment.Center )
	f1_local8:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local8:SetOutlineMinDistance( -0.5, 0 )
	f1_local8:SetOutlineRGB( 1377798, 0 )
	f1_local8:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -98, 98, -112.52, -74.52 )
	f1_local2:addElement( f1_local8 )
	f1_local2[0x45D9CBA4F679975] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local0.UIStyledText.new()
	f1_local9[0x8B72E07B55C3AC0] = "BuildVersion"
	f1_local9:setText( "", 0 )
	f1_local9:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local9:SetFontSize( 28 * _PT )
	f1_local9:SetMinFontSize( 28 * _PT )
	f1_local9:SetWordWrap( false )
	f1_local9:SetAlignment( f1_local0.Alignment.Right )
	f1_local9:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local9:SetOutlineMinDistance( -0.5, 0 )
	f1_local9:SetOutlineRGB( 1377798, 0 )
	f1_local9:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, 655, 851, -88.52, -50.52 )
	f1_local2:addElement( f1_local9 )
	f1_local2[0x488B9D57E6F5D1D] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local0.UIStyledText.new()
	f1_local10[0x8B72E07B55C3AC0] = "DownloadingActivity"
	f1_local10:setText( "", 0 )
	f1_local10:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local10:SetFontSize( 28 * _PT )
	f1_local10:SetMinFontSize( 28 * _PT )
	f1_local10:SetWordWrap( false )
	f1_local10:SetAlignment( f1_local0.Alignment.Left )
	f1_local10:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local10:SetOutlineMinDistance( -0.5, 0 )
	f1_local10:SetOutlineRGB( 1377798, 0 )
	f1_local10:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -851, -116, -88.52, -50.52 )
	f1_local2:addElement( f1_local10 )
	f1_local2[0x57CDE9D76093B76] = f1_local10
	local f1_local11 = nil
	f1_local11 = f1_local0.UIStyledText.new()
	f1_local11[0x8B72E07B55C3AC0] = "UsingDev"
	f1_local11:SetRGB( 16711680, 0 )
	f1_local11:setText( Engine[0xED84C33EC5F01EA]( 0xEE4C2163470D5CA ), 0 )
	f1_local11:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local11:SetFontSize( 24 * _PT )
	f1_local11:SetMinFontSize( 24 * _PT )
	f1_local11:SetWordWrap( false )
	f1_local11:SetAlignment( f1_local0.Alignment.Right )
	f1_local11:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local11:SetOutlineMinDistance( -0.5, 0 )
	f1_local11:SetOutlineRGB( 1377798, 0 )
	f1_local11:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, 655, 851, -119.5, -81.5 )
	f1_local2:addElement( f1_local11 )
	f1_local2[0xE59D832F9A4C966] = f1_local11
	local f1_local12 = nil
	f1_local12 = f1_local0.UIStyledText.new()
	f1_local12[0x8B72E07B55C3AC0] = "CurrentSpeedText"
	f1_local12:setText( "", 0 )
	f1_local12:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local12:SetFontSize( 34 * _PT )
	f1_local12:SetMinFontSize( 34 * _PT )
	f1_local12:SetWordWrap( false )
	f1_local12:SetAlignment( f1_local0.Alignment.Center )
	f1_local12:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local12:SetOutlineMinDistance( -0.5, 0 )
	f1_local12:SetOutlineRGB( 1377798, 0 )
	f1_local12:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -304.94, 305.06, -190, -149 )
	f1_local2:addElement( f1_local12 )
	f1_local2[0xA9113DDD522D586] = f1_local12
	local f1_local13 = nil
	f1_local13 = f1_local0.UIStyledText.new()
	f1_local13[0x8B72E07B55C3AC0] = "RemainingTime"
	f1_local13:setText( "", 0 )
	f1_local13:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local13:SetFontSize( 34 * _PT )
	f1_local13:SetMinFontSize( 34 * _PT )
	f1_local13:SetWordWrap( false )
	f1_local13:SetAlignment( f1_local0.Alignment.Right )
	f1_local13:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local13:SetOutlineMinDistance( -0.5, 0 )
	f1_local13:SetOutlineRGB( 1377798, 0 )
	f1_local13:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, 274, 857, -194.39, -144.39 )
	f1_local2:addElement( f1_local13 )
	f1_local2[0x5270F87438FA31A] = f1_local13
	local f1_local14 = nil
	f1_local14 = f1_local0.UIStyledText.new()
	f1_local14[0x8B72E07B55C3AC0] = "CDNInstallText"
	f1_local14:setText( Engine[0xED84C33EC5F01EA]( 0xE2F353C3DA3D7FE ), 0 )
	f1_local14:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local14:SetFontSize( 36 * _PT )
	f1_local14:SetMinFontSize( 36 * _PT )
	f1_local14:SetWordWrap( false )
	f1_local14:SetAlignment( f1_local0.Alignment.Center )
	f1_local14:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local14:SetOutlineMinDistance( -0.5, 0 )
	f1_local14:SetOutlineRGB( 1377798, 0 )
	f1_local14:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -286.5, 286.5, -232, -195 )
	f1_local2:addElement( f1_local14 )
	f1_local2[0xDA9273AB250CA08] = f1_local14
	local f1_local15 = nil
	f1_local15 = f1_local1.BuildRegisteredType( 0xD195EC7860323B4, {
		controllerIndex = f1_local3
	} )
	f1_local15[0x8B72E07B55C3AC0] = "LoadingSpinner"
	f1_local15:SetScale( -0.2, 0 )
	f1_local15:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, 880, 944, -158, -94 )
	f1_local2:addElement( f1_local15 )
	f1_local2[0xD195EC7860323B4] = f1_local15
	f0_local0( f1_local2, f1_local3, f1_arg1 )
	return f1_local2
end

MenuBuilder.registerType( 0x5E7BC762C0A29D0, CDNInstallMenu )
LockTable( _M )
