-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
CONTEXT_MENU = CONTEXT_MENU or {}
local f0_local0 = function ( f10_arg0, f10_arg1, f10_arg2, f10_arg3, f10_arg4 )
	if f10_arg3.refreshOnFocus then
		f10_arg0:SetupContextualMenu( f10_arg3 )
	else
		f10_arg0:RemoveAllContextualMenuActionsFromElement()
	end
	for f10_local3, f10_local4 in pairs( f10_arg2 ) do
		f10_arg0:AddContextualMenuAction( f10_local4 )
	end
end

CONTEXT_MENU.RemoveContextualMenuOptions = function ( f9_arg0 )
	if f9_arg0.RemoveContextualMenuFromElement then
		f9_arg0:RemoveContextualMenuFromElement()
	end
	f9_arg0._contextualMenuHandlerActive = nil
end

CONTEXT_MENU.SetupContextualMenuOptions = function ( f6_arg0, f6_arg1, f6_arg2, f6_arg3, f6_arg4 )
	if not f6_arg0._contextualMenuHandlerAdded or f6_arg3.refreshOnFocus then
		f6_arg0:SetupContextualMenu( f6_arg3 )
		f6_arg0._contextualMenuButtonOptions = f6_arg4
		f6_arg0._contextualMenuActions = f6_arg2
		f6_arg0._contextualMenuMenuOptions = f6_arg3
		if not f6_arg0._contextualMenuHandlerAdded then
			if f6_arg3 and f6_arg3.supportsGamepad then
				f6_arg0:addEventHandler( "button_over", function ( f8_arg0, f8_arg1 )
					if f8_arg0._contextualMenuHandlerActive then
						f6_arg0( f8_arg0, f6_arg0, f8_arg0._contextualMenuActions, f8_arg0._contextualMenuMenuOptions, f8_arg0._contextualMenuButtonOptions )
					end
				end )
			else
				f6_arg0:addEventHandler( "mouseenter", function ( f7_arg0, f7_arg1 )
					if f7_arg0._contextualMenuHandlerActive then
						f6_arg0( f7_arg0, f6_arg0, f7_arg0._contextualMenuActions, f7_arg0._contextualMenuMenuOptions, f7_arg0._contextualMenuButtonOptions )
					end
				end )
			end
		end
		f0_local0( f6_arg0, f6_arg1, f6_arg0._contextualMenuActions, f6_arg3, f6_arg0._contextualMenuButtonOptions )
		f6_arg0._contextualMenuHandlerAdded = true
	end
	f6_arg0._contextualMenuHandlerActive = true
end

CONTEXT_MENU.ConvertKeysToActionTable = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = {}
	for f5_local4, f5_local5 in ipairs( f5_arg1 ) do
		local f5_local6 = f5_arg0[f5_local5]
		if f5_local6 then
			table.insert( f5_local0, f5_local6( f5_arg2 ) )
		end
	end
	return f5_local0
end

local f0_local1 = function ( f4_arg0, f4_arg1 )
	if f4_arg0 == nil then
		return nil
	else
		local f4_local0 = CONTEXT_MENU.GetSocialActionContextualMenuData( f4_arg0.buttonKeyLibrary, f4_arg0.buttonSearchKeys, f4_arg1 )
		local f4_local1 = LUI.ShallowCopy( f4_arg0 )
		f4_local1.buttonsData = f4_local0
		f4_local1.buttonSearchKeys = nil
		f4_local1.buttonKeyLibrary = nil
		return f4_local1
	end
end

CONTEXT_MENU.GetSocialActionContextualMenuData = function ( f1_arg0, f1_arg1, f1_arg2 )
	local f1_local0 = {}
	for f1_local5, f1_local6 in ipairs( f1_arg1 ) do
		local f1_local7 = SOCIAL.IsKeyForcedInvalid( f1_local6 )
		local f1_local8 = f1_arg0[f1_local6]
		if not f1_local7 and f1_local8 then
			local f1_local4 = f1_local8( f1_arg2 )
			if f1_local4 then
				table.insert( f1_local0, {
					actionName = f1_local4.label,
					actionFunction = f1_local4.action,
					actionParams = f1_arg2,
					conditionFunction = function ( f3_arg0 )
						return not f1_arg0.hideFunc()
					end,
					conditionParams = f1_arg2,
					disableFunction = function ( f2_arg0 )
						return FRIENDS.IsDisabledResult( f1_arg0.disabledFunc() )
					end,
					disableParams = f1_arg2,
					id = f1_local4.id,
					refreshOnAction = f1_local4.refreshOnAction,
					innerMenuData = f0_local0( f1_local4.innerMenuData, f1_arg2 )
				} )
			end
		end
	end
	return f1_local0
end

