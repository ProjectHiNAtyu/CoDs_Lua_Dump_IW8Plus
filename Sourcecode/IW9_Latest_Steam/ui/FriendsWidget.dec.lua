-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
module( ..., package.seeall )
CoD.PrintModuleLoad( _NAME )
function OpenFriendsList( f4_arg0 )
	if IsOnlineMatch() and Engine[0xBE5345D3926D620]() and Engine[0x2DE6F7A69111B92]( f4_arg0 ) then
		if not Engine[0x757E77CA15D6B8F]( f4_arg0 ) then
			LUI.FlowManager.RequestAddMenu( SOCIAL.MENU_NAME, true, f4_arg0 )
		else
			LUI.FlowManager.RequestPopupMenu( nil, "mp_no_guest_popup", false, f4_arg0, false )
		end
	end
end

function online_friends_widget()
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 1, 0, 1, 0, -170, -130, -48, -28 )
	self.id = "online_friends_widget"
	self:registerEventHandler( "menu_create", function ( self, event )
		local f3_local0 = self:getParent()
		if f3_local0 then
			f3_local0:processEvent( {
				clickable = true,
				side = "right",
				name = "add_button_helper_text",
				priority = 4294966296,
				button_ref = "button_alt2",
				helper_text = Engine[0xED84C33EC5F01EA]( 0x235116F3C97886C )
			} )
			if Engine[0x688D9FAA39ECE94]() or Engine[0x9DD5167C6D720F1]() then
				Engine[0xB81A5136C5503E4]( "friends_widget_refresh" )
			end
		end
	end )
	self:AddGamepadEventCallback( "button_alt2", function ( f2_arg0, f2_arg1 )
		OpenFriendsList( f2_arg1.controller )
		return true
	end )
	return self
end

MenuBuilder.registerType( "online_friends_widget", online_friends_widget )
LockTable( _M )
