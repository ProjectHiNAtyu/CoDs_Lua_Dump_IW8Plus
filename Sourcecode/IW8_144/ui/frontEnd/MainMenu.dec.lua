-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
module( ..., package.seeall )
CDN_POPUP_IMAGE = "icon_warning_texture"
POPUP_WITH_UNINSTALL = 1
POPUP_WITH_UNINSTALL_AND_ENABLE = 2
POPUP_WITH_ENABLE = 3
FOCUSED_OPTION_NAME = "TextureDownloadExpander"
FOCUSED_TAB_NAME = "general"
LUI.FlowManager.RegisterFenceGroup( "MainMenu", {
	nil,
	"koreanRating",
	"bootCheck",
	"signIn",
	"gamerProfile",
	"shaderUpload",
	"multiLogin",
	"onlineServices",
	"patch",
	"mpBanned",
	"mainOnlineData",
	"onlineStatsReset",
	"crossPlayEnable",
	"platformServices",
	"exchange",
	"dailyReward",
	"churnReward",
	"contracts"
} )
if Engine.HDGDBCJFG() then
	LUI.FlowManager.RequestSetStack( "MainMenu", {
		{
			name = "MainLockoutMenu"
		}
	} )
end
local f0_local0 = function ( f82_arg0, f82_arg1 )
	THEMES.UpdateTheme( {
		isMainMenu = true
	} )
	f82_arg0.bindButton:addEventHandler( "button_start", function ( f85_arg0, f85_arg1 )
		ACTIONS.OpenOptionsMenu( f85_arg1.controller or controllerIndex )
	end )
	f82_arg0:AddButtonPrompt( {
		clickable = true,
		priority = 4,
		side = "left",
		kbmTooltipPromptOverload = "button_quick_options",
		button_ref = "button_start",
		helper_text = Engine.CBBHFCGDIC( "LUA_MENU/OPTIONS" )
	} )
	if Engine.HDGDBCJFG() then
		f82_arg0:AddButtonPrompt( {
			clickable = true,
			priority = 1,
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU/BACK" )
		} )
		f82_arg0.bindButton:addEventHandler( "button_r3", function ( f84_arg0, f84_arg1 )
			LUI.FlowManager.RequestAddMenu( "GameInstallManager", true, f84_arg1.controller or controllerIndex, false )
		end )
		f82_arg0:AddButtonPrompt( {
			side = "left",
			priority = 3,
			kbmTooltipPromptOverload = "button_r3",
			button_ref = "button_r3",
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU/FILE_MANAGEMENT" )
		}, promptOptions )
	else
		assert( f82_arg0.HelperBar )
		local f82_local0
		if f82_arg0._overrideMenu ~= "" then
			f82_local0 = "LUA_MENU/BACK"
		else
			f82_local0 = "LUA_MENU/QUIT_DESKTOP"
		end
		f82_arg0:AddButtonPrompt( {
			clickable = true,
			priority = 1,
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine.CBBHFCGDIC( f82_local0 )
		} )
		if CONDITIONS.IsBattleNetModifyInstallEnabled() then
			f82_arg0:AddButtonPrompt( {
				clickable = true,
				priority = 3,
				side = "left",
				kbmTooltipPromptOverload = "button_r3",
				button_ref = "button_r3",
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU/MODIFY_INSTALL" )
			} )
		end
		f82_arg0.HelperBar:processEvent( {
			name = "ignore_game_mode_layout",
			controller = controllerIndex
		} )
		LAYOUT.AddAspectRatioFadeFrame( f82_arg0, f82_arg1.controller )
	end
	f82_arg0.bindButton:addEventHandler( "button_alt1", function ( f83_arg0, f83_arg1 )
		ACTIONS.OpenAccessibilityOptionsMenu( f83_arg1.controller or controllerIndex )
	end )
	f82_arg0:AddButtonPrompt( {
		clickable = true,
		priority = 5,
		side = "left",
		button_ref = "button_alt1",
		helper_text = Engine.CBBHFCGDIC( "LUA_MENU/ACCESSIBILITY" )
	} )
	Dvar.DHEGHJJJHI( "ui_skipMainLockout", false )
	Dvar.DHEGHJJJHI( "NNPMRQSQN", true )
	if CONDITIONS.ArePartiesEnabledInMainMenu() then
		if not Lobby.GFFECBCCF() then
			Engine.DAGFFDGFII( "xstartprivateparty", f82_arg1.controller )
		end
		Lobby.EAHFJBBBBD( PartyUIRoot.MAIN_MENU )
	end
	local f82_local0 = LUI.WebViewManager.Instance()
	f82_local0:ResetContext()
end

local f0_local1 = function ()
	Dvar.DHEGHJJJHI( "LPSPMQSNPQ", false )
	Dvar.DHEGHJJJHI( "LSTLQTSSRM", false )
	Dvar.DHEGHJJJHI( "MQNNLTKNTS", false )
end

local f0_local2 = function ()
	if not CONDITIONS.ArePartiesEnabledInMainMenu() then
		Dvar.DHEGHJJJHI( "splitscreen", false )
		Dvar.DHEGHJJJHI( "LTSNLQNRKO", false )
	end
	f0_local0()
end

local f0_local3 = function ()
	Dvar.DHEGHJJJHI( "splitscreen", false )
	Dvar.DHEGHJJJHI( "LTSNLQNRKO", false )
	f0_local0()
end

local f0_local4 = function ( f78_arg0 )
	assert( f78_arg0 )
	Engine.CDGCBCBAJ( "Pressed a Main Menu button", f78_arg0 )
end

function ConfirmOpenCampaignMenu()
	local f76_local0 = Engine.IJEBHJIJF()
	if CONDITIONS.ArePartiesEnabledInMainMenu() and 1 < Engine.JEDFGECDJ() then
		f76_local0 = Lobby.KickPlayersAndGetFirstActiveControllerIndex( f76_local0, true )
	end
	local f76_local1 = ONBOARDING_DATA.GetOnboardingMatureContentData()
	f76_local1.confirmButton.action = function ( f77_arg0, f77_arg1 )
		ACTIONS.LeaveMenu( f77_arg0 )
		LUI.FlowManager.RequestAddMenu( "CampaignMenu", true, f77_arg1, false, nil, false )
	end
	
	LUI.FlowManager.RequestPopupMenu( self, "OnboardingFeaturePopup", true, f76_local0, false, f76_local1 )
end

function ConfirmOpenCoopMenu()
	local f75_local0 = Engine.IJEBHJIJF()
	f0_local0()
	if CONDITIONS.ArePartiesEnabledInMainMenu() then
		f0_local0( f75_local0 )
	end
	Engine.EBCGADABJ()
	if CP.HasSeenIntro( f75_local0, 0 ) == 0 then
		LUI.FlowManager.RequestAddMenu( "CinematicFullscreen", true, f75_local0, false, {
			disableQuickAccess = true,
			cpIntro = true,
			video = "cp_opening_cine_intro"
		} )
	else
		LUI.FlowManager.RequestAddMenu( "CPMainMenu", false, f75_local0, false, nil, true )
	end
end

function OpenMPMainMenu( f73_arg0, f73_arg1, f73_arg2 )
	if CONDITIONS.ShouldCheckDLC() then
		local f73_local0 = function ( f74_arg0, f74_arg1 )
			if Engine.CFHBIHABCB( f74_arg1 ) then
				if CONDITIONS.IsBattleNetModifyInstallEnabled() then
					LUI.FlowManager.RequestPopupMenu( nil, "ModifyBattlenetInstallPopup", true, f74_arg1, false )
				else
					LUI.FlowManager.RequestAddMenu( "GameInstallManager", true, f74_arg1, false )
				end
			end
		end
		
		local f73_local1 = CoD.CheckForMissingMPDataPacks()
		if f73_local1 ~= nil then
			LUI.FlowManager.RequestPopupMenu( f73_arg0, "PopupOK", true, f73_arg1, false, {
				message = f73_local1,
				action = f73_local0
			} )
			return 
		end
	end
	if Dvar.IBEGCHEFE( "NPNQOLKSLP" ) == true then
		LUI.FlowManager.RequestPopupMenu( nil, "live_dialog_text_box", false, nil, false, {
			title = Engine.CBBHFCGDIC( "MENU/NOTICE" ),
			message = Engine.CBBHFCGDIC( "PLATFORM/TU_REQUIRED" )
		}, nil, false, true )
		return 
	end
	local f73_local0 = false
	local f73_local1 = Engine.CGEFDFCIJA()
	if 1 < f73_local1 then
		for f73_local2 = 0, f73_local1 - 1, 1 do
			if not CoD.PartyMemberHasAllMapPacksForMode( f73_local2, CoD.MP_PACKS ) and Engine.CBBGEEFIFI( f73_local2 ) then
				f73_local0 = true
				break
			end
		end
	end
	if f73_local0 then
		LUI.FlowManager.RequestPopupMenu( f73_arg0, "Disband_Party_Enter_DLC_Mode_Popup", true, f73_arg1, false, {
			mpMainMenuOptions = f73_arg2
		} )
	else
		AttemptOpenMPMenuAfterDLCModePopup( f73_arg0, f73_arg1, f73_arg2 )
	end
end

function AttemptOpenMPMenuAfterDLCModePopup( f72_arg0, f72_arg1, f72_arg2 )
	local f72_local0 = Engine.CGEFDFCIJA()
	local f72_local1 = Engine.CBCEBADAJ( CoD.PlayMode.Core )
	if f72_local1 < f72_local0 then
		LUI.FlowManager.RequestPopupMenu( f72_arg0, "OpeningMenuWithHighPrivatePartyMemberCountWarning", true, f72_arg1, false, {
			currentCount = f72_local0,
			maxCount = f72_local1
		} )
	else
		f0_local0()
		if not CONDITIONS.ArePartiesEnabledInMainMenu() then
			f0_local0( f72_arg1 )
		end
		LUI.FlowManager.RequestAddMenu( "MPMainMenu", false, Engine.IJEBHJIJF(), false, f72_arg2 )
	end
end

function OpenLocalPlayOptionsPopup( f71_arg0 )
	local f71_local0 = Engine.IJEBHJIJF()
	if CONDITIONS.ArePartiesEnabledInMainMenu() and 1 < Engine.JEDFGECDJ() then
		f71_local0 = Lobby.KickPlayersAndGetFirstActiveControllerIndex( f71_local0, true )
	end
	LUI.FlowManager.RequestPopupMenu( f71_arg0, "ChooseLocalPlay", false, f71_local0, false, {
		dvarResetFunction = f0_local0
	} )
end

function AttemptOpenCampaignMenu( f69_arg0, f69_arg1 )
	if not (not Engine.DIEEIEFCFF() or Engine.BAJHDFAJJF( CoD.SP_MAP_PACK_1_INDEX )) or Engine.FABABBDBA() then
		
	end
	if CONDITIONS.ShouldCheckDLC() then
		local f69_local0 = function ( f70_arg0, f70_arg1 )
			if Engine.CFHBIHABCB( f70_arg1 ) then
				if CONDITIONS.IsBattleNetModifyInstallEnabled() then
					LUI.FlowManager.RequestPopupMenu( nil, "ModifyBattlenetInstallPopup", true, f70_arg1, false )
				else
					LUI.FlowManager.RequestAddMenu( "GameInstallManager", true, f70_arg1, false )
				end
			end
		end
		
		local f69_local1 = CoD.CheckForMissingSPDataPacks()
		if f69_local1 ~= nil then
			LUI.FlowManager.RequestPopupMenu( f69_arg0, "PopupOK", true, f69_arg1, false, {
				message = f69_local1,
				action = f69_local0
			} )
			return 
		end
	end
	if Dvar.IBEGCHEFE( "MSRRMTLOQP" ) == true then
		LUI.FlowManager.RequestPopupMenu( nil, "live_dialog_text_box", false, nil, false, {
			title = Engine.CBBHFCGDIC( "MENU/NOTICE" ),
			message = Engine.CBBHFCGDIC( "PLATFORM/TU_REQUIRED" )
		}, nil, false, true )
		return 
	end
	local f69_local0 = true
	if CONDITIONS.ArePartiesEnabledInMainMenu() and Lobby.GFFECBCCF() and Lobby.BGIADHIHAG() then
		if Lobby.IsNotAloneInPrivateParty() then
			LUI.FlowManager.RequestPopupMenu( f69_arg0, "ConfirmShouldBreakupPrivateParty", true, f69_arg1, false, {
				yesAction = ConfirmOpenCampaignMenu
			} )
			f69_local0 = false
		elseif 1 < Engine.JEDFGECDJ() then
			LUI.FlowManager.RequestPopupMenu( f69_arg0, "OpeningMenuWithSplitscreenWarning", true, f69_arg1, false, {
				yesAction = ConfirmOpenCampaignMenu
			} )
			f69_local0 = false
		elseif Engine.BJIBIJHDFJ() then
			LUI.FlowManager.RequestPopupMenu( f69_arg0, "OpeningMenuWithSplitscreenPartyMemberWarning", true, f69_arg1, false )
			f69_local0 = false
		end
	end
	if f69_local0 then
		ConfirmOpenCampaignMenu( nil, f69_arg1 )
	end
end

function AttemptOpenCoopMenu( f67_arg0, f67_arg1 )
	if CONDITIONS.ShouldCheckDLC() then
		local f67_local0 = function ( f68_arg0, f68_arg1 )
			if Engine.CFHBIHABCB( f68_arg1 ) then
				if CONDITIONS.IsBattleNetModifyInstallEnabled() then
					LUI.FlowManager.RequestPopupMenu( nil, "ModifyBattlenetInstallPopup", true, f68_arg1, false )
				else
					LUI.FlowManager.RequestAddMenu( "GameInstallManager", true, f68_arg1, false )
				end
			end
		end
		
		Engine.EBCBBHIJHJ()
		local f67_local1 = CoD.CheckForMissingCPDataPacks()
		if f67_local1 ~= nil then
			LUI.FlowManager.RequestPopupMenu( f67_arg0, "PopupOK", true, f67_arg1, false, {
				message = f67_local1,
				action = f67_local0
			} )
			return 
		end
	end
	if Dvar.IBEGCHEFE( "MQNSRRKQOT" ) == true then
		LUI.FlowManager.RequestPopupMenu( nil, "live_dialog_text_box", false, nil, false, {
			title = Engine.CBBHFCGDIC( "MENU/NOTICE" ),
			message = Engine.CBBHFCGDIC( "PLATFORM/TU_REQUIRED" )
		}, nil, false, true )
		return 
	end
	local f67_local0 = false
	local f67_local1 = Engine.CGEFDFCIJA()
	if 1 < f67_local1 then
		for f67_local2 = 0, f67_local1 - 1, 1 do
			if not CoD.PartyMemberHasAllMapPacksForMode( f67_local2, CoD.CP_PACKS ) and Engine.CBBGEEFIFI( f67_local2 ) then
				f67_local0 = true
				break
			end
		end
	end
	if f67_local0 then
		LUI.FlowManager.RequestPopupMenu( f67_arg0, "Disband_Party_Enter_DLC_Mode_Popup", true, f67_arg1, false, nil )
	else
		AttemptOpenCPMenuAfterDLCModePopup( f67_arg0, f67_arg1 )
	end
end

function AttemptOpenCPMenuAfterDLCModePopup( f65_arg0, f65_arg1 )
	local f65_local0 = Engine.CGEFDFCIJA()
	local f65_local1 = Engine.CBCEBADAJ( CoD.PlayMode.Aliens )
	if CONDITIONS.ArePartiesEnabledInMainMenu() then
		if f65_local1 < f65_local0 then
			LUI.FlowManager.RequestPopupMenu( f65_arg0, "OpeningMenuWithHighPrivatePartyMemberCountWarning", true, f65_arg1, false, {
				currentCount = f65_local0,
				maxCount = f65_local1
			} )
		elseif Engine.BJIBIJHDFJ() then
			if Lobby.SplitScreenChecksPassed( f65_arg0, f65_arg1, function ()
				ConfirmOpenCoopMenu()
			end
			 ) then
				ConfirmOpenCoopMenu()
			end
		else
			ConfirmOpenCoopMenu()
		end
	end
end

function DisbandPartyEnterDLCModePopup( f63_arg0, f63_arg1 )
	assert( f63_arg1.controllerIndex )
	local f63_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", {
		title = Engine.CBBHFCGDIC( "MENU/NOTICE" ),
		message = Engine.CBBHFCGDIC( "MENU/DISBANDPARTYENTERDLCMODEPARTYHOST" ),
		yesAction = function ( f64_arg0, f64_arg1 )
			if f63_arg0.mpMainMenuOptions then
				AttemptOpenMPMenuAfterDLCModePopup( f64_arg0, f63_arg0.controllerIndex, f63_arg0.mpMainMenuOptions )
			else
				AttemptOpenCPMenuAfterDLCModePopup( f64_arg0, f63_arg0.controllerIndex )
			end
		end
	} )
	f63_local0.id = "Disband_Party_Enter_DLC_Mode_Popup"
	return f63_local0
end

MenuBuilder.registerType( "Disband_Party_Enter_DLC_Mode_Popup", DisbandPartyEnterDLCModePopup )
local f0_local5 = function ()
	LUI.FlowManager.RequestPopupMenu( nil, "generic_confirmation_popup", false, nil, false, {
		cancel_will_close = false,
		popup_title = Engine.CBBHFCGDIC( "MENU/NOTICE" ),
		message_text = Engine.CBBHFCGDIC( "LUA_MENU/TITLE_UPDATE_AVAILABLE" ),
		button_text = Engine.CBBHFCGDIC( "LUA_MENU/QUIT_DESKTOP" ),
		confirmation_action = function ()
			Engine.DJEDDFJEIG()
		end
	} )
	return "TitleUpdateAvailablePopup"
end

local f0_local6 = function ( f56_arg0 )
	local f56_local0 = "NMKTMRRMKN"
	local f56_local1 = "hasSeenDLCRemasterInfoPopup"
	return {
		name = "DLCRemasterInfoPopup",
		shouldShowFct = function ()
			local f60_local0 = Engine.CIEGIACHAE()
			if not f60_local0 then
				f60_local0 = Engine.DGGIJADHJI()
				if not f60_local0 then
					f60_local0 = Engine.DHHIJGFHF()
					if not f60_local0 then
						f60_local0 = Engine.CJEHADCJDB()
						if not f60_local0 then
							f60_local0 = Engine.BJBBFFIFAC()
						end
					end
				end
			end
			local f60_local1 = Dvar.IBEGCHEFE( f56_arg0 )
			if f60_local1 then
				if Engine.BECCFCBIAA( f56_arg0, f56_arg0 ) ~= 1 then
					if f60_local0 then
						f60_local1 = f60_local0
					else
						f60_local1 = Engine.CFHBIHABCB( f56_arg0 )
					end
				else
					f60_local1 = false
				end
			end
			return f60_local1
		end
		,
		tryShow = function ()
			DebugPrint( "DEBUG Main Menu popups: Opening DLC Remaster Info popup" )
			Engine.DFJDIFJEGA( f56_arg0, 1, f56_arg0 )
			LUI.FlowManager.RequestPopupMenu( element, "GenericConfirmPopup", true, f56_arg0, false, {
				title = Engine.CBBHFCGDIC( "LUA_MENU/DLC_REMASTER_INFO_TITLE" ),
				message = Engine.CBBHFCGDIC( "PLATFORM/DLC_REMASTER_INFO_DESC" ),
				buttons = {
					{
						label = Engine.CBBHFCGDIC( "LUA_MENU_MP/CONFIRM" ),
						action = function ()
							
						end
					}
				}
			}, nil, true, true )
			return "GenericConfirmPopup"
		end
		,
		postShow = function ()
			
		end
		
	}
end

local f0_local7 = function ( f49_arg0, f49_arg1 )
	return {
		name = "XB3CDNPopup",
		shouldShowFct = function ()
			local f55_local0 = Engine.BECCFCBIAA( "hasSeenCDNPopup", f49_arg0 ) == 1
			local f55_local1 = Dvar.IBEGCHEFE( "NKNLTNNMMS" )
			local f55_local2 = 22 <= StreamHTTP.DECHFDIAFC()
			local f55_local3 = StreamHTTP.DDGGFAEGID()
			local f55_local4 = CONDITIONS.UserHasATexturePack() ~= 0
			local f55_local5 = Engine.IDICJHGG()
			f49_arg0.popupVersion = 0
			if f55_local2 or f55_local3 then
				if f55_local4 then
					f49_arg0.popupVersion = POPUP_WITH_UNINSTALL
				else
					return false
				end
			elseif f55_local4 then
				local f55_local6 = f49_arg0
				local f55_local7
				if f55_local5 then
					f55_local7 = POPUP_WITH_UNINSTALL
					if not f55_local7 then
					
					else
						f55_local6.popupVersion = f55_local7
					end
				end
				f55_local7 = POPUP_WITH_UNINSTALL_AND_ENABLE
			else
				if f55_local5 then
					return false
				end
				f49_arg0.popupVersion = POPUP_WITH_ENABLE
			end
			local f55_local6
			if f55_local1 then
				f55_local6 = f55_local1
			else
				f55_local6 = not f55_local0
			end
			return f55_local6
		end
		,
		tryShow = function ()
			Engine.DFJDIFJEGA( "hasSeenCDNPopup", 1, f49_arg0 )
			local f51_local0 = {
				label = Engine.CBBHFCGDIC( "MENU/ENABLE_ON_DEMAND_TEXTURE_STREAMING" ),
				action = function ()
					ACTIONS.OpenOptionsMenu( f51_local0, FOCUSED_TAB_NAME, "", FOCUSED_OPTION_NAME )
				end
			}
			local f51_local1 = {
				label = Engine.CBBHFCGDIC( "MENU/OPEN_TEXTURE_PACKS_UNINSTALL_INSTRUCTIONS" ),
				action = function ()
					LUI.FlowManager.RequestAddMenu( "GameInstallManager", true, f51_local0, false )
				end
			}
			local f51_local2 = {
				label = Engine.CBBHFCGDIC( "MENU/DISMISS" ),
				action = function ()
					
				end
			}
			local f51_local3 = {
				itemImage = CDN_POPUP_IMAGE
			}
			if f49_arg0.popupVersion == POPUP_WITH_UNINSTALL then
				f51_local3.title = Engine.CBBHFCGDIC( "MENU/CDN_STREAMING_BOOTPOPUP_TITLE_TEXTUREPACKSONLY" )
				f51_local3.message = Engine.CBBHFCGDIC( "MENU/CDN_STREAMING_BOOTPOPUP_BODY_TEXTUREPACKSONLY" )
				f51_local3.buttons = {
					f51_local1,
					f51_local2
				}
			elseif f49_arg0.popupVersion == POPUP_WITH_UNINSTALL_AND_ENABLE then
				f51_local3.title = Engine.CBBHFCGDIC( "MENU/CDN_STREAMING_BOOTPOPUP_TITLE" )
				f51_local3.message = Engine.CBBHFCGDIC( "MENU/CDN_STREAMING_BOOTPOPUP_BODY_WITHTEXTUREPACKS" )
				f51_local3.buttons = {
					f51_local1,
					f51_local0,
					f51_local2
				}
			elseif f49_arg0.popupVersion == POPUP_WITH_ENABLE then
				f51_local3.title = Engine.CBBHFCGDIC( "MENU/CDN_STREAMING_BOOTPOPUP_TITLE" )
				f51_local3.message = Engine.CBBHFCGDIC( "MENU/CDN_STREAMING_BOOTPOPUP_BODY_NOTEXTUREPACKS" )
				f51_local3.buttons = {
					f51_local0,
					f51_local2
				}
			else
				DebugPrint( "CDN Popup showed but shouldn't" )
			end
			LUI.FlowManager.RequestPopupMenu( element, "GenericConfirmPopup", true, f49_arg0, false, f51_local3, nil, true, true )
			return "GenericConfirmPopup"
		end
		,
		postShow = function ()
			
		end
		
	}
end

local f0_local8 = function ( f43_arg0, f43_arg1 )
	return {
		name = "PS4CDNPopup",
		shouldShowFct = function ()
			local f48_local0 = Engine.BECCFCBIAA( "hasSeenCDNPopup", f43_arg0 ) == 1
			local f48_local1 = Dvar.IBEGCHEFE( "NKNLTNNMMS" )
			local f48_local2 = 22 <= StreamHTTP.DECHFDIAFC()
			local f48_local3 = StreamHTTP.DDGGFAEGID()
			local f48_local4 = Engine.BDFBGADHAH()
			local f48_local5
			if f48_local1 then
				f48_local5 = f48_local1
			elseif not f48_local0 and not f48_local2 and not f48_local3 then
				f48_local5 = not f48_local4
			else
				f48_local5 = false
			end
			return f48_local5
		end
		,
		tryShow = function ()
			Engine.DFJDIFJEGA( "hasSeenCDNPopup", 1, f43_arg0 )
			local f45_local0 = {
				label = Engine.CBBHFCGDIC( "MENU/ENABLE_ON_DEMAND_TEXTURE_STREAMING" ),
				action = function ()
					ACTIONS.OpenOptionsMenu( f45_local0, FOCUSED_TAB_NAME, "", FOCUSED_OPTION_NAME )
				end
			}
			LUI.FlowManager.RequestPopupMenu( element, "GenericConfirmPopup", true, f43_arg0, false, {
				title = Engine.CBBHFCGDIC( "MENU/CDN_STREAMING_BOOTPOPUP_TITLE" ),
				message = Engine.CBBHFCGDIC( "MENU/CDN_STREAMING_BOOTPOPUP_BODY_NOTEXTUREPACKS" ),
				itemImage = CDN_POPUP_IMAGE,
				buttons = {
					f45_local0,
					{
						label = Engine.CBBHFCGDIC( "MENU/DISMISS" ),
						action = function ()
							
						end
					}
				}
			}, nil, true, true )
			return "GenericConfirmPopup"
		end
		,
		postShow = function ()
			
		end
		
	}
end

local f0_local9 = function ( f42_arg0, f42_arg1 )
	if Engine.CGABICJHAI() and Dvar.IBEGCHEFE( "PTQMQOKQ" ) and Engine.BECCFCBIAA( "hasUpdatedForSQCDN", f42_arg1 ) == 0 then
		local f42_local0 = Engine.BECCFCBIAA( "httpDownloadTexturesEnable", f42_arg1 ) ~= 0
		local f42_local1 = Engine.BECCFCBIAA( "httpDownloadTexturesQuality", f42_arg1 ) ~= 0
		if not f42_local0 then
			Engine.DFJDIFJEGA( "httpDownloadTexturesEnable", 1, f42_arg1 )
			Engine.DFJDIFJEGA( "httpDownloadTexturesQuality", 0, f42_arg1 )
			Dvar.DHEGHJJJHI( "MSRSNMNKQP", true )
		end
		if f42_local0 and not f42_local1 then
			Engine.DFJDIFJEGA( "httpDownloadTexturesQuality", 1, f42_arg1 )
			Dvar.DHEGHJJJHI( "MSRSNMNKQP", true )
		end
		Engine.DFJDIFJEGA( "hasUpdatedForSQCDN", 1, f42_arg1 )
	end
end

local f0_local10 = function ( f41_arg0, f41_arg1 )
	if Dvar.IBEGCHEFE( "LNTLOLLNQN" ) then
		local f41_local0 = Engine.DBFFAEEFGJ()
		local f41_local1 = assert
		local f41_local2
		if f41_local0 then
			f41_local2 = f41_local0
		else
			f41_local2 = f41_local0.flowManager
		end
		f41_local1( f41_local2 )
		f41_local1 = f41_local0.flowManager:GetStackTop( false )
		local f41_local3 = f41_local0.flowManager:GetStackTop( true )
		if f41_local3 and f41_local3.name == "MainMenu" then
			f41_local2 = Dvar.DHEEJCCJBH( "auto_mode" )
			local f41_local4 = nil
			if f41_local2 and f41_local2 ~= "" then
				if f41_local2 == "mp" then
					f41_local4 = MAIN_MENU.GameModeEnumValues.MP
				elseif f41_local2 == "wz" then
					f41_local4 = MAIN_MENU.GameModeEnumValues.BR
				elseif f41_local2 == "cp" then
					f41_local4 = MAIN_MENU.GameModeEnumValues.CP
				elseif f41_local2 == "sp" then
					f41_local4 = MAIN_MENU.GameModeEnumValues.SP
				end
			end
			if f41_local4 then
				local f41_local5 = f41_local4 == MAIN_MENU.GameModeEnumValues.BR
				if not f41_local5 then
					f41_local5 = Engine.ECHHDAIBD( f41_local4 ) == ContentProgressState.INSTALLED
				end
				if f41_local5 then
					if f41_local4 == MAIN_MENU.GameModeEnumValues.MP then
						f41_arg0:OpenMPMainMenu( f41_arg1, {
							activeTabIndex = 0
						} )
					elseif f41_local4 == MAIN_MENU.GameModeEnumValues.BR then
						Lobby.AttemptOpenBRMenu( f41_arg1, {} )
					elseif f41_local4 == MAIN_MENU.GameModeEnumValues.CP then
						f41_arg0:AttemptOpenCoopMenu( f41_arg1 )
					elseif f41_local4 == MAIN_MENU.GameModeEnumValues.SP then
						f41_arg0:AttemptOpenCampaignMenu( f41_arg1 )
					end
				else
					MAIN_MENU.InstallAction( f41_arg0, f41_arg1, f41_local4 )
				end
			end
			Dvar.BDEHAEGHAF( "auto_mode", "" )
		end
	else
		Dvar.BDEHAEGHAF( "auto_mode", "" )
	end
end

local f0_local11 = function ( f40_arg0, f40_arg1 )
	f40_arg0:_doAutoNav( f40_arg1 )
end

local f0_local12 = function ( f11_arg0, f11_arg1, f11_arg2 )
	f11_arg0.AttemptOpenCampaignMenu = AttemptOpenCampaignMenu
	f11_arg0.AttemptOpenCoopMenu = AttemptOpenCoopMenu
	f11_arg0.OpenMPMainMenu = OpenMPMainMenu
	f11_arg0.OpenLocalPlayOptionsPopup = OpenLocalPlayOptionsPopup
	f11_arg0._isDailyChallengesPopupOpened = false
	f11_arg0._isPopupFlowComplete = false
	f11_arg0._magmaUpsellPopupOpened = false
	f11_arg0._canOpenMagmaUpsell = false
	f11_arg0._overrideMenu = f11_arg2.overrideMenu or ""
	f11_arg0._doAutoNav = f0_local0
	f11_arg0.MovedToStackTop = f0_local0
	CoD.CheckAndApplyResetSeasonalPlayerData( f11_arg1 )
	if f11_arg0.MPPlayerDetails and f11_arg0.MPPlayerDetails.HideRankAndProgress then
		f11_arg0.MPPlayerDetails:HideRankAndProgress()
	end
	if CONDITIONS.IsLaunchChunk( f11_arg0 ) then
		ACTIONS.AnimateSequence( f11_arg0, "LaunchChunk" )
	end
	f11_arg0:registerEventHandler( "not_below_blocking_fence", function ( element, event )
		Engine.BIGIHAGAAA()
		if not CONDITIONS.ArePartiesEnabledInMainMenu() then
			Engine.CDGCBCBAJ( "MainMenu menu opened" )
		end
		Dvar.DHEGHJJJHI( "LPSPMQSNPQ", false )
		Engine.CDEBADHJJF()
	end )
	assert( f11_arg0.bindButton )
	if CONDITIONS.ArePartiesEnabledInMainMenu() then
		f11_arg0.isSignInMenu = true
	end
	f11_arg0.bindButton:addEventHandler( "button_secondary", function ( f38_arg0, f38_arg1 )
		if f11_arg0._overrideMenu ~= "" then
			LUI.FlowManager.RequestAddMenu( "MainMenu", false, f11_arg0, true, {
				bypassDuplicateMenuCheck = true
			} )
		elseif Engine.HDGDBCJFG() then
			if CONDITIONS.ArePartiesEnabledInMainMenu() then
				Engine.DAGFFDGFII( "xstopprivateparty 0", f11_arg0 )
				Dvar.DHEGHJJJHI( "LTSNLQNRKO", false )
			end
			LUI.FlowManager.RequestLeaveMenu( f38_arg0, true, true )
		else
			LUI.FlowManager.RequestPopupMenu( f11_arg0, "quit_popmenu", false, f38_arg1.controller )
		end
		return true
	end )
	f11_arg0:addEventHandler( "menu_create", f0_local0 )
	f11_arg0.bindButton:addEventHandler( "button_right_stick", function ( f37_arg0, f37_arg1 )
		if CONDITIONS.IsBattleNetModifyInstallEnabled() then
			LUI.FlowManager.RequestPopupMenu( nil, "ModifyBattlenetInstallPopup", true, f11_arg0, false )
		elseif not CONDITIONS.IsLaunchChunk() then
			local f37_local0 = LUI.FlowManager.GetScopedData( f11_arg0 )
			if f37_local0 and f37_local0.currentSelectedMenuType then
				LUI.FlowManager.RequestAddMenu( "GameInstallManager", true, f11_arg0, false, {
					gameMode = f37_local0.currentSelectedMenuType
				} )
			end
		end
	end )
	Engine.DGGGEGCC()
	if CONDITIONS.ArePartiesEnabledInMainMenu() then
		Engine.EAIBAGFDCD( CoD.PresenceContext.PARTY )
		local f11_local0 = Dvar.DHEEJCCJBH( "MOLPOSLOMO" )
		if not f11_local0 or #f11_local0 == 0 then
			Dvar.BDEHAEGHAF( "MOLPOSLOMO", Dvar.DHEEJCCJBH( "ORMSMKOKL" ) )
		end
	else
		Engine.EAIBAGFDCD( CoD.PresenceContext.NOT_IN_GAME )
	end
	if not Engine.HDGDBCJFG() then
		Engine.BHHAAHFCFC()
		Engine.DDEJECEIBB()
	end
	Engine.CGIHIFHGAF()
	f11_arg0:addEventHandler( "menu_close", function ( f36_arg0, f36_arg1 )
		Engine.EBCGADABJ()
	end )
	if Engine.CGABICJHAI() and Dvar.IBEGCHEFE( "LNQTQQPLRO" ) then
		Engine.CBHCHAFFBG()
	end
	local f11_local0 = function ( f35_arg0 )
		if f11_arg0._overrideMenu and f11_arg0._overrideMenu == "NG" then
			f11_arg0.MainMenuBladeLayout:SetupBlades( f35_arg0, MAIN_MENU.BladeType.Shutter, MAIN_MENU.LayoutWidths.Kronos, MAIN_MENU.BladeDataCW )
			ACTIONS.AnimateSequence( f11_arg0, "KronosLayout" )
		elseif f11_arg0._overrideMenu and f11_arg0._overrideMenu == "MW" then
			f11_arg0.MainMenuBladeLayout:SetupBlades( f35_arg0, MAIN_MENU.BladeType.Shutter, MAIN_MENU.LayoutWidths.Kronos, MAIN_MENU.BladeDataMWCore )
			ACTIONS.AnimateSequence( f11_arg0, "KronosLayout" )
		elseif Dvar.IBEGCHEFE( "wz_enable_blades_refresh" ) then
			f11_arg0.MainMenuBladeLayout:SetupBlades( f35_arg0, MAIN_MENU.BladeType.AccordionRefresh, MAIN_MENU.LayoutWidths.Magma, MAIN_MENU.BladeDataEmbedButtons )
			ACTIONS.AnimateSequence( f11_arg0, "WZRefreshLayout" )
		elseif not Dvar.IBEGCHEFE( "LRKPTLNQTT" ) or Engine.CFHBIHABCB( f35_arg0 ) then
			f11_arg0.MainMenuBladeLayout:SetupBlades( f35_arg0, MAIN_MENU.BladeType.Shutter, MAIN_MENU.LayoutWidths.Kronos, MAIN_MENU.BladeData )
			ACTIONS.AnimateSequence( f11_arg0, "KronosLayout" )
		else
			MAIN_MENU.CleanMagmaBladeNames()
			f11_arg0.MainMenuBladeLayout:SetupBlades( f35_arg0, MAIN_MENU.BladeType.Accordion, MAIN_MENU.LayoutWidths.Magma, MAIN_MENU.BladeDataMagma )
			ACTIONS.AnimateSequence( f11_arg0, "MagmaLayout" )
		end
	end
	
	f11_arg0:addEventHandler( "title_purchased", function ( f34_arg0, f34_arg1 )
		f11_arg0( f11_arg0 )
	end )
	local f11_local1 = LUI.DataSourceInControllerModel.new( "alwaysLoaded.hasPlayerSeenSeasonVideo" )
	local f11_local2 = SEASON.GetSeasonPopupIsResetType( f11_arg1 )
	local f11_local3 = {
		{
			name = "BLM",
			shouldShowFct = function ()
				local f33_local0 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.BLMFullScreenSeen" )
				local f33_local1 = f33_local0:GetValue() or false
				local f33_local2 = CONDITIONS.IsPC( f11_arg0 )
				if f33_local2 then
					f33_local2 = Dvar.IBEGCHEFE( "blm_messaging" )
					if f33_local2 then
						f33_local2 = Dvar.IBEGCHEFE( "blm_messaging_on_pc_blades" )
						if f33_local2 then
							f33_local2 = not f33_local1
						end
					end
				end
				return f33_local2
			end,
			tryShow = function ()
				LUI.FlowManager.RequestPopupMenu( f11_arg0, "BLMFullScreen", true, f11_arg0, false, nil )
				return "BLMFullScreen"
			end,
			postShow = function ()
				
			end
		},
		{
			name = "CinematicFullscreen",
			shouldShowFct = function ()
				local f30_local0 = SEASON.GetCurrentSeasonDataNum()
				if not f30_local0 then
					DebugPrint( "DEBUG SEASON VIDEO: Season value is nil" )
					return false
				end
				if Dvar.IBEGCHEFE( "lui_force_season_intro_video" ) or Dvar.IBEGCHEFE( "lui_force_season_mid_video" ) then
					return true
				elseif f11_arg0:GetValue( f11_arg0 ) then
					DebugPrint( "DEBUG SEASON VIDEO: hasSeenSeasonVideoDataSource value is true." )
					return false
				end
				local f30_local1 = Onboarding.SeasonVideo.WasCompleted( f11_arg0, f11_arg0, f30_local0 )
				local f30_local2 = Onboarding.MidSeasonVideo.WasCompleted( f11_arg0, f11_arg0, f30_local0 )
				local f30_local3
				if f30_local1 then
					f30_local3 = f30_local1
				else
					f30_local3 = f30_local2
				end
				local f30_local4 = Dvar.IBEGCHEFE( "LRSRKSSTTK" )
				local f30_local5 = Dvar.IBEGCHEFE( "MQMRPPKMK" )
				if f30_local3 and Dvar.IBEGCHEFE( "NKMQMOKNRP" ) then
					return false
				elseif not f30_local1 and not f30_local4 then
					return false
				elseif f30_local1 and not f30_local5 then
					return false
				end
				return true
			end,
			tryShow = function ()
				if CONDITIONS.IsDemoBuildOrDevBuildOrAreDevFeaturesEnabled() and not Dvar.IBEGCHEFE( "showSeasonVideoInDev" ) then
					DebugPrint( " DEBUG SEASON VIDEO: Skipping season video because of dev build. Turn on showSeasonVideoInDev dvar to see the video in dev or demo builds" )
					local f27_local0 = false
				end
				if Dvar.IBEGCHEFE( "NPPQOLPPO" ) then
					DebugPrint( "DEBUG SEASON VIDEO: Skipping season video because lui_skip_season_intro_video is turned on" )
					local f27_local0 = false
				end
				local f27_local0 = SEASON.GetCurrentSeasonDataNum()
				if f27_local0 == SEASON.KR15Season and Engine.FABABBDBA() then
					DebugPrint( "DEBUG SEASON VIDEO: Skipping season video because KR15+" )
					local f27_local1 = false
				end
				if f27_local0 <= SEASON.DefaultSeason then
					DebugPrint( "DEBUG SEASON VIDEO: Skipping season video because the current season is invalid. Current Season = " .. tostring( f27_local0 ) )
					local f27_local1 = false
				end
				local f27_local1 = Dvar.IBEGCHEFE( "NRSSTQQSKK" )
				local f27_local2 = function ( f28_arg0, f28_arg1 )
					return function ()
						DebugPrint( "In PostVideoFunc" )
						if Dvar.IBEGCHEFE( "NPLRKNKKOP" ) then
							DebugPrint( "DEBUG SEASON VIDEO: Setting lui_skip_season_video because of autoskipsplashscreen" )
							Dvar.DHEGHJJJHI( "NKMQMOKNRP", true )
						end
						local f29_local0 = LUI.DataSourceInControllerModel.new( "alwaysLoaded.hasPlayerSeenSeasonVideo" )
						f29_local0:SetValue( f28_arg0, true )
						local f29_local1 = SEASON.GetCurrentSeasonDataNum()
						local f29_local2 = false
						if f28_arg0 then
							f29_local2 = Onboarding.MidSeasonVideo:WasCompleted( f28_arg0, f29_local1 )
						else
							f29_local2 = Onboarding.SeasonVideo:WasCompleted( f28_arg0, f29_local1 )
						end
						if f29_local2 ~= nil and not f29_local2 then
							if f28_arg0 then
								DebugPrint( "DEBUG SEASON VIDEO: marking the mid-season video as seen" )
								Onboarding.MidSeasonVideo:MarkCompleted( f28_arg0 )
							else
								DebugPrint( "DEBUG SEASON VIDEO: marking the season intro video as seen" )
								Onboarding.SeasonVideo:MarkCompleted( f28_arg0 )
							end
						end
						if f28_arg0 ~= nil then
							Dvar.DHEGHJJJHI( "NRSSTQQSKK", f28_arg0 )
						end
					end
					
				end
				
				local f27_local3 = StringTable.DIFCHIGDFB( CSV.seasons.file, CSV.seasons.cols.index, f27_local0, CSV.seasons.cols.introVideoName )
				local f27_local4 = Dvar.IBEGCHEFE( "lui_force_season_intro_video" )
				local f27_local5 = Dvar.IBEGCHEFE( "lui_force_season_mid_video" )
				local f27_local6 = false
				local f27_local7 = false
				local f27_local8 = Dvar.IBEGCHEFE( "NONPSKRPRR" )
				if f27_local4 then
					
				elseif f27_local5 then
					f27_local7 = true
					f27_local8 = Dvar.IBEGCHEFE( "TNOQPMNNT" )
					f27_local3 = StringTable.DIFCHIGDFB( CSV.seasons.file, CSV.seasons.cols.index, f27_local0, CSV.seasons.cols.midSeasonVideoName )
				else
					f27_local6 = Onboarding.SeasonVideo.WasCompleted( f11_arg0, f11_arg0, f27_local0 )
					if f27_local6 then
						f27_local3 = StringTable.DIFCHIGDFB( CSV.seasons.file, CSV.seasons.cols.index, f27_local0, CSV.seasons.cols.midSeasonVideoName )
						f27_local6 = Onboarding.MidSeasonVideo.WasCompleted( f11_arg0, f11_arg0, f27_local0 )
						if not f27_local6 then
							f27_local7 = true
							f27_local8 = Dvar.IBEGCHEFE( "TNOQPMNNT" )
						end
					end
				end
				if f27_local6 and Dvar.IBEGCHEFE( "NKMQMOKNRP" ) then
					DebugPrint( "DEBUG SEASON VIDEO: Skipping season video because video is already seen and dvar lui_skip_season_video is set. Current Season = " .. tostring( f27_local0 ) )
					return false
				elseif f27_local6 then
					DebugPrint( "DEBUG SEASON VIDEO: Showing season video even if player already seen it, since dvar lui_skip_season_video is false" )
				end
				if f27_local3 == nil or f27_local3 == "" then
					DebugPrint( "DEBUG SEASON VIDEO: Skipping season video because intro video name is not available" )
					return false
				end
				DebugPrint( "DEBUG SEASON VIDEO: Opening season video" )
				LUI.FlowManager.RequestPopupMenu( f11_arg0, "CinematicFullscreen", true, f11_arg0, false, {
					unskippable = false,
					disableQuickAccess = true,
					skipImmediate = false,
					skipVideoOnPartyJoin = true,
					video = f27_local3,
					onVideoFinished = f27_local2( f11_arg0, f27_local7 ),
					isEncrypted = f27_local8
				} )
				Dvar.DHEGHJJJHI( "NRSSTQQSKK", false )
				return "CinematicFullscreen"
			end,
			postShow = function ()
				f11_arg0( f11_arg0 )
			end
		},
		{
			name = "MagmaUpsellPopup",
			shouldShowFct = function ()
				f11_arg0( f11_arg0 )
				if not Dvar.IBEGCHEFE( "LRONQNKRKM" ) then
					return false
				end
				local f25_local0 = Engine.CFHBIHABCB( f11_arg0 )
				local f25_local1 = Onboarding.WARZONE_TUTORIAL_GAMEPLAY_INITIATED.WasCompleted( f11_arg0, f11_arg0 )
				local f25_local2 = SEASON.GetCurrentSeasonDataNum()
				local f25_local3 = PlayerData.BFFBGAJGD( f11_arg0, CoD.StatsGroup.Ranked )
				local f25_local4 = 0
				if f25_local3 and f25_local3.brUpsellLastSeenSeason then
					f25_local4 = f25_local3.brUpsellLastSeenSeason:get()
				end
				local f25_local5 = f25_local4 < f25_local2
				local f25_local6 = LUI.FlowManager.IsInStack( "BRMainMenu" )
				local f25_local7 = PlayerData.BFFBGAJGD( f11_arg0, CoD.StatsGroup.Ranked )
				if f25_local7 and f25_local7.brUpsellLastSeenSeason then
					f25_local7.brUpsellLastSeenSeason:set( SEASON.GetCurrentSeasonDataNum() )
				end
				local f25_local8
				if not f25_local0 then
					if f25_local1 then
						f25_local8 = f25_local1
					elseif f25_local5 then
						f25_local8 = f25_local5
					else
						f25_local8 = not f25_local6
					end
				else
					f25_local8 = false
				end
				return f25_local8
			end,
			tryShow = function ()
				LUI.FlowManager.RequestPopupMenu( element, "MagmaUpsellPopup", true, f11_arg0, false, {
					isPulsed = false
				} )
				f11_arg0._magmaUpsellPopupOpened = true
				return "MagmaUpsellPopup"
			end,
			postShow = function ()
				
			end
		}
	}
	table.insert( f11_local3, f0_local0( f11_arg1 ) )
	if Dvar.IBEGCHEFE( "TMMMQMMT" ) then
		Engine.DFJDIFJEGA( "hasSeenCDNPopup", 0, f11_arg1 )
		Engine.DFJDIFJEGA( "hasUpdatedForSQCDN", 0, f11_arg1 )
		Dvar.DHEGHJJJHI( "TMMMQMMT", false )
	end
	if Engine.BAHIIBFDDG() then
		table.insert( f11_local3, f0_local0( f11_arg0, f11_arg1 ) )
	elseif Engine.CIEGIACHAE() then
		table.insert( f11_local3, f0_local0( f11_arg0, f11_arg1 ) )
	elseif Engine.CGABICJHAI() then
		f0_local0( f11_arg0, f11_arg1 )
	end
	local f11_local4 = Engine.DBFFAEEFGJ()
	local f11_local5 = assert
	local f11_local6
	if f11_local4 then
		f11_local6 = f11_local4
	else
		f11_local6 = f11_local4.flowManager
	end
	f11_local5( f11_local6 )
	f11_arg0.showNextPopup = function ()
		if not false then
			
		else
			
		end
	end
	
	f11_arg0.showCurrentPopup = function ()
		local f20_local0 = f11_arg0[f11_arg0._currentElementIdx]
		if f20_local0.shouldShowFct() then
			local f20_local1 = f20_local0.tryShow()
			local f20_local2 = f11_arg0.flowManager:GetStackTop( false )
			if f20_local1 and f20_local2 and f20_local2.name == f20_local1 and f20_local2.menu then
				f20_local2.menu:addEventHandler( "on_close", function ()
					local f21_local0 = f20_local0[f20_local0._currentElementIdx]
					if f21_local0.postShow then
						f21_local0.postShow()
					end
					f20_local0.showNextPopup()
				end )
				return true
			elseif f20_local0.postShow then
				f20_local0.postShow()
				Dvar.DHEGHJJJHI( "RMMMKOSTS", true )
			end
		end
		return false
	end
	
	Dvar.DHEGHJJJHI( "RMMMKOSTS", true )
	f11_local5 = true
	if MAIN_MENU.TryShowTitleUpdateAvailablePopup() then
		f11_local5 = false
	else
		Dvar.DHEGHJJJHI( "RMMMKOSTS", false )
	end
	if f11_local5 and Dvar.IBEGCHEFE( "LNTLOLLNQN" ) and Dvar.IBEGCHEFE( "SNORKNQNP" ) then
		local f11_local7 = Dvar.DHEEJCCJBH( "auto_mode" )
		if not f11_local7 and f11_local7 ~= "" and f11_local7 ~= "sp" then
			f11_local5 = false
		end
	end
	if f11_local5 then
		f11_arg0.showNextPopup()
	end
	f11_arg0.openDailyChallengeTimer = LUI.UITimer.new( {
		interval = 1000,
		event = "check_and_open_async_popups"
	} )
	f11_arg0.openDailyChallengeTimer.id = "openDailyChallengeTimer"
	f11_arg0:addElement( f11_arg0.openDailyChallengeTimer )
	local f11_local7 = function ()
		if not f11_arg0._magmaUpsellPopupOpened and f11_arg0._canOpenMagmaUpsell then
			LUI.FlowManager.RequestPopupMenu( element, "MagmaUpsellPopup", true, f11_arg0, false, {
				isPulsed = true
			} )
			f11_arg0._magmaUpsellPopupOpened = true
			f11_arg0._isAnyAsyncPopupOpened = true
		end
	end
	
	f11_arg0:addEventHandler( "check_and_open_async_popups", function ( f18_arg0, f18_arg1 )
		local f18_local0 = Engine.CFHBIHABCB( f11_arg0 )
		local f18_local1 = Onboarding.WARZONE_TUTORIAL_GAMEPLAY_INITIATED.WasCompleted( f11_arg0, f11_arg0 )
		local f18_local2 = f11_arg0.flowManager:GetVisibleMenu()
		if f18_local2 and f18_local2.id ~= "MainMenu" then
			return 
		elseif not f18_local0 and f18_local1 and Dvar.IBEGCHEFE( "OMMSLPNSTR" ) then
			f11_arg0()
		end
	end )
	f11_arg0:addEventHandler( "gain_focus", function ( f17_arg0, f17_arg1 )
		f17_arg0:_doAutoNav( f17_arg1.controller )
	end )
	f11_arg0:addEventHandler( "restore_focus", function ( f16_arg0, f16_arg1 )
		f16_arg0:_doAutoNav( f16_arg1.controller )
		return true
	end )
	f11_arg0:addEventHandler( "open_magma_upsell_pulsed", function ( f15_arg0, f15_arg1 )
		f11_arg0._canOpenMagmaUpsell = true
	end )
	f11_arg0:addEventHandler( "main_menu_background_image_update", function ( f14_arg0, f14_arg1 )
		if f14_arg1 and f14_arg1.imageName and f14_arg1.imageName ~= "" then
			f11_arg0.Background:setImage( RegisterMaterial( f14_arg1.imageName ) )
		end
	end )
	if Dvar.IBEGCHEFE( "MNMTKTRPPP" ) then
		LUI.FlowManager.RequestPopupMenu( nil, "ProgramDetectedErrorPopup", true, f11_arg1, false, {}, nil, true, true )
	end
	f11_arg0:addEventHandler( "OverwolfDetectedEvent", function ( f13_arg0, f13_arg1 )
		LUI.FlowManager.RequestPopupMenu( nil, "ProgramDetectedErrorPopup", true, f11_arg0, false, {}, nil, true, true )
	end )
	f11_local6 = LUI.FlowManager.GetScopedData( f11_arg0 )
	f11_local6.streamerCreated = true
	f11_arg0.HelperBar.Background:SetHandleMouseMove( true )
	f11_arg0.HelperBar.Background.AcceptsFocusType = function ( f12_arg0, f12_arg1 )
		return f12_arg1 == FocusType.MouseOver
	end
	
end

local f0_local13 = function ()
	Dvar.DHEGHJJJHI( "LPSPMQSNPQ", false )
	Dvar.DHEGHJJJHI( "LTSNLQNRKO", true )
	Dvar.DHEGHJJJHI( "LSTLQTSSRM", false )
	Dvar.DHEGHJJJHI( "LNQLRSNMQS", false )
	Dvar.DHEGHJJJHI( "QTQRQPLNK", false )
end

local f0_local14 = function ( f9_arg0, f9_arg1, f9_arg2 )
	local f9_local0 = {
		RegisterMaterial( "main_background_cw" ),
		RegisterMaterial( "main_background_cw_campaign" ),
		RegisterMaterial( "main_background_cw_multiplayer" ),
		RegisterMaterial( "main_background_cw_upsell" ),
		RegisterMaterial( "main_background_cw_zombies" ),
		RegisterMaterial( "main_background_mw" ),
		RegisterMaterial( "main_background_mw_campaign" ),
		RegisterMaterial( "main_background_mw_multiplayer" ),
		RegisterMaterial( "main_background_mw_specops" ),
		RegisterMaterial( "main_background_mw_upsell" ),
		[1] = RegisterMaterial( "main_background_wz" )
	}
	Dvar.DHEGHJJJHI( "MLQNQTRRTK", true )
	if CONDITIONS.IsVanguardRevealed() then
		table.insert( f9_local0, RegisterMaterial( "mw_store_vanguard_upsell_01_preorder" ) )
		table.insert( f9_local0, RegisterMaterial( "mw_store_vanguard_upsell_02_preorder" ) )
		table.insert( f9_local0, RegisterMaterial( "mw_store_vanguard_upsell_03_preorder" ) )
	end
	local streamer = LUI.UIElement.new()
	streamer.id = "background_image_streamer"
	f9_arg0:addElement( streamer )
	f9_arg0.streamer = streamer
	
	f9_arg0.streamer:SetupImageTableStreamer( f9_local0, true )
end

function MainMenu( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "MainMenu"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	f0_local0( self, f1_local1, controller )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:setImage( RegisterMaterial( "frontend_main_menu" ), 0 )
	self:addElement( Background )
	self.Background = Background
	
	local MainMenuBladeLayout = nil
	
	MainMenuBladeLayout = MenuBuilder.BuildRegisteredType( "MainMenuBladeLayout", {
		controllerIndex = f1_local1
	} )
	MainMenuBladeLayout.id = "MainMenuBladeLayout"
	MainMenuBladeLayout:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	self:addElement( MainMenuBladeLayout )
	self.MainMenuBladeLayout = MainMenuBladeLayout
	
	local f1_local5 = nil
	if Engine.DDJFBBJAIG() and CONDITIONS.IsVanguardRevealEventActive() then
		f1_local5 = MenuBuilder.BuildRegisteredType( "VanguardRevealBanner", {
			controllerIndex = f1_local1
		} )
		f1_local5.id = "VanguardRevealBanner"
		f1_local5:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, 0, _1080p * 150 )
		self:addElement( f1_local5 )
		self.VanguardRevealBanner = f1_local5
	end
	local Copyright = nil
	
	Copyright = LUI.UIText.new()
	Copyright.id = "Copyright"
	Copyright:SetRGBFromInt( 14277081, 0 )
	Copyright:SetAlpha( 0, 0 )
	Copyright:setText( Engine.CBBHFCGDIC( "LUA_MENU/LEGAL_COPYRIGHT" ), 0 )
	Copyright:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	Copyright:SetAlignment( LUI.Alignment.Center )
	Copyright:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -79, _1080p * -55 )
	self:addElement( Copyright )
	self.Copyright = Copyright
	
	local f1_local7 = nil
	if CONDITIONS.IsXboxLive() then
		f1_local7 = MenuBuilder.BuildRegisteredType( "PlayerLogIn", {
			controllerIndex = f1_local1
		} )
		f1_local7.id = "Gamertag"
		f1_local7:SetRGBFromTable( SWATCHES.MainMenu.ButtonMain, 0 )
		f1_local7.TextLabel:SetAlignment( LUI.Alignment.Left )
		f1_local7:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 96, _1080p * -96, _1080p * 86, _1080p * 116 )
		self:addElement( f1_local7 )
		self.Gamertag = f1_local7
	end
	local HelperBar = nil
	
	HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	HelperBar.id = "HelperBar"
	HelperBar.Background:SetAlpha( 0.2, 0 )
	HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	self:addElement( HelperBar )
	self.HelperBar = HelperBar
	
	local f1_local9 = nil
	if CONDITIONS.IsUserSignedInDemonware( f1_local1 ) then
		f1_local9 = MenuBuilder.BuildRegisteredType( "MPPlayerDetails", {
			controllerIndex = f1_local1
		} )
		f1_local9.id = "MPPlayerDetails"
		f1_local9:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1404, _1080p * 1824, _1080p * 54, _1080p * 114 )
		self:addElement( f1_local9 )
		self.MPPlayerDetails = f1_local9
	end
	local f1_local10 = nil
	if CONDITIONS.IsSocialEnabledInMainMenu() then
		f1_local10 = MenuBuilder.BuildRegisteredType( "SocialPartyWidget", {
			controllerIndex = f1_local1
		} )
		f1_local10.id = "PartyWidget"
		f1_local10:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1224, _1080p * 1824, _1080p * 94, _1080p * 264 )
		self:addElement( f1_local10 )
		self.PartyWidget = f1_local10
	end
	local f1_local11 = nil
	if CONDITIONS.IsWZWipDvarEnabled() then
		f1_local11 = LUI.UIImage.new()
		f1_local11.id = "WZWipAccentFUIL"
		f1_local11:SetYRotation( 180, 0 )
		f1_local11:SetZRotation( 180, 0 )
		f1_local11:setImage( RegisterMaterial( "ui_mp_br_frontend_fui_left_ch2" ), 0 )
		f1_local11:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, _1080p * 40, _1080p * -512, _1080p * 512 )
		self:addElement( f1_local11 )
		self.WZWipAccentFUIL = f1_local11
	end
	local f1_local12 = nil
	if CONDITIONS.IsWZWipDvarEnabled() then
		f1_local12 = LUI.UIImage.new()
		f1_local12.id = "WZWipAccentFUIR"
		f1_local12:setImage( RegisterMaterial( "ui_mp_br_frontend_fui_right_ch2" ), 0 )
		f1_local12:SetAnchorsAndPosition( 1, 0, 0.5, 0.5, _1080p * -20, 0, _1080p * -512, _1080p * 512 )
		self:addElement( f1_local12 )
		self.WZWipAccentFUIR = f1_local12
	end
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local13 = nil
	Copyright:RegisterAnimationSequence( "ShowCopyright", {
		{
			value = -2.353438279577766E-185,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ShowCopyright = function ()
		menu:AnimateSequence( "ShowCopyright" )
	end
	
	local f1_local14 = nil
	if CONDITIONS.IsUserSignedInDemonware( f1_local1 ) then
		f1_local9:RegisterAnimationSequence( "LaunchChunk", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 100
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 160
			}
		} )
	end
	if CONDITIONS.IsSocialEnabledInMainMenu() then
		f1_local10:RegisterAnimationSequence( "LaunchChunk", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 140
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 310
			}
		} )
	end
	self._sequences.LaunchChunk = function ()
		if CONDITIONS.IsUserSignedInDemonware( menu ) then
			menu:AnimateSequence( "LaunchChunk" )
		end
		if CONDITIONS.IsSocialEnabledInMainMenu() then
			menu:AnimateSequence( "LaunchChunk" )
		end
	end
	
	local f1_local15 = nil
	Background:RegisterAnimationSequence( "MagmaLayout", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.MainMenu.MagmaLayout
		}
	} )
	self._sequences.MagmaLayout = function ()
		menu:AnimateSequence( "MagmaLayout" )
	end
	
	local f1_local16 = nil
	Background:RegisterAnimationSequence( "KronosLayout", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.MainMenu.KronosLayout
		}
	} )
	self._sequences.KronosLayout = function ()
		menu:AnimateSequence( "KronosLayout" )
	end
	
	local f1_local17 = nil
	Background:RegisterAnimationSequence( "WZRefreshLayout", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.MainMenu.KronosLayout
		}
	} )
	self._sequences.WZRefreshLayout = function ()
		menu:AnimateSequence( "WZRefreshLayout" )
	end
	
	self.addButtonHelperFunction = function ( f2_arg0, f2_arg1 )
		f2_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_primary",
			priority = 2,
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU/SELECT" )
		} )
	end
	
	self:addEventHandler( "menu_create", self.addButtonHelperFunction )
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "selfBindButton"
	self:addElement( bindButton )
	self.bindButton = bindButton
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "MainMenu", MainMenu )
LUI.FlowManager.RegisterStackPushBehaviour( "MainMenu", f0_local13 )
LockTable( _M )
