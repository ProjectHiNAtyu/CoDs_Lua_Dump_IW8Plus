-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 17-11-2025 01:22
module( ..., package.seeall )
local f0_local0 = 150
local f0_local1 = 900
local f0_local2 = function ( f14_arg0 )
	local f14_local0 = f14_arg0.participationChallengesData
	local f14_local1 = #f14_arg0.participationChallengesData
	f14_arg0.toComplete = {}
	f14_arg0.Grid:SetNumChildren( f14_local1 )
	f14_arg0.Grid:SetRefreshChild( function ( f15_arg0, f15_arg1, f15_arg2 )
		local f15_local0 = f15_arg1 + 1
		local f15_local1 = f14_arg0[f15_local0]
		f15_arg0._column = f15_arg1
		f15_arg0._challengeIndex = f15_local0
		local f15_local2 = f14_arg0
		local f15_local3
		if f15_local1 then
			f15_local3 = f15_local1.gameSource
			if not f15_local3 then
			
			else
				f15_local2._curGame = f15_local3
				f15_arg0:SetChallengeData( f15_local1 )
				if f15_arg0.shouldShowComplete then
					table.insert( f14_arg0.toComplete, f15_local0 )
				end
				f15_arg0:addEventHandler( "gain_focus", function ( f16_arg0, f16_arg1 )
					f15_arg0.Pips:SetActive( f15_arg0._challengeIndex )
					f15_arg0._selectedChallengeIndex = f15_arg0._challengeIndex
					if LUI.IsLastInputKeyboardMouse( f15_arg0._controllerIndex ) then
						if f15_arg0._challengeIndex == #f15_arg0.participationChallengesData then
							f15_arg0.ArrowRight:LoseFocus( {} )
							f15_arg0.ArrowLeft:SetButtonDisabled( false )
						elseif f15_arg0._challengeIndex == 1 then
							f15_arg0.ArrowLeft:LoseFocus( {} )
							f15_arg0.ArrowRight:SetButtonDisabled( false )
						end
					end
					if f15_arg0.shouldShowComplete then
						f15_arg0:ShowCompleteAnim()
					end
					return true
				end )
				if f15_arg0.ChallengeReward then
					f15_arg0.ChallengeReward:SetupEventHandlers()
				end
				f15_arg0:SetPromptsEnabled( true )
			end
		end
		f15_local3 = nil
	end )
	f14_arg0.Grid:RefreshContent()
end

local f0_local3 = function ( f12_arg0, f12_arg1 )
	f12_arg1 = LUI.clamp( f12_arg1, 1, #f12_arg0.participationChallengesData )
	if f12_arg0._isAnimating or f12_arg0._selectedChallengeIndex == f12_arg1 then
		
	end
	f12_arg0.Grid:SetFocusedPosition( {
		y = 0,
		x = LUI.clamp( f12_arg1 - 1, 0, #f12_arg0.participationChallengesData )
	}, false )
	f12_arg0._isAnimating = true
	local f12_local0 = f12_arg0:Wait( f0_local0 )
	f12_local0.onComplete = function ()
		f12_arg0._isAnimating = false
	end
	
	f12_arg0._selectedChallengeIndex = f12_arg1
end

local f0_local4 = function ( f11_arg0 )
	f0_local0( f11_arg0, f11_arg0._selectedChallengeIndex + 1 )
end

local f0_local5 = function ( f10_arg0 )
	f0_local0( f10_arg0, f10_arg0._selectedChallengeIndex - 1 )
end

local f0_local6 = function ( f7_arg0 )
	f7_arg0.Grid:SetMaxVisibleColumns( 1 )
	f7_arg0.Grid:SetUpdateArrowVisibilityOnRefresh( false )
	f7_arg0.Grid._disableMouseWheel = true
	f7_arg0.Grid:addEventHandler( "gamepad_button", function ( f9_arg0, f9_arg1 )
		if f9_arg1.qualifier == "mousewheel" then
			if f9_arg1.button == "down" then
				f7_arg0( f7_arg0 )
			elseif f9_arg1.button == "up" then
				f7_arg0( f7_arg0 )
			end
		end
	end )
	GRID.SetUpArrowScrolling( f7_arg0, f7_arg0._controllerIndex, {
		numGridItemsShown = 1,
		scrollStepsBack = 0,
		scrollStepsForward = 0.5,
		kbmArrowUI = {
			leftArrow = f7_arg0.ArrowLeft,
			rightArrow = f7_arg0.ArrowRight
		},
		gamePadArrowUI = {
			leftPrompt = f7_arg0.LeftPrompt,
			rightPrompt = f7_arg0.RightPrompt
		}
	} )
	f7_arg0.Grid:SetCustomArrowScrollAmount( 0.05 )
	f7_arg0:registerEventHandler( "navigate_with_pip", function ( element, event )
		f7_arg0( f7_arg0, event.index )
	end )
end

local f0_local7 = function ( f5_arg0, f5_arg1 )
	f5_arg0.participationChallengesData = SEASONAL_EVENT.FilterParticipationChallengesData( f5_arg0._controllerIndex, f5_arg1._participationChallengesData )
	f0_local0( f5_arg0 )
	f5_arg0.MasteryRewardSquareProgressPanel:Setup( f5_arg1._participationChallengesData )
	f5_arg0.Pips:Setup( f5_arg0._controllerIndex, #f5_arg0.participationChallengesData, true )
	f0_local0( f5_arg0 )
	for f5_local3, f5_local4 in ipairs( f5_arg0.toComplete ) do
		local f5_local5 = f5_arg0:Wait( math.max( f0_local0 * f5_local3, 1 ) )
		f5_local5.onComplete = function ()
			f5_arg0._isAnimating = false
			f5_arg0( f5_arg0, f5_arg0 )
		end
		
	end
	f5_local0 = 1
	for f5_local1 = 1, #f5_arg0.participationChallengesData, 1 do
		f5_local0 = f5_local1
		if not f5_arg0.participationChallengesData[f5_local1].isComplete then
			break
		end
	end
	f0_local0( f5_arg0, f5_local0 )
end

local f0_local8 = function ( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg0.SetupData = f0_local0
	f4_arg0.SelectNextChallenge = f0_local0
	f4_arg0.SelectPreviousChallenge = f0_local0
	f4_arg0._controllerIndex = f4_arg1
end

function SeasonalEventParticipationChallengesContainer( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1200 * _1080p, 0, 400 * _1080p )
	self.id = "SeasonalEventParticipationChallengesContainer"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local Backer = nil
	
	Backer = LUI.UIImage.new()
	Backer.id = "Backer"
	Backer:setImage( RegisterMaterial( "logo_cod_wz_s4_event" ), 0 )
	Backer:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1200, 0, _1080p * 400 )
	self:addElement( Backer )
	self.Backer = Backer
	
	local LineTopLeft = nil
	
	LineTopLeft = LUI.UIImage.new()
	LineTopLeft.id = "LineTopLeft"
	LineTopLeft:SetRGBFromTable( SWATCHES.EventPromos.ArmoredEvent, 0 )
	LineTopLeft:SetAlpha( 0.4, 0 )
	LineTopLeft:setImage( RegisterMaterial( "ui_mp_wz_tab_highlight" ), 0 )
	LineTopLeft:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 741, _1080p * 1, _1080p * -1 )
	self:addElement( LineTopLeft )
	self.LineTopLeft = LineTopLeft
	
	local Title = nil
	
	Title = LUI.UIText.new()
	Title.id = "Title"
	Title:SetRGBFromTable( SWATCHES.text.primaryText, 0 )
	Title:setText( Engine.CBBHFCGDIC( "SEASONAL_EVENT_TU_WZ325/PAR_CHALLENGES" ), 0 )
	Title:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	Title:SetAlignment( LUI.Alignment.Left )
	Title:SetOptOutRightToLeftAlignmentFlip( true )
	Title:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 40, _1080p * 388, _1080p * 30, _1080p * 60 )
	self:addElement( Title )
	self.Title = Title
	
	local Grid = nil
	
	Grid = LUI.UIGrid.new( {
		scrollingThresholdX = 1,
		buildArrowsLabel = false,
		maxVelocity = 5000,
		adjustSizeToContent = false,
		scrollingThresholdY = 1,
		wrapX = false,
		maxVisibleColumns = 5,
		maxVisibleRows = 1,
		wrapY = false,
		arrowsVerticalOffset = 0,
		springCoefficient = 400,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "SeasonalEventParticipationChallenge", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		spacingX = _1080p * 50,
		spacingY = _1080p * 50,
		columnWidth = _1080p * 585,
		rowHeight = _1080p * 250,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	Grid.id = "Grid"
	Grid:setUseStencil( true )
	Grid:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 69, _1080p * 654, _1080p * 88, _1080p * 340 )
	self:addElement( Grid )
	self.Grid = Grid
	
	local MasteryRewardSquareProgressPanel = nil
	
	MasteryRewardSquareProgressPanel = MenuBuilder.BuildRegisteredType( "SeasonalEventSquareProgressPanel", {
		controllerIndex = f1_local1
	} )
	MasteryRewardSquareProgressPanel.id = "MasteryRewardSquareProgressPanel"
	MasteryRewardSquareProgressPanel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 725, _1080p * 1237, _1080p * 26, _1080p * 290 )
	self:addElement( MasteryRewardSquareProgressPanel )
	self.MasteryRewardSquareProgressPanel = MasteryRewardSquareProgressPanel
	
	local ArrowLeft = nil
	
	ArrowLeft = MenuBuilder.BuildRegisteredType( "NavigationArrow", {
		controllerIndex = f1_local1
	} )
	ArrowLeft.id = "ArrowLeft"
	ArrowLeft.Arrow:SetZRotation( 90, 0 )
	ArrowLeft:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 24, _1080p * 56, _1080p * 196, _1080p * 228 )
	self:addElement( ArrowLeft )
	self.ArrowLeft = ArrowLeft
	
	local ArrowRight = nil
	
	ArrowRight = MenuBuilder.BuildRegisteredType( "NavigationArrow", {
		controllerIndex = f1_local1
	} )
	ArrowRight.id = "ArrowRight"
	ArrowRight.Arrow:SetZRotation( -90, 0 )
	ArrowRight:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 668, _1080p * 698, _1080p * 196, _1080p * 228 )
	self:addElement( ArrowRight )
	self.ArrowRight = ArrowRight
	
	local LeftPrompt = nil
	
	LeftPrompt = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = "LUA_MENU/PAD_LEFT_TRIGGER_BUTTON",
		controllerIndex = f1_local1
	} )
	LeftPrompt.id = "LeftPrompt"
	LeftPrompt:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	LeftPrompt:setImage( RegisterMaterial( "button_trigger_left" ), 0 )
	LeftPrompt:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 24, _1080p * 56, _1080p * -204, _1080p * -172 )
	self:addElement( LeftPrompt )
	self.LeftPrompt = LeftPrompt
	
	local RightPrompt = nil
	
	RightPrompt = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = "LUA_MENU/PAD_RIGHT_TRIGGER_BUTTON",
		controllerIndex = f1_local1
	} )
	RightPrompt.id = "RightPrompt"
	RightPrompt:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	RightPrompt:setImage( RegisterMaterial( "button_trigger_right" ), 0 )
	RightPrompt:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * 68, _1080p * 100, _1080p * -204, _1080p * -172 )
	self:addElement( RightPrompt )
	self.RightPrompt = RightPrompt
	
	local Pips = nil
	
	Pips = MenuBuilder.BuildRegisteredType( "UnlocksMenuPips", {
		controllerIndex = f1_local1
	} )
	Pips.id = "Pips"
	Pips:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 324, _1080p * 344, _1080p * 359, _1080p * 366 )
	self:addElement( Pips )
	self.Pips = Pips
	
	local LineBottom = nil
	
	LineBottom = LUI.UIImage.new()
	LineBottom.id = "LineBottom"
	LineBottom:SetRGBFromTable( SWATCHES.EventPromos.ArmoredEvent, 0 )
	LineBottom:SetAlpha( 0.4, 0 )
	LineBottom:setImage( RegisterMaterial( "ui_mp_wz_tab_highlight" ), 0 )
	LineBottom:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1065, _1080p * 399, _1080p * 401 )
	self:addElement( LineBottom )
	self.LineBottom = LineBottom
	
	local LineTopRight = nil
	
	LineTopRight = LUI.UIImage.new()
	LineTopRight.id = "LineTopRight"
	LineTopRight:SetRGBFromTable( SWATCHES.EventPromos.ArmoredEvent, 0 )
	LineTopRight:SetAlpha( 0.4, 0 )
	LineTopRight:setImage( RegisterMaterial( "ui_mp_wz_tab_highlight" ), 0 )
	LineTopRight:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1200, _1080p * 962, _1080p * 1, _1080p * -1 )
	self:addElement( LineTopRight )
	self.LineTopRight = LineTopRight
	
	Grid:AddArrow( ArrowRight )
	Grid:AddArrow( ArrowLeft )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "SeasonalEventParticipationChallengesContainer", SeasonalEventParticipationChallengesContainer )
LockTable( _M )
