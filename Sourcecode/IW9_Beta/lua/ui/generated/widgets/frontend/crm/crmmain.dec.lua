-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:01
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.crm.crmlistitem" )
require( "ui.generated.widgets.scrollbar.pip" )
require( "ui.generated.widgets.buttonhighlightbar" )
local f0_local0 = 4
local f0_local1 = function ( f36_arg0 )
	local f36_local0 = f36_arg0._currentMessageIndexDatasource:GetValue( f36_arg0._controllerIndex ) or 0
	return f36_arg0._menuMessageData[f36_local0 + 1], f36_local0
end

local f0_local2 = function ( f35_arg0 )
	local f35_local0
	if CONDITIONS.IsCRMEnabled() and #f35_arg0._menuMessageData ~= 0 then
		f35_local0 = false
	else
		f35_local0 = true
	end
	return f35_local0
end

local f0_local3 = function ( f34_arg0 )
	if f34_arg0.timer then
		f34_arg0.timer:closeTree()
		f34_arg0.timer = nil
	end
	if 0 < #f34_arg0._patchNoteData then
		f34_arg0:SetMinimized( true )
		f34_arg0.MessageText:setText( Engine[0xED84C33EC5F01EA]( 0x2551BBB4F742EFD ) )
	else
		f34_arg0:SetAlpha( 0 )
		f34_arg0._isHidden = true
	end
	f34_arg0.CRMListGrid:SetNumChildren( 0 )
	f34_arg0.CRMListGrid:RefreshContent()
end

local f0_local4 = function ( f31_arg0 )
	if f31_arg0:ShouldHideCRM() then
		f31_arg0:HideCRM()
	else
		if not f31_arg0.timer then
			f31_arg0.timer = LUI.UITimer.new( {
				interval = CRM.viewTime,
				event = {
					name = "scroll_crm",
					controllerIndex = f31_arg0._controllerIndex
				}
			} )
			f31_arg0:addElement( f31_arg0.timer )
		end
		f31_arg0:SetMinimized( false )
		f31_arg0:SetAlpha( 1 )
		f31_arg0.CRMListGrid:SetRefreshChild( function ( f32_arg0, f32_arg1, f32_arg2 )
			local f32_local0 = f31_arg0._menuMessageData[f32_arg1 + 1]
			ACTIONS.AnimateSequence( f32_arg0, "DefaultSequence" )
			f32_arg0:SetLayoutType( f32_local0[CRM.keys.LAYOUT_TYPE] )
			if f32_local0[CRM.keys.LAYOUT_TYPE] == 1 then
				f32_arg0.Title:SetAlpha( 0 )
				f32_arg0.Vignette:SetAlpha( 0 )
			elseif f32_local0[CRM.keys.LAYOUT_TYPE] == 3 then
				ACTIONS.AnimateSequence( f32_arg0, "BLM" )
				f32_arg0.Title:SetAlpha( 1 )
				f32_arg0.Title:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xAAAEA65E4B1E712 ) ) )
			else
				f32_arg0.Title:SetAlpha( 1 )
				f32_arg0.Vignette:SetAlpha( 0.75 )
				f32_arg0.Title:setText( f32_local0[CRM.keys.TITLE] )
				if f32_local0[CRM.keys.LAYOUT_TYPE] == 2 then
					ACTIONS.AnimateSequence( f32_arg0, "BundleVer" )
				end
			end
			local f32_local1 = function ()
				local f33_local0 = f32_arg0[CRM.keys.IMAGE]
				if f33_local0 and 0 < #f33_local0 then
					f32_arg0.Background:setImage( RegisterMaterial( f33_local0 ) )
					f32_arg0.Background:SetAlpha( 1 )
				else
					f32_arg0.Background:SetAlpha( 0 )
				end
			end
			
			if f32_local0[CRM.keys.LAYOUT_TYPE] == 2 then
				local f32_local2 = f32_local0[CRM.keys.STORE_ITEM]
				if f32_local2 then
					local f32_local3 = StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f32_local2, CSV.bundleIDs.cols.image )
					if f32_local3 and 0 < #f32_local3 then
						f32_arg0.Background:setImage( RegisterMaterial( f32_local3 ) )
						f32_arg0.Background:SetAlpha( 1 )
					else
						f32_local1()
					end
					if f31_arg0._promotedItems[tostring( f32_local2 )] then
						ACTIONS.AnimateSequence( f32_arg0, "ShowHotItem" )
					end
				else
					f32_local1()
				end
			else
				f32_local1()
			end
			if f32_local0[CRM.keys.LAYOUT_TYPE] ~= 3 then
				ACTIONS.AnimateSequence( f32_arg0, "ButtonIdle" )
			end
		end )
		f31_arg0.CRMListGrid:SetNumChildren( #f31_arg0._menuMessageData )
		f31_arg0.CRMListGrid:RefreshContent()
		for f31_local3, f31_local4 in ipairs( f31_arg0.CRMListGrid:GetBuiltChildren() ) do
			f31_local4:SetFocusable( false )
			f31_local4.m_requireFocusType = FocusType.MouseOver
		end
		f31_local0 = f31_arg0._currentMessageIndexDatasource:GetValue( f31_arg0._controllerIndex ) or 0
		if f31_arg0.CRMListGrid:GetNumChildren() < f31_local0 then
			f31_local0 = 0
			f31_arg0._currentMessageIndexDatasource:SetValue( f31_arg0._controllerIndex, 0 )
		end
		f31_arg0.Pips:Resize( #f31_arg0._menuMessageData )
		f31_arg0.Pips:UpdateChildren( f31_local0, 0 )
		f31_arg0.CRMListGrid:SetPosition( {
			y = 0,
			x = f31_local0
		}, true )
		f31_arg0.CRMListGrid:SetTargetColumn( f31_local0, false, true )
		f31_arg0.MinimizedCount:setText( Engine[0xED84C33EC5F01EA]( 0x74821ADAF79FD0F, f31_local0 + 1, #f31_arg0._menuMessageData ) )
		f31_arg0:UpdateActionPrompt( f31_arg0:GetCurrentMessageData() )
	end
end

local f0_local5 = function ( f30_arg0, f30_arg1 )
	if f30_arg1 == nil then
		ACTIONS.AnimateSequence( f30_arg0, "HideButton" )
		return 
	elseif (not f30_arg1[CRM.keys.ACTION_TITLE] or f30_arg1[CRM.keys.ACTION_TITLE] == "") and (not f30_arg1[CRM.keys.CONTENT_LONG] or f30_arg1[CRM.keys.CONTENT_LONG] == "") then
		ACTIONS.AnimateSequence( f30_arg0, "HideButton" )
	end
	if f30_arg0._isMinimized then
		f30_arg0.MessageText:setText( f30_arg1[CRM.keys.TITLE] )
	else
		f30_arg0.MessageText:setText( f30_arg1[CRM.keys.CONTENT_SHORT] )
	end
end

local f0_local6 = function ( f29_arg0, f29_arg1 )
	local f29_local0 = 16 * _1080p + (LUI.IsLastInputKeyboardMouse( f29_arg0._controllerIndex ) and 10 * _1080p or 0)
	local f29_local1 = f29_arg0.CRMListGrid:GetNumChildren()
	local f29_local2
	if f29_arg1 and f29_local1 > f0_local0 then
		f29_local2 = false
	else
		f29_local2 = true
	end
	local f29_local3 = f29_arg0.Pips
	local f29_local4 = f29_local3
	f29_local3 = f29_local3.SetAlpha
	local f29_local5
	if f29_local2 then
		f29_local5 = 1
	else
		f29_local5 = 0
	end
	f29_local3( f29_local4, f29_local5 )
	f29_local3 = f29_arg0.MinimizedCount
	f29_local4 = f29_local3
	f29_local3 = f29_local3.SetAlpha
	if not f29_local2 then
		f29_local5 = 1
	else
		f29_local5 = 0
	end
	f29_local3( f29_local4, f29_local5 )
	f29_local3 = 0
	local f29_local6 = 430 * _1080p
	f29_local4 = LUI.IsLastInputKeyboardMouse( f29_arg0._controllerIndex ) and 10 * _1080p or -10 * _1080p
	f29_local5 = LAYOUT.GetTextWidth( f29_arg0.ActionPrompt )
	if f29_arg1 then
		f29_arg0.Pips:SetAlignment( LUI.Alignment.Right )
		f29_arg0.Pips:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 13, _1080p * 105, _1080p * -42, _1080p * -38 )
		if f29_local2 then
			f29_local3 = f29_local1 * (LAYOUT.GetElementHeight( f29_arg0.Pips ) + f29_local0 / 2)
			local f29_local7 = f29_arg0.Pips:GetAnchorsAndPosition()
			f29_arg0.Pips:SetRight( f29_local6 - f29_local5 - f29_local4 )
		else
			f29_local3 = LAYOUT.GetTextWidth( f29_arg0.MinimizedCount ) + f29_local0
			local f29_local7 = f29_arg0.MinimizedCount:GetAnchorsAndPosition()
			f29_arg0.MinimizedCount:SetRight( -(f29_local5 + f29_local4) )
		end
	else
		f29_arg0.Pips:SetAlignment( LUI.Alignment.Left )
		f29_arg0.Pips:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 13, _1080p * 105, _1080p * -71, _1080p * -67 )
		f29_local3 = f29_local3 + f29_local0 / 2
	end
	f29_arg0.MessageText:SetRight( f29_local6 - f29_local5 - f29_local3, 100 )
end

local f0_local7 = function ( f28_arg0, f28_arg1 )
	if f28_arg0._isMinimized ~= f28_arg1 then
		f28_arg0._isMinimized = f28_arg1
		local f28_local0
		if f28_arg1 then
			f28_local0 = "Minimize"
		else
			f28_local0 = "Maximize"
		end
		ACTIONS.AnimateSequence( f28_arg0, f28_local0 )
		f28_arg0:UpdateMinimizedPips( f28_arg1 )
		if 0 < f28_arg0.CRMListGrid:GetNumChildren() then
			local f28_local1 = f28_arg0:GetCurrentMessageData()
			local f28_local2
			if f28_local1 then
				if f28_arg1 then
					f28_local2 = f28_local1[CRM.keys.TITLE]
					if not f28_local2 then
					
					else
						f28_arg0.MessageText:setText( f28_local2 )
					end
				end
				f28_local2 = f28_local1[CRM.keys.CONTENT_SHORT]
				if not f28_local2 then
					f28_local2 = ""
				end
			else
				f28_local2 = ""
			end
			f28_arg0.MessageText:setText( f28_local2 )
		end
	end
end

local f0_local8 = function ( f27_arg0, f27_arg1 )
	if f27_arg1.controller ~= Engine[0x45B054C920178E9]() then
		ACTIONS.AnimateSequence( f27_arg0, "SplitScreenWarningFlash" )
		return 
	elseif 0 < #f27_arg0._menuMessageData or 0 < #f27_arg0._patchNoteData then
		CRM.OpenCRMWindow( LUI.FlowManager.GetCurrentMenu( f27_arg0 ), false )
	end
end

local f0_local9 = function ( f16_arg0, f16_arg1, f16_arg2 )
	assert( f16_arg0.CRMListGrid )
	assert( f16_arg0.Pips )
	f16_arg1 = Engine[0x45B054C920178E9]()
	f16_arg0._controllerIndex = f16_arg1
	f16_arg0._currentMessageIndexDatasource = LUI.DataSourceInGlobalModel.new( "frontEnd.CRM.currentMessageIndex" )
	f16_arg0:setPriority( 10 )
	f16_arg0.CRMListGrid:SetMask( f16_arg0.Mask )
	f16_arg0.GetCurrentMessageData = f0_local0
	f16_arg0.UpdateActionPrompt = f0_local0
	f16_arg0.HideCRM = f0_local0
	f16_arg0.ShouldHideCRM = f0_local0
	f16_arg0.SetMinimized = f0_local0
	f16_arg0.CRMInteraction = f0_local0
	f16_arg0.UpdateMinimizedPips = f0_local0
	f16_arg0._menuMessageData = CRM.GetMenuMessageData()
	f16_arg0._patchNoteData = CRM.GetPatchNoteMessageData()
	f16_arg0._promotedItems = STORE.ParsePromotedItems( f16_arg1 )
	f16_arg0:addAndCallEventHandler( "update_input_type", function ( f26_arg0, f26_arg1 )
		if LUI.IsLastInputKeyboardMouse( f26_arg1.controllerIndex ) then
			f26_arg0.ActionPrompt:setText( "" )
		else
			f26_arg0.ActionPrompt:setText( Engine[0xED84C33EC5F01EA]( 0x596911D2CCB7A91 ) )
			ACTIONS.AnimateSequence( f26_arg0, "MouseUnfocused" )
		end
		f26_arg0:UpdateMinimizedPips( f26_arg0._isMinimized )
	end, {
		controllerIndex = f16_arg1
	} )
	local f16_local0 = function ()
		if 1 < Engine[0x70187FE84AE61FD]() then
			f16_arg0.SplitScreenWarning:SetAlpha( 1 )
		else
			f16_arg0.SplitScreenWarning:SetAlpha( 0 )
		end
	end
	
	local f16_local1 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.privateParty.count" )
	f16_arg0:SubscribeToModel( f16_local1:GetModel( f16_arg1 ), f16_local0, true )
	f0_local0( f16_arg0 )
	f16_arg0:addEventHandler( "update_crm_data", function ( f24_arg0, f24_arg1 )
		f16_arg0( f24_arg0 )
		return true
	end )
	f16_arg0:addEventHandler( "scroll_crm", function ( f23_arg0, f23_arg1 )
		local f23_local0 = LUI.FlowManager.GetVisibleMenu()
		f23_local0 = f23_local0.id
		local f23_local1 = f16_arg0.CRMListGrid:GetNumChildren()
		if f23_local0 ~= "CRMContainer" and f23_local0 ~= "CRMPatchNoteInfo" and 1 < f23_local1 then
			local f23_local2 = f16_arg0._currentMessageIndexDatasource:GetValue( f16_arg0._controllerIndex ) or 0
			local f23_local3
			if f23_local1 - 1 < f23_local2 + 1 then
				f23_local3 = 0
			else
				f23_local3 = f23_local2 + 1
			end
			f16_arg0._currentMessageIndexDatasource:SetValue( f16_arg0, f23_local3 )
			local f23_local4 = f16_arg0( f23_arg0 )
			if f23_local4 == nil then
				return 
			end
			f23_arg0.CRMListGrid:SetPosition( {
				y = 0,
				x = f23_local3
			}, true )
			f23_arg0.CRMListGrid:SetTargetColumn( f23_local3, false, false )
			f23_arg0.Pips:UpdateChildren( f23_local3, 0 )
			f23_arg0.MinimizedCount:setText( Engine[0xED84C33EC5F01EA]( 0x74821ADAF79FD0F, f23_local3 + 1, f23_local1 ) )
			f23_arg0:UpdateActionPrompt( f23_local4 )
		end
	end )
	f16_arg0.messageTimer = LUI.UITimer.new( {
		interval = Dvar[0x22EAAB59AA27E9B]( 0x16AE5F685C7B25C ) * 1000,
		event = {
			name = "send_queued_CRM_message",
			controllerIndex = f16_arg1
		}
	} )
	f16_arg0:addElement( f16_arg0.messageTimer )
	f16_arg0.messageTimer:addEventHandler( "send_queued_CRM_message", function ( f22_arg0, f22_arg1 )
		CRM.SendQueuedMessages()
	end )
	local f16_local2 = LUI.UIBindButton.new()
	f16_local2.id = "selfBindButton"
	f16_arg0:addElement( f16_local2 )
	f16_local2:addEventHandler( "button_right_trigger", function ( f21_arg0, f21_arg1 )
		if f21_arg1.qualifier == "gamepad" then
			f16_arg0( f16_arg0, f21_arg1 )
		end
	end )
	f16_arg0.MouseTrigger:SetHandleMouse( true )
	f16_arg0.MouseTrigger:registerEventHandler( "mouseenter", function ( element, event )
		if not f16_arg0._isMinimized and not f16_arg0._isHidden then
			ACTIONS.AnimateSequence( f16_arg0, "MouseFocusedMaximized" )
			Engine[0xC4146BA76D0F982]( SOUND_SETS.default.gainFocus )
		elseif 0 < #f16_arg0._patchNoteData then
			ACTIONS.AnimateSequence( f16_arg0, "MouseFocusedMinimized" )
			Engine[0xC4146BA76D0F982]( SOUND_SETS.default.gainFocus )
		end
	end )
	f16_arg0.MouseTrigger:registerEventHandler( "mouseleave", function ( element, event )
		ACTIONS.AnimateSequence( f16_arg0, "MouseUnfocused" )
	end )
	f16_arg0.MouseTrigger:registerEventHandler( "leftmousedown", function ( element, event )
		
	end )
	f16_arg0.MouseTrigger:registerEventHandler( "leftmouseup", function ( element, event )
		if event.inside then
			f16_arg0( f16_arg0, event )
		end
	end )
end

States = {
	[0xAD14C6E7156B923] = function ( f5_arg0, f5_arg1 )
		f5_arg0.MinimizedCount:RegisterAnimationSequence( "DefaultSequence", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		local f5_local0 = function ( f15_arg0, f15_arg1 )
			f15_arg0.MinimizedCount:AnimateSequence( "DefaultSequence" )
		end
		
		f5_arg0.MinimizedCount:RegisterAnimationSequence( "Minimize", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * -426
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * -143
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -48
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * -30
			}
		} )
		f5_arg0.Backer:RegisterAnimationSequence( "Minimize", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.Pips:RegisterAnimationSequence( "Minimize", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 1,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.SplitScreenWarning:RegisterAnimationSequence( "Minimize", {
			{
				duration = 200,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -79
			},
			{
				duration = 200,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * -59
			}
		} )
		f5_arg0.Mask:RegisterAnimationSequence( "Minimize", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -42
			}
		} )
		f5_arg0.MouseTrigger:RegisterAnimationSequence( "Minimize", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 253
			},
			{
				duration = 200,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 220
			}
		} )
		local f5_local1 = function ( f14_arg0, f14_arg1 )
			f14_arg0.MinimizedCount:AnimateSequence( "Minimize" )
			f14_arg0.Backer:AnimateSequence( "Minimize" )
			f14_arg0.Pips:AnimateSequence( "Minimize" )
			f14_arg0.SplitScreenWarning:AnimateSequence( "Minimize" )
			f14_arg0.Mask:AnimateSequence( "Minimize" )
			f14_arg0.MouseTrigger:AnimateSequence( "Minimize" )
		end
		
		f5_arg0.ActionPrompt:RegisterAnimationSequence( "Opening", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 0,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 1,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.MessageText:RegisterAnimationSequence( "Opening", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 0,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 1,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.Pips:RegisterAnimationSequence( "Opening", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 0,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 1,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.Mask:RegisterAnimationSequence( "Opening", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -42
			},
			{
				duration = 400,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -275
			}
		} )
		local f5_local2 = function ( f13_arg0, f13_arg1 )
			f13_arg0.ActionPrompt:AnimateSequence( "Opening" )
			f13_arg0.MessageText:AnimateSequence( "Opening" )
			f13_arg0.Pips:AnimateSequence( "Opening" )
			f13_arg0.Mask:AnimateSequence( "Opening" )
		end
		
		f5_arg0.ActionPrompt:RegisterAnimationSequence( "MouseFocusedMaximized", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.genericButton.textFocus
			}
		} )
		f5_arg0.MessageText:RegisterAnimationSequence( "MouseFocusedMaximized", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.genericButton.textFocus
			}
		} )
		f5_arg0.HighlightBottom:RegisterAnimationSequence( "MouseFocusedMaximized", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.HighlightTop:RegisterAnimationSequence( "MouseFocusedMaximized", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		local f5_local3 = function ( f12_arg0, f12_arg1 )
			f12_arg0.ActionPrompt:AnimateSequence( "MouseFocusedMaximized" )
			f12_arg0.MessageText:AnimateSequence( "MouseFocusedMaximized" )
			f12_arg0.HighlightBottom:AnimateSequence( "MouseFocusedMaximized" )
			f12_arg0.HighlightTop:AnimateSequence( "MouseFocusedMaximized" )
		end
		
		f5_arg0.ActionPrompt:RegisterAnimationSequence( "MouseUnfocused", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.HUD.HUDMain
			}
		} )
		f5_arg0.MessageText:RegisterAnimationSequence( "MouseUnfocused", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.HUD.HUDMain
			}
		} )
		f5_arg0.HighlightBottom:RegisterAnimationSequence( "MouseUnfocused", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.HighlightTop:RegisterAnimationSequence( "MouseUnfocused", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.ButtonGlow:RegisterAnimationSequence( "MouseUnfocused", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		local f5_local4 = function ( f11_arg0, f11_arg1 )
			f11_arg0.ActionPrompt:AnimateSequence( "MouseUnfocused" )
			f11_arg0.MessageText:AnimateSequence( "MouseUnfocused" )
			f11_arg0.HighlightBottom:AnimateSequence( "MouseUnfocused" )
			f11_arg0.HighlightTop:AnimateSequence( "MouseUnfocused" )
			f11_arg0.ButtonGlow:AnimateSequence( "MouseUnfocused" )
		end
		
		f5_arg0.ActionPrompt:RegisterAnimationSequence( "HideButton", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		local f5_local5 = function ( f10_arg0, f10_arg1 )
			f10_arg0.ActionPrompt:AnimateSequence( "HideButton" )
		end
		
		f5_arg0.ActionPrompt:RegisterAnimationSequence( "ShowButton", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		local f5_local6 = function ( f9_arg0, f9_arg1 )
			f9_arg0.ActionPrompt:AnimateSequence( "ShowButton" )
		end
		
		f5_arg0.Backer:RegisterAnimationSequence( "Maximize", {
			{
				value = 4.6672616413205735E-62,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.Pips:RegisterAnimationSequence( "Maximize", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 1,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.SplitScreenWarning:RegisterAnimationSequence( "Maximize", {
			{
				duration = 200,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -299
			},
			{
				duration = 200,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * -279
			}
		} )
		f5_arg0.Mask:RegisterAnimationSequence( "Maximize", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -274
			}
		} )
		f5_arg0.MouseTrigger:RegisterAnimationSequence( "Maximize", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Top
			}
		} )
		local f5_local7 = function ( f8_arg0, f8_arg1 )
			f8_arg0.Backer:AnimateSequence( "Maximize" )
			f8_arg0.Pips:AnimateSequence( "Maximize" )
			f8_arg0.SplitScreenWarning:AnimateSequence( "Maximize" )
			f8_arg0.Mask:AnimateSequence( "Maximize" )
			f8_arg0.MouseTrigger:AnimateSequence( "Maximize" )
		end
		
		f5_arg0.SplitScreenWarning:RegisterAnimationSequence( "SplitScreenWarningFlash", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 0,
				duration = -28,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 1,
				duration = -28,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 0,
				duration = -28,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 1,
				duration = -28,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		local f5_local8 = function ( f7_arg0, f7_arg1 )
			f7_arg0.SplitScreenWarning:AnimateSequence( "SplitScreenWarningFlash" )
		end
		
		f5_arg0.MessageBG:RegisterAnimationSequence( "MouseFocusedMinimized", {
			{
				value = 5.29462817E-315,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.MessageText:RegisterAnimationSequence( "MouseFocusedMinimized", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.genericButton.textFocus
			},
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0.ButtonGlow:RegisterAnimationSequence( "MouseFocusedMinimized", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 439
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 212
			}
		} )
		f5_arg0._sequences = {
			DefaultSequence = f5_local0,
			Minimize = f5_local1,
			Opening = f5_local2,
			MouseFocusedMaximized = f5_local3,
			MouseUnfocused = f5_local4,
			HideButton = f5_local5,
			ShowButton = f5_local6,
			Maximize = f5_local7,
			SplitScreenWarningFlash = f5_local8,
			MouseFocusedMinimized = function ( f6_arg0, f6_arg1 )
				f6_arg0.MessageBG:AnimateSequence( "MouseFocusedMinimized" )
				f6_arg0.MessageText:AnimateSequence( "MouseFocusedMinimized" )
				f6_arg0.ButtonGlow:AnimateSequence( "MouseFocusedMinimized" )
			end
		}
		f5_arg0._sequenceLengths = {
			DefaultSequence = 0,
			Maximize = 200,
			MouseUnfocused = 0,
			MouseFocusedMinimized = 0,
			ShowButton = 0,
			SplitScreenWarningFlash = 400,
			HideButton = 0,
			Opening = 400,
			Minimize = 200,
			MouseFocusedMaximized = 0
		}
	end
}
function CRMMain( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 432 * _1080p, 0, 275 * _1080p )
	self.id = "CRMMain"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local MessageBG = nil
	
	MessageBG = LUI.UIImage.new()
	MessageBG.id = "MessageBG"
	MessageBG:SetRGBFromTable( SWATCHES.Reticles.Black, 0 )
	MessageBG:SetAlpha( 0.5, 0 )
	MessageBG:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -55, _1080p * -27 )
	self:addElement( MessageBG )
	self.MessageBG = MessageBG
	
	local ActionPrompt = nil
	
	ActionPrompt = LUI.UIText.new()
	ActionPrompt.id = "ActionPrompt"
	ActionPrompt:setText( Engine[0xED84C33EC5F01EA]( 0x596911D2CCB7A91 ), 0 )
	ActionPrompt:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	ActionPrompt:SetFontSize( 20 * _PT )
	ActionPrompt:SetMinFontSize( 18 * _PT )
	ActionPrompt:SetWordWrap( false )
	ActionPrompt:SetAlignment( LUI.Alignment.Right )
	ActionPrompt:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -134, _1080p * -7, _1080p * -50, _1080p * -30 )
	self:addElement( ActionPrompt )
	self.ActionPrompt = ActionPrompt
	
	local MessageText = nil
	
	MessageText = LUI.UIStyledText.new()
	MessageText.id = "MessageText"
	MessageText:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	MessageText:setText( Engine[0xED84C33EC5F01EA]( 0x18D641B5CB4FE00 ), 0 )
	MessageText:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	MessageText:SetFontSize( 20 * _PT )
	MessageText:SetMinFontSize( 18 * _PT )
	MessageText:SetWordWrap( false )
	MessageText:SetAlignment( LUI.Alignment.Left )
	MessageText:SetOptOutRightToLeftAlignmentFlip( true )
	MessageText:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 9, _1080p * 224, _1080p * -52, _1080p * -30 )
	self:addElement( MessageText )
	self.MessageText = MessageText
	
	local MinimizedCount = nil
	
	MinimizedCount = LUI.UIText.new()
	MinimizedCount.id = "MinimizedCount"
	MinimizedCount:SetRGBFromTable( SWATCHES.Global.keyColor, 0 )
	MinimizedCount:setText( Engine[0xED84C33EC5F01EA]( 0x74821ADAF79FD0F ), 0 )
	MinimizedCount:SetFont( FONTS.GetFont( FONTS.TertiaryMedium.File ) )
	MinimizedCount:SetFontSize( 24 * _PT )
	MinimizedCount:SetMinFontSize( 24 * _PT )
	MinimizedCount:SetWordWrap( false )
	MinimizedCount:SetAlignment( LUI.Alignment.Right )
	MinimizedCount:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -185, _1080p * -143, _1080p * -49, _1080p * -31 )
	self:addElement( MinimizedCount )
	self.MinimizedCount = MinimizedCount
	
	local CRMListGrid = nil
	
	CRMListGrid = LUI.UIGrid.new( {
		maxVisibleRows = 1,
		maxVisibleColumns = 1,
		wrapY = false,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "CRMListItem", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f3_arg0, f3_arg1, f3_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.vertical,
		spacingX = _1080p * 0,
		spacingY = _1080p * 0,
		columnWidth = _1080p * 432,
		rowHeight = _1080p * 240
	} )
	CRMListGrid.id = "CRMListGrid"
	CRMListGrid:SetRowSpacing( 0 )
	CRMListGrid:setUseStencil( false )
	CRMListGrid:SetWraps( nil, false )
	CRMListGrid:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -216, _1080p * 216, _1080p * -285, _1080p * -45 )
	self:addElement( CRMListGrid )
	self.CRMListGrid = CRMListGrid
	
	local Backer = nil
	
	Backer = LUI.UIImage.new()
	Backer.id = "Backer"
	Backer:SetRGBFromInt( 0, 0 )
	Backer:SetAlpha( 0.3, 0 )
	Backer:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -83, _1080p * -54 )
	self:addElement( Backer )
	self.Backer = Backer
	
	local Pips = nil
	
	Pips = LUI.Pips.new( {
		spacing = _1080p * 8,
		direction = LUI.DIRECTION.horizontal,
		alignment = LUI.Alignment.Left,
		buildPip = function ()
			return MenuBuilder.BuildRegisteredType( "Pip", {
				controllerIndex = menu
			} )
		end,
		controllerIndex = f1_local1
	} )
	Pips.id = "Pips"
	Pips:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 13, _1080p * 105, _1080p * -71, _1080p * -67 )
	self:addElement( Pips )
	self.Pips = Pips
	
	local SplitScreenWarning = nil
	
	SplitScreenWarning = LUI.UIText.new()
	SplitScreenWarning.id = "SplitScreenWarning"
	SplitScreenWarning:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	SplitScreenWarning:SetAlpha( 0, 0 )
	SplitScreenWarning:setText( Engine[0xED84C33EC5F01EA]( 0x14883275BA8C87D ), 0 )
	SplitScreenWarning:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	SplitScreenWarning:SetFontSize( 20 * _PT )
	SplitScreenWarning:SetMinFontSize( 18 * _PT )
	SplitScreenWarning:SetWordWrap( false )
	SplitScreenWarning:SetAlignment( LUI.Alignment.Right )
	SplitScreenWarning:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -134, _1080p * -7, _1080p * -299, _1080p * -279 )
	self:addElement( SplitScreenWarning )
	self.SplitScreenWarning = SplitScreenWarning
	
	local Mask = nil
	
	Mask = LUI.UIImage.new()
	Mask.id = "Mask"
	Mask:setImage( RegisterMaterial( 0x6593484FBBF36B ), 0 )
	Mask:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * 215, _1080p * -215, _1080p * -274, _1080p * -39 )
	self:addElement( Mask )
	self.Mask = Mask
	
	local MouseTrigger = nil
	
	MouseTrigger = LUI.UIImage.new()
	MouseTrigger.id = "MouseTrigger"
	MouseTrigger:SetAlpha( 0, 0 )
	MouseTrigger:SetAnchorsAndPosition( 0.5, 0.5, 0, 0, _1080p * -215, _1080p * 215, 0, _1080p * -27 )
	self:addElement( MouseTrigger )
	self.MouseTrigger = MouseTrigger
	
	local HighlightBottom = nil
	
	HighlightBottom = MenuBuilder.BuildRegisteredType( "ButtonHighlightBar", {
		controllerIndex = f1_local1
	} )
	HighlightBottom.id = "HighlightBottom"
	HighlightBottom:SetAlpha( 0, 0 )
	HighlightBottom:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -54, _1080p * -52 )
	self:addElement( HighlightBottom )
	self.HighlightBottom = HighlightBottom
	
	local HighlightTop = nil
	
	HighlightTop = MenuBuilder.BuildRegisteredType( "ButtonHighlightBar", {
		controllerIndex = f1_local1
	} )
	HighlightTop.id = "HighlightTop"
	HighlightTop:SetAlpha( 0, 0 )
	HighlightTop:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -275, _1080p * -273 )
	self:addElement( HighlightTop )
	self.HighlightTop = HighlightTop
	
	local ButtonGlow = nil
	
	ButtonGlow = LUI.UIImage.new()
	ButtonGlow.id = "ButtonGlow"
	ButtonGlow:SetRGBFromTable( SWATCHES.genericButton.backgroundFocus, 0 )
	ButtonGlow:SetAlpha( 0, 0 )
	ButtonGlow:setImage( RegisterMaterial( 0x33B0EA51957B272 ), 0 )
	ButtonGlow:Setup9SliceImage( _1080p * 12, _1080p * 12, 0.25, 0.25 )
	ButtonGlow:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * -8, _1080p * 440, _1080p * 214, _1080p * 255 )
	self:addElement( ButtonGlow )
	self.ButtonGlow = ButtonGlow
	
	CRMListGrid:AddScrollbar( Pips )
	f0_local0( self, f1_local1, controller )
	ACTIONS.AnimateSequence( self, "DefaultSequence" )
	ACTIONS.AnimateSequence( self, "Opening", controller )
	return self
end

MenuBuilder.registerType( "CRMMain", CRMMain )
LockTable( _M )
