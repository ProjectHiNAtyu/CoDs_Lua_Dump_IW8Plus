-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.scrollbar.verticalminimalscrollbar" )
require( "ui.generated.widgets.frontend.mp.mpmenubutton" )
require( "ui.generated.widgets.dynamiclist" )
require( "ui.generated.widgets.frontend.lfp.lfppreferncesheader" )
require( "ui.generated.widgets.frontend.lfp.lfppreferencestoggle" )
require( "ui.generated.widgets.frontend.lfp.lfppreferencesdropdown" )
local f0_local0 = 1
local f0_local1 = 7
local f0_local2 = 2
local f0_local3 = function ( f35_arg0, f35_arg1, f35_arg2, f35_arg3 )
	local f35_local0 = LFP.GetContextMenuButtonFromList( LFP.GetContextMenuButtons( f35_arg0, f35_arg1 ), LFP.CONTEXT_MENU_BUTTONS.START_SEARCH )
	if not f35_local0 then
		return 
	elseif not f35_local0.disabled() then
		f35_local0.buttonAction( f35_arg2, f35_arg3 )
	end
end

local f0_local4 = function ( f31_arg0, f31_arg1 )
	f31_arg0:AddGamepadEventCallback( "button_secondary", function ( f34_arg0, f34_arg1 )
		ACTIONS.LeaveMenu( f31_arg0 )
		return true
	end )
	f31_arg0:AddGamepadEventCallback( "button_alt1", function ( f33_arg0, f33_arg1 )
		ACTIONS.LeaveMenu( f33_arg0 )
		f31_arg0( f31_arg0, f31_arg0, f33_arg0, f33_arg1 )
		return true
	end )
	f31_arg0:AddGamepadEventCallback( "button_action", function ( f32_arg0, f32_arg1 )
		ACTIONS.LeaveMenu( f32_arg0 )
		f31_arg0( f31_arg0, f31_arg0, f32_arg0, f32_arg1 )
		return true
	end )
end

local f0_local5 = function ( f26_arg0 )
	f26_arg0.DynamicList:AddWidget( "Header", {
		adjustContentToFit = false,
		focusable = false,
		widgetOptions = {
			text = Engine[0xED84C33EC5F01EA]( 0x5FCDB2B691FB094 )
		}
	} )
	local f26_local0 = {}
	for f26_local4, f26_local5 in pairs( LFP.IN_GAME_COMMUNICATION_TYPE_DATA ) do
		table.insert( f26_local0, f26_local5.name )
	end
	f26_arg0.DynamicList:AddWidget( "Dropdown", {
		adjustContentToFit = true,
		widgetOptions = {
			dropDownData = {
				optionsList = f26_local0,
				name = Engine[0xED84C33EC5F01EA]( 0x4EDDD20184D0B11 ),
				parent = f26_arg0,
				valueGetter = function ( f30_arg0 )
					return LUI.clamp( LFP.InGameCommunication.GetValue( f30_arg0 ), LFP.InGameCommunication.MIN, LFP.InGameCommunication.MAX )
				end,
				valueSetter = function ( f29_arg0, f29_arg1, f29_arg2 )
					LFP.InGameCommunication.SetValue( f29_arg1, f29_arg2 )
					f26_arg0:dispatchEventToRoot( {
						name = "lfp_preferences_changed",
						immediate = true,
						controller = f29_arg1
					} )
				end
			}
		}
	} )
	f26_local2 = {}
	for f26_local6, f26_local7 in pairs( LanguageInfo ) do
		table.insert( f26_local2, Engine[0xED84C33EC5F01EA]( f26_local7.name ) )
	end
	f26_arg0.DynamicList:AddWidget( "Dropdown", {
		adjustContentToFit = true,
		widgetOptions = {
			dropDownData = {
				isMultiSelect = true,
				optionsList = f26_local2,
				name = Engine[0xED84C33EC5F01EA]( 0xF7E5886E0A03C61 ),
				parent = f26_arg0,
				valueGetter = function ( f28_arg0 )
					return LFP.StringToIndexList( LFP.Language.GetValue( f28_arg0 ) )
				end,
				valueSetter = function ( f27_arg0, f27_arg1, f27_arg2 )
					LFP.Language.SetValue( f27_arg1, LFP.IndexListToString( f27_arg2 ) )
					f26_arg0:dispatchEventToRoot( {
						name = "lfp_preferences_changed",
						immediate = true,
						controller = f27_arg1
					} )
				end,
				multiSelectLimit = LFP.Language.LANGUAGE_SELECT_LIMIT
			}
		}
	} )
end

local f0_local6 = function ( f21_arg0 )
	f21_arg0.DynamicList:AddWidget( "Header", {
		adjustContentToFit = false,
		focusable = false,
		widgetOptions = {
			text = Engine[0xED84C33EC5F01EA]( 0x4FD492661EE6CB2 )
		}
	} )
	local f21_local0 = {}
	for f21_local4, f21_local5 in pairs( LFP.PLAY_STYLES_DATA ) do
		table.insert( f21_local0, f21_local5.name )
	end
	f21_arg0.DynamicList:AddWidget( "Dropdown", {
		adjustContentToFit = true,
		widgetOptions = {
			dropDownData = {
				optionsList = f21_local0,
				name = Engine[0xED84C33EC5F01EA]( 0x848E990ABB9F9FB ),
				parent = f21_arg0,
				valueGetter = function ( f25_arg0 )
					return LUI.clamp( LFP.PrimaryPlaystyle.GetValue( f25_arg0 ), LFP.PrimaryPlaystyle.MIN, LFP.PrimaryPlaystyle.MAX )
				end,
				valueSetter = function ( f24_arg0, f24_arg1, f24_arg2 )
					LFP.PrimaryPlaystyle.SetValue( f24_arg1, f24_arg2 )
					f21_arg0:dispatchEventToRoot( {
						name = "lfp_preferences_changed",
						immediate = true,
						controller = f24_arg1
					} )
				end
			}
		}
	} )
	f21_arg0.DynamicList:AddWidget( "Dropdown", {
		adjustContentToFit = true,
		widgetOptions = {
			dropDownData = {
				optionsList = f21_local0,
				name = Engine[0xED84C33EC5F01EA]( 0xCDEE13BE9ADC4C7 ),
				parent = f21_arg0,
				valueGetter = function ( f23_arg0 )
					return LUI.clamp( LFP.SecondaryPlaystyle.GetValue( f23_arg0 ), LFP.SecondaryPlaystyle.MIN, LFP.SecondaryPlaystyle.MAX )
				end,
				valueSetter = function ( f22_arg0, f22_arg1, f22_arg2 )
					LFP.SecondaryPlaystyle.SetValue( f22_arg1, f22_arg2 )
					f21_arg0:dispatchEventToRoot( {
						name = "lfp_preferences_changed",
						immediate = true,
						controller = f22_arg1
					} )
				end
			}
		}
	} )
end

local f0_local7 = function ( f18_arg0 )
	f18_arg0.DynamicList:AddWidget( "Header", {
		adjustContentToFit = false,
		focusable = false,
		widgetOptions = {
			text = Engine[0xED84C33EC5F01EA]( 0x394369A900209BF )
		}
	} )
	local f18_local0 = {}
	for f18_local4, f18_local5 in pairs( LFP.CROSSPLAY_DATA ) do
		table.insert( f18_local0, f18_local5.name )
	end
	f18_arg0.DynamicList:AddWidget( "ToggleButton", {
		adjustContentToFit = true,
		widgetOptions = {
			toggleButtonData = {
				optionsList = f18_local0,
				name = Engine[0xED84C33EC5F01EA]( 0x394369A900209BF ),
				parent = f18_arg0,
				valueGetter = function ( f20_arg0 )
					return LUI.clamp( LFP.CrossPlayPreference.GetValue( f20_arg0 ), LFP.CrossPlayPreference.ON, LFP.CrossPlayPreference.OFF )
				end,
				valueSetter = function ( f19_arg0, f19_arg1, f19_arg2 )
					LFP.CrossPlayPreference.SetValue( f19_arg1, f19_arg2 )
					f18_arg0:dispatchEventToRoot( {
						name = "lfp_preferences_changed",
						immediate = true,
						controller = f19_arg1
					} )
				end
			}
		}
	} )
end

local f0_local8 = function ( f17_arg0 )
	f0_local0( f17_arg0 )
	f0_local0( f17_arg0 )
end

local f0_local9 = function ( f13_arg0, f13_arg1 )
	f13_arg0.DynamicList:SetupList( {
		maxVisibleColumns = 1,
		maxVisibleRows = 10,
		wrapY = false,
		spacingY = 7,
		alignment = LUI.Alignment.Top
	}, f13_arg0.VerticalMinimalScrollbar )
	f13_arg0.DynamicList:RegisterWidgetType( "Header", function ( f16_arg0, f16_arg1 )
		return MenuBuilder.BuildRegisteredType( "LFPPreferncesHeader", {
			controllerIndex = f13_arg0,
			widgetData = f16_arg1
		} )
	end )
	f13_arg0.DynamicList:RegisterWidgetType( "Dropdown", function ( f15_arg0, f15_arg1 )
		return MenuBuilder.BuildRegisteredType( "LFPPreferencesDropdown", {
			controllerIndex = f13_arg0,
			widgetData = f15_arg1
		} )
	end )
	f13_arg0.DynamicList:RegisterWidgetType( "ToggleButton", function ( f14_arg0, f14_arg1 )
		return MenuBuilder.BuildRegisteredType( "LFPPreferencesToggle", {
			controllerIndex = f13_arg0,
			widgetData = f14_arg1
		} )
	end )
end

local f0_local10 = function ( f12_arg0, f12_arg1 )
	f12_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0x44EB95F7B17037A ) )
	f12_arg0.MenuTitle:SetupBackButton( f12_arg1 )
end

local f0_local11 = function ( f5_arg0, f5_arg1 )
	f5_arg0.DynamicList:addEventHandler( "gamepad_button", function ( f11_arg0, f11_arg1 )
		local f11_local0 = f11_arg0:isInFocus()
		if not f11_local0 then
			f11_local0 = 0 < #f11_arg0:getAllFocusedChildren()
		end
		if not f11_local0 then
			return 
		end
		local f11_local1 = f5_arg0.DynamicList:GetFocusedPositionIndex()
		if CONDITIONS.ButtonUp( f11_arg0, f11_arg1 ) and f11_local1 == f5_arg0 and not f5_arg0.DropdownList then
			f5_arg0._firstElementFocusThreshold = f5_arg0._firstElementFocusThreshold - 1
			if f5_arg0._firstElementFocusThreshold <= 0 then
				ACTIONS.LoseFocus( f5_arg0, f5_arg0.DynamicList.id, f5_arg0 )
				ACTIONS.GainFocus( f5_arg0, f5_arg0.FindPartyButton.id, f5_arg0 )
			end
		elseif CONDITIONS.ButtonDown( f11_arg0, f11_arg1 ) and f11_local1 == f5_arg0 and not f5_arg0.DropdownList then
			f5_arg0._lastElementFocusThreshold = f5_arg0._lastElementFocusThreshold - 1
			if f5_arg0._lastElementFocusThreshold <= 0 then
				ACTIONS.LoseFocus( f5_arg0, f5_arg0.DynamicList.id, f5_arg0 )
				ACTIONS.GainFocus( f5_arg0, f5_arg0.FindPartyButton.id, f5_arg0 )
			end
		elseif CONDITIONS.ButtonUp( f11_arg0, f11_arg1 ) or CONDITIONS.ButtonDown( f11_arg0, f11_arg1 ) then
			f5_arg0._firstElementFocusThreshold = f5_arg0
			f5_arg0._lastElementFocusThreshold = f5_arg0
		end
	end )
	f5_arg0.FindPartyButton:addEventHandler( "gamepad_button", function ( f8_arg0, f8_arg1 )
		local f8_local0 = f8_arg0:isInFocus()
		if not f8_local0 then
			f8_local0 = 0 < #f8_arg0:getAllFocusedChildren()
		end
		if not f8_local0 then
			
		else
			
		end
		if CONDITIONS.ButtonDown( f8_arg0, f8_arg1 ) then
			f5_arg0._findPartyButtonThreshold = f5_arg0._findPartyButtonThreshold - 1
			if f5_arg0._findPartyButtonThreshold <= 0 then
				ACTIONS.LoseFocus( f5_arg0, f5_arg0.FindPartyButton.id, f5_arg0 )
				ACTIONS.GainFocus( f5_arg0, f5_arg0.DynamicList.id, f5_arg0 )
				f5_arg0._wait = f5_arg0:Wait( 1 )
				f5_arg0._wait.onComplete = function ()
					f8_arg0.DynamicList.Grid:SetFocusedPosition( {
						x = 0,
						y = f8_arg0
					}, false )
				end
				
			end
		elseif CONDITIONS.ButtonUp( f8_arg0, f8_arg1 ) then
			f5_arg0._findPartyButtonThreshold = f5_arg0._findPartyButtonThreshold - 1
			if f5_arg0._findPartyButtonThreshold <= 0 then
				ACTIONS.LoseFocus( f5_arg0, f5_arg0.FindPartyButton.id, f5_arg0 )
				ACTIONS.GainFocus( f5_arg0, f5_arg0.DynamicList.id, f5_arg0 )
				f5_arg0._wait = f5_arg0:Wait( 1 )
				f5_arg0._wait.onComplete = function ()
					f8_arg0.DynamicList.Grid:SetFocusedPosition( {
						x = 0,
						y = f8_arg0
					}, false )
				end
				
			end
		end
	end )
	f5_arg0.FindPartyButton:addEventHandler( "gain_focus", function ( f7_arg0, f7_arg1 )
		f5_arg0._findPartyButtonThreshold = f5_arg0
	end )
	f5_arg0.DynamicList:addEventHandler( "gain_focus", function ( f6_arg0, f6_arg1 )
		f5_arg0._firstElementFocusThreshold = f5_arg0
		f5_arg0._lastElementFocusThreshold = f5_arg0
	end )
end

local f0_local12 = function ( f4_arg0, f4_arg1 )
	local f4_local0 = LFP.MenuGeneralState.GetValue( f4_arg1 )
	if not f4_local0 then
		return 
	end
	local f4_local1 = f4_local0 == LFP.MENU_GENERAL_STATES.SEARCHING
	local f4_local2 = f4_arg0.FindPartyButton.Text
	local f4_local3 = f4_local2
	f4_local2 = f4_local2.setText
	local f4_local4 = Engine[0xED84C33EC5F01EA]
	local f4_local5
	if f4_local1 then
		f4_local5 = 0xE70E45F6231BB04
		if not f4_local5 then
		
		else
			f4_local2( f4_local3, f4_local4( f4_local5 ) )
		end
	end
	f4_local5 = 0xBC7D03B8E08C990
end

local f0_local13 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f0_local0( f2_arg0, f2_arg1 )
	f0_local0( f2_arg0 )
	f0_local0( f2_arg0, f2_arg1 )
	f0_local0( f2_arg0, f2_arg1 )
	f0_local0( f2_arg0, f2_arg1 )
	f2_arg0:SubscribeToModel( DataSources.frontEnd.lookingForParty.menuGeneralState:GetModel( f2_arg1 ), function ()
		f2_arg0( f2_arg0, f2_arg0 )
	end )
end

function LFPPreferencesMenu( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "LFPPreferencesMenu"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( Engine[0xED84C33EC5F01EA]( 0x4F036435537DF4F ), 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 80 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local VerticalMinimalScrollbar = nil
	
	VerticalMinimalScrollbar = MenuBuilder.BuildRegisteredType( "VerticalMinimalScrollbar", {
		controllerIndex = f1_local1
	} )
	VerticalMinimalScrollbar.id = "VerticalMinimalScrollbar"
	VerticalMinimalScrollbar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 789.64, _1080p * 800.64, _1080p * 299.03, _1080p * 1013.03 )
	self:addElement( VerticalMinimalScrollbar )
	self.VerticalMinimalScrollbar = VerticalMinimalScrollbar
	
	local FindPartyButton = nil
	
	FindPartyButton = MenuBuilder.BuildRegisteredType( "MPMenuButton", {
		controllerIndex = f1_local1
	} )
	FindPartyButton.id = "FindPartyButton"
	FindPartyButton.Text:setText( Engine[0xED84C33EC5F01EA]( 0xBC7D03B8E08C990 ), 0 )
	FindPartyButton.Description:setText( "", 0 )
	FindPartyButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 92.64, _1080p * 789.64, _1080p * 139.07, _1080p * 239.07 )
	self:addElement( FindPartyButton )
	self.FindPartyButton = FindPartyButton
	
	local Description = nil
	
	Description = LUI.UIText.new()
	Description.id = "Description"
	Description:setText( Engine[0xED84C33EC5F01EA]( 0xE0E9AD7374895C4 ), 0 )
	Description:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	Description:SetFontSize( 24 * _PT )
	Description:SetMinFontSize( 18 * _PT )
	Description:SetWordWrap( false )
	Description:SetAlignment( LUI.Alignment.Left )
	Description:SetVerticalAlignment( LUI.Alignment.Middle )
	Description:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1050.66, _1080p * 1833.66, _1080p * 193.07, _1080p * 236.07 )
	self:addElement( Description )
	self.Description = Description
	
	local Header = nil
	
	Header = LUI.UIText.new()
	Header.id = "Header"
	Header:setText( Engine[0xED84C33EC5F01EA]( 0xFC77D285C63413C ), 0 )
	Header:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	Header:SetFontSize( 44 * _PT )
	Header:SetMinFontSize( 18 * _PT )
	Header:SetWordWrap( false )
	Header:SetAlignment( LUI.Alignment.Left )
	Header:SetVerticalAlignment( LUI.Alignment.Middle )
	Header:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1056.66, _1080p * 1556.66, _1080p * 125.07, _1080p * 193.07 )
	self:addElement( Header )
	self.Header = Header
	
	local DynamicList = nil
	
	DynamicList = MenuBuilder.BuildRegisteredType( "DynamicList", {
		controllerIndex = f1_local1
	} )
	DynamicList.id = "DynamicList"
	DynamicList:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 92.64, _1080p * 785.64, _1080p * 299.03, _1080p * 1013.03 )
	self:addElement( DynamicList )
	self.DynamicList = DynamicList
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "LFPPreferencesMenu", LFPPreferencesMenu )
LockTable( _M )
