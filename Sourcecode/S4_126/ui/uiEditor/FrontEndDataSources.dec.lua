-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
DataSources.frontEnd = {
	MainMenu = {
		SP = {},
		MP = {},
		CP = {},
		LP = {}
	},
	MP = {
		flow = {},
		CAC = {},
		armory = {
			commonCrate = {},
			rareCrate = {},
			zombieCrate = {},
			zombieRareCrate = {}
		},
		commerce = {},
		conquest = {
			round = {}
		},
		headquarters = {
			combatRecord = {}
		},
		prestigeMenu = {},
		codtv = {},
		cwl = {
			drafting = {}
		}
	},
	CP = {
		fortuneCards = {},
		songs = {},
		prestigeMenu = {},
		reticles = {}
	},
	lobby = {}
}
function InitFrontEndDataSources()
	InitCommerceDataSources()
	InitSocialDataSources()
	if CONDITIONS.ArePartiesEnabledInMainMenu() then
		InitPartyDataSources()
	end
	DataSources.frontEnd.primaryPlayerUserName = LUI.DataSourceInGlobalModel.new( "frontend.primaryPlayerName" )
	DataSources.frontEnd.lobby.splitscreenPromptText = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.splitscreenPromptText" )
	DataSources.frontEnd.lobby.inSplitScreen = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.inSplitScreen" )
	if Engine[0x2DA54CF5D6B7F02]() then
		DataSources.debug.drawMenuMap = LUI.DataSourceInGlobalModel.new( "cg.debug.drawMenuMap" )
	end
end

function InitCoreMPFrontEndDataSources()
	if Engine[0xD151EC5B41223B5]() then
		InitCommonMPFrontEndDataSources()
		InitMPCWLDataSources()
		InitConquestDataSources()
		InitHeadquartersDataSources()
		DataSources.frontEnd.MP.usedDoubleXPToken = LUI.DataSourceInControllerModel.new( "frontEnd.MP.usedDoubleXPToken", false )
	end
end

function InitSPFrontEndDataSources()
	
end

function InitCPFrontEndDataSources()
	if Engine[0xCA085C21FCBD7CA]() then
		InitCommonMPFrontEndDataSources()
		InitHeadquartersDataSources()
	end
end

function InitRPFrontEndDataSources()
	
end

function InitCommerceDataSources()
	DataSources.frontEnd.MP.commerce.craftingCurrency = LUI.DataSourceInControllerModel.new( "frontEnd.commerce.currency_" .. tostring( LOOT.CurrencyIDs.SALVAGE ) )
	DataSources.frontEnd.MP.commerce.baseInGameCurrency = LUI.DataSourceInControllerModel.new( "frontEnd.commerce.currency_" .. tostring( LOOT.CurrencyIDs.KEYS ) )
	DataSources.frontEnd.MP.commerce.inGameCurrency = DataSources.frontEnd.MP.commerce.baseInGameCurrency:Filter( "adjusted", CoD.GetAdjustedCurrency )
	DataSources.frontEnd.MP.commerce.premiumCurrency = LUI.DataSourceInControllerModel.new( "frontEnd.commerce.currency_" .. tostring( LOOT.CurrencyIDs.COD_POINTS ) )
end

function InitMPCWLDataSources()
	DataSources.frontEnd.MP.cwl.drafting.countdownTime = LUI.DataSourceInGlobalModel.new( "frontEnd.MP.cwl.drafting.countdownTime" )
end

function MissionCompletedFilter( f14_arg0, f14_arg1 )
	return 0 <= f14_arg0
end

function MedalImageFilter( f13_arg0, f13_arg1 )
	if f13_arg0 == 1 then
		return "mission_medal_bronze"
	elseif f13_arg0 == 2 then
		return "mission_medal_silver"
	elseif f13_arg0 == 3 then
		return "mission_medal_gold"
	else
		return "mission_medal_target"
	end
end

function InitConquestRoundDataSources()
	DataSources.frontEnd.MP.conquest.round.missionXp = LUI.DataSourceInControllerModel.new( "frontEnd.MP.conquest.round.missionXp", 0 )
	DataSources.frontEnd.MP.conquest.round.tierCompleted = LUI.DataSourceInControllerModel.new( "frontEnd.MP.conquest.round.tierCompleted", 0 )
	DataSources.frontEnd.MP.conquest.round.medalImage = DataSources.frontEnd.MP.conquest.round.tierCompleted:Filter( "medalImage", MedalImageFilter )
	DataSources.frontEnd.MP.conquest.round.missionCompleted = DataSources.frontEnd.MP.conquest.round.tierCompleted:Filter( "missionCompleted", MissionCompletedFilter )
end

function InitConquestDataSources()
	InitConquestRoundDataSources()
end

function InitHeadquartersDataSources()
	DataSources.frontEnd.headquarters = LUI.DataSourceInGlobalModel.new( "frontEnd.headquarters" )
end

function InitCommonMPFrontEndDataSources()
	if Engine[0x9258F49F515F97B]() then
		InitLobbyDataSources()
		InitCODTvDataSources()
	end
end

local f0_local0 = function ( f8_arg0 )
	return f8_arg0 == 1
end

local f0_local1 = function ( f6_arg0, f6_arg1, f6_arg2 )
	return function ( f7_arg0 )
		local f7_local0 = Engine[0x7D3158A9539A355]( f6_arg0:GetValue( f7_arg0 ) )
		local f7_local1 = f6_arg0:GetValue( f7_arg0 )
		local f7_local2 = f6_arg0:GetValue( f7_arg0 )
		if f7_local1 then
			return Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/HARDCORE_GAME_TYPE", f7_local0 )
		elseif f7_local2 then
			return Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/REALISM_GAME_TYPE", f7_local0 )
		else
			return f7_local0
		end
	end
	
end

local f0_local2 = function ( f4_arg0, f4_arg1 )
	return function ( f5_arg0 )
		assert( f4_arg0, "GAMETYPE NOT FOUND" )
		assert( f4_arg0, "ISHARDCORE DATA SOURCE NOT FOUND" )
		local f5_local0 = f4_arg0:GetValue( f5_arg0 )
		if not f5_local0 then
			return 
		end
		local f5_local1 = f4_arg0:GetValue( f5_arg0 )
		local f5_local2 = StringTable[0x2DCF0973239E909]( CSV.gameTypesTable.file, CSV.gameTypesTable.cols.ref, f5_local0, CSV.gameTypesTable.cols.image )
		if f5_local1 then
			local f5_local3 = StringTable[0x2DCF0973239E909]( CSV.gameTypesTable.file, CSV.gameTypesTable.cols.ref, f5_local0, CSV.gameTypesTable.cols.hardcoreImage )
			if f5_local3 == "" then
				f5_local3 = f5_local2
			end
			local f5_local4
			if f5_local3 ~= "" and not f5_local3 then
				f5_local4 = f5_local3
			else
				f5_local4 = "icon_playlist_generic"
			end
			return f5_local4
		else
			local f5_local3
			if f5_local2 ~= "" and not f5_local2 then
				f5_local3 = f5_local2
			else
				f5_local3 = "icon_playlist_generic"
			end
		end
		return f5_local3
	end
	
end

function InitPartyDataSources()
	DataSources.frontEnd.lobby.memberCount = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.members.count" )
	DataSources.frontEnd.lobby.memberMaxCount = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.members.maxCount" )
	DataSources.frontEnd.lobby.isDedi = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.members.isDedi" )
	DataSources.frontEnd.lobby.teamAlliesCount = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.members.teamAlliesCount" )
	DataSources.frontEnd.lobby.teamAxisCount = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.members.teamAxisCount" )
	DataSources.frontEnd.lobby.GameBattlesTeamRosterAlliesCount = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.members.GameBattlesTeamRosterAlliesCount" )
	DataSources.frontEnd.lobby.GameBattlesTeamRosterAxisCount = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.members.GameBattlesTeamRosterAxisCount" )
	DataSources.frontEnd.lobby.friendlyTeamCount = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.members.friendlyTeamCount" )
	DataSources.frontEnd.lobby.friendlySubPartyIndex = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.members.friendlySubPartyIndex" )
	DataSources.frontEnd.lobby.friendlyTeamIndex = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.members.friendlyTeamIndex" )
	DataSources.frontEnd.lobby.friendlySquadIndex = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.members.friendlySquadIndex" )
end

function InitLobbyDataSources()
	if not CONDITIONS.ArePartiesEnabledInMainMenu() then
		InitPartyDataSources()
	end
	DataSources.frontEnd.lobby.isSolo = DataSources.frontEnd.lobby.memberCount:Filter( "isSolo", f0_local0 )
	DataSources.frontEnd.lobby.mapName = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.mapName" )
	DataSources.frontEnd.lobby.mapRef = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.mapRef" )
	DataSources.frontEnd.lobby.mapImage = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.mapImage" )
	DataSources.frontEnd.lobby.missionName = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.missionName" )
	DataSources.frontEnd.lobby.gameType = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.gameType" )
	DataSources.frontEnd.lobby.gameTypeName = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.gameTypeName" )
	DataSources.frontEnd.lobby.isHardcoreGameType = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.isHardcoreGameType" )
	DataSources.frontEnd.lobby.isRealismGameType = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.isRealismGameType" )
	DataSources.frontEnd.lobby.battleRoyale = {}
	DataSources.frontEnd.lobby.battleRoyale.selectedMode = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.battleRoyale.selectedMode" )
	DataSources.frontEnd.lobby.battleRoyale.fillType = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.battleRoyale.fillType" )
	DataSources.frontEnd.lobby.battleRoyale.playlist = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.battleRoyale.playlist" )
	local f2_local0 = DataSources.frontEnd.lobby.gameType
	local f2_local1 = DataSources.frontEnd.lobby.isHardcoreGameType
	local f2_local2 = DataSources.frontEnd.lobby.isRealismGameType
	DataSources.frontEnd.lobby.gameTypeImage = LUI.AggregateDataSource.new( f2_local0, {
		f2_local0,
		f2_local1
	}, "gameTypeImage", f0_local0( f2_local0, f2_local1 ) )
	local f2_local3 = DataSources.frontEnd.lobby.gameTypeName
	DataSources.frontEnd.lobby.gameTypeNameWithModifier = LUI.AggregateDataSource.new( f2_local3, {
		f2_local3,
		f2_local1,
		f2_local2
	}, "gameTypeNameWithModifier", f0_local0( f2_local3, f2_local1, f2_local2 ) )
	DataSources.frontEnd.lobby.votingComplete = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.votingComplete" )
	DataSources.frontEnd.lobby.votingTime = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.votingTime" )
	DataSources.frontEnd.lobby.timeRemaining = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.timeRemaining" )
	DataSources.frontEnd.lobby.isUIFadingOut = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.isUIFadingOut" )
	DataSources.frontEnd.lobby.clanQuickMatchState = LUI.DataSourceInControllerModel.new( "frontEnd.MP.clanQuickMatchState", 0 )
end

function InitCODTvDataSources()
	DataSources.frontEnd.MP.codtv.streamLiveCount = LUI.DataSourceInGlobalModel.new( "mlgcontent.streams.liveCount" )
	DataSources.frontEnd.MP.codtv.streamCount = LUI.DataSourceInGlobalModel.new( "mlgcontent.streams.count" )
	DataSources.frontEnd.MP.codtv.vodCount = LUI.DataSourceInGlobalModel.new( "mlgcontent.VOD.count" )
end

