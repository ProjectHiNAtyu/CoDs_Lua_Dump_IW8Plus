-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
local f0_local0 = function ( f7_arg0 )
	local f7_local0, f7_local1, f7_local2, f7_local3 = LAYOUT.GetLabelDimensionsAtMaxSize( f7_arg0.Kills, f7_arg0._controllerIndex )
	f7_local0 = -f7_local2
	f7_local2 = 0
	f7_local3 = f7_local1 / 2
	f7_local1 = -f7_local3
	local f7_local4, f7_local5, f7_local6, f7_local7 = f7_arg0.Kills:GetAnchorData()
	f7_arg0.Kills:SetAnchorsAndPosition( f7_local4, f7_local6, f7_local5, f7_local7, f7_local0, f7_local2, f7_local1, f7_local3 )
	local f7_local8 = LAYOUT.GetElementWidth( f7_arg0.KillIcon )
	local f7_local9, f7_local10, f7_local11, f7_local12 = f7_arg0.KillIcon:getLocalRect()
	f7_local4, f7_local5, f7_local6, f7_local7 = f7_arg0.KillIcon:GetAnchorData()
	f7_local11 = f7_local0
	f7_local9 = f7_local11 - f7_local8
	f7_arg0.KillIcon:SetAnchorsAndPosition( f7_local4, f7_local6, f7_local5, f7_local7, f7_local9, f7_local11, f7_local10, f7_local12 )
	f7_arg0.KillIconShadow:SetAnchorsAndPosition( f7_local4, f7_local6, f7_local5, f7_local7, f7_local9, f7_local11, f7_local10, f7_local12 )
end

local f0_local1 = function ( f6_arg0 )
	f6_arg0.Kills:setText( f6_arg0._currentKills or "0" )
	f0_local0( f6_arg0 )
end

local f0_local2 = function ( f5_arg0, f5_arg1 )
	f5_arg0._currentKills = f5_arg1.value
	f0_local0( f5_arg0 )
	ACTIONS.AnimateSequence( f5_arg0, "AddKill" )
end

local f0_local3 = function ( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg0._currentKills = Game[0x28624DEF6F708C8]( f4_arg1, "ui_arena_evo_stat_kills" ) or "0"
	f0_local0( f4_arg0 )
	f4_arg0:registerOmnvarHandler( "ui_arena_evo_stat_kills", f0_local0 )
end

function TournamentKillCount( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 200 * _1080p, 0, 50 * _1080p )
	self.id = "TournamentKillCount"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine[0x12586A3F4FB490E]() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1, "Missing controllerIndex!" )
	local f1_local2 = self
	local KillIconShadow = nil
	
	KillIconShadow = LUI.UIImage.new()
	KillIconShadow.id = "KillIconShadow"
	KillIconShadow:SetRGBFromTable( SWATCHES.HUD.vHUDDarkOutline, 0 )
	KillIconShadow:SetAlpha( 0.3, 0 )
	KillIconShadow:SetScale( 0.05, 0 )
	KillIconShadow:setImage( RegisterMaterial( "v_ui_icon_kill" ), 0 )
	KillIconShadow:SetAnchorsAndPosition( 1, 0, 0.5, 0.5, _1080p * -134, _1080p * -94, _1080p * -20, _1080p * 20 )
	self:addElement( KillIconShadow )
	self.KillIconShadow = KillIconShadow
	
	local KillIcon = nil
	
	KillIcon = LUI.UIImage.new()
	KillIcon.id = "KillIcon"
	KillIcon:SetRGBFromTable( SWATCHES.HUD.vHUDDefault, 0 )
	KillIcon:SetAlpha( 0.9, 0 )
	KillIcon:setImage( RegisterMaterial( "v_ui_icon_kill" ), 0 )
	KillIcon:SetAnchorsAndPosition( 1, 0, 0.5, 0.5, _1080p * -134, _1080p * -94, _1080p * -20, _1080p * 20 )
	self:addElement( KillIcon )
	self.KillIcon = KillIcon
	
	local Kills = nil
	
	Kills = LUI.UIStyledText.new()
	Kills.id = "Kills"
	Kills:SetAlpha( 0.6, 0 )
	Kills:setText( "999", 0 )
	Kills:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_LSubHeaderBold.font.File ) )
	Kills:SetFontSize( FONT_STYLES.fontStyle_LSubHeaderBold.size )
	Kills:SetMinFontSize( FONT_STYLES.fontStyle_LSubHeaderBold.minSize )
	Kills:SetWordWrap( false )
	Kills:SetAlignment( LUI.Alignment.Center )
	Kills:SetVerticalAlignment( LUI.Alignment.Center )
	Kills:SetOutlineMinDistance( -0.1, 0 )
	Kills:SetOutlineMaxDistance( 0.03, 0 )
	Kills:SetOutlineRGBFromTable( SWATCHES.HUD.vHUDMediumDarkOutline, 0 )
	Kills:SetMaxVisibleLines( 1 )
	Kills:SetAnchorsAndPosition( 1, 0, 0.5, 0.5, _1080p * -94, 0, _1080p * -25, _1080p * 25 )
	self:addElement( Kills )
	self.Kills = Kills
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local6 = nil
	KillIcon:RegisterAnimationSequence( "AddKill", {
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 4.667261642226141E-62,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Scale
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.highlight.vRedNegative,
			easing = LUI.EASING.outQuadratic
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = -2.3534382788928255E-185,
			duration = 150,
			property = TWEEN_PROPERTY.Scale,
			easing = LUI.EASING.outQuadratic
		},
		{
			value = 16777215,
			duration = 150,
			property = TWEEN_PROPERTY.RGB,
			easing = LUI.EASING.inQuadratic
		},
		{
			value = -9.255965339690016E+61,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Scale,
			easing = LUI.EASING.inQuadratic
		}
	} )
	Kills:RegisterAnimationSequence( "AddKill", {
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 4.667261642226141E-62,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Scale
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.highlight.vRedNegative,
			easing = LUI.EASING.outQuadratic
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = -2.3534382788928255E-185,
			duration = 150,
			property = TWEEN_PROPERTY.Scale,
			easing = LUI.EASING.outQuadratic
		},
		{
			value = 16777215,
			duration = 150,
			property = TWEEN_PROPERTY.RGB,
			easing = LUI.EASING.inQuadratic
		},
		{
			value = -9.255965339690016E+61,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Scale,
			easing = LUI.EASING.inQuadratic
		}
	} )
	self._sequences.AddKill = function ()
		menu:AnimateSequence( "AddKill" )
		menu:AnimateSequence( "AddKill" )
	end
	
	self._sequenceLengths.AddKill = 300
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "TournamentKillCount", TournamentKillCount )
LockTable( _M )
