-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbpmapwidget" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbpfactioninspectpanel" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbpinspectpanel" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbattlemapweeklychallengebutton" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbppurchasebutton" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbattlemapcinematicframe" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbpbootupdetails" )
local f0_local0 = 25
local f0_local1 = 24
local f0_local2 = 28
local f0_local3 = 2000
local f0_local4 = 150
local f0_local5 = 1800
local f0_local6 = 300
local f0_local7 = 800
local f0_local8 = 5000
local f0_local9 = 5000
local f0_local10 = 3300
local f0_local11 = 200
local f0_local12 = 2800
local f0_local13 = 750
local f0_local14 = 750
local f0_local15 = 1500
local f0_local16 = 20
local f0_local17 = 200
local f0_local18 = 2000
local f0_local19 = 300
local f0_local20 = 300
local f0_local21 = 100
local f0_local22 = 800
local f0_local23 = 110
local f0_local24 = 0.8
local f0_local25 = 0.6
local f0_local26 = 100
local f0_local27 = 4000
local f0_local28 = 25
local f0_local29 = 0.09
local f0_local30 = 1000
local f0_local31 = function ( f94_arg0, f94_arg1, f94_arg2 )
	local f94_local0 = BATTLEMAP.GetSector( f94_arg0._season, f94_arg2 )
	local f94_local1
	if f94_local0 then
		f94_local1 = f94_local0[0xE03357C933EFDCA]
		if not f94_local1 then
		
		else
			local f94_local2 = f94_arg0._currentFocusTime
			f94_arg0._currentFocusTime = CoD.GetUTC()
			BATTLEMAP.AddAnalyticsData( BATTLEMAP.DLOG_FOCUSED_SECTOR_ARRAY, f94_local1 )
			if f94_local2 then
				BATTLEMAP.AddAnalyticsData( BATTLEMAP.DLOG_FOCUSED_SECTOR_BROWSE_TIME_ARRAY, f94_arg0._currentFocusTime - f94_local2 )
			end
		end
	end
	f94_local1 = "-1"
end

local f0_local32 = function ( f93_arg0 )
	return BATTLEMAP.GetBaseMenuScopedData( f93_arg0 )
end

local f0_local33 = function ( f92_arg0 )
	return f92_arg0._state
end

local f0_local34 = function ( f91_arg0 )
	local f91_local0
	if f91_arg0._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION or f91_arg0._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING then
		f91_local0 = false
	else
		f91_local0 = true
	end
	local f91_local1
	if f91_local0 then
		f91_local1 = f91_local0
	else
		if not f91_arg0._needFixUp then
			if f91_arg0._isPremium and f91_arg0._isBlackCellOwned then
				f91_local1 = f91_arg0._isPremium
				if f91_local1 then
					if 0 >= BATTLEMAP.GetTokenMaxAvailable( f91_arg0._controllerIndex, f91_arg0._season ) then
						f91_local1 = false
					end
				else
					f91_arg0._showPurchaseButton = f91_local1
					ACTIONS.AnimateSequence( f91_arg0, f91_arg0._showPurchaseButton and 0x57CE7A3C260217 or 0xC0A83E6107A33A2 )
				end
			end
			f91_local1 = true
		end
		f91_local1 = false
	end
	f91_arg0._showPurchaseButton = f91_local1
	ACTIONS.AnimateSequence( f91_arg0, f91_arg0._showPurchaseButton and 0x57CE7A3C260217 or 0xC0A83E6107A33A2 )
end

local f0_local35 = function ( f90_arg0 )
	for f90_local0 = 1, f90_arg0._maxSectorCount, 1 do
		local f90_local3 = f90_arg0._battleMap:GetSectorWidget( f90_local0 - 1 )
		if f90_local3 then
			if f90_local3.PlayNewIndicator and not (f90_local3._type == BATTLEMAP.SectorType.BLACK_CELL) and not (f90_local3._type == BATTLEMAP.SectorType.INSTANT) then
				f90_local3:PlayNewIndicator( f90_arg0._controllerIndex )
			end
		end
	end
end

local f0_local36 = function ( f88_arg0, f88_arg1, f88_arg2, f88_arg3 )
	f88_arg0._focusIndex = f88_arg1
	f0_local0( f88_arg0, f88_arg2, f88_arg1 )
	local f88_local0 = {}
	local f88_local1 = BATTLEMAP.CanGetSectorState( f88_arg3._type )
	if f88_local1 then
		if f88_arg3._state == BATTLEMAP.SectorState.ACTIVE and f88_arg3._type ~= BATTLEMAP.SectorType.LIMITED_TIME then
			f88_local1 = BATTLEMAP.CanSpendTokenMaxSector( f88_arg2, f88_arg1, f88_local0 )
		else
			f88_local1 = false
		end
	end
	f88_arg0._canClaim = f88_local1
	f88_local1 = f88_arg3._type == BATTLEMAP.SectorType.EVENT
	local f88_local2 = f88_arg3._type == BATTLEMAP.SectorType.FACTION
	local f88_local3 = f88_arg0._battleMap
	local f88_local4 = f88_local3
	f88_local3 = f88_local3.DisplaySectorInfo
	local f88_local5
	if not f88_local1 then
		f88_local5 = not f88_local2
	else
		f88_local5 = false
	end
	f88_local3( f88_local4, f88_local5, f88_local2 )
	if f88_arg0.FactionInspect then
		f88_arg0.FactionInspect:SetVisible( f88_local2 )
	end
	if f88_local2 then
		f88_arg0._battleMap:RepositionFocusReticle( f88_arg0, f88_arg2, f88_arg3, f88_arg0._canClaim, f88_local0 )
		f88_arg0.InspectPanel:UpdateSectorState( f88_arg0._controllerIndex, f88_arg1, f88_arg3._type, f88_arg3._state, f88_arg3._factionType )
		f88_arg0.InspectPanel:RemoveAllBlackCellToggles( f88_arg2 )
		if f88_arg0.FactionInspect then
			f88_arg0.FactionInspect:UpdateFactionInfo( f88_arg2, {
				factionType = f88_arg3._factionType,
				sectorState = f88_arg3._state,
				challengeID = f88_arg3._factionChallengeID,
				challengeKind = f88_arg3._factionChallengeKind
			} )
		end
		f88_arg0.BattlePassPurchaseButton:ForceBlackCellState( f88_arg2, false )
		f0_local0( f88_arg0 )
	elseif f88_local1 then
		if BATTLEMAP.HasEventStarted() then
			f88_arg0.InspectPanel:UpdateSectorState( f88_arg0._controllerIndex, f88_arg1, BATTLEMAP.SectorType.EVENT, BATTLEMAP.SectorState.ACTIVE )
		end
	elseif not f88_local1 then
		f88_arg0._battleMap:RepositionFocusReticle( f88_arg0, f88_arg2, f88_arg3, f88_arg0._canClaim, f88_local0 )
		f88_local3 = f88_arg3._type == BATTLEMAP.SectorType.BLACK_CELL
		local f88_local6 = f88_arg3._type == BATTLEMAP.SectorType.INSTANT
		f88_local4 = f88_arg3._type == BATTLEMAP.SectorType.FINAL
		f88_local5 = f88_arg3._state
		if f88_local3 then
			if BATTLEPASS.IsBlackCellOwned( f88_arg2, f88_arg0._season ) then
				local f88_local7 = BATTLEMAP.SectorState.COMPLETED
				if not f88_local7 then
					f88_local5 = f88_local7
				end
			end
			f88_local5 = BATTLEMAP.SectorState.LOCKED
		elseif f88_local6 then
			if f88_arg0._isPremium then
				local f88_local7 = BATTLEMAP.SectorState.COMPLETED
				if not f88_local7 then
					f88_local5 = f88_local7
				end
			end
			f88_local5 = BATTLEMAP.SectorState.LOCKED
		elseif f88_local4 then
			if BATTLEMAP.AreAllBaseSectorsComplete( f88_arg2, f88_arg0._season ) then
				local f88_local7 = BATTLEMAP.SectorState.COMPLETED
				if not f88_local7 then
					f88_local5 = f88_local7
				else
					f88_local5 = BATTLEMAP.SectorState.LOCKED
				end
			end
			f88_local5 = BATTLEMAP.SectorState.LOCKED
		end
		f88_arg0.InspectPanel:UpdateSectorState( f88_arg0._controllerIndex, f88_arg1, f88_arg3._type, f88_local5 )
		local f88_local7 = BATTLEMAP.GetSectorUnlockData( f88_arg0._controllerIndex, f88_arg0._season, f88_arg3._index )
		f88_arg0.InspectPanel:RemoveAllBlackCellToggles( f88_arg2 )
		f88_arg0.InspectPanel:SetupRewardButtons( f88_arg0._controllerIndex, f88_local7, f88_arg3._type, f88_arg0._isPremium, f88_arg0._isComplete )
		if not BATTLEMAP.AUTO_TOGGLE_BLACKCELL_ON_MAP then
			f88_arg0.InspectPanel:SetAutoBlackCellToggleForAllRewards( f88_arg0._controllerIndex, false, not f88_arg0._isBlackCellOwned )
		end
		local f88_local8 = f88_local7[BATTLEMAP.NUM_UNLOCKS_PER_SECTOR]
		local f88_local9 = BATTLEMAP.SectionForLootType( f88_local8.lootRef, f88_local8.lootType )
		Engine[0x685AE31DEDA30A4]( f88_local9 )
		BATTLEMAP.UpdateBattleMapModel( f88_arg0, f88_local8, true )
		f88_arg0._serverUpdateData = {
			rewardIndex = 4294967295,
			forceSceneTransition = true,
			rewardRef = f88_local8.rewardRef,
			sectorType = BATTLEMAP.BATTLEMAP_SCENES[f88_local9],
			itemType = f88_local8.lootType
		}
		local f88_local10 = f88_arg0:Wait( 20 )
		f88_local10.onComplete = function ( f89_arg0 )
			if f89_arg0._serverUpdateData then
				BATTLEMAP.SendBattlemapSectorUpdateToServer( f89_arg0._serverUpdateData.rewardRef, f89_arg0._serverUpdateData.sectorType, f89_arg0._serverUpdateData.requestedSection, f89_arg0._serverUpdateData.rewardIndex, f89_arg0._serverUpdateData.forceSceneTransition, f89_arg0._serverUpdateData.itemType )
				f89_arg0._serverUpdateData = nil
			end
		end
		
		f88_arg0._isBlackCellSectorFocused = f88_local3
		f0_local0( f88_arg0 )
		if f88_arg0._isBlackCellSectorFocused and not f88_arg0._ownsBlackCell and not f88_arg0._isPremium then
			f88_arg0.BattlePassPurchaseButton:ForceBlackCellState( f88_arg2, true )
		else
			f88_arg0.BattlePassPurchaseButton:ForceBlackCellState( f88_arg2, false )
			if f88_arg0._isPremium or f88_local6 then
				f88_arg0.InspectPanel:ResetSectorTags( f88_arg2 )
			end
		end
	end
	if f88_arg0._state == BATTLEMAP.BattlePassStates.NORMAL then
		f88_arg0._battleMap.Darkener:SetAlpha( 0, 200 )
	end
end

local f0_local37 = function ( f86_arg0 )
	f86_arg0:SetKBMProgressStarted( false )
	if not f86_arg0._canClaim then
		
	else
		
	end
	if f86_arg0:GetState() ~= BATTLEMAP.BattlePassStates.NORMAL then
		
	else
		
	end
	f86_arg0:UpdateMapState( f86_arg0._controllerIndex, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR_WAIT )
	BATTLEMAP.SpendTokenMaxSector( f86_arg0, f86_arg0._controllerIndex, f86_arg0._focusIndex, function ( f87_arg0 )
		if f87_arg0.success then
			BATTLEPASS.UpdateBattlePassStatusMenuTabLabel( f86_arg0._controllerIndex )
			f86_arg0:UpdateBattleMap()
			f86_arg0:UpdateMapState( f86_arg0._controllerIndex, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR, {
				nextState = f86_arg0._isComplete and BATTLEMAP.BattlePassStates.COMPLETE or BATTLEMAP.BattlePassStates.NORMAL
			} )
		elseif f87_arg0.errorCode then
			LUI.ToastManager.CreateToast( f86_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xE4D24CA2FAD477A ), BATTLEMAP.GetSpendTokenErrorMessage( f87_arg0.errorCode ), LUI.ToastManager.ToastNotificationType.Warnings ) )
			f86_arg0._battleMap.FocusReticle:UpdateClaimButton( f86_arg0._controllerIndex, f86_arg0._canClaim )
			f86_arg0:UpdateMapState( f86_arg0._controllerIndex, BATTLEMAP.BattlePassStates.NORMAL )
		end
	end )
	f86_arg0._battleMap.FocusReticle.HoldProgress:SetProgress( 0 )
end

local f0_local38 = function ( f85_arg0 )
	f85_arg0.BlackCellPurchaseButton:SetupButtonState( f85_arg0._controllerIndex, f85_arg0._isPremium, f85_arg0._isBlackCellOwned, f85_arg0._isComplete, f85_arg0._needFixUp, f85_arg0._season )
	f85_arg0.BlackCellPurchaseButton:ForceBlackCellState( f85_arg0._controllerIndex, true )
	if f85_arg0._isBlackCellOwned or f85_arg0._isPremium and BATTLEMAP.GetTokenMaxAvailable( f85_arg0._controllerIndex, f85_arg0._season ) == 0 then
		ACTIONS.AnimateSequence( f85_arg0, "HideBlackcellButton" )
	elseif f85_arg0._isPremium then
		ACTIONS.AnimateSequence( f85_arg0, "ShowBlackcellButton" )
	end
end

local f0_local39 = function ( f80_arg0, f80_arg1, f80_arg2 )
	local f80_local0 = f80_arg0._battleMap:GetSectorWidget( f80_arg1 - 1 )
	if f80_local0 then
		local f80_local1 = BATTLEMAP.GetSector( f80_arg0._season, f80_arg1 )
		local f80_local2
		if f80_local1 then
			f80_local2 = f80_local1
		else
			f80_local2 = Engine[0x6093D047200548]( "battlemapsector:" .. f80_local1[0xE03357C933EFDCA] )
		end
		local f80_local3 = BATTLEMAP.GetSectorType( f80_arg1, f80_arg0._season )
		f80_local0.menu = f80_arg0
		f80_local0:SetupSector( f80_arg0._controllerIndex, f80_arg1, f80_local2, f80_arg0._activeSectorIndex == f80_arg1, f80_arg0._isPremium, f80_arg0._isComplete, f80_arg0._isBlackCellOwned )
		f80_local0._type = f80_local3
		local f80_local4
		if f80_arg2 then
			f80_local4 = f80_arg2.state
			if not f80_local4 then
			
			else
				local f80_local5
				if f80_local4 == BATTLEMAP.BattlePassStates.ONBOARDING and f80_arg1 ~= BATTLEMAP.FIRST_SECTOR_INDEX then
					f80_local5 = false
				else
					f80_local5 = true
				end
				f80_local0:SetFocusable( f80_local5 )
				if not f80_local0.eventHandlersAdded and f80_local0._type and f80_local0._type ~= BATTLEMAP.SectorType.FACTION then
					if CONDITIONS.IsMobileOrMobileSim() then
						f80_local0:registerEventHandler( "button_action", function ( element, event )
							f80_arg0( f80_arg0, f80_arg0, f80_arg0._controllerIndex, element )
							Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpSectorSelect )
							local f84_local0 = f80_arg0( f80_arg0 )
							f84_local0.previewSectorIndex = f80_arg0
						end )
					else
						f80_local0:registerEventHandler( "button_action", function ( element, event )
							local f83_local0
							if f80_arg0._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING or f80_arg0._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION or f80_arg0._state == BATTLEMAP.BattlePassStates.NORMAL then
								f83_local0 = false
							else
								f83_local0 = true
							end
							if f83_local0 then
								return 
							elseif f80_arg0._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION and f80_arg0 ~= BATTLEMAP.FIRST_SECTOR_INDEX then
								return 
							elseif f80_arg0._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING and f80_arg0 ~= BATTLEMAP.LIMITED_TIME_SECTOR + 1 then
								return 
							end
							Engine[0xC4146BA76D0F982]( SOUND_SETS.default.action )
							Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpSectorSelect )
							if BATTLEMAP.UseBattleMapLandingScreen() then
								LUI.FlowManager.RequestAddMenu( BATTLEPASS.GetBattlePassSectorPreviewMenuRef(), true, f80_arg0._controllerIndex, false, {
									sectorIndex = f80_arg0._focusIndex
								}, true )
							end
							f80_arg0:UpdateMapState( event.controller, BATTLEMAP.BattlePassStates.ENTER_SECTOR )
						end )
						f80_local0:SetupContextualMenu()
						f80_local0:AddContextualMenuAction( {
							id = "claimSector",
							actionName = Engine[0xED84C33EC5F01EA]( 0xA66AFE423018F51, Engine[0x7D3158A9539A355]( BATTLEMAP.GetSectorDisplayName( f80_arg1 - 1 ) ) ),
							conditionFunction = function ()
								local f82_local0 = f80_arg0._canClaim
								if f82_local0 then
									f82_local0 = not f80_arg0:IsKBMProgressStarted()
								end
								return f82_local0
							end,
							actionFunction = function ()
								f80_arg0( f80_arg0 )
							end
						} )
					end
				end
				f80_local0.eventHandlersAdded = true
			end
		end
		f80_local4 = BATTLEMAP.BattlePassStates.NORMAL
	end
end

local f0_local40 = function ( f73_arg0 )
	f73_arg0:registerEventHandler( "gamepad_sticks", function ( element, event )
		if GLOBAL_PANEL.IsOpen() or LUI.FlowManager.IsInStack( SOCIAL.SOCIAL_MENU_FLYOUT_NAME ) then
			return 
		elseif f73_arg0._state ~= BATTLEMAP.BattlePassStates.NORMAL then
			return true
		elseif f73_arg0.InspectPanel._autoSwitchOpen then
			return true
		end
		local f79_local0 = f73_arg0._battleMap:GetSectorWidget( f73_arg0._focusIndex - 1 )
		if not f79_local0 then
			f79_local0 = f73_arg0._battleMap:GetSectorWidget( 0 )
		end
		local f79_local1 = BATTLEMAP.GetSectorUINavigation( f73_arg0._season, f79_local0._index )
		local f79_local2 = f79_local1[0x0 .. BATTLEMAP.GetStickDirection( event.leftStickDirection )]
		if not f79_local2 or not f79_local2 then
			f79_local2 = 0
		end
		if event.leftStickMagnitude <= 0.5 then
			f73_arg0._isCoolDown = false
		elseif 0 <= f79_local2 and 0.5 < event.leftStickMagnitude then
			local f79_local3 = f73_arg0._battleMap:GetSectorWidget( f79_local2 )
			local f79_local4
			if f79_local3 then
				f79_local4 = f79_local3
			else
				f79_local4 = f79_local3.GetSectorType
				if f79_local4 then
					f79_local4 = f79_local3:GetSectorType() == BATTLEMAP.SectorType.EVENT
				end
			end
			local f79_local5
			if f79_local4 then
				f79_local5 = BATTLEMAP.HasEventStarted()
				if f79_local5 then
					f79_local5 = not BATTLEMAP.HasEventEnded()
				end
			else
				f79_local5 = true
			end
			if f79_local3 and f79_local5 and not f73_arg0._isCoolDown then
				f79_local0:processEvent( {
					name = "lose_focus",
					controller = f73_arg0._controllerIndex
				} )
				f73_arg0._focusIndex = f79_local2
				f79_local3:processEvent( {
					name = "gain_focus",
					controller = f73_arg0._controllerIndex
				} )
				f73_arg0._isCoolDown = true
				return true
			end
		end
	end )
	f73_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		local f78_local0
		if element._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING or element._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION or element._state == BATTLEMAP.BattlePassStates.NORMAL then
			f78_local0 = false
		else
			f78_local0 = true
		end
		if f78_local0 then
			return true
		elseif element.InspectPanel._autoSwitchOpen then
			return true
		elseif event.qualifier == "keyboard" and event.key == "C" then
			if event.down and f73_arg0._canClaim then
				f73_arg0:SetMouseFocusBlocker( true )
			else
				f73_arg0:SetMouseFocusBlocker( false )
			end
		end
		if not event.down then
			return 
		elseif event.button == "secondary" then
			local f78_local1 = f73_arg0( element )
			f78_local1.previousFocusedSectorIndex = nil
			if LUI.FlowManager.IsMenuOnTop( "JupBPMap" ) then
				ACTIONS.LeaveMenu( f73_arg0 )
			end
		end
		if event.button == "alt1" and element._showPurchaseButton then
			element.InspectPanel:SetInputLock( true )
			if element.BattlePassPurchaseButton:GetState() == BATTLEMAP.PurchaseButtonStates.BUY_TOKENS then
				BATTLEMAP.OpenTokenPurchaseMenu( element, element._controllerIndex )
			else
				element.BattlePassPurchaseButton:ShowPurchasePopup( element._controllerIndex )
			end
			return true
		elseif event.button == "alt2" and element.BlackCellPurchaseButton and element.BlackCellPurchaseButton:IsVisible() then
			Engine[0x15D98DF5F61904B]( element._controllerIndex, "dlog_event_bp_blackcell_purchase_navigation", {
				season = SEASON.GetCurrentSeason()
			} )
			element.BattlePassPurchaseButton:ShowPurchasePopup( element._controllerIndex )
		end
		if (event.qualifier == "dpad" or event.qualifier == "keyboard") and (event.button == "up" or event.button == "down" or event.button == "left" or event.button == "right") then
			if element._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION or element._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING then
				return 
			end
			local f78_local1 = element._battleMap:GetSectorWidget( element._focusIndex - 1 )
			if not f78_local1 then
				element._focusIndex = BATTLEMAP.FIRST_SECTOR_INDEX
				f78_local1 = element._battleMap:GetSectorWidget( element._focusIndex - 1 )
			end
			local f78_local2 = BATTLEMAP.GetSectorUINavigation( element._season, f78_local1._index )
			local f78_local3 = nil
			f78_local3 = element._battleMap:GetSectorWidget( f78_local2[0x0 .. event.button] or 0 )
			local f78_local4
			if f78_local3 then
				f78_local4 = f78_local3
			else
				f78_local4 = f78_local3.GetSectorType
				if f78_local4 then
					f78_local4 = f78_local3:GetSectorType() == BATTLEMAP.SectorType.EVENT
				end
			end
			local f78_local5
			if f78_local4 then
				f78_local5 = BATTLEMAP.HasEventStarted()
				if f78_local5 then
					f78_local5 = not BATTLEMAP.HasEventEnded()
				end
			else
				f78_local5 = true
			end
			if f78_local3 and f78_local5 then
				f78_local1:processEvent( {
					name = "lose_focus",
					controller = element._controllerIndex
				} )
				element._focusIndex = f78_local3._index
				f78_local3:processEvent( {
					name = "gain_focus",
					controller = element._controllerIndex
				} )
				return true
			end
		end
	end )
	if BATTLEMAP.CLAIM_SECTOR_ENABLED and not CONDITIONS.IsMobileOrMobileSim() then
		LUI.AddUIHoldButtonLogic( f73_arg0._battleMap.FocusReticle.HoldProgress, f73_arg0._controllerIndex, {
			initProgress = -8.679223789306992E+209,
			requireFocus = false,
			clickKeyboardAndMouse = false,
			hideAfterFill = false,
			buttons = {
				right_trigger = function ( f77_arg0, f77_arg1 )
					local f77_local0 = f73_arg0._canClaim
					if f77_local0 then
						f77_local0 = LUI.IsGamepadActiveInputMethodForPrompts( f77_arg0 )
					end
					return f77_local0
				end
			},
			fill = f73_arg0._battleMap.FocusReticle.HoldProgress,
			duration = f0_local0,
			easing = LUI.EASING.inCubic,
			onStart = function ()
				if f73_arg0._canClaim then
					f73_arg0._battleMap.Darkener:SetAlpha( 0.3, 200 )
				end
			end,
			onFill = function ()
				f73_arg0( f73_arg0 )
			end,
			onPress = function ()
				f73_arg0._battleMap.Darkener:SetAlpha( 0, 200 )
			end
		} )
	end
end

local f0_local41 = function ( f69_arg0, f69_arg1 )
	f69_arg0._needFixUp = BATTLEPASS.NeedFixUp( f69_arg1 )
	if not f69_arg0._needFixUp then
		
	else
		
	end
	local f69_local0 = function ( f72_arg0, f72_arg1, f72_arg2 )
		f72_arg0:UpdateBattleMap()
		if f72_arg2 == BATTLEPASS.PurchaseCallbackKeys.FAILURE then
			local f72_local0 = BATTLEPASS.GetErrorMessage( f72_arg1.errorCode, f72_arg1.itemID )
			LUI.ToastManager.CreateToast( f72_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xD09E09A43DE9B80 ), Engine[0xED84C33EC5F01EA]( 0x1535E9C7C234B06 ), LUI.ToastManager.ToastNotificationType.Warnings ) )
		elseif BATTLEPASS.PurchaseCallbackKeys.SUCCESS then
			f72_arg0._needFixUp = nil
			f72_arg0._isBlackCellOwned = BATTLEPASS.IsBlackCellOwned( f72_arg0._controllerIndex, f72_arg0._season )
			BATTLEPASS.BuildUnownedBlackCellLootIDs( f72_arg0._controllerIndex, true )
			f72_arg0._isPremium = BATTLEPASS.IsOwned( f72_arg0._controllerIndex, f72_arg0._season ) or f72_arg0._isBlackCellOwned
			f72_arg0.BattlePassPurchaseButton:SetupButtonState( f72_arg0._controllerIndex, f72_arg0._isPremium, f72_arg0._isBlackCellOwned, f72_arg0._isComplete, f72_arg0._needFixUp, f72_arg0._season )
			f69_arg0( f72_arg0 )
			LUI.ToastManager.CreateToast( f72_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xCCE79999F4C1E08 ), Engine[0xED84C33EC5F01EA]( 0x8A652B104F95343 ), LUI.ToastManager.ToastNotificationType.Warnings ) )
		end
	end
	
	BATTLEPASS.RegisterPurchaseCallbacks( f69_arg0, f69_arg1, {
		[BATTLEPASS.PurchaseCallbackKeys.SUCCESS] = function ( f71_arg0, f71_arg1 )
			f69_arg0( f71_arg0, f71_arg1, BATTLEPASS.PurchaseCallbackKeys.SUCCESS )
		end,
		[BATTLEPASS.PurchaseCallbackKeys.FAILURE] = function ( f70_arg0, f70_arg1 )
			f69_arg0( f70_arg0, f70_arg1, BATTLEPASS.PurchaseCallbackKeys.FAILURE )
		end
	} )
	BATTLEPASS.FixUp( f69_arg1 )
	LUI.ToastManager.CreateToast( f69_arg1, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xCBAAD4E81DD6968 ), Engine[0xED84C33EC5F01EA]( 0x24482DFF76E8C3F ), LUI.ToastManager.ToastNotificationType.Warnings ) )
end

local f0_local42 = function ( f68_arg0, f68_arg1, f68_arg2 )
	local f68_local0, f68_local1 = BATTLEMAP.GetNumberOfCompleteSectorsAndRewards( f68_arg0._controllerIndex, f68_arg0._season )
	f68_arg0._isComplete = f68_local0 == BATTLEMAP.NUM_BASE_SECTORS
	f68_arg0.BattlePassPurchaseButton:SetupButtonState( f68_arg0._controllerIndex, f68_arg0._isPremium, f68_arg0._isBlackCellOwned, f68_arg0._isComplete, f68_arg0._needFixUp, f68_arg0._season )
	f0_local0( f68_arg0 )
	f0_local0( f68_arg0 )
	local f68_local2
	if f68_arg1 or BATTLEPASS.GetAutoSpendState( f68_arg0._controllerIndex ) and not f68_arg0._isComplete then
		f68_local2 = BATTLEMAP.GetActiveSectorIndex( f68_arg0._controllerIndex )
		if not f68_local2 then
		
		else
			f68_arg0._activeSectorIndex = f68_local2
			BATTLEMAP.DLOG_ACTIVE_SECTOR_INDEX = f68_arg0._activeSectorIndex
			f68_arg0.InspectPanel.BPTokenProgress:UpdateAmount( f68_arg0._controllerIndex )
			f68_arg0._battleMap:DisplayEventMap()
			f68_arg0._battleMap:InitializeEnabledSectors( f68_arg0._season )
			for f68_local2 = 1, f68_arg0._maxSectorCount, 1 do
				f0_local0( f68_arg0, f68_local2, f68_arg2 )
			end
		end
	end
	f68_local2 = -1
end

local f0_local43 = function ( f66_arg0, f66_arg1 )
	f66_arg0._isBlackCellOwned = BATTLEPASS.IsBlackCellOwned( f66_arg0._controllerIndex, f66_arg0._season )
	f66_arg0._isPremium = BATTLEPASS.IsOwned( f66_arg0._controllerIndex, f66_arg0._season ) or f66_arg0._isBlackCellOwned
	local f66_local0 = BATTLEMAP.GetSeasonBundle( f66_arg0._season )
	f66_arg0._maxSectorCount = #f66_local0[0x8C959E160CAD874]
	f66_arg0:UpdateBattleMap( nil, f66_arg1 )
	if not f66_local0[0x15B7864EBBA94D] then
		for f66_local1 = f66_arg0._maxSectorCount + 1, f0_local0, 1 do
			local f66_local4 = f66_arg0._battleMap:GetSectorWidget( f66_local1 - 1 )
			if f66_local4 then
				f66_local4:closeTree()
				f66_local4 = nil
			end
		end
	end
	local f66_local1 = f0_local0( f66_arg0 )
	if not f66_arg1.sectorFocusIndex and not f66_local1.previousFocusedSectorIndex then
		local f66_local5 = f66_arg0._isComplete
		local f66_local6 = BATTLEMAP.FINAL_SECTOR + 1
		local f66_local7 = BATTLEMAP.GetActiveSectorIndex( f66_arg0._controllerIndex )
	end
	f66_arg0._focusIndex = f66_local5 and f66_local6 or f66_local7
	f66_local1.previousFocusedSectorIndex = nil
	local f66_local2 = {}
	for f66_local3 = 1, f66_arg0._maxSectorCount, 1 do
		local f66_local9 = f66_arg0._battleMap:GetSectorWidget( f66_local3 - 1 )
		if f66_local9 then
			table.insert( f66_local2, f66_local9 )
		end
	end
	MenuUtils.SetupActiveStateOnNonListButtons( f66_arg0, f66_arg0._controllerIndex, {
		buttonList = f66_local2
	}, f66_arg0._battleMap:GetSectorWidget( f66_arg0._focusIndex - 1 ) )
	f66_arg0:SubscribeToInputTypeModel( f66_arg0._controllerIndex, function ( f67_arg0, f67_arg1 )
		if LUI.IsLastInputMouseNavigation( f67_arg1._controllerIndex ) and f67_arg1._focusIndex then
			local f67_local0 = f67_arg1._battleMap:GetSectorWidget( f67_arg1._focusIndex - 1 )
			if f67_local0 then
				ACTIONS.GainFocus( f67_arg1._battleMap, f67_local0.id, f67_arg1._controllerIndex )
			end
		end
	end )
end

local f0_local44 = function ( f65_arg0, f65_arg1 )
	if f65_arg1.hideFocusDetails then
		ACTIONS.AnimateSequence( f65_arg0._battleMap.FocusReticle, 0xEDBCA4D2276E77D )
	end
	if f65_arg1.hideFocusSelector then
		ACTIONS.AnimateSequence( f65_arg0._battleMap.FocusReticle, 0xB210BC0D929FEC4 )
	end
	if f65_arg1.hidePurchaseButton then
		ACTIONS.AnimateSequence( f65_arg0, 0xC0A83E6107A33A2 )
	end
end

local f0_local45 = function ( f64_arg0, f64_arg1 )
	f64_arg0:dispatchEventToRoot( {
		name = "update_tab_visibility",
		showTabs = f64_arg1
	} )
end

local f0_local46 = function ( f62_arg0, f62_arg1 )
	local f62_local0 = 1
	local f62_local1 = f62_arg0._battleMap:getAllChildren()
	for f62_local2 = #f62_local1, 1, -1 do
		local f62_local5 = f62_local1[f62_local2]
		if f62_local5.SetupSector and f62_local5._type then
			local f62_local6 = f62_local5:Wait( f62_arg1 * f62_local0 )
			f62_local6.onComplete = function ()
				f62_arg0:SetAlpha( 1 )
				ACTIONS.AnimateSequence( f62_arg0, 0x33B85BFCFA332A4 )
			end
			
			f62_local0 = f62_local0 + 1
		end
	end
end

local f0_local47 = function ( f61_arg0, f61_arg1, f61_arg2, f61_arg3, f61_arg4 )
	for f61_local0 = 1, f61_arg0._maxSectorCount, 1 do
		local f61_local3 = f61_arg0._battleMap:GetSectorWidget( f61_local0 - 1 )
		if f61_local3 then
			local f61_local4
			if f61_local0 ~= f61_arg1 then
				if not f61_arg2 then
					f61_local4 = f61_arg2
				elseif f61_arg3 then
					f61_local4 = f61_arg3
				else
					f61_local4 = f61_arg3[f61_local0]
				end
			else
				f61_local4 = true
			end
			local f61_local5
			if f61_local4 then
				f61_local5 = 1
			else
				if f61_arg4 then
					f61_local5 = f0_local0
					if not f61_local5 then
					
					else
						local f61_local6 = f61_local3
						local f61_local7 = f61_local3.SetAlpha
						local f61_local8 = f61_local5
						local f61_local9 = 200
						local f61_local10
						if f61_local4 then
							f61_local10 = LUI.EASING.outCubic
							if not f61_local10 then
							
							else
								f61_local7( f61_local6, f61_local8, f61_local9, f61_local10 )
							end
						end
						f61_local10 = LUI.EASING.inCubic
					end
				end
				f61_local5 = 0
			end
			local f61_local6 = f61_local3
			local f61_local7 = f61_local3.SetAlpha
			local f61_local8 = f61_local5
			local f61_local9 = 200
			local f61_local10
			if f61_local4 then
				f61_local10 = LUI.EASING.outCubic
				if not f61_local10 then
				
				else
					f61_local7( f61_local6, f61_local8, f61_local9, f61_local10 )
				end
			end
			f61_local10 = LUI.EASING.inCubic
		end
	end
end

local f0_local48 = function ( f32_arg0, f32_arg1, f32_arg2, f32_arg3 )
	local f32_local0 = "bp_map_seasonalevent_vfx_jup"
	local f32_local1 = "bp_map_transition_intro_jup"
	if BATTLEMAP.IsInPreEvent() then
		f32_local0 = "bp_map_seasonalevent_vfx_jup_pre"
		f32_local1 = "bp_map_transition_intro_jup_pre"
	elseif BATTLEMAP.HasEventStarted() and not BATTLEMAP.HasEventEnded() then
		f32_local0 = "bp_map_seasonalevent_vfx_jup"
		f32_local1 = "bp_map_transition_intro_jup"
	elseif BATTLEMAP.HasEventEnded() then
		f32_local0 = "bp_map_seasonalevent_vfx_jup_post"
		f32_local1 = "bp_map_transition_intro_jup_post"
	end
	f32_arg0._state = f32_arg2
	if f32_arg3 and f32_arg3.forceFocusIndex then
		f32_arg0._focusIndex = f32_arg3.forceFocusIndex
	end
	local f32_local2 = f32_arg0
	local f32_local3 = f32_arg0.SetMouseFocusBlocker
	local f32_local4
	if f32_arg0._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING or f32_arg0._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION or f32_arg0._state == BATTLEMAP.BattlePassStates.NORMAL then
		f32_local4 = false
	else
		f32_local4 = true
	end
	f32_local3( f32_local2, f32_local4 )
	f32_arg0.InspectPanel:SetInputLock( f32_arg0._state ~= BATTLEMAP.BattlePassStates.NORMAL )
	if f32_arg0._battleMap.VFXMotion and f32_arg0._state == BATTLEMAP.BattlePassStates.NORMAL then
		f32_arg0._battleMap.VFXMotion:SetVisible( true )
		Engine[0xFCF332AA8AC9B0F]( f32_local0, VideoPlaybackFlags.LOOP )
	else
		f32_arg0._battleMap.VFXMotion:SetVisible( false )
	end
	f32_local3 = function ( f60_arg0, f60_arg1 )
		local f60_local0 = f32_arg0._battleMap:GetSectorWidget( f32_arg0._focusIndex - 1 )
		local f60_local1 = f60_local0
		local f60_local2 = f60_local0.processEvent
		local f60_local3 = {}
		local f60_local4
		if f60_arg0 then
			f60_local4 = "gain_focus"
		else
			f60_local4 = "lose_focus"
		end
		f60_local3.name = f60_local4
		f60_local3.controller = f32_arg0._controllerIndex
		f60_local2( f60_local1, f60_local3 )
		if not f60_arg1 then
			f60_local1 = f60_local0
			f60_local2 = f60_local0.processEvent
			f60_local3 = {}
			if f60_arg0 then
				f60_local4 = "button_over"
			else
				f60_local4 = "button_up"
			end
			f60_local3.name = f60_local4
			f60_local3.controller = f32_arg0._controllerIndex
			f60_local2( f60_local1, f60_local3 )
		end
		if BATTLEMAP.AUTO_TOGGLE_BLACKCELL_ON_MAP then
			f60_local2 = f32_arg0._state == BATTLEMAP.BattlePassStates.NORMAL
			local f60_local5 = f32_arg0.InspectPanel
			f60_local3 = f60_local5
			f60_local5 = f60_local5.SetAutoBlackCellToggleForAllRewards
			f60_local4 = f32_arg0
			local f60_local6 = f60_local2
			if f60_local2 then
				
			else
				
			end
			f60_local5( f60_local3, f60_local4, f60_local6, not f32_arg0._isBlackCellOwned )
		end
		return f60_local0
	end
	
	if f32_arg0._state == BATTLEMAP.BattlePassStates.ONBOARDING then
		if GL_HACK.IsGlobalPanelTipKilled() then
			Onboarding.BattlePass.MarkCompleted( f32_arg1 )
			f32_arg0:UpdateMapState( f32_arg1, BATTLEMAP.BattlePassStates.NORMAL )
		else
			f32_local3( false )
			f0_local0( f32_arg0, {
				hidePurchaseButton = true,
				hideFocusDetails = true,
				hideFocusSelector = true
			} )
			f32_arg0.InspectPanel:SetNoInteractionOnboarding( true )
			BATTLEMAP.DoOnboarding( f32_arg0, f32_arg1 )
		end
	elseif f32_arg0._state == BATTLEMAP.BattlePassStates.MAP_BOOT then
		if CONDITIONS.ShouldDisplayBattlepassBootup() then
			f32_local3( false )
			f0_local0( f32_arg0, {
				hidePurchaseButton = true,
				hideFocusDetails = true,
				hideFocusSelector = true
			} )
			ACTIONS.AnimateSequence( f32_arg0, 0x67B893A709AB37 )
			f32_arg0._battleMap:SetVisible( false )
			if f32_arg0._battleMap.ClassifiedText then
				f32_arg0._battleMap.ClassifiedText:SetVisible( false )
			end
			if f32_arg0._battleMap.ClassifiedTimer then
				f32_arg0._battleMap.ClassifiedTimer:SetVisible( false )
			end
			f32_arg0._battleMap.Darkener:SetAlpha( 1 )
			f0_local0( f32_arg0, nil )
			Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpIntroBootup )
			if f32_arg0.CinematicFrame then
				f0_local0( f32_arg0, false )
				f32_arg0.CinematicFrame:StartCinematic( f32_local1, 0 )
			end
			local f32_local5 = {}
			f32_local2 = 0
			f32_local4 = 0
			for f32_local6 = 1, f32_arg0._maxSectorCount, 1 do
				local f32_local9 = BATTLEMAP.GetSectorType( f32_local6, f32_arg0._season )
				for f32_local13, f32_local14 in ipairs( BATTLEMAP.GetSectorUnlockData( f32_arg1, f32_arg0._season, f32_local6 ) ) do
					f32_local2 = f32_local2 + 1
					if f32_local14.lootType == LOOT.itemTypes.CURRENCY_PACK and (f32_local9 == BATTLEMAP.SectorType.START or f32_local9 == BATTLEMAP.SectorType.BASE) then
						f32_local5[f32_local6] = true
						f32_local4 = f32_local4 + f32_local14.currencyPackAmount
					end
				end
			end
			local f32_local6 = f32_arg0:Wait( f0_local0 )
			f32_local6.onComplete = function ()
				f32_arg0._battleMap:SetVisible( true )
				f32_arg0._battleMap.Darkener:SetAlpha( 0, 200 )
				f32_arg0.BootUpDetails:SetVisible( true )
				f32_arg0.BootUpDetails:PlayLoadingBP()
				local f50_local0 = f32_arg0:Wait( f32_arg0 )
				f50_local0.onComplete = function ()
					f50_local0.BootUpDetails:PlayInitializingRewards( f50_local0 )
					f50_local0( f50_local0, f50_local0 )
					local f51_local0 = f50_local0:Wait( f50_local0 )
					f51_local0.onComplete = function ()
						f51_local0.BootUpDetails:PlayCodPoints( f51_local0 )
						for f52_local3, f52_local4 in pairs( f51_local0 ) do
							local f52_local5 = f51_local0._battleMap:GetSectorWidget( f52_local3 - 1 )
							if f52_local5 and f52_local5.PlayCODPoint then
								f52_local5:PlayCODPoint( f51_local0 )
							end
						end
						f51_local0._battleMap.Darkener:SetAlpha( 0.25, 200 )
						f51_local0( f51_local0, nil, nil, f51_local0, true )
						f52_local0 = f51_local0:Wait( f51_local0 )
						f52_local0.onComplete = function ()
							local f53_local0 = function ()
								if f53_local0._battleMap.ClassifiedText then
									f53_local0._battleMap.ClassifiedText:SetVisible( true )
								end
								if f53_local0._battleMap.ClassifiedTimer then
									f53_local0._battleMap.ClassifiedTimer:SetVisible( true )
								end
								f53_local0._battleMap.Darkener:SetAlpha( 0, 200 )
								f53_local0( f53_local0, nil, true, nil, true )
								f53_local0.BootUpDetails:SetVisible( false )
								local f58_local0 = f53_local0:Wait( f53_local0 )
								f58_local0.onComplete = function ()
									if f58_local0.CinematicFrame then
										f58_local0( f58_local0, true )
										f58_local0.CinematicFrame:StopCinematic( 0 )
									end
									ACTIONS.AnimateSequence( f58_local0, 0x853294F5A21A65E )
									f58_local0:UpdateMapState( f58_local0, f58_local0 and f58_local0.nextState or BATTLEMAP.BattlePassStates.ONBOARDING )
								end
								
							end
							
							local f53_local1 = {
								{
									type = BATTLEMAP.SectorType.INSTANT,
									[BATTLEMAP.BONUS_SECTOR_INDEX] = true,
									sfx = SOUND_SETS.battlePass.bpIntroBootupInstant
								},
								{
									type = BATTLEMAP.SectorType.FINAL,
									[BATTLEMAP.FINAL_SECTOR + 1] = true,
									sfx = SOUND_SETS.battlePass.bpIntroBootupFinal
								}
							}
							local f53_local2 = nil
							local f53_local3 = false
							local f53_local4 = {
								type = BATTLEMAP.SectorType.FACTION,
								sfx = SOUND_SETS.battlePass.bpIntroBootupFaction
							}
							for f53_local5 = 1, f52_local0._maxSectorCount, 1 do
								local f53_local8 = BATTLEMAP.GetSectorType( f53_local5, f52_local0._season )
								if f53_local8 == BATTLEMAP.SectorType.FACTION and f52_local0._battleMap:GetSectorWidget( f53_local5 - 1 ) then
									f53_local4[f53_local5] = true
									f53_local3 = true
								end
								if f53_local8 == BATTLEMAP.SectorType.BLACK_CELL then
									f53_local2 = f53_local5
								end
							end
							if f53_local2 then
								table.insert( f53_local1, {
									type = BATTLEMAP.SectorType.BLACK_CELL,
									[f53_local2] = true,
									sfx = SOUND_SETS.battlePass.bpIntroBootupBlackCell
								} )
							end
							if f53_local3 then
								table.insert( f53_local1, f53_local4 )
							end
							local f53_local5 = function ( f57_arg0, f57_arg1 )
								for f57_local4, f57_local5 in pairs( f57_arg0 ) do
									if type( f57_local4 ) == "number" then
										local f57_local3 = f53_local0._battleMap:GetSectorWidget( f57_local4 - 1 )
										if f57_local3 then
											if f57_arg1 then
												f57_local3:UpdateFocusState()
											else
												f57_local3:UpdateIdleState()
											end
										end
										f53_local0( f53_local0, {
											hidePurchaseButton = true
										} )
									end
								end
							end
							
							local f53_local6 = nil
							local f53_local7 = function ( f54_arg0 )
								if #f53_local0 < f54_arg0 then
									f53_local0()
								end
								local f54_local0 = f53_local0[f54_arg0]
								f53_local0( f54_local0, true )
								f53_local0( f53_local0, nil, nil, f54_local0, true )
								f53_local0.BootUpDetails:PlaySector( f54_local0.type )
								if f54_local0.sfx then
									Engine[0xC4146BA76D0F982]( f54_local0.sfx )
								end
								local f54_local1 = f53_local0:Wait( f53_local0 )
								f54_local1.onComplete = function ()
									f54_arg0( f54_arg0, false )
									local f55_local0 = f54_arg0:Wait( f54_arg0 )
									f55_local0.onComplete = function ()
										f55_local0( f55_local0 + 1 )
									end
									
								end
								
							end
							
							f53_local7( 1 )
						end
						
					end
					
				end
				
			end
			
		end
		f32_arg0:UpdateMapState( f32_arg1, BATTLEMAP.BattlePassStates.ONBOARDING )
	elseif f32_arg0._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION then
		local f32_local5 = f32_arg0._battleMap:GetSectorWidget( f32_arg0._focusIndex - 1 )
		f32_local2 = f32_arg0.BPMapWidget
		local f32_local6 = f32_local2
		f32_local2 = f32_local2.ShowSelectionPrompt
		local f32_local7 = f32_arg1
		local f32_local8 = f32_local5
		local f32_local15
		if f32_arg3 then
			f32_local15 = f32_arg3.ctaText
			if not f32_local15 then
			
			else
				f32_local2( f32_local6, f32_local7, f32_local8, f32_local15 )
				ACTIONS.AnimateSequence( f32_arg0._battleMap.FocusReticle, "ShowSelector" )
				f32_local3( true )
				for f32_local2 = 1, f32_arg0._maxSectorCount, 1 do
					f32_local8 = f32_arg0._battleMap:GetSectorWidget( f32_local2 - 1 )
					if f32_local8 then
						f32_local8:SetMouseFocusBlocker( f32_local8 ~= f32_local5 )
					end
				end
			end
		end
		f32_local15 = Engine[0xED84C33EC5F01EA]( 0x311E9D2BDCCA69F )
	elseif f32_arg0._state == BATTLEMAP.BattlePassStates.SPEND_SELECTION then
		if not f32_arg0._onboardingPopup and f32_arg0.InspectPanel and f32_arg0.InspectPanel.OpenAutoSwitchPanel then
			local f32_local5 = LUI.FlowManager.RequestPopupMenu
			f32_local4 = nil
			local f32_local6 = "JupBPAutoSwitchPopup"
			local f32_local7 = false
			local f32_local8
			if not f32_arg1 then
				f32_local8 = f32_arg1
			else
				f32_local8 = 0
			end
			f32_local5( f32_local4, f32_local6, f32_local7, f32_local8, false, {
				isAutoSpendOn = true,
				showTooltips = true,
				shouldSelectOption = true,
				backButtonCallBack = function ()
					f32_arg0:UpdateMapState( f32_arg0, BATTLEMAP.BattlePassStates.NORMAL )
					ACTIONS.LeaveMenuByName( "JupBPAutoSwitchPopup" )
				end
			}, nil, nil, true )
		end
		DataSources.alwaysLoaded.shouldShowBPSpendSelection:SetValue( f32_arg1, false )
	elseif f32_arg0._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING then
		if GL_HACK.IsGlobalPanelTipKilled() then
			Onboarding.BattlePassChallenges.MarkCompleted( f32_arg1 )
			f32_arg0:UpdateMapState( f32_arg1, BATTLEMAP.BattlePassStates.NORMAL )
		else
			f32_local3( false )
			f0_local0( f32_arg0, {
				hideFocusDetails = true,
				hideFocusSelector = true
			} )
			f32_arg0._focusIndex = BATTLEMAP.LIMITED_TIME_SECTOR + 1
			local f32_local5 = f32_local3( true )
			f32_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
			f0_local0( f32_arg0, f32_arg0._focusIndex )
			TIP.CreateTips( Onboarding.Tips.BattlePass.JUP_CHALLENGE_SECTOR_OVERVIEW( f32_arg1, f32_local5 ) )
			f32_arg0:addEventHandler( "bp_challenge_onboarding", function ()
				f32_arg0:UpdateMapState( f32_arg0, BATTLEMAP.BattlePassStates.ENTER_SECTOR, {
					nextState = BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING
				} )
			end )
		end
	elseif f32_arg0._state == BATTLEMAP.BattlePassStates.CLOSE_MAP then
		local f32_local5 = BATTLEMAP.GetSector( f32_arg0._season, f32_arg0._focusIndex )
		if f32_local5 then
			f32_local2 = f32_local5[0xE03357C933EFDCA]
			if not f32_local2 then
			
			else
				BATTLEMAP.AddAnalyticsData( BATTLEMAP.DLOG_INTERACTED_SECTORS_ARRAY, f32_local2 )
				Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpMapClose )
				f32_arg0._isEnteringSector = true
				f32_local4 = LUI.FlowManager.RequestAddMenu
				local f32_local7 = BATTLEPASS.GetBattlePassSectorPreviewMenuRef()
				local f32_local8 = true
				local f32_local15 = f32_arg1
				local f32_local9 = false
				local f32_local16 = {
					isFromMap = true,
					sectorIndex = f32_arg0._focusIndex
				}
				local f32_local10
				if f32_arg3 then
					f32_local10 = f32_arg3
				else
					f32_local10 = f32_arg3.nextState
				end
				f32_local16.state = f32_local10
				f32_local4( f32_local7, f32_local8, f32_local15, f32_local9, f32_local16, true )
			end
		end
		f32_local2 = "-1"
	elseif f32_arg0._state == BATTLEMAP.BattlePassStates.ENTER_SECTOR then
		local f32_local5 = f32_local3( true, true )
		f0_local0( f32_arg0, {
			hideFocusDetails = true,
			hideFocusSelector = true
		} )
		if f32_arg0.CinematicFrame then
			f0_local0( f32_arg0, false )
			f32_arg0.CinematicFrame:SetVisible( true )
			f32_arg0.CinematicFrame:StartCinematic( f32_local1, f0_local0 )
		end
		f32_local2 = f32_arg0:Wait( f0_local0 )
		f32_local2.onComplete = function ()
			f32_arg0.Blackout:SetVisible( true )
			local f45_local0 = f32_arg0:Wait( f32_arg0 - f32_arg0 )
			f45_local0.onComplete = function ()
				if f45_local0.CinematicFrame then
					f45_local0.CinematicFrame:StopCinematic( f45_local0 )
				end
				local f46_local0 = f45_local0:Wait( f45_local0 )
				f46_local0.onComplete = function ()
					local f47_local0 = f46_local0
					local f47_local1 = f47_local0
					f47_local0 = f47_local0.UpdateMapState
					local f47_local2 = f46_local0
					local f47_local3 = BATTLEMAP.BattlePassStates.CLOSE_MAP
					local f47_local4 = {}
					local f47_local5 = f46_local0
					if f47_local5 then
						f47_local5 = f46_local0.nextState
					end
					f47_local4.nextState = f47_local5
					f47_local0( f47_local1, f47_local2, f47_local3, f47_local4 )
				end
				
			end
			
		end
		
	elseif f32_arg0._state == BATTLEMAP.BattlePassStates.PURCHASE_PASS then
		f32_local3( true )
		f32_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
		f0_local0( f32_arg0, f32_arg0._focusIndex )
		if f32_arg0.CinematicFrame then
			ACTIONS.AnimateSequence( f32_arg0, 0x6739456D393D597 )
			f0_local0( f32_arg0, false )
			f32_arg0.CinematicFrame:SetVisible( true )
			f32_arg0.CinematicFrame:StartCinematic( "bp_celebration_purchased_jup", 0 )
			f32_arg0.CinematicFrame:PlayBattlePassPurchaseAnim()
		end
		local f32_local5 = f32_arg0:Wait( f0_local0 )
		f32_local5.onComplete = function ()
			if f32_arg0.CinematicFrame then
				ACTIONS.AnimateSequence( f32_arg0, 0x88538BB599EA558 )
				f32_arg0( f32_arg0, true )
				f32_arg0.CinematicFrame:StopCinematic( 0 )
			end
			f32_arg0:UpdateBattleMap()
			f32_arg0:UpdateMapState( f32_arg0, BATTLEMAP.BattlePassStates.TOKEN_CELEBRATION, {
				nextState = BATTLEMAP.BattlePassStates.UNLOCK_SECTOR,
				forceFocusIndex = BATTLEMAP.BONUS_SECTOR_INDEX
			} )
			if not Onboarding.BattlePass.WasCompleted( f32_arg0 ) then
				local f44_local0 = f32_arg0( f32_arg0 )
				f44_local0.state = BATTLEMAP.BattlePassStates.ONBOARDING
			elseif DataSources.alwaysLoaded.shouldShowBPSpendSelection:GetValue( f32_arg0 ) then
				local f44_local0 = f32_arg0( f32_arg0 )
				f44_local0.state = BATTLEMAP.BattlePassStates.SPEND_SELECTION
			end
		end
		
	elseif f32_arg0._state == BATTLEMAP.BattlePassStates.PURCHASE_BLACK_CELL then
		f32_local3( true )
		f32_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
		f0_local0( f32_arg0, f32_arg0._focusIndex )
		local f32_local5 = f0_local0( f32_arg0 )
		if not f32_local5.tokensPurchased then
			f32_local5.tokensPurchased = BATTLEPASS.GetStoreBundleTokenAmount( STORE.UI.GetBlackCellBundle( f32_arg1 ) )
		end
		if f32_arg0.CinematicFrame then
			ACTIONS.AnimateSequence( f32_arg0, 0x6739456D393D597 )
			f0_local0( f32_arg0, false )
			f32_arg0.CinematicFrame:SetVisible( true )
			f32_arg0.CinematicFrame:StartCinematic( "bp_celebration_black_cell_jup", 0 )
			f32_arg0.CinematicFrame:PlayBlackCellPurchaseAnim()
		end
		f32_local2 = f32_arg0:Wait( f0_local0 )
		f32_local2.onComplete = function ()
			if f32_arg0.CinematicFrame then
				f32_arg0.CinematicFrame:StopCinematic( 0 )
				f32_arg0( f32_arg0, false )
			end
			ACTIONS.AnimateSequence( f32_arg0, 0x88538BB599EA558 )
			f32_arg0:UpdateBattleMap()
			f32_arg0:UpdateMapState( f32_arg0, BATTLEMAP.BattlePassStates.TOKEN_CELEBRATION, {
				nextState = BATTLEMAP.BattlePassStates.UNLOCK_SECTOR,
				forceFocusIndex = BATTLEMAP.BLACK_CELL + 1
			} )
			if not Onboarding.BattlePass.WasCompleted( f32_arg0 ) then
				local f43_local0 = f32_arg0( f32_arg0 )
				f43_local0.state = BATTLEMAP.BattlePassStates.ONBOARDING
			elseif DataSources.alwaysLoaded.shouldShowBPSpendSelection:GetValue( f32_arg0 ) then
				local f43_local0 = f32_arg0( f32_arg0 )
				f43_local0.state = BATTLEMAP.BattlePassStates.SPEND_SELECTION
			end
		end
		
	elseif f32_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_SECTOR_WAIT then
		f32_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
		f0_local0( f32_arg0, f32_arg0._focusIndex )
		f0_local0( f32_arg0, {
			hideFocusDetails = true
		} )
		ACTIONS.AnimateSequence( f32_arg0._battleMap.FocusReticle, 0xA0CEAFC241F0970 )
	elseif f32_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_SECTOR_DELAY then
		f32_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
		f0_local0( f32_arg0, f32_arg0._focusIndex )
		f0_local0( f32_arg0, {
			hideFocusDetails = true,
			hideFocusSelector = true
		} )
		local f32_local5 = f32_arg0:Wait( f0_local0 )
		f32_local5.onComplete = function ()
			f32_arg0:UpdateMapState( f32_arg0, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR, {
				nextState = f32_arg0._isComplete and BATTLEMAP.BattlePassStates.COMPLETE or BATTLEMAP.BattlePassStates.NORMAL
			} )
		end
		
	else
		if f32_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_SECTOR then
			f32_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
			f0_local0( f32_arg0, f32_arg0._focusIndex )
			f0_local0( f32_arg0, {
				hideFocusDetails = true,
				hideFocusSelector = true
			} )
			local f32_local5 = f32_local3( true, true )
			Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpUnlockSectorMap )
			f32_local5:UnlockSector()
			f32_arg0.InspectPanel:HideAllCheckmarks()
			f32_local2 = f32_arg0:Wait( f0_local0 )
			f32_local2.onComplete = function ()
				local f39_local0 = f32_arg0:GetAnchorsAndPosition()
				f32_arg0._battleMap.UnlockReticle:SetAnchorsAndPosition( f39_local0.leftAnchor, f39_local0.rightAnchor, f39_local0.topAnchor, f39_local0.bottomAnchor, f39_local0.left, f39_local0.right, f39_local0.top, f39_local0.bottom )
				ACTIONS.AnimateSequence( f32_arg0._battleMap.UnlockReticle, 0x537C0BE7B2E528B )
				f32_arg0.InspectPanel:PlayUnlockMulti( {
					nil,
					1,
					2,
					3,
					4,
					5
				}, 1, true )
				local f39_local1 = f32_arg0:Wait( f32_arg0 )
				f39_local1.onComplete = function ()
					f39_local0.InspectPanel:PlaySheenMulti( {
						nil,
						1,
						2,
						3,
						4,
						5
					} )
					f39_local0( true )
					local f40_local0 = BATTLEMAP.GetAdjacentSectorNames( f39_local0._focusIndex, true )
					local f40_local1 = {}
					local f40_local2 = 0
					for f40_local7, f40_local8 in ipairs( f40_local0 ) do
						local f40_local9 = f40_local8 + 1
						local f40_local6 = BATTLEMAP.CanGetSectorState( BATTLEMAP.GetSectorType( f40_local9, f39_local0._season ) )
						if f40_local6 then
							f40_local6 = BATTLEMAP.GetSectorState( f39_local0, f40_local9, f39_local0._season )
						end
						if f40_local6 == BATTLEMAP.SectorState.ACTIVE then
							f40_local1[f40_local9] = true
							f40_local2 = f40_local2 + 1
						end
					end
					if f39_local0._type == BATTLEMAP.SectorType.BLACK_CELL then
						Onboarding.BattlePass.MarkBlackCellBattlePassCelebrationSeen( f39_local0 )
					end
					f40_local3 = function ()
						local f41_local0 = f40_local0
						if f41_local0 then
							f41_local0 = f40_local0.nextState
						end
						if not f41_local0 then
							local f41_local1 = f40_local0()
							if f41_local1.state then
								f41_local0 = f41_local1.state
								f41_local1.state = nil
							else
								f41_local0 = BATTLEMAP.BattlePassStates.NORMAL
							end
						end
						f40_local0:UpdateMapState( f40_local0, f41_local0 )
					end
					
					if 0 < f40_local2 then
						f39_local0( f39_local0, f39_local0._focusIndex, nil, f40_local1 )
						f40_local4 = f39_local0:Wait( f39_local0 )
						f40_local4.onComplete = f40_local3
					else
						f40_local3()
					end
				end
				
			end
			
			f32_arg0.InspectPanel:UpdateCompletionPercent( f32_arg1 )
		end
		if f32_arg0._state == BATTLEMAP.BattlePassStates.COMPLETE then
			f32_arg0._isComplete = true
			f32_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
			f0_local0( f32_arg0, nil, true )
			f0_local0( f32_arg0, {
				hideFocusDetails = true,
				hideFocusSelector = true
			} )
			f32_arg0._focusIndex = BATTLEMAP.FINAL_SECTOR + 1
			f32_local3( false )
			if f32_arg0.CinematicFrame then
				f0_local0( f32_arg0, false )
				f32_arg0.CinematicFrame:StartCinematic( "bp_purchased_complete_jup" )
				f32_arg0.CinematicFrame:PlayBattlePassCompleteAnim()
				f32_arg0.CinematicFrame:setPriority( f0_local0 )
			end
			local f32_local5 = f32_arg0:Wait( f0_local0 )
			f32_local5.onComplete = function ()
				if f32_arg0.CinematicFrame then
					f32_arg0.CinematicFrame:StopCinematic( 0 )
					f32_arg0.CinematicFrame:setPriority( f32_arg0 )
					f32_arg0( f32_arg0, true )
				end
				local f37_local0 = f32_arg0:Wait( f32_arg0 )
				f37_local0.onComplete = function ()
					if f37_local0._isPremium then
						f37_local0:UpdateMapState( f37_local0, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR, {
							nextState = BATTLEMAP.BattlePassStates.NORMAL,
							forceFocusIndex = BATTLEMAP.FINAL_SECTOR + 1
						} )
					else
						f37_local0:UpdateMapState( f37_local0, BATTLEMAP.BattlePassStates.NORMAL )
					end
				end
				
			end
			
		else
			if f32_arg0._state == BATTLEMAP.BattlePassStates.TOKEN_CELEBRATION_CER then
				local f32_local5 = function ()
					if not Onboarding.BattlePass.WasCompleted( f32_arg0 ) then
						f32_arg0:UpdateMapState( f32_arg0, BATTLEMAP.BattlePassStates.ONBOARDING )
					else
						f32_arg0:UpdateMapState( f32_arg0, BATTLEMAP.BattlePassStates.NORMAL )
					end
				end
				
				f32_local2 = BATTLEPASS.GetTokenCacheFromCer( f32_arg1 )
				if f32_local2 then
					f32_local4 = f32_local2
				else
					f32_local4 = 0 < f32_local2
				end
				if not f32_local4 then
					f32_local5()
					return 
				elseif f32_arg0.CinematicFrame then
					f0_local0( f32_arg0, false )
					f32_arg0.CinematicFrame:StartCinematic( "bp_aar_manual_jup" )
					f32_arg0.CinematicFrame:PlayBattlePassTokenEarned( f32_local2, f32_arg0.InspectPanel.BPTokenProgress, false, true )
					f32_arg0.CinematicFrame:setPriority( f0_local0 )
				end
				local f32_local6 = f32_arg0:Wait( f0_local0 )
				f32_local6.onComplete = function ()
					if f32_arg0.CinematicFrame then
						f32_arg0.CinematicFrame:StopCinematic( 0 )
						f32_arg0.CinematicFrame:setPriority( f32_arg0 )
						f32_arg0( f32_arg0, true )
						BATTLEPASS.ResetTokenCacheFromCer( f32_arg0 )
					end
					f32_arg0()
				end
				
			end
			if f32_arg0._state == BATTLEMAP.BattlePassStates.TOKEN_CELEBRATION then
				local f32_local5 = f0_local0( f32_arg0 )
				f32_local2 = f32_local5.tokensPurchased
				f32_local5.tokensPurchased = nil
				f32_local4 = function ()
					f32_arg0:UpdateMapState( f32_arg0, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR )
				end
				
				f32_local3( true, true )
				if f32_local2 == nil or f32_local2 <= 0 then
					f32_local4()
					return 
				end
				f32_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
				f0_local0( f32_arg0, f32_arg0._focusIndex )
				f0_local0( f32_arg0, {
					hideFocusDetails = true,
					hideFocusSelector = true
				} )
				f32_local3( false )
				if f32_arg0.CinematicFrame then
					f0_local0( f32_arg0, false )
					f32_arg0.CinematicFrame:StartCinematic( "bp_aar_manual_jup" )
					f32_arg0.CinematicFrame:PlayBattlePassTokenEarned( f32_local2, f32_arg0.InspectPanel.BPTokenProgress, false, false )
					f32_arg0.CinematicFrame:setPriority( f0_local0 )
				end
				local f32_local6 = f32_arg0:Wait( f0_local0 )
				f32_local6.onComplete = function ()
					if f32_arg0.CinematicFrame then
						f32_arg0.CinematicFrame:StopCinematic( 0 )
						f32_arg0.CinematicFrame:setPriority( f32_arg0 )
						f32_arg0( f32_arg0, true )
					end
					f32_arg0()
				end
				
			end
			f0_local0( f32_arg0, true )
			f32_local3( true )
			f32_arg0._battleMap.Darkener:SetAlpha( 0, 200 )
			f0_local0( f32_arg0, nil, true )
			ACTIONS.AnimateSequence( f32_arg0._battleMap.FocusReticle, 0x16064B810921ABA )
			ACTIONS.AnimateSequence( f32_arg0._battleMap.FocusReticle, 0x1AD24787FCCF859 )
			f32_arg0.InspectPanel:SetNoInteractionOnboarding( false )
		end
	end
end

local f0_local49 = function ( f31_arg0 )
	if f31_arg0._focusIndex then
		local f31_local0 = f31_arg0._battleMap:GetSectorWidget( f31_arg0._focusIndex - 1 )
		f31_local0:processEvent( {
			name = "lose_focus",
			controller = f31_arg0._controllerIndex
		} )
	end
	local f31_local0 = f0_local0( f31_arg0 )
	f31_local0.previousFocusedSectorIndex = f31_arg0._focusIndex
end

local f0_local50 = function ( f30_arg0, f30_arg1 )
	ACTIONS.AnimateSequence( f30_arg0, 0xD8E0C3D2CAE13A2 )
	LUI.FlowManager.RequestErrorPopup( f30_arg1, Engine[0xED84C33EC5F01EA]( 0xD09E09A43DE9B80 ), Engine[0xED84C33EC5F01EA]( 0x2D1270EC2170BC1 ) )
end

local f0_local51 = function ( f29_arg0, f29_arg1, f29_arg2 )
	f0_local0( f29_arg0, f29_arg1 )
	FrontEndScene.HideAllCharacters()
	CLIENT_MODEL.InitBattlePassModels()
	ACTIONS.AnimateSequence( f29_arg0, 0x88538BB599EA558 )
	if f29_arg2._userStateUpdated and 0 < BATTLEPASS.GetTokenCacheFromCer( f29_arg1 ) then
		f29_arg2.state = BATTLEMAP.BattlePassStates.TOKEN_CELEBRATION_CER
	end
	local f29_local0 = f0_local0( f29_arg0 )
	local f29_local1 = f29_arg2.state
	if not f29_local1 then
		f29_local1 = f29_local0.state
		if not f29_local1 then
			f29_local1 = BATTLEMAP.BattlePassStates.NORMAL
		end
	end
	f0_local0( f29_arg0, f29_arg2 )
	f0_local0( f29_arg0 )
	f29_arg0:UpdateMapState( f29_arg1, BATTLEMAP.BattlePassStates.MAP_SETUP )
	f29_arg0.InspectPanel:SetNoInteraction()
	f29_arg0.InspectPanel.BPTokenProgress:SetupInputs()
	f0_local0( f29_arg0 )
	local f29_local2 = BATTLEMAP.IsLimitedTimeEnabled()
	if f29_local2 then
		if f29_local1 == BATTLEMAP.BattlePassStates.NORMAL and not f29_arg2.isLastOnboarding and not Onboarding.BattlePassChallenges.WasCompleted( f29_arg1 ) and not BATTLEMAP.IsLimitedTimeClassified() then
			f29_local2 = BATTLEMAP.HasLimitedTimeSector()
		else
			f29_local2 = false
		end
	end
	if f29_local0.showPurchasePopup then
		f29_local0.showPurchasePopup = nil
		LUI.FlowManager.RequestAddMenu( "JupBattlePassPurchasePopup", true, f29_arg1, false, {
			storeFetchSuccess = true
		}, true )
	elseif f29_local2 then
		f29_arg0:UpdateMapState( f29_arg1, BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING )
	else
		f29_arg0:UpdateMapState( f29_arg1, f29_local1 )
		f29_local0.state = nil
		f29_local0.fromBattlePassIntro = false
	end
end

local f0_local52 = function ( f25_arg0, f25_arg1, f25_arg2 )
	STORE.Popups.OpenGenericFetchPopup( f25_arg1 )
	local f25_local0 = function ( f26_arg0 )
		LUI.DeferredFence.Attach( f26_arg0, f25_arg0, "ACHIEVEMENTENGINE", LUI.DeferredFence.Criticality.LOW, LUI.DeferredFence.BackOutMethod.NONE, function ( f27_arg0, f27_arg1 )
			if f27_arg0._achievementEngineFenceRetrieved or f27_arg1.fenceState ~= LUI.Fence.FenceObjectState.PASSING and f27_arg1.fenceState ~= LUI.Fence.FenceObjectState.FAILED then
				
			end
			f27_arg0._achievementEngineFenceRetrieved = true
			if f27_arg1.fenceState == LUI.Fence.FenceObjectState.PASSING then
				OnlineProgression[0xE826BFCAE818EF0]( f26_arg0 )
				f27_arg0:registerEventHandler( "user_state_updated", function ( element, event )
					f27_arg0._userStateUpdated = event.success
					STORE.Popups.CloseGenericFetchPopup( f27_arg0 )
					element:deregisterEventHandler( "user_state_updated" )
					f27_arg0( element, f27_arg0, f27_arg0 )
				end )
			else
				STORE.Popups.CloseGenericFetchPopup( f26_arg0 )
				f27_arg0:HandleFenceError( f26_arg0 )
			end
		end )
	end
	
	local f25_local1
	if f25_arg0:GetCurrentMenu() == nil then
		f25_local1 = "menu_create"
	else
		f25_local1 = "tab_create"
	end
	f25_arg0:addEventHandler( f25_local1, f25_local0 )
end

local f0_local53 = function ( f24_arg0, f24_arg1 )
	if f24_arg0._battleMap then
		local f24_local0 = f24_arg0._battleMap.FocusReticle
		if f24_local0 then
			local f24_local1 = f24_local0.HoldProgressKBM
			if f24_local1 then
				f24_local1.isProgressStarted = f24_arg1
			end
		end
	end
end

local f0_local54 = function ( f23_arg0 )
	if f23_arg0._battleMap then
		local f23_local0 = f23_arg0._battleMap.FocusReticle
		if f23_local0 then
			local f23_local1 = f23_local0.HoldProgressKBM
			if f23_local1 then
				return f23_local1.isProgressStarted
			end
		end
	end
	return false
end

local f0_local55 = function ( f13_arg0, f13_arg1, f13_arg2 )
	f13_arg0.UpdateBattleMap = f0_local0
	f13_arg0.UpdateFocusSector = f0_local0
	f13_arg0.UpdateMapState = f0_local0
	f13_arg0.SaveState = f0_local0
	f13_arg0.HandleFenceError = f0_local0
	f13_arg0.GetState = f0_local0
	f13_arg0.IsKBMProgressStarted = f0_local0
	f13_arg0.SetKBMProgressStarted = f0_local0
	f13_arg0._controllerIndex = f13_arg1
	f13_arg0._battleMap = f13_arg0.BPMapWidget
	f13_arg0._season = SEASON.GetCurrentSeason()
	f13_arg0._ownsBlackCell = STORE.UI.DoesPlayerOwnBlackCellBundleForSeason( f13_arg1, f13_arg0._season )
	f13_arg0.isQuickAccessShortcutsDisabled = true
	BATTLEMAP.TryStartBattleMapDlogSession( f13_arg1 )
	if f13_arg0._battleMap then
		local f13_local0 = f13_arg0._battleMap.FocusReticle
		if f13_local0 then
			local f13_local1 = f13_local0.HoldProgressKBM
			if f13_local1 then
				f13_local1._options = {}
			end
			f13_local0:SetOnFillCallback( f13_arg0, f0_local0 )
		end
	end
	ACTIONS.AnimateSequence( f13_arg0, 0x6739456D393D597 )
	local f13_local0 = f0_local0( f13_arg0 )
	local f13_local1 = f13_local0.isFromUpsell or f13_local0.isFromPurchase
	f13_local0.isFromUpsell = nil
	f13_local0.isFromPurchase = nil
	if f13_local0.fenceError then
		f13_local0.fenceError = nil
		f13_arg0:HandleFenceError( f13_arg1 )
	elseif f13_local1 then
		OnlineProgression[0xE826BFCAE818EF0]( f13_arg1 )
		f13_arg0:registerEventHandler( "user_state_updated", function ( element, event )
			f13_arg0._userStateUpdated = event.success
			element:deregisterEventHandler( "user_state_updated" )
			f13_arg0( element, f13_arg0, f13_arg0 )
		end )
	else
		f0_local0( f13_arg0, f13_arg1, f13_arg2 )
	end
	f13_arg0:addEventHandler( "gain_focus", function ( f21_arg0, f21_arg1 )
		return true
	end )
	f13_arg0:addEventHandler( "restore_focus", function ( f19_arg0, f19_arg1 )
		if not f19_arg0._focusIndex then
			GL_HACK.LogJupBPFocusIssue( f13_arg0, f19_arg0._focusIndex, "JUP-319566" )
		end
		if MenuUtils.GetLastClosedMenuName() == "PlaylistsUpdatingPopup" then
			local f19_local0 = f13_arg0:Wait( 1 )
			f19_local0.onComplete = function ( f20_arg0 )
				f19_arg0:dispatchEventToRoot( {
					showTabs = true,
					name = "update_tab_visibility"
				} )
				local f20_local0 = f20_arg0:getParent()
				f20_local0.Tabs:FocusTab( f20_arg0._controllerIndex, 0 )
			end
			
			return 
		end
		local f19_local0 = f19_arg0._focusIndex
		if not f19_local0 then
			f19_local0 = BATTLEMAP.FIRST_SECTOR_INDEX
		end
		f19_arg0._focusIndex = f19_local0
		f19_local0 = f19_arg0._battleMap:GetSectorWidget( f19_arg0._focusIndex - 1 )
		if not f19_local0:isInFocus() then
			f19_local0:processEvent( {
				name = "gain_focus",
				controller = f19_arg0._controllerIndex
			} )
		end
	end )
	f13_arg0:registerEventHandler( "close_auto_switch", function ( element, event )
		f13_arg0:UpdateBattleMap( event.toggleState )
	end )
	f13_arg0:addEventHandler( "tab_create", function ( f17_arg0, f17_arg1 )
		if f17_arg0:GetCurrentMenu() then
			f17_arg0:dispatchEventToCurrentMenu( {
				name = "battlepass_menu_opened",
				controllerIndex = f17_arg1.controller or f13_arg0
			} )
		end
	end )
	f13_arg0:addEventHandler( "tab_destroy", function ( f16_arg0, f16_arg1 )
		BATTLEMAP.AddAnalyticsData( BATTLEMAP.DLOG_FOCUSED_SECTOR_BROWSE_TIME_ARRAY, f16_arg0._currentFocusTime and CoD.GetUTC() - f16_arg0._currentFocusTime or 0 )
		local f16_local0 = f13_arg0()
		if f16_local0 then
			f16_local0.prevSection = nil
		end
		if f16_arg0:GetCurrentMenu() then
			f16_arg0:dispatchEventToCurrentMenu( {
				name = "battlepass_menu_closed",
				controllerIndex = f16_arg1.controller or f13_arg0
			} )
		end
		ACTIONS.LeaveMenuByName( "JupBPAutoSwitchPopup" )
		Engine[0x3DACD106DDC0D71]()
	end )
	f13_arg0:addEventHandler( "purchase_bp_or_blackcell", function ( f15_arg0, f15_arg1 )
		if f15_arg0._showPurchaseButton then
			f15_arg0.BattlePassPurchaseButton:ShowPurchasePopup( f13_arg0._controllerIndex )
		end
	end )
	f13_arg0:addEventHandler( "menu_close", function ( f14_arg0, f14_arg1 )
		BATTLEMAP.AddAnalyticsData( BATTLEMAP.DLOG_FOCUSED_SECTOR_BROWSE_TIME_ARRAY, f14_arg0._currentFocusTime and CoD.GetUTC() - f14_arg0._currentFocusTime or 0 )
		Engine[0x3DACD106DDC0D71]()
		if not f13_arg0._isEnteringSector then
			local f14_local0 = BATTLEMAP.GetSectorUnlockData( f13_arg0._controllerIndex, f13_arg0._season, f13_arg0._focusIndex )
			if f14_local0 then
				local f14_local1 = f14_local0[BATTLEMAP.NUM_UNLOCKS_PER_SECTOR]
				if f14_local1 then
					local f14_local2 = BATTLEMAP.SectionForLootType( f14_local1.lootRef, f14_local1.lootType )
					BATTLEMAP.SendBattlemapSectorUpdateToServer( f14_local1.rewardRef, BATTLEMAP.BATTLEMAP_SCENES.none, nil, -1, true, LOOT.itemTypes.INVALID )
					CLIENT_MODEL.HideAllBattlePassModels()
				end
			end
		end
	end )
	LUI.FlowManager.TriggerSlideInBottom( f13_arg0.InspectPanel, 500, 700, LUI.EASING.inOutQuartic )
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		local f2_local0 = function ( f12_arg0, f12_arg1 )
			
		end
		
		if f2_arg0[0xC28ECEC1C92DD57] then
			f2_arg0[0xC28ECEC1C92DD57]:RegisterAnimationSequence( 0x57CE7A3C260217, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Visible
			} )
		end
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0x57CE7A3C260217, {
			nil,
			nil,
			1,
			0,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = TWEEN_PROPERTY.Visibility,
			[5] = LUI.Visibility.Visible
		} )
		local f2_local1 = function ( f11_arg0, f11_arg1 )
			if f11_arg0[0xC28ECEC1C92DD57] then
				f11_arg0[0xC28ECEC1C92DD57]:AnimateSequence( 0x57CE7A3C260217 )
			end
			f11_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0x57CE7A3C260217 )
		end
		
		if f2_arg0[0xC28ECEC1C92DD57] then
			f2_arg0[0xC28ECEC1C92DD57]:RegisterAnimationSequence( 0xC0A83E6107A33A2, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Hidden
			} )
		end
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0xC0A83E6107A33A2, {
			nil,
			nil,
			0,
			0,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = TWEEN_PROPERTY.Visibility,
			[5] = LUI.Visibility.Hidden
		} )
		f2_arg0[0xBC5F477C183F34B]:RegisterAnimationSequence( 0xC0A83E6107A33A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f2_local2 = function ( f10_arg0, f10_arg1 )
			if f10_arg0[0xC28ECEC1C92DD57] then
				f10_arg0[0xC28ECEC1C92DD57]:AnimateSequence( 0xC0A83E6107A33A2 )
			end
			f10_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0xC0A83E6107A33A2 )
			f10_arg0[0xBC5F477C183F34B]:AnimateSequence( 0xC0A83E6107A33A2 )
		end
		
		f2_arg0[0x777B4213DF10F75]:RegisterAnimationSequence( 0x67B893A709AB37, {
			nil,
			nil,
			0,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0x67B893A709AB37, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f2_local3 = function ( f9_arg0, f9_arg1 )
			f9_arg0[0x777B4213DF10F75]:AnimateSequence( 0x67B893A709AB37 )
			f9_arg0[0x789F59964A52CEF]:AnimateSequence( 0x67B893A709AB37 )
		end
		
		f2_arg0[0x777B4213DF10F75]:RegisterAnimationSequence( 0x853294F5A21A65E, {
			nil,
			nil,
			1,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0x853294F5A21A65E, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f2_local4 = function ( f8_arg0, f8_arg1 )
			f8_arg0[0x777B4213DF10F75]:AnimateSequence( 0x853294F5A21A65E )
			f8_arg0[0x789F59964A52CEF]:AnimateSequence( 0x853294F5A21A65E )
		end
		
		f2_arg0[0x827960E7D0BB747]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f2_local5 = function ( f7_arg0, f7_arg1 )
			f7_arg0[0x827960E7D0BB747]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
			f7_arg0[0x789F59964A52CEF]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
			f7_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
		end
		
		f2_arg0[0x827960E7D0BB747]:RegisterAnimationSequence( 0x6739456D393D597, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0x6739456D393D597, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0x6739456D393D597, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x7C35992B346089F]:RegisterAnimationSequence( 0x6739456D393D597, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f2_local6 = function ( f6_arg0, f6_arg1 )
			f6_arg0[0x827960E7D0BB747]:AnimateSequence( 0x6739456D393D597 )
			f6_arg0[0x789F59964A52CEF]:AnimateSequence( 0x6739456D393D597 )
			f6_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0x6739456D393D597 )
			f6_arg0[0x7C35992B346089F]:AnimateSequence( 0x6739456D393D597 )
		end
		
		f2_arg0[0x827960E7D0BB747]:RegisterAnimationSequence( 0x88538BB599EA558, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0x88538BB599EA558, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0x88538BB599EA558, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f2_arg0[0x7C35992B346089F]:RegisterAnimationSequence( 0x88538BB599EA558, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f2_local7 = function ( f5_arg0, f5_arg1 )
			f5_arg0[0x827960E7D0BB747]:AnimateSequence( 0x88538BB599EA558 )
			f5_arg0[0x789F59964A52CEF]:AnimateSequence( 0x88538BB599EA558 )
			f5_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0x88538BB599EA558 )
			f5_arg0[0x7C35992B346089F]:AnimateSequence( 0x88538BB599EA558 )
		end
		
		if f2_arg0[0xC28ECEC1C92DD57] then
			f2_arg0[0xC28ECEC1C92DD57]:RegisterAnimationSequence( 0x809CDAB93BC24EB, {
				nil,
				nil,
				1.595241687E-314,
				0,
				nil,
				1.595437985E-314,
				0,
				[1] = TWEEN_PROPERTY.Bottom,
				[4] = TWEEN_PROPERTY.Top
			} )
		end
		f2_arg0[0xBC5F477C183F34B]:RegisterAnimationSequence( 0x809CDAB93BC24EB, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f2_local8 = function ( f4_arg0, f4_arg1 )
			if f4_arg0[0xC28ECEC1C92DD57] then
				f4_arg0[0xC28ECEC1C92DD57]:AnimateSequence( 0x809CDAB93BC24EB )
			end
			f4_arg0[0xBC5F477C183F34B]:AnimateSequence( 0x809CDAB93BC24EB )
		end
		
		if f2_arg0[0xC28ECEC1C92DD57] then
			f2_arg0[0xC28ECEC1C92DD57]:RegisterAnimationSequence( 0x99223BA6E80D1A4, {
				nil,
				nil,
				1.595332753E-314,
				0,
				nil,
				1.595241687E-314,
				0,
				[1] = TWEEN_PROPERTY.Top,
				[4] = TWEEN_PROPERTY.Bottom
			} )
		end
		f2_arg0[0xBC5F477C183F34B]:RegisterAnimationSequence( 0x99223BA6E80D1A4, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x49D85F0EF1CEC84] = {
			[0xEF6C3AB55C07BEF] = f2_local0,
			[0x57CE7A3C260217] = f2_local1,
			[0xC0A83E6107A33A2] = f2_local2,
			[0x67B893A709AB37] = f2_local3,
			[0x853294F5A21A65E] = f2_local4,
			[0xD8E0C3D2CAE13A2] = f2_local5,
			[0x6739456D393D597] = f2_local6,
			[0x88538BB599EA558] = f2_local7,
			[0x809CDAB93BC24EB] = f2_local8,
			[0x99223BA6E80D1A4] = function ( f3_arg0, f3_arg1 )
				if f3_arg0[0xC28ECEC1C92DD57] then
					f3_arg0[0xC28ECEC1C92DD57]:AnimateSequence( 0x99223BA6E80D1A4 )
				end
				f3_arg0[0xBC5F477C183F34B]:AnimateSequence( 0x99223BA6E80D1A4 )
			end
		}
		f2_arg0[0xD97E59A206E4A54] = {
			[0x853294F5A21A65E] = 0,
			[0x67B893A709AB37] = 0,
			[0xC0A83E6107A33A2] = 0,
			[0x809CDAB93BC24EB] = 0,
			[0xEF6C3AB55C07BEF] = 0,
			[0x88538BB599EA558] = 0,
			[0x99223BA6E80D1A4] = 0,
			[0x57CE7A3C260217] = 0,
			[0x6739456D393D597] = 0,
			[0xD8E0C3D2CAE13A2] = 0
		}
	end
}
function JupBPMap( f1_arg0, f1_arg1 )
	local f1_local0 = CONDITIONS
	local f1_local1 = LUI
	local f1_local2 = MenuBuilder
	local f1_local3 = TWEEN_PROPERTY
	local f1_local4 = f1_local1.UIElement.new()
	f1_local4:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920, 0, 1080 )
	f1_local4.id = "JupBPMap"
	f1_local4[0xBD5D934D3CD91E5] = States
	local f1_local5
	if f1_arg1 then
		f1_local5 = f1_arg1
	else
		f1_local5 = f1_arg1.controllerIndex
	end
	f1_local5 = f1_local1.ValidateControllerIndex( f1_local4, f1_local5 )
	local f1_local6 = nil
	f1_local6 = f1_local1.UIImage.new()
	f1_local6[0x8B72E07B55C3AC0] = "Background"
	ACTIONS.ScaleFullscreen( f1_local6 )
	f1_local6:SetRGB( SWATCHES[0x1F5A9ABAC207F9D][0x8088E72737CAC80], 0 )
	f1_local4:addElement( f1_local6 )
	f1_local4[0xD4176E7CA246EDD] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local2.BuildRegisteredType( 0x7060EB1ED2CBA18, {
		controllerIndex = f1_local5
	} )
	f1_local7[0x8B72E07B55C3AC0] = "BPMapWidget"
	f1_local7:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -960, 960, -540, 540 )
	f1_local4:addElement( f1_local7 )
	f1_local4[0x827960E7D0BB747] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local1.UIImage.new()
	f1_local8[0x8B72E07B55C3AC0] = "TopDarkener"
	f1_local8:SetRGB( 0, 0 )
	f1_local8:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -960, 960, -668, -540 )
	f1_local4:addElement( f1_local8 )
	f1_local4[0x80D9B23920642F0] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local1.UIImage.new()
	f1_local9[0x8B72E07B55C3AC0] = "BottomDarkener"
	f1_local9:SetRGB( 0, 0 )
	f1_local9:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -960, 960, 540, 668 )
	f1_local4:addElement( f1_local9 )
	f1_local4[0xB387D52DED66E96] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local2.BuildRegisteredType( 0x9B7488BB8C8E2D8, {
		controllerIndex = f1_local5
	} )
	f1_local10[0x8B72E07B55C3AC0] = "FactionInspect"
	f1_local10:SetVisible( false )
	f1_local10:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -960, 960, -1080, 0 )
	f1_local4:addElement( f1_local10 )
	f1_local4[0x777B4213DF10F75] = f1_local10
	local f1_local11 = nil
	f1_local11 = f1_local2.BuildRegisteredType( 0xCEF5D7F448F349C, {
		controllerIndex = f1_local5
	} )
	f1_local11[0x8B72E07B55C3AC0] = "InspectPanel"
	f1_local11:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -960, 960, -375, 0 )
	f1_local4:addElement( f1_local11 )
	f1_local4[0x789F59964A52CEF] = f1_local11
	local f1_local12 = nil
	if f1_local0.UserEarnsWeeklyChallengeBPTokens() then
		f1_local12 = f1_local2.BuildRegisteredType( 0xDEFA38A888607BC, {
			controllerIndex = f1_local5
		} )
		f1_local12[0x8B72E07B55C3AC0] = "WeeklyChallengeButton"
		f1_local12:SetVisible( false )
		f1_local12:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, 341, 581, -359.5, -314.5 )
		f1_local4:addElement( f1_local12 )
		f1_local4[0xC28ECEC1C92DD57] = f1_local12
	end
	local f1_local13 = nil
	f1_local13 = f1_local2.BuildRegisteredType( 0xCDAB602AE77EC65, {
		controllerIndex = f1_local5
	} )
	f1_local13[0x8B72E07B55C3AC0] = "BattlePassPurchaseButton"
	f1_local13:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, 586, 908, -370, -304 )
	f1_local4:addElement( f1_local13 )
	f1_local4[0x6E52D9244E6FE65] = f1_local13
	local f1_local14 = nil
	f1_local14 = f1_local2.BuildRegisteredType( 0xCDAB602AE77EC65, {
		controllerIndex = f1_local5
	} )
	f1_local14[0x8B72E07B55C3AC0] = "BlackCellPurchaseButton"
	f1_local14:SetVisible( false )
	f1_local14[0xBD068E64DD33F7B]:setText( "[{ui_alt2}]", 0 )
	f1_local14:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, 586, 908, -422, -356 )
	f1_local4:addElement( f1_local14 )
	f1_local4[0xBC5F477C183F34B] = f1_local14
	local f1_local15 = nil
	f1_local15 = f1_local1.UIImage.new()
	f1_local15[0x8B72E07B55C3AC0] = "Blackout"
	f1_local15:SetVisible( false )
	f1_local15:SetRGB( 0, 0 )
	f1_local15:setPriority( 23 )
	f1_local4:addElement( f1_local15 )
	f1_local4[0x59F568B9152C568] = f1_local15
	local f1_local16 = nil
	f1_local16 = f1_local2.BuildRegisteredType( 0xDA72A46C671357A, {
		controllerIndex = f1_local5
	} )
	f1_local16[0x8B72E07B55C3AC0] = "CinematicFrame"
	f1_local16:SetAlpha( 0, 0 )
	f1_local16:setPriority( 24 )
	f1_local16:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, -8, -8 )
	f1_local4:addElement( f1_local16 )
	f1_local4[0x7C35992B346089F] = f1_local16
	local f1_local17 = nil
	f1_local17 = f1_local2.BuildRegisteredType( 0xD9D4E5454CE2563, {
		controllerIndex = f1_local5
	} )
	f1_local17[0x8B72E07B55C3AC0] = "BootUpDetails"
	f1_local17:SetVisible( false )
	f1_local17:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -800, 800, -275, -54 )
	f1_local4:addElement( f1_local17 )
	f1_local4[0xC386684DCC8B266] = f1_local17
	f0_local0( f1_local4, f1_local5, f1_arg1 )
	return f1_local4
end

MenuBuilder.registerType( 0xDD096098EF3D244, JupBPMap )
LockTable( _M )
