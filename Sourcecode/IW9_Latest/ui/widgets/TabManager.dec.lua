-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
LUI.TabManager = LUI.Class( LUI.UIVerticalList )
LUI.TabManager.TAB_SWITCH_EVENT = "tab_switch"
local f0_local0 = 12 * _1080p
local f0_local1 = -10
local f0_local2 = 10
local f0_local3 = function ( f74_arg0, f74_arg1 )
	local f74_local0 = f74_arg0._buildSpacer()
	f74_local0.id = "spacer" .. f74_arg1
	table.insert( f74_arg0._spacerElements, f74_local0 )
	f74_arg0._tabNavigator:addElement( f74_local0 )
end

local f0_local4 = function ( f73_arg0 )
	local self = LUI.UIElement.new()
	local f73_local1
	if f73_arg0 then
		f73_local1 = "leftSpacer"
	else
		f73_local1 = "rightSpacer"
	end
	self.id = f73_local1
	local f73_local2 = self
	f73_local1 = self.SetAnchorsAndPosition
	local f73_local3
	if f73_arg0 then
		f73_local3 = 0
	else
		f73_local3 = 1
	end
	local f73_local4
	if f73_arg0 then
		f73_local4 = 1
	else
		f73_local4 = 0
	end
	f73_local1( f73_local2, f73_local3, f73_local4, 0, 1, 0, f0_local0, 0, f0_local0 )
	if not f73_arg0 then
		self:setPriority( f0_local0 - 1 )
	end
	return self
end

local f0_local5 = function ( f72_arg0, f72_arg1 )
	if f72_arg0._buildSpacer and 0 < f72_arg1 then
		f0_local0( f72_arg0, f72_arg1 - 1 )
	end
	local f72_local0 = f72_arg0._buildTab( f72_arg1 )
	if f72_arg0._tabs and f72_arg0._tabs[f72_arg1 + 1] and f72_arg0._tabs[f72_arg1 + 1].buildSpecificTab then
		f72_local0 = f72_arg0._tabs[f72_arg1 + 1].buildSpecificTab()
	end
	assert( type( f72_local0 ) == "userdata" )
	f72_local0.id = "tab" .. f72_arg1
	f72_local0.index = f72_arg1
	f72_arg0._tabElements[f72_arg1 + 1] = f72_local0
	f72_arg0._tabNavigator:addElement( f72_local0 )
	return f72_local0
end

local f0_local6 = function ( f71_arg0 )
	for f71_local3, f71_local4 in ipairs( f71_arg0._tabElements ) do
		f71_local4:closeTree()
	end
	f71_arg0._tabElements = {}
	for f71_local3, f71_local4 in ipairs( f71_arg0._spacerElements ) do
		f71_local4:closeTree()
	end
	f71_arg0._spacerElements = {}
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x26A15B839022F6F ) then
		LUI.UIRoot.CreateNavigationHistory( f71_arg0._controllerIndex )
	end
end

local f0_local7 = function ( f70_arg0 )
	assert( f70_arg0._tabManagerDataSource )
	local f70_local0 = f70_arg0._tabManagerDataSource:GetCountValue( f70_arg0._controllerIndex )
	for f70_local1 = 0, f70_local0 - 1, 1 do
		local f70_local4 = f0_local0( f70_arg0, f70_local1 )
		local f70_local5 = f70_arg0._tabManagerDataSource:GetDataSourceAtIndex( f70_local1, f70_arg0._controllerIndex )
		if not f70_local5.disabled and f70_local5.name then
			f70_local5.disabled = f70_local5.name:GetDataSourceForSubmodel( "disabled", false )
		end
		f70_local4:SetDataSource( f70_local5, f70_arg0._controllerIndex )
	end
end

local f0_local8 = function ( f69_arg0 )
	assert( f69_arg0._tabs )
	local f69_local0 = #f69_arg0._tabs
	for f69_local1 = 1, f69_local0, 1 do
		local f69_local4 = true
		if f69_arg0._tabs[f69_local1].isVisible ~= nil then
			f69_local4 = f69_arg0._tabs[f69_local1].isVisible
		end
		if f69_local4 then
			local f69_local5 = f0_local0( f69_arg0, f69_local1 - 1 )
			if f69_local5.Setup then
				f69_local5:Setup( f69_arg0._tabs[f69_local1] )
				if f69_arg0._postSetupFunc then
					f69_local5.postTabSetupFunc = f69_arg0._tabs[f69_local1].postTabSetupFunc
					f69_arg0._postSetupFunc( f69_local5, {
						manager = f69_arg0,
						controllerIndex = f69_arg0._controllerIndex
					} )
				end
			end
			if f69_arg0._tabs[f69_local1].disabled then
				f69_local5:Disable()
				if f69_arg0._tabs[f69_local1].additionalDisableAction then
					f69_arg0._tabs[f69_local1].additionalDisableAction( f69_local5 )
				end
			end
			local f69_local6 = f69_arg0._tabs[f69_local1].canRefocus
			if f69_local6 ~= nil then
				f69_local5.canRefocus = f69_local6
			end
		end
	end
end

LUI.TabManager.SetPostSetupFunc = function ( f68_arg0, f68_arg1 )
	f68_arg0._postSetupFunc = f68_arg1
end

LUI.TabManager.GetNumTabs = function ( f67_arg0 )
	if f67_arg0._tabManagerDataSource then
		return f67_arg0._tabManagerDataSource:GetCountValue( f67_arg0._controllerIndex )
	elseif f67_arg0._tabs then
		return #f67_arg0._tabs
	else
		
	end
end

LUI.TabManager.HasTab = function ( f66_arg0 )
	local f66_local0
	if f66_arg0 then
		f66_local0 = f66_arg0
	else
		f66_local0 = LUI.TabManager.GetNumTabs( f66_arg0 )
	end
	local f66_local1
	if f66_local0 == nil or 0 >= f66_local0 then
		f66_local1 = false
	else
		f66_local1 = true
	end
	return f66_local1
end

LUI.TabManager.GetDefaultTab = function ( f65_arg0 )
	if f65_arg0._tabManagerDataSource then
		return f65_arg0._tabManagerDataSource:GetDefaultFocusIndex( f65_arg0._controllerIndex ) or 0
	elseif f65_arg0._tabs then
		if f65_arg0._defaultFocus then
			if type( f65_arg0._defaultFocus ) == "function" then
				local f65_local0 = f65_arg0:_defaultFocus()
				if f65_local0 then
					return f65_local0 - 1
				end
			else
				return f65_arg0._defaultFocus - 1
			end
		end
		local f65_local0 = LUI.FlowManager.GetScopedData( f65_arg0 )
		if f65_local0 and f65_local0.activeTabIndex then
			return f65_local0.activeTabIndex
		end
		for f65_local1 = 1, #f65_arg0._tabs, 1 do
			if f65_arg0._tabs[f65_local1].hasDefaultFocus then
				if type( f65_arg0._tabs[f65_local1].hasDefaultFocus ) == "function" then
					if f65_arg0._tabs[f65_local1]:hasDefaultFocus( f65_arg0._controllerIndex ) then
						return f65_local1 - 1
					end
				end
				return f65_local1 - 1
			end
		end
		return 0
	end
end

local f0_local9 = function ( f63_arg0, f63_arg1 )
	if f63_arg0._tabManagerDataSource then
		local f63_local0 = f63_arg0._tabManagerDataSource:GetDataSourceAtIndex( f63_arg1, f63_arg0._controllerIndex )
		assert( f63_local0.focusFunction, "A data source provided to the tab manager needs to have a focusFunction defined at every index." )
		local f63_local1 = f63_local0.focusFunction
	elseif LUI.TabManager.HasTab( f63_arg0 ) then
		return f63_arg0._tabs[f63_arg1 + 1].focusFunction or function ()
			
		end
		
	end
end

local f0_local10 = function ( f59_arg0, f59_arg1 )
	if f59_arg0._tabManagerDataSource then
		local f59_local0 = f59_arg0._tabManagerDataSource:GetDataSourceAtIndex( f59_arg1, f59_arg0._controllerIndex )
		return f59_local0.focusCondition or function ()
			return true
		end
		
	elseif LUI.TabManager.HasTab( f59_arg0 ) then
		return f59_arg0._tabs[f59_arg1 + 1].focusCondition or function ()
			return true
		end
		
	else
		return function ()
			return true
		end
		
	end
end

LUI.TabManager.IsTabEnabled = function ( f58_arg0, f58_arg1 )
	if f58_arg0._tabManagerDataSource then
		local f58_local0 = f58_arg0._tabManagerDataSource:GetDataSourceAtIndex( f58_arg1, f58_arg0._controllerIndex )
		local f58_local1
		if f58_local0.disabled then
			f58_local1 = not f58_local0.disabled:GetValue( f58_arg0._controllerIndex )
		else
			f58_local1 = true
		end
		return f58_local1
	else
		return f58_arg0._tabElements[f58_arg1 + 1]:IsEnabled()
	end
end

local f0_local11 = function ( f57_arg0, f57_arg1 )
	if not ClickStream.IsEnabled() then
		return 
	end
	local f57_local0 = Engine[0x3B8CFB6758EF57C]()
	local f57_local1 = LUI.TabManager.GetTabAtIndex( f57_arg0, f57_arg1 + 1 )
	if f57_local1 == nil then
		return 
	end
	f57_local1.tabDurationTimeStamp = f57_local0
	local f57_local2
	if f57_local1 then
		f57_local2 = "#Tab " .. (f57_local1.menuId and f57_local1.menuId or f57_local1.id)
		if not f57_local2 then
		
		else
			local f57_local3 = Engine[0xEE6F69FEA944B13]()
			local f57_local4 = f57_local3.flowManager:GetTopMostOpenMenuInfo()
			local f57_local5
			if f57_local4 then
				f57_local5 = f57_local4.name
				if not f57_local5 then
				
				else
					ClickStream.SendDlogEvent( f57_arg0._controllerIndex, {
						duration = 0,
						isNavigation = true,
						direction = ClickStream.Direction.NONE,
						destinationScreen = f57_local5 .. "-" .. f57_local2,
						currentScreen = "Tabs Created#Tab"
					} )
				end
			end
			f57_local5 = "NA"
		end
	end
	f57_local2 = "Empty New Tab"
end

local f0_local12 = function ( f55_arg0 )
	if not ClickStream.IsEnabled() then
		
	else
		
	end
	f55_arg0:addEventHandler( "on_close", function ( f56_arg0 )
		local f56_local0 = Engine[0x3B8CFB6758EF57C]()
		local f56_local1 = f56_arg0:GetCurrentTab()
		local f56_local2 = f56_local1.tabDurationTimeStamp and f56_local0 - f56_local1.tabDurationTimeStamp or 0
		local f56_local3 = "Tabs Closed#Tab"
		local f56_local4
		if f56_local1 then
			f56_local4 = "#Tab " .. (f56_local1.menuId and f56_local1.menuId or f56_local1.id)
			if not f56_local4 then
			
			else
				local f56_local5 = Engine[0xEE6F69FEA944B13]()
				local f56_local6 = f56_local5.flowManager:GetTopMostOpenMenuInfo()
				local f56_local7
				if f56_local6 then
					f56_local7 = f56_local6.name
					if not f56_local7 then
					
					else
						ClickStream.SendDlogEvent( f56_arg0._controllerIndex, {
							isNavigation = true,
							direction = ClickStream.Direction.NONE,
							destinationScreen = f56_local3,
							currentScreen = f56_local7 .. "-" .. f56_local4,
							duration = f56_local2
						} )
					end
				end
				f56_local7 = "NA"
			end
		end
		f56_local4 = "Empty Tab"
	end )
end

local f0_local13 = function ( f54_arg0, f54_arg1, f54_arg2, f54_arg3 )
	if not ClickStream.IsEnabled() then
		return 
	elseif f54_arg2 then
		local f54_local0 = LUI.TabManager.GetTabAtIndex( f54_arg0, f54_arg2 + 1 )
		if f54_local0 then
			local f54_local1 = Engine[0x3B8CFB6758EF57C]()
			local f54_local2 = f54_arg3.tabDurationTimeStamp and f54_local1 - f54_arg3.tabDurationTimeStamp or 0
			f54_local0.tabDurationTimeStamp = f54_local1
			local f54_local3 = f54_local0.menuId and "#Tab " .. f54_local0.menuId or f54_local0.id
			local f54_local4
			if f54_arg3 then
				f54_local4 = "#Tab " .. (f54_arg3.menuId and f54_arg3.menuId or f54_arg3.id)
				if not f54_local4 then
				
				elseif f54_local3 ~= f54_local4 then
					local f54_local5 = Engine[0xEE6F69FEA944B13]()
					local f54_local6 = f54_local5.flowManager:GetTopMostOpenMenuInfo()
					local f54_local7
					if f54_local6 then
						f54_local7 = f54_local6.name
						if not f54_local7 then
						
						else
							f54_local6.currentTabName = f54_local3
							ClickStream.SendDlogEvent( f54_arg1, {
								isNavigation = true,
								direction = ClickStream.Direction.NONE,
								destinationScreen = f54_local7 .. "-" .. f54_local3,
								currentScreen = f54_local7 .. "-" .. f54_local4,
								duration = f54_local2
							} )
						end
					end
					f54_local7 = "NA"
				end
			end
			f54_local4 = "Empty Tab"
		end
	end
end

local f0_local14 = function ( f53_arg0 )
	f0_local0( f53_arg0 )
	if f53_arg0._tabManagerDataSource then
		f0_local0( f53_arg0 )
	else
		if not f53_arg0._tabs then
			return 
		end
		f0_local0( f53_arg0 )
	end
	f53_arg0:FocusTab( f53_arg0._controllerIndex, f53_arg0:GetDefaultTab(), FocusType.MenuFlow )
end

local f0_local15 = function ( f52_arg0, f52_arg1 )
	assert( f52_arg0.leftShoulderButton )
	assert( f52_arg0.rightShoulderButton )
	if f52_arg0._buildArrows then
		assert( f52_arg0.LeftArrow )
		assert( f52_arg0.RightArrow )
	end
	if LUI.IsGamepadActiveInputMethodForPrompts( f52_arg1 ) then
		local f52_local0 = f52_arg0.leftShoulderButton
		local f52_local1 = f52_local0
		f52_local0 = f52_local0.SetAlpha
		local f52_local2
		if f52_arg0._forceHideTabNavButtons then
			f52_local2 = 0
		else
			f52_local2 = 0.6
		end
		f52_local0( f52_local1, f52_local2 )
		f52_local0 = f52_arg0.rightShoulderButton
		f52_local1 = f52_local0
		f52_local0 = f52_local0.SetAlpha
		if f52_arg0._forceHideTabNavButtons then
			f52_local2 = 0
		else
			f52_local2 = 0.6
		end
		f52_local0( f52_local1, f52_local2 )
		if f52_arg0._buildArrows then
			f52_arg0.LeftArrow:SetAlpha( 0 )
			f52_arg0.RightArrow:SetAlpha( 0 )
		end
	else
		f52_arg0.leftShoulderButton:SetAlpha( 0, 0 )
		f52_arg0.rightShoulderButton:SetAlpha( 0, 0 )
		if f52_arg0._buildArrows then
			f52_arg0.LeftArrow:SetAlpha( 1 )
			f52_arg0.RightArrow:SetAlpha( 1 )
		end
	end
	LAYOUT.ResetElementAnchorAndPosition( f52_arg0._tabNavigator )
end

function GetBuildMenuFocusFunction( f50_arg0, f50_arg1 )
	return function ( f51_arg0, f51_arg1, f51_arg2 )
		local f51_local0 = f50_arg0( f51_arg1, f51_arg2 )
		f51_local0.id = "menu" .. f51_arg2
		if f51_arg0.currentMenu then
			f51_arg0.currentMenu:closeTree()
		end
		f51_arg0.menuContainer:addElement( f51_local0 )
		f51_arg0.currentMenu = f51_local0
		if f50_arg0 then
			f50_arg0( f51_local0 )
		end
	end
	
end

function GetDataSourceFocusFunction( f48_arg0 )
	return function ( f49_arg0, f49_arg1, f49_arg2 )
		if not f49_arg0.currentMenu then
			local f49_local0 = f48_arg0( f49_arg1 )
			f49_local0.id = "dataSourceMenu"
			f49_arg0.menuContainer:addElement( f49_local0 )
			f49_arg0.currentMenu = f49_local0
		end
		f49_arg0.currentMenu:SetDataSource( f49_arg0._tabManagerDataSource:GetDataSourceAtIndex( f49_arg2 ), f49_arg1 )
	end
	
end

local f0_local16 = function ( f47_arg0, f47_arg1, f47_arg2 )
	if f47_arg0._sendTabSwitchEvent and f47_arg0._currentTab then
		local f47_local0 = f47_arg0:GetCurrentTab()
		if f47_local0 then
			f0_local0( f47_arg0, f47_arg1, f47_arg2, f47_local0 )
			f47_local0:processEvent( {
				name = LUI.TabManager.TAB_SWITCH_EVENT,
				controller = f47_arg1,
				index = f47_arg0._currentTab,
				newIndex = f47_arg2
			} )
		end
	end
end

LUI.TabManager.init = function ( f38_arg0, f38_arg1 )
	assert( f38_arg1 )
	assert( type( f38_arg1.buildTab ) == "function" )
	assert( type( f38_arg1.controllerIndex ) == "number" )
	local self = assert
	local f38_local1
	if f38_arg1.tabHeight ~= nil and type( f38_arg1.tabHeight ) ~= "number" then
		f38_local1 = false
	else
		f38_local1 = true
	end
	self( f38_local1 )
	self = assert
	if f38_arg1.height ~= nil and type( f38_arg1.height ) ~= "number" then
		f38_local1 = false
	else
		f38_local1 = true
	end
	self( f38_local1 )
	self = assert
	if f38_arg1.dataSource ~= nil and type( f38_arg1.dataSource ) ~= "table" then
		f38_local1 = false
	else
		f38_local1 = true
	end
	self( f38_local1 )
	self = assert
	if f38_arg1.tabs ~= nil and type( f38_arg1.dataSource ) ~= "table" then
		f38_local1 = false
	else
		f38_local1 = true
	end
	self( f38_local1 )
	self = assert
	if f38_arg1.wrap ~= nil and type( f38_arg1.wrap ) ~= "boolean" then
		f38_local1 = false
	else
		f38_local1 = true
	end
	self( f38_local1 )
	f38_arg1.tabHeight = f38_arg1.tabHeight or 52
	f38_arg1.height = f38_arg1.height or f38_arg1.tabHeight
	f38_arg1.useTriggers = f38_arg1.useTriggers or false
	f38_arg1.useRightStick = f38_arg1.useRightStick or false
	f38_arg1.useDpad = f38_arg1.useDpad or false
	if f38_arg1.useRightStick then
		f38_arg0._rightStickDelay = f38_arg1.rightStickDelay or 150
		f38_arg0._rightStickDeadzone = f38_arg1.rightStickDeadzone or 0.25
		f38_arg0._rightStickOnCooldown = false
	end
	LUI.TabManager.super.init( f38_arg0 )
	f38_arg0.id = "tabManager"
	f38_arg0._tabElements = {}
	f38_arg0._spacerElements = {}
	f38_arg0._buildTab = f38_arg1.buildTab
	f38_arg0._buildSpacer = f38_arg1.buildSpacer
	f38_arg0._buildArrows = f38_arg1.buildArrows
	f38_arg0._controllerIndex = f38_arg1.controllerIndex
	f38_arg0._sendTabSwitchEvent = f38_arg1.sendTabSwitchEvent or false
	f38_arg0._direction = f38_arg1.direction
	f38_arg0._isTabs = true
	f38_arg0._forceHideTabNavButtons = f38_arg1.forceHideTabNavButtons
	f38_arg0._postSetupFunc = f38_arg1.postSetupFunc
	f38_arg0:registerEventHandler( "restore_focus", LUI.TabManager.restoreFocus )
	self = LUI.UIElement.new()
	self.id = "navigatorContainer"
	f38_arg0.navigatorContainer = self
	f38_arg0:addElement( self )
	local f38_local2 = nil
	if f38_arg0._direction and f38_arg0._direction == LUI.DIRECTION.vertical then
		f38_local2 = LUI.UIVerticalList.new( {
			enableTouchElasticity = false
		} )
	else
		f38_local2 = LUI.UIHorizontalList.new( {
			enableTouchElasticity = false
		} )
	end
	f38_local2:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, f38_arg1.height )
	f38_local2:SetAlignment( LUI.Alignment.Left )
	f38_local2:SetSpacing( f38_arg1.spacing or 0 )
	f38_local2.id = "tabNavigator"
	f38_local2:SetIgnoreInvisibleChildren( f38_arg1.setIgnoreInvisibleChildren or false )
	f38_arg0._tabNavigator = f38_local2
	self:addElement( f38_local2 )
	f38_local1 = LUI.UIElement.new()
	f38_local1:SetTop( f38_arg1.height )
	f38_local1.id = "menuContainer"
	f38_arg0.menuContainer = f38_local1
	f38_arg0:addElement( f38_local1 )
	local f38_local3 = 24 * _1080p
	local f38_local4 = 24 * _1080p
	local f38_local5 = 0.5 * f38_local4
	if Engine[0x84287BE93239E99]() and f38_arg1.ignoreShoulderBtn then
		f38_local4 = 0
	end
	local f38_local6 = (f38_arg1.tabHeight - f38_local3) / 2
	local f38_local7 = 32 * _1080p
	local f38_local8 = 32 * _1080p
	local f38_local9 = (f38_arg1.tabHeight - f38_local7) / 2
	local f38_local10 = ButtonMap.button_shoulderl.string
	local f38_local11 = ButtonMap.button_shoulderr.string
	if f38_arg1.useTriggers then
		f38_local10 = ButtonMap.button_left_trigger.string
		f38_local11 = ButtonMap.button_right_trigger.string
	elseif f38_arg1.useRightStick then
		f38_local10 = ButtonMap.button_right_stick.string
		f38_local11 = ButtonMap.button_right_stick.string
	elseif f38_arg1.useDpad then
		f38_local10 = ButtonMap.button_dpad_left.string
		f38_local11 = ButtonMap.button_dpad_right.string
	end
	local f38_local12 = f38_arg0._direction == LUI.DIRECTION.vertical
	local f38_local13 = {
		bottomAnchor = 1,
		topAnchor = 0
	}
	local f38_local14
	if f38_local12 then
		f38_local14 = 0.5
	else
		f38_local14 = 1
	end
	f38_local13.leftAnchor = f38_local14
	if f38_local12 then
		f38_local14 = 0.5
	else
		f38_local14 = 0
	end
	f38_local13.rightAnchor = f38_local14
	if f38_local12 then
		f38_local14 = -f38_local5
		if not f38_local14 then
		
		else
			f38_local13.left = f38_local14
			if f38_local12 and not f38_local5 then
				f38_local14 = f38_local5
			else
				f38_local14 = 0
			end
			f38_local13.right = f38_local14
			f38_local13.top = f38_local6
			f38_local13.bottom = f38_local6 + f38_local3
			f38_local14 = {
				bottomAnchor = 1,
				topAnchor = 0
			}
			local leftShoulderButton
			if f38_local12 then
				leftShoulderButton = 0.5
			else
				leftShoulderButton = 0
			end
			f38_local14.leftAnchor = leftShoulderButton
			if f38_local12 then
				leftShoulderButton = 0.5
			else
				leftShoulderButton = 1
			end
			f38_local14.rightAnchor = leftShoulderButton
			if f38_local12 then
				leftShoulderButton = -f38_local5
				if not leftShoulderButton then
				
				else
					f38_local14.left = leftShoulderButton
					if f38_local12 and not f38_local5 then
						leftShoulderButton = f38_local5
					else
						leftShoulderButton = f38_local4
					end
					f38_local14.right = leftShoulderButton
					f38_local14.top = f38_local6
					f38_local14.bottom = f38_local6 + f38_local3
					leftShoulderButton = nil
					
					leftShoulderButton = MenuBuilder.BuildRegisteredType( "IconImage", {
						iconString = f38_local10
					} )
					leftShoulderButton:SetAnchorsAndPosition( f38_local13.leftAnchor, f38_local13.rightAnchor, f38_local13.topAnchor, f38_local13.bottomAnchor, f38_local13.left, f38_local13.right, f38_local13.top, f38_local13.bottom )
					leftShoulderButton:setPriority( f0_local0 )
					leftShoulderButton:SetAlpha( 0.6 )
					leftShoulderButton.id = "leftShoulderButton"
					f38_local2:addElement( leftShoulderButton )
					f38_arg0.leftShoulderButton = leftShoulderButton
					
					if not f38_arg1.ignoreShoulderSpacer and f38_arg1.spacing == 0 then
						f38_arg0.leftShoulderSpacer = f0_local0( true )
						f38_local2:addElement( f38_arg0.leftShoulderSpacer )
					end
					if f38_arg0._buildArrows then
						local rightShoulderButton = nil
						rightShoulderButton = MenuBuilder.BuildRegisteredType( "NavigationArrow", {
							controllerIndex = f38_arg0._controllerIndex
						} )
						rightShoulderButton.id = "LeftArrow"
						rightShoulderButton.Arrow:SetZRotation( 90, 0 )
						rightShoulderButton:setPriority( -1 )
						rightShoulderButton:SetAnchorsAndPosition( 1, 0, 0, 1, -f38_local8, 0, f38_local9, f38_local9 + f38_local7 )
						f38_local2:addElement( rightShoulderButton )
						f38_arg0.LeftArrow = rightShoulderButton
						
						local f38_local17 = nil
						f38_local17 = MenuBuilder.BuildRegisteredType( "NavigationArrow", {
							controllerIndex = f38_arg0._controllerIndex
						} )
						f38_local17.id = "RightArrow"
						f38_local17.Arrow:SetZRotation( -90, 0 )
						f38_local17:setPriority( 1 )
						f38_local17:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f38_local8, f38_local9, f38_local9 + f38_local7 )
						f38_local2:addElement( f38_local17 )
						f38_arg0.RightArrow = f38_local17
					end
					if not f38_arg1.ignoreShoulderSpacer and f38_arg1.spacing == 0 then
						f38_arg0.rightShoulderSpacer = f0_local0( false )
						f38_local2:addElement( f38_arg0.rightShoulderSpacer )
					end
					local rightShoulderButton = nil
					
					rightShoulderButton = MenuBuilder.BuildRegisteredType( "IconImage", {
						iconString = f38_local11
					} )
					rightShoulderButton:SetAnchorsAndPosition( f38_local14.leftAnchor, f38_local14.rightAnchor, f38_local14.topAnchor, f38_local14.bottomAnchor, f38_local14.left, f38_local14.right, f38_local14.top, f38_local14.bottom )
					rightShoulderButton:setPriority( f0_local0 )
					rightShoulderButton:SetAlpha( 0.6 )
					rightShoulderButton.id = "rightShoulderButton"
					f38_local2:addElement( rightShoulderButton )
					f38_arg0.rightShoulderButton = rightShoulderButton
					
					if f38_arg1.dataSource then
						f38_arg0:SetTabManagerDataSource( f38_arg1.dataSource )
					elseif f38_arg1.tabs then
						f38_arg0:SetTabs( f38_arg1.tabs )
					end
					local f38_local18 = "button_shoulderl"
					local f38_local19 = "button_shoulderr"
					if f38_arg1.useTriggers then
						f38_local18 = "button_left_trigger"
						f38_local19 = "button_right_trigger"
					elseif f38_arg1.useDpad then
						f38_local18 = "button_left"
						f38_local19 = "button_right"
					end
					if f38_arg1.useRightStick then
						f38_arg0:registerEventHandler( "gamepad_sticks", function ( element, event )
							if not element._isAllDisabled then
								local f45_local0 = event.rightStickYaw or 0
								if f45_local0 < element._rightStickDeadzone and -element._rightStickDeadzone < f45_local0 then
									f45_local0 = 0
								end
								if not element._rightStickOnCooldown and f45_local0 ~= 0 then
									local f45_local1 = element:GetNextEnabledTab( event.controller, LUI.Round( f45_local0, 0 ), f38_arg0.wrap )
									if f45_local1 then
										element:FocusTab( event.controller, f45_local1, FocusType.Gamepad )
									else
										element:playSound( "ui_deny" )
									end
									element._rightStickOnCooldown = true
									local f45_local2 = element:Wait( element._rightStickDelay, true )
									f45_local2.onComplete = function ()
										element._rightStickOnCooldown = false
									end
									
								end
							end
							return true
						end )
					else
						f38_arg0:AddGamepadEventCallback( f38_local18, function ( f44_arg0, f44_arg1 )
							if not f44_arg0._isAllDisabled and 1 < LUI.TabManager.GetNumTabs( f44_arg0 ) then
								local f44_local0 = f44_arg0:GetNextEnabledTab( f44_arg1.controller, -1, f38_arg0.wrap )
								if f44_local0 then
									f44_arg0:FocusTab( f44_arg1.controller, f44_local0, FocusType.Gamepad )
								else
									f44_arg0:playSound( "ui_deny" )
								end
							end
							return true
						end )
						f38_arg0:AddGamepadEventCallback( f38_local19, function ( f43_arg0, f43_arg1 )
							local f43_local0 = f43_arg1.controller
							if not f43_arg0._isAllDisabled and 1 < LUI.TabManager.GetNumTabs( f43_arg0 ) then
								local f43_local1 = f43_arg0:GetNextEnabledTab( f43_local0, 1, f38_arg0.wrap )
								if f43_local1 then
									f43_arg0:FocusTab( f43_local0, f43_local1, FocusType.Gamepad )
								else
									f43_arg0:playSound( "ui_deny" )
								end
							end
							return true
						end )
					end
					f38_arg0:registerEventHandler( "tab_mouse_select", function ( element, event )
						if not f38_arg0._isAllDisabled then
							local f42_local0 = event.index
							if LUI.TabManager.IsTabEnabled( f38_arg0, f42_local0 ) and f42_local0 ~= f38_arg0._currentTab then
								local f42_local1 = event.controller
								if not f42_local1 then
									f42_local1 = f38_arg0._controllerIndex
								end
								f38_arg0:FocusTab( f42_local1, f42_local0, FocusType.MouseOver )
							end
							return true
						else
							
						end
					end )
					if f38_arg0._buildArrows then
						f38_arg0.LeftArrow:registerEventHandler( "button_action", function ( element, event )
							if not f38_arg0._isAllDisabled then
								local f41_local0 = f38_arg0:GetNextEnabledTab( event.controller, -1, true )
								if f41_local0 then
									f38_arg0:FocusTab( event.controller, f41_local0, FocusType.MouseOver )
								end
							end
							return true
						end )
						f38_arg0.RightArrow:registerEventHandler( "button_action", function ( element, event )
							if not f38_arg0._isAllDisabled then
								local f40_local0 = f38_arg0:GetNextEnabledTab( event.controller, 1, true )
								if f40_local0 then
									f38_arg0:FocusTab( event.controller, f40_local0, FocusType.MouseOver )
								end
							end
							return true
						end )
					end
					f38_arg0:registerAndCallEventHandler( "update_input_type", function ( f39_arg0, f39_arg1 )
						f38_arg0( f39_arg0, f39_arg1.controllerIndex )
					end, {
						controllerIndex = f38_arg0._controllerIndex
					} )
				end
			end
			leftShoulderButton = 0
		end
	end
	f38_local14 = -f38_local4
end

LUI.TabManager.GetCurrentTabIndex = function ( f37_arg0 )
	return f37_arg0._currentTab
end

LUI.TabManager.GetCurrentTab = function ( f36_arg0 )
	if f36_arg0._currentTab then
		local f36_local0 = f36_arg0._currentTab + 1
		local f36_local1 = assert
		local f36_local2
		if 1 > f36_local0 or f36_local0 > #f36_arg0._tabElements then
			f36_local2 = false
		else
			f36_local2 = true
		end
		f36_local1( f36_local2 )
		return f36_arg0._tabElements[f36_local0]
	else
		return nil
	end
end

LUI.TabManager.GetTabAtIndex = function ( f35_arg0, f35_arg1 )
	if f35_arg0._tabElements then
		local f35_local0 = assert
		local f35_local1
		if 1 > f35_arg1 or f35_arg1 > #f35_arg0._tabElements then
			f35_local1 = false
		else
			f35_local1 = true
		end
		f35_local0( f35_local1 )
		return f35_arg0._tabElements[f35_arg1]
	else
		
	end
end

LUI.TabManager.GetTabById = function ( f34_arg0, f34_arg1 )
	if f34_arg0._tabElements then
		for f34_local3, f34_local4 in ipairs( f34_arg0._tabElements ) do
			if f34_local4.id == f34_arg1 then
				return f34_local4
			end
		end
	end
end

LUI.TabManager.IsTabAvailable = function ( f33_arg0 )
	local f33_local0 = f33_arg0._tabElements
	if f33_local0 then
		f33_local0 = 0 < #f33_arg0._tabElements
	end
	return f33_local0
end

LUI.TabManager.SetCurrentTabIndex = function ( f32_arg0, f32_arg1 )
	f32_arg0._currentTab = f32_arg1
end

LUI.TabManager.GetTabManagerDataSource = function ( f31_arg0 )
	return f31_arg0._tabManagerDataSource
end

LUI.TabManager.SetTabManagerDataSource = function ( f30_arg0, f30_arg1, f30_arg2 )
	f30_arg0._tabManagerDataSource = f30_arg1
	f0_local0( f30_arg0 )
	if f30_arg2 then
		f30_arg0._isControllerExclusive = f30_arg2.isControllerExclusive
		f30_arg0._controllerIndex = f30_arg2.controllerIndex or f30_arg0._controllerIndex
	end
end

LUI.TabManager.SetTabs = function ( f29_arg0, f29_arg1, f29_arg2 )
	f29_arg0._tabs = f29_arg1
	f0_local0( f29_arg0 )
	if f29_arg2 then
		f29_arg0._isControllerExclusive = f29_arg2.isControllerExclusive
		f29_arg0._controllerIndex = f29_arg2.controllerIndex or f29_arg0._controllerIndex
	end
end

LUI.TabManager.SetAlignment = function ( f28_arg0, f28_arg1 )
	f28_arg0._tabNavigator:SetAlignment( f28_arg1 )
end

LUI.TabManager.DisableAll = function ( f27_arg0 )
	f27_arg0._isAllDisabled = true
end

LUI.TabManager.EnableAll = function ( f26_arg0 )
	f26_arg0._isAllDisabled = false
end

LUI.TabManager.HideTabs = function ( f25_arg0 )
	f25_arg0._tabNavigator:SetAlpha( 0 )
	f25_arg0:DisableAll()
	f25_arg0:SetMouseFocusBlocker( true )
end

LUI.TabManager.HideShoulderButtons = function ( f24_arg0 )
	f24_arg0.leftShoulderButton:SetLeft( 0 )
	f24_arg0.rightShoulderButton:SetRight( 0 )
end

LUI.TabManager.HideShoulderButtonPrompts = function ( f23_arg0 )
	f23_arg0._forceHideTabNavButtons = false
	f23_arg0.leftShoulderButton:SetVisibility( LUI.Visibility.Hidden )
	f23_arg0.rightShoulderButton:SetVisibility( LUI.Visibility.Hidden )
end

LUI.TabManager.SetShoulderButtonVerticalPosition = function ( f22_arg0, f22_arg1 )
	f22_arg0.leftShoulderButton:SetTop( f22_arg1.top )
	f22_arg0.leftShoulderButton:SetBottom( f22_arg1.bottom )
	f22_arg0.rightShoulderButton:SetTop( f22_arg1.top )
	f22_arg0.rightShoulderButton:SetBottom( f22_arg1.bottom )
end

LUI.TabManager.ShowTabs = function ( f21_arg0 )
	f21_arg0._tabNavigator:SetAlpha( 1 )
	f21_arg0:EnableAll()
	f21_arg0:SetMouseFocusBlocker( false )
end

LUI.TabManager.JustifyTabs = function ( f20_arg0 )
	local f20_local0, f20_local1, f20_local2, f20_local3 = f20_arg0:getLocalRect()
	local f20_local4 = f20_local2 - f20_local0
	if LUI.IsLastInputKeyboardMouse( f20_arg0._controllerIndex ) and f20_arg0._buildArrows then
		f20_local0, f20_local1, f20_local2, f20_local3 = f20_arg0.LeftArrow:getLocalRect()
	else
		f20_local0, f20_local1, f20_local2, f20_local3 = f20_arg0.leftShoulderButton:getLocalRect()
	end
	local f20_local5 = (f20_local2 - f20_local0) * 2
	local f20_local6 = 0
	local f20_local7 = 0
	for f20_local11, f20_local12 in ipairs( f20_arg0._tabElements ) do
		local f20_local13, f20_local14, f20_local15, f20_local16 = f20_local12:getLocalRect()
		f20_local3 = f20_local16
		f20_local2 = f20_local15
		f20_local1 = f20_local14
		f20_local6 = f20_local6 + f20_local2 - f20_local13
		f20_local7 = f20_local7 + 1
	end
	f20_local8 = 0
	f20_local9 = 0
	for f20_local13, f20_local14 in ipairs( f20_arg0._spacerElements ) do
		local f20_local15, f20_local16, f20_local17, f20_local18 = f20_local14:getLocalRect()
		f20_local3 = f20_local18
		f20_local2 = f20_local17
		f20_local1 = f20_local16
		f20_local8 = f20_local8 + f20_local2 - f20_local15
		f20_local9 = f20_local9 + 1
	end
	f20_arg0._tabNavigator:SetSpacing( (f20_local4 - f20_local5 + f20_local6 + f20_local8) / (f20_local7 + f20_local9 + 1) )
end

LUI.TabManager.SizeTabsToFit = function ( f19_arg0 )
	if LUI.TabManager.HasTab( f19_arg0 ) then
		local f19_local0, f19_local1, f19_local2, f19_local3 = f19_arg0:getLocalRect()
		local f19_local4 = f19_local2 - f19_local0
		if LUI.IsLastInputKeyboardMouse( f19_arg0._controllerIndex ) and f19_arg0._buildArrows then
			f19_local0, f19_local1, f19_local2, f19_local3 = f19_arg0.LeftArrow:getLocalRect()
		else
			f19_local0, f19_local1, f19_local2, f19_local3 = f19_arg0.leftShoulderButton:getLocalRect()
		end
		local f19_local5 = (f19_local2 - f19_local0) * 2
		local f19_local6 = 0
		for f19_local10, f19_local11 in ipairs( f19_arg0._spacerElements ) do
			local f19_local12, f19_local13, f19_local14, f19_local15 = f19_local11:getLocalRect()
			f19_local3 = f19_local15
			f19_local2 = f19_local14
			f19_local1 = f19_local13
			f19_local6 = f19_local6 + f19_local2 - f19_local12
		end
		f19_local7 = f19_local4 - f19_local5 + f19_local6
		f19_local8 = LUI.TabManager.GetNumTabs( f19_arg0 )
		f19_local10 = (f19_local7 - 4 * f19_local8) / f19_local8
		for f19_local14, f19_local15 in ipairs( f19_arg0._tabElements ) do
			f19_local15:SetRight( f19_local10 )
		end
	end
end

LUI.TabManager.SetTabBackers = function ( f18_arg0, f18_arg1, f18_arg2 )
	if f18_arg0:IsTabAvailable() then
		local f18_local0 = f18_arg0:GetTabAtIndex( 1 )
		f18_local0.Backer:setImage( RegisterMaterial( f18_arg1 ) )
		f18_local0 = f18_arg0:GetTabAtIndex( 1 )
		f18_local0.Backer:Setup9SliceImage( _1080p * 8, _1080p * 8, 0.3, 0.3 )
		f18_local0 = f18_arg0:GetTabAtIndex( #f18_arg0._tabElements )
		f18_local0.Backer:setImage( RegisterMaterial( f18_arg2 ) )
		f18_local0 = f18_arg0:GetTabAtIndex( #f18_arg0._tabElements )
		f18_local0.Backer:Setup9SliceImage( _1080p * 8, _1080p * 8, 0.3, 0.3 )
	end
end

LUI.TabManager.SetTabSpacing = function ( f17_arg0, f17_arg1 )
	f17_arg0._tabNavigator:SetSpacing( f17_arg1 )
end

LUI.TabManager.FocusTab = function ( f16_arg0, f16_arg1, f16_arg2, f16_arg3, f16_arg4 )
	if not LUI.TabManager.HasTab( f16_arg0 ) then
		return 
	end
	local f16_local0 = LUI.TabManager.GetNumTabs( f16_arg0 )
	if f16_arg0._tabs and f16_local0 - 1 < f16_arg2 then
		DebugPrint( "WARNING: Attempt to focus tab " .. f16_arg2 .. " but max tab is " .. f16_local0 - 1 )
		f16_arg2 = f16_local0 - 1
	end
	local f16_local1 = f0_local0( f16_arg0, f16_arg2 )
	if f16_local1( f16_arg1, f16_arg2, f16_arg3 ) then
		f0_local0( f16_arg0, f16_arg1, f16_arg2 )
		if f16_arg0._currentTab and f16_arg0._tabs then
			f16_local1 = f16_arg0._currentTab + 1
			if 0 < f16_local1 and f16_local1 <= #f16_arg0._tabs then
				local f16_local2 = f16_arg0._tabs[f16_local1].loseFocusFunction
				if f16_local2 then
					f16_local2( f16_arg0, f16_arg1, f16_arg2, f16_arg3 )
				end
			end
		end
		if f16_arg3 ~= FocusType.Gamepad and f16_arg3 ~= FocusType.MouseOver then
			f16_local1 = false
		else
			f16_local1 = true
		end
		f16_arg0:processEvent( {
			name = "focus_tab",
			index = f16_arg2,
			playSound = f16_local1
		} )
		local f16_local2 = f0_local0( f16_arg0, f16_arg2 )
		f16_arg0._currentTab = f16_arg2
		if Dvar[0x9E5BE3B4BBA4E0E]( 0x26A15B839022F6F ) then
			LUI.UIRoot.CreateNavigationHistory( f16_arg1, f16_arg0._tabs[f16_arg0._currentTab + 1].name )
		end
		f16_local2( f16_arg0, f16_arg1, f16_arg2, f16_arg3, nil, f16_arg4 )
		if f16_arg0._tabIndexDataSource then
			f16_arg0._tabIndexDataSource:SetValue( f16_arg1, f16_arg2 )
		end
		if f16_arg0._tabManagerDataSource then
			f16_arg0:SetDataSource( f16_arg0._tabManagerDataSource:GetDataSourceAtIndex( f16_arg2, f16_arg1 ), f16_arg1 )
		end
	end
	LUI.FlowManager.CheckLeakedAllocatedElements( f16_arg0 )
end

LUI.TabManager.getAllFocusedChildren = function ( f15_arg0, f15_arg1 )
	if not f15_arg1 then
		f15_arg1 = {}
	end
	if f15_arg0._currentTab then
		f15_arg0.saveData = {
			currentTab = f15_arg0._currentTab
		}
		table.insert( f15_arg1, f15_arg0 )
	end
	return f15_arg1
end

LUI.TabManager.restoreFocus = function ( f14_arg0, f14_arg1 )
	if f14_arg1.data and f14_arg1.data.currentTab then
		if CONDITIONS.IsMobileOrMobileSim() then
			f14_arg0:FocusTab( f14_arg1.controller, f14_arg1.data.currentTab, FocusType.MenuFlow, {
				isRestoreFocus = true
			} )
		else
			f14_arg0:FocusTab( f14_arg1.controller, f14_arg1.data.currentTab, FocusType.MenuFlow )
		end
	end
	return f14_arg0:dispatchEventToChildren( f14_arg1 )
end

LUI.TabManager.SetTabManagerDataSourceThroughElement = function ( f13_arg0, f13_arg1, f13_arg2 )
	local f13_local0 = DataLink.new( {
		target = f13_arg0,
		source = f13_arg1,
		relativeDataSourcePath = f13_arg2,
		type = DataLink.TYPES.tabManagerDataSource
	} )
	f13_local0:Link()
	f13_local0:Refresh()
	return f13_local0
end

LUI.TabManager.AddBacker = function ( f12_arg0, f12_arg1 )
	local f12_local0 = nil
	if f12_arg1 then
		f12_local0 = f12_arg1
	else
		f12_local0 = MenuBuilder.BuildRegisteredType( "TabsBacker", {
			controllerIndex = f12_arg0._controllerIndex
		} )
	end
	f12_local0.id = "tabsBacker"
	f12_local0:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, _1080p * -5, _1080p * 5 )
	f12_local0:setPriority( -1 )
	f12_arg0.navigatorContainer:addElement( f12_local0 )
	f12_arg0._tabsBacker = f12_local0
end

LUI.TabManager.GetNextEnabledTab = function ( f11_arg0, f11_arg1, f11_arg2, f11_arg3 )
	if f11_arg0._currentTab == nil or not LUI.TabManager.HasTab( f11_arg0 ) then
		return nil
	end
	local f11_local0 = LUI.TabManager.GetNumTabs( f11_arg0 )
	local f11_local1 = f11_arg0._currentTab
	local f11_local2 = f11_local0 - 1
	if nil == nil then
		
	else
		
	end
	return nil
end

LUI.TabManager.SetTabIndexDataSource = function ( f10_arg0, f10_arg1 )
	f10_arg0._tabIndexDataSource = f10_arg1
end

LUI.TabManager.GetCurrentTabMenu = function ( f9_arg0 )
	assert( f9_arg0.currentMenu )
	return f9_arg0.currentMenu
end

LUI.TabManager.SetDefaultFocus = function ( f8_arg0, f8_arg1 )
	f8_arg0._defaultFocus = f8_arg1
end

LUI.TabManager.SetSendEventOnTabChange = function ( f7_arg0, f7_arg1 )
	f7_arg0._sendTabSwitchEvent = f7_arg1
end

LUI.TabManager.SetupExclusiveControllerData = function ( f6_arg0, f6_arg1 )
	if f6_arg1 then
		f6_arg0._isControllerExclusive = f6_arg1.isControllerExclusive
		f6_arg0._controllerIndex = f6_arg1.controllerIndex or f6_arg0._controllerIndex
	end
end

LUI.TabManager.IsControllerExclusive = function ( f5_arg0 )
	return f5_arg0._isControllerExclusive
end

LUI.TabManager.IsExpectedController = function ( f4_arg0, f4_arg1 )
	local f4_local0
	if f4_arg0._isControllerExclusive and f4_arg0._controllerIndex and f4_arg1 and f4_arg0._controllerIndex ~= f4_arg1 then
		f4_local0 = false
	else
		f4_local0 = true
	end
	return f4_local0
end

LUI.TabManager.IsControllerExclusiveGamepadInput = function ( f3_arg0, f3_arg1 )
	local f3_local0
	if f3_arg1 == "shoulderr" or f3_arg1 == "shoulderl" then
		f3_local0 = false
	else
		f3_local0 = true
	end
	return f3_local0
end

LUI.TabManager.SetTabText = function ( f2_arg0, f2_arg1, f2_arg2 )
	if f2_arg1 then
		f2_arg1:Setup( {
			name = f2_arg2
		} )
	end
end

LUI.TabManager.IsSplitScreenSignInTab = function ( f1_arg0 )
	if f1_arg0._tabs and f1_arg0._currentTab and f1_arg0._tabs[f1_arg0._currentTab + 1] then
		return f1_arg0._tabs[f1_arg0._currentTab + 1].allowSplitScreenSignIn
	else
		
	end
end

