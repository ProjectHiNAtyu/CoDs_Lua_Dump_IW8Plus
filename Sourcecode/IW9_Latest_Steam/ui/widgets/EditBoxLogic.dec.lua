-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:49
LUI.AddEditBoxLogic = function ( f15_arg0, f15_arg1, f15_arg2 )
	assert( f15_arg2.alignment )
	assert( f15_arg2.font )
	assert( f15_arg2.focusType )
	assert( f15_arg2.defaultValue )
	assert( f15_arg2.textSelectionColor )
	local f15_local0 = f15_arg2.defaultValue
	local f15_local1 = f15_arg2.font
	local f15_local2 = f15_arg2.alignment
	local f15_local3 = f15_arg2.textSelectionColor
	local f15_local4 = f15_arg2.maxInputStringLength
	if not f15_local4 then
		f15_local4 = TEXT_EDIT.MAX_LUI_TEXT_EDIT_LEN
	end
	local f15_local5 = f15_arg2.disableAfterEdit ~= false
	local f15_local6 = f15_arg2.useStringVerification or false
	local f15_local7 = f15_arg2.checkProfanity or false
	local f15_local8 = f15_arg2.allowEmptyString ~= false
	local f15_local9 = f15_arg2.useAutoAlign ~= false
	local f15_local10 = f15_arg2.isNumeric
	if not f15_local10 then
		f15_local10 = f15_arg2.isNumericEmpty or false
	end
	local f15_local11 = f15_arg2.isNumericEmpty or false
	local f15_local12 = f15_arg2.focusable ~= false
	local f15_local13 = f15_arg2.isPassword or false
	local f15_local14 = f15_arg2.isPasswordEditable or false
	local f15_local15 = f15_arg2.isEmail or false
	local f15_local16 = f15_arg2.isChat or false
	local f15_local17 = f15_arg2.autoConfirmOnTab or false
	local f15_local18 = f15_arg2.autoConfirmOnOutsideClick or false
	local f15_local19 = f15_arg2.autoSelectAllOnActive or false
	local f15_local20 = f15_arg2.autoSetActiveOnCreation or false
	local f15_local21 = f15_arg2.alwaysSendTypingEvents or false
	local f15_local22
	if f15_arg2.autoHideShowPassword == nil then
		f15_local22 = true
	else
		f15_local22 = f15_arg2.autoHideShowPassword
	end
	local f15_local23 = f15_arg2.hidePasswordOnEditedText or false
	local f15_local24 = f15_arg2.cancelOnOutsideClick or false
	if not f15_arg2.name then
		local f15_local25 = tostring( f15_arg2.defaultValue )
	end
	local f15_local26 = f15_arg2.min or 0
	local f15_local27 = f15_arg2.max or 1
	local f15_local28 = f15_arg2.scaleTextEditToFullSize ~= false
	local f15_local29 = assert
	local f15_local30
	if f15_local10 then
		f15_local30 = f15_arg2.max
	else
		f15_local30 = true
	end
	f15_local29( f15_local30, "No maximum value set for numeric EditBox" )
	f15_local29 = assert
	if f15_local10 and f15_arg2.min >= f15_arg2.max then
		f15_local30 = false
	else
		f15_local30 = true
	end
	f15_local29( f15_local30, "Min > Max for numeric EditBox." )
	f15_local29 = Enum[0x1F1F125CD9CA94A][0x589A3C1CF1B1D38]
	if f15_local11 then
		f15_local29 = Enum[0x1F1F125CD9CA94A][0x389AA85A3A2B930]
	elseif f15_local10 then
		f15_local29 = Enum[0x1F1F125CD9CA94A][0x305ADE522556E8E]
	elseif f15_local13 then
		f15_local29 = Enum[0x1F1F125CD9CA94A][0x5D255F2BAA33E86]
	elseif f15_local15 then
		f15_local29 = Enum[0x1F1F125CD9CA94A][0x9819ABBAC958F3D]
	elseif f15_local16 then
		f15_local29 = Enum[0x1F1F125CD9CA94A][0x6B21E0D58C898F1]
	end
	f15_arg0:setText( "" )
	f15_arg0._textEditingActive = false
	f15_arg0._firstInteraction = true
	f15_arg0.isDefault = true
	f15_arg0.defaultValue = f15_arg2.defaultValue
	local f15_local31 = not f15_arg0._disableClearText
	local f15_local32 = function ( f28_arg0 )
		return function ()
			if f28_arg0._textEditingActive then
				f28_arg0.textEdit:setTextEditActive( false )
				f28_arg0._textEditingActive = false
				if not f28_arg0.allowEmptyString and String.IsNilOrEmpty( f28_arg0.textEdit:getText() ) then
					f28_arg0.isDefault = true
					f28_arg0._firstInteraction = true
					f28_arg0.textEdit:setTextEditText( f28_arg0.defaultValue )
				end
			end
		end
		
	end
	
	f15_arg0.TextEditOff = f15_local32( f15_arg0 )
	f15_arg0._requireFocusType = f15_arg2.focusType
	f15_local32 = {
		controllerIndex = f15_arg1,
		maxLength = f15_local4,
		useAutoAlign = f15_local9,
		disableAfterEdit = f15_local5,
		isNumeric = f15_local10,
		isPassword = f15_local13,
		autoConfirmOnTab = f15_local17,
		autoConfirmOnOutsideClick = f15_local18,
		autoSelectAllOnActive = f15_local19,
		alwaysSendTypingEvents = f15_local21,
		autoHideShowPassword = f15_local22,
		cancelOnOutsideClick = f15_local24,
		defaultValue = f15_local0,
		font = f15_local1,
		alignment = f15_local2,
		textSelectionColor = f15_local3,
		letGamepadInputsGoThrough = f15_local31
	}
	local f15_local33 = MenuBuilder.BuildRegisteredType( "UITextEdit", f15_local32 )
	if f15_local28 then
		f15_local33:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	elseif IsLanguageArabic() then
		f15_local33:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 4 * _1080p, 30 * _1080p )
	else
		f15_local33:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 7 * _1080p, 27 * _1080p )
	end
	f15_local33.id = "textEdit"
	f15_arg0.textEdit = f15_local33
	f15_arg0.textEdit.isPassword = f15_local13
	if f15_local13 then
		f15_arg0:setAutoHidePassword( f15_local32.autoHideShowPassword )
		f15_arg0:setShowPassword( false )
		f15_arg0.textEdit._showPassword = false
		f15_arg0.textEdit.ShowPassword = function ( f27_arg0, f27_arg1 )
			f27_arg0._showPassword = f27_arg1
			f27_arg0:setShowPassword( f27_arg1 )
		end
		
	end
	f15_arg0:addElement( f15_local33 )
	f15_arg0.textEdit:SetFont( f15_local32.font )
	f15_arg0.textEdit:SetAlignment( f15_local32.alignment )
	f15_arg0.textEdit:setTextSelectionHighlightColor( f15_local32.textSelectionColor.r, f15_local32.textSelectionColor.g, f15_local32.textSelectionColor.b, f15_local32.textSelectionColor.a )
	f15_arg0.textEdit:addEventHandler( "menu_create", function ( f26_arg0, f26_arg1 )
		if f15_arg0 and not LUI.IsLastInputGamepad( f15_arg0 ) then
			f26_arg0:setTextEditActive()
		end
	end )
	f15_arg0.SetButtonActionCallbackFunc = function ( f25_arg0, f25_arg1 )
		f25_arg0._buttonActionCallbackFunc = f25_arg1
	end
	
	f15_arg0.SetIsTypingCallbackFunc = function ( f24_arg0, f24_arg1 )
		f24_arg0._isTypingCallbackFunc = f24_arg1
	end
	
	f15_arg0.SetTextEditCompleteCallbackFunc = function ( f23_arg0, f23_arg1 )
		f23_arg0._textEditCompleteCallbackFunc = f23_arg1
	end
	
	local f15_local34 = function ( f22_arg0, f22_arg1 )
		if f22_arg0.isDefault and f22_arg1 and string.find( f15_arg0.defaultValue, f22_arg1 ) then
			f22_arg0.textEdit:setTextEditText( "" )
			f22_arg0.textEdit:setShowPassword( false )
		end
	end
	
	f15_arg0:addEventHandler( "update_textedit_active", function ( f21_arg0, f21_arg1 )
		if LUI.IsLastInputGamepad( f21_arg1.controller ) then
			f21_arg0.textEdit:setTextEditActive( f21_arg1.setActive )
		end
	end )
	f15_arg0._activateEditBox = function ( f19_arg0, f19_arg1 )
		local f19_local0 = f19_arg0.textEdit:getText()
		if f19_arg0._textEditingActive then
			f15_arg0( f19_arg0, f19_local0 )
			
		elseif f15_arg0 and not f15_arg0 then
			f19_local0 = ""
		end
		if f15_arg0._firstInteraction then
			if not f15_arg0 then
				f19_local0 = ""
			end
			f15_arg0._firstInteraction = false
		end
		if not (not Engine[0xFB1B6E36ABE59B8]() or not LUI.IsLastInputGamepad( f19_arg1.controller )) or Dvar[0x9E5BE3B4BBA4E0E]( 0x7298380DBA69011 ) then
			LUI.UIRoot.BlockButtonInput( Engine[0xEE6F69FEA944B13](), true )
			local f19_local1 = function ( f20_arg0, f20_arg1, f20_arg2 )
				LUI.UIRoot.BlockButtonInput( f19_arg0, false )
				local f20_local0 = f19_arg0
				local f20_local1
				if f20_arg1 == "" then
					f20_local1 = f19_arg0.isDefault
					if not f20_local1 then
						if f20_arg1 ~= nil or f19_arg0 ~= "" then
							f20_local1 = false
						else
							f20_local1 = true
						end
					end
				elseif f20_arg1 ~= nil or f19_arg0 ~= "" then
					f20_local1 = false
				else
					f20_local1 = true
				end
				f20_local0.isDefault = f20_local1
				f20_local0 = f20_arg2 == Enum[0xA163D545F5F9533][0x97FA5305313C03F]
				if f19_arg0 then
					if tonumber( f20_arg1 ) ~= nil then
						f20_arg1 = tostring( LUI.clamp( tonumber( f20_arg1 ), f19_arg0, f19_arg0 ) )
					else
						f20_arg1 = f19_arg0
					end
				end
				if f19_arg0.isDefault then
					f20_arg1 = f19_arg0.defaultValue
					f19_arg0._firstInteraction = true
				elseif not f20_arg1 or not f20_arg1 then
					f20_arg1 = f19_arg0
				end
				f19_arg0._textEditingActive = false
				if not f20_local0 or f19_arg0.isDefault then
					if not f19_arg0.textEdit.defaultText then
						f19_arg0.textEdit:setTextEditText( f20_arg1 )
					else
						f19_arg0.textEdit.defaultText:SetVisible( f19_arg0.isDefault )
						if f19_arg0.isDefault then
							f19_arg0.textEdit:setTextEditText( "" )
						else
							f19_arg0.textEdit:setTextEditText( f20_arg1 )
						end
					end
				end
				f19_arg0.text = f20_arg1
				f19_arg0.isDefault = f19_arg0.isDefault
				f19_arg0.cancelled = f20_local0
				f19_arg0.isOSK = true
				if f19_arg0._textEditCompleteCallbackFunc then
					f19_arg0:_textEditCompleteCallbackFunc( f19_arg0 )
				end
				f19_arg0:dispatchEventToParent( {
					name = "generic_edit_box_complete",
					event = f19_arg0
				} )
				if f19_arg0.isPassword and (not CONDITIONS.IsMobileOrMobileSim() or f19_arg0) then
					f19_arg0.textEdit:setShowPassword( f19_arg0.isDefault )
				end
			end
			
			if f15_arg0.isPassword then
				f19_arg0.textEdit:setShowPassword( f19_arg0.isDefault )
			end
			if f15_arg0.nameSystem then
				OSK[0x9E95BADA4D54835]( f19_arg1.controller, f15_arg0, f15_arg0.nameSystem, f19_local0, f15_arg0.maxLength, f15_arg0, f15_arg0, f15_arg0, f19_local1, f15_arg0 )
			else
				OSK[0xC1C15C14B75864C]( f19_arg1.controller, f15_arg0, f19_local0, f15_arg0.maxLength, f15_arg0, f15_arg0, f15_arg0, f19_local1, f15_arg0 )
			end
			if f15_arg0 then
				f19_arg0.textEdit:setShowPassword( f19_arg0.isDefault )
			end
		end
		f19_arg0.textEdit:setTextEditActive()
		f19_arg0._textEditingActive = true
		if f19_arg0._buttonActionCallbackFunc then
			f19_arg0._buttonActionCallbackFunc()
		end
		f15_arg0( f19_arg0, f19_local0 )
		if not f19_arg0._isTrailingVisible then
			local f19_local2 = f19_arg0:getParent()
			if f19_local2 and f19_local2.Trailing and LUI.CanClearEditBoxText( f19_local2, f19_arg1.controller ) then
				f19_local2.Trailing:ShowClearTextAction()
				f19_local2:SetTrailingVisibility( true )
				ACTIONS.AnimateSequenceIfItExists( f19_local2, "ShowClear" )
			end
		end
		return true
	end
	
	f15_arg0:addEventHandler( "button_action", function ( f18_arg0, f18_arg1 )
		f15_arg0( f18_arg0, f18_arg1 )
	end )
	f15_arg0:addEventHandler( "text_edit_complete", function ( f17_arg0, f17_arg1 )
		if f17_arg0._textEditingActive and f17_arg1.active then
			f17_arg0:TextEditOff()
			if f17_arg0._textEditCompleteCallbackFunc and not f17_arg1.cancelled then
				f17_arg1.text = f17_arg0.textEdit:getText()
				f17_arg1.isDefault = f17_arg0.isDefault
				f17_arg0:_textEditCompleteCallbackFunc( f17_arg1 )
			end
			f17_arg0:dispatchEventToParent( {
				name = "generic_edit_box_complete",
				event = f17_arg1
			} )
		end
	end )
	f15_arg0:addEventHandler( "text_edit_is_typing", function ( f16_arg0, f16_arg1 )
		if f16_arg0._textEditingActive then
			f16_arg0.isDefault = false
			if f16_arg0._isTypingCallbackFunc then
				f16_arg0._isTypingCallbackFunc( f16_arg1.isTyping, f16_arg1.text )
			end
			if f16_arg0._isTypingCallbackInternalFunc then
				f16_arg0._isTypingCallbackInternalFunc( f16_arg1.isTyping, f16_arg1.text )
			end
			if not f16_arg0._isTrailingVisible then
				local f16_local0 = f16_arg0:getParent()
				if f16_local0 and f16_local0.Trailing and LUI.CanClearEditBoxText( f16_local0, f16_arg1.controller ) then
					f16_local0.Trailing:ShowClearTextAction()
					f16_local0:SetTrailingVisibility( true )
					ACTIONS.AnimateSequenceIfItExists( f16_local0, "ShowClear" )
				end
			end
		end
	end )
end

LUI.AddGenericEditBoxWidgetLogic = function ( f14_arg0, f14_arg1, f14_arg2 )
	local f14_local0 = SWATCHES.HUD.highlight
	local f14_local1 = {
		a = 5.330852272E-315,
		r = f14_local0.r * 255,
		g = f14_local0.g * 255,
		b = f14_local0.b * 255
	}
	local f14_local2 = LUI.Alignment.Left
	if IsLanguageRightToLeft( GetCurrentLanguage() ) then
		f14_local2 = LUI.Alignment.Right
	end
	if not f14_arg2 then
		f14_arg2 = {}
	end
	f14_arg2.font = f14_arg2.font and f14_arg2.font or FONTS.GetFont( FONTS.BattleNetRegular.File )
	f14_arg2.alignment = f14_arg2.alignment and f14_arg2.alignment or f14_local2
	f14_arg2.focusType = f14_arg2.focusType and f14_arg2.focusType or FocusType.MouseOver
	f14_arg2.defaultValue = f14_arg2.defaultValue and f14_arg2.defaultValue or f14_arg0.Text:getText()
	f14_arg2.textSelectionColor = f14_arg2.textSelectionColor and f14_arg2.textSelectionColor or f14_local1
	f14_arg2.autoConfirmOnTab = true
	f14_arg2.autoSelectAllOnActive = true
	f14_arg2.autoConfirmOnOutsideClick = true
	LUI.AddEditBoxLogic( f14_arg0.Text, f14_arg1, f14_arg2 )
end

LUI.AddEditBoxOptionLogic = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0._name = f3_arg2.name
	f3_arg0._textSelectionColor = f3_arg2.textSelectionColor
	f3_arg0._valueGetter = f3_arg2.valueGetter
	f3_arg0._onRefresh = f3_arg2.onRefresh
	f3_arg0._onReset = f3_arg2.onReset
	f3_arg0._defaultValueGetter = f3_arg2.defaultValueGetter
	f3_arg0._onDependencyParentRefresh = f3_arg2.onDependencyParentRefresh
	f3_arg0._applyable = false
	f3_arg0._updateDuration = f3_arg2.updateDuration or 0
	f3_arg0.UpdateContent = UpdateContent
	assert( f3_arg2.action )
	f3_arg0.action = f3_arg2.action
	f3_arg0._currentValue = f3_arg2.defaultValue or ""
	local f3_local0 = function ( f13_arg0, f13_arg1, f13_arg2, f13_arg3 )
		local f13_local0 = f13_arg0._currentValue
		f13_arg0._currentValue = f13_arg1
		if f13_arg3 then
			f13_arg0._explicitValue = f13_arg1
		end
		if not f13_arg0._applyable and f13_local0 ~= f13_arg1 then
			f13_arg0.action( f13_arg0._currentValue, f13_arg2 )
		end
		f13_arg0:UpdateContent()
		if f13_arg0._onRefresh then
			f13_arg0:_onRefresh( f13_arg2, f13_arg0._currentValue, f13_arg3 )
		end
	end
	
	local f3_local1 = function ( f12_arg0 )
		f12_arg0.EditBox.Text.textEdit:setTextEditText( f12_arg0._currentValue )
	end
	
	f3_arg0.SetCurrentValue = function ( f11_arg0, f11_arg1, f11_arg2 )
		f3_arg0( f11_arg0, f11_arg1, f3_arg0, f11_arg2 )
	end
	
	LUI.AddEditBoxLogic( f3_arg0.EditBox.Text, f3_arg1, {
		autoSelectAllOnActive = true,
		autoConfirmOnOutsideClick = true,
		isNumeric = false,
		isPassword = false,
		autoConfirmOnTab = true,
		isNumericEmpty = false,
		useAutoAlign = true,
		alignment = LUI.Alignment.Left,
		focusType = FocusType.MouseOver,
		font = CoD.TextSettings.SmallFont.Font,
		defaultValue = f3_arg0._currentValue,
		textSelectionColor = f3_arg0._textSelectionColor,
		name = f3_arg0._name
	} )
	f3_arg0.EditBox:SetAsEditBoxHandler( true )
	f3_arg0.EditBox.Text:SetTextEditCompleteCallbackFunc( function ( f10_arg0, f10_arg1 )
		local f10_local0 = ""
		if not f10_arg1.cancelled then
			local f10_local1 = f10_arg1.text
			if not f10_local1 then
				f10_local0 = f10_local1
			else
				f10_local0 = ""
			end
		end
		f10_arg0:dispatchEventToParent( {
			name = "option_edit_box_complete",
			newValue = f10_local0
		} )
	end )
	f3_arg0:SetCurrentValue( f3_arg0._currentValue )
	if f3_arg0._initialized then
		return true
	else
		f3_arg0._initialized = true
		f3_arg0:addEventHandler( "option_edit_box_complete", function ( f9_arg0, f9_arg1 )
			f9_arg0:SetCurrentValue( f9_arg1.newValue, true )
		end )
		f3_arg0:addEventHandler( "refresh_values", function ( f8_arg0, f8_arg1 )
			f8_arg0:SetCurrentValue( f8_arg0._currentValue )
			return true
		end )
		f3_arg0:addEventHandler( "reset_value", function ( f7_arg0, f7_arg1 )
			if f7_arg0._defaultValueGetter and not f7_arg0.disabled and not f7_arg0._applyable then
				f7_arg0:SetCurrentValue( tonumber( f7_arg0._defaultValueGetter( f7_arg1.controllerIndex or f3_arg0 ) ), true )
				f7_arg0:_onReset( f7_arg1.controllerIndex )
			end
		end )
		f3_arg0:addEventHandler( "apply_value", function ( f6_arg0, f6_arg1 )
			if f6_arg0._applyable then
				
			else
				
			end
		end )
		f3_arg0:addEventHandler( "parent_value_changed", function ( f5_arg0, f5_arg1 )
			if f5_arg0._onDependencyParentRefresh then
				local f5_local0 = f5_arg0:_onDependencyParentRefresh( f5_arg1.controllerIndex or f3_arg0, f5_arg0._currentValue, f5_arg1.parentId, f5_arg1.parentValue )
				if f5_local0 == true then
					f5_arg0:_onRefresh( f5_arg1.controllerIndex, f5_arg0._currentValue )
				elseif f5_local0 ~= nil then
					f5_arg0:SetCurrentValue( f5_local0 )
				end
			end
		end )
		f3_arg0:addEventHandler( "refresh_option", function ( f4_arg0, f4_arg1 )
			f4_arg0:_onRefresh( f4_arg1.controllerIndex, f4_arg0._currentValue )
		end )
	end
end

LUI.CanClearEditBoxText = function ( f2_arg0, f2_arg1 )
	local f2_local0 = f2_arg0:isInFocus()
	if not f2_local0 then
		f2_local0 = f2_arg0:IsTextEditActive()
	end
	local f2_local1
	if not f2_arg0._disableClearText then
		f2_local1 = LUI.IsEditboxTextEmpty( f2_arg0 )
		if f2_local1 then
			if not f2_arg0.Text.isDefault then
				f2_local1 = f2_local0
			else
				f2_local1 = false
			end
		end
	else
		f2_local1 = false
	end
	return f2_local1
end

LUI.IsEditboxTextEmpty = function ( f1_arg0 )
	local f1_local0 = f1_arg0.Text.textEdit
	if f1_local0 then
		f1_local0 = f1_arg0.Text.textEdit:getText()
		if f1_local0 then
			f1_local0 = #f1_arg0.Text.textEdit:getText() ~= 0
		end
	end
	return f1_local0
end

