-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.frontend.dmzpersistentoperatorcardcontainer" )
require( "ui.generated.widgets.frontend.menubuttonprompt" )
require( "ui.generated.widgets.frontend.mp.dmz.dmzloadoutcustomizationbuttons" )
require( "ui.generated.widgets.frontend.dmzdevonlyinventorybuttons" )
require( "ui.generated.widgets.frontend.mp.backpack" )
require( "ui.generated.widgets.frontend.mp.dmz.dmzbackpackintel" )
require( "ui.generated.widgets.buttonpromptcontainerhorizontal" )
require( "ui.generated.widgets.dmzglobalgeardetails" )
require( "ui.generated.widgets.dmzdefaultloadoutbutton" )
require( "ui.generated.widgets.dmzstatbutton" )
local f0_local0 = 100
local f0_local1 = function ( f72_arg0, f72_arg1 )
	f72_arg0.UnequipButton:SetVisible( f72_arg1 )
	f72_arg0.UnequipButton:SetMouseFocusBlocker( not f72_arg1 )
end

local f0_local2 = function ( f71_arg0, f71_arg1 )
	for f71_local4, f71_local5 in pairs( f71_arg0._weapons ) do
		local f71_local6 = WEAPON.GetBaseRefFromWeaponString( f71_local5 )
		local f71_local7 = DMZ.GetEquippedInstanceWeaponTable( f71_local4 )
		if not CLIENT_MODEL.SetLauncherCase( f71_local6, f71_local4, f71_local7.lootID ) then
			local f71_local3
			if f71_local4 == 0 then
				f71_local3 = f71_arg0._primaryWeaponModel
				if not f71_local3 then
				
				else
					WEAPON.SetModelIfLoaded( f71_arg1, f71_local3, f71_arg0._weapons[f71_local4], {
						adjustSandbags = f71_local4 == 0
					} )
				end
			end
			f71_local3 = f71_arg0._secondaryWeaponModel
		end
	end
end

local f0_local3 = function ( f69_arg0, f69_arg1, f69_arg2, f69_arg3 )
	local f69_local0 = {}
	local f69_local1 = DMZ.GetEquippedInstanceWeaponTable( WEAPON.PrimarySlot )
	local f69_local2 = WEAPON.GetWeaponModelName( f69_local1.weapon, f69_local1, {
		includeCamos = true,
		includeAttachments = true,
		includeStickers = true,
		controllerIndex = f69_arg1
	} )
	if not WEAPON.IsWeaponNoneValue( f69_local2 ) and not LUI.IsItemInArray( f69_local0, f69_local2 ) then
		table.insert( f69_local0, f69_local2 )
		f69_arg0._weapons[WEAPON.PrimarySlot] = f69_local2
	end
	local f69_local3 = DMZ.GetEquippedInstanceWeaponTable( WEAPON.SecondarySlot )
	f69_local2 = WEAPON.GetWeaponModelName( f69_local3.weapon, f69_local3, {
		includeCamos = true,
		includeAttachments = true,
		includeStickers = true,
		controllerIndex = f69_arg1
	} )
	if not WEAPON.IsWeaponNoneValue( f69_local2 ) and not LUI.IsItemInArray( f69_local0, f69_local2 ) then
		table.insert( f69_local0, f69_local2 )
		f69_arg0._weapons[WEAPON.SecondarySlot] = f69_local2
	end
	table.insert( f69_local0, WATCH.GetFullModelName( WATCH.GetEquippedWatch( f69_arg1 ) ) )
	if 0 < #f69_local0 then
		STREAMING.RequestModels( f69_arg1, {
			requesterWidget = f69_arg0,
			modelType = STREAMING.ModelTypes.WeaponView,
			models = f69_local0
		} )
	end
	f0_local0( f69_arg0, f69_arg1 )
	local f69_local4 = 0
	local f69_local5 = 0
	local f69_local6 = false
	local f69_local7 = false
	f69_arg0:registerEventHandler( "updateClientModelsDMZ", function ( element, event )
		f69_arg0 = f69_arg0 + f69_arg0
		f69_arg0 = 5000 < f69_arg0 - f69_arg0
		if ClientModel[0xA988866C889EAAD]() and (Engine[0xFB66055BF32565F]( WEAPON.PrimarySlot, WEAPON.lodThreshold ) or Engine[0xFB66055BF32565F]( WEAPON.SecondarySlot, WEAPON.lodThreshold ) or f69_arg0) then
			CLIENT_MODEL.SetAllModelsModifiable( f69_arg0 )
			f69_arg0( f69_arg0, f69_arg0 )
			CLIENT_MODEL.InitPatchClientModels( f69_arg0, f69_arg0 )
			CLIENT_MODEL.UpdateModelsForLoadout( f69_arg0, f69_arg0, f69_arg0 )
			f69_arg0 = true
		end
		if (f69_arg0 or f69_arg0) and f69_arg0.updateClientModelsDMZTimer then
			CLIENT_MODEL.SetAllModelsModifiable( f69_arg0 )
			Engine[0x6055C55456F05DF]( "swap_gun_foam", 3 )
			CLIENT_MODEL.SetModel( CLIENT_MODEL.coreMPModels.GUN_CASE, CLIENT_MODEL.MILITARY_GUNTABLE_CASE_LARGE )
			f69_arg0:RemoveElement( f69_arg0.updateClientModelsDMZTimer )
			f69_arg0.updateClientModelsDMZTimer = nil
		end
	end )
end

local f0_local4 = function ( f68_arg0, f68_arg1 )
	f68_arg0._primaryWeaponModel = WEAPON.GetWeaponModel( f68_arg1, FrontEndScene.ClientWeapons.GunTablePrimary )
	f68_arg0:addElement( f68_arg0._primaryWeaponModel )
	f68_arg0._secondaryWeaponModel = WEAPON.GetWeaponModel( f68_arg1, FrontEndScene.ClientWeapons.GunTableSecondary )
	f68_arg0:addElement( f68_arg0._secondaryWeaponModel )
	ClientWeapon[0x59B77D6F41ED417]( FrontEndScene.ClientWeapons.GunTablePrimary, false )
	ClientWeapon[0x59B77D6F41ED417]( FrontEndScene.ClientWeapons.GunTableSecondary, false )
	f68_arg0._watchModel = WEAPON.GetWeaponModel( f68_arg1, FrontEndScene.ClientWeapons.Watch, CSV.weaponOffsets.watchFile )
	f68_arg0:addElement( f68_arg0._watchModel )
end

local f0_local5 = function ( f66_arg0, f66_arg1 )
	return function ( f67_arg0, f67_arg1 )
		assert( f67_arg1 )
		local f67_local0 = LUI.FlowManager.GetScopedData( f66_arg0 )
		LUI.FlowManager.RequestAddMenu( "DMZInventoryMenu", true, f67_arg1.controller, nil, {
			weaponSlot = f66_arg0,
			loadoutIndex = f67_local0.selectedLoadoutIndex,
			equipedWeapons = f66_arg0.equipedWeapons
		}, true )
	end
	
end

local f0_local6 = function ( f64_arg0, f64_arg1 )
	return function ( f65_arg0, f65_arg1 )
		assert( f65_arg1 )
		local f65_local0 = LUI.FlowManager.GetScopedData( f64_arg0 )
		GUNSMITH.OpenGunsmith( f65_arg1.controller, f65_local0.selectedLoadoutIndex, f64_arg0 )
	end
	
end

local f0_local7 = function ( f62_arg0 )
	return function ( f63_arg0, f63_arg1 )
		assert( f63_arg1 )
		local f63_local0 = LUI.FlowManager.GetScopedData( f62_arg0 )
		LUI.FlowManager.RequestAddMenu( LOADOUT.GetPerkPackageSelectMenuRef(), true, f63_arg1.controller, nil, {
			loadoutIndex = f63_local0.selectedLoadoutIndex
		}, true )
	end
	
end

local f0_local8 = function ( f60_arg0, f60_arg1 )
	return function ( f61_arg0, f61_arg1 )
		assert( f61_arg1 )
		local f61_local0 = LUI.FlowManager.GetScopedData( f60_arg0 )
		LUI.FlowManager.RequestAddMenu( LOADOUT.GetEquipmentSelectMenuRef(), true, f61_arg1.controller, nil, {
			equipmentIndex = f60_arg0,
			loadoutIndex = f61_local0.selectedLoadoutIndex
		}, true )
	end
	
end

local f0_local9 = function ( f59_arg0, f59_arg1 )
	LUI.FlowManager.RequestAddMenu( "MatchmakingReadyUp", false, f59_arg1.controller, nil, nil, true )
end

local f0_local10 = function ( f58_arg0, f58_arg1 )
	local f58_local0 = LUI.FlowManager.GetScopedData( f58_arg0 )
	LUI.FlowManager.RequestAddMenu( "FieldUpgrades", true, f58_arg1.controller, nil, {
		defaultSlotOne = true,
		loadoutIndex = f58_local0.selectedLoadoutIndex
	}, true )
end

local f0_local11 = function ( f57_arg0, f57_arg1 )
	LUI.FlowManager.RequestAddMenu( "StreakSelect", true, f57_arg1.controller, nil, nil, true )
end

local f0_local12 = function ( f53_arg0, f53_arg1, f53_arg2, f53_arg3 )
	local f53_local0 = DMZ.GetEquippedInstanceWeaponTable( WEAPON.PrimarySlot )
	local f53_local1 = WEAPON.GetWeaponModelName( f53_local0.weapon, f53_local0, {
		includeStickers = true,
		includeCamos = true,
		includeAttachments = true
	} )
	local f53_local2 = DMZ.GetEquippedInstanceWeaponTable( WEAPON.SecondarySlot )
	local f53_local3 = WEAPON.GetWeaponModelName( f53_local2.weapon, f53_local2, {
		includeStickers = true,
		includeCamos = true,
		includeAttachments = true
	} )
	local f53_local4 = DMZ.GetEquippedInstanceWeaponTable( DMZ.BackpackWeaponSlot )
	f53_arg0.LoadoutButtons.Primary:setActionSFX( SOUND_SETS.loadout.selectLoadoutEdit )
	f53_arg0.LoadoutButtons.Secondary:setActionSFX( SOUND_SETS.loadout.selectLoadoutEdit )
	f53_arg0.equipedWeapons = {
		[WEAPON.PrimarySlot] = f53_local0.weapon,
		[WEAPON.SecondarySlot] = f53_local2.weapon,
		[DMZ.BackpackWeaponSlot] = f53_local4.weapon
	}
	f53_arg0.LoadoutButtons.Primary:SetupButtonForDMZ( f53_arg1, WEAPON.PrimarySlot, f53_local0, false, {
		isPrimary = true,
		showAttachmentHighlights = true,
		streamInWeaponModel = true,
		weaponIndex = f53_arg3,
		weaponModelName = f53_local1
	} )
	f53_arg0.LoadoutButtons.Secondary:SetupButtonForDMZ( f53_arg1, WEAPON.SecondarySlot, f53_local2, false, {
		isPrimary = false,
		showAttachmentHighlights = true,
		streamInWeaponModel = true,
		weaponIndex = f53_arg3,
		weaponModelName = f53_local3
	} )
	if not WEAPON.IsWeaponNoneValue( f53_local0.weapon ) and not WEAPON.IsWeaponFists( f53_local0.weapon ) then
		f53_arg0.LoadoutButtons.Primary:SetPrimaryPromptText( 0xAA4B3526A3C0AC4 )
		f53_arg0.LoadoutButtons.Primary:SetHighlightEnabledColor( SWATCHES[0xEAF2060ABE5269B][0x6062D608A2A0C2E] )
	end
	if not WEAPON.IsWeaponNoneValue( f53_local2.weapon ) and not WEAPON.IsWeaponFists( f53_local2.weapon ) then
		f53_arg0.LoadoutButtons.Secondary:SetPrimaryPromptText( 0xAA4B3526A3C0AC4 )
		f53_arg0.LoadoutButtons.Secondary:SetHighlightEnabledColor( SWATCHES[0xEAF2060ABE5269B][0x6062D608A2A0C2E] )
	end
	f53_arg0.LoadoutButtons.Primary:addEventHandler( "button_over", function ( f56_arg0, f56_arg1 )
		f53_arg0._currentFocusedWidget = f53_arg0.LoadoutButtons
	end )
	f53_arg0.LoadoutButtons.Secondary:addEventHandler( "button_over", function ( f55_arg0, f55_arg1 )
		f53_arg0._currentFocusedWidget = f53_arg0.LoadoutButtons
	end )
	if f53_arg0.LoadoutButtons.Primary:isInFocus() or f53_arg0.LoadoutButtons.Secondary:isInFocus() then
		f53_arg0._currentFocusedWidget = f53_arg0.LoadoutButtons
	end
	f53_arg0.LoadoutButtons.Primary:addEventHandler( "button_action", f0_local0( f53_arg0, WEAPON.PrimarySlot ) )
	f53_arg0.LoadoutButtons.Secondary:addEventHandler( "button_action", f0_local0( f53_arg0, WEAPON.SecondarySlot ) )
	f53_arg0:addEventHandler( "button_alt1", function ( f54_arg0 )
		local f54_local0 = f54_arg0.LoadoutButtons.Primary
		local f54_local1 = f54_arg0.LoadoutButtons.Secondary
		if f54_local0 and f54_local0:isInFocus() then
			f54_arg0.equipedWeapons[WEAPON.PrimarySlot] = "iw9_me_fists"
		elseif f54_local1 and f54_local1:isInFocus() then
			f54_arg0.equipedWeapons[WEAPON.SecondarySlot] = "iw9_me_fists"
		end
		f54_arg0.DMZGlobalGearDetails:UpdateContraband( f53_arg0 )
	end )
end

local f0_local13 = function ( f51_arg0, f51_arg1, f51_arg2, f51_arg3, f51_arg4, f51_arg5 )
	local f51_local0 = nil
	local f51_local1 = {}
	if DMZ.IsInstanceInventoryEnabledFrontend() then
		f51_local0 = DMZ.GetEquippedInstanceEquipmentRef( f51_arg5 - 1 )
	else
		f51_local1.setup = f51_arg3[f51_arg4].equipmentSetups[f51_arg5 - 1].equipment
		f51_local0 = f51_local1.setup:get()
	end
	local f51_local2
	if f51_local0 ~= nil and f51_local0 ~= "none" then
		f51_local2 = false
	else
		f51_local2 = true
	end
	if f51_local2 then
		f51_arg1.Button:SetPrimaryPromptText( 0x7D9DC9E3291E103 )
		f51_arg1.Button:SetHighlightEnabledColor( SWATCHES[0xEAF2060ABE5269B][0x53B984BE8B3BE65] )
	else
		f51_arg1.Button:SetPrimaryPromptText( 0xAA4B3526A3C0AC4 )
		f51_arg1.Button:SetHighlightEnabledColor( SWATCHES[0xEAF2060ABE5269B][0x6062D608A2A0C2E] )
	end
	f51_local1.type = LOOT.itemTypes.EQUIPMENT
	local f51_local3
	if f51_arg5 == EQUIPMENT.lethalSlot then
		f51_local3 = 0xE295473B54D48CF
		if not f51_local3 then
		
		else
			f51_local1.categoryName = f51_local3
			f51_local1.name = LOOT.GetItemName( LOOT.itemTypes.EQUIPMENT, f51_local0 )
			f51_local1.icon = LOOT.GetItemImage( LOOT.itemTypes.EQUIPMENT, f51_local0 )
			f51_local1.equipmentIndex = f51_arg5
			f51_arg1:SetupButton( f51_arg2, {
				item = f51_local0,
				itemType = f51_local1.type,
				itemTitle = f51_local1.categoryName,
				equipSlot = f51_arg5,
				loadoutIndex = f51_arg4
			}, f51_local2 )
			if not DMZ.IsInstanceInventoryEnabledFrontend() then
				f51_arg1:SetButtonDisabled( not DMZ.HasEquipment( f51_arg2, f51_arg5 ) )
			end
			f51_arg1:setActionSFX( SOUND_SETS.default.selectAlt )
			f51_arg1:addEventHandler( "button_action", f0_local0( f51_arg0, f51_arg5 - 1 ) )
			f51_arg1:addEventHandler( "button_over", function ( f52_arg0, f52_arg1 )
				f51_arg0._currentFocusedWidget = f51_arg0.LoadoutButtons
			end )
		end
	end
	f51_local3 = 0x47F610628BD37ED
end

local f0_local14 = function ( f49_arg0, f49_arg1, f49_arg2, f49_arg3 )
	local f49_local0 = nil
	local f49_local1 = {}
	if DMZ.IsInstanceInventoryEnabledFrontend() then
		f49_local0 = DMZ.GetEquippedInstanceFieldUpgradeRef()
	else
		f49_local1.setup = f49_arg2[f49_arg3].fieldUpgrades[0]
		f49_local0 = f49_local1.setup:get()
	end
	local f49_local2
	if f49_local0 ~= nil and f49_local0 ~= "none" then
		f49_local2 = false
	else
		f49_local2 = true
	end
	if f49_local2 then
		f49_arg0.LoadoutButtons.FieldUpgradeGridItem.Button:SetPrimaryPromptText( 0x7D9DC9E3291E103 )
		f49_arg0.LoadoutButtons.FieldUpgradeGridItem.Button:SetHighlightEnabledColor( SWATCHES[0xEAF2060ABE5269B][0x53B984BE8B3BE65] )
	else
		f49_arg0.LoadoutButtons.FieldUpgradeGridItem.Button:SetPrimaryPromptText( 0xAA4B3526A3C0AC4 )
		f49_arg0.LoadoutButtons.FieldUpgradeGridItem.Button:SetHighlightEnabledColor( SWATCHES[0xEAF2060ABE5269B][0x6062D608A2A0C2E] )
	end
	f49_local1.type = LOOT.itemTypes.SUPER
	f49_local1.categoryName = 0xF98235B7098F848
	f49_local1.icon = SUPER.GetImage( f49_local0 )
	f49_local1.name = SUPER.GetName( f49_local0 )
	f49_arg0.LoadoutButtons.FieldUpgradeGridItem:SetupButton( f49_arg1, {
		item = f49_local0,
		itemType = f49_local1.type,
		itemTitle = f49_local1.categoryName,
		loadoutIndex = f49_arg3
	}, f49_local2 )
	if not DMZ.IsInstanceInventoryEnabledFrontend() then
		local f49_local3
		if DMZ.IsLimitedInventoryEnabled() and 0 >= #DMZ.GetInventoryItemsOfType( f49_arg1, LOOT.itemTypes.SUPER ) then
			f49_local3 = false
		else
			f49_local3 = true
		end
		f49_arg0.LoadoutButtons.FieldUpgradeGridItem:SetButtonDisabled( Restrictions.AreSupersRestricted() or not f49_local3 )
	end
	f49_arg0.LoadoutButtons.FieldUpgradeGridItem:addEventHandler( "button_action", f0_local0 )
	f49_arg0.LoadoutButtons.FieldUpgradeGridItem:addEventHandler( "button_over", function ( f50_arg0, f50_arg1 )
		f49_arg0._currentFocusedWidget = f49_arg0.LoadoutButtons
	end )
end

local f0_local15 = function ( f48_arg0, f48_arg1 )
	local f48_local0 = LOADOUT.GetLoadoutSquadMember( f48_arg1 )
	local f48_local1 = f48_local0.killstreakSetups[0].killstreak
	local f48_local2 = STREAK.GetBundleByRef( f48_local1:get() )
	f48_arg0.KillStreakButton:Setup( {
		setup = f48_local1,
		type = LOOT.itemTypes.STREAK,
		categoryName = Engine[0xED84C33EC5F01EA]( 0x3CD29E65F09F047 ),
		icon = STREAK.GetImage( f48_local2 ),
		name = STREAK.GetName( f48_local2 )
	} )
	if not DMZ.IsInstanceInventoryEnabledFrontend() then
		local f48_local3
		if DMZ.IsLimitedInventoryEnabled() and 0 >= #DMZ.GetInventoryItemsOfType( f48_arg1, LOOT.itemTypes.STREAK ) then
			f48_local3 = false
		else
			f48_local3 = true
		end
		local f48_local4 = f48_arg0.KillStreakButton
		local f48_local5 = f48_local4
		f48_local4 = f48_local4.SetButtonDisabled
		local f48_local6 = Restrictions.AreKillStreaksRestricted()
		if not f48_local6 then
			if f48_local3 then
				f48_local6 = not DMZ.IsLimitedInventoryEnabled()
			else
				f48_local6 = true
			end
		end
		f48_local4( f48_local5, f48_local6 )
	end
	f48_arg0.KillStreakButton:addEventHandler( "button_action", f0_local0 )
end

local f0_local16 = function ( f47_arg0, f47_arg1 )
	local f47_local0 = LUI.IsLastInputGamepad( f47_arg1.controllerIndex )
end

local f0_local17 = function ( f46_arg0, f46_arg1, f46_arg2, f46_arg3, f46_arg4 )
	f46_arg2.navigation[f46_arg3] = f46_arg1
	f46_arg1.navigation[f46_arg4] = f46_arg2
end

local f0_local18 = function ( f45_arg0 )
	f45_arg0._itemsInBackpack = {}
	f45_arg0._itemsInBackpack = DMZ.AddInstanceInventoryItemsByLocation( f45_arg0._itemsInBackpack, DMZ.InventoryLocations.BACKPACK, {
		callbackFunc = LOOT.IsLootIDValidAndNotAWeapon
	} )
end

local f0_local19 = function ( f44_arg0, f44_arg1, f44_arg2 )
	if f44_arg1 then
		ACTIONS.AnimateSequence( f44_arg0, "ShowIntel" )
		local f44_local0 = LUI.StringIsNilOrEmpty( f44_arg1.blueprintName ) and LOOT.GetItemNameByID( f44_arg1.lootID ) or f44_arg1.blueprintName
		local f44_local1 = LOOT.GetItemDescByID( f44_arg1.lootID )
		f44_arg0.BackpackIntel.ItemType:setText( f44_local0 )
		f44_arg0.BackpackIntel.Description:setText( f44_local1 )
		local f44_local2 = LAYOUT.GetTextWidth( f44_arg0.BackpackIntel.ItemType )
		local f44_local3 = LAYOUT.GetTextWidth( f44_arg0.BackpackIntel.Description )
		local f44_local4 = 28 * _1080p
		local f44_local5 = LOOT.IsItemStashable( f44_arg1.lootID )
		if not f44_local5 then
			f44_local5 = LOOT.IsItemKey( f44_arg1.lootID ) or f44_arg2
		end
		if not f44_local5 then
			ACTIONS.AnimateSequence( f44_arg0, "UnhideUnequipWarning" )
			ACTIONS.AnimateSequence( f44_arg0, "UnequipWarningLoop" )
		else
			ACTIONS.AnimateSequence( f44_arg0, "HideUnequipWarning" )
		end
		local f44_local6
		if f44_local3 < f44_local2 and not f44_local2 then
			f44_local6 = f44_local2
		else
			f44_local6 = f44_local3
		end
		local f44_local7 = f44_arg0.BackpackIntel
		local f44_local8 = f44_local7
		f44_local7 = f44_local7.SetRight
		local f44_local9 = f44_arg0.BackpackIntel:GetAnchorsAndPosition()
		f44_local7( f44_local8, f44_local9.left + f44_local6 + f44_local4 )
		if f44_arg2 then
			f44_local7 = ACTIONS.AnimateSequence
			f44_local8 = f44_arg0.BackpackIntel
			if LUI.StringIsNilOrEmpty( f44_arg1.blueprintName ) then
				f44_local9 = "Weapon"
			else
				f44_local9 = "Blueprint"
			end
			f44_local7( f44_local8, f44_local9 )
		end
	else
		ACTIONS.AnimateSequence( f44_arg0, "HideIntel" )
		ACTIONS.AnimateSequence( f44_arg0, "HideUnequipWarning" )
	end
end

local f0_local20 = function ( f39_arg0, f39_arg1 )
	f39_arg0._firstItem = nil
	f0_local0( f39_arg0 )
	f39_arg0.Backpack.ItemGrid:SetRefreshChild( function ( f41_arg0, f41_arg1, f41_arg2 )
		if not f39_arg0._firstItem then
			f39_arg0._firstItem = f41_arg0
		end
		f41_arg0.navigation = {}
		if f39_arg0._prevChild then
			f41_arg0.navigation.left = f39_arg0._prevChild
			f39_arg0._prevChild.navigation.right = f41_arg0
		end
		f39_arg0._prevChild = f41_arg0
		local f41_local0 = f39_arg0._itemsInBackpack[f39_arg0.Backpack.ItemGrid:GetContentIndex( f41_arg1, f41_arg2, {
			relativePosition = false
		} ) + 1]
		f41_arg0._item = f41_local0
		if f41_arg0:isInFocus() then
			f39_arg0( f39_arg0, f41_arg0._item )
		end
		local f41_local1 = DMZ.GetOperatorBackpack( f39_arg0, DMZ.GetActiveOperatorSlot( f39_arg0 ) )
		local f41_local2 = LOOT.IsSecureBackpackID( f41_local1.lootID )
		if f41_local0 then
			local f41_local3 = LOOT.GetItemNameByID( f41_local0.lootID )
			local f41_local4 = LOOT.GetItemDescByID( f41_local0.lootID )
			local f41_local5 = LOOT.GetItemImageByID( f41_local0.lootID )
			f41_arg0:SetBackgroundImage( f41_local0.lootID )
			f41_arg0:SetItemImage( f41_local5, f41_local0.lootID, f41_local2 )
			f41_arg0:SetItemName( f41_local3 )
		else
			f41_arg0:SetBackgroundImage()
			f41_arg0:SetItemImage( nil, nil, f41_local2 )
			f41_arg0:SetItemName( nil )
		end
		if not f41_arg0._eventhandlersAdded then
			f41_arg0:addEventHandler( "button_over", function ( f43_arg0, f43_arg1 )
				f41_arg0:dispatchEventToParent( {
					name = "dmz_header_highlight",
					index = DMZ.LoadoutManagementWidgetGroupIndex.BACKPACK
				} )
				f41_arg0._currentFocusedWidget = f41_arg0.Backpack
				f41_arg0._currFocusButton = f41_arg0
				f41_arg0._currFocusButton.isWeapon = false
				f41_arg0( f41_arg0, f41_arg0._item ~= nil )
				f41_arg0( f41_arg0, f41_arg0._item )
			end )
			f41_arg0:addEventHandler( "button_action", function ( f42_arg0, f42_arg1 )
				if f42_arg0:isInFocus() and not f42_arg0._item then
					LUI.FlowManager.RequestAddMenu( "DMZKeySelect", true, f42_arg1.controller, nil, nil, true )
					return true
				else
					
				end
			end )
			f41_arg0._eventhandlersAdded = true
		end
	end )
	local f39_local0 = f39_arg0.Backpack:SetupBackpack()
	f39_arg0._backpackSize = f39_local0.backpackSize
	f39_arg0._backpackRef = f39_local0.backpackRef
	f39_arg0.Backpack.ItemGrid:RefreshContent()
	f39_arg0.Backpack:SetupNavigation( f39_arg0._firstItem )
	if f39_arg0._backpackSize ~= DMZ.FrontEndBackpackItemSlots.SMALL and f39_arg0._backpackSize ~= DMZ.FrontEndBackpackItemSlots.SCAV then
		f39_arg0.Backpack.Weapon:addEventHandler( "button_action", f0_local0( f39_arg0, DMZ.BackpackWeaponSlot ) )
		f39_arg0.Backpack.Weapon:addEventHandler( "button_over", function ( f40_arg0, f40_arg1 )
			f39_arg0._currFocusButton = f39_arg0.Backpack.Weapon
			f39_arg0._currFocusButton.isWeapon = true
			if f40_arg0._weaponTable and not WEAPON.IsWeaponNoneValue( f40_arg0._weaponTable.weapon ) and not WEAPON.IsWeaponFists( f40_arg0._weaponTable.weapon ) then
				f39_arg0( f39_arg0, f40_arg0._weaponTable, true )
				f39_arg0( f39_arg0, true )
			else
				f39_arg0( f39_arg0, nil )
				f39_arg0( f39_arg0, false )
			end
		end )
	end
end

local f0_local21 = function ( f38_arg0 )
	f0_local0( f38_arg0 )
	f38_arg0.Backpack.ItemGrid:RefreshContent()
	f38_arg0.Backpack:SetupNavigation( f38_arg0._firstItem )
end

local f0_local22 = function ( f36_arg0, f36_arg1 )
	f36_arg0._headers = {
		f36_arg0.LoadoutHeader,
		f36_arg0.BackpackHeader
	}
	local f36_local0 = 8 * _1080p
	f36_arg0.LoadoutHeader:SetupWithoutPrompt( Engine[0xED84C33EC5F01EA]( 0xDBE2BC92A2E40E5 ) )
	local f36_local1 = LAYOUT.GetTextWidth( f36_arg0.LoadoutHeader.Text, f36_arg1 )
	local f36_local2 = f36_arg0.LoadoutHeader:GetAnchorsAndPosition()
	local f36_local3 = f36_local2.left + f36_local1 + f36_local0 * 2
	f36_arg0.LoadoutHeader:SetRight( f36_local3 )
	f36_arg0.LoadoutHeader.Text:SetRight( f36_local3 )
	if f36_arg0._backpackRef then
		local f36_local4 = f36_arg0._backpackRef
		local f36_local5 = LOOT.GetItemName( LOOT.itemTypes.CONSUMABLE, f36_arg0._backpackRef )
	end
	f36_arg0.BackpackHeader:SetupWithoutPrompt( f36_local4 and f36_local5 or Engine[0xED84C33EC5F01EA]( 0x602DF7D1029A157 ) )
	f36_local1 = LAYOUT.GetTextWidth( f36_arg0.BackpackHeader.Text, f36_arg1 )
	f36_local2 = f36_arg0.BackpackHeader:GetAnchorsAndPosition()
	f36_local3 = f36_local2.left + f36_local1 + f36_local0 * 2
	f36_arg0.BackpackHeader:SetRight( f36_local3 )
	f36_arg0.BackpackHeader.Text:SetRight( f36_local3 )
	f36_arg0:addEventHandler( "dmz_header_highlight", function ( f37_arg0, f37_arg1 )
		assert( f37_arg1.index )
		if f37_arg0._focusedHeader then
			ACTIONS.AnimateSequence( f37_arg0._focusedHeader, "ButtonUp" )
		end
		f37_arg0._focusedHeader = f37_arg0._headers[f37_arg1.index]
		if f37_arg1.index == DMZ.LoadoutManagementWidgetGroupIndex.LOADOUT or f37_arg1.index == DMZ.LoadoutManagementWidgetGroupIndex.OPERATOR_CARD then
			f36_arg0( f36_arg0, nil )
			f37_arg0._currFocusButton = nil
			f36_arg0( f36_arg0, false )
		end
		if f37_arg1.index ~= DMZ.LoadoutManagementWidgetGroupIndex.LOADOUT then
			f36_arg0.LoadoutButtons:CheckFocusedButton( nil )
		end
		if f37_arg1.index == DMZ.LoadoutManagementWidgetGroupIndex.BACKPACK or f37_arg1.index == DMZ.LoadoutManagementWidgetGroupIndex.LOADOUT then
			ACTIONS.AnimateSequence( f37_arg0._focusedHeader, "ButtonOver" )
		end
	end )
end

local f0_local23 = function ( f31_arg0, f31_arg1 )
	f31_arg0:registerEventHandler( "button_action", function ( element, event )
		if element:isInFocus() then
			LUI.FlowManager.RequestAddMenu( "DMZPersistentOperatorSelect", true, event.controller, nil, options, true )
			return true
		else
			
		end
	end )
	f31_arg0:registerEventHandler( "button_over", function ( element, event )
		local f34_local0 = element:getParent()
		element:dispatchEventToParent( {
			name = "dmz_header_highlight",
			index = DMZ.LoadoutManagementWidgetGroupIndex.OPERATOR_CARD
		} )
		f34_local0._currentFocusedWidget = element
	end )
	local f31_local0 = function ()
		local f33_local0 = DMZ.GetActiveOperatorSlot( f31_arg0 )
		local f33_local1 = DMZ.GetOperatorDataForOperatorIndex( f31_arg0, f33_local0 )
		Engine[0xC4146BA76D0F982]( SOUND_SETS.ActiveDutyOperators.customize )
		OPERATOR.OpenOperatorSubMenu( f31_arg0, f31_arg0._controllerIndex, "OperatorCustomizationCategory", {
			isSoloOperatorSelect = true,
			shouldCreateSkinGrid = true,
			isFromCustomize = true,
			isFromDMZOperatorSelect = true,
			operatorData = f33_local1,
			persistentOperatorIndex = f33_local0,
			callerMenuName = LUI.FlowManager.FlowMenus[PartyUIRoot.DMZ_MAIN_MENU]
		} )
	end
	
	f31_arg0:AddGamepadEventCallback( "button_alt1", function ( f32_arg0, f32_arg1 )
		if f32_arg0:isInFocus() and f32_arg1.down then
			f31_arg0()
			return true
		else
			
		end
	end )
	f31_arg0:SetupButton( {
		removeTextBacker = true,
		removeEquipBanner = true,
		imageSize = "None",
		removeText = true,
		primaryActionText = Engine[0xED84C33EC5F01EA]( 0xAA4B3526A3C0AC4 ),
		doubleAction = {
			text = 0xAFB88FBDAA55912,
			prompt = 0x21E44BE45534168,
			callback = f31_local0
		}
	} )
	f31_arg0.OperatorCard:SetupOperatorCard()
	f31_arg0.OperatorCard:SetAlwaysShowGearInfoButton( true )
end

local f0_local24 = function ( f29_arg0, f29_arg1 )
	f29_arg0:SetupButton( {
		buttonSize = "Medium",
		imageSize = "1x1",
		removeEquipBanner = true,
		buttonData = {
			header = 0xAEE2B5EAF62722,
			image = "mgl_ui_icon_reset"
		}
	} )
	f29_arg0:SetPrimaryPromptText( 0x7D9DC9E3291E103 )
	f29_arg0:SetEquipped( false )
	f29_arg0:registerEventHandler( "button_action", function ( element, event )
		DMZ.ResetDefaultInstanceInventory( f29_arg0 )
		LUI.FlowManager.RequestLeaveMenu( element, false, false )
	end )
end

local f0_local25 = function ( f27_arg0, f27_arg1 )
	f27_arg0:SetupButton( {
		buttonSize = "Medium",
		imageSize = "1x1",
		removeEquipBanner = true,
		buttonData = {
			header = 0x3D25C250642A648,
			image = "ui_mp_br_loot_icon_keycard"
		}
	} )
	f27_arg0:SetPrimaryPromptText( 0x7D9DC9E3291E103 )
	f27_arg0:SetEquipped( false )
	f27_arg0:registerEventHandler( "button_action", function ( element, event )
		DMZ.GiveBuilding21Key( f27_arg0 )
	end )
end

local f0_local26 = function ( f25_arg0, f25_arg1 )
	f25_arg0:SetupButton( {
		buttonSize = "Medium",
		imageSize = "1x1",
		removeEquipBanner = true,
		buttonData = {
			header = 0xA8232B5F7CB85A8,
			image = "hud_icon_loot_smuggler_notebook"
		}
	} )
	f25_arg0:SetPrimaryPromptText( 0x7D9DC9E3291E103 )
	f25_arg0:SetEquipped( false )
	f25_arg0:registerEventHandler( "button_action", function ( element, event )
		LUI.FlowManager.RequestAddMenu( "DMZNotes", true, event.controller, nil, nil, true )
	end )
end

local f0_local27 = function ( f24_arg0 )
	if f24_arg0.Backpack:IsAnyInFocus() then
		f24_arg0._currentFocusedWidget = f24_arg0.Backpack
	elseif f24_arg0.LoadoutButtons:IsAnyInFocus() then
		f24_arg0._currentFocusedWidget = f24_arg0.LoadoutButtons
	elseif f24_arg0.DMZDevOnlyInventoryButtons ~= nil and f24_arg0.DMZDevOnlyInventoryButtons:IsAnyInFocus() then
		f24_arg0._currentFocusedWidget = f24_arg0.DMZDevOnlyInventoryButtons
	else
		f24_arg0._currentFocusedWidget = f24_arg0.PersistentOperatorCard
	end
end

local f0_local28 = function ( f10_arg0, f10_arg1, f10_arg2 )
	Streaming[0xE493C1B436663F6]( true )
	Engine[0x685AE31DEDA30A4]( "loadout_showcase" )
	GL_HACK.SetDMZModeDVar( true )
	f10_arg0._weapons = {}
	f10_arg0.updateClientModelsDMZTimer = LUI.UITimer.new( {
		event = "updateClientModelsDMZ",
		interval = f0_local0
	} )
	f10_arg0:addElement( f10_arg0.updateClientModelsDMZTimer )
	f0_local0( f10_arg0, f10_arg1 )
	local f10_local0 = LOADOUT.GetLoadoutSquadMember( f10_arg1 )
	f10_local0 = f10_local0.loadouts
	assert( f10_local0, "Loadout player data is nil at path squadMembers.loadouts" )
	local f10_local1 = LOADOUT.GetFavoriteLoadoutIndex( f10_arg1 )
	local f10_local2 = LUI.FlowManager.GetScopedData( f10_arg0 )
	f10_local2.selectedLoadoutIndex = f10_local1
	f0_local0( f10_arg0, f10_arg1, f10_local0, f10_local1 )
	f0_local0( f10_arg0, f10_arg1, f10_local0, f10_local1 )
	f0_local0( f10_arg0, f10_arg0.LoadoutButtons.EquipmentGridItem, f10_arg1, f10_local0, f10_local1, EQUIPMENT.lethalSlot )
	f0_local0( f10_arg0, f10_arg0.LoadoutButtons.TacticalGridItem, f10_arg1, f10_local0, f10_local1, EQUIPMENT.tacticalSlot )
	f0_local0( f10_arg0, f10_arg1, f10_local0, f10_local1 )
	if f10_arg0.KillStreakButton then
		f0_local0( f10_arg0, f10_arg1 )
	end
	f0_local0( f10_arg0, f10_arg1 )
	f0_local0( f10_arg0, f10_arg1 )
	local f10_local3 = LUI.FlowManager.IsInStack( "DMZLoadoutConfirmationMenu" )
	if f10_local3 then
		f10_local3 = LUI.FlowManager.IsInStack( "DMZReadyUp" ) == false
	end
	f10_arg0._missionFlow = LUI.FlowManager.IsInStack( "MissionSelect" )
	if f10_local3 then
		f10_arg0:AddGamepadEventCallback( "button_secondary", function ( f23_arg0, f23_arg1 )
			ACTIONS.LeaveMenu( f23_arg0 )
		end )
	elseif not f10_arg0._missionFlow then
		ACTIONS.AnimateSequence( f10_arg0, "NotMissionFlow" )
	else
		f10_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0x9200FD8A343D0F1, 2, 3, Engine[0xED84C33EC5F01EA]( 0x5A53CD556574AF2 ) ) )
		local DMZNextButton = MenuBuilder.BuildRegisteredType( "DMZNextButton", {
			controllerIndex = f10_arg1
		} )
		DMZNextButton.id = "DMZNextButton"
		DMZNextButton.Text:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x7BF5CE868B1CF2C ) ), 0 )
		DMZNextButton:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -396, _1080p * -96, _1080p * -185, _1080p * -85 )
		f10_arg0:addElement( DMZNextButton )
		f10_arg0.DMZNextButton = DMZNextButton
		
		local PartyWidget = MenuBuilder.BuildRegisteredType( "SocialPartyWidget", {
			controllerIndex = f10_arg1
		} )
		PartyWidget.id = "PartyWidget"
		PartyWidget:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1224, _1080p * 1824, _1080p * 94, _1080p * 264 )
		f10_arg0:addElement( PartyWidget )
		f10_arg0.PartyWidget = PartyWidget
		
		f10_arg0:AddGamepadEventCallback( "button_secondary", function ( f22_arg0, f22_arg1 )
			ACTIONS.LeaveMenu( f22_arg0 )
		end )
		f10_arg0:AddGamepadEventCallback( "button_right_trigger", f0_local0 )
		f10_arg0.DMZNextButton:registerEventHandler( "button_action", f0_local0 )
		f10_arg0:addAndCallEventHandler( "update_input_type", f0_local0, {
			controllerIndex = f10_arg1
		} )
	end
	f0_local0( f10_arg0 )
	f10_arg0:addEventHandler( "gain_focus", function ( f21_arg0, f21_arg1 )
		f21_arg0.PersistentOperatorCard:processEvent( {
			name = "gain_focus"
		} )
		return true
	end )
	f10_arg0:addEventHandler( "gamepad_button", function ( f18_arg0, f18_arg1 )
		if not f18_arg1.down then
			
		else
			
		end
		if f18_arg1.button == "up" or f18_arg1.button == "down" then
			if f18_arg1.button == "up" and f10_arg0._currentFocusedWidget == f10_arg0.LoadoutButtons then
				f10_arg0.LoadoutButtons:processEvent( {
					name = "lose_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0.Backpack:processEvent( {
					name = "gain_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0._currentFocusedWidget = f10_arg0.Backpack
				local f18_local0 = true
			elseif f18_arg1.button == "down" and f10_arg0._currentFocusedWidget == f10_arg0.Backpack then
				f10_arg0.Backpack:processEvent( {
					name = "lose_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0.LoadoutButtons:processEvent( {
					name = "gain_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0._currentFocusedWidget = f10_arg0.LoadoutButtons
				local f18_local0 = true
			end
		elseif f18_arg1.button == "left" then
			if f10_arg0._currentFocusedWidget == f10_arg0.LoadoutButtons and f10_arg0.LoadoutButtons.Primary:isInFocus() then
				f10_arg0.LoadoutButtons:processEvent( {
					name = "lose_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0.PersistentOperatorCard:processEvent( {
					name = "gain_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0._currentFocusedWidget = f10_arg0.PersistentOperatorCard
				local f18_local0 = true
			elseif f10_arg0._currentFocusedWidget == f10_arg0.Backpack and f10_arg0.Backpack:IsLeftMostVisibleInFocus() then
				f10_arg0.Backpack:processEvent( {
					name = "lose_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0.PersistentOperatorCard:processEvent( {
					name = "gain_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0._currentFocusedWidget = f10_arg0.PersistentOperatorCard
				f10_arg0( f10_arg0, nil )
				f10_arg0( f10_arg0, false )
				local f18_local0 = true
			elseif f10_arg0._currentFocusedWidget == f10_arg0.PersistentOperatorCard then
				f10_arg0.PersistentOperatorCard:processEvent( {
					name = "lose_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0.LoadoutButtons:SetDefaultFocus( function ()
					local f20_local0 = f18_arg0.LoadoutButtons
					local f20_local1 = f20_local0
					return f20_local0.GetIndexForElement( f18_arg0.LoadoutButtons:GetLastElement() )
				end )
				f10_arg0.LoadoutButtons:SetForceDefaultFocus( true )
				f10_arg0.LoadoutButtons:processEvent( {
					name = "gain_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0.LoadoutButtons:SetForceDefaultFocus( false )
				f10_arg0._currentFocusedWidget = f10_arg0.LoadoutButtons
				return true
			elseif f10_arg0._currentFocusedWidget == f10_arg0.DMZDevOnlyInventoryButtons and f10_arg0.DMZDevOnlyInventoryButtons:IsLeftMostVisibleInFocus() then
				f10_arg0.DMZDevOnlyInventoryButtons:processEvent( {
					name = "lose_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0.Backpack:processEvent( {
					name = "gain_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0._currentFocusedWidget = f10_arg0.Backpack
				return true
			end
		elseif f18_arg1.button == "right" then
			if f10_arg0._currentFocusedWidget == f10_arg0.PersistentOperatorCard then
				f10_arg0.PersistentOperatorCard:processEvent( {
					name = "lose_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0.LoadoutButtons:SetDefaultFocus( function ()
					local f19_local0 = f18_arg0.LoadoutButtons
					local f19_local1 = f19_local0
					return f19_local0.GetIndexForElement( f18_arg0.LoadoutButtons:GetFirstFocusableElement() )
				end )
				f10_arg0.LoadoutButtons:SetForceDefaultFocus( true )
				f10_arg0.LoadoutButtons:processEvent( {
					name = "gain_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0.LoadoutButtons:SetForceDefaultFocus( false )
				f10_arg0._currentFocusedWidget = f10_arg0.LoadoutButtons
				return true
			elseif f10_arg0._currentFocusedWidget == f10_arg0.LoadoutButtons then
				local f18_local0 = f10_arg0.LoadoutButtons:GetLastElement()
				if f18_local0:isInFocus() then
					f10_arg0.LoadoutButtons:processEvent( {
						name = "lose_focus",
						controller = f18_arg1.controller
					} )
					f10_arg0.PersistentOperatorCard:processEvent( {
						name = "gain_focus",
						controller = f18_arg1.controller
					} )
					f10_arg0._currentFocusedWidget = f10_arg0.PersistentOperatorCard
					return true
				end
			elseif f10_arg0._currentFocusedWidget == f10_arg0.Backpack then
				if f10_arg0.Backpack:IsRightMostVisibleInFocus() then
					f10_arg0.Backpack:processEvent( {
						name = "lose_focus",
						controller = f18_arg1.controller
					} )
					if f10_arg0.DMZDevOnlyInventoryButtons ~= nil then
						f10_arg0.DMZDevOnlyInventoryButtons:processEvent( {
							name = "gain_focus",
							controller = f18_arg1.controller
						} )
						f10_arg0._currentFocusedWidget = f10_arg0.DMZDevOnlyInventoryButtons
					else
						f10_arg0.PersistentOperatorCard:processEvent( {
							name = "gain_focus",
							controller = f18_arg1.controller
						} )
						f10_arg0._currentFocusedWidget = f10_arg0.PersistentOperatorCard
					end
					return true
				end
			elseif f10_arg0._currentFocusedWidget == f10_arg0.DMZDevOnlyInventoryButtons and f10_arg0.DMZDevOnlyInventoryButtons:IsRightMostVisibleInFocus() then
				f10_arg0.DMZDevOnlyInventoryButtons:processEvent( {
					name = "lose_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0.PersistentOperatorCard:processEvent( {
					name = "gain_focus",
					controller = f18_arg1.controller
				} )
				f10_arg0._currentFocusedWidget = f10_arg0.PersistentOperatorCard
				return true
			end
		end
	end )
	f10_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
		clickable = true,
		priority = 1,
		side = "left",
		ignoreTooltipPrompt = true,
		button_ref = "button_alt1",
		helper_text = Engine[0xED84C33EC5F01EA]( 0x11A42B3B7868280 ),
		container = f10_arg0.UnequipButton
	} )
	f10_arg0:AddGamepadEventCallback( "button_alt1", function ( f17_arg0, f17_arg1 )
		if f17_arg0._currFocusButton then
			local f17_local0 = f17_arg1.controller or f10_arg0
			if f17_arg0._currFocusButton._item then
				local f17_local1 = {}
				local f17_local2 = Engine[0xC4146BA76D0F982]
				local f17_local3 = DMZ.GetKeySounds( f17_arg0._currFocusButton._item.lootID )
				f17_local2( f17_local3.remove )
				f17_local2 = LOOT.IsItemKey( f17_arg0._currFocusButton._item.lootID )
				local f17_local4 = LOOT.IsMissionStashItem( f17_arg0._currFocusButton._item.lootID )
				if not f17_local2 then
					f17_local3 = not f17_local4
				else
					f17_local3 = false
				end
				if f17_local2 then
					f17_local1 = DMZ.AddInstanceInventoryItemsByLocation( f17_local1, DMZ.InventoryLocations.STASH, {
						callbackFunc = LOOT.IsItemKey,
						lootType = LOOT.itemTypes.CONSUMABLE
					} )
				elseif f17_local4 then
					f17_local1 = DMZ.AddInstanceInventoryItemsByLocation( f17_local1, DMZ.InventoryLocations.STASH, {
						callbackFunc = LOOT.IsMissionStashItem,
						lootType = LOOT.itemTypes.CONSUMABLE
					} )
				else
					f17_local1 = DMZ.AddInstanceInventoryItemsByLocation( f17_local1, DMZ.InventoryLocations.STASH, {
						callbackFunc = LOOT.IsLootIDValid
					} )
				end
				local f17_local5 = DMZ.GetItemStashLimit( f17_local0 )
				if f17_local3 then
					DMZInventory[0x9592517BD0FA450]( f17_arg0._currFocusButton._item.instanceID )
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.selectAltSmall )
					f10_arg0( f17_arg0 )
					if not f10_arg0._currFocusButton._filled then
						f10_arg0( f10_arg0, nil )
						f10_arg0( f10_arg0, false )
					end
				elseif #f17_local1 < f17_local5 then
					DMZInventory[0xCAFE937A69C306F]( f17_arg0._currFocusButton._item.instanceID, DMZ.InventoryLocations.STASH, DMZ.GenericSubLocations.FIRST_AVAILABLE )
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.selectAltSmall )
					f10_arg0( f17_arg0 )
					if not f17_arg0._currFocusButton._filled then
						f10_arg0( f17_arg0, nil )
						f10_arg0( f17_arg0, false )
					end
				else
					local f17_local6 = {
						description = 0xAB4B470ADAF839B,
						currentCount = #f17_local1,
						currentLimit = f17_local5
					}
					local f17_local7 = LUI.FlowManager.RequestAddMenu
					local f17_local8 = "DMZStashPopUp"
					local f17_local9 = true
					local f17_local10 = f17_local0
					local f17_local11 = nil
					local f17_local12 = {
						useStashFullMode = true,
						item = f10_arg0._currFocusButton._item
					}
					local f17_local13
					if f17_local2 then
						f17_local13 = 0x460F6ECE6FA4FCD
						if not f17_local13 then
						
						else
							f17_local12.flowName = f17_local13
							f17_local12.itemWarningInfo = f17_local6
							f17_local7( f17_local8, f17_local9, f17_local10, f17_local11, f17_local12, true )
						end
					end
					f17_local13 = 0x1EDEE7762EF3F
				end
				f17_arg0.DMZGlobalGearDetails:UpdateStash( f17_local0 )
			elseif f17_arg0._currFocusButton.isWeapon then
				local f17_local1 = DMZInventory[0x62BC1029DCFE464]( DMZ.InventoryLocations.BACKPACK, DMZ.BackpackSubLocations.WEAPON )
				f17_arg0.equipedWeapons[DMZ.BackpackWeaponSlot] = "none"
				if f17_local1 and f17_local1.lootID ~= 0 then
					if f17_local1.kind == DMZ.InventoryKinds.CUSTOM_WEAPON then
						DMZInventory[0x9592517BD0FA450]( f17_local1.instanceID )
						ACTIONS.AnimateSequence( f17_arg0.Backpack.Weapon, "Empty" )
						Engine[0xC4146BA76D0F982]( SOUND_SETS.default.selectAltSmall )
						f10_arg0( f17_arg0 )
						f10_arg0( f17_arg0, nil )
						f17_arg0.Backpack.Weapon._weaponTable = nil
					else
						local f17_local2 = DMZ.AddInstanceInventoryItemsByLocation( {}, DMZ.InventoryLocations.STASH, {
							lootType = LOOT.itemTypes.WEAPON
						} )
						local f17_local4 = DMZ.GetContrabandStashLimit( f17_local0 )
						if #f17_local2 < f17_local4 then
							DMZInventory[0xCAFE937A69C306F]( f17_local1.instanceID, DMZ.InventoryLocations.STASH, DMZ.GenericSubLocations.FIRST_AVAILABLE )
							ACTIONS.AnimateSequence( f17_arg0.Backpack.Weapon, "Empty" )
							Engine[0xC4146BA76D0F982]( SOUND_SETS.default.selectAltSmall )
							f10_arg0( f17_arg0, nil )
							f10_arg0( f17_arg0, false )
							f10_arg0.Backpack.Weapon._weaponTable = nil
						else
							LUI.FlowManager.RequestAddMenu( "DMZStashPopUp", true, f17_local0, nil, {
								useStashFullMode = true,
								flowName = "LUA_MENU/WEAPONS",
								useWeaponState = true,
								item = f17_arg0.Backpack.Weapon._weaponTable,
								weaponTable = {
									weaponIndex = 0,
									defaultLoadoutWeapon = false
								},
								itemWarningInfo = {
									description = "DMZ/GENERIC_STASH_FULL",
									currentCount = #f17_local2,
									currentLimit = f17_local4
								}
							}, true )
							Engine[0xC4146BA76D0F982]( SOUND_SETS.loadout.selectLoadoutEdit )
						end
					end
				end
				f17_arg0.DMZGlobalGearDetails:UpdateContraband( f17_local0 )
			end
		end
	end )
	f10_arg0:addEventHandler( "clear_weapon_slot", function ( f16_arg0, f16_arg1 )
		if f16_arg1.slot then
			f16_arg0.equipedWeapons[f16_arg1.slot] = "none"
			ClientWeapon[0x59B77D6F41ED417]( f16_arg1.slot, false )
			CLIENT_MODEL.SetModel( f16_arg1.slot and CLIENT_MODEL.coreMPModels.PRIMARY_WEAPON_CASE or CLIENT_MODEL.coreMPModels.SECONDARY_WEAPON_CASE, CLIENT_MODEL.NO_CLIENT_MODEL )
		end
		f16_arg0.DMZGlobalGearDetails:UpdateContraband( f10_arg0 )
	end )
	if f10_arg0.PersistentOperatorCard then
		f0_local0( f10_arg0.PersistentOperatorCard, f10_arg1 )
	end
	f10_arg0:AddGamepadEventCallback( "button_alt2", function ( f15_arg0, f15_arg1 )
		if f15_arg1.down then
			ACTIONS.OpenMenu( "DMZExfilStreakMenu" )
		end
	end )
	if f10_arg0.DMZDevOnlyInventoryButtons then
		if f10_arg0.DMZDevOnlyInventoryButtons.ResetInstanceInventoryButton then
			f0_local0( f10_arg0.DMZDevOnlyInventoryButtons.ResetInstanceInventoryButton, f10_arg1 )
		end
		if f10_arg0.DMZDevOnlyInventoryButtons.Building21TicketButton then
			f0_local0( f10_arg0.DMZDevOnlyInventoryButtons.Building21TicketButton, f10_arg1 )
		end
	end
	if DMZ.IsCashSlotUnlocked( f10_arg1 ) then
		local DMZNextButton = function ( f14_arg0, f14_arg1 )
			local f14_local0 = DMZ.GetQuantityFromWallet()
			local f14_local1 = f14_arg0.Backpack.MoneySlot
			if f14_local1 then
				if 0 < f14_local0 then
					f14_local1.CashQuantity:setText( LOOT.GetExpandedCashValueString( f14_local0 * BRLOOT.PLUNDER_QUANTITY_SCALING_FACTOR ) )
					ACTIONS.AnimateSequence( f14_local1, "PlunderFill" )
				else
					ACTIONS.AnimateSequence( f14_local1, "PlunderEmpty" )
				end
			end
		end
		
		local PartyWidget = f10_arg0.Backpack.MoneySlot
		if not PartyWidget.eventHandlersAdded then
			PartyWidget:addEventHandler( "button_over", function ( f13_arg0, f13_arg1 )
				f13_arg0:dispatchEventToParent( {
					name = "dmz_header_highlight",
					index = DMZ.LoadoutManagementWidgetGroupIndex.BACKPACK
				} )
				f10_arg0._currentFocusedWidget = f10_arg0.Backpack
				f10_arg0._currFocusButton = f13_arg0
				f10_arg0._currFocusButton.isWeapon = false
				f10_arg0( f10_arg0, nil )
				return true
			end )
			PartyWidget:addEventHandler( "button_action", function ( f12_arg0, f12_arg1 )
				if f12_arg0:isInFocus() and not f12_arg0._item then
					LUI.FlowManager.RequestPopupMenu( nil, "DMZWalletPopup", true, f12_arg1.controller, false, nil, nil, false, true )
					return true
				else
					
				end
			end )
			PartyWidget.eventHandlersAdded = true
		end
		f10_arg0:registerEventHandler( "cash_slot_value_changed", DMZNextButton )
		DMZNextButton( f10_arg0, nil )
	end
	DMZ.InstanceInventoryDirty = true
	local DMZNextButton = LUI.DataSourceInControllerModel.new( "alwaysLoaded.hasPlayerDestroyedItem" )
	local PartyWidget = DMZNextButton:GetValue( f10_arg1 )
	if PartyWidget then
		if LOOT.IsLootIDValid( PartyWidget ) then
			local f10_local6 = DMZ.GetKeySounds( PartyWidget )
			if not f10_local6.destroy then
			
			else
				local f10_local7 = f10_arg0:Wait( 100 )
				f10_local7.onComplete = function ()
					Engine[0xC4146BA76D0F982]( f10_arg0 )
				end
				
				DMZNextButton:SetValue( f10_arg1, false )
			end
		end
		local f10_local6 = SOUND_SETS.inventory.destroyWeapon
	end
	if DMZ.InstanceInventoryHasAnyWeapons( f10_arg1 ) then
		f10_arg0.DMZDefaultLoadoutButton:closeTree()
		f10_arg0.DMZDefaultLoadoutButton = nil
	end
	if f10_arg0.DMZStatButton then
		f10_arg0:RemoveElement( f10_arg0.DMZStatButton )
		f10_arg0.DMZStatButton = nil
	end
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		local f2_local0 = function ( f9_arg0, f9_arg1 )
			
		end
		
		f2_arg0.MenuTitle:RegisterAnimationSequence( "NotMissionFlow", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		local f2_local1 = function ( f8_arg0, f8_arg1 )
			f8_arg0.MenuTitle:AnimateSequence( "NotMissionFlow" )
		end
		
		f2_arg0.BackpackHeader:RegisterAnimationSequence( "ShowIntel", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -760
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * -728
			}
		} )
		f2_arg0.BackpackIntel:RegisterAnimationSequence( "ShowIntel", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Visible
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -712
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * -632
			}
		} )
		local f2_local2 = function ( f7_arg0, f7_arg1 )
			f7_arg0.BackpackHeader:AnimateSequence( "ShowIntel" )
			f7_arg0.BackpackIntel:AnimateSequence( "ShowIntel" )
		end
		
		f2_arg0.BackpackHeader:RegisterAnimationSequence( "HideIntel", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -650
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * -618
			}
		} )
		f2_arg0.BackpackIntel:RegisterAnimationSequence( "HideIntel", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -697
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * -617
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			}
		} )
		local f2_local3 = function ( f6_arg0, f6_arg1 )
			f6_arg0.BackpackHeader:AnimateSequence( "HideIntel" )
			f6_arg0.BackpackIntel:AnimateSequence( "HideIntel" )
		end
		
		f2_arg0.UnequipWarning:RegisterAnimationSequence( "UnequipWarningLoop", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.IW9StyleGuide.styleGuideMatchEnemyHighlight
			},
			{
				value = -9.255965339690016E+61,
				duration = 300,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				duration = 300,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.IW9StyleGuide.styleGuideMatchEnemyDark
			},
			{
				value = 1,
				duration = 350,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				duration = 350,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.IW9StyleGuide.styleGuideMatchEnemyHighlight
			}
		} )
		f2_arg0.UnequipWarningImage:RegisterAnimationSequence( "UnequipWarningLoop", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.IW9StyleGuide.styleGuideMatchEnemyHighlight
			},
			{
				value = -9.255965339690016E+61,
				duration = 300,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				duration = 300,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.IW9StyleGuide.styleGuideMatchEnemyDark
			},
			{
				value = 1,
				duration = 350,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				duration = 350,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.IW9StyleGuide.styleGuideMatchEnemyHighlight
			}
		} )
		local f2_local4 = function ( f5_arg0, f5_arg1 )
			f5_arg0.UnequipWarning:AnimateLoop( "UnequipWarningLoop", 1 )
			f5_arg0.UnequipWarningImage:AnimateLoop( "UnequipWarningLoop", 1 )
		end
		
		f2_arg0.UnequipWarning:RegisterAnimationSequence( "HideUnequipWarning", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f2_arg0.UnequipWarningImage:RegisterAnimationSequence( "HideUnequipWarning", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		local f2_local5 = function ( f4_arg0, f4_arg1 )
			f4_arg0.UnequipWarning:AnimateSequence( "HideUnequipWarning" )
			f4_arg0.UnequipWarningImage:AnimateSequence( "HideUnequipWarning" )
		end
		
		f2_arg0.UnequipWarning:RegisterAnimationSequence( "UnhideUnequipWarning", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Visible
			},
			{
				value = 4.667261642226141E-62,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f2_arg0.UnequipWarningImage:RegisterAnimationSequence( "UnhideUnequipWarning", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Visible
			},
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f2_arg0._sequences = {
			DefaultSequence = f2_local0,
			NotMissionFlow = f2_local1,
			ShowIntel = f2_local2,
			HideIntel = f2_local3,
			UnequipWarningLoop = f2_local4,
			HideUnequipWarning = f2_local5,
			UnhideUnequipWarning = function ( f3_arg0, f3_arg1 )
				f3_arg0.UnequipWarning:AnimateSequence( "UnhideUnequipWarning" )
				f3_arg0.UnequipWarningImage:AnimateSequence( "UnhideUnequipWarning" )
			end
		}
		f2_arg0._sequenceLengths = {
			HideIntel = 0,
			ShowIntel = 0,
			HideUnequipWarning = 0,
			NotMissionFlow = 0,
			UnhideUnequipWarning = 0,
			DefaultSequence = 0,
			UnequipWarningLoop = 650
		}
	end
}
function LoadoutManagement( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "LoadoutManagement"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	self.HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	self.HelperBar.id = "HelperBar"
	if CONDITIONS.IsMobileOrMobileSim() then
		self.HelperBar:SetAnchorsAndPosition( 1, 0, 0, 0, _1080p * -120, 0, 0, 0 )
	else
		self.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	end
	self.HelperBar:setPriority( 10 )
	self:addElement( self.HelperBar )
	local f1_local2 = self
	local Vignette = nil
	
	Vignette = LUI.UIImage.new()
	Vignette.id = "Vignette"
	ACTIONS.ScaleFullscreen( Vignette )
	Vignette:SetRGBFromInt( 0, 0 )
	Vignette:SetAlpha( 0.6, 0 )
	Vignette:setImage( RegisterMaterial( 0x5576BB3DF9CFC11 ), 0 )
	self:addElement( Vignette )
	self.Vignette = Vignette
	
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	ACTIONS.ScaleFullscreen( Background )
	Background:SetRGBFromInt( 0, 0 )
	Background:SetAlpha( 0.6, 0 )
	self:addElement( Background )
	self.Background = Background
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( Engine[0xED84C33EC5F01EA]( 0xECB687C6D943854 ), 0 )
	MenuTitle.ModeTitle:setText( "", 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 80 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local BackpackBacker = nil
	
	BackpackBacker = LUI.UIImage.new()
	BackpackBacker.id = "BackpackBacker"
	BackpackBacker:SetRGBFromTable( SWATCHES.genericButton.backgroundDisabled, 0 )
	BackpackBacker:SetAlpha( 0, 0 )
	BackpackBacker:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 96, _1080p * 916, _1080p * -290, _1080p * -84 )
	self:addElement( BackpackBacker )
	self.BackpackBacker = BackpackBacker
	
	local BackpackLabel = nil
	
	BackpackLabel = LUI.UIText.new()
	BackpackLabel.id = "BackpackLabel"
	BackpackLabel:SetRGBFromTable( SWATCHES.genericButton.textDisabled, 0 )
	BackpackLabel:SetAlpha( 0, 0 )
	BackpackLabel:setText( "Backpack", 0 )
	BackpackLabel:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	BackpackLabel:SetFontSize( 24 * _PT )
	BackpackLabel:SetMinFontSize( 18 * _PT )
	BackpackLabel:SetWordWrap( true )
	BackpackLabel:SetAlignment( LUI.Alignment.Left )
	BackpackLabel:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 112, _1080p * 612, _1080p * -283, _1080p * -259 )
	self:addElement( BackpackLabel )
	self.BackpackLabel = BackpackLabel
	
	local PersistentOperatorCard = nil
	
	PersistentOperatorCard = MenuBuilder.BuildRegisteredType( "DMZPersistentOperatorCardContainer", {
		controllerIndex = f1_local1
	} )
	PersistentOperatorCard.id = "PersistentOperatorCard"
	PersistentOperatorCard.StackedCardFore:SetVisible( true )
	PersistentOperatorCard.StackedCardBack:SetVisible( true )
	PersistentOperatorCard:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 87, _1080p * 555, _1080p * -960, _1080p * -120 )
	self:addElement( PersistentOperatorCard )
	self.PersistentOperatorCard = PersistentOperatorCard
	
	local LoadoutHeader = nil
	
	LoadoutHeader = MenuBuilder.BuildRegisteredType( "MenuButtonPrompt", {
		controllerIndex = f1_local1
	} )
	LoadoutHeader.id = "LoadoutHeader"
	LoadoutHeader.Text:SetOptOutRightToLeftAlignmentFlip( true )
	LoadoutHeader:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 626, _1080p * 826, _1080p * -371.95, _1080p * -339.95 )
	self:addElement( LoadoutHeader )
	self.LoadoutHeader = LoadoutHeader
	
	local LoadoutButtons = nil
	
	LoadoutButtons = MenuBuilder.BuildRegisteredType( "DMZLoadoutCustomizationButtons", {
		controllerIndex = f1_local1
	} )
	LoadoutButtons.id = "LoadoutButtons"
	LoadoutButtons:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 625, _1080p * 2199, _1080p * -324, _1080p * -120 )
	self:addElement( LoadoutButtons )
	self.LoadoutButtons = LoadoutButtons
	
	local f1_local11 = nil
	if CONDITIONS.IsDemoBuildOrDevBuildOrAreDevFeaturesEnabled() then
		f1_local11 = MenuBuilder.BuildRegisteredType( "DMZDevOnlyInventoryButtons", {
			controllerIndex = f1_local1
		} )
		f1_local11.id = "DMZDevOnlyInventoryButtons"
		f1_local11:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 1272, _1080p * 1672, _1080p * -742, _1080p * -692 )
		self:addElement( f1_local11 )
		self.DMZDevOnlyInventoryButtons = f1_local11
	end
	local BackpackHeader = nil
	
	BackpackHeader = MenuBuilder.BuildRegisteredType( "MenuButtonPrompt", {
		controllerIndex = f1_local1
	} )
	BackpackHeader.id = "BackpackHeader"
	BackpackHeader.Text:SetOptOutRightToLeftAlignmentFlip( true )
	BackpackHeader:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 624, _1080p * 824, _1080p * -650, _1080p * -618 )
	self:addElement( BackpackHeader )
	self.BackpackHeader = BackpackHeader
	
	local Backpack = nil
	
	Backpack = MenuBuilder.BuildRegisteredType( "Backpack", {
		controllerIndex = f1_local1
	} )
	Backpack.id = "Backpack"
	Backpack:SetScale( -0.1, 0 )
	Backpack:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 572, _1080p * 1640, _1080p * -601, _1080p * -505 )
	self:addElement( Backpack )
	self.Backpack = Backpack
	
	local BackpackIntel = nil
	
	BackpackIntel = MenuBuilder.BuildRegisteredType( "DMZBackpackIntel", {
		controllerIndex = f1_local1
	} )
	BackpackIntel.id = "BackpackIntel"
	BackpackIntel:SetVisible( false )
	BackpackIntel:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 624, _1080p * 1002, _1080p * -698, _1080p * -618 )
	self:addElement( BackpackIntel )
	self.BackpackIntel = BackpackIntel
	
	local UnequipButton = nil
	UnequipButton = MenuBuilder.BuildRegisteredType( "ButtonPromptContainerHorizontal", {
		controllerIndex = f1_local1
	} )
	UnequipButton.id = "UnequipButton"
	UnequipButton:SetVisible( false )
	if CONDITIONS.AlwaysFalse() then
		UnequipButton.Label:setText( "ButtonPrompt", 0 )
	end
	UnequipButton:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 640, _1080p * 740, _1080p * -459, _1080p * -428 )
	self:addElement( UnequipButton )
	self.UnequipButton = UnequipButton
	
	local DMZGlobalGearDetails = nil
	
	DMZGlobalGearDetails = MenuBuilder.BuildRegisteredType( "DMZGlobalGearDetails", {
		controllerIndex = f1_local1
	} )
	DMZGlobalGearDetails.id = "DMZGlobalGearDetails"
	DMZGlobalGearDetails:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 612, _1080p * 1280, _1080p * -960, _1080p * -750 )
	self:addElement( DMZGlobalGearDetails )
	self.DMZGlobalGearDetails = DMZGlobalGearDetails
	
	local DMZDefaultLoadoutButton = nil
	
	DMZDefaultLoadoutButton = MenuBuilder.BuildRegisteredType( "DMZDefaultLoadoutButton", {
		controllerIndex = f1_local1
	} )
	DMZDefaultLoadoutButton.id = "DMZDefaultLoadoutButton"
	DMZDefaultLoadoutButton:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 1029.31, _1080p * 1089.31, _1080p * -380.95, _1080p * -330.95 )
	self:addElement( DMZDefaultLoadoutButton )
	self.DMZDefaultLoadoutButton = DMZDefaultLoadoutButton
	
	local DMZStatButton = nil
	
	DMZStatButton = MenuBuilder.BuildRegisteredType( "DMZStatButton", {
		controllerIndex = f1_local1
	} )
	DMZStatButton.id = "DMZStatButton"
	DMZStatButton:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 1533, _1080p * 1833, _1080p * -960, _1080p * -906 )
	self:addElement( DMZStatButton )
	self.DMZStatButton = DMZStatButton
	
	local UnequipWarning = nil
	
	UnequipWarning = LUI.UIStyledText.new()
	UnequipWarning.id = "UnequipWarning"
	UnequipWarning:SetVisible( false )
	UnequipWarning:SetAlpha( 0, 0 )
	UnequipWarning:setText( Engine[0xED84C33EC5F01EA]( 0x4C08A3B5B5B0762 ), 0 )
	UnequipWarning:setCaseStyle( LUI.CaseStyle.Uppercase )
	UnequipWarning:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	UnequipWarning:SetFontSize( 15 * _PT )
	UnequipWarning:SetMinFontSize( 15 * _PT )
	UnequipWarning:SetWordWrap( false )
	UnequipWarning:SetAlignment( LUI.Alignment.Left )
	UnequipWarning:SetVerticalAlignment( LUI.Alignment.Middle )
	UnequipWarning:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 825, _1080p * 1325, _1080p * -456, _1080p * -432 )
	self:addElement( UnequipWarning )
	self.UnequipWarning = UnequipWarning
	
	local UnequipWarningImage = nil
	
	UnequipWarningImage = LUI.UIImage.new()
	UnequipWarningImage.id = "UnequipWarningImage"
	UnequipWarningImage:SetVisible( false )
	UnequipWarningImage:setImage( RegisterMaterial( 0x70CA9AE6C37038F ), 0 )
	UnequipWarningImage:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 802, _1080p * 820, _1080p * -453, _1080p * -435 )
	self:addElement( UnequipWarningImage )
	self.UnequipWarningImage = UnequipWarningImage
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "LoadoutManagement", LoadoutManagement )
LockTable( _M )
