-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
LUI.TargetingReticles = LUI.Class( LUI.UIElement )
LUI.TargetingReticles.init = function ( f1_arg0, f1_arg1 )
	assert( type( f1_arg1 ) == "table" )
	assert( type( f1_arg1.widgetType ) == "string" )
	assert( type( f1_arg1.entityDataSources ) == "table" )
	LUI.TargetingReticles.super.init( f1_arg0 )
	f1_arg0.id = "TargetingReticles_" .. f1_arg1.widgetType
	f1_arg0.reticles = {}
	if f1_arg1.stateDataSources then
		assert( #f1_arg1.stateDataSources == #f1_arg1.entityDataSources )
	end
	local f1_local0 = #f1_arg1.entityDataSources
	local f1_local1 = f1_arg1.anchoringOptions or {}
	local f1_local2 = f1_arg0:getRootController()
	for f1_local3 = 1, f1_local0, 1 do
		local f1_local6 = {
			entity = f1_arg1.entityDataSources[f1_local3]
		}
		local f1_local7 = f1_arg1.stateDataSources
		if f1_local7 then
			f1_local7 = f1_arg1.stateDataSources[f1_local3]
		end
		f1_local6.lockState = f1_local7
		assert( f1_local6.entity )
		f1_arg0:SubscribeToModel( f1_local6.entity:GetModel( f1_local2 ), function ( f2_arg0 )
			local f2_local0 = DataModel.JJEHAEBDF( f2_arg0 )
			if f2_local0 <= 0 or f2_local0 == Engine.ECFHCCHDGF() then
				if f1_arg0.reticles[f1_arg0] then
					f1_arg0.reticles[f1_arg0]:closeTree()
					f1_arg0.reticles[f1_arg0] = nil
				end
			else
				if not f1_arg0.reticles[f1_arg0] then
					local f2_local1 = MenuBuilder.BuildRegisteredType( f1_arg0.widgetType )
					f2_local1.id = "reticle_" .. f1_arg0
					f2_local1:SetupAnchoredElement( f1_arg0 )
					f2_local1:SetDataSource( f1_arg0, f1_arg0 )
					f1_arg0.reticles[f1_arg0] = f2_local1
					f1_arg0:addElement( f1_arg0.reticles[f1_arg0] )
				end
				assert( f1_arg0.reticles[f1_arg0].SetEntityNum )
				f1_arg0.reticles[f1_arg0]:SetEntityNum( f2_local0 )
			end
		end )
	end
end

