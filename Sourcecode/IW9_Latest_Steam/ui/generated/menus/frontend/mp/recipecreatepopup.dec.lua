-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
module( ..., package.seeall )
require( "ui.generated.widgets.genericpopupwindow" )
require( "ui.generated.widgets.frontend.mp.recipecreatepopupbuttons" )
local f0_local0 = 8 * _1080p
local f0_local1 = function ( f8_arg0, f8_arg1, f8_arg2 )
	local f8_local0 = f8_arg0.MenuTitle
	f8_local0:setText( ToUpperCase( f8_arg2 ) )
	local f8_local1 = f8_local0:GetAnchorsAndPosition()
	f8_local0:SetLeft( f8_local1.left + f0_local0 )
	f8_arg0.TextHighlight:SetRight( f8_local1.left + LAYOUT.GetTextWidth( f8_local0, f8_arg1 ) + f0_local0 * 2 )
end

function PostLoadFunc( f4_arg0, f4_arg1, f4_arg2 )
	assert( f4_arg2.saveSlot )
	assert( f4_arg0.PopupButtons.SaveButton )
	assert( f4_arg0.PopupButtons.NameGenericEditBox )
	assert( f4_arg0.PopupButtons.DescriptionGenericEditBox )
	assert( f4_arg0.MenuTitle )
	local f4_local0 = Engine[0xED84C33EC5F01EA]( 0x30C9F27FA4757DC )
	local f4_local1 = Engine[0xED84C33EC5F01EA]( 0x320957B69FF270A )
	local f4_local2 = 19
	local f4_local3 = 127
	if f4_arg2.renameOnly then
		f0_local0( f4_arg0, f4_arg1, Engine[0xED84C33EC5F01EA]( 0x90AF46DCAB28C49 ) )
		f4_local0 = MatchRules[0x77EAE13BB8BA30A]( MP.MatchRulesSaveLocation.PLAYERSAVED, f4_arg2.saveSlot, MP.MatchRulesSaveHeaderLookup.NAME )
		f4_local1 = MatchRules[0x77EAE13BB8BA30A]( MP.MatchRulesSaveLocation.PLAYERSAVED, f4_arg2.saveSlot, MP.MatchRulesSaveHeaderLookup.DESCRIPTION )
	else
		f0_local0( f4_arg0, f4_arg1, Engine[0xED84C33EC5F01EA]( 0xF141EF270D4C3 ) )
	end
	f4_arg0.PopupButtons.NameGenericEditBox:SetupGenericEditBox( f4_arg1, {
		maxInputStringLength = f4_local2,
		defaultValue = f4_local0,
		textSelectionColor = {
			g = 0,
			a = 255,
			b = 0,
			r = 0
		}
	} )
	f4_arg0.PopupButtons.DescriptionGenericEditBox:SetupGenericEditBox( f4_arg1, {
		allowEmptyString = true,
		maxInputStringLength = f4_local3,
		defaultValue = f4_local1
	} )
	f4_arg0.PopupButtons.NameGenericEditBox:SetTextEditButtonActionCallback( function ()
		f4_arg0.PopupButtons.NameGenericEditBox:SetError( false )
	end )
	f4_arg0.PopupButtons.SaveButton.Label:setText( Engine[0xED84C33EC5F01EA]( 0xA6AE6DECA384CB3 ) )
	f4_arg0.PopupButtons.CancelButton.Label:setText( Engine[0xED84C33EC5F01EA]( 0xDF4B921D6190715 ) )
	f4_arg0.PopupButtons.SaveButton:addEventHandler( "button_action", function ( f6_arg0, f6_arg1 )
		local f6_local0 = f4_arg0.PopupButtons.NameGenericEditBox
		local f6_local1 = f4_arg0.PopupButtons.DescriptionGenericEditBox
		local f6_local2 = f6_local0:GetText()
		local f6_local3 = f6_local1:GetText()
		if f4_arg0.renameOnly then
			if MatchRules[0xF10F88F72FFD1A1]( f4_arg0.saveSlot ) then
				MatchRules[0xF936E6F483F918C]( Lobby.MatchRulesMembers.RecipeName, f6_local2 )
				MatchRules[0xF936E6F483F918C]( Lobby.MatchRulesMembers.RecipeDescription, f6_local3 )
				MatchRules[0xE37841FB48B1D4B]( f4_arg0.saveSlot )
			end
			f4_arg0:dispatchEventToRoot( {
				name = "recipe_rename_complete"
			} )
		else
			if f6_local0:IsDefault() or not f6_local2 then
				f6_local2 = ""
			end
			if not f6_local2 or #f6_local2 == 0 then
				f6_local0:SetError( true )
				return 
			end
			MatchRules[0x9550565068844CB]( Lobby.MatchRulesMembers.RecipeName, f6_local2 )
			MatchRules[0x9550565068844CB]( Lobby.MatchRulesMembers.RecipeDescription, f6_local3 )
			MatchRules[0xC4D35905FDCFF24]( f4_arg0.saveSlot )
		end
		LUI.FlowManager.RequestLeaveMenu( f4_arg0, true, true )
		LUI.FlowManager.RequestLeaveMenuByName( "RecipeDeleteMenu", true )
	end )
	f4_arg0.PopupButtons.CancelButton:addEventHandler( "button_action", function ( f5_arg0, f5_arg1 )
		ACTIONS.LeaveMenu( f4_arg0 )
	end )
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f4_arg0, "AR" )
	end
	ACTIONS.ScaleStretchAnchorFullscreen( f4_arg0.Fade )
end

function RecipeCreatePopup( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "RecipeCreatePopup"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Fade = nil
	
	Fade = LUI.UIImage.new()
	Fade.id = "Fade"
	Fade:SetRGBFromInt( 0, 0 )
	Fade:SetAlpha( 0.8, 0 )
	self:addElement( Fade )
	self.Fade = Fade
	
	local GenericPopupWindow = nil
	
	GenericPopupWindow = MenuBuilder.BuildRegisteredType( "GenericPopupWindow", {
		controllerIndex = f1_local1
	} )
	GenericPopupWindow.id = "GenericPopupWindow"
	GenericPopupWindow:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -713, _1080p * 694, _1080p * -257, _1080p * 213 )
	self:addElement( GenericPopupWindow )
	self.GenericPopupWindow = GenericPopupWindow
	
	local TextHighlight = nil
	
	TextHighlight = LUI.UIImage.new()
	TextHighlight.id = "TextHighlight"
	TextHighlight:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool03, 0 )
	TextHighlight:SetAlpha( 0.25, 0 )
	TextHighlight:setImage( RegisterMaterial( 0x69E60085209E5A4 ), 0 )
	TextHighlight:SetupNonUniform9SliceImage( _1080p * 16, _1080p * 16, 0, _1080p * 16, 0.3, 0.3, 0.3, 0.3 )
	TextHighlight:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -522, _1080p * -358, _1080p * -183, _1080p * -151 )
	self:addElement( TextHighlight )
	self.TextHighlight = TextHighlight
	
	local LineHighlight = nil
	
	LineHighlight = LUI.UIImage.new()
	LineHighlight.id = "LineHighlight"
	LineHighlight:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	LineHighlight:SetAlpha( 0.5, 0 )
	LineHighlight:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -522, _1080p * -519, _1080p * -183, _1080p * -151 )
	self:addElement( LineHighlight )
	self.LineHighlight = LineHighlight
	
	local CrossFluff = nil
	
	CrossFluff = LUI.UIImage.new()
	CrossFluff.id = "CrossFluff"
	CrossFluff:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	CrossFluff:SetAlpha( 0.4, 0 )
	CrossFluff:setImage( RegisterMaterial( 0x965A2DFAE513209 ), 0 )
	CrossFluff:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -531, _1080p * -513, _1080p * 163, _1080p * 181 )
	self:addElement( CrossFluff )
	self.CrossFluff = CrossFluff
	
	local Line = nil
	
	Line = LUI.UIImage.new()
	Line.id = "Line"
	Line:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	Line:SetAlpha( 0.15, 0 )
	Line:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -522, _1080p * -521, _1080p * -183, _1080p * 177 )
	self:addElement( Line )
	self.Line = Line
	
	local MenuTitle = nil
	
	MenuTitle = LUI.UIStyledText.new()
	MenuTitle.id = "MenuTitle"
	MenuTitle:SetRGBFromTable( SWATCHES.Popups.headerTxt, 0 )
	MenuTitle:SetAlpha( 0.4, 0 )
	MenuTitle:setText( "", 0 )
	MenuTitle:SetFont( FONTS.GetFont( FONTS.SecondaryRegular.File ) )
	MenuTitle:SetFontSize( 30 * _PT )
	MenuTitle:SetMinFontSize( 30 * _PT )
	MenuTitle:SetWordWrap( false )
	MenuTitle:SetAlignment( LUI.Alignment.Left )
	MenuTitle:SetVerticalAlignment( LUI.Alignment.Middle )
	MenuTitle:SetOptOutRightToLeftAlignmentFlip( true )
	MenuTitle:SetShadowRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	MenuTitle:SetDecodeLetterLength( 20 )
	MenuTitle:SetDecodeMaxRandChars( 6 )
	MenuTitle:SetDecodeUpdatesPerLetter( 4 )
	MenuTitle:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -520, _1080p * 413, _1080p * -195, _1080p * -133 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local PopupButtons = nil
	
	PopupButtons = MenuBuilder.BuildRegisteredType( "RecipeCreatePopupButtons", {
		controllerIndex = f1_local1
	} )
	PopupButtons.id = "PopupButtons"
	PopupButtons:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -512, _1080p * -128, _1080p * -76, _1080p * 180 )
	self:addElement( PopupButtons )
	self.PopupButtons = PopupButtons
	
	local Description = nil
	
	Description = LUI.UIText.new()
	Description.id = "Description"
	Description:SetRGBFromTable( SWATCHES.Popups.bodyTxt, 0 )
	Description:SetAlpha( 0.7, 0 )
	Description:setText( Engine[0xED84C33EC5F01EA]( 0xD12192B9E1AC55 ), 0 )
	Description:SetFont( FONTS.GetFont( FONTS.SecondaryRegular.File ) )
	Description:SetFontSize( 18 * _PT )
	Description:SetMinFontSize( 18 * _PT )
	Description:SetWordWrap( true )
	Description:SetAlignment( LUI.Alignment.Left )
	Description:SetOptOutRightToLeftAlignmentFlip( true )
	Description:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -512, _1080p * 571, _1080p * -128, _1080p * -91 )
	self:addElement( Description )
	self.Description = Description
	
	self.addButtonHelperFunction = function ( f3_arg0, f3_arg1 )
		f3_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine[0xED84C33EC5F01EA]( 0x678DCE0E97FD19C )
		} )
	end
	
	self:addEventHandler( "menu_create", self.addButtonHelperFunction )
	self:AddGamepadEventCallback( "button_secondary", function ( f2_arg0, f2_arg1 )
		local f2_local0 = f2_arg1.controller or menu
		ACTIONS.LeaveMenu( menu )
	end )
	PostLoadFunc( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "RecipeCreatePopup", RecipeCreatePopup )
LockTable( _M )
