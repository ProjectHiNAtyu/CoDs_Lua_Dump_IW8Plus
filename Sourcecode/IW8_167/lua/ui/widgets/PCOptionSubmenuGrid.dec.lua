-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = function ( f6_arg0, f6_arg1 )
	f6_arg0.optionsGrid:SetNumRowsInC( f6_arg1 )
	f6_arg0.optionsGrid:RefreshContent()
	assert( f6_arg0.optionsGridMaxVisibleRows )
	assert( f6_arg0.optionsGridRowHeight )
	assert( f6_arg0.optionsGridSpacing )
	assert( f6_arg0.scrollbarWidth )
	local f6_local0 = math.max( (f6_arg0.optionsGridRowHeight + f6_arg0.optionsGridSpacing) * math.min( f6_arg1, f6_arg0.optionsGridMaxVisibleRows ), 0 )
	if f6_arg1 <= f6_arg0.optionsGridMaxVisibleRows then
		f6_arg0.optionsGrid:SetLeft( 0 )
		f6_arg0.scrollbar:processEvent( {
			name = "scrollbar_all_visible"
		} )
	else
		f6_arg0.optionsGrid:SetLeft( f6_arg0.scrollbarWidth )
		f6_arg0.scrollbar:processEvent( {
			name = "scrollbar_not_all_visible"
		} )
	end
	f6_arg0.optionsGrid:SetBottom( f6_local0 )
	f6_arg0.scrollbar:SetBottom( f6_local0 )
	f6_arg0:SetBottom( f6_local0 )
end

local f0_local1 = function ( f5_arg0, f5_arg1 )
	local f5_local0
	if f5_arg1 and not f5_arg1 then
		f5_local0 = f5_arg1
	else
		f5_local0 = {}
	end
	f5_arg0.options = f5_local0
	f0_local0( f5_arg0, #f5_arg0.options )
end

local f0_local2 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.optionsGridMaxVisibleRows = 15
	f2_arg0.optionsGridButtonWidth = _1080p * 600
	f2_arg0.optionsGridRowHeight = _1080p * 30
	f2_arg0.optionsGridSpacing = _1080p * 7
	f2_arg0.scrollbarWidth = _1080p * 20
	local optionsGrid = nil
	
	optionsGrid = LUI.UIGrid.new( {
		scrollingThresholdX = 1,
		numRows = 0,
		wrapX = false,
		maxVelocity = 5000,
		scrollingThresholdY = 1,
		maxVisibleColumns = 1,
		wrapY = true,
		numColumns = 1,
		springCoefficient = 400,
		maxVisibleRows = f2_arg0.optionsGridMaxVisibleRows,
		controllerIndex = f2_arg1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "GenericButton", {
				controllerIndex = f2_arg0
			} )
		end,
		refreshChild = function ( f3_arg0, f3_arg1, f3_arg2 )
			if f2_arg0.options and f3_arg2 < #f2_arg0.options then
				local f3_local0 = f2_arg0.options[f3_arg2 + 1]
				assert( f3_local0.id )
				assert( f3_local0.text )
				assert( f3_local0.desc )
				assert( f3_local0.actionFunc )
				f3_arg0.id = f3_local0.id
				f3_arg0.Text:setText( ToUpperCase( Engine.CBBHFCGDIC( f3_local0.text ) ) )
				f3_arg0.buttonDescription = Engine.CBBHFCGDIC( f3_local0.desc )
				f3_arg0:registerEventHandler( "button_action", f3_local0.actionFunc )
				f3_arg0:SetRight( f2_arg0.optionsGridButtonWidth, 0 )
			end
		end,
		spacingX = f2_arg0.optionsGridSpacing,
		spacingY = f2_arg0.optionsGridSpacing,
		columnWidth = _1080p * 800,
		rowHeight = f2_arg0.optionsGridRowHeight,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	optionsGrid.id = "PCOptionSubmenuGridOptionsGrid"
	optionsGrid:setUseStencil( true )
	optionsGrid:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 0 )
	f2_arg0:addElement( optionsGrid )
	f2_arg0.optionsGrid = optionsGrid
	
	local scrollbar = nil
	
	scrollbar = MenuBuilder.BuildRegisteredType( "VerticalMinimalScrollbar", {
		controllerIndex = f2_arg1
	} )
	scrollbar.id = "PCOptionSubmenuGridScrollbar"
	scrollbar:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f2_arg0.scrollbarWidth / 2, 0, 0 )
	f2_arg0:addElement( scrollbar )
	f2_arg0.scrollbar = scrollbar
	
	local f2_local2 = LUI.UIScrollbar.new
	local f2_local3 = {
		direction = LUI.DIRECTION.vertical,
		eventListener = scrollbar,
		startCap = scrollbar.startCap,
		endCap = scrollbar.endCap,
		sliderArea = scrollbar.sliderArea
	}
	local f2_local4 = scrollbar.sliderArea
	if f2_local4 then
		f2_local4 = scrollbar.sliderArea.slider
	end
	f2_local3.slider = f2_local4
	f2_local4 = scrollbar.sliderArea
	if f2_local4 then
		f2_local4 = scrollbar.sliderArea.fixedSizeSlider
	end
	f2_local3.fixedSizeSlider = f2_local4
	optionsGrid:AddScrollbar( f2_local2( f2_local3 ) )
	f2_arg0.UpdateOptions = f0_local0
end

function PCOptionSubmenuGrid( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 738 * _1080p, 0, 204 * _1080p )
	self.id = "PCOptionSubmenuGrid"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "PCOptionSubmenuGrid", PCOptionSubmenuGrid )
LockTable( _M )
