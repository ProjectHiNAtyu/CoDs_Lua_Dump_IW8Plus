-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
MP_COMMON = MP_COMMON or {}
MP_COMMON.SetupOnline = function ()
	Dvar[0x8EA06EEDB58D872]( "#x34e9ab8c76756925d", true )
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x3fca802e5beab0d71" ) then
		Dvar[0x8EA06EEDB58D872]( "#x3fca802e5beab0d71", false )
		Engine[0x7C75E608EA39B5C]( "set remove_mlg_rules 1" )
	end
end

MP_COMMON.SetupParty = function ()
	local f10_local0 = Engine[0x45B054C920178E9]()
	if not Lobby[0x63537242F1D48FF]() and not Engine[0x5F560D51BFEECB7]() then
		Engine[0xB81A5136C5503E4]( "xstartprivateparty", f10_local0 )
	elseif Lobby[0x63537242F1D48FF]() then
		DebugPrint( "Not starting private party, already in private party" )
	elseif Engine[0x5F560D51BFEECB7]() then
		DebugPrint( "Not starting private party, joining in progress" )
	end
end

MP_COMMON.StopGameLobbyAndWakePrivateParty = function ()
	Engine[0xB81A5136C5503E4]( "xstopparty", Engine[0x45B054C920178E9]() )
end

MP_COMMON.SetupPrivateMatch = function ()
	if not Engine[0xCBCF315DE9B8AC6]() then
		Engine[0xB81A5136C5503E4]( "xstartprivatematch" )
	end
end

MP_COMMON.SetupStreaming = function ( f7_arg0, f7_arg1 )
	Streaming[0xE493C1B436663F6]( true )
	f7_arg0:addElement( MP.GetGameModeMaterialStreamer() )
	f7_arg0:addElement( Lobby.GetMPMapMaterialStreamer() )
	f7_arg0:addElement( Lobby.GetMPMapPreloadStreamer( f7_arg1 ) )
	if CONDITIONS.IsSeasonalEventActive() then
		f7_arg0:addElement( SEASONAL_EVENT.GetMaterialStreamer() )
	end
	MP_COMMON.LoadStreamingModels( f7_arg1, LOADOUT.GetFavoriteLoadoutIndex( f7_arg1 ) )
end

MP_COMMON.LoadStreamingModels = function ( f6_arg0, f6_arg1, f6_arg2 )
	local f6_local0 = LOADOUT.GetLoadoutsPlayerData( f6_arg0 )
	if not f6_arg2 then
		local f6_local1 = {}
		for f6_local2 = 0, 1, 1 do
			local f6_local5 = f6_local0[f6_arg1].weaponSetups[f6_local2]
			local f6_local6 = WEAPON.GetWeaponModelNameFromPlayerData( f6_local5.weapon:get(), f6_local5, {
				includeStickers = true,
				includeAttachments = true,
				keepAkimbo = false,
				includeCamos = true,
				controllerIndex = f6_arg0
			} )
			if f6_local6 and 0 < #f6_local6 then
				table.insert( f6_local1, f6_local6 )
			end
		end
		local f6_local3 = WATCH.GetFullModelName( WATCH.GetEquippedWatch( f6_arg0 ) )
		if f6_local3 and 0 < #f6_local3 then
			table.insert( f6_local1, f6_local3 )
		end
		if 0 < #f6_local1 then
			FrontEndScene.RequestWeaponViewModels( f6_local1, f6_arg0 )
		end
	end
	local f6_local1 = {}
	local f6_local2 = {}
	local f6_local3, f6_local4 = OPERATOR.GetEquippedOperatorSkin( f6_arg0 )
	if f6_local3 and f6_local3 ~= "" then
		table.insert( f6_local1, f6_local3 )
	end
	if f6_local4 and f6_local4 ~= "" then
		table.insert( f6_local2, f6_local4 )
	end
	if 0 < #f6_local1 and 0 < #f6_local2 then
		FrontEndScene.RequestBodyModels( f6_local1 )
		FrontEndScene.RequestHeadModels( f6_local2 )
	end
end

MP_COMMON.TriggerLeaveMainGamemodeMenu = function ( f5_arg0, f5_arg1 )
	local f5_local0 = true
	if CONDITIONS.ArePartiesEnabledInMainMenu() and Lobby[0x6957722EF74F5D2]() then
		f5_local0 = false
	end
	if Lobby.IsNotAloneInPrivateParty() then
		if f5_local0 then
			if Engine[0x9D348E40740E9A8]() then
				LUI.FlowManager.RequestPopupMenu( f5_arg0, "RateLimitedLeaveCommonMPMainMenuPopup", true, f5_arg1.controller, false, {
					rateLimitIntervalMS = 5000,
					rateLimitAttempts = 3,
					menu = f5_arg0
				} )
			else
				LUI.FlowManager.RequestPopupMenu( f5_arg0, "LeaveCommonMPMainMenuPopup", true, f5_arg1.controller, false, {
					menu = f5_arg0
				} )
			end
		else
			LUI.FlowManager.RequestPopupMenu( f5_arg0, "LeaveCommonMPMainMenuPullPartyPopup", true, f5_arg1.controller, false, {
				menu = f5_arg0
			} )
		end
	else
		Lobby.LeaveCommonMPMainMenu( f5_arg0, f5_arg1.controller )
	end
	return true
end

MP_COMMON.RefreshDataForFirstController = function ()
	if 0 < Engine[0x70187FE84AE61FD]() then
		local f4_local0 = Engine[0x45B054C920178E9]()
		if f4_local0 and Engine[0xD2813B521711C11]( f4_local0 ) then
			Engine[0x404BD1F5B45E2F]()
		end
	end
end

MP_COMMON.IsMatchRulesCodcastingEnabled = function ( f3_arg0 )
	local f3_local0 = true
	if MatchRules[0x1A6D0B2E15DF8CF]() then
		f3_local0 = MatchRules[0x3A9F1F51625857F]( "commonOption", "codcasterEnabled" )
	end
	local f3_local1 = false
	if f3_arg0 then
		f3_local1 = 1 < Engine[0x70187FE84AE61FD]()
	end
	local f3_local2
	if f3_local0 then
		f3_local2 = f3_local0
	else
		f3_local2 = not f3_local1
	end
	return f3_local2
end

MP_COMMON.IsMatchRulesTeamAssignmentEnabled = function ()
	if MatchRules[0x1A6D0B2E15DF8CF]() then
		return MatchRules[0x3A9F1F51625857F]( "commonOption", "teamAssignmentAllowed" )
	else
		return true
	end
end

MP_COMMON.ValidatePlayerData = function ( f1_arg0, f1_arg1 )
	
end

