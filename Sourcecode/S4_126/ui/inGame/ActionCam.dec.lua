-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
module( ..., package.seeall )
require( "ui.inGame.FancyFrame" )
local f0_local0 = function ( f6_arg0, f6_arg1 )
	ACTIONS.ScaleFullscreen( f6_arg0.DotPitchBG )
	ACTIONS.ScaleFullscreen( f6_arg0.Darkener )
	f6_arg0:SubscribeToModel( DataSources.inGame.player.inActionCam:GetModel( f6_arg1 ), function ()
		local f7_local0 = f6_arg0:GetValue( f6_arg0 )
		if f7_local0 ~= nil and f7_local0 == true then
			ACTIONS.AnimateSequence( f6_arg0, "Boot" )
			ACTIONS.AnimateSequence( f6_arg0, "LoopReplay" )
		else
			ACTIONS.AnimateSequence( f6_arg0, "Hide" )
		end
	end )
end

function ActionCam( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "ActionCam"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine[0x12586A3F4FB490E]() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1, "Missing controllerIndex!" )
	local f1_local2 = self
	local DotPitchBG = nil
	
	DotPitchBG = LUI.UIImage.new()
	DotPitchBG.id = "DotPitchBG"
	DotPitchBG:SetRGBFromInt( 7622222, 0 )
	DotPitchBG:SetAlpha( 0, 0 )
	DotPitchBG:SetPixelGridEnabled( true )
	DotPitchBG:SetPixelGridContrast( 1, 0 )
	DotPitchBG:SetPixelGridBlockWidth( 1, 0 )
	DotPitchBG:SetPixelGridBlockHeight( 1, 0 )
	DotPitchBG:SetPixelGridGutterWidth( 1, 0 )
	DotPitchBG:SetPixelGridGutterHeight( 1, 0 )
	DotPitchBG:SetBlendMode( BLEND_MODE.multiply )
	self:addElement( DotPitchBG )
	self.DotPitchBG = DotPitchBG
	
	local ReplayText = nil
	
	ReplayText = LUI.UIStyledText.new()
	ReplayText.id = "ReplayText"
	ReplayText:SetRGBFromTable( SWATCHES.highlight.vEnemyHighlight, 0 )
	ReplayText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/RECORDING" ) ), 0 )
	ReplayText:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_SSubHeader.font.File ) )
	ReplayText:SetFontSize( 30 * _PT )
	ReplayText:SetMinFontSize( 22 * _PT )
	ReplayText:SetWordWrap( false )
	ReplayText:SetAlignment( LUI.Alignment.Left )
	ReplayText:SetOptOutRightToLeftAlignmentFlip( true )
	ReplayText:SetShadowMinDistance( -0.6, 0 )
	ReplayText:SetShadowMaxDistance( 0.6, 0 )
	ReplayText:SetShadowRGBFromTable( SWATCHES.HUD.enemyTeamName, 0 )
	ReplayText:SetDecodeLetterLength( 50 )
	ReplayText:SetDecodeMaxRandChars( 15 )
	ReplayText:SetDecodeUpdatesPerLetter( 5 )
	ReplayText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 83, _1080p * 439, _1080p * 54, _1080p * 84 )
	self:addElement( ReplayText )
	self.ReplayText = ReplayText
	
	local ReplayBox = nil
	
	ReplayBox = LUI.UIImage.new()
	ReplayBox.id = "ReplayBox"
	ReplayBox:SetRGBFromTable( SWATCHES.HUD.enemyTeamName, 0 )
	ReplayBox:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 70, _1080p * 76, _1080p * 65, _1080p * 71 )
	self:addElement( ReplayBox )
	self.ReplayBox = ReplayBox
	
	local FancyFrame = nil
	
	FancyFrame = MenuBuilder.BuildRegisteredType( "FancyFrame", {
		controllerIndex = f1_local1
	} )
	FancyFrame.id = "FancyFrame"
	FancyFrame:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * 47, _1080p * -47, _1080p * 34, _1080p * -50 )
	self:addElement( FancyFrame )
	self.FancyFrame = FancyFrame
	
	local RightLine = nil
	
	RightLine = LUI.UIImage.new()
	RightLine.id = "RightLine"
	RightLine:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	RightLine:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -175, _1080p * -47, _1080p * 547, _1080p * 549 )
	self:addElement( RightLine )
	self.RightLine = RightLine
	
	local LeftLine = nil
	
	LeftLine = LUI.UIImage.new()
	LeftLine.id = "LeftLine"
	LeftLine:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	LeftLine:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 54, _1080p * 182, _1080p * 547, _1080p * 549 )
	self:addElement( LeftLine )
	self.LeftLine = LeftLine
	
	local WhiteFlash = nil
	
	WhiteFlash = LUI.UIImage.new()
	WhiteFlash.id = "WhiteFlash"
	WhiteFlash:SetAlpha( 0, 0 )
	WhiteFlash:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 20, _1080p * 20, _1080p * -26, _1080p * -26 )
	self:addElement( WhiteFlash )
	self.WhiteFlash = WhiteFlash
	
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	Darkener:SetRGBFromInt( 0, 0 )
	Darkener:SetAlpha( 0, 0 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local11 = nil
	DotPitchBG:RegisterAnimationSequence( "Boot", {
		{
			value = -2.3534382792352958E-185,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 7622222,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 2,
			duration = 0,
			property = TWEEN_PROPERTY.Pixel_Grid_Block_Width
		},
		{
			value = 2,
			duration = 0,
			property = TWEEN_PROPERTY.Pixel_Grid_Block_Height
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Left
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Right
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Top
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Bottom
		}
	} )
	ReplayText:RegisterAnimationSequence( "Boot", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ReplayBox:RegisterAnimationSequence( "Boot", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	FancyFrame:RegisterAnimationSequence( "Boot", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 300,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	RightLine:RegisterAnimationSequence( "Boot", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 600,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = -2.3534382792352958E-185,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	LeftLine:RegisterAnimationSequence( "Boot", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 600,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = -2.3534382792352958E-185,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WhiteFlash:RegisterAnimationSequence( "Boot", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -3
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 55
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 3
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 61
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 220,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -960,
			easing = LUI.EASING.inQuadratic
		},
		{
			duration = 220,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 960,
			easing = LUI.EASING.inQuadratic
		},
		{
			duration = 220,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 55
		},
		{
			duration = 220,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 61
		},
		{
			value = 1,
			duration = 220,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 180,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -592
		},
		{
			duration = 180,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 656
		},
		{
			value = 0,
			duration = 180,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.outQuadratic
		}
	} )
	Darkener:RegisterAnimationSequence( "Boot", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 400,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Boot = function ()
		menu:AnimateSequence( "Boot" )
		menu:AnimateSequence( "Boot" )
		menu:AnimateSequence( "Boot" )
		menu:AnimateSequence( "Boot" )
		menu:AnimateSequence( "Boot" )
		menu:AnimateSequence( "Boot" )
		menu:AnimateSequence( "Boot" )
		menu:AnimateSequence( "Boot" )
	end
	
	self._sequenceLengths.Boot = 800
	local f1_local12 = nil
	DotPitchBG:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ReplayText:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ReplayBox:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	FancyFrame:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	RightLine:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	LeftLine:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WhiteFlash:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Darkener:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Hide = function ()
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
	end
	
	self._sequenceLengths.Hide = 0
	local f1_local13 = nil
	ReplayText:RegisterAnimationSequence( "LoopReplay", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ReplayBox:RegisterAnimationSequence( "LoopReplay", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.LoopReplay = function ()
		menu:AnimateLoop( "LoopReplay" )
		menu:AnimateLoop( "LoopReplay" )
	end
	
	self._sequenceLengths.LoopReplay = 400
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "ActionCam", ActionCam )
LockTable( _M )
