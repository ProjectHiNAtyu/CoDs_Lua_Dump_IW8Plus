-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.widgets.PlayMenuButton" )
require( "ui.widgets.ClanEmblem" )
require( "ui.frontEnd.mp.IntensityButton" )
require( "ui.widgets.mp.LabeledIcon" )
local f0_local0 = 10 * _1080p
local f0_local1 = 40 * _1080p
local f0_local2 = 5 * _1080p
local f0_local3 = function ( f19_arg0, f19_arg1, f19_arg2 )
	local f19_local0 = MP.GetLastQuickMatchFilter( f19_arg1 )
	local f19_local1
	if f19_local0 == MP.PLAYLIST_FILTER_MODE.CDLRules then
		f19_local1 = CLANS.IsClanQuickMatchCDLEnabled()
	else
		f19_local1 = false
	end
	local f19_local2
	if f19_local0 then
		if f19_local1 then
			f19_local2 = f19_local1
		else
			f19_local2 = not f19_arg0.CDLFilteredDataSource
		end
	else
		f19_local2 = true
	end
	if f19_local2 then
		MP.SetLastQuickplayFilter( f19_arg1, MP.PLAYLIST_FILTER_MODE.normal )
		f19_local0 = MP.PLAYLIST_FILTER_MODE.normal
		MLG.SetUsingMLGRules( false )
		Lobby[0xDA79B8D0B79405A]( false )
		MatchRules[0xE859FDA0484D3DE]()
	end
	if f19_local0 == MP.PLAYLIST_FILTER_MODE.normal then
		assert( f19_arg0.normalFilteredDataSource )
		f19_arg0:SetDataSource( f19_arg0.normalFilteredDataSource, f19_arg1 )
	elseif f19_local1 then
		f19_arg0:SetDataSource( f19_arg0.CDLFilteredDataSource, f19_arg1 )
	else
		assert( f19_arg0.hardcoreFilteredDataSource )
		f19_arg0:SetDataSource( f19_arg0.hardcoreFilteredDataSource, f19_arg1 )
	end
	if not f19_arg0:IsDisabled() then
		local f19_local3 = f19_arg0:GetDataSource()
		f19_arg0.FilteredLabel:setText( ToUpperCase( f19_local3.name:GetValue( f19_arg1 ) ) )
	else
		f19_arg0.FilteredLabel:setText( "" )
	end
	local f19_local3 = function ()
		local f20_local0, f20_local1, f20_local2, f20_local3, f20_local4, f20_local5, f20_local6, f20_local7 = LAYOUT.GetAnchorsAndPositionsFromElement( f19_arg0.FilteredLabel )
		local f20_local8 = LAYOUT.GetTextWidth( f19_arg0.FilteredLabel )
		local f20_local9 = f20_local5
		local f20_local10 = f20_local5 - f20_local8
		f19_arg0.FilteredLabel:SetAnchorsAndPosition( f20_local0, f20_local1, f20_local2, f20_local3, f20_local10, f20_local9, f20_local6, f20_local7 )
		f20_local0, f20_local1, f20_local2, f20_local3, f20_local4, f20_local5, f20_local6, f20_local7 = LAYOUT.GetAnchorsAndPositionsFromElement( f19_arg0.Intensity )
		f20_local8 = f19_arg0.Intensity:GetTextWidth()
		if not f19_arg0._defaultIntensityLabelPosition then
			f19_arg0._defaultIntensityLabelPosition = f19_arg0.Intensity:GetCurrentAnchorsAndPositions()
		end
		local f20_local11 = f20_local10 - (f19_arg0 and f19_arg0 or f19_arg0)
		local f20_local12 = f20_local11 - f20_local8
		local f20_local13
		if f19_arg0 then
			f20_local13 = 0
		else
			f20_local13 = f19_arg0
		end
		f19_arg0.Intensity:SetAnchorsAndPosition( f20_local0, f20_local1, f20_local2, f20_local3, f20_local12, f20_local11, f19_arg0._defaultIntensityLabelPosition.top + f20_local13, f19_arg0._defaultIntensityLabelPosition.bottom + f20_local13 )
		local f20_local14 = f19_arg0.PlayerCount:GetVisibleWidth()
		local f20_local15 = f20_local12 - f19_arg0 * 1.2
		f19_arg0.PlayerCount:SetRight( f20_local15 )
		f19_arg0.PlayerCount:SetLeft( f20_local15 - f20_local14 )
	end
	
	local f19_local4 = MP.GetIntensityName( f19_arg1, true )
	ACTIONS.AnimateSequence( f19_arg0, f19_local4 )
	f19_arg0.Intensity:SetText( MP.GetIntensityStringFromName( f19_local4, true ), false )
	f19_arg0.Intensity:SetVisible( f19_local0 ~= MP.PLAYLIST_FILTER_MODE.hardcore )
	f19_arg0.PlayerCount.Text:setText( 99 )
	f19_arg0.ClanEmblem:SetupClanEmblemData()
	f19_local3()
	f19_arg0:SetNewItemNotificationVisible( f19_arg2 )
end

local f0_local4 = function ( f16_arg0, f16_arg1, f16_arg2 )
	local f16_local0 = function ()
		local f17_local0 = Lobby.TryNavigateToLobby
		f17_local0( function ()
			if CONDITIONS.IsUserInAClan( f17_local0 ) and Clans[0x49E999FB7430E5A]( f17_local0 ) then
				LUI.FlowManager.RequestAddMenu( "MPPublicLobby", false, f17_local0, false, {
					openFromPlaylist = false
				} )
			end
		end )
	end
	
	local f16_local1 = 1
	local f16_local2 = true
	if Lobby.IsSplitScreenEnabled() then
		LUI.FlowManager.RequestPopupMenu( nil, "SplitScreenPopups", true, f16_arg1, false, {
			maxPlayerPlaylists = f16_local1,
			controllerIndex = f16_arg1,
			acceptFunc = f16_local0,
			dataSource = f16_arg2
		} )
	else
		f16_local0()
	end
	if LUI.IsLastInputMouseNavigation( f16_arg1 ) then
		return true
	else
		
	end
end

local f0_local5 = function ( f9_arg0, f9_arg1, f9_arg2 )
	f9_arg0.SetupButton = f0_local0
	f9_arg0:SetIsContractible( false )
	f9_arg0.AccordionButton.Background.BackgroundImage:SetVisibility( LUI.Visibility.Hidden )
	f9_arg0:addEventHandler( "accordion_over", function ( f15_arg0, f15_arg1 )
		ACTIONS.AnimateSequence( f9_arg0, "ButtonOver" )
		ACTIONS.AnimateSequence( f9_arg0, "ExpandedButtonOver" )
	end )
	f9_arg0:addEventHandler( "accordion_up", function ( f14_arg0, f14_arg1 )
		ACTIONS.AnimateSequence( f9_arg0, "ButtonUp" )
		ACTIONS.AnimateSequence( f9_arg0, "ExpandedButtonUp" )
	end )
	f9_arg0:addEventHandler( "disable", function ( f13_arg0, f13_arg1 )
		f9_arg0.Text:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/BUTTON_DISABLED_NOT_HOST" ) ) )
	end )
	f9_arg0:addEventHandler( "enable", function ( f12_arg0, f12_arg1 )
		local f12_local0 = f9_arg0:GetDataSource()
		f9_arg0.Text:setText( ToUpperCase( f12_local0.name:GetValue( f9_arg0 ) ) )
	end )
	f9_arg0:addEventHandler( "button_action", function ( f11_arg0, f11_arg1 )
		f9_arg0( f9_arg0, f11_arg1.controller or f9_arg0, f9_arg0:GetDataSource() )
		return true
	end )
	f9_arg0:addEventHandler( "lose_focus", function ( f10_arg0, f10_arg1 )
		f10_arg0:dispatchEventToParent( f10_arg1 )
	end )
	if IsLanguageTraditionalChinese() then
		ACTIONS.AnimateSequence( f9_arg0, "CHT" )
	elseif IsLanguageArabic() then
		ACTIONS.AnimateSequence( f9_arg0, "AR" )
	end
	f9_arg0.ClanEmblem:SetMask( f9_arg0.EmblemMask )
	f9_arg0.Intensity:SetFocusable( false )
end

function ClanQuickMatchButton( f1_arg0, f1_arg1 )
	local f1_local0 = MenuBuilder.BuildRegisteredType( "PlayMenuButton", f1_arg1 )
	f1_local0:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 400 * _1080p, 0, 128 * _1080p )
	f1_local0.id = "ClanQuickMatchButton"
	f1_local0._animationSets = f1_local0._animationSets or {}
	f1_local0._sequences = f1_local0._sequences or {}
	f1_local0._sequenceLengths = f1_local0._sequenceLengths or {}
	local f1_local1
	if f1_arg1 then
		f1_local1 = f1_arg1
	else
		f1_local1 = f1_arg1.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( f1_local0, f1_local1 )
	local f1_local2 = f1_local0
	f1_local0.AccordionButton.Background.BackgroundImage:SetVisibility( LUI.Visibility.Visible )
	f1_local0.AccordionButton.Background.BackgroundImage:setImage( RegisterMaterial( "v_ui_img_buttonbg_quickplay" ), 0 )
	f1_local0.AccordionButton.Background.Darkening:SetVisibility( LUI.Visibility.Visible )
	f1_local0.Text:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "CLANS/CLAN_QUICKMATCH_TITLE" ) ), 0 )
	f1_local0.Description:setText( Engine[0xED84C33EC5F01EA]( "CLANS/CLAN_QUICKMATCH_DESC" ), 0 )
	f1_local0.DisabledText:setText( Engine[0xED84C33EC5F01EA]( "MENU/LOCKED" ), 0 )
	local EmblemMask = nil
	
	EmblemMask = LUI.UIImage.new()
	EmblemMask.id = "EmblemMask"
	EmblemMask:setImage( RegisterMaterial( "stencil_mask" ), 0 )
	EmblemMask:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 400, 0, _1080p * 128 )
	f1_local0:addElement( EmblemMask )
	f1_local0.EmblemMask = EmblemMask
	
	local ClanEmblem = nil
	
	ClanEmblem = MenuBuilder.BuildRegisteredType( "ClanEmblem", {
		controllerIndex = f1_local1
	} )
	ClanEmblem.id = "ClanEmblem"
	ClanEmblem:SetAlpha( 0.2, 0 )
	ClanEmblem:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 231, _1080p * 439, _1080p * -40, _1080p * 168 )
	f1_local0:addElement( ClanEmblem )
	f1_local0.ClanEmblem = ClanEmblem
	
	local Intensity = nil
	
	Intensity = MenuBuilder.BuildRegisteredType( "IntensityButton", {
		controllerIndex = f1_local1
	} )
	Intensity.id = "Intensity"
	Intensity.Backer:SetAlpha( 0.75, 0 )
	Intensity.Text:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/INTENSITY_ALL" ), 0 )
	Intensity:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -250, _1080p * -150, _1080p * 3, _1080p * 31 )
	f1_local0:addElement( Intensity )
	f1_local0.Intensity = Intensity
	
	local FilteredLabel = nil
	
	FilteredLabel = LUI.UIStyledText.new()
	FilteredLabel.id = "FilteredLabel"
	FilteredLabel:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	FilteredLabel:SetAlpha( 0.6, 0 )
	FilteredLabel:setText( "FilteredLabel", 0 )
	FilteredLabel:setCaseStyle( LUI.CaseStyle.Uppercase )
	FilteredLabel:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_XSHeaderBold.font.File ) )
	FilteredLabel:SetFontSize( FONT_STYLES.fontStyle_XSHeaderBold.size )
	FilteredLabel:SetMinFontSize( FONT_STYLES.fontStyle_XSHeaderBold.minSize )
	FilteredLabel:SetWordWrap( false )
	FilteredLabel:SetTracking( 1 * _1080p, 0 )
	FilteredLabel:SetAlignment( LUI.Alignment.Right )
	FilteredLabel:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -163, _1080p * -8, _1080p * 5, _1080p * 29 )
	f1_local0:addElement( FilteredLabel )
	f1_local0.FilteredLabel = FilteredLabel
	
	local PlayerCount = nil
	
	PlayerCount = MenuBuilder.BuildRegisteredType( "LabeledIcon", {
		controllerIndex = f1_local1
	} )
	PlayerCount.id = "PlayerCount"
	PlayerCount.Text:setText( "0", 0 )
	PlayerCount.Icon:setImage( RegisterMaterial( "v_icon_social_friends" ), 0 )
	PlayerCount:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -330, _1080p * -250, _1080p * 1, _1080p * 33 )
	f1_local0:addElement( PlayerCount )
	f1_local0.PlayerCount = PlayerCount
	
	f1_local0._sequences.DefaultSequence = function ()
		
	end
	
	f1_local0._sequenceLengths.DefaultSequence = 0
	local f1_local8 = nil
	Intensity:RegisterAnimationSequence( "all", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.vIntensity.vIntensityAll,
			child = f1_local0.Intensity.Backer
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/INTENSITY_ALL" ),
			child = f1_local0.Intensity.Text
		},
		{
			value = 1.9035983709236353E+185,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha,
			child = f1_local0.Intensity.Backer
		}
	} )
	f1_local0._sequences.all = function ()
		f1_arg0:AnimateSequence( "all" )
	end
	
	f1_local0._sequenceLengths.all = 0
	local f1_local9 = nil
	Intensity:RegisterAnimationSequence( "low", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.vIntensity.vIntensityTactical,
			child = f1_local0.Intensity.Backer
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/INTENSITY_PREF_LOW" ),
			child = f1_local0.Intensity.Text
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha,
			child = f1_local0.Intensity.Backer
		}
	} )
	f1_local0._sequences.low = function ()
		f1_arg0:AnimateSequence( "low" )
	end
	
	f1_local0._sequenceLengths.low = 0
	local f1_local10 = nil
	Intensity:RegisterAnimationSequence( "medium", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.vIntensity.vIntensityStandard,
			child = f1_local0.Intensity.Backer
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/INTENSITY_PREF_MEDIUM" ),
			child = f1_local0.Intensity.Text
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha,
			child = f1_local0.Intensity.Backer
		}
	} )
	f1_local0._sequences.medium = function ()
		f1_arg0:AnimateSequence( "medium" )
	end
	
	f1_local0._sequenceLengths.medium = 0
	local f1_local11 = nil
	Intensity:RegisterAnimationSequence( "high", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/INTENSITY_PREF_HIGH" ),
			child = f1_local0.Intensity.Text
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.vIntensity.vIntensityBlitz,
			child = f1_local0.Intensity.Backer
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha,
			child = f1_local0.Intensity.Backer
		}
	} )
	f1_local0._sequences.high = function ()
		f1_arg0:AnimateSequence( "high" )
	end
	
	f1_local0._sequenceLengths.high = 0
	f1_local0._sequences.ButtonUp = function ()
		
	end
	
	f1_local0._sequenceLengths.ButtonUp = 0
	f1_local0._sequences.ButtonOver = function ()
		
	end
	
	f1_local0._sequenceLengths.ButtonOver = 0
	f0_local0( f1_local0, f1_local1, f1_arg1 )
	return f1_local0
end

MenuBuilder.registerType( "ClanQuickMatchButton", ClanQuickMatchButton )
LockTable( _M )
