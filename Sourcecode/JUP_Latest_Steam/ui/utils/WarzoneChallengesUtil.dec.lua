-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
WARZONE_CHALLENGES = WARZONE_CHALLENGES or {}
WARZONE_CHALLENGES.TAB_TYPES = {
	CHAMPIONS_QUEST = 2,
	SEASONAL = 1,
	EVENT = 3
}
WARZONE_CHALLENGES.TYPES = {
	CONTRACT = 2,
	MODE = 4,
	ECONOMY = 1,
	EVENT = 6,
	CHAMPIONS_QUEST = 5,
	SOCIAL = 3
}
WARZONE_CHALLENGES.TYPE_ICONS = {
	[WARZONE_CHALLENGES.TYPES.ECONOMY] = "hud_icon_objective_elite_site",
	[WARZONE_CHALLENGES.TYPES.CONTRACT] = "hud_icon_objective_elite_site",
	[WARZONE_CHALLENGES.TYPES.SOCIAL] = "hud_icon_objective_elite_site",
	[WARZONE_CHALLENGES.TYPES.MODE] = "hud_icon_objective_elite_site",
	[WARZONE_CHALLENGES.TYPES.CHAMPIONS_QUEST] = "hud_icon_objective_elite_site",
	[WARZONE_CHALLENGES.TYPES.EVENT] = "hud_icon_objective_elite_site"
}
WARZONE_CHALLENGES.TYPE_HEADERS = {
	[WARZONE_CHALLENGES.TYPES.ECONOMY] = 0x8D2BDCFEDA2E1BD,
	[WARZONE_CHALLENGES.TYPES.CONTRACT] = 0x773AD23D824AA51,
	[WARZONE_CHALLENGES.TYPES.SOCIAL] = 0x83C73D5CC0A3F60,
	[WARZONE_CHALLENGES.TYPES.MODE] = 0x824161BFAE89510,
	[WARZONE_CHALLENGES.TYPES.CHAMPIONS_QUEST] = 0x0,
	[WARZONE_CHALLENGES.TYPES.EVENT] = 0x0
}
WARZONE_CHALLENGES.SEASONAL_CHALLENGE_REFS = {
	[WARZONE_CHALLENGES.TYPES.ECONOMY] = "jup_wz_chase_economy_",
	[WARZONE_CHALLENGES.TYPES.CONTRACT] = "jup_wz_chase_contracts_",
	[WARZONE_CHALLENGES.TYPES.SOCIAL] = "jup_wz_chase_social_",
	[WARZONE_CHALLENGES.TYPES.MODE] = "jup_wz_chase_mode_"
}
WARZONE_CHALLENGES.CHALLENGES_SEASON_SCRIPT_BUNDLE_REF = 0xE6701544752EA2B
WARZONE_CHALLENGES.TAB_LIST_SCRIPT_BUNDLE_REF = 0x7B26FDCCCDDF8CB
WARZONE_CHALLENGES.CHALLENGES_LIST_CERBERUS_REVEAL_EVENT_REF = "wz_challenges_list_cerberus_reveal_event"
WARZONE_CHALLENGES.DEBUG_SEASON_INDEX = 5
local f0_local0 = function ( f15_arg0 )
	local f15_local0 = {}
	if f15_arg0 then
		local f15_local1 = Engine[0x6093D047200548]( 0xCB0F728EB8ED425 .. f15_arg0 )
		if f15_local1 then
			local f15_local2 = #f15_local1[0x28F5F8A8A9E3BF9]
			for f15_local3 = 1, f15_local2, 1 do
				local f15_local6 = f15_local1[0x28F5F8A8A9E3BF9][f15_local3][0xBD88C8E360ED861]
				if f15_local6 then
					local f15_local7 = Engine[0x6093D047200548]( 0xFE7EACFD6D8689E .. f15_local6 )
					local f15_local8 = {}
					if f15_local7 then
						f15_local8.icon = f15_local7[0x8D788D3F7C30A46]
						f15_local8.header = f15_local7[0x4BCADBA8E631B86]
						f15_local8.challengesData = {}
						f15_local8.completedDescOverrides = {}
						local f15_local9 = #f15_local7[0x4A9DABD23008BB5]
						for f15_local10 = 1, f15_local9, 1 do
							table.insert( f15_local8.challengesData, f15_local7[0x4A9DABD23008BB5][f15_local10][0x92AC4FDC8A44D8F] )
							table.insert( f15_local8.completedDescOverrides, f15_local7[0x4A9DABD23008BB5][f15_local10][0x269F34F52C63553] )
						end
						table.insert( f15_local0, f15_local8 )
					end
				end
			end
			if not String.IsNilOrEmpty( f15_local1[0xD4979C5E3B8EF8] ) then
				f15_local0.masteryChallengeRef = f15_local1[0xD4979C5E3B8EF8]
			end
		end
	end
	return f15_local0
end

WARZONE_CHALLENGES.GetChallengesForSeason = function ( f14_arg0 )
	if Engine[0x2DA54CF5D6B7F02]() or CONDITIONS.UseDebugWZChallengesSeasonID() then
		f14_arg0 = WARZONE_CHALLENGES.DEBUG_SEASON_INDEX
	end
	local f14_local0 = Engine[0x6093D047200548]( WARZONE_CHALLENGES.CHALLENGES_SEASON_SCRIPT_BUNDLE_REF .. f14_arg0 )
	if f14_local0 then
		return f0_local0( f14_local0[0xAB3795B00D64C09] )
	else
		return nil
	end
end

WARZONE_CHALLENGES.GetChallengesTabData = function ()
	local f13_local0 = {}
	local f13_local1 = Engine[0x6093D047200548]( WARZONE_CHALLENGES.TAB_LIST_SCRIPT_BUNDLE_REF )
	if f13_local1 then
		local f13_local2 = #f13_local1[0xABD46F2F3B1323A]
		for f13_local3 = 1, f13_local2, 1 do
			local f13_local6 = f13_local1[0xABD46F2F3B1323A][f13_local3][0xFBEEDBB17ECF7D7]
			if f13_local6 then
				local f13_local7 = Engine[0x6093D047200548]( 0xBD43D62900B8322 .. f13_local6 )
				if f13_local7 then
					local f13_local8 = f0_local0( f13_local7[0xAB3795B00D64C09] )
					f13_local8.tabType = WARZONE_CHALLENGES.TAB_TYPES.SEASONAL
					f13_local8.season_Index = f13_local7[0x5054129FFEE7794]
					table.insert( f13_local0, f13_local8 )
				end
			end
		end
		local f13_local3 = f0_local0( f13_local1[0x1E5CD28333A7A99] )
		f13_local3.tabType = WARZONE_CHALLENGES.TAB_TYPES.CHAMPIONS_QUEST
		table.insert( f13_local0, f13_local3 )
	end
	if WARZONE_CHALLENGES.IsEventActive() then
		local f13_local3 = f0_local0( WARZONE_CHALLENGES.CHALLENGES_LIST_CERBERUS_REVEAL_EVENT_REF )
		f13_local3.tabType = WARZONE_CHALLENGES.TAB_TYPES.EVENT
		table.insert( f13_local0, f13_local3 )
	end
	return f13_local0
end

WARZONE_CHALLENGES.IsChallengeUnlocked = function ( f12_arg0, f12_arg1 )
	if String.IsNilOrEmpty( f12_arg1.prevChallengeAchievementID ) then
		return true
	else
		return Challenge.IsChallengeComplete( f12_arg0, f12_arg1.prevChallengeAchievementID )
	end
end

WARZONE_CHALLENGES.GetChallengeRewardLootID = function ( f11_arg0, f11_arg1, f11_arg2 )
	local f11_local0 = nil
	local f11_local1 = Challenge.GetFeaturedLootItemIdForChallenge( f11_arg1, f11_arg2 )
	if not LUI.StringIsNilOrEmpty( f11_local1 ) then
		f11_local0 = tonumber( f11_local1 )
	else
		local f11_local2 = Challenge.GetLootID( f11_arg1, f11_arg2, f11_arg0 )
		if not LUI.StringIsNilOrEmpty( f11_local2 ) then
			for f11_local6, f11_local7 in ipairs( String.Split( f11_local2, "+" ) ) do
				if f11_local7 ~= nil then
					f11_local0 = tonumber( f11_local7 )
					break
				end
			end
		end
	end
	return f11_local0
end

WARZONE_CHALLENGES.SetLootImageByRatio = function ( f10_arg0, f10_arg1 )
	local f10_local0 = LOOT.GetTypeForID( f10_arg1 )
	local f10_local1 = LOOT.GetItemRefFromID( f10_arg1 )
	local f10_local2
	if f10_local0 == LOOT.itemTypes.OPERATOR then
		f10_local2 = OPERATOR.GetIcon( f10_local1 )
		if not f10_local2 then
		
		else
			if not f10_arg0 or not f10_local2 then
				return 
			end
			local f10_local3 = RegisterMaterial( f10_local2 )
			local f10_local4 = Engine[0x5B4AB50CF5D1DDD]( f10_local3 )
			f10_arg0.lootType = LOOT.GetTypeForID( f10_arg1 )
			local f10_local5 = f10_arg0.lootType == LOOT.itemTypes.PLAYERCARD
			local f10_local6
			if f10_local5 then
				f10_local6 = f10_arg0.CallingCardRewardImage
				if not f10_local6 then
				
				else
					local f10_local7 = "Reward1x1"
					if f10_local5 then
						f10_local7 = "Reward4x1"
					elseif f10_local0 == LOOT.itemTypes.OPERATOR_SKIN then
						f10_local7 = "Reward3x4"
					elseif 1 < f10_local4 then
						f10_local7 = "Reward2x1"
					end
					if f10_local6 then
						ACTIONS.AnimateSequence( f10_arg0, f10_local7 )
						f10_local6:setImage( f10_local3 )
					end
				end
			end
			f10_local6 = f10_arg0.ChallengeRewardImage
		end
	end
	f10_local2 = LOOT.GetItemImageByID( f10_arg1 )
end

WARZONE_CHALLENGES.IsTypePreviewable = function ( f9_arg0, f9_arg1, f9_arg2 )
	if LOOT.IsTypePreviewable( f9_arg1 ) then
		return true
	elseif f9_arg1 == LOOT.itemTypes.CAMO or f9_arg1 == LOOT.itemTypes.CHARM or f9_arg1 == LOOT.itemTypes.STICKER then
		return Challenge.IsWeaponTableValid( f9_arg0._weaponTable )
	elseif f9_arg1 == LOOT.itemTypes.ATTACHMENT then
		return not String.IsNilOrEmpty( Challenge.GetWeaponForAMP( f9_arg2 ) )
	else
		local f9_local0
		if f9_arg1 ~= LOOT.itemTypes.PLAYERCARD and f9_arg1 ~= LOOT.itemTypes.EMBLEM and f9_arg1 ~= LOOT.itemTypes.CONSUMABLE and f9_arg1 ~= LOOT.itemTypes.LOAD_SCREEN then
			f9_local0 = false
		else
			f9_local0 = true
		end
	end
	return f9_local0
end

WARZONE_CHALLENGES.IsEventActive = function ()
	return false
end

WARZONE_CHALLENGES.GetEventTabName = function ()
	if not WARZONE_CHALLENGES.IsEventActive() then
		return ""
	else
		return ""
	end
end

WARZONE_CHALLENGES.GetTabName = function ( f6_arg0, f6_arg1 )
	if f6_arg0 == WARZONE_CHALLENGES.TAB_TYPES.SEASONAL and f6_arg1 then
		return ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xAA9D4A70FC2AF79, f6_arg1 ) )
	elseif f6_arg0 == WARZONE_CHALLENGES.TAB_TYPES.CHAMPIONS_QUEST then
		return ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xA987AE7C8255A6 ) )
	elseif f6_arg0 == WARZONE_CHALLENGES.TAB_TYPES.EVENT then
		return WARZONE_CHALLENGES.GetEventTabName()
	else
		return ""
	end
end

local f0_local1 = function ( f5_arg0, f5_arg1 )
	f5_arg0[0xC1C723C002013C8]:SetVisible( f5_arg1 )
	f5_arg0._isTracked = f5_arg1
end

local f0_local2 = function ( f2_arg0, f2_arg1, f2_arg2, f2_arg3 )
	f2_arg0._achievementID = f2_arg1.achievementID or f2_arg1.challengeID
	f2_arg0._aeKindID = f2_arg2
	f0_local0( f2_arg0, TrackedChallenges.IsChallengeBeingTracked( f2_arg0._controllerIndex, tonumber( f2_arg0._achievementID ) ) )
	local f2_local0 = f2_arg0._isUnlocked
	if f2_local0 then
		f2_local0 = not f2_arg0._isCompleted
	end
	f2_arg0._buttonHighlight = nil
	if f2_arg3 then
		if f2_arg0.ButtonHighlight then
			f2_arg0.ButtonHighlight:closeTree()
			f2_arg0.ButtonHighlight = nil
		end
		f2_arg0._buttonHighlight = f2_arg0.ButtonHighlightInset
		f2_arg0._buttonHighlight:SetIsExtraSmallButton( true )
	else
		if f2_arg0.ButtonHighlightInset then
			f2_arg0.ButtonHighlightInset:closeTree()
			f2_arg0.ButtonHighlightInset = nil
		end
		f2_arg0._buttonHighlight = f2_arg0.ButtonHighlight
		f2_arg0._buttonHighlight:SetIsSmallButton( true )
	end
	f2_arg0._buttonHighlight:SetVisible( true )
	f2_arg0._buttonHighlight:SetNoAction( not f2_local0, false )
	if f2_local0 and not f2_arg0._challengeTrackerHandling then
		f2_arg0._buttonHighlight:SetPrimaryPrompt( TrackedChallenges.GetPromptString( f2_arg0._controllerIndex, f2_arg0._achievementID ), not f2_local0, false )
		f2_arg0:replaceEventHandler( "button_action", function ( f4_arg0, f4_arg1 )
			if not f2_arg0 then
				return true
			else
				TrackedChallenges.AttemptTrackChallenge( f4_arg0, f4_arg0._controllerIndex, tonumber( f4_arg0._achievementID ), f4_arg0._aeKindID )
				f2_arg0( f4_arg0, TrackedChallenges.IsChallengeBeingTracked( f4_arg0._controllerIndex, tonumber( f4_arg0._achievementID ) ) )
				f4_arg0._buttonHighlight:SetPrimaryPrompt( TrackedChallenges.GetPromptString( f4_arg0._controllerIndex, f4_arg0._achievementID ), not f2_arg0, false )
				return true
			end
		end )
		f2_arg0:addEventHandler( "button_over", function ( f3_arg0, f3_arg1 )
			f3_arg0._buttonHighlight:SetNoAction( not f2_arg0, false )
			f3_arg0._buttonHighlight:SetPrimaryPrompt( TrackedChallenges.GetPromptString( f3_arg0._controllerIndex, f3_arg0._achievementID ), not f2_arg0, false )
		end )
		f2_arg0._challengeTrackerHandling = true
	end
end

WARZONE_CHALLENGES.SetWarzoneChallenge = function ( f1_arg0, f1_arg1 )
	if next( f1_arg1 ) == nil then
		return 
	end
	f1_arg0._isUnlocked = true
	if f1_arg1.challengeTabType == WARZONE_CHALLENGES.TAB_TYPES.SEASONAL and not f1_arg1.isMastery then
		f1_arg0._isUnlocked = WARZONE_CHALLENGES.IsChallengeUnlocked( f1_arg0._controllerIndex, f1_arg1 )
	end
	f1_arg0._isCompleted = Challenge.IsChallengeComplete( f1_arg0._controllerIndex, f1_arg1.achievementID )
	if f1_arg0.ButtonHighlight then
		f1_arg0.ButtonHighlight:SetupHighlight( {
			removePrimaryAction = true
		} )
		f1_arg0.ButtonHighlight:SetNoAction( true, false )
	end
	local f1_local0 = Challenge.GetAEKindID( TrackedChallenges.Kind.WARZONE )
	if CONDITIONS.IsChallengeTrackingEnabled() then
		f0_local0( f1_arg0, f1_arg1, f1_local0, true )
	end
	local f1_local1 = Engine[0xED84C33EC5F01EA]( f1_arg1.name )
	if CONDITIONS[0x2DA54CF5D6B7F02]() then
		f1_local1 = "[" .. f1_arg1.achievementID .. "] " .. f1_local1
	end
	f1_arg0.ChallengeTitle:setText( f1_local1 )
	local f1_local2 = nil
	if f1_arg0._isCompleted and not String.IsNilOrEmpty( f1_arg1.completedDescOverride ) then
		f1_local2 = Engine[0xED84C33EC5F01EA]( f1_arg1.completedDescOverride, f1_arg1.amount )
	else
		f1_local2 = Engine[0xED84C33EC5F01EA]( f1_arg1.description, f1_arg1.amount )
	end
	f1_arg0.ChallengeText:setText( f1_local2 )
	local f1_local3 = Challenge.GetChallengeProgress( f1_arg0._controllerIndex, f1_arg1.achievementID )
	f1_arg0.UnlockAmount:setText( Engine[0xED84C33EC5F01EA]( 0x1FBA0B057FA4742, f1_local3, f1_arg1.amount ) )
	if f1_arg1.amount and f1_arg1.amount ~= 0 then
		f1_arg0.ProgressBar:SetImmediateProgress( Math.Clamp( f1_local3 / f1_arg1.amount, 0, 1 ), false )
	end
	local f1_local4 = WARZONE_CHALLENGES.GetChallengeRewardLootID( f1_arg0._controllerIndex, f1_arg1.achievementID, f1_local0 )
	if f1_local4 then
		f1_arg0.lootID = f1_local4
		WARZONE_CHALLENGES.SetLootImageByRatio( f1_arg0, f1_arg0.lootID )
	end
	if f1_arg1.xpReward then
		if f1_arg1.isDisplayingParentXP and f1_arg1.parentXP then
			f1_arg0.RewardXP:setText( f1_arg1.parentXP )
		else
			f1_arg0.RewardXP:setText( f1_arg1.xpReward )
		end
	end
	if not f1_arg0._isUnlocked then
		ACTIONS.AnimateSequence( f1_arg0, "LootLocked" )
	elseif f1_arg0._isCompleted then
		ACTIONS.AnimateSequence( f1_arg0, "LootCollected" )
	end
end

