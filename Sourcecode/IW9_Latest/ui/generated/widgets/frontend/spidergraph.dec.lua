-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
module( ..., package.seeall )
local f0_local0 = 100
local f0_local1 = 2
local f0_local2 = 140
local f0_local3 = 0.6
local f0_local4 = 1
local f0_local5 = {
	GRAPH = 3,
	LINE1 = 1,
	LINE2 = 2
}
local f0_local6 = function ( f10_arg0, f10_arg1, f10_arg2 )
	for f10_local0 = 1, f10_arg2, 1 do
		f10_arg0._points[f10_local0] = {
			factor = 5.29462817E-315,
			x = math.cos( 2 * math.pi * (f10_local0 - 1) / f10_arg2 ),
			y = math.sin( 2 * math.pi * (f10_local0 - 1) / f10_arg2 )
		}
	end
end

local f0_local7 = function ( f9_arg0, f9_arg1, f9_arg2 )
	local self = LUI.UITriangleImage.new()
	self.id = "Tri" .. f9_arg1
	self:setImage( RegisterMaterial( f9_arg2 ), 0 )
	f9_arg0:addElement( self )
	return self
end

local f0_local8 = function ( f8_arg0, f8_arg1, f8_arg2, f8_arg3 )
	if f8_arg3 then
		f0_local0( f8_arg0, f8_arg1, f8_arg2 )
	end
	f8_arg0._num = f8_arg2
	f8_arg0._tris = {}
	for f8_local0 = 1, f8_arg0._num, 1 do
		f8_arg0._tris[#f8_arg0._tris + 1] = f0_local0( f8_arg0, f8_local0, "spider_graph_bg" )
	end
	f8_arg0._trisLine1 = {}
	for f8_local0 = 1, f8_arg0._num, 1 do
		f8_arg0._trisLine1[#f8_arg0._trisLine1 + 1] = f0_local0( f8_arg0, f8_local0, "white" )
	end
	f8_arg0._trisLine2 = {}
	for f8_local0 = 1, f8_arg0._num, 1 do
		f8_arg0._trisLine2[#f8_arg0._trisLine2 + 1] = f0_local0( f8_arg0, f8_local0, "white" )
	end
end

local f0_local9 = function ( f7_arg0, f7_arg1, f7_arg2 )
	local f7_local0 = nil
	if f7_arg2 == f0_local0.GRAPH then
		f7_local0 = f7_arg0._tris
	elseif f7_arg2 == f0_local0.LINE1 then
		f7_local0 = f7_arg0._trisLine1
	elseif f7_arg2 == f0_local0.LINE2 then
		f7_local0 = f7_arg0._trisLine2
	end
	for f7_local1 = 1, #f7_local0, 1 do
		local f7_local4 = f7_local0[f7_local1]
		local f7_local5 = f7_arg0._points[f7_local1].factor
		local f7_local6 = f7_arg0._length and f7_arg0._length or f0_local0
		local f7_local7 = f7_arg0._origin.x
		local f7_local8 = f7_arg0._origin.y
		local f7_local9 = f7_arg0._points[f7_local1].x * f7_local6 * f7_local5
		local f7_local10 = f7_arg0._points[f7_local1].y * f7_local6 * f7_local5
		local f7_local11
		if #f7_local0 < f7_local1 + 1 then
			f7_local11 = 1
		else
			f7_local11 = f7_local1 + 1
		end
		local f7_local12 = f7_arg0._points[f7_local11].factor
		local f7_local13 = f7_arg0._points[f7_local11].x * f7_local6 * f7_local12
		local f7_local14 = f7_arg0._points[f7_local11].y * f7_local6 * f7_local12
		if f7_arg2 == f0_local0.GRAPH then
			f7_local4:SetTriangleVerts( f7_local7, f7_local8, f7_local9 + f7_local7, f7_local10 + f7_local8, f7_local13 + f7_local7, f7_local14 + f7_local8 )
		elseif f7_arg2 == f0_local0.LINE1 then
			local f7_local15 = math.sqrt( f7_arg0._points[f7_local1].x * f7_arg0._points[f7_local1].x + f7_arg0._points[f7_local1].y * f7_arg0._points[f7_local1].y )
			f7_local4:SetTriangleVerts( f7_local9 + f7_arg0._points[f7_local1].x / f7_local15 * f0_local0 + f7_local7, f7_local10 + f7_arg0._points[f7_local1].y / f7_local15 * f0_local0 + f7_local8, f7_local9 + f7_local7, f7_local10 + f7_local8, f7_local13 + f7_local7, f7_local14 + f7_local8 )
			f7_local4:SetAlpha( 0.8 )
		elseif f7_arg2 == f0_local0.LINE2 then
			local f7_local15 = math.sqrt( f7_arg0._points[f7_local1].x * f7_arg0._points[f7_local1].x + f7_arg0._points[f7_local1].y * f7_arg0._points[f7_local1].y )
			local f7_local16 = f7_arg0._points[f7_local1].x / f7_local15
			local f7_local17 = f7_arg0._points[f7_local1].y / f7_local15
			local f7_local18 = math.sqrt( f7_arg0._points[f7_local11].x * f7_arg0._points[f7_local11].x + f7_arg0._points[f7_local11].y * f7_arg0._points[f7_local11].y )
			f7_local4:SetTriangleVerts( f7_local13 + f7_arg0._points[f7_local11].x / f7_local18 * f0_local0 + f7_local7, f7_local14 + f7_arg0._points[f7_local11].y / f7_local18 * f0_local0 + f7_local8, f7_local9 + f7_local16 * f0_local0 + f7_local7, f7_local10 + f7_local17 * f0_local0 + f7_local8, f7_local13 + f7_local7, f7_local14 + f7_local8 )
			f7_local4:SetAlpha( 0.8 )
		end
		f7_local4:SetTriangleUVs( 0.5, 0.5, 0.5 + 0.5 * f7_local9 / f7_local6, 0.5 + 0.5 * f7_local10 / f7_local6, 0.5 + 0.5 * f7_local13 / f7_local6, 0.5 + 0.5 * f7_local14 / f7_local6 )
	end
end

local f0_local10 = function ( f6_arg0, f6_arg1 )
	for f6_local0 = 1, f6_arg0._num, 1 do
		f6_arg0._tris[f6_local0]:closeTree()
		f6_arg0._tris[f6_local0] = nil
		f6_arg0._trisLine1[f6_local0]:closeTree()
		f6_arg0._trisLine1[f6_local0] = nil
		f6_arg0._trisLine2[f6_local0]:closeTree()
		f6_arg0._trisLine2[f6_local0] = nil
	end
	f0_local0( f6_arg0, f6_arg1, f6_arg0._num )
	f0_local0( f6_arg0, f6_arg1, f0_local0.GRAPH )
	f0_local0( f6_arg0, f6_arg1, f0_local0.LINE1 )
	f0_local0( f6_arg0, f6_arg1, f0_local0.LINE2 )
end

local f0_local11 = function ( f5_arg0, f5_arg1, f5_arg2 )
	assert( #f5_arg2 == #f5_arg0._points )
	for f5_local0 = 1, #f5_arg2, 1 do
		f5_arg0._points[f5_local0].factor = f5_arg2[f5_local0]
	end
	f0_local0( f5_arg0 )
end

local f0_local12 = function ( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg0._origin.x = f4_arg1
	f4_arg0._origin.y = f4_arg2
	f0_local0( f4_arg0 )
end

local f0_local13 = function ( f3_arg0, f3_arg1 )
	f3_arg0._length = f3_arg1
end

local f0_local14 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0._points = {}
	f2_arg0._origin = {
		x = 0,
		y = 0
	}
	f2_arg0.SetupFactor = f0_local0
	f2_arg0.SetupOrigin = f0_local0
	f2_arg0.SetLength = f0_local0
	f0_local0( f2_arg0, f2_arg1, 7, true )
	f0_local0( f2_arg0, f2_arg1, 300, 300 )
end

function SpiderGraph( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 512 * _1080p, 0, 512 * _1080p )
	self.id = "SpiderGraph"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "SpiderGraph", SpiderGraph )
LockTable( _M )
