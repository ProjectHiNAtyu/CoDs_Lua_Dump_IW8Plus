-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
GUNSMITH = {
	maxCategories = 11,
	lineDuration = 400,
	maxMods = 5,
	modSlotChars = 3,
	modSlotBaseID = 7000000,
	bucketItems = 5,
	buttonState = {
		CONFLICT = 5,
		MODIFICATION_LOCKED = 3,
		SWAP = 6,
		EQUIPPED = 7,
		UNLOCKED = 4,
		CHALLENGE_LOCKED = 2,
		PROGRESSION_LOCKED = 1
	},
	modificationSteps = {
		NAME = 2,
		GUNSMITH = 1,
		WARNING = 3
	},
	typeNamePostFix = {
		attachment = "_attachment",
		camos = "_camos"
	},
	WEAPON_PREVIEW_CAMERA_TYPE = {
		BIG_SHOTGUN = 2,
		BIG_GUN = 1,
		SMALL_GUN = 3,
		NONE = 0
	},
	GetDefaultModificationName = function ()
		local f61_local0 = StringTable.BFHCAIIDA( CSV.modificationDefaults.file )
		math.randomseed( Engine.BFBIDEGDFB() )
		return StringTable.CBGJCDIHCE( CSV.modificationDefaults.file, math.random( 0, f61_local0 - 1 ), CSV.modificationDefaults.cols.name )
	end,
	GetAttachmentCategories = function ( f60_arg0 )
		local f60_local0 = WEAPON.GetWeaponClass( f60_arg0 )
		local f60_local1 = StringTable.DIFCHIGDFB( CSV.weaponClasses.file, CSV.weaponClasses.cols.ref, f60_local0, CSV.weaponClasses.cols.attachCategoryWhitelist )
		if ATTACHMENT.GetMaxAttachmentCount( f60_arg0 ) > ATTACHMENT.count then
			f60_local1 = f60_local1 .. "|" .. StringTable.DIFCHIGDFB( CSV.weaponClasses.file, CSV.weaponClasses.cols.ref, f60_local0, CSV.weaponClasses.cols.extraAttachCategoryWhitelist )
		end
		local f60_local2 = LUI.Split( f60_local1, "|" )
		local f60_local3 = LUI.KeyValueSplit( StringTable.DIFCHIGDFB( CSV.weapons.file, CSV.weapons.cols.ref, f60_arg0, CSV.weapons.cols.attachCategoryBlacklist ), "|" )
		local f60_local4 = {}
		for f60_local8, f60_local9 in ipairs( f60_local2 ) do
			if not f60_local3[f60_local9] then
				table.insert( f60_local4, f60_local9 )
			end
		end
		return f60_local4
	end,
	IsAttachVariantCategoryBlacklisted = function ( f59_arg0, f59_arg1 )
		local f59_local0 = LUI.KeyValueSplit( StringTable.DIFCHIGDFB( CSV.weapons.file, CSV.weapons.cols.ref, f59_arg0, CSV.weapons.cols.attachVariantCategoryBlacklist ), "|" )
		return f59_local0[f59_arg1]
	end,
	GetBlockedCategories = function ( f58_arg0 )
		local f58_local0 = {}
		local f58_local1 = WEAPON.GetWeaponClass( f58_arg0.weapon )
		for f58_local5, f58_local6 in ipairs( f58_arg0.attachments ) do
			local f58_local7 = ATTACHMENT.GetRef( f58_local6.ref, f58_arg0.weapon, f58_local1 )
			local f58_local8 = ATTACHMENT.GetBlockedCategory( f58_local7 )
			if f58_local8 and 0 < #f58_local8 then
				f58_local0[f58_local8] = f58_local7
			end
		end
		return f58_local0
	end,
	GetBlockedCategoryWarning = function ( f57_arg0, f57_arg1 )
		local f57_local0 = ATTACHMENT.GetRef( f57_arg0.attachments[f57_arg1].ref, f57_arg0.weapon )
		local f57_local1 = ATTACHMENT.GetAttachmentCategoryName( ATTACHMENT.GetCategory( f57_local0 ) )
		local f57_local2 = Engine.CBBHFCGDIC
		local f57_local3 = "CAS/BLOCKED_CATEGORY_WARNING"
		local f57_local4 = f57_local1
		return f57_local2( f57_local3, ATTACHMENT.GetName( f57_local0 ) )
	end,
	GetBlockedCategoryButtonWarning = function ( f56_arg0, f56_arg1 )
		if f56_arg1 ~= nil and type( f56_arg1 ) == "string" and f56_arg1 ~= "" then
			local f56_local0 = ATTACHMENT.GetAttachmentCategoryName( ATTACHMENT.GetCategory( f56_arg1 ) )
			local f56_local1 = Engine.CBBHFCGDIC
			local f56_local2 = "CAS/NOT_AVAILABLE"
			return f56_local1( ATTACHMENT.GetName( f56_arg1 ) )
		else
			return Engine.CBBHFCGDIC( "CAS/NOT_AVAILABLE_FALLBACK" )
		end
	end,
	GetChallengeXPReward = function ( f55_arg0 )
		return StringTable.DIFCHIGDFB( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.id, f55_arg0, CSV.gunsmithChallenges.cols.XPReward )
	end,
	GetAttachmentsAndBucketItems = function ( f54_arg0, f54_arg1, f54_arg2 )
		local f54_local0 = {}
		local f54_local1 = {}
		local f54_local2 = CSV.gunsmithProgressionTable
		local f54_local3 = f54_local2:GetFile( f54_arg1 )
		local f54_local4 = {}
		local f54_local5 = WEAPON.GetWeaponClass( f54_arg1 )
		if not Engine.DDJFBBJAIG() then
			local f54_local6 = CONDITIONS.AreRestrictionsActive( f54_arg0 )
		else
			local f54_local6 = false
		end
		local f54_local7 = WEAPON.GetModificationAttachments( f54_arg0, f54_arg1, f54_arg2 )
		for f54_local8 = 0, StringTable.BFHCAIIDA( f54_local3 ), 1 do
			local f54_local11 = 0
			local f54_local12 = CSV.ReadRowWithFile( f54_local2, f54_local3, f54_local8 )
			local f54_local13 = f54_local12.level
			if f54_local12.lootID and 0 < #f54_local12.lootID then
				
			end
		end
		for f54_local17, f54_local11 in pairs( f54_local1 ) do
			for f54_local14, f54_local15 in pairs( f54_local11 ) do
				table.insert( f54_local0[f54_local17], f54_local15 )
			end
		end
		return f54_local0, f54_local4
	end,
	IsDisabled = function ( f53_arg0 )
		local f53_local0 = WEAPON.GetWeaponClass( f53_arg0 )
		local f53_local1 = false
		if f53_local0 and 0 < #f53_local0 then
			f53_local1 = StringTable.DIFCHIGDFB( CSV.weaponClasses.file, CSV.weaponClasses.cols.ref, f53_local0, CSV.weaponClasses.cols.canBeGunsmithed ) == "1"
		end
		local f53_local2 = StringTable.DIFCHIGDFB( CSV.weapons.file, CSV.weapons.cols.ref, f53_arg0, CSV.weapons.cols.isGunsmithDisabled ) == "1"
		local f53_local3
		if f53_local1 then
			f53_local3 = f53_local2
		else
			f53_local3 = true
		end
		return f53_local3
	end,
	IsCustomizationDisabled = function ( f52_arg0 )
		local f52_local0 = WEAPON.GetWeaponClass( f52_arg0 )
		return StringTable.DIFCHIGDFB( CSV.weapons.file, CSV.weapons.cols.ref, f52_arg0, CSV.weapons.cols.isCustomizationDisabled ) == "1"
	end,
	IsGunsmithCustomsAvailable = function ( f51_arg0, f51_arg1, f51_arg2, f51_arg3, f51_arg4 )
		local f51_local0
		if f51_arg1 then
			f51_local0 = f51_arg1
		else
			f51_local0 = 1 < #f51_arg2
		end
		local f51_local1 = GUNSMITH.IsAttachVariantCategoryBlacklisted( f51_arg3, f51_arg4 )
		local f51_local2 = ATTACHMENT.AreVariantsEnabled()
		if f51_local2 then
			if f51_local0 then
				f51_local2 = f51_local0
			elseif not f51_local1 then
				f51_local2 = Engine.DDJFBBJAIG()
				if f51_local2 then
					f51_local2 = Engine.CJJAFGIFAC( f51_arg0 )
				end
			else
				f51_local2 = false
			end
		end
		return f51_local2
	end,
	AreMasterChallengesEnabled = function ( f50_arg0, f50_arg1 )
		if f50_arg0 == nil or f50_arg1 == nil then
			return false
		end
		local f50_local0 = Dvar.IBEGCHEFE( "MTORSRMLSQ" )
		local f50_local1 = WEAPON.IsGoldCamoUnlocked( f50_arg0, f50_arg1 )
		local f50_local2
		if f50_local0 and CONDITIONS.InFrontendPublic() and not f50_local1 then
			f50_local2 = f50_local1
		else
			f50_local2 = Dvar.IBEGCHEFE( "lui_weapon_master_challenges_forced" )
		end
		if CONDITIONS.IsWZWipFlowEnabled() then
			local f50_local3 = LOOT.IsT9Item( {
				type = LOOT.itemTypes.WEAPON,
				ref = f50_arg1
			} )
			local f50_local4 = LOOT.IsS4Item( {
				type = LOOT.itemTypes.WEAPON,
				ref = f50_arg1
			} )
			local f50_local5
			if f50_local2 then
				f50_local5 = f50_local2
			elseif f50_local4 or f50_local3 then
				if f50_local3 then
					f50_local5 = f50_local3
				else
					f50_local5 = CONDITIONS.AreT9MasterChallengesEnabled()
				end
			else
				f50_local5 = true
			end
			return f50_local5
		end
		return f50_local2
	end,
	ToastEquipAttach = function ( f49_arg0, f49_arg1, f49_arg2 )
		f49_arg0:dispatchEventToRoot( {
			name = "send_toast_notification",
			immediate = true,
			options = {
				displayTime = 3000,
				icon = "hud_info_alert",
				header = Engine.CBBHFCGDIC( "LUA_MENU/ATTACHMENT_EQUIPPED" ),
				description = f49_arg2,
				type = LUI.ToastManager.NotificationType.AttachmentEquipped,
				controllerIndex = f49_arg1
			}
		} )
	end,
	EquipAttachment = function ( f48_arg0, f48_arg1, f48_arg2, f48_arg3, f48_arg4 )
		local f48_local0 = f48_arg4.attachSlot
		if f48_local0 then
			local f48_local1 = f48_arg3.attachmentSetup[f48_local0 - 1].attachment:get()
			local f48_local2 = false
			local f48_local3 = f48_arg3.weapon:get()
			local f48_local4 = ATTACHMENT.GetRef( f48_local1, f48_local3 )
			local f48_local5 = ATTACHMENT.GetRef( f48_arg2, f48_local3 )
			if f48_local1 == f48_arg2 and not f48_arg4.variantID then
				f48_arg3.attachmentSetup[f48_local0 - 1].attachment:set( ATTACHMENT.none )
				f48_arg2 = ATTACHMENT.none
				f48_local5 = ATTACHMENT.none
				f48_local2 = true
			else
				f48_arg3.attachmentSetup[f48_local0 - 1].attachment:set( f48_arg2 )
			end
			if f48_arg4.variantID then
				f48_arg3.attachmentSetup[f48_local0 - 1].variantID:set( tonumber( f48_arg4.variantID ) )
			else
				local f48_local6 = ATTACHMENT.baseVariant
				if f48_arg3.lootItemID:get() ~= LOOT.emptyID then
					local f48_local7 = WEAPON.GetModificationAttachments( f48_arg1, f48_local3, f48_arg3.lootItemID:get() )
					if f48_local7[f48_arg2] then
						f48_local6 = f48_local7[f48_arg2]
					end
				end
				f48_arg3.attachmentSetup[f48_local0 - 1].variantID:set( f48_local6 )
			end
			local f48_local6 = nil
			if f48_arg4.isNewAttachment or f48_arg4.isNewVariantID and f48_arg4.variantID == ATTACHMENT.baseVariant then
				f48_local6 = ATTACHMENT.GetName( f48_local5 )
			elseif f48_arg4.isNewVariantID and f48_arg4.lootID then
				f48_local6 = GUNSMITH.GetVariantName( f48_arg4.variantID, f48_arg4.lootID )
			end
			if f48_arg0 and f48_local6 then
				GUNSMITH.ToastEquipAttach( f48_arg0, f48_arg1, f48_local6 )
			end
			local f48_local7 = ATTACHMENT.GetBlockedCategorySlot( f48_arg2, WEAPON.GenerateWeaponTable( f48_arg3 ) )
			if f48_local7 then
				f48_arg3.attachmentSetup[f48_local7 - 1].attachment:set( ATTACHMENT.none )
				f48_arg3.attachmentSetup[f48_local7 - 1].variantID:set( ATTACHMENT.baseVariant )
			end
			if ATTACHMENT.GetCategory( f48_local4 ) == ATTACHMENT.opticCategory or ATTACHMENT.GetCategory( f48_local5 ) == ATTACHMENT.opticCategory then
				if not ATTACHMENT.SupportsCustomReticles( f48_local5, LOOT.IsMWItem( {
					type = LOOT.itemTypes.WEAPON,
					ref = f48_local3
				} ) ) or ATTACHMENT.GetOpticReticleCategory( ATTACHMENT.GetOpticRef( f48_local4 ) ) ~= ATTACHMENT.GetOpticReticleCategory( ATTACHMENT.GetOpticRef( f48_local5 ) ) then
					WEAPON.SetEquippedReticle( f48_arg3, WEAPON.ReticleNoneValue )
				end
			end
			if f48_arg4.menusToLeave and not f48_local2 then
				for f48_local11, f48_local12 in ipairs( f48_arg4.menusToLeave ) do
					LUI.FlowManager.RequestLeaveMenuByName( f48_local12 )
				end
				return true
			else
				return false
			end
		else
			LUI.FlowManager.RequestPopupMenu( nil, "SwapAttachmentPopup", true, f48_arg1, false, {
				attachToReplaceWith = f48_arg2,
				weaponPlayerData = f48_arg3,
				menusToLeave = f48_arg4.menusToLeave,
				variantID = f48_arg4.variantID,
				lootID = f48_arg4.lootID,
				survivalCost = f48_arg4.survivalCost
			} )
		end
	end,
	GetAttachmentSceneOverride = function ( f47_arg0, f47_arg1, f47_arg2 )
		local f47_local0 = {
			{
				col = CSV.gunsmithSetup.cols.weapon,
				key = f47_arg0
			},
			{
				col = CSV.gunsmithSetup.cols.category,
				key = f47_arg2
			},
			{
				col = CSV.gunsmithSetup.cols.variantID,
				key = f47_arg1
			}
		}
		local f47_local1 = StringTable.CEBAGDAEJJ( CSV.gunsmithSetup.file, f47_local0, CSV.gunsmithSetup.cols.scene )
		if not f47_local1 or #f47_local1 == 0 then
			f47_local0[3] = {
				col = CSV.gunsmithSetup.cols.variantID,
				key = WEAPON.baseVariant
			}
			f47_local1 = StringTable.CEBAGDAEJJ( CSV.gunsmithSetup.file, f47_local0, CSV.gunsmithSetup.cols.scene )
		end
		return f47_local1
	end,
	GetAttachmentCategoryScene = function ( f46_arg0, f46_arg1, f46_arg2 )
		local f46_local0 = WEAPON.GetWeaponClass( f46_arg0 )
		local f46_local1 = GUNSMITH.GetAttachmentSceneOverride( f46_arg0, f46_arg1, f46_arg2 )
		if f46_local1 and 0 < #f46_local1 then
			return f46_local1
		elseif f46_local0 == WEAPON.LAUNCHERClass then
			return StringTable.DIFCHIGDFB( CSV.weaponClasses.file, CSV.weaponClasses.cols.ref, f46_local0, CSV.weaponClasses.cols.previewScene )
		end
		local f46_local2 = CSV.attachmentCategories.cols.categoryScene
		if f46_local0 == WEAPON.pistolClass then
			f46_local2 = CSV.attachmentCategories.cols.smallCategoryScene
		elseif f46_local0 == WEAPON.LMGClass or f46_local0 == WEAPON.sniperClass then
			f46_local2 = CSV.attachmentCategories.cols.largeCategoryScene
		end
		return StringTable.DIFCHIGDFB( CSV.attachmentCategories.file, CSV.attachmentCategories.cols.ref, f46_arg2, f46_local2 )
	end
}
local f0_local0 = function ( f45_arg0, f45_arg1, f45_arg2 )
	local f45_local0 = {}
	for f45_local4, f45_local5 in pairs( f45_arg0 ) do
		if f45_local5.data["slot" .. f45_arg2] == "1" and not f45_arg1[f45_local4] then
			table.insert( f45_local0, f45_local5 )
		end
	end
	return f45_local0
end

local f0_local1 = function ( f44_arg0, f44_arg1 )
	local f44_local0 = {}
	local f44_local1 = 0
	local f44_local2 = "selectionPriority"
	for f44_local6, f44_local7 in ipairs( f44_arg0[f44_arg1.slotIndex] ) do
		if f44_arg1.cellIndex == 4 then
			if f44_arg1.cellIndex - 1 <= f44_local7.cellRequirement then
				table.insert( f44_local0, f44_local7 )
				f44_local1 = f44_local1 + f44_local7[f44_local2]
			end
		end
		if f44_local7.cellRequirement == f44_arg1.cellIndex then
			table.insert( f44_local0, f44_local7 )
			f44_local1 = f44_local1 + f44_local7[f44_local2]
		end
	end
	if #f44_local0 == 0 then
		return nil
	end
	f44_local3 = 0
	f44_local4 = math.floor( math.random() * 100 + 0.5 ) / 100 * f44_local1
	f44_local5 = 1
	for f44_local9, f44_local10 in ipairs( f44_local0 ) do
		if f44_local4 <= f44_local3 + f44_local10[f44_local2] then
			f44_local5 = f44_local9
			break
		end
		f44_local3 = f44_local3 + f44_local10[f44_local2]
	end
	for f44_local9, f44_local10 in ipairs( f44_arg0[f44_arg1.slotIndex] ) do
		if f44_local10.ref == f44_local0[f44_local5].ref then
			table.remove( f44_arg0[f44_arg1.slotIndex], f44_local9 )
			break
		end
	end
	return f44_local0[f44_local5]
end

GUNSMITH.GetVariantName = function ( f43_arg0, f43_arg1 )
	if f43_arg0 == 0 then
		return Engine.CBBHFCGDIC( "CAS/DEFAULT_VARIANT" )
	else
		return WEAPON.GetLootWeaponName( WEAPON.GetVariantBaseRef( f43_arg1 ), f43_arg1 )
	end
end

GUNSMITH.GetSelectedAttachIndexForCategory = function ( f42_arg0, f42_arg1 )
	for f42_local3, f42_local4 in ipairs( f42_arg1.attachments ) do
		if ATTACHMENT.GetCategory( ATTACHMENT.GetRef( f42_local4.ref, f42_arg1.weapon ) ) == f42_arg0 then
			return f42_local3
		end
	end
end

GUNSMITH.GetGunsmithMenu = function ()
	local f41_local0
	if Engine.DDJFBBJAIG() then
		f41_local0 = "Gunsmith"
	else
		f41_local0 = "InGameGunsmith"
	end
	return f41_local0
end

GUNSMITH.OpenGunsmith = function ( f40_arg0, f40_arg1, f40_arg2, f40_arg3 )
	local f40_local0 = PlayerData.BFFBGAJGD( f40_arg0, LOADOUT.GetLoadoutStatsGroup() )
	f40_local0 = f40_local0.squadMembers.loadouts
	local f40_local1 = f40_local0[f40_arg1].loadoutPerks[0]:get()
	local f40_local2 = f40_local0[f40_arg1].loadoutPerks[1]:get()
	local f40_local3 = f40_local0[f40_arg1].loadoutPerks[2]:get()
	if not PERK.IsPerkOverkill( f40_local1 ) and not PERK.IsPerkOverkill( f40_local2 ) then
		local f40_local4 = PERK.IsPerkOverkill( f40_local3 )
	end
	local f40_local5 = {
		weaponSlot = f40_arg2,
		loadoutIndex = f40_arg1
	}
	local f40_local6 = f40_local0[f40_arg1].weaponSetups[f40_arg2]
	if CONDITIONS.IsWaveGameType then
		f40_arg3 = false
	end
	LUI.FlowManager.RequestAddMenu( GUNSMITH.GetGunsmithMenu(), true, f40_arg0, f40_arg3, f40_local5, true )
end

GUNSMITH.GetLineOffsets = function ( f39_arg0, f39_arg1, f39_arg2 )
	local f39_local0 = {
		{
			col = CSV.gunsmithSetup.cols.weapon,
			key = f39_arg0
		},
		{
			col = CSV.gunsmithSetup.cols.category,
			key = f39_arg2
		},
		{
			col = CSV.gunsmithSetup.cols.variantID,
			key = f39_arg1
		}
	}
	local f39_local1 = StringTable.BABCABFJEJ( CSV.gunsmithSetup.file, f39_local0 )
	if not f39_local1 or f39_local1 == -1 then
		f39_local0[3] = {
			col = CSV.gunsmithSetup.cols.variantID,
			key = WEAPON.baseVariant
		}
		f39_local1 = StringTable.BABCABFJEJ( CSV.gunsmithSetup.file, f39_local0 )
	end
	return StringTable.CBGJCDIHCE( CSV.gunsmithSetup.file, f39_local1, CSV.gunsmithSetup.cols.lineOffsetX ), StringTable.CBGJCDIHCE( CSV.gunsmithSetup.file, f39_local1, CSV.gunsmithSetup.cols.lineOffsetY ), StringTable.CBGJCDIHCE( CSV.gunsmithSetup.file, f39_local1, CSV.gunsmithSetup.cols.lineOffsetZ )
end

GUNSMITH.GetDefaultLineOffsets = function ( f38_arg0 )
	local f38_local0 = StringTable.BJJBBCJGEJ( CSV.attachmentCategories.file, CSV.attachmentCategories.cols.ref, f38_arg0 )
	local f38_local1 = StringTable.CBGJCDIHCE( CSV.attachmentCategories.file, f38_local0, CSV.attachmentCategories.cols.defaultLineOffsetX )
	local f38_local2 = StringTable.CBGJCDIHCE( CSV.attachmentCategories.file, f38_local0, CSV.attachmentCategories.cols.defaultLineOffsetY )
	local f38_local3 = StringTable.CBGJCDIHCE( CSV.attachmentCategories.file, f38_local0, CSV.attachmentCategories.cols.defaultLineOffsetZ )
	if f38_local1 and 0 < #f38_local1 then
		local f38_local4 = tonumber( f38_local1 )
		if not f38_local4 then
			f38_local1 = f38_local4
		end
	end
	f38_local1 = 0
end

GUNSMITH.GetFinalLineOffsets = function ( f37_arg0, f37_arg1, f37_arg2 )
	local f37_local0, f37_local1, f37_local2 = GUNSMITH.GetDefaultLineOffsets( f37_arg2 )
	local f37_local3, f37_local4, f37_local5 = GUNSMITH.GetLineOffsets( f37_arg0, f37_arg1, f37_arg2 )
	if f37_local3 and 0 < #f37_local3 then
		local f37_local6 = tonumber( f37_local3 )
		if not f37_local6 then
			f37_local0 = f37_local6
		else
			
		end
	end
	if f37_local4 and 0 < #f37_local4 then
		local f37_local6 = tonumber( f37_local4 )
		if not f37_local6 then
			f37_local1 = f37_local6
		else
			
		end
	end
	if f37_local5 and 0 < #f37_local5 then
		local f37_local6 = tonumber( f37_local5 )
		if not f37_local6 then
			f37_local2 = f37_local6
		else
			
		end
	end
	if Dvar.IBEGCHEFE( "LPKPKPTMKR" ) then
		f37_local0 = Dvar.BJJCJHDBII( "LMRQMOPNSM" )
		f37_local1 = Dvar.BJJCJHDBII( "OLSQQQTNON" )
		f37_local2 = Dvar.BJJCJHDBII( "MQPQRPNNKK" )
	end
	return f37_local0, f37_local1, f37_local2
end

GUNSMITH.GetOverrideLineBone = function ( f36_arg0, f36_arg1, f36_arg2 )
	local f36_local0 = {
		{
			col = CSV.gunsmithSetup.cols.weapon,
			key = f36_arg0
		},
		{
			col = CSV.gunsmithSetup.cols.category,
			key = f36_arg2
		},
		{
			col = CSV.gunsmithSetup.cols.variantID,
			key = f36_arg1
		}
	}
	local f36_local1 = StringTable.CEBAGDAEJJ( CSV.gunsmithSetup.file, f36_local0, CSV.gunsmithSetup.cols.overrideLineBone )
	if not f36_local1 or #f36_local1 == 0 then
		f36_local0[3] = {
			col = CSV.gunsmithSetup.cols.variantID,
			key = WEAPON.baseVariant
		}
		f36_local1 = StringTable.CEBAGDAEJJ( CSV.gunsmithSetup.file, f36_local0, CSV.gunsmithSetup.cols.overrideLineBone )
	end
	return f36_local1
end

GUNSMITH.GetLineBone = function ( f35_arg0, f35_arg1, f35_arg2 )
	local f35_local0 = GUNSMITH.GetOverrideLineBone( f35_arg0, f35_arg1, f35_arg2 )
	local f35_local1
	if f35_local0 and 0 < #f35_local0 and not f35_local0 then
		f35_local1 = f35_local0
	else
		f35_local1 = StringTable.DIFCHIGDFB( CSV.attachmentCategories.file, CSV.attachmentCategories.cols.ref, f35_arg2, CSV.attachmentCategories.cols.bone )
	end
	return f35_local1
end

GUNSMITH.CanMakeModification = function ( f34_arg0, f34_arg1 )
	local f34_local0 = GUNSMITH.AreAnyModSlotsUnlocked( f34_arg0, LOOT.GetItemID( LOOT.itemTypes.WEAPON, f34_arg1 ) )
	local f34_local1 = Dvar.IBEGCHEFE( "NSPPTONLNP" )
	if f34_local1 then
		f34_local1 = f34_local0
	end
	return f34_local1
end

GUNSMITH.CheckNewAttachment = function ( f33_arg0, f33_arg1 )
	return Loot.DAFIICDBFJ( f33_arg0, f33_arg1 .. GUNSMITH.typeNamePostFix.attachment )
end

GUNSMITH.CheckNewCustomization = function ( f32_arg0, f32_arg1 )
	if not f32_arg1 then
		return false
	else
		local f32_local0 = f32_arg1.weapon:get()
		if Loot.DAFIICDBFJ( f32_arg0, f32_local0 .. GUNSMITH.typeNamePostFix.camos ) then
			return true
		elseif 0 < WEAPON.GetMaxStickerSlotsForWeapon( f32_local0 ) and LOOT.IsCategoryNew( f32_arg0, LOOT.itemTypes.STICKER ) then
			return true
		else
			local f32_local1 = LOOT.GetItemGameSource( {
				type = LOOT.itemTypes.WEAPON,
				ref = f32_local0
			} )
			if WEAPON.SupportsCosmetics( f32_local0 ) and LOOT.IsCategoryNew( f32_arg0, LOOT.itemTypes.CHARM, f32_local1 ) then
				return true
			elseif WEAPON.SupportsOptics( f32_local0 ) and GUNSMITH.CheckNewReticleForOptic( f32_arg0, ATTACHMENT.GetEquippedOptic( f32_arg1 ), f32_local1 == LUI.GAME_SOURCE_ID.MODERN_WARFARE ) then
				return true
			else
				return false
			end
		end
	end
end

GUNSMITH.CheckNewAttachmentAndCustomization = function ( f31_arg0, f31_arg1 )
	if not f31_arg1 then
		return false, false
	else
		return GUNSMITH.CheckNewAttachment( f31_arg0, f31_arg1.weapon:get() ), GUNSMITH.CheckNewCustomization( f31_arg0, f31_arg1 )
	end
end

GUNSMITH.CheckNewGunsmithByWeapon = function ( f30_arg0, f30_arg1 )
	if not f30_arg1 then
		return false
	elseif GUNSMITH.CheckNewAttachment( f30_arg0, f30_arg1.weapon:get() ) then
		return true
	elseif GUNSMITH.CheckNewCustomization( f30_arg0, f30_arg1 ) then
		return true
	else
		return false
	end
end

GUNSMITH.CheckNewReticleForOptic = function ( f29_arg0, f29_arg1, f29_arg2 )
	if ATTACHMENT.SupportsCustomReticles( f29_arg1, f29_arg2 ) then
		local f29_local0 = ATTACHMENT.GetOpticReticleCategory( ATTACHMENT.GetOpticRef( f29_arg1 ) )
		local f29_local1 = Loot.BCBAGDEJAJ( f29_arg0, LOOT.typeNames[LOOT.itemTypes.RETICLE] )
		for f29_local2 = 1, #f29_local1, 1 do
			if f29_local0 == StringTable.DIFCHIGDFB( CSV.reticles.file, CSV.reticles.cols.ref, LOOT.GetItemRef( LOOT.itemTypes.RETICLE, f29_local1[f29_local2] ), CSV.reticles.cols.category ) then
				return true
			end
		end
	end
	return false
end

GUNSMITH.SetupAttachLine = function ( f28_arg0, f28_arg1, f28_arg2, f28_arg3 )
	local f28_local0 = GUNSMITH.GetLineBone( f28_arg1, f28_arg2, f28_arg3 )
	if f28_local0 and 0 < #f28_local0 then
		if not f28_arg0._attachLine then
			f28_arg0._attachLine = LUI.UILine.new()
			f28_arg0._attachLine:setPriority( -5 )
			f28_arg0._attachLine:SetAlpha( 0 )
			f28_arg0._attachLine:SetThickness( 1 * _1080p )
			f28_arg0._attachLine:SetVertexPosition( LUI.UILine.START, 0, 0, 220 * _1080p, 32 * _1080p )
			f28_arg0:addElement( f28_arg0._attachLine )
		end
		f28_arg0._attachLine:SetVertexEntity( LUI.UILine.END, ClientWeapon.CJABBBHHFC( FrontEndScene.ClientWeapons.Preview ) )
		f28_arg0._attachLine:SetVertexEntityTag( LUI.UILine.END, f28_local0 )
		f28_arg0._attachLine:AttachVertexToWorldModel( LUI.UILine.END )
		local f28_local1, f28_local2, f28_local3 = GUNSMITH.GetFinalLineOffsets( f28_arg1, f28_arg2, f28_arg3 )
		f28_arg0._attachLine:SetVertexTagSpacePosition( LUI.UILine.END, f28_local1, f28_local2, f28_local3 )
	elseif f28_arg0._attachLine then
		f28_arg0._attachLine:closeTree()
		f28_arg0._attachLine = nil
	end
end

GUNSMITH.GetCustomModPath = function ( f27_arg0, f27_arg1 )
	return "blueprints." .. f27_arg0 .. ".weaponSetup." .. f27_arg1
end

GUNSMITH.IsModSlotInUse = function ( f26_arg0, f26_arg1, f26_arg2 )
	local f26_local0 = Gunsmith.CCJIIFCJHA( f26_arg0, GUNSMITH.GetCustomModPath( f26_arg1, f26_arg2 ) .. ".blueprintName" )
	if f26_local0 ~= nil then
		return 0 < #f26_local0
	else
		return false
	end
end

GUNSMITH.GetAllCustomMods = function ( f25_arg0, f25_arg1, f25_arg2 )
	if not f25_arg1 then
		f25_arg1 = {}
	end
	if not f25_arg2 then
		f25_arg2 = {}
	end
	for f25_local0 = 0, StringTable.BFHCAIIDA( CSV.weapons.file ), 1 do
		local f25_local3 = CSV.ReadRow( CSV.weapons, f25_local0 )
		local f25_local4 = f25_arg2.byWeapons
		if f25_local4 then
			f25_local4 = not f25_arg2.byWeapons[f25_local3.ref]
		end
		if not f25_local4 and tonumber( f25_local3.displayOrder ) and 0 <= tonumber( f25_local3.displayOrder ) then
			for f25_local5 = 0, GUNSMITH.maxMods - 1, 1 do
				if GUNSMITH.IsModSlotInUse( f25_arg0, f25_local3.ref, f25_local5 ) then
					table.insert( f25_arg1, GUNSMITH.GetCustomMod( f25_arg0, f25_local3.ref, f25_local5 ) )
				end
			end
		end
	end
	return f25_arg1
end

GUNSMITH.GetCustomModsForWeapon = function ( f24_arg0, f24_arg1 )
	local f24_local0 = {}
	for f24_local1 = 0, GUNSMITH.maxMods - 1, 1 do
		if GUNSMITH.IsModSlotInUse( f24_arg0, f24_arg1, f24_local1 ) then
			table.insert( f24_local0, GUNSMITH.GetCustomMod( f24_arg0, f24_arg1, f24_local1 ) )
		end
	end
	return f24_local0
end

GUNSMITH.GetCustomMod = function ( f23_arg0, f23_arg1, f23_arg2 )
	local f23_local0 = GUNSMITH.GetCustomModPath( f23_arg1, f23_arg2 )
	local f23_local1 = {
		blueprintName = Gunsmith.CCJIIFCJHA( f23_arg0, f23_local0 .. ".blueprintName" ),
		weapon = Gunsmith.CCJIIFCJHA( f23_arg0, f23_local0 .. ".weapon" ),
		lootID = tonumber( Gunsmith.CCJIIFCJHA( f23_arg0, f23_local0 .. ".lootItemID" ) ),
		variantID = tonumber( Gunsmith.CCJIIFCJHA( f23_arg0, f23_local0 .. ".variantID" ) ),
		camo = Gunsmith.CCJIIFCJHA( f23_arg0, f23_local0 .. ".camo" ),
		cosmeticAttachment = Gunsmith.CCJIIFCJHA( f23_arg0, f23_local0 .. ".cosmeticAttachment" ),
		reticle = Gunsmith.CCJIIFCJHA( f23_arg0, f23_local0 .. ".reticle" )
	}
	local f23_local2 = f23_local0 .. ".attachmentSetup"
	f23_local1.attachments = {}
	for f23_local3 = 0, WEAPON.maxAttachmentsPerWeapon - 1, 1 do
		local f23_local6 = f23_local2 .. "." .. f23_local3
		table.insert( f23_local1.attachments, {
			ref = Gunsmith.CCJIIFCJHA( f23_arg0, f23_local6 .. ".attachment" ),
			variantID = Gunsmith.CCJIIFCJHA( f23_arg0, f23_local6 .. ".variantID" )
		} )
	end
	local f23_local3 = f23_local0 .. ".sticker"
	f23_local1.stickers = {}
	for f23_local4 = 0, WEAPON.maxStickersPerWeapon - 1, 1 do
		table.insert( f23_local1.stickers, Gunsmith.CCJIIFCJHA( f23_arg0, f23_local3 .. "." .. f23_local4 ) )
	end
	f23_local1.isCustom = true
	f23_local1.displayOrder = WEAPON.GetDisplayOrder( f23_local1.weapon )
	return f23_local1
end

GUNSMITH.GetFirstFreeCustomModSlot = function ( f22_arg0, f22_arg1, f22_arg2 )
	for f22_local0 = 0, GUNSMITH.maxMods - 1, 1 do
		if GUNSMITH.IsModSlotUnlocked( f22_arg0, f22_arg2, f22_local0 ) and #Gunsmith.CCJIIFCJHA( f22_arg0, GUNSMITH.GetCustomModPath( f22_arg1, f22_local0 ) .. ".blueprintName" ) == 0 then
			return f22_local0
		end
	end
	return false
end

GUNSMITH.GetSlotUnlockRank = function ( f21_arg0, f21_arg1, f21_arg2 )
	return StringTable.DIFCHIGDFB( CSV.gunsmithProgressionTable:GetFile( f21_arg0 ), CSV.gunsmithProgressionTable.cols.unlockID, GUNSMITH.GetModSlotLootID( f21_arg0, f21_arg1, f21_arg2 ), CSV.gunsmithProgressionTable.cols.level )
end

GUNSMITH.GetNextModUnlockRank = function ( f20_arg0, f20_arg1, f20_arg2 )
	local f20_local0 = GUNSMITH.CountModSlotsUnlocked( f20_arg0, f20_arg2 )
	if f20_local0 < GUNSMITH.maxMods then
		return GUNSMITH.GetSlotUnlockRank( f20_arg1, f20_arg2, f20_local0 )
	else
		return nil
	end
end

GUNSMITH.CountAvailableCustomModSlots = function ( f19_arg0, f19_arg1, f19_arg2 )
	local f19_local0 = 0
	for f19_local1 = 0, GUNSMITH.maxMods - 1, 1 do
		if GUNSMITH.IsModSlotUnlocked( f19_arg0, f19_arg2, f19_local1 ) then
			local f19_local4 = Gunsmith.CCJIIFCJHA( f19_arg0, GUNSMITH.GetCustomModPath( f19_arg1, f19_local1 ) .. ".blueprintName" )
			local f19_local5
			if f19_local4 then
				f19_local5 = f19_local4
			elseif type( f19_local4 ) ~= "string" or #f19_local4 ~= 0 then
				f19_local5 = false
			else
				f19_local5 = true
			end
			if f19_local5 then
				f19_local0 = f19_local0 + 1
			end
		end
	end
	return f19_local0
end

GUNSMITH.SaveAsCustomMod = function ( f18_arg0, f18_arg1, f18_arg2 )
	assert( f18_arg2 )
	assert( type( f18_arg2 ) == "number" )
	local f18_local0 = assert
	local f18_local1
	if 0 > f18_arg2 or f18_arg2 > GUNSMITH.maxMods - 1 then
		f18_local1 = false
	else
		f18_local1 = true
	end
	f18_local0( f18_local1 )
	f18_local0 = GUNSMITH.GetCustomModPath( f18_arg1.weapon, f18_arg2 )
	Gunsmith.CDEJBFGGAG( f18_arg0, f18_local0 .. ".blueprintName", f18_arg1.blueprintName )
	Gunsmith.CDEJBFGGAG( f18_arg0, f18_local0 .. ".weapon", f18_arg1.weapon )
	Gunsmith.CDEJBFGGAG( f18_arg0, f18_local0 .. ".variantID", f18_arg1.variantID )
	Gunsmith.CDEJBFGGAG( f18_arg0, f18_local0 .. ".camo", f18_arg1.camo )
	Gunsmith.CDEJBFGGAG( f18_arg0, f18_local0 .. ".cosmeticAttachment", f18_arg1.cosmeticAttachment )
	Gunsmith.CDEJBFGGAG( f18_arg0, f18_local0 .. ".reticle", f18_arg1.reticle )
	Gunsmith.CDEJBFGGAG( f18_arg0, f18_local0 .. ".lootItemID", f18_arg1.lootID )
	local f18_local2 = f18_local0 .. ".attachmentSetup"
	for f18_local1 = 0, #f18_arg1.attachments - 1, 1 do
		local f18_local5 = f18_local2 .. "." .. f18_local1
		Gunsmith.CDEJBFGGAG( f18_arg0, f18_local5 .. ".attachment", f18_arg1.attachments[f18_local1 + 1].ref )
		Gunsmith.CDEJBFGGAG( f18_arg0, f18_local5 .. ".variantID", f18_arg1.attachments[f18_local1 + 1].variantID )
	end
	f18_local1 = f18_local0 .. ".sticker"
	for f18_local3 = 0, #f18_arg1.stickers - 1, 1 do
		Gunsmith.CDEJBFGGAG( f18_arg0, f18_local1 .. "." .. f18_local3, f18_arg1.stickers[f18_local3 + 1] )
	end
	Gunsmith.DAJAJGBAEF( f18_arg0 )
end

GUNSMITH.DeleteCustomMod = function ( f17_arg0, f17_arg1, f17_arg2 )
	local f17_local0 = GUNSMITH.GetCustomModPath( f17_arg1, f17_arg2 )
	local f17_local1 = Gunsmith.CCJIIFCJHA( f17_arg0, f17_local0 .. ".blueprintName" )
	Gunsmith.CDEJBFGGAG( f17_arg0, f17_local0 .. ".blueprintName", "" )
	Gunsmith.CDEJBFGGAG( f17_arg0, f17_local0 .. ".weapon", WEAPON.none )
	Gunsmith.CDEJBFGGAG( f17_arg0, f17_local0 .. ".variantID", WEAPON.baseVariant )
	Gunsmith.CDEJBFGGAG( f17_arg0, f17_local0 .. ".camo", WEAPON.CamoNoneValue )
	Gunsmith.CDEJBFGGAG( f17_arg0, f17_local0 .. ".cosmeticAttachment", WEAPON.CharmNoneValue )
	Gunsmith.CDEJBFGGAG( f17_arg0, f17_local0 .. ".reticle", WEAPON.ReticleNoneValue )
	Gunsmith.CDEJBFGGAG( f17_arg0, f17_local0 .. ".lootItemID", LOOT.emptyID )
	local f17_local2 = f17_local0 .. ".attachmentSetup"
	for f17_local3 = 0, WEAPON.maxAttachmentsPerWeapon - 1, 1 do
		local f17_local6 = f17_local2 .. "." .. f17_local3
		Gunsmith.CDEJBFGGAG( f17_arg0, f17_local6 .. ".attachment", ATTACHMENT.none )
		Gunsmith.CDEJBFGGAG( f17_arg0, f17_local6 .. ".variantID", ATTACHMENT.baseVariant )
	end
	local f17_local3 = f17_local0 .. ".sticker"
	for f17_local4 = 0, WEAPON.maxStickersPerWeapon - 1, 1 do
		Gunsmith.CDEJBFGGAG( f17_arg0, f17_local3 .. "." .. f17_local4, WEAPON.StickerNoneValue )
	end
	local f17_local4 = PlayerData.BFFBGAJGD( f17_arg0, LOADOUT.GetLoadoutStatsGroup() )
	for f17_local11, f17_local12 in ddlpairs( f17_local4.squadMembers.loadouts ) do
		for f17_local8, f17_local9 in ddlpairs( f17_local12.weaponSetups ) do
			if f17_local9.blueprintName:get() == f17_local1 then
				f17_local9.blueprintName:set( "" )
			end
		end
	end
	Gunsmith.DAJAJGBAEF( f17_arg0 )
end

GUNSMITH.GetUsedAttachmentIndices = function ( f16_arg0, f16_arg1 )
	local f16_local0 = GUNSMITH.GetAttachmentCategories( f16_arg0 )
	local f16_local1 = {}
	local f16_local2 = 0
	for f16_local10, f16_local11 in ipairs( f16_local0 ) do
		if f16_arg1[f16_local11] and 0 < #f16_arg1[f16_local11] then
			local f16_local6 = ATTACHMENT.GetAttachmentCategoryButton( f16_local11 )
			if f16_local1[f16_local6] then
				DebugPrint( "Tried to use button index " .. f16_local6 .. " for category " .. f16_local11 .. " but it was already in use. Attempting to use first unused index." )
				for f16_local7 = 1, GUNSMITH.maxCategories, 1 do
					if not f16_local1[f16_local7] then
						return f16_local7
					end
				end
			end
			assert( f16_local6 )
			f16_local1[f16_local6] = f16_local11
			f16_local2 = f16_local2 + 1
		end
	end
	return f16_local1, f16_local2
end

GUNSMITH.GetCustomModName = function ( f15_arg0 )
	if 0 < #f15_arg0 then
		return string.sub( f15_arg0, GUNSMITH.modSlotChars + 1 )
	else
		return ""
	end
end

GUNSMITH.GetCustomModSlot = function ( f14_arg0 )
	return tonumber( string.sub( f14_arg0, 1, GUNSMITH.modSlotChars ) )
end

GUNSMITH.AreCustomModsEqual = function ( f13_arg0, f13_arg1 )
	local f13_local0
	if f13_arg0.blueprintName ~= f13_arg1.blueprintName or f13_arg0.weapon ~= f13_arg1.weapon then
		f13_local0 = false
	else
		f13_local0 = true
	end
	return f13_local0
end

GUNSMITH.GenerateModName = function ( f12_arg0, f12_arg1 )
	return string.format( "%03d", f12_arg1 ) .. f12_arg0
end

GUNSMITH.GetWeaponPreviewCameraType = function ( f11_arg0 )
	local f11_local0 = WEAPON.GetWeaponClass( f11_arg0 )
	local f11_local1 = GUNSMITH.WEAPON_PREVIEW_CAMERA_TYPE.NONE
	if f11_local0 == WEAPON.ARClass or f11_local0 == WEAPON.LMGClass or f11_local0 == WEAPON.sniperClass or f11_local0 == WEAPON.SMGClass or f11_local0 == WEAPON.DMRClass or f11_local0 == WEAPON.tacticalClass then
		f11_local1 = GUNSMITH.WEAPON_PREVIEW_CAMERA_TYPE.BIG_GUN
	elseif f11_local0 == WEAPON.SHOTGUNClass then
		f11_local1 = GUNSMITH.WEAPON_PREVIEW_CAMERA_TYPE.BIG_SHOTGUN
	elseif f11_local0 == WEAPON.pistolClass then
		f11_local1 = GUNSMITH.WEAPON_PREVIEW_CAMERA_TYPE.SMALL_GUN
	end
	return f11_local1
end

GUNSMITH.GetWeaponAvailableCategoryPreviewTable = function ( f10_arg0 )
	local f10_local0 = GUNSMITH.GetWeaponPreviewCameraType( f10_arg0 )
	local f10_local1 = StringTable.BFHCAIIDA( CSV.attachmentCategories.file )
	local f10_local2 = {}
	local f10_local3 = false
	for f10_local4 = 0, f10_local1 - 1, 1 do
		f10_local3 = nil
		if f10_local0 == GUNSMITH.WEAPON_PREVIEW_CAMERA_TYPE.BIG_GUN then
			f10_local3 = StringTable.CBGJCDIHCE( CSV.attachmentCategories.file, f10_local4, CSV.attachmentCategories.cols.enableBigGunPreviewCamera )
		elseif f10_local0 == GUNSMITH.WEAPON_PREVIEW_CAMERA_TYPE.BIG_SHOTGUN then
			f10_local3 = StringTable.CBGJCDIHCE( CSV.attachmentCategories.file, f10_local4, CSV.attachmentCategories.cols.enableBigShotgunPreviewCamera )
		elseif f10_local0 == GUNSMITH.WEAPON_PREVIEW_CAMERA_TYPE.SMALL_GUN then
			f10_local3 = StringTable.CBGJCDIHCE( CSV.attachmentCategories.file, f10_local4, CSV.attachmentCategories.cols.enableSmallGunPreviewCamera )
		end
		if tonumber( f10_local3 ) == 1 then
			table.insert( f10_local2, StringTable.CBGJCDIHCE( CSV.attachmentCategories.file, f10_local4, CSV.attachmentCategories.cols.ref ) )
		end
	end
	return f10_local2
end

GUNSMITH.IsAnyWeaponAvailableCategoryPreviewData = function ( f9_arg0 )
	local f9_local0 = GUNSMITH.GetWeaponPreviewCameraType( f9_arg0 )
	local f9_local1 = StringTable.BFHCAIIDA( CSV.attachmentCategories.file )
	local f9_local2 = {}
	local f9_local3 = nil
	for f9_local4 = 0, f9_local1 - 1, 1 do
		f9_local3 = nil
		if f9_local0 == GUNSMITH.WEAPON_PREVIEW_CAMERA_TYPE.BIG_GUN then
			f9_local3 = StringTable.CBGJCDIHCE( CSV.attachmentCategories.file, f9_local4, CSV.attachmentCategories.cols.enableBigGunPreviewCamera )
		elseif f9_local0 == GUNSMITH.WEAPON_PREVIEW_CAMERA_TYPE.BIG_SHOTGUN then
			f9_local3 = StringTable.CBGJCDIHCE( CSV.attachmentCategories.file, f9_local4, CSV.attachmentCategories.cols.enableBigShotgunPreviewCamera )
		elseif f9_local0 == GUNSMITH.WEAPON_PREVIEW_CAMERA_TYPE.SMALL_GUN then
			f9_local3 = StringTable.CBGJCDIHCE( CSV.attachmentCategories.file, f9_local4, CSV.attachmentCategories.cols.enableSmallGunPreviewCamera )
		end
		if tonumber( f9_local3 ) == 1 then
			return true
		end
	end
	return false
end

GUNSMITH.GetModSlotLootID = function ( f8_arg0, f8_arg1, f8_arg2 )
	local f8_local0 = GUNSMITH.modSlotBaseID + f8_arg1 * 1000 + f8_arg2
	if LOOT.IsT9Item( {
		type = LOOT.itemTypes.WEAPON,
		ref = f8_arg0
	} ) then
		f8_local0 = StringTable.DIFCHIGDFB( CSV.gunsmithModSlotTable.file, CSV.gunsmithModSlotTable.cols.ref, GUNSMITH.GetT9ModSlotRef( f8_arg0, f8_arg2 ), CSV.gunsmithModSlotTable.cols.ID )
	end
	return f8_local0
end

GUNSMITH.GetT9ModSlotRef = function ( f7_arg0, f7_arg1 )
	return string.gsub( f7_arg0, "^iw8_", "" ) .. "_slot" .. f7_arg1 + 1
end

GUNSMITH.IsModSlotUnlocked = function ( f6_arg0, f6_arg1, f6_arg2 )
	local f6_local0 = false
	local f6_local1 = LOOT.GetBaseRefFromWeaponID( f6_arg1 )
	local f6_local2 = GUNSMITH.GetModSlotLootID( f6_local1, f6_arg1, f6_arg2 )
	local f6_local3 = LOOT.IsT9Item( {
		type = LOOT.itemTypes.WEAPON,
		ref = f6_local1
	} )
	local f6_local4 = LOOT.IsS4Item( {
		type = LOOT.itemTypes.WEAPON,
		ref = f6_local1
	} )
	if f6_local3 then
		local f6_local5 = tonumber( GUNSMITH.GetSlotUnlockRank( f6_local1, f6_arg1, f6_arg2 ) )
		if f6_local5 ~= nil then
			f6_local0 = f6_local5 <= tonumber( PROGRESSION.GetWeaponLevel( f6_arg0, f6_local1 ) )
		end
	else
		if f6_local4 then
			return true
		end
		f6_local0 = LOOT.IsUnlockedWithID( f6_arg0, f6_local2 )
	end
	return f6_local0
end

GUNSMITH.AreAnyModSlotsUnlocked = function ( f5_arg0, f5_arg1 )
	for f5_local0 = 0, GUNSMITH.maxMods - 1, 1 do
		if GUNSMITH.IsModSlotUnlocked( f5_arg0, f5_arg1, f5_local0 ) then
			return true
		end
	end
	return false
end

GUNSMITH.CountModSlotsUnlocked = function ( f4_arg0, f4_arg1 )
	local f4_local0 = 0
	for f4_local1 = 0, GUNSMITH.maxMods - 1, 1 do
		if GUNSMITH.IsModSlotUnlocked( f4_arg0, f4_arg1, f4_local1 ) then
			f4_local0 = f4_local0 + 1
		end
	end
	return f4_local0
end

GUNSMITH.GetGunsmithChallengeCamoCategory = function ( f3_arg0, f3_arg1 )
	local f3_local0 = Challenge.GetLootID( f3_arg0, f3_arg1 )
	if f3_local0 and 0 < #f3_local0 then
		local f3_local1 = split( f3_local0, "|" )
		local f3_local2 = tonumber( f3_local1[1] )
		if f3_local2 and LOOT.IsCamo( f3_local2 ) then
			local f3_local3 = WEAPON.GetCamoRef( f3_local2 )
			local f3_local4, f3_local5 = string.find( f3_local3, "camo_" )
			local f3_local6 = string.sub( f3_local3, f3_local5 + 1, #f3_local3 )
			local f3_local7, f3_local8 = string.find( f3_local6, "%a" )
			return StringTable.DIFCHIGDFB( CSV.camoCategoryTable.file, CSV.camoCategoryTable.cols.index, tonumber( string.sub( f3_local6, 1, f3_local7 - 1 ) ), CSV.camoCategoryTable.cols.ref )
		end
	end
	return nil
end

GUNSMITH.GetGunsmithChallengeRelatedWeaponID = function ( f2_arg0, f2_arg1 )
	local f2_local0 = Challenge.GetLootID( f2_arg0, f2_arg1 )
	if f2_local0 and 0 < #f2_local0 then
		local f2_local1 = split( f2_local0, "|" )
		local f2_local2 = tonumber( f2_local1[1] )
		if f2_local2 and LOOT.IsCamo( f2_local2 ) then
			return LOOT.GetLootItemRelatedWeapon( f2_local2, LOOT.itemTypes.CAMO )
		end
	end
	return nil
end

GUNSMITH.GetAttachmentVariantIcon = function ( f1_arg0, f1_arg1 )
	local f1_local0 = CSV.DynamicWeaponVariantIconMapTable
	local f1_local1 = f1_arg1 + CSV.DynamicWeaponVariantIconMapTable.cols.base
	if f1_local1 > CSV.DynamicWeaponVariantIconMapTable.cols.imageVariantMaxCol then
		f1_local0 = CSV.DynamicWeaponVariantIconMapTable2
		f1_local1 = f1_local1 - CSV.DynamicWeaponVariantIconMapTable.cols.imageVariantMaxCol + CSV.DynamicWeaponVariantIconMapTable2.cols.base
	end
	local f1_local2 = StringTable.DIFCHIGDFB( f1_local0.file, f1_local0.cols.ref, f1_arg0, f1_local1 )
	if f1_local2 == nil or #f1_local2 == 0 then
		f1_local2 = StringTable.DIFCHIGDFB( CSV.DynamicWeaponVariantIconMapTable.file, CSV.DynamicWeaponVariantIconMapTable.cols.ref, f1_arg0, CSV.DynamicWeaponVariantIconMapTable.cols.base )
	end
	local f1_local3, f1_local4 = string.gsub( f1_local2, "_dyn_", "_", 1 )
	return f1_local3
end

