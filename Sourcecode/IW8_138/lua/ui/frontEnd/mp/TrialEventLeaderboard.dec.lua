-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
module( ..., package.seeall )
local f0_local0 = 46 * _1080p
local f0_local1 = 30 * _1080p
local f0_local2 = 20 * _1080p
local f0_local3 = 3
local f0_local4 = 3
local f0_local5 = {
	nil,
	"LUA_MENU/1ST",
	"LUA_MENU/2ND",
	"LUA_MENU/3RD"
}
local f0_local6 = {
	nil,
	"FirstPlace",
	"SecondPlace",
	"ThirdPlace"
}
local f0_local7 = function ( f16_arg0 )
	f16_arg0._defaultFlag = RegisterMaterial( "ui_playercard_1260" )
	f16_arg0._flags = {}
	f16_arg0._flags.USA = {
		material = "ui_playercard_277",
		isTemporary = false
	}
	f16_arg0._flags.SWE = {
		material = "ui_playercard_278",
		isTemporary = false
	}
	f16_arg0._flags.ESP = {
		material = "ui_playercard_279",
		isTemporary = false
	}
	f16_arg0._flags.SVK = {
		material = "ui_playercard_280",
		isTemporary = false
	}
	f16_arg0._flags.RUS = {
		material = "ui_playercard_281",
		isTemporary = false
	}
	f16_arg0._flags.PRT = {
		material = "ui_playercard_282",
		isTemporary = false
	}
	f16_arg0._flags.NLD = {
		material = "ui_playercard_283",
		isTemporary = false
	}
	f16_arg0._flags.JPN = {
		material = "ui_playercard_284",
		isTemporary = false
	}
	f16_arg0._flags.ITA = {
		material = "ui_playercard_285",
		isTemporary = false
	}
	f16_arg0._flags.IRL = {
		material = "ui_playercard_286",
		isTemporary = false
	}
	f16_arg0._flags.GBR = {
		material = "ui_playercard_287",
		isTemporary = false
	}
	f16_arg0._flags.DEU = {
		material = "ui_playercard_288",
		isTemporary = false
	}
	f16_arg0._flags.FRA = {
		material = "ui_playercard_289",
		isTemporary = false
	}
	f16_arg0._flags.COL = {
		material = "ui_playercard_291",
		isTemporary = false
	}
	f16_arg0._flags.CHN = {
		material = "ui_playercard_292",
		isTemporary = false
	}
	f16_arg0._flags.CAN = {
		material = "ui_playercard_293",
		isTemporary = false
	}
	f16_arg0._flags.BRA = {
		material = "ui_playercard_294",
		isTemporary = false
	}
	f16_arg0._flags.AUS = {
		material = "ui_playercard_295",
		isTemporary = false
	}
	f16_arg0._flags.ARG = {
		material = "ui_playercard_296",
		isTemporary = false
	}
	f16_arg0._flags.ALB = {
		material = "ui_playercard_926",
		isTemporary = false
	}
	f16_arg0._flags.ARM = {
		material = "ui_playercard_927",
		isTemporary = false
	}
	f16_arg0._flags.AUT = {
		material = "ui_playercard_928",
		isTemporary = false
	}
	f16_arg0._flags.BEL = {
		material = "ui_playercard_929",
		isTemporary = false
	}
	f16_arg0._flags.CHL = {
		material = "ui_playercard_930",
		isTemporary = false
	}
	f16_arg0._flags.CZE = {
		material = "ui_playercard_931",
		isTemporary = false
	}
	f16_arg0._flags.DNK = {
		material = "ui_playercard_932",
		isTemporary = false
	}
	f16_arg0._flags.FIN = {
		material = "ui_playercard_933",
		isTemporary = false
	}
	f16_arg0._flags.IND = {
		material = "ui_playercard_934",
		isTemporary = false
	}
	f16_arg0._flags.LVA = {
		material = "ui_playercard_935",
		isTemporary = false
	}
	f16_arg0._flags.NZL = {
		material = "ui_playercard_936",
		isTemporary = false
	}
	f16_arg0._flags.NOR = {
		material = "ui_playercard_937",
		isTemporary = false
	}
	f16_arg0._flags.PAK = {
		material = "ui_playercard_938",
		isTemporary = false
	}
	f16_arg0._flags.PER = {
		material = "ui_playercard_939",
		isTemporary = false
	}
	f16_arg0._flags.POL = {
		material = "ui_playercard_940",
		isTemporary = false
	}
	f16_arg0._flags.KOR = {
		material = "ui_playercard_942",
		isTemporary = false
	}
	f16_arg0._flags.VEN = {
		material = "ui_playercard_943",
		isTemporary = false
	}
	f16_arg0._flags.VNM = {
		material = "ui_playercard_944",
		isTemporary = false
	}
	f16_arg0._flags.MKD = {
		material = "ui_playercard_986",
		isTemporary = false
	}
	f16_arg0._flags.CRI = {
		material = "ui_playercard_1264",
		isTemporary = false
	}
	f16_arg0._flags.ECU = {
		material = "ui_playercard_1265",
		isTemporary = false
	}
	f16_arg0._flags.GRC = {
		material = "ui_playercard_1266",
		isTemporary = false
	}
	f16_arg0._flags.HUN = {
		material = "ui_playercard_1267",
		isTemporary = false
	}
	f16_arg0._flags.KWT = {
		material = "ui_playercard_1268",
		isTemporary = false
	}
	f16_arg0._flags.PHL = {
		material = "ui_playercard_1269",
		isTemporary = false
	}
	f16_arg0._flags.ROU = {
		material = "ui_playercard_1270",
		isTemporary = false
	}
	f16_arg0._flags.SGP = {
		material = "ui_playercard_1271",
		isTemporary = false
	}
	f16_arg0._flags.THA = {
		material = "ui_playercard_1272",
		isTemporary = false
	}
	f16_arg0._flags.TUR = {
		material = "ui_playercard_1273",
		isTemporary = false
	}
end

local f0_local8 = function ( f15_arg0, f15_arg1 )
	local f15_local0 = nil
	local f15_local1 = f15_arg0._flags[f15_arg1]
	if f15_local1 and (not f15_local1.isTemporary or Engine.BHICADFIHA()) then
		f15_local0 = RegisterMaterial( f15_local1.material )
	end
	local f15_local2
	if not f15_local0 then
		f15_local2 = f15_local0
	else
		f15_local2 = f15_arg0._defaultFlag
	end
	return f15_local2
end

local f0_local9 = function ( f14_arg0, f14_arg1 )
	local f14_local0 = f14_arg0._flags[f14_arg1]
	if f14_local0 then
		f14_local0 = f14_arg0._flags[f14_arg1].isTemporary
	end
	return f14_local0
end

local f0_local10 = function ( f13_arg0 )
	if 3 < f13_arg0 then
		return Engine.CBBHFCGDIC( "LUA_MENU/" .. f13_arg0 .. "TH" )
	else
		return Engine.CBBHFCGDIC( f0_local0[f13_arg0] )
	end
end

local f0_local11 = function ( f12_arg0 )
	local f12_local0 = nil
	if f0_local0 < f12_arg0 then
		f12_local0 = f0_local0
	elseif f12_arg0 == f0_local0 then
		f12_local0 = f0_local0 + f0_local0
	else
		f12_local0 = f0_local0
	end
	return f12_local0
end

local f0_local12 = function ( f7_arg0, f7_arg1, f7_arg2 )
	f0_local0( f7_arg0 )
	local f7_local0 = function ( f11_arg0 )
		local f11_local0 = Dvar.DHEEJCCJBH( "lui_trial_event_leaders_" .. f7_arg0.trialIndex )
		if f11_local0 and #f11_local0 <= 1 then
			f11_local0 = nil
		end
		if f11_local0 then
			return split( f11_local0, "_" )
		else
			return nil
		end
	end
	
	f7_arg0.Title:setText( Engine.CBBHFCGDIC( "TRIALEVENT/LEADERBOARD_TITLE" ), ToUpperCase( Engine.CBBHFCGDIC( f7_arg2.trialTitle ) ) )
	if f7_local0( f7_arg2.trialIndex ) == nil then
		ACTIONS.AnimateSequence( f7_arg0, "NoData" )
	end
	f7_arg0.Grid:SetRefreshChild( function ( f10_arg0, f10_arg1, f10_arg2 )
		f10_arg2 = f10_arg2 + 1
		local f10_local0 = false
		if f7_arg0 then
			local f10_local1 = f7_arg0[f10_arg2]
			if f10_local1 then
				local f10_local2 = split( f10_local1, "," )
				f10_local0 = #f10_local2 == 4
				if f10_local0 then
					f10_local2.material = f7_arg0( f7_arg0, f10_local2[TRIALS.EventDvarColumns.COUNTRY_CODE] )
					f10_arg0:SetupRow( f10_arg2, f10_local2 )
					if Engine.BHICADFIHA() and f7_arg0( f7_arg0, f10_local2[TRIALS.EventDvarColumns.COUNTRY_CODE] ) then
						f10_arg0:SetAsDebugFlag()
					end
				end
			end
		end
		if f7_arg0 < f10_arg2 then
			f10_arg0:SetAsSmall()
		end
		if not f10_local0 then
			f10_arg0:SetWithoutData( f10_arg2 )
		end
		f10_arg0:SetHeight( f7_arg0( f10_arg2 ) )
		if 0 < f10_arg2 and f10_arg2 <= 3 then
			ACTIONS.AnimateSequence( f10_arg0, f7_arg0[f10_arg2] )
		end
		f10_arg0:SetPositionField( f7_arg0( f10_arg2 ) )
	end )
	f7_arg0.Grid:SetMeasureRowFunction( function ( f9_arg0 )
		return f7_arg0( f9_arg0 + 1 )
	end )
	f7_arg0.Grid:SetNumChildren( 15 )
	f7_arg0.Grid:RefreshContent()
	f7_arg0.bindButton:addEventHandler( "button_secondary", function ( f8_arg0, f8_arg1 )
		if not f7_arg0._preventLeavingMenu then
			LUI.FlowManager.RequestLeaveMenu( f7_arg0, true, true )
		end
	end )
	LAYOUT.AddAspectRatioFadeFrame( f7_arg0, f7_arg1 )
	ACTIONS.ScaleStretchAnchorFullscreen( f7_arg0.NoDataBG )
	ACTIONS.ScaleFullscreen( f7_arg0.Background )
	ACTIONS.ScaleFullscreen( f7_arg0.Blur )
	f7_arg0:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
end

function TrialEventLeaderboard( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "TrialEventLeaderboard"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local Blur = nil
	
	Blur = LUI.UIBlur.new()
	Blur.id = "Blur"
	Blur:SetBlurStrength( 0.75, 0 )
	self:addElement( Blur )
	self.Blur = Blur
	
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Background:SetAlpha( 0.9, 0 )
	self:addElement( Background )
	self.Background = Background
	
	local PopupWindow = nil
	
	PopupWindow = MenuBuilder.BuildRegisteredType( "GenericPopupWindow", {
		controllerIndex = f1_local1
	} )
	PopupWindow.id = "PopupWindow"
	PopupWindow:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -855, _1080p * 855, _1080p * 79, _1080p * 979 )
	self:addElement( PopupWindow )
	self.PopupWindow = PopupWindow
	
	local Title = nil
	
	Title = LUI.UIText.new()
	Title.id = "Title"
	Title:SetRGBFromTable( SWATCHES.genericMenu.title, 0 )
	Title:setText( Engine.CBBHFCGDIC( "TRIALEVENT/LEADERBOARD_TITLE" ), 0 )
	Title:SetFont( FONTS.GetFont( FONTS.MainLight.File ) )
	Title:SetAlignment( LUI.Alignment.Center )
	Title:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 88, _1080p * 148 )
	self:addElement( Title )
	self.Title = Title
	
	local Description = nil
	
	Description = LUI.UIText.new()
	Description.id = "Description"
	Description:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	Description:setText( Engine.CBBHFCGDIC( "TRIALEVENT/LEADERBOARD_DESCRIPTION" ), 0 )
	Description:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	Description:SetAlignment( LUI.Alignment.Center )
	Description:SetVerticalAlignment( LUI.Alignment.Center )
	Description:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 400, _1080p * -400, _1080p * 185, _1080p * 213 )
	self:addElement( Description )
	self.Description = Description
	
	local ButtonHelperBar = nil
	
	ButtonHelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	ButtonHelperBar.id = "ButtonHelperBar"
	ButtonHelperBar.Background:SetAlpha( 0.2, 0 )
	ButtonHelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, _1080p * 2 )
	self:addElement( ButtonHelperBar )
	self.ButtonHelperBar = ButtonHelperBar
	
	local Grid = nil
	
	Grid = LUI.UIGrid.new( {
		scrollingThresholdX = 1,
		maxVisibleRows = 15,
		maxVelocity = 5000,
		adjustSizeToContent = false,
		scrollingThresholdY = 1,
		wrapX = false,
		maxVisibleColumns = 1,
		wrapY = false,
		arrowsVerticalOffset = 0,
		buildArrowsLabel = false,
		springCoefficient = 400,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "TrialEventLeaderboardLine", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f5_arg0, f5_arg1, f5_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.vertical,
		spacingX = _1080p * 4,
		spacingY = _1080p * 4,
		columnWidth = _1080p * 1120,
		rowHeight = _1080p * 46,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	Grid.id = "Grid"
	Grid:setUseStencil( true )
	Grid:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -560, _1080p * 560, _1080p * 333, _1080p * 927 )
	self:addElement( Grid )
	self.Grid = Grid
	
	local NoDataBG = nil
	
	NoDataBG = LUI.UIImage.new()
	NoDataBG.id = "NoDataBG"
	NoDataBG:SetRGBFromInt( 0, 0 )
	NoDataBG:SetAlpha( 0, 0 )
	NoDataBG:SetAnchorsAndPosition( 0, 0, 0.5, 0.5, 0, 0, _1080p * -90, _1080p * 90 )
	self:addElement( NoDataBG )
	self.NoDataBG = NoDataBG
	
	local NoDataLabel = nil
	
	NoDataLabel = LUI.UIText.new()
	NoDataLabel.id = "NoDataLabel"
	NoDataLabel:SetRGBFromTable( SWATCHES.genericMenu.default, 0 )
	NoDataLabel:SetAlpha( 0, 0 )
	NoDataLabel:setText( Engine.CBBHFCGDIC( "TRIALEVENT/LEADERBOARD_NO_DATA" ), 0 )
	NoDataLabel:SetFont( FONTS.GetFont( FONTS.MainLight.File ) )
	NoDataLabel:SetAlignment( LUI.Alignment.Center )
	NoDataLabel:SetVerticalAlignment( LUI.Alignment.Center )
	NoDataLabel:SetAnchorsAndPosition( 0, 0, 0.5, 0.5, 0, 0, _1080p * -30, _1080p * 30 )
	self:addElement( NoDataLabel )
	self.NoDataLabel = NoDataLabel
	
	local RankColumn = nil
	
	RankColumn = LUI.UIText.new()
	RankColumn.id = "RankColumn"
	RankColumn:SetRGBFromTable( SWATCHES.genericMenu.mainTitle, 0 )
	RankColumn:setText( Engine.CBBHFCGDIC( "PLATFORM/RANK" ), 0 )
	RankColumn:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	RankColumn:SetAlignment( LUI.Alignment.Left )
	RankColumn:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 417, _1080p * 529, _1080p * 295, _1080p * 325 )
	self:addElement( RankColumn )
	self.RankColumn = RankColumn
	
	local RegionColumn = nil
	
	RegionColumn = LUI.UIText.new()
	RegionColumn.id = "RegionColumn"
	RegionColumn:SetRGBFromTable( SWATCHES.genericMenu.mainTitle, 0 )
	RegionColumn:setText( Engine.CBBHFCGDIC( "TRIALEVENT/LEADERBOARD_COL_REGION" ), 0 )
	RegionColumn:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	RegionColumn:SetAlignment( LUI.Alignment.Center )
	RegionColumn:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 734, _1080p * 930, _1080p * 295, _1080p * 325 )
	self:addElement( RegionColumn )
	self.RegionColumn = RegionColumn
	
	local TotalColumn = nil
	
	TotalColumn = LUI.UIText.new()
	TotalColumn.id = "TotalColumn"
	TotalColumn:SetRGBFromTable( SWATCHES.genericMenu.mainTitle, 0 )
	TotalColumn:setText( Engine.CBBHFCGDIC( "TRIALEVENT/LEADERBOARD_COL_TOTAL" ), 0 )
	TotalColumn:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	TotalColumn:SetAlignment( LUI.Alignment.Center )
	TotalColumn:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1359, _1080p * 1519, _1080p * 295, _1080p * 325 )
	self:addElement( TotalColumn )
	self.TotalColumn = TotalColumn
	
	local GoldColumn = nil
	
	GoldColumn = LUI.UIImage.new()
	GoldColumn.id = "GoldColumn"
	GoldColumn:setImage( RegisterMaterial( "trial_medal_gold_sm" ), 0 )
	GoldColumn:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 997, _1080p * 1029, _1080p * 293, _1080p * 325 )
	self:addElement( GoldColumn )
	self.GoldColumn = GoldColumn
	
	local SilverColumn = nil
	
	SilverColumn = LUI.UIImage.new()
	SilverColumn.id = "SilverColumn"
	SilverColumn:setImage( RegisterMaterial( "trial_medal_silver_sm" ), 0 )
	SilverColumn:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1139, _1080p * 1171, _1080p * 293, _1080p * 325 )
	self:addElement( SilverColumn )
	self.SilverColumn = SilverColumn
	
	local BronzeColumn = nil
	
	BronzeColumn = LUI.UIImage.new()
	BronzeColumn.id = "BronzeColumn"
	BronzeColumn:setImage( RegisterMaterial( "trial_medal_bronze_sm" ), 0 )
	BronzeColumn:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1281, _1080p * 1313, _1080p * 293, _1080p * 325 )
	self:addElement( BronzeColumn )
	self.BronzeColumn = BronzeColumn
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local18 = nil
	NoDataBG:RegisterAnimationSequence( "NoData", {
		{
			value = -2.353438279577766E-185,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	NoDataLabel:RegisterAnimationSequence( "NoData", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.NoData = function ()
		menu:AnimateSequence( "NoData" )
		menu:AnimateSequence( "NoData" )
	end
	
	self.addButtonHelperFunction = function ( f2_arg0, f2_arg1 )
		f2_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU/BACK" )
		} )
	end
	
	self:addEventHandler( "menu_create", self.addButtonHelperFunction )
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "selfBindButton"
	self:addElement( bindButton )
	self.bindButton = bindButton
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "TrialEventLeaderboard", TrialEventLeaderboard )
LockTable( _M )
