-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
LUI.WebViewManager = LUI.Class( LUI.UIElement )
LUI.WebViewManager.USAGE_FULLSCREEN = 0
LUI.WebViewManager.USAGE_MOTD = 1
LUI.WebViewManager.ButtonMap = {
	alt2 = 8,
	start = 15,
	alt1 = 7,
	right_stick = 14,
	secondary = 6,
	select = 16,
	left = 1,
	left_trigger = 11,
	left_stick = 13,
	up = 3,
	shoulderl = 9,
	down = 4,
	right_trigger = 12,
	primary = 5,
	shoulderr = 10,
	right = 2
}
LUI.WebViewManager.EnhancedButtonMap = {
	alt2 = 8,
	rs_up = 3,
	rs_right = 2,
	right_stick = 14,
	shoulderr = 10,
	select = 16,
	start = 15,
	left_stick = 13,
	up = 3,
	rs_left = 1,
	left_trigger = 11,
	shoulderl = 9,
	rs_down = 4,
	alt1 = 7,
	secondary = 6,
	left = 1,
	down = 4,
	right_trigger = 12,
	primary = 5,
	right = 2
}
LUI.WebViewManager.NavigationButtonIndexBegin = LUI.WebViewManager.ButtonMap.left
LUI.WebViewManager.NavigationButtonIndexEnd = LUI.WebViewManager.ButtonMap.down
LUI.WebViewManager.LStickAnalogDirectionButtonIdBase = 1000
LUI.WebViewManager.RStickAnalogDirectionButtonIdBase = 1100
LUI.WebViewManager.ButtonEventTypePressed = 1
LUI.WebViewManager.ButtonEventTypeReleased = 0
LUI.WebViewManager.Instance = function ()
	return LUI.WebViewManager.GetLayer()
end

LUI.WebViewManager.GetLayer = function ()
	local f68_local0 = Engine[0xEE6F69FEA944B13]()
	return f68_local0.webviewManager
end

LUI.WebViewManager.TelescopeEnabled = function ()
	if Engine[0x2DA54CF5D6B7F02]() then
		local f67_local0 = Dvar[0x22EAAB59AA27E9B]( "#x3f926f56f989cb9dd" )
		if f67_local0 == 1 then
			return true
		elseif f67_local0 == 2 then
			return false
		end
	end
	return Dvar[0x9E5BE3B4BBA4E0E]( "#x3c3d61f3d55ffaa56" )
end

LUI.WebViewManager.MotdEnabled = function ()
	local f66_local0 = LUI.WebViewManager.TelescopeEnabled()
	if f66_local0 then
		f66_local0 = Dvar[0x9E5BE3B4BBA4E0E]( "#x3f6ecfa0a43dfeb93" )
	end
	return f66_local0
end

LUI.WebViewManager.CdlEnabled = function ()
	local f65_local0 = LUI.WebViewManager.TelescopeEnabled()
	if f65_local0 then
		f65_local0 = Dvar[0x9E5BE3B4BBA4E0E]( "#x3b528326dc76c5a6c" )
	end
	return f65_local0
end

LUI.WebViewManager.GetUsage = function ( f64_arg0 )
	return f64_arg0.options.usage
end

LUI.WebViewManager.GetContext = function ( f63_arg0 )
	if f63_arg0 == LUI.WebViewManager.USAGE_MOTD then
		if Engine[0xD151EC5B41223B5]() then
			return "motd_mp_lobby"
		elseif Engine[0xCA085C21FCBD7CA]() then
			return "motd_zm_lobby"
		end
	end
	return nil
end

LUI.WebViewManager.SetFetchingStore = function ( f62_arg0 )
	DataModel[0x83C9B5DE1D9371]( DataModel[0x40E824FE270E174]( DataModel[0x8DF2E5447F384B9](), "telescope.fetchingstore" ), f62_arg0 )
end

LUI.WebViewManager.ShouldBeVisible = function ( f61_arg0 )
	return true
end

LUI.WebViewManager.TrapsInput = function ( f60_arg0 )
	return false
end

LUI.WebViewManager.InitLayer = function ( f59_arg0 )
	
end

LUI.WebViewManager.ClearLayer = function ( f58_arg0, f58_arg1 )
	f58_arg0.closeChildren()
end

LUI.WebViewManager.Reset = function ( f57_arg0 )
	f57_arg0._isSystemReady = nil
	f57_arg0._usageBeingOpened = nil
end

LUI.WebViewManager.ResetLoadComplete = function ( f56_arg0 )
	local f56_local0 = LUI.DataSourceInGlobalModel.new( "telescope.loadcomplete" )
	DataModel[0x83C9B5DE1D9371]( f56_local0:GetModel(), false )
end

LUI.WebViewManager.SetPendingOpen = function ( f55_arg0, f55_arg1, f55_arg2, f55_arg3 )
	if f55_arg1 == nil then
		f55_arg0._pendingOpen = nil
	else
		f55_arg0._pendingOpen = {
			usage = f55_arg1,
			width = f55_arg2,
			height = f55_arg3
		}
	end
end

LUI.WebViewManager.SystemIsReady = function ( f54_arg0 )
	return f54_arg0._isSystemReady
end

LUI.WebViewManager.ReadyStateChanged = function ( f53_arg0, f53_arg1 )
	f53_arg0._isSystemReady = DataModel[0x614D394F6F9A18D]( f53_arg1 )
	if f53_arg0._isSystemReady then
		local f53_local0 = f53_arg0._pendingOpen
		if f53_local0 then
			f53_arg0:Open( f53_local0.usage, f53_local0.width, f53_local0.height )
		end
	else
		f53_arg0:Reset()
		local f53_local0 = f53_arg0._reservedMotdConfig
		if f53_local0 then
			f53_arg0:SetPendingOpen( f53_local0.usage, f53_local0.width, f53_local0.height )
		end
	end
end

LUI.WebViewManager.FullScreenChanged = function ( f52_arg0, f52_arg1 )
	local f52_local0 = DataModel[0x614D394F6F9A18D]( f52_arg1 )
	local f52_local1 = DebugPrint
	local f52_local2 = "LUI::WebViewManager::FullScreenChanged isFullscreen = "
	local f52_local3
	if f52_local0 then
		f52_local3 = "True"
	else
		f52_local3 = "False"
	end
	f52_local1( f52_local2 .. f52_local3 )
	if f52_local0 == f52_arg0:IsFullScreenOpened() then
		return 
	elseif f52_local0 then
		f52_arg0:RequestOpenFullScreen( nil, false )
	else
		f52_arg0:RequestCloseFullScreen( false )
	end
end

LUI.WebViewManager.LoadCompleteChanged = function ( f51_arg0, f51_arg1 )
	f51_arg0._isLoadComplete = DataModel[0x614D394F6F9A18D]( f51_arg1 )
end

LUI.WebViewManager.ReserveMotdConfig = function ( f50_arg0, f50_arg1, f50_arg2, f50_arg3 )
	f50_arg0._reservedMotdConfig = {
		usage = f50_arg1,
		width = f50_arg2,
		height = f50_arg3
	}
end

LUI.WebViewManager.CanInteract = function ( f49_arg0 )
	return f49_arg0._isLoadComplete
end

LUI.WebViewManager.UpdateInputDevice = function ( f48_arg0 )
	if f48_arg0._usageBeingOpened ~= nil then
		WebViewUpdateInputType( f48_arg0._usageBeingOpened )
	end
end

LUI.WebViewManager.init = function ( f47_arg0, f47_arg1 )
	LUI.UIElement.init( f47_arg0 )
	f47_arg0.id = "WebViewManager"
end

LUI.WebViewManager.PostInit = function ( f40_arg0 )
	f40_arg0._isLoadComplete = false
	f40_arg0._isSystemReady = false
	f40_arg0._usageBeingOpen = nil
	f40_arg0._pendingOpen = nil
	f40_arg0._context = nil
	f40_arg0._reservedMotdConfig = nil
	local f40_local0 = nil
	f40_local0 = LUI.DataSourceInGlobalModel.new( "telescope.ready" )
	f40_arg0:SubscribeToModel( f40_local0:GetModel( 0 ), function ( f46_arg0 )
		f40_arg0:ReadyStateChanged( f46_arg0 )
	end )
	f40_local0 = LUI.DataSourceInGlobalModel.new( "telescope.fullscreen" )
	f40_arg0:SubscribeToModel( f40_local0:GetModel( 0 ), function ( f45_arg0 )
		f40_arg0:FullScreenChanged( f45_arg0 )
	end )
	f40_local0 = LUI.DataSourceInGlobalModel.new( "telescope.loadcomplete" )
	f40_arg0:SubscribeToModel( f40_local0:GetModel( 0 ), function ( f44_arg0 )
		f40_arg0:LoadCompleteChanged( f44_arg0 )
	end )
	f40_arg0:registerEventHandler( "webview_navigate_menu", function ( element, event )
		f40_arg0:NavigateMenu( event.jumpType, event.jumpIntArg, event.jumpStrArg )
	end )
	f40_arg0:registerEventHandler( "update_input_type", function ( element, event )
		element:UpdateInputDevice()
	end )
	f40_arg0:registerEventHandler( "input_connection", function ( element, event )
		element:UpdateInputDevice()
	end )
end

LUI.WebViewManager.Setup = function ( f39_arg0, f39_arg1 )
	SetupWebView( f39_arg1 )
end

LUI.WebViewManager.OpenByElement = function ( f38_arg0, f38_arg1 )
	f38_arg0:Open( LUI.WebViewManager.GetUsage( f38_arg1 ), f38_arg1:GetSize() )
end

LUI.WebViewManager.CloseByElement = function ( f37_arg0, f37_arg1 )
	f37_arg0:Close( LUI.WebViewManager.GetUsage( f37_arg1 ) )
end

LUI.WebViewManager.OpenCdl = function ( f36_arg0 )
	if not f36_arg0:SystemIsReady() then
		return 
	elseif not LUI.WebViewManager.CdlEnabled() then
		return 
	else
		LUI.FlowManager.RequestAddMenu( "FullScreenWebView", true, Engine[0x45B054C920178E9](), false, nil, false, true )
		f36_arg0:Open( LUI.WebViewManager.USAGE_FULLSCREEN, 1920, 1080, "cdl" )
	end
end

LUI.WebViewManager.OpenOperatorIntroVideo = function ( f35_arg0, f35_arg1 )
	if not f35_arg1 then
		return 
	elseif not f35_arg0:SystemIsReady() then
		return 
	else
		Dvar[0xE3CB005036E0C0F]( "#x3b9d0a8992d630cc3", f35_arg1 )
		LUI.FlowManager.RequestAddMenu( "FullScreenWebView", true, Engine[0x45B054C920178E9](), false, {
			disableChat = true
		}, false, true )
		f35_arg0:Open( LUI.WebViewManager.USAGE_FULLSCREEN, 1920, 1080, "operator_intro", f35_arg1 )
	end
end

LUI.WebViewManager.Open = function ( f34_arg0, f34_arg1, f34_arg2, f34_arg3, f34_arg4 )
	local f34_local0 = false
	local f34_local1
	if not f34_arg4 then
		f34_local1 = f34_arg4
	else
		f34_local1 = LUI.WebViewManager.GetContext( f34_arg1 )
	end
	if f34_arg0._usageBeingOpened ~= f34_arg1 then
		f34_local0 = true
	end
	if f34_local1 ~= nil and f34_arg0._context ~= f34_local1 then
		f34_arg0._context = f34_local1
		f34_local0 = true
	end
	if not f34_local0 then
		return 
	elseif f34_arg0:SystemIsReady() then
		f34_arg0:ResetLoadComplete()
		OpenWebView( f34_arg1, f34_arg2, f34_arg3, f34_arg0._context )
		f34_arg0._usageBeingOpened = f34_arg1
		if f34_arg1 == LUI.WebViewManager.USAGE_MOTD then
			f34_arg0:ReserveMotdConfig( f34_arg1, f34_arg2, f34_arg3 )
		end
	else
		f34_arg0:SetPendingOpen( f34_arg1, f34_arg2, f34_arg3 )
	end
end

LUI.WebViewManager.Close = function ( f33_arg0, f33_arg1 )
	local f33_local0 = f33_arg0._pendingOpen
	if f33_local0 and f33_local0.usage == f33_arg1 then
		f33_arg0:SetPendingOpen( nil )
	end
end

LUI.WebViewManager.GainFocus = function ( f32_arg0, f32_arg1 )
	if f32_arg1._isActiveWebview then
		return 
	else
		f32_arg1._isActiveWebview = true
		GainFocusWebView( LUI.WebViewManager.GetUsage( f32_arg1 ), f32_arg1.m_mouseOver == true )
	end
end

LUI.WebViewManager.LoseFocus = function ( f31_arg0, f31_arg1 )
	f31_arg1._isActiveWebview = false
	f31_arg1.m_mouseOver = nil
	LoseFocusWebView( LUI.WebViewManager.GetUsage( f31_arg1 ) )
	f31_arg0._buttonReleasedEventEnabledMap = nil
end

LUI.WebViewManager.ButtonPress = function ( f30_arg0, f30_arg1, f30_arg2 )
	if not f30_arg0:CanInteract() then
		return 
	elseif not f30_arg1._isActiveWebview then
		return 
	elseif f30_arg2.down == false then
		return 
	else
		local f30_local0 = LUI.WebViewManager.ButtonMap[f30_arg2.button]
		if f30_local0 == nil then
			return 
		else
			ButtonPressWebView( LUI.WebViewManager.GetUsage( f30_arg1 ), f30_local0 )
		end
	end
end

LUI.WebViewManager.ButtonEvent = function ( f27_arg0, f27_arg1, f27_arg2 )
	local f27_local0 = function ( f29_arg0 )
		local f29_local0
		if f29_arg0 < LUI.WebViewManager.NavigationButtonIndexBegin or f29_arg0 > LUI.WebViewManager.NavigationButtonIndexEnd then
			f29_local0 = false
		else
			f29_local0 = true
		end
		return f29_local0
	end
	
	local f27_local1 = function ( f28_arg0 )
		return string.find( f28_arg0, "rs_", 1 ) ~= nil
	end
	
	if not f27_arg0:CanInteract() then
		return 
	elseif not f27_arg1._isActiveWebview then
		return 
	end
	local f27_local2 = LUI.WebViewManager.EnhancedButtonMap[f27_arg2.button]
	if f27_local2 == nil then
		return 
	end
	local f27_local3 = f27_local2
	if f27_local0( f27_local2 ) and f27_arg2.qualifier ~= "dpad" then
		if f27_local1( f27_arg2.button ) then
			f27_local3 = f27_local3 + LUI.WebViewManager.RStickAnalogDirectionButtonIdBase
		else
			f27_local3 = f27_local3 + LUI.WebViewManager.LStickAnalogDirectionButtonIdBase
		end
	end
	local f27_local4 = LUI.WebViewManager.ButtonEventTypeReleased
	if f27_arg2.down then
		f27_local4 = LUI.WebViewManager.ButtonEventTypePressed
		if f27_arg0._buttonReleasedEventEnabledMap == nil then
			f27_arg0._buttonReleasedEventEnabledMap = {}
		end
		f27_arg0._buttonReleasedEventEnabledMap[f27_local3] = true
	elseif f27_arg0._buttonReleasedEventEnabledMap == nil or not f27_arg0._buttonReleasedEventEnabledMap[f27_local3] then
		return 
	end
	ButtonEventWebView( LUI.WebViewManager.GetUsage( f27_arg1 ), f27_local4, f27_local2, f27_local3 )
end

LUI.WebViewManager.GetMousePositionByEvent = function ( f26_arg0, f26_arg1, f26_arg2, f26_arg3 )
	local f26_local0 = f26_arg2.x
	local f26_local1 = f26_arg2.y
	if f26_arg3 == false then
		f26_local0, f26_local1 = ProjectRootCoordinate( f26_arg2.rootName, f26_local0, f26_local1 )
	end
	local f26_local2, f26_local3 = f26_arg2.root:PixelsToUnits( f26_local0, f26_local1 )
	local f26_local4, f26_local5 = f26_arg1:getCurrentGlobalRect()
	if f26_local4 == nil or f26_local5 == nil then
		return 
	else
		return math.floor( (f26_local2 - f26_local4) / _1080p + 0.5 ), math.floor( (f26_local3 - f26_local5) / _1080p + 0.5 )
	end
end

LUI.WebViewManager.MouseMove = function ( f25_arg0, f25_arg1, f25_arg2 )
	if not f25_arg0:CanInteract() then
		return 
	end
	local f25_local0, f25_local1 = f25_arg0:GetMousePositionByEvent( f25_arg1, f25_arg2, false )
	if f25_local0 ~= nil and f25_local1 ~= nil then
		MouseMoveWebView( f25_arg2.controller, LUI.WebViewManager.GetUsage( f25_arg1 ), f25_local0, f25_local1 )
	end
end

LUI.WebViewManager.MouseAction = function ( f24_arg0, f24_arg1, f24_arg2 )
	if not f24_arg0:CanInteract() then
		return 
	end
	local f24_local0, f24_local1 = f24_arg0:GetMousePositionByEvent( f24_arg1, f24_arg2, false )
	if f24_local0 ~= nil and f24_local1 ~= nil then
		MouseActionWebView( LUI.WebViewManager.GetUsage( f24_arg1 ), f24_local0, f24_local1, f24_arg2.button == "left", f24_arg2.name == "mousedown" )
	end
end

LUI.WebViewManager.MouseWheel = function ( f23_arg0, f23_arg1, f23_arg2 )
	if not f23_arg0:CanInteract() then
		return 
	end
	local f23_local0, f23_local1 = f23_arg0:GetMousePositionByEvent( f23_arg1, f23_arg2, false )
	if f23_local0 ~= nil and f23_local1 ~= nil then
		local f23_local2 = {
			down = 1,
			up = 0,
			left = 2,
			right = 3
		}
		local f23_local3 = f23_local2[f23_arg2.button]
		if f23_local3 == nil then
			return 
		end
		MouseWheelWebView( LUI.WebViewManager.GetUsage( f23_arg1 ), f23_local3, f23_local0, f23_local1 )
	end
end

LUI.WebViewManager.GetFullScreenMenu = function ()
	local f22_local0 = "FullScreenWebView"
	if LUI.FlowManager.IsInStack( f22_local0 ) then
		local f22_local1 = LUI.FlowManager.GetMenuByName( f22_local0 )
		f22_local1 = f22_local1.menu
		if f22_local1 then
			return f22_local1
		end
	end
	return nil
end

LUI.WebViewManager.IsFullScreenOpened = function ( f21_arg0 )
	return f21_arg0:GetFullScreenMenu() ~= nil
end

LUI.WebViewManager.MakeSureFullScreenClosed = function ( f20_arg0 )
	if f20_arg0:IsFullScreenOpened() then
		local f20_local0 = f20_arg0
		local f20_local1 = f20_arg0.RequestCloseFullScreen
		local f20_local2 = f20_arg0:GetFullScreenMenu()
		f20_local1( f20_local0, f20_local2.WebView, true )
	end
end

LUI.WebViewManager.ShouldDelayOpeningFullScreen = function ( f19_arg0 )
	for f19_local3, f19_local4 in ipairs( {
		nil,
		"LobbyFtueTutorial",
		"FlyInPopup"
	} ) do
		if CONDITIONS.IsMenuInStack( f19_local4 ) then
			return true
		end
	end
	return false
end

LUI.WebViewManager.RequestOpenFullScreen = function ( f17_arg0, f17_arg1, f17_arg2 )
	if f17_arg2 and not f17_arg0:CanInteract() then
		
	else
		
	end
	if f17_arg0:ShouldDelayOpeningFullScreen() then
		local f17_local0 = f17_arg0:Wait( 500 )
		f17_local0.onComplete = function ()
			f17_arg0:RequestOpenFullScreen( f17_arg0, f17_arg0 )
		end
		
		return 
	end
	LUI.FlowManager.RequestAddMenu( "FullScreenWebView", true, Engine[0x45B054C920178E9](), false, nil, false, true )
	if f17_arg2 and f17_arg1 then
		RequestOpenBigView( LUI.WebViewManager.GetUsage( f17_arg1 ) )
	end
end

LUI.WebViewManager.TryToClearMenuSavedStateByName = function ( f16_arg0, f16_arg1 )
	local f16_local0 = LUI.FlowManager.GetMenuByName( f16_arg1 )
	if f16_local0 and f16_local0.menu then
		f16_local0.menu:clearSavedState()
	end
end

LUI.WebViewManager.SetupSmallView = function ( f15_arg0, f15_arg1, f15_arg2 )
	if f15_arg0._context == "cdl" or f15_arg0._context == "operator_intro" then
		local f15_local0 = f15_arg0._reservedMotdConfig
		if f15_local0 then
			f15_arg0:Open( f15_local0.usage, f15_local0.width, f15_local0.height )
		else
			f15_arg0._context = nil
		end
	elseif (f15_arg0._context == "motd_mp_lobby" or f15_arg0._context == "motd_zm_lobby") and f15_arg1 then
		RequestCloseBigView( f15_arg2 )
	end
end

LUI.WebViewManager.RequestCloseFullScreen = function ( f14_arg0, f14_arg1 )
	if not f14_arg0:IsFullScreenOpened() then
		return 
	else
		f14_arg0:TryToClearMenuSavedStateByName( "MPMainMenu" )
		f14_arg0:TryToClearMenuSavedStateByName( "CPMainMenu" )
		f14_arg0._requestCloseFullscreen = true
		local f14_local0 = LUI.WebViewManager.GetUsage
		local f14_local1 = f14_arg0:GetFullScreenMenu()
		f14_local0 = f14_local0( f14_local1.WebView )
		LUI.FlowManager.RequestLeaveMenuByName( "FullScreenWebView", true, true )
		f14_arg0:SetupSmallView( f14_arg1, f14_local0 )
	end
end

LUI.WebViewManager.OnCloseFullScreenWindow = function ( f13_arg0, f13_arg1 )
	local f13_local0 = DebugPrint
	local f13_local1 = "LUI::WebViewManager::OnCloseFullScreenWindow _requestCloseFullscreen = "
	local f13_local2
	if f13_arg0._requestCloseFullscreen then
		f13_local2 = "True"
	else
		f13_local2 = "False"
	end
	f13_local0( f13_local1 .. f13_local2 )
	if not f13_arg0._requestCloseFullscreen and f13_arg1.WebView then
		f13_arg0:SetupSmallView( true, LUI.WebViewManager.GetUsage( f13_arg1.WebView ) )
	end
	f13_arg0._requestCloseFullscreen = false
end

LUI.WebViewManager.NavigateEnum = {
	goto_franchise_store = 0,
	operators = 2,
	redeem = 17,
	goto_url = 9,
	battlepass_tier_gift = 18,
	tournaments = 14,
	barracks = 3,
	trials = 13,
	armory = 12,
	store_item = 5,
	loadouts = 1,
	cdl = 7,
	store = 10,
	battlepass = 8,
	register = 16,
	social = 11,
	challenges = 4,
	cdl_web = 6
}
local f0_local0 = function ()
	local f12_local0 = {
		nil,
		"MPMainMenu",
		"BRMainMenu",
		"CPMainMenu",
		"MPPublicLobby",
		"BRPublicLobby",
		"CPPublicMatchMenu",
		"PrivateMatchLobby"
	}
	for f12_local1 = 1, #f12_local0, 1 do
		local f12_local4 = f12_local0[f12_local1]
		if LUI.FlowManager.IsInStack( f12_local4 ) then
			return LUI.FlowManager.GetMenuByName( f12_local4 )
		end
	end
end

local f0_local1 = function ( f11_arg0, f11_arg1 )
	f11_arg0[CRM.keys.STORE_ITEM] = f11_arg1
end

local f0_local2 = function ( f10_arg0, f10_arg1 )
	f10_arg0[CRM.keys.STORE_ITEM] = f10_arg1
end

local f0_local3 = function ( f9_arg0, f9_arg1 )
	f9_arg0[CRM.keys.STORE_ITEM] = f9_arg1
end

local f0_local4 = function ( f8_arg0, f8_arg1 )
	f8_arg0[CRM.keys.ACTION_LOCATION] = f8_arg1
end

local f0_local5 = function ( f7_arg0, f7_arg1 )
	f7_arg0[CRM.keys.STORE_ITEM] = f7_arg1
end

local f0_local6 = function ( f6_arg0 )
	for f6_local3, f6_local4 in pairs( LUI.WebViewManager.NavigateEnum ) do
		if f6_local4 == f6_arg0 then
			return f6_local3
		end
	end
end

local f0_local7 = function ( f5_arg0 )
	local f5_local0 = CRM.LocationFunctions[f5_arg0]
	if not f5_local0 then
		f5_local0 = CRM.actionFunctions[f5_arg0]
	end
	return f5_local0
end

local f0_local8 = function ( f4_arg0 )
	local f4_local0 = {}
	local f4_local1 = {}
	f4_local0[CRM.keys.LOCATION_ID] = 0
	f4_local0[CRM.keys.MESSAGE_ID] = 0
	f4_local0[CRM.keys.MESSAGE_INDEX] = 0
	f4_local1.controller = f4_arg0
	return f4_local0, f4_local1
end

local f0_local9 = {
	store_item = f0_local2,
	battlepass_tier_gift = f0_local5
}
local f0_local10 = {
	store = f0_local1,
	goto_url = f0_local4,
	goto_franchise_store = f0_local3
}
LUI.WebViewManager.NavigateMenu = function ( f1_arg0, f1_arg1, f1_arg2, f1_arg3 )
	if f1_arg0._refreshTimer ~= nil then
		
	else
		
	end
	local f1_local0 = f0_local0( f1_arg1 )
	if f1_arg1 == LUI.WebViewManager.NavigateEnum.cdl_web then
		f1_local0 = "goto_url"
		f1_arg3 = Dvar[0x54084D7CA2317BB]( "#x3f23636a6d75c14f0" )
	end
	local f1_local1 = Engine[0x45B054C920178E9]()
	local f1_local2 = CRM.PrerequisiteFunctions[f1_local0]
	if f1_local2 ~= nil and f1_local2( f1_local1, CRMData ) ~= CRM.PrerequisiteStatus.READY then
		local f1_local3 = CRM.PrerequisiteActionFunctions[f1_local0]
		if f1_local3 ~= nil then
			f1_local3( f1_local1, CRMData )
		end
	end
	if f1_arg1 == LUI.WebViewManager.NavigateEnum.goto_franchise_store or f1_arg1 == LUI.WebViewManager.NavigateEnum.store_item then
		LUI.WebViewManager.SetFetchingStore( true )
	end
	local _refreshTimer = LUI.UITimer.new( {
		interval = -28,
		event = {
			name = "refresh_timer",
			controllerIndex = controllerIndex
		}
	} )
	_refreshTimer.id = "refreshTimer"
	f1_arg0:addElement( _refreshTimer )
	f1_arg0._refreshTimer = _refreshTimer
	
	f1_arg0:registerEventHandler( "refresh_timer", function ( element, event )
		local f2_local0 = function ()
			ACTIONS.AnimateSequence( element, "HideFetching" )
			element._refreshTimer:closeTree()
			element._refreshTimer = nil
		end
		
		local f2_local1 = false
		if not f1_arg0:IsFullScreenOpened() then
			LUI.WebViewManager.SetFetchingStore( false )
			f2_local0()
			return 
		end
		local f2_local2 = CRM.PrerequisiteFunctions[f1_arg0]
		local f2_local3 = CRM.PrerequisiteStatus.PREPARING
		if f2_local2 ~= nil then
			f2_local3 = f2_local2( f1_arg0, CRMData )
		else
			f2_local3 = CRM.PrerequisiteStatus.READY
		end
		if f2_local3 == CRM.PrerequisiteStatus.READY or f2_local3 == CRM.PrerequisiteStatus.ERROR then
			f2_local0()
			LUI.WebViewManager.SetFetchingStore( false )
			if f2_local3 == CRM.PrerequisiteStatus.ERROR then
				return 
			end
			local f2_local4 = f1_arg0( f1_arg0 )
			local f2_local5 = f1_arg0[f1_arg0]
			local f2_local6 = f1_arg0[f1_arg0]
			local f2_local7 = Engine[0x45B054C920178E9]()
			local f2_local8 = f1_arg0()
			local f2_local9, f2_local10 = f1_arg0( f2_local7 )
			local f2_local11 = f1_arg0:GetFullScreenMenu()
			if f1_arg0 == "cdl" then
				f1_arg0:OpenCdl()
				return 
			elseif f2_local11 == nil then
				return 
			elseif f2_local5 then
				f2_local5( f2_local9, f1_arg0 )
			end
			if f2_local6 then
				f2_local6( f2_local9, f1_arg0 )
			end
			if f2_local4 == nil then
				return 
			end
			local f2_local12 = f2_local4( f2_local7, f2_local9 )
			if f2_local12 == nil then
				return 
			end
			local f2_local13 = f2_local12( f2_local11, f2_local10 )
			if f2_local13 ~= nil then
				f2_local13.isMOTD = true
				if not f2_local8 then
					return 
				end
				MAIN_MENU.SetupOnRestoreFocusOption( f2_local13 )
				f1_arg0:RequestCloseFullScreen( true )
			elseif f1_arg0 == LUI.WebViewManager.NavigateEnum.goto_franchise_store then
				f1_arg0:RequestCloseFullScreen( true )
			end
		end
	end )
end

