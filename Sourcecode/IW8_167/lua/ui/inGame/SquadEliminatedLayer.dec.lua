-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
LUI.SquadEliminatedLayer = LUI.Class( LUI.UIElement )
local f0_local0 = {
	Reward = 2,
	Bink = 1,
	AAR = 3,
	None = 0
}
local f0_local1 = 1
local f0_local2 = 1
local f0_local3 = 9000
local f0_local4, f0_local5, f0_local6, f0_local7 = nil
LUI.SquadEliminatedLayer.NO_PLACEMENT_KEY = "NoPlacement"
LUI.SquadEliminatedLayer.FINAL_BLOOD_MONEY_TEAM_RANK_RANGE = 10
LayerStateFlowTable = {
	[f0_local0.Bink] = {
		UpdateFunction = function ( f37_arg0, f37_arg1 )
			f0_local0( f37_arg0, f37_arg1 )
			f0_local0( f37_arg0, f37_arg1 )
		end
	},
	[f0_local0.Reward] = {
		UpdateFunction = function ( f36_arg0, f36_arg1 )
			BuildSquadEliminatedReward( f36_arg0, f36_arg1 )
		end
	},
	[f0_local0.AAR] = {
		UpdateFunction = function ( f35_arg0, f35_arg1 )
			f0_local0( f35_arg0, f35_arg1 )
			f0_local0( f35_arg0, f35_arg1 )
		end
	}
}
function BuildSquadEliminatedReward( f34_arg0, f34_arg1 )
	if f34_arg0._squadEliminated == nil then
		f34_arg0._squadEliminated = MenuBuilder.BuildRegisteredType( "BRRewards", {
			rewardDescription = "LUA_MENU/WZ_TUTORIAL_REWARD_POPUP_HINT2",
			controllerIndex = f34_arg0._controllerIndex,
			lootData = LOOT.GetLootCardData( f34_arg0._controllerIndex, Dvar.CFHDGABACF( "NOMPNRSPRL" ) or 128 )
		}, nil, true, true )
		f34_arg0:addElement( f34_arg0._squadEliminated )
		f34_arg0._squadEliminated:EnableMenuButtons( f34_arg0 )
		if not CONDITIONS.IsGamepadEnabled( f34_arg0 ) then
			LUI.UIRoot.SetLuiLayerKeycatch( f34_arg0, f34_arg0._controllerIndex, true )
			f34_arg0:SetHandleMouse( true )
			f34_arg0:SetMouseFocusBlocker( true )
		end
		LUI.HUD.AllowChatInHUD()
		local f34_local0 = Onboarding.mapEndGameFlowData[Dvar.DHEEJCCJBH( "NSQLTTMRMP" )]
		Onboarding[Onboarding.mapEndGameFlowData[Dvar.DHEEJCCJBH( "NSQLTTMRMP" )].tutorialCompletedID].MarkCompleted( f34_arg0, f34_arg0._controllerIndex )
	end
end

function RemoveSquadEliminatedWidget( f33_arg0, f33_arg1 )
	if f33_arg0._squadEliminated then
		f33_arg0:RemoveElement( f33_arg0._squadEliminated )
		f33_arg0._squadEliminated:closeTree()
		f33_arg0._squadEliminated = nil
	end
end

f0_local5 = function ( f32_arg0, f32_arg1 )
	RemoveSquadEliminatedWidget( f32_arg0, f32_arg1 )
	f32_arg0._squadEliminated = MenuBuilder.BuildRegisteredType( "BRBink", {
		wantsInput = true,
		skipIntro = true,
		controllerIndex = f32_arg0._controllerIndex
	} )
	f32_arg0:addElement( f32_arg0._squadEliminated )
end

f0_local4 = function ( f31_arg0, f31_arg1 )
	RemoveSquadEliminatedWidget( f31_arg0, f31_arg1 )
	if not f31_arg1 or not f31_arg1.endOfGame then
		local f31_local0 = false
	end
	local f31_local0
	if CONDITIONS.IsBloodMoney() or CONDITIONS.IsRiskGametype() or CONDITIONS.IsBRKingSlayer() or CONDITIONS.IsWZPayload() or CONDITIONS.IsWZRumble() or CONDITIONS.IsWZRatRace() then
		f31_local0 = false
	elseif f31_arg0._isWinnerTeam then
		f31_local0 = false
	end
	f31_arg0._squadEliminated = MenuBuilder.BuildRegisteredType( "BrEndGameResults", {
		wantsInput = true,
		skipIntro = true,
		controllerIndex = f31_arg0._controllerIndex,
		animateImmediately = f31_local0,
		isWinnerTeam = f31_arg0._isWinnerTeam
	} )
	f31_arg0:addElement( f31_arg0._squadEliminated )
end

local f0_local8 = function ( f30_arg0 )
	local f30_local0 = Dvar.CFHDGABACF( "use_old_end_game_flow" )
	local f30_local1
	if f30_local0 and f30_local0 ~= 0 then
		f30_local1 = false
	else
		f30_local1 = true
	end
	local f30_local2
	if f30_local1 then
		f30_local2 = f0_local0.Bink
		if not f30_local2 then
		
		else
			f30_arg0._layerState = f30_local2
		end
	end
	f30_local2 = f0_local0.AAR
end

local f0_local9 = function ( f29_arg0 )
	local f29_local0 = DataSources.inGame.MP.brPlayerPosition:GetValue( f29_arg0._controllerIndex )
	if f29_local0 then
		local f29_local1 = f0_local0
		if CONDITIONS.IsBloodMoney() or CONDITIONS.IsRiskGametype() or CONDITIONS.IsBRKingSlayer() or CONDITIONS.IsWZRatRace() then
			f29_local1 = LUI.SquadEliminatedLayer.FINAL_BLOOD_MONEY_TEAM_RANK_RANGE
		end
		return f29_local0 <= f29_local1
	else
		return false
	end
end

f0_local6 = function ( f27_arg0, f27_arg1 )
	local f27_local0 = CONDITIONS.IsBloodMoney()
	if not f27_local0 then
		f27_local0 = CONDITIONS.IsRiskGametype()
		if not f27_local0 then
			f27_local0 = CONDITIONS.IsWZRatRace()
		end
	end
	local f27_local1 = "mp_warzone_spectate"
	local f27_local2 = "mp_plunder_defeat"
	if f27_local0 and not f27_local2 then
		local f27_local3 = f27_local2
	else
		local f27_local3 = f27_local1
	end
	local f27_local4 = "ui_iw8_br_victory_slam"
	local f27_local5 = "ui_iw8_halloween_victory_slam"
	local f27_local6 = f27_local4
	local f27_local7
	if f27_local0 then
		f27_local7 = "ui_iw8_br_defeat_slam"
	else
		f27_local7 = f27_local6
	end
	local f27_local8 = f27_local7
	local f27_local9 = DataSources.inGame.MP.brPlayerPosition:GetValue( f27_arg0._controllerIndex )
	local f27_local10 = f0_local0
	if f27_local0 then
		f27_local10 = LUI.SquadEliminatedLayer.FINAL_BLOOD_MONEY_TEAM_RANK_RANGE
	end
	if not f27_local9 or f27_local9 > f27_local10 then
		local f27_local11 = false
	else
		local f27_local11 = true
	end
	if CONDITIONS.IsWZRumble() or CONDITIONS.IsWZRatRace() then
		local f27_local11 = DataSources.inGame.MP.match.teamScoreEnemy:GetValue( f27_arg0._controllerIndex ) < DataSources.inGame.MP.match.teamScoreFriendly:GetValue( f27_arg0._controllerIndex )
	end
	if CONDITIONS.IsBRKingSlayer() and f27_local9 <= (Dvar.CFHDGABACF( "lui_kingslayer_team_win_cap" ) or 10) then
		local f27_local11 = true
	end
	if f27_local11 then
		local f27_local12 = "mp_warzone_victory"
		local f27_local13 = "mp_plunder_victory"
		if f27_local0 and not f27_local13 then
			local f27_local3 = f27_local13
		else
			local f27_local3 = f27_local12
		end
		f27_local8 = f27_local4
		if CONDITIONS.IsBRHalloweenPublicMatch() then
			local f27_local3 = "mp_warzone_halloween"
			f27_local8 = f27_local5
		elseif CONDITIONS.IsBRGhosts() then
			local f27_local3 = "mp_warzone_ghosts"
			f27_local8 = "ui_t9_ghost_victory_slam"
		end
	elseif CONDITIONS.IsWZRumble() or CONDITIONS.IsWZRatRace() then
		local f27_local3 = "mp_warzone_defeat"
		f27_local8 = "ui_iw8_br_defeat_slam"
	end
	local f27_local3
	if CONDITIONS.IsWZPayload() then
		if DataModel.JJEHAEBDF( DataSources.inGame.MP.match.postGameState:GetModel( f27_arg0._controllerIndex ) ) == PostGameState.ROUND_END then
			f27_local3 = "mp_payload_switchingsides"
			DataModel.DBEBGEAJHJ( f27_arg0._isSquadEliminatedOpenModel, false )
		elseif f0_local0( f27_arg0 ) then
			f27_local3 = "mp_payload_victory"
		else
			f27_local3 = "mp_payload_defeat"
		end
		LUI.UIRoot.ProcessEvent( Engine.DBFFAEEFGJ(), {
			name = "payload_event_round_end"
		} )
	end
	LUI.HUD.DisallowChatInHUD()
	f27_arg0._squadEliminated:PlayVideo( {
		isSquadEliminatedBink = true,
		videoName = f27_local3,
		soundName = f27_local8
	} )
	local f27_local12 = f27_arg0:Wait( f0_local0 )
	f27_local12.onComplete = function ()
		if f27_arg0._squadEliminated ~= nil and f27_arg0._squadEliminated.StopVideo then
			f27_arg0._squadEliminated:StopVideo( {
				isSquadEliminatedBink = true,
				videoName = f27_arg0,
				soundName = f27_arg0
			} )
		end
	end
	
end

f0_local7 = function ( f26_arg0, f26_arg1 )
	f26_arg0._squadEliminated:processEvent( {
		name = "open_squadEliminated"
	} )
	f26_arg0._squadEliminated:UpdateGameResultData( f26_arg0._controllerIndex )
	local f26_local0 = "IntroAAR"
	if CONDITIONS.IsBRTutorial() or not CONDITIONS.IsInGameAAREnabled() then
		f26_local0 = "Intro"
	elseif CONDITIONS.IsBloodMoney() or CONDITIONS.IsRiskGametype() then
		f26_local0 = "IntroBloodMoneyAAR"
	elseif CONDITIONS.IsWZRatRace() then
		f26_local0 = "IntroBloodMoneyAAR"
	elseif CONDITIONS.IsBRX1Variant() or CONDITIONS.IsBRRevealMode() or CONDITIONS.IsBRRevealTwoMode() then
		f26_local0 = f26_local0 .. LUI.SquadEliminatedLayer.NO_PLACEMENT_KEY
	elseif CONDITIONS.IsWZRumble() or CONDITIONS.IsWZPayload() then
		f26_local0 = "MoveIntro"
		ACTIONS.AnimateSequence( f26_arg0._squadEliminated, "ShowScoreboard" )
	end
	if f26_arg1 and f26_arg1.instantlyShow then
		f26_local0 = "Visible"
	end
	ACTIONS.AnimateSequence( f26_arg0._squadEliminated, f26_local0 )
	local f26_local1 = f26_arg0._squadEliminated
	local f26_local2 = f26_local1
	f26_local1 = f26_local1.EnableMenuButtons
	local f26_local3 = f26_arg0._controllerIndex
	local f26_local4
	if f26_arg1 then
		f26_local4 = f26_arg1.endOfGame
		if not f26_local4 then
		
		else
			local f26_local5
			if f26_arg1 then
				f26_local5 = f26_arg1.isFromSpectate
				if not f26_local5 then
				
				else
					f26_local1( f26_local2, f26_local3, f26_local4, f26_local5 )
					if not CONDITIONS.IsGamepadEnabled( f26_arg0 ) then
						if CONDITIONS.IsWZPayload() then
							if DataModel.JJEHAEBDF( DataSources.inGame.MP.match.postGameState:GetModel( f26_arg0._controllerIndex ) ) == PostGameState.SHOW_INGAME_AAR then
								LUI.UIRoot.SetLuiLayerKeycatch( f26_arg0, f26_arg0._controllerIndex, true )
							end
						else
							LUI.UIRoot.SetLuiLayerKeycatch( f26_arg0, f26_arg0._controllerIndex, true )
						end
						f26_arg0:SetHandleMouse( true )
						f26_arg0:SetMouseFocusBlocker( true )
					end
					LUI.HUD.AllowChatInHUD()
				end
			end
			f26_local5 = nil
		end
	end
	f26_local4 = nil
end

local f0_local10 = function ( f25_arg0, f25_arg1 )
	DataModel.DBEBGEAJHJ( f25_arg0._isSquadEliminatedOpenModel, true )
	LayerStateFlowTable[f25_arg0._layerState].UpdateFunction( f25_arg0, f25_arg1 )
end

local f0_local11 = function ( f24_arg0 )
	f24_arg0._layerState = f24_arg0._layerState + 1
	if f24_arg0._layerState <= #LayerStateFlowTable then
		LayerStateFlowTable[f24_arg0._layerState].UpdateFunction( f24_arg0 )
	end
end

local f0_local12 = function ( f23_arg0 )
	local f23_local0 = CONDITIONS.IsBRQuarryTutorialMap( f23_arg0 )
	if f23_local0 then
		f23_local0 = not OnlineProgression.DFBEBDGCHJ( f23_arg0._controllerIndex, BRLOOT.rewardsTypes.PRACTICE_REWARD )
	end
	return f23_local0
end

LUI.SquadEliminatedLayer.CloseSquadEliminatedReward = function ( f22_arg0 )
	if f22_arg0._layerState == f0_local0.Reward and f22_arg0._squadEliminated then
		LUI.UIRoot.SetLuiLayerKeycatch( f22_arg0, f22_arg0._controllerIndex, false )
		f22_arg0:SetHandleMouse( false )
		f22_arg0:SetMouseFocusBlocker( false )
		f22_arg0._squadEliminated:DisableMenuButtons()
		f22_arg0._squadEliminated:closeTree()
		f22_arg0._squadEliminated = nil
	end
	f22_arg0._layerState = f22_arg0._layerState + 1
	if f22_arg0._layerState <= #LayerStateFlowTable then
		LayerStateFlowTable[f22_arg0._layerState].UpdateFunction( f22_arg0 )
	end
end

LUI.SquadEliminatedLayer.CloseSquadEliminatedBink = function ( f21_arg0 )
	if f21_arg0._layerState == f0_local0.Bink and f21_arg0._squadEliminated then
		DataModel.DBEBGEAJHJ( f21_arg0._isSquadEliminatedOpenModel, false )
		f21_arg0:RemoveElement( f21_arg0._squadEliminated )
		f21_arg0._squadEliminated:closeTree()
		f21_arg0._squadEliminated = nil
	end
end

LUI.SquadEliminatedLayer.CloseSquadEliminated = function ( f20_arg0 )
	if f20_arg0._squadEliminated then
		DataModel.DBEBGEAJHJ( f20_arg0._isSquadEliminatedOpenModel, false )
		if f20_arg0._layerState ~= f0_local0.Bink then
			f20_arg0._squadEliminated:processEvent( {
				name = "close_squad_eliminated"
			} )
			ACTIONS.AnimateSequence( f20_arg0._squadEliminated, "Hidden" )
			LUI.UIRoot.SetLuiLayerKeycatch( f20_arg0, f20_arg0._controllerIndex, false )
			f20_arg0:SetHandleMouse( false )
			f20_arg0:SetMouseFocusBlocker( false )
			f20_arg0._squadEliminated:DisableMenuButtons()
		end
	end
	f20_arg0:ClearLayer()
end

LUI.SquadEliminatedLayer.init = function ( f19_arg0, f19_arg1 )
	LUI.SquadEliminatedLayer.super.init( f19_arg0 )
	f19_arg0.id = "SquadEliminatedLayer"
	f19_arg0._controllerIndex = f19_arg1
	f19_arg0._visibilityOverride = nil
end

LUI.SquadEliminatedLayer.GetInstance = function ()
	local f18_local0 = Engine.DBFFAEEFGJ()
	assert( f18_local0 )
	local f18_local1 = f18_local0.squadEliminatedLayer
	assert( f18_local1 )
	return f18_local1
end

LUI.SquadEliminatedLayer.IsShowingSquadEliminated = function ( f17_arg0 )
	local f17_local0 = f17_arg0._isSquadEliminatedOpenModel
	if f17_local0 then
		f17_local0 = DataModel.JJEHAEBDF( f17_arg0._isSquadEliminatedOpenModel )
	end
	return f17_local0
end

LUI.SquadEliminatedLayer.ShouldBeVisible = function ( f16_arg0 )
	return Game.HJHDJDCBF()
end

LUI.SquadEliminatedLayer.SetVisibilityOverride = function ( f15_arg0, f15_arg1 )
	if not f15_arg0._squadEliminated and not f15_arg1 then
		return 
	end
	local f15_local0 = f15_arg0:IsShowingSquadEliminated()
	if f15_local0 and f15_arg1 == false then
		f15_arg0:CloseSquadEliminated()
	elseif f15_arg1 == true and not f15_local0 then
		f0_local0( f15_arg0, {
			instantlyShow = true
		} )
	end
	f15_arg0._visibilityOverride = f15_arg1
end

LUI.SquadEliminatedLayer.InitLayer = function ( f7_arg0 )
	f7_arg0._layerState = f0_local0.None
	f7_arg0._isWinnerTeam = false
	f7_arg0._previousPostGameState = PostGameState.INACTIVE
	f7_arg0._isSquadEliminatedOpenModel = DataSources.inGame.HUD.isSquadEliminatedOpen:GetModel( f7_arg0._controllerIndex )
	DataModel.DBEBGEAJHJ( f7_arg0._isSquadEliminatedOpenModel, false )
	f7_arg0:registerEventHandler( "close_squad_eliminated", function ( element, event )
		if element:IsShowingSquadEliminated() then
			element:CloseSquadEliminated()
		end
	end )
	f7_arg0:SubscribeToModel( DataSources.inGame.MP.brSquadEliminatedActive:GetModel( f7_arg0._controllerIndex ), function ( f13_arg0 )
		if f7_arg0._visibilityOverride ~= nil then
			return 
		end
		local f13_local0 = f7_arg0:IsShowingSquadEliminated()
		if DataSources.inGame.MP.brSquadEliminatedActive:GetValue( f7_arg0._controllerIndex ) == 1 then
			local f13_local1
			if not CONDITIONS.IsBloodMoney() and not CONDITIONS.IsRiskGametype() and not CONDITIONS.IsWZRatRace() then
				f13_local1 = not CONDITIONS.IsBRKingSlayer()
			else
				f13_local1 = false
			end
			if f13_local1 then
				f7_arg0._isWinnerTeam = f7_arg0( f7_arg0 )
				local f13_local2
				if not f7_arg0._isWinnerTeam then
					f13_local2 = not CONDITIONS.IsBRTutorial()
				else
					f13_local2 = false
				end
				if f13_local2 and not f13_local0 then
					f7_arg0._layerState = f7_arg0.AAR
					f7_arg0( f7_arg0 )
				end
			end
		elseif f13_local0 then
			f7_arg0:CloseSquadEliminated()
		end
	end )
	f7_arg0:addEventHandler( "menu_close", function ( f12_arg0, f12_arg1 )
		f7_arg0:CloseSquadEliminated()
	end )
	f7_arg0:registerEventHandler( "empty_menu_stack", function ( element )
		element:SetAlpha( 1 )
	end )
	f7_arg0:registerEventHandler( "non_empty_menu_stack", function ( element )
		element:SetAlpha( 0 )
	end )
	local f7_local0 = function ( f9_arg0, f9_arg1 )
		if f9_arg0.TalkersList == nil then
			f9_arg0.TalkersList = MenuBuilder.BuildRegisteredType( "TalkersList", {
				controllerIndex = f9_arg0._controllerIndex
			} )
			f9_arg0.TalkersList.id = "TalkersList"
			f9_arg0.TalkersList:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 96, _1080p * 596, _1080p * -545, _1080p * -170 )
			f9_arg0:addElement( f9_arg0.TalkersList )
		end
		local f9_local0 = f9_arg0.TalkersList
		local f9_local1 = f9_local0
		f9_local0 = f9_local0.SetAlpha
		local f9_local2
		if f9_arg1 then
			f9_local2 = 1
		else
			f9_local2 = 0
		end
		f9_local0( f9_local1, f9_local2 )
	end
	
	if Engine.ECHCFGDDDF() then
		f7_arg0:SubscribeToModel( DataSources.inGame.MP.match.postGameState:GetModel( f7_arg0._controllerIndex ), function ( f8_arg0 )
			local f8_local0 = DataModel.JJEHAEBDF( f8_arg0 )
			if f8_local0 == PostGameState.BR_END_SPLASH then
				f7_arg0._isWinnerTeam = f7_arg0( f7_arg0 )
				if not f7_arg0._isWinnerTeam then
					local f8_local1 = CONDITIONS.IsSpectating( f7_arg0._controllerIndex )
				end
				if CONDITIONS.IsBloodMoney() or CONDITIONS.IsRiskGametype() or CONDITIONS.IsBRKingSlayer() or CONDITIONS.IsBRZombies() or CONDITIONS.IsBRExfiltrationMode() or CONDITIONS.IsWZPayload() or CONDITIONS.IsWZRumble() or CONDITIONS.IsWZRatRace() or CONDITIONS.IsOlarideGameType() then
					local f8_local1 = true
				end
				if f8_local1 then
					f7_arg0._layerState = f7_arg0.Bink
					f7_arg0( f7_arg0 )
				end
			elseif f8_local0 == PostGameState.SHOW_INGAME_AAR then
				if f7_arg0( f7_arg0 ) then
					f7_arg0._layerState = f7_arg0.Reward
				else
					f7_arg0._layerState = f7_arg0.AAR
					f7_arg0._isMatchEndIngameAAROn = true
				end
				f7_arg0( f7_arg0, {
					endOfGame = true
				} )
			elseif f8_local0 == PostGameState.ROUND_END and CONDITIONS.IsWZPayload() then
				f7_arg0._layerState = f7_arg0.Bink
				f7_arg0( f7_arg0 )
			elseif not f7_arg0._isMatchEndIngameAAROn then
				f7_arg0:SetVisibilityOverride( false )
				f7_arg0:SetVisibilityOverride( nil )
			end
			f7_arg0._previousPostGameState = f8_local0
		end )
	end
end

LUI.SquadEliminatedLayer.ClearLayer = function ( f6_arg0, f6_arg1 )
	f6_arg0:closeChildren()
	f6_arg0._squadEliminated = nil
	DataModel.DBEBGEAJHJ( f6_arg0._isSquadEliminatedOpenModel, false )
end

LUI.SquadEliminatedLayer.TrapsInput = function ( f5_arg0, f5_arg1 )
	if CONDITIONS.IsMagmaGameMode() or CONDITIONS.IsThirdGameMode() then
		if f5_arg0:IsShowingSquadEliminated() then
			local f5_local0 = f5_arg0._layerState == f0_local0.AAR
			local f5_local1 = f5_arg0._layerState == f0_local0.Reward
			local f5_local2 = f5_arg0._layerState == f0_local0.Bink
			local f5_local3
			if not f5_local0 or CONDITIONS.ButtonStart( f5_arg0, f5_arg1 ) then
				if not f5_local1 then
					f5_local3 = f5_local1
				else
					f5_local3 = f5_local2
				end
			else
				f5_local3 = true
			end
			return f5_local3
		elseif CONDITIONS.IsSpectating( f5_arg1.controller ) then
			local f5_local0 = LUI.GetDataSourceWithAppendPath( DataSources, "inGame.MP.brSquadEliminatedActive" )
			local f5_local1
			if not f5_local0 or f5_local0:GetValue( f5_arg1.controller ) ~= 1 then
				f5_local1 = false
			else
				f5_local1 = true
			end
			if f5_local1 then
				if LUI.IsLastInputKeyboardMouse( f5_arg1.controller ) then
					local f5_local2
					if f5_arg1.qualifier ~= "keyboard" or f5_arg1.button ~= "escape" then
						f5_local2 = false
					else
						f5_local2 = true
					end
					return f5_local2
				else
					return f5_arg1.button == "secondary"
				end
			end
		end
		return false
	elseif not f5_arg0._squadEliminated and f5_arg0._layerState == f0_local0.AAR then
		f0_local0( f5_arg0 )
	end
	local f5_local0
	if f5_arg1.qualifier ~= "dpad" and f5_arg1.button ~= "primary" and f5_arg1.button ~= "alt1" and f5_arg1.button ~= "alt2" and f5_arg1.button ~= "right_stick" then
		f5_local0 = false
	else
		f5_local0 = true
	end
	local f5_local1
	if not (f5_arg1.name == "mousedown" or f5_arg1.name == "mouseup") or f5_arg1.button ~= "right" then
		f5_local1 = false
	else
		f5_local1 = true
	end
	local f5_local2 = f5_arg0._squadEliminated
	if f5_local2 then
		f5_local2 = f5_arg0._squadEliminated.handleMouseMove
		if f5_local2 then
			if not (f5_arg1.name == "mousedown" or f5_arg1.name == "mouseup") or f5_arg1.button ~= "left" then
				f5_local2 = false
			else
				f5_local2 = true
			end
		end
	end
	local f5_local4 = f5_arg0._squadEliminated
	if f5_local4 then
		f5_local4 = f5_arg0._squadEliminated.handleMouseMove
		if f5_local4 then
			if f5_arg1.qualifier ~= "mousewheel" or f5_arg1.button ~= "down" and f5_arg1.button ~= "up" then
				f5_local4 = false
			else
				f5_local4 = true
			end
		end
	end
	local f5_local3 = f5_arg0:IsShowingSquadEliminated()
	if f5_local3 then
		if not f5_local0 then
			f5_local3 = f5_local0
		elseif not f5_local1 then
			f5_local3 = f5_local1
		elseif not f5_local2 then
			f5_local3 = f5_local2
		else
			f5_local3 = f5_local4
		end
	end
	return f5_local3
end

LUI.SquadEliminatedLayer.ProcessInputEvent = function ( f4_arg0, f4_arg1 )
	local f4_local0 = CONDITIONS.ButtonStart( f4_arg0, f4_arg1 )
	local f4_local1 = f4_arg0.m_eventHandlers[f4_arg1.name]
	if f4_local1 and not f4_local0 then
		f4_local0 = f4_local1( f4_arg0, f4_arg1 )
	end
	if f4_arg0:TrapsInput( f4_arg1 ) and not f4_local0 then
		f4_local0 = LUI.SquadEliminatedLayer.super.processEvent( f4_arg0, f4_arg1 )
	end
	return f4_local0
end

LUI.SquadEliminatedLayer.processEvent = function ( f3_arg0, f3_arg1 )
	if f3_arg1.name == "gamepad_button" and not f3_arg1.down then
		return 
	elseif IsInputEvent( f3_arg1.name ) then
		return f3_arg0:ProcessInputEvent( f3_arg1 )
	else
		return LUI.SquadEliminatedLayer.super.processEvent( f3_arg0, f3_arg1 )
	end
end

LUI.SquadEliminatedLayer.ShouldOpenAAR = function ( f2_arg0 )
	if CONDITIONS.IsMagmaGameMode() and not CONDITIONS.IsBloodMoney() and not CONDITIONS.IsRiskGametype() and not CONDITIONS.IsBRKingSlayer() and not CONDITIONS.IsWZRatRace() and Dvar.IBEGCHEFE( "MNPLOKRMON" ) and LUI.IsLastInputKeyboardMouse( f2_arg0 ) and CONDITIONS.IsSpectating( f2_arg0 ) and DataSources.inGame.MP.brSquadEliminatedActive then
		local f2_local0 = DataSources.inGame.MP.brSquadEliminatedActive:GetValue( f2_arg0 )
		local f2_local1
		if f2_local0 == nil or f2_local0 ~= 1 then
			f2_local1 = false
		else
			f2_local1 = true
		end
		return f2_local1
	else
		return false
	end
end

LUI.SquadEliminatedLayer.ReOpenAAR = function ( f1_arg0 )
	f1_arg0._isWinnerTeam = f0_local0( f1_arg0 )
	local f1_local0
	if not f1_arg0._isWinnerTeam then
		f1_local0 = not CONDITIONS.IsBRTutorial()
	else
		f1_local0 = false
	end
	if f1_local0 then
		f1_arg0._layerState = f0_local0.AAR
		f0_local0( f1_arg0, {
			isFromSpectate = true,
			endOfGame = true
		} )
	end
end

