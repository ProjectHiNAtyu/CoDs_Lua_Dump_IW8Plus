-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
DMZSPAWNS = DMZSPAWNS or {}
DMZSPAWNS.MIN_DIST_FROM_OTHER_SPAWNS = 1000
DMZSPAWNS.MAX_QUADS = 4
DMZSPAWNS.DEBUG_QUAD_TEXT = {
	"North West",
	"North East",
	"South West",
	"South East",
	"None"
}
local f0_local0 = function ( f10_arg0, f10_arg1 )
	local f10_local0 = LUI.ShallowCopy( f10_arg0 )
	local f10_local1 = f10_arg1
	local f10_local2 = #f10_arg0 + 1
	for f10_local3 = 0, #f10_arg0, 1 do
		f10_local1 = (f10_local1 * 29 + 19) % 65535
		local f10_local6 = f10_local1 % f10_local2
		local f10_local7 = f10_local0[f10_local3]
		f10_local0[f10_local3] = f10_local0[f10_local6]
		f10_local0[f10_local6] = f10_local7
	end
	return f10_local0, f10_local1
end

local f0_local1 = function ( f9_arg0, f9_arg1, f9_arg2 )
	local f9_local0 = {}
	if not f9_arg0 then
		return f9_local0
	end
	local f9_local1 = f9_arg0
	if not f9_arg2 then
		f9_local1 = f0_local0( f9_arg0, f9_arg1 )
	end
	local f9_local2 = 0
	local f9_local3 = f9_arg1
	local f9_local4 = math.min( DMZSPAWNS.MAX_QUADS - 1, #f9_local1 )
	for f9_local5 = 0, f9_local4, 1 do
		if f9_local1[f9_local5] ~= nil then
			f9_local0[f9_local2] = {}
			f9_local0[f9_local2], f9_local3 = f0_local0( f9_local1[f9_local5], f9_local3 )
			f9_local2 = f9_local2 + 1
		end
	end
	return f9_local0
end

local f0_local2 = function ()
	return {
		saba_airport = Dvar[0x22EAAB59AA27E9B]( 0xA24DCC79DB73B42 ),
		saba_caves = Dvar[0x22EAAB59AA27E9B]( 0x61204F6D7F2DE2B ),
		saba_exhume = Dvar[0x22EAAB59AA27E9B]( 0x17F2A3E5B3BE083 ),
		saba_fort = Dvar[0x22EAAB59AA27E9B]( 0x76D6EDC3B973A5A ),
		saba_hydro = Dvar[0x22EAAB59AA27E9B]( 0x7D075D837C409DB ),
		saba_oilfield = Dvar[0x22EAAB59AA27E9B]( 0x6095CAB91FE08D7 ),
		saba_observatory = Dvar[0x22EAAB59AA27E9B]( 0x8952BF769D19CA1 ),
		saba_wartorn = Dvar[0x22EAAB59AA27E9B]( 0xF8E3ECF7F5C5756 ),
		saba_marshland = Dvar[0x22EAAB59AA27E9B]( 0xBCC24802E86CC7F ),
		saba_oldtwn = Dvar[0x22EAAB59AA27E9B]( 0x770A46C3F38A07D ),
		saba_mtntwn = Dvar[0x22EAAB59AA27E9B]( 0x17DA1D393BEE005 ),
		saba_moderncity = Dvar[0x22EAAB59AA27E9B]( 0x94C0064150BB3BF ),
		saba_fishtown = Dvar[0x22EAAB59AA27E9B]( 0xAFA04062808B6D5 ),
		saba_suburbs_01 = Dvar[0x22EAAB59AA27E9B]( 0x576F2F246803B43 ),
		saba_suburbs_02 = Dvar[0x22EAAB59AA27E9B]( 0x576F3F246803D76 ),
		saba_suburbs_03 = Dvar[0x22EAAB59AA27E9B]( 0x576F4F246803FA9 ),
		saba_suburbs_10 = Dvar[0x22EAAB59AA27E9B]( 0x57AF7F246843C19 ),
		saba_suburbs_11 = Dvar[0x22EAAB59AA27E9B]( 0x57AF6F2468439E6 ),
		saba_suburbs_12 = Dvar[0x22EAAB59AA27E9B]( 0x57AF5F2468437B3 ),
		saba_suburbs_13 = Dvar[0x22EAAB59AA27E9B]( 0x57AF4F246843580 ),
		saba_suburbs_14 = Dvar[0x22EAAB59AA27E9B]( 0x57AFBF2468444E5 ),
		dmz_spawnOuterEdge = Dvar[0x22EAAB59AA27E9B]( 0xEB500581164E4BC ),
		[0] = Dvar[0x22EAAB59AA27E9B]( 0xEC0C24FAA920E9D ) or 0,
		[1] = Dvar[0x22EAAB59AA27E9B]( 0xEC0D04FAA922D67 ) or 0,
		[2] = Dvar[0x22EAAB59AA27E9B]( 0xEF9C24FAAD08988 ) or 0,
		[3] = Dvar[0x22EAAB59AA27E9B]( 0xEF9B44FAAD06ABE ) or 0
	}
end

local f0_local3 = function ( f7_arg0 )
	for f7_local0 = 0, DMZSPAWNS.MAX_QUADS - 1, 1 do
		if f7_arg0[f7_local0] then
			for f7_local3 = 0, #f7_arg0[f7_local0], 1 do
				local f7_local6 = f7_local3
				f7_local3 = f7_local3 + f7_local5
			end
		end
	end
end

local f0_local4 = function ( f6_arg0, f6_arg1, f6_arg2, f6_arg3, f6_arg4, f6_arg5 )
	if f6_arg3 == "Fallback Spawn Chosen" then
		
	else
		
	end
end

local f0_local5 = function ( f5_arg0 )
	
end

local f0_local6 = function ( f4_arg0 )
	
end

local f0_local7 = function ( f3_arg0, f3_arg1 )
	local f3_local0 = f3_arg1:GetValue( f3_arg0.controllerIndex )
	if f3_local0 == nil then
		f3_local0 = 0
	else
		
	end
	local f3_local1 = LUI.DataSourceFromList.new( f3_arg1 )
	f3_local1.MakeDataSourceAtIndex = Lobby.GetLobbyMemberDataSourceAtIndex( f3_arg0.modelPath )
	local f3_local2 = {}
	local f3_local3 = 0
	if f3_local0 == 1 then
		local f3_local4 = f3_local1:MakeDataSourceAtIndex( 0, f3_arg0.controllerIndex )
		local f3_local5 = f3_local4.squad:GetValue( 0 ) or "nil"
		local f3_local6 = f3_local4.team:GetValue( 0 ) or "nil"
		local f3_local7 = f3_local4.memberIndex:GetValue( 0 ) or "nil"
		f3_local3 = math.random( 0, 3 )
		f3_local2 = {
			squad = f3_local5,
			team = f3_local6,
			memberIndex = f3_local7
		}
	else
		for f3_local4 = 0, f3_local0 - 1, 1 do
			local f3_local8 = f3_local1:MakeDataSourceAtIndex( f3_local4, f3_arg0.controllerIndex )
			if (f3_local8.isMyPlayer:GetValue( f3_local4 ) or "nil") == true then
				f3_local2 = {
					squad = f3_local8.squad:GetValue( f3_local4 ) or "nil",
					team = f3_local8.team:GetValue( f3_local4 ) or "nil",
					memberIndex = f3_local8.memberIndex:GetValue( f3_local4 ) or "nil"
				}
			end
		end
		for f3_local4 = 0, f3_local0 - 1, 1 do
			local f3_local8 = f3_local1:MakeDataSourceAtIndex( f3_local4, f3_arg0.controllerIndex )
			local f3_local9 = f3_local8.memberIndex:GetValue( f3_local4 )
			if f3_local9 and f3_local9 < f3_local2.memberIndex then
				f3_local3 = f3_local3 + 1
			end
		end
	end
	return f3_local2, f3_local3
end

DMZSPAWNS.DMZParseSpawnCSV = function ( f2_arg0, f2_arg1 )
	if not f2_arg1 then
		return 
	end
	local f2_local0, f2_local1 = nil
	if f2_arg1 == "mp_saba" or f2_arg1 == "mp_saba2" then
		f2_local0 = StringTable[0xFD4E49A34DD43AE]( CSV.dmzSpawnPoints.file )
		f2_local1 = CSV.dmzSpawnPoints
	elseif f2_arg1 == "mp_sealion" then
		f2_local0 = StringTable[0xFD4E49A34DD43AE]( CSV.dmzSealionSpawnPoints.file )
		f2_local1 = CSV.dmzSealionSpawnPoints
	elseif f2_arg1 == "mp_delta" then
		f2_local0 = StringTable[0xFD4E49A34DD43AE]( CSV.dmzDeltaSpawnPoints.file )
		f2_local1 = CSV.dmzDeltaSpawnPoints
	end
	if not f2_local0 or not f2_local1 then
		return 
	end
	local f2_local2 = f0_local0()
	local f2_local3 = {}
	local f2_local4 = {}
	if 0 < f2_local0 then
		local f2_local5 = {}
		local f2_local6 = {}
		for f2_local7 = 0, f2_local0 - 1, 1 do
			local f2_local10 = CSV.ReadRow( f2_local1, f2_local7 )
			f2_local10.origin = LUI.Split( f2_local10.origin, "," )
			f2_local10.origin = {
				x = tonumber( f2_local10.origin[1] ),
				y = tonumber( f2_local10.origin[2] ),
				z = tonumber( f2_local10.origin[3] )
			}
			f2_local10.angle = LUI.Split( f2_local10.angle, "," )
			f2_local10.angle = {
				x = tonumber( f2_local10.angle[1] ),
				y = tonumber( f2_local10.angle[2] ),
				z = tonumber( f2_local10.angle[3] )
			}
			local f2_local11 = 0
			local f2_local12 = false
			local f2_local13 = false
			if string.sub( f2_local10.script_noteworthy, 1, -2 ) == "dmz_squadSpawnPoint_GLOuterEdge" and f2_local2.dmz_spawnOuterEdge ~= 1 then
				f2_local12 = true
			elseif f2_local2.dmz_spawnOuterEdge == 1 and string.sub( f2_local10.script_noteworthy, 1, -2 ) ~= "dmz_squadSpawnPoint_GLOuterEdge" then
				f2_local12 = true
			elseif f2_local2.dmz_spawnOuterEdge == 1 and string.sub( f2_local10.script_noteworthy, 1, -2 ) == "dmz_squadSpawnPoint_GLOuterEdge" then
				local f2_local14
				if f2_local10.origin.x < 0 then
					f2_local14 = -1
				else
					f2_local14 = 0
				end
				local f2_local15
				if f2_local10.origin.y < 0 then
					f2_local15 = 3
				else
					f2_local15 = 1
				end
				f2_local11 = f2_local14 + f2_local15
				if f2_local2[f2_local11] ~= 0 then
					f2_local12 = true
				end
				if f2_local10.script_noteworthy == "dmz_squadSpawnPoint_GLOuterEdge2" then
					f2_local13 = true
				end
			elseif (f2_local2[f2_local10.poi] == nil or f2_local2[f2_local10.poi] == 0) and string.sub( f2_local10.script_noteworthy, 1, -2 ) ~= "dmz_squadSpawnPoint_GLOuterEdge" then
				f2_local12 = true
			end
			if f2_local10.poi == "None" then
				f2_local10.poi = ""
			end
			if f2_local12 == false then
				if f2_local13 == false then
					if f2_local3[f2_local11] == nil then
						f2_local3[f2_local11] = {}
					end
					if f2_local5[f2_local11] == nil then
						f2_local5[f2_local11] = 0
					end
					f2_local3[f2_local11][f2_local5[f2_local11]] = {
						dist = 0,
						poi = f2_local10.poi,
						origin = f2_local10.origin,
						angle = f2_local10.angle,
						target_name = f2_local10.target_name,
						target = f2_local10.target,
						script_noteworthy = f2_local10.script_noteworthy,
						spawn_flags = f2_local10.spawn_flags,
						id = f2_local10.id
					}
					f2_local5[f2_local11] = f2_local5[f2_local11] + 1
				end
				if f2_local4[f2_local11] == nil then
					f2_local4[f2_local11] = {}
				end
				if f2_local6[f2_local11] == nil then
					f2_local6[f2_local11] = 0
				end
				f2_local4[f2_local11][f2_local6[f2_local11]] = {
					dist = 0,
					poi = f2_local10.poi,
					origin = f2_local10.origin,
					angle = f2_local10.angle,
					target_name = f2_local10.target_name,
					target = f2_local10.target,
					script_noteworthy = f2_local10.script_noteworthy,
					spawn_flags = f2_local10.spawn_flags,
					id = f2_local10.id
				}
				f2_local6[f2_local11] = f2_local6[f2_local11] + 1
			end
		end
	end
	f2_arg0.parent._startPoints = f2_local3
	f2_arg0.parent._startPointsSecondary = f2_local4
end

DMZSPAWNS.DMZSetSpawnPoints = function ( f1_arg0, f1_arg1, f1_arg2 )
	local f1_local0, f1_local1 = f0_local0( f1_arg0, f1_arg1 )
	local f1_local2 = nil
	if Dvar[0x22EAAB59AA27E9B]( 0xA0BA5FF5AAC162D ) ~= nil then
		f1_local2 = Dvar[0x22EAAB59AA27E9B]( 0xA0BA5FF5AAC162D )
	else
		f1_local2 = BitwiseOperators.band( Lobby[0x12FE027CBF76CC2]( f1_arg0.controllerIndex ), 65535 )
	end
	local f1_local3 = f0_local0( f1_arg0.parent._startPoints, f1_local2 )
	local f1_local4 = f0_local0( f1_arg0.parent._startPointsSecondary, f1_local2, true )
	if Engine[0x2DA54CF5D6B7F02]() or Engine[0xDD9D856EA1C159E]() then
		f0_local0( f1_local0 )
	end
	local f1_local5 = ""
	local f1_local6 = nil
	local f1_local7 = Enum[0xB5F7211BC6A0B2D][0xDFDA2AD70E380F8]
	local f1_local8 = f1_local0.team
	local f1_local9 = #f1_local3 + 1
	local f1_local10 = math.floor( f1_local8 / f1_local9 )
	local f1_local11 = f1_local8 % f1_local9
	if f1_local3[f1_local11] ~= nil then
		f1_local6 = f1_local3[f1_local11][f1_local10]
		f1_local5 = "Primary Spawn Chosen"
	end
	if f1_local6 == nil and f1_local4[f1_local11] ~= nil then
		local f1_local12 = f1_local8
		if f1_local3[f1_local11] ~= nil then
			f1_local12 = f1_local10 - #f1_local3[f1_local11] + 1
		end
		f1_local6 = f1_local4[f1_local11][f1_local12]
		f1_local5 = "Secondary Spawn Chosen"
	end
	if f1_local6 == nil then
		f1_local6 = {
			id = 0,
			origin = {
				z = 20000,
				x = 0,
				y = 0
			}
		}
		f1_local7 = Enum[0xB5F7211BC6A0B2D][0xDFDA3AD70E382AB]
		f1_local5 = "Fallback Spawn Chosen"
	end
	if Engine[0x2DA54CF5D6B7F02]() or Engine[0xDD9D856EA1C159E]() then
		f0_local0( f1_local6, f1_local0, f1_local2, f1_local5, f1_local11, f1_local1 )
	end
	Engine[0xC06EA6E6B3A9910]()
	Engine[0x3C28A1C507DA8F6]( {
		f1_local6.origin.x,
		f1_local6.origin.y,
		f1_local6.origin.z
	}, f1_local7, Enum[0x3167DD8227C7331][0xB15802F301D9203], true )
end

