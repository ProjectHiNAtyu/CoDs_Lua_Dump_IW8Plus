-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
module( ..., package.seeall )
require( "ui.generated.menus.frontend.mp.cas.loadouts.perkselectbase" )
require( "ui.generated.widgets.ingame.ingamemenubackground" )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.frontend.mp.cas.perkdetails" )
require( "ui.generated.widgets.frontend.perkspecialistinfo" )
require( "ui.generated.widgets.frontend.mp.cas.perkbutton" )
require( "ui.generated.widgets.frontend.perktab" )
require( "ui.generated.widgets.frontend.mp.mpplayerdetails" )
require( "ui.generated.widgets.perkinfopanel" )
require( "ui.generated.widgets.frontend.lobby.lobbymembersfooter" )
require( "ui.generated.widgets.ingame.mp.ingamemenutimerstatus" )
require( "ui.generated.widgets.scrollbar.verticalminimalscrollbar" )
require( "ui.generated.widgets.frontend.mp.cdlrestrictiontag" )
require( "ui.generated.widgets.brwarninginfo" )
require( "ui.generated.widgets.navigationarrow" )
require( "ui.generated.widgets.buttonpromptcontainer" )
local f0_local0 = function ( f11_arg0, f11_arg1, f11_arg2 )
	f11_arg0:PostLoadShared( f11_arg1, f11_arg2 )
	f11_arg0.MenuTitle:SetupBackButton( f11_arg1 )
end

States = {
	[0xAD14C6E7156B923] = function ( f5_arg0, f5_arg1 )
		local f5_local0 = function ( f10_arg0, f10_arg1 )
			
		end
		
		f5_arg0.PerkSpecialistInfo:RegisterAnimationSequence( "SpecialPerkDisabled", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 728
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 1278
			},
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		if f5_arg0.CDLRestrictionTag then
			f5_arg0.CDLRestrictionTag:RegisterAnimationSequence( "SpecialPerkDisabled", {
				{
					duration = 0,
					property = TWEEN_PROPERTY.Bottom,
					value = _1080p * 200
				},
				{
					duration = 0,
					property = TWEEN_PROPERTY.Top,
					value = _1080p * 170
				}
			} )
		end
		local f5_local1 = function ( f9_arg0, f9_arg1 )
			f9_arg0.PerkSpecialistInfo:AnimateSequence( "SpecialPerkDisabled" )
			if f9_arg0.CDLRestrictionTag then
				f9_arg0.CDLRestrictionTag:AnimateSequence( "SpecialPerkDisabled" )
			end
		end
		
		f5_arg0.PerkSpecialistInfo:RegisterAnimationSequence( "SpecialPerkEnabled", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 1274
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 1824
			},
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		if f5_arg0.CDLRestrictionTag then
			f5_arg0.CDLRestrictionTag:RegisterAnimationSequence( "SpecialPerkEnabled", {
				{
					duration = 0,
					property = TWEEN_PROPERTY.Top,
					value = _1080p * 329
				},
				{
					duration = 0,
					property = TWEEN_PROPERTY.Bottom,
					value = _1080p * 359
				}
			} )
		end
		local f5_local2 = function ( f8_arg0, f8_arg1 )
			f8_arg0.PerkSpecialistInfo:AnimateSequence( "SpecialPerkEnabled" )
			if f8_arg0.CDLRestrictionTag then
				f8_arg0.CDLRestrictionTag:AnimateSequence( "SpecialPerkEnabled" )
			end
		end
		
		f5_arg0.perkGrid:RegisterAnimationSequence( "Splitscreen", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 551
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 639
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 124
			}
		} )
		f5_arg0.VerticalMinimalScrollbar:RegisterAnimationSequence( "Splitscreen", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 524
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 692
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 703
			}
		} )
		f5_arg0.ArrowUp:RegisterAnimationSequence( "Splitscreen", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 532
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 564
			}
		} )
		f5_arg0.ArrowDown:RegisterAnimationSequence( "Splitscreen", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 532
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 564
			}
		} )
		f5_arg0.ListCount:RegisterAnimationSequence( "Splitscreen", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 539
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 559
			}
		} )
		local f5_local3 = function ( f7_arg0, f7_arg1 )
			f7_arg0.perkGrid:AnimateSequence( "Splitscreen" )
			f7_arg0.VerticalMinimalScrollbar:AnimateSequence( "Splitscreen" )
			f7_arg0.ArrowUp:AnimateSequence( "Splitscreen" )
			f7_arg0.ArrowDown:AnimateSequence( "Splitscreen" )
			f7_arg0.ListCount:AnimateSequence( "Splitscreen" )
		end
		
		f5_arg0.PerkSpecialistInfo:RegisterAnimationSequence( "HideSpecialPerkPrompt", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f5_arg0._sequences = {
			DefaultSequence = f5_local0,
			SpecialPerkDisabled = f5_local1,
			SpecialPerkEnabled = f5_local2,
			Splitscreen = f5_local3,
			HideSpecialPerkPrompt = function ( f6_arg0, f6_arg1 )
				f6_arg0.PerkSpecialistInfo:AnimateSequence( "HideSpecialPerkPrompt" )
			end
		}
		f5_arg0._sequenceLengths = {
			Splitscreen = 0,
			SpecialPerkDisabled = 0,
			HideSpecialPerkPrompt = 0,
			SpecialPerkEnabled = 0,
			DefaultSequence = 0
		}
	end
}
function PerkSelect( f1_arg0, f1_arg1 )
	local f1_local0 = MenuBuilder.BuildRegisteredType( "PerkSelectBase", f1_arg1 )
	f1_local0.id = "PerkSelect"
	f1_local0.__states = States
	f1_local0.__revalidateAnimationState = true
	local f1_local1
	if f1_arg1 then
		f1_local1 = f1_arg1
	else
		f1_local1 = f1_arg1.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( f1_local0, f1_local1 )
	f1_local0.HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	f1_local0.HelperBar.id = "HelperBar"
	f1_local0.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	f1_local0.HelperBar:setPriority( 10 )
	f1_local0:addElement( f1_local0.HelperBar )
	local f1_local2 = f1_local0
	local f1_local3 = nil
	if CONDITIONS.InGame() then
		f1_local3 = MenuBuilder.BuildRegisteredType( "InGameMenuBackground", {
			controllerIndex = f1_local1
		} )
		f1_local3.id = "InGameMenuBackground"
		ACTIONS.ScaleFullscreen( f1_local3 )
		f1_local3:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		f1_local0:addElement( f1_local3 )
		f1_local0.InGameMenuBackground = f1_local3
	end
	local Vignette = nil
	
	Vignette = LUI.UIImage.new()
	Vignette.id = "Vignette"
	ACTIONS.AspectRatioScaleAdjustment( f1_local0, Vignette, LAYOUT.AspectRatioImageScalePct.FADEFRAME_LARGE )
	Vignette:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Vignette:SetAlpha( 0.5, 0 )
	Vignette:setImage( RegisterMaterial( 0x5576BB3DF9CFC11 ), 0 )
	Vignette:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 1020, 0, 0 )
	f1_local0:addElement( Vignette )
	f1_local0.Vignette = Vignette
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xDA230259A747F15 ) ), 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1020, 0, _1080p * 100 )
	f1_local0:addElement( MenuTitle )
	f1_local0.MenuTitle = MenuTitle
	
	local Cinematic = nil
	
	Cinematic = MenuBuilder.BuildRegisteredType( "Cinematic", {
		controllerIndex = f1_local1
	} )
	Cinematic.id = "Cinematic"
	Cinematic:SetAlpha( 0, 0 )
	Cinematic:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1609, _1080p * 1790, _1080p * 278, _1080p * 457 )
	f1_local0:addElement( Cinematic )
	f1_local0.Cinematic = Cinematic
	
	local BasePerk = nil
	
	BasePerk = MenuBuilder.BuildRegisteredType( "PerkDetails", {
		controllerIndex = f1_local1
	} )
	BasePerk.id = "BasePerk"
	BasePerk:SetAlpha( 0, 0 )
	BasePerk:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 751, _1080p * 1067, _1080p * 524, _1080p * 840 )
	f1_local0:addElement( BasePerk )
	f1_local0.BasePerk = BasePerk
	
	local UpgradePerk1 = nil
	
	UpgradePerk1 = MenuBuilder.BuildRegisteredType( "PerkDetails", {
		controllerIndex = f1_local1
	} )
	UpgradePerk1.id = "UpgradePerk1"
	UpgradePerk1:SetAlpha( 0, 0 )
	UpgradePerk1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1309, _1080p * 1625, _1080p * 299, _1080p * 615 )
	f1_local0:addElement( UpgradePerk1 )
	f1_local0.UpgradePerk1 = UpgradePerk1
	
	local UpgradePerk2 = nil
	
	UpgradePerk2 = MenuBuilder.BuildRegisteredType( "PerkDetails", {
		controllerIndex = f1_local1
	} )
	UpgradePerk2.id = "UpgradePerk2"
	UpgradePerk2:SetAlpha( 0, 0 )
	UpgradePerk2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1309, _1080p * 1625, _1080p * 664, _1080p * 980 )
	f1_local0:addElement( UpgradePerk2 )
	f1_local0.UpgradePerk2 = UpgradePerk2
	
	local PerkSpecialistInfo = nil
	
	PerkSpecialistInfo = MenuBuilder.BuildRegisteredType( "PerkSpecialistInfo", {
		controllerIndex = f1_local1
	} )
	PerkSpecialistInfo.id = "PerkSpecialistInfo"
	PerkSpecialistInfo:SetAlpha( 0, 0 )
	PerkSpecialistInfo:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1274, _1080p * 1824, _1080p * 113, _1080p * 303 )
	f1_local0:addElement( PerkSpecialistInfo )
	f1_local0.PerkSpecialistInfo = PerkSpecialistInfo
	
	local perkGrid = nil
	
	perkGrid = LUI.UIGrid.new( {
		maxVisibleColumns = 1,
		adjustSizeToContent = true,
		arrowsVerticalOffset = 5,
		wrapX = false,
		maxVisibleRows = SubtractForSplitscreen( 9, 6 ),
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "PerkButton", {
				controllerIndex = f1_arg0
			} )
		end,
		refreshChild = function ( f3_arg0, f3_arg1, f3_arg2 )
			
		end,
		spacingX = _1080p * 4,
		spacingY = _1080p * 4,
		columnWidth = _1080p * 546,
		rowHeight = _1080p * 62
	} )
	perkGrid.id = "perkGrid"
	perkGrid:SetMaxVisibleRows( SubtractForSplitscreen( 9, 6 ) )
	perkGrid:SetRowSpacing( 4 )
	perkGrid:setUseStencil( true )
	perkGrid:SetWraps( false, nil )
	perkGrid:SetActiveOnMouseOverBehavior( f1_local1 )
	perkGrid:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 119, _1080p * 665, _1080p * 329, _1080p * 1024 )
	f1_local0:addElement( perkGrid )
	f1_local0.perkGrid = perkGrid
	
	local Tabs = nil
	
	Tabs = LUI.TabManager.new( {
		spacing = 5,
		wrap = true,
		tabHeight = _1080p * 190,
		buildTab = function ()
			return MenuBuilder.BuildRegisteredType( "PerkTab", {
				controllerIndex = f1_arg0
			} )
		end,
		controllerIndex = f1_local1
	} )
	Tabs.id = "Tabs"
	Tabs:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 64, _1080p * 610, _1080p * 113, _1080p * 189 )
	f1_local0:addElement( Tabs )
	f1_local0.Tabs = Tabs
	
	local f1_local13 = nil
	if CONDITIONS.InFrontendPublicMP() then
		f1_local13 = MenuBuilder.BuildRegisteredType( "MPPlayerDetails", {
			controllerIndex = f1_local1
		} )
		f1_local13.id = "MPPlayerDetails"
		f1_local13:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -596, _1080p * -96, _1080p * 54, _1080p * 114 )
		f1_local0:addElement( f1_local13 )
		f1_local0.MPPlayerDetails = f1_local13
	end
	local InfoPanel = nil
	
	InfoPanel = MenuBuilder.BuildRegisteredType( "PerkInfoPanel", {
		controllerIndex = f1_local1
	} )
	InfoPanel.id = "InfoPanel"
	InfoPanel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 728, _1080p * 1255, _1080p * 329, _1080p * 420 )
	f1_local0:addElement( InfoPanel )
	f1_local0.InfoPanel = InfoPanel
	
	local f1_local15 = nil
	if CONDITIONS.InFrontend() then
		f1_local15 = MenuBuilder.BuildRegisteredType( "LobbyMembersFooter", {
			controllerIndex = f1_local1
		} )
		f1_local15.id = "LobbyMembersFooter"
		f1_local15:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 150 )
		f1_local0:addElement( f1_local15 )
		f1_local0.LobbyMembersFooter = f1_local15
	end
	local f1_local16 = nil
	if CONDITIONS.InGame() then
		f1_local16 = MenuBuilder.BuildRegisteredType( "InGameMenuTimerStatus", {
			controllerIndex = f1_local1
		} )
		f1_local16.id = "InGameMenuTimerStatus"
		f1_local16:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -140, _1080p * 260, _1080p * 54, _1080p * 104 )
		f1_local0:addElement( f1_local16 )
		f1_local0.InGameMenuTimerStatus = f1_local16
	end
	local VerticalMinimalScrollbar = nil
	
	VerticalMinimalScrollbar = MenuBuilder.BuildRegisteredType( "VerticalMinimalScrollbar", {
		controllerIndex = f1_local1
	} )
	VerticalMinimalScrollbar.id = "VerticalMinimalScrollbar"
	VerticalMinimalScrollbar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 676, _1080p * 687, _1080p * 329, _1080p * 919 )
	f1_local0:addElement( VerticalMinimalScrollbar )
	f1_local0.VerticalMinimalScrollbar = VerticalMinimalScrollbar
	
	local f1_local18 = nil
	if Engine[0x12586A3F4FB490E]() then
		f1_local18 = MenuBuilder.BuildRegisteredType( "CDLRestrictionTag", {
			controllerIndex = f1_local1
		} )
		f1_local18.id = "CDLRestrictionTag"
		f1_local18:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1508, _1080p * 1824, _1080p * 170, _1080p * 200 )
		f1_local0:addElement( f1_local18 )
		f1_local0.CDLRestrictionTag = f1_local18
	end
	local f1_local19 = nil
	if CONDITIONS.IsMagmaGameMode() then
		f1_local19 = MenuBuilder.BuildRegisteredType( "BRWarningInfo", {
			controllerIndex = f1_local1
		} )
		f1_local19.id = "BRWarningInfoFEPro"
		f1_local19:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 732, _1080p * 1255, _1080p * 624, _1080p * 654 )
		f1_local0:addElement( f1_local19 )
		f1_local0.BRWarningInfoFEPro = f1_local19
	end
	local ArrowUp = nil
	
	ArrowUp = MenuBuilder.BuildRegisteredType( "NavigationArrow", {
		controllerIndex = f1_local1
	} )
	ArrowUp.id = "ArrowUp"
	ArrowUp:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 292, _1080p * 324, _1080p * 923, _1080p * 955 )
	f1_local0:addElement( ArrowUp )
	f1_local0.ArrowUp = ArrowUp
	
	local ArrowDown = nil
	
	ArrowDown = MenuBuilder.BuildRegisteredType( "NavigationArrow", {
		controllerIndex = f1_local1
	} )
	ArrowDown.id = "ArrowDown"
	ArrowDown.Arrow:SetZRotation( 180, 0 )
	ArrowDown:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 460, _1080p * 492, _1080p * 923, _1080p * 955 )
	f1_local0:addElement( ArrowDown )
	f1_local0.ArrowDown = ArrowDown
	
	local ListCount = nil
	
	ListCount = LUI.UIText.new()
	ListCount.id = "ListCount"
	ListCount:SetRGBFromTable( SWATCHES.text.primaryText, 0 )
	ListCount:setText( "", 0 )
	ListCount:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	ListCount:SetFontSize( 20 * _PT )
	ListCount:SetMinFontSize( 18 * _PT )
	ListCount:SetWordWrap( true )
	ListCount:SetAlignment( LUI.Alignment.Center )
	ListCount:SetVerticalAlignment( LUI.Alignment.Middle )
	ListCount:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 324, _1080p * 460, _1080p * 930, _1080p * 950 )
	f1_local0:addElement( ListCount )
	f1_local0.ListCount = ListCount
	
	local PerkPackageInfo = nil
	
	PerkPackageInfo = LUI.UIText.new()
	PerkPackageInfo.id = "PerkPackageInfo"
	PerkPackageInfo:setText( Engine[0xED84C33EC5F01EA]( 0xD905AD449A932D8 ), 0 )
	PerkPackageInfo:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	PerkPackageInfo:SetFontSize( 24 * _PT )
	PerkPackageInfo:SetMinFontSize( 18 * _PT )
	PerkPackageInfo:SetWordWrap( true )
	PerkPackageInfo:SetLeading( 1 * _1080p, 0 )
	PerkPackageInfo:SetAlignment( LUI.Alignment.Left )
	PerkPackageInfo:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 728, _1080p * 1381, _1080p * 719, _1080p * 886 )
	f1_local0:addElement( PerkPackageInfo )
	f1_local0.PerkPackageInfo = PerkPackageInfo
	
	local ButtonPromptContainer = nil
	ButtonPromptContainer = MenuBuilder.BuildRegisteredType( "ButtonPromptContainer", {
		controllerIndex = f1_local1
	} )
	ButtonPromptContainer.id = "ButtonPromptContainer"
	if CONDITIONS.AlwaysFalse() then
		ButtonPromptContainer.Label:setText( "ButtonPrompt", 0 )
	end
	ButtonPromptContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 730, _1080p * 830, _1080p * 686.5, _1080p * 716.5 )
	f1_local0:addElement( ButtonPromptContainer )
	f1_local0.ButtonPromptContainer = ButtonPromptContainer
	
	local f1_local25 = LUI.UIScrollbar.new
	local f1_local26 = {
		direction = LUI.DIRECTION.vertical,
		eventListener = VerticalMinimalScrollbar,
		startCap = VerticalMinimalScrollbar.startCap,
		endCap = VerticalMinimalScrollbar.endCap,
		sliderArea = VerticalMinimalScrollbar.sliderArea
	}
	local f1_local27 = VerticalMinimalScrollbar.sliderArea
	if f1_local27 then
		f1_local27 = VerticalMinimalScrollbar.sliderArea.slider
	end
	f1_local26.slider = f1_local27
	f1_local27 = VerticalMinimalScrollbar.sliderArea
	if f1_local27 then
		f1_local27 = VerticalMinimalScrollbar.sliderArea.fixedSizeSlider
	end
	f1_local26.fixedSizeSlider = f1_local27
	perkGrid:AddScrollbar( f1_local25( f1_local26 ) )
	perkGrid:AddArrow( ArrowUp )
	perkGrid:AddArrow( ArrowDown )
	perkGrid:AddItemNumbers( ListCount )
	f1_local0.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_primary",
		priority = 1,
		helper_text = Engine[0xED84C33EC5F01EA]( 0xCA07A93FADF9E95 )
	} )
	if not f1_local0.bindButton then
		local f1_local28 = LUI.UIBindButton.new()
		f1_local28.id = "selfBindButton"
		f1_local0:addElement( f1_local28 )
		f1_local0.bindButton = f1_local28
	end
	f0_local0( f1_local0, f1_local1, f1_arg1 )
	LUI.UIElement.ValidateAnimationState( f1_local0 )
	return f1_local0
end

MenuBuilder.registerType( "PerkSelect", PerkSelect )
LockTable( _M )
