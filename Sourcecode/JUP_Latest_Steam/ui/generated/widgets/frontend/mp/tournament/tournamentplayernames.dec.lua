-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.mp.tournament.tournamentlobbymember" )
local f0_local0 = 2
local f0_local1 = function ( f6_arg0, f6_arg1, f6_arg2 )
	local f6_local0 = f6_arg0._teamDetails[f6_arg2]
	for f6_local1 = 1, #f6_local0, 1 do
		f6_local0[f6_local1]:SetTeamIndex( f6_arg2 )
		f6_local0[f6_local1]:SetupDatasourceSubscriptions( f6_arg0._controllerIndex )
		f6_local0[f6_local1]:SetDataSource( f6_arg1:GetDataSourceAtIndex( f6_local1 - 1 ), f6_arg0._controllerIndex )
	end
end

local f0_local2 = function ( f5_arg0, f5_arg1, f5_arg2 )
	f0_local0( f5_arg0, f5_arg1.members, 1 )
	f0_local0( f5_arg0, f5_arg2.members, 2 )
end

local f0_local3 = function ( f3_arg0, f3_arg1, f3_arg2, f3_arg3 )
	FrontEndScene.HideAllCharacters()
	Engine[0x685AE31DEDA30A4]( "character_tournaments" )
	local f3_local0 = TOURNAMENT.GetTournamentTeamDatasources( f3_arg0, f3_arg1 )
	local f3_local1 = TOURNAMENT.GetTeamDatasource( f3_local0, 0 )
	local f3_local2 = TOURNAMENT.GetTeamDatasource( f3_local0, 1 )
	local f3_local3 = TOURNAMENT.GetMyTeamIndex( f3_arg2, f3_arg3 )
	if f3_local3 == Teams.allies then
		local f3_local4 = f3_local2
		f3_local2 = f3_local1
		f3_local1 = f3_local4
	end
	f0_local0( f3_arg0, f3_local1, f3_local2 )
	f3_arg0._allTeamData = TOURNAMENT.RequestClientCharacterData( f3_arg0, f3_local1, f3_local2, f3_arg1, f3_local3 )
	if not f3_arg0.lobbyTimer then
		f3_arg0.lobbyTimer = LUI.UITimer.new( {
			interval = 2000,
			event = "update_streaming_requests"
		} )
		f3_arg0.lobbyTimer.id = "lobbyTimer"
		f3_arg0:addElement( f3_arg0.lobbyTimer )
		f3_arg0:registerEventHandler( "update_streaming_requests", function ( element, event )
			f3_arg0._allTeamData = TOURNAMENT.RequestClientCharacterData( element, f3_arg0, f3_arg0, f3_arg0, f3_arg0 )
			if TOURNAMENT.UpdateClientCharacters( f3_arg0, f3_arg0._allTeamData, f3_arg0._teamDetails ) then
				f3_arg0:processEvent( {
					name = "lose_focus"
				} )
				f3_arg0:processEvent( {
					name = "gain_focus"
				} )
			end
		end )
	end
	if TOURNAMENT.UpdateClientCharacters( f3_arg1, f3_arg0._allTeamData, f3_arg0._teamDetails ) then
		f3_arg0:processEvent( {
			name = "lose_focus"
		} )
		f3_arg0:processEvent( {
			name = "gain_focus"
		} )
	end
end

local f0_local4 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.SetClientCharacterScene = f0_local0
	f2_arg0._controllerIndex = f2_arg2.controllerIndex
	f2_arg0._teamDetails = {}
	for f2_local0 = 1, f0_local0, 1 do
		for f2_local3 = 1, TOURNAMENT.maxPlayersOnTeam, 1 do
			f2_arg0._teamDetails[f2_local0] = f2_arg0._teamDetails[f2_local0] or {}
			table.insert( f2_arg0._teamDetails[f2_local0], f2_arg0["Team" .. f2_local0 .. "Player" .. f2_local3 .. "Details"] )
		end
	end
end

function TournamentPlayerNames( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = f1_local0.UIHorizontalNavigator.new()
	f1_local2:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920, 0, 1080 )
	f1_local2.id = "TournamentPlayerNames"
	local f1_local3
	if f1_arg1 then
		f1_local3 = f1_arg1
	else
		f1_local3 = f1_arg1.controllerIndex
	end
	f1_local3 = f1_local0.ValidateControllerIndex( f1_local2, f1_local3 )
	local f1_local4 = nil
	f1_local4 = f1_local1.BuildRegisteredType( 0x6AB008FC25991C, {
		controllerIndex = f1_local3
	} )
	f1_local4[0x8B72E07B55C3AC0] = "Team1Player3Details"
	f1_local4:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -631, -361, 758, 786 )
	f1_local2:addElement( f1_local4 )
	f1_local2[0x9F431CB9ECB91A7] = f1_local4
	local f1_local5 = nil
	f1_local5 = f1_local1.BuildRegisteredType( 0x6AB008FC25991C, {
		controllerIndex = f1_local3
	} )
	f1_local5[0x8B72E07B55C3AC0] = "Team1Player2Details"
	f1_local5:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -756, -486, 803, 831 )
	f1_local2:addElement( f1_local5 )
	f1_local2[0xC590AAB99C3405A] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local1.BuildRegisteredType( 0x6AB008FC25991C, {
		controllerIndex = f1_local3
	} )
	f1_local6[0x8B72E07B55C3AC0] = "Team1Player1Details"
	f1_local6:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -453, -183, 803, 831 )
	f1_local2:addElement( f1_local6 )
	f1_local2[0xD9123594F9C5E95] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local1.BuildRegisteredType( 0x6AB008FC25991C, {
		controllerIndex = f1_local3
	} )
	f1_local7[0x8B72E07B55C3AC0] = "Team2Player3Details"
	f1_local7:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, 381, 651, 758, 786 )
	f1_local2:addElement( f1_local7 )
	f1_local2[0xE7E937E3AB5E5D6] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local1.BuildRegisteredType( 0x6AB008FC25991C, {
		controllerIndex = f1_local3
	} )
	f1_local8[0x8B72E07B55C3AC0] = "Team2Player2Details"
	f1_local8:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, 522, 792, 803, 831 )
	f1_local2:addElement( f1_local8 )
	f1_local2[0xA3BD60769F68983] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local1.BuildRegisteredType( 0x6AB008FC25991C, {
		controllerIndex = f1_local3
	} )
	f1_local9[0x8B72E07B55C3AC0] = "Team2Player1Details"
	f1_local9:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, 204, 474, 803, 831 )
	f1_local2:addElement( f1_local9 )
	f1_local2[0xAF6F7589815E65C] = f1_local9
	f0_local0( f1_local2, f1_local3, f1_arg1 )
	return f1_local2
end

MenuBuilder.registerType( 0xD77015EA03C47D9, TournamentPlayerNames )
LockTable( _M )
