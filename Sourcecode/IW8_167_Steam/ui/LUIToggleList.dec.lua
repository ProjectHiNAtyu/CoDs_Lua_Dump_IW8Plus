-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 17-11-2025 01:21
LUI.UIToggleList = LUI.Class( LUI.List )
LUI.UIDataSourceToggleList = LUI.Class( LUI.UIToggleList )
LUI.UIToggleList.init = function ( f13_arg0, f13_arg1 )
	LUI.UIToggleList.super.init( f13_arg0, f13_arg1 )
	assert( f13_arg1 )
	assert( type( f13_arg1.buildChild ) == "function" )
	f13_arg0._activeIndices = {}
	f13_arg0._buildChildFunc = f13_arg1.buildChild
	f13_arg0._orderedIndices = f13_arg1.orderedIndices or false
	f13_arg0._animateInDuration = f13_arg1.animateInDuration or 500
	f13_arg0._animateOutDuration = f13_arg1.animateOutDuration or 500
	f13_arg0._animationVariance = f13_arg1.animationVariance
end

LUI.UIToggleList.AddItem = function ( f12_arg0, f12_arg1 )
	if f12_arg0._activeIndices[f12_arg1] then
		DebugPrint( "ERROR - LUI.UIToggleList.AddItem - Attempting to add an item at an index where an item already exists!" )
		return 
	end
	local widget = f12_arg0._buildChildFunc( f12_arg1 )
	local f12_local1 = f12_arg0:CreateContainerElement( widget )
	f12_local1.id = widget.id .. "Wrapper" .. f12_arg1
	f12_local1:addElement( widget )
	f12_local1.widget = widget
	
	widget:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	f12_local1._toggleListIndex = f12_arg1
	f12_arg0._activeIndices[f12_arg1] = true
	if f12_arg0._orderedIndices then
		f12_arg0:InsertOrderedItem( f12_arg1, f12_local1 )
	else
		f12_arg0:addElement( f12_local1 )
	end
	f12_local1:AnimateIn( f12_arg0:GetAnimationDuration( f12_arg0._animateInDuration ) )
	return f12_local1
end

LUI.UIToggleList.RemoveItem = function ( f10_arg0, f10_arg1 )
	if f10_arg0:getFirstChild() then
		
	else
		
	end
end

LUI.UIToggleList.GetItem = function ( f9_arg0, f9_arg1 )
	if f9_arg0:getFirstChild() then
		
	else
		
	end
	return nil
end

LUI.UIToggleList.InsertOrderedItem = function ( f8_arg0, f8_arg1, f8_arg2 )
	if f8_arg0:getFirstChild() then
		
	else
		
	end
	f8_arg0:addElement( f8_arg2 )
end

LUI.UIToggleList.CreateContainerElement = function ( f5_arg0, f5_arg1 )
	local f5_local0, f5_local1, f5_local2, f5_local3 = f5_arg1:getLocalRect()
	local f5_local4, f5_local5, f5_local6, f5_local7 = f5_arg1:GetAnchorData()
	local self = LUI.UIElement.new()
	self.AnimateIn = function ( f7_arg0, f7_arg1 )
		f7_arg0:SetAnchorsAndPosition( f5_arg0, f5_arg0, f5_arg0, f5_arg0, 0, 0, 0, 0 )
		f7_arg0:SetAnchorsAndPosition( f5_arg0, f5_arg0, f5_arg0, f5_arg0, f5_arg0, f5_arg0, f5_arg0, f5_arg0, f7_arg1 )
	end
	
	self.AnimateOut = function ( f6_arg0, f6_arg1, f6_arg2 )
		local f6_local0 = f6_arg0:SetAnchorsAndPosition( f5_arg0, f5_arg0, f5_arg0, f5_arg0, 0, 0, 0, 0, f6_arg1 )
		f6_local0.onComplete = f6_arg2
	end
	
	return self
end

LUI.UIToggleList.GetAnimationDuration = function ( f4_arg0, f4_arg1 )
	if f4_arg0._animationVariance then
		return math.random( f4_arg1 - f4_arg0._animationVariance, f4_arg1 + f4_arg0._animationVariance )
	else
		return f4_arg1
	end
end

LUI.UIDataSourceToggleList.init = function ( f1_arg0, f1_arg1 )
	LUI.UIDataSourceToggleList.super.init( f1_arg0, f1_arg1 )
	assert( f1_arg1.controlDataSource )
	assert( f1_arg1.listDataSource )
	assert( type( f1_arg1.listDataSource.GetDataSourceAtIndex ) == "function" )
	assert( f1_arg1.controller )
	f1_arg0._maxBits = f1_arg1.maxBits or 31
	local f1_local0 = f1_arg1.controlDataSource
	local f1_local1 = f1_arg1.listDataSource
	f1_arg0:SubscribeToModel( f1_local0:GetModel( f1_arg1.controller ), function ( f3_arg0 )
		local f3_local0 = DataModel.JJEHAEBDF( f3_arg0 )
		for f3_local1 = 1, f1_arg0._maxBits, 1 do
			local f3_local4 = Engine.CHJJIAHHGE( f3_local0, f3_local1 - 1 )
			if f3_local4 and not f1_arg0._activeIndices[f3_local1] then
				local f3_local5 = f1_arg0:GetDataSourceAtIndex( f3_local1, f1_arg0.controller )
				local f3_local6 = f1_arg0:AddItem( f3_local1 )
				f3_local6.widget:SetDataSource( f3_local5, f1_arg0.controller )
			end
			if not f3_local4 and f1_arg0._activeIndices[f3_local1] then
				f1_arg0:RemoveItem( f3_local1 )
			end
		end
	end )
	if f1_arg1.animationDataSource then
		f1_arg0:SubscribeToModel( f1_arg1.animationDataSource:GetModel( f1_arg1.controller ), function ( f2_arg0 )
			local f2_local0 = DataModel.JJEHAEBDF( f2_arg0 )
			for f2_local1 = 1, f1_arg0._maxBits, 1 do
				if Engine.CHJJIAHHGE( f2_local0, f2_local1 - 1 ) then
					local f2_local4 = f1_arg0:GetItem( f2_local1 )
					if f2_local4 then
						f2_local4:processEvent( {
							name = "togglelist_bitfield_animate"
						} )
					else
						DebugPrint( "ERROR - LUI.UIDataSourceToggleList.init - Attempting to animate an item which doesn't exist!" )
					end
				end
			end
		end )
	end
end

