-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
module( ..., package.seeall )
require( "ui.generated.widgets.scrollbar.horizontalminimalscrollbar" )
local f0_local0 = 406
local f0_local1 = 738
local f0_local2 = 816
local f0_local3 = 94
local f0_local4 = function ( f9_arg0, f9_arg1 )
	for f9_local0 = 1, f9_arg1.numMatches, 1 do
		f9_arg0["MatchGroup" .. f9_local0]:Update( f9_arg1.roundData.matches[f9_arg1.matchStart + f9_local0 - 1] )
	end
end

local f0_local5 = function ( f8_arg0, f8_arg1 )
	if not f8_arg1 then
		f8_arg1 = {}
	end
	f8_arg1.numMatches = f8_arg1.numMatches or 1
	f8_arg0.TournamentRoundTitle:Setup( f8_arg1 )
	for f8_local0 = 1, f8_arg1.numMatches, 1 do
		f8_arg0["MatchGroup" .. f8_local0]:SetMatch( f8_local0, f8_arg1 )
	end
	if f8_arg1.isLeft then
		ACTIONS.AnimateSequence( f8_arg0, "Left" )
	end
end

local f0_local6 = function ( f7_arg0 )
	local f7_local0 = CONDITIONS.IsTournamentFullSize( f7_arg0 )
	local f7_local1 = TOURNAMENT.GetFullData()
	local f7_local2 = f7_local1.rounds[1]
	local f7_local3 = f7_local1.rounds[2]
	local f7_local4 = f7_local1.rounds[3]
	f0_local0( f7_arg0.TournamentQuadBracket, {
		matchStart = 1,
		numMatches = 4,
		roundData = f7_local1.rounds[1]
	} )
	ACTIONS.AnimateSequence( f7_arg0.TournamentQuadBracket.TournamentRoundTitle, "Left" )
	local f7_local5 = f7_arg0.TournamentQuadBracket.TournamentRoundTitle
	local f7_local6 = f7_local5
	f7_local5 = f7_local5.SetAlpha
	local f7_local7
	if TOURNAMENT.IsRoundComplete( f7_local2 ) then
		f7_local7 = 0.5
	else
		f7_local7 = 1
	end
	f7_local5( f7_local6, f7_local7 )
	f0_local0( f7_arg0.TournamentDuoBracket, {
		matchStart = 1,
		numMatches = 2,
		roundData = f7_local1.rounds[2]
	} )
	ACTIONS.AnimateSequence( f7_arg0.TournamentDuoBracket.TournamentRoundTitle, "Left" )
	f7_local5 = f7_arg0.TournamentDuoBracket.TournamentRoundTitle
	f7_local6 = f7_local5
	f7_local5 = f7_local5.SetAlpha
	if TOURNAMENT.IsRoundComplete( f7_local3 ) then
		f7_local7 = 0.5
	else
		f7_local7 = 1
	end
	f7_local5( f7_local6, f7_local7 )
	f0_local0( f7_arg0.TournamentSingleBracket, {
		matchStart = 1,
		numMatches = 1,
		roundData = f7_local1.rounds[3]
	} )
	ACTIONS.AnimateSequence( f7_arg0.TournamentSingleBracket.TournamentRoundTitle, "Left" )
	f7_local5 = f7_arg0.TournamentSingleBracket.TournamentRoundTitle
	f7_local6 = f7_local5
	f7_local5 = f7_local5.SetAlpha
	if TOURNAMENT.IsRoundComplete( f7_local4 ) then
		f7_local7 = 0.5
	else
		f7_local7 = 1
	end
	f7_local5( f7_local6, f7_local7 )
	if f7_local0 then
		f0_local0( f7_arg0.TournamentFinalsBracket, {
			matchStart = 1,
			numMatches = 1,
			roundData = f7_local1.rounds[4]
		} )
		ACTIONS.AnimateSequence( f7_arg0.TournamentFinalsBracket.TournamentRoundTitle, "Center" )
		f0_local0( f7_arg0.TournamentQuadBracket2, {
			matchStart = 5,
			numMatches = 4,
			roundData = f7_local1.rounds[1]
		} )
		ACTIONS.AnimateSequence( f7_arg0.TournamentQuadBracket2.TournamentRoundTitle, "Right" )
		f7_local5 = f7_arg0.TournamentQuadBracket2.TournamentRoundTitle
		f7_local6 = f7_local5
		f7_local5 = f7_local5.SetAlpha
		if TOURNAMENT.IsRoundComplete( f7_local2 ) then
			f7_local7 = 0.5
		else
			f7_local7 = 1
		end
		f7_local5( f7_local6, f7_local7 )
		f0_local0( f7_arg0.TournamentDuoBracket2, {
			matchStart = 3,
			numMatches = 2,
			roundData = f7_local1.rounds[2]
		} )
		ACTIONS.AnimateSequence( f7_arg0.TournamentDuoBracket2.TournamentRoundTitle, "Right" )
		f7_local5 = f7_arg0.TournamentDuoBracket2.TournamentRoundTitle
		f7_local6 = f7_local5
		f7_local5 = f7_local5.SetAlpha
		if TOURNAMENT.IsRoundComplete( f7_local3 ) then
			f7_local7 = 0.5
		else
			f7_local7 = 1
		end
		f7_local5( f7_local6, f7_local7 )
		f0_local0( f7_arg0.TournamentSingleBracket2, {
			matchStart = 2,
			numMatches = 1,
			roundData = f7_local1.rounds[3]
		} )
		ACTIONS.AnimateSequence( f7_arg0.TournamentSingleBracket2.TournamentRoundTitle, "Right" )
		f7_local5 = f7_arg0.TournamentSingleBracket2.TournamentRoundTitle
		f7_local6 = f7_local5
		f7_local5 = f7_local5.SetAlpha
		if TOURNAMENT.IsRoundComplete( f7_local4 ) then
			f7_local7 = 0.5
		else
			f7_local7 = 1
		end
		f7_local5( f7_local6, f7_local7 )
	end
end

local f0_local7 = function ( f6_arg0 )
	local f6_local0 = CONDITIONS.IsTournamentFullSize( f6_arg0 )
	f0_local0( f6_arg0.TournamentQuadBracket, {
		matchStart = 1,
		roundIndex = 1,
		numMatches = 4,
		nextBracket = f6_arg0.TournamentDuoBracket
	} )
	f0_local0( f6_arg0.TournamentDuoBracket, {
		numMatches = 2,
		roundIndex = 2,
		matchStart = 5,
		nextBracket = f6_arg0.TournamentSingleBracket,
		prevBracket = f6_arg0.TournamentQuadBracket
	} )
	local f6_local1 = f0_local0
	local f6_local2 = f6_arg0.TournamentSingleBracket
	local f6_local3 = {
		numMatches = 1,
		roundIndex = 3,
		matchStart = 7
	}
	local f6_local4
	if f6_local0 then
		f6_local4 = f6_arg0.TournamentFinalsBracket
		if not f6_local4 then
		
		else
			f6_local3.nextBracket = f6_local4
			f6_local3.prevBracket = f6_arg0.TournamentDuoBracket
			f6_local1( f6_local2, f6_local3 )
			if f6_local0 then
				f6_arg0.TournamentFinalsBracket.TournamentRoundTitle:Setup( {
					roundIndex = 4
				} )
				f0_local0( f6_arg0.TournamentQuadBracket2, {
					isLeft = true,
					numMatches = 4,
					roundIndex = 1,
					matchStart = 1,
					nextBracket = f6_arg0.TournamentDuoBracket2
				} )
				f0_local0( f6_arg0.TournamentDuoBracket2, {
					isLeft = true,
					numMatches = 2,
					matchStart = 5,
					roundIndex = 2,
					nextBracket = f6_arg0.TournamentSingleBracket2,
					prevBracket = f6_arg0.TournamentQuadBracket2
				} )
				f0_local0( f6_arg0.TournamentSingleBracket2, {
					isLeft = true,
					numMatches = 1,
					matchStart = 7,
					roundIndex = 3,
					nextBracket = f6_arg0.TournamentFinalsBracket,
					prevBracket = f6_arg0.TournamentDuoBracket2
				} )
			end
		end
	end
	f6_local4 = nil
end

local f0_local8 = function ( menu, controller )
	local self = LUI.UIGrid.new( {
		scrollingThresholdX = 0,
		maxVisibleColumns = 3,
		wrapY = false,
		maxVisibleRows = 1,
		mouseWheelScrollingOffsetPx = -48,
		maxColumns = 7,
		wrapX = false,
		controllerIndex = controller,
		spacingX = f0_local0
	} )
	self.id = "BracketGrid"
	self:setUseStencil( true )
	self:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	menu.BracketGrid = self
	local f3_local1 = MenuBuilder.BuildRegisteredType( "TournamentQuadBracket", {
		controllerIndex = controller
	} )
	f3_local1.id = "TournamentQuadBracket"
	f3_local1:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f0_local0, 0, f0_local0 )
	self:AddElement( f3_local1 )
	menu.TournamentQuadBracket = f3_local1
	local f3_local2 = MenuBuilder.BuildRegisteredType( "TournamentDuoBracket", {
		controllerIndex = controller
	} )
	f3_local2.id = "TournamentDuoBracket"
	f3_local2:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f0_local0, 0, f0_local0 )
	self:AddElement( f3_local2 )
	menu.TournamentDuoBracket = f3_local2
	if CONDITIONS.IsTournamentFullSize( menu ) then
		local f3_local3 = MenuBuilder.BuildRegisteredType( "TournamentSingleBracket", {
			controllerIndex = controller
		} )
		f3_local3.id = "TournamentSingleBracket"
		f3_local3:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f0_local0, 0, f0_local0 )
		self:AddElement( f3_local3 )
		menu.TournamentSingleBracket = f3_local3
		local f3_local4 = MenuBuilder.BuildRegisteredType( "TournamentFinalsBracket", {
			controllerIndex = controller
		} )
		f3_local4.id = "TournamentFinalsBracket"
		f3_local4:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f0_local0, 0, f0_local0 )
		self:AddElement( f3_local4 )
		menu.TournamentFinalsBracket = f3_local4
		f3_local4.MatchGroup1:addEventHandler( "gain_focus", function ( f5_arg0, f5_arg1 )
			if f5_arg1.focusType == FocusType.MouseOver then
				return 
			elseif f5_arg1.direction == "right" then
				menu:processEvent( {
					name = "ensure_line_visible",
					line = 1.0811503511278343E-160,
					direction = LUI.DIRECTION.horizontal
				} )
			elseif f5_arg1.direction == "left" then
				menu:processEvent( {
					name = "ensure_line_visible",
					line = -8.679223798683761E+209,
					direction = LUI.DIRECTION.horizontal
				} )
			end
		end )
		local f3_local5 = MenuBuilder.BuildRegisteredType( "TournamentSingleBracket", {
			controllerIndex = controller
		} )
		f3_local5.id = "TournamentSingleBracket2"
		f3_local5:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f0_local0, 0, f0_local0 )
		self:AddElement( f3_local5 )
		menu.TournamentSingleBracket2 = f3_local5
		local f3_local6 = MenuBuilder.BuildRegisteredType( "TournamentDuoBracket", {
			controllerIndex = controller
		} )
		f3_local6.id = "TournamentDuoBracket2"
		f3_local6:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f0_local0, 0, f0_local0 )
		self:AddElement( f3_local6 )
		menu.TournamentDuoBracket2 = f3_local6
		local f3_local7 = MenuBuilder.BuildRegisteredType( "TournamentQuadBracket", {
			controllerIndex = controller
		} )
		f3_local7.id = "TournamentQuadBracket2"
		f3_local7:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f0_local0, 0, f0_local0 )
		self:AddElement( f3_local7 )
		menu.TournamentQuadBracket2 = f3_local7
		local f3_local8 = LUI.UIScrollbar.new
		local f3_local9 = {
			direction = LUI.DIRECTION.horizontal,
			eventListener = menu.Scrollbar,
			startCap = menu.Scrollbar.startCap,
			endCap = menu.Scrollbar.endCap,
			sliderArea = menu.Scrollbar.sliderArea
		}
		local f3_local10 = menu.Scrollbar.sliderArea
		if f3_local10 then
			f3_local10 = menu.Scrollbar.sliderArea.fixedSizeSlider
		end
		f3_local9.fixedSizeSlider = f3_local10
		f3_local8 = f3_local8( f3_local9 )
		f3_local8:SetKBMStyle( true )
		self:AddScrollbar( f3_local8 )
	else
		local f3_local3 = MenuBuilder.BuildRegisteredType( "TournamentSingleBracket", {
			controllerIndex = controller
		} )
		f3_local3.id = "TournamentSingleBracket"
		f3_local3:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f0_local0, 0, f0_local0 )
		self:AddElement( f3_local3 )
		menu.TournamentSingleBracket = f3_local3
	end
	local f3_local3 = Tournament[0xBC16030F3F31FF4]()
	local f3_local4 = Tournament[0x437737D4E717BDA]()
	if math.ceil( 2 ^ (f3_local3 - f3_local4 + 1) / 2 ) < Tournament[0x59A389572CC2C3B]() + 1 then
		self:SetDefaultFocus( {
			y = 0,
			x = self:GetNumChildren() - f3_local4 - 1
		} )
	else
		self:SetDefaultFocus( {
			y = 0,
			x = f3_local4
		} )
	end
	menu:addElement( self )
	self:addEventHandler( "layout_initialized", function ( f4_arg0, f4_arg1 )
		menu:SetMaxVisibleColumns( menu:GetNumChildren() )
		menu:processEvent( {
			shouldPlayButtonSound = false,
			name = "gain_focus"
		} )
	end )
end

local f0_local9 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.SetupStaticFields = f0_local0
	f2_arg0.UpdateBracket = f0_local0
	f0_local0( f2_arg0, f2_arg1 )
	f2_arg0:addElement( CoD.GetWorldBlur() )
end

function TournamentFullBracket( f1_arg0, f1_arg1 )
	local f1_local0 = CONDITIONS
	local f1_local1 = LUI
	local f1_local2 = MenuBuilder
	local f1_local3 = f1_local1.UIElement.new()
	f1_local3:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920, 0, 750 )
	f1_local3.id = "TournamentFullBracket"
	local f1_local4
	if f1_arg1 then
		f1_local4 = f1_arg1
	else
		f1_local4 = f1_arg1.controllerIndex
	end
	f1_local4 = f1_local1.ValidateControllerIndex( f1_local3, f1_local4 )
	local f1_local5 = nil
	if f1_local0.IsTournamentFullSize() then
		f1_local5 = f1_local2.BuildRegisteredType( 0xBD2DA5A108443EA, {
			controllerIndex = f1_local4
		} )
		f1_local5[0x8B72E07B55C3AC0] = "Scrollbar"
		f1_local5:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, 5, 15 )
		f1_local3:addElement( f1_local5 )
		f1_local3[0xF0042112D8663D9] = f1_local5
	end
	f0_local0( f1_local3, f1_local4, f1_arg1 )
	return f1_local3
end

MenuBuilder.registerType( 0x753D362F749C975, TournamentFullBracket )
LockTable( _M )
