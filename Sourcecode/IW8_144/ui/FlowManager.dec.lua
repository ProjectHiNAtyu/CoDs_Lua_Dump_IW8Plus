-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
LUI.FlowManager = LUI.Class( LUI.UIElement )
PushAndPopsTable = {}
DisableLetterbox = {}
DisableMousePointer = {}
FenceGroups = {}
SavedMenuStates = {}
AlwaysVisible = {}
PresetStacks = {}
IgnoreFollowHostCallbacks = {}
PartyUIRoot = {
	CP_SYSTEM_LINK_LOBBY = 29,
	BR_TRIALS = 11,
	MP_SYSTEM_LINK = 8,
	GAMEMODE_MP_MENUS_START = 4,
	MP_PRIVATE_TOURNAMENT_LOBBY = 13,
	TOURNAMENT_LOADING = 14,
	MP_MAIN_MENU = 5,
	GAMEMODE_CP_MENUS_END = 30,
	GAME_BATTLES_MATCH = 12,
	GAMEMODE_NONE_MENUS_START = 1,
	TOURNAMENT_MATCHMAKING = 15,
	WZ_TOURNAMENT_MATCHMAKING = 33,
	GAMEMODE_CP_MENUS_START = 24,
	GAMEMODE_WZ_MENUS_START = 31,
	WZ_TOURNAMENT_BRACKET = 34,
	MP_SYSTEM_LINK_LOBBY = 9,
	LAST = 39,
	CP_PRIVATE_MATCH = 26,
	BR_MAIN_MENU = 19,
	MP_TRIALS = 10,
	LOADOUT_SELECT_MENU = 17,
	MP_TRIAL_EVENT = 37,
	CP_PUBLIC_MATCH_LOBBY = 27,
	GAMEMODE_NONE_MENUS_END = 3,
	BATTLE_ROYALE_MENU_TUTORIAL = 21,
	MP_PUBLIC_MATCH_LOBBY = 7,
	FREE = 0,
	MP_PRIVATE_MATCH = 6,
	BATTLE_ROYALE_MENU_PUBLIC_LOBBY = 20,
	TOURNAMENT_BRACKET = 16,
	GAMEMODE_MP_MENUS_END = 23,
	GAMEMODE_WZ_MENUS_END = 36,
	WZ_PRIVATE_MATCH_LOBBY = 35,
	MAIN_MENU = 2,
	WZ_TOURNAMENT_LOADING = 32,
	BR_TRIAL_EVENT = 38,
	CP_MAIN_MENU = 25,
	CP_SYSTEM_LINK = 28,
	BATTLE_ROYALE_MENU = 18,
	PAYBACK_ONBOARDING_LOBBY = 22
}
BR_MENUS_START = PartyUIRoot.BATTLE_ROYALE_MENU
BR_MENUS_END = PartyUIRoot.PAYBACK_ONBOARDING_LOBBY
LUI.FlowManager.FlowMenus = {
	[PartyUIRoot.MAIN_MENU] = "MainMenu",
	[PartyUIRoot.MP_MAIN_MENU] = "MPMainMenu",
	[PartyUIRoot.MP_PRIVATE_MATCH] = "PrivateMatchLobby",
	[PartyUIRoot.MP_PUBLIC_MATCH_LOBBY] = "MPPublicLobby",
	[PartyUIRoot.MP_SYSTEM_LINK] = "MPSystemLinkMenu",
	[PartyUIRoot.MP_SYSTEM_LINK_LOBBY] = "MPSystemLinkLobby",
	[PartyUIRoot.MP_TRIALS] = "TrialsMP",
	[PartyUIRoot.BR_TRIALS] = "TrialsBR",
	[PartyUIRoot.GAME_BATTLES_MATCH] = "GameBattlesMatchLobby",
	[PartyUIRoot.MP_PRIVATE_TOURNAMENT_LOBBY] = "PrivateTournamentLobby",
	[PartyUIRoot.TOURNAMENT_LOADING] = "TournamentLoadingScreen",
	[PartyUIRoot.TOURNAMENT_MATCHMAKING] = "TournamentMatchmaking",
	[PartyUIRoot.TOURNAMENT_BRACKET] = "ArenaTournament",
	[PartyUIRoot.LOADOUT_SELECT_MENU] = "<disabled>",
	[PartyUIRoot.BATTLE_ROYALE_MENU] = "BattleRoyale",
	[PartyUIRoot.BR_MAIN_MENU] = "BRMainMenu",
	[PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY] = "BRPublicLobby",
	[PartyUIRoot.BATTLE_ROYALE_MENU_TUTORIAL] = "LobbyWarzoneTutorial",
	[PartyUIRoot.CP_MAIN_MENU] = "CPMainMenu",
	[PartyUIRoot.CP_PRIVATE_MATCH] = "CPPrivateMatchLobby",
	[PartyUIRoot.CP_PUBLIC_MATCH_LOBBY] = "CPPublicMatchMenu",
	[PartyUIRoot.CP_SYSTEM_LINK] = "CPSystemLinkMenu",
	[PartyUIRoot.CP_SYSTEM_LINK_LOBBY] = "CPSystemLinkLobby",
	[PartyUIRoot.PAYBACK_ONBOARDING_LOBBY] = "PayBackOnBoardingLobby",
	[PartyUIRoot.WZ_TOURNAMENT_LOADING] = "WZTournamentLoadingScreen",
	[PartyUIRoot.WZ_TOURNAMENT_MATCHMAKING] = "WZTournamentMatchmaking",
	[PartyUIRoot.WZ_TOURNAMENT_BRACKET] = "WZArenaTournament",
	[PartyUIRoot.WZ_PRIVATE_MATCH_LOBBY] = "WarzonePrivateMatchLobby",
	[PartyUIRoot.MP_TRIAL_EVENT] = "TrialEventMP",
	[PartyUIRoot.BR_TRIAL_EVENT] = "TrialEventBR"
}
LUI.FlowManager.PremiumMenus = {
	nil,
	"CampaignMenu",
	"CampaignMenuOffline",
	"MPMainMenu",
	"MPSystemLinkMenu",
	"MPSystemLinkLobby",
	"CPMainMenu",
	"CPSystemLinkMenu"
}
LUI.FlowManager.RegisterStackPushBehaviour = function ( f108_arg0, f108_arg1 )
	assert( f108_arg1 )
	PushAndPopsTable[f108_arg0] = PushAndPopsTable[f108_arg0] or {}
	local f108_local0 = PushAndPopsTable[f108_arg0]
	f108_local0.pushFuncs = f108_local0.pushFuncs or {}
	table.insert( f108_local0.pushFuncs, f108_arg1 )
end

LUI.FlowManager.RegisterStackPopBehaviour = function ( f107_arg0, f107_arg1 )
	assert( f107_arg1 )
	PushAndPopsTable[f107_arg0] = PushAndPopsTable[f107_arg0] or {}
	local f107_local0 = PushAndPopsTable[f107_arg0]
	f107_local0.popFuncs = f107_local0.popFuncs or {}
	table.insert( f107_local0.popFuncs, f107_arg1 )
end

LUI.FlowManager.RegisterFenceGroup = function ( f106_arg0, f106_arg1 )
	assert( not FenceGroups[f106_arg0] )
	FenceGroups[f106_arg0] = f106_arg1
end

LUI.FlowManager.RegisterIgnoreFollowHostCallback = function ( f105_arg0, f105_arg1 )
	IgnoreFollowHostCallbacks[f105_arg0] = f105_arg1
end

LUI.FlowManager.DisableLetterboxForMenu = function ( f104_arg0 )
	DisableLetterbox[f104_arg0] = true
end

LUI.FlowManager.AlwaysVisibleForMenu = function ( f103_arg0 )
	AlwaysVisible[f103_arg0] = true
end

LUI.FlowManager.RequestSetStack = function ( f102_arg0, f102_arg1 )
	assert( type( f102_arg0 ) == "string" )
	assert( type( f102_arg1 ) == "table" )
	PresetStacks[f102_arg0] = f102_arg1
end

LUI.FlowManager.DisableMousePointerForMenu = function ( f101_arg0 )
	DisableMousePointer[f101_arg0] = true
end

LUI.FlowManager.GetPerControllerPersistentData = function ( f100_arg0 )
	if not LUI.FlowManager._persistentData then
		LUI.FlowManager._persistentData = {}
	end
	if not LUI.FlowManager._persistentData[f100_arg0] then
		LUI.FlowManager._persistentData[f100_arg0] = {}
	end
	return LUI.FlowManager._persistentData[f100_arg0]
end

LUI.FlowManager.GetScopedData = function ( f99_arg0 )
	local f99_local0 = type( f99_arg0 )
	local f99_local1 = assert
	local f99_local2
	if f99_local0 ~= "string" and f99_local0 ~= "userdata" then
		f99_local2 = false
	else
		f99_local2 = true
	end
	f99_local1( f99_local2 )
	f99_local1 = Engine.DBFFAEEFGJ()
	local f99_local3 = assert
	local f99_local4
	if f99_local1 then
		f99_local4 = f99_local1
	else
		f99_local4 = f99_local1.flowManager
	end
	f99_local3( f99_local4 )
	f99_local3 = f99_local1.flowManager
	if f99_local0 == "string" then
		return f99_local3:GetScopedDataFromMenuName( f99_arg0 )
	elseif f99_local0 == "userdata" then
		return f99_local3:GetScopedDataFromElement( f99_arg0 )
	else
		
	end
end

LUI.FlowManager.RequestAddMenu = function ( f98_arg0, f98_arg1, f98_arg2, f98_arg3, f98_arg4, f98_arg5 )
	assert( type( f98_arg0 ) == "string" )
	local f98_local0 = {
		name = "addmenu",
		menu = f98_arg0,
		exclusiveController = f98_arg1,
		controller = f98_arg2,
		replaceTop = f98_arg3,
		immediate = f98_arg5,
		data = f98_arg4
	}
	local f98_local1 = Engine.DBFFAEEFGJ()
	LUI.UIRoot.BlockButtonInput( f98_local1, true, "RequestAddMenu " .. f98_arg0 )
	LUI.UIRoot.ProcessEvent( f98_local1, f98_local0 )
end

LUI.FlowManager.RequestSocialPopup = function ( f97_arg0 )
	LUI.FlowManager.RequestPopupMenu( nil, "ManagePartyPopup", true, controllerIndex, false, {
		disableQuickAccessShortcuts = false,
		controllerIndex = controllerIndex,
		areWeHost = FRIENDS.AreWeHost( Friends.BJDEIGDDCD() ),
		defaultTabFocus = FRIENDS.ManagePartyTabIDs.PARTY_INVITATIONS,
		menuTitle = Engine.CBBHFCGDIC( "LUA_MENU/SOCIAL_TITLE" ),
		inviteTabTitle = Engine.CBBHFCGDIC( "LUA_MENU/INVITE_TO_GAME" ),
		hasUsedShortcut = f97_arg0
	} )
end

LUI.FlowManager.RequestPopupMenu = function ( f96_arg0, f96_arg1, f96_arg2, f96_arg3, f96_arg4, f96_arg5, f96_arg6, f96_arg7, f96_arg8 )
	assert( f96_arg1 )
	local f96_local0 = {
		name = "popupmenu",
		menu = f96_arg1
	}
	if (f96_arg1 == "onboardingpopup" or f96_arg1 == "BattlePassOnboardingPopup") and CONDITIONS.IsQABotSkipActive() then
		return 
	end
	f96_local0.isModal = f96_arg7
	f96_local0.exclusiveController = f96_arg2
	f96_local0.controller = f96_arg3
	f96_local0.replaceTop = f96_arg4
	f96_local0.data = f96_arg5
	if f96_arg8 ~= nil then
		f96_local0.immediate = f96_arg8
	else
		f96_local0.immediate = true
	end
	local f96_local1 = Engine.DBFFAEEFGJ()
	LUI.UIRoot.BlockButtonInput( f96_local1, true, "RequestPopupMenu " .. f96_arg1 )
	LUI.UIRoot.ProcessEvent( f96_local1, f96_local0 )
end

LUI.FlowManager.RequestLeaveMenu = function ( f95_arg0, f95_arg1, f95_arg2 )
	local f95_local0 = {
		name = "leavemenu",
		element = f95_arg0,
		immediate = f95_arg1,
		blockSound = f95_arg2
	}
	local f95_local1 = Engine.DBFFAEEFGJ()
	LUI.UIRoot.BlockButtonInput( f95_local1, true, "RequestLeaveMenu" )
	LUI.UIRoot.ProcessEvent( f95_local1, f95_local0 )
end

LUI.FlowManager.RequestLeaveMenuByName = function ( f94_arg0, f94_arg1, f94_arg2 )
	assert( f94_arg0 )
	local f94_local0 = {
		name = "leavemenu",
		menu = f94_arg0,
		immediate = f94_arg1,
		blockSound = f94_arg2
	}
	LUI.UIRoot.BlockButtonInput( Engine.DBFFAEEFGJ(), true, "RequestLeaveMenuByName " .. f94_arg0 )
	local f94_local1 = Engine.DBFFAEEFGJ()
	f94_local1:processEvent( f94_local0 )
end

LUI.FlowManager.RequestLeaveMenuByNameWithController = function ( f93_arg0, f93_arg1, f93_arg2, f93_arg3 )
	assert( f93_arg0 )
	local f93_local0 = {
		name = "leavemenu",
		menu = f93_arg0,
		immediate = f93_arg2,
		blockSound = f93_arg3,
		managerControllerIndex = f93_arg1
	}
	LUI.UIRoot.BlockButtonInput( Engine.DBFFAEEFGJ(), true, "RequestLeaveMenuByName " .. f93_arg0 )
	local f93_local1 = Engine.DBFFAEEFGJ()
	f93_local1:processEvent( f93_local0 )
end

LUI.FlowManager.RequestRestoreMenu = function ( f92_arg0, f92_arg1, f92_arg2 )
	local f92_local0 = {
		name = "restoreMenu",
		menu = f92_arg0,
		immediate = true,
		exclusiveController = f92_arg1,
		controller = f92_arg2
	}
	local f92_local1 = Engine.DBFFAEEFGJ()
	LUI.UIRoot.BlockButtonInput( f92_local1, true, "RequestRestoreMenu" )
	LUI.UIRoot.ProcessEvent( f92_local1, f92_local0 )
end

LUI.FlowManager.RequestCloseAllMenus = function ( f91_arg0, f91_arg1, f91_arg2 )
	LUI.UIRoot.ProcessEvent( Engine.DBFFAEEFGJ(), {
		name = "closeallmenus"
	} )
	if f91_arg0 then
		METRICS.RecordInGameDismissMenuUsage( f91_arg2, f91_arg0, f91_arg1 )
	end
end

LUI.FlowManager.IsInStack = function ( f90_arg0 )
	local f90_local0 = Engine.DBFFAEEFGJ()
	local f90_local1 = assert
	local f90_local2
	if f90_local0 then
		f90_local2 = f90_local0
	else
		f90_local2 = f90_local0.flowManager
	end
	f90_local1( f90_local2 )
	return f90_local0.flowManager:StackContains( f90_arg0 )
end

LUI.FlowManager.IsAnyInStack = function ( f89_arg0 )
	local f89_local0 = Engine.DBFFAEEFGJ()
	local f89_local1 = assert
	local f89_local2
	if f89_local0 then
		f89_local2 = f89_local0
	else
		f89_local2 = f89_local0.flowManager
	end
	f89_local1( f89_local2 )
	return f89_local0.flowManager:StackContainsAny( f89_arg0 )
end

local f0_local0 = function ( f88_arg0 )
	if SavedMenuStates[f88_arg0] == nil then
		SavedMenuStates[f88_arg0] = {}
	end
	return SavedMenuStates[f88_arg0]
end

LUI.FlowManager.ClearSavedMenuStatesByControllerIndex = function ( f87_arg0, f87_arg1 )
	local f87_local0 = f0_local0( f87_arg0 )
	if f87_arg1 then
		f87_local0[f87_arg1] = nil
	end
end

LUI.FlowManager.IsTopMenuModal = function ()
	local f86_local0 = Engine.DBFFAEEFGJ()
	local f86_local1 = assert
	local f86_local2
	if f86_local0 then
		f86_local2 = f86_local0
	else
		f86_local2 = f86_local0.flowManager
	end
	f86_local1( f86_local2 )
	f86_local1 = f86_local0.flowManager.menuInfoStack
	local f86_local3 = f86_local1[#f86_local1]
	if f86_local3 then
		f86_local2 = f86_local3
	else
		f86_local2 = f86_local3.isModal
	end
	return f86_local2
end

LUI.FlowManager.IsMenuOnTop = function ( f85_arg0 )
	local f85_local0 = Engine.DBFFAEEFGJ()
	local f85_local1 = assert
	local f85_local2
	if f85_local0 then
		f85_local2 = f85_local0
	else
		f85_local2 = f85_local0.flowManager
	end
	f85_local1( f85_local2 )
	f85_local1 = f85_local0.flowManager:GetStackTop()
	local f85_local3
	if f85_local1 then
		f85_local3 = f85_local1
	else
		f85_local3 = f85_local1.name == f85_arg0
	end
	return f85_local3
end

LUI.FlowManager.GetCurrentMenu = function ( f84_arg0 )
	local f84_local0 = Engine.DBFFAEEFGJ()
	local f84_local1 = assert
	local f84_local2
	if f84_local0 then
		f84_local2 = f84_local0
	else
		f84_local2 = f84_local0.flowManager
	end
	f84_local1( f84_local2 )
	if f84_arg0:getParent() then
		
	else
		
	end
	assert( "Error getting current menu. Most likely, the element has not been added to a menu yet." )
end

LUI.FlowManager.GetVisibleMenu = function ()
	local f83_local0 = Engine.DBFFAEEFGJ()
	assert( f83_local0 )
	local f83_local1 = f83_local0.flowManager
	if f83_local1 and f83_local1.menuInfoStack then
		local f83_local2 = f83_local1.menuInfoStack[#f83_local1.menuInfoStack]
		if f83_local2 and f83_local2.menu then
			return f83_local2.menu
		end
	end
end

LUI.FlowManager.GetMenuNameAtIndex = function ( f82_arg0 )
	local f82_local0 = Engine.DBFFAEEFGJ()
	assert( f82_local0 )
	local f82_local1 = f82_local0.flowManager
	local f82_local2 = f82_local1.menuInfoStack
	if f82_arg0 < 0 then
		f82_arg0 = #f82_local2 + f82_arg0
	end
	assert( f82_local1.menuInfoStack[f82_arg0] )
	return f82_local1.menuInfoStack[f82_arg0].name
end

LUI.FlowManager.GetAllMenuNames = function ()
	local f81_local0 = Engine.DBFFAEEFGJ()
	assert( f81_local0 )
	local f81_local1 = f81_local0.flowManager
	local f81_local2 = nil
	if f81_local1 and f81_local1.menuInfoStack then
		for f81_local3 = #f81_local1.menuInfoStack, 1, -1 do
			local f81_local6 = f81_local1.menuInfoStack[f81_local3].name
			if f81_local6 and f81_local6 ~= "" then
				if f81_local3 == #f81_local1.menuInfoStack and not f81_local6 then
					f81_local2 = f81_local6
				else
					f81_local2 = f81_local2 .. ";" .. f81_local6
				end
			end
		end
	end
	return f81_local2
end

LUI.FlowManager.GetMenuByName = function ( f80_arg0 )
	local f80_local0 = Engine.DBFFAEEFGJ()
	assert( f80_local0 )
	local f80_local1 = f80_local0.flowManager
	if f80_local1 and f80_local1.menuInfoStack then
		for f80_local2 = #f80_local1.menuInfoStack, 1, -1 do
			local f80_local5 = f80_local1.menuInfoStack[f80_local2]
			if f80_arg0 == f80_local5.name then
				return f80_local5
			end
		end
	end
end

function SaveMenuStack( f79_arg0 )
	assert( f79_arg0 )
	assert( f79_arg0.flowManager )
	local f79_local0 = {}
	for f79_local4, f79_local5 in ipairs( f79_arg0.flowManager.menuInfoStack ) do
		table.insert( f79_local0, CreateMenuInfoSaveData( f79_local5 ) )
	end
	return mobdebug.dump( f79_local0, {
		sparse = false
	} )
end

function RestoreMenuStack( f78_arg0, f78_arg1 )
	assert( f78_arg0 )
	assert( f78_arg0.flowManager )
	assert( f78_arg1 )
	local f78_local0 = f78_arg0.flowManager
	f78_local0:closeAllMenus()
	local f78_local1, f78_local2 = loadstring( f78_arg1 )
	if f78_local1 then
		local f78_local3, f78_local4 = pcall( f78_local1 )
		for f78_local8, f78_local9 in ipairs( f78_local4 ) do
			local f78_local10 = f78_local9.name
			assert( f78_local10 )
			if FenceGroups[f78_local10] then
				f78_local9.fenceGroup = LUI.FenceGroup.new( FenceGroups[f78_local10], f78_local9.controller, f78_local9.buildData )
			end
			f78_local9.scopedData = MakeScopedDataForMenuInfo( f78_local9 )
			f78_local0:PushMenuInfo( f78_local9 )
		end
	end
	f78_arg0:TryAddMouseCursor()
end

function IsMenuInStack( f77_arg0, f77_arg1 )
	assert( f77_arg0 )
	local f77_local0 = f77_arg0.flowManager
	if not f77_local0 then
		return false
	else
		return f77_local0:StackContains( f77_arg1 )
	end
end

function IsMenuOpenAndVisible( f76_arg0, f76_arg1 )
	assert( f76_arg0 )
	local f76_local0 = f76_arg0.flowManager
	if not f76_local0 then
		return false
	elseif f76_local0.menuInfoStack then
		for f76_local4, f76_local5 in ipairs( f76_local0.menuInfoStack ) do
			if f76_local5.name == f76_arg1 and f76_local5.menu ~= nil then
				return true
			end
		end
	end
	return false
end

function AnyActiveMenusInStack( f75_arg0 )
	assert( f75_arg0 )
	local f75_local0 = f75_arg0.flowManager
	if not f75_local0 then
		return false
	elseif f75_local0.menuInfoStack then
		for f75_local4, f75_local5 in ipairs( f75_local0.menuInfoStack ) do
			if f75_local5.menu then
				return true
			end
		end
	end
	return false
end

function GetVisibleMenu( f74_arg0 )
	assert( f74_arg0 )
	local f74_local0 = f74_arg0.flowManager
	if not f74_local0 then
		return ""
	elseif f74_local0.menuInfoStack then
		local f74_local1 = f74_local0.menuInfoStack[#f74_local0.menuInfoStack]
		if f74_local1 and f74_local1.menu then
			if f74_local1.menu.id then
				return f74_local1.menu.id
			elseif f74_local1.menu.name then
				return f74_local1.menu.name
			end
		end
	end
	return ""
end

function GetAllMenuNames()
	local f73_local0 = Engine.DBFFAEEFGJ()
	assert( f73_local0 )
	local f73_local1 = f73_local0.flowManager
	local f73_local2 = nil
	if f73_local1 and f73_local1.menuInfoStack then
		for f73_local3 = #f73_local1.menuInfoStack, 1, -1 do
			local f73_local6 = f73_local1.menuInfoStack[f73_local3].name
			if f73_local6 and f73_local6 ~= "" then
				if f73_local3 == #f73_local1.menuInfoStack and not f73_local6 then
					f73_local2 = f73_local6
				else
					f73_local2 = f73_local2 .. ";" .. f73_local6
				end
			end
		end
	end
	return f73_local2
end

function GetLuiStreamerInfo( f72_arg0, f72_arg1 )
	if f72_arg0 and f72_arg0:getFirstChild() then
		
	else
		
	end
end

function GetLuiImageStreamersInfo()
	local f71_local0 = Engine.DBFFAEEFGJ()
	assert( f71_local0 )
	local f71_local1 = {
		value = nil
	}
	local f71_local2 = f71_local0.flowManager
	if f71_local2 and f71_local2.menuInfoStack then
		for f71_local3 = #f71_local2.menuInfoStack, 1, -1 do
			local f71_local6 = f71_local2.menuInfoStack[f71_local3]
			GetLuiStreamerInfo( f71_local6.menu, f71_local1 )
			f71_local1.value = ";" .. f71_local6.name .. ": " .. f71_local1.value .. ";"
		end
	end
	return f71_local1.value
end

function PrintLuiStreamedImageInfo( f70_arg0, f70_arg1 )
	if f70_arg0 and f70_arg0:getFirstChild() then
		
	else
		
	end
end

function GetLuiStreamedImageList( f69_arg0 )
	local f69_local0 = Engine.DBFFAEEFGJ()
	assert( f69_local0 )
	if f69_local0:getFirstChild() then
		
	else
		
	end
end

function GetAttachmentsReference( f68_arg0 )
	if CONDITIONS.InGame() then
		local f68_local0 = ""
		local f68_local1 = Game.EBGCIIBJHA( f68_arg0, true )
		if f68_local1 and 0 < #f68_local1 then
			for f68_local2 = 1, #f68_local1, 1 do
				if f68_local1[f68_local2].ref then
					local f68_local5 = f68_local1[f68_local2].ref
					local f68_local6 = f68_local1[f68_local2].variantID
					if f68_local6 and 0 < f68_local6 then
						f68_local5 = f68_local5 .. "|" .. f68_local6
					end
					if f68_local0 ~= "" then
						local f68_local7 = f68_local0 .. ";" .. f68_local5
						if not f68_local7 then
							f68_local0 = f68_local7
						else
							f68_local0 = f68_local5
						end
					end
					f68_local0 = f68_local5
				end
			end
			return f68_local0
		end
	end
	return ""
end

function GetFrontsceneWeaponModelName( f67_arg0 )
	if Engine.DDJFBBJAIG() then
		local f67_local0 = f67_arg0.flowManager
		if f67_local0 and f67_local0.menuInfoStack then
			local f67_local1 = f67_local0.menuInfoStack[#f67_local0.menuInfoStack]
			if f67_local1 and f67_local1.menu and f67_local1.menu.id == "AttachmentSelect" then
				local f67_local2 = LUI.FlowManager.GetScopedData( f67_local1.menu )
				if f67_local2.loadoutIndex then
					local f67_local3 = ""
					local f67_local4 = PlayerData.BFFBGAJGD( Engine.IJEBHJIJF(), LOADOUT.GetLoadoutStatsGroup() )
					local f67_local5 = f67_local4.squadMembers.loadouts[f67_local2.loadoutIndex].weaponSetups[f67_local2.weaponSlot]
					return WEAPON.GetWeaponModelName( f67_local5.weapon:get(), WEAPON.GenerateWeaponTable( f67_local5 ), {
						includeStickers = true,
						includeCamos = true,
						includeAttachments = true
					} )
				end
			end
		end
	end
	return ""
end

function IsTopSignInMenu( f66_arg0 )
	assert( f66_arg0 )
	if not CONDITIONS.IsSplitScreenEnabled() then
		return false
	end
	local f66_local0 = f66_arg0.flowManager
	if not f66_local0 then
		return false
	end
	local f66_local1 = false
	if not LUI.UIRoot.IsButtonInputBlocked( f66_arg0 ) and f66_local0.menuInfoStack then
		local f66_local2 = f66_local0.menuInfoStack[#f66_local0.menuInfoStack]
		if f66_local2 and f66_local2.menu and f66_local2.menu.isSignInMenu then
			local f66_local3 = LUI.FlowManager.GetScopedData( f66_local2.menu )
			if f66_local3 and f66_local3.focusedPage and 2 < f66_local3.focusedPage then
				
			else
				f66_local1 = true
			end
		end
	end
	return f66_local1
end

function CanSignoutSplitscreenPlayer( f65_arg0 )
	assert( f65_arg0 )
	local f65_local0 = f65_arg0.flowManager
	local f65_local1 = false
	if not LUI.UIRoot.IsButtonInputBlocked( f65_arg0 ) and f65_local0.menuInfoStack then
		local f65_local2 = f65_local0.menuInfoStack[#f65_local0.menuInfoStack]
		if f65_local2 and f65_local2.menu and f65_local2.menu.signoutSplitscreen ~= false then
			f65_local1 = true
		end
	end
	return f65_local1
end

function IsTopLocalSignInMenu( f64_arg0 )
	return false
end

LUI.FlowManager.closeAllMenusHandler = function ( f63_arg0, f63_arg1 )
	f63_arg0:closeAllMenus()
end

LUI.FlowManager.restoreMenuHandler = function ( f62_arg0, f62_arg1 )
	f62_arg0:restoreMenu( f62_arg1 )
	LUI.UIRoot.BlockButtonInput( f62_arg0.root, false, "RestoreMenuHandler" )
end

LUI.FlowManager.addMenuHandler = function ( f61_arg0, f61_arg1 )
	f61_arg0:addMenu( f61_arg1 )
	LUI.UIRoot.BlockButtonInput( f61_arg0.root, false, "AddMenuHandler" )
end

LUI.FlowManager.popupMenuHandler = function ( f60_arg0, f60_arg1 )
	f60_arg1.isPopup = true
	f60_arg0:addMenuHandler( f60_arg1 )
end

LUI.FlowManager.leaveMenuHandler = function ( f59_arg0, f59_arg1 )
	f59_arg0:leaveMenu( f59_arg1 )
	LUI.UIRoot.BlockButtonInput( f59_arg0.root, false, "leaveMenu" )
end

LUI.FlowManager.closeAllMenus = function ( f58_arg0 )
	for f58_local0 = #f58_arg0.menuInfoStack, 1, -1 do
		local f58_local3 = f58_arg0.menuInfoStack[f58_local0]
		if not AlwaysVisible[f58_local3.name] then
			f58_arg0:CloseMenuInfo( f58_local3, true, false )
			f58_arg0:RemoveMenuInfo( f58_local3 )
		end
	end
end

LUI.FlowManager.restoreMenu = function ( f57_arg0, f57_arg1 )
	local f57_local0 = nil
	if f57_arg1.menuId ~= nil then
		f57_arg1.menu = LUI.FlowManager.FlowMenus[f57_arg1.menuId]
	end
	if not f57_arg0.IsInStack( f57_arg1.menu ) then
		f57_arg0:addMenu( f57_arg1 )
		return 
	end
	local f57_local1 = f57_arg0:GetStackTop()
	if f57_local1 and f57_local1.name == f57_arg1.menu then
		return 
	end
	local f57_local2 = nil
	for f57_local3 = #f57_arg0.menuInfoStack, 1, -1 do
		local f57_local6 = f57_arg0.menuInfoStack[f57_local3]
		if not f57_local6.isModal then
			if f57_local6.name ~= f57_arg1.menu then
				f57_arg0:CloseMenuInfo( f57_local6, false, false )
				f57_arg0:RemoveMenuInfo( f57_local6 )
			end
		end
	end
	f57_arg0:RefreshStack()
end

LUI.FlowManager.addMenu = function ( f56_arg0, f56_arg1 )
	local f56_local0 = f56_arg1.menu
	local f56_local1 = f56_arg1.data
	if f56_local1 then
		f56_local1 = f56_arg1.data.bypassDuplicateMenuCheck
	end
	if f56_arg0:StackContains( f56_local0 ) and not f56_local1 then
		return 
	end
	local f56_local2 = f56_arg0.menuInfoStack[#f56_arg0.menuInfoStack]
	if f56_local2 and f56_arg1.replaceTop then
		f56_arg0:CloseMenuInfo( f56_local2, false, false )
		f56_arg0:RemoveMenuInfo( f56_local2 )
	end
	local f56_local3 = f56_arg0:CreateMenuInfo( f56_local0, f56_arg1.data, f56_arg1.exclusiveController, f56_arg1.controller )
	f56_local3.isPopup = f56_arg1.isPopup or f56_arg1.isModal
	f56_local3.isModal = f56_arg1.isModal
	f56_arg0:PushMenuInfo( f56_local3 )
	f56_arg0:RefreshStack()
end

LUI.FlowManager.leaveMenu = function ( f55_arg0, f55_arg1 )
	local f55_local0 = f55_arg0._controllerIndex
	if not f55_local0 then
		f55_local0 = Engine.IJEBHJIJF()
	end
	if f55_arg1.managerControllerIndex and f55_local0 ~= f55_arg1.managerControllerIndex then
		return 
	end
	local f55_local1 = nil
	if f55_arg1.menuId ~= nil then
		f55_arg1.menu = LUI.FlowManager.FlowMenus[f55_arg1.menuId]
	end
	if f55_arg1.element or f55_arg1.menu then
		for f55_local2 = #f55_arg0.menuInfoStack, 1, -1 do
			local f55_local5 = f55_arg0.menuInfoStack[f55_local2]
			local f55_local6 = f55_arg1.element
			if f55_local6 then
				f55_local6 = f55_arg1.element:isDescendentOf( f55_local5.menu )
			end
			local f55_local7 = f55_arg1.menu
			if f55_local7 then
				f55_local7 = f55_local5.name == f55_arg1.menu
			end
			if f55_local6 or f55_local7 then
				f55_local1 = f55_local5
			end
		end
	else
		f55_local1 = f55_arg0:GetStackTop()
	end
	if not f55_local1 then
		return 
	end
	f55_arg0:CloseMenuInfo( f55_local1, false, false )
	f55_arg0:RemoveMenuInfo( f55_local1 )
	if not f55_local1.isModal and not f55_arg1.blockSound then
		Engine.BJDBIAGIDA( CoD.SFX.SelectBack )
	end
	f55_arg0:RefreshStack()
end

LUI.FlowManager.GetScopedDataFromElement = function ( f54_arg0, f54_arg1 )
	if f54_arg1._scoped then
		return f54_arg1._scoped
	else
		local f54_local0 = f54_arg1:getParent()
		if not f54_local0 then
			DebugPrint( "Could not find scoped data for supplied LUI element, attempting to get scoped data from visible menu." )
			local f54_local1 = LUI.FlowManager.GetVisibleMenu()
			if f54_local1 then
				return f54_arg0:GetScopedDataFromElement( f54_local1 )
			else
				assert( false, "Could not find scoped data for supplied LUI element and there is no visible menu." )
				
			end
		else
			return f54_arg0:GetScopedDataFromElement( f54_local0 )
		end
	end
end

LUI.FlowManager.GetScopedDataFromMenuName = function ( f53_arg0, f53_arg1 )
	for f53_local0 = #f53_arg0.menuInfoStack, 1, -1 do
		local f53_local3 = f53_arg0.menuInfoStack[f53_local0]
		if f53_local3.name == f53_arg1 then
			return f53_local3.scopedData
		end
	end
	assert( false, "Could not find scoped data for menu named " .. f53_arg1 .. "." )
end

function CreateMenuInfoSaveData( f52_arg0 )
	local f52_local0 = {}
	for f52_local9, f52_local10 in pairs( f52_arg0 ) do
		if f52_local9 ~= "fenceGroup" and f52_local9 ~= "scopedData" then
			if f52_local9 == "menu" then
				
			end
			if f52_local9 == "buildData" then
				for f52_local7, f52_local8 in pairs( f52_local10 ) do
					if type( f52_local8 ) == "table" and f52_local8.__serializable == false then
						DebugPrint( "WARNING: Not saving buildData field \"" .. tostring( f52_local7 ) .. "\" for LUI Reload of menu \"" .. tostring( f52_arg0.name ) .. "\"" )
						f52_local10[f52_local7] = nil
					end
				end
			end
			f52_local0[f52_local9] = f52_local10
		end
	end
	return f52_local0
end

function MakeScopedDataForMenuInfo( f51_arg0 )
	local f51_local0 = {
		menuName = f51_arg0.name
	}
	for f51_local4, f51_local5 in pairs( f51_arg0.buildData ) do
		f51_local0[f51_local4] = f51_local5
	end
	if f51_arg0.controller then
		f51_local0.controllerIndex = f51_arg0.controller
		f51_local0.exclusiveController = f51_arg0.controller
		f51_local0.exclusiveControllerIndex = f51_arg0.controller
		f51_local0.isControllerExclusive = f51_arg0.isControllerExclusive
	end
	return f51_local0
end

LUI.FlowManager.CreateMenuInfo = function ( f47_arg0, f47_arg1, f47_arg2, f47_arg3, f47_arg4 )
	local f47_local0 = f47_arg0
	local f47_local1 = {
		name = f47_arg1
	}
	local f47_local2
	if not f47_arg2 then
		f47_local2 = f47_arg2
	else
		f47_local2 = {}
	end
	f47_local1.buildData = f47_local2
	f47_local1.controller = f47_arg4
	if not Engine.DDJFBBJAIG() then
		f47_local1.controller = f47_arg0:getRootController()
	elseif not f47_arg4 then
		DebugPrint( "Warning: opening menu \"" .. f47_arg1 .. "\" for unspecified controllerIndex, defaulting to 0" )
		f47_local1.controller = 0
	end
	if f47_arg4 == nil or f47_arg3 ~= true then
		f47_local2 = false
	else
		f47_local2 = true
	end
	f47_local1.isControllerExclusive = f47_local2
	f47_local1.scopedData = MakeScopedDataForMenuInfo( f47_local1 )
	if FenceGroups[f47_arg1] then
		f47_local1.fenceGroup = LUI.FenceGroup.new( FenceGroups[f47_arg1], f47_local1.controller, f47_local1.buildData )
		f47_local1.fenceGroup.OnPass = function ( f50_arg0 )
			
		end
		
		f47_local1.fenceGroup.OnBlock = function ( f49_arg0 )
			
		end
		
		f47_local1.fenceGroup.OnFail = function ( f48_arg0 )
			DebugPrint( "Fencegroup failed for " .. f47_arg0 )
			if f47_arg0:StackContains( f47_arg0 ) then
				for f48_local0 = #f47_arg0.menuInfoStack, 1, -1 do
					local f48_local3 = f47_arg0.menuInfoStack[f48_local0]
					f47_arg0:CloseMenuInfo( f48_local3, true, false )
					f47_arg0:RemoveMenuInfo( f48_local3 )
					if f48_local3.name == f47_arg0 then
						
					end
				end
			else
				DebugPrint( "WARNING: Attempted to fail fencegroup for " .. f47_arg0 .. " but " .. f47_arg0 .. " is not in the stack." )
			end
		end
		
	end
	return f47_local1
end

LUI.FlowManager.OpenMenuInfo = function ( f46_arg0, f46_arg1 )
	if f46_arg1.opening then
		return 
	end
	local f46_local0 = Engine.CFCAICIAJC()
	if Engine.DDJFBBJAIG() then
		PlayerData.DHIICCFFFD()
	end
	assert( not f46_arg1.menu )
	LUI.ActiveScoped = f46_arg1.scopedData
	f46_arg1.opening = true
	f46_arg1.menu = MenuBuilder.buildMenu( f46_arg1.name, f46_arg1.scopedData )
	f46_arg1.opening = false
	for f46_local4, f46_local5 in ipairs( f46_arg0.menuInfoStack ) do
		if f46_local5.menu then
			f46_local5.menu:setPriority( f46_local4 )
		end
	end
	f46_arg0:addElement( f46_arg1.menu )
	f46_arg1.menu:processEvent( {
		dispatchChildren = true,
		name = "menu_create",
		controller = f46_arg1.controller
	} )
	assert( f46_arg1.menu )
	if not Engine.CGABICJHAI() and not Engine.BFIHBCBIHJ() and not DisableLetterbox[f46_arg1.name] then
		f46_arg1.menu:setupLetterboxElement()
	end
	LUI.ActiveScoped = nil
	f46_local1 = Engine.CFCAICIAJC()
	if not Engine.CEJJDJJHIJ( 0, "lua_menu_info", {
		completed_menu = true,
		menu_name = f46_arg1.name,
		memory_delta_bytes = f46_local1 - f46_local0,
		init_free_bytes = f46_local0,
		post_free_bytes = f46_local1,
		in_game = Engine.DDJFBBJAIG()
	} ) then
		DebugPrint( "Failed to write to blackbox" )
	end
	f46_arg0:LogMenuChangeTo( f46_arg1.controller, f46_arg1.name )
end

LUI.FlowManager.CloseMenuInfo = function ( f45_arg0, f45_arg1, f45_arg2, f45_arg3 )
	local f45_local0 = f45_arg0._controllerIndex
	if not f45_local0 then
		f45_local0 = Engine.IJEBHJIJF()
	end
	local f45_local1 = f0_local0( f45_local0 )
	if not f45_arg3 then
		f45_local1[f45_arg1.name] = nil
	end
	if f45_arg1.menu then
		if f45_arg3 and not f45_local1[f45_arg1.name] then
			f45_local1[f45_arg1.name] = f45_arg1.menu:saveState()
		end
		if not f45_arg2 then
			f45_arg1.menu:processEvent( {
				name = "lose_focus"
			} )
			f45_arg1.menu:processEvent( {
				dispatchChildren = true,
				name = "menu_close",
				controller = f45_arg1.controller
			} )
		else
			f45_arg1.menu:processEvent( {
				dispatchChildren = true,
				name = "menu_close_all",
				controller = f45_arg1.controller
			} )
		end
		f45_arg1.menu:closeTree()
		f45_arg1.menu = nil
	end
end

LUI.FlowManager.GetStackVersion = function ( f44_arg0 )
	assert( f44_arg0.stackVersion )
	return f44_arg0.stackVersion
end

LUI.FlowManager.InsertMenuInfo = function ( f43_arg0, f43_arg1, f43_arg2 )
	assert( f43_arg2 )
	f43_arg0.stackVersion = f43_arg0.stackVersion + 1
	table.insert( f43_arg0.menuInfoStack, f43_arg1, f43_arg2 )
	if PushAndPopsTable[f43_arg2.name] and PushAndPopsTable[f43_arg2.name].pushFuncs and 0 < #PushAndPopsTable[f43_arg2.name].pushFuncs then
		for f43_local3, f43_local4 in ipairs( PushAndPopsTable[f43_arg2.name].pushFuncs ) do
			f43_local4()
		end
	end
	Engine.DHFEGHHHFH( true )
	if #f43_arg0.menuInfoStack == 1 then
		f43_arg0.root:processEvent( {
			name = "non_empty_menu_stack",
			controllerIndex = f43_arg0._controllerIndex
		} )
	end
	if CONDITIONS.IsDemoBuildOrDevBuildOrAreDevFeaturesEnabled() then
		f43_arg0:PrintStack()
	end
end

LUI.FlowManager.RemoveMenuInfo = function ( f42_arg0, f42_arg1 )
	assert( f42_arg1 )
	local f42_local0 = nil
	local f42_local1 = #f42_arg0.menuInfoStack
	if 1 <= f42_local1 and f42_arg0.menuInfoStack[f42_local1] ~= f42_arg1 then
		
	else
		
	end
	if 1 <= f42_local1 then
		if f42_arg1.fenceGroup then
			f42_arg1.fenceGroup:Abort()
		end
		if PushAndPopsTable[f42_arg1.name] and PushAndPopsTable[f42_arg1.name].popFuncs and 0 < #PushAndPopsTable[f42_arg1.name].popFuncs then
			for f42_local5, f42_local6 in ipairs( PushAndPopsTable[f42_arg1.name].popFuncs ) do
				f42_local6()
			end
		end
		f42_arg0.stackVersion = f42_arg0.stackVersion + 1
		table.remove( f42_arg0.menuInfoStack, f42_local1 )
	end
	if #f42_arg0.menuInfoStack == 0 then
		if Engine.CAADCDEEIA() and not Engine.DDJFBBJAIG() then
			ACTIONS.ResumeGame( f42_arg0 )
		end
		f42_arg0.root:processEvent( {
			name = "empty_menu_stack",
			controllerIndex = f42_arg0._controllerIndex
		} )
		f42_arg0.root:RemoveMouseCursor()
	end
	if Engine.BHICADFIHA() then
		f42_arg0:PrintStack()
	end
	Engine.DHFEGHHHFH( 0 < #f42_arg0.menuInfoStack )
end

LUI.FlowManager.PushMenuInfo = function ( f41_arg0, f41_arg1 )
	f41_arg0:SetStack( f41_arg1 )
	if f41_arg1.isModal then
		f41_arg0:InsertMenuInfo( #f41_arg0.menuInfoStack + 1, f41_arg1 )
	else
		local f41_local0 = #f41_arg0.menuInfoStack + 1
		if 1 < f41_local0 and f41_arg0.menuInfoStack[f41_local0 - 1].isModal then
			
		else
			
		end
		f41_arg0:InsertMenuInfo( f41_local0, f41_arg1 )
	end
end

LUI.FlowManager.SetStack = function ( f40_arg0, f40_arg1 )
	assert( f40_arg1.name )
	local f40_local0 = PresetStacks[f40_arg1.name]
	if not f40_local0 then
		return 
	end
	local f40_local1 = f40_arg1.controller
	DebugPrint( "FlowManager: Rewriting menu stack for " .. f40_arg1.name )
	if Engine.BHICADFIHA() then
		local f40_local2 = ""
		for f40_local7, f40_local8 in ipairs( f40_arg0.menuInfoStack ) do
			local f40_local9 = f40_local2
			local f40_local6
			if 1 < f40_local7 then
				f40_local6 = " > "
			else
				f40_local6 = ""
			end
			f40_local2 = f40_local9 .. f40_local6 .. f40_local8.name
		end
		DebugPrint( "    Current stack: " .. f40_local2 )
		f40_local2 = ""
		for f40_local7, f40_local8 in ipairs( f40_local0 ) do
			local f40_local9 = f40_local2
			local f40_local6
			if 1 < f40_local7 then
				f40_local6 = " > "
			else
				f40_local6 = ""
			end
			f40_local2 = f40_local9 .. f40_local6 .. f40_local8.name
		end
		DebugPrint( "    Requesting: " .. f40_local2 .. " > " .. f40_arg1.name )
	end
	for f40_local5, f40_local7 in ipairs( f40_arg0.menuInfoStack ) do
		if #f40_local0 < f40_local5 or f40_local7.name ~= f40_local0[f40_local5].name then
			for f40_local8 = #f40_arg0.menuInfoStack, f40_local5, -1 do
				local f40_local10 = f40_arg0.menuInfoStack[f40_local8]
				if not f40_local10.isModal then
					f40_arg0:CloseMenuInfo( f40_local10 )
					f40_arg0:RemoveMenuInfo( f40_local10 )
				end
			end
		end
	end
	for f40_local5, f40_local7 in ipairs( f40_local0 ) do
		if #f40_arg0.menuInfoStack < f40_local5 or f40_local7.name ~= f40_arg0.menuInfoStack[f40_local5].name then
			f40_arg0:PushMenuInfo( f40_arg0:CreateMenuInfo( f40_local7.name, nil, f40_local7.exclusiveController, f40_local1 ) )
		end
	end
	DebugPrint( "Set stack complete" )
end

LUI.FlowManager.PrintStack = function ( f39_arg0 )
	local f39_local0 = "----MENU STACK TOP----" .. "\n"
	for f39_local1 = #f39_arg0.menuInfoStack, 1, -1 do
		local f39_local4 = f39_arg0.menuInfoStack[f39_local1]
		local f39_local5
		if f39_local4.menu then
			f39_local5 = "Opened"
		else
			f39_local5 = "Closed"
		end
		f39_local0 = f39_local0 .. f39_local1 .. ") " .. f39_local4.name .. " (" .. f39_local5 .. ")" .. "\n"
	end
	DebugPrint( f39_local0 .. "---MENU STACK BOTTOM---" .. "\n" )
end

LUI.FlowManager.StackContains = function ( f38_arg0, f38_arg1 )
	for f38_local3, f38_local4 in ipairs( f38_arg0.menuInfoStack ) do
		if f38_local4.name == f38_arg1 then
			return true
		end
	end
	return false
end

LUI.FlowManager.StackContainsAny = function ( f37_arg0, f37_arg1 )
	for f37_local6, f37_local7 in ipairs( f37_arg0.menuInfoStack ) do
		for f37_local3, f37_local4 in pairs( f37_arg1 ) do
			if f37_local7.name == f37_local4 then
				return true
			end
		end
	end
	return false
end

LUI.FlowManager.GetStackTop = function ( f36_arg0, f36_arg1 )
	local f36_local0 = #f36_arg0.menuInfoStack
	if not f36_arg1 and 1 <= f36_local0 and f36_arg0.menuInfoStack[f36_local0].isModal then
		
	else
		
	end
	if 1 <= f36_local0 then
		return f36_arg0.menuInfoStack[f36_local0]
	else
		return nil
	end
end

LUI.FlowManager.GetTopMostOpenMenuInfo = function ( f35_arg0 )
	local f35_local0 = #f35_arg0.menuInfoStack
	if 1 <= f35_local0 and not f35_arg0.menuInfoStack[f35_local0].menu then
		
	else
		
	end
	if 1 <= f35_local0 then
		return f35_arg0.menuInfoStack[f35_local0]
	else
		return nil
	end
end

LUI.FlowManager.IsStackEmpty = function ( f34_arg0 )
	return #f34_arg0.menuInfoStack == 0
end

LUI.FlowManager.AreMainMenuFencedOut = function ( f33_arg0 )
	for f33_local3, f33_local4 in ipairs( f33_arg0.menuInfoStack ) do
		if (f33_local4.name == "MainMenuOffline" or f33_local4.name == "MainMenu") and f33_local4.fenced then
			return true
		end
	end
	return false
end

local f0_local1 = function ( f32_arg0, f32_arg1, f32_arg2 )
	if not false then
		
	else
		
	end
end

local f0_local2 = function ( f31_arg0, f31_arg1 )
	local f31_local0 = f31_arg0:GetStackTop( true )
	local f31_local1
	if f31_local0 then
		f31_local1 = f31_local0
	else
		f31_local1 = f31_local0.name == f31_arg1
	end
	return f31_local1
end

local f0_local3 = function ( f30_arg0, f30_arg1 )
	local f30_local0 = Engine.DBFFAEEFGJ()
	assert( f30_local0 )
	if IsMenuInStack( f30_local0, "OptionsMenuNewLayout" ) then
		f30_arg0:dispatchEventToRoot( {
			name = "closing_quick_access_menu",
			controllerIndex = f30_arg1.controller
		} )
		if not f0_local0( f30_arg0, "OptionsMenuNewLayout" ) then
			f0_local0( f30_arg0, f30_arg1, "OptionsMenuNewLayout" )
		end
	elseif not OSK.FCIEJBIHA() then
		f30_arg0:dispatchEventToRoot( {
			immediate = true,
			name = "opening_quick_access_menu"
		} )
		if IsMenuInStack( f30_local0, "SocialMenu" ) then
			f0_local0( f30_arg0, f30_arg1, "SocialMenu" )
		end
		ACTIONS.OpenOptionsMenu( f30_arg1.controller, nil, true )
		if Engine.CAADCDEEIA() and CONDITIONS.InGame() then
			GAME.PauseGame()
		end
	end
	return true
end

local f0_local4 = function ( f29_arg0, f29_arg1 )
	local f29_local0 = Engine.DBFFAEEFGJ()
	assert( f29_local0 )
	if Engine.CDCCDDJAJJ( f29_arg1.controller ) then
		if CONDITIONS.InGame() then
			if IsMenuInStack( f29_local0, "ManagePartyPopup" ) then
				f29_arg0:dispatchEventToRoot( {
					name = "closing_quick_access_menu"
				} )
			else
				LUI.FlowManager.RequestSocialPopup( f29_arg1.qualifier == "keyboard" )
			end
		elseif CONDITIONS.IsSocialEnabledInMainMenu( f29_arg0 ) then
			if IsMenuInStack( f29_local0, "SocialMenu" ) then
				f29_arg0:dispatchEventToRoot( {
					name = "closing_quick_access_menu",
					controllerIndex = f29_arg1.controller
				} )
				f0_local0( f29_arg0, f29_arg1, "SocialMenu" )
			elseif not OSK.FCIEJBIHA() then
				f29_arg0:dispatchEventToRoot( {
					immediate = true,
					name = "opening_quick_access_menu"
				} )
				if IsMenuInStack( f29_local0, "OptionsMenuNewLayout" ) then
					f0_local0( f29_arg0, f29_arg1, "OptionsMenuNewLayout" )
				end
				FRIENDS.OpenFriendsList( f29_arg1.controller, true )
			end
		end
		return true
	else
		return false
	end
end

local f0_local5 = function ( f28_arg0, f28_arg1 )
	Dvar.DHEGHJJJHI( "LMSLNRLNOT", not Dvar.IBEGCHEFE( "LMSLNRLNOT" ) )
	return true
end

local f0_local6 = function ( f27_arg0, f27_arg1 )
	Dvar.DHEGHJJJHI( "LOOTLTLRNN", not Dvar.IBEGCHEFE( "LOOTLTLRNN" ) )
	return true
end

local f0_local7 = function ( f26_arg0, f26_arg1 )
	if f26_arg1 == "quick_social" or f26_arg1 == "quick_options" then
		local f26_local0 = f26_arg0:GetTopMostOpenMenuInfo()
		if f26_local0 and f26_local0.menu and f26_local0.menu.isQuickAccessShortcutsDisabled then
			return false
		end
	end
	if f26_arg1 == "quick_social" and (LUI.FlowManager.IsInStack( "MainMenuOffline" ) or CONDITIONS.IsLaunchChunk() or Engine.CAADCDEEIA()) then
		return false
	end
	return true
end

local f0_local8 = function ( f25_arg0, f25_arg1 )
	if f25_arg1.down and f0_local0( f25_arg0, f25_arg1.button ) then
		if f25_arg1.button == "mute_sound" then
			return f0_local0( f25_arg0, f25_arg1 )
		elseif f25_arg1.button == "mute_voicechat" then
			return f0_local0( f25_arg0, f25_arg1 )
		elseif f25_arg1.button == "accept_notification" then
			f25_arg0:dispatchEventToRoot( {
				answer = true,
				name = "kbm_notification_prompt_answer"
			} )
		elseif f25_arg1.button == "decline_notification" then
			f25_arg0:dispatchEventToRoot( {
				answer = false,
				name = "kbm_notification_prompt_answer"
			} )
		elseif f25_arg1.button == "quick_options" then
			return f0_local0( f25_arg0, f25_arg1 )
		elseif f25_arg1.button == "quick_social" then
			return f0_local0( f25_arg0, f25_arg1 )
		end
	end
	return false
end

LUI.FlowManager.LeaveQuickMenus = function ()
	local f24_local0 = Engine.DBFFAEEFGJ()
	f24_local0:dispatchEventToRoot( {
		name = "closing_quick_access_menu"
	} )
	if LUI.FlowManager.IsInStack( "SocialMenu" ) then
		f0_local0( f24_local0.flowManager, nil, "SocialMenu" )
	end
	if LUI.FlowManager.IsInStack( "OptionsMenuNewLayout" ) then
		f0_local0( f24_local0.flowManager, nil, "OptionsMenuNewLayout" )
	end
end

LUI.FlowManager.init = function ( f21_arg0, f21_arg1, f21_arg2 )
	LUI.UIElement.init( f21_arg0 )
	f21_arg0.id = "flowManager"
	f21_arg0.root = f21_arg1
	f21_arg0._controllerIndex = f21_arg2
	f21_arg0.menuInfoStack = {}
	f21_arg0.stackVersion = 0
	f21_arg0.stackChangeTime = Engine.BFBIDEGDFB()
	f21_arg0.stackChangeMenu = 0
	f21_arg0.isPartyUIRootDirty = false
	f21_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		if f21_arg0( element, event ) then
			return true
		end
		local f23_local0 = f21_arg0:GetTopMostOpenMenuInfo()
		if f23_local0 then
			local f23_local1
			if f23_local0.controller and event.controller and f23_local0.controller ~= event.controller then
				f23_local1 = false
			else
				f23_local1 = true
			end
			if f23_local1 or not f23_local0.isControllerExclusive then
				return element:ForwardEventToTopMostOpenMenu( event )
			end
		end
		return false
	end )
	if Engine.EABCCIBFIG() then
		f21_arg0:registerEventHandler( "mousemove", f21_arg0.ForwardMouseEventToTopMostOpenMenu )
		f21_arg0:registerEventHandler( "mousedown", f21_arg0.ForwardMouseEventToTopMostOpenMenu )
		f21_arg0:registerEventHandler( "mouseup", f21_arg0.ForwardMouseEventToTopMostOpenMenu )
	end
	f21_arg0:registerEventHandler( "addmenu", f21_arg0.addMenuHandler )
	f21_arg0:registerEventHandler( "popupmenu", f21_arg0.popupMenuHandler )
	f21_arg0:registerEventHandler( "leavemenu", f21_arg0.leaveMenuHandler )
	f21_arg0:registerEventHandler( "restoreMenu", f21_arg0.restoreMenuHandler )
	f21_arg0:registerEventHandler( "closeallmenus", f21_arg0.closeAllMenusHandler )
	if Engine.EAAHGICFBD() and not Engine.DDJFBBJAIG() then
		f21_arg0:registerOmnvarHandler( "ui_options_menu", function ( f22_arg0, f22_arg1 )
			f22_arg0:OpenMenuByScriptRequest( f22_arg1.value )
		end )
		f21_arg0:OpenMenuByScriptRequest( Game.BFEEGCHICA( f21_arg2, "ui_options_menu" ) )
	end
end

LUI.FlowManager.GetGamemodeForUIRoot = function ( f20_arg0 )
	if f20_arg0 > PartyUIRoot.GAMEMODE_NONE_MENUS_START and f20_arg0 < PartyUIRoot.GAMEMODE_NONE_MENUS_END then
		return CoD.PlayMode.None
	elseif f20_arg0 > PartyUIRoot.GAMEMODE_MP_MENUS_START and f20_arg0 < PartyUIRoot.GAMEMODE_MP_MENUS_END then
		return CoD.PlayMode.Core
	elseif f20_arg0 > PartyUIRoot.GAMEMODE_CP_MENUS_START and f20_arg0 < PartyUIRoot.GAMEMODE_CP_MENUS_END then
		return CoD.PlayMode.Aliens
	elseif f20_arg0 > PartyUIRoot.GAMEMODE_WZ_MENUS_START and f20_arg0 < PartyUIRoot.GAMEMODE_WZ_MENUS_END then
		return CoD.PlayMode.Core
	else
		assert( "LUI.FlowManager.GetGamemodeForUIRoot invalid ui root " .. tostring( f20_arg0 ) )
	end
end

LUI.FlowManager.IsUIRootBRGamemode = function ( f19_arg0 )
	local f19_local0
	if (f19_arg0 < BR_MENUS_START or f19_arg0 > BR_MENUS_END) and (f19_arg0 <= PartyUIRoot.GAMEMODE_WZ_MENUS_START or f19_arg0 >= PartyUIRoot.GAMEMODE_WZ_MENUS_END) then
		f19_local0 = false
	else
		f19_local0 = true
	end
	return f19_local0
end

LUI.FlowManager.AutomaticNavigationFrame = function ( f18_arg0 )
	local f18_local0 = PartyUIRoot.FREE
	local f18_local1 = false
	local f18_local2 = false
	local f18_local3 = false
	local f18_local4 = false
	local f18_local5 = f18_arg0._controllerIndex
	if not f18_local5 then
		f18_local5 = Engine.IJEBHJIJF()
	end
	if f18_arg0.isPartyUIRootDirty then
		f18_local0 = Lobby.CGEIEECJJH()
		DebugPrint( "isPartyUIRootDirty is true. The uiDestination is " .. tostring( f18_local0 ) .. "\n" )
	else
		local f18_local6 = Tournament.DEHIAGCHBD()
		local f18_local7 = MLG.DEHIAGCHBD()
		if f18_local6 ~= PartyUIRoot.FREE then
			f18_local0 = f18_local6
			f18_local1 = true
			f18_local3 = true
			f18_local4 = true
		elseif f18_local7 ~= PartyUIRoot.FREE then
			f18_local0 = f18_local7
			f18_local2 = true
			f18_local3 = true
			f18_local4 = false
		end
	end
	if f18_local0 ~= PartyUIRoot.FREE then
		if Friends.GHGFJIJBI() or not Engine.CFHBIHABCB( f18_local5 ) or not Engine.CGJEJFBEAG( f18_local5 ) and Dvar.IBEGCHEFE( "LSLLMKMTSL" ) then
			if f18_local0 == PartyUIRoot.MP_PUBLIC_MATCH_LOBBY then
				f18_local0 = PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY
			elseif f18_local0 == PartyUIRoot.MP_MAIN_MENU then
				f18_local0 = PartyUIRoot.BR_MAIN_MENU
			elseif f18_local0 == PartyUIRoot.TOURNAMENT_LOADING or f18_local0 == PartyUIRoot.TOURNAMENT_MATCHMAKING or f18_local0 == PartyUIRoot.TOURNAMENT_BRACKET then
				f18_local0 = TOURNAMENT.GetUIRootForF2PFromPremiumIfF2PAllowed( f18_local0 )
			end
		end
		if CONDITIONS.IsMagmaGameMode() and (f18_local0 == PartyUIRoot.TOURNAMENT_LOADING or f18_local0 == PartyUIRoot.TOURNAMENT_MATCHMAKING or f18_local0 == PartyUIRoot.TOURNAMENT_BRACKET) then
			f18_local0 = TOURNAMENT.GetUIRootForF2PFromPremiumIfF2PAllowed( f18_local0 )
		end
		local f18_local6 = f18_arg0:DoAutomaticNavigation( f18_local0, f18_local3, f18_local4 )
		if f18_local6 and f18_local1 then
			Tournament.CJAJGICGJB()
		elseif f18_local6 and f18_local2 then
			MLG.CJAJGICGJB()
			if Dvar.IBEGCHEFE( "LPQQSRQSMO" ) then
				GAMEBATTLES.ShowFenceToRefreshSchedule()
			end
		elseif not f18_local6 then
			LUI.MouseCursorContextualMenuLayer.ForceCloseContextualMenu()
		end
	end
end

LUI.FlowManager.DoAutomaticNavigation = function ( f17_arg0, f17_arg1, f17_arg2, f17_arg3 )
	if Engine.DHEJECBEE() then
		END_GAME.StopServerAndLeave( f17_arg0 )
		return false
	elseif not Engine.DDJFBBJAIG() then
		return false
	elseif Lobby.BJEABAEHDE() then
		return false
	elseif f17_arg2 and Lobby.BBDICGHE() then
		if IsPrivateMatch() then
			Lobby.LeaveCustomGameLobby()
		elseif IsPublicMatch() then
			Lobby.LeavePublicLobby()
		end
		return false
	end
	local f17_local0 = Engine.IJEBHJIJF()
	if f17_arg2 and IsSystemLink() then
		Engine.DAGFFDGFII( "xstopprivateparty 0", f17_local0 )
		Dvar.DHEGHJJJHI( "LPSPMQSNPQ", false )
		return false
	elseif f17_arg3 and not Lobby.GFFECBCCF() then
		Engine.EBIDFIDHIE( "xstartprivateparty" )
		return false
	end
	local f17_local1 = Engine.DGEFGAJIB()
	if (f17_local1 ~= LUI.FlowManager.GetGamemodeForUIRoot( f17_arg1 ) or LUI.FlowManager.IsUIRootBRGamemode( f17_arg1 ) ~= CONDITIONS.IsMagmaGameMode()) and f17_local1 ~= CoD.PlayMode.None then
		local f17_local2 = Engine.IJEBHJIJF()
		f17_arg0:closeAllMenus()
		f17_arg0:addMenu( {
			menu = LUI.FlowManager.FlowMenus[PartyUIRoot.MAIN_MENU],
			controller = f17_local2
		} )
		return false
	end
	local f17_local2 = LUI.FlowManager.FlowMenus[f17_arg1]
	if not f17_local2 then
		return true
	end
	for f17_local6, f17_local7 in pairs( IgnoreFollowHostCallbacks ) do
		if f17_arg0:StackContains( f17_local6 ) and f17_local7( f17_local2 ) then
			return true
		end
	end
	f17_local3 = f17_arg0:StackContains( f17_local2 )
	f17_local4 = false
	for f17_local5 = f17_arg1 + 1, PartyUIRoot.LAST, 1 do
		if f17_arg0:StackContains( LUI.FlowManager.FlowMenus[f17_local5] ) then
			f17_local4 = true
			break
		end
	end
	if f17_local3 and not f17_local4 then
		f17_arg0.isPartyUIRootDirty = false
		return true
	end
	DebugPrint( "LUI.FlowManager.FollowPartyHost to " .. f17_local2 )
	f17_arg0:closeAllMenus()
	f17_arg0:addMenu( {
		menu = f17_local2,
		controller = f17_local0
	} )
	return false
end

LUI.FlowManager.OpenMenuByScriptRequest = function ( f13_arg0, f13_arg1 )
	assert( Engine.EAAHGICFBD() )
	if not Game.HJHDJDCBF() then
		
	else
		
	end
	local f13_local0 = nil
	f13_local0 = function ( f15_arg0 )
		local f15_local0 = f13_arg0:Wait( 16 )
		f15_local0.onComplete = function ()
			if f15_arg0.root.loadingScreenManager and f15_arg0.root.loadingScreenManager:ShouldBeVisible() then
				f15_arg0( f15_arg0 )
			else
				f15_arg0()
			end
		end
		
	end
	
	local f13_local1 = {
		nil,
		"TeamSelectMenu",
		"LoadoutSelect",
		"LaunchChunkNewPhasePopup"
	}
	if f13_local1[f13_arg1] then
		local f13_local2 = f13_arg0.root:GetControllerIndex()
		f13_local0( function ()
			LUI.FlowManager.RequestAddMenu( f13_arg0, true, f13_arg0, false, {
				openedFromScriptRequest = true
			}, true )
			if f13_arg0 ~= "LaunchChunkNewPhasePopup" then
				if CONDITIONS.IsMagmaGameMode() then
					LUI.FlowManager.RequestSetStack( f13_arg0, {
						{
							name = "BrPauseMenu"
						}
					} )
				else
					LUI.FlowManager.RequestSetStack( f13_arg0, {
						{
							name = "MPPauseMenu"
						}
					} )
				end
			end
		end )
	end
	LUI.FlowManager.RequestCloseAllMenus()
end

LUI.FlowManager.ShouldBeVisible = function ( f12_arg0 )
	local f12_local0 = Engine.DDJFBBJAIG()
	if not f12_local0 then
		f12_local0 = Game.HJHDJDCBF()
	end
	return f12_local0
end

LUI.FlowManager.LogMenuChangeTo = function ( f11_arg0, f11_arg1, f11_arg2 )
	if f11_arg0.stackChangeMenu ~= f11_arg2 then
		local f11_local0 = Engine.BFBIDEGDFB()
		local f11_local1 = f11_local0 - f11_arg0.stackChangeTime
		if f11_arg0.stackChangeMenu ~= 0 then
			Engine.BHCDIBBGGB( f11_arg1, f11_arg0.stackChangeMenu, f11_arg2, f11_local1 )
		end
		f11_arg0.stackChangeMenu = f11_arg2
		f11_arg0.stackChangeTime = f11_local0
	end
end

LUI.FlowManager.Frame = function ( f10_arg0 )
	f10_arg0:RefreshStack()
	f10_arg0:AutomaticNavigationFrame()
end

LUI.FlowManager.InitLayer = function ( f8_arg0 )
	if Engine.DDJFBBJAIG() and not f8_arg0._partyRootSubscription then
		local f8_local0 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.partyUIRoot" )
		f8_arg0._partyRootSubscription = f8_arg0:SubscribeToModel( f8_local0:GetModel( 0 ), function ( f9_arg0 )
			local f9_local0 = Lobby.CGEIEECJJH()
			if f9_local0 > PartyUIRoot.FREE then
				DebugPrint( "Set isPartyUIRootDirty to true. The current partyUIRoot is " .. tostring( f9_local0 ) .. "\n" )
				f8_arg0.isPartyUIRootDirty = true
			end
		end )
	end
end

LUI.FlowManager.ClearLayer = function ( f7_arg0 )
	f7_arg0:closeAllMenus()
	if f7_arg0._partyRootSubscription then
		f7_arg0:UnsubscribeFromModel( f7_arg0._partyRootSubscription )
		f7_arg0._partyRootSubscription = nil
	end
end

LUI.FlowManager.RefreshStack = function ( f6_arg0 )
	if #f6_arg0.menuInfoStack == 0 then
		return 
	end
	for f6_local8, f6_local9 in ipairs( f6_arg0.menuInfoStack ) do
		if f6_local9.fenceGroup then
			f6_local9.fenceGroup:Frame()
		end
		local f6_local3 = f6_local9.fenceGroup
		if f6_local3 then
			f6_local3 = not f6_local9.fenceGroup:Passes()
		end
		f6_local9.fenced = f6_local3
		if f6_local9.fenced then
			for f6_local3 = f6_local8 + 1, #f6_arg0.menuInfoStack, 1 do
				local f6_local6 = f6_arg0.menuInfoStack[f6_local3]
				if f6_local6 then
					local f6_local7 = f6_local6.fenceGroup
					if f6_local7 then
						f6_local7:Reset()
					end
				end
			end
		end
	end
	f6_local0 = #f6_arg0.menuInfoStack
	for f6_local9, f6_local3 in ipairs( f6_arg0.menuInfoStack ) do
		if f6_local3.fenced then
			f6_local0 = f6_local9 - 1
			break
		end
	end
	f6_local1 = 1
	for f6_local3, f6_local4 in ipairs( f6_arg0.menuInfoStack ) do
		if not f6_local4.isPopup and (f6_local4.menu or f6_local3 <= f6_local0) then
			local f6_local5 = assert
			local f6_local6 = f6_local4.menu
			if not f6_local6 then
				f6_local6 = not f6_local4.fenced
			end
			f6_local5( f6_local6 )
			f6_local1 = f6_local3
		end
	end
	f6_local2 = f6_arg0:GetStackVersion()
	for f6_local4, f6_local5 in ipairs( f6_arg0.menuInfoStack ) do
		if f6_local2 ~= f6_arg0:GetStackVersion() then
			return f6_arg0:RefreshStack()
		elseif f6_local4 < f6_local1 then
			if f6_local5.menu and not AlwaysVisible[f6_local5.name] then
				f6_arg0:CloseMenuInfo( f6_local5, false, true )
			end
		end
		if not f6_local5.menu and (f6_local4 <= f6_local0 or f6_local5.isModal) then
			assert( not f6_local5.fenced )
			Engine.BHFFIBEFFH( "(FlowManager OpenMenuInfo) " .. f6_local5.name, "widget" )
			f6_arg0:OpenMenuInfo( f6_local5 )
			Engine.DCHDDCJCEG( "(FlowManager OpenMenuInfo) " .. f6_local5.name, "widget" )
		end
	end
	f6_local8 = f6_arg0._controllerIndex
	if not f6_local8 then
		f6_local8 = Engine.IJEBHJIJF()
	end
	f6_local9 = f0_local0( f6_local8 )
	for f6_local13, f6_local6 in ipairs( f6_arg0.menuInfoStack ) do
		local f6_local7 = f6_local6.onTop == true
		local f6_local10 = f6_local6.menu
		if f6_local10 then
			f6_local10 = f6_local13 == #f6_arg0.menuInfoStack
		end
		f6_local6.onTop = f6_local10
		if f6_local13 > f6_local0 or f6_local0 >= #f6_arg0.menuInfoStack then
			f6_local10 = false
		else
			f6_local10 = true
		end
		if f6_local6.menu then
			if f6_local6.onTop then
				if f6_local6.menu.popupActive then
					f6_local6.menu:processEvent( {
						dispatchChildren = true,
						name = "popup_inactive"
					} )
					f6_local6.menu.popupActive = nil
				end
				if not f6_local7 then
					if DisableMousePointer[f6_local6.name] then
						f6_arg0.root:RemoveMouseCursor()
					else
						f6_arg0.root:TryAddMouseCursor()
					end
					local f6_local11, f6_local12 = f6_local6.menu:restoreState( f6_local9[f6_local6.name], f6_local6.controller )
					if not LUI.IsLastInputMouseNavigation( f6_local6.controller ) then
						if not f6_local11 or f6_local12 == 0 then
							Engine.BHFFIBEFFH( "(FlowManager gain_focus) " .. f6_local6.name, "widget" )
							f6_local6.menu:processEvent( {
								name = "gain_focus",
								controller = f6_local6.controller,
								focusType = FocusType.MenuFlow
							} )
							Engine.DCHDDCJCEG( "(FlowManager gain_focus) " .. f6_local6.name, "widget" )
						end
					else
						Engine.HJJJIGAC( f6_local6.controller )
						LUI.MouseCursorTooltipLayer.ForceCloseTooltip( f6_local6.controller )
						if f6_local6.menu.MovedToStackTop then
							f6_local6.menu:MovedToStackTop( f6_local6.controller )
							if f6_local6 == nil or f6_local6.menu == nil then
								return 
							end
						end
					end
					LUI.MouseCursorContextualMenuLayer.ForceCloseContextualMenu()
					f6_local9[f6_local6.name] = nil
				end
			else
				if f6_local7 then
					f6_local9[f6_local6.name] = f6_local6.menu:saveState()
					f6_local6.menu:processEvent( {
						name = "lose_focus"
					} )
					f6_local6.menu:processEvent( {
						dispatchChildren = true,
						name = "popup_active"
					} )
				end
				f6_local6.menu.popupActive = true
			end
			if f6_local6.menu.isBelowBlockingFence ~= f6_local10 then
				f6_local6.menu.isBelowBlockingFence = f6_local10
				if f6_local10 then
					f6_local6.menu:processEvent( {
						name = "below_blocking_fence"
					} )
				else
					f6_local6.menu:processEvent( {
						name = "not_below_blocking_fence"
					} )
				end
			end
		end
	end
end

LUI.FlowManager.processEvent = function ( f5_arg0, f5_arg1 )
	local f5_local0 = nil
	local f5_local1 = f5_arg0.m_eventHandlers[f5_arg1.name]
	if f5_local1 then
		f5_local0 = f5_local1( f5_arg0, f5_arg1 )
	else
		f5_local0 = LUI.UIElement.processEvent( f5_arg0, f5_arg1 )
	end
	if not f5_local0 and f5_arg0.IsNavigationEvent( f5_arg1 ) then
		f5_arg0:EnsureFocus()
	end
	return f5_local0
end

LUI.FlowManager.EnsureFocus = function ( f4_arg0 )
	local f4_local0 = f4_arg0.menuInfoStack[#f4_arg0.menuInfoStack]
	if f4_local0 and f4_local0.menu and not f4_local0.menu:getFirstInFocus() then
		DebugPrint( "FlowManager: No child in focus, trying to restore focus.  This should probably only happen when using a mouse" )
		local f4_local1 = LUI.FlowManager.GetScopedData( f4_local0.menu )
		f4_local0.menu:processEvent( {
			name = "gain_focus",
			controller = f4_local1.controllerIndex
		} )
		DebugPrint( "CheckRestoreFocus to " .. f4_local0.name )
	end
end

LUI.FlowManager.ForwardEventToTopMostOpenMenu = function ( f3_arg0, f3_arg1 )
	local f3_local0 = f3_arg0:GetTopMostOpenMenuInfo()
	if f3_local0 then
		return f3_local0.menu:processEvent( f3_arg1 )
	else
		return false
	end
end

LUI.FlowManager.ForwardMouseEventToTopMostOpenMenu = function ( f2_arg0, f2_arg1 )
	f2_arg0:applyElementTransform()
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain( f2_arg0 )
	end
	local f2_local0 = f2_arg0:ForwardEventToTopMostOpenMenu( f2_arg1 )
	f2_arg0:undoElementTransform()
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.EndFocusChain( f2_arg0 )
	end
	if f2_arg1.name == "mousemove" then
		return true
	else
		return f2_local0
	end
end

LUI.FlowManager.IsNavigationEvent = function ( f1_arg0 )
	if f1_arg0.name == "gamepad_button" and f1_arg0.down and f1_arg0.qualifier ~= "mousewheel" and (f1_arg0.button == "up" or f1_arg0.button == "down" or f1_arg0.button == "left" or f1_arg0.button == "right") then
		return true
	else
		return false
	end
end

