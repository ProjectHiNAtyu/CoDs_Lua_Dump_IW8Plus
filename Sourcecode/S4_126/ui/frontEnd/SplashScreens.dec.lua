-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
module( ..., package.seeall )
SplashList = {
	{
		video = "startup"
	}
}
function SplashScreens()
	local self = LUI.UIElement.new()
	self.id = "splashScreens"
	self.nextSplashNum = 1
	if Engine[0x575E9C5B9AAB6F4]() and Dvar[0x9E5BE3B4BBA4E0E]( "#x3a7b4c41903e6ff34" ) then
		LUI.FlowManager.RequestLeaveMenu( self, true, true )
		OpenTitleScreen()
	else
		local f2_local1 = LUI.UIImage.new()
		f2_local1:SetRGBFromInt( 3355443, 0 )
		f2_local1:SetAlpha( 0 )
		f2_local1:SetAlpha( 1, 2000 )
		f2_local1.id = "background"
		f2_local1:SetHandleMouse( true )
		self:addElement( f2_local1 )
		
		local blackBackground = LUI.UIImage.new()
		blackBackground:SetRGBFromInt( 0 )
		blackBackground:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		blackBackground.id = "blackBackground"
		self:addElement( blackBackground )
		self.blackBackground = blackBackground
		
		local f2_local3 = self:Wait( 250 )
		f2_local3.onComplete = function ()
			self:SetAlpha( 0 )
		end
		
		local f2_local4 = LUI.Cinematic.new()
		f2_local4.id = "display"
		self:addElement( f2_local4 )
		local f2_local5 = LUI.UITimer.new( {
			interval = -28,
			event = "refresh_video"
		} )
		f2_local5.id = "timer"
		self:addElement( f2_local5 )
		self:registerEventHandler( "refresh_video", function ( self, event )
			if not Engine[0x6BF6AAF98B8A22A]() then
				return 
			else
				PlayNext( self )
			end
		end )
		PlayNext( self )
		if Engine[0xFB1B6E36ABE59B8]() or Engine[0x575E9C5B9AAB6F4]() and Dvar[0x9E5BE3B4BBA4E0E]( "#x3cd05836ab03c861c" ) then
			self:registerEventHandler( "gamepad_button", function ( self, event )
				if event.button == "rs_up" or event.button == "rs_down" or event.button == "rs_left" or event.button == "rs_right" or event.button == "up" or event.button == "down" or event.button == "left" or event.button == "right" then
					return 
				elseif event.down then
					self.blackBackground:SetAlpha( 0 )
					PlayNext( self )
				end
			end )
			self:registerEventHandler( "button_secondary", function ( self, event )
				self.blackBackground:SetAlpha( 0 )
				PlayNext( self )
			end )
			self:registerEventHandler( "button_primary", function ( self, event )
				self.blackBackground:SetAlpha( 0 )
				PlayNext( self )
			end )
			f2_local1:registerEventHandler( "leftmousedown", function ( element, event )
				self.blackBackground:SetAlpha( 0 )
				PlayNext( self )
			end )
		end
	end
	self.chatOptOut = true
	return self
end

function PlayNext( f1_arg0 )
	assert( f1_arg0.nextSplashNum )
	local f1_local0 = SplashList[f1_arg0.nextSplashNum]
	if f1_local0 then
		assert( f1_local0.video )
		Engine[0xFCF332AA8AC9B0F]( f1_local0.video )
		f1_arg0.nextSplashNum = f1_arg0.nextSplashNum + 1
	else
		Dvar[0x8EA06EEDB58D872]( "#x3cd05836ab03c861c", true )
		Engine[0x3DACD106DDC0D71]()
		Engine[0xD5101B839067F41]()
		LUI.FlowManager.RequestLeaveMenu( f1_arg0, true, true )
		if Engine[0xC6AD5341E93DFB3]() then
			if not WeGame.PopupHealthyTipsIfNeeded() then
				OpenTitleScreen()
			end
		else
			OpenTitleScreen()
		end
	end
end

MenuBuilder.registerType( "splash_screens", SplashScreens )
LockTable( _M )
