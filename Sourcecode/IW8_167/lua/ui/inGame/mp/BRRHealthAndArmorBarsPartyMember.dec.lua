-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = function ( f22_arg0, f22_arg1, f22_arg2 )
	f22_arg0.isMuted = false
	f22_arg0.wasDead = false
	if Game.BJGDCJHICE( 0 ) ~= nil then
		f22_arg0.Username:SetRGBFromTable( SWATCHES.HUD.HUDMain )
	end
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "healthRatio", function ( f29_arg0 )
		local f29_local0 = DataModel.JJEHAEBDF( f29_arg0 ) or 0
		local f29_local1 = f22_arg0:GetDataSource()
		local f29_local2 = f29_local1.isDowned:GetValue( f22_arg0 ) == true
		local f29_local3 = f29_local1.isBeingRevived:GetValue( f22_arg0 ) == true
		local f29_local4 = "Safe"
		if f29_local3 then
			f29_local4 = "BeingRevived"
		elseif f29_local2 then
			f29_local4 = "Downed"
		end
		if f29_local0 < 0.4 and 0 < f29_local0 and not f29_local3 then
			f29_local4 = "Danger"
		end
		if f22_arg0.curHealthAnim ~= f29_local4 then
			f22_arg0.curHealthAnim = f29_local4
			ACTIONS.AnimateSequence( f22_arg0, f29_local4 )
		end
	end )
	local f22_local0 = function ( f28_arg0 )
		local f28_local0 = nil
		local f28_local1 = f22_arg0._squadIndex ~= nil
		local f28_local2 = f22_arg0:GetDataSource()
		if f28_local2 == nil then
			return 
		end
		local f28_local3 = (f28_local2.gamerTag:GetValue( f22_arg0 ) or "") ~= ""
		local f28_local4 = f28_local2.isDowned:GetValue( f22_arg0 ) == true
		local f28_local5 = f28_local2.isBeingRevived:GetValue( f22_arg0 ) == true
		local f28_local6 = f28_local2.isSelfReviving:GetValue( f22_arg0 ) == true
		local f28_local7 = f28_local2.isInGulag:GetValue( f22_arg0 ) == true
		local f28_local8 = f28_local2.isParachuting:GetValue( f22_arg0 ) == true
		local f28_local9 = f28_local2.isInVehicle:GetValue( f22_arg0 ) == true
		local f28_local10
		if f28_local1 then
			f28_local10 = MP.BRIsSquadMemberEliminated( f22_arg0, f22_arg0._squadIndex )
			if not f28_local10 then
			
			else
				local f28_local11 = f28_local2.hasRequestedBuyback:GetValue( f22_arg0 ) == true
				f22_arg0.StatusIcon:SetPlayerStatus()
				ACTIONS.AnimateSequence( f22_arg0, "StatusNone" )
				ACTIONS.AnimateSequence( f22_arg0.Backer, "StatusNone" )
				if not f28_local1 or not f28_local3 then
					f28_local0 = "Hide"
				elseif f28_local10 then
					if CONDITIONS.IsBloodMoney( f22_arg0 ) or CONDITIONS.IsWZRatRace( f22_arg0 ) then
						f28_local0 = "StatusBMDead"
					else
						if f28_local11 then
							f28_local0 = "StatusBRDeadPing"
						else
							f28_local0 = "StatusBRDead"
						end
					end
				elseif f28_local5 then
					f28_local0 = "StatusReviving"
				elseif f28_local6 then
					f28_local0 = "StatusSelfRevive"
				elseif f28_local4 then
					f28_local0 = "StatusDown"
				elseif f28_local7 then
					f28_local0 = "StatusInGulag"
				elseif f28_local9 then
					f28_local0 = "StatusInVehicle"
				elseif f28_local8 then
					f28_local0 = "StatusInParachuting"
				else
					f28_local0 = "Show"
				end
				f22_arg0.StatusIcon:SetPlayerStatus( f28_local0 )
				ACTIONS.AnimateSequence( f22_arg0, f28_local0 )
				ACTIONS.AnimateSequence( f22_arg0.Backer, f28_local0 )
				f22_arg0( f28_local2.healthRatio:GetModel( f22_arg0 ) )
			end
		end
		f28_local10 = false
	end
	
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "isDowned", f22_local0 )
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "isDead", f22_local0 )
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "isBeingRevived", f22_local0 )
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "isSelfReviving", f22_local0 )
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "isInGulag", f22_local0 )
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "isParachuting", f22_local0 )
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "isInVehicle", f22_local0 )
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "hasRequestedBuyback", f22_local0 )
	f22_arg0:SubscribeToModel( DataSources.inGame.player.BRData.mySquadEliminatedFlags:GetModel( f22_arg1 ), f22_local0 )
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "squadIndex", function ( f27_arg0 )
		local f27_local0 = DataModel.JJEHAEBDF( f27_arg0 ) or nil
		f22_arg0._squadIndex = f27_local0
		if f27_local0 ~= nil and 0 < f27_local0 then
			local f27_local1 = Game.BJGDCJHICE( f27_local0 )
			if f27_local1 ~= nil then
				f22_arg0.Username:SetRGBFromTable( f27_local1 )
			else
				f22_arg0.Username:SetRGBFromTable( SWATCHES.HUD.HUDMain )
			end
		else
			f22_arg0.Username:SetRGBFromTable( SWATCHES.HUD.HUDMain )
		end
	end )
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "gamerTag", function ( f26_arg0 )
		local f26_local0 = DataModel.JJEHAEBDF( f26_arg0 ) or ""
		if f26_local0 ~= "" then
			f22_arg0.Username:setText( f26_local0 )
			local f26_local1 = LAYOUT.GetTextWidth( f22_arg0.Username )
			local f26_local2 = f22_arg0.Username:GetCurrentAnchorsAndPositions()
			f26_local2 = f26_local2.left
			f22_arg0.MicDisplay:SetRight( f26_local1 + f26_local2 + _1080p * 48, 0 )
			f22_arg0.MicDisplay:SetLeft( f26_local1 + f26_local2 + _1080p * 16, 0 )
		end
		f22_arg0( f26_arg0 )
	end )
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "isMuted", function ( f25_arg0 )
		f22_arg0.isMuted = DataModel.JJEHAEBDF( f25_arg0 )
		f22_arg0.MicDisplay:SetMutedState( f22_arg0.isMuted )
	end )
	f22_arg0:SubscribeToModelThroughElement( f22_arg0, "isTalking", function ( f24_arg0 )
		f22_arg0.MicDisplay:SetTalkingState( DataModel.JJEHAEBDF( f24_arg0 ) )
	end )
	if Engine.CGABICJHAI() then
		f22_arg0:addAndCallEventHandler( "onVideoChange", function ()
			local f23_local0
			if Engine.BAAGFJBAAE() > _720 then
				f23_local0 = "NormalResolution"
			else
				f23_local0 = "LowResolution"
			end
			if f22_arg0.previousAnimationName ~= f23_local0 then
				f22_arg0.previousAnimationName = f23_local0
				ACTIONS.AnimateSequence( f22_arg0, f23_local0 )
			end
		end )
	end
end

function BRRHealthAndArmorBarsPartyMember( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 244 * _1080p, 0, 27 * _1080p )
	self.id = "BRRHealthAndArmorBarsPartyMember"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local Backer = nil
	
	Backer = MenuBuilder.BuildRegisteredType( "BRHealthAndArmorBarsPMBacker", {
		controllerIndex = f1_local1
	} )
	Backer.id = "Backer"
	Backer:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 244, 0, 0 )
	self:addElement( Backer )
	self.Backer = Backer
	
	local Username = nil
	
	Username = LUI.UIStyledText.new()
	Username.id = "Username"
	Username:SetRGBFromTable( SWATCHES.HUD.friendlyTeam, 0 )
	Username:SetScale( -0.2, 0 )
	Username:setText( "", 0 )
	Username:SetFont( FONTS.GetFont( FONTS.BattleNetBold.File ) )
	Username:SetWordWrap( false )
	Username:SetAlignment( LUI.Alignment.Left )
	Username:SetShadowMinDistance( -0.4, 0 )
	Username:SetShadowMaxDistance( 1, 0 )
	Username:SetShadowRGBFromInt( 0, 0 )
	Username:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 3, _1080p * 225, 0, _1080p * 22 )
	self:addElement( Username )
	self.Username = Username
	
	local MicDisplay = nil
	
	MicDisplay = MenuBuilder.BuildRegisteredType( "PlayerMicDisplay", {
		controllerIndex = f1_local1
	} )
	MicDisplay.id = "MicDisplay"
	MicDisplay:SetScale( -0.4, 0 )
	MicDisplay:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 217, _1080p * 249, _1080p * -5, _1080p * 27 )
	self:addElement( MicDisplay )
	self.MicDisplay = MicDisplay
	
	local StatusIcon = nil
	
	StatusIcon = MenuBuilder.BuildRegisteredType( "BRHUDPlayerStatusIcon", {
		controllerIndex = f1_local1
	} )
	StatusIcon.id = "StatusIcon"
	StatusIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * -34, _1080p * -7, 0, _1080p * 27 )
	self:addElement( StatusIcon )
	self.StatusIcon = StatusIcon
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local7 = nil
	Backer:RegisterAnimationSequence( "Show", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Username:RegisterAnimationSequence( "Show", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MicDisplay:RegisterAnimationSequence( "Show", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	StatusIcon:RegisterAnimationSequence( "Show", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Show = function ()
		menu:AnimateSequence( "Show" )
		menu:AnimateSequence( "Show" )
		menu:AnimateSequence( "Show" )
		menu:AnimateSequence( "Show" )
	end
	
	local f1_local8 = nil
	Backer:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Username:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MicDisplay:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	StatusIcon:RegisterAnimationSequence( "Hide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Hide = function ()
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
	end
	
	local f1_local9 = nil
	Backer:RegisterAnimationSequence( "ShowInfilMode", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Username:RegisterAnimationSequence( "ShowInfilMode", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MicDisplay:RegisterAnimationSequence( "ShowInfilMode", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ShowInfilMode = function ()
		menu:AnimateSequence( "ShowInfilMode" )
		menu:AnimateSequence( "ShowInfilMode" )
		menu:AnimateSequence( "ShowInfilMode" )
	end
	
	self._sequences.Danger = function ()
		
	end
	
	self._sequences.Safe = function ()
		
	end
	
	self._sequences.HasArmor = function ()
		
	end
	
	self._sequences.NoArmor = function ()
		
	end
	
	self._sequences.Downed = function ()
		
	end
	
	self._sequences.BeingRevived = function ()
		
	end
	
	local f1_local10 = nil
	Backer:RegisterAnimationSequence( "StatusBRDead", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Username:RegisterAnimationSequence( "StatusBRDead", {
		{
			value = -9.255965339690016E+61,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.StatusBRDead = function ()
		menu:AnimateSequence( "StatusBRDead" )
		menu:AnimateSequence( "StatusBRDead" )
	end
	
	self._sequences.StatusInParachuting = function ()
		
	end
	
	self._sequences.StatusShooting = function ()
		
	end
	
	self._sequences.StatusSelfRevive = function ()
		
	end
	
	local f1_local11 = nil
	Username:RegisterAnimationSequence( "LowResolution", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 25
		}
	} )
	self._sequences.LowResolution = function ()
		menu:AnimateSequence( "LowResolution" )
	end
	
	local f1_local12 = nil
	Username:RegisterAnimationSequence( "NormalResolution", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 21
		}
	} )
	self._sequences.NormalResolution = function ()
		menu:AnimateSequence( "NormalResolution" )
	end
	
	local f1_local13 = nil
	Backer:RegisterAnimationSequence( "StatusBMDead", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Username:RegisterAnimationSequence( "StatusBMDead", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MicDisplay:RegisterAnimationSequence( "StatusBMDead", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	StatusIcon:RegisterAnimationSequence( "StatusBMDead", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.StatusBMDead = function ()
		menu:AnimateSequence( "StatusBMDead" )
		menu:AnimateSequence( "StatusBMDead" )
		menu:AnimateSequence( "StatusBMDead" )
		menu:AnimateSequence( "StatusBMDead" )
	end
	
	local f1_local14 = nil
	Backer:RegisterAnimationSequence( "StatusInGulag", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Username:RegisterAnimationSequence( "StatusInGulag", {
		{
			value = -9.255965339690016E+61,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	StatusIcon:RegisterAnimationSequence( "StatusInGulag", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.StatusInGulag = function ()
		menu:AnimateSequence( "StatusInGulag" )
		menu:AnimateSequence( "StatusInGulag" )
		menu:AnimateSequence( "StatusInGulag" )
	end
	
	local f1_local15 = nil
	Backer:RegisterAnimationSequence( "StatusBRDeadNoPlunder", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Username:RegisterAnimationSequence( "StatusBRDeadNoPlunder", {
		{
			value = -9.255965339690016E+61,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.StatusBRDeadNoPlunder = function ()
		menu:AnimateSequence( "StatusBRDeadNoPlunder" )
		menu:AnimateSequence( "StatusBRDeadNoPlunder" )
	end
	
	local f1_local16 = nil
	Backer:RegisterAnimationSequence( "ModLTMStatusCashDeployment", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Username:RegisterAnimationSequence( "ModLTMStatusCashDeployment", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MicDisplay:RegisterAnimationSequence( "ModLTMStatusCashDeployment", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	StatusIcon:RegisterAnimationSequence( "ModLTMStatusCashDeployment", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ModLTMStatusCashDeployment = function ()
		menu:AnimateSequence( "ModLTMStatusCashDeployment" )
		menu:AnimateSequence( "ModLTMStatusCashDeployment" )
		menu:AnimateSequence( "ModLTMStatusCashDeployment" )
		menu:AnimateSequence( "ModLTMStatusCashDeployment" )
	end
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "BRRHealthAndArmorBarsPartyMember", BRRHealthAndArmorBarsPartyMember )
LockTable( _M )
