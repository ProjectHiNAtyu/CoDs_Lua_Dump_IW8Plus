-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = function ( f9_arg0, f9_arg1, f9_arg2 )
	f9_arg0._availableItems = {}
	f9_arg0._allItems = {}
	f9_arg0._wzItems = {}
	f9_arg0._cwItems = {}
	f9_arg0._vgItems = {}
	f9_arg0._itemIdMaps = {}
	f9_arg0._currentFilterType = nil
	local f9_local0 = LOOT.GetPlayerBundleLockerFilterPreference( f9_arg1 )
	if f9_local0 then
		f9_arg0._currentFilterType = f9_local0:get()
	end
	local f9_local1 = split( Dvar.DHEEJCCJBH( "OLROPPQNM" ) or "", "," )
	local f9_local2 = {}
	for f9_local3 = 1, #f9_local1, 1 do
		f9_local2[tonumber( f9_local1[f9_local3] )] = 1
	end
	local f9_local3 = StringTable.BFHCAIIDA( CSV.bundleIDs.file )
	for f9_local4 = 0, f9_local3 - 1, 1 do
		local f9_local7 = CSV.ReadRow( CSV.bundleIDs, f9_local4 )
		local f9_local8 = tonumber( f9_local7.id )
		local bindButton = false
		if f9_local7.showInBundleLocker ~= "1" then
			bindButton = true
		end
		if f9_local2[f9_local8] ~= nil then
			bindButton = true
		end
		if STORE.IsBundleBlacklisted( f9_local8 ) then
			bindButton = true
		end
		if f9_local7.firstPartyProductID:sub( -3 ) == "_pc" and not Engine.CGABICJHAI() then
			bindButton = true
		elseif f9_local7.firstPartyProductID:sub( -4 ) == "_ps4" and not Engine.CIEGIACHAE() then
			bindButton = true
		elseif f9_local7.firstPartyProductID:sub( -4 ) == "_xb3" and not Engine.BAHIIBFDDG() then
			bindButton = true
		end
		if f9_local7.image == "" then
			bindButton = true
		end
		if f9_local7.firstPartyProductID and 0 < #f9_local7.firstPartyProductID and not InGameStore.GetProduct( f9_arg1, STORE.StripPlatformSuffix( f9_local7.firstPartyProductID ) ) then
			bindButton = true
			DebugPrint( "BundleLockerMenu - No product data available for firstPartyProductID - " .. tostring( f9_local7.firstPartyProductID ) .. ", skipping bundleID - " .. tostring( f9_local8 ) )
		end
		if not bindButton and STORE.IsBundleOwned( f9_arg1, f9_local8 ) and not f9_arg0._itemIdMaps[tostring( f9_local8 )] then
			local f9_local10 = {
				emptyCategory = false,
				id = f9_local8,
				name = f9_local7.name,
				asset = f9_local7.image,
				rarity = f9_local7.rarity,
				bundleType = f9_local7.bundleType,
				titleImage = f9_local7.titleImage,
				currencyID = tonumber( f9_local7.currencyID ),
				currencyAmount = tonumber( f9_local7.currencyAmount )
			}
			local f9_local11
			if 0 < #f9_local7.firstPartyProductID then
				f9_local11 = f9_local7.firstPartyProductID
				if not f9_local11 then
				
				else
					f9_local10.firstPartyProductID = f9_local11
					f9_local10.gameSourceID = f9_local7.game
					table.insert( f9_arg0._allItems, f9_local10 )
					if f9_local10.gameSourceID == LUI.GAME_SOURCE_ID.MODERN_WARFARE then
						table.insert( f9_arg0._wzItems, f9_local10 )
					elseif f9_local10.gameSourceID == LUI.GAME_SOURCE_ID.COLD_WAR then
						table.insert( f9_arg0._cwItems, f9_local10 )
					elseif f9_local10.gameSourceID == LUI.GAME_SOURCE_ID.VANGUARD then
						table.insert( f9_arg0._vgItems, f9_local10 )
					end
					f9_arg0._itemIdMaps[tostring( f9_local10.id )] = f9_local10.id
				end
			end
			f9_local11 = nil
		end
	end
	local f9_local4 = function ( f20_arg0, f20_arg1, f20_arg2 )
		local f20_local0 = f9_arg0._availableItems[f20_arg1 + f20_arg2 * f9_arg0.BundleGrid:GetNumColumns() + 1]
		f20_arg0:UpdateButton( f20_local0 )
		f20_arg0:UpdateWZSnipeBar( f20_local0.gameSourceID )
		f20_arg0:registerEventHandler( "button_action", function ( element, event )
			local f21_local0 = STORE.GetNumItemsInBundle( f20_arg0.id )
			if f21_local0 == 1 and StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, tostring( f20_arg0.id ), CSV.bundleIDs.cols.item1 ) == LOOT.T9_PLACEHOLDER_ITEM_ID then
				f21_local0 = 0
			end
			if 0 < f21_local0 then
				local f21_local1 = {
					bundleID = f20_arg0.id,
					rarity = f20_arg0.rarity,
					bundleType = f20_arg0.bundleType,
					titleImage = f20_arg0.titleImage,
					currencyID = f20_arg0.currencyID,
					currencyAmount = f20_arg0.currencyAmount,
					timerValue = f20_arg0.purchaseEnd,
					bundleIndex = f20_arg0
				}
				if f20_arg0.firstPartyProductID ~= nil then
					f21_local1 = STORE.GetFirstPartyBundleData( f20_arg0, f20_arg0.id, f20_arg0.firstPartyProductID )
				end
				LUI.FlowManager.RequestAddMenu( "StoreBundlePreview", true, f20_arg0, false, f21_local1 )
			end
		end )
	end
	
	local f9_local5 = function ( f19_arg0 )
		local f19_local0 = f19_arg0.BundleGrid:GetFocusPositionIndex()
		if f19_local0 == nil then
			return 
		end
		f19_local0 = f19_local0 + 1
		f19_arg0.ItemCount:setText( Engine.CBBHFCGDIC( "LUA_MENU/X_OF_Y", f19_local0, #f19_arg0._availableItems ) )
		f19_arg0._isBundleGiftable = GIFT.IsItemGiftable( f19_arg0._availableItems[f19_local0].id )
		f19_arg0._useKBMControls = LUI.IsLastInputKeyboardMouse( f9_arg0 )
		if f19_arg0._isBundleGiftable and CONDITIONS.IsGiftingEnabled() then
			if f19_arg0._useKBMControls then
				ACTIONS.AnimateSequence( f19_arg0, "ShowGiftingPrompt" )
				f19_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
					side = "left",
					button_ref = "button_alt2"
				} )
			else
				ACTIONS.AnimateSequence( f19_arg0, "HideGiftingPrompt" )
				f19_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
					side = "left",
					button_ref = "button_alt2",
					priority = 3,
					helper_text = Engine.CBBHFCGDIC( "LUA_MENU_MP/GIFT_BUNDLE" )
				} )
			end
		else
			ACTIONS.AnimateSequence( f19_arg0, "HideGiftingPrompt" )
			f19_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
				side = "left",
				button_ref = "button_alt2"
			} )
		end
	end
	
	local f9_local6 = function ()
		if f9_arg0._currentFilterType == LOOT.bundleLockerFilterOptions.MODERN_WARFARE_ONLY then
			f9_arg0._availableItems = f9_arg0._wzItems
		elseif f9_arg0._currentFilterType == LOOT.bundleLockerFilterOptions.COLD_WAR_ONLY then
			f9_arg0._availableItems = f9_arg0._cwItems
		elseif f9_arg0._currentFilterType == LOOT.bundleLockerFilterOptions.VANGUARD_ONLY then
			f9_arg0._availableItems = f9_arg0._vgItems
		else
			f9_arg0._availableItems = f9_arg0._allItems
		end
		local f18_local0 = "HidePurchaseMessage"
		if 0 < #f9_arg0._availableItems then
			f9_arg0.ItemCount:SetAlpha( 1 )
		else
			f9_arg0.ItemCount:SetAlpha( 0 )
			f18_local0 = "ShowPurchaseMessage"
		end
		ACTIONS.AnimateSequence( f9_arg0, f18_local0 )
	end
	
	local f9_local12 = function ( f17_arg0 )
		assert( f17_arg0 )
		LUI.FlowManager.RequestPopupMenu( nil, "GiftBundlePurchaseConfirmationPopup", true, f9_arg0, false, {
			bundleGiftInfo = f9_arg0._selectedBundleGiftInfo,
			recipientXuidString = f17_arg0
		} )
	end
	
	local f9_local7 = function ()
		local f15_local0 = f9_arg0.BundleGrid:GetFocusPositionIndex()
		if f15_local0 == nil then
			
		else
			
		end
		f15_local0 = f15_local0 + 1
		local f15_local1 = f9_arg0._availableItems[f15_local0]
		if f15_local1 == nil then
			
		else
			
		end
		local f15_local2 = f15_local1.id
		f9_arg0._selectedBundleGiftInfo = f15_local1
		local f15_local3 = {
			controllerIndex = f9_arg0,
			bundleSKU = f15_local2,
			selectedGifteeCallback = f9_arg0
		}
		local f15_local4 = function ()
			LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", true, f15_local0, false, {
				flyInLeftNarrow = true,
				widget = MenuBuilder.BuildRegisteredType( "GiftingFriendSelectPopup", f15_local0 )
			} )
		end
		
		f9_arg0._controllerIndex = f9_arg0
		GIFT.StartFTUEFlow( f9_arg0, f15_local4 )
	end
	
	f9_local6()
	f9_arg0.BundleGrid:SetNewTargetOnFocusHandler( f9_arg0, f9_local5 )
	f9_arg0.BundleGrid:SetRefreshChild( f9_local4 )
	f9_arg0.BundleGrid:SetNumChildren( #f9_arg0._availableItems )
	f9_arg0.BundleGrid:GainFocus( {
		controllerIndex = f9_arg1
	} )
	local f9_local8 = function ( f14_arg0, f14_arg1 )
		if f14_arg1.down and f14_arg1.qualifier == "mousewheel" then
			return f9_arg0.BundleGrid:processEvent( f14_arg1 )
		else
			
		end
	end
	
	f9_arg0.MouseScrollCatcher:SetHandleMouse( true )
	f9_arg0.MouseScrollCatcher:OverrideMouseCursorType( MouseCursorType.CURSOR_TYPE_ARROW_NORMAL )
	f9_arg0.MouseScrollCatcher:addEventHandler( "gamepad_button", f9_local8 )
	f9_arg0.bindButton:addEventHandler( "button_secondary", function ( f13_arg0, f13_arg1 )
		LUI.FlowManager.RequestLeaveMenu( f13_arg0 )
	end )
	f9_arg0:addAndCallEventHandler( "update_input_type", f9_local5 )
	f9_arg0.HelperBar:AddButtonHelperTextToElement( f9_arg0, {
		side = "left",
		button_ref = "button_left_trigger",
		priority = 4,
		helper_text = Engine.CBBHFCGDIC( "LUA_MENU/SORT_FILTER" )
	} )
	f9_arg0.bindButton:addEventHandler( "button_left_trigger", function ( f11_arg0, f11_arg1 )
		local f11_local0 = MenuBuilder.BuildRegisteredType( "BundleLockerFilteringSortingPopup", {
			controllerIndex = f9_arg0
		} )
		LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", true, f9_arg0, false, {
			flyInLeftNarrow = true,
			disableQuickAccessShortcuts = false,
			widget = f11_local0
		} )
		f11_local0:addEventHandler( "menu_close", function ( f12_arg0, f12_arg1 )
			local f12_local0 = LOOT.GetPlayerBundleLockerFilterPreference( f12_arg1.controller )
			if f12_local0 then
				f11_arg0._currentFilterType = f12_local0:get()
				f11_arg0()
				f11_arg0.BundleGrid:SetNumChildren( #f11_arg0._availableItems )
				f11_arg0.BundleGrid:RefreshContent()
			end
		end )
	end )
	if CONDITIONS.IsGiftingEnabled() then
		local bindButton = LUI.UIBindButton.new()
		bindButton.id = "bindButton"
		f9_arg0:addElement( bindButton )
		f9_arg0.bindButton = bindButton
		
		f9_arg0.bindButton:addEventHandler( "button_alt2", function ( f10_arg0, f10_arg1 )
			if f9_arg0._isBundleGiftable then
				f9_arg0()
			end
		end )
		if f9_arg2.bundleIdForGifting ~= nil then
			for f9_local14, f9_local15 in ipairs( f9_arg0._allItems ) do
				if f9_arg2.bundleIdForGifting == f9_local15.id then
					if 0 < STORE.GetNumItemsInBundle( f9_local15.id ) then
						LUI.FlowManager.RequestAddMenu( "StoreBundlePreview", true, f9_arg1, false, {
							openGiftingPopup = true,
							bundleID = f9_local15.id,
							rarity = f9_local15.rarity,
							bundleType = f9_local15.bundleType,
							titleImage = f9_local15.titleImage,
							currencyID = f9_local15.currencyID,
							currencyAmount = f9_local15.currencyAmount,
							timerValue = f9_local15.purchaseEnd
						} )
						break
					end
				end
			end
			f9_arg2.bundleIdForGifting = nil
		end
	end
	LAYOUT.AddAspectRatioFadeFrame( f9_arg0, f9_arg1 )
	ACTIONS.ScaleFullscreen( f9_arg0.Darken )
	ACTIONS.ScaleStretchAnchorFullscreen( f9_arg0.TabBacker )
	if CONDITIONS.IsWZWipFlowEnabled() then
		LAYOUT.SetupScalingBackgroundVignette( f9_arg0 )
	end
end

function BundleLockerMenu( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "BundleLockerMenu"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	self.HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	self.HelperBar.id = "HelperBar"
	self.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	self.HelperBar:setPriority( 10 )
	self:addElement( self.HelperBar )
	local f1_local2 = self
	local WorldBlur = nil
	
	WorldBlur = MenuBuilder.BuildRegisteredType( "WorldBlur", {
		worldBlur = 1,
		controllerIndex = f1_local1
	} )
	WorldBlur.id = "WorldBlur"
	self:addElement( WorldBlur )
	self.WorldBlur = WorldBlur
	
	local Darken = nil
	
	Darken = LUI.UIImage.new()
	Darken.id = "Darken"
	Darken:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Darken:SetAlpha( 0.5, 0 )
	self:addElement( Darken )
	self.Darken = Darken
	
	local Vignette = nil
	
	Vignette = MenuBuilder.BuildRegisteredType( "WZAccentMenuOverlay", {
		controllerIndex = f1_local1
	} )
	Vignette.id = "Vignette"
	Vignette:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, 0, _1080p * 1080 )
	self:addElement( Vignette )
	self.Vignette = Vignette
	
	local TabBacker = nil
	
	TabBacker = MenuBuilder.BuildRegisteredType( "TabBacker", {
		controllerIndex = f1_local1
	} )
	TabBacker.id = "TabBacker"
	TabBacker:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 160 )
	self:addElement( TabBacker )
	self.TabBacker = TabBacker
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( ToUpperCase( Engine.CBBHFCGDIC( "LUA_MENU_MP/BUNDLE_LOCKER" ) ), 0 )
	MenuTitle.Line:SetLeft( 0, 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 562, 0, _1080p * 100 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local MouseScrollCatcher = nil
	
	MouseScrollCatcher = LUI.UIImage.new()
	MouseScrollCatcher.id = "MouseScrollCatcher"
	MouseScrollCatcher:SetRGBFromInt( 0, 0 )
	MouseScrollCatcher:SetAlpha( 0, 0 )
	MouseScrollCatcher:setImage( RegisterMaterial( "widg_gradient_bottom_to_top" ), 0 )
	MouseScrollCatcher:SetVMin( 0.5, 0 )
	MouseScrollCatcher:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, _1080p * 154, _1080p * -85 )
	self:addElement( MouseScrollCatcher )
	self.MouseScrollCatcher = MouseScrollCatcher
	
	local BundleGrid = nil
	
	BundleGrid = LUI.UIPeekingGrid.new( {
		scrollingThresholdX = 1,
		buildArrowsLabel = false,
		maxVelocity = 5000,
		adjustSizeToContent = true,
		scrollingThresholdY = 1,
		wrapX = true,
		maxVisibleColumns = 5,
		maxVisibleRows = 5,
		wrapY = true,
		arrowsVerticalOffset = 0,
		springCoefficient = 400,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "MPStoreBillboardButton", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f7_arg0, f7_arg1, f7_arg2 )
			
		end,
		spacingX = _1080p * 27,
		spacingY = _1080p * 27,
		columnWidth = _1080p * 320,
		rowHeight = _1080p * 120,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	BundleGrid.id = "BundleGrid"
	BundleGrid:setUseStencil( true )
	BundleGrid:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 95, _1080p * 1803, _1080p * 244, _1080p * 812 )
	self:addElement( BundleGrid )
	self.BundleGrid = BundleGrid
	
	local VerticalScrollbar = nil
	
	VerticalScrollbar = MenuBuilder.BuildRegisteredType( "VerticalScrollbar", {
		controllerIndex = f1_local1
	} )
	VerticalScrollbar.id = "VerticalScrollbar"
	VerticalScrollbar:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -119, _1080p * -96, _1080p * 244, _1080p * 952 )
	self:addElement( VerticalScrollbar )
	self.VerticalScrollbar = VerticalScrollbar
	
	local ArrowDown = nil
	
	ArrowDown = MenuBuilder.BuildRegisteredType( "StoreScrollArrow", {
		controllerIndex = f1_local1
	} )
	ArrowDown.id = "ArrowDown"
	ArrowDown:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -250, _1080p * 250, _1080p * -135, _1080p * -85 )
	self:addElement( ArrowDown )
	self.ArrowDown = ArrowDown
	
	local ArrowUp = nil
	
	ArrowUp = MenuBuilder.BuildRegisteredType( "StoreScrollArrow", {
		controllerIndex = f1_local1
	} )
	ArrowUp.id = "ArrowUp"
	ArrowUp:SetZRotation( 180, 0 )
	ArrowUp.FreeBundleText:SetZRotation( 180, 0 )
	ArrowUp:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -250, _1080p * 250, _1080p * -930, _1080p * -880 )
	self:addElement( ArrowUp )
	self.ArrowUp = ArrowUp
	
	local f1_local13 = nil
	if CONDITIONS.InFrontendPublicMP() then
		f1_local13 = MenuBuilder.BuildRegisteredType( "MPPlayerDetails", {
			controllerIndex = f1_local1
		} )
		f1_local13.id = "MPPlayerDetails"
		f1_local13:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -596, _1080p * -96, _1080p * 54, _1080p * 114 )
		self:addElement( f1_local13 )
		self.MPPlayerDetails = f1_local13
	end
	local ItemCount = nil
	
	ItemCount = LUI.UIStyledText.new()
	ItemCount.id = "ItemCount"
	ItemCount:SetRGBFromTable( SWATCHES.CH2.WZGenericButtonLine, 0 )
	ItemCount:setText( "", 0 )
	ItemCount:SetFont( FONTS.GetFont( FONTS.BodyRegular.File ) )
	ItemCount:SetAlignment( LUI.Alignment.Left )
	ItemCount:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 596, _1080p * 201, _1080p * 223 )
	self:addElement( ItemCount )
	self.ItemCount = ItemCount
	
	local PurchaseMessage = nil
	
	PurchaseMessage = LUI.UIStyledText.new()
	PurchaseMessage.id = "PurchaseMessage"
	PurchaseMessage:SetRGBFromTable( SWATCHES.CH2.WZGenericTabText, 0 )
	PurchaseMessage:SetAlpha( 0, 0 )
	PurchaseMessage:setText( ToUpperCase( Engine.CBBHFCGDIC( "LUA_MENU_MP/PURCHASE_BUNDLES_IN_STORE" ) ), 0 )
	PurchaseMessage:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	PurchaseMessage:SetAlignment( LUI.Alignment.Center )
	PurchaseMessage:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -628, _1080p * 628, _1080p * 430, _1080p * 478 )
	self:addElement( PurchaseMessage )
	self.PurchaseMessage = PurchaseMessage
	
	local GridDivider = nil
	
	GridDivider = LUI.UIImage.new()
	GridDivider.id = "GridDivider"
	GridDivider:SetRGBFromTable( SWATCHES.text.primaryText, 0 )
	GridDivider:SetAlpha( 0.6, 0 )
	GridDivider:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 1803, _1080p * 230, _1080p * 231 )
	self:addElement( GridDivider )
	self.GridDivider = GridDivider
	
	local f1_local17 = nil
	if CONDITIONS.IsGiftingEnabled() then
		f1_local17 = LUI.UIText.new()
		f1_local17.id = "GiftPrompt"
		f1_local17:setText( Engine.CBBHFCGDIC( "LUA_MENU_ACTOR/GIFT_BUNDLE_PROMPT" ), 0 )
		f1_local17:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
		f1_local17:SetAlignment( LUI.Alignment.Left )
		f1_local17:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 304, _1080p * 804, _1080p * 201, _1080p * 219 )
		self:addElement( f1_local17 )
		self.GiftPrompt = f1_local17
	end
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local18 = nil
	ItemCount:RegisterAnimationSequence( "ShowPurchaseMessage", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 233
		}
	} )
	PurchaseMessage:RegisterAnimationSequence( "ShowPurchaseMessage", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	GridDivider:RegisterAnimationSequence( "ShowPurchaseMessage", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	if CONDITIONS.IsGiftingEnabled() then
		f1_local17:RegisterAnimationSequence( "ShowPurchaseMessage", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 233
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 201
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 710
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 223
			}
		} )
	end
	self._sequences.ShowPurchaseMessage = function ()
		menu:AnimateSequence( "ShowPurchaseMessage" )
		menu:AnimateSequence( "ShowPurchaseMessage" )
		menu:AnimateSequence( "ShowPurchaseMessage" )
		if CONDITIONS.IsGiftingEnabled() then
			menu:AnimateSequence( "ShowPurchaseMessage" )
		end
	end
	
	local f1_local19 = nil
	PurchaseMessage:RegisterAnimationSequence( "HidePurchaseMessage", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	GridDivider:RegisterAnimationSequence( "HidePurchaseMessage", {
		{
			value = 4.667261642226141E-62,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HidePurchaseMessage = function ()
		menu:AnimateSequence( "HidePurchaseMessage" )
		menu:AnimateSequence( "HidePurchaseMessage" )
	end
	
	local f1_local20 = nil
	if CONDITIONS.IsGiftingEnabled() then
		f1_local17:RegisterAnimationSequence( "ShowGiftingPrompt", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	self._sequences.ShowGiftingPrompt = function ()
		if CONDITIONS.IsGiftingEnabled() then
			menu:AnimateSequence( "ShowGiftingPrompt" )
		end
	end
	
	local f1_local21 = nil
	if CONDITIONS.IsGiftingEnabled() then
		f1_local17:RegisterAnimationSequence( "HideGiftingPrompt", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	self._sequences.HideGiftingPrompt = function ()
		if CONDITIONS.IsGiftingEnabled() then
			menu:AnimateSequence( "HideGiftingPrompt" )
		end
	end
	
	local f1_local22 = LUI.UIScrollbar.new
	local f1_local23 = {
		direction = LUI.DIRECTION.vertical,
		eventListener = VerticalScrollbar,
		startCap = VerticalScrollbar.startCap,
		endCap = VerticalScrollbar.endCap,
		sliderArea = VerticalScrollbar.sliderArea
	}
	local f1_local24 = VerticalScrollbar.sliderArea
	if f1_local24 then
		f1_local24 = VerticalScrollbar.sliderArea.slider
	end
	f1_local23.slider = f1_local24
	f1_local24 = VerticalScrollbar.sliderArea
	if f1_local24 then
		f1_local24 = VerticalScrollbar.sliderArea.fixedSizeSlider
	end
	f1_local23.fixedSizeSlider = f1_local24
	BundleGrid:AddScrollbar( f1_local22( f1_local23 ) )
	BundleGrid:AddArrow( ArrowUp )
	BundleGrid:AddArrow( ArrowDown )
	self.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_secondary",
		priority = 1,
		helper_text = Engine.CBBHFCGDIC( "MENU/BACK" )
	} )
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "selfBindButton"
	self:addElement( bindButton )
	self.bindButton = bindButton
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "BundleLockerMenu", BundleLockerMenu )
LockTable( _M )
