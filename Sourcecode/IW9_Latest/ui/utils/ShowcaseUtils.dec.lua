-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
SHOWCASE = SHOWCASE or {}
SHOWCASE.EmptyCallingCardIndex = 0
SHOWCASE.ValidateCallingCardDefaultIndex = 813
SHOWCASE.ValidateEmblemDefaultIndex = 806
SHOWCASE.DefaultPrimaryWeaponRef = WEAPON.DefaultPrimary
SHOWCASE.DefaultOperatorLootIndex = 0
SHOWCASE.DefaultOperatorSkinLootIndex = 0
SHOWCASE.IsShowcaseCompareEnabled = function ()
	return false
end

SHOWCASE.IsShowcaseEnabled = function ()
	return Dvar[0x9E5BE3B4BBA4E0E]( 0x449283C94E42204 )
end

SHOWCASE.ShowcaseAttachLinesEnabled = function ()
	return not Dvar[0x9E5BE3B4BBA4E0E]( 0xA04F260C7C9B96F )
end

SHOWCASE.OpenShowcaseEditSelfMenu = function ( f29_arg0, f29_arg1 )
	SHOWCASE.ApplyShowcaseWeaponModel( f29_arg0 )
	LUI.FlowManager.RequestAddMenu( "SocialShowcaseEditSelf", true, f29_arg0, false, f29_arg1, true )
end

SHOWCASE.CheckForInitiatlizedStats = function ( f28_arg0 )
	local f28_local0 = SHOWCASE.GetLoadoutForController( f28_arg0 )
	if f28_local0 then
		local f28_local1 = f28_local0.weaponSetups[0]
		local f28_local2 = WEAPON.GenerateWeaponTable( f28_local1 )
		if WEAPON.IsWeaponNoneValue( f28_local2.weapon ) then
			f28_local2 = WEAPON.GenerateEmptyWeaponTable()
			f28_local2.weapon = WEAPON.DefaultPrimary
			WEAPON.SetShowcaseWeaponToStats( f28_local1, f28_local2 )
		end
	end
end

SHOWCASE.GetMyPlayerDetails = function ( f27_arg0 )
	return SOCIAL.GetPlayerDetails( f27_arg0, Engine[0x29DFACECF20DE0E]( f27_arg0 ) )
end

SHOWCASE.GetDefaultWeaponTable = function ()
	local f26_local0 = WEAPON.GenerateEmptyWeaponTable()
	f26_local0.weapon = SHOWCASE.DefaultPrimaryWeaponRef
	return f26_local0
end

SHOWCASE.GetDefaultWeaponModel = function ()
	local f25_local0 = SHOWCASE.GetDefaultWeaponTable()
	return WEAPON.GetWeaponModelName( f25_local0.weapon, f25_local0, {
		includeStickers = false,
		includeCamos = false,
		includeAttachments = true
	} )
end

SHOWCASE.GetDefaultWeaponName = function ()
	return WEAPON.GetName( SHOWCASE.DefaultPrimaryWeaponRef )
end

SHOWCASE.GetWeaponNameFromWeaponSetup = function ( f23_arg0 )
	if WEAPON.IsWeaponSetupNoneValue( f23_arg0 ) then
		return SHOWCASE.GetDefaultWeaponName()
	else
		return WEAPON.GetWeaponNameFromWeaponSetup( f23_arg0 )
	end
end

SHOWCASE.GetShowcaseWeaponModelForWeaponSetup = function ( f22_arg0, f22_arg1 )
	return WEAPON.GetWeaponModelNameFromPlayerData( f22_arg1.weapon:get(), f22_arg1, {
		includeStickers = true,
		includeAttachments = true,
		useOperatorOverride = true,
		includeCamos = true,
		controllerIndex = f22_arg0
	} )
end

SHOWCASE.ApplyShowcaseWeaponModel = function ( f21_arg0, f21_arg1, f21_arg2 )
	local f21_local0 = Engine[0x29DFACECF20DE0E]( f21_arg0 )
	assert( f21_local0 ~= nil )
	return SHOWCASE.ApplyShowcaseWeaponModelForXuid( f21_arg0, f21_local0, f21_arg1, f21_arg2 )
end

SHOWCASE.ApplyShowcaseWeaponModelForXuid = function ( f20_arg0, f20_arg1, f20_arg2, f20_arg3 )
	local f20_local0 = Social[0x52B0BD6FD1D7472]
	local f20_local1 = f20_arg1
	local f20_local2
	if not f20_arg2 then
		f20_local2 = f20_arg2
	else
		f20_local2 = 0
	end
	local f20_local3
	if not f20_arg3 then
		f20_local3 = f20_arg3
	else
		f20_local3 = 0
	end
	f20_local0 = f20_local0( f20_local1, f20_local2, f20_local3 )
	return SHOWCASE.GetShowcaseWeaponModelForWeaponSetup( f20_arg0, f20_local0 ), f20_local0.weapon:get()
end

SHOWCASE.TakeLoadout = function ( f19_arg0, f19_arg1 )
	local f19_local0
	if not f19_arg1 then
		f19_local0 = f19_arg1
	else
		f19_local0 = 0
	end
	assert( f19_arg0 ~= nil )
	assert( f19_arg0.loadouts ~= nil )
	assert( f19_arg0.loadouts[f19_local0] ~= nil )
	local f19_local1 = f19_arg0.loadouts
	local f19_local2
	if not f19_arg1 then
		f19_local2 = f19_arg1
	else
		f19_local2 = 0
	end
	return f19_local1[f19_local2]
end

SHOWCASE.TakeWeaponSetup = function ( f18_arg0, f18_arg1 )
	local f18_local0
	if not f18_arg1 then
		f18_local0 = f18_arg1
	else
		f18_local0 = 0
	end
	assert( f18_arg0 ~= nil )
	assert( f18_arg0.weaponSetups ~= nil )
	assert( f18_arg0.weaponSetups[f18_local0] ~= nil )
	local f18_local1 = f18_arg0.weaponSetups
	local f18_local2
	if not f18_local0 then
		f18_local2 = f18_local0
	else
		f18_local2 = 0
	end
	return f18_local1[f18_local2]
end

SHOWCASE.GetLoadoutForXuid = function ( f17_arg0, f17_arg1 )
	return SHOWCASE.TakeLoadout( Social[0xB11BA1E64C5E9B]( f17_arg0 ), f17_arg1 )
end

SHOWCASE.GetLoadoutForController = function ( f16_arg0, f16_arg1 )
	local f16_local0 = Engine[0x29DFACECF20DE0E]( f16_arg0 )
	assert( f16_local0 ~= nil )
	return SHOWCASE.TakeLoadout( Social[0xB11BA1E64C5E9B]( f16_local0 ), f16_arg1 )
end

SHOWCASE.GetWeaponSetupForXuid = function ( f15_arg0 )
	return SHOWCASE.TakeWeaponSetup( SHOWCASE.GetLoadoutForXuid( f15_arg0 ), 0 )
end

SHOWCASE.GetWeaponTableForXuid = function ( f14_arg0 )
	local f14_local0 = WEAPON.GenerateWeaponTable( SHOWCASE.TakeWeaponSetup( SHOWCASE.GetLoadoutForXuid( f14_arg0 ), 0 ) )
	if not f14_local0 then
		f14_local0 = WEAPON.GenerateEmptyWeaponTable()
	end
	return f14_local0
end

SHOWCASE.GetOperatorDataForXuid = function ( f13_arg0 )
	local f13_local0 = nil
	if CONDITIONS.IsUsingDummySocialContent() then
		f13_local0 = OPERATOR.GetOperatorByLootIndex( 0 )
	else
		local f13_local1 = Social[0x153E513823C9034]( f13_arg0 )
		local f13_local2
		if f13_local1 then
			f13_local2 = f13_local1.operatorLootIndex
			if not f13_local2 then
			
			else
				f13_local0 = OPERATOR.GetOperatorByLootIndex( f13_local2 )
			end
		end
		f13_local2 = 0
	end
	if not f13_local0 then
		f13_local0 = OPERATOR.GetOperatorByLootIndex( 0 )
	end
	return f13_local0
end

SHOWCASE.ShowOperatorModel = function ( f12_arg0, f12_arg1, f12_arg2, f12_arg3, f12_arg4, f12_arg5, f12_arg6, f12_arg7, f12_arg8 )
	if SOCIAL.CanUseOperatorsInBackground() then
		local f12_local0 = {}
		local f12_local1 = FrontEndScene.ClientCharacters.MainOperator
		local f12_local2 = OPERATOR.GetOperatorSkin( f12_arg1, f12_arg4, OPERATOR.GetSkinRef( f12_arg3 ) )
		f12_local0.bodyModel = f12_local2.bodyModel
		f12_local0.headModel = f12_local2.headModel
		f12_local0.primaryWeaponModel = f12_arg5
		f12_local0.secondaryWeaponModel = WEAPON.NoneValue
		OPERATOR.OverrideRiotshieldOverkill( f12_local0 )
		local f12_local3 = "fe_lobby_plow_player_01_idle_01"
		if WEAPON.IsWeaponNoneValue( f12_local0.primaryWeaponModel ) then
			f12_local0.primaryWeaponModel = SHOWCASE.GetDefaultWeaponModel()
			f12_local0.secondaryWeaponModel = WEAPON.NoneValue
			f12_local3 = "fe_op_select_male_01_idle_01"
		elseif WEAPON.GetBaseRef( f12_local0.secondaryWeaponModel, true ) == WEAPON.RiotShield then
			f12_local0.primaryWeaponModel = WEAPON.NoneValue
			f12_local3 = "fe_lobby_plow_player_01_idle_02_unarmed"
		elseif WEAPON.IsBadWeaponForLobbyAnimations( f12_arg6 ) then
			f12_local0.primaryWeaponModel = WEAPON.NoneValue
			f12_local0.secondaryWeaponModel = WEAPON.NoneValue
			f12_local3 = "fe_lobby_plow_player_01_idle_02_unarmed"
		end
		if not f12_arg0._showcaseSceneSection or f12_arg0._showcaseSceneSection ~= f12_arg2 then
			Engine[0x685AE31DEDA30A4]( f12_arg2 )
			f12_arg0._showcaseSceneSection = f12_arg2
		end
		if OPERATOR.ShouldUpdateCharacter( f12_arg1, f12_local1, f12_local0 ) or f12_arg8 then
			SOCIAL.SetBackgroundPresenceImage( f12_arg0, f12_arg7 )
			FrontEndScene.RequestBodyModels( {
				f12_local0.bodyModel
			} )
			FrontEndScene.RequestHeadModels( {
				f12_local0.headModel
			} )
			FrontEndScene.RequestWeaponWorldModels( {
				f12_local0.primaryWeaponModel,
				f12_local0.secondaryWeaponModel
			} )
			OPERATOR.UpdateClientCharacter( f12_arg0, f12_arg1, f12_local1, {
				showCharacter = true,
				bodyModel = f12_local0.bodyModel,
				headModel = f12_local0.headModel,
				primaryWeaponModel = f12_local0.primaryWeaponModel,
				secondaryWeaponModel = f12_local0.secondaryWeaponModel,
				operatorPose = f12_local3
			} )
		end
		FrontEndScene.HideAllSocialCharactersPastIndex( 2 )
	end
end

SHOWCASE.ShowOperatorModelForController = function ( f11_arg0, f11_arg1, f11_arg2, f11_arg3 )
	local f11_local0 = Social[0xF462ABF08FA38E6]( f11_arg1 )
	local f11_local1 = Social[0xE212B440429E103]( f11_arg1 )
	local f11_local2, f11_local3 = SHOWCASE.ApplyShowcaseWeaponModel( f11_arg1 )
	SHOWCASE.ShowOperatorModel( f11_arg0, f11_arg1, f11_arg2, f11_local0, f11_local1, f11_local2, f11_local3, f11_arg3, true )
end

SHOWCASE.ShowOperatorModelForXuid = function ( f10_arg0, f10_arg1, f10_arg2, f10_arg3, f10_arg4 )
	local f10_local0 = nil
	if CONDITIONS.IsUsingDummySocialContent() then
		f10_local0 = {
			operatorSkinLootIndex = 0,
			operatorLootIndex = 0
		}
	else
		f10_local0 = Social[0x153E513823C9034]( f10_arg3 )
	end
	local f10_local1, f10_local2 = SHOWCASE.ApplyShowcaseWeaponModelForXuid( f10_arg1, f10_arg3 )
	local f10_local3 = SHOWCASE.DefaultOperatorLootIndex
	local f10_local4 = SHOWCASE.DefaultOperatorSkinLootIndex
	if f10_local0 then
		local f10_local5 = f10_local0.operatorLootIndex
		if not f10_local5 then
			f10_local3 = f10_local5
		else
			f10_local3 = SHOWCASE.DefaultOperatorLootIndex
		end
		f10_local5 = f10_local0.operatorSkinLootIndex
		if not f10_local5 then
			f10_local4 = f10_local5
		else
			f10_local4 = SHOWCASE.DefaultOperatorSkinLootIndex
		end
	end
	SHOWCASE.ShowOperatorModel( f10_arg0, f10_arg1, f10_arg2, f10_local3, f10_local4, f10_local1, f10_local2, f10_arg4, true )
end

SHOWCASE.ValidateShowcaseWeapon = function ( f9_arg0 )
	local f9_local0 = false
	local f9_local1 = SHOWCASE.GetLoadoutForController( f9_arg0 )
	if f9_local1 then
		local f9_local2 = SHOWCASE.TakeWeaponSetup( f9_local1, 0 )
		local f9_local3, f9_local4 = WEAPON.IsWeaponTableValid( f9_arg0, WEAPON.GenerateWeaponTable( f9_local2 ) )
		if not f9_local3 then
			METRICS.SendDLogWeaponSetupValidationResults( f9_arg0, f9_local4, LOADOUT.DLOG_VALIDATION_UNEQUIP_SUFFIX )
			if CONDITIONS.IsPlayerDataWeaponSetupsValidationResetWeaponEnabled() then
				local f9_local5 = WEAPON.GenerateEmptyWeaponTable()
				f9_local5.weapon = WEAPON.DefaultPrimary
				WEAPON.SetShowcaseWeaponToStats( f9_local2, f9_local5 )
				f9_local0 = true
			end
		end
	end
	return f9_local0
end

SHOWCASE.EquipDefaultOperatorAndSkin = function ( f8_arg0 )
	local f8_local0
	if OPERATOR.GetSelectedOperatorIndex( f8_arg0 ) == OPERATOR.SuperFaction.WEST then
		f8_local0 = OPERATOR.WestDefaultLaunchRef
		if not f8_local0 then
		
		else
			Social[0x23BC9948FE277CA]( f8_arg0, StringTable[0x2DCF0973239E909]( CSV.operators.file, CSV.operators.cols.ref, f8_local0, CSV.operators.cols.lootIndex ) )
			local f8_local1 = OPERATOR.GetFirstUnlockedSkin( f8_local0, f8_arg0 )
			if f8_local1 then
				Social[0x619B5B1ECB6A9CF]( f8_arg0, tonumber( OPERATOR.GetSkinID( f8_local1 ) ) )
			end
		end
	end
	f8_local0 = OPERATOR.EastDefaultLaunchRef
end

SHOWCASE.ValidateShowcaseOperator = function ( f7_arg0 )
	local f7_local0 = false
	local f7_local1 = StringTable[0x2DCF0973239E909]( CSV.operators.file, CSV.operators.cols.lootIndex, Social[0xF462ABF08FA38E6]( f7_arg0 ), CSV.operators.cols.ref )
	if not OPERATOR.IsUnlocked( f7_arg0, f7_local1 ) then
		SHOWCASE.EquipDefaultOperatorAndSkin( f7_arg0 )
		return true
	elseif not LOOT.IsUnlockedWithID( f7_arg0, LOOT.GetItemID( OPERATOR.GetCosmeticRefByLootTypeAndIndex( LOOT.itemTypes.OPERATOR_SKIN, Social[0xE212B440429E103]( f7_arg0 ) ) ) ) then
		local f7_local2 = OPERATOR.GetFirstUnlockedSkin( f7_local1, f7_arg0 )
		if not f7_local2 then
			SHOWCASE.EquipDefaultOperatorAndSkin( f7_arg0 )
		else
			Social[0x619B5B1ECB6A9CF]( f7_arg0, tonumber( OPERATOR.GetSkinID( f7_local2 ) ) )
		end
		f7_local0 = true
	end
	return f7_local0
end

SHOWCASE.ValidateShowcaseCallingCardsAndEmblem = function ( f6_arg0 )
	local f6_local0 = false
	for f6_local5, f6_local6 in ipairs( Social[0x3F036D81D04EA45]( f6_arg0 ) ) do
		if f6_local6 > SHOWCASE.EmptyCallingCardIndex then
			local f6_local4 = CallingCardUtils.GetCardByIndex( f6_local6 )
			if not LOOT.IsUnlockedWithID( f6_arg0, f6_local4.lootID ) then
				Social[0x72F2E228AC7FD08]( f6_arg0, f6_local5 - 1, SHOWCASE.EmptyCallingCardIndex )
				f6_local0 = true
			end
		end
	end
	f6_local1 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".backgroundIndex" )
	f6_local2 = CallingCardUtils.GetCardByIndex( f6_local1:GetValue( f6_arg0 ) )
	if not LOOT.IsUnlockedWithID( f6_arg0, f6_local2.lootID ) then
		Playercard[0x5C36BE0C34DB13F]( f6_arg0, SHOWCASE.ValidateCallingCardDefaultIndex )
		f6_local0 = true
	end
	f6_local3 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".emblemIndex" )
	f6_local5 = EmblemEditorUtils.GetEmblemForIndex( f6_local3:GetValue( f6_arg0 ) )
	if not LOOT.IsUnlockedWithID( f6_arg0, f6_local5.lootID ) then
		Playercard[0xAA5F983F82D45AD]( f6_arg0, SHOWCASE.ValidateEmblemDefaultIndex )
		f6_local0 = true
	end
	return f6_local0
end

SHOWCASE.ValidateShowcaseEquippedItems = function ( f5_arg0 )
	if not CONDITIONS.IsPlayerDataWeaponSetupsValidationEnabled() then
		return 
	elseif Fences[0x6C6D08978B8C65]( f5_arg0, "LOOT_VALIDATION" ) ~= LUI.Fence.FenceObjectState.PASSING then
		return 
	end
	local f5_local0 = false
	local f5_local1 = SHOWCASE.ValidateShowcaseWeapon( f5_arg0 )
	if not f5_local1 then
		f5_local0 = f5_local1
	else
		
	end
	f5_local1 = SHOWCASE.ValidateShowcaseOperator( f5_arg0 )
	if not f5_local1 then
		f5_local0 = f5_local1
	else
		
	end
	f5_local1 = SHOWCASE.ValidateShowcaseCallingCardsAndEmblem( f5_arg0 )
	if not f5_local1 then
		f5_local0 = f5_local1
	else
		
	end
	if f5_local0 then
		Social[0x6B83DE97344CD52]( f5_arg0 )
	end
end

SHOWCASE.ValidateShowcaseEquippedAttachments = function ( f4_arg0 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x4E46B0101D55429 ) or not CONDITIONS.InFrontend() or not Engine[0x636BC8C3AA71FAE]() then
		return 
	end
	local f4_local0 = SHOWCASE.GetLoadoutForController( f4_arg0 )
	local f4_local1
	if f4_local0 then
		f4_local1 = f4_local0
	else
		f4_local1 = SHOWCASE.TakeWeaponSetup( f4_local0, WEAPON.PrimarySlot )
	end
	local f4_local2
	if f4_local0 then
		f4_local2 = f4_local0
	else
		f4_local2 = SHOWCASE.TakeWeaponSetup( f4_local0, WEAPON.SecondarySlot )
	end
	ATTACHMENT.ValidateAttachmentsForWeaponSetup( f4_local1 )
	ATTACHMENT.ValidateAttachmentsForWeaponSetup( f4_local2 )
end

SHOWCASE.GetBattlePassInfoForLootID = function ( f3_arg0, f3_arg1 )
	local f3_local0 = SEASON.GetCurrentSeason()
	local f3_local1 = BATTLEMAP.GetSeasonBundle( f3_local0 )
	for f3_local2 = 1, #f3_local1[0x8C959E160CAD874], 1 do
		for f3_local9, f3_local10 in ipairs( BATTLEMAP.GetSectorUnlockData( f3_arg0, f3_local0, f3_local2 ) ) do
			if f3_local10.lootID == f3_arg1 then
				local f3_local8 = BATTLEMAP.GetSectorDisplayName( f3_local2 - 1 )
				if BATTLEMAP.GetSectorType( f3_arg0, f3_local2, f3_local0 ) == BATTLEMAP.SectorType.FINAL then
					f3_local8 = ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xC000FAAFD6DDFAD ) )
				end
				return f3_local2, f3_local8, f3_local1[0x6E03D007F6B5ABA]
			end
		end
	end
	return nil
end

SHOWCASE.GetOperatorShowcaseLootID = function ( f2_arg0 )
	local f2_local0 = Social[0x153E513823C9034]( f2_arg0 )
	return LOOT.GetItemID( OPERATOR.GetCosmeticRefByLootTypeAndIndex( LOOT.itemTypes.OPERATOR_SKIN, f2_local0.operatorSkinLootIndex ) )
end

SHOWCASE.GetOperatorSkinLootName = function ( f1_arg0 )
	return LOOT.GetItemNameByID( SHOWCASE.GetOperatorShowcaseLootID( f1_arg0 ) )
end

