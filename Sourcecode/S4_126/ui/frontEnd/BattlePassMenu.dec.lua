-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.frontEnd.BattlePassPurchaseButton" )
require( "ui.widgets.WeaponAttributes" )
require( "ui.widgets.ButtonPromptContainer" )
require( "ui.frontEnd.HorizontalGridArrowKBM" )
require( "ui.widgets.mp.WZBattlePassItemSnipeBanner" )
require( "ui.frontEnd.BattlePassStatus" )
require( "ui.frontEnd.BattlePassMissionTag" )
require( "ui.frontEnd.BattlePassPurchaseBackground" )
require( "ui.frontEnd.BattlePassGridContainer" )
require( "ui.frontEnd.SupportingCreatorCode" )
local f0_local0 = 150
local f0_local1 = f0_local0 + 50
local f0_local2 = 9
local f0_local3 = 5
local f0_local4 = 4
local f0_local5 = 500
local f0_local6 = 3600
local f0_local7 = "battlePassError"
local f0_local8 = {
	nil,
	-28,
	50,
	20,
	10,
	5,
	2,
	1
}
local f0_local9 = {
	[5.333806864E-315] = "battlepass_skip100",
	[5.31664595E-315] = "battlepass_skip10",
	[5.299808824E-315] = "battlepass_skip1",
	[5.311465295E-315] = "battlepass_skip5",
	[5.32862621E-315] = "battlepass_skip50",
	[5.3218266E-315] = "battlepass_skip20",
	[5.304989477E-315] = "battlepass_skip2"
}
local f0_local10 = {
	REDEEMING = 3,
	UPSELLING = 5,
	ONBOARDING_PT1 = 2,
	PENDING = 1,
	ONBOARDING_PT2 = 4,
	NONE = 0
}
local f0_local11 = function ( f124_arg0, f124_arg1 )
	f124_arg0.LeftArrow:SetVisibility( LUI.Visibility.Hidden )
	f124_arg0.RightArrow:SetVisibility( LUI.Visibility.Hidden )
	f124_arg0.LeftPrompt:SetVisibility( LUI.Visibility.Hidden )
	f124_arg0.RightPrompt:SetVisibility( LUI.Visibility.Hidden )
	f124_arg0.LeftPromptText:SetVisibility( LUI.Visibility.Hidden )
	f124_arg0.RightPromptText:SetVisibility( LUI.Visibility.Hidden )
end

local f0_local12 = function ( f122_arg0, f122_arg1, f122_arg2 )
	local f122_local0 = f122_arg0:Wait( f122_arg2 )
	f122_local0.onComplete = function ()
		local f123_local0, f123_local1, f123_local2, f123_local3 = f122_arg0:getLocalRect()
		f122_arg0:SetBottom( f123_local1 + f122_arg0 * _1080p, 0 )
	end
	
end

local f0_local13 = function ( f121_arg0, f121_arg1, f121_arg2 )
	if f121_arg0.WeaponAttributes then
		f121_arg0.WeaponAttributes:SetAlpha( 0 )
		if f121_arg1 == LOOT.itemTypes.WEAPON and f121_arg2 and 0 < f121_arg2 then
			local f121_local0, f121_local1 = nil
			local f121_local2 = LOOT.GetItemRef( f121_arg1, f121_arg2 )
			if f121_local2 and 0 < #f121_local2 then
				f121_local0 = WEAPON.GenerateWeaponTableFromRef( f121_local2 )
				local f121_local3 = WEAPON.GetVariantRef( f121_arg2 )
				if f121_local3 and 0 < #f121_local3 then
					local f121_local4 = WEAPON.GetVariantFile( f121_local2 )
					local f121_local5 = StringTable[0x8073B436CDE1BF]( f121_local4, CSV.weaponVariants.cols.ref, f121_local3 )
					if f121_local5 ~= -1 then
						f121_local1 = WEAPON.GetLootModTable( f121_local2, f121_arg2, CSV.ReadRowWithFile( CSV.weaponVariants, f121_local4, f121_local5 ) )
					end
				end
			end
			if f121_local0 and f121_local1 and f121_local1.attachments and 0 <= #f121_local1.attachments then
				f121_arg0.WeaponAttributes:Setup( f121_local1, f121_local2, f121_local0 )
			end
		end
	end
end

local f0_local14 = function ( f120_arg0 )
	local f120_local0 = f120_arg0:GetCurrentMenu( f120_arg0 )
	if f120_local0.MPTabsMenu and f120_local0.MPTabsMenu.UpdateTabBreadcrumbs then
		f120_local0.MPTabsMenu:UpdateTabBreadcrumbs( f120_arg0._controllerIndex )
	end
end

local f0_local15 = function ( f119_arg0, f119_arg1 )
	local f119_local0 = LOOT.GetRarityColor( tonumber( f119_arg1.rarity ) )
	local f119_local1 = LOOT.GetLootQualityString( tonumber( f119_arg1.rarity ) )
	local f119_local2 = f119_arg1.className
	if f119_arg1.type == LOOT.itemTypes.WEAPON then
		if f119_arg1.IsVariant then
			f119_local2 = Engine[0xED84C33EC5F01EA]( "BATTLEPASS/BLUEPRINT_WITH_TYPE", WEAPON.GetSubClass( f119_arg1.ref ) )
		else
			f119_local2 = "LOOT_MP/ITEM_TYPE_WEAPON"
		end
	elseif f119_arg1.type == LOOT.itemTypes.RETICLE then
		f119_local2 = Engine[0xED84C33EC5F01EA]( "LOOT_MP/RETICLE_W_TYPE", Engine[0xED84C33EC5F01EA]( WEAPON.GetReticleCategoryName( StringTable[0x2DCF0973239E909]( CSV.reticles.file, CSV.reticles.cols.ref, f119_arg1.ref, CSV.reticles.cols.category ) ) ) )
	elseif f119_arg1.type == LOOT.itemTypes.CONSUMABLE and (f119_arg1.amount or f119_arg1.duration) then
		f119_local2 = Engine[0xED84C33EC5F01EA]( "CAS/WEAPON_AND_MOD", Engine[0xED84C33EC5F01EA]( "LOOT_MP/CONSUMABLE" ), f119_arg1.amount and f119_arg1.amount or f119_arg1.duration )
	end
	f119_arg0.QualityText:setText( Engine[0xED84C33EC5F01EA]( "BATTLEPASS/RARITY_AND_TYPE", f119_local1, f119_local2 ) )
	f119_arg0.QualityText:SetRGBFromTable( f119_local0 )
	f119_arg0.RarityIcon:setImage( RegisterMaterial(), LOOT.GetRarityImage( tonumber( f119_arg1.rarity ) ) )
	f119_arg0.RarityIcon:SetRGBFromTable( f119_local0 )
end

local f0_local16 = function ( f118_arg0, f118_arg1, f118_arg2, f118_arg3 )
	local f118_local0 = 26
	local f118_local1
	if f118_arg1.type == LOOT.itemTypes.T9_MISC or f118_arg1.type == LOOT.itemTypes.WZ_MISC then
		f118_local1 = false
	else
		f118_local1 = true
	end
	if f118_arg1.type == LOOT.itemTypes.WEAPON then
		if f118_arg3 then
			f118_arg0.WeaponDescription:setText( WEAPON.GetDesc( f118_arg1.ref ) )
			f0_local0( f118_arg0, f118_arg1.type, f118_arg1.itemID )
			ACTIONS.AnimateSequence( f118_arg0, "WeaponDetails" )
			if f118_arg0._currentMenu then
				f118_arg0._currentMenu.HelperBar.ButtonHelperText:PopButtonPrompt( {
					button_ref = "button_r3"
				} )
				f118_arg0._currentMenu.HelperBar.ButtonHelperText:PushButtonPrompt( {
					side = "left",
					priority = 1,
					ignoreTooltipPrompt = true,
					button_ref = "button_r3",
					helper_text = Engine[0xED84C33EC5F01EA]( "BATTLEPASS/HIDE_REWARD_DETAILS_CONTEXTUAL" ),
					container = f118_arg0.DetailsPromptAttributesContainer
				} )
			end
			if IsLanguageArabic() then
				local f118_local2 = 180
				f0_local0( f118_arg0.UnlockCriteria, f118_local0, f118_local2 )
				f0_local0( f118_arg0.WeaponDescription, f118_local0, f118_local2 )
			end
		else
			ACTIONS.AnimateSequence( f118_arg0, "WeaponPreview" )
			if f118_arg0._currentMenu then
				f118_arg0._currentMenu.HelperBar.ButtonHelperText:PopButtonPrompt( {
					button_ref = "button_r3"
				} )
				f118_arg0._currentMenu.HelperBar.ButtonHelperText:PushButtonPrompt( {
					side = "left",
					priority = 1,
					ignoreTooltipPrompt = true,
					button_ref = "button_r3",
					helper_text = Engine[0xED84C33EC5F01EA]( "BATTLEPASS/VIEW_REWARD_DETAILS_CONTEXTUAL" ),
					container = f118_arg0.DetailsPromptContainer
				} )
			end
			if IsLanguageArabic() then
				f0_local0( f118_arg0.UnlockCriteria, f118_local0, 180 )
			end
		end
	elseif f118_local1 and f118_arg2.lootTable[f118_arg0._lootIndex].challengeID and f118_arg2.lootTable[f118_arg0._lootIndex].challengeID ~= "" then
		local f118_local2 = Challenge.GetNameFromRef( f118_arg2.lootTable[f118_arg0._lootIndex].challengeID, AEKinds.S4_AE_KIND_QUEST.ID )
		if f118_local2 then
			f118_arg0.MissionTag:SetupMissionTag( f118_arg1.rarityColor, f118_local2 )
			f118_arg0.MissionTag:SetAlpha( 0, 0 )
			f118_arg0.MissionTag:SetAlpha( 1, 150 )
		else
			f118_arg0.MissionTag:SetAlpha( 0, 150 )
		end
		ACTIONS.AnimateSequence( f118_arg0, "MissionPreview" )
		if IsLanguageArabic() then
			f0_local0( f118_arg0.UnlockCriteria, f118_local0, 180 )
		end
	elseif f118_arg1.type == LOOT.itemTypes.CONSUMABLE then
		ACTIONS.AnimateSequence( f118_arg0, "ConsumablePreview" )
		if IsLanguageArabic() then
			local f118_local2 = 180
			f0_local0( f118_arg0.UnlockCriteria, f118_local0, f118_local2 )
			f0_local0( f118_arg0.WeaponDescription, f118_local0 + 8, f118_local2 )
		end
	else
		ACTIONS.AnimateSequence( f118_arg0, "ItemPreview" )
		if IsLanguageArabic() then
			f0_local0( f118_arg0.UnlockCriteria, f118_local0, 180 )
		end
	end
	local f118_local2 = f118_arg1.itemID or f118_arg1.ID
	if f118_local2 then
		if LOOT.ShouldShowSnipeBanner( f118_local2, LOOT.GetGameSourceExclusivityByItemID( f118_local2 ), f118_arg1.isPartOfSplitTier ) then
			f118_arg0.SnipeBanner:SetAlpha( 1 )
			f118_arg0.SnipeBanner:SetGameSource( {
				hideBackground = true,
				gameSourceID = LOOT.GetGameSourceIDFromItemID( f118_local2 ),
				itemID = f118_local2
			} )
		else
			f118_arg0.SnipeBanner:SetAlpha( 0 )
		end
	end
	if f118_arg0._isStandalone then
		f118_arg0.BattlePassPurchaseButton:SetAlpha( 0 )
		f118_arg0.BattlePassPurchaseButton:SetFocusable( false )
	end
end

local f0_local17 = function ( f117_arg0, f117_arg1 )
	local f117_local0 = f117_arg1.lootData
	local f117_local1
	if f117_local0 then
		f117_local1 = f117_local0
	else
		f117_local1 = f117_local0.isOperatorChallengeReward
	end
	if f117_local1 then
		local f117_local2
		if f117_local0 then
			f117_local2 = f117_local0
		else
			f117_local2 = f117_local0.isLocked
		end
		if f117_local2 then
			f117_arg0.UnlockCriteria:setText( Engine[0xED84C33EC5F01EA]( "BATTLEPASS/OPERATOR_CHALLENGE_UNLOCK_MESSAGE", f117_local0.operatorChallengeName or "" ) )
			ACTIONS.AnimateSequence( f117_arg0, "IsLocked" )
		else
			ACTIONS.AnimateSequence( f117_arg0, "NotLocked" )
		end
	elseif f117_arg1._isLocked then
		if not f117_arg1._isOwned and f117_arg1._level ~= nil then
			if f117_arg0._battlePassOwned then
				f117_arg0.UnlockCriteria:setText( Engine[0xED84C33EC5F01EA]( "BATTLEPASS/LOCKED_INCOMPLETE", f117_arg1._level ) )
			else
				f117_arg0.UnlockCriteria:setText( Engine[0xED84C33EC5F01EA]( "BATTLEPASS/LOCKED_INCOMPLETE_WITH_BATTLEPASS", f117_arg1._level ) )
			end
		elseif f117_arg1._isBundleBonus then
			f117_arg0.UnlockCriteria:setText( Engine[0xED84C33EC5F01EA]( "BATTLEPASS/LOCKED_WITH_BATTLEPASS_BUNDLE" ) )
		elseif f117_arg1.itemData.tierType == BATTLEPASS.TierType.CLAN then
			f117_arg0.UnlockCriteria:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP_TUBRAVO/UNLOCKED_BY_JOINING_A_CLAN" ) )
		else
			f117_arg0.UnlockCriteria:setText( Engine[0xED84C33EC5F01EA]( "BATTLEPASS/LOCKED_WITH_BATTLEPASS" ) )
		end
		ACTIONS.AnimateSequence( f117_arg0, "IsLocked" )
	else
		ACTIONS.AnimateSequence( f117_arg0, "NotLocked" )
	end
end

local f0_local18 = function ( f114_arg0, f114_arg1 )
	f114_arg0._isExpanded = false
	local f114_local0 = f114_arg1.lootData
	local f114_local1 = f114_arg1.itemData
	if f114_local1.codPoints and 0 < tonumber( f114_local1.codPoints ) then
		f114_local0.type = LOOT.itemTypes.CONSUMABLE
		f114_local0.amount = Engine[0xED84C33EC5F01EA]( "LUA_MENU/COD_POINT_AMOUNT", f114_local1.codPoints )
	end
	f0_local0( f114_arg0, f114_local0 )
	f114_arg0.Name:setText( ToUpperCase( f114_local0.name or "" ) )
	local f114_local2 = 20 * _1080p
	local f114_local3 = LAYOUT.GetTextWidth( f114_arg0.Name ) + f114_local2
	local f114_local4 = f114_arg0.Name:GetCurrentAnchorsAndPositions()
	f114_local4 = f114_local4.left
	local f114_local5 = LAYOUT.GetElementWidth( f114_arg0.BlueprintIcon )
	local f114_local6 = LAYOUT.GetElementWidth( f114_arg0.SnipeBanner )
	local f114_local7 = 0
	if f114_local0.type == LOOT.itemTypes.WEAPON then
		local f114_local8
		if f114_arg0._delayBlueprintIcon then
			f114_local8 = 1
		else
			f114_local8 = 0
		end
		f114_arg0._delayBlueprintIcon = false
		if f114_local0.IsVariant then
			ACTIONS.AnimateSequence( f114_arg0, "IsBlueprint" )
			f114_arg0.BlueprintIcon:SetLeft( f114_local3 + f114_local4, f114_local8 )
			f114_arg0.BlueprintIcon:SetRight( f114_local3 + f114_local4 + f114_local5, f114_local8 )
			f114_arg0.BlueprintIcon:SetAlpha( 1, f114_local8 )
			f114_local7 = f114_local3 + f114_local4 + f114_local5 + f114_local2
		else
			ACTIONS.AnimateSequence( f114_arg0, "IsBaseWeapon" )
			f114_arg0.BlueprintIcon:SetAlpha( 0 )
			f114_local7 = f114_local3 + f114_local4 + f114_local2 / 4
		end
	else
		f114_local7 = f114_local3 + f114_local4 + f114_local2 / 4
		f114_arg0.BlueprintIcon:SetAlpha( 0 )
	end
	f114_arg0.SnipeBanner:SetLeft( f114_local7 )
	f114_arg0.SnipeBanner:SetRight( f114_local7 + f114_local6 )
	f0_local0( f114_arg0, f114_local0, f114_local1, false )
	local f114_local8 = nil
	local f114_local9 = f114_local1.lootTable[f114_arg0._lootIndex].billboardImage
	if f114_local9 and 0 < #f114_local9 then
		f114_local8 = RegisterMaterial( f114_local9 )
	end
	if f114_arg0.BillboardImg:GetImage() == f114_local8 then
		
	else
		
	end
	f114_arg0._itemSelectionComplete = false
	local f114_local10 = f114_arg0.Background:Wait( f0_local0 - 10, true )
	f114_local10.onComplete = function ()
		f114_arg0._itemSelectionComplete = true
	end
	
	assert( f114_arg0.FadeCover )
	local f114_local11 = f114_arg0._itemSelectionComplete and f0_local0 or 10
	if not f114_arg0._prevImage then
		f114_local11 = 0
	end
	f114_arg0.FadeCover:SetAlpha( 1, f114_local11, LUI.EASING.inQuadratic )
	local f114_local12 = f114_arg0.FadeCover:Wait( f0_local0, true )
	local f114_local13 = LOOT.GetGameSourceExclusivityByItemID( f114_local0.itemID )
	if SEASON.GetCurrentSeason() ~= 0 or LOOT.IsItemIDEquippableByS4( f114_local0.itemID ) or f114_local13 == LOOT.ItemSourceExclusivity.NONE or f114_local13 == LOOT.ItemSourceExclusivity.ALL then
		local f114_local14 = false
	else
		local f114_local14 = true
	end
	f114_local12.onComplete = function ()
		if f114_arg0._itemSelectionComplete then
			assert( f114_arg0.BillboardImg )
			if f114_arg0 then
				f114_arg0.BillboardImg:setImage( f114_arg0 )
				f114_arg0.BillboardImg:SetAlpha( 1 )
				local f115_local0 = f114_arg0.NonVGItemDimmer
				local f115_local1 = f115_local0
				f115_local0 = f115_local0.SetAlpha
				local f115_local2
				if f114_arg0 then
					f115_local2 = 0.7
				else
					f115_local2 = 0
				end
				f115_local0( f115_local1, f115_local2 )
			else
				f114_arg0.BillboardImg:SetAlpha( 0 )
			end
			f114_arg0.FadeCover:SetAlpha( 0, f114_arg0, LUI.EASING.outQuadratic )
			f114_arg0._prevImage = streakBackgroundImage
		end
	end
	
end

local f0_local19 = function ( f113_arg0, f113_arg1 )
	if f113_arg1 == 0 then
		if CONDITIONS.IsBattlePassBundleTopperActive( f113_arg0._controllerIndex ) then
			if not BATTLEPASS.IsOwned( f113_arg0._controllerIndex ) then
				return BATTLEPASS.NumBonusItems + 1
			end
			local f113_local0 = CSV.ReadRowWithFile( CSV.battlePassSeason, CSV.battlePassSeason.GetFile(), f113_arg1 )
			local f113_local1 = split( f113_local0.lootID, "|" )
			local f113_local2 = tonumber( f113_local0.numVisibleLoot )
			for f113_local3 = 1, f113_local2, 1 do
				if 0 < Loot[0xB7D304F1F31158E]( f113_arg0._controllerIndex, f113_local1[f113_local3] ) then
					return BATTLEPASS.NumBonusItems + 1
				end
			end
		end
		return BATTLEPASS.NumBonusItems
	elseif f113_arg1 == f113_arg0._maxBattlePassLevel then
		return #f113_arg0._battlePassData
	end
	for f113_local3, f113_local4 in ipairs( f113_arg0._battlePassData ) do
		if f113_arg1 == tonumber( f113_local4.level ) and f113_local4.showProgress then
			return f113_local3
		end
	end
end

local f0_local20 = function ( f112_arg0, f112_arg1 )
	local f112_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	if not f112_local0.battlepassSelectedColumn then
		f112_local0.battlepassSelectedColumn = #f112_arg0._battlePassData - 1
		for f112_local4, f112_local5 in ipairs( f112_arg0._battlePassData ) do
			local f112_local6 = tonumber( f112_local5.level )
			if f112_arg0._battlePassXP < tonumber( f112_local5.xp ) then
				f112_local0.battlepassSelectedColumn = f112_local4 - 1
				f112_arg0._currentLevel = f112_local6 - 1
				break
			end
		end
	end
	f112_arg0.Grid:SetFocusedPosition( {
		y = 0,
		x = f112_local0.battlepassSelectedColumn
	}, f112_arg1, nil, false )
end

local f0_local21 = function ( f111_arg0, f111_arg1 )
	if f111_arg0._isStandalone then
		return 
	end
	local f111_local0 = BATTLEPASS.GetTier( f111_arg0._controllerIndex )
	f111_arg1 = tonumber( f111_arg1 )
	f111_arg0._purchaseEnabled = not f111_arg0._battlePassOwned
	if f111_arg0._needFixUp then
		f111_arg0._purchaseEnabled = true
		f111_arg0.BattlePassPurchaseButton:UpdateButtonState( f111_arg0._battlePassOwned, true, f111_arg0._currentLevel, f111_arg0._needFixUp )
	elseif f111_arg0._battlePassOwned and f111_arg1 then
		local f111_local1 = f111_arg1 - f111_local0
		local f111_local2
		if 0 < f111_arg1 and 0 < f111_local1 and f111_local0 < f111_arg0._maxBattlePassLevel then
			f111_local2 = Dvar[0x9E5BE3B4BBA4E0E]( "#x34dbeb9f6446cb347" )
			if f111_local2 then
				if f111_arg1 == BATTLEPASS.BUNDLE_TOPPER_ITEM_LEVEL then
					f111_local2 = false
				else
					f111_local2 = true
				end
			end
		else
			f111_local2 = false
		end
		if f111_local2 then
			f111_arg0._tierSkips = f111_local1
			f111_arg0._purchaseEnabled = true
			local f111_local3 = BATTLEPASS.SINGLE_TIER_COST
			if CONDITIONS.IsTierSaleEnabled() then
				f111_local3 = Dvar[0x22EAAB59AA27E9B]( "#x3f3f46a20876d123" )
			end
			f111_arg0._itemCost = f111_arg0._tierSkips * f111_local3
			local f111_local4 = Engine[0xED84C33EC5F01EA]
			local f111_local5
			if f111_arg0._tierSkips == 1 then
				f111_local5 = "MENU/BUY_TIER_SINGLE"
			else
				f111_local5 = "MENU/BUY_TIERS_MULTIPLE"
			end
			f111_arg0.BattlePassPurchaseButton.PurchaseText:setText( ToUpperCase( f111_local4( f111_local5, f111_arg0._tierSkips ) ) )
			f111_arg0.BattlePassPurchaseButton:ResizeButton( false )
		else
			f111_arg0._tierSkips = 0
			f111_arg0._itemCost = 0
			f111_arg0._purchaseEnabled = false
		end
		f111_arg0.BattlePassPurchaseButton:UpdateButtonState( f111_arg0._battlePassOwned, not f111_local2, f111_local0 )
	else
		f111_arg0.BattlePassPurchaseButton:UpdateButtonState( f111_arg0._battlePassOwned, true, f111_local0 )
	end
	local f111_local1 = f111_arg0._purchaseEnabled
	if f111_local1 then
		f111_local1 = not f111_arg0._isAnimating
	end
	f111_arg0._purchaseEnabled = f111_local1
end

local f0_local22 = function ( f110_arg0, f110_arg1 )
	local f110_local0
	if f110_arg1 then
		f110_local0 = Loot[0xB7D304F1F31158E]( f110_arg0, f110_arg1 )
		if not f110_local0 then
		
		else
			local f110_local1
			if 0 < f110_local0 then
				f110_local1 = LOOT.CanBeQuickEquipped( f110_arg0, f110_arg1 )
			else
				f110_local1 = false
			end
			return f110_local1
		end
	end
	f110_local0 = 0
end

local f0_local23 = function ( f109_arg0, f109_arg1, f109_arg2 )
	assert( CONDITIONS.QuickEquipEnabled() )
	LOOT.QuickEquipItem( f109_arg0, f109_arg1, f109_arg2 )
end

local f0_local24 = function ( f108_arg0 )
	if not f108_arg0._currentChild then
		if CONDITIONS.IsBypassingBattlePassCreation() then
			return 
		end
		f108_arg0.Grid:SetDefaultFocus( {
			x = 0,
			y = 0
		}, true )
		f108_arg0.Grid:GainFocus()
	end
	local f108_local0 = f108_arg0._currentChild.lootData.type
	if f108_arg0._currentMenu then
		if f108_arg0._isAnimating or BATTLEPASS.IsOwned( f108_arg0._controllerIndex ) then
			if f108_arg0._currentMenu.PopupHelperBar then
				f108_arg0._currentMenu.PopupHelperBar.ButtonHelperText:PopButtonPrompt( {
					button_ref = "button_alt2"
				} )
			end
			f108_arg0._currentMenu.HelperBar.ButtonHelperText:PopButtonPrompt( {
				button_ref = "button_alt2"
			} )
		elseif f108_arg0._currentMenu.PopupHelperBar then
			f108_arg0._currentMenu.PopupHelperBar.ButtonHelperText:PushButtonPrompt( {
				side = "left",
				button_ref = "button_alt2",
				priority = 3,
				helper_text = Engine[0xED84C33EC5F01EA]( "BATTLEPASS/MORE_INFO" )
			} )
		else
			f108_arg0._currentMenu.HelperBar.ButtonHelperText:PushButtonPrompt( {
				side = "left",
				button_ref = "button_alt2",
				priority = 3,
				helper_text = Engine[0xED84C33EC5F01EA]( "BATTLEPASS/MORE_INFO" )
			} )
		end
		if f108_arg0._isAnimating or not STORE.PreviewSupported( f108_local0 ) then
			if f108_arg0._isBattlePassPopup and f108_arg0._currentMenu.UpdatePrompts then
				f108_arg0._currentMenu:UpdatePrompts( false )
			else
				if f108_arg0._currentMenu.PopupHelperBar then
					f108_arg0._currentMenu.PopupHelperBar.ButtonHelperText:PopButtonPrompt( {
						side = "left",
						button_ref = "button_primary",
						helper_text = nil
					} )
				end
				f108_arg0._currentMenu.HelperBar.ButtonHelperText:PopButtonPrompt( {
					side = "left",
					button_ref = "button_primary",
					helper_text = nil
				} )
			end
		elseif f108_arg0._isBattlePassPopup and f108_arg0._currentMenu.UpdatePrompts then
			f108_arg0._currentMenu:UpdatePrompts( true )
		else
			if f108_arg0._currentMenu.PopupHelperBar then
				f108_arg0._currentMenu.PopupHelperBar.ButtonHelperText:PushButtonPrompt( {
					side = "left",
					priority = 2,
					kbmTooltipPromptOverload = "button_primary",
					button_ref = "button_primary",
					helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PREVIEW" )
				} )
			end
			f108_arg0._currentMenu.HelperBar.ButtonHelperText:PushButtonPrompt( {
				side = "left",
				priority = 2,
				kbmTooltipPromptOverload = "button_primary",
				button_ref = "button_primary",
				helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PREVIEW" )
			} )
		end
		if f108_arg0._isAnimating or #f108_arg0._currentChild.itemData.lootTable < 2 then
			ACTIONS.AnimateSequence( f108_arg0._currentChild, "HideTogglePrompt" )
		else
			ACTIONS.AnimateSequence( f108_arg0._currentChild, "ShowTogglePrompt" )
		end
		if CONDITIONS.QuickEquipEnabled() and not f108_arg0._needFixUp then
			if f108_arg0._isAnimating or not f0_local0( f108_arg0._controllerIndex, f108_arg0._currentChild.lootData.itemID ) then
				if f108_arg0._currentMenu.PopupHelperBar then
					f108_arg0._currentMenu.PopupHelperBar.ButtonHelperText:PopButtonPrompt( {
						button_ref = "button_alt1"
					} )
				end
				if not f108_arg0._isAnimating then
					f108_arg0._currentMenu.HelperBar.ButtonHelperText:PopButtonPrompt( {
						button_ref = "button_alt1"
					} )
				end
			elseif f108_arg0._currentMenu.PopupHelperBar then
				f108_arg0._currentMenu.PopupHelperBar.ButtonHelperText:PushButtonPrompt( {
					side = "left",
					button_ref = "button_alt1",
					priority = 4,
					helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/QUICK_EQUIP" )
				} )
			else
				f108_arg0._currentMenu.HelperBar.ButtonHelperText:PushButtonPrompt( {
					side = "left",
					button_ref = "button_alt1",
					priority = 4,
					helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/QUICK_EQUIP" )
				} )
			end
		end
	end
end

local f0_local25 = function ( f107_arg0 )
	if not f107_arg0._currentChild then
		if CONDITIONS.IsBypassingBattlePassCreation() then
			return 
		end
		f107_arg0.Grid:SetDefaultFocus( {
			x = 0,
			y = 0
		}, true )
		f107_arg0.Grid:GainFocus()
	end
	f0_local0( f107_arg0, f107_arg0._currentChild )
	f0_local0( f107_arg0, f107_arg0._currentChild.itemData.level )
	f0_local0( f107_arg0, f107_arg0._currentChild )
	if f107_arg0._currentChild.itemData.lootTable[f107_arg0._lootIndex].challengeID and f107_arg0._currentChild.itemData.lootTable[f107_arg0._lootIndex].challengeID ~= "" then
		f107_arg0._missionChallengeID = f107_arg0._currentChild.itemData.lootTable[f107_arg0._lootIndex].challengeID
		local f107_local0 = Challenge.GetMissionDataByRef( f107_arg0._controllerIndex, f107_arg0._missionChallengeID )
		if f107_local0 then
			
		else
			
		end
		f107_arg0._missionChallengeData = f107_local0
	else
		f107_arg0._missionChallengeID = nil
		f107_arg0._missionChallengeData = nil
	end
	f0_local0( f107_arg0 )
end

local f0_local26 = function ( f106_arg0, f106_arg1, f106_arg2 )
	if f106_arg1 then
		f106_arg0._battlePassXP = f106_arg1
		f106_arg0._previousXP = f106_arg0._battlePassXP
	end
	local f106_local0 = BATTLEPASS.GetXP( f106_arg0._controllerIndex )
	if f106_arg2 then
		f106_local0 = f106_arg2
	end
	f106_arg0._finalXP = f106_local0
	if f106_local0 < f106_arg0._battlePassXP then
		f106_arg0._battlePassXP = 0
		f106_arg0._previousXP = 0
	end
	if f106_local0 == f106_arg0._battlePassXP then
		return 
	else
		f106_arg0._previousLevel = BATTLEPASS.GetTierByXP( f106_arg0._controllerIndex, f106_arg0._previousXP )
		local f106_local1 = BATTLEPASS.GetTierByXP( f106_arg0._controllerIndex, f106_local0 )
		local f106_local2 = f0_local0( f106_arg0, f106_arg0._previousLevel )
		local f106_local3 = f0_local0( f106_arg0, f106_local1 )
		f106_local2 = LUI.clamp( f106_local2, 0, #f106_arg0._battlePassData - 1 )
		f106_local3 = LUI.clamp( f106_local3, 0, #f106_arg0._battlePassData - 1 )
		f106_arg0._purchaseEnabled = false
		f106_arg0.TierPurchaseBG:SetAlpha( 1 )
		f106_arg0.TierPurchaseBG:StartAnimation()
		f106_arg0:AnimateUnlocks( f106_local2, f106_local3, false )
	end
end

local f0_local27 = function ( f105_arg0, f105_arg1, f105_arg2, f105_arg3 )
	f105_arg0._battlePassXP = f105_arg1
	f105_arg0._previousXP = f105_arg1
	f105_arg0._finalXP = f105_arg2
	f105_arg0._previousLevel = BATTLEPASS.GetTierByXP( f105_arg0._controllerIndex, f105_arg0._previousXP )
	local f105_local0 = BATTLEPASS.GetTierByXP( f105_arg0._controllerIndex, f105_arg2 )
	local f105_local1 = f0_local0( f105_arg0, f105_arg0._previousLevel )
	local f105_local2 = f0_local0( f105_arg0, f105_local0 )
	f105_local1 = LUI.clamp( f105_local1, 0, #f105_arg0._battlePassData - 1 )
	f105_local2 = LUI.clamp( f105_local2, 0, #f105_arg0._battlePassData - 1 )
	f105_arg0._purchaseEnabled = false
	f105_arg0._isAnimating = false
	f105_arg0._aarFillWaitTime = f105_arg3
	f105_arg0.TierPurchaseBG:SetAlpha( 1 )
	f105_arg0.TierPurchaseBG:StartAnimation()
	f105_arg0:AnimateUnlocks( f105_local1, f105_local2, false, true )
end

local f0_local28 = function ( f104_arg0 )
	local f104_local0 = BATTLEPASS.HasNewPassForSeason( f104_arg0._controllerIndex )
	local f104_local1, f104_local2 = BATTLEPASS.IsPendingTransactions( f104_arg0._controllerIndex )
	local f104_local3
	if not f104_local0 or f104_local1 or BATTLEPASS.IsOwned( f104_arg0._controllerIndex ) or f104_arg0._crmPurchaseBattlePass then
		f104_local3 = Dvar[0x9E5BE3B4BBA4E0E]( "#x33e37bc35e58f15c1" )
		if f104_local3 then
		
		else
			return f104_local3
		end
	end
	f104_local3 = not f104_arg0._upsellSeen
end

local f0_local29 = function ( f103_arg0 )
	f103_arg0._upsellSeen = true
	LUI.FlowManager.RequestPopupMenu( f103_arg0, "BattlePassUpsellPopup", true, f103_arg0._controllerIndex, false, {
		sourceMenu = f103_arg0
	} )
end

local f0_local30 = function ( f101_arg0, f101_arg1 )
	LUI.FlowManager.RequestPopupMenu( nil, "MessagePopup", true, f101_arg0._controllerIndex, false, {
		buttonsClosePopup = true,
		headerText = Engine[0xED84C33EC5F01EA]( "MENU/ERROR" ),
		messageText = f101_arg1,
		action = function ()
			if f101_arg0._purchaseBattlePassInAAR then
				LUI.FlowManager.RequestAddMenu( "AARContainer", true, f101_arg0._controllerIndex, false, {
					fromBattlepassAAR = true,
					controller = controllerIndex
				} )
			else
				f101_arg0.Grid:RefreshContent()
			end
		end
	}, nil, false, true )
end

local f0_local31 = function ( f100_arg0, f100_arg1, f100_arg2, f100_arg3, f100_arg4 )
	local f100_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	local f100_local1 = AAR.GetDebugMatchInfoPackageString( f100_arg1 )
	local f100_local2 = "current position "
	local f100_local3 = tostring( f100_arg2 )
	local f100_local4 = " \n start position "
	local f100_local5 = tostring( f100_arg3 )
	local f100_local6 = " \n end position "
	local f100_local7 = tostring( f100_arg4 )
	local f100_local8 = " \n previous xp "
	local f100_local9 = tostring( f100_arg0._previousXP )
	local f100_local10 = " \n previous level "
	local f100_local11 = tostring( f100_arg0._previousLevel )
	local f100_local12 = " \n current level "
	local f100_local13 = tostring( f100_arg0._currentLevel )
	local f100_local14 = " \n battle pass xp "
	local f100_local15 = tostring( f100_arg0._battlePassXP )
	local f100_local16 = " \n scoped data colum "
	local f100_local17 = tostring
	local f100_local18
	if f100_local0 then
		f100_local18 = f100_local0.battlepassSelectedColumn
		if not f100_local18 then
		
		else
			DebugPrint( "$$$ Battle Pass Menu AAR State: " .. f100_local1 .. f100_local2 .. f100_local3 .. f100_local4 .. f100_local5 .. f100_local6 .. f100_local7 .. f100_local8 .. f100_local9 .. f100_local10 .. f100_local11 .. f100_local12 .. f100_local13 .. f100_local14 .. f100_local15 .. f100_local16 .. f100_local17( f100_local18 ) )
		end
	end
	f100_local18 = "-1"
end

local f0_local32 = function ( f93_arg0, f93_arg1, f93_arg2, f93_arg3, f93_arg4 )
	if f93_arg0._isAnimating then
		
	else
		
	end
	local f93_local0 = {
		START = 0,
		FILL = 2,
		FLARE = 3,
		END = 5,
		GRID = 1,
		DELAY = 4
	}
	local f93_local1 = {
		[f93_local0.START] = 1
	}
	local f93_local2 = f93_local0.GRID
	local f93_local3
	if f93_arg3 then
		f93_local3 = 50
	else
		f93_local3 = 100
	end
	f93_local1[f93_local2] = f93_local3
	f93_local2 = f93_local0.FILL
	if f93_arg3 then
		f93_local3 = 50
	else
		f93_local3 = 100
	end
	f93_local1[f93_local2] = f93_local3
	f93_local2 = f93_local0.FLARE
	if f93_arg3 then
		f93_local3 = 100
	else
		f93_local3 = 200
	end
	f93_local1[f93_local2] = f93_local3
	f93_local2 = f93_local0.DELAY
	if f93_arg3 then
		f93_local3 = 50
	else
		f93_local3 = 50
	end
	f93_local1[f93_local2] = f93_local3
	f93_local1[f93_local0.END] = 1
	if f93_arg4 then
		f93_local1[f93_local0.FILL] = f93_arg0._aarFillWaitTime and f93_arg0._aarFillWaitTime or f93_local1[f93_local0.FILL]
	end
	f93_local2 = function ( f99_arg0, f99_arg1 )
		f93_arg0.Grid:SetFocusedPosition( {
			y = 0,
			x = f99_arg0
		}, f99_arg1, nil, false )
		return f93_arg0.Grid:GetElementAtPosition( f99_arg0, 0 )
	end
	
	f93_local3 = nil
	local f93_local4 = f93_arg1
	local f93_local5 = nil
	local f93_local6 = 0
	local f93_local7 = f93_arg1 + 1
	local f93_local8 = tonumber( f93_arg0._battlePassData[f93_arg1 + 1].level )
	local f93_local9 = f93_arg0._finalXP and f93_arg0._finalXP or BATTLEPASS.GetXP( f93_arg0._controllerIndex )
	local f93_local10 = BATTLEPASS.GetTierMaxXP( f93_arg0._maxBattlePassLevel )
	f93_arg0._isAnimating = true
	f93_arg0._skipAnimationEnabled = true
	f93_arg0.Grid:SetDirectionalInputEnabled( false )
	f93_arg0.Grid:SetMouseFocusBlocker( true )
	f93_arg0.HorizontalScrollbar:SetAlpha( 0 )
	f93_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( true )
	local f93_local11 = f93_arg0._currentMenu
	if not f93_local11 then
		f93_local11 = LUI.FlowManager.GetVisibleMenu()
	end
	f93_local11.HelperBar.ButtonHelperText:PopButtonPrompt( {
		side = "left",
		button_ref = "button_alt1"
	} )
	f93_local11.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		priority = 1,
		ignoreTooltipPrompt = true,
		button_ref = "button_alt1",
		helper_text = Engine[0xED84C33EC5F01EA]( "BATTLEPASS/SKIP_CELEBRATION" ),
		container = f93_arg0.PromptContainerClickable
	} )
	local f93_local12
	if f93_arg3 then
		f93_local12 = BATTLEPASS.GetTierMinXP( 0 and f93_local8 - 1 or 0 )
		if not f93_local12 then
		
		else
			f93_arg0._battlePassXP = f93_local12
			f93_arg0.Grid:RefreshContent()
			f0_local0( f93_arg0 )
			f93_local12 = nil
			f93_local12 = function ()
				if not f93_arg0 then
					f93_arg0 = f93_arg0.START
				else
					f93_arg0 = f93_arg0 + 1
					if f93_arg0 == f93_arg0.END and (f93_arg0 < f93_arg0 or f93_arg0._battlePassXP < f93_arg0 or f93_arg0 == f93_arg0 and f93_arg0 == f93_arg0) then
						f93_arg0 = f93_arg0.START
					end
				end
				if f93_arg0:GetCurrentMenu() then
					local f94_local0 = f93_arg0:GetCurrentMenu()
					f94_local0 = f94_local0.id
					local f94_local1 = LUI.FlowManager.GetVisibleMenu()
					if f94_local0 == f94_local1.id then
					
					else
						f93_arg0._skipAnimation = true
					end
				end
				if f93_arg0._purchaseBattlePassInAAR and not f93_arg0._purchaseBattlePassInAARSuccess then
					f93_arg0._skipAnimation = true
				end
				if f93_arg0._skipAnimation then
					f93_arg0._skipAnimation = false
					f93_arg0._skipAnimationEnabled = false
					if f93_arg0 then
						f93_arg0:EnableGlow( false )
						f93_arg0.BattlePassFlare:ClearFlare()
					end
					f93_arg0 = f93_arg0.END
					f93_arg0 = f93_arg0
					f93_arg0 = f93_arg0( f93_arg0, f93_arg0 == f93_arg0 )
					f93_arg0.BattlePassStatus:UpdateActiveBanner( f93_arg0._battlePassOwned )
				end
				if f93_arg0 == f93_arg0.START then
					f93_arg0 = f93_arg0( f93_arg0, f93_arg0 == f93_arg0 )
					if f93_arg0 then
						if not f93_arg0.itemData then
							DebugPrint( "BattlePassMenu:AnimateUnlocks: currentChild missing itemData, skipping animation\n" .. "\tstartPosition = " .. tostring( f93_arg0 ) .. ", currentPosition = " .. tostring( f93_arg0 ) .. ", endPosition = " .. tostring( f93_arg0 ) )
							f93_arg0._skipAnimation = true
							f93_arg0._forceDelayEnd = true
						else
							f93_arg0._forceDelayEnd = false
						end
						f93_arg0:SetBattlePassOwned( f93_arg0._battlePassOwned )
						f93_arg0:SetIsAnimating( true )
						if f93_arg0.itemData and f93_arg0.itemData.showProgress and not f93_arg0._displayBattlePassInAAR then
							f93_arg0:EnableGlow( true )
						end
						if f93_arg0 then
							if f93_arg0 == f93_arg0 then
								Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpPurchaseFirst )
							elseif f93_arg0 == f93_arg0 then
								Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpPurchaseLast )
							else
								Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpPurchaseCard )
							end
						end
					else
						f93_arg0( f93_arg0, f93_arg0._controllerIndex, f93_arg0, f93_arg0, f93_arg0 )
						assert( f93_arg0, "( currentChild == nil ) currentPosition = " .. f93_arg0 .. ", startPosition = " .. f93_arg0 )
						f93_arg0._skipAnimation = true
						f93_arg0._forceDelayEnd = true
					end
				elseif f93_arg0 == f93_arg0.FILL then
					local f94_local0 = 0
					local f94_local1 = tonumber( f93_arg0.itemData.level )
					local f94_local2 = BATTLEPASS.GetTierMinXP( f94_local1 )
					local f94_local3 = f94_local2
					if 0 < f94_local1 and f94_local1 ~= BATTLEPASS.BUNDLE_TOPPER_ITEM_LEVEL then
						f94_local3 = BATTLEPASS.GetTierMinXP( f94_local1 - 1 )
					end
					if f94_local2 <= f93_arg0 then
						f94_local0 = 1
						f93_arg0._battlePassXP = f94_local2
					else
						f94_local0 = (f93_arg0 - f94_local3) / (f94_local2 - f94_local3)
						f93_arg0._battlePassXP = f93_arg0
					end
					f93_arg0.progress = f94_local0
					if f93_arg0.itemData.showProgress then
						f93_arg0:SetProgress( f94_local0, f93_arg0[f93_arg0.FILL] )
					end
				elseif f93_arg0 == f93_arg0.FLARE then
					if f93_arg0.progress == 1 then
						f93_arg0:SetTopBanner( f93_arg0.itemData.tierType, false, false )
						f93_arg0:SetLocked( BATTLEPASS.IsTierLocked( f93_arg0._controllerIndex, f93_arg0._battlePassOwned, f93_arg0.itemData ) )
						ACTIONS.AnimateSequence( f93_arg0, "NotLocked" )
						if f93_arg0 ~= f93_arg0 or f93_arg0 <= f93_arg0 then
							if f93_arg0 or f93_arg0._hasMadePurchase then
								f93_arg0.BattlePassFlare:PlayPurchasedFlare()
							else
								f93_arg0.BattlePassFlare:PlayRarityFlare( f93_arg0.lootData.rarity )
							end
						end
						f93_arg0:ShowUnlockEffect()
						if f93_arg0._battlePassOwned then
							ACTIONS.AnimateSequence( f93_arg0, "CompletePurchased" )
						elseif isFree then
							ACTIONS.AnimateSequence( f93_arg0, "CompleteFree" )
						else
							ACTIONS.AnimateSequence( f93_arg0, "HideCheckbox" )
						end
						if f93_arg0.itemData.showProgress then
							ACTIONS.AnimateSequence( f93_arg0, "TierCompleteFlare" )
						end
						if f93_arg0._displayBattlePassInAAR then
							f93_arg0:EnableGlow( true, {
								enableImmediately = true
							} )
						end
					end
				elseif f93_arg0 == f93_arg0.DELAY then
					if not f93_arg0 then
						f93_arg0:EnableGlow( false, {
							enableImmediately = false,
							disableGlowTime = 1500
						} )
					end
					f93_arg0:SetIsAnimating( false )
					f93_arg0 = f93_arg0 + 1
				end
				if f93_arg0 ~= f93_arg0.END then
					local f94_local0
					if f93_arg0[f93_arg0] < 1 then
						f94_local0 = 1
					else
						f94_local0 = f93_arg0[f93_arg0]
					end
					local f94_local1 = f93_arg0:Wait( f94_local0 )
					f94_local1.onComplete = function ()
						f94_local0()
					end
					
				else
					f93_arg0._purchaseEnabled = true
					f93_arg0._isAnimating = false
					f93_arg0._battlePassXP = f93_arg0
					f93_arg0.Grid:SetMouseFocusBlocker( false )
					f93_arg0.Grid:RefreshContent()
					f93_arg0( f93_arg0 )
					f93_arg0._currentMenu.HelperBar.ButtonHelperText:PopButtonPrompt( {
						side = "left",
						button_ref = "button_alt1"
					} )
					f93_arg0.HorizontalScrollbar:SetAlpha( 1, 150 )
					f93_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( false )
					BATTLEPASS.SetLastMenuXP( f93_arg0._controllerIndex, f93_arg0._battlePassXP )
					local f94_local0
					if not f93_arg0._displayBattlePassInAAR then
						f93_arg0.Grid:SetDirectionalInputEnabled( true )
						f93_arg0.TierPurchaseBG:SetAlpha( 0, 150 )
						f94_local0 = BATTLEPASS.GetLastFreeTierReached( f93_arg0._controllerIndex )
						BATTLEPASS.SetLastFreeTierSeen( f93_arg0._controllerIndex, f94_local0 )
						f93_arg0( f93_arg0 )
						f93_arg0.Grid:SetFocusedPosition( {
							y = 0,
							x = f93_arg0
						}, false, nil, false )
					else
						f94_local0 = f93_arg0.Grid
						local f94_local2 = f94_local0
						f94_local0 = f94_local0.SetDirectionalInputEnabled
						f94_local0( f94_local2, false )
					end
					f94_local0 = function ()
						if f94_local0._battlePassXP >= BATTLEPASS.GetTierMaxXP( BATTLEPASS.GetMaxTier() ) then
							local f97_local0 = f94_local0._displayBattlePassInAAR and f94_local0._displayBattlePassInAAR or false
							f94_local0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_COMPLETE
							LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f94_local0._controllerIndex, f97_local0, {
								state = f94_local0._celebrateState
							}, nil, false, true )
						end
						if not f94_local0._displayBattlePassInAAR then
							f94_local0:dispatchEventToParent( {
								name = "start_auto_close"
							} )
						else
							f94_local0:dispatchEventToRoot( {
								dispatchChildren = true,
								name = "update_aar_battlepass_tier_done",
								immediate = true
							} )
						end
						f94_local0._hasMadePurchase = nil
					end
					
					if f93_arg0._forceDelayEnd then
						local f94_local1 = f93_arg0:Wait( 2000 )
						f94_local1.onComplete = f94_local0
					else
						f94_local0()
					end
					if f93_arg0.shouldAwardFreeTierGift then
						if not f93_arg0._wasTierGiftAwarded then
							local f94_local1 = f93_arg0:Wait( 500 )
							f94_local1.onComplete = function ()
								local f95_local0 = {
									isTierGift = true,
									bundleID = tonumber( BATTLEPASS.GetTierSkipGiftID() ),
									battlePassName = BATTLEPASS.GetItemName( f94_local0.tierGiftBattlePassPurchaseRef ),
									onConfirm = function ( f96_arg0 )
										if f96_arg0 then
											f95_local0._wasTierGiftAwarded = true
											f95_local0._autoTierSkip = true
											local f96_local0 = f95_local0:GetPurchaseAction()
											f96_local0( f95_local0, {
												controller = f95_local0._controllerIndex
											} )
										else
											f95_local0.shouldAwardFreeTierGift = false
											f95_local0( f95_local0, Engine[0xED84C33EC5F01EA]( "BATTLEPASS/REWARD_ERROR_MESSAGE" ) )
										end
									end
								}
								f94_local0.tierGiftBattlePassPurchaseRef = nil
								LUI.FlowManager.RequestPopupMenu( nil, "BattlePassRewardPopup", true, f94_local0._controllerIndex, false, f95_local0, nil, false, true )
							end
							
						else
							f93_arg0._autoTierSkip = false
							f93_arg0.shouldAwardFreeTierGift = false
						end
					elseif f93_arg0._autoTierSkip then
						f93_arg0._autoTierSkip = false
					end
				end
			end
			
			if f93_arg4 then
				local f93_local13 = f93_arg0:Wait( f93_local1[f93_local0.DELAY], true )
				f93_local13.onComplete = f93_local12
			else
				local f93_local13 = f93_arg0:Wait( 1750, true )
				f93_local13.onComplete = f93_local12
			end
		end
	end
	f93_local12 = f93_arg0._previousXP
end

local f0_local33 = function ( f88_arg0 )
	if f88_arg0._isAnimating then
		
	else
		
	end
	local f88_local0 = 32
	local f88_local1 = 5000
	local f88_local2 = 8000
	local f88_local3 = {
		FLARE = 2,
		END = 3,
		START = 0,
		MOVE = 1
	}
	local f88_local4 = {
		[f88_local3.START] = 300,
		[f88_local3.MOVE] = 600,
		[f88_local3.FLARE] = 300,
		[f88_local3.END] = 1200
	}
	local f88_local5 = BATTLEPASS.GetShowcaseTiers()
	local f88_local6 = function ()
		local f92_local0 = table.remove( f88_arg0, 1 )
		if f92_local0 then
			f92_local0 = f92_local0 + BATTLEPASS.NumBonusItems - 1
		end
		if not f92_local0 or f92_local0 <= BATTLEPASS.NumBonusItems then
			f92_local0 = BATTLEPASS.NumBonusItems
		end
		return f92_local0
	end
	
	local f88_local7 = f88_local3.START
	local f88_local8 = f88_arg0.Grid:GetElementAtPosition( f88_local6(), 0 )
	local f88_local9 = 0
	local f88_local10 = 0
	local f88_local11 = function ( f91_arg0 )
		f88_arg0 = 0
		f88_arg0 = f91_arg0
	end
	
	f88_arg0.TierPurchaseBG:SetAlpha( 1 )
	f88_arg0.TierPurchaseBG.TierText:SetAlpha( 0 )
	f88_arg0.TierPurchaseBG:StartAnimation()
	f88_arg0._isAnimating = true
	f88_arg0._skipAnimationEnabled = true
	f88_arg0.Grid:SetDirectionalInputEnabled( false )
	f88_arg0.Grid:SetMouseFocusBlocker( true )
	f88_arg0._currentMenu.HelperBar.ButtonHelperText:PopButtonPrompt( {
		side = "left",
		button_ref = "button_alt1"
	} )
	f88_arg0._currentMenu.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		priority = 1,
		ignoreTooltipPrompt = true,
		button_ref = "button_alt1",
		helper_text = Engine[0xED84C33EC5F01EA]( "BATTLEPASS/SKIP_CELEBRATION" ),
		container = f88_arg0.PromptContainerClickable
	} )
	local f88_local12 = nil
	local f88_local13 = function ()
		local f89_local0 = f88_arg0:Wait( f88_arg0 )
		f89_local0.onComplete = function ()
			f89_local0 = f89_local0 + f89_local0
			local f90_local0 = f89_local0:GetCurrentMenu()
			f90_local0 = f90_local0.id
			local f90_local1 = LUI.FlowManager.GetVisibleMenu()
			if f90_local0 ~= f90_local1.id then
				return 
			elseif f89_local0._skipAnimation then
				f89_local0._skipAnimation = false
				f89_local0._skipAnimationEnabled = false
				f89_local0.BattlePassFlare:ClearFlare()
				f89_local0( 0 )
				f89_local0 = f89_local0.END
			end
			if f89_local0 == f89_local0.START then
				f89_local0.Grid:SetMaxVelocity( f89_local0 )
				f89_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f89_local0
				}, true )
				f89_local0 = f89_local0.Grid:GetElementAtPosition( f89_local0, 0 )
				f89_local0( f89_local0[f89_local0.START] )
				f89_local0 = f89_local0.FLARE
			elseif f89_local0 == f89_local0.MOVE and f89_local0 < f89_local0 then
				f89_local0.BattlePassFlare:ClearFlare()
				f89_local0:processEvent( {
					name = "lose_active"
				} )
				f89_local0 = f89_local0()
				f89_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f89_local0
				}, false )
				f89_local0( f89_local0[f89_local0.MOVE] )
				f89_local0 = f89_local0.FLARE
			elseif f89_local0 == f89_local0.FLARE and f89_local0 < f89_local0 then
				f89_local0 = f89_local0.Grid:GetElementAtPosition( f89_local0, 0 )
				if f89_local0 and f89_local0._isOver then
					f89_local0.BattlePassFlare:PlayRarityFlare( f89_local0.lootData.rarity )
					if f89_local0 <= BATTLEPASS.NumBonusItems then
						f89_local0( f89_local0[f89_local0.END] )
						f89_local0 = f89_local0.END
					else
						f89_local0( f89_local0[f89_local0.FLARE] )
						f89_local0 = f89_local0.MOVE
					end
				end
			elseif f89_local0 == f89_local0.END and f89_local0 < f89_local0 then
				f89_local0.Grid:SetMaxVelocity( f89_local0 )
				if not f89_local0._displayBattlePassInAAR then
					f89_local0.TierPurchaseBG.TierText:SetAlpha( 1 )
					f89_local0.TierPurchaseBG:SetAlpha( 0, 150 )
				end
				f89_local0._isAnimating = false
				f89_local0._skipAnimationEnabled = false
				f89_local0.Grid:SetDirectionalInputEnabled( true )
				f89_local0 = BATTLEPASS.NumBonusItems
				f89_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f89_local0
				}, true )
				f89_local0( f89_local0 )
			end
			f89_local0()
		end
		
	end
	
	f88_local13()
end

local f0_local34 = function ( f87_arg0, f87_arg1 )
	f87_arg0._finalXP = BATTLEPASS.GetXP( f87_arg0._controllerIndex )
	local f87_local0 = BATTLEPASS.GetTier( f87_arg0._controllerIndex )
	local f87_local1 = 0
	local f87_local2 = f0_local0( f87_arg0, f87_local0 )
	if f87_arg1 then
		f87_local1 = f0_local0( f87_arg0, f87_arg0._previousLevel )
	end
	if f87_arg0._purchaseBattlePassInAARSuccess then
		f87_local2 = f87_arg0.finalAAREndPosition
	end
	f0_local0( f87_arg0, LUI.clamp( f87_local1, 0, #f87_arg0._battlePassData - 1 ), LUI.clamp( f87_local2, 0, #f87_arg0._battlePassData - 1 ), not f87_arg1 )
end

local f0_local35 = function ( f86_arg0 )
	local f86_local0 = BATTLEPASS.IsOwned( f86_arg0._controllerIndex )
	local f86_local1 = BATTLEPASS.GetTier( f86_arg0._controllerIndex ) >= BATTLEPASS.GetMaxTier()
	local f86_local2 = not f86_local0
	local f86_local3 = not f86_local1
	local f86_local4
	if not f86_local2 and f86_local3 then
		f86_local4 = f86_local3
	else
		f86_local4 = BATTLEPASS.NeedFixUp( f86_arg0._controllerIndex )
	end
	return f86_local4
end

local f0_local36 = function ( f79_arg0, f79_arg1 )
	local f79_local0 = function ()
		f79_arg0._previousXP = BATTLEPASS.GetXP( f79_arg0._controllerIndex )
		f79_arg0._previousLevel = BATTLEPASS.GetTier( f79_arg0._controllerIndex )
		f79_arg0._purchaseQueue = LUI.CreateQueue()
		f79_arg0._activationQueue = LUI.CreateQueue()
		f79_arg0._queuedRef = nil
		f79_arg0._queuedPurchase = nil
		f79_arg0._numTransactions = 0
		f79_arg0._numTransactionsComplete = 0
		if not f79_arg0._battlePassOwned and f79_arg0 then
			local f83_local0 = f79_arg0
			if not f79_arg0._autoTierSkip then
				f79_arg0._tierSkips = 0
				f79_arg0._purchaseQueue:Push( {
					ref = f79_arg0
				} )
				f79_arg0._numTransactions = f79_arg0._numTransactions + 1
			else
				f83_local0 = BATTLEPASS.GetPurchaseRef()
			end
			local f83_local1 = BATTLEPASS.GetActivationRefs( f83_local0, f79_arg0._controllerIndex )
			local f83_local2 = #f83_local1
			for f83_local6, f83_local7 in ipairs( f83_local1 ) do
				f79_arg0._activationQueue:Push( {
					ref = f83_local7.ref,
					id = f83_local6,
					count = f83_local2,
					skipValue = f83_local7.quantity
				} )
				f79_arg0._numTransactions = f79_arg0._numTransactions + 2
			end
			if f79_arg0 == BATTLEPASS.GetPurchaseRef() then
				f79_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_UNLOCKED
			elseif f79_arg0 == BATTLEPASS.GetPurchaseBundleRef() then
				f79_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_TIER_BUNDLE_UNLOCKED
			end
		else
			f79_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.TIERS_UNLOCKED
		end
		if not f79_arg0._autoTierSkip then
			local f83_local1 = f79_arg0._maxBattlePassLevel - BATTLEPASS.GetTier( f79_arg0._controllerIndex )
			local f83_local2 = f79_arg0._tierSkips
			if f83_local1 < f83_local2 then
				f83_local2 = f83_local1
			end
			if 0 < f83_local2 then
				f79_arg0._purchaseQueue:Push( {
					ref = BATTLEPASS.GetTierSkipRef(),
					skipValue = f83_local2
				} )
				f79_arg0._tierSkips = f79_arg0._tierSkips - f83_local2
				f79_arg0._activationQueue:Push( {
					ref = BATTLEPASS.GetTierSkipRef(),
					skipValue = f83_local2
				} )
				f79_arg0._numTransactions = f79_arg0._numTransactions + 3
			end
		else
			local f83_local0 = 0
			local f83_local1 = BATTLEPASS.GetTier( f79_arg0._controllerIndex )
			local f83_local2 = BATTLEPASS.GetPendingTierSkips( f79_arg0._controllerIndex )
			if not f79_arg0._allowTierBank or f83_local1 + f83_local0 + f83_local2 <= f79_arg0._maxBattlePassLevel then
				f79_arg0._activationQueue:Push( {
					ref = BATTLEPASS.GetTierSkipRef(),
					skipValue = f83_local2
				} )
				f79_arg0._numTransactions = f79_arg0._numTransactions + 1
				f83_local0 = f83_local0 + f83_local2
			end
		end
		local f83_local0 = false
		local f83_local1, f83_local2 = nil
		local f83_local3 = function ()
			local f84_local0 = f83_local0:Wait( 16 )
			f84_local0.onComplete = function ()
				if f84_local0._queuedRef then
					if not f84_local0._errorCode then
						f84_local0()
					else
						local f85_local0 = BATTLEPASS.GetErrorMessage( f84_local0._errorCode, f84_local0._queuedRef )
						f84_local0._errorCode = nil
						f84_local0._queuedRef = nil
						f84_local0._needFixUp = f84_local0( f84_local0 )
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
						f84_local0( f84_local0, f85_local0 )
					end
				elseif f84_local0._purchaseQueue and not f84_local0._queuedPurchase then
					f84_local0._queuedPurchase = f84_local0._purchaseQueue:Pop()
					if f84_local0._queuedPurchase then
						f84_local0._queuedRef = f84_local0._queuedPurchase.ref
						local f85_local0 = nil
						local f85_local1 = StringTable[0x2DCF0973239E909]( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f84_local0._queuedRef, CSV.battlePassIDs.cols.sku )
						if f85_local1 ~= "" then
							f85_local0 = tonumber( f85_local1 )
						end
						local f85_local2 = 1
						if f84_local0._queuedRef == BATTLEPASS.GetTierSkipRef() then
							f85_local2 = f84_local0._queuedPurchase.skipValue
						end
						if STORE.IsItemOnSale( f85_local0, f84_local0._controllerIndex ) then
							local f85_local3 = StringTable[0x2DCF0973239E909]( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f84_local0._queuedRef, CSV.battlePassIDs.cols.saleSku )
							if f85_local3 ~= "" then
								f85_local0 = tonumber( f85_local3 )
							end
						end
						BATTLEPASS.Purchase( f84_local0._controllerIndex, f85_local0, f85_local2 )
					else
						f84_local0._purchaseQueue = nil
					end
					f84_local0()
				elseif f84_local0._activationQueue then
					f84_local0._activation = f84_local0._activationQueue:Pop()
					if f84_local0._activation then
						f84_local0._queuedRef = f84_local0._activation.ref
						BATTLEPASS.ActivateAchievement( f84_local0._controllerIndex, f84_local0._queuedRef, f84_local0._activation.skipValue )
					else
						f84_local0._activationQueue = nil
					end
					f84_local0()
				else
					if not f84_local0 then
						f84_local0 = Engine[0x6991337AE950F99]()
					elseif not f84_local0 and f84_local0 <= Engine[0x6991337AE950F99]() - f84_local0 then
						f84_local0 = true
						f84_local0.TierPurchaseBG:SetAlpha( 1 )
						f84_local0.TierPurchaseBG:StartAnimation()
						f84_local0:dispatchEventToRoot( {
							progress = 1,
							name = "update_battle_pass_purchasing_popup"
						} )
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
						LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f84_local0._controllerIndex, false, {
							state = f84_local0._celebrateState
						}, nil, false, true )
						f84_local0:DisableBundleBonusTopper( f84_local0 )
					end
					if f84_local0 and f84_local0._purchaseBattlePassInAAR then
						f84_local0._purchaseBattlePassInAARSuccess = true
						f84_local0.BattlePassTierProgression:SetAlpha( 0 )
						f84_local0.TierPurchaseBG:SetAlpha( 1 )
						f84_local0:dispatchEventToRoot( {
							dispatchChildren = true,
							name = "purchase_aar_battlepass_success",
							immediate = true
						} )
					end
					if f84_local0 and not LUI.FlowManager.IsInStack( "BattlePassFullScreenPopup" ) then
						f84_local0._needFixUp = f84_local0( f84_local0 )
						f84_local0( f84_local0, f84_local0 == nil )
					else
						f84_local0()
					end
				end
			end
			
		end
		
		f83_local3()
	end
	
	return function ( f80_arg0, f80_arg1 )
		if not f79_arg0._battlePassOwned and not f79_arg0._autoTierSkip then
			f79_arg0._itemCost = tonumber( BATTLEPASS.GetItemCost( f79_arg0 ) )
		end
		f79_arg0._availableCODPoints = Commerce[0xFCE51EA6B7B00CC]( f80_arg1.controller, LOOT.CurrencyIDs.COD_POINTS )
		if not f79_arg0._autoTierSkip and f79_arg0._availableCODPoints < f79_arg0._itemCost then
			local f80_local0 = {
				showBalance = true,
				controllerIndex = f80_arg1.controller,
				currencyID = LOOT.CurrencyIDs.COD_POINTS,
				currencyAmount = f79_arg0._itemCost
			}
			local f80_local1 = STORE.EnterStore
			local f80_local2 = f80_arg1.controller
			local f80_local3 = f80_arg0:GetCurrentMenu()
			f80_local1( f80_local2, f80_local3.id, f80_arg0.id, f80_local0, "PurchaseCODPointsPopup", true )
		else
			local f80_local0 = nil
			if not f79_arg0._battlePassOwned and f79_arg0 then
				f80_local0 = Engine[0xED84C33EC5F01EA]( BATTLEPASS.GetItemName( f79_arg0 ) )
			elseif f79_arg0._tierSkips == 1 then
				f80_local0 = Engine[0xED84C33EC5F01EA]( "BATTLEPASS/1_TIER_SKIP" )
			else
				f80_local0 = Engine[0xED84C33EC5F01EA]( "BATTLEPASS/N_TIER_SKIPS", f79_arg0._tierSkips )
			end
			local f80_local1 = {
				hidePurchasingText = f79_arg0._autoTierSkip,
				itemCost = f79_arg0._itemCost,
				itemName = f80_local0,
				confirmAction = f79_arg0,
				cancelAction = function ()
					f80_arg0._purchaseEnabled = true
				end
			}
			f79_arg0._hasMadePurchase = true
			LUI.FlowManager.RequestLeaveMenuByName( "BattlePassConfirmPurchasePopup", true )
			local f80_local4 = f79_arg0._currentMenu.id
			local f80_local2 = LUI.FlowManager.GetVisibleMenu()
			if f80_local4 ~= f80_local2.id then
				f80_local4 = not f79_arg0._autoTierSkip
			else
				f80_local4 = false
			end
			if Engine[0x5575DCFF312365A]() and CONDITIONS.IsKoreanAccountAndPC() and not isPendingTransactions and not f79_arg0._autoTierSkip then
				LUI.FlowManager.RequestPopupMenu( nil, "StoreConfirmPurchaseKoreaLegalPupup", true, f80_arg1.controller, f80_local4, {
					isItemNameLocalized = true,
					isBattlepassTier = true,
					itemName = f80_local0,
					itemImage = BATTLEPASS.GetEmblemGold(),
					itemCurrencyID = LOOT.CurrencyIDs.COD_POINTS,
					itemCurrencyAmount = f79_arg0._itemCost,
					confirmAction = function ()
						LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f80_arg0.controller, f80_arg0, f80_arg0, nil, false, true )
						f80_arg0._purchaseEnabled = false
					end
				}, nil, false, false )
			else
				LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f80_arg1.controller, f80_local4, f80_local1, nil, false, true )
				f79_arg0._purchaseEnabled = false
			end
		end
	end
	
end

local f0_local37 = function ( f78_arg0, f78_arg1 )
	local f78_local0, f78_local1 = BATTLEPASS.IsPendingTransactions( f78_arg1 )
	local f78_local2 = BATTLEPASS.GetPendingTierSkips( f78_arg1 )
	local f78_local3 = nil
	if f78_local0 then
		if 20 <= f78_local2 then
			f78_local3 = BATTLEPASS.GetPurchaseBundleRef()
		else
			f78_local3 = BATTLEPASS.GetPurchaseRef()
		end
	end
	local f78_local4 = f78_arg0:GetPurchaseAction( f78_local3 )
	f78_local4( f78_arg0, {
		controller = f78_arg1
	} )
end

local f0_local38 = function ( f76_arg0 )
	f76_arg0._purchaseEnabled = false
	f76_arg0._previousXP = BATTLEPASS.GetXP( f76_arg0._controllerIndex )
	f76_arg0._previousLevel = BATTLEPASS.GetTier( f76_arg0._controllerIndex )
	f76_arg0._fixingUp = true
	BATTLEPASS.FixUp( f76_arg0._controllerIndex )
	local f76_local0 = f76_arg0:Wait( 60000 )
	f76_local0.onComplete = function ()
		f76_arg0:processEvent( {
			name = "battlepass_fixup_failed"
		} )
	end
	
	LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f76_arg0._controllerIndex, false, {
		fixUp = true
	}, nil, false, true )
end

local f0_local39 = function ( f75_arg0, f75_arg1 )
	LUI.FlowManager.RequestPopupMenu( f75_arg0, "BattlePassPurchasePopup", true, f75_arg1, false, {
		isPurchaseBattlePassInAAR = true,
		sourceMenu = f75_arg0,
		purchaseAction = f75_arg0:GetPurchaseAction()
	} )
	local f75_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	if f75_local0.showBPBundle then
		f75_local0.showBPBundle = false
	end
end

local f0_local40 = function ( f74_arg0, f74_arg1 )
	ACTIONS.AnimateSequence( f74_arg0, "SetupStandalone" )
	f74_arg0._purchaseBattlePassInAAR = true
	f0_local0( f74_arg0, f74_arg1 )
end

local f0_local41 = function ( f71_arg0, f71_arg1, f71_arg2 )
	f71_arg0._displayBattlePassInAAR = true
	f71_arg0._shouldAnimateDoubleXP = f71_arg2.isDoubleXPActive
	local f71_local0 = f71_arg2.startTierXP
	f71_arg0.finalAAREndPosition = f0_local0( f71_arg0, BATTLEPASS.GetTierByXP( f71_arg0._controllerIndex, f71_arg2.currentTierXP ) )
	f71_arg0.BattlePassTierProgression = MenuBuilder.BuildRegisteredType( "BattlePassTierProgression", {
		isAARBattlepass = true,
		controllerIndex = f71_arg1
	} )
	f71_arg0.BattlePassTierProgression.id = "BattlePassTierProgression"
	f71_arg0.BattlePassTierProgression:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, _1080p * 0, _1080p * 1080 )
	f71_arg0:addElement( f71_arg0.BattlePassTierProgression )
	f71_arg0.BattlePassTierProgression:PlayBattlePassTierProgression( f71_arg1, f71_arg2 )
	f71_arg0.BattlePassTierProgression:SetAlpha( 0 )
	f71_arg0.BattlePassGridContainer:SetAlpha( 0 )
	f71_arg0.BattlePassTierProgression:SetAlpha( 1, 400, LUI.EASING.outQuadratic )
	f71_arg0.BattlePassGridContainer:SetAlpha( 1, 600, LUI.EASING.outQuadratic )
	f0_local0( f71_arg0, f71_arg1 )
	f71_arg0.Background:SetAlpha( 0 )
	ACTIONS.AnimateSequence( f71_arg0.TierPurchaseBG, "HideBattlePassInfo" )
	f71_arg0.Grid:SetDirectionalInputEnabled( false )
	f71_arg0:registerEventHandler( "update_aar_battlepass_tier", function ( element, event )
		if not f71_arg0._purchaseBattlePassInAAR then
			f71_arg0:AnimateXPEarnedInAAR( event.displayTierXP, event.earnedTypeXP + event.displayTierXP, event.waitTime )
		end
	end )
	f71_arg0:registerEventHandler( AAR.PARADE_BATTLE_PASS_DONE, function ( element, event )
		if not f71_arg0._purchaseBattlePassInAAR then
			ACTIONS.LeaveMenu( f71_arg0 )
			LUI.FlowManager.RequestAddMenu( "AARContainer", true, f71_arg0._controllerIndex, false, {
				fromBattlepassAAR = true,
				controller = f71_arg0
			} )
		end
	end )
end

local f0_local42 = function ( f70_arg0, f70_arg1 )
	if f70_arg1.controller == f70_arg0._controllerIndex then
		if f70_arg0._purchaseEnabled then
			if f70_arg0._isStandalone then
				return 
			elseif f70_arg0._needFixUp then
				f0_local0( f70_arg0 )
			elseif not f70_arg0._battlePassOwned then
				LUI.FlowManager.RequestPopupMenu( f70_arg0, "BattlePassPurchasePopup", true, f70_arg1.controller, false, {
					sourceMenu = f70_arg0,
					purchaseAction = purchaseAction
				} )
			elseif 0 < f70_arg0._tierSkips then
				LUI.FlowManager.RequestPopupMenu( f70_arg0, "BattlePassTiersPurchasePopup", true, f70_arg1.controller, false, {
					sourceMenu = f70_arg0,
					purchaseAction = purchaseAction,
					tierSkips = f70_arg0._tierSkips
				} )
			end
			Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpPurchaseSelect )
		elseif f70_arg0._skipAnimationEnabled then
			f70_arg0._skipAnimation = true
		end
	end
end

local f0_local43 = function ( f69_arg0, f69_arg1 )
	if f69_arg1 then
		local f69_local0 = {
			promptsData = {
				{
					kbmTooltipPromptOverload = "button_primary",
					button_ref = "button_primary",
					helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PREVIEW" )
				}
			}
		}
		if not f69_arg0.tooltipAdded then
			f69_arg0:AddTooltipData( controllerIndex, f69_local0 )
			f69_arg0.tooltipAdded = true
		end
	else
		f69_arg0:RemoveToolTipData()
	end
end

local f0_local44 = function ( f64_arg0, f64_arg1, f64_arg2, f64_arg3 )
	f64_arg0:SetupContextualMenu( {
		title = ToUpperCase( f64_arg0.lootData.name or "" )
	} )
	if not f64_arg3 and f64_arg2 then
		f64_arg0:AddContextualMenuAction( {
			id = "battlePassContextualBuyTier",
			actionName = Engine[0xED84C33EC5F01EA]( "BATTLEPASS/BUY_TIERS_MULTIPLE" ),
			actionFunction = function ()
				f64_arg0( f64_arg0, {
					controller = f64_arg0._controllerIndex
				} )
			end,
			button = LUI.MouseCursorContextualMenuLayer.BUTTON_NONE
		} )
	end
	local f64_local0 = f64_arg0.lootData.type
	if f64_local0 == LOOT.itemTypes.WEAPON then
		f64_arg0:AddContextualMenuAction( {
			id = "battlePassContextualViewDetails",
			button = "button_right_stick",
			actionName = Engine[0xED84C33EC5F01EA]( "BATTLEPASS/TOGGLE_REWARD_DETAILS_CONTEXTUAL" ),
			actionFunction = function ()
				if f64_arg0 == LOOT.itemTypes.WEAPON then
					f64_arg0._isExpanded = not f64_arg0._isExpanded
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.selectAlt )
				end
				f64_arg0( f64_arg0, f64_arg0.lootData, f64_arg0.itemData, f64_arg0._isExpanded )
				local f67_local0
				if f64_arg0 == LOOT.itemTypes.T9_MISC or f64_arg0 == LOOT.itemTypes.WZ_MISC then
					f67_local0 = false
				else
					f67_local0 = true
				end
				if f64_arg0._missionChallengeID and f67_local0 then
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.selectAlt )
					if not Engine[0x757E77CA15D6B8F]( f64_arg0._controllerIndex ) then
						if f64_arg0._missionChallengeData.category == Challenge.Operator then
							local f67_local1 = StringTable[0x2DCF0973239E909]( CSV.questChallenges.file, CSV.questChallenges.cols.ref, f64_arg0._missionChallengeID, CSV.questChallenges.cols.id )
							if f67_local1 and 0 < #f67_local1 then
								LUI.FlowManager.RequestAddMenu( "OperatorMissions", true, f64_arg0._controllerIndex, false, {
									challengeID = f67_local1,
									skinLootId = f64_arg0._missionChallengeData.loot
								} )
							end
						end
					else
						LUI.FlowManager.RequestPopupMenu( nil, "MPNoGuestPopup", false, f64_arg0._controllerIndex, false )
					end
				end
			end
		} )
	end
	if STORE.PreviewSupported( f64_local0 ) then
		f64_arg0:AddContextualMenuAction( {
			id = "battlePassContextualPreview",
			button = "button_primary",
			actionName = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PREVIEW" ),
			actionFunction = function ()
				if not f64_arg0._isAnimating then
					STORE.PreviewItem( f64_arg0._controllerIndex, f64_arg0, f64_arg0.lootData.itemID, nil, nil, true )
				end
			end
		} )
		f0_local0( f64_arg0, true )
	else
		f0_local0( f64_arg0, false )
	end
	if not f64_arg1._needFixUp and CONDITIONS.QuickEquipEnabled() and f0_local0( f64_arg1._controllerIndex, f64_arg0.lootData.itemID ) then
		f64_arg0:AddContextualMenuAction( {
			id = "battlePassContextualQuickEquip",
			button = "button_alt1",
			actionName = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/QUICK_EQUIP" ),
			actionFunction = function ()
				if not f64_arg0._isAnimating then
					f64_arg0( f64_arg0, f64_arg0._controllerIndex, f64_arg0.lootData.itemID )
				end
			end
		} )
	end
end

local f0_local45 = function ( f63_arg0 )
	if f63_arg0 then
		local f63_local0 = f63_arg0[#f63_arg0]
		if 1 < #f63_local0.lootTable then
			table.remove( f63_arg0, #f63_arg0 )
			for f63_local4, f63_local5 in ipairs( f63_local0.lootTable ) do
				local f63_local6 = LUI.ShallowCopy( f63_local0 )
				local f63_local7 = {
					lootID = f63_local5.lootID,
					billboardImage = f63_local5.billboardImage,
					tileImage = f63_local5.tileImage,
					challengeID = f63_local5.challengeID,
					subTierID = f63_local5.subTierID
				}
				if 1 < f63_local4 then
					f63_local6.showProgress = false
				end
				f63_local6.subTierID = f63_local5.subTierID
				f63_local6.lootTable = {}
				table.insert( f63_local6.lootTable, f63_local7 )
				table.insert( f63_arg0, f63_local6 )
			end
		end
	end
end

local f0_local46 = function ( f62_arg0, f62_arg1 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( "#x3550941572fe869e1" ) then
		return 
	end
	local f62_local0 = Challenge.GetQuestsForMissionChallenges( f62_arg1, {
		Challenge.Operator
	} )
	f62_local0 = f62_local0.quests
	local f62_local1 = {}
	for f62_local5, f62_local6 in pairs( f62_local0 ) do
		f62_local1[f62_local6[1].ref] = f62_local5
	end
	for f62_local5, f62_local6 in ipairs( f62_arg0 ) do
		for f62_local15, f62_local16 in ipairs( f62_local6.lootTable ) do
			local f62_local18 = f62_local16.challengeID
			if f62_local18 and 0 < #f62_local18 and f62_local1[f62_local18] then
				for f62_local13, f62_local14 in ipairs( f62_local0[f62_local1[f62_local18]] ) do
					if f62_local14.loot and 0 < #f62_local14.loot then
						local f62_local10 = LUI.ShallowCopy( f62_local16 )
						local f62_local11 = tonumber( f62_local14.amount ) <= OnlineChallenges[0x77167A1140D536]( f62_arg1, f62_local14.id )
						f62_local10.lootID = f62_local14.loot
						f62_local10.isOperatorChallengeReward = true
						f62_local10.operatorChallengeName = f62_local14.name
						local f62_local12
						if f62_local14.unlocked then
							f62_local12 = not f62_local11
						else
							f62_local12 = true
						end
						f62_local10.isLocked = f62_local12
						table.insert( f62_local6.lootTable, f62_local10 )
					end
				end
			end
		end
	end
end

local f0_local47 = function ( f61_arg0, f61_arg1 )
	for f61_local12, f61_local13 in ipairs( f61_arg0 ) do
		local f61_local14 = BATTLEPASS.GetTierSplitItemIDs( tonumber( f61_local13.level ) )
		local f61_local15 = BATTLEPASS.GetTierSplitBillboardImages( tonumber( f61_local13.level ) )
		local f61_local16 = BATTLEPASS.GetTierSplitTileImages( tonumber( f61_local13.level ) )
		for f61_local9, f61_local10 in ipairs( f61_local13.lootTable ) do
			local f61_local4 = assert
			local f61_local3 = f61_local10.subTierID
			if f61_local3 then
				f61_local3 = 0 < f61_local10.subTierID
			end
			f61_local4( f61_local3, "SetupSplitTierUnlocks: Invalid subTierID provided, expected non-nil and greater than 0" )
			f61_local4 = tonumber( f61_local14[f61_local10.subTierID] )
			local f61_local5 = f61_local15[f61_local10.subTierID]
			f61_local3 = f61_local16[f61_local10.subTierID]
			if f61_local4 and f61_local4 ~= 0 then
				f61_local10._gameSourceId = LOOT.GetGameSourceIDFromItemID( f61_local10.lootID )
				local f61_local6 = LUI.ShallowCopy( f61_local10 )
				f61_local6._gameSourceId = LOOT.GetGameSourceIDFromItemID( f61_local4 )
				f61_local6.lootID = f61_local4
				local f61_local7
				if f61_local5 then
					f61_local7 = f61_local5
				elseif f61_local5 == "" or f61_local5 == "0" then
					f61_local7 = false
				else
					f61_local7 = true
				end
				if f61_local7 then
					f61_local6.billboardImage = f61_local5
				end
				local f61_local8
				if not f61_local3 then
					f61_local8 = f61_local3
				else
					f61_local8 = ""
				end
				f61_local6.tileImage = f61_local8
				table.insert( f61_local13.lootTable, f61_local6 )
			end
		end
	end
end

local f0_local48 = function ( f60_arg0 )
	if f60_arg0._gridTimer then
		f60_arg0._gridTimer:closeTree()
		f60_arg0._gridTimer = nil
		f60_arg0._battlePassData = BATTLEPASS.GetAllTiersData( f60_arg0._controllerIndex )
		f0_local0( f60_arg0._battlePassData )
		f0_local0( f60_arg0._battlePassData, f60_arg0._controllerIndex )
		f0_local0( f60_arg0._battlePassData, f60_arg0._controllerIndex )
		f60_arg0.Grid:SetNumChildren( #f60_arg0._battlePassData )
		f60_arg0.Grid:RefreshContent()
	end
end

local f0_local49 = function ( f59_arg0, f59_arg1 )
	LUI.FlowManager.RequestPopupMenu( f59_arg0, "CreatorCodePopup", true, controllerIndex, false, {
		controllerIndex = f59_arg1
	} )
end

local f0_local50 = function ( f58_arg0, f58_arg1 )
	if not f58_arg1 then
		f58_arg1 = {}
	end
	local f58_local0 = #f58_arg0._currentChild.itemData.lootTable
	local f58_local1 = f58_arg0._lootIndex
	if 1 < f58_local0 then
		if f58_arg1.button == "up" then
			if f58_local1 < f58_local0 then
				f58_local1 = f58_local1 + 1
			else
				f58_local1 = 1
			end
		elseif f58_arg1.button == "down" then
			if 1 < f58_local1 then
				f58_local1 = f58_local1 - 1
			else
				f58_local1 = f58_local0
			end
		end
		f58_arg0._currentChild:CycleLootCards( f58_local1, nil, f58_arg1.fromClick )
		f58_arg0._lootIndex = f58_arg0._currentChild._lootIndex and f58_arg0._currentChild._lootIndex or f58_arg0._lootIndex
		f0_local0( f58_arg0._currentChild, f58_arg0, f58_arg0._currentChild.isLockedWithBattlePass, f58_arg0._isBattlePassPopup )
		f0_local0( f58_arg0 )
	end
end

local f0_local51 = function ( f57_arg0 )
	local f57_local0 = f57_arg0.Grid:GetMaxVisibleColumns()
	local f57_local1 = 0
	local f57_local2 = 0
	local f57_local3 = f57_arg0._battlePassData[f57_arg0._firstItem].level
	local f57_local4 = f57_arg0._battlePassData[f57_arg0._lastItem].level
	if f57_arg0._maxBattlePassLevel < tonumber( f57_local3 ) then
		f57_local3 = 0
	end
	for f57_local5 = 1, f57_local3 - 1, 1 do
		if f57_arg0._friendsPerTier[f57_local5] then
			f57_local1 = f57_local1 + #f57_arg0._friendsPerTier[f57_local5]
		end
	end
	for f57_local5 = f57_local4 + 1, f57_arg0._maxBattlePassLevel, 1 do
		if f57_arg0._friendsPerTier[f57_local5] then
			f57_local2 = f57_local2 + #f57_arg0._friendsPerTier[f57_local5]
		end
	end
	if f57_local1 == 0 then
		f57_arg0.FriendsPrevious:SetVisible( false )
	else
		f57_arg0.FriendsPrevious:SetVisible( true )
		f57_arg0.FriendsPrevious:setText( Engine[0xED84C33EC5F01EA]( "BATTLEPASS/FRIENDSCOUNTPREV", f57_local1 ) )
	end
	if f57_local2 == 0 then
		f57_arg0.FriendsNext:SetVisible( false )
	else
		f57_arg0.FriendsNext:SetVisible( true )
		f57_arg0.FriendsNext:setText( Engine[0xED84C33EC5F01EA]( "BATTLEPASS/FRIENDSCOUNTNEXT", f57_local2 ) )
	end
end

local f0_local52 = function ( f56_arg0 )
	local f56_local0 = Friends[0xDC2BB9F425AF400]( f56_arg0._controllerIndex, 0, FRIENDS.SOCIAL_MENU_CACHED_FRIENDS, true, true, true, true, true )
	local f56_local1 = nil
	if f56_local0.count > FRIENDS.SOCIAL_MENU_CACHED_FRIENDS then
		f56_local1 = FRIENDS.SOCIAL_MENU_CACHED_FRIENDS
	else
		f56_local1 = f56_local0.count
	end
	for f56_local2 = 1, f56_local1, 1 do
		local f56_local5 = f56_local0.players[f56_local2].battlepass_tier
		if not f56_arg0._friendsPerTier[f56_local5] then
			f56_arg0._friendsPerTier[f56_local5] = {}
		end
		local f56_local6 = f56_arg0._friendsPerTier[f56_local5]
		f56_local6[#f56_local6 + 1] = f56_local0.players[f56_local2]
	end
end

local f0_local53 = function ( f55_arg0, f55_arg1 )
	if not f55_arg0._isAnimating then
		f0_local0( f55_arg0, true )
		f55_arg0.Grid:GainFocus( f55_arg1 )
	end
	if LUI.IsLastInputKeyboardMouse( f55_arg1.controllerIndex ) then
		f55_arg0.LeftArrow:SetVisibility( LUI.Visibility.Visible )
		f55_arg0.RightArrow:SetVisibility( LUI.Visibility.Visible )
		f55_arg0.LeftPrompt:SetVisibility( LUI.Visibility.Hidden )
		f55_arg0.RightPrompt:SetVisibility( LUI.Visibility.Hidden )
		f55_arg0.LeftPromptText:SetVisibility( LUI.Visibility.Hidden )
		f55_arg0.RightPromptText:SetVisibility( LUI.Visibility.Hidden )
	else
		f55_arg0.LeftArrow:SetVisibility( LUI.Visibility.Hidden )
		f55_arg0.RightArrow:SetVisibility( LUI.Visibility.Hidden )
		f55_arg0.LeftPrompt:SetVisibility( LUI.Visibility.Visible )
		f55_arg0.RightPrompt:SetVisibility( LUI.Visibility.Visible )
		f55_arg0.LeftPromptText:SetVisibility( LUI.Visibility.Visible )
		f55_arg0.RightPromptText:SetVisibility( LUI.Visibility.Visible )
	end
end

local f0_local54 = function ( f54_arg0, f54_arg1, f54_arg2 )
	if f54_arg0.Grid then
		return 
	end
	local BattlePassGridContainer = nil
	
	BattlePassGridContainer = MenuBuilder.BuildRegisteredType( "BattlePassGridContainer", {
		controllerIndex = f54_arg1
	} )
	BattlePassGridContainer.id = "BattlePassGridContainer"
	BattlePassGridContainer:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -700, _1080p * 700, _1080p * -647, _1080p * 8 )
	f54_arg0:addElement( BattlePassGridContainer )
	f54_arg0.BattlePassGridContainer = BattlePassGridContainer
	
	f54_arg0.Grid = f54_arg0.BattlePassGridContainer.Grid
	f54_arg0.HorizontalScrollbar = f54_arg0.BattlePassGridContainer.HorizontalScrollbar
	f54_arg0._firstItem = 1
	f54_arg0._lastItem = f54_arg0.Grid and f54_arg0.Grid:GetMaxVisibleColumns() or 1
	f54_arg0.Grid:SetSnapOnWrapEnabled( true )
	f54_arg0.Grid:SetRefreshChild( f54_arg2 )
	f54_arg0.Grid:SetNumChildren( #f54_arg0._battlePassData )
	f54_arg0.Grid:SetMeasureColumnFunction( LUI.ExpanderUtils.GenerateMeasureColumnFunction( 150 * _1080p ) )
	f0_local0( f54_arg0, true )
	f54_arg0.Grid:RefreshContent()
	if f54_arg0._isStandalone then
		f54_arg0.HorizontalScrollbar:SetAlpha( 0 )
		f54_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( true )
	end
	f54_arg0:registerAndCallEventHandler( "update_input_type", f0_local0, {
		controllerIndex = f54_arg0._controllerIndex
	} )
end

local f0_local55 = function ( f53_arg0, f53_arg1 )
	if f53_arg0._currentMenu and CONDITIONS.QuickEquipEnabled() and not f53_arg0._needFixUp then
		f53_arg0._currentMenu.HelperBar.ButtonHelperText:PopButtonPrompt( {
			button_ref = "button_alt1"
		} )
	end
end

local f0_local56 = function ( f18_arg0, f18_arg1, f18_arg2 )
	f18_arg0.AnimateXPEarned = f0_local0
	f18_arg0.AnimateXPEarnedInAAR = f0_local0
	f18_arg0.AnimateUnlocks = f0_local0
	f18_arg0.AnimateShowcase = f0_local0
	f18_arg0.UpdateButtonHelperText = f0_local0
	f18_arg0.UpdateMenuDisplay = f0_local0
	f18_arg0.CycleLootCards = f0_local0
	f18_arg0.ShowFriendsPreviousAndAfter = f0_local0
	f18_arg0.GetFriendsPerTier = f0_local0
	f18_arg0.LoseFocusCallback = f0_local0
	if f18_arg0.BattlePassGridContainer then
		f18_arg0.Grid = f18_arg0.BattlePassGridContainer.Grid
		f18_arg0.HorizontalScrollbar = f18_arg0.BattlePassGridContainer.HorizontalScrollbar
	end
	ACTIONS.ScaleFullscreen( f18_arg0.Background )
	FrontEndScene.HideAllCharacters()
	if not f18_arg2.displayBattlePassInAAR then
		Engine[0x685AE31DEDA30A4]( "quartermaster" )
	end
	local f18_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	f18_arg0._maxBattlePassLevel = BATTLEPASS.GetMaxTier()
	f18_arg0._controllerIndex = f18_arg1
	f18_arg0._battlePassXP = BATTLEPASS.GetLastMenuXP( f18_arg0._controllerIndex )
	if f18_arg2.displayBattlePassInAAR then
		f18_arg0._battlePassXP = f18_arg2.battlePassData.startTierXP
	end
	f18_arg0._previousXP = f18_arg0._battlePassXP
	f18_arg0._battlePassOwned = BATTLEPASS.IsOwned( f18_arg0._controllerIndex )
	f18_arg0._battlePassData = BATTLEPASS.GetAllTiersData( f18_arg0._controllerIndex )
	f18_arg0._availableCODPoints = Commerce[0xFCE51EA6B7B00CC]( f18_arg0._controllerIndex, LOOT.CurrencyIDs.COD_POINTS )
	f18_arg0._currentLevel = BATTLEPASS.GetTier( f18_arg0._controllerIndex )
	if f18_arg2.displayBattlePassInAAR then
		f18_arg0._currentLevel = BATTLEPASS.GetTierByXP( f18_arg0._controllerIndex, f18_arg0._battlePassXP )
	end
	f18_arg0._isAnimating = false
	f18_arg0._isExpanded = false
	f18_arg0._currentChild = nil
	f18_arg0._autoTierSkip = f18_arg2.tierSkipID ~= nil
	f18_arg0._displayBattlePassInAAR = f18_arg2.displayBattlePassInAAR ~= nil
	f18_arg0._isBattlePassPopup = f18_arg2.isBattlePassPopup
	local f18_local1 = f18_arg0._isBattlePassPopup
	if not f18_local1 then
		f18_local1 = f18_arg0._displayBattlePassInAAR
		if not f18_local1 then
			f18_local1 = f18_arg2.isStandalone or f18_arg2.purchaseBattlePassInAAR
		end
	end
	f18_arg0._isStandalone = f18_local1
	f18_arg0._needFixUp = f0_local0( f18_arg0 )
	f18_arg0._itemSelectionComplete = true
	f18_arg0._lootIndex = 1
	f18_arg0._friendsPerTier = {}
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x380cd69ba48f3032e" ) then
		f18_arg0:GetFriendsPerTier()
	end
	if f18_local0.crmPurchaseBattlePass then
		f18_local0.crmPurchaseBattlePass = nil
		f18_arg0._crmPurchaseBattlePass = true
	end
	f18_arg0.GetPurchaseAction = f0_local0
	f18_arg0.TriggerAutoTierSkip = f0_local0
	f18_arg0.TriggerPurchaseBattlePassInAAR = f0_local0
	f18_arg0.TriggerDisplayBattlePassInAAR = f0_local0
	f18_arg0.DisableBundleBonusTopper = f0_local0
	f0_local0( f18_arg0._battlePassData )
	f0_local0( f18_arg0._battlePassData, f18_arg0._controllerIndex )
	f0_local0( f18_arg0._battlePassData, f18_arg0._controllerIndex )
	if f18_arg0._isBattlePassPopup then
		f18_arg0.BillboardImg:SetMask( f18_arg0.CenterOutMask )
		f18_arg0.CenterOutMask:SetAlpha( 1 )
	end
	f18_arg0._firstItem = 1
	f18_arg0._lastItem = f18_arg0.Grid and f18_arg0.Grid:GetMaxVisibleColumns() or 1
	f18_arg0._lastTierAlreadySet = false
	f18_local1 = function ( f49_arg0, f49_arg1, f49_arg2 )
		local f49_local0 = f49_arg1 + 1
		local f49_local1 = f18_arg0._battlePassData[f49_local0]
		local f49_local2 = tonumber( f49_local1.level )
		local f49_local3 = f49_local2 <= 0
		local f49_local4 = f49_local2 == BATTLEPASS.BUNDLE_TOPPER_ITEM_LEVEL
		local f49_local5 = f49_local1.lootTable[1]
		local f49_local6
		if 1 < #f49_local1.lootTable then
			if f49_local5 then
				f49_local6 = f49_local5
			else
				f49_local6 = f49_local5._gameSourceId
			end
		else
			f49_local6 = false
		end
		f49_arg0._isMultiItemGameSourceTier = f49_local6
		f49_arg0.itemData = f49_local1
		f49_arg0:SetupLootData( f49_local1 )
		f49_local6 = f49_arg0.lootData
		if Dvar[0x9E5BE3B4BBA4E0E]( "#x380cd69ba48f3032e" ) then
			if f49_local2 == 0 then
				f49_arg0._numFriends = 0
			elseif f18_arg0._friendsPerTier[f49_local2] then
				f49_arg0._numFriends = #f18_arg0._friendsPerTier[f49_local2]
			else
				f49_arg0._numFriends = 0
			end
			if f18_arg0._friendsPerTier[f49_local2] then
				f49_arg0._friends = f18_arg0._friendsPerTier[f49_local2]
			else
				f49_arg0._friends = {}
			end
			if not f18_arg0._lastTierAlreadySet then
				f49_arg0:ShowFriendsPerTier()
				f49_arg0:SetOverlay()
			end
			if f49_local2 == f18_arg0._maxBattlePassLevel then
				f18_arg0._lastTierAlreadySet = true
			end
			if f18_arg0._lastItem < f49_local0 then
				f18_arg0._firstItem = f49_local0 - f18_arg0.Grid:GetMaxVisibleColumns()
				f18_arg0._lastItem = f49_local0
			elseif f49_local0 < f18_arg0._firstItem then
				f18_arg0._lastItem = f49_local0 + f18_arg0.Grid:GetMaxVisibleColumns()
				f18_arg0._firstItem = f49_local0
			end
		else
			f49_arg0._numFriends = 0
			f49_arg0:ShowFriendsPerTier()
		end
		f18_arg0:ShowFriendsPreviousAndAfter()
		f49_arg0:SetBattlePassOwned( f18_arg0._battlePassOwned )
		local f49_local7 = f49_arg0
		local f49_local8 = f49_arg0.SetTopBanner
		local f49_local9 = f49_local1.tierType
		local f49_local10
		if not f18_arg0._battlePassOwned then
			f49_local10 = f49_local3
		else
			f49_local10 = false
		end
		f49_local8( f49_local7, f49_local9, f49_local10, f49_local4 )
		f49_arg0:SetIsAnimating( f18_arg0._isAnimating )
		f49_arg0:EnableGlow( false )
		f49_local8 = 0
		if not f49_local3 then
			local f49_local11 = tonumber( f49_local1.xp )
			if f49_local11 <= f18_arg0._battlePassXP then
				f49_local8 = 1
			else
				f49_local7 = 0
				if 1 < f49_local2 and not f49_local4 then
					f49_local7 = BATTLEPASS.GetTierMinXP( f49_local2 - 1 )
				end
				if f49_local7 < f18_arg0._battlePassXP then
					f49_local8 = (f18_arg0._battlePassXP - f49_local7) / (f49_local11 - f49_local7)
				end
			end
			if f49_local8 ~= 1 then
				ACTIONS.AnimateSequence( f49_arg0, "HideCheckbox" )
			end
		elseif f18_arg0._battlePassOwned then
			f49_local8 = 1
		else
			f49_local8 = 0
		end
		local f49_local11 = f49_local2
		if f49_local3 or f49_local4 then
			f49_local11 = nil
		end
		f49_arg0:SetLevel( f49_local11, f49_local1.showProgress )
		f49_arg0:SetProgress( f49_local8, 0 )
		f49_arg0:SetIsBundleBonus( f49_local4 )
		if f49_local1.lootTable[1].challengeID and f49_local1.lootTable[1].challengeID ~= "" then
			f49_arg0:ShowMission( true )
		else
			f49_arg0:ShowMission( false )
		end
		f49_arg0._column = f49_arg1
		f49_arg0:UpdateExpandedState()
		f49_local7 = f49_local8 == 1
		f49_arg0:SetOwned( f49_local7 )
		local f49_local12 = f49_arg0
		f49_local9 = f49_arg0.SetLocked
		local f49_local13
		if f49_local7 then
			f49_local13 = BATTLEPASS.IsTierLocked( f18_arg0._controllerIndex, f18_arg0._battlePassOwned, f49_local1 )
		else
			f49_local13 = true
		end
		f49_local9( f49_local12, f49_local13 )
		if not f49_local7 and (not f49_local3 or not f18_arg0._battlePassOwned) then
			f49_arg0:SetPromoted( BATTLEPASS.GetTierLootIsPromoted( f18_arg0._controllerIndex, f49_local2, f49_local1.subTierID ) )
			f49_arg0:SetShowcased( BATTLEPASS.GetTierLootIsShowcased( f18_arg0._controllerIndex, f49_local2, f49_local1.subTierID ) )
		else
			f49_arg0.BattlePassFlare:ClearFlare()
			f49_arg0:SetShowcased( false )
			f49_arg0:SetPromoted( false )
		end
		f49_arg0:SetDirectionalInputEnabled( not f18_arg0._isAnimating )
		if not f49_arg0._buttonHandlerAdded then
			f49_arg0._buttonHandlerAdded = true
			f49_arg0:addEventHandler( "button_over", function ( f52_arg0, f52_arg1 )
				if f49_arg0._focusItem == nil or f49_arg0._focusItem ~= f52_arg0 then
					if f49_arg0._focusItem ~= nil then
						f49_arg0( f49_arg0._focusItem, false )
						f49_arg0._focusItem:processEvent( {
							name = "lose_active"
						} )
					end
					f49_arg0._focusItem = f52_arg0
					f49_arg0._currentChild = f49_arg0
					f49_arg0._lootIndex = 1
				end
				local f52_local0
				if not (tonumber( f49_arg0.itemData.level ) <= 0) then
					f52_local0 = not f49_arg0._isOwned
				else
					f52_local0 = false
				end
				f49_arg0( f49_arg0, f49_arg0, f52_local0, f49_arg0._isBattlePassPopup )
				f49_arg0( f49_arg0 )
				if CONDITIONS.IsMTXDebugOverlayEnabled() then
					local f52_local1 = f49_arg0.itemData.lootTable[1].lootID
					if f52_local1 ~= nil then
						MTXDebugOverlayUtils.UpdateInfo( f49_arg0, MTXDebugOverlayUtils.Categories.BATTLEPASS, {
							{
								infoId = MTXDebugOverlayUtils.BattlePassInfoIds.FOCUSED_ITEM_ID,
								infoValue = f52_local1
							},
							{
								infoId = MTXDebugOverlayUtils.BattlePassInfoIds.FOCUSED_ITEM_NAME,
								infoValue = LOOT.GetItemRef( LOOT.GetTypeForID( f52_local1 ), f52_local1 )
							}
						} )
					else
						local f52_local2 = MTXDebugOverlayUtils.DEFAULT_DATA_ENTRY
						MTXDebugOverlayUtils.UpdateInfo( f49_arg0, MTXDebugOverlayUtils.Categories.BATTLEPASS, {
							{
								infoId = MTXDebugOverlayUtils.BattlePassInfoIds.FOCUSED_ITEM_ID,
								infoValue = f52_local2
							},
							{
								infoId = MTXDebugOverlayUtils.BattlePassInfoIds.FOCUSED_ITEM_NAME,
								infoValue = f52_local2
							}
						} )
					end
				end
			end )
			f49_arg0:addEventHandler( "button_up", function ( f51_arg0, f51_arg1 )
				if f49_arg0._focusItem == f51_arg0 then
					f49_arg0._focusItem:processEvent( {
						name = "lose_active"
					} )
					f49_arg0._focusItem = nil
				end
				f49_arg0._lootIndex = 1
			end )
			f49_arg0:addEventHandler( "button_action", function ( f50_arg0, f50_arg1 )
				if STORE.PreviewSupported( f50_arg0.lootData.type ) and not f49_arg0._isAnimating and f50_arg1.controller == f49_arg0._controllerIndex and not f49_arg0._displayBattlePassInAAR then
					STORE.PreviewItem( f49_arg0._controllerIndex, f50_arg0.lootData.type, f50_arg0.lootData.itemID, nil, nil, true )
				end
				return true
			end )
		end
	end
	
	if CONDITIONS.IsBattlePassBundleTopperActive( f18_arg0._controllerIndex ) then
		local f18_local2 = Engine[0xF16311E3FCA3DCF]()
		local f18_local3 = Dvar[0x22EAAB59AA27E9B]( "#x3a10d87eb758cd060" )
		local bindButton
		if f18_local2 < f18_local3 then
			bindButton = f18_local3 - f18_local2
			if not bindButton then
			
			else
				f18_arg0._gridTimer = LUI.UITimer.new( {
					event = "disable_bp_topper_timer",
					interval = BATTLEPASS.TOPPER_TIMER_MAX_THRESHOLD_MS and BATTLEPASS.TOPPER_TIMER_MAX_THRESHOLD_TIMER_TICK_MS or bindButton * 1000
				} )
				f18_arg0._gridTimer.id = "bpTopperTimerGrid"
				f18_arg0:addElement( f18_arg0._gridTimer )
				f18_arg0:addAndCallEventHandler( "disable_bp_topper_timer", function ()
					local f48_local0 = Engine[0xF16311E3FCA3DCF]()
					local f48_local1 = Dvar[0x22EAAB59AA27E9B]( "#x3a10d87eb758cd060" )
					local f48_local2
					if f48_local0 < f48_local1 then
						f48_local2 = f48_local1 - f48_local0
						if not f48_local2 then
						
						else
							if f48_local2 == 0 then
								f18_arg0:DisableBundleBonusTopper( f18_arg0 )
							end
						end
					end
					f48_local2 = 0
				end )
			end
		end
		bindButton = 0
	end
	if not CONDITIONS.IsBypassingBattlePassCreation() then
		f18_arg0.Grid:SetSnapOnWrapEnabled( true )
		f18_arg0.Grid:SetRefreshChild( f18_local1 )
		f18_arg0.Grid:SetNumChildren( #f18_arg0._battlePassData )
		f18_arg0.Grid:SetMeasureColumnFunction( LUI.ExpanderUtils.GenerateMeasureColumnFunction( 150 * _1080p ) )
		f0_local0( f18_arg0, true )
		f18_arg0.Grid:RefreshContent()
	end
	local f18_local2 = f18_local0.showBPBundle
	if not f18_local2 then
		f18_local2 = Onboarding.BattlePass.WasCompleted( f18_arg0, f18_arg0._controllerIndex )
	end
	local f18_local3 = function ( f47_arg0, f47_arg1 )
		f18_arg0 = Onboarding.BattlePass.WasCompleted( f18_arg0, f18_arg0._controllerIndex )
		if not f18_arg0._isAnimating and (f18_arg0.showBPBundle or f18_arg0) then
			if f18_arg0.showBPBundle then
				f18_arg0( f18_arg0, f18_arg0 )
			elseif f18_arg0( f18_arg0 ) then
				if Dvar[0x9E5BE3B4BBA4E0E]( "#x3de00b3d67b8048" ) then
					f18_arg0:AnimateShowcase()
				else
					f18_arg0( f18_arg0 )
				end
			else
				f18_arg0( f18_arg0 )
			end
		end
	end
	
	local bindButton = f18_arg0:Wait( 1 )
	bindButton.onComplete = function ()
		f18_arg0 = Onboarding.BattlePass.WasCompleted( f18_arg0, f18_arg0._controllerIndex )
		local f46_local0 = BATTLEPASS.HasNewPassForSeason( f18_arg0._controllerIndex )
		if f46_local0 then
			f46_local0 = not BATTLEPASS.IsOwned( f18_arg0._controllerIndex )
		end
		local f46_local1
		if not f46_local0 then
			f46_local1 = f46_local0
		else
			f46_local1 = Dvar[0x9E5BE3B4BBA4E0E]( "#x33e37bc35e58f15c1" )
			if f46_local1 then
				f46_local1 = not f18_arg0._upsellSeen
			end
		end
		if f18_arg0.showBPBundle or f18_arg0 and not f18_arg0._crmPurchaseBattlePass then
			if f18_arg0.showBPBundle or f46_local1 then
				f18_arg0( f18_arg0 )
			else
				f18_arg0( f18_arg0 )
			end
		end
	end
	
	f18_arg0.BattlePassStatus:UpdateActiveBanner( f18_arg0._battlePassOwned )
	if not f18_arg0._isStandalone then
		if f18_arg0._crmPurchaseBattlePass and not BATTLEPASS.IsOwned( f18_arg0._controllerIndex ) then
			Onboarding.BattlePass.MarkCompleted( f18_arg0, f18_arg0._controllerIndex )
			BATTLEPASS.MarkPassSeenForSeason( f18_arg0._controllerIndex, SEASON.GetCurrentSeason() )
			f0_local0( f18_arg0, f18_arg1 )
		elseif not f18_local2 then
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f18_arg0._controllerIndex, false )
		else
			BATTLEPASS.MarkPassSeenForSeason( f18_arg0._controllerIndex, SEASON.GetCurrentSeason() )
		end
	end
	if f18_arg0._isStandalone then
		if not f18_arg0._displayBattlePassInAAR then
			f18_arg0._battlePassXP = BATTLEPASS.GetXP( f18_arg0._controllerIndex )
		end
		ACTIONS.AnimateSequence( f18_arg0, "SetupStandalone" )
		if f18_arg0.HorizontalScrollbar then
			f18_arg0.HorizontalScrollbar:SetAlpha( 0 )
			f18_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( true )
		end
	else
		f18_arg0:addEventHandler( "gain_focus", function ( f45_arg0, f45_arg1 )
			f18_arg0( f45_arg0, f18_arg0, f18_arg0 )
			local f45_local0 = LUI.FlowManager.GetScopedData( f18_arg0 )
			if f45_local0.showBPBundle then
				f18_arg0( f18_arg0, f18_arg0 )
			else
				f18_arg0( f45_arg0, f45_arg1 )
			end
		end )
		f18_arg0:addEventHandler( "restore_focus", function ( f44_arg0, f44_arg1 )
			f18_arg0( f44_arg0, f18_arg0, f18_arg0 )
			local f44_local0 = LUI.FlowManager.GetScopedData( f18_arg0 )
			if f44_local0.restoreTiersPopup and f44_local0.restoreTiersPopupCount and 0 < f44_local0.restoreTiersPopupCount then
				f44_local0.restoreTiersPopup = false
				LUI.FlowManager.RequestPopupMenu( f18_arg0, "BattlePassTiersPurchasePopup", true, f18_arg0, false, {
					sourceMenu = f18_arg0,
					tierSkips = f44_local0.restoreTiersPopupCount
				} )
			elseif f44_local0.showBPBundle then
				f18_arg0( f18_arg0, f18_arg0 )
			else
				f18_arg0( f44_arg0, f44_arg1 )
			end
			f18_arg0( f44_arg0 )
		end )
	end
	bindButton = LUI.UIBindButton.new()
	bindButton.id = "bindButton"
	f18_arg0:addElement( bindButton )
	f18_arg0.bindButton = bindButton
	
	local f18_local5 = function ( f43_arg0 )
		if not f18_arg0._isAnimating and not f18_arg0._displayBattlePassInAAR then
			local f43_local0 = nil
			local f43_local1 = false
			if f43_arg0 then
				if LUI.IsLastInputMouseNavigation( f18_arg0 ) then
					local f43_local2 = f18_arg0.Grid:GetBuiltChildren()
					f43_local0 = (f43_local2[1]._column or 1) - f18_arg0
				else
					f43_local0 = f18_arg0.Grid:GetFocusPositionIndex() - f18_arg0
				end
			elseif LUI.IsLastInputMouseNavigation( f18_arg0 ) then
				local f43_local2 = f18_arg0.Grid:GetBuiltChildren()
				f43_local0 = (f43_local2[1]._column or 1) + f18_arg0 + f18_arg0
			else
				f43_local0 = f18_arg0.Grid:GetFocusPositionIndex() + f18_arg0
			end
			if f43_local0 <= 0 then
				f43_local1 = true
				f43_local0 = f18_arg0.Grid:GetNumColumns()
			elseif f18_arg0.Grid:GetNumChildren() <= f43_local0 then
				f43_local1 = true
				f43_local0 = 0
			end
			f18_arg0.Grid:SetFocusedPosition( {
				y = 0,
				x = f43_local0
			}, f43_local1 )
			f18_arg0._delayBlueprintIcon = true
		end
	end
	
	f18_arg0.bindButton:addEventHandler( "button_left_trigger", function ( f42_arg0, f42_arg1 )
		if f42_arg1.controller == f18_arg0._controllerIndex then
			f18_arg0( true )
		end
	end )
	f18_arg0.bindButton:addEventHandler( "button_right_trigger", function ( f41_arg0, f41_arg1 )
		if f41_arg1.controller == f18_arg0._controllerIndex then
			f18_arg0( false )
		end
	end )
	f18_arg0.bindButton:addEventHandler( "button_alt2", function ( f40_arg0, f40_arg1 )
		if not f18_arg0._isAnimating and not BATTLEPASS.IsOwned( f18_arg0._controllerIndex ) then
			if f18_arg0._battlePassOwned then
				LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f18_arg0._controllerIndex, false, {
					skipIntro = true,
					skipDelay = true
				} )
			else
				LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f18_arg0._controllerIndex, false, {
					skipDelay = true,
					skipIntro = true,
					closeAction = f18_arg0,
					menu = f18_arg0
				} )
			end
		end
	end )
	f18_arg0.LeftArrow:addEventHandler( "button_action", function ( f39_arg0, f39_arg1 )
		if f39_arg1.controller == f18_arg0._controllerIndex then
			f18_arg0( true )
		end
	end )
	f18_arg0.RightArrow:addEventHandler( "button_action", function ( f38_arg0, f38_arg1 )
		if f38_arg1.controller == f18_arg0._controllerIndex then
			f18_arg0( false )
		end
	end )
	f18_arg0.bindButton:addEventHandler( "button_right_stick", function ( f37_arg0, f37_arg1 )
		if f37_arg1.controller == f18_arg0._controllerIndex then
			if f18_arg0._currentChild then
				f18_arg0._isExpanded = not f18_arg0._isExpanded
				f18_arg0( f18_arg0, f18_arg0._currentChild.lootData, f18_arg0._currentChild.itemData, f18_arg0._isExpanded )
				if f18_arg0._currentChild.lootData.type == LOOT.itemTypes.WEAPON then
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.selectAlt )
				end
			end
			local f37_local0
			if f18_arg0._currentChild.lootData.type == LOOT.itemTypes.T9_MISC or f18_arg0._currentChild.lootData.type == LOOT.itemTypes.WZ_MISC then
				f37_local0 = false
			else
				f37_local0 = true
			end
			if f18_arg0._missionChallengeID and f37_local0 then
				Engine[0xC4146BA76D0F982]( SOUND_SETS.default.selectAlt )
				if f18_arg0._missionChallengeData.category == "OPERATOR" then
					local f37_local1 = StringTable[0x2DCF0973239E909]( CSV.questChallenges.file, CSV.questChallenges.cols.ref, f18_arg0._missionChallengeID, CSV.questChallenges.cols.id )
					if f37_local1 and 0 < #f37_local1 then
						LUI.FlowManager.RequestAddMenu( "OperatorMissions", true, f18_arg0._controllerIndex, false, {
							challengeID = f37_local1,
							skinLootId = f18_arg0._missionChallengeData.loot
						} )
					end
				end
			end
		end
	end )
	f18_arg0.bindButton:addEventHandler( "button_left_stick", function ( f36_arg0, f36_arg1 )
		if Dvar[0x9E5BE3B4BBA4E0E]( "#x3d9e89829c053d553" ) then
			f18_arg0( f18_arg0, f18_arg0 )
		end
	end )
	local f18_local6 = function ()
		f18_arg0._numTransactionsComplete = f18_arg0._numTransactionsComplete + 1
		f18_arg0:dispatchEventToRoot( {
			name = "update_battle_pass_purchasing_popup",
			progress = f18_arg0._numTransactionsComplete / f18_arg0._numTransactions
		} )
	end
	
	f18_arg0.bindButton:addEventHandler( "button_alt1", function ( f34_arg0, f34_arg1 )
		if CONDITIONS.QuickEquipEnabled() and not f18_arg0._needFixUp and not f18_arg0._isAnimating and not f18_arg0._displayBattlePassInAAR and f18_arg0( f18_arg0._controllerIndex, f18_arg0._currentChild.lootData.itemID ) then
			f18_arg0( f18_arg0, f18_arg0._controllerIndex, f18_arg0._currentChild.lootData.itemID )
		else
			f18_arg0( f18_arg0, f34_arg1 )
		end
	end )
	f18_arg0.BattlePassPurchaseButton:addEventHandler( "button_action", function ( f33_arg0, f33_arg1 )
		f18_arg0( f18_arg0, f33_arg1 )
	end )
	f18_arg0:addEventHandler( "loot_item_transaction_complete", function ( f32_arg0, f32_arg1 )
		f18_arg0()
		f18_arg0._queuedRef = nil
	end )
	f18_arg0:addEventHandler( "loot_item_transaction_error", function ( f31_arg0, f31_arg1 )
		if f31_arg1.errorCode == STORE.ProductNoLongerAvailableError then
			LUI.FlowManager.RequestPopupMenu( nil, "MessagePopup", true, f18_arg0, false, {
				headerText = Engine[0xED84C33EC5F01EA]( "MENU/ERROR" ),
				messageText = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PRODUCT_NOT_AVAILABLE" )
			} )
		end
		DebugPrint( "BattlePass loot_item_transaction_error for ref: " .. f18_arg0._queuedRef )
		f18_arg0._purchaseEnabled = true
		f18_arg0._errorCode = BATTLEPASS.GetErrorCode( f31_arg1.name, f18_arg0._queuedRef )
	end )
	local f18_local7 = function ()
		LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
		f18_arg0._needFixUp = f18_arg0( f18_arg0 )
		f18_arg0._battlePassOwned = BATTLEPASS.IsOwned( f18_arg0._controllerIndex )
		f18_arg0._battlePassXP = BATTLEPASS.GetXP( f18_arg0._controllerIndex )
		if f18_arg0._fixingUp then
			f18_arg0._fixingUp = false
			f18_arg0:Wait( 1, true )
		end
	end
	
	local f18_local8 = function ()
		DebugPrint( "BattlePass battlepass_fixup_complete" )
		local f27_local0 = BATTLEPASS.IsOwned( f18_arg0._controllerIndex )
		local f27_local1 = BATTLEPASS.GetXP( f18_arg0._controllerIndex )
		local f27_local2 = f18_arg0._battlePassOwned ~= f27_local0
		local f27_local3 = f18_arg0._battlePassXP ~= f27_local1
		f18_arg0()
		f18_arg0.BattlePassStatus:UpdateActiveBanner( f27_local0 )
		local f27_local4 = nil
		if f27_local2 and f27_local3 then
			f27_local4 = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_TIER_BUNDLE_UNLOCKED
		elseif f27_local2 then
			f27_local4 = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_UNLOCKED
		else
			f27_local4 = BATTLEPASS.FullScreenPopupStates.TIERS_UNLOCKED
		end
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f18_arg0._controllerIndex, false, {
			state = f27_local4
		}, nil, false, true )
		local f27_local5 = nil
		local f27_local6 = function ()
			local f28_local0 = f27_local0:Wait( 100 )
			f28_local0.onComplete = function ()
				if LUI.FlowManager.IsInStack( "BattlePassFullScreenPopup" ) then
					f28_local0()
				else
					local f29_local0 = f28_local0
					local f29_local1 = f28_local0
					local f29_local2 = f28_local0
					if f29_local2 then
						f29_local2 = not f28_local0
					end
					f29_local0( f29_local1, f29_local2 )
				end
			end
			
		end
		
		f27_local6()
	end
	
	local f18_local9 = function ()
		DebugPrint( "BattlePass battlepass_fixup_failed" )
		f18_arg0()
		f18_arg0( f18_arg0, Engine[0xED84C33EC5F01EA]( "BATTLEPASS/FAILED_CLAIM", "BATTLEPASS/BATTLE_PASS_TOKENS" ) )
	end
	
	local f18_local10 = function ( f25_arg0 )
		DebugPrint( "BattlePass activation complete for ref: " .. f18_arg0._queuedRef )
		f18_arg0()
		f18_arg0._battlePassOwned = BATTLEPASS.IsOwned( f18_arg0._controllerIndex )
		f18_arg0.BattlePassStatus:UpdateActiveBanner( f18_arg0._battlePassOwned )
		if tonumber( StringTable[0x2DCF0973239E909]( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f18_arg0._queuedRef, CSV.battlePassIDs.cols.type ) ) == BATTLEPASS.ItemTypes.TIER_SKIP and f25_arg0 then
			local f25_local0 = StringTable[0x8073B436CDE1BF]( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f18_arg0._queuedRef )
			if f25_local0 ~= -1 then
				local f25_local1 = CSV.ReadRowWithFile( CSV.battlePassIDs, CSV.battlePassIDs.file, f25_local0 )
				local f25_local2 = tonumber( f25_local1.skips )
				local f25_local3 = BATTLEPASS.GetRank( f25_arg0 )
				Engine[0x15D98DF5F61904B]( f25_arg0, "dlog_event_bp_tier_up", {
					previous_bp_tier = f25_local3 - f25_local2,
					new_bp_tier = f25_local3,
					reason = f25_local1.event
				} )
			end
		end
		if f18_arg0._activation then
			if f18_arg0._activation.id and f18_arg0._activation.count then
				if f18_arg0._activation.id == f18_arg0._activation.count then
					f18_arg0._queuedPurchase = nil
				end
			else
				f18_arg0._queuedPurchase = nil
			end
		end
		f18_arg0._queuedRef = nil
	end
	
	f18_arg0:addEventHandler( "OnAchievementActivated", function ( f24_arg0, f24_arg1 )
		if f24_arg1.kind == AEKinds.S4_AE_KIND_BATTLEPASS.ID then
			if f24_arg1.success == true then
				f18_arg0._waitingForNewUserState = true
				OnlineProgression[0xE826BFCAE818EF0]( f24_arg1.controller )
			elseif f18_arg0._fixingUp then
				f18_arg0()
			else
				DebugPrint( "BattlePass battlepass_activation_failed for ref: " .. f18_arg0._queuedRef )
				f18_arg0._purchaseEnabled = true
				f18_arg0._errorCode = BATTLEPASS.GetErrorCode( f24_arg1.name, f18_arg0._queuedRef )
			end
		end
	end )
	f18_arg0:addEventHandler( "OnUserStateFetched", function ( f23_arg0, f23_arg1 )
		if f18_arg0._waitingForNewUserState then
			f18_arg0._waitingForNewUserState = false
			if f23_arg1.success == true then
				if f18_arg0._fixingUp then
					f18_arg0()
				else
					f18_arg0( f23_arg1.controller )
				end
			elseif f18_arg0._fixingUp then
				f18_arg0()
			else
				DebugPrint( "BattlePass battlepass_activation_failed for ref: " .. f18_arg0._queuedRef )
				f18_arg0._purchaseEnabled = true
				f18_arg0._errorCode = BATTLEPASS.GetErrorCode( f23_arg1.name, f18_arg0._queuedRef )
			end
		end
	end )
	if not CONDITIONS.IsBypassingBattlePassCreation() then
		f18_arg0:registerAndCallEventHandler( "update_input_type", f0_local0, {
			controllerIndex = f18_arg0._controllerIndex
		} )
	end
	assert( f18_arg0.VignetteRight )
	assert( f18_arg0.VignetteLeft )
	LAYOUT.AddHandlerAspectRatioScaleAdjustment( f18_arg0, {
		f18_arg0.VignetteRight,
		f18_arg0.VignetteLeft
	}, LAYOUT.AspectRatioImageScalePct.LARGE )
	ACTIONS.ScaleFullscreen( f18_arg0.Background )
	if IsLanguageArabic() then
		f18_arg0.Name:SetTracking( 0, 0 )
		ACTIONS.AnimateSequence( f18_arg0, "AR" )
	elseif IsLanguageJapanese() then
		f18_arg0.WeaponDescription:SetScale( -0.05, 0 )
	end
	f18_arg0:addEventHandler( "gamepad_button", function ( f22_arg0, f22_arg1 )
		if f22_arg1.controller ~= f18_arg0._controllerIndex then
			if f22_arg1.button == "left" or f22_arg1.button == "right" or f22_arg1.button == "up" or f22_arg1.button == "down" then
				return true
			end
		elseif f22_arg1.down and not f18_arg0._isAnimating and (f22_arg1.button == "up" or f22_arg1.button == "down") then
			f18_arg0( f18_arg0, f22_arg1 )
		end
	end )
	f18_arg0:addEventHandler( "purchase_aar_battlepass", function ( f21_arg0, f21_arg1 )
		f18_arg0( f18_arg0, f18_arg0 )
	end )
	if f18_arg0._isBattlePassPopup then
		f18_arg0:addEventHandler( "menu_create", function ( f20_arg0, f20_arg1 )
			f18_arg0( f18_arg0 )
		end )
	end
	SEQUENCEPRESETS.RegisterAnimation( f18_arg0, LUI.Transition.TransNextFrom, "OutLeft", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f18_arg0, LUI.Transition.TransNextTo, "InLeft", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f18_arg0, LUI.Transition.TransPrevFrom, "OutRight", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f18_arg0, LUI.Transition.TransPrevTo, "InRight", 0 )
	f18_arg0:addEventHandler( "cycle_loot_cards", function ( f19_arg0, f19_arg1 )
		f18_arg0( f18_arg0, {
			button = "down",
			fromClick = true
		} )
	end )
	if IsLanguageJapanese() then
		ACTIONS.AnimateSequence( f18_arg0, "JP" )
	end
	if IsLanguageSimplifiedChinese() then
		ACTIONS.AnimateSequence( f18_arg0, "ZHS" )
	end
	if IsLanguageKorean() then
		ACTIONS.AnimateSequence( f18_arg0, "KR" )
	end
	if f18_arg0._friendsPerTier[f18_arg0._currentLevel] then
		local f18_local11 = 0
		for f18_local15, f18_local16 in pairs( f18_arg0._friendsPerTier[f18_arg0._currentLevel] ) do
			f18_local11 = f18_local11 + 1
		end
		METRICS.RecordBattlePassOpeningFlow( f18_arg1, f18_local11, f18_arg0._currentLevel )
	end
	if CONDITIONS.IsMTXDebugOverlayEnabled() then
		MTXDebugOverlayUtils.ShowOverlay( f18_arg0 )
		local f18_local11 = BATTLEPASS.IsOwned( f18_arg1 )
		local f18_local12 = BATTLEPASS.GetRank( f18_arg1 )
		local f18_local13 = {}
		local f18_local14 = {
			infoId = MTXDebugOverlayUtils.BattlePassInfoIds.BATTLEPASS_OWNERSHIP
		}
		local f18_local15
		if f18_local11 then
			f18_local15 = "Yes"
		else
			f18_local15 = "No"
		end
		f18_local14.infoValue = f18_local15
		f18_local13[1] = f18_local14
		f18_local13[2] = {
			infoId = MTXDebugOverlayUtils.BattlePassInfoIds.BATTLEPASS_TIER,
			infoValue = f18_local12
		}
		MTXDebugOverlayUtils.UpdateOverlayDetails( f18_arg0, MTXDebugOverlayUtils.Categories.BATTLEPASS, f18_local13 )
	end
end

function BattlePassMenu( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "BattlePassMenu"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromInt( 0, 0 )
	Background:SetAlpha( 0.9, 0 )
	Background:setImage( RegisterMaterial( "widg_gradient_bottom_to_top" ), 0 )
	self:addElement( Background )
	self.Background = Background
	
	local BillboardImg = nil
	BillboardImg = LUI.UIImage.new()
	BillboardImg.id = "BillboardImg"
	if Engine[0x575E9C5B9AAB6F4]() then
		LAYOUT.AddHandlerAspectRatioScaleAdjustment( self, BillboardImg, LAYOUT.AspectRatioImageScalePct.STANDARD )
	end
	BillboardImg:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -540, _1080p * 540 )
	self:addElement( BillboardImg )
	self.BillboardImg = BillboardImg
	
	local CenterOutMask = nil
	
	CenterOutMask = LUI.UIImage.new()
	CenterOutMask.id = "CenterOutMask"
	CenterOutMask:SetAlpha( 0, 0 )
	CenterOutMask:setImage( RegisterMaterial( "gradient_center_out" ), 0 )
	CenterOutMask:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 1824, _1080p * 199, _1080p * 779 )
	self:addElement( CenterOutMask )
	self.CenterOutMask = CenterOutMask
	
	local FadeCover = nil
	
	FadeCover = LUI.UIImage.new()
	FadeCover.id = "FadeCover"
	ACTIONS.ScaleFullscreen( FadeCover )
	FadeCover:SetRGBFromInt( 0, 0 )
	FadeCover:SetAlpha( 0, 0 )
	self:addElement( FadeCover )
	self.FadeCover = FadeCover
	
	local NonVGItemDimmer = nil
	
	NonVGItemDimmer = LUI.UIImage.new()
	NonVGItemDimmer.id = "NonVGItemDimmer"
	ACTIONS.ScaleFullscreen( NonVGItemDimmer )
	NonVGItemDimmer:SetRGBFromInt( 0, 0 )
	NonVGItemDimmer:SetAlpha( 0, 0 )
	self:addElement( NonVGItemDimmer )
	self.NonVGItemDimmer = NonVGItemDimmer
	
	local VignetteRight = nil
	
	VignetteRight = LUI.UIImage.new()
	VignetteRight.id = "VignetteRight"
	VignetteRight:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteRight:SetAlpha( 0.3, 0 )
	VignetteRight:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	VignetteRight:SetAnchorsAndPosition( 1, 0, 0, 0, 0, _1080p * -467, 0, 0 )
	self:addElement( VignetteRight )
	self.VignetteRight = VignetteRight
	
	local VignetteLeft = nil
	
	VignetteLeft = LUI.UIImage.new()
	VignetteLeft.id = "VignetteLeft"
	VignetteLeft:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteLeft:SetAlpha( 0.9, 0 )
	VignetteLeft:setImage( RegisterMaterial( "widg_gradient_left_to_right" ), 0 )
	VignetteLeft:SetAnchorsAndPosition( 1, 0, 0, 0, _1080p * -1920, _1080p * -1030, 0, 0 )
	self:addElement( VignetteLeft )
	self.VignetteLeft = VignetteLeft
	
	local LeftPromptText = nil
	
	LeftPromptText = LUI.UIStyledText.new()
	LeftPromptText.id = "LeftPromptText"
	LeftPromptText:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	LeftPromptText:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/PREVIOUS_PROMPT" ), 0 )
	LeftPromptText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	LeftPromptText:SetFontSize( 20 * _PT )
	LeftPromptText:SetMinFontSize( 24 * _PT )
	LeftPromptText:SetTextShrinkingDisabled( true )
	LeftPromptText:SetWordWrap( false )
	LeftPromptText:SetAlignment( LUI.Alignment.Right )
	LeftPromptText:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -1000, _1080p * -780, _1080p * -257, _1080p * -233 )
	self:addElement( LeftPromptText )
	self.LeftPromptText = LeftPromptText
	
	local LeftPrompt = nil
	
	LeftPrompt = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = "LUA_MENU/PAD_LEFT_TRIGGER_BUTTON",
		controllerIndex = f1_local1
	} )
	LeftPrompt.id = "LeftPrompt"
	LeftPrompt:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	LeftPrompt:setImage( RegisterMaterial( "button_trigger_left" ), 0 )
	LeftPrompt:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -771, _1080p * -727, _1080p * -267, _1080p * -223 )
	self:addElement( LeftPrompt )
	self.LeftPrompt = LeftPrompt
	
	local RightPromptText = nil
	
	RightPromptText = LUI.UIStyledText.new()
	RightPromptText.id = "RightPromptText"
	RightPromptText:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	RightPromptText:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/NEXT_PROMPT" ), 0 )
	RightPromptText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	RightPromptText:SetFontSize( 20 * _PT )
	RightPromptText:SetMinFontSize( 20 * _PT )
	RightPromptText:SetTextShrinkingDisabled( true )
	RightPromptText:SetWordWrap( false )
	RightPromptText:SetAlignment( LUI.Alignment.Left )
	RightPromptText:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * 780, _1080p * 1000, _1080p * -257, _1080p * -233 )
	self:addElement( RightPromptText )
	self.RightPromptText = RightPromptText
	
	local RightPrompt = nil
	
	RightPrompt = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = "LUA_MENU/PAD_RIGHT_TRIGGER_BUTTON",
		controllerIndex = f1_local1
	} )
	RightPrompt.id = "RightPrompt"
	RightPrompt:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	RightPrompt:setImage( RegisterMaterial( "button_trigger_right" ), 0 )
	RightPrompt:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * 727, _1080p * 771, _1080p * -267, _1080p * -223 )
	self:addElement( RightPrompt )
	self.RightPrompt = RightPrompt
	
	local BattlePassPurchaseButton = nil
	
	BattlePassPurchaseButton = MenuBuilder.BuildRegisteredType( "BattlePassPurchaseButton", {
		controllerIndex = f1_local1
	} )
	BattlePassPurchaseButton.id = "BattlePassPurchaseButton"
	BattlePassPurchaseButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 72, _1080p * 572, _1080p * 413, _1080p * 613 )
	self:addElement( BattlePassPurchaseButton )
	self.BattlePassPurchaseButton = BattlePassPurchaseButton
	
	local WeaponAttributes = nil
	
	WeaponAttributes = MenuBuilder.BuildRegisteredType( "WeaponAttributes", {
		controllerIndex = f1_local1
	} )
	WeaponAttributes.id = "WeaponAttributes"
	WeaponAttributes:SetAlpha( 0, 0 )
	WeaponAttributes:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 91, _1080p * 560, _1080p * 433, _1080p * 593 )
	self:addElement( WeaponAttributes )
	self.WeaponAttributes = WeaponAttributes
	
	local WeaponDescription = nil
	
	WeaponDescription = LUI.UIStyledText.new()
	WeaponDescription.id = "WeaponDescription"
	WeaponDescription:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	WeaponDescription:setText( "", 0 )
	WeaponDescription:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_MBodyText.font.File ) )
	WeaponDescription:SetFontSize( FONT_STYLES.fontStyle_MBodyText.size )
	WeaponDescription:SetMinFontSize( FONT_STYLES.fontStyle_MBodyText.minSize )
	WeaponDescription:SetWordWrap( true )
	WeaponDescription:SetTracking( FONT_STYLES.fontStyle_MBodyText.tracking * _1080p, 0 )
	WeaponDescription:SetLeading( FONT_STYLES.fontStyle_MBodyText.leading * _1080p, 0 )
	WeaponDescription:SetAlignment( LUI.Alignment.Left )
	WeaponDescription:SetSDFRenderingEnabled( true )
	WeaponDescription:SetOptOutRightToLeftAlignmentFlip( true )
	WeaponDescription:SetAutoScroll( AUTOSCROLL.enabled )
	WeaponDescription:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	WeaponDescription:SetStartupDelay( 1000 )
	WeaponDescription:SetLineHoldTime( 400 )
	WeaponDescription:SetAnimMoveTime( 150 )
	WeaponDescription:SetAnimMoveSpeed( 50 )
	WeaponDescription:SetEndDelay( 1000 )
	WeaponDescription:SetCrossfadeTime( 400 )
	WeaponDescription:SetFadeInTime( 300 )
	WeaponDescription:SetFadeOutTime( 300 )
	WeaponDescription:SetMaxVisibleLines( 2 )
	WeaponDescription:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 99, _1080p * 624, _1080p * 355, _1080p * 405 )
	self:addElement( WeaponDescription )
	self.WeaponDescription = WeaponDescription
	
	local DetailsPromptContainer = nil
	DetailsPromptContainer = MenuBuilder.BuildRegisteredType( "ButtonPromptContainer", {
		controllerIndex = f1_local1
	} )
	DetailsPromptContainer.id = "DetailsPromptContainer"
	if CONDITIONS.AlwaysFalse() then
		DetailsPromptContainer.Label:setText( "ButtonPrompt", 0 )
	end
	if CONDITIONS.AlwaysFalse() then
		DetailsPromptContainer.Label:SetAlignment( LUI.Alignment.Center )
	end
	DetailsPromptContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 100, _1080p * 576, _1080p * 307, _1080p * 339 )
	self:addElement( DetailsPromptContainer )
	self.DetailsPromptContainer = DetailsPromptContainer
	
	local DetailsPromptAttributesContainer = nil
	DetailsPromptAttributesContainer = MenuBuilder.BuildRegisteredType( "ButtonPromptContainer", {
		controllerIndex = f1_local1
	} )
	DetailsPromptAttributesContainer.id = "DetailsPromptAttributesContainer"
	DetailsPromptAttributesContainer:SetAlpha( 0, 0 )
	if CONDITIONS.AlwaysFalse() then
		DetailsPromptAttributesContainer.Label:setText( "ButtonPrompt", 0 )
	end
	if CONDITIONS.AlwaysFalse() then
		DetailsPromptAttributesContainer.Label:SetAlignment( LUI.Alignment.Center )
	end
	DetailsPromptAttributesContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 100, _1080p * 576, _1080p * 584, _1080p * 616 )
	self:addElement( DetailsPromptAttributesContainer )
	self.DetailsPromptAttributesContainer = DetailsPromptAttributesContainer
	
	local LeftArrow = nil
	
	LeftArrow = MenuBuilder.BuildRegisteredType( "HorizontalGridArrowKBM", {
		controllerIndex = f1_local1
	} )
	LeftArrow.id = "LeftArrow"
	LeftArrow.Arrow:SetScale( -0.5, 0 )
	LeftArrow:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -830, _1080p * -690, _1080p * -375, _1080p * -125 )
	self:addElement( LeftArrow )
	self.LeftArrow = LeftArrow
	
	local RightArrow = nil
	
	RightArrow = MenuBuilder.BuildRegisteredType( "HorizontalGridArrowKBM", {
		controllerIndex = f1_local1
	} )
	RightArrow.id = "RightArrow"
	RightArrow.Arrow:SetZRotation( 180, 0 )
	RightArrow.Arrow:SetScale( -0.5, 0 )
	RightArrow:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * 691, _1080p * 831, _1080p * -375, _1080p * -125 )
	self:addElement( RightArrow )
	self.RightArrow = RightArrow
	
	local RarityIcon = nil
	
	RarityIcon = LUI.UIImage.new()
	RarityIcon.id = "RarityIcon"
	RarityIcon:SetAlpha( 0.75, 0 )
	RarityIcon:setImage( RegisterMaterial( "v_ui_icon_rarity_5" ), 0 )
	RarityIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 99, _1080p * 127, _1080p * 264, _1080p * 292 )
	self:addElement( RarityIcon )
	self.RarityIcon = RarityIcon
	
	local QualityText = nil
	
	QualityText = LUI.UIStyledText.new()
	QualityText.id = "QualityText"
	QualityText:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	QualityText:SetAlpha( 0.75, 0 )
	QualityText:setText( Engine[0xED84C33EC5F01EA]( "BATTLEPASS/RARITY_AND_TYPE" ), 0 )
	QualityText:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_SHeader.font.File ) )
	QualityText:SetFontSize( FONT_STYLES.fontStyle_SHeader.size )
	QualityText:SetMinFontSize( FONT_STYLES.fontStyle_SHeader.minSize )
	QualityText:SetTextShrinkingDisabled( true )
	QualityText:SetWordWrap( false )
	QualityText:SetAlignment( LUI.Alignment.Left )
	QualityText:SetVerticalAlignment( LUI.Alignment.Center )
	QualityText:SetOptOutRightToLeftAlignmentFlip( true )
	QualityText:SetMaxVisibleLines( 1 )
	QualityText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 133, _1080p * 595, _1080p * 264, _1080p * 292 )
	self:addElement( QualityText )
	self.QualityText = QualityText
	
	local Name = nil
	
	Name = LUI.UIStyledText.new()
	Name.id = "Name"
	Name:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	Name:setText( ToUpperCase( "TITLE " ), 0 )
	Name:setCaseStyle( LUI.CaseStyle.Uppercase )
	Name:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_XLHeaderBold.font.File ) )
	Name:SetFontSize( FONT_STYLES.fontStyle_XLHeaderBold.size )
	Name:SetMinFontSize( FONT_STYLES.fontStyle_XLHeaderBold.minSize )
	Name:SetWordWrap( false )
	Name:SetAlignment( LUI.Alignment.Left )
	Name:SetVerticalAlignment( LUI.Alignment.Center )
	Name:SetMaxVisibleLines( 1 )
	Name:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 100, _1080p * 600, _1080p * 206, _1080p * 265 )
	self:addElement( Name )
	self.Name = Name
	
	local BlueprintIcon = nil
	
	BlueprintIcon = LUI.UIImage.new()
	BlueprintIcon.id = "BlueprintIcon"
	BlueprintIcon:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	BlueprintIcon:setImage( RegisterMaterial( "icon_blueprint" ), 0 )
	BlueprintIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 289, _1080p * 325, _1080p * 219, _1080p * 255 )
	self:addElement( BlueprintIcon )
	self.BlueprintIcon = BlueprintIcon
	
	local SnipeBanner = nil
	
	SnipeBanner = MenuBuilder.BuildRegisteredType( "WZBattlePassItemSnipeBanner", {
		controllerIndex = f1_local1
	} )
	SnipeBanner.id = "SnipeBanner"
	SnipeBanner:SetHorizontalPivot( LUI.HorizontalPivot.Left )
	SnipeBanner:SetScale( 1.5, 0 )
	SnipeBanner:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 512, _1080p * 662, _1080p * 218, _1080p * 248 )
	self:addElement( SnipeBanner )
	self.SnipeBanner = SnipeBanner
	
	local BattlePassStatus = nil
	
	BattlePassStatus = MenuBuilder.BuildRegisteredType( "BattlePassStatus", {
		controllerIndex = f1_local1
	} )
	BattlePassStatus.id = "BattlePassStatus"
	BattlePassStatus:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1388, _1080p * 1824, _1080p * 206, _1080p * 270 )
	self:addElement( BattlePassStatus )
	self.BattlePassStatus = BattlePassStatus
	
	local UnlockCriteria = nil
	
	UnlockCriteria = LUI.UIStyledText.new()
	UnlockCriteria.id = "UnlockCriteria"
	UnlockCriteria:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	UnlockCriteria:SetAlpha( 0.75, 0 )
	UnlockCriteria:setText( "", 0 )
	UnlockCriteria:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_SSubHeader.font.File ) )
	UnlockCriteria:SetFontSize( FONT_STYLES.fontStyle_SSubHeader.size )
	UnlockCriteria:SetMinFontSize( FONT_STYLES.fontStyle_SSubHeader.minSize )
	UnlockCriteria:SetTextShrinkingDisabled( true )
	UnlockCriteria:SetWordWrap( false )
	UnlockCriteria:SetLeading( -2 * _1080p, 0 )
	UnlockCriteria:SetAlignment( LUI.Alignment.Left )
	UnlockCriteria:SetVerticalAlignment( LUI.Alignment.Center )
	UnlockCriteria:SetOptOutRightToLeftAlignmentFlip( true )
	UnlockCriteria:SetMaxVisibleLines( 1 )
	UnlockCriteria:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 576, _1080p * 310, _1080p * 334 )
	self:addElement( UnlockCriteria )
	self.UnlockCriteria = UnlockCriteria
	
	local LockIcon = nil
	
	LockIcon = LUI.UIImage.new()
	LockIcon.id = "LockIcon"
	LockIcon:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	LockIcon:SetAlpha( 0.75, 0 )
	LockIcon:setImage( RegisterMaterial( "v_ui_icon_lock" ), 0 )
	LockIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 100, _1080p * 124, _1080p * 308, _1080p * 332 )
	self:addElement( LockIcon )
	self.LockIcon = LockIcon
	
	local MissionTag = nil
	
	MissionTag = MenuBuilder.BuildRegisteredType( "BattlePassMissionTag", {
		controllerIndex = f1_local1
	} )
	MissionTag.id = "MissionTag"
	MissionTag:SetAlpha( 0, 0 )
	MissionTag:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 596, _1080p * 355, _1080p * 415 )
	self:addElement( MissionTag )
	self.MissionTag = MissionTag
	
	local TierPurchaseBG = nil
	
	TierPurchaseBG = MenuBuilder.BuildRegisteredType( "BattlePassPurchaseBackground", {
		controllerIndex = f1_local1
	} )
	TierPurchaseBG.id = "TierPurchaseBG"
	TierPurchaseBG:SetAlpha( 0, 0 )
	TierPurchaseBG:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	self:addElement( TierPurchaseBG )
	self.TierPurchaseBG = TierPurchaseBG
	
	local PromptContainerClickable = nil
	PromptContainerClickable = MenuBuilder.BuildRegisteredType( "ButtonPromptContainer", {
		controllerIndex = f1_local1
	} )
	PromptContainerClickable.id = "PromptContainerClickable"
	if CONDITIONS.AlwaysFalse() then
		PromptContainerClickable.Label:setText( "ButtonPrompt", 0 )
	end
	if CONDITIONS.AlwaysFalse() then
		PromptContainerClickable.Label:SetAlignment( LUI.Alignment.Left )
	end
	PromptContainerClickable:SetAnchorsAndPosition( 0, 0, 1, 0, _1080p * 260, _1080p * -1360, _1080p * -113, _1080p * -81 )
	self:addElement( PromptContainerClickable )
	self.PromptContainerClickable = PromptContainerClickable
	
	local f1_local32 = nil
	if not CONDITIONS.IsBypassingBattlePassCreation() then
		f1_local32 = MenuBuilder.BuildRegisteredType( "BattlePassGridContainer", {
			controllerIndex = f1_local1
		} )
		f1_local32.id = "BattlePassGridContainer"
		f1_local32:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -700, _1080p * 700, _1080p * -647, _1080p * 8 )
		self:addElement( f1_local32 )
		self.BattlePassGridContainer = f1_local32
	end
	local SupportingCreatorCode = nil
	
	SupportingCreatorCode = MenuBuilder.BuildRegisteredType( "SupportingCreatorCode", {
		controllerIndex = f1_local1
	} )
	SupportingCreatorCode.id = "SupportingCreatorCode"
	SupportingCreatorCode:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -456, _1080p * -96, _1080p * 160, _1080p * 194 )
	self:addElement( SupportingCreatorCode )
	self.SupportingCreatorCode = SupportingCreatorCode
	
	local FriendsPrevious = nil
	
	FriendsPrevious = LUI.UIStyledText.new()
	FriendsPrevious.id = "FriendsPrevious"
	FriendsPrevious:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	FriendsPrevious:setText( "99", 0 )
	FriendsPrevious:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_XSHeaderBold.font.File ) )
	FriendsPrevious:SetFontSize( FONT_STYLES.fontStyle_XSHeaderBold.size )
	FriendsPrevious:SetMinFontSize( FONT_STYLES.fontStyle_XSHeaderBold.minSize )
	FriendsPrevious:SetWordWrap( false )
	FriendsPrevious:SetAlignment( LUI.Alignment.Left )
	FriendsPrevious:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -1729, _1080p * -1704, _1080p * -110, _1080p * -94 )
	self:addElement( FriendsPrevious )
	self.FriendsPrevious = FriendsPrevious
	
	local FriendsNext = nil
	
	FriendsNext = LUI.UIStyledText.new()
	FriendsNext.id = "FriendsNext"
	FriendsNext:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	FriendsNext:setText( "99", 0 )
	FriendsNext:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_XSHeaderBold.font.File ) )
	FriendsNext:SetFontSize( FONT_STYLES.fontStyle_XSHeaderBold.size )
	FriendsNext:SetMinFontSize( FONT_STYLES.fontStyle_XSHeaderBold.minSize )
	FriendsNext:SetWordWrap( false )
	FriendsNext:SetAlignment( LUI.Alignment.Left )
	FriendsNext:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -208, _1080p * -185, _1080p * -110, _1080p * -94 )
	self:addElement( FriendsNext )
	self.FriendsNext = FriendsNext
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local36 = nil
	BattlePassPurchaseButton:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 1,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WeaponAttributes:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptContainer:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesContainer:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MissionTag:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WeaponPreview = function ()
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
	end
	
	self._sequenceLengths.WeaponPreview = 200
	local f1_local37 = nil
	BattlePassPurchaseButton:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WeaponAttributes:RegisterAnimationSequence( "WeaponDetails", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 200
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 360
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 412,
			easing = LUI.EASING.outQuadratic
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 572,
			easing = LUI.EASING.outQuadratic
		},
		{
			value = 1,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.outQuadratic
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "WeaponDetails", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 405
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 355
		},
		{
			value = 5.297218497E-315,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptContainer:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesContainer:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 1,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MissionTag:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WeaponDetails = function ()
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
	end
	
	self._sequenceLengths.WeaponDetails = 200
	local f1_local38 = nil
	BattlePassPurchaseButton:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WeaponAttributes:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptContainer:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesContainer:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MissionTag:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ItemPreview = function ()
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
	end
	
	self._sequenceLengths.ItemPreview = 150
	local f1_local39 = nil
	BattlePassPurchaseButton:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WeaponAttributes:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptContainer:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesContainer:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.MissionPreview = function ()
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
	end
	
	self._sequenceLengths.MissionPreview = 150
	local f1_local40 = nil
	Background:RegisterAnimationSequence( "SetupStandalone", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	BillboardImg:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -290
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 290
		}
	} )
	CenterOutMask:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 250
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 830
		}
	} )
	FadeCover:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -290
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 290
		}
	} )
	BattlePassPurchaseButton:RegisterAnimationSequence( "SetupStandalone", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	BattlePassStatus:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 218
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 282
		}
	} )
	self._sequences.SetupStandalone = function ()
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
	end
	
	self._sequenceLengths.SetupStandalone = 0
	self._sequences.IsBlueprint = function ()
		
	end
	
	self._sequenceLengths.IsBlueprint = 0
	local f1_local41 = nil
	BattlePassPurchaseButton:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WeaponAttributes:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptContainer:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesContainer:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MissionTag:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ConsumablePreview = function ()
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
	end
	
	self._sequenceLengths.ConsumablePreview = 150
	local f1_local42 = nil
	WeaponDescription:RegisterAnimationSequence( "IsLocked", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 355
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 405
		}
	} )
	DetailsPromptContainer:RegisterAnimationSequence( "IsLocked", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 350
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 382
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "IsLocked", {
		{
			value = 5.297218497E-315,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	LockIcon:RegisterAnimationSequence( "IsLocked", {
		{
			value = 5.297218497E-315,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.IsLocked = function ()
		menu:AnimateSequence( "IsLocked" )
		menu:AnimateSequence( "IsLocked" )
		menu:AnimateSequence( "IsLocked" )
		menu:AnimateSequence( "IsLocked" )
	end
	
	self._sequenceLengths.IsLocked = 150
	local f1_local43 = nil
	WeaponDescription:RegisterAnimationSequence( "NotLocked", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 310
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 360
		}
	} )
	DetailsPromptContainer:RegisterAnimationSequence( "NotLocked", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 307
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 339
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "NotLocked", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	LockIcon:RegisterAnimationSequence( "NotLocked", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.NotLocked = function ()
		menu:AnimateSequence( "NotLocked" )
		menu:AnimateSequence( "NotLocked" )
		menu:AnimateSequence( "NotLocked" )
		menu:AnimateSequence( "NotLocked" )
	end
	
	self._sequenceLengths.NotLocked = 150
	self._sequences.IsBaseWeapon = function ()
		
	end
	
	self._sequenceLengths.IsBaseWeapon = 0
	self._sequences.AR = function ()
		
	end
	
	self._sequenceLengths.AR = 0
	local f1_local44 = nil
	if not CONDITIONS.IsBypassingBattlePassCreation() then
		f1_local32:RegisterAnimationSequence( "SafeAreaAdjustment", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -692
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * -37
			}
		} )
	end
	self._sequences.SafeAreaAdjustment = function ()
		if not CONDITIONS.IsBypassingBattlePassCreation() then
			menu:AnimateSequence( "SafeAreaAdjustment" )
		end
	end
	
	self._sequenceLengths.SafeAreaAdjustment = 0
	local f1_local45 = nil
	WeaponDescription:RegisterAnimationSequence( "JP", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 91
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 616
		}
	} )
	Name:RegisterAnimationSequence( "JP", {
		{
			value = 42,
			duration = 0,
			property = TWEEN_PROPERTY.Text_Size
		}
	} )
	self._sequences.JP = function ()
		menu:AnimateSequence( "JP" )
		menu:AnimateSequence( "JP" )
		menu:SetFont( FONTS.GetFont( FONTS.FocalBoldHeader.File ) )
		menu:SetFontSize( 400 * _PT )
		menu:SetMinFontSize( 54 * _PT )
		menu:SetMinFontSize( 42 * _PT )
	end
	
	self._sequenceLengths.JP = 0
	local f1_local46 = nil
	Name:RegisterAnimationSequence( "KR", {
		{
			value = 42,
			duration = 0,
			property = TWEEN_PROPERTY.Text_Size
		}
	} )
	self._sequences.KR = function ()
		menu:AnimateSequence( "KR" )
		menu:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_LHeaderBold.font.File ) )
		menu:SetFontSize( FONT_STYLES.fontStyle_LHeaderBold.size )
		menu:SetMinFontSize( FONT_STYLES.fontStyle_LHeaderBold.minSize )
		menu:SetMinFontSize( FONT_STYLES.fontStyle_LHeaderBold.minSize )
	end
	
	self._sequenceLengths.KR = 0
	local f1_local47 = nil
	f1_local47 = {}
	self._sequences.ZHS = function ()
		menu:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_LHeaderBold.font.File ) )
		menu:SetFontSize( FONT_STYLES.fontStyle_LHeaderBold.size )
		menu:SetMinFontSize( FONT_STYLES.fontStyle_LHeaderBold.minSize )
	end
	
	self._sequenceLengths.ZHS = 0
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "BattlePassMenu", BattlePassMenu )
LockTable( _M )
