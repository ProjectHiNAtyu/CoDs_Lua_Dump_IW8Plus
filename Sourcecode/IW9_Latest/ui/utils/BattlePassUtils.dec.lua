-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
BATTLEPASS = BATTLEPASS or {}
BATTLEPASS.NumBonusItems = 4
BATTLEPASS.SINGLE_TIER_COST = 150
BATTLEPASS.SINGLE_TIER_SKIP_ID = "430002"
BATTLEPASS.TierUpsellMinTier = 15
BATTLEPASS.TierUpsellPopupXPThreshold = 0.2
BATTLEPASS.SHOW_TRAILER_PROMPT = false
BATTLEPASS.WarzoneTierSkipBundleID = 400107
BATTLEPASS.VIPNumFreeGifts = 1
BATTLEPASS.VIPNumOwnerGifts = 2
BATTLEPASS.START_TO_SHOW_COD_POINTS = 500
BATTLEPASS.BLACKCELL_PARACHUTE_LOOTID = 32167
BATTLEPASS.BLACKCELL_CONTRAIL_LOOTID = 32082
BATTLEPASS.BLACK_CELL_PURCHASE_BINK_DURATION = 5000
BATTLEPASS.FullScreenPopupStates = {
	TIERS_UNLOCKED = 1,
	BATTLE_PASS_UNLOCKED = 0,
	BATTLE_PASS_COMPLETE = 3,
	BATTLE_PASS_TIER_BUNDLE_UNLOCKED = 2
}
BATTLEPASS.ErrorStrings = {
	[Enum[0x8ECF097BFE7CD55][0xC0D17BAD169557B]] = 0x4C556F6B7BA16DD,
	[Enum[0x8ECF097BFE7CD55][0x93400CC2568BE09]] = 0xE5148A637157DEF,
	[Enum[0x8ECF097BFE7CD55][0x17E62999ABF49E7]] = 0xCA2CF5A430D56E5,
	[Enum[0x8ECF097BFE7CD55][0x68E7709D1102D4]] = 0x5675BA321568F6D
}
BATTLEPASS.OwnershipUserStates = {
	AEUserState.COD__BATTLEPASS_OWNED_S1,
	AEUserState.COD__BATTLEPASS_OWNED_S2,
	AEUserState.COD__BATTLEPASS_OWNED_S3,
	AEUserState.COD__BATTLEPASS_OWNED_S4,
	AEUserState.COD__BATTLEPASS_OWNED_S5,
	AEUserState.COD__BATTLEPASS_OWNED_S6
}
BATTLEPASS.ITEM_TYPES = {
	BUNDLE = "Bundle",
	TOKEN = "Token",
	BLACKCELL = "BlackCell",
	PASS = "Pass",
	TRACKER = "Tracker"
}
BATTLEPASS.DATA_STATES = {
	FAILURE = 4,
	READY = 3,
	WAITING = 2,
	NONE = 1
}
BATTLEPASS.REWARD_TYPE = {
	MOBILE = 3,
	NORMAL = 1,
	BLACKCELL = 2
}
BATTLEPASS.SpendTokenError = {
	NOT_ENOUGH_TOKENS = 11,
	REWARD_CLAIMED = 4,
	POST_UNEXPECTED_PROGRESS = 9,
	POST_UNEXPECTED_BALANCE = 8,
	USER_STATE_UPDATE_FAILED = 10,
	TIMEOUT_USER_STATE = 7,
	REWARD_HVT_LAST = 5,
	SECTOR_TYPE_INVALID = 3,
	BALANCE_ZERO = 1,
	INVALID_SEASON = 12,
	TIMEOUT_CHALLENGE = 6,
	SECTOR_INACTIVE = 2,
	NONE = 0
}
BATTLEPASS.ToggleAutoSpendError = {
	AUTOSPEND_TIMEOUT = 1,
	USERSTATE_UPDATED_FAILED = 2,
	NONE = 0
}
BATTLEPASS.BundleType = {
	BLACKCELL_S4 = "blackcell_season4",
	BLACKCELL_S6 = "blackcell_season6",
	BLACKCELL_S5 = "blackcell_season5",
	BUNDLE = "battlepass_bundle",
	BATTLEPASS = "battlepass"
}
BATTLEPASS.BundleType.BLACKCELL = BATTLEPASS.BundleType.BLACKCELL_S6
BATTLEPASS.IS_USING_AUTOSPEND = CONDITIONS.IsMobileOrMobileSim()
local f0_local0 = BATTLEPASS
local f0_local1
if Engine[0xE25E29D8ADE8F27]() then
	f0_local1 = "bp_id_list_mgl"
else
	f0_local1 = "bp_id_list"
end
f0_local0.BATTLEPASS_SCRIPTBUNDLE_NAME = f0_local1
BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME = 0xE5F77C420779306
f0_local0 = 5
f0_local1 = 10
local f0_local2 = nil
local f0_local3 = function ()
	if not BATTLEPASS.DataByRef then
		BATTLEPASS.DataByRef = {}
		local f138_local0 = Engine[0x6093D047200548]( BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME .. BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_NAME )
		for f138_local4, f138_local5 in ipairs( f138_local0[0x6A61EB74A7F7C13] ) do
			BATTLEPASS.DataByRef[f138_local5[0x864502E8AE5CB81]] = Engine[0x6093D047200548]( 0x33E974BED9D604F .. f138_local5[0x864502E8AE5CB81] )
		end
	end
	return BATTLEPASS.DataByRef
end

local f0_local4 = function ()
	if not BATTLEPASS.DataByID then
		BATTLEPASS.DataByID = {}
		local f137_local0 = Engine[0x6093D047200548]( BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME .. BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_NAME )
		for f137_local4, f137_local5 in ipairs( f137_local0[0x6A61EB74A7F7C13] ) do
			local f137_local6 = Engine[0x6093D047200548]( 0x33E974BED9D604F .. f137_local5[0x864502E8AE5CB81] )
			if f137_local6[0x7E1B813ABAD5D3B] then
				BATTLEPASS.DataByID[f137_local6[0x7E1B813ABAD5D3B]] = f137_local6
			end
		end
	end
	return BATTLEPASS.DataByID
end

BATTLEPASS.GetBattlepassIDBundleForRef = function ( f136_arg0 )
	local f136_local0 = f0_local0()
	return f136_local0[f136_arg0]
end

BATTLEPASS.GetBattlepassIDBundleForID = function ( f135_arg0 )
	local f135_local0 = f0_local0()
	return f135_local0[f135_arg0]
end

local f0_local5 = function ()
	local f134_local0, f134_local1 = nil
	local f134_local2 = f0_local0()
	local f134_local3 = Engine[0x6093D047200548]( BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME .. BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_NAME )
	for f134_local8, f134_local9 in ipairs( f134_local3[0x6A61EB74A7F7C13] ) do
		local f134_local10 = f134_local2[f134_local9[0x864502E8AE5CB81]]
		if f134_local10 and f134_local10[0x8DFD5E2759BA3F8] then
			local f134_local7 = f134_local10[0x8DFD5E2759BA3F8]
			if (not f134_local0 or f134_local7 < f134_local0) and not f134_local7 then
				f134_local0 = f134_local7
			else
				
			end
			if (not f134_local1 or f134_local1 < f134_local7) and not f134_local7 then
				f134_local1 = f134_local7
			end
		end
	end
	f134_local4 = assert
	if f134_local0 then
		f134_local6 = f134_local0
	else
		f134_local6 = f134_local1
	end
	f134_local4( f134_local6, "Battle pass seasons not defined in ids file" )
	return f134_local0, f134_local1
end

BATTLEPASS.GetBattlePassPurchaseMenuRef = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return "MobileBattlePassPurchase"
	else
		return "BattlePassPurchasePopup"
	end
end

BATTLEPASS.GetBattlePassPurchaseBlackcellMenuRef = function ()
	return "MobileBattlePassPurchaseBlackCell"
end

BATTLEPASS.GetBattlePassTokenPurchaseMenuRef = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return "MobileTokenPurchaseMenu"
	else
		return "BattleMapTokenPurchaseMenu"
	end
end

BATTLEPASS.GetBattlePassSectorPreviewMenuRef = function ()
	local f130_local0
	if BATTLEMAP.UseV2BattleMapDesign() then
		f130_local0 = "BPSectorPreview"
	else
		f130_local0 = "BattleMapSectorPreview"
	end
	return f130_local0
end

BATTLEPASS.OpenPurchaseMenu = function ( f129_arg0 )
	URI.QueueURI( "./" .. BATTLEPASS.GetBattlePassPurchaseMenuRef(), f129_arg0 )
end

BATTLEPASS.OpenPurchaseBlackcellMenu = function ( f128_arg0 )
	URI.QueueURI( "./" .. BATTLEPASS.GetBattlePassPurchaseBlackcellMenuRef(), f128_arg0 )
end

BATTLEPASS.GetSeasonMin = function ()
	if not BATTLEPASS._seasonMin then
		local f127_local0 = BATTLEPASS
		local f127_local1 = BATTLEPASS
		f127_local0._seasonMin, f127_local1._seasonMax = f0_local0()
	end
	return BATTLEPASS._seasonMin
end

BATTLEPASS.GetSeasonMax = function ()
	if not BATTLEPASS._seasonMax then
		local f126_local0 = BATTLEPASS
		local f126_local1 = BATTLEPASS
		f126_local0._seasonMin, f126_local1._seasonMax = f0_local0()
	end
	return BATTLEPASS._seasonMax
end

BATTLEPASS.SeasonInRange = function ( f125_arg0 )
	local f125_local0 = assert
	local f125_local1
	if f125_arg0 then
		f125_local1 = f125_arg0
	else
		f125_local1 = type( f125_arg0 ) == "number"
	end
	f125_local0( f125_local1 )
	if f125_arg0 < BATTLEPASS.GetSeasonMin() or f125_arg0 > BATTLEPASS.GetSeasonMax() then
		f125_local0 = false
	else
		f125_local0 = true
	end
	return f125_local0
end

BATTLEPASS.GetPurchaseRef = function ()
	if not BATTLEPASS._purchaseRef then
		local f124_local0 = f0_local0()
		local f124_local1 = Engine[0x6093D047200548]( BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME .. BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_NAME )
		for f124_local5, f124_local6 in ipairs( f124_local1[0x6A61EB74A7F7C13] ) do
			if f124_local0[f124_local6[0x864502E8AE5CB81]][0xF4F13D3AC438B16] == BATTLEPASS.ITEM_TYPES.PASS then
				BATTLEPASS._purchaseRef = f124_local6[0x864502E8AE5CB81]
				break
			end
		end
	end
	return BATTLEPASS._purchaseRef
end

BATTLEPASS.GetPurchaseBundleRef = function ()
	if not BATTLEPASS._purchaseBundleRef then
		local f123_local0 = f0_local0()
		local f123_local1 = Engine[0x6093D047200548]( BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME .. BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_NAME )
		for f123_local8, f123_local9 in ipairs( f123_local1[0x6A61EB74A7F7C13] ) do
			if f123_local0[f123_local9[0x864502E8AE5CB81]][0xF4F13D3AC438B16] == BATTLEPASS.ITEM_TYPES.BUNDLE then
				local f123_local5 = f123_local9[0x864502E8AE5CB81]
				if Engine[0x836C8AD984F14F6]() and f123_local5 and 0 < #f123_local5 then
				
				else
					BATTLEPASS._purchaseBundleRef = f123_local5
					break
				end
				local f123_local6 = f123_local5 .. "_sony"
				local f123_local7 = BATTLEPASS.GetBattlepassIDBundleForRef( f123_local6 )
				if f123_local7[0x6B65B4278C6C417] then
					f123_local5 = f123_local6
				end
				assert( false, "Battle pass Sony bundle not found" )
			end
		end
	end
	return BATTLEPASS._purchaseBundleRef
end

local f0_local6 = function ()
	if not BATTLEPASS._purchaseTokenItem then
		local f122_local0 = f0_local0()
		local f122_local1 = Engine[0x6093D047200548]( BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME .. BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_NAME )
		for f122_local5, f122_local6 in ipairs( f122_local1[0x6A61EB74A7F7C13] ) do
			local f122_local7 = f122_local0[f122_local6[0x864502E8AE5CB81]]
			if f122_local7[0xF4F13D3AC438B16] == BATTLEPASS.ITEM_TYPES.TOKEN then
				BATTLEPASS._purchaseTokenItem = {
					ref = f122_local6[0x864502E8AE5CB81],
					itemID = f122_local7[0x7E1B813ABAD5D3B]
				}
				break
			end
		end
	end
	return BATTLEPASS._purchaseTokenItem
end

BATTLEPASS.GetPurchaseTokenRef = function ()
	local f121_local0 = f0_local0()
	return f121_local0.ref
end

BATTLEPASS.GetPurchaseTokenItemID = function ()
	local f120_local0 = f0_local0()
	return f120_local0.itemID
end

BATTLEPASS.GetBlackcellPurchaseRef = function ()
	if not BATTLEPASS._purchaseBlackcellRef then
		local f119_local0 = f0_local0()
		local f119_local1 = Engine[0x6093D047200548]( BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME .. BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_NAME )
		for f119_local5, f119_local6 in ipairs( f119_local1[0x6A61EB74A7F7C13] ) do
			if f119_local0[f119_local6[0x864502E8AE5CB81]][0xF4F13D3AC438B16] == BATTLEPASS.ITEM_TYPES.BLACKCELL then
				BATTLEPASS._purchaseBlackcellRef = f119_local6[0x864502E8AE5CB81]
				break
			end
		end
	end
	return BATTLEPASS._purchaseBlackcellRef
end

BATTLEPASS.IsBattlePassItem = function ( f118_arg0 )
	local f118_local0 = assert
	local f118_local1
	if f118_arg0 then
		f118_local1 = f118_arg0
	elseif type( f118_arg0 ) ~= "number" or 0 >= f118_arg0 then
		f118_local1 = false
	else
		f118_local1 = true
	end
	f118_local0( f118_local1 )
	f118_local0 = BATTLEPASS.GetItemRef( f118_arg0 )
	local f118_local2
	if not f118_local0 or 0 >= #f118_local0 then
		f118_local2 = false
	else
		f118_local2 = true
	end
	return f118_local2
end

BATTLEPASS.GetErrorMessage = function ( f117_arg0, f117_arg1 )
	local f117_local0 = assert
	local f117_local1
	if f117_arg0 then
		f117_local1 = f117_arg0
	else
		f117_local1 = 0 <= f117_arg0
	end
	f117_local0( f117_local1, "errorCode is required to get battle pass error message" )
	if f117_arg0 and 0 <= f117_arg0 then
		assert( BATTLEPASS.ErrorStrings[f117_arg0] ~= nil, "Error string is unmapped for error code. errorCode=" .. tostring( f117_arg0 ) )
		if BATTLEPASS.ErrorStrings[f117_arg0] ~= nil then
			f117_local0 = ""
			if f117_arg1 and 0 < f117_arg1 then
				local f117_local2 = BATTLEPASS.GetItemRef( f117_arg1 )
				f117_local1 = assert
				local f117_local3
				if f117_local2 then
					f117_local3 = f117_local2
				else
					f117_local3 = 0 < #f117_local2
				end
				f117_local1( f117_local3, "Ref for sku does not exist. itemID=" .. tostring( f117_arg1 ) )
				f117_local0 = BATTLEPASS.GetItemName( f117_local2 )
				f117_local1 = assert
				if f117_local0 then
					f117_local3 = f117_local0
				else
					f117_local3 = 0 < #f117_local0
				end
				f117_local1( f117_local3, "name of sku does not exist. itemID=" .. tostring( f117_arg1 ) .. ", ref=" .. f117_local2 )
			end
			return Engine[0xED84C33EC5F01EA]( BATTLEPASS.ErrorStrings[f117_arg0], f117_local0 )
		end
	end
	return Engine[0xED84C33EC5F01EA]( BATTLEPASS.ErrorStrings[Enum[0x8ECF097BFE7CD55][0xC0D17BAD169557B]] )
end

BATTLEPASS.IsPendingTransactions = function ( f116_arg0 )
	local f116_local0 = false
	local f116_local1 = false
	f116_local0 = 0 < PROXY_LOOT.IsOwned( f116_arg0, BATTLEPASS.GetItemID( BATTLEPASS.GetPurchaseRef() ) )
	local f116_local2, f116_local3 = BATTLEPASS.GetPendingTierSkips( f116_arg0 )
	return f116_local0, 0 < f116_local3
end

BATTLEPASS.GetXP = function ( f115_arg0, f115_arg1 )
	assert( f115_arg0, "Usage: BATTLEPASS.GetXP( <controllerIndex>, [season] )" )
	local f115_local0
	if not f115_arg1 then
		f115_local0 = f115_arg1
	else
		f115_local0 = SEASON.GetCurrentSeason()
	end
	return Battlepass[0x56E849A42348697]( f115_arg0, f115_local0 )
end

BATTLEPASS.PurchaseCallbackKeys = {
	SUCCESS = 0,
	UPDATED = 1,
	FAILURE = 2
}
local f0_local7 = {
	[BATTLEPASS.PurchaseCallbackKeys.SUCCESS] = "battlepass_purchase_success",
	[BATTLEPASS.PurchaseCallbackKeys.UPDATED] = "battlepass_purchase_updated",
	[BATTLEPASS.PurchaseCallbackKeys.FAILURE] = "battlepass_purchase_failure"
}
local f0_local8 = function ( f111_arg0, f111_arg1, f111_arg2 )
	local f111_local0 = assert
	local f111_local1
	if f111_arg0 then
		f111_local1 = f111_arg0
	else
		f111_local1 = type( f111_arg0 ) == "userdata"
	end
	f111_local0( f111_local1 )
	f111_local0 = assert
	if f111_arg1 then
		f111_local1 = f111_arg1
	else
		f111_local1 = type( f111_arg1 ) == "table"
	end
	f111_local0( f111_local1 )
	f111_local0 = assert
	if f111_arg2 then
		f111_local1 = f111_arg2
	else
		f111_local1 = type( f111_arg2 ) == "function"
	end
	f111_local0( f111_local1 )
	f111_local0 = "battlepassUserStateTimer"
	local f111_local2 = "battlepass_user_state_wait"
	local self = LUI.UITimer.new( {
		interval = 100,
		event = f111_local2,
		eventTarget = f111_arg0
	} )
	self.id = f111_local0
	self.eventTable = f111_arg1
	self.onComplete = f111_arg2
	self.EndTimer = function ( f114_arg0 )
		f114_arg0:closeTree()
		if f114_arg0.onComplete then
			f114_arg0.onComplete( f114_arg0.eventTarget, f114_arg0.eventTable )
		end
	end
	
	self:registerEventHandler( f111_local2, function ( self, event )
		local f113_local0 = 5000
		if self._userStateUpdated then
			self:EndTimer()
		end
		if not self._totalWaitTime then
			self._totalWaitTime = 0
		else
			assert( self.interval )
			self._totalWaitTime = self._totalWaitTime + self.interval
		end
		if f113_local0 <= self._totalWaitTime then
			self:EndTimer()
		end
	end )
	self:registerEventHandler( "user_state_updated", function ( self, event )
		self._userStateUpdated = true
	end )
	f111_arg0:addElement( self )
	f111_arg0[f111_local0] = self
end

local f0_local9 = {
	[BATTLEPASS.PurchaseCallbackKeys.SUCCESS] = function ( f110_arg0, f110_arg1, f110_arg2 )
		local f110_local0 = assert
		local f110_local1
		if f110_arg0 then
			f110_local1 = f110_arg0
		else
			f110_local1 = type( f110_arg0 ) == "userdata"
		end
		f110_local0( f110_local1 )
		f110_local0 = assert
		if f110_arg1 then
			f110_local1 = f110_arg1
		else
			f110_local1 = type( f110_arg1 ) == "table"
		end
		f110_local0( f110_local1 )
		f110_local0 = assert
		if f110_arg2 then
			f110_local1 = f110_arg2
		else
			f110_local1 = type( f110_arg2 ) == "function"
		end
		f110_local0( f110_local1 )
		return f0_local0( f110_arg0, f110_arg1, f110_arg2 )
	end
}
BATTLEPASS.RegisterPurchaseCallbacks = function ( f108_arg0, f108_arg1, f108_arg2 )
	local f108_local0 = assert
	local f108_local1
	if f108_arg0 then
		f108_local1 = f108_arg0
	else
		f108_local1 = type( f108_arg0 ) == "userdata"
	end
	f108_local0( f108_local1, "Registering battlepass purchase callbacks requires element" )
	f108_local0 = assert
	if f108_arg1 then
		f108_local1 = f108_arg1
	elseif type( f108_arg1 ) ~= "number" or 0 > f108_arg1 then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg2 then
		f108_local1 = f108_arg2
	else
		f108_local1 = type( f108_arg2 ) == "table"
	end
	f108_local0( f108_local1, "Registering battlepass purchase callbacks requires table of callback functions" )
	f108_local0 = 0
	for f108_local5, f108_local6 in pairs( BATTLEPASS.PurchaseCallbackKeys ) do
		if f108_arg2[f108_local6] then
			assert( type( f108_arg2[f108_local6] ) == "function", "Battlepass purchase callback must be a function" )
			local f108_local4 = f0_local0[f108_local6]
			if f108_local4 and 0 < #f108_local4 then
				f108_arg0:registerEventHandler( f108_local4, function ( element, event )
					local f109_local0 = f108_arg0[f108_arg0]
					local f109_local1 = f108_arg0[f108_arg0]
					if f109_local1 ~= nil then
						return f109_local1( element, event, f109_local0 )
					else
						local f109_local2
						if f109_local0 then
							f109_local2 = f109_local0( element, event )
							if not f109_local2 then
							
							else
								return f109_local2
							end
						end
					end
					f109_local2 = false
				end )
				f108_local0 = f108_local0 + 1
			end
		end
	end
	return f108_local0
end

BATTLEPASS.DeRegisterPurchaseCallbacks = function ( f107_arg0, f107_arg1 )
	local f107_local0 = assert
	local f107_local1
	if f107_arg0 then
		f107_local1 = f107_arg0
	else
		f107_local1 = type( f107_arg0 ) == "userdata"
	end
	f107_local0( f107_local1, "Deregistering battlepass purchase callbacks requires element" )
	f107_local0 = assert
	if f107_arg1 then
		f107_local1 = f107_arg1
	else
		f107_local1 = type( f107_arg1 ) == "table"
	end
	f107_local0( f107_local1, "Deregistering battlepass purchase callbacks requires table of callback keys" )
	f107_local0 = 0
	for f107_local5, f107_local6 in pairs( f107_arg1 ) do
		local f107_local7 = f0_local0[f107_local6]
		local f107_local8 = assert
		local f107_local4
		if f107_local7 then
			f107_local4 = f107_local7
		else
			f107_local4 = 0 < #f107_local7
		end
		f107_local8( f107_local4, "Attempt to deregister battlepass purchase for unknown key " .. tostring( f107_local6 ) )
		f107_arg0:deregisterEventHandler( f107_local7 )
		f107_local0 = f107_local0 + 1
	end
	return f107_local0
end

BATTLEPASS.CanBuyProductWithCODPoints = function ( f106_arg0, f106_arg1 )
	if f106_arg1[0xF4F13D3AC438B16] == BATTLEPASS.ITEM_TYPES.BLACKCELL then
		return false
	end
	local f106_local0
	if tonumber( f106_arg1[0xB0EBE833626682B] ) ~= LOOT.CurrencyIDs.COD_POINTS or tonumber( f106_arg1[0x7384DAB3F540BAA] ) > Commerce[0xFCE51EA6B7B00CC]( f106_arg0, LOOT.CurrencyIDs.COD_POINTS ) then
		f106_local0 = false
	else
		f106_local0 = true
	end
	return f106_local0
end

BATTLEPASS.SendBattlePassLeaveMenuDlogEvent = function ( f105_arg0 )
	local f105_local0 = DataSources.frontEnd.MP.commerce.premiumCurrency:GetValue( f105_arg0._controllerIndex ) or 0
	local f105_local1 = CoD.GetUTC()
	local f105_local2 = SEASON.GetCurrentSeason()
	local f105_local3 = Engine[0x15D98DF5F61904B]
	local f105_local4 = f105_arg0._controllerIndex
	local f105_local5 = "dlog_event_bp_ui_nav_interaction"
	local f105_local6 = {
		screen_name = "Battle pass purchase screen",
		action = "leave menu",
		season = f105_local2,
		blackcell_player_b = BATTLEPASS.IsBlackCellOwned( f105_arg0._controllerIndex, f105_local2 ),
		old_cp_balance = f105_arg0._oldCPBalance or 0
	}
	local f105_local7
	if not f105_local0 then
		f105_local7 = f105_local0
	else
		f105_local7 = 0
	end
	f105_local6.new_cp_balance = f105_local7
	f105_local6.screen_id = f105_arg0.id
	f105_local6.time_spent = f105_local1 - f105_arg0._enterTime
	f105_local3( f105_local4, f105_local5, f105_local6 )
end

BATTLEPASS.SendBattlePassPurchaseSuccessDlogEvent = function ( f104_arg0, f104_arg1 )
	local f104_local0 = DataSources.frontEnd.MP.commerce.premiumCurrency:GetValue( f104_arg0._controllerIndex ) or 0
	local f104_local1 = SEASON.GetCurrentSeason()
	local f104_local2 = Engine[0x15D98DF5F61904B]
	local f104_local3 = f104_arg0._controllerIndex
	local f104_local4 = "dlog_event_bp_purchase"
	local f104_local5 = {
		tokens_spent = 0,
		tokens_earned = 0,
		last_bp_unlock = nil,
		last_ui_screen = nil,
		blackcell_player_b = BATTLEPASS.IsBlackCellOwned( f104_arg0._controllerIndex, f104_local1 ),
		old_cp_balance = f104_arg0._oldCPBalance,
		new_cp_balance = f104_local0
	}
	local f104_local6
	if f104_arg0._isOpenedFromStore then
		f104_local6 = "store"
	else
		f104_local6 = "battlpass menu"
	end
	f104_local5.purchase_source = f104_local6
	f104_local5.cp_spent = f104_local0 - f104_arg0._oldCPBalance
	f104_local2( f104_local3, f104_local4, f104_local5 )
end

BATTLEPASS.GetBundleByType = function ( f103_arg0, f103_arg1 )
	return MobileStoreUtils.DataUtils.GetBattlepassBundleByType( DataSources.frontEnd.battlePass.bundle, DataSources.frontEnd.battlePass.bundle_count:GetValue( f103_arg1 ) or 0, f103_arg0, f103_arg1 )
end

BATTLEPASS.PurchaseBlackcell = function ( f95_arg0, f95_arg1 )
	local f95_local0 = MobileStoreUtils.DataUtils.GetSkuFromDataSource( BATTLEPASS.GetBundleByType( BATTLEPASS.BundleType.BLACKCELL, f95_arg1 ), f95_arg1 )
	if not f95_local0.prices or not f95_local0.prices[1] then
		local f95_local1
		if CONDITIONS.IsAndroid() then
			f95_local1 = Engine[0xED84C33EC5F01EA]( 0xB77BD86F8918DF8 )
			if not f95_local1 then
				f95_local1 = CONDITIONS.IsIOS()
				if f95_local1 then
					f95_local1 = Engine[0xED84C33EC5F01EA]( 0x1617CF779C9525A )
				end
			end
		else
			f95_local1 = CONDITIONS.IsIOS()
			if f95_local1 then
				f95_local1 = Engine[0xED84C33EC5F01EA]( 0x1617CF779C9525A )
			end
		end
		MOBILE_PURCHASE.ShowPurchaseErrorPopup( {
			message = Engine[0xED84C33EC5F01EA]( 0x69EFAD4D26A24DE, Engine[0x7D3158A9539A355]( f95_local1 ) )
		} )
	end
	MOBILE_PURCHASE.MakePurchase( {
		placement = "blackcell",
		placementType = "battlepass",
		product = f95_local0,
		onPurchaseStart = function ()
			
		end,
		onComplete = function ( f98_arg0, f98_arg1, f98_arg2, f98_arg3 )
			DebugPrint( "DEBUG BATTLEPASS-PurchaseBlackcell: Purchase successful, running onComplete" )
			f95_arg0.MobileLoadingScreenWidget:SetVisible( true )
			f95_arg0.MobileLoadingScreenWidget.LoadingText:setText( Engine[0xED84C33EC5F01EA]( 0x3A4374EBAC7B232 ) )
			local f98_local0 = f95_arg0:Wait( BATTLEPASS.BLACK_CELL_PURCHASE_BINK_DURATION )
			f98_local0.onComplete = function ()
				DebugPrint( "DEBUG BATTLEPASS-PurchaseBlackcell: Bink wait finished" )
				local f99_local0 = SEASON.GetCurrentSeason()
				local f99_local1 = function ( f101_arg0, f101_arg1 )
					DebugPrint( "DEBUG BATTLEPASS-PurchaseBlackcell: Rebuilding UnownedBlackCellLootIDs and updating Token Balance" )
					BATTLEPASS.BuildUnownedBlackCellLootIDs( f99_local0, true )
					local f101_local0 = BATTLEMAP.GetTokenBalance( f99_local0, f99_local0 )
					if 0 < f101_local0 then
						DataModel[0x83C9B5DE1D9371]( DataSources.frontEnd.mobile.battlepassTokenToClaim:GetModel( f99_local0 ), f101_local0 )
					end
					f101_arg0.MobileLoadingScreenWidget:SetVisible( false )
					ACTIONS.LeaveMenu( f101_arg0 )
				end
				
				if BATTLEPASS.NeedFixUp( f98_arg0, f99_local0 ) then
					DebugPrint( "DEBUG BATTLEPASS-PurchaseBlackcell: Running FixUp" )
					BATTLEPASS.FixUp( f98_arg0, f99_local0 )
					BATTLEPASS.RegisterPurchaseCallbacks( f98_arg0, f98_arg0, {
						[BATTLEPASS.PurchaseCallbackKeys.SUCCESS] = f99_local1,
						[BATTLEPASS.PurchaseCallbackKeys.FAILURE] = function ( f100_arg0, f100_arg1 )
							DebugPrint( "DEBUG BATTLEPASS-PurchaseBlackcell: FixUp failed with error code " .. BATTLEPASS.GetErrorMessage( f100_arg1.errorCode, f100_arg1.itemID ) )
							f99_local0.MobileLoadingScreenWidget:SetVisible( false )
							ACTIONS.LeaveMenu( f99_local0 )
						end
					} )
				else
					DebugPrint( "DEBUG BATTLEPASS-PurchaseBlackcell: FixUp not required" )
					f99_local1( f98_arg0, nil )
				end
			end
			
		end,
		onCancel = function ()
			ACTIONS.LeaveMenu( f95_arg0 )
		end,
		onError = function ( f96_arg0, f96_arg1, f96_arg2, f96_arg3, f96_arg4, f96_arg5 )
			ACTIONS.LeaveMenu( f95_arg0 )
		end,
		controllerIndex = f95_arg1
	} )
end

BATTLEPASS.CreateMobilePurchaseProductFromBundleData = function ( f94_arg0 )
	return {
		id = f94_arg0[0x6B65B4278C6C417],
		prices = {
			{
				storeId = Enum[0xDFBB3683680DB53][0xA8BDBD8E17B835C],
				currencyId = tonumber( f94_arg0[0xB0EBE833626682B] ),
				price = f94_arg0[0x7384DAB3F540BAA],
				displayText = tostring( f94_arg0[0x7384DAB3F540BAA] )
			}
		},
		title = Engine[0xED84C33EC5F01EA]( f94_arg0[0x4BCADBA8E631B86] ),
		image = f94_arg0[0xAB612888528489A]
	}
end

BATTLEPASS.ProcessMobilePurchase = function ( f91_arg0, f91_arg1, f91_arg2, f91_arg3 )
	local f91_local0 = f91_arg2.data
	local f91_local1, f91_local2, f91_local3 = STORE.Bundles.Price( f91_arg1, f91_local0 )
	if not BATTLEPASS.CanBuyProductWithCODPoints( f91_arg1, f91_local0 ) then
		if f91_local0[0xF4F13D3AC438B16] == BATTLEPASS.ITEM_TYPES.BLACKCELL then
			BATTLEPASS.PurchaseBlackcell( f91_arg0, f91_arg1 )
		else
			MOBILE_PURCHASE.ShowInsufficientCodPointsPopup( {
				neededCodPoints = f91_local0[0x7384DAB3F540BAA] - Commerce[0xFCE51EA6B7B00CC]( f91_arg1, LOOT.CurrencyIDs.COD_POINTS ),
				product = BATTLEPASS.CreateMobilePurchaseProductFromBundleData( f91_local0 ),
				controllerIndex = f91_arg1,
				onComplete = function ()
					
				end
			} )
		end
	else
		local f91_local4 = {
			sku = {
				tonumber( f91_local0[0x6B65B4278C6C417] )
			},
			currency = tonumber( f91_local0[0xB0EBE833626682B] ),
			store = Enum[0xDFBB3683680DB53][0xA8BDBD8E17B835C]
		}
		MOBILE_PURCHASE.ShowPurchaseConfirmationPopup( {
			product = BATTLEPASS.CreateMobilePurchaseProductFromBundleData( f91_local0 ),
			onComplete = function ( f92_arg0 )
				MOBILE_PURCHASE.ShowPurchaseInProgress( f91_arg0 )
				BATTLEPASS.SendBattlePassLeaveMenuDlogEvent( f91_arg0 )
				ACTIONS.LeaveMenu( f92_arg0 )
				BATTLEPASS.Purchase( f91_arg0, tonumber( f91_arg0[0x6B65B4278C6C417] ), 1 )
			end,
			controllerIndex = f91_arg1
		} )
	end
end

BATTLEPASS.GetMobileUpsellBlackcellList = function ( f90_arg0 )
	local f90_local0 = BATTLEMAP.GetSectorUnlockData( f90_arg0, SEASON.GetCurrentSeason(), BATTLEMAP.BLACK_CELL )
	Table.AppendArray( f90_local0, BATTLEMAP.GetBlackCellUniqueRewards( f90_arg0 ) )
	local f90_local1 = {
		rewardsList = {}
	}
	for f90_local5, f90_local6 in ipairs( f90_local0 ) do
		if f90_local6.lootType ~= LOOT.itemTypes.CURRENCY_PACK then
			if f90_local6.isHVT and not f90_local1.mainReward then
				f90_local1.mainReward = f90_local6
			else
				table.insert( f90_local1.rewardsList, f90_local6 )
			end
		end
	end
	return f90_local1
end

BATTLEPASS.Purchase = function ( f89_arg0, f89_arg1, f89_arg2, f89_arg3 )
	local f89_local0 = assert
	local f89_local1
	if f89_arg0 then
		f89_local1 = f89_arg0
	elseif type( f89_arg0 ) ~= "number" or 0 > f89_arg0 then
		f89_local1 = false
	else
		f89_local1 = true
	end
	f89_local0( f89_local1 )
	f89_local0 = assert
	if f89_arg1 then
		f89_local1 = f89_arg1
	elseif type( f89_arg1 ) ~= "number" or 0 >= f89_arg1 then
		f89_local1 = false
	else
		f89_local1 = true
	end
	f89_local0( f89_local1 )
	f89_local0 = assert
	if f89_arg2 then
		f89_local1 = f89_arg2
	elseif type( f89_arg2 ) ~= "number" or 0 >= f89_arg2 then
		f89_local1 = false
	else
		f89_local1 = true
	end
	f89_local0( f89_local1 )
	f89_local0 = assert
	if f89_arg3 and (type( f89_arg3 ) ~= "number" or 0 > f89_arg3) then
		f89_local1 = false
	else
		f89_local1 = true
	end
	f89_local0( f89_local1 )
	if not f89_arg3 then
		f89_local0 = f89_arg3
	else
		f89_local0 = SEASON.GetCurrentSeason()
	end
	if BATTLEPASS.NeedFixUp( f89_arg0, f89_local0 ) then
		BATTLEPASS.FixUp( f89_arg0, f89_local0 )
		return false
	else
		local f89_local2
		if f89_arg1 then
			f89_local2 = BATTLEPASS.GetItemRefBySkuID( f89_arg1 )
			if not f89_local2 then
			
			else
				if String.IsNilOrEmpty( f89_local2 ) then
					assert( false, "Attempt to purchase unrecognized battle pass item, skuID=" .. tostring( f89_arg1 ) )
					return false
				elseif f89_local2 then
					f89_local1 = BATTLEPASS.GetItemType( f89_local2 )
					if not f89_local1 then
					
					else
						if f89_local1 and f89_arg3 and 0 <= f89_arg3 then
							local f89_local3 = assert
							local f89_local4
							if f89_local1 ~= BATTLEPASS.ITEM_TYPES.PASS and f89_local1 ~= BATTLEPASS.ITEM_TYPES.BUNDLE then
								f89_local4 = false
							else
								f89_local4 = true
							end
							f89_local3( f89_local4, "Overriding purchase season allowed when purchasing the pass or bundle only. itemType=" .. f89_local1 )
							if f89_local1 ~= BATTLEPASS.ITEM_TYPES.PASS and f89_local1 ~= BATTLEPASS.ITEM_TYPES.BUNDLE then
								return false
							end
						end
						if f89_local1 == BATTLEPASS.ITEM_TYPES.BUNDLE or f89_local1 == BATTLEPASS.ITEM_TYPES.PASS then
							assert( f89_arg2 == 1, "Attempt to purchase multiple battle passes or bundles, quantity=" .. tostring( f89_arg2 ) )
							if f89_arg2 ~= 1 then
								return false
							elseif BATTLEPASS.IsOwned( f89_arg0, f89_local0 ) then
								assert( false, "Attempt to purchase battle pass when already owned. season=" .. tostring( f89_local0 ) )
								return false
							end
						elseif f89_local1 == BATTLEPASS.ITEM_TYPES.TOKEN then
							if BATTLEMAP.GetTokenMaxAvailable( f89_arg0 ) == 0 then
								assert( false, "Attempt to purchase tokens when none are available to purchase" )
								return false
							end
						else
							assert( false, "Unrecognized item type during battle pass purchase, itemType=" .. tostring( f89_local1 ) )
							return false
						end
						return Battlepass[0xBA8E96F5598F0C2]( f89_arg0, f89_arg1, f89_arg2, f89_local0 )
					end
				end
				f89_local1 = nil
			end
		end
	end
	f89_local2 = nil
end

BATTLEPASS.PurchaseSeasonPass = function ( f88_arg0, f88_arg1 )
	local f88_local0 = assert
	local f88_local1
	if f88_arg0 then
		f88_local1 = f88_arg0
	elseif type( f88_arg0 ) ~= "number" or 0 > f88_arg0 then
		f88_local1 = false
	else
		f88_local1 = true
	end
	f88_local0( f88_local1 )
	f88_local0 = assert
	if type( f88_arg1 ) ~= "number" or 0 > f88_arg1 then
		f88_local1 = false
	else
		f88_local1 = true
	end
	f88_local0( f88_local1 )
	local f88_local2 = BATTLEPASS.GetBattlepassIDBundleForRef( BATTLEPASS.GetPurchaseRef() )
	return BATTLEPASS.Purchase( f88_arg0, f88_local2[0x6B65B4278C6C417], 1, f88_arg1 )
end

BATTLEPASS.IsOwned = function ( f87_arg0, f87_arg1 )
	local f87_local0 = assert
	local f87_local1
	if f87_arg0 then
		f87_local1 = f87_arg0
	elseif type( f87_arg0 ) ~= "number" or 0 > f87_arg0 then
		f87_local1 = false
	else
		f87_local1 = true
	end
	f87_local0( f87_local1 )
	f87_local0 = SEASON.GetValidSeason( f87_arg1 )
	if not CONDITIONS.IsMobileOrMobileSim() then
		local f87_local2 = BATTLEMAP
		if f87_local2 then
			f87_local2 = BATTLEMAP.GetBaseMenuScopedData()
		end
		if f87_local2 and f87_local2.forceBattlePassSeasonOwned and f87_local2.forceBattlePassSeasonOwned == f87_local0 then
			return true
		end
	end
	local f87_local2 = BATTLEPASS.OwnershipUserStates[f87_local0]
	f87_local1 = false
	if f87_local2 then
		local f87_local3 = OnlineProgression[0x82011D283698AA4]( f87_arg0, {
			f87_local2
		} )
		f87_local1 = tonumber( f87_local3[f87_local2] ) == 1
	end
	local f87_local3
	if not f87_local1 then
		f87_local3 = f87_local1
	else
		f87_local3 = Battlepass[0xB7D304F1F31158E]( f87_arg0, f87_local0 )
	end
	return f87_local3
end

BATTLEPASS.IsPreviousSeasonOwned = function ( f86_arg0 )
	return BATTLEPASS.IsOwned( f86_arg0, SEASON.GetCurrentSeason() - 1 )
end

BATTLEPASS.IsBlackCellOwned = function ( f85_arg0, f85_arg1 )
	local f85_local0 = assert
	local f85_local1
	if f85_arg0 then
		f85_local1 = f85_arg0
	elseif type( f85_arg0 ) ~= "number" or 0 > f85_arg0 then
		f85_local1 = false
	else
		f85_local1 = true
	end
	f85_local0( f85_local1 )
	f85_local0 = SEASON.GetValidSeason( f85_arg1 )
	local f85_local2 = false
	if STORE and STORE.UI then
		f85_local2 = STORE.UI.DoesPlayerOwnBlackCellBundleForSeason( f85_arg0, f85_local0 )
	end
	return f85_local2
end

BATTLEPASS.NeedFixUp = function ( f84_arg0, f84_arg1 )
	local f84_local0 = assert
	local f84_local1
	if f84_arg0 then
		f84_local1 = f84_arg0
	elseif type( f84_arg0 ) ~= "number" or 0 > f84_arg0 then
		f84_local1 = false
	else
		f84_local1 = true
	end
	f84_local0( f84_local1 )
	f84_local0 = assert
	if f84_arg1 and (type( f84_arg1 ) ~= "number" or 0 > f84_arg1) then
		f84_local1 = false
	else
		f84_local1 = true
	end
	f84_local0( f84_local1 )
	if not f84_arg1 then
		f84_local0 = f84_arg1
	else
		f84_local0 = SEASON.GetCurrentSeason()
	end
	return Battlepass[0x1578D1E54AAF91D]( f84_arg0, f84_local0 )
end

BATTLEPASS.FixUp = function ( f83_arg0, f83_arg1 )
	local f83_local0 = assert
	local f83_local1
	if f83_arg0 then
		f83_local1 = f83_arg0
	elseif type( f83_arg0 ) ~= "number" or 0 > f83_arg0 then
		f83_local1 = false
	else
		f83_local1 = true
	end
	f83_local0( f83_local1 )
	f83_local0 = assert
	if f83_arg1 and (type( f83_arg1 ) ~= "number" or 0 > f83_arg1) then
		f83_local1 = false
	else
		f83_local1 = true
	end
	f83_local0( f83_local1 )
	if not f83_arg1 then
		f83_local0 = f83_arg1
	else
		f83_local0 = SEASON.GetCurrentSeason()
	end
	Battlepass[0xC9ED77FB5DB0945]( f83_arg0, f83_local0 )
end

BATTLEPASS.HasSeenItem = function ( f82_arg0, f82_arg1 )
	return true
end

BATTLEPASS.MarkItemSeen = function ( f81_arg0, f81_arg1 )
	return Loot[0x5648756DE446DEF]( f81_arg0, f81_arg1 )
end

BATTLEPASS.MarkPassSeenForSeason = function ( f80_arg0, f80_arg1 )
	local f80_local0 = Engine[0x6093D047200548]( BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME .. BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_NAME )
	local f80_local1 = f0_local0()
	for f80_local5, f80_local6 in ipairs( f80_local0[0x6A61EB74A7F7C13] ) do
		local f80_local7 = f80_local1[f80_local6[0x864502E8AE5CB81]]
		local f80_local8 = f80_local7[0x7E1B813ABAD5D3B]
		local f80_local9 = f80_local7[0x8DFD5E2759BA3F8] or 0
		if f80_local9 and f80_local9 == f80_arg1 then
			BATTLEPASS.MarkItemSeen( f80_arg0, f80_local8 )
		end
	end
end

BATTLEPASS.HasNewPassForSeason = function ( f79_arg0 )
	local f79_local0 = SEASON.GetCurrentSeason()
	local f79_local1 = Engine[0x6093D047200548]( BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME .. BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_NAME )
	local f79_local2 = f0_local0()
	for f79_local7, f79_local8 in ipairs( f79_local1[0x6A61EB74A7F7C13] ) do
		local f79_local9 = f79_local2[f79_local8[0x864502E8AE5CB81]]
		local f79_local10 = f79_local9[0x7E1B813ABAD5D3B]
		local f79_local11 = f79_local9[0x8DFD5E2759BA3F8] or 0
		local f79_local12 = f79_local9[0xF4F13D3AC438B16]
		local f79_local6
		if 0 >= f79_local11 or f79_local11 ~= f79_local0 then
			f79_local6 = false
		else
			f79_local6 = true
		end
		if f79_local6 and f79_local12 == BATTLEPASS.ITEM_TYPES.PASS and not BATTLEPASS.HasSeenItem( f79_arg0, f79_local10 ) then
			return true
		end
	end
end

BATTLEPASS.HasNewItems = function ( f78_arg0 )
	if BATTLEPASS.HasNewPassForSeason( f78_arg0 ) then
		return true
	end
	local f78_local0 = BATTLEPASS.GetLastMenuXP( f78_arg0 )
	local f78_local1 = BATTLEPASS.GetXP( f78_arg0 )
	local f78_local2 = 0
	local f78_local3 = 0
	local f78_local4 = false
	local f78_local5, f78_local6 = BATTLEPASS.IsPendingTransactions( f78_arg0 )
	local f78_local7
	if not f78_local5 then
		f78_local7 = f78_local5
	else
		f78_local7 = f78_local6
	end
	if f78_local7 and not f78_local4 then
		return true
	elseif f78_local2 < f78_local3 then
		return true
	end
end

local f0_local10 = function ( f74_arg0, f74_arg1, f74_arg2 )
	local f74_local0 = "battlemapAutoSpendTimer"
	local f74_local1 = "iw9_battlepass_configuration"
	local self = LUI.UITimer.new( {
		interval = 100,
		event = f74_local1,
		eventTarget = f74_arg0
	} )
	self.id = f74_local0
	local f74_local3 = {
		errorCode = BATTLEPASS.SpendTokenError.NONE
	}
	self.Respond = function ( f77_arg0 )
		if f77_arg0.onComplete and f77_arg0.response then
			f77_arg0.onComplete( f77_arg0.response, f74_arg0 )
		end
		f77_arg0:closeTree()
		f77_arg0 = nil
	end
	
	self.response = f74_local3
	self.onComplete = f74_arg2
	self:registerEventHandler( f74_local1, function ( self, event )
		local f76_local0 = 10000
		if self._userStateUpdated then
			self.response.success = true
			self:Respond()
		end
		if not self._totalWaitTime then
			self._totalWaitTime = 0
		else
			assert( self.interval )
			self._totalWaitTime = self._totalWaitTime + self.interval
		end
		if f76_local0 <= self._totalWaitTime then
			f74_arg0.success = false
			if not self._userStateUpdated then
				f74_arg0.errorCode = BATTLEPASS.ToggleAutoSpendError.AUTOSPEND_TIMEOUT
			end
			self:Respond()
		end
	end )
	self:registerEventHandler( "user_state_updated", function ( self, event )
		self._userStateUpdated = event.success
		if not self._userStateUpdated then
			self.response.errorCode = BATTLEPASS.ToggleAutoSpendError.USER_STATE_UPDATE_FAILED
			self.response.success = false
			self:Respond()
		end
	end )
	f74_arg0:addElement( self )
	f74_arg0[f74_local0] = self
end

BATTLEPASS.SetAutoSpendState = function ( f73_arg0, f73_arg1, f73_arg2, f73_arg3 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x74C2CDCEA91B7B9 ) then
		f0_local0( f73_arg0, f73_arg1, f73_arg2 )
		local f73_local0 = Challenges[0x636D3BF423FD414]
		local f73_local1 = f73_arg1
		local f73_local2 = AEGameEvents.iw9_battlemap_configuration.eventID
		local f73_local3 = 1
		local f73_local4 = AEGameEventKeys.iw9_autospend_enabled.keyID
		local f73_local5
		if f73_arg3 then
			f73_local5 = 1
		else
			f73_local5 = 0
		end
		f73_local0( f73_local1, f73_local2, f73_local3, f73_local4, f73_local5 )
	else
		BATTLEPASS.IS_USING_AUTOSPEND = f73_arg3
		f73_arg2( {
			success = true,
			errorCode = BATTLEPASS.SpendTokenError.NONE
		} )
	end
end

BATTLEPASS.GetAutoSpendState = function ( f72_arg0 )
	if not CONDITIONS.IsMobileOrMobileSim() and Dvar[0x9E5BE3B4BBA4E0E]( 0x74C2CDCEA91B7B9 ) then
		local f72_local0
		if BATTLEMAP == nil or BATTLEMAP.GetTokenMaxAvailable( f72_arg0 ) ~= 0 then
			f72_local0 = tonumber
			local f72_local1 = OnlineProgression[0x82011D283698AA4]( f72_arg0, {
				AEUserState.IW9__BATTLEMAP_AUTOSPEND_ENABLED
			} )
			if f72_local0( f72_local1[AEUserState.IW9__BATTLEMAP_AUTOSPEND_ENABLED] ) ~= 1 then
				f72_local0 = false
			end
			f72_local0 = true
		end
		f72_local0 = false
	else
		return BATTLEPASS.IS_USING_AUTOSPEND
	end
end

BATTLEPASS.AttachTimerToAutoSpendState = function ( f71_arg0, f71_arg1, f71_arg2 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x74C2CDCEA91B7B9 ) then
		f0_local0( f71_arg0, f71_arg1, f71_arg2 )
	end
end

BATTLEPASS.GetLastMenuXP = function ( f70_arg0 )
	local f70_local0 = BATTLEPASS.GetXP( f70_arg0 )
	local f70_local1 = PLAYER_DATA.IO( f70_arg0, CoD.StatsGroup.NonGame )
	local f70_local2 = tonumber( f70_local1.lastBattlePassMenuXp:get() )
	if f70_local0 < f70_local2 then
		BATTLEPASS.SetLastMenuXP( f70_arg0, f70_local0 )
		return f70_local0
	else
		return f70_local2
	end
end

BATTLEPASS.SetLastMenuXP = function ( f69_arg0, f69_arg1 )
	local f69_local0 = PLAYER_DATA.IO( f69_arg0, CoD.StatsGroup.NonGame )
	f69_local0.lastBattlePassMenuXp:set( f69_arg1 )
	Engine[0xB81A5136C5503E4]( "uploadstats", f69_arg0 )
end

BATTLEPASS.GetLastFreeTierSeen = function ( f68_arg0 )
	local f68_local0 = PLAYER_DATA.IO( f68_arg0, CoD.StatsGroup.NonGame )
	local f68_local1 = tonumber( f68_local0.lastBattlePassFreeTierSeen:get() )
	local f68_local2 = 0 and f68_local1 - 1 or 0
	if BATTLEPASS.GetXP( f68_arg0 ) < 0 then
		BATTLEPASS.SetLastFreeTierSeen( f68_arg0, 0 )
		return 0
	else
		return f68_local1
	end
end

BATTLEPASS.SetLastFreeTierSeen = function ( f67_arg0, f67_arg1 )
	local f67_local0 = PLAYER_DATA.IO( f67_arg0, CoD.StatsGroup.NonGame )
	f67_local0.lastBattlePassFreeTierSeen:set( f67_arg1 )
	Engine[0xB81A5136C5503E4]( "uploadstats", f67_arg0 )
end

BATTLEPASS.GetItemRef = function ( f66_arg0 )
	local f66_local0 = assert
	local f66_local1
	if f66_arg0 then
		f66_local1 = f66_arg0
	elseif type( f66_arg0 ) ~= "number" or 0 >= f66_arg0 then
		f66_local1 = false
	else
		f66_local1 = true
	end
	f66_local0( f66_local1 )
	if f66_arg0 and type( f66_arg0 ) == "number" and 0 < f66_arg0 then
		f66_local0 = f0_local0()
		local f66_local2 = Engine[0x6093D047200548]( BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME .. BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_NAME )
		for f66_local5, f66_local6 in ipairs( f66_local2[0x6A61EB74A7F7C13] ) do
			local f66_local7 = f66_local0[f66_local6[0x864502E8AE5CB81]]
			if f66_local7[0x7E1B813ABAD5D3B] and f66_local7[0x7E1B813ABAD5D3B] == f66_arg0 then
				return f66_local6[0x864502E8AE5CB81]
			end
		end
	end
	return ""
end

BATTLEPASS.GetItemRefBySkuID = function ( f65_arg0 )
	local f65_local0 = assert
	local f65_local1
	if f65_arg0 then
		f65_local1 = f65_arg0
	elseif type( f65_arg0 ) ~= "number" or 0 >= f65_arg0 then
		f65_local1 = false
	else
		f65_local1 = true
	end
	f65_local0( f65_local1 )
	if f65_arg0 and type( f65_arg0 ) == "number" and 0 < f65_arg0 then
		f65_local0 = f0_local0()
		local f65_local2 = Engine[0x6093D047200548]( BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_TYPE_NAME .. BATTLEPASS.BATTLEPASS_SCRIPTBUNDLE_NAME )
		for f65_local5, f65_local6 in ipairs( f65_local2[0x6A61EB74A7F7C13] ) do
			local f65_local7 = f65_local0[f65_local6[0x864502E8AE5CB81]]
			if f65_local7[0x6B65B4278C6C417] and f65_local7[0x6B65B4278C6C417] == f65_arg0 then
				return f65_local6[0x864502E8AE5CB81]
			end
		end
	end
	return ""
end

BATTLEPASS.GetItemID = function ( f64_arg0 )
	local f64_local0 = BATTLEPASS.GetBattlepassIDBundleForRef( f64_arg0 )
	f64_local0 = f64_local0[0x7E1B813ABAD5D3B]
	if not f64_local0 then
		f64_local0 = 0
	end
	return f64_local0
end

BATTLEPASS.GetItemType = function ( f63_arg0 )
	local f63_local0 = BATTLEPASS.GetBattlepassIDBundleForRef( f63_arg0 )
	return f63_local0[0xF4F13D3AC438B16]
end

BATTLEPASS.GetItemSeason = function ( f62_arg0 )
	local f62_local0 = BATTLEPASS.GetBattlepassIDBundleForRef( f62_arg0 )
	return f62_local0[0x8DFD5E2759BA3F8]
end

BATTLEPASS.GetItemName = function ( f61_arg0 )
	local f61_local0 = BATTLEPASS.GetBattlepassIDBundleForRef( f61_arg0 )
	f61_local0 = f61_local0[0x4BCADBA8E631B86]
	if not f61_local0 then
		f61_local0 = 0x0
	end
	return f61_local0
end

BATTLEPASS.GetItemImage = function ( f60_arg0 )
	local f60_local0 = BATTLEPASS.GetBaseEmblem
	local f60_local1 = BATTLEPASS.GetBattlepassIDBundleForRef( f60_arg0 )
	return f60_local0( f60_local1[0x8DFD5E2759BA3F8] )
end

BATTLEPASS.GetItemLargeImage = function ( f59_arg0 )
	local f59_local0 = BATTLEPASS.GetBattlepassIDBundleForRef( f59_arg0 )
	return f59_local0[0xAB612888528489A]
end

BATTLEPASS.GetItemCost = function ( f58_arg0 )
	local f58_local0 = BATTLEPASS.GetBattlepassIDBundleForRef( f58_arg0 )
	return f58_local0[0x7384DAB3F540BAA]
end

BATTLEPASS.GetItemCostByID = function ( f57_arg0 )
	local f57_local0 = BATTLEPASS.GetBattlepassIDBundleForID( f57_arg0 )
	return f57_local0[0x7384DAB3F540BAA]
end

BATTLEPASS.GetBundleItemIDs = function ( f56_arg0 )
	local f56_local0 = {}
	local f56_local1 = BATTLEPASS.GetBattlepassIDBundleForRef( f56_arg0 )
	for f56_local5, f56_local6 in ipairs( f56_local1[0xE7EF3D0C2B5EF83] ) do
		if f56_local6 and f56_local6[0x7E1B813ABAD5D3B] then
			table.insert( f56_local0, f56_local6[0x7E1B813ABAD5D3B] )
		end
	end
	return f56_local0
end

BATTLEPASS.GetItemValue = function ( f55_arg0 )
	local f55_local0 = 0
	local f55_local1 = BATTLEPASS.GetBundleItemIDs( f55_arg0 )
	for f55_local2 = 1, #f55_local1, 1 do
		local f55_local5 = f55_local1[f55_local2]
		if LOOT.GetTypeForID( f55_local5 ) == LOOT.itemTypes.BATTLE_PASS then
			f55_local0 = f55_local0 + BATTLEPASS.GetItemCostByID( f55_local5 )
		end
	end
	return f55_local0
end

BATTLEPASS.GetPreviewWeapon = function ( f53_arg0, f53_arg1, f53_arg2 )
	assert( f53_arg0 )
	assert( f53_arg1 )
	assert( f53_arg2 )
	local f53_local0 = {}
	if f53_arg1 == LOOT.itemTypes.WEAPON then
		local f53_local1 = WEAPON.GenerateWeaponTableFromID( f53_arg0, f53_arg2 )
		if f53_local1 then
			table.insert( f53_local0, f53_local1 )
		else
			assert( false, "Unable to build weapon table for ID " .. f53_arg2 )
		end
	end
	local f53_local1 = LOADOUT.GetFavoriteLoadoutIndex( f53_arg0 ) or 0
	local f53_local2 = LOADOUT.GetLoadoutPlayerData( f53_arg0, f53_local1 )
	if f53_local2 then
		local f53_local3 = WEAPON.GenerateWeaponTable( f53_local2.weaponSetups[0] )
		if f53_local3 then
			table.insert( f53_local0, f53_local3 )
		end
	end
	for f53_local3 = 1, LOADOUT.GetDefaultLoadoutCount(), 1 do
		if f53_local3 ~= f53_local1 then
			local f53_local6 = LOADOUT.GetLoadoutPlayerData( f53_arg0, f53_local3 )
			if f53_local6 then
				local f53_local7 = WEAPON.GenerateWeaponTable( f53_local6.weaponSetups[0] )
				if f53_local7 then
					table.insert( f53_local0, f53_local7 )
				end
			end
		end
	end
	local f53_local4 = WEAPON.GenerateWeaponTableFromID( f53_arg0, WEAPON.DefaultPrimaryID )
	if f53_local4 then
		table.insert( f53_local0, f53_local4 )
	end
	local f53_local5 = function ( f54_arg0, f54_arg1, f54_arg2 )
		if f54_arg0 == LOOT.itemTypes.WEAPON then
			return true
		elseif f54_arg0 == LOOT.itemTypes.OPERATOR or f54_arg0 == LOOT.itemTypes.OPERATOR_SKIN then
			return true
		elseif f54_arg0 == LOOT.itemTypes.CHARM then
			return f54_arg1
		elseif f54_arg0 == LOOT.itemTypes.STICKER then
			return f54_arg2
		else
			
		end
	end
	
	for f53_local16, f53_local17 in ipairs( f53_local0 ) do
		local f53_local9 = false
		local f53_local15 = false
		if f53_arg1 == LOOT.itemTypes.CHARM and WEAPON.SupportsCosmetics( f53_local17.weapon ) then
			f53_local17.cosmeticAttachment = LOOT.GetItemRef( f53_arg2 )
			f53_local9 = true
		end
		local f53_local10 = WEAPON.GetMaxStickerSlotsForWeapon( f53_local17.weapon )
		if f53_arg1 == LOOT.itemTypes.STICKER and 0 < f53_local10 then
			f53_local17.stickers = {}
			for f53_local11 = 1, f53_local10, 1 do
				local f53_local14 = f53_local11
				table.insert( f53_local17.stickers, LOOT.GetItemRef( f53_arg2 ) )
			end
			f53_local15 = true
		end
		if f53_local5( f53_arg1, f53_local9, f53_local15 ) then
			return f53_local17
		end
	end
end

BATTLEPASS.GetTierUnlockLootReward = function ( f52_arg0, f52_arg1 )
	local f52_local0 = 0
	local f52_local1 = LOOT.GetLootCardData( f52_arg0, f52_local0 )
	if LOOT.GetTypeForID( f52_local0 ) == LOOT.itemTypes.FEATURE then
		f52_local1.name = Engine[0xED84C33EC5F01EA]( 0x4A67A7826A12CB3, 0 )
	end
	f52_local1.isFreeLoot = false
	return f52_local1
end

BATTLEPASS.GetTierMultiUnlockLootRewards = function ( f51_arg0, f51_arg1 )
	local f51_local0 = {}
	local f51_local1 = {}
	for f51_local5, f51_local6 in ipairs( f51_local0 ) do
		local f51_local7 = LOOT.GetLootCardData( f51_arg0, f51_local6 )
		if LOOT.GetTypeForID( f51_local6 ) == LOOT.itemTypes.FEATURE and not f51_local7.isOperatorChallenge then
			f51_local7.name = Engine[0xED84C33EC5F01EA]( 0x4A67A7826A12CB3, 0 )
		end
		f51_local7.isFreeLoot = false
		table.insert( f51_local1, f51_local7 )
	end
	return f51_local1
end

BATTLEPASS.GetBaseEmblem = function ( f50_arg0 )
	local f50_local0
	if f50_arg0 and not f50_arg0 then
		f50_local0 = f50_arg0
	else
		f50_local0 = SEASON.GetCurrentSeason()
	end
	return StringTable[0x2DCF0973239E909]( CSV.battlePassSeasonIcon.file, CSV.battlePassSeasonIcon.cols.season, f50_local0, CSV.battlePassSeasonIcon.cols.emblem )
end

BATTLEPASS.GetCurrentEmblem = function ( f49_arg0, f49_arg1 )
	assert( f49_arg0, "Usage: BATTLEPASS.GetCurrentEmblem( <controllerIndex>, [seasonID] )" )
	if BATTLEPASS.IsOwned( f49_arg0 ) then
		return BATTLEPASS.GetEmblemGold( f49_arg1 )
	else
		return BATTLEPASS.GetEmblemSilver( f49_arg1 )
	end
end

BATTLEPASS.GetEmblemGold = function ( f48_arg0 )
	local f48_local0 = tostring
	local f48_local1
	if f48_arg0 and not f48_arg0 then
		f48_local1 = f48_arg0
	else
		f48_local1 = SEASON.GetCurrentSeason()
	end
	return StringTable[0x2DCF0973239E909]( CSV.battlePassSeasonIcon.file, CSV.battlePassSeasonIcon.cols.season, f48_local0( f48_local1 ), CSV.battlePassSeasonIcon.cols.emblemGold )
end

BATTLEPASS.GetEmblemSilver = function ( f47_arg0 )
	local f47_local0 = tostring
	local f47_local1
	if f47_arg0 and not f47_arg0 then
		f47_local1 = f47_arg0
	else
		f47_local1 = SEASON.GetCurrentSeason()
	end
	return StringTable[0x2DCF0973239E909]( CSV.battlePassSeasonIcon.file, CSV.battlePassSeasonIcon.cols.season, f47_local0( f47_local1 ), CSV.battlePassSeasonIcon.cols.emblemSilver )
end

BATTLEPASS.BRRewardAvailable = function ( f46_arg0 )
	local f46_local0 = Dvar[0x9E5BE3B4BBA4E0E]( 0xD5F54DF998D1F1E )
	local f46_local1 = CONDITIONS.IsMagmaGameMode()
	local f46_local2 = PLAYER_DATA.IO( f46_arg0, CoD.StatsGroup.Ranked )
	f46_local2 = f46_local2.playerStats.modeStats.br.gamesPlayed:get()
	local f46_local3
	if f46_local2 then
		f46_local3 = f46_local2
	else
		f46_local3 = 0 < f46_local2
	end
	local f46_local4 = false
	local f46_local5 = Challenge.GetPlayerBROnboardingRewarded( f46_arg0, BRLOOT.rewardsTypes.FIRST_MATCH_REWARD )
	local f46_local6
	if f46_local0 then
		f46_local6 = f46_local0
	elseif f46_local1 then
		f46_local6 = f46_local1
	elseif f46_local3 then
		f46_local6 = f46_local3
	elseif not f46_local4 then
		f46_local6 = not f46_local5
	else
		f46_local6 = false
	end
	return f46_local6
end

BATTLEPASS.VIPGiftAvailable = function ( f45_arg0 )
	local f45_local0 = Dvar[0x22EAAB59AA27E9B]( 0x485193CC423B9C4 )
	local f45_local1 = Dvar[0x22EAAB59AA27E9B]( 0x824ECD09D7C48F7 )
	if not f45_local0 or f45_local0 <= 0 or not f45_local1 or f45_local1 <= 0 then
		return false
	else
		local f45_local2
		if PROXY_LOOT.IsOwned( f45_arg0, f45_local0 ) ~= 0 or PROXY_LOOT.IsOwned( f45_arg0, f45_local1 ) ~= 0 then
			f45_local2 = false
		else
			f45_local2 = true
		end
	end
	return f45_local2
end

BATTLEPASS.GetVIPGifts = function ( f44_arg0, f44_arg1, f44_arg2 )
	if not f44_arg1 or f44_arg1 <= 0 then
		return 
	elseif 0 < PROXY_LOOT.IsOwned( f44_arg0, f44_arg1 ) then
		return 
	end
	local f44_local0 = LOOT.GetItemsInBundle( f44_arg1 )
	if not f44_local0 or #f44_local0 <= 0 then
		return 
	end
	local f44_local1 = {}
	f44_arg2 = math.min( f44_arg2, #f44_local0 )
	for f44_local2 = 1, f44_arg2, 1 do
		table.insert( f44_local1, LOOT.GetLootCardData( f44_arg0, f44_local0[f44_local2] ) )
	end
	return f44_local1
end

BATTLEPASS.GetVIPFreeGifts = function ( f43_arg0 )
	return BATTLEPASS.GetVIPGifts( f43_arg0, Dvar[0x22EAAB59AA27E9B]( 0x485193CC423B9C4 ), BATTLEPASS.VIPNumFreeGifts )
end

BATTLEPASS.GetVIPOwnerGifts = function ( f42_arg0 )
	return BATTLEPASS.GetVIPGifts( f42_arg0, Dvar[0x22EAAB59AA27E9B]( 0x824ECD09D7C48F7 ), BATTLEPASS.VIPNumOwnerGifts )
end

BATTLEPASS.ShowBPTrailer = function ( f41_arg0 )
	local f41_local0 = "main_menu_warzone_battlepass_trailer"
	Engine[0xC4146BA76D0F982]( SOUND_SETS.default.action )
	LUI.FlowManager.RequestAddMenu( "CinematicFullscreen", true, f41_arg0, false, {
		widescreen = true,
		video = f41_local0
	} )
end

BATTLEPASS.IsTierSkipGiftActive = function ( f40_arg0 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0xB058BCDF5793DD7 ) then
		return false
	end
	local f40_local0 = tonumber( BATTLEPASS.GetTierSkipGiftID() )
	local f40_local1 = tonumber( BATTLEPASS.GetTierSkipGiftTimer() )
	if f40_local0 and f40_local1 and not false then
		local f40_local2 = 0 < PROXY_LOOT.IsOwned( f40_arg0, f40_local0 )
		local f40_local3 = CoD.GetUTC()
		if not f40_local2 and f40_local3 and f40_local3 < f40_local1 then
			return true
		end
	end
	return false
end

BATTLEPASS.GetTierSkipGiftID = function ()
	local f39_local0 = Dvar[0x54084D7CA2317BB]( 0xF55C89C05964677 )
	if not f39_local0 then
		f39_local0 = ""
	end
	return f39_local0
end

BATTLEPASS.GetTierSkipGiftTimer = function ()
	local f38_local0 = Dvar[0x54084D7CA2317BB]( 0x147E24F2409BBCB )
	if not f38_local0 then
		f38_local0 = ""
	end
	return f38_local0
end

BATTLEPASS.AddPurchasePrompt = function ( f36_arg0, f36_arg1, f36_arg2, f36_arg3 )
	if not BATTLEPASS.IsOwned( f36_arg1 ) then
		if not f36_arg3 then
			f36_arg3 = 2
		end
		f36_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "left",
			button_ref = "button_alt1",
			helper_text = Engine[0xED84C33EC5F01EA]( 0x2A95F5C834F1EF1 ),
			container = f36_arg2,
			priority = f36_arg3
		} )
		f36_arg0:AddGamepadEventCallback( "button_alt1", function ( f37_arg0, f37_arg1 )
			local f37_local0 = LUI.FlowManager.GetScopedData( MenuUtils.GetMainMenu() )
			if f37_local0 then
				f37_local0.isPurchaseFromPreview = true
				ACTIONS.LeaveMenu( f37_arg0 )
			end
		end )
	end
end

BATTLEPASS.RecordVIPGiftEvent = function ( f35_arg0, f35_arg1, f35_arg2, f35_arg3, f35_arg4 )
	local f35_local0 = LUI.FlowManager.GetCurrentMenu( f35_arg2 )
	local f35_local1 = {
		previous_menu = LUI.FlowManager.GetMenuNameAtIndex( f35_arg3 ) or "",
		current_menu = f35_local0._typeName or "",
		cp_balance = Commerce[0xFCE51EA6B7B00CC]( f35_arg0, 20 ) or 0
	}
	local f35_local2
	if not f35_arg1 then
		f35_local2 = f35_arg1
	else
		f35_local2 = ""
	end
	f35_local1.action = f35_local2
	f35_local1.bp_owned = f35_arg4
	Engine[0x15D98DF5F61904B]( f35_arg0, "dlog_event_store_vip_gift_bp_upsell", f35_local1 )
end

BATTLEPASS.GetFinalSectorPercentProgress = function ( f34_arg0 )
	local f34_local0, f34_local1 = BATTLEMAP.GetNumberOfCompleteSectorsAndRewards( f34_arg0, SEASON.GetCurrentSeason() )
	return f34_local1 / BATTLEMAP.NUM_BASE_SECTORS * BATTLEMAP.NUM_UNLOCKS_PER_SECTOR
end

BATTLEPASS.GetTokensEarnedSinceLastBattlePassUpsell = function ( f33_arg0 )
	assert( f33_arg0 )
	local f33_local0 = PLAYER_DATA.IO( f33_arg0, CoD.StatsGroup.NonGame )
	return f33_local0.tokensEarnedSinceLastBattlePassUpsell:get()
end

BATTLEPASS.SetTokensEarnedSinceLastBattlePassUpsell = function ( f32_arg0, f32_arg1 )
	assert( f32_arg0 )
	assert( f32_arg1 )
	local f32_local0 = PLAYER_DATA.IO( f32_arg0, CoD.StatsGroup.NonGame )
	f32_local0.tokensEarnedSinceLastBattlePassUpsell:set( f32_arg1 )
	Engine[0xB81A5136C5503E4]( "uploadstats", f32_arg0 )
end

BATTLEPASS.ClearTokensEarnedSinceLastBattlePassUpsell = function ( f31_arg0 )
	assert( f31_arg0 )
	local f31_local0 = PLAYER_DATA.IO( f31_arg0, CoD.StatsGroup.NonGame )
	f31_local0.tokensEarnedSinceLastBattlePassUpsell:set( 0 )
	ACTIONS.UploadStats( nil, f31_arg0 )
end

BATTLEPASS.ShouldShowUpsellBasedOnEarnedTokens = function ( f30_arg0 )
	assert( f30_arg0 )
	local f30_local0 = PLAYER_DATA.IO( f30_arg0, CoD.StatsGroup.NonGame )
	local f30_local1 = f30_local0.tokensEarnedSinceLastBattlePassUpsell:get()
	local f30_local2 = Dvar[0x22EAAB59AA27E9B]( 0xA90E974B4D2DC83 )
	local f30_local3 = Dvar[0x22EAAB59AA27E9B]( 0xEEA257601FADC97 )
	local f30_local4
	if f30_local2 and 0 <= f30_local2 and not f30_local2 then
		f30_local4 = f30_local2
	else
		f30_local4 = f0_local0
	end
	local f30_local5
	if f30_local3 and 0 <= f30_local3 and not f30_local3 then
		f30_local5 = f30_local3
	else
		f30_local5 = f0_local0
	end
	if not BATTLEPASS.IsOwned( f30_arg0 ) then
		return f30_local4 <= f30_local1
	elseif not STORE.UI.DoesPlayerOwnBlackCellBundle( f30_arg0 ) then
		return f30_local5 <= f30_local1
	else
		return false
	end
end

BATTLEPASS.UpdateBattlePassStatusMenuTabLabel = function ( f29_arg0 )
	local f29_local0, f29_local1 = BATTLEMAP.GetBattlePassMenuIndexAndTabMenu()
	local f29_local2 = f29_local1.menu
	if f29_local2 and f29_local2.MainMenuTabs then
		local f29_local3 = f29_local2.MainMenuTabs.Tabs:GetCurrentTab()
		if f29_local3 and f29_local3.BattlePassStatusMenuTabLabel then
			f29_local3.BattlePassStatusMenuTabLabel:CheckForStateUpdate( f29_arg0 )
		end
	end
end

BATTLEPASS.IsUnownedBlackCellLoot = function ( f28_arg0, f28_arg1 )
	if not f0_local0 then
		BATTLEPASS.BuildUnownedBlackCellLootIDs( f28_arg0 )
	end
	return f0_local0[f28_arg1] ~= nil
end

BATTLEPASS.GetUnownedBlackCellLootSeason = function ( f27_arg0, f27_arg1 )
	if not f0_local0 then
		BATTLEPASS.BuildUnownedBlackCellLootIDs( f27_arg0 )
	end
	return f0_local0[f27_arg1]
end

local f0_local11 = function ( f26_arg0, f26_arg1 )
	for f26_local3, f26_local4 in ipairs( f26_arg1 ) do
		if f26_local4[0x298D7E844F0DE30] then
			return f26_local4[0x28887F70BF5EBA]
		end
	end
end

local f0_local12 = function ( f25_arg0 )
	local f25_local0 = LOOT.GetTypeForID( f25_arg0 )
	local f25_local1
	if f25_local0 == LOOT.itemTypes.CONSUMABLE or f25_local0 == LOOT.itemTypes.CURRENCY_PACK then
		f25_local1 = false
	else
		f25_local1 = true
	end
	return f25_local1
end

local f0_local13 = function ( f24_arg0, f24_arg1, f24_arg2 )
	for f24_local3, f24_local4 in ipairs( f24_arg2[0x43EB98C952E0F8B] ) do
		if f0_local0( f24_local4[0x28887F70BF5EBA] ) then
			f0_local0[f24_local4[0x28887F70BF5EBA]] = f24_arg1
		end
	end
end

local f0_local14 = function ( f23_arg0, f23_arg1, f23_arg2, f23_arg3, f23_arg4, f23_arg5 )
	local f23_local0
	if f23_arg2 and not f23_arg3 then
		f23_local0 = f23_arg3
	else
		f23_local0 = f23_arg4
	end
	if f0_local0( f23_local0 ) then
		f0_local0[f23_local0] = f23_arg1
	end
	if f23_arg2 and 1 < #f23_arg5[0x43EB98C952E0F8B] then
		f0_local0( f23_arg0, f23_arg1, f23_arg5 )
	end
end

local f0_local15 = function ( f22_arg0, f22_arg1, f22_arg2, f22_arg3 )
	local f22_local0 = BATTLEMAP.GetBattleMapSectorRewards( f22_arg3[0x3E3665069C49994] )
	local f22_local1 = tonumber( f22_local0[0x43EB98C952E0F8B][1][0x28887F70BF5EBA] )
	local f22_local2 = f0_local0( f22_arg0, f22_local0[0x43EB98C952E0F8B] )
	if f22_arg2 or f22_local2 then
		f0_local0( f22_arg0, f22_arg1, f22_arg2, f22_local1, f22_local2, f22_local0 )
	end
end

local f0_local16 = function ( f21_arg0, f21_arg1, f21_arg2 )
	local f21_local0 = BATTLEMAP.GetSectorType( f21_arg0, f21_arg2 ) == BATTLEMAP.SectorType.BLACK_CELL
	for f21_local4, f21_local5 in ipairs( BATTLEMAP.GetSectorRewards( f21_arg1, f21_arg2 ) ) do
		f0_local0( f21_arg0, f21_arg1, f21_local0, f21_local5 )
	end
end

BATTLEPASS.BuildUnownedBlackCellLootIDs = function ( f20_arg0, f20_arg1 )
	if not f0_local0 or f20_arg1 then
		f0_local0 = {}
	end
	for f20_local0 = 1, SEASON.GetCurrentSeason(), 1 do
		if not STORE.UI.DoesPlayerOwnBlackCellBundleForSeason( f20_arg0, f20_local0 ) then
			local f20_local3 = BATTLEMAP.GetSeasonBundle( f20_local0 )
			local f20_local4 = #f20_local3[0x8C959E160CAD874]
			for f20_local5 = 1, f20_local4, 1 do
				f0_local0( f20_arg0, f20_local0, f20_local5 )
			end
		end
	end
end

BATTLEPASS.GetLastPlayedBattlePassSeason = function ( f19_arg0 )
	local f19_local0 = Dvar[0x22EAAB59AA27E9B]( 0x475BCF0ACC20D16 )
	if f19_local0 then
		DebugPrint( "DEBUG BATTLEPASS-BATTLEPASS.GetLastPlayedBattlePassSeason: Overriding last played BP Season to " .. f19_local0 )
		return f19_local0
	end
	for f19_local1 = SEASON.GetCurrentSeason() - 1, 1, -1 do
		local f19_local4, f19_local5 = BATTLEMAP.GetNumberOfCompleteSectorsAndRewards( f19_arg0, f19_local1 )
		if 0 < f19_local4 then
			DebugPrint( "DEBUG BATTLEPASS-BATTLEPASS.GetLastPlayedBattlePassSeason: Last played season is season " .. f19_local1 )
			return f19_local1
		end
	end
	DebugPrint( "DEBUG BATTLEPASS-BATTLEPASS.GetLastPlayedBattlePassSeason: There is no last played season. " )
end

BATTLEPASS.GetBundleTokenAmount = function ( f18_arg0 )
	local f18_local0 = 0
	local f18_local1 = BATTLEPASS.GetPurchaseTokenItemID()
	for f18_local5, f18_local6 in ipairs( f18_arg0[0xE7EF3D0C2B5EF83] ) do
		if f18_local6[0x7E1B813ABAD5D3B] == f18_local1 then
			f18_local0 = f18_local0 + f18_local6[0x3768BF56B809718]
		end
	end
	return f18_local0
end

BATTLEPASS.GetStoreBundleTokenAmount = function ( f17_arg0 )
	local f17_local0 = 0
	local f17_local1 = BATTLEPASS.GetPurchaseTokenItemID()
	for f17_local5, f17_local6 in ipairs( f17_arg0[0x21637912842E8EC][0xF1422B6BAD0990C] ) do
		if f17_local6[0x7E1B813ABAD5D3B] == f17_local1 then
			f17_local0 = f17_local0 + f17_local6[0x3768BF56B809718]
		end
	end
	return f17_local0
end

BATTLEPASS.GetLootIdFromRewardData = function ( f16_arg0, f16_arg1 )
	local f16_local0 = f16_arg1.lootID
	if CONDITIONS.IsMobileOrMobileSim() then
		if f16_arg1.rewardType == BATTLEPASS.REWARD_TYPE.BLACKCELL then
			f16_local0 = f16_arg1.blackCellLootID
		elseif f16_arg1.rewardType == BATTLEPASS.REWARD_TYPE.MOBILE then
			f16_local0 = f16_arg1.mobileLootID
		end
	end
	return f16_local0
end

BATTLEPASS.GetLootTypeFromRewardData = function ( f15_arg0, f15_arg1 )
	local f15_local0 = f15_arg1.lootType
	if CONDITIONS.IsMobileOrMobileSim() and f15_arg1.rewardType == BATTLEPASS.REWARD_TYPE.MOBILE then
		f15_local0 = f15_arg1.mobileLootType
	end
	return f15_local0
end

BATTLEPASS.GetLootRefFromRewardData = function ( f14_arg0, f14_arg1 )
	local f14_local0 = f14_arg1.lootRef
	if CONDITIONS.IsMobileOrMobileSim() and f14_arg1.rewardType == BATTLEPASS.REWARD_TYPE.MOBILE then
		f14_local0 = f14_arg1.mobileLootRef
	end
	return f14_local0
end

BATTLEPASS.GetLootNameFromRewardData = function ( f13_arg0, f13_arg1 )
	local f13_local0 = f13_arg1.lootName
	if CONDITIONS.IsMobileOrMobileSim() then
		if f13_arg1.rewardType == BATTLEPASS.REWARD_TYPE.MOBILE then
			f13_local0 = f13_arg1.mobileLootName
		elseif f13_arg1.rewardType == BATTLEPASS.REWARD_TYPE.BLACKCELL then
			if String.IsNilOrEmpty( f13_arg1.blackCellLootNameOverride ) then
				local f13_local1 = f13_arg1.blackCellLootName
				if not f13_local1 then
					f13_local0 = f13_local1
				else
					f13_local0 = f13_arg1.blackCellLootNameOverride
				end
			end
			f13_local0 = f13_arg1.blackCellLootNameOverride
		end
	end
	return f13_local0
end

BATTLEPASS.ArePriorSeasonBlackCellsEnabled = function ()
	return Dvar[0x9E5BE3B4BBA4E0E]( 0xE3DD2CAD4B06821 )
end

BATTLEPASS.GetMobileBattlePassRewardPositionModel = function ( f11_arg0 )
	if CONDITIONS.InGame() then
		return DataSources.inGame.mobile.battlepassRewardPosition:GetModel( f11_arg0 )
	else
		return DataSources.frontEnd.mobile.battlepassRewardPosition:GetModel( f11_arg0 )
	end
end

BATTLEPASS.GetMobileBattlePassSectorModel = function ( f10_arg0 )
	if CONDITIONS.InGame() then
		return DataSources.inGame.mobile.battlepassSector:GetModel( f10_arg0 )
	else
		
	end
end

BATTLEPASS.GetMobileBattlePassRewardModel = function ( f9_arg0 )
	if CONDITIONS.InGame() then
		return DataSources.inGame.mobile.battlepassReward:GetModel( f9_arg0 )
	else
		
	end
end

BATTLEPASS.DoesSectorContainCarryForwardExclusion = function ( f8_arg0 )
	local f8_local0 = #f8_arg0
	for f8_local4, f8_local5 in ipairs( f8_arg0 ) do
		local f8_local6 = f8_local5.lootID
		local f8_local7 = f8_local5.lootType
		if f8_local7 == LOOT.itemTypes.VEHICLE_TRACK then
			return true
		elseif f8_local7 == LOOT.itemTypes.VEHICLE_CAMO then
			return LOOT.IsHummerEVLoot( f8_local6 )
		end
	end
end

BATTLEPASS.MobileGetBattlepassHeaderTags = function ( f7_arg0, f7_arg1, f7_arg2, f7_arg3 )
	local f7_local0 = {}
	for f7_local5, f7_local6 in ipairs( BATTLEMAP.MobileGetDetailsTagData( f7_arg0, f7_arg1, f7_arg2 ) ) do
		local f7_local4 = ItemDetailsUtils.LeftHeaderState.NONE
		if f7_local5 == 1 then
			f7_local4 = f7_arg3
		end
		table.insert( f7_local0, {
			name = f7_local6,
			tagState = f7_local4
		} )
	end
	return f7_local0
end

BATTLEPASS.MobileGetDetailsClaimRequirement = function ( f6_arg0, f6_arg1, f6_arg2 )
	local f6_local0 = {}
	local f6_local1 = BATTLEPASS.IsOwned( f6_arg0, f6_arg1 )
	local f6_local2 = BATTLEPASS.IsBlackCellOwned( f6_arg0, f6_arg1 )
	local f6_local3 = BATTLEMAP.MobileGetRewardDataAtPosition( f6_arg0, f6_arg1, f6_arg2 )
	local f6_local4 = f6_local3.rewardType
	local f6_local5 = f6_local3.isFree
	local f6_local6 = BATTLEMAP.GetSectorType( f6_arg0, f6_local3.sectorIndex, f6_arg1 )
	local f6_local7 = BATTLEMAP.MobileGetRewardState( f6_arg0, f6_arg1, f6_arg2 )
	if f6_local7 == BATTLEMAP.RewardStates.CLAIMED then
		table.insert( f6_local0, {
			isCompleted = true,
			claimed = true,
			unlockCriteria = Engine[0xED84C33EC5F01EA]( 0xA5197E422EF0A7F )
		} )
		return f6_local0
	elseif f6_local5 then
		table.insert( f6_local0, {
			unlockCriteria = Engine[0xED84C33EC5F01EA]( 0x1E2C5B39DF5055C ),
			isCompleted = f6_local7 == BATTLEMAP.RewardStates.PROGRESSING
		} )
		table.insert( f6_local0, {
			isCompleted = false,
			unlockCriteria = Engine[0xED84C33EC5F01EA]( 0xD516F92DD0AD2BE )
		} )
		return f6_local0
	elseif f6_local6 == BATTLEMAP.SectorType.BLACK_CELL or f6_local4 == BATTLEPASS.REWARD_TYPE.BLACKCELL then
		table.insert( f6_local0, {
			unlockCriteria = Engine[0xED84C33EC5F01EA]( 0xAD51387CCDDDE7E ),
			isCompleted = f6_local2
		} )
		if f6_local6 == BATTLEMAP.SectorType.BLACK_CELL or f6_local6 == BATTLEMAP.SectorType.INSTANT then
			return f6_local0
		end
	end
	if not f6_local1 then
		if f6_local4 ~= BATTLEPASS.REWARD_TYPE.BLACKCELL then
			table.insert( f6_local0, {
				isCompleted = false,
				unlockCriteria = Engine[0xED84C33EC5F01EA]( 0x2A95F5C834F1EF1 )
			} )
		end
		if f6_local6 == BATTLEMAP.SectorType.INSTANT then
			return f6_local0
		end
	end
	if f6_local6 == BATTLEMAP.SectorType.FINAL then
		table.insert( f6_local0, {
			unlockCriteria = Engine[0xED84C33EC5F01EA]( 0x8D3D690A02616ED ),
			isCompleted = BATTLEMAP.IsBattlemapComplete( f6_arg0, f6_arg1 )
		} )
		return f6_local0
	else
		local f6_local8
		if f6_local7 ~= BATTLEMAP.RewardStates.PROGRESSING and f6_local7 ~= BATTLEMAP.RewardStates.CLAIMED and f6_local7 ~= BATTLEMAP.RewardStates.UNLOCKED then
			f6_local8 = false
		else
			f6_local8 = true
		end
	end
	if f6_local3.sectorRewardIndex ~= 1 or f6_local3.sectorIndex ~= BATTLEMAP.FIRST_SECTOR_INDEX then
		table.insert( f6_local0, {
			unlockCriteria = Engine[0xED84C33EC5F01EA]( 0x1E2C5B39DF5055C ),
			isCompleted = f6_local8
		} )
	end
	table.insert( f6_local0, {
		unlockCriteria = Engine[0xED84C33EC5F01EA]( 0xD516F92DD0AD2BE ),
		isCompleted = f6_local3.isOwned
	} )
	return f6_local0
end

local f0_local17 = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = f5_arg1.sectorIndex
	local f5_local1 = ItemDetailsUtils.LeftHeaderState.NONE
	if f5_local0 == BATTLEMAP.BLACK_CELL or f5_arg1.rewardType == BATTLEPASS.REWARD_TYPE.BLACKCELL then
		if f5_local1 == BATTLEMAP.RewardStates.CLAIMED then
			f5_local1 = ItemDetailsUtils.LeftHeaderState.BLACKCELL_CLAIMED
		else
			f5_local1 = ItemDetailsUtils.LeftHeaderState.BLACKCELL
		end
	elseif f5_local0 == BATTLEMAP.BONUS_SECTOR_INDEX then
		f5_local1 = ItemDetailsUtils.LeftHeaderState.INSTANT_REWARD
	elseif f5_local0 == BATTLEMAP.FINAL_SECTOR then
		f5_local1 = ItemDetailsUtils.LeftHeaderState.COMPLETION_REWARD
	elseif f5_arg1.isFree then
		f5_local1 = ItemDetailsUtils.LeftHeaderState.IS_FREE
	end
	return f5_local1
end

local f0_local18 = function ( f4_arg0, f4_arg1, f4_arg2 )
	local f4_local0 = ItemDetailsUtils[0x982E9B9FD9C37B8][0xC0D17BAD169557B]
	if f4_arg1 == BATTLEMAP.RewardStates.LOCKED then
		f4_local0 = ItemDetailsUtils[0x982E9B9FD9C37B8][0xA616BDFE454ECB3]
	elseif f4_arg1 == BATTLEMAP.RewardStates.PROGRESSING then
		f4_local0 = ItemDetailsUtils[0x982E9B9FD9C37B8][0xA616BDFE454ECB3]
	elseif f4_arg1 == BATTLEMAP.RewardStates.UNLOCKED then
		f4_local0 = ItemDetailsUtils[0x982E9B9FD9C37B8][0xA55E1714AECC27C]
	elseif WEAPON.IsVariant( f4_arg0, f4_arg2 ) then
		f4_local0 = ItemDetailsUtils[0x982E9B9FD9C37B8][0x7F2A8FDB358E5E0]
	end
	return f4_local0
end

local f0_local19 = function ( f3_arg0 )
	local f3_local0 = nil
	if f3_arg0 == BATTLEMAP.RewardStates.CLAIMED then
		f3_local0 = {
			itemState = ItemDetailsUtils[0x982E9B9FD9C37B8][0x7DBD78A7E35F70E],
			itemStateText = Engine[0xED84C33EC5F01EA]( 0xA5197E422EF0A7F )
		}
	end
	return f3_local0
end

BATTLEPASS.MobileGetBattlepassItemDetailsForReward = function ( f2_arg0, f2_arg1, f2_arg2, f2_arg3 )
	local f2_local0 = f2_arg1.lootID
	local f2_local1 = BATTLEMAP.MobileGetRewardState( f2_arg0, f2_arg3, f2_arg2 )
	local f2_local2 = f0_local0( f2_arg0, f2_arg1, f2_local1 )
	local f2_local3 = BATTLEPASS.MobileGetBattlepassHeaderTags( f2_arg0, f2_arg1, f2_arg3, f2_local2 )
	local f2_local4 = LOOT.GetTypeForID( f2_local0 )
	local f2_local5 = BATTLEMAP.GetRewardDetailsName( f2_arg0, f2_arg1 )
	local f2_local6 = LOOT.GetItemQualityWithID( f2_local4, f2_local0 )
	local f2_local7 = BATTLEPASS.MobileGetDetailsClaimRequirement( f2_arg0, f2_arg3, f2_arg2 )
	local f2_local8 = f0_local0( f2_arg0, f2_local1, f2_local0 )
	local f2_local9 = f0_local0( f2_local1 )
	local f2_local10 = f2_arg1.isUnlocked and f2_arg1.isOwned
	if f2_arg1.rewardType == BATTLEPASS.REWARD_TYPE.BLACKCELL then
		f2_local10 = BATTLEPASS.IsBlackCellOwned( f2_arg0, f2_arg3 )
	end
	return {
		isNameAlreadyLocalized = true,
		lootID = f2_local0,
		name = f2_local5,
		headerTags = f2_local3,
		itemQualityIndex = f2_local6,
		unlockConditions = f2_local7,
		isUnlocked = f2_local10,
		leftHeaderState = f2_local2,
		titleIconState = f2_local8,
		itemStateDetails = f2_local9
	}
end

BATTLEPASS.MobileSetupBattlepassMenu = function ( f1_arg0, f1_arg1, f1_arg2 )
	local f1_local0 = SEASON.GetCurrentSeason()
	local f1_local1 = BATTLEMAP.MobileGetProgressingRewardPosition( f1_arg1, f1_local0 )
	if f1_local1 == -1 then
		f1_local1 = 1
	else
		
	end
	f1_arg0.detailsDataSource = LUI.SetupDataSourceUpdate( f1_arg0, f1_arg1, "UpdateDetailsDataSources", "alwaysLoaded.menu.battlepass.details", BATTLEPASS.MobileGetBattlepassItemDetailsForReward( f1_arg1, BATTLEMAP.MobileGetRewardDataAtPosition( f1_arg1, f1_local0, f1_local1 ), f1_local1, f1_local0 ), ItemDetailsUtils.FormatDetailsDataTable, {
		rootField = "detailsDataSource",
		listHandlersData = ItemDetailsUtils.GetHeaderTagsDataSourcesListHandlers()
	} )
	ItemDetailsUtils.MobileSetMenuItemDetailsType( f1_arg0, ItemDetailsUtils[0x5ABE5FD362B0038][0x3BA59C00BAB023A] )
end

