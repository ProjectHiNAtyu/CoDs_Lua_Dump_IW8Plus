-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
PlayercardUtils = PlayercardUtils or {}
PlayercardUtils.PlayerCardModelPath = "social.playerCard"
PlayercardUtils.GetDataSources = function ( f3_arg0 )
	assert( f3_arg0 )
	local f3_local0 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".fullName" )
	local f3_local1 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".crossplayName" )
	local f3_local2 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".crossplayNameWithHash" )
	local f3_local3 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".platformName" )
	local f3_local4 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".platformNameWithHash" )
	local f3_local5 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".clanTag" )
	local f3_local6 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".clanTagType" )
	local f3_local7 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".prestige" )
	local f3_local8 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".rank" )
	local f3_local9 = LUI.AggregateDataSource.new( f3_local8, {
		f3_local8,
		f3_local7
	}, "rankIcon", Rank.MakeRankIconAggregateFunction( f3_local8, f3_local7 ) )
	local f3_local10 = LUI.AggregateDataSource.new( f3_local8, {
		f3_local8,
		f3_local7
	}, "display", Rank.MakeRankDisplayAggregateFunction( f3_local8, f3_local7, true ) )
	local f3_local11 = f3_local7:Filter( "isMasterPrestige", Rank.IsMasterPrestige )
	local f3_local12 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".customEmblemEquipped" )
	local f3_local13 = LUI.FilteredDataSource.new( LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".emblemIndex" ), "emblem", function ( f4_arg0, f4_arg1 )
		return EmblemEditorUtils.GetEmblemImageFromID( f4_arg0 )
	end )
	local f3_local14 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".backgroundIndex" )
	local f3_local15 = Engine[0x29DFACECF20DE0E]( f3_arg0 )
	local f3_local16 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".xuid", f3_local15 )
	f3_local16:SetValue( f3_arg0, f3_local15 )
	return {
		xuid = f3_local16,
		fullName = f3_local0,
		crossplayName = f3_local1,
		crossplayNameWithHash = f3_local2,
		platformName = f3_local3,
		platformNameWithHash = f3_local4,
		clanTag = f3_local5,
		clanTagType = f3_local6,
		displayRank = f3_local10,
		rankIcon = f3_local9,
		rank = f3_local8,
		isMasterPrestige = f3_local11,
		emblem = f3_local13,
		customEmblemEquipped = f3_local12,
		prestige = f3_local7,
		background = f3_local14
	}
end

PlayercardUtils.PlayerDataFromDataSource = function ( f2_arg0 )
	assert( f2_arg0, "Controller index not provided to PlayercardUtils.PlayerDataFromDataSource." )
	local f2_local0 = PlayercardUtils.GetDataSources( f2_arg0 )
	local f2_local1 = {}
	local f2_local2 = f2_local0.xuid
	local f2_local3 = assert
	local f2_local4
	if f2_local2 then
		f2_local4 = f2_local2
	else
		f2_local4 = type( f2_local2 ) == "table"
	end
	f2_local3( f2_local4 )
	f2_local1.xuid = f2_local2:GetValue( f2_arg0 )
	f2_local3 = f2_local0.fullName
	local f2_local5 = assert
	local f2_local6
	if f2_local3 then
		f2_local6 = f2_local3
	else
		f2_local6 = type( f2_local3 ) == "table"
	end
	f2_local5( f2_local6 )
	f2_local1.fullName = f2_local3:GetValue( f2_arg0 )
	f2_local5 = f2_local0.crossplayName
	f2_local4 = assert
	local f2_local7
	if f2_local5 then
		f2_local7 = f2_local5
	else
		f2_local7 = type( f2_local5 ) == "table"
	end
	f2_local4( f2_local7 )
	f2_local1.crossplayName = f2_local5:GetValue( f2_arg0 )
	f2_local4 = f2_local0.crossplayNameWithHash
	f2_local6 = assert
	local f2_local8
	if f2_local4 then
		f2_local8 = f2_local4
	else
		f2_local8 = type( f2_local4 ) == "table"
	end
	f2_local6( f2_local8 )
	f2_local1.crossplayNameWithHash = f2_local4:GetValue( f2_arg0 )
	f2_local6 = f2_local0.platformName
	f2_local7 = assert
	local f2_local9
	if f2_local6 then
		f2_local9 = f2_local6
	else
		f2_local9 = type( f2_local6 ) == "table"
	end
	f2_local7( f2_local9 )
	f2_local1.platformName = f2_local6:GetValue( f2_arg0 )
	f2_local7 = f2_local0.platformNameWithHash
	f2_local8 = assert
	local f2_local10
	if f2_local7 then
		f2_local10 = f2_local7
	else
		f2_local10 = type( f2_local7 ) == "table"
	end
	f2_local8( f2_local10 )
	f2_local1.platformNameWithHash = f2_local7:GetValue( f2_arg0 )
	f2_local8 = f2_local0.clanTag
	f2_local9 = assert
	local f2_local11
	if f2_local8 then
		f2_local11 = f2_local8
	else
		f2_local11 = type( f2_local8 ) == "table"
	end
	f2_local9( f2_local11 )
	f2_local1.clanTag = f2_local8:GetValue( f2_arg0 )
	f2_local9 = f2_local0.clanTagType
	f2_local10 = assert
	local f2_local12
	if f2_local9 then
		f2_local12 = f2_local9
	else
		f2_local12 = type( f2_local9 ) == "table"
	end
	f2_local10( f2_local12 )
	f2_local1.clanTagType = f2_local9:GetValue( f2_arg0 )
	f2_local10 = f2_local0.background
	f2_local11 = assert
	local f2_local13
	if f2_local10 then
		f2_local13 = f2_local10
	else
		f2_local13 = type( f2_local10 ) == "table"
	end
	f2_local11( f2_local13 )
	f2_local1.background = f2_local10:GetValue( f2_arg0 )
	f2_local11 = f2_local0.emblem
	f2_local12 = assert
	local f2_local14
	if f2_local11 then
		f2_local14 = f2_local11
	else
		f2_local14 = type( f2_local11 ) == "table"
	end
	f2_local12( f2_local14 )
	f2_local1.emblemMaterial = f2_local11:GetValue( f2_arg0 )
	f2_local12 = f2_local0.rank
	f2_local13 = assert
	local f2_local15
	if f2_local12 then
		f2_local15 = f2_local12
	else
		f2_local15 = type( f2_local12 ) == "table"
	end
	f2_local13( f2_local15 )
	f2_local1.rank = f2_local12:GetValue( f2_arg0, {
		defaultValue = 0
	} )
	f2_local13 = f2_local0.prestige
	f2_local14 = assert
	local f2_local16
	if f2_local13 then
		f2_local16 = f2_local13
	else
		f2_local16 = type( f2_local13 ) == "table"
	end
	f2_local14( f2_local16 )
	f2_local1.prestige = f2_local13:GetValue( f2_arg0, {
		defaultValue = 0
	} )
	f2_local1.clientPlatform = Engine[0x5AE97B58D7132F3]()
	f2_local1.presencePlatform = ClientPlatformToPresencePlatform[f2_local1.clientPlatform]
	if CONDITIONS.IsBattleNetSocial() then
		f2_local1.onlineStatus = Social[0xCF9F41416A7542]( Engine[0x29DFACECF20DE0E]( 0 ), true )
	else
		f2_local1.onlineStatus = BattleNetOnlineStatus.ONLINE
	end
	f2_local1.cardType = FRIENDS.ProfileCardType.YOU_TYPE
	f2_local1.isMyPlayer = true
	f2_local1.controllerIndex = f2_arg0
	return f2_local1
end

PlayercardUtils.SaveChanges = function ( f1_arg0 )
	Playercard[0xE7F7308D27872C9]( f1_arg0 )
end

