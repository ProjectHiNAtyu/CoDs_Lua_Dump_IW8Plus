-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 17-11-2025 01:22
STORE = STORE or {}
STORE.CODPointsCategory = "codpoints"
STORE.WZCODPointsCategory = "wzcodpoints"
STORE.TitlesCategory = "titles"
STORE.ZeusCategory = "zeus"
STORE.VanguardCategory = "vanguard"
STORE.CortezCategory = "cortez"
STORE.GameDLCCategory = "dlc"
STORE.CDLCategory = "CDL"
STORE.MiscCategory = "misc"
STORE.DATA_PACK_1_NAME = "dlc_dp1"
STORE.DATA_PACK_2_NAME = "dlc_dp2"
STORE.OPTIONAL_PACK_1_NAME = "dlc_optional1"
STORE.maxButtonsPerCategoryRow = 4
STORE.GameUpsellStandardID = "title_standard"
STORE.GameUpsellStandardIDSIEE = "title_standard_siee"
STORE.GameUpsellEnhancedID = "title_battlepass"
STORE.JustForYouCommsLocation = 14
STORE.GameUpsellIDs = {
	[STORE.GameUpsellStandardID] = 1,
	[STORE.GameUpsellStandardIDSIEE] = 2,
	[STORE.GameUpsellEnhancedID] = 3
}
STORE.ZeusTrialID = "title_zeus_trial"
STORE.ZeusTrialZMID = "title_zeus_trial_zm"
STORE.ZeusTrialEventID = "title_zeus_trial_event"
STORE.ZeusStandardID = "title_zeus_standard"
STORE.ZeusCrossGenID = "title_zeus_cross_gen"
STORE.ZeusUltimateID = "title_zeus_ultimate"
STORE.ZeusUltimateUpgradeID = "title_zeus_upgrade_standard_to_ultimate"
STORE.ZeusProductIDs = {
	[STORE.ZeusStandardID] = 1,
	[STORE.ZeusCrossGenID] = 2,
	[STORE.ZeusUltimateID] = 3
}
STORE.ZeusTrialProductIDs = {
	[STORE.ZeusTrialID] = 1,
	[STORE.ZeusTrialZMID] = 2,
	[STORE.ZeusTrialEventID] = 3
}
STORE.ZeusCategoryID = "zeus_preorder"
STORE.X2CategoryID = "x2_preorder"
STORE.CortezCategoryID = "cortez_preorder"
STORE.VanguardStandardID = "title_vanguard_standard"
STORE.VanguardCrossGenID = "title_vanguard_crossgen"
STORE.VanguardUltimateID = "title_vanguard_ultimate"
STORE.VanguardUpgradeToUltimateID = "title_vanguard_upgrade_standard_to_ultimate"
STORE.VanguardTrialID = "title_vanguard_trial"
STORE.VanguardProductIDs = {
	[STORE.VanguardStandardID] = 1,
	[STORE.VanguardCrossGenID] = 2,
	[STORE.VanguardUltimateID] = 3,
	[STORE.VanguardUpgradeToUltimateID] = 4,
	[STORE.VanguardTrialID] = 5
}
STORE.CortezEntryPointMenu = {
	FranchiseStore = "franchise store",
	FirstPartyBundle = "first party bundle",
	InGameStore = "in-game store",
	MainMenuBlades = "main menu blades"
}
STORE.CortezProductID = "franchise_mw2r"
STORE.CortezStandardID = "title_cortez_standard"
STORE.CortezAltID = "title_cortez_crossgen"
STORE.CortezVaultID = "title_cortez_ultimate"
STORE.CortezUpgradeToUltimateID = "title_cortez_upgrade_standard_to_ultimate"
STORE.CortezWarzone2ID = "title_cortez_wz2"
STORE.CortezProductIDs = {
	[STORE.CortezStandardID] = 1,
	[STORE.CortezAltID] = 2,
	[STORE.CortezVaultID] = 3,
	[STORE.CortezUpgradeToUltimateID] = 4,
	[STORE.CortezWarzone2ID] = 5
}
STORE.CODEID = "codepack"
STORE.CODE2ID = "codepack2"
STORE.CODE3ID = "codepack3"
STORE.HeadStartID = "headstartpack"
STORE.HeadStart7ID = "headstartpack7"
STORE.ProPackS02ID = "pro_pack_s02"
STORE.ProPackS04ID = "pro_pack_s04"
STORE.EliteProPack = "elite_pro_pack"
STORE.BundleIDBattlePass = 400049
STORE.BundleIDBattlePassBundle = 400050
STORE.KoreanTermsOfUseURL = "https://support.activision.com/servlet/servlet.FileDownload?retURL=%2Fapex%2Flicense&file=00P4P00001Ku2BoUAJ"
STORE.KoreanRefundPolicyURL = "https://support.activision.com/articles/ko/FAQ/Call-of-Duty-Modern-Warfare-Purchases"
STORE.ItemSaleIdOffset = 40000
STORE.SmartBundleIdOffset = 60000
STORE.PS4DLCOffset = 0
STORE.XB3DLCOffset = 1000
STORE.PCDLCOffset = 2000
STORE.TomogunchiCharmCollection = 400437
STORE.LimitedTimeWarningThreshold = 86400
STORE.ProductNoLongerAvailableError = 8003
STORE.SeasonTimestampMapping = {
	SEASON0_END = "1575396000",
	SEASON6_END = "1605636000",
	SEASON4_END = "1596607200",
	SEASON3_END = "1591855200",
	SEASON1_END = "1581444000",
	SEASON5_END = "1601359200",
	SEASON2_END = "1586325600"
}
STORE.CategoryType = {
	weapon = 4,
	cortez_preorder = 12,
	temp_category_2 = 7,
	operator = 3,
	just_for_you = 1,
	temp_category_5 = 10,
	featured = 2,
	franchise_store = 5,
	x2_preorder = 11,
	temp_category_3 = 8,
	zeus_preorder = 6,
	temp_category_4 = 9
}
STORE.TransactionResult = {
	TRANSACTION_FAILED = 3,
	TRANSACTION_CANCELLED = 2,
	TRANSACTION_SUCCEEDED = 1,
	TRANSACTION_UNKNOWN = 0
}
STORE.CratePopupType = {
	OPEN = 2,
	OPEN_FAIL = 3,
	PURCHASE_FAIL = 1,
	PURCHASE = 0
}
STORE.CratePopupInfo = {
	[STORE.CratePopupType.PURCHASE] = {
		title = Engine.CBBHFCGDIC( "LUA_MENU_MP/PURCHASE_TITLE" ),
		message = Engine.CBBHFCGDIC( "LUA_MENU_MP/PURCHASE" )
	},
	[STORE.CratePopupType.PURCHASE_FAIL] = {
		title = Engine.CBBHFCGDIC( "LUA_MENU_MP/PURCHASE_FAIL_TITLE" ),
		message = Engine.CBBHFCGDIC( "LUA_MENU_MP/PERCHASE_FAIL" )
	},
	[STORE.CratePopupType.OPEN] = {
		title = Engine.CBBHFCGDIC( "LUA_MENU_MP/OPEN_TITLE" ),
		message = Engine.CBBHFCGDIC( "LUA_MENU_MP/OPEN" )
	},
	[STORE.CratePopupType.OPEN_FAIL] = {
		title = Engine.CBBHFCGDIC( "LUA_MENU_MP/OPEN_FAIL_TITLE" ),
		message = Engine.CBBHFCGDIC( "LUA_MENU_MP/OPEN_FAIL" )
	}
}
STORE.GetStoreMenu = function ( f128_arg0 )
	if f128_arg0 then
		return "MainMenuStore"
	else
		local f128_local0
		if Engine.EAIICIFIFA() then
			f128_local0 = "CPStore"
		else
			f128_local0 = "MPStore"
		end
	end
	return f128_local0
end

STORE.CODPointBonuses = {
	codpoints5000 = 1000,
	codpoints1100 = -28,
	wzcodpoints2400 = 400,
	wzcodpoints21000 = 6000,
	wzcodpoints200 = 0,
	wzcodpoints500 = 0,
	codpoints2400 = 400,
	wzcodpoints13000 = 3000,
	wzcodpoints1100 = -28,
	wzcodpoints9500 = 2000,
	codpoints13000 = 3000,
	wzcodpoints5000 = 1000,
	codpoints9500 = 2000,
	codpoints500 = 0,
	codpoints200 = 0
}
STORE.CODPointBonusPercentage = {
	codpoints5000 = 25,
	codpoints1100 = 10,
	wzcodpoints2400 = 20,
	wzcodpoints21000 = 40,
	wzcodpoints200 = 0,
	wzcodpoints500 = 0,
	codpoints2400 = 20,
	wzcodpoints13000 = 30,
	wzcodpoints1100 = 10,
	wzcodpoints9500 = 26,
	codpoints13000 = 30,
	wzcodpoints5000 = 25,
	codpoints9500 = 26,
	codpoints500 = 0,
	codpoints200 = 0
}
STORE.FreeFirstPartyBundle = 400232
STORE.CODPointBtnImages = {
	codpoints9500 = "purchase_cod_points_button_bg_large",
	codpoints1100 = "purchase_cod_points_button_bg_large",
	codpoints13000 = "purchase_cod_points_button_bg_large",
	codpoints5000 = "purchase_cod_points_button_bg_med",
	codpoints500 = "purchase_cod_points_button_bg",
	codpoints2400 = "purchase_cod_points_button_bg_med",
	codpoints200 = "purchase_cod_points_button_bg"
}
STORE.TitleIDs = {
	PS4_STANDARD = 340031,
	BNET_STANDARD = 340019,
	BNET_BATTLE_PASS = 340023,
	XB3_STANDARD = 340034,
	XB3_BATTLE_PASS = 340036,
	PS4_BATTLE_PASS = 340033
}
STORE.ZeusTitleIDs = {
	ZEUS_STANDARD = 340057,
	ZEUS_ULTIMATE = 340058
}
STORE.VGPreOrderMastercraftRewardIDs = {
	Beta_Active = {
		PS = 18405251,
		PC = 29333943,
		XB = 27781229
	},
	Post_Beta = {
		PS = 18405251,
		PC = 29333943,
		XB = 27781229
	}
}
STORE.SENTINEL_ID_START = 33704432
STORE.SENTINEL_ID_END = 33724431
STORE.EnterStore = function ( f127_arg0, f127_arg1, f127_arg2, f127_arg3, f127_arg4, f127_arg5 )
	if not CONDITIONS.IsStoreAllowed() then
		return 
	elseif Engine.CIFGGDIGBE( f127_arg0 ) then
		LUI.FlowManager.RequestPopupMenu( nil, "generic_error_popup", false, nil, false, {
			message = Engine.CBBHFCGDIC( "PATCH_MENU/NO_GUEST" )
		}, nil, false, true )
	elseif Engine.GHHAJBJAE( f127_arg0 ) then
		LUI.FlowManager.RequestPopupMenu( nil, "generic_error_popup", false, nil, false, {
			message = Engine.CBBHFCGDIC( "XBOXLIVE/MPNOTALLOWED" )
		}, nil, false, true )
	elseif not Engine.BICHEEFHEC( f127_arg0 ) then
		LUI.FlowManager.RequestPopupMenu( nil, "generic_error_popup", false, nil, false, {
			message = Engine.CBBHFCGDIC( "PLATFORM/COMMERCE_NO_ONLINE_ERROR" )
		}, nil, false, true )
	elseif CONDITIONS.IsTrialLicense() then
		if CONDITIONS.IsPS4() then
			Commerce.DAGIHHFJIJ( f127_arg0 )
		elseif CONDITIONS.IsXboxOne() then
			LUI.FlowManager.RequestPopupMenu( nil, "ShowUpsellXboxStore", false, nil, false, {}, nil, false, true )
		end
	else
		InGameStore.FetchCatalog( f127_arg0, true, true )
		if f127_arg5 then
			LUI.FlowManager.RequestPopupMenu( nil, f127_arg4, true, f127_arg0, false, f127_arg3 )
		else
			LUI.FlowManager.RequestAddMenu( f127_arg4, true, f127_arg0, false, f127_arg3 )
		end
		local f127_local0 = Engine.BACIFDBICF
		local f127_local1 = f127_arg0
		local f127_local2
		if not f127_arg1 then
			f127_local2 = f127_arg1
		else
			f127_local2 = "None"
		end
		local f127_local3
		if not f127_arg2 then
			f127_local3 = f127_arg2
		else
			f127_local3 = "None"
		end
		f127_local0( f127_local1, f127_local2, f127_local3 )
	end
end

STORE.CheckForPersonalRecommendations = function ( f123_arg0 )
	local f123_local0 = function ( f126_arg0 )
		if Dvar.IBEGCHEFE( "LROPKRSOL" ) then
			local f126_local0 = Store.DAEDJJBGDB( STORE.JustForYouCommsLocation )
			local f126_local1 = f126_arg0
			local f126_local2 = {}
			for f126_local3 = 1, #f126_local1, 1 do
				local f126_local6 = f126_local1[f126_local3]
				local f126_local7 = os.time( os.date( "!*t" ) )
				if f126_local0[f126_local6] and f126_local0[f126_local6].saleStart < f126_local7 and f126_local7 < f126_local0[f126_local6].saleEnd then
					table.insert( f126_local2, f126_local6 )
				end
			end
			return f126_local2
		else
			return f126_arg0
		end
	end
	
	local f123_local1 = function ( f125_arg0 )
		local f125_local0 = f125_arg0
		local f125_local1 = {}
		for f125_local2 = 1, #f125_local0, 1 do
			if not STORE.IsBundleOwned( f123_arg0, tonumber( f125_local0[f125_local2] ) ) then
				table.insert( f125_local1, f125_local0[f125_local2] )
			end
		end
		return f125_local1
	end
	
	local f123_local2 = function ( f124_arg0 )
		local f124_local0 = {}
		local f124_local1 = Dvar.BJJCJHDBII( "OMTLRQOPLK" )
		local f124_local2 = Engine.DDHICDBBDI()
		math.randomseed( f124_local2.day )
		for f124_local3 = 1, #f124_arg0, 1 do
			if f124_local1 < math.random() then
				table.insert( f124_local0, f124_arg0[f124_local3] )
			end
		end
		return f124_local0
	end
	
	local f123_local3 = Store.JGBAJAECG( STORE.JustForYouCommsLocation )
	local f123_local4 = {}
	if f123_local3 and 1 < #f123_local3 then
		local f123_local5 = nil
		if not CONDITIONS.IsMagmaGameMode() then
			local f123_local6 = Dvar.DHEEJCCJBH( "MOLOQRLLQK" )
			if not f123_local6 then
				f123_local5 = f123_local6
			else
				f123_local5 = ""
			end
		else
			local f123_local6 = Dvar.DHEEJCCJBH( "LSLPPRMTLR" )
			if not f123_local6 then
				f123_local5 = f123_local6
			else
				f123_local5 = ""
			end
		end
		f123_local4 = f123_local1( STORE.TrimRecommendationsByBlacklistedItems( f123_local0( split( table.concat( f123_local2( split( f123_local5, "," ) ), "," ) .. "," .. f123_local3, "," ) ) ) )
	end
	if f123_local4 and 0 < #f123_local4 then
		return table.concat( f123_local4, "," )
	else
		
	end
end

STORE.TrimRecommendationsByBlacklistedItems = function ( f122_arg0 )
	local f122_local0 = nil
	if not CONDITIONS.IsMagmaGameMode() then
		local f122_local1 = Dvar.DHEEJCCJBH( "ROTRKSQNT" )
		if not f122_local1 then
			f122_local0 = f122_local1
		else
			f122_local0 = ""
		end
	else
		local f122_local1 = Dvar.DHEEJCCJBH( "LQNLSMLQTS" )
		if not f122_local1 then
			f122_local0 = f122_local1
		else
			f122_local0 = ""
		end
	end
	local f122_local1 = split( f122_local0, "," )
	local f122_local2 = {}
	if f122_local1 and 0 < #f122_local1 then
		for f122_local3 = 1, #f122_local1, 1 do
			local f122_local6 = f122_local1[f122_local3]
			f122_local2[f122_local6] = f122_local6
		end
		local f122_local3 = f122_arg0
		local f122_local4 = {}
		for f122_local5 = 1, #f122_local3, 1 do
			local f122_local8 = f122_local3[f122_local5]
			if not f122_local2[f122_local8] then
				table.insert( f122_local4, f122_local8 )
			end
		end
		return f122_local4
	else
		return f122_arg0
	end
end

STORE.IsCatalogReady = function ( f121_arg0 )
	return InGameStore.GetCatalogStatus( f121_arg0 ) == InGameStoreCatalogStatus.READY
end

STORE.FormatRecommendationItems = function ( f120_arg0 )
	assert( f120_arg0 )
	if not f120_arg0 then
		f120_arg0 = ""
	end
	local f120_local0 = split( f120_arg0, "," )
	local f120_local1 = {}
	local f120_local2 = {}
	for f120_local3 = 1, #f120_local0, 1 do
		local f120_local6 = f120_local0[f120_local3]
		if not f120_local1[f120_local6] then
			f120_local1[f120_local6] = f120_local6
			table.insert( f120_local2, f120_local6 )
		end
	end
	if Dvar.IBEGCHEFE( "OKKOKTLTP" ) then
		local f120_local4 = Engine.DDHICDBBDI()
		math.randomseed( f120_local4.day )
		if 0 < #f120_local2 then
			
		else
			
		end
	end
	return table.concat( f120_local2, "," )
end

STORE.IsGameUpsellProduct = function ( f119_arg0 )
	return STORE.GameUpsellIDs[f119_arg0] ~= nil
end

STORE.GetGameUpsellProducts = function ( f118_arg0 )
	local f118_local0 = {}
	if STORE.IsCatalogReady( f118_arg0 ) then
		local f118_local1 = InGameStore.GetCategoryProducts( f118_arg0, STORE.TitlesCategory )
		if f118_local1 and 0 < #f118_local1 then
			for f118_local5, f118_local6 in ipairs( f118_local1 ) do
				if STORE.IsGameUpsellProduct( f118_local6.productId ) then
					table.insert( f118_local0, f118_local6 )
				end
			end
		end
	end
	return f118_local0
end

STORE.HasSeenItem = function ( f117_arg0, f117_arg1 )
	return Loot.HDJCADADF( f117_arg0, f117_arg1 )
end

STORE.MarkItemSeen = function ( f116_arg0, f116_arg1 )
	return Loot.DAGICBIGDH( f116_arg0, f116_arg1 )
end

STORE.AreAnyBundlesNew = function ( f115_arg0, f115_arg1 )
	if f115_arg1 then
		for f115_local3, f115_local4 in pairs( f115_arg1 ) do
			if not STORE.HasSeenItem( f115_arg0, f115_local4.bundleID ) then
				return true
			end
		end
	end
	return false
end

STORE.GetSmartBundleID = function ( f114_arg0 )
	return tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f114_arg0, CSV.bundleIDs.cols.smartID ) )
end

STORE.GetSaleBundleID = function ( f113_arg0 )
	return tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f113_arg0, CSV.bundleIDs.cols.saleID ) )
end

STORE.GetBundlePurchaseID = function ( f112_arg0, f112_arg1 )
	local f112_local0 = STORE.GetSmartBundleID( f112_arg1 )
	if STORE.IsItemOnSale( f112_arg1, f112_arg0 ) then
		return STORE.GetSaleBundleID( f112_arg1 )
	elseif f112_local0 and 0 < Loot.DEBEIFJEEG( f112_arg0, f112_local0 ) then
		return f112_arg1 + STORE.SmartBundleIdOffset
	else
		return f112_arg1
	end
end

STORE.GetBundleCost = function ( f111_arg0, f111_arg1 )
	local f111_local0 = tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f111_arg1, CSV.bundleIDs.cols.currencyAmount ) )
	local f111_local1 = nil
	local f111_local2 = STORE.GetSmartBundleID( f111_arg1 )
	if STORE.IsItemOnSale( f111_arg1, f111_arg0 ) then
		f111_local1 = tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f111_arg1, CSV.bundleIDs.cols.saleCurrencyAmount ) )
	elseif f111_local2 and 0 < Loot.DEBEIFJEEG( f111_arg0, f111_local2 ) then
		f111_local1 = tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f111_arg1, CSV.bundleIDs.cols.smartCost ) )
	end
	return f111_local0, f111_local1
end

STORE.CategoryHasNewItems = function ( f110_arg0, f110_arg1 )
	assert( f110_arg0 )
	assert( f110_arg1 )
	f110_arg1.items = f110_arg1.items or {}
	local f110_local0 = f110_arg1.items and f110_arg1.items[1] or {}
	if f110_local0.emptyCategory then
		return false
	elseif f110_arg1.idPubVar and f110_local0.layoutOnlyItem then
		local f110_local1 = STORE.GetCategoryItemIDs( f110_arg0, f110_arg1 )
		local f110_local2 = 0
		for f110_local3 = 1, #f110_local1, 1 do
			local f110_local6 = f110_local1[f110_local3]
			if STORE.BundleAvailable( f110_arg0, f110_local6 ) then
				f110_local2 = f110_local2 + 1
				if not STORE.HasSeenItem( f110_arg0, f110_local6 ) then
					return true
				end
			end
			if f110_local2 == f110_arg1.numItemsShown then
				break
			end
		end
	end
	return false
end

STORE.CategoryHasLimitedTimeItems = function ( f109_arg0, f109_arg1 )
	assert( f109_arg0 )
	assert( f109_arg1 )
	f109_arg1.items = f109_arg1.items or {}
	local f109_local0 = f109_arg1.items and f109_arg1.items[1] or {}
	if f109_local0.emptyCategory then
		return nil
	elseif f109_arg1.idPubVar and f109_local0.layoutOnlyItem then
		local f109_local1 = STORE.GetCategoryItemIDs( f109_arg0, f109_arg1 )
		local f109_local2 = 0
		for f109_local3 = 1, #f109_local1, 1 do
			local f109_local6 = f109_local1[f109_local3]
			if STORE.BundleAvailable( f109_arg0, f109_local6 ) then
				local f109_local7 = CSV.ReadRow( {
					file = CSV.bundleIDs.file,
					cols = CSV.bundleIDs.cols
				}, StringTable.BJJBBCJGEJ( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f109_local1[f109_local3] ) )
				if f109_local7.isBattlePassBundle ~= "1" and Dvar.IBEGCHEFE( "NPQPKPKRTL" ) then
					if f109_local7.purchaseEnd == "" or not f109_local7.purchaseEnd then
						if STORE.IsItemOnSale( f109_local6 ) then
							local f109_local8 = STORE.GetSaleTimer()
							local f109_local9 = STORE.GetSaleTimer()
						end
						local f109_local10 = nil
					end
					local f109_local11 = f109_local8 and f109_local9 or f109_local10
					if f109_local11 and STORE.SeasonTimestampMapping[f109_local11] then
						f109_local11 = STORE.SeasonTimestampMapping[f109_local11]
					end
					if f109_local6 == tonumber( BATTLEPASS.GetTierSkipGiftID() ) and BATTLEPASS.IsTierSkipGiftActive( f109_arg0 ) then
						f109_local11 = BATTLEPASS.GetTierSkipGiftTimer()
					end
					local f109_local12, f109_local13, f109_local14 = STORE.GetCategoryTimeLeft( nil, f109_local11 )
					if not f109_local11 then
						f109_local2 = f109_local2 + 1
					elseif 0 < f109_local12 then
						return f109_local11
					end
				end
			end
			if f109_local2 == f109_arg1.numItemsShown then
				break
			end
		end
	end
	return nil
end

STORE.HasNewAndFreeAndLimitedTimeItems = function ( f108_arg0 )
	assert( f108_arg0 )
	local f108_local0 = STORE.GetCategoryData( f108_arg0 )
	local f108_local1 = false
	local f108_local2 = false
	local f108_local3 = nil
	if f108_local0 == nil then
		return f108_local1, f108_local2, limmitedTimeItem
	end
	for f108_local4 = 1, #f108_local0, 1 do
		local f108_local7 = f108_local0[f108_local4]
		if f108_local7 then
			f108_local7.items = f108_local7.items or {}
			local f108_local8 = STORE.CategoryHasNewItems( f108_arg0, f108_local7 ) or false
			local f108_local9 = STORE.CategoryHasFreeItems( f108_arg0, f108_local7 ) or false
			if not f108_local3 then
				f108_local3 = STORE.CategoryHasLimitedTimeItems( f108_arg0, f108_local7 )
			end
			if f108_local8 then
				f108_local1 = true
			end
			if f108_local9 then
				f108_local2 = true
			end
			if f108_local1 and f108_local2 and f108_local3 then
				break
			end
		end
	end
	return f108_local1, f108_local2, f108_local3
end

STORE.HasFreeItems = function ( f107_arg0 )
	assert( f107_arg0 )
	local f107_local0 = STORE.GetCategoryData( f107_arg0 )
	if f107_local0 == nil then
		return false
	end
	for f107_local1 = 1, #f107_local0, 1 do
		local f107_local4 = f107_local0[f107_local1]
		f107_local4.items = f107_local4.items or {}
		if STORE.CategoryHasFreeItems( f107_arg0, f107_local4 ) then
			return true
		end
	end
	return false
end

STORE.CategoryHasFreeItems = function ( f106_arg0, f106_arg1 )
	assert( f106_arg0 )
	assert( f106_arg1 )
	f106_arg1.items = f106_arg1.items or {}
	local f106_local0 = f106_arg1.items and f106_arg1.items[1] or {}
	if f106_local0.emptyCategory then
		return false
	elseif f106_arg1.idPubVar and f106_local0.layoutOnlyItem then
		local f106_local1 = STORE.GetCategoryItemIDs( f106_arg0, f106_arg1 )
		local f106_local2 = 0
		for f106_local3 = 1, #f106_local1, 1 do
			local f106_local6 = f106_local1[f106_local3]
			if STORE.BundleAvailable( f106_arg0, f106_local6 ) then
				f106_local2 = f106_local2 + 1
				if tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f106_local6, CSV.bundleIDs.cols.currencyAmount ) ) == 0 then
					return true
				elseif STORE.IsItemOnSale( f106_local6, f106_arg0 ) and tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f106_local6, CSV.bundleIDs.cols.saleCurrencyAmount ) ) == 0 then
					return true
				end
			end
			if f106_local2 == f106_arg1.numItemsShown then
				break
			end
		end
	end
	return false
end

STORE.HasNewItems = function ( f105_arg0 )
	assert( f105_arg0 )
	local f105_local0 = STORE.GetCategoryData( f105_arg0 )
	if f105_local0 == nil then
		return false
	end
	for f105_local1 = 1, #f105_local0, 1 do
		local f105_local4 = f105_local0[f105_local1]
		f105_local4.items = f105_local4.items or {}
		if STORE.CategoryHasNewItems( f105_arg0, f105_local4 ) then
			return true
		end
	end
	return false
end

STORE.SetupGameExclusiveStatusOfBundle = function ( f104_arg0, f104_arg1 )
	f104_arg1.doesBundleHave1ExclusiveItem = false
	f104_arg1.bundleExclusivity = LOOT.itemSourceExclusivity.NONE
	for f104_local0 = 1, #f104_arg0, 1 do
		local f104_local3 = tonumber( f104_arg0[f104_local0] )
		if not (0 < #StringTable.DIFCHIGDFB( CSV.snipeIgnoreIDs.file, CSV.snipeIgnoreIDs.cols.id, f104_local3, CSV.snipeIgnoreIDs.cols.ref )) then
			local f104_local4 = LOOT.GetGameSourceExclusivityByItemID( f104_local3 )
			if f104_local4 ~= LOOT.itemSourceExclusivity.NONE then
				if LOOT.IsItemSourceExclusive( f104_local4 ) then
					if f104_arg1.bundleExclusivity == LOOT.itemSourceExclusivity.NONE or LOOT.IsItemSubExclusivity( f104_local4, f104_arg1.bundleExclusivity ) then
						f104_arg1.bundleExclusivity = f104_local4
					end
					f104_arg1.doesBundleHave1ExclusiveItem = true
				end
				f104_arg1.bundleExclusivity = f104_local4
			end
		end
	end
end

STORE.GetCategoryIndex = function ( f103_arg0, f103_arg1 )
	assert( f103_arg0 )
	local f103_local0 = STORE.GetCategoryData( f103_arg0 )
	if f103_local0 == nil then
		return nil
	end
	for f103_local1 = 1, #f103_local0, 1 do
		local f103_local4 = f103_local0[f103_local1]
		if f103_local4.id and 0 < #f103_local4.id and (f103_local4.id == f103_arg1 or f103_arg1 == "") then
			return f103_local1
		end
	end
end

STORE.GetIndexForBundle = function ( f102_arg0, f102_arg1, f102_arg2 )
	if not f102_arg2 then
		f102_arg2 = STORE.GetCategoryData( f102_arg1 )
		if f102_arg2 == nil then
			return nil
		end
	end
	for f102_local0 = 1, #f102_arg2, 1 do
		local f102_local3 = f102_arg2[f102_local0]
		assert( f102_local3, "categoryData is nil at categoryIndex " .. f102_local0 .. " in STORE.GetIndexForBundle()" )
		if f102_local3 and f102_local3.idPubVar then
			local f102_local4 = STORE.GetCategoryItemIDs( f102_arg1, f102_local3 )
			local f102_local5 = 0
			for f102_local6 = 1, #f102_local4, 1 do
				local f102_local9 = f102_local4[f102_local6]
				if STORE.BundleAvailable( f102_arg1, f102_local9 ) then
					f102_local5 = f102_local5 + 1
					if f102_local9 == tonumber( f102_arg0 ) then
						return f102_local0, f102_local5
					end
				end
				if f102_local5 == f102_local3.numItemsShown then
					
				end
			end
		end
	end
end

STORE.GetDLCID = function ( f101_arg0 )
	local f101_local0 = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f101_arg0, CSV.bundleIDs.cols.dlcRef )
	if #f101_local0 == 0 then
		return 
	else
		local f101_local1 = tonumber( StringTable.DIFCHIGDFB( CSV.dlcIDs.file, CSV.dlcIDs.cols.name, f101_local0, CSV.dlcIDs.cols.id ) )
		if not f101_local1 then
			return 
		elseif CONDITIONS.IsPS4() then
			return f101_local1 + STORE.PS4DLCOffset
		elseif CONDITIONS.IsXboxOne() then
			return f101_local1 + STORE.XB3DLCOffset
		elseif CONDITIONS.IsPC() then
			return f101_local1 + STORE.PCDLCOffset
		else
			
		end
	end
end

STORE.GetNumItemsInBundle = function ( f100_arg0 )
	return tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f100_arg0, CSV.bundleIDs.cols.numItems ) )
end

STORE.StripPlatformSuffix = function ( f99_arg0 )
	if f99_arg0:sub( -3 ) == "_pc" then
		f99_arg0 = f99_arg0:sub( 1, -4 )
	elseif f99_arg0:sub( -4 ) == "_ps4" then
		f99_arg0 = f99_arg0:sub( 1, -5 )
	elseif f99_arg0:sub( -4 ) == "_xb3" then
		f99_arg0 = f99_arg0:sub( 1, -5 )
	elseif f99_arg0:sub( -4 ) == "_bnet" then
		f99_arg0 = f99_arg0:sub( 1, -5 )
	elseif f99_arg0:sub( -4 ) == "_psn" then
		f99_arg0 = f99_arg0:sub( 1, -5 )
	elseif f99_arg0:sub( -4 ) == "_xbl" then
		f99_arg0 = f99_arg0:sub( 1, -5 )
	end
	return f99_arg0
end

STORE.GetFirstPartyBundleData = function ( f97_arg0, f97_arg1, f97_arg2 )
	if not f97_arg1 or not f97_arg2 then
		assert( f97_arg1 )
		assert( f97_arg2 )
	end
	if not STORE.IsCatalogReady( f97_arg0 ) then
		assert( false, "Catalog has not been fetched." )
	end
	local f97_local0 = InGameStore.GetProduct( f97_arg0, f97_arg2 )
	if not f97_local0 then
		f97_arg2 = STORE.StripPlatformSuffix( f97_arg2 )
		f97_local0 = InGameStore.GetProduct( f97_arg0, f97_arg2 )
		if not f97_local0 then
			if not Dvar.IBEGCHEFE( "LMKNLPNKTM" ) then
				assert( f97_local0, "No data found for product ID, " .. f97_arg2 )
			end
		end
	end
	return {
		isFirstParty = true,
		bundleID = tonumber( f97_arg1 ),
		price = f97_local0.price,
		owned = f97_local0.status ~= InGameStoreProductStatus.NOT_OWNED,
		firstPartyPurchase = function ()
			LUI.FlowManager.RequestPopupMenu( nil, "ItemExchangeFencePopup", true, f97_arg0, false, {
				controllerIndex = f97_arg0,
				message = Engine.CBBHFCGDIC( "LUA_MENU_MP/PURCHASING_DLC" )
			} )
			InGameStore.SelectProduct( f97_arg0, f97_arg0, InGameStorePurchaseType.BROWSE )
		end
		
	}
end

STORE.GetFirstPartyProductID = function ( f96_arg0 )
	local f96_local0 = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f96_arg0, CSV.bundleIDs.cols.firstPartyProductID )
	if (f96_local0:sub( -3 ) == "_pc" or f96_local0:sub( -4 ) == "_bnet") and not Engine.CGABICJHAI() then
		return 
	elseif (f96_local0:sub( -4 ) == "_ps4" or f96_local0:sub( -4 ) == "_psn") and not Engine.CIEGIACHAE() then
		return 
	elseif (f96_local0:sub( -4 ) == "_xb3" or f96_local0:sub( -4 ) == "_xbl") and not Engine.BAHIIBFDDG() then
		return 
	else
		return STORE.StripPlatformSuffix( f96_local0 )
	end
end

STORE.IsFirstPartyBundle = function ( f95_arg0 )
	assert( f95_arg0 )
	if not f95_arg0 then
		return 
	end
	local f95_local0 = STORE.GetFirstPartyProductID( f95_arg0 )
	local f95_local1
	if f95_local0 then
		f95_local1 = f95_local0
	else
		f95_local1 = 0 < #f95_local0
	end
	return f95_local1
end

STORE.IsGameUpsellBundle = function ( f94_arg0 )
	assert( f94_arg0 )
	if not f94_arg0 then
		return 
	end
	local f94_local0 = STORE.GetFirstPartyProductID( f94_arg0 )
	local f94_local1
	if f94_local0 ~= STORE.GameUpsellStandardID and f94_local0 ~= STORE.GameUpsellStandardIDSIEE and f94_local0 ~= STORE.GameUpsellEnhancedID then
		f94_local1 = false
	else
		f94_local1 = true
	end
	return f94_local1
end

STORE.IsZeusBundle = function ( f93_arg0 )
	assert( f93_arg0 )
	if not f93_arg0 then
		return 
	end
	local f93_local0 = STORE.GetFirstPartyProductID( f93_arg0 )
	local f93_local1
	if f93_local0 ~= STORE.ZeusStandardID and f93_local0 ~= STORE.ZeusCrossGenID and f93_local0 ~= STORE.ZeusUltimateID then
		f93_local1 = false
	else
		f93_local1 = true
	end
	return f93_local1
end

STORE.IsBundleOwned = function ( f92_arg0, f92_arg1 )
	if StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f92_arg1, CSV.bundleIDs.cols.game ) == "s4" then
		local f92_local0 = nil
		local f92_local1 = tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f92_arg1, CSV.bundleIDs.cols.numHiddenItems ) )
		if f92_local1 then
			for f92_local2 = 0, f92_local1 - 1, 1 do
				local f92_local5 = tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f92_arg1, CSV.bundleIDs.cols.hiddenItem1 + f92_local2 ) )
				if f92_local5 and f92_local5 >= STORE.SENTINEL_ID_START and f92_local5 <= STORE.SENTINEL_ID_END then
					f92_local0 = f92_local5
					break
				end
			end
		end
		if f92_local0 and 0 < Loot.DEBEIFJEEG( f92_arg0, f92_local0 ) then
			return true
		end
	elseif 0 < Loot.DEBEIFJEEG( f92_arg0, f92_arg1 ) then
		return true
	end
	return false
end

STORE.BundleAvailable = function ( f91_arg0, f91_arg1 )
	f91_arg1 = tonumber( f91_arg1 )
	if not f91_arg1 then
		return false
	elseif Dvar.IBEGCHEFE( "LMKNLPNKTM" ) then
		return true
	elseif STORE.IsBundleBlacklisted( f91_arg1 ) then
		return false
	elseif STORE.IsGameUpsellBundle( f91_arg1 ) then
		return not Engine.CFHBIHABCB( f91_arg0 )
	elseif STORE.IsBundleOwned( f91_arg0, f91_arg1 ) then
		return false
	end
	local f91_local0 = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f91_arg1, CSV.bundleIDs.cols.oldBundleOwnershipID )
	if f91_local0 and 0 < #f91_local0 and Loot.DEBEIFJEEG( f91_arg0, tonumber( f91_local0 ) ) then
		return false
	end
	local f91_local1 = STORE.GetFirstPartyProductID( f91_arg1 )
	if f91_local1 == nil then
		return false
	elseif f91_local1 and 0 < #f91_local1 then
		if STORE.IsCatalogReady( f91_arg0 ) then
			local f91_local2 = InGameStore.GetProduct( f91_arg0, f91_local1 )
			if not f91_local2 or f91_local2.status ~= InGameStoreProductStatus.NOT_OWNED then
				return false
			end
		else
			return false
		end
	end
	local f91_local2 = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f91_arg1, CSV.bundleIDs.cols.battlePassID )
	if 0 < #f91_local2 then
		local f91_local3 = tonumber( BATTLEPASS.GetTierFromID( f91_arg0, f91_local2 ) )
		if f91_local3 < tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f91_arg1, CSV.bundleIDs.cols.minTierInclude ) ) or tonumber( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f91_arg1, CSV.bundleIDs.cols.maxTierInclude ) ) < f91_local3 then
			return false
		end
	end
	if StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f91_arg1, CSV.bundleIDs.cols.isBattlePassBundle ) == "1" then
		local f91_local4 = tonumber( BATTLEPASS.GetTierSkipGiftID() )
		local f91_local5 = BATTLEPASS.IsOwned( f91_arg0 )
		local f91_local6, f91_local7 = BATTLEPASS.IsPendingTransactions( f91_arg0 )
		local f91_local8 = LOOT.GetBundleItemsMappedByType( f91_arg1 )
		local f91_local9 = f91_local8[LOOT.itemTypes.BATTLE_PASS]
		local f91_local10 = 0
		local f91_local11 = false
		if f91_arg1 == f91_local4 and not BATTLEPASS.IsTierSkipGiftActive( f91_arg0 ) then
			return false
		elseif f91_local9 then
			for f91_local12 = 1, #f91_local9, 1 do
				local f91_local15 = LOOT.GetItemRef( LOOT.itemTypes.BATTLE_PASS, f91_local9[f91_local12] )
				local f91_local16 = tonumber( BATTLEPASS.GetItemType( f91_local15 ) )
				if f91_local16 == BATTLEPASS.ItemTypes.PREMIUM or f91_local16 == BATTLEPASS.ItemTypes.BUNDLE then
					f91_local11 = true
					if f91_local5 or f91_local6 then
						return false
					end
				end
				if f91_local16 == BATTLEPASS.ItemTypes.TIER_SKIP or f91_local16 == BATTLEPASS.ItemTypes.BUNDLE then
					f91_local10 = f91_local10 + BATTLEPASS.GetNumSkipsInBundle( f91_local15 )
				end
			end
		end
		if not f91_local5 and not f91_local11 then
			return false
		end
	end
	return true
end

STORE.PreviewReward = function ( f90_arg0, f90_arg1, f90_arg2 )
	if not f90_arg2 or type( f90_arg2 ) ~= "table" or not f90_arg2.previewData or not f90_arg2.previewIndex then
		assert( false, "You must provide a table of options containing the preview data and the preview index." )
	end
	local f90_local0 = f90_arg2.previewData
	if STORE.PreviewSupported( f90_local0.type ) then
		if f90_arg0 then
			local f90_local1 = LUI.FlowManager.GetScopedData( f90_arg0 )
			if f90_local1 then
				f90_local1.focussedMissionIndex = f90_arg2.previewIndex
			end
		end
		STORE.PreviewItem( f90_arg1, f90_local0.type, f90_local0.itemID )
		if f90_arg2.playDefaultSound then
			Engine.BJDBIAGIDA( SOUND_SETS.default.menuDecode )
		end
	end
end

STORE.GoToStore = function ( f89_arg0, f89_arg1, f89_arg2, f89_arg3, f89_arg4 )
	local f89_local0 = nil
	if f89_arg3 then
		f89_local0 = {
			defaultItem = f89_arg3,
			andPurchase = f89_arg4
		}
	end
	STORE.EnterStore( f89_arg0, f89_arg1, f89_arg2, f89_local0, STORE.GetStoreMenu( false ), false )
end

STORE.GoToStoreFromMainMenu = function ( f88_arg0, f88_arg1, f88_arg2 )
	STORE.EnterStore( f88_arg0, f88_arg1, f88_arg2, {
		fromMainMenu = true
	}, STORE.GetStoreMenu( true ), false )
end

STORE.GoToCODPointsOnlyStore = function ( f87_arg0, f87_arg1, f87_arg2 )
	STORE.EnterStore( f87_arg0, f87_arg1, f87_arg2, {
		onlyCODPoints = true
	}, STORE.GetStoreMenu( false ), false )
end

STORE.GetStoreDescription = function ()
	return CONDITIONS.AreCODPointsEnabled() and Engine.CBBHFCGDIC( "LUA_MENU/STORE_DESC" ) or Engine.CBBHFCGDIC( "LUA_MENU/STORE_DESC_NO_COD_POINTS" )
end

STORE.GetBundleFeatureText = function ( f85_arg0 )
	return StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f85_arg0, CSV.bundleIDs.cols.featureText )
end

STORE.GetBundleDescription = function ( f84_arg0, f84_arg1 )
	local f84_local0 = nil
	local f84_local1 = false
	local f84_local2 = nil
	if CONDITIONS.IsLateGrindersEnabled() then
		f84_local1 = f84_arg1 >= BATTLEPASS.START_TO_SHOW_COD_POINTS
		if f84_local1 then
			f84_local2 = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f84_arg0, CSV.bundleIDs.cols.isBattlePassBundle )
		end
	end
	if f84_local1 and f84_local2 and STORE.BundleContainsBattlePass( f84_arg0 ) then
		local f84_local3 = SEASON.GetCurrentSeasonDataNum()
		f84_local0 = Engine.CBBHFCGDIC( "BATTLEPASS/LATE_GRINDER_DESCRIPTION", SEASON.GetLocalizedName( {
			seasonDataNumToUse = f84_local3
		} ), SEASON.GetLocalizedName( {
			seasonDataNumToUse = f84_local3 + 1
		} ) )
	else
		f84_local0 = Engine.CBBHFCGDIC( StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f84_arg0, CSV.bundleIDs.cols.description ) )
	end
	if not Engine.CIDEADAABH() and STORE.BundleContainsDismemberment( f84_arg0 ) then
		f84_local0 = f84_local0 .. " " .. Engine.CBBHFCGDIC( "LUA_MENU/DISMEMBERMENT_REGION_LOCK_WARNING" )
	end
	if STORE.BundleContainsDismembermentGesture( f84_arg0 ) then
		f84_local0 = f84_local0 .. " " .. Engine.CBBHFCGDIC( "LUA_MENU/DISMEMBERMENT_GESTURE_REGION_LOCK_WARNING" )
	end
	return f84_local0
end

STORE.BundleContainsDismemberment = function ( f83_arg0 )
	local f83_local0 = LOOT.GetBundleItemsMappedByType( f83_arg0 )
	f83_local0 = f83_local0[LOOT.itemTypes.WEAPON]
	if f83_local0 and 0 < #f83_local0 then
		for f83_local1 = 1, #f83_local0, 1 do
			if WEAPON.GetDismembermentType( WEAPON.GenerateWeaponTableFromID( controllerIndex, f83_local0[f83_local1] ) ) then
				return true
			end
		end
	end
	return false
end

STORE.BundleContainsDismembermentGesture = function ( f82_arg0 )
	local f82_local0 = LOOT.GetBundleItemsMappedByType( f82_arg0 )
	f82_local0 = f82_local0[LOOT.itemTypes.GESTURES]
	if f82_local0 and 0 < #f82_local0 then
		for f82_local1 = 1, #f82_local0, 1 do
			local f82_local4 = LOOT.GetItemRef( LOOT.itemTypes.GESTURES, f82_local0[f82_local1] )
			if Engine.FABABBDBA() and f82_local4 and f82_local4 == "gesture049" then
				return true
			end
		end
	end
	return false
end

STORE.GetCategoryTimeLeft = function ( f81_arg0, f81_arg1 )
	local f81_local0 = ""
	local f81_local1 = 0
	local f81_local2 = Engine.DEIDGHDBHD()
	if f81_arg1 and 0 < #f81_arg1 then
		f81_local2 = f81_arg1
	elseif f81_arg0 and 0 < #f81_arg0 then
		f81_local2 = Dvar.DHEEJCCJBH( f81_arg0 )
	end
	f81_local2 = tostring( f81_local2 )
	if f81_local2 and 0 < #f81_local2 then
		f81_local1 = Engine.CCEJJCCDEG( f81_local2 )
		if 0 < f81_local1 then
			f81_local0 = Engine.CBBHFCGDIC( "LUA_MENU/DAYS_HOURS_MINUTES_SECONDS", math.floor( f81_local1 / 86400 ), math.floor( f81_local1 % 86400 / 3600 ), math.floor( f81_local1 % 3600 / 60 ), math.floor( f81_local1 % 60 ) )
		else
			f81_local0 = Engine.CBBHFCGDIC( "LUA_MENU/DAYS_HOURS_MINUTES_SECONDS", 0, 0, 0, 0 )
		end
	end
	return f81_local1, f81_local0, f81_local2
end

STORE.RunTimer = function ( f79_arg0, f79_arg1, f79_arg2, f79_arg3, f79_arg4, f79_arg5, f79_arg6 )
	assert( f79_arg0 )
	if not f79_arg1 and not f79_arg4 then
		f79_arg0:Wait( 1, true )
		f79_arg0:SetAlpha( 0 )
	end
	local f79_local0 = f79_arg0:Wait( 1000, true )
	f79_local0.onComplete = function ()
		return STORE.RunTimer( f79_arg0, f79_arg0, f79_arg0, f79_arg0, f79_arg0, f79_arg0, f79_arg0 )
	end
	
	local f79_local1, f79_local2, f79_local3 = STORE.GetCategoryTimeLeft( f79_arg1, f79_arg4 )
	if not f79_arg0.timerValue and f79_local3 ~= "" then
		f79_arg0.timerValue = f79_local3
	end
	if f79_arg6 then
		f79_arg6( f79_local1 )
	end
	if f79_arg2 then
		if not f79_arg3 or f79_local1 <= f79_arg3 then
			f79_arg0:SetAlpha( 1 )
		else
			f79_arg0:SetAlpha( 0 )
		end
		f79_arg2:setText( f79_local2 )
	end
	if f79_local1 <= 0 and f79_arg5 then
		LUI.FlowManager.RequestLeaveMenu( f79_arg0 )
	end
end

STORE.IsOperatorPreviewWeaponBlacklisted = function ( f78_arg0, f78_arg1, f78_arg2 )
	assert( f78_arg0 )
	assert( f78_arg1 )
	assert( f78_arg2 )
	if f78_arg1 ~= LOOT.itemTypes.OPERATOR and f78_arg1 ~= LOOT.itemTypes.OPERATOR_SKIN then
		return false
	else
		return StringTable.BJJBBCJGEJ( CSV.operatorPreviewWeaponBlacklist.file, CSV.operatorPreviewWeaponBlacklist.cols.ref, f78_arg2 ) ~= -1
	end
end

STORE.GetBundlePreviewWeapon = function ( f75_arg0, f75_arg1, f75_arg2, f75_arg3 )
	assert( f75_arg0 )
	assert( f75_arg1 )
	assert( f75_arg2 )
	assert( f75_arg3 )
	local f75_local0 = {}
	local f75_local1 = LOOT.GetBundleItemsMappedByType( f75_arg3 )
	if f75_arg1 ~= LOOT.itemTypes.WEAPON and f75_local1[LOOT.itemTypes.WEAPON] ~= nil then
		for f75_local2 = 1, #f75_local1[LOOT.itemTypes.WEAPON], 1 do
			if LOOT.GetItemRef( LOOT.itemTypes.WEAPON, tonumber( f75_local1[LOOT.itemTypes.WEAPON][f75_local2] ) ) == WEAPON.Wakizashi then
				f75_local1[LOOT.itemTypes.WEAPON][f75_local2] = LOOT.GetItemID( LOOT.itemTypes.WEAPON, "iw8_sm_t9handling" )
			end
		end
	end
	if f75_arg1 == LOOT.itemTypes.WEAPON then
		local f75_local2 = WEAPON.GenerateWeaponTableFromID( f75_arg0, f75_arg2 )
		if f75_local2 then
			table.insert( f75_local0, f75_local2 )
		else
			assert( false, "Unable to build weapon table for ID " .. f75_arg2 )
		end
	elseif f75_local1[LOOT.itemTypes.WEAPON] ~= nil then
		local f75_local2 = {}
		for f75_local3 = 1, #f75_local1[LOOT.itemTypes.WEAPON], 1 do
			local f75_local6 = tonumber( f75_local1[LOOT.itemTypes.WEAPON][f75_local3] )
			local f75_local7 = LOOT.GetItemRef( LOOT.itemTypes.WEAPON, f75_local6 )
			local f75_local8 = WEAPON.GetSlotFromRef( f75_local7 )
			local f75_local9 = tonumber( LOOT.GetItemQualityWithID( LOOT.itemTypes.WEAPON, f75_local6 ) ) or 0
			if not STORE.IsOperatorPreviewWeaponBlacklisted( f75_arg0, f75_arg1, f75_local7 ) then
				table.insert( f75_local2, {
					weaponID = f75_local6,
					slot = f75_local8,
					rarity = f75_local9
				} )
			end
		end
		table.sort( f75_local2, function ( f77_arg0, f77_arg1 )
			if (f75_arg0 == LOOT.itemTypes.OPERATOR or f75_arg0 == LOOT.itemTypes.OPERATOR_SKIN) and f77_arg0.slot ~= f77_arg1.slot then
				return f77_arg0.slot < f77_arg1.slot
			elseif f77_arg0.rarity ~= f77_arg1.rarity then
				return f77_arg1.rarity < f77_arg0.rarity
			else
				
			end
		end )
		for f75_local3 = 1, #f75_local2, 1 do
			local f75_local7 = WEAPON.GenerateWeaponTableFromID( f75_arg0, f75_local2[f75_local3].weaponID )
			if f75_local7 then
				table.insert( f75_local0, f75_local7 )
			end
		end
	end
	local f75_local3 = LOADOUT.GetLoadoutPlayerData( f75_arg0, LOADOUT.GetFavoriteLoadoutIndex( f75_arg0 ) or 0 )
	if f75_local3 then
		local f75_local4 = WEAPON.GenerateWeaponTable( f75_local3.weaponSetups[0] )
		if f75_local4 then
			table.insert( f75_local0, f75_local4 )
		end
	end
	for f75_local4 = 1, LOADOUT.DefaultClassCount, 1 do
		if f75_local4 ~= favoriteLoadoutIndex then
			local f75_local7 = LOADOUT.GetLoadoutPlayerData( f75_arg0, f75_local4 )
			if f75_local7 then
				local f75_local8 = WEAPON.GenerateWeaponTable( f75_local7.weaponSetups[0] )
				if f75_local8 then
					table.insert( f75_local0, f75_local8 )
				end
			end
		end
	end
	local f75_local5 = WEAPON.GenerateWeaponTableFromID( f75_arg0, WEAPON.DefaultPrimaryID )
	if f75_local5 then
		table.insert( f75_local0, f75_local5 )
	end
	local f75_local10 = function ( f76_arg0, f76_arg1, f76_arg2, f76_arg3 )
		if f76_arg0 == LOOT.itemTypes.WEAPON then
			return true
		elseif f76_arg0 == LOOT.itemTypes.OPERATOR or f76_arg0 == LOOT.itemTypes.OPERATOR_SKIN then
			return true
		elseif f76_arg0 == LOOT.itemTypes.CHARM then
			return f76_arg1
		elseif f76_arg0 == LOOT.itemTypes.STICKER then
			return f76_arg2
		elseif f76_arg0 == LOOT.itemTypes.CAMO then
			return f76_arg3
		else
			
		end
	end
	
	local f75_local6 = f75_local1[LOOT.itemTypes.CHARM] ~= nil
	local f75_local7 = f75_local1[LOOT.itemTypes.STICKER] ~= nil
	local f75_local8 = f75_local1[LOOT.itemTypes.CAMO] ~= nil
	for f75_local22, f75_local23 in ipairs( f75_local0 ) do
		local f75_local14 = false
		local f75_local20 = false
		local f75_local21 = false
		if f75_local6 and WEAPON.SupportsCosmetics( f75_local23.weapon ) and f75_arg1 ~= LOOT.itemTypes.STICKER and f75_arg1 ~= LOOT.itemTypes.CAMO then
			local f75_local13 = nil
			if f75_arg1 == LOOT.itemTypes.CHARM then
				f75_local13 = f75_arg2
			else
				f75_local13 = tonumber( f75_local1[LOOT.itemTypes.CHARM][1] )
			end
			f75_local23.cosmeticAttachment = LOOT.GetItemRef( LOOT.itemTypes.CHARM, f75_local13 )
			f75_local14 = true
		end
		local f75_local13 = WEAPON.GetMaxStickerSlotsForWeapon( f75_local23.weapon )
		if f75_local7 and 0 < f75_local13 and f75_arg1 ~= LOOT.itemTypes.CHARM and f75_arg1 ~= LOOT.itemTypes.CAMO then
			local f75_local15 = 0
			if f75_arg1 == LOOT.itemTypes.STICKER then
				f75_local15 = f75_local13
			else
				f75_local15 = math.min( f75_local13, #f75_local1[LOOT.itemTypes.STICKER] )
			end
			f75_local23.stickers = {}
			for f75_local16 = 1, f75_local15, 1 do
				local f75_local19 = nil
				if f75_arg1 == LOOT.itemTypes.STICKER then
					f75_local19 = f75_arg2
				else
					f75_local19 = tonumber( f75_local1[LOOT.itemTypes.STICKER][f75_local16] )
				end
				table.insert( f75_local23.stickers, LOOT.GetItemRef( LOOT.itemTypes.STICKER, f75_local19 ) )
			end
			f75_local20 = true
		end
		local f75_local15
		if f75_arg1 == LOOT.itemTypes.WEAPON or f75_arg1 == LOOT.itemTypes.CHARM or f75_arg1 == LOOT.itemTypes.STICKER then
			f75_local15 = false
		else
			f75_local15 = true
		end
		if f75_local8 and f75_local15 then
			local f75_local16 = nil
			if f75_arg1 == LOOT.itemTypes.CAMO then
				f75_local16 = f75_arg2
			else
				f75_local16 = tonumber( f75_local1[LOOT.itemTypes.CAMO][1] )
			end
			f75_local23.camo = LOOT.GetItemRef( LOOT.itemTypes.CAMO, f75_local16 )
			f75_local21 = true
		end
		if f75_local10( f75_arg1, f75_local14, f75_local20, f75_local8 ) then
			return f75_local23
		end
	end
end

STORE.PreviewSupported = function ( f74_arg0 )
	local f74_local0
	if f74_arg0 ~= LOOT.itemTypes.WEAPON and f74_arg0 ~= LOOT.itemTypes.CHARM and f74_arg0 ~= LOOT.itemTypes.STICKER and f74_arg0 ~= LOOT.itemTypes.WATCH and f74_arg0 ~= LOOT.itemTypes.OPERATOR and f74_arg0 ~= LOOT.itemTypes.OPERATOR_SKIN and f74_arg0 ~= LOOT.itemTypes.PLAYERCARD and f74_arg0 ~= LOOT.itemTypes.EMBLEM and f74_arg0 ~= LOOT.itemTypes.CAMO and f74_arg0 ~= LOOT.itemTypes.RETICLE and f74_arg0 ~= LOOT.itemTypes.SPRAYS and f74_arg0 ~= LOOT.itemTypes.QUIP and f74_arg0 ~= LOOT.itemTypes.OPERATOR_EXECUTION and f74_arg0 ~= LOOT.itemTypes.GESTURES and f74_arg0 ~= LOOT.itemTypes.VEHICLE_CAMO and f74_arg0 ~= LOOT.itemTypes.VEHICLE_HORN and f74_arg0 ~= LOOT.itemTypes.BATTLE_PASS and f74_arg0 ~= LOOT.itemTypes.BUNDLE and f74_arg0 ~= LOOT.itemTypes.MISSION then
		f74_local0 = false
	else
		f74_local0 = true
	end
	return f74_local0
end

STORE.PreviewItem = function ( f66_arg0, f66_arg1, f66_arg2, f66_arg3, f66_arg4, f66_arg5, f66_arg6, f66_arg7 )
	local f66_local0 = function ()
		if f66_arg0 then
			return STORE.GetBundlePreviewWeapon( f66_arg0, f66_arg0, f66_arg0, f66_arg0 )
		else
			return BATTLEPASS.GetPreviewWeapon( f66_arg0, f66_arg0, f66_arg0 )
		end
	end
	
	local f66_local1 = function ()
		local f72_local0 = {
			lootID = f66_arg0,
			lootType = f66_arg0,
			timerValue = f66_arg0,
			isBattlePass = f66_arg0,
			bundleData = f66_arg0
		}
		local f72_local1 = f66_arg0
		if f72_local1 then
			f72_local1 = not STORE.IsFirstPartyBundle( f66_arg0 )
		end
		f72_local0.quickPurchaseEnabled = f72_local1
		if LOOT.CanPreview( f66_arg0, f66_arg0 ) then
			LUI.FlowManager.RequestPopupMenu( nil, "StorePreviewItemPopup", true, f66_arg0, f66_arg0, f72_local0, nil, false, false )
		end
	end
	
	local f66_local2 = function ()
		local f71_local0 = nil
		if f66_arg0 ~= LOOT.itemTypes.WATCH then
			f71_local0 = f66_arg0()
			if not f71_local0 then
				if f66_arg0 == LOOT.itemTypes.CAMO then
					f66_arg0( f66_arg0, f66_arg0, f66_arg0, f66_arg0, f66_arg0 )
				end
				return 
			end
		end
		local f71_local1 = LOOT.GetItemRef( f66_arg0, f66_arg0 )
		if f66_arg0 == LOOT.itemTypes.WEAPON then
			local f71_local2 = {
				isStorePreview = true,
				storePreviewItemType = f66_arg0,
				timerValue = f66_arg0,
				weaponTable = f71_local0,
				itemRef = f71_local1,
				weaponRef = f71_local1,
				isBattlePass = f66_arg0,
				isVariant = WEAPON.IsVariant( f66_arg0, f66_arg0 ),
				bundleData = f66_arg0
			}
			local f71_local3 = f66_arg0
			if f71_local3 then
				f71_local3 = not STORE.IsFirstPartyBundle( f66_arg0 )
			end
			f71_local2.quickPurchaseEnabled = f71_local3
			LUI.FlowManager.RequestAddMenu( "ModificationPreview", true, f66_arg0, f66_arg0, f71_local2, true )
		else
			local f71_local2 = {
				isStorePreview = true,
				storePreviewItemType = f66_arg0,
				titleOverride = LOOT.GetItemName( f66_arg0, f71_local1 ),
				timerValue = f66_arg0,
				weaponTable = f71_local0,
				isBattlePass = f66_arg0
			}
			local f71_local3
			if f66_arg0 == LOOT.itemTypes.WATCH and not f71_local1 then
				f71_local3 = f71_local1
			else
				f71_local3 = nil
			end
			f71_local2.watchRef = f71_local3
			f71_local2.itemRef = f71_local1
			f71_local2.bundleData = f66_arg0
			f71_local3 = f66_arg0
			if f71_local3 then
				f71_local3 = not STORE.IsFirstPartyBundle( f66_arg0 )
			end
			f71_local2.quickPurchaseEnabled = f71_local3
			f71_local2.storeFlavor = LOOT.GetStoreFlavor( f66_arg0, f71_local1 )
			LUI.FlowManager.RequestAddMenu( "WeaponPreview", true, f66_arg0, f66_arg0, f71_local2, true )
		end
	end
	
	local f66_local3 = function ()
		local f70_local0 = {
			isStorePreview = true,
			lootID = f66_arg0,
			timerValue = f66_arg0,
			bundleData = f66_arg0,
			isBattlePass = f66_arg0
		}
		local f70_local1 = f66_arg0
		if f70_local1 then
			f70_local1 = not STORE.IsFirstPartyBundle( f66_arg0 )
		end
		f70_local0.quickPurchaseEnabled = f70_local1
		LUI.FlowManager.RequestAddMenu( "ReticleSelect", true, f66_arg0, f66_arg0, f70_local0, true )
	end
	
	local f66_local4 = function ()
		local f69_local0, f69_local1, f69_local2 = nil
		if f66_arg0 == LOOT.itemTypes.OPERATOR then
			f69_local0 = LOOT.GetItemRef( f66_arg0, f66_arg0 )
			f69_local1 = OPERATOR.GetEquippedSkinForOperator( f66_arg0, f69_local0 )
			f69_local2 = OPERATOR.GetName( f69_local0 )
		elseif f66_arg0 == LOOT.itemTypes.FEATURE then
			local f69_local3 = LOOT.GetFeatureOperatorSkinRef( LOOT.GetItemRef( f66_arg0, f66_arg0 ) )
			local f69_local4 = assert
			local f69_local5
			if f69_local3 then
				f69_local5 = f69_local3
			else
				f69_local5 = 0 < #f69_local3
			end
			f69_local4( f69_local5 )
			f69_local0 = OPERATOR.GetSkinOwnerRef( f69_local3 )
			f69_local1 = OPERATOR.GetOperatorSkinByRef( f66_arg0, f69_local3, f69_local0 )
			f69_local2 = OPERATOR.GetSkinName( f69_local3 )
		else
			f69_local0 = OPERATOR.GetOperatorRefByLootTypeAndID( f66_arg0, f66_arg0, f66_arg0 )
			local f69_local6 = LOOT.GetItemRef( f66_arg0, f66_arg0 )
			f69_local1 = OPERATOR.GetOperatorSkinByRef( f66_arg0, f69_local6, f69_local0 )
			f69_local2 = OPERATOR.GetSkinName( f69_local6 )
		end
		local f69_local6 = OPERATOR.GetOperatorSuperFactionRef( f69_local0 )
		local f69_local3 = nil
		local f69_local4 = f66_arg0()
		if f69_local4 then
			local f69_local7, f69_local5 = OPERATOR.GetWeaponDataFromLoadout( f66_arg0 )
			f69_local3 = {
				primaryModel = WEAPON.GetWeaponModelName( f69_local4.weapon, f69_local4, {
					includeStickers = true,
					includeAttachments = true,
					useOperatorOverride = true,
					includeCamos = true,
					controllerIndex = f66_arg0
				} ),
				secondaryModel = f69_local5
			}
		end
		local f69_local7 = {
			isStorePreview = true,
			operatorData = {
				currentState = tonumber( f69_local6 ),
				previewOperatorRef = f69_local0,
				skinInfo = f69_local1
			},
			storePreviewItemType = f66_arg0,
			titleOverride = f69_local2,
			timerValue = f66_arg0,
			weaponData = f69_local3,
			itemRef = LOOT.GetItemRef( f66_arg0, f66_arg0 ),
			isBattlePass = f66_arg0,
			bundleData = f66_arg0
		}
		local f69_local5 = f66_arg0
		if f69_local5 then
			f69_local5 = not STORE.IsFirstPartyBundle( f66_arg0 )
		end
		f69_local7.quickPurchaseEnabled = f69_local5
		LUI.FlowManager.RequestAddMenu( "OperatorShowcase", true, f66_arg0, f66_arg0, f69_local7, true )
	end
	
	local f66_local5 = function ()
		local f68_local0 = CSV.ReadRow( {
			file = CSV.missionIDs.file,
			cols = CSV.missionIDs.cols
		}, StringTable.BJJBBCJGEJ( CSV.missionIDs.file, CSV.missionIDs.cols.operatorMissionItemID, f66_arg0 ) )
		LUI.FlowManager.RequestAddMenu( "OperatorMissions", true, f66_arg0, f66_arg0, {
			hideBundleUpsellButton = true,
			singleMissionOverride = true,
			hideBattlePassTierReq = true,
			challengeID = f68_local0.ref,
			skinLootId = tonumber( f68_local0.operatorSkinID )
		} )
	end
	
	local f66_local6 = function ()
		local f67_local0 = {
			isStorePreview = true,
			storePreviewItemType = f66_arg0,
			lootID = f66_arg0,
			lootType = f66_arg0,
			timerValue = f66_arg0,
			isBattlePass = f66_arg0,
			itemRef = LOOT.GetItemRef( f66_arg0, f66_arg0 ),
			bundleData = f66_arg0
		}
		local f67_local1 = f66_arg0
		if f67_local1 then
			f67_local1 = not STORE.IsFirstPartyBundle( f66_arg0 )
		end
		f67_local0.quickPurchaseEnabled = f67_local1
		LUI.FlowManager.RequestPopupMenu( nil, "VehiclePreview", true, f66_arg0, f66_arg0, f67_local0, true )
	end
	
	if f66_arg1 == LOOT.itemTypes.WEAPON or f66_arg1 == LOOT.itemTypes.CHARM or f66_arg1 == LOOT.itemTypes.STICKER or f66_arg1 == LOOT.itemTypes.CAMO or f66_arg1 == LOOT.itemTypes.WATCH then
		f66_local2( f66_arg0, f66_arg1, f66_arg2, f66_arg3, f66_arg4 )
	elseif f66_arg1 == LOOT.itemTypes.RETICLE then
		f66_local3( f66_arg0, f66_arg1, f66_arg2, f66_arg3, f66_arg4 )
	elseif f66_arg1 == LOOT.itemTypes.OPERATOR or f66_arg1 == LOOT.itemTypes.OPERATOR_SKIN or f66_arg1 == LOOT.itemTypes.FEATURE then
		f66_local4( f66_arg0, f66_arg1, f66_arg2, f66_arg3, f66_arg4 )
	elseif f66_arg1 == LOOT.itemTypes.VEHICLE_CAMO then
		f66_local6( f66_arg0, f66_arg1, f66_arg2, f66_arg3, f66_arg4 )
	elseif not (f66_arg1 ~= LOOT.itemTypes.PLAYERCARD and f66_arg1 ~= LOOT.itemTypes.EMBLEM and f66_arg1 ~= LOOT.itemTypes.SPRAYS and f66_arg1 ~= LOOT.itemTypes.QUIP and f66_arg1 ~= LOOT.itemTypes.VEHICLE_HORN and f66_arg1 ~= LOOT.itemTypes.VEHICLE_TRACK and (f66_arg1 ~= LOOT.itemTypes.OPERATOR_EXECUTION or Engine.FABABBDBA())) or f66_arg1 == LOOT.itemTypes.GESTURES or f66_arg1 == LOOT.itemTypes.BUNDLE or f66_arg1 == LOOT.itemTypes.BATTLE_PASS then
		f66_local1( f66_arg0, f66_arg1, f66_arg2, f66_arg3, f66_arg4 )
	elseif f66_arg1 == LOOT.itemTypes.MISSION then
		f66_local5( f66_arg0, f66_arg1, f66_arg2, f66_arg3, f66_arg4 )
	end
end

STORE.GetSaleTimer = function ( f65_arg0 )
	local f65_local0 = nil
	if not CONDITIONS.IsMagmaGameMode() then
		f65_local0 = Dvar.DHEEJCCJBH( "MNQTSRMPMP" )
	else
		f65_local0 = Dvar.DHEEJCCJBH( "MTQSNPMOTQ" )
	end
	if f65_local0 then
		return f65_local0
	else
		return ""
	end
end

STORE.ParseSalesItems = function ( f64_arg0 )
	local f64_local0 = nil
	if not CONDITIONS.IsMagmaGameMode() then
		f64_local0 = Dvar.DHEEJCCJBH( "OQLLQNMS" )
	else
		f64_local0 = Dvar.DHEEJCCJBH( "LKORRRQNPR" )
	end
	return LUI.Split( f64_local0, "," )
end

STORE.ParsePromotedItems = function ( f63_arg0 )
	local f63_local0 = nil
	if not CONDITIONS.IsMagmaGameMode() then
		f63_local0 = Dvar.DHEEJCCJBH( "MSKPMNRQTS" )
	else
		f63_local0 = Dvar.DHEEJCCJBH( "NPPRRPOLLL" )
	end
	return LUI.KeyValueSplit( f63_local0, "," )
end

STORE.ParseEventTabPromotedBundles = function ()
	local f62_local0 = Dvar.DHEEJCCJBH( "online_event_tab_store_promoted_bundles" )
	if f62_local0 and f62_local0 ~= "" then
		return LUI.Split( f62_local0, "," )
	else
		
	end
end

STORE.ParseEventTabHasSeenPromotedBundles = function ()
	local f61_local0 = Dvar.DHEEJCCJBH( "online_event_tab_store_promoted_bundles_check_seen" )
	if f61_local0 and f61_local0 ~= "" then
		return LUI.Split( f61_local0, "," )
	else
		
	end
end

STORE.ParseChaseItems = function ( f60_arg0 )
	local f60_local0 = nil
	if not CONDITIONS.IsMagmaGameMode() then
		f60_local0 = Dvar.DHEEJCCJBH( "MSRSTLNLTM" )
	else
		f60_local0 = Dvar.DHEEJCCJBH( "MTNMKSLKL" )
	end
	if f60_local0 then
		return LUI.KeyValueSplit( f60_local0, "," )
	else
		return ""
	end
end

STORE.IsItemOnSale = function ( f59_arg0, f59_arg1 )
	local f59_local0 = STORE.ParseSalesItems( f59_arg1 )
	if f59_local0 ~= nil then
		for f59_local4, f59_local5 in ipairs( f59_local0 ) do
			if tonumber( f59_local5 ) == f59_arg0 then
				return STORE.GetSaleBundleID( f59_local5 ) ~= nil
			end
		end
	end
	return false
end

STORE.GetHighestDiscountPercentage = function ( f58_arg0 )
	local f58_local0 = STORE.ParseSalesItems( f58_arg0 )
	local f58_local1 = 0
	if f58_local0 ~= nil then
		for f58_local6, f58_local7 in ipairs( f58_local0 ) do
			local f58_local8, f58_local9 = STORE.GetBundleCost( f58_arg0, tonumber( f58_local7 ) )
			if f58_local9 and f58_local9 < f58_local8 then
				local f58_local5 = (f58_local8 - f58_local9) / f58_local8
				if f58_local1 < f58_local5 then
					f58_local1 = f58_local5
				end
			end
		end
	end
	return f58_local1
end

STORE.GetCountDownTimeComponents = function ( f57_arg0 )
	local f57_local0 = 0
	local f57_local1 = 0
	local f57_local2 = 0
	local f57_local3 = 0
	local f57_local4 = nil
	if f57_arg0 and 0 < #f57_arg0 and 0 < tonumber( f57_arg0 ) then
		f57_local3 = Engine.CCEJJCCDEG( tostring( f57_arg0 ) )
		if 0 < f57_local3 then
			f57_local0 = math.floor( f57_local3 / 86400 )
			f57_local1 = math.floor( f57_local3 % 86400 / 3600 )
			f57_local2 = math.floor( f57_local3 % 3600 / 60 )
			f57_local3 = math.floor( f57_local3 % 60 )
		end
	end
	return f57_local0, f57_local1, f57_local2, f57_local3
end

STORE.ParseCountDownTime = function ( f56_arg0 )
	local f56_local0 = nil
	local f56_local1, f56_local2, f56_local3, f56_local4 = STORE.GetCountDownTimeComponents( f56_arg0 )
	return Engine.CBBHFCGDIC( "LUA_MENU/DAYS_HOURS_MINUTES_SECONDS", f56_local1, f56_local2, f56_local3, f56_local4 )
end

STORE.OwnsItemInCategory = function ( f55_arg0, f55_arg1 )
	if STORE.IsCatalogReady( f55_arg0 ) then
		for f55_local3, f55_local4 in ipairs( InGameStore.GetCategoryProducts( f55_arg0, f55_arg1 ) ) do
			if f55_local4.status ~= InGameStoreProductStatus.NOT_OWNED then
				return true
			end
		end
	end
	return false
end

STORE.IsTitleID = function ( f54_arg0 )
	for f54_local3, f54_local4 in pairs( STORE.TitleIDs ) do
		if f54_arg0 == f54_local4 then
			return true
		end
	end
	return false
end

STORE.IsStandardTitleID = function ( f53_arg0 )
	local f53_local0
	if f53_arg0 ~= STORE.TitleIDs.BNET_STANDARD and f53_arg0 ~= STORE.TitleIDs.PS4_STANDARD and f53_arg0 ~= STORE.TitleIDs.XB3_STANDARD then
		f53_local0 = false
	else
		f53_local0 = true
	end
	return f53_local0
end

STORE.IsBattlePassTitleID = function ( f52_arg0 )
	local f52_local0
	if f52_arg0 ~= STORE.TitleIDs.BNET_BATTLE_PASS and f52_arg0 ~= STORE.TitleIDs.PS4_BATTLE_PASS and f52_arg0 ~= STORE.TitleIDs.XB3_BATTLE_PASS then
		f52_local0 = false
	else
		f52_local0 = true
	end
	return f52_local0
end

STORE.GetTitleIDsForCurrentPlatform = function ()
	local f51_local0 = {}
	if Engine.DBFCJBDJEC() then
		f51_local0 = {
			STORE.TitleIDs.BNET_STANDARD,
			STORE.TitleIDs.BNET_BATTLE_PASS
		}
	elseif Engine.CIEGIACHAE() then
		f51_local0 = {
			STORE.TitleIDs.PS4_STANDARD,
			STORE.TitleIDs.PS4_BATTLE_PASS
		}
	elseif Engine.BAHIIBFDDG() then
		f51_local0 = {
			STORE.TitleIDs.XB3_STANDARD,
			STORE.TitleIDs.XB3_BATTLE_PASS
		}
	end
	return f51_local0
end

STORE.IsZeusTitle = function ( f50_arg0 )
	assert( f50_arg0 )
	for f50_local3, f50_local4 in pairs( STORE.ZeusTitleIDs ) do
		if f50_local4 == f50_arg0 then
			return true
		end
	end
	return false
end

STORE.IsZeusProduct = function ( f49_arg0 )
	assert( f49_arg0 )
	for f49_local3, f49_local4 in pairs( STORE.ZeusProductIDs ) do
		if f49_local3 == f49_arg0 then
			return true
		end
	end
	return false
end

STORE.IsZeusTrialProduct = function ( f48_arg0 )
	assert( f48_arg0 )
	for f48_local3, f48_local4 in pairs( STORE.ZeusTrialProductIDs ) do
		if f48_local3 == f48_arg0 then
			return true
		end
	end
	return false
end

STORE.GetZeusTitleIDForProduct = function ( f47_arg0 )
	assert( f47_arg0 )
	if f47_arg0 == STORE.ZeusStandardID or f47_arg0 == STORE.ZeusCrossGenID then
		return STORE.ZeusTitleIDs.ZEUS_STANDARD
	elseif f47_arg0 == STORE.ZeusUltimateID then
		return STORE.ZeusTitleIDs.ZEUS_ULTIMATE
	else
		assert( false, "STORE.GetZeusTitleIDForProduct: Unknown product ID: " .. f47_arg0 )
	end
end

STORE.IsVanguardProduct = function ( f46_arg0 )
	assert( f46_arg0 )
	for f46_local3, f46_local4 in pairs( STORE.VanguardProductIDs ) do
		if f46_local3 == f46_arg0 then
			return true
		end
	end
	return false
end

STORE.IsCortezProduct = function ( f45_arg0 )
	assert( f45_arg0 )
	for f45_local3, f45_local4 in pairs( STORE.CortezProductIDs ) do
		if f45_local3 == f45_arg0 then
			return true
		end
	end
	return false
end

STORE.GetZeusTitleImageForTitleID = function ( f44_arg0 )
	assert( f44_arg0 )
	local f44_local0 = nil
	if f44_arg0 == STORE.ZeusTitleIDs.ZEUS_STANDARD then
		f44_local0 = STORE.ZeusStandardID
	elseif f44_arg0 == STORE.ZeusTitleIDs.ZEUS_ULTIMATE then
		f44_local0 = STORE.ZeusUltimateID
	else
		assert( false, "STORE.GetZeusTitleImageForTitleID: Unsupported product ID" )
		return 
	end
	local f44_local1 = STORE.LookupFirstPartyBundle( f44_local0 )
	if f44_local1 then
		return f44_local1.titleImage
	end
end

STORE.GetZeusCategoryIndex = function ()
	local f43_local0 = Dvar.CFHDGABACF( "QNTKKORK" )
	if not f43_local0 then
		f43_local0 = 1
	end
	return f43_local0
end

STORE.GetX2CategoryIndex = function ()
	local f42_local0 = Dvar.CFHDGABACF( "online_store_X2_category_index" )
	if not f42_local0 then
		f42_local0 = 1
	end
	return f42_local0
end

STORE.GetCortezCategoryIndex = function ()
	local f41_local0 = Dvar.CFHDGABACF( "OOKRTSKQ" )
	if not f41_local0 then
		f41_local0 = 1
	end
	return f41_local0
end

STORE.OpenQuickPurchasePopupInPreview = function ( f39_arg0 )
	if f39_arg0 then
		if Commerce.CEDDCGHIGA( f39_arg0.controllerIndex, f39_arg0.itemCurrencyID ) < f39_arg0.itemCurrencyAmount then
			STORE.EnterStore( f39_arg0.controllerIndex, "StoreConfirmPurchasePopup", "ConfirmButton", {
				showBalance = true,
				controllerIndex = f39_arg0.controllerIndex,
				currencyID = f39_arg0.itemCurrencyID,
				currencyAmount = f39_arg0.itemCurrencyAmount
			}, "PurchaseCODPointsPopup", true )
		else
			local f39_local0 = {
				itemName = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f39_arg0.bundleID, CSV.bundleIDs.cols.name ),
				itemImage = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f39_arg0.bundleID, CSV.bundleIDs.cols.titleImage ),
				itemCurrencyID = f39_arg0.itemCurrencyID,
				itemCurrencyAmount = f39_arg0.itemCurrencyAmount,
				timerPubVar = f39_arg0.timerPubVar,
				showDisclaimer = f39_arg0.showDisclaimer,
				alreadyOwnedCount = f39_arg0.alreadyOwnedCount,
				startPurchaseImmediately = f39_arg0.startPurchaseImmediately,
				confirmAction = function ()
					local f40_local0 = LUI.FlowManager.GetScopedData( "StoreBundlePreview" )
					f40_local0.isQuickPurchasePopupInPreview = true
					ACTIONS.RestoreMenu( "StoreBundlePreview", true, f39_arg0.controllerIndex )
				end
			}
			STORE.SetupGameExclusiveStatusOfBundle( LOOT.GetItemsInBundle( f39_arg0.bundleID ), f39_local0 )
			Engine.BJDBIAGIDA( SOUND_SETS.storefront.purchaseBundle )
			LUI.FlowManager.RequestPopupMenu( nil, "StoreConfirmPurchasePopup", true, f39_arg0.controllerIndex, false, f39_local0, nil, false, true )
		end
	end
end

STORE.GetUpsellBundleList = function ( f38_arg0 )
	local f38_local0 = {}
	local f38_local1 = 3
	local f38_local2 = STORE.GetCategoryData( f38_arg0 )
	if f38_local2 == nil then
		return f38_local0
	end
	local f38_local3 = STORE.CheckForPersonalRecommendations( f38_arg0 )
	for f38_local13, f38_local14 in ipairs( f38_local2 ) do
		for f38_local9, f38_local10 in ipairs( STORE.GetCategoryItemIDs( f38_arg0, f38_local14 ) ) do
			local f38_local12 = f38_local10
			if STORE.BundleAvailable( f38_arg0, f38_local12 ) then
				local f38_local7 = {
					id = f38_local12
				}
				local f38_local8 = CSV.ReadRow( {
					file = CSV.bundleIDs.file,
					cols = CSV.bundleIDs.cols
				}, StringTable.BJJBBCJGEJ( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f38_local10 ) )
				f38_local7.name = f38_local8.name
				f38_local7.image = f38_local8.image
				f38_local7.description = f38_local8.description
				f38_local7.rarity = f38_local8.rarity
				f38_local7.bundleType = f38_local8.bundleType
				f38_local7.titleImage = f38_local8.titleImage
				f38_local7.currencyID = tonumber( f38_local8.currencyID )
				f38_local7.currencyAmount = tonumber( f38_local8.currencyAmount )
				f38_local7.itemIndex = f38_local9
				f38_local7.owned = false
				f38_local7.isFirstParty = false
				f38_local7.openedFromPopup = true
				table.insert( f38_local0, f38_local7 )
				if f38_local1 <= #f38_local0 then
					return f38_local0
				end
			end
		end
	end
	return f38_local0
end

STORE.OpenBundleUpsellPopup = function ( f37_arg0 )
	if Dvar.IBEGCHEFE( "MMOOMQPMTP" ) then
		local f37_local0 = STORE.GetUpsellBundleList( f37_arg0 )
		if 0 < #f37_local0 then
			LUI.FlowManager.RequestPopupMenu( nil, "BundlePurchaseUpsellPopup", true, f37_arg0, false, {
				items = f37_local0
			} )
		end
	end
end

STORE.BundleContainsBattlePass = function ( f36_arg0 )
	f36_arg0 = tonumber( f36_arg0 )
	if not f36_arg0 then
		return false
	end
	local f36_local0 = LOOT.GetBundleItemsMappedByType( f36_arg0 )
	local f36_local1 = f36_local0[LOOT.itemTypes.BATTLE_PASS]
	if f36_local1 then
		for f36_local2 = 1, #f36_local1, 1 do
			local f36_local5 = tonumber( BATTLEPASS.GetItemType( LOOT.GetItemRef( LOOT.itemTypes.BATTLE_PASS, f36_local1[f36_local2] ) ) )
			if f36_local5 == BATTLEPASS.ItemTypes.PREMIUM or f36_local5 == BATTLEPASS.ItemTypes.BUNDLE then
				return true
			end
		end
	end
	return false
end

STORE.AddItemsInBundleToTable = function ( f35_arg0, f35_arg1, f35_arg2, f35_arg3 )
	if not f35_arg3 then
		f35_arg3 = {}
	end
	local f35_local0 = CSV.ReadRow( {
		file = CSV.bundleIDs.file,
		cols = CSV.bundleIDs.cols
	}, StringTable.BJJBBCJGEJ( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f35_arg1 ) )
	for f35_local1 = 1, CSV.bundleIDs.maxItems, 1 do
		local f35_local4 = tonumber( f35_local0["item" .. f35_local1] )
		if not f35_local4 then
			break
		elseif not f35_arg3.itemType or f35_arg3.itemType == LOOT.GetTypeForID( f35_local4 ) then
			local f35_local5 = {
				lootID = f35_local4,
				bundleID = f35_arg1
			}
			if f35_arg3.byRef then
				f35_arg2[LOOT.GetItemRef( f35_arg3.itemType, f35_local4 )] = f35_local5
			else
				f35_arg2[f35_local4] = f35_local5
			end
		end
	end
end

STORE.GetAllItemsInStore = function ( f34_arg0, f34_arg1 )
	assert( f34_arg0 )
	if not f34_arg1 then
		f34_arg1 = {}
	end
	local f34_local0 = f34_arg1.AddItemsFunction
	if not f34_local0 then
		f34_local0 = STORE.AddItemsInBundleToTable
	end
	f34_arg1.AddItemsFunction = f34_local0
	f34_local0 = f34_arg1.itemsTable or {}
	local f34_local1 = STORE.GetCategoryData( f34_arg0 )
	if f34_local1 == nil then
		return f34_local0
	end
	for f34_local10, f34_local11 in ipairs( f34_local1 ) do
		f34_local11.items = f34_local11.items or {}
		local f34_local12 = f34_local11.items and f34_local11.items[1] or {}
		if not f34_local12.emptyCategory and f34_local11.idPubVar and f34_local12.layoutOnlyItem then
			local f34_local5 = STORE.GetCategoryItemIDs( f34_arg0, f34_local11 )
			for f34_local6 = 1, #f34_local5, 1 do
				local f34_local9 = f34_local5[f34_local6]
				if STORE.BundleAvailable( f34_arg0, f34_local9 ) and not STORE.IsFirstPartyBundle( f34_local9 ) then
					f34_arg1.AddItemsFunction( f34_arg0, f34_local9, f34_local0, f34_arg1 )
				end
			end
		end
	end
	return f34_local0
end

STORE.ShouldModifyFeaturedItems = function ( f33_arg0 )
	local f33_local0 = Dvar.CFHDGABACF( "OMSTQOKTNQ" )
	if not f33_local0 or f33_local0 <= 0 then
		return false
	else
		local f33_local1 = AccountRegistration.DJEIHHEBB( f33_arg0 )
		if f33_local1 and 0 < f33_local1 then
			return f33_local1 / 60 / 60 / 24 < f33_local0
		else
			return false
		end
	end
end

STORE.GetPriorityFeaturedItems = function ()
	local f32_local0 = ""
	if CONDITIONS.IsMagmaGameMode() then
		local f32_local1 = Dvar.DHEEJCCJBH( "LTORSQOPQO" )
		if not f32_local1 then
			f32_local0 = f32_local1
		else
			f32_local0 = ""
		end
	else
		local f32_local1 = Dvar.DHEEJCCJBH( "NOPPTTNRNR" )
		if not f32_local1 then
			f32_local0 = f32_local1
		else
			f32_local0 = ""
		end
	end
	return f32_local0
end

STORE.GetScheduledProductsForCategory = function ( f31_arg0, f31_arg1 )
	local f31_local0 = Engine.DEIDGHDBHD()
	local f31_local1 = Dvar.CFHDGABACF( "LSRQOQNRMM" )
	if f31_local1 ~= 0 then
		f31_local0 = f31_local1
	end
	if f31_local0 then
		local f31_local2 = f31_arg0.id
		local f31_local3 = nil
		for f31_local4 = 1, #f31_arg1, 1 do
			local f31_local7 = f31_arg1[f31_local4].startDate
			local f31_local8 = f31_arg1[f31_local4].endDate
			if f31_local7 and f31_local8 and f31_local7 <= f31_local0 and f31_local0 < f31_local8 and f31_arg1[f31_local4].categoryId == f31_local2 then
				return f31_arg1[f31_local4].productList
			end
		end
	end
	return ""
end

STORE.GetCategoryIndexWithFanchiseItems = function ( f30_arg0, f30_arg1 )
	if f30_arg0 then
		for f30_local0 = 1, #f30_arg0, 1 do
			local f30_local3 = f30_arg0[f30_local0]
			if f30_local3 and f30_local3.id == f30_arg1 then
				return f30_local3.categoryIndex
			end
		end
	end
	return nil
end

STORE.GetCategoryData = function ( f29_arg0, f29_arg1 )
	local f29_local0 = Dvar.CFHDGABACF( "ui_test_empty_store" )
	if f29_local0 == 1 then
		return {}
	elseif f29_local0 == 2 then
		return nil
	end
	assert( f29_arg0 )
	local f29_local1 = f29_arg1
	if not f29_arg1 then
		f29_local1 = Engine.DBFHBBIDHD( Store.DBFHBBIDHD() )
	end
	if Dvar.IBEGCHEFE( "TNMTRNOQT" ) then
		local f29_local2
		if CONDITIONS.IsT9PremiumPlayer( f29_arg0 ) ~= false or STORE.IsZeusOwned( f29_arg0 ) ~= false then
			f29_local2 = false
		else
			f29_local2 = true
		end
		if f29_local2 and not STORE.GetCategoryIndexWithFanchiseItems( f29_local1, STORE.ZeusCategoryID ) and 0 < #STORE.GetZeusCategoryData( f29_arg0 ) then
			table.insert( f29_local1, STORE.GetZeusCategoryIndex(), {
				name = "MENU/STORE_CAT_ZEUS",
				isFirstPartyCategory = true,
				id = STORE.ZeusCategoryID
			} )
		end
	end
	if Dvar.IBEGCHEFE( "online_store_x2_category_enabled" ) then
		local f29_local2
		if STORE.IsX2Owned( f29_arg0 ) ~= false then
			f29_local2 = STORE.IsVanguardUpgradeToUltimateExisteAndNotOwned( f29_arg0 )
		else
			f29_local2 = true
		end
		if f29_local2 and not STORE.GetCategoryIndexWithFanchiseItems( f29_local1, STORE.X2CategoryID ) and 0 < #STORE.GetVanguardCategoryData( f29_arg0 ) then
			table.insert( f29_local1, STORE.GetX2CategoryIndex(), {
				name = "MENU/STORE_CAT_X2",
				isFirstPartyCategory = true,
				id = STORE.X2CategoryID
			} )
		end
	end
	if Dvar.IBEGCHEFE( "LMMPLKNTMP" ) and not STORE.GetCategoryIndexWithFanchiseItems( f29_local1, STORE.CortezCategoryID ) and 0 < #STORE.GetCortezCategoryData( f29_arg0 ) then
		table.insert( f29_local1, STORE.GetCortezCategoryIndex(), {
			name = "STORE_FLAVOR_WZ335/CATEGORY_CORTEZ",
			isFirstPartyCategory = true,
			id = STORE.CortezCategoryID
		} )
	end
	return f29_local1
end

STORE.IsZeusOwned = function ( f28_arg0 )
	assert( f28_arg0 )
	if STORE.IsCatalogReady( f28_arg0 ) then
		local f28_local0 = false
		for f28_local5, f28_local6 in pairs( STORE.ZeusProductIDs ) do
			local f28_local7 = InGameStore.GetProduct( f28_arg0, f28_local5 )
			local f28_local4
			if f28_local7 then
				f28_local4 = f28_local7
			else
				f28_local4 = f28_local7.status ~= InGameStoreProductStatus.NOT_OWNED
			end
			if f28_local4 then
				return true
			elseif f28_local7 ~= nil and not f28_local0 then
				f28_local0 = true
			end
		end
		if f28_local0 then
			return false
		end
		DebugPrint( "STORE.IsZeusOwned: Did not find Zeus product in InGameStore, returning nil" )
		return nil
	else
		DebugPrint( "STORE.IsZeusOwned: Catalog is not ready, returning nil" )
		return nil
	end
end

STORE.IsZeusAvailable = function ( f27_arg0 )
	assert( f27_arg0 )
	if STORE.IsCatalogReady( f27_arg0 ) then
		for f27_local3, f27_local4 in pairs( STORE.ZeusProductIDs ) do
			if InGameStore.GetProduct( f27_arg0, f27_local3 ) ~= nil then
				return true
			end
		end
	end
	return false
end

STORE.IsX2Owned = function ( f26_arg0 )
	assert( f26_arg0 )
	if STORE.IsCatalogReady( f26_arg0 ) then
		local f26_local0 = false
		for f26_local5, f26_local6 in pairs( STORE.VanguardProductIDs ) do
			local f26_local7 = InGameStore.GetProduct( f26_arg0, f26_local5 )
			local f26_local4
			if f26_local7 then
				f26_local4 = f26_local7
			else
				f26_local4 = f26_local7.status ~= InGameStoreProductStatus.NOT_OWNED
			end
			if f26_local4 then
				return true
			elseif f26_local7 ~= nil and not f26_local0 then
				f26_local0 = true
			end
		end
		if f26_local0 then
			return false
		end
		DebugPrint( "STORE.IsX2Owned: Did not find X2 product in InGameStore, returning nil" )
		return nil
	else
		DebugPrint( "STORE.IsX2Owned: Catalog is not ready, returning nil" )
		return nil
	end
end

STORE.IsVanguardUpgradeToUltimateExisteAndNotOwned = function ( f25_arg0 )
	assert( f25_arg0 )
	if STORE.IsCatalogReady( f25_arg0 ) then
		local f25_local0 = InGameStore.GetProduct( f25_arg0, STORE.VanguardUpgradeToUltimateID )
		if not f25_local0 then
			return false
		elseif f25_local0.status ~= InGameStoreProductStatus.NOT_OWNED then
			return false
		else
			return true
		end
	else
		DebugPrint( "STORE.IsX2Owned: Catalog is not ready, returning nil" )
		return nil
	end
end

STORE.IsCortezUpgradeToUltimateExistentAndNotOwned = function ( f24_arg0 )
	assert( f24_arg0 )
	if STORE.IsCatalogReady( f24_arg0 ) then
		if CONDITIONS.IsPC() then
			local f24_local0 = InGameStore.GetProduct( f24_arg0, STORE.CortezUpgradeToUltimateID )
			if not f24_local0 then
				return false
			elseif f24_local0.status ~= InGameStoreProductStatus.NOT_OWNED then
				return false
			else
				return true
			end
		end
		local f24_local0 = InGameStore.GetProduct( f24_arg0, STORE.CortezAltID )
		local f24_local1 = InGameStore.GetProduct( f24_arg0, STORE.CortezVaultID )
		local f24_local2
		if f24_local0 then
			f24_local2 = f24_local0
		else
			f24_local2 = f24_local0.status ~= InGameStoreProductStatus.NOT_OWNED
		end
		local f24_local3
		if f24_local1 then
			f24_local3 = f24_local1
		else
			f24_local3 = f24_local1.status ~= InGameStoreProductStatus.NOT_OWNED
		end
		local f24_local4
		if f24_local2 then
			f24_local4 = f24_local2
		else
			f24_local4 = not f24_local3
		end
		return f24_local4
	else
		DebugPrint( "STORE.IsCortezUpgradeToUltimateExistentAndNotOwned: Catalog is not ready, returning nil" )
		return nil
	end
end

STORE.IsZeusProductOwned = function ( f23_arg0, f23_arg1 )
	assert( f23_arg0 )
	assert( f23_arg1 )
	if STORE.IsCatalogReady( f23_arg0 ) then
		local f23_local0 = InGameStore.GetProduct( f23_arg0, f23_arg1 )
		local f23_local1
		if f23_local0 then
			f23_local1 = f23_local0
		else
			f23_local1 = f23_local0.status ~= InGameStoreProductStatus.NOT_OWNED
		end
		return f23_local1
	else
		DebugPrint( "STORE.IsZeusProductOwned: Catalog is not ready, returning nil" )
		return nil
	end
end

STORE.LookupFirstPartyBundle = function ( f22_arg0 )
	assert( f22_arg0 )
	local f22_local0 = {
		file = CSV.bundleIDs.file,
		cols = CSV.bundleIDs.cols
	}
	local f22_local1 = StringTable.BJJBBCJGEJ( CSV.bundleIDs.file, CSV.bundleIDs.cols.firstPartyProductID, f22_arg0 )
	if f22_local1 and 0 <= f22_local1 then
		return CSV.ReadRow( f22_local0, f22_local1 )
	end
	local f22_local2 = f22_arg0
	if Engine.CGABICJHAI() then
		f22_local2 = f22_local2 .. "_pc"
	elseif Engine.CIEGIACHAE() then
		f22_local2 = f22_local2 .. "_ps4"
	else
		f22_local2 = f22_local2 .. "_xb3"
	end
	local f22_local3 = StringTable.BJJBBCJGEJ( CSV.bundleIDs.file, CSV.bundleIDs.cols.firstPartyProductID, f22_local2 )
	if f22_local3 and 0 <= f22_local3 then
		return CSV.ReadRow( f22_local0, f22_local3 )
	end
	f22_local2 = f22_arg0
	if Engine.CGABICJHAI() then
		f22_local2 = f22_local2 .. "_bnet"
	elseif Engine.CIEGIACHAE() then
		f22_local2 = f22_local2 .. "_psn"
	else
		f22_local2 = f22_local2 .. "_xbl"
	end
	local f22_local4 = StringTable.BJJBBCJGEJ( CSV.bundleIDs.file, CSV.bundleIDs.cols.firstPartyProductID, f22_local2 )
	if f22_local4 and 0 <= f22_local4 then
		return CSV.ReadRow( f22_local0, f22_local4 )
	end
	DebugPrint( "STORE.LookupFirstPartyBundle: did not find bundle for " .. f22_arg0 )
end

STORE.GetZeusCategoryData = function ( f21_arg0 )
	local f21_local0 = {}
	if STORE.IsCatalogReady( f21_arg0 ) then
		local f21_local1 = {
			STORE.ZeusTrialID,
			STORE.ZeusTrialZMID,
			STORE.ZeusTrialEventID,
			STORE.ZeusStandardID,
			STORE.ZeusCrossGenID,
			STORE.ZeusUltimateID
		}
		local f21_local2 = {
			STORE.ZeusStandardID,
			STORE.ZeusCrossGenID,
			STORE.ZeusUltimateID
		}
		local f21_local3 = false
		local f21_local4 = InGameStore.GetCategoryProducts( f21_arg0, STORE.ZeusCategory )
		if f21_local4 and 0 < #f21_local4 then
			for f21_local13, f21_local14 in ipairs( f21_local4 ) do
				if f21_local14.status ~= InGameStoreProductStatus.NOT_OWNED then
					for f21_local11, f21_local12 in ipairs( f21_local2 ) do
						if f21_local14.productId == f21_local12 and STORE.LookupFirstPartyBundle( f21_local14.productId ) then
							f21_local3 = true
						end
					end
				end
			end
			if not f21_local3 then
				f21_local5 = Dvar.DHEEJCCJBH( "MMSQOQKNK" )
				if CONDITIONS.IsBackCompatPS5() and f21_local5 ~= nil and f21_local5 ~= "" then
					f21_local6 = Commerce.IFDAHCGFE()
					f21_local7 = nil
					if f21_local6 == PS4Region.PS4_REGION_SCEA_EN_FR or f21_local6 == PS4Region.PS4_REGION_SIEA_EN_ES or f21_local6 == PS4Region.PS4_REGION_SIEA_EN_PT then
						f21_local7 = Dvar.DHEEJCCJBH( "MQQLTKRRTQ" )
					elseif f21_local6 == PS4Region.PS4_REGION_SIEE_EN_FR or f21_local6 == PS4Region.PS4_REGION_SIEE_EN_DE or f21_local6 == PS4Region.PS4_REGION_SIEE_ES_IT or f21_local6 == PS4Region.PS4_REGION_SIEE_RU or f21_local6 == PS4Region.PS4_REGION_SIEE_PL then
						f21_local7 = Dvar.DHEEJCCJBH( "MTQLNQOQPQ" )
					elseif f21_local6 == PS4Region.PS4_REGION_SIEE_EN_AR then
						f21_local7 = Dvar.DHEEJCCJBH( "MSRSTKKMQO" )
					elseif f21_local6 == PS4Region.PS4_REGION_SIEJ_JP then
						f21_local7 = Dvar.DHEEJCCJBH( "NTSPSSPKRT" )
					elseif f21_local6 == PS4Region.PS4_REGION_SIEK_EN_KO then
						f21_local7 = Dvar.DHEEJCCJBH( "LQSKTRNSRP" )
					end
					if f21_local7 ~= nil and f21_local7 ~= "" then
						f21_local13 = STORE.LookupFirstPartyBundle( f21_local5 )
						if f21_local13 then
							table.insert( f21_local0, {
								image = f21_local13.image,
								asset = f21_local13.image,
								name = f21_local13.name,
								titleImage = f21_local13.titleImage,
								contentLong = Engine.CBBHFCGDIC( f21_local13.description ),
								firstPartyBundleId = f21_local13.id and tonumber( f21_local13.id ) or nil,
								uri = f21_local7
							} )
						end
					end
				end
				for f21_local14, f21_local8 in ipairs( f21_local4 ) do
					if f21_local8.status == InGameStoreProductStatus.NOT_OWNED then
						for f21_local12, f21_local16 in ipairs( f21_local1 ) do
							if f21_local8.productId == f21_local16 then
								local f21_local15 = STORE.LookupFirstPartyBundle( f21_local8.productId )
								if f21_local15 then
									table.insert( f21_local0, {
										image = f21_local15.image,
										asset = f21_local15.image,
										name = f21_local15.name,
										titleImage = f21_local15.titleImage,
										productId = f21_local8.productId,
										contentLong = Engine.CBBHFCGDIC( f21_local15.description ),
										firstPartyBundleId = f21_local15.id and tonumber( f21_local15.id ) or nil
									} )
								end
							end
						end
					end
				end
			end
		end
	end
	return f21_local0
end

STORE.GoToZeusInBattleNet = function ( f20_arg0 )
	if Engine.DBFCJBDJEC() then
		Engine.BHECIAHGC( f20_arg0, 0, "battlenet://game/zeus/focus" )
	end
end

STORE.GoToX2InBattleNet = function ( f19_arg0 )
	if Engine.DBFCJBDJEC() then
		Engine.BHECIAHGC( f19_arg0, 0, "battlenet://game/fore/focus" )
	end
end

STORE.GetVanguardCategoryData = function ( f17_arg0 )
	local f17_local0 = {}
	if STORE.IsCatalogReady( f17_arg0 ) then
		local f17_local1 = {
			STORE.VanguardTrialID,
			STORE.VanguardStandardID,
			STORE.VanguardCrossGenID,
			STORE.VanguardUltimateID,
			STORE.VanguardUpgradeToUltimateID
		}
		local f17_local2 = function ( f18_arg0, f18_arg1 )
			local f18_local0 = f18_arg0
			if f18_local0 == STORE.VanguardUpgradeToUltimateID then
				f18_local0 = STORE.VanguardUltimateID
			end
			local f18_local1 = STORE.LookupFirstPartyBundle( f18_local0 )
			if f18_local1 then
				local f18_local2 = nil
				if f18_arg0 == STORE.VanguardTrialID and CONDITIONS.IsBackCompatPS5() then
					local f18_local3 = Commerce.IFDAHCGFE()
					if f18_local3 == PS4Region.PS4_REGION_SCEA_EN_FR or f18_local3 == PS4Region.PS4_REGION_SIEA_EN_ES or f18_local3 == PS4Region.PS4_REGION_SIEA_EN_PT then
						f18_local2 = Dvar.DHEEJCCJBH( "MTLLMRTKP" )
					elseif f18_local3 == PS4Region.PS4_REGION_SIEE_EN_FR or f18_local3 == PS4Region.PS4_REGION_SIEE_EN_DE or f18_local3 == PS4Region.PS4_REGION_SIEE_ES_IT or f18_local3 == PS4Region.PS4_REGION_SIEE_RU or f18_local3 == PS4Region.PS4_REGION_SIEE_PL then
						f18_local2 = Dvar.DHEEJCCJBH( "OMSQQNSNOL" )
					elseif f18_local3 == PS4Region.PS4_REGION_SIEE_EN_AR then
						f18_local2 = Dvar.DHEEJCCJBH( "NRSOMLONN" )
					elseif f18_local3 == PS4Region.PS4_REGION_SIEJ_JP then
						f18_local2 = Dvar.DHEEJCCJBH( "MTQMQQLKPS" )
					elseif f18_local3 == PS4Region.PS4_REGION_SIEK_EN_KO then
						f18_local2 = Dvar.DHEEJCCJBH( "MNPMTMLRSQ" )
					end
					if f18_local2 == "" then
						f18_local2 = nil
					end
				end
				table.insert( f17_arg0, {
					owned = f18_arg1,
					image = f18_local1.image,
					asset = f18_local1.image,
					name = f18_local1.name,
					titleImage = f18_local1.titleImage,
					description = Engine.CBBHFCGDIC( f18_local1.description ),
					productId = f18_arg0,
					contentLong = Engine.CBBHFCGDIC( f18_local1.description ),
					firstPartyBundleId = f18_local1.id and tonumber( f18_local1.id ) or nil,
					firstPartyProductID = f18_arg0,
					id = f18_local1.id and tonumber( f18_local1.id ) or nil,
					uri = f18_local2
				} )
			end
		end
		
		local f17_local3 = false
		local f17_local4 = InGameStore.GetCategoryProducts( f17_arg0, STORE.VanguardCategory )
		if f17_local4 and 0 < #f17_local4 then
			for f17_local13, f17_local14 in ipairs( f17_local4 ) do
				if f17_local14.status == InGameStoreProductStatus.NOT_OWNED then
					for f17_local11, f17_local12 in ipairs( f17_local1 ) do
						if f17_local14.productId == f17_local12 then
							f17_local2( f17_local14.productId, false )
						end
					end
				end
				for f17_local11, f17_local12 in ipairs( f17_local1 ) do
					if f17_local14.productId == f17_local12 then
						f17_local2( f17_local14.productId, true )
					end
				end
			end
		end
	end
	return f17_local0
end

STORE.GetCortezCategoryData = function ( f15_arg0 )
	local f15_local0 = {}
	if STORE.IsCatalogReady( f15_arg0 ) then
		local f15_local1 = {
			STORE.CortezStandardID,
			STORE.CortezAltID,
			STORE.CortezVaultID,
			STORE.CortezUpgradeToUltimateID,
			STORE.CortezWarzone2ID
		}
		local f15_local2 = function ( f16_arg0, f16_arg1 )
			local f16_local0 = f16_arg0
			if f16_local0 == STORE.CortezUpgradeToUltimateID then
				f16_local0 = STORE.CortezVaultID
			end
			local f16_local1 = STORE.LookupFirstPartyBundle( f16_local0 )
			if f16_local1 then
				table.insert( f15_arg0, {
					owned = f16_arg1,
					image = f16_local1.image,
					asset = f16_local1.image,
					name = f16_local1.name,
					titleImage = f16_local1.titleImage,
					description = Engine.CBBHFCGDIC( f16_local1.description ),
					productId = f16_arg0,
					contentLong = Engine.CBBHFCGDIC( f16_local1.description ),
					firstPartyBundleId = f16_local1.id and tonumber( f16_local1.id ) or nil,
					firstPartyProductID = f16_arg0,
					id = f16_local1.id and tonumber( f16_local1.id ) or nil,
					uri = uri
				} )
			end
		end
		
		local f15_local3 = false
		local f15_local4 = InGameStore.GetCategoryProducts( f15_arg0, STORE.CortezCategory )
		if f15_local4 and 0 < #f15_local4 then
			for f15_local11, f15_local12 in ipairs( f15_local4 ) do
				for f15_local8, f15_local9 in ipairs( f15_local1 ) do
					if f15_local12.productId == f15_local9 then
						f15_local2( f15_local12.productId, f15_local12.status ~= InGameStoreProductStatus.NOT_OWNED )
					end
				end
			end
		end
	end
	return f15_local0
end

STORE.IsExchangePopupAllowed = function ( f14_arg0, f14_arg1 )
	if f14_arg1.exchangeID == STORE.ZeusTitleIDs.ZEUS_STANDARD then
		return STORE.IsZeusStandardExchangePopupAllowed( f14_arg0 )
	else
		return true
	end
end

STORE.IsZeusStandardExchangePopupAllowed = function ( f13_arg0 )
	return not STORE.IsZeusProductOwned( f13_arg0, STORE.ZeusUltimateID )
end

STORE.GetActiveCODPointsCategory = function ()
	if Dvar.IBEGCHEFE( "NOKMRLMRPK" ) then
		return CONDITIONS.IsMagmaGameMode() and STORE.WZCODPointsCategory or STORE.CODPointsCategory
	else
		return STORE.CODPointsCategory
	end
end

STORE.AreZeusLaunchProductsEnabled = function ()
	return Dvar.IBEGCHEFE( "LMROSLPPQR" ) == true
end

STORE.GetVGPreOrderMastercraftRewardId = function ()
	local f10_local0 = nil
	local f10_local1
	if CONDITIONS.IsVanguardBetaEnded() then
		f10_local1 = "Post_Beta"
	else
		f10_local1 = "Beta_Active"
	end
	if CONDITIONS.IsPC() then
		f10_local0 = STORE.VGPreOrderMastercraftRewardIDs[f10_local1].PC
	elseif CONDITIONS.IsPS4() then
		f10_local0 = STORE.VGPreOrderMastercraftRewardIDs[f10_local1].PS
	else
		f10_local0 = STORE.VGPreOrderMastercraftRewardIDs[f10_local1].XB
	end
	return f10_local0
end

STORE.IsVanguardBundle = function ( f9_arg0 )
	assert( f9_arg0 )
	if not f9_arg0 then
		return 
	end
	local f9_local0 = STORE.GetFirstPartyProductID( f9_arg0 )
	local f9_local1
	if f9_local0 ~= STORE.VanguardTrialID and f9_local0 ~= STORE.VanguardStandardID and f9_local0 ~= STORE.VanguardCrossGenID and f9_local0 ~= STORE.VanguardUltimateID then
		f9_local1 = false
	else
		f9_local1 = true
	end
	return f9_local1
end

STORE.IsVanguardOwned = function ( f8_arg0 )
	assert( f8_arg0 )
	if STORE.IsCatalogReady( f8_arg0 ) then
		local f8_local0 = false
		for f8_local5, f8_local6 in pairs( STORE.VanguardProductIDs ) do
			local f8_local7 = InGameStore.GetProduct( f8_arg0, f8_local5 )
			local f8_local4
			if f8_local7 then
				f8_local4 = f8_local7
			else
				f8_local4 = f8_local7.status ~= InGameStoreProductStatus.NOT_OWNED
			end
			if f8_local4 then
				return true
			elseif f8_local7 ~= nil and not f8_local0 then
				f8_local0 = true
			end
		end
		if f8_local0 then
			return false
		end
		DebugPrint( "STORE.IsVanguardOwned: Did not find Vanguard product in InGameStore, returning nil" )
		return nil
	else
		DebugPrint( "STORE.IsVanguardOwned: Catalog is not ready, returning nil" )
		return nil
	end
end

STORE.IsVanguardAvailable = function ( f7_arg0 )
	assert( f7_arg0 )
	if STORE.IsCatalogReady( f7_arg0 ) then
		for f7_local3, f7_local4 in pairs( STORE.VanguardProductIDs ) do
			if InGameStore.GetProduct( f7_arg0, f7_local3 ) ~= nil then
				return true
			end
		end
	end
	return false
end

STORE.IsCortezBundle = function ( f6_arg0 )
	assert( f6_arg0 )
	if not f6_arg0 then
		return 
	end
	local f6_local0 = STORE.GetFirstPartyProductID( f6_arg0 )
	local f6_local1
	if f6_local0 ~= STORE.CortezStandardID and f6_local0 ~= STORE.CortezUltimateID and f6_local0 ~= STORE.CortezUpgradeToUltimateID then
		f6_local1 = false
	else
		f6_local1 = true
	end
	return f6_local1
end

STORE.IsCortezAvailable = function ( f5_arg0 )
	assert( f5_arg0 )
	if STORE.IsCatalogReady( f5_arg0 ) then
		for f5_local3, f5_local4 in pairs( STORE.CortezProductIDs ) do
			if InGameStore.GetProduct( f5_arg0, f5_local3 ) ~= nil then
				return true
			end
		end
	end
	return false
end

STORE.IsCortezOwned = function ( f4_arg0 )
	assert( f4_arg0 )
	if CONDITIONS.IsCZStandardOrCrossGenOwned( f4_arg0 ) or CONDITIONS.IsCZVaultOwned( f4_arg0 ) then
		return true
	elseif STORE.IsCatalogReady( f4_arg0 ) then
		local f4_local0 = false
		for f4_local5, f4_local6 in pairs( STORE.CortezProductIDs ) do
			local f4_local7 = InGameStore.GetProduct( f4_arg0, f4_local5 )
			local f4_local4
			if f4_local7 then
				f4_local4 = f4_local7
			else
				f4_local4 = f4_local7.status ~= InGameStoreProductStatus.NOT_OWNED
			end
			if f4_local4 then
				return true
			elseif f4_local7 ~= nil and not f4_local0 then
				f4_local0 = true
			end
		end
		if f4_local0 then
			return false
		end
		DebugPrint( "STORE.IsCortezOwned: Did not find Cortez product in InGameStore, returning nil" )
		return nil
	end
	DebugPrint( "STORE.IsCortezOwned: Catalog is not ready, returning nil" )
	return nil
end

STORE.CachedSchedule = nil
STORE.CachedRecommendations = {}
STORE.CachedCategoryLists = {}
STORE.CachedCategoryDvarValue = {}
STORE.GetCategoryItemIDs = function ( f3_arg0, f3_arg1 )
	if STORE.CachedCategoryLists[f3_arg0] and STORE.CachedCategoryLists[f3_arg0][f3_arg1.id] and STORE.CachedCategoryDvarValue[f3_arg0][f3_arg1.id][1] == Dvar.CFHDGABACF( "LSRQOQNRMM" ) and STORE.CachedCategoryDvarValue[f3_arg0][f3_arg1.id][2] == Dvar.IBEGCHEFE( "OKMSPKPMLO" ) and STORE.CachedCategoryDvarValue[f3_arg0][f3_arg1.id][3] == Dvar.DHEEJCCJBH( "LQQSPONNOK" ) and STORE.CachedCategoryDvarValue[f3_arg0][f3_arg1.id][4] == Dvar.DHEEJCCJBH( "MMOOTLNTNR" ) then
		return STORE.CachedCategoryLists[f3_arg0][f3_arg1.id]
	end
	DebugPrint( "STORE.GetCategoryItemIDs evaluate cache " .. tostring( f3_arg1.id ) )
	if not STORE.CachedSchedule then
		local f3_local0 = Engine.EHGIGBJJC( Store.EHGIGBJJC() )
		if f3_local0.scheduleFilename then
			STORE.CachedSchedule = Engine.DBABFCGGIC( f3_local0.scheduleFilename )
		end
	end
	local f3_local1 = STORE.CachedSchedule
	if not STORE.CachedRecommendations[f3_arg0] then
		STORE.CachedRecommendations[f3_arg0] = STORE.CheckForPersonalRecommendations( f3_arg0 )
	end
	local f3_local0 = STORE.CachedRecommendations[f3_arg0]
	local f3_local2 = ""
	if not Dvar.IBEGCHEFE( "OKMSPKPMLO" ) then
		if f3_local1 then
			f3_local2 = STORE.GetScheduledProductsForCategory( f3_arg1, f3_local1 )
		end
		local f3_local3 = ""
		if f3_arg1.justForYou and f3_local0 then
			local f3_local4 = {
				items = f3_local0,
				isEnabled = true
			}
			f3_local3 = f3_local0
		elseif f3_arg1.commsLocationId then
			f3_local3 = Store.JGBAJAECG( f3_arg1.commsLocationId )
			if f3_local3 then
				f3_local3 = table.concat( STORE.TrimRecommendationsByBlacklistedItems( split( f3_local3, "," ) ), "," )
			end
		end
		f3_local2 = STORE.FormatRecommendationItems( f3_local2 .. "," .. f3_local3 )
	end
	if f3_arg1.idPubVar then
		f3_local2 = STORE.FormatRecommendationItems( f3_local2 .. "," .. (Dvar.DHEEJCCJBH( f3_arg1.idPubVar ) or "") )
	end
	if STORE.CategoryType[f3_arg1.id] == STORE.CategoryType.featured and STORE.ShouldModifyFeaturedItems( f3_arg0 ) then
		f3_local2 = STORE.GetPriorityFeaturedItems() .. "," .. f3_local2
	end
	local f3_local3 = {}
	local f3_local4 = split( f3_local2, "," )
	for f3_local5 = 1, #f3_local4, 1 do
		table.insert( f3_local3, tonumber( f3_local4[f3_local5] ) )
	end
	if not STORE.CachedCategoryDvarValue[f3_arg0] then
		STORE.CachedCategoryDvarValue[f3_arg0] = {}
	end
	if not STORE.CachedCategoryDvarValue[f3_arg0][f3_arg1.id] then
		STORE.CachedCategoryDvarValue[f3_arg0][f3_arg1.id] = {}
	end
	STORE.CachedCategoryDvarValue[f3_arg0][f3_arg1.id][1] = Dvar.CFHDGABACF( "LSRQOQNRMM" )
	STORE.CachedCategoryDvarValue[f3_arg0][f3_arg1.id][2] = Dvar.IBEGCHEFE( "OKMSPKPMLO" )
	STORE.CachedCategoryDvarValue[f3_arg0][f3_arg1.id][3] = Dvar.DHEEJCCJBH( "LQQSPONNOK" )
	STORE.CachedCategoryDvarValue[f3_arg0][f3_arg1.id][4] = Dvar.DHEEJCCJBH( "MMOOTLNTNR" )
	if not STORE.CachedCategoryLists[f3_arg0] then
		STORE.CachedCategoryLists[f3_arg0] = {}
	end
	STORE.CachedCategoryLists[f3_arg0][f3_arg1.id] = f3_local3
	return f3_local3
end

STORE.DLogRecordedInstalledDLCs = false
STORE.DLogRecordInstalledDLCs = function ( f2_arg0 )
	if not STORE.DLogRecordedInstalledDLCs and CONDITIONS.IsPS4() and STORE.IsCatalogReady( f2_arg0 ) then
		local f2_local0 = InGameStore.GetCategoryProducts( f2_arg0, STORE.GameDLCCategory )
		if f2_local0 then
			local f2_local1 = {}
			for f2_local2 = 1, #f2_local0, 1 do
				local f2_local5 = f2_local0[f2_local2]
				if f2_local5.status == InGameStoreProductStatus.INSTALLED then
					f2_local1[#f2_local1 + 1] = f2_local5.skuId
				end
			end
			Engine.CEJJDJJHIJ( f2_arg0, "dlog_event_installed_dlcs", {
				sku_ids = f2_local1
			} )
		end
	end
	STORE.DLogRecordedInstalledDLCs = true
end

STORE.BundleBlacklistCache = {}
STORE.BundleBlacklistValue = nil
STORE.IsBundleBlacklisted = function ( f1_arg0 )
	local f1_local0 = Dvar.DHEEJCCJBH( "MKNQKSTPMR" )
	if f1_local0 ~= STORE.BundleBlacklistValue then
		STORE.BundleBlacklistCache = {}
		local f1_local1 = split( f1_local0, "," )
		for f1_local2 = 1, #f1_local1, 1 do
			STORE.BundleBlacklistCache[tonumber( f1_local1[f1_local2] )] = 1
		end
		STORE.BundleBlacklistValue = f1_local0
	end
	return STORE.BundleBlacklistCache[f1_arg0] ~= nil
end

