-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
CONTENT_GRIDS = CONTENT_GRIDS or {}
CONTENT_GRIDS.TYPES = {
	VEHICLES = 0,
	OPERATORS = 1
}
CONTENT_GRIDS.BUTTON_BEHAVIORS = {
	DEFAULT = 0,
	DOUBLE_SELECTION = 1
}
local f0_local0 = {
	[CONTENT_GRIDS.TYPES.VEHICLES] = {
		getContentFunction = function ()
			return VEHICLE.GetVehicleCategories()
		end,
		itemRefreshFunction = function ( f20_arg0, f20_arg1, f20_arg2 )
			local f20_local0 = VEHICLE.GetVehicleContentByRef( f20_arg1, f20_arg2.ref )
			if CONDITIONS.IsMobileOrMobileSim() then
				f20_arg0:SetupButton( {
					mobileHideFooter = true,
					imageSize = "2x1",
					removeEquipBanner = true,
					buttonData = {
						header = f20_arg2.name,
						image = f20_arg2.icon
					}
				} )
				f20_arg0:SetPrimaryPromptText( 0xAFB88FBDAA55912 )
				f20_arg0:SetButtonDisabled( f20_arg2.isLocked )
			else
				f20_arg0:SetupVehicleButton( f20_local0.vehicleInfo, f20_local0.vehicleData )
			end
			f20_arg0._ref = f20_arg2.ref
		end,
		getDefaultFocusIndexFunction = function ( f19_arg0, f19_arg1 )
			local f19_local0 = LUI.FlowManager.GetScopedData( LOOT.GetVehicleMenuRef() )
			local f19_local1 = 0
			if f19_local0.currentVehicleRef then
				for f19_local5, f19_local6 in ipairs( f19_arg1 ) do
					if f19_local6.ref == f19_local0.currentVehicleRef then
						return f19_local5 - 1
					end
				end
			end
			return 0
		end,
		gridPreSetupFunction = function ( f18_arg0, f18_arg1, f18_arg2 )
			if CONDITIONS.IsMobileOrMobileSim() then
				f18_arg2.activeMode = GRID_AND_LIST.ActiveBehaviorType.TOUCHEND
			end
			return f18_arg2
		end,
		getButtonBehaviorFunction = function ( f17_arg0 )
			if CONDITIONS.IsMobileOrMobileSim() then
				return CONTENT_GRIDS.BUTTON_BEHAVIORS.DOUBLE_SELECTION
			else
				return CONTENT_GRIDS.BUTTON_BEHAVIORS.DEFAULT
			end
		end
	},
	[CONTENT_GRIDS.TYPES.OPERATORS] = {
		getContentFunction = function ( f16_arg0 )
			return OPERATOR.GetCurrentFactionOperators( f16_arg0 )
		end,
		itemRefreshFunction = function ( f15_arg0, f15_arg1, f15_arg2 )
			if not CONDITIONS.IsMobileOrMobileSim() then
				return 
			end
			local f15_local0 = f15_arg2.ref
			local f15_local1 = OPERATOR.GetOperatorDataForOperatorRef( f15_arg1, f15_local0 )
			f15_arg0:SetupButton( {
				removeTextBacker = true,
				imageSize = "ImageFull",
				buttonData = {
					image = f15_local1.icon,
					header = f15_local1.name
				}
			} )
			f15_arg0._ref = f15_local0
			local f15_local2 = LUI.FlowManager.GetScopedData( OPERATOR.SelectMenuRef )
			local f15_local3 = f15_local2.operatorData.currentState
			local f15_local4 = LOADOUT.GetCustomizationSetup( f15_arg1 )
			local f15_local5 = f15_local4.operators[f15_local3]:get() == f15_local0
			f15_arg0:SetEquipped( f15_local5 )
			if f15_local5 then
				f15_arg0:ElementEnable( {
					controller = f15_arg1
				} )
				f15_arg0:processEvent( {
					name = "mobile_button_simple_refresh"
				} )
			end
			f15_arg0:SetDisabled( not OPERATOR.IsUnlocked( f15_arg1, f15_local0 ) )
		end,
		getDefaultFocusIndexFunction = function ( f14_arg0, f14_arg1 )
			local f14_local0 = LUI.FlowManager.GetScopedData( OPERATOR.SelectMenuRef )
			local f14_local1 = f14_local0.operatorData.currentState
			local f14_local2 = LOADOUT.GetCustomizationSetup( f14_arg0 )
			local f14_local3 = f14_local2.operators[f14_local1]:get()
			for f14_local7, f14_local8 in ipairs( f14_arg1 ) do
				if f14_local8.ref == f14_local3 then
					return f14_local7 - 1
				end
			end
			return 0
		end,
		gridPreSetupFunction = function ( f13_arg0, f13_arg1, f13_arg2 )
			if not CONDITIONS.IsMobileOrMobileSim() then
				return 
			else
				f13_arg2.activeMode = GRID_AND_LIST.ActiveBehaviorType.TOUCHEND
				return f13_arg2
			end
		end,
		getButtonBehaviorFunction = function ( f12_arg0 )
			return CONTENT_GRIDS.BUTTON_BEHAVIORS.DOUBLE_SELECTION
		end
	}
}
local f0_local1 = function ( f6_arg0, f6_arg1, f6_arg2, f6_arg3 )
	local f6_local0 = function ( f11_arg0, f11_arg1 )
		f6_arg0:processEvent( {
			name = "on_item_focused",
			ref = f11_arg0._ref,
			controller = f6_arg0
		} )
	end
	
	local f6_local1 = function ( f10_arg0, f10_arg1 )
		f6_arg0:processEvent( {
			disabled = false,
			name = "on_item_pressed",
			ref = f10_arg0._ref,
			controller = f6_arg0
		} )
	end
	
	local f6_local2 = function ( f9_arg0, f9_arg1 )
		f6_arg0:processEvent( {
			disabled = true,
			name = "on_item_pressed",
			ref = f9_arg0._ref,
			controller = f6_arg0
		} )
	end
	
	local f6_local3 = {
		[CONTENT_GRIDS.BUTTON_BEHAVIORS.DEFAULT] = function ( f8_arg0, f8_arg1 )
			f8_arg0:addEventHandler( "button_over", f6_arg0 )
			f8_arg0:addEventHandler( "button_over_disable", f6_arg0 )
			f8_arg0:addEventHandler( "button_over_active", f6_arg0 )
			f8_arg0:addEventHandler( "button_over_disable_active", f6_arg0 )
			f8_arg0:addEventHandler( "button_action", f6_arg0 )
			f8_arg0:addEventHandler( "button_action_disable", f6_arg0 )
		end,
		[CONTENT_GRIDS.BUTTON_BEHAVIORS.DOUBLE_SELECTION] = function ( f7_arg0, f7_arg1 )
			f7_arg0:addEventHandler( "button_over_disable_active", f6_arg0 )
			f7_arg0:addEventHandler( "button_disable_active", f6_arg0 )
			f7_arg0:addEventHandler( "button_over_active", f6_arg0 )
			f7_arg0:addEventHandler( "button_active", f6_arg0 )
			f7_arg0:addEventHandler( "button_action", f6_arg0 )
			f7_arg0:addEventHandler( "button_action_disable", f6_arg0 )
		end
	}
	f6_local3[f6_arg2]( f6_arg0, f6_arg1 )
end

CONTENT_GRIDS.RefreshGridAndRefocus = function ( f5_arg0 )
	f5_arg0:processEvent( {
		name = "lose_focus"
	} )
	f5_arg0:RefreshContent()
	f5_arg0:processEvent( {
		name = "gain_focus"
	} )
end

CONTENT_GRIDS.SetupContentGridWithData = function ( f1_arg0, f1_arg1, f1_arg2, f1_arg3 )
	local f1_local0 = f0_local0[f1_arg3]
	local f1_local1 = f1_local0.getContentFunction( f1_arg2 )
	local f1_local2 = {}
	if f1_local0.getDefaultFocusIndexFunction then
		f1_arg1:SetDefaultFocus( function ()
			return f1_arg0:GetPositionForIndex( f1_arg0:getDefaultFocusIndexFunction( f1_arg0 ), {
				relativePosition = false
			} )
		end )
	end
	if f1_local0.gridPreSetupFunction then
		f1_local2 = f1_local0.gridPreSetupFunction( f1_arg1, f1_arg2, f1_local2 )
	end
	f1_local2.initialSetupFunction = function ( f2_arg0, f2_arg1 )
		f2_arg0:registerEventHandler( "refresh_grid_child", function ( element, event )
			f2_arg0.itemRefreshFunction( element, event.controller, event.data )
		end )
		if f1_arg0.getButtonBehaviorFunction ~= nil then
			f1_arg0( f2_arg0, f2_arg1, f1_arg0.getButtonBehaviorFunction( f2_arg1 ), f1_arg0 )
		end
	end
	
	if f1_local0.getDefaultFocusIndexFunction then
		f1_local2.setActiveToDefaultFocus = true
	end
	f1_arg1:SetupWithData( f1_arg2, f1_local1, f1_local2 )
	if f1_local0.getDefaultFocusIndexFunction then
		local f1_local3 = f1_arg1:GetPositionForIndex( f1_local0.getDefaultFocusIndexFunction( f1_arg2, f1_local1 ), {
			relativePosition = false
		} )
		local f1_local4 = f1_arg1:GetElementAtPosition( f1_local3.x, f1_local3.y )
		f1_arg1:processEvent( {
			name = "lose_focus"
		} )
		f1_arg1:processEvent( {
			name = "gain_focus"
		} )
	end
end

