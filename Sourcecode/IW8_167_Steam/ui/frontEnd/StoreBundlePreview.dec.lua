-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 17-11-2025 01:21
module( ..., package.seeall )
local f0_local0 = "button_alt1"
local f0_local1 = 200
local f0_local2 = function ( f63_arg0 )
	if f63_arg0._isItemGiftable and f63_arg0._previewsEnabled and CONDITIONS.IsGiftingEnabled() then
		f63_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "left",
			button_ref = "button_alt2",
			priority = 2,
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU_MP/GIFT_BUNDLE" )
		} )
	else
		f63_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
			side = "left",
			button_ref = "button_alt2"
		} )
	end
end

local f0_local3 = function ()
	if Engine.CIEGIACHAE() then
		InGameStore.ShowStoreIcon( false )
	end
end

MenuBuilder.registerType( "PurchaseCODPointsPopup", function ( f61_arg0, f61_arg1 )
	local f61_local0 = MenuBuilder.BuildRegisteredType( "FlyInPopup", {
		primaryButtonText = "LUA_MENU/PURCHASE",
		controllerIndex = f61_arg1.controllerIndex,
		widget = MenuBuilder.BuildRegisteredType( "PurchaseCPPopup", f61_arg1 )
	} )
	f61_local0.id = "PurchaseCODPointsPopup"
	return f61_local0
end )
LUI.FlowManager.RegisterStackPopBehaviour( "PurchaseCODPointsPopup", f0_local3 )
local f0_local4 = function ( f51_arg0, f51_arg1, f51_arg2 )
	local f51_local0, f51_local1, f51_local2, f51_local3 = f51_arg1.Card:getLocalRect()
	ACTIONS.AnimateSequence( f51_arg1.Card, "ShowPurchasedFrame" )
	local f51_local4 = function ()
		local f57_local0 = LOOT.GetBundleItemsMappedByType( f51_arg0._bundleID )
		if f57_local0[LOOT.itemTypes.BATTLE_PASS] and CONDITIONS.IsBattlePassEnabled() then
			local f57_local1 = f51_arg0:Wait( 3000 )
			f57_local1.onComplete = function ()
				if BATTLEPASS.GetTier( f57_local0._controllerIndex ) < BATTLEPASS.GetMaxTier() then
					local f59_local0 = {
						tierSkipID = f57_local0[LOOT.itemTypes.BATTLE_PASS][1]
					}
					Engine.BJDBIAGIDA( SOUND_SETS.storefront.smokeCardSlam )
					LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f57_local0._controllerIndex, false, f59_local0 )
					local f59_local1 = f57_local0:Wait( 1500 )
					f59_local1.onComplete = function ()
						f59_local0._purchasedAnimation = false
						f59_local0._previewsEnabled = true
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup", true, true )
						f59_local0.displayUpsellPopup = f59_local0._displayUpsellPopup
						f59_local0.allowTierBank = f59_local0._bundleID == BATTLEPASS.WarzoneTierSkipBundleID
						if f59_local0._bundleID == tonumber( BATTLEPASS.GetTierSkipGiftID() ) then
							local f60_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
							if f60_local0.returnToMainMenu then
								f59_local0.returnToMainMenu = f60_local0.returnToMainMenu
								f60_local0.returnToMainMenu = nil
							end
						end
						LUI.FlowManager.RequestAddMenu( "BattlePassMenuPopup", true, f59_local0._controllerIndex, false, f59_local0, true )
						f59_local0.isQuickAccessShortcutsDisabled = false
					end
					
				end
				f57_local0._purchasedAnimation = false
				f57_local0._previewsEnabled = true
				f57_local0.ItemsGrid:RefreshContent()
			end
			
		else
			if f51_arg0._displayUpsellPopup then
				local f57_local1 = f51_arg0:Wait( 3000 )
				f57_local1.onComplete = function ()
					STORE.OpenBundleUpsellPopup( f57_local0._controllerIndex )
				end
				
			end
			f51_arg0._purchasedAnimation = false
			f51_arg0._previewsEnabled = true
			f51_arg0.ItemsGrid:RefreshContent()
			f51_arg0.isQuickAccessShortcutsDisabled = false
		end
		f51_arg0( f51_arg0 )
	end
	
	local f51_local5 = nil
	f51_local5 = function ()
		local f55_local0 = math.random( -10, 10 ) * _1080p
		local f55_local1 = math.random( -10, 10 ) * _1080p
		local f55_local2 = LUI.EASING.linear
		local f55_local3 = math.random( 10, 30 )
		local f55_local4 = math.random( -4, 4 )
		local f55_local5 = f51_arg0.Card:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, f51_arg0 + f55_local1, f51_arg0 + f55_local1, f51_arg0 + f55_local0, f51_arg0 + f55_local0, f55_local3, f55_local2 )
		f55_local5.onComplete = function ()
			if f55_local0._shouldDoCustomJitterAnim then
				f55_local0()
			else
				f55_local0.Card:SetZRotation( 0, f55_local0, f55_local0 )
				f55_local0.Card:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, f55_local0, f55_local0, f55_local0, f55_local0, f55_local0, f55_local0 )
				if f55_local0 then
					f55_local0()
				end
			end
		end
		
	end
	
	local f51_local6 = 100
	f51_arg1:SetScale( 1 )
	f51_arg1:SetAlpha( 1, f51_local6, LUI.EASING.outBack )
	f51_arg1:SetScale( 0, f51_local6, LUI.EASING.outBack )
	local f51_local7 = f51_arg1:Wait( f51_local6 )
	f51_local7.onComplete = function ()
		f51_arg0._shouldDoCustomJitterAnim = true
		f51_arg0()
		if f51_arg0._lootType == LOOT.itemTypes.BATTLE_PASS and CONDITIONS.IsBattlePassEnabled() then
			f51_arg0.Flare:PlayFlareSprite( "BattlePassPurchased" )
			local f52_local0 = f51_arg0:Wait( 1500 )
			f52_local0.onComplete = function ()
				Engine.BJDBIAGIDA( SOUND_SETS.storefront.smokePoof )
				f52_local0.Flare:PlayFlareSprite( "Smoke" )
				f52_local0:SetAlpha( 0.3, 1500 )
			end
			
		else
			f51_arg0.Flare:PlayFlareSprite( LOOT.RarityEffects[f51_arg0._rarity] and LOOT.RarityEffects[f51_arg0._rarity].flareRef or "Base" )
		end
		local f52_local0 = f51_arg0:Wait( 50 )
		f52_local0.onComplete = function ()
			f52_local0._shouldDoCustomJitterAnim = false
		end
		
	end
	
end

local f0_local5 = function ( f48_arg0, f48_arg1 )
	local f48_local0 = function ()
		f48_arg0:addElement( LOOT.GetLootFlareMaterialStreamer() )
		f48_arg0:processEvent( {
			name = "bundle_purchase_complete"
		} )
		Loot.HAJHHFGJJ( f48_arg0, STORE.GetBundlePurchaseID( f48_arg0, f48_arg0._bundleID ) )
		LUI.FlowManager.RequestPopupMenu( nil, "LootPurchasingPopup", true, f48_arg0, false, {
			message = "LUA_MENU_MP/PURCHASE"
		} )
		f48_arg0.HelperBar:SetAlpha( 0 )
		local f50_local0 = LUI.FlowManager.GetScopedData( f48_arg0 )
		if f50_local0.oneModBlueprintStore then
			LUI.FlowManager.RequestLeaveMenuByName( "WeaponLocker" )
		end
		if f48_arg0._upsellMenu then
			Engine.CEJJDJJHIJ( f48_arg0, "dlog_event_purchase_bundle_through_upsell", {
				bundle_id = tostring( f48_arg0._bundleID ),
				upsell_menu = f48_arg0._upsellMenu
			} )
		end
	end
	
	if Engine.DBFCJBDJEC() and Engine.DDHFCGHJEA() then
		LUI.FlowManager.RequestPopupMenu( nil, "StoreConfirmPurchaseKoreaLegalPupup", true, f48_arg1, false, {
			itemName = f48_arg0._itemName,
			itemImage = f48_arg0._itemImage,
			itemCurrencyID = f48_arg0._currencyID,
			itemCurrencyAmount = f48_arg0._currencyAmount,
			confirmAction = function ()
				f48_arg0()
			end
		}, nil, false, true )
	else
		f48_local0()
	end
end

local f0_local6 = function ( f46_arg0, f46_arg1, f46_arg2, f46_arg3, f46_arg4 )
	if f46_arg0._isOwned then
		
	else
		
	end
	if QUARTERMASTER.itemData then
		QUARTERMASTER.RecordItemBrowseEvent( f46_arg0._controllerIndex, false, f46_arg0._sourceMenu )
	end
	if f46_arg0._isFirstParty and f46_arg0._firstPartyPurchase then
		f46_arg0._firstPartyPurchase()
	end
	if Commerce.CEDDCGHIGA( f46_arg3, f46_arg0._currencyID ) < f46_arg0._currencyAmount then
		STORE.EnterStore( f46_arg3, f46_arg1, f46_arg2.id, {
			showBalance = true,
			controllerIndex = f46_arg3,
			currencyID = f46_arg0._currencyID,
			currencyAmount = f46_arg0._currencyAmount
		}, "PurchaseCODPointsPopup", true )
	else
		local f46_local0 = {
			itemName = f46_arg0._itemName,
			itemImage = f46_arg0._itemImage,
			itemCurrencyID = f46_arg0._currencyID,
			itemCurrencyAmount = f46_arg0._currencyAmount,
			showDisclaimer = f46_arg0._showDisclaimer,
			startPurchaseImmediately = f46_arg4,
			alreadyOwnedCount = f46_arg0._alreadyOwnedCount,
			consumablesCount = f46_arg0._consumablesCount,
			confirmAction = function ()
				f46_arg0( f46_arg0, f46_arg0 )
			end
		}
		local f46_local1 = LUI.FlowManager.GetScopedData( f46_arg0 )
		f46_local0.bundleExclusivity = f46_local1.bundleExclusivity
		f46_local0.doesBundleHave1ExclusiveItem = f46_local1.doesBundleHave1ExclusiveItem
		Engine.BJDBIAGIDA( SOUND_SETS.storefront.purchaseBundle )
		LUI.FlowManager.RequestPopupMenu( nil, "StoreConfirmPurchasePopup", true, f46_arg3, false, f46_local0, nil, false, true )
	end
end

local f0_local7 = function ( f45_arg0, f45_arg1, f45_arg2, f45_arg3 )
	STORE.EnterStore( f45_arg3, f45_arg1, f45_arg2.id, {
		showBalance = true,
		controllerIndex = f45_arg3,
		currencyID = f45_arg0._currencyID,
		currencyAmount = f45_arg0._currencyAmount
	}, "PurchaseCODPointsPopup", true )
end

local f0_local8 = function ( f43_arg0 )
	return function ( f44_arg0, f44_arg1 )
		if f44_arg1.name == f43_arg0 and LUI.IsLastInputKeyboardMouse( f44_arg1.controller ) then
			return 
		else
			local f44_local0 = f43_arg0
			local f44_local1 = f43_arg0
			local f44_local2 = f43_arg0:GetCurrentMenu()
			f44_local0( f44_local1, f44_local2.id, f44_arg0, f44_arg1.controller, false )
		end
	end
	
end

local f0_local9 = function ( f42_arg0, f42_arg1 )
	if f42_arg1.name == f0_local0 and LUI.IsLastInputKeyboardMouse( f42_arg1.controller ) then
		return 
	end
	local f42_local0 = f42_arg0:getParent()
	local f42_local1 = tonumber( f42_local0._items[f42_local0.ItemsGrid:GetFocusPositionIndex() + 1] )
	local f42_local2 = LOOT.GetTypeForID( f42_local1 )
	local f42_local3 = LOOT.GetItemName( f42_local2, LOOT.GetItemRef( f42_local2, f42_local1 ), f42_local1 )
	local f42_local4 = nil
	if LOOT.IsItemTypeQuickEquipable( f42_local2 ) and f42_local0._isOwned and LOOT.IsItemIDEquippableByCurrentGameMode( f42_local1 ) then
		if f42_local2 == LOOT.itemTypes.OPERATOR_SKIN then
			local f42_local5 = StringTable.DIFCHIGDFB( CSV.operatorSkinIDs.file, CSV.operatorSkinIDs.cols.id, f42_local1, CSV.operatorSkinIDs.cols.ref )
			if f42_local5 and 0 < #f42_local5 then
				local f42_local6 = StringTable.DIFCHIGDFB( CSV.operatorSkins.file, CSV.operatorSkins.cols.ref, f42_local5, CSV.operatorSkins.cols.lootIndex )
				local f42_local7 = StringTable.DIFCHIGDFB( CSV.operatorSkins.file, CSV.operatorSkins.cols.ref, f42_local5, CSV.operatorSkins.cols.operatorRef )
				local f42_local8 = OPERATOR.GetSuperFactionIndexForPlayerData( f42_local7 )
				local f42_local9 = {
					operatorFaction = f42_local8,
					operatorRef = f42_local7
				}
				RANDOM.SetEnabled( f42_local0._controllerIndex, LOOT.itemTypes.OPERATOR_SKIN, false, f42_local9 )
				OPERATOR.SetEquippedItemForLootType( f42_local0._controllerIndex, f42_local7, f42_local2, f42_local6 )
				Lobby.PreloadViewHandsForLocalPlayer( f42_local0._controllerIndex )
				f42_local4 = {
					iconScale = 4.667263495923649E-62,
					displayTime = 3000,
					icon = "cac_equip_fill",
					iconColor = SWATCHES.genericMenu.notificationHighlight,
					header = Engine.CBBHFCGDIC( "LUA_MENU/SKIN_SELECTED" ),
					description = f42_local3,
					type = LUI.ToastManager.NotificationType.SkinEquipped,
					controllerIndex = f42_local0._controllerIndex
				}
				local f42_local10 = PlayerData.BFFBGAJGD( f42_local0._controllerIndex, LOADOUT.GetLoadoutStatsGroup() )
				f42_local10 = f42_local10.customizationSetup
				local f42_local11 = f42_local10.operators[f42_local8]:get()
				RANDOM.SetEnabled( f42_local0._controllerIndex, LOOT.itemTypes.OPERATOR, false, f42_local9 )
				f42_local10.operators[f42_local8]:set( f42_local7 )
				f42_local10.selectedOperatorIndex:set( f42_local8 )
				f42_local0:dispatchEventToRoot( {
					name = "send_toast_notification",
					immediate = true,
					options = {
						iconScale = 4.667263495923649E-62,
						displayTime = 3000,
						icon = "cac_equip_fill",
						iconColor = SWATCHES.genericMenu.notificationHighlight,
						header = Engine.CBBHFCGDIC( "LUA_MENU/OPERATOR_SELECTED" ),
						description = Engine.CBBHFCGDIC( OPERATOR.GetName( f42_local7 ) ),
						type = LUI.ToastManager.NotificationType.OperatorEquipped,
						controllerIndex = f42_local0._controllerIndex
					}
				} )
				Engine.DAGFFDGFII( "uploadstats", f42_local0._controllerIndex )
			end
		elseif f42_local2 == LOOT.itemTypes.OPERATOR_EXECUTION then
			local f42_local5 = StringTable.DIFCHIGDFB( CSV.executionsIds.file, CSV.executionsIds.cols.id, f42_local1, CSV.executionsIds.cols.ref )
			if f42_local5 and 0 < #f42_local5 then
				OPERATOR.SetEquippedItemForLootType( f42_local0._controllerIndex, OPERATOR.GetOperatorRefByLootTypeAndID( f42_local2, f42_local1, f42_local0._controllerIndex ), f42_local2, StringTable.DIFCHIGDFB( CSV.operatorExecutions.file, CSV.operatorExecutions.cols.ref, f42_local5, CSV.operatorExecutions.cols.lootIndex ) )
				Lobby.PreloadViewHandsForLocalPlayer( f42_local0._controllerIndex )
				f42_local4 = {
					iconScale = 4.667263495923649E-62,
					displayTime = 3000,
					icon = "cac_equip_fill",
					iconColor = SWATCHES.genericMenu.notificationHighlight,
					header = Engine.CBBHFCGDIC( "LUA_MENU/EXECUTION_SELECTED" ),
					description = f42_local3,
					type = LUI.ToastManager.NotificationType.ExecutionEquipped,
					controllerIndex = f42_local0._controllerIndex
				}
			end
		elseif f42_local2 == LOOT.itemTypes.WATCH then
			local f42_local5 = WATCH.GetEquippedWatch( f42_local0._controllerIndex )
			local f42_local6 = StringTable.DIFCHIGDFB( CSV.accessoryIds.file, CSV.accessoryIds.cols.id, f42_local1, CSV.accessoryIds.cols.ref )
			if f42_local6 and 0 < #f42_local6 then
				WATCH.SetEquippedWatch( f42_local0._controllerIndex, f42_local6, f42_local5 )
			end
		elseif f42_local2 == LOOT.itemTypes.PLAYERCARD then
			local f42_local5 = StringTable.DIFCHIGDFB( CSV.playercardsIds.file, CSV.playercardsIds.cols.id, f42_local1, CSV.playercardsIds.cols.ref )
			if f42_local5 and 0 < #f42_local5 then
				local f42_local6 = StringTable.DIFCHIGDFB( CSV.callingCards.file, CSV.callingCards.cols.ref, f42_local5, CSV.callingCards.cols.index )
				Playercard.DAHDCGCDEC( f42_local0._controllerIndex )
				Playercard.CGGBAHFGAF( f42_local0._controllerIndex, f42_local6 )
				Playercard.FCBJJBFBJ( f42_local0._controllerIndex )
				f42_local4 = {
					displayTime = 2000,
					icon = CallingCardUtils.GetCardTexture( f42_local6 ) or "hud_cmd_active_backer",
					header = Engine.CBBHFCGDIC( "LUA_MENU/PLAYERCARD_EQUIPPED" ),
					description = f42_local3,
					type = LUI.ToastManager.NotificationType.PlayerCardEquipped,
					controllerIndex = f42_local0._controllerIndex
				}
				RANDOM.SetEnabled( f42_local0._controllerIndex, LOOT.itemTypes.PLAYERCARD, false )
			end
		elseif f42_local2 == LOOT.itemTypes.EMBLEM then
			local f42_local5 = StringTable.DIFCHIGDFB( CSV.emblemsIds.file, CSV.emblemsIds.cols.id, f42_local1, CSV.emblemsIds.cols.ref )
			if f42_local5 and 0 < #f42_local5 then
				local f42_local6 = StringTable.DIFCHIGDFB( CSV.emblems.file, CSV.emblems.cols.ref, f42_local5, CSV.emblems.cols.index )
				Playercard.DAHDCGCDEC( f42_local0._controllerIndex )
				Playercard.DBBICFEAGH( f42_local0._controllerIndex, f42_local6 )
				Playercard.FCBJJBFBJ( f42_local0._controllerIndex )
				f42_local4 = {
					displayTime = 2000,
					icon = EmblemEditorUtils.GetEmblemImageFromID( f42_local6 ) or "hud_cmd_active_backer",
					header = Engine.CBBHFCGDIC( "LUA_MENU/EMBLEM_EQUIPPED" ),
					description = f42_local3,
					type = LUI.ToastManager.NotificationType.EmblemEquipped,
					controllerIndex = f42_local0._controllerIndex
				}
				RANDOM.SetEnabled( f42_local0._controllerIndex, LOOT.itemTypes.EMBLEM, false )
			end
		elseif f42_local2 == LOOT.itemTypes.TITLE then
			local f42_local5 = StringTable.DIFCHIGDFB( CSV.playerCardTitleIds.file, CSV.playerCardTitleIds.cols.id, f42_local1, CSV.playerCardTitleIds.cols.ref )
			if f42_local5 and 0 < #f42_local5 then
				local f42_local6 = StringTable.DIFCHIGDFB( CSV.callingCardTitles.file, CSV.callingCardTitles.cols.ref, f42_local5, CSV.callingCardTitles.cols.index )
				local f42_local7 = StringTable.DIFCHIGDFB( CSV.callingCardTitles.file, CSV.callingCardTitles.cols.ref, f42_local5, CSV.callingCardTitles.cols.name )
				Playercard.DAHDCGCDEC( f42_local0._controllerIndex )
				Playercard.DAIIIAHAHH( f42_local0._controllerIndex, f42_local6 )
				Playercard.FCBJJBFBJ( f42_local0._controllerIndex )
				f42_local4 = {
					displayTime = 2000,
					header = Engine.CBBHFCGDIC( "LUA_MENU/PLAYERCARD_EQUIPPED" ),
					description = Engine.CBBHFCGDIC( f42_local7 ),
					type = LUI.ToastManager.NotificationType.TitleEquipped,
					controllerIndex = f42_local0._controllerIndex
				}
				RANDOM.SetEnabled( f42_local0._controllerIndex, LOOT.itemTypes.TITLE, false )
			end
		elseif f42_local2 == LOOT.itemTypes.VEHICLE_CAMO then
			local f42_local5 = StringTable.DIFCHIGDFB( CSV.vehicleCamos.file, CSV.vehicleCamos.cols.lootID, f42_local1, CSV.vehicleCamos.cols.vehicleRef )
			if f42_local5 and 0 < #f42_local5 then
				local f42_local6 = VEHICLE.GetPlayerData( f42_local0._controllerIndex, f42_local5 )
				f42_local6.camo:set( f42_local1 )
				f42_local4 = {
					iconScale = 4.667263495923649E-62,
					displayTime = 1500,
					icon = "cac_equip_fill",
					iconColor = SWATCHES.genericMenu.notificationHighlight,
					header = Engine.CBBHFCGDIC( "LUA_MENU/EQUIPPED_VEH_CAMO" ),
					description = f42_local3,
					controllerIndex = f42_local0._controllerIndex
				}
				RANDOM.SetEnabled( f42_local0._controllerIndex, LOOT.itemTypes.VEHICLE_CAMO, false, {
					vehicleRef = f42_local5
				} )
			end
		elseif f42_local2 == LOOT.itemTypes.VEHICLE_HORN then
			local f42_local5 = StringTable.DIFCHIGDFB( CSV.vehicleHornIds.file, CSV.vehicleHornIds.cols.id, f42_local1, CSV.vehicleHornIds.cols.ref )
			if f42_local5 and 0 < #f42_local5 then
				local f42_local6 = StringTable.DIFCHIGDFB( CSV.vehicleHorns.file, CSV.vehicleHorns.cols.ref, f42_local5, CSV.vehicleHorns.cols.index )
				local f42_local7 = VEHICLE.GetAllVehicles( f42_local0._controllerIndex )
				for f42_local8 = 1, #f42_local7, 1 do
					local f42_local12 = f42_local7[f42_local8]
					local f42_local13 = VEHICLE.GetPlayerData( f42_local0._controllerIndex, f42_local12.ref )
					f42_local13.horn:set( f42_local6 )
					RANDOM.SetEnabled( f42_local0._controllerIndex, LOOT.itemTypes.VEHICLE_HORN, false, {
						vehicleRef = f42_local12.ref
					} )
				end
				f42_local4 = {
					iconScale = 4.667263495923649E-62,
					displayTime = 1500,
					icon = "cac_equip_fill",
					iconColor = SWATCHES.genericMenu.notificationHighlight,
					header = Engine.CBBHFCGDIC( "LUA_MENU/EQUIPPED_VEH_HORN" ),
					description = f42_local3,
					controllerIndex = f42_local0._controllerIndex
				}
			end
		end
		Engine.BJDBIAGIDA( SOUND_SETS.default.action )
	end
	if f42_local4 then
		f42_local0:dispatchEventToRoot( {
			name = "send_toast_notification",
			immediate = true,
			options = f42_local4
		} )
	end
end

local f0_local10 = function ( f41_arg0 )
	local f41_local0 = f41_arg0._isOwned and f0_local0 or f0_local0( f41_arg0 )
	f41_arg0.bindButton:registerEventHandler( "button_alt1", f41_local0 )
	f41_arg0.bindButton:addEventHandler( "button_start", f41_local0 )
end

local f0_local11 = function ( f39_arg0 )
	return function ( f40_arg0, f40_arg1 )
		local f40_local0 = f39_arg0
		local f40_local1 = f39_arg0
		local f40_local2 = f39_arg0:GetCurrentMenu()
		f40_local0( f40_local1, f40_local2.id, f40_arg0, f40_arg1.controller )
	end
	
end

local f0_local12 = function ( f38_arg0, f38_arg1 )
	local f38_local0 = LUI.FlowManager.GetScopedData( f38_arg0 )
	STORE.SetupGameExclusiveStatusOfBundle( f38_arg1, f38_local0 )
	ACTIONS.AnimateSequence( f38_arg0, "Setup" )
	local f38_local1 = {}
	local f38_local2 = LOOT.itemSourceExclusivity.MW_WZ
	local f38_local3 = {}
	local f38_local4
	if f38_local0.doesBundleHave1ExclusiveItem then
		f38_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_W_EXCLUSIVE_ITEM_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU/TEXTCHAT_GAMENAME_MW" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
		if not f38_local4 then
		
		else
			f38_local3.exclusivityText = f38_local4
			f38_local1[f38_local2] = f38_local3
			f38_local1[LOOT.itemSourceExclusivity.MW_EXCLUSIVE] = {
				exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU/TEXTCHAT_GAMENAME_MW" ) ) )
			}
			f38_local2 = LOOT.itemSourceExclusivity.CW_WZ
			f38_local3 = {}
			if f38_local0.doesBundleHave1ExclusiveItem then
				f38_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_W_EXCLUSIVE_ITEM_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
				if not f38_local4 then
				
				else
					f38_local3.exclusivityText = f38_local4
					f38_local1[f38_local2] = f38_local3
					f38_local1[LOOT.itemSourceExclusivity.CW_EXCLUSIVE] = {
						exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ) )
					}
					f38_local1[LOOT.itemSourceExclusivity.CW_ZOMBIES_EXCLUSIVE] = {
						exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ) )
					}
					f38_local2 = LOOT.itemSourceExclusivity.VG_WZ
					f38_local3 = {}
					if f38_local0.doesBundleHave1ExclusiveItem then
						f38_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_W_EXCLUSIVE_ITEM_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "MENU/STORE_CAT_X2" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
						if not f38_local4 then
						
						else
							f38_local3.exclusivityText = f38_local4
							f38_local1[f38_local2] = f38_local3
							f38_local1[LOOT.itemSourceExclusivity.VG_EXCLUSIVE] = {
								exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "MENU/STORE_CAT_X2" ) ) )
							}
							f38_local1[LOOT.itemSourceExclusivity.CW_MW_EXCLUSIVE] = {
								exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/TWO_GAME_EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU/TEXTCHAT_GAMENAME_MW" ) ) )
							}
							f38_local1[LOOT.itemSourceExclusivity.CW_VG_EXCLUSIVE] = {
								exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/TWO_GAME_EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "MENU/STORE_CAT_X2" ) ) )
							}
							f38_local1[LOOT.itemSourceExclusivity.MW_VG_EXCLUSIVE] = {
								exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/TWO_GAME_EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU/TEXTCHAT_GAMENAME_MW" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "MENU/STORE_CAT_X2" ) ) )
							}
							f38_arg0.SnipeIcon:UpdateSnipeIcon( {
								selected = true,
								gameSourceExclusivityID = f38_local0.bundleExclusivity,
								alignment = LUI.Alignment.Left
							} )
							if f38_local1[f38_local0.bundleExclusivity] then
								f38_arg0.EquippabilityText:setText( f38_local1[f38_local0.bundleExclusivity].exclusivityText )
							end
						end
					end
					f38_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "MENU/STORE_CAT_X2" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
				end
			end
			f38_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
		end
	end
	f38_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU/TEXTCHAT_GAMENAME_MW" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
end

local f0_local13 = function ()
	if Engine.CIEGIACHAE() then
		InGameStore.ShowStoreIcon( false )
	end
end

local f0_local14 = function ( f14_arg0, f14_arg1, f14_arg2 )
	if CONDITIONS.IsDemoBuildOrDevBuildOrAreDevFeaturesEnabled() and f14_arg2.bundleID == nil then
		local f14_local0 = tonumber( Dvar.DHEEJCCJBH( "online_store_bundle_id" ) )
		if f14_local0 and f14_local0 ~= 0 then
			f14_arg2.bundleID = f14_local0
			f14_arg2.currencyID = LOOT.CurrencyIDs.COD_POINTS
		end
	end
	assert( f14_arg2.bundleID )
	Engine.BJDBIAGIDA( SOUND_SETS.storefront.windowAppear )
	f14_arg0:addElement( LOOT.GetLootSmokeMaterialStreamer() )
	f14_arg0._bundleID = f14_arg2.bundleID
	f14_arg0._timerValue = f14_arg2.timerValue
	local f14_local0
	if not f14_arg1 then
		f14_local0 = f14_arg1
	else
		f14_local0 = Engine.IJEBHJIJF()
	end
	f14_arg0._controllerIndex = f14_local0
	f14_arg0._previewsEnabled = true
	f14_arg0._promotedItems = STORE.ParsePromotedItems( f14_arg1 )
	f14_arg0._showDisclaimer = false
	f14_arg0._alreadyOwnedCount = 0
	f14_arg0._consumablesCount = 0
	f14_arg0._totalTierSkips = 0
	f14_arg0._curBattlePassTier = BATTLEPASS.GetTier( f14_arg1 )
	f14_arg0._displayUpsellPopup = f14_arg2.displayUpsellPopup
	f14_arg0._itemName = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f14_arg0._bundleID, CSV.bundleIDs.cols.name )
	f14_arg0._itemImage = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f14_arg0._bundleID, CSV.bundleIDs.cols.titleImage )
	f14_arg0._discountPercent = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f14_arg0._bundleID, CSV.bundleIDs.cols.discountPercent )
	f14_arg0._positionInGrid = f14_arg2.positionInGrid
	f14_arg0._categoryIndex = f14_arg2.categoryIndex
	f14_arg0._categoryName = f14_arg2.categoryName
	f14_arg0._storeLayout = f14_arg2.storeLayout
	f14_arg0._sourceMenu = f14_arg2.sourceMenu
	f14_arg0._recommendationData = f14_arg2.recommendationData
	f14_arg0._upsellMenu = f14_arg2.upsellMenu
	f14_arg0._hasSelectPrompt = true
	f14_arg0._isItemGiftable = GIFT.IsItemGiftable( f14_arg0._bundleID )
	f14_arg0.RefreshAltAction = f0_local0
	f14_local0 = {
		itemID = f14_arg0._bundleID,
		itemName = f14_arg0._itemName,
		positionInGrid = f14_arg0._positionInGrid,
		categoryIndex = f14_arg0._categoryIndex,
		categoryName = f14_arg0._categoryName,
		storeLayout = f14_arg0._storeLayout,
		sourceMenu = f14_arg0._sourceMenu,
		recommendationData = f14_arg0._recommendationData
	}
	local f14_local1 = LUI.FlowManager.GetScopedData( f14_arg0 )
	if f14_arg2.isFirstParty then
		f14_arg0._isFirstParty = f14_arg2.isFirstParty
		f14_arg0._isOwned = f14_local1.firstPartyOwned or f14_arg2.owned
		f14_arg0._firstPartyPurchase = f14_arg2.firstPartyPurchase
		if Engine.CIEGIACHAE() then
			InGameStore.ShowStoreIcon( true, InGameStoreStoreIconPosition.CENTER )
		end
		f14_arg0.PurchaseButton:SetPrice( f14_arg2.price, nil, f14_arg2.bundleID )
	else
		local f14_local2, f14_local3 = STORE.GetBundleCost( f14_arg0._controllerIndex, f14_arg2.bundleID )
		if f14_local3 and f14_local3 < f14_local2 then
			f14_arg0._currencyAmount = f14_local3
			if CONDITIONS.IsStoreSalesBannerEnabled() and f14_arg0._discountPercent then
				f14_arg0.SaleBanner:SetupDiscountPercentage( f14_arg0._discountPercent )
				f14_arg0.SaleBanner:SetAlpha( 1 )
			else
				f14_arg0.SaleBanner:SetAlpha( 0 )
			end
		else
			f14_arg0._currencyAmount = f14_local2
			f14_arg0.SaleBanner:SetAlpha( 0 )
		end
		f14_arg0._currencyID = f14_arg2.currencyID
		f14_arg0._isOwned = STORE.IsBundleOwned( f14_arg0._controllerIndex, f14_arg0._bundleID )
		f14_arg0.PurchaseButton:SetPrice( f14_local2, f14_local3, f14_arg2.bundleID )
	end
	local f14_local2 = LUI.FlowManager.GetMenuNameAtIndex( -1 )
	if f14_arg2.currencyID == LOOT.CurrencyIDs.COD_POINTS then
		f14_arg0.PurchaseButton.CurrencyIcon:setImage( RegisterMaterial( "icon_currency_codpoints" ) )
	elseif f14_arg2.currencyID == LOOT.CurrencyIDs.KEYS then
		f14_arg0.PurchaseButton.CurrencyIcon:setImage( RegisterMaterial( "icon_currency_key" ) )
	elseif not f14_arg0._isFirstParty then
		assert( false, "Unsupported currency!" )
	end
	local f14_local3 = function ( f36_arg0 )
		if f36_arg0._isOwned then
			local f36_local0 = tonumber( f36_arg0._items[f36_arg0.ItemsGrid:GetFocusPositionIndex() + 1] )
			local f36_local1 = LOOT.IsItemTypeQuickEquipable( LOOT.GetTypeForID( f36_local0 ) )
			if f36_local1 then
				f36_local1 = LOOT.IsItemIDEquippableByCurrentGameMode( f36_local0 )
			end
			local f36_local2
			if f36_local1 then
				f36_local2 = "ShowQuickEquip"
			else
				f36_local2 = "HideQuickEquip"
			end
			ACTIONS.AnimateSequence( f36_arg0, "Purchased" )
			ACTIONS.AnimateSequence( f36_arg0, f36_local2 )
			f36_arg0.PurchaseButton:SetButtonDisabled( true )
			f36_arg0.PurchaseButton:processEvent( {
				name = "Purchased"
			} )
			f36_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
				side = "left",
				button_ref = "button_alt1"
			} )
		else
			ACTIONS.AnimateSequence( f36_arg0, "HideQuickEquip" )
		end
	end
	
	Engine.DHFCHIIJCA( "loadout_showcase_preview" )
	FrontEndScene.HideWeaponModels()
	f14_arg0.MenuTitle:SetTitle( ToUpperCase( Engine.CBBHFCGDIC( "MENU/BUNDLE_PREVIEW" ) ), true )
	f14_arg0._items = LOOT.GetItemsInBundle( f14_arg0._bundleID )
	local f14_local4 = f14_arg0._items
	assert( #f14_local4 <= 10, "A maximum of 10 bundle items are supported!" )
	local f14_local5 = function ( f32_arg0, f32_arg1, f32_arg2 )
		f14_arg0.bundleData = {
			startPurchaseImmediately = false,
			controllerIndex = f14_arg0,
			bundleID = f14_arg0._bundleID,
			itemCurrencyID = f14_arg0._currencyID,
			itemCurrencyAmount = f14_arg0._currencyAmount,
			timerValue = f14_arg0._timerValue,
			showDisclaimer = f14_arg0._showDisclaimer,
			alreadyOwnedCount = f14_arg0._alreadyOwnedCount,
			consumablesCount = f14_arg0._consumablesCount,
			isBundlePurchased = f14_arg0._isOwned
		}
		local f32_local0 = f14_arg0.ItemsGrid:GetContentIndex( f32_arg1, f32_arg2 ) + 1
		local f32_local1 = tonumber( f14_arg0[f32_local0] )
		local f32_local2 = {}
		local f32_local3 = LOOT.GetTypeForID( f32_local1 )
		local f32_local4 = LOOT.GetItemRef( f32_local3, f32_local1 )
		if f32_local3 == LOOT.itemTypes.T9_MISC and LOOT.IsItemIDEquippableByWZ( f32_local1 ) and CSV.MultiTableLookup( CSV.itemSourceTable.fileList, CSV.itemSourceTable.cols.marketPlaceID, f32_local1, CSV.itemSourceTable.cols.refType ) == "vehicleskin" then
			f32_local3 = LOOT.itemTypes.VEHICLE_CAMO
		end
		local f32_local5 = nil
		if f32_local3 == LOOT.itemTypes.S4_MISC then
			f32_local5 = LOOT.GetMiscTypeForID( f32_local1 )
		end
		if f32_local4 and 0 < #f32_local4 then
			local f32_local6 = LOOT.GetItemQuality( f32_local3, f32_local4, f32_local1 )
			local f32_local7 = LOOT.GetRarityColor( f32_local6 )
			local f32_local8 = LOOT.GetDarkRarityColor( f32_local6 )
			f32_arg0._previewsEnabled = f14_arg0._previewsEnabled
			f32_arg0.Card._previewsEnabled = f14_arg0._previewsEnabled
			f32_arg0.Card:SetHandleMouse( f14_arg0._previewsEnabled )
			f32_arg0.Card:SetFocusable( f14_arg0._previewsEnabled )
			f32_arg0._rarity = f32_local6
			f32_arg0.Card.RarityBG:SetRGBFromTable( f32_local8 )
			f32_arg0.Card.Border:setImage( RegisterMaterial( LOOT.GetRarityBorder( f32_local6 ) ) )
			f32_arg0.Card:UpdateRarityImage( f32_local6 )
			f32_arg0.Card.BlueprintIcon:SetRGBFromTable( f32_local7 )
			f32_arg0.Card:UpdateOperatorMissionBorder( f32_local6 )
			f32_arg0.Card:UpdateOperatorMissionBanner( f14_arg0, f32_local6, f32_local4 )
			f32_arg0._lootType = f32_local3
			if f32_local6 >= LOOT.Rarity.LEGENDARY then
				ACTIONS.AnimateSequence( f32_arg0.Card, "GlintAnime" )
			end
			if f32_local3 == LOOT.itemTypes.SPECIAL then
				ACTIONS.AnimateSequence( f32_arg0.Flare, "SpecialItemHighlight" )
			end
			if Engine.FABABBDBA() and f32_local4 == "gesture049" then
				f32_arg0.Card._previewsEnabled = false
				f32_arg0.Card:SetFocusable( false )
				f32_arg0.Card:SetHandleMouse( false )
				ACTIONS.AnimateSequence( f32_arg0, "Disabled" )
			end
			if f32_local3 == LOOT.itemTypes.WEAPON then
				if WEAPON.IsVariant( f14_arg0, f32_local1 ) then
					f32_arg0.Card.BlueprintIcon:SetAlpha( 0.7 )
				end
				if WEAPON.GetTracerType( f32_local1 ) then
					f32_arg0.Card:SetupTracer( f14_arg0, f32_local1 )
				end
			end
			local f32_local9 = LOOT.GetItemImage( f32_local3, f32_local4, f32_local1 )
			if f32_local3 == LOOT.itemTypes.TITLE then
				f32_local9 = "bp_playertitle_bg"
			end
			if f32_local9 and 0 < #f32_local9 then
				f32_arg0.Card.Foreground:setImage( RegisterMaterial( f32_local9 ) )
				f32_arg0.Card:UpdateCardConfig( f32_local3, f32_local9, {
					miscType = f32_local5
				} )
				f32_arg0.Card:UpdateWZCardConfig( f32_local1 )
			else
				DebugPrint( "Could not find image asset for type: " .. f32_local3 .. ", and ref: " .. f32_local4 )
			end
			local f32_local10 = nil
			if f32_local4 == "battlepass" or f32_local4 == "t9_battlepass_purchase_s1" then
				f32_local10 = Engine.CBBHFCGDIC( "BATTLEPASS/SEASON_X_BATTLEPASS", SEASON.GetLocalizedName() )
			else
				f32_local10 = LOOT.GetItemName( f32_local3, f32_local4, f32_local1 )
			end
			if f32_local10 and 0 < #f32_local10 then
				f32_arg0.Card.ItemName:setText( ToUpperCase( f32_local10 ) )
				if f32_local3 == LOOT.itemTypes.TITLE then
					f32_arg0.Card.PlayerTitleName:setText( ToUpperCase( f32_local10 ) )
				end
			else
				DebugPrint( "Could not find item name for type: " .. f32_local3 .. ", and ref: " .. f32_local4 )
			end
			local f32_local11 = LOOT.GetItemClassName( f32_local3, f32_local4, f32_local1 )
			if f32_local11 and 0 < #f32_local11 then
				f32_arg0.Card.ItemType:setText( f32_local11 )
			else
				DebugPrint( "Could not find item class name for type: " .. f32_local3 .. ", and ref: " .. f32_local4 )
			end
			f32_local2.id = f32_local1
			f32_local2.rarity = f32_local6
			f32_local2.type = f32_local3
			f32_local2.image = f32_local9
			f32_local2.name = f32_local10
			f32_local2.className = f32_local11
			f32_local2.bundleID = f14_arg0.bundleID
			f32_local2.positionInGrid = f14_arg0.bundleIndex
			f32_local2.isOwned = 0 < Loot.DEBEIFJEEG( f14_arg0, f32_local1 )
			if f32_local2.isOwned and not f32_arg0._alreadyOwned then
				if f32_local2.type ~= LOOT.itemTypes.SPECIAL and (f32_local2.type ~= LOOT.itemTypes.BATTLE_PASS or CONDITIONS.IsBattlePassEnabled()) then
					f32_arg0._alreadyOwned = true
					f14_arg0._alreadyOwnedCount = f14_arg0._alreadyOwnedCount + 1
					if f32_local2.type == LOOT.itemTypes.CONSUMABLE then
						f14_arg0._consumablesCount = f14_arg0._consumablesCount + 1
					end
				else
					f32_local2.isOwned = false
				end
			end
			if not f32_arg0._buttonHandlerAdded then
				f32_arg0.Card:addEventHandler( "button_action", function ( f35_arg0, f35_arg1 )
					local f35_local0 = STORE.PreviewSupported( f32_arg0 )
					if f32_arg0._previewsEnabled then
						if f35_local0 then
							if f32_arg0._isFirstParty and Engine.CIEGIACHAE() then
								InGameStore.ShowStoreIcon( false )
							end
							STORE.PreviewItem( f32_arg0, f32_arg0, f32_arg0, f32_arg0._bundleID, f32_arg0._timerValue, false, false, f32_arg0.bundleData )
							QUARTERMASTER.RecordItemBrowseEvent( f32_arg0, true, f32_arg0._sourceMenu )
						else
							local f35_local1 = LUI.FlowManager.GetScopedData( f32_arg0 )
							local f35_local2
							if f35_local1.bundleExclusivity ~= LOOT.itemSourceExclusivity.CW_EXCLUSIVE and f35_local1.bundleExclusivity ~= LOOT.itemSourceExclusivity.CW_WZ then
								f35_local2 = false
							else
								f35_local2 = true
							end
							if f35_local2 and not (0 < Loot.DEBEIFJEEG( f32_arg0, f32_arg0 )) then
								LUI.FlowManager.RequestPopupMenu( f32_arg0, "WZCWUpsellPopup", true, f32_arg0, false )
							end
						end
					end
				end )
				f32_arg0.Card:addEventHandler( "button_over", function ( f34_arg0, f34_arg1 )
					if f32_arg0._previewsEnabled then
						if QUARTERMASTER.itemData then
							QUARTERMASTER.RecordItemBrowseEvent( f32_arg0, false, f32_arg0._sourceMenu )
						end
						QUARTERMASTER.BeginItemBrowseEvent( f32_arg0, f32_arg0, f32_arg0._storeLayout, f32_arg0._recommendationData )
					end
				end )
				if f14_arg0._showDisclaimer == false and f32_local3 == LOOT.itemTypes.BATTLE_PASS then
					f14_arg0._totalTierSkips = f14_arg0._totalTierSkips + LOOT.GetBattlePassLootSkips( f32_local2.id )
					if f14_arg0._curBattlePassTier + f14_arg0._totalTierSkips > BATTLEPASS.GetMaxTier() then
						f14_arg0._showDisclaimer = true
					end
				end
				f32_arg0._buttonHandlerAdded = true
			end
			if f14_arg0._purchasedAnimation or f14_arg0._isOwned then
				ACTIONS.AnimateSequence( f14_arg0, "Purchased" )
			elseif (f14_arg0._showDisclaimer or f32_local2.isOwned) and f32_local2.type ~= LOOT.itemTypes.CONSUMABLE then
				ACTIONS.AnimateSequence( f14_arg0, "TierDisclaimer" )
				if f14_arg0._showDisclaimer and f32_local2.isOwned then
					f14_arg0.Disclaimer:setText( Engine.CBBHFCGDIC( "MENU/BUNDLE_TIER_OWNED_DISCLAIMER", f14_arg0._alreadyOwnedCount ) )
				elseif f14_arg0._showDisclaimer then
					f14_arg0.Disclaimer:setText( Engine.CBBHFCGDIC( "MENU/BUNDLE_TIER_DISCLAIMER" ) )
				elseif f32_local2.isOwned then
					f14_arg0.Disclaimer:setText( Engine.CBBHFCGDIC( "MENU/BUNDLE_OWNED_DISCLAIMER", f14_arg0._alreadyOwnedCount ) )
				end
			end
		end
		if f14_arg0._purchasedAnimation then
			ACTIONS.AnimateSequence( f32_arg0.Card, "HideAlreadyOwned" )
			f32_arg0:SetAlpha( 0 )
			local f32_local6 = f32_arg0:Wait( f14_arg0 * f32_local0 )
			f32_local6.onComplete = function ()
				if f32_arg0 == 1 then
					Engine.BJDBIAGIDA( SOUND_SETS.storefront.cardFlipFirst )
				end
				Engine.BJDBIAGIDA( SOUND_SETS.storefront.cardFlipMiddle )
				if f32_arg0 == #f32_arg0 then
					Engine.BJDBIAGIDA( SOUND_SETS.storefront.cardFlipLast )
				end
				f32_arg0( f32_arg0, f32_arg0, f32_arg0 == #f32_arg0 )
			end
			
		elseif f14_arg0._isOwned then
			ACTIONS.AnimateSequence( f32_arg0.Card, "ShowPurchasedFrame" )
			ACTIONS.AnimateSequence( f32_arg0.Card, "HideAlreadyOwned" )
			if f32_local2.type == LOOT.itemTypes.BATTLE_PASS and CONDITIONS.IsBattlePassEnabled() then
				f32_arg0:SetAlpha( 0.3 )
				f32_arg0.Card.Border:SetAlpha( 0 )
				f32_arg0.Card.ItemType:setText( Engine.CBBHFCGDIC( "BATTLEPASS/REDEEMED" ) )
			end
		elseif f32_local2.isOwned and f32_local2.type ~= LOOT.itemTypes.CONSUMABLE and (f32_local2.type ~= LOOT.itemTypes.BATTLE_PASS or CONDITIONS.IsBattlePassEnabled()) then
			ACTIONS.AnimateSequence( f32_arg0.Card, "ShowPurchasedFrame" )
			ACTIONS.AnimateSequence( f32_arg0.Card, "ShowAlreadyOwned" )
		end
	end
	
	local f14_local6 = function ()
		local f31_local0 = tonumber( f14_arg0[f14_arg0.ItemsGrid:GetFocusPositionIndex() + 1] )
		local f31_local1 = LOOT.GetTypeForID( f31_local0 )
		if f31_local1 == LOOT.itemTypes.OPERATOR_EXECUTION then
			f14_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
				side = "left",
				button_ref = "button_primary"
			} )
			f14_arg0._hasSelectPrompt = false
		elseif f14_arg0._hasSelectPrompt == false then
			f14_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
				side = "left",
				button_ref = "button_primary",
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU/SELECT" )
			} )
			f14_arg0._hasSelectPrompt = true
		end
		local f31_local2 = LOOT.IsItemTypeQuickEquipable( f31_local1 )
		if f31_local2 then
			f31_local2 = f14_arg0._isOwned
			if f31_local2 then
				f31_local2 = LOOT.IsItemIDEquippableByCurrentGameMode( f31_local0 )
			end
		end
		local f31_local3
		if f31_local2 then
			f31_local3 = "ShowQuickEquip"
		else
			f31_local3 = "HideQuickEquip"
		end
		ACTIONS.AnimateSequence( f14_arg0, f31_local3 )
		local f31_local4 = LOOT.quickEquipDesc[f31_local1]
		if f31_local4 then
			f31_local4 = Engine.CBBHFCGDIC( f31_local4 )
		else
			f31_local4 = ""
		end
		f14_arg0.QuickEquipDesc:setText( f31_local4 )
		f14_arg0( f14_arg0 )
	end
	
	f14_arg0.ItemsGrid:SetRefreshChild( f14_local5 )
	local f14_local7 = f14_arg0.ItemsGrid
	local f14_local8 = f14_local7
	f14_local7 = f14_local7.SetNumRows
	local f14_local9
	if 5 < #f14_local4 then
		f14_local9 = 2
	else
		f14_local9 = 1
	end
	f14_local7( f14_local8, f14_local9 )
	f14_local7 = f14_arg0.ItemsGrid
	f14_local8 = f14_local7
	f14_local7 = f14_local7.SetNumColumns
	if 5 < #f14_local4 then
		f14_local9 = 5
	else
		f14_local9 = #f14_local4
	end
	f14_local7( f14_local8, f14_local9 )
	f14_arg0.ItemsGrid:SetNumChildren( math.min( #f14_local4, 10 ) )
	f14_arg0.ItemsGrid:RefreshContent()
	f14_arg0.ItemsGrid._onNewTargetFocusPosition = f14_local6
	f14_arg0.PurchaseButton:addEventHandler( "button_action", f0_local0( f14_arg0 ) )
	f14_arg0.QuickEquipButton:addEventHandler( "button_action", f0_local0 )
	f14_arg0.QuickEquipButton:addAndCallEventHandler( "update_input_type", function ( f30_arg0, f30_arg1 )
		local f30_local0
		if LUI.IsLastInputKeyboardMouse( f14_arg0 ) then
			f30_local0 = "MENU/QUICK_EQUIP_KBM"
		else
			f30_local0 = "MENU/QUICK_EQUIP"
		end
		f30_arg0.Text:setText( ToUpperCase( Engine.CBBHFCGDIC( f30_local0 ) ), 0 )
	end )
	f14_arg0:addEventHandler( "bundle_purchase_complete", function ( f29_arg0, f29_arg1 )
		f14_arg0.isQuickAccessShortcutsDisabled = true
		f14_arg0._previewsEnabled = false
		f29_arg0.ItemsGrid:RefreshContent()
		Engine.BJDBIAGIDA( SOUND_SETS.storefront.purchaseBundleComplete )
		Engine.DFCGFCGBFD( "mp_store_bundle_purchase" )
		ACTIONS.AnimateSequence( f29_arg0, "BundlePurchaseShow" )
		local f29_local0 = Dvar.CFHDGABACF( "QKKMRRLRR" )
		local f29_local1
		if f29_local0 ~= 5 and f29_local0 ~= 6 then
			f29_local1 = false
		else
			f29_local1 = true
		end
		if Engine.CGABICJHAI() and f29_local1 == true then
			ACTIONS.AnimateSequence( f14_arg0, "WideAspectRatioFrame" )
		end
		f14_arg0( f14_arg0 )
	end )
	f14_local7 = function ()
		QUARTERMASTER.RecordPurchaseConfirmEvent( f14_arg0, f14_arg0, true, false, f14_arg0 )
		f14_arg0._purchasedAnimation = 0 < f14_arg0.ItemsGrid:GetNumChildren()
		if f14_arg0._isFirstParty then
			f14_arg0._isOwned = true
		else
			f14_arg0._isOwned = STORE.IsBundleOwned( f14_arg0._controllerIndex, f14_arg0._bundleID )
		end
		LUI.FlowManager.RequestLeaveMenuByName( "LootPurchasingPopup", true )
		Engine.BJDBIAGIDA( SOUND_SETS.storefront.selectionConfirmed )
		local f27_local0 = f14_arg0:Wait( 3000 )
		f27_local0.onComplete = function ()
			Engine.EBCGADABJ()
			ACTIONS.AnimateSequence( f27_local0, "BundlePurchaseHide" )
			f27_local0.ItemsGrid:RefreshContent()
			f27_local0.HelperBar:SetAlpha( 1 )
		end
		
		f14_arg0:RefreshAltAction( f14_arg0 )
	end
	
	if f14_arg0._isFirstParty then
		f14_arg0:addEventHandler( "exchanged_item", function ( f26_arg0, f26_arg1 )
			if not f26_arg1.fromSignIn then
				f26_arg0._firstPartyPurchaseSuccess = true
				f14_arg0.firstPartyOwned = true
				return true
			else
				
			end
		end )
		f14_arg0:addEventHandler( "exchanged_item_failed", function ( f25_arg0, f25_arg1 )
			if not f25_arg1.fromSignIn then
				QUARTERMASTER.RecordPurchaseConfirmEvent( f14_arg0, f14_arg0, false, true, f14_arg0 )
				f14_arg0._previewsEnabled = true
				f14_arg0( f14_arg0 )
			end
		end )
		f14_arg0:addEventHandler( "ingamestore_purchased_product", function ( f24_arg0, f24_arg1 )
			if f24_arg1.transactionResult == STORE.TransactionResult.TRANSACTION_SUCCEEDED then
				f24_arg0._firstPartyPurchaseSuccess = true
				f14_arg0.firstPartyOwned = true
				LUI.FlowManager.RequestLeaveMenuByName( "ItemExchangeFencePopup" )
			end
		end )
	else
		f14_arg0:addEventHandler( "loot_item_transaction_complete", f14_local7 )
		f14_arg0:addEventHandler( "loot_item_transaction_error", function ( f23_arg0, f23_arg1 )
			if f23_arg1.errorCode == STORE.ProductNoLongerAvailableError then
				LUI.FlowManager.RequestPopupMenu( nil, "ProductNoLongerAvailableErrorPopup", true, f14_arg0, false )
			end
			QUARTERMASTER.RecordPurchaseConfirmEvent( f14_arg0, f14_arg0, false, true, f14_arg0 )
			LUI.FlowManager.RequestLeaveMenuByName( "LootPurchasingPopup", true )
			LUI.FlowManager.RequestPopupMenu( nil, "popup_handle_lootcrate", true, f14_arg0, false, {
				cratePopupType = STORE.CratePopupType.PURCHASE_FAIL
			} )
			Engine.EBCGADABJ()
			ACTIONS.AnimateSequence( f14_arg0, "BundlePurchaseHide" )
			f14_arg0._previewsEnabled = true
			f14_arg0.ItemsGrid:RefreshContent()
			f14_arg0.HelperBar:SetAlpha( 1 )
			f14_arg0( f14_arg0 )
		end )
	end
	f14_arg0:addEventHandler( "restore_focus", function ( f22_arg0, f22_arg1 )
		if f14_arg0._isFirstParty then
			if Engine.CIEGIACHAE() then
				InGameStore.ShowStoreIcon( true, InGameStoreStoreIconPosition.CENTER )
			end
			if f14_arg0._firstPartyPurchaseSuccess and not f14_arg0.hasPlayedPurchaseAnimation then
				f14_arg0._firstPartyPurchaseSuccess = nil
				f14_arg0:processEvent( {
					name = "bundle_purchase_complete"
				} )
				f14_arg0.hasPlayedPurchaseAnimation = true
				f14_arg0()
			end
		end
	end )
	f14_arg0:RefreshAltAction( f14_arg0 )
	local f14_local10 = function ( f21_arg0 )
		assert( f21_arg0 )
		LUI.FlowManager.RequestPopupMenu( nil, "GiftBundlePurchaseConfirmationPopup", true, f14_arg0, false, {
			bundleGiftInfo = {
				currencyAmount = f14_arg0._currencyAmount,
				id = f14_arg0._bundleID,
				name = f14_arg0._itemName,
				titleImage = f14_arg0._itemImage
			},
			recipientXuidString = f21_arg0
		} )
	end
	
	if CONDITIONS.IsGiftingEnabled() then
		f0_local0( f14_arg0 )
		f14_arg0.bindButton:registerEventHandler( "button_alt2", function ( element, event )
			if f14_arg0._isItemGiftable and f14_arg0._previewsEnabled then
				GIFT.StartFTUEFlow( f14_arg0, function ()
					LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", true, element, false, {
						flyInLeftNarrow = true,
						widget = MenuBuilder.BuildRegisteredType( "GiftingFriendSelectPopup", {
							controllerIndex = element,
							bundleSKU = element._bundleID,
							selectedGifteeCallback = element
						} )
					} )
				end )
			end
		end )
	elseif not f14_arg0._isFirstParty and CONDITIONS.AreCODPointsEnabled( f14_arg0 ) then
		f14_arg0.bindButton:registerEventHandler( "button_alt2", f0_local0( f14_arg0 ) )
		if f14_arg0.PlayerDetails.Wallet ~= nil then
			f14_arg0.PlayerDetails.Wallet.CoDPoints.Btn:SetAlpha( 1 )
		end
	end
	f14_local9 = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f14_arg0._bundleID, CSV.bundleIDs.cols.titleImage )
	if f14_local9 and 0 < #f14_local9 then
		f14_arg0.TitleImage:setImage( RegisterMaterial( f14_local9 ) )
	else
		f14_arg0.TitleImage:SetAlpha( 0 )
	end
	local f14_local11 = BATTLEPASS.GetCurrentCPRewards( f14_arg1 )
	local f14_local12 = STORE.GetBundleDescription
	local f14_local13 = f14_arg0._bundleID
	local f14_local14
	if f14_local11 then
		f14_local14 = f14_local11.totalCP
		if not f14_local14 then
		
		else
			f14_local12 = f14_local12( f14_local13, f14_local14 )
			if f14_local12 then
				f14_arg0.DescriptionText:setText( f14_local12 )
			end
			local f14_local15 = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f14_arg0._bundleID, CSV.bundleIDs.cols.name )
			if f14_local15 then
				f14_local13 = Engine.DGAIDIEIAC()
				if f14_local13 ~= 0 and f14_local13 ~= 1 then
					f14_local14 = false
				else
					f14_local14 = true
				end
				if not f14_local14 then
					f14_arg0.LocalizedTitle:setText( Engine.CBBHFCGDIC( f14_local15 ) )
				end
			end
			if f14_arg0._isOwned then
				ACTIONS.AnimateSequence( f14_arg0, "Purchased" )
				f14_arg0.PurchaseButton:SetButtonDisabled( true )
				f14_arg0.PurchaseButton:processEvent( {
					name = "Purchased"
				} )
				f14_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
					side = "left",
					button_ref = "button_alt1"
				} )
			elseif LUI.IsLastInputKeyboardMouse( f14_arg1 ) then
				f14_arg0.PurchaseButton:processEvent( {
					name = "button_up"
				} )
			else
				f14_arg0.PurchaseButton:processEvent( {
					name = "button_over"
				} )
			end
			f14_arg0:registerEventHandler( "menu_close", function ( element, event )
				LUI.FlowManager.RequestLeaveMenuByName( "LootPurchasingPopup" )
				if f14_arg0._bundleID == tonumber( BATTLEPASS.GetTierSkipGiftID() ) then
					local f18_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
					if f18_local0.returnToMainMenu then
						f18_local0.returnToMainMenu = nil
					end
				end
			end )
			f14_arg0.bindButton:addEventHandler( "button_secondary", function ( f17_arg0, f17_arg1 )
				if not f14_arg0._purchasedAnimation then
					if LUI.FlowManager.IsInStack( "OperatorSelect" ) and f14_arg0._isOwned then
						local f17_local0 = LUI.FlowManager.GetScopedData( "OperatorSelect" )
						f17_local0.operatorData.useDefaultOperatorForFocus = true
						f17_local0.operatorData.useEquippedOperatorFocusIndex = false
						LUI.FlowManager.RequestRestoreMenu( "OperatorSelect" )
					else
						LUI.FlowManager.RequestLeaveMenu( f17_arg0 )
					end
				end
			end )
			f0_local0( f14_arg0, f14_local4 )
			ACTIONS.ScaleFullscreen( f14_arg0.Transition )
			LAYOUT.AddAspectRatioFadeFrameWithOptions( f14_arg0, f14_arg1, {
				addScreenDarkener = true,
				darkenerOpacity = -9.255965340288647E+61
			} )
			f14_local13 = function ()
				f14_arg0( f14_arg0, f14_arg0.id, f14_arg0.PurchaseButton, f14_arg0, f14_arg0.startPurchaseImmediately )
				f14_arg0.startPurchaseImmediately = false
				f14_arg0.startPurchaseImmediately = false
			end
			
			if f14_arg2.startPurchaseImmediately or f14_local1.startPurchaseImmediately then
				f14_local13()
			end
			if not f14_arg2.isQuickPurchasePopupInPreview then
				if f14_arg0.ItemsGrid then
					f14_arg0.ItemsGrid:FocusFirstItem()
				end
				f14_arg0:saveState()
			end
			f14_arg0:addEventHandler( "restore_focus", function ( f15_arg0, f15_arg1 )
				if f14_arg0.startPurchaseImmediately or f14_arg0.startPurchaseImmediately then
					f14_arg0()
				elseif f14_arg0.isQuickPurchasePopupInPreview then
					f14_arg0.isQuickPurchasePopupInPreview = false
					f14_arg0( f15_arg0, f15_arg1.controller )
				end
			end )
			if f14_arg0._timerValue and not CONDITIONS.IsStoreSalesBannerEnabled() then
				f14_arg0.LimitedTimeItem:SetupTimeLimit( nil, nil, f14_arg0._timerValue, true, true )
			else
				f14_arg0.LimitedTimeItem:SetAlpha( 0 )
			end
			f14_local14 = LUI.FlowManager.GetScopedData( "MainMenu" )
			if f14_local14 and f14_local14.ShouldHandleGiftBundle then
				f14_local14.ShouldHandleGiftBundle = nil
				f14_arg0:processEvent( {
					name = "bundle_purchase_complete"
				} )
				f14_local7()
			end
			f14_arg0.PurchaseButton:SetDisableHoldToPurchase( {
				controllerIndex = f14_arg1
			} )
			if f14_arg2.openGiftingPopup then
				f14_arg0.bindButton:processEvent( {
					name = "button_alt2"
				} )
			end
			if CONDITIONS.IsMagmaGameMode() then
				ACTIONS.AnimateSequence( f14_arg0, "WZSetup" )
			end
		end
	end
	f14_local14 = 0
end

function StoreBundlePreview( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "StoreBundlePreview"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	self.HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	self.HelperBar.id = "HelperBar"
	self.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	self.HelperBar:setPriority( 10 )
	self:addElement( self.HelperBar )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:setImage( RegisterMaterial( "mw_store_billboard_preview_blur" ), 0 )
	Background:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -960, _1080p * 960, _1080p * 170, _1080p * 922 )
	self:addElement( Background )
	self.Background = Background
	
	local DescriptionText = nil
	
	DescriptionText = LUI.UIStyledText.new()
	DescriptionText.id = "DescriptionText"
	DescriptionText:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	DescriptionText:setText( "", 0 )
	DescriptionText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	DescriptionText:SetAlignment( LUI.Alignment.Left )
	DescriptionText:SetOptOutRightToLeftAlignmentFlip( true )
	DescriptionText:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	DescriptionText:SetStartupDelay( 2000 )
	DescriptionText:SetLineHoldTime( 400 )
	DescriptionText:SetAnimMoveTime( 2000 )
	DescriptionText:SetAnimMoveSpeed( 150 )
	DescriptionText:SetEndDelay( 2000 )
	DescriptionText:SetCrossfadeTime( 250 )
	DescriptionText:SetFadeInTime( 300 )
	DescriptionText:SetFadeOutTime( 300 )
	DescriptionText:SetMaxVisibleLines( 4 )
	DescriptionText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 608, _1080p * 631, _1080p * 655 )
	self:addElement( DescriptionText )
	self.DescriptionText = DescriptionText
	
	local EquippabilityText = nil
	
	EquippabilityText = LUI.UIStyledText.new()
	EquippabilityText.id = "EquippabilityText"
	EquippabilityText:SetRGBFromTable( SWATCHES.CH2.NeutralGray, 0 )
	EquippabilityText:setText( "", 0 )
	EquippabilityText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	EquippabilityText:SetAlignment( LUI.Alignment.Left )
	EquippabilityText:SetOptOutRightToLeftAlignmentFlip( true )
	EquippabilityText:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	EquippabilityText:SetStartupDelay( 2000 )
	EquippabilityText:SetLineHoldTime( 400 )
	EquippabilityText:SetAnimMoveTime( 2000 )
	EquippabilityText:SetAnimMoveSpeed( 150 )
	EquippabilityText:SetEndDelay( 2000 )
	EquippabilityText:SetCrossfadeTime( 250 )
	EquippabilityText:SetFadeInTime( 300 )
	EquippabilityText:SetFadeOutTime( 300 )
	EquippabilityText:SetMaxVisibleLines( 4 )
	EquippabilityText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 608, _1080p * 571, _1080p * 591 )
	self:addElement( EquippabilityText )
	self.EquippabilityText = EquippabilityText
	
	local f1_local6 = nil
	if CONDITIONS.InFrontend() then
		f1_local6 = MenuBuilder.BuildRegisteredType( "LobbyMembersFooter", {
			controllerIndex = f1_local1
		} )
		f1_local6.id = "LobbyMembersFooter"
		f1_local6:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 150 )
		self:addElement( f1_local6 )
		self.LobbyMembersFooter = f1_local6
	end
	local ItemsGrid = nil
	
	ItemsGrid = LUI.UIGrid.new( {
		scrollingThresholdX = 1,
		buildArrowsLabel = false,
		maxVelocity = 5000,
		adjustSizeToContent = true,
		scrollingThresholdY = 1,
		wrapX = false,
		maxVisibleColumns = 5,
		maxVisibleRows = 2,
		wrapY = false,
		arrowsVerticalOffset = 0,
		springCoefficient = 400,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "LootItemCardWrapper", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f12_arg0, f12_arg1, f12_arg2 )
			
		end,
		spacingX = _1080p * 30,
		spacingY = _1080p * 30,
		columnWidth = _1080p * 210,
		rowHeight = _1080p * 310,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	ItemsGrid.id = "ItemsGrid"
	ItemsGrid:setUseStencil( false )
	ItemsGrid:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -1266, _1080p * -96, _1080p * 215, _1080p * 865 )
	self:addElement( ItemsGrid )
	self.ItemsGrid = ItemsGrid
	
	local QuickEquipButton = nil
	
	QuickEquipButton = MenuBuilder.BuildRegisteredType( "GenericButton", {
		controllerIndex = f1_local1
	} )
	QuickEquipButton.id = "QuickEquipButton"
	QuickEquipButton:SetAlpha( 0, 0 )
	QuickEquipButton.Text:SetLeft( _1080p * 20, 0 )
	QuickEquipButton.Text:setText( ToUpperCase( Engine.CBBHFCGDIC( "MENU/QUICK_EQUIP" ) ), 0 )
	QuickEquipButton.Text:SetAlignment( LUI.Alignment.Left )
	QuickEquipButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 496, _1080p * 774, _1080p * 840 )
	self:addElement( QuickEquipButton )
	self.QuickEquipButton = QuickEquipButton
	
	local PurchaseButton = nil
	
	PurchaseButton = MenuBuilder.BuildRegisteredType( "PurchaseBundleButton", {
		controllerIndex = f1_local1
	} )
	PurchaseButton.id = "PurchaseButton"
	PurchaseButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 496, _1080p * 745, _1080p * 865 )
	self:addElement( PurchaseButton )
	self.PurchaseButton = PurchaseButton
	
	local QuickEquipDesc = nil
	
	QuickEquipDesc = LUI.UIStyledText.new()
	QuickEquipDesc.id = "QuickEquipDesc"
	QuickEquipDesc:SetRGBFromTable( SWATCHES.CH2.NeutralGray, 0 )
	QuickEquipDesc:setText( "", 0 )
	QuickEquipDesc:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	QuickEquipDesc:SetAlignment( LUI.Alignment.Left )
	QuickEquipDesc:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 100, _1080p * 600, _1080p * 868, _1080p * 892 )
	self:addElement( QuickEquipDesc )
	self.QuickEquipDesc = QuickEquipDesc
	
	local PlayerDetails = nil
	
	PlayerDetails = MenuBuilder.BuildRegisteredType( "MPPlayerDetails", {
		controllerIndex = f1_local1
	} )
	PlayerDetails.id = "PlayerDetails"
	PlayerDetails:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -596, _1080p * -96, _1080p * 54, _1080p * 114 )
	self:addElement( PlayerDetails )
	self.PlayerDetails = PlayerDetails
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( Engine.CBBHFCGDIC( "MENU/BUNDLE_PREVIEW" ), 0 )
	MenuTitle.Line:SetLeft( 0, 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1020, 0, _1080p * 100 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local TitleImage = nil
	
	TitleImage = LUI.UIImage.new()
	TitleImage.id = "TitleImage"
	TitleImage:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 608, _1080p * 240, _1080p * 496 )
	self:addElement( TitleImage )
	self.TitleImage = TitleImage
	
	local LocalizedTitle = nil
	
	LocalizedTitle = LUI.UIStyledText.new()
	LocalizedTitle.id = "LocalizedTitle"
	LocalizedTitle:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	LocalizedTitle:setText( "", 0 )
	LocalizedTitle:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	LocalizedTitle:SetWordWrap( false )
	LocalizedTitle:SetAlignment( LUI.Alignment.Left )
	LocalizedTitle:SetOptOutRightToLeftAlignmentFlip( true )
	LocalizedTitle:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollH )
	LocalizedTitle:SetStartupDelay( 2000 )
	LocalizedTitle:SetLineHoldTime( 400 )
	LocalizedTitle:SetAnimMoveTime( 2000 )
	LocalizedTitle:SetAnimMoveSpeed( 150 )
	LocalizedTitle:SetEndDelay( 2000 )
	LocalizedTitle:SetCrossfadeTime( 250 )
	LocalizedTitle:SetFadeInTime( 300 )
	LocalizedTitle:SetFadeOutTime( 300 )
	LocalizedTitle:SetMaxVisibleLines( 1 )
	LocalizedTitle:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 608, _1080p * 498, _1080p * 528 )
	self:addElement( LocalizedTitle )
	self.LocalizedTitle = LocalizedTitle
	
	local Disclaimer = nil
	
	Disclaimer = LUI.UIStyledText.new()
	Disclaimer.id = "Disclaimer"
	Disclaimer:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	Disclaimer:SetAlpha( 0, 0 )
	Disclaimer:setText( Engine.CBBHFCGDIC( "MENU/BUNDLE_TIER_DISCLAIMER" ), 0 )
	Disclaimer:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	Disclaimer:SetAlignment( LUI.Alignment.Left )
	Disclaimer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 496, _1080p * 845, _1080p * 863 )
	self:addElement( Disclaimer )
	self.Disclaimer = Disclaimer
	
	local Lock = nil
	
	Lock = LUI.UIImage.new()
	Lock.id = "Lock"
	Lock:SetAlpha( 0, 0 )
	Lock:setImage( RegisterMaterial( "ui_streak_warning" ), 0 )
	Lock:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 128, _1080p * 838, _1080p * 870 )
	self:addElement( Lock )
	self.Lock = Lock
	
	local LimitedTimeItem = nil
	
	LimitedTimeItem = MenuBuilder.BuildRegisteredType( "LimitedTimeItem", {
		controllerIndex = f1_local1
	} )
	LimitedTimeItem.id = "LimitedTimeItem"
	LimitedTimeItem:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 396, _1080p * 185, _1080p * 215 )
	self:addElement( LimitedTimeItem )
	self.LimitedTimeItem = LimitedTimeItem
	
	local SaleBanner = nil
	
	SaleBanner = MenuBuilder.BuildRegisteredType( "LimitedTimeItem", {
		controllerIndex = f1_local1
	} )
	SaleBanner.id = "SaleBanner"
	SaleBanner:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 395, _1080p * 496, _1080p * 870, _1080p * 900 )
	self:addElement( SaleBanner )
	self.SaleBanner = SaleBanner
	
	local SnipeIcon = nil
	
	SnipeIcon = MenuBuilder.BuildRegisteredType( "WZSnipeIcon", {
		controllerIndex = f1_local1
	} )
	SnipeIcon.id = "SnipeIcon"
	SnipeIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 496, _1080p * 530, _1080p * 571 )
	self:addElement( SnipeIcon )
	self.SnipeIcon = SnipeIcon
	
	local Cinematic = nil
	
	Cinematic = MenuBuilder.BuildRegisteredType( "Cinematic", {
		controllerIndex = f1_local1
	} )
	Cinematic.id = "Cinematic"
	Cinematic:SetAlpha( 0, 0 )
	self:addElement( Cinematic )
	self.Cinematic = Cinematic
	
	local VignetteRight = nil
	
	VignetteRight = LUI.UIImage.new()
	VignetteRight.id = "VignetteRight"
	VignetteRight:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteRight:SetAlpha( 0, 0 )
	VignetteRight:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	VignetteRight:SetAnchorsAndPosition( 1, 0, 0, 0, _1080p * 72, _1080p * -395, 0, 0 )
	self:addElement( VignetteRight )
	self.VignetteRight = VignetteRight
	
	local VignetteLeft = nil
	
	VignetteLeft = LUI.UIImage.new()
	VignetteLeft.id = "VignetteLeft"
	VignetteLeft:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteLeft:SetAlpha( 0, 0 )
	VignetteLeft:SetYRotation( 180, 0 )
	VignetteLeft:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	VignetteLeft:SetAnchorsAndPosition( 0, 1, 0, 0, _1080p * 395, _1080p * -72, 0, 0 )
	self:addElement( VignetteLeft )
	self.VignetteLeft = VignetteLeft
	
	local PurchasedMessage = nil
	
	PurchasedMessage = LUI.UIStyledText.new()
	PurchasedMessage.id = "PurchasedMessage"
	PurchasedMessage:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	PurchasedMessage:SetAlpha( 0, 0 )
	PurchasedMessage:setText( ToUpperCase( Engine.CBBHFCGDIC( "MENU/BUNDLE_PURCHASED" ) ), 0 )
	PurchasedMessage:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	PurchasedMessage:SetAlignment( LUI.Alignment.Center )
	PurchasedMessage:SetAnchorsAndPosition( 0, 0, 0.5, 0.5, 0, 0, _1080p * -35, _1080p * 35 )
	self:addElement( PurchasedMessage )
	self.PurchasedMessage = PurchasedMessage
	
	local Transition = nil
	
	Transition = LUI.UIImage.new()
	Transition.id = "Transition"
	Transition:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Transition:SetAlpha( 0, 0 )
	self:addElement( Transition )
	self.Transition = Transition
	
	local f1_local25 = nil
	ItemsGrid:RegisterAnimationSequence( "DefaultSequence", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -1266
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -96
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 215
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 865
		}
	} )
	Transition:RegisterAnimationSequence( "DefaultSequence", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.DefaultSequence = function ()
		menu:AnimateSequence( "DefaultSequence" )
		menu:AnimateSequence( "DefaultSequence" )
	end
	
	local f1_local26 = nil
	Cinematic:RegisterAnimationSequence( "BundlePurchaseShow", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PurchasedMessage:RegisterAnimationSequence( "BundlePurchaseShow", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.BundlePurchaseShow = function ()
		menu:AnimateSequence( "BundlePurchaseShow" )
		menu:AnimateSequence( "BundlePurchaseShow" )
	end
	
	local f1_local27 = nil
	Cinematic:RegisterAnimationSequence( "BundlePurchaseHide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	VignetteRight:RegisterAnimationSequence( "BundlePurchaseHide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	VignetteLeft:RegisterAnimationSequence( "BundlePurchaseHide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PurchasedMessage:RegisterAnimationSequence( "BundlePurchaseHide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.BundlePurchaseHide = function ()
		menu:AnimateSequence( "BundlePurchaseHide" )
		menu:AnimateSequence( "BundlePurchaseHide" )
		menu:AnimateSequence( "BundlePurchaseHide" )
		menu:AnimateSequence( "BundlePurchaseHide" )
	end
	
	local f1_local28 = nil
	Disclaimer:RegisterAnimationSequence( "TierDisclaimer", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine.CBBHFCGDIC( "MENU/BUNDLE_TIER_DISCLAIMER" )
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 496
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 130
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 959
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 977
		}
	} )
	Lock:RegisterAnimationSequence( "TierDisclaimer", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.TierDisclaimer = function ()
		menu:AnimateSequence( "TierDisclaimer" )
		menu:AnimateSequence( "TierDisclaimer" )
	end
	
	local f1_local29 = nil
	QuickEquipDesc:RegisterAnimationSequence( "Purchased", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Disclaimer:RegisterAnimationSequence( "Purchased", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine.CBBHFCGDIC( "MENU/BUNDLE_ADDED_TO_INVENTORY" )
		}
	} )
	Lock:RegisterAnimationSequence( "Purchased", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Purchased = function ()
		menu:AnimateSequence( "Purchased" )
		menu:AnimateSequence( "Purchased" )
		menu:AnimateSequence( "Purchased" )
	end
	
	local f1_local30 = nil
	VignetteRight:RegisterAnimationSequence( "WideAspectRatioFrame", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	VignetteLeft:RegisterAnimationSequence( "WideAspectRatioFrame", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WideAspectRatioFrame = function ()
		menu:AnimateSequence( "WideAspectRatioFrame" )
		menu:AnimateSequence( "WideAspectRatioFrame" )
	end
	
	local f1_local31 = nil
	DescriptionText:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 631
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 655
		}
	} )
	EquippabilityText:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 571
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 591
		}
	} )
	QuickEquipButton:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 772
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 838
		}
	} )
	PurchaseButton:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 745
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 865
		}
	} )
	QuickEquipDesc:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 868
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 892
		}
	} )
	Disclaimer:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 959
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 977
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 130
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 496
		}
	} )
	Lock:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 952
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 984
		}
	} )
	self._sequences.Setup = function ()
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
	end
	
	local f1_local32 = nil
	QuickEquipButton:RegisterAnimationSequence( "ShowQuickEquip", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PurchaseButton:RegisterAnimationSequence( "ShowQuickEquip", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	QuickEquipDesc:RegisterAnimationSequence( "ShowQuickEquip", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 100
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 841
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 600
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 865
		}
	} )
	self._sequences.ShowQuickEquip = function ()
		menu:AnimateSequence( "ShowQuickEquip" )
		menu:AnimateSequence( "ShowQuickEquip" )
		menu:AnimateSequence( "ShowQuickEquip" )
	end
	
	local f1_local33 = nil
	QuickEquipButton:RegisterAnimationSequence( "HideQuickEquip", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PurchaseButton:RegisterAnimationSequence( "HideQuickEquip", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	QuickEquipDesc:RegisterAnimationSequence( "HideQuickEquip", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideQuickEquip = function ()
		menu:AnimateSequence( "HideQuickEquip" )
		menu:AnimateSequence( "HideQuickEquip" )
		menu:AnimateSequence( "HideQuickEquip" )
	end
	
	local f1_local34 = nil
	Background:RegisterAnimationSequence( "WZSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "wz_store_billboard_preview_blur" )
		}
	} )
	DescriptionText:RegisterAnimationSequence( "WZSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.WZGlobalSwatches.WZDescription
		}
	} )
	EquippabilityText:RegisterAnimationSequence( "WZSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.WZGlobalSwatches.WZDescription
		}
	} )
	QuickEquipDesc:RegisterAnimationSequence( "WZSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 903
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 927
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.WZGlobalSwatches.WZDescription
		}
	} )
	LocalizedTitle:RegisterAnimationSequence( "WZSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.WZGlobalSwatches.WZText
		}
	} )
	self._sequences.WZSetup = function ()
		menu:AnimateSequence( "WZSetup" )
		menu:AnimateSequence( "WZSetup" )
		menu:AnimateSequence( "WZSetup" )
		menu:AnimateSequence( "WZSetup" )
		menu:AnimateSequence( "WZSetup" )
	end
	
	self.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_secondary",
		helper_text = Engine.CBBHFCGDIC( "LUA_MENU/BACK" )
	} )
	self.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_primary",
		helper_text = Engine.CBBHFCGDIC( "LUA_MENU/SELECT" )
	} )
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "selfBindButton"
	self:addElement( bindButton )
	self.bindButton = bindButton
	
	f0_local0( self, f1_local1, controller )
	ACTIONS.AnimateSequence( self, "DefaultSequence" )
	return self
end

MenuBuilder.registerType( "StoreBundlePreview", StoreBundlePreview )
LUI.FlowManager.RegisterStackPopBehaviour( "StoreBundlePreview", f0_local13 )
LockTable( _M )
