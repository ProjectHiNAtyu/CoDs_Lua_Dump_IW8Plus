-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
GLOBAL_PANEL = GLOBAL_PANEL or {}
GLOBAL_PANEL.TAB_INDEX = {
	OPTIONS = 4,
	PLAYER = 5,
	NOTIFICATIONS = 3,
	CHANNELS = 2,
	NAVIGATION = 1
}
GLOBAL_PANEL.NAME = "GlobalPanelBase"
GLOBAL_PANEL.INTRO_ANIMATION = "Intro"
GLOBAL_PANEL.OUTRO_ANIMATION = "Outro"
GLOBAL_PANEL.GetGlobalPanelTabs = function ( f14_arg0 )
	local f14_local0 = GLOBAL_PANEL.TAB_INDEX
	return {
		[f14_local0.NAVIGATION] = {
			menuName = "GlobalPanelNavigation",
			name = 0x5968D802208F8B5,
			icon = "icon_global_navigation",
			disabled = false
		},
		[f14_local0.CHANNELS] = {
			menuName = "GlobalPanelChannels",
			name = 0xB1465762CECDDAB,
			icon = "icon_global_channels",
			disabled = not CONDITIONS.IsChannelsEnabled( f14_arg0 )
		},
		[f14_local0.NOTIFICATIONS] = {
			menuName = "GlobalPanelNotifications",
			name = 0x4A412CD54B5790D,
			icon = "icon_global_notifications",
			disabled = not Dvar[0x9E5BE3B4BBA4E0E]( 0x6ECCFDF1F984AF9 ),
			breadcrumbDataSource = DataSources.alwaysLoaded.notifications.unreadCount
		},
		[f14_local0.OPTIONS] = {
			menuName = "GlobalPanelOptions",
			name = 0xDE7B3C94B0B0F67,
			icon = "icon_global_options",
			disabled = false
		},
		[f14_local0.PLAYER] = {
			widget = "PlayerRadialProgression",
			name = 0xF903D47BC8F2015,
			menuName = "GlobalPanelPlayer",
			disabled = false
		}
	}
end

GLOBAL_PANEL.GetNavigationButtons = function ( f8_arg0 )
	local f8_local0 = {
		{
			disabled = false,
			name = 0xCF449348A17BB80,
			hidden = false,
			icon = "icon_global_home",
			buttonAction = function ()
				GLOBAL_PANEL.CloseGlobalPanel()
				LUI.FlowManager.RequestAutomaticNavigation( PartyUIRoot.MP_MAIN_MENU )
			end
		}
	}
	local f8_local1 = {
		disabled = false,
		name = 0x5C2E89BEAEC8F2A,
		icon = "icon_global_social",
		buttonAction = function ()
			GLOBAL_PANEL.CloseGlobalPanelNow()
			if CONDITIONS.IsMenuInStack( SOCIAL.MENU_NAME ) then
				local f12_local0 = LUI.FlowManager.GetMenuByName( SOCIAL.MENU_NAME )
				ACTIONS.PopMenuStackUpToMenu( SOCIAL.MENU_NAME, false )
				f12_local0.menu:SetDefaultTabActive()
			else
				local f12_local0
				if Dvar[0x9E5BE3B4BBA4E0E]( 0xAC3DB553B77FE91 ) then
					f12_local0 = "OptionsMenuLayout"
				else
					f12_local0 = "OptionsMenuNewLayout"
				end
				if CONDITIONS.IsMenuInStack( f12_local0 ) then
					ACTIONS.PopMenuStackUpToMenu( f12_local0, true )
				end
				FRIENDS.HandleSocial( f8_arg0 )
			end
		end
	}
	local f8_local2
	if CONDITIONS.IsSocialShortcutAllowed() then
		f8_local2 = not CONDITIONS.IsSocialMenuEnable()
	else
		f8_local2 = true
	end
	f8_local1.hidden = f8_local2
	f8_local0[2] = f8_local1
	f8_local0[3] = {
		disabled = false,
		name = 0x7AAFEA7122E0D5A,
		hidden = false,
		icon = "icon_global_barracks",
		buttonAction = function ()
			GLOBAL_PANEL.CloseGlobalPanelNow()
			LUI.FlowManager.RequestAddMenu( "ProgressionUnlockMenu", true, f8_arg0, false, nil )
		end
	}
	f8_local0[4] = {
		hidden = true,
		name = 0x3D55227F00E2EAB,
		icon = "icon_global_battlepass",
		disabled = true
	}
	f8_local0[5] = {
		hidden = true,
		name = 0x722AAF0023EBAFC,
		icon = "icon_global_challenges",
		disabled = true
	}
	f8_local0[6] = {
		hidden = true,
		name = 0x9314BF295F932EC,
		icon = "icon_global_store",
		disabled = true
	}
	f8_local0[7] = {
		disabled = false,
		name = 0xDE7B3C94B0B0F67,
		icon = "icon_global_options",
		buttonAction = function ()
			GLOBAL_PANEL.CloseGlobalPanelNow()
			local f10_local0
			if Dvar[0x9E5BE3B4BBA4E0E]( 0xAC3DB553B77FE91 ) then
				f10_local0 = "OptionsMenuLayout"
			else
				f10_local0 = "OptionsMenuNewLayout"
			end
			if CONDITIONS.IsMenuInStack( f10_local0 ) then
				ACTIONS.PopMenuStackUpToMenu( f10_local0 )
			else
				ACTIONS.OpenOptionsMenu( f8_arg0, nil, true )
			end
		end,
		hidden = Dvar[0x9E5BE3B4BBA4E0E]( 0xAC3DB553B77FE91 )
	}
	f8_local0[8] = {
		disabled = false,
		name = 0x7EC2B2559A5B764,
		icon = "icon_global_options",
		buttonAction = function ()
			GLOBAL_PANEL.CloseGlobalPanelNow()
			local f9_local0 = LUI.WebViewManager.Instance()
			f9_local0:OpenPatchNote()
		end,
		hidden = not LUI.WebViewManager.PatchNoteEnabled()
	}
	f8_local1 = {}
	f8_local2 = 0
	for f8_local3 = 1, #f8_local0, 1 do
		if not f8_local0[f8_local3].hidden then
			f8_local2 = f8_local2 + 1
			if 9 < f8_local2 then
				f8_local2 = 7
			end
			if not f8_local0[f8_local3].background or f8_local0[f8_local3].background == "" then
				f8_local0[f8_local3].background = "global_gridbuttonbg_" .. f8_local2
			end
			table.insert( f8_local1, f8_local0[f8_local3] )
		end
	end
	return f8_local1
end

GLOBAL_PANEL.OpenGlobalPanel = function ( f7_arg0, f7_arg1, f7_arg2, f7_arg3, f7_arg4 )
	if not f7_arg3 then
		f7_arg3 = {}
	end
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x688342254973B95 ) then
		ACTIONS.OpenOptionsMenu( f7_arg1 )
		return 
	elseif LUI.FlowManager.IsInStack( GLOBAL_PANEL.NAME ) then
		assert( LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.NAME ), "GlobalPanelBase need to be on top of stack for interacting with it" )
	else
		LUI.FlowManager.RequestPopupMenu( f7_arg0, GLOBAL_PANEL.NAME, true, f7_arg1, false, f7_arg4 )
	end
	local f7_local0 = LUI.FlowManager.GetMenuByName( GLOBAL_PANEL.NAME )
	f7_local0 = f7_local0.menu
	assert( f7_local0 )
	if f7_local0 then
		assert( f7_local0.GlobalPanel )
		LUI.ToastManager.DismissToastsOnScreen()
		if f7_arg2 and 1 < f7_arg2 and f7_arg2 ~= f7_local0.GlobalPanel:GetCurrentTabIndex() then
			f7_local0.GlobalPanel:ChangeTab( f7_arg2 )
		end
		if not f7_arg3.immediate then
			ACTIONS.AnimateSequence( f7_local0, GLOBAL_PANEL.INTRO_ANIMATION )
		end
	end
end

GLOBAL_PANEL.CloseGlobalPanelNow = function ()
	if CONDITIONS.InGame() then
		LUI.FlowManager.RequestCloseAllMenus()
	else
		LUI.FlowManager.RequestLeaveMenuByName( GLOBAL_PANEL.NAME, true )
	end
	TOAST_NOTIF.UpdateToastPosition( LUI.ToastManager.ToastPositionModifier.GlobalPanel, LUI.ToastManager.ToastPositionModifierStates.Closed )
end

GLOBAL_PANEL.CloseGlobalPanel = function ()
	local f4_local0 = function ()
		GLOBAL_PANEL.CloseGlobalPanelNow()
	end
	
	local f4_local1 = LUI.FlowManager.GetMenuByName( GLOBAL_PANEL.NAME )
	f4_local1 = f4_local1.menu
	assert( f4_local1 )
	if CONDITIONS.InGame() then
		f4_local0()
	elseif f4_local1 ~= nil then
		ACTIONS.AnimateSequence( f4_local1, GLOBAL_PANEL.OUTRO_ANIMATION, {
			onComplete = f4_local0
		} )
	end
	TOAST_NOTIF.UpdateToastPosition( LUI.ToastManager.ToastPositionModifier.GlobalPanel, LUI.ToastManager.ToastPositionModifierStates.Closed )
end

GLOBAL_PANEL.FocusTab = function ( f3_arg0, f3_arg1 )
	assert( f3_arg1 )
	local f3_local0 = LUI.FlowManager.GetMenuByName( GLOBAL_PANEL.NAME )
	f3_local0 = f3_local0.menu
	assert( f3_local0 )
	if f3_local0 ~= nil then
		assert( f3_local0.GlobalPanel )
		f3_local0.GlobalPanel:ChangeTab( f3_arg1 )
	end
end

GLOBAL_PANEL.IsOpen = function ()
	return LUI.FlowManager.IsInStack( GLOBAL_PANEL.NAME )
end

GLOBAL_PANEL.IsTabAvailable = function ( f1_arg0, f1_arg1 )
	local f1_local0 = GLOBAL_PANEL.GetGlobalPanelTabs( f1_arg1 )
	return not f1_local0[f1_arg0].disabled
end

