-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
MINI_STORE = {
	MENU_NAME = "MiniStorePopup",
	OPEN_ANIMATION = "Intro",
	CLOSE_ANIMATION = "Outro",
	OPEN_SOUND = CoD.SFX.GlobalPanelOpen,
	CLOSE_SOUND = CoD.SFX.GlobalPanelClose,
	OpenMiniStore = function ( f7_arg0, f7_arg1 )
		if not f7_arg1 then
			f7_arg1 = {}
		end
		if f7_arg1.bundle then
			QUARTERMASTER.RecordInteraction( f7_arg0, f7_arg1.bundle, QUARTERMASTER.InteractionType.OPEN_MINI_STORE_PREVIEW )
		end
		local f7_local0 = MINI_STORE.GetMiniStoreMenu()
		if f7_local0 then
			f7_local0:OpenWithOptions( f7_arg0, f7_arg1 )
		else
			LUI.FlowManager.RequestPopupMenu( nil, MINI_STORE.MENU_NAME, true, f7_arg0, false, f7_arg1 )
			ACTIONS.AnimateSequence( MINI_STORE.GetMiniStoreMenu(), MINI_STORE.OPEN_ANIMATION, {
				onComplete = function ( f8_arg0 )
					if not Onboarding.Store.MiniStore.WasCompleted( f8_arg0, f7_arg0 ) then
						TIP.CreateTips( Onboarding.Tips.Store.MINI_STORE( f7_arg0, f7_arg0 ) )
					end
				end
			} )
			Engine[0xC4146BA76D0F982]( MINI_STORE.OPEN_SOUND )
		end
	end,
	OpenBundlePreview = function ( f6_arg0, f6_arg1, f6_arg2, f6_arg3 )
		local f6_local0 = MINI_STORE.GetMiniStoreMenu()
		if f6_local0 then
			QUARTERMASTER.RecordInteraction( f6_arg0, f6_arg1, QUARTERMASTER.InteractionType.OPEN_MINI_STORE_PREVIEW )
			f6_local0:OpenBundlePreview( f6_arg1, f6_arg2, f6_arg3 )
		else
			MINI_STORE.OpenMiniStore( f6_arg0, {
				bundle = f6_arg1,
				openPurchaseConfirmation = f6_arg2,
				hideBundleList = f6_arg3
			} )
		end
	end,
	OpenCODPointsPurchase = function ( f5_arg0, f5_arg1 )
		local f5_local0 = MINI_STORE.GetMiniStoreMenu()
		if f5_local0 then
			f5_local0:OpenCODPointsPurchase( f5_arg1 )
		else
			MINI_STORE.OpenMiniStore( f5_arg0, {
				openCODPointsPurchase = true,
				fromButton = f5_arg1
			} )
		end
	end,
	GetMiniStoreMenu = function ()
		local f4_local0 = LUI.FlowManager.GetMenuByName( MINI_STORE.MENU_NAME )
		local f4_local1
		if f4_local0 then
			f4_local1 = f4_local0
		else
			f4_local1 = f4_local0.menu
		end
		return f4_local1
	end,
	IsOpened = function ()
		return MINI_STORE.GetMiniStoreMenu() ~= nil
	end,
	CloseMiniStore = function ( f1_arg0 )
		local f1_local0 = MINI_STORE.GetMiniStoreMenu()
		if f1_local0 ~= nil then
			local f1_local1 = function ()
				LUI.FlowManager.RequestLeaveMenu( f1_arg0, true, true )
			end
			
			if f1_arg0 then
				f1_local1()
			else
				Engine[0xC4146BA76D0F982]( MINI_STORE.CLOSE_SOUND )
				ACTIONS.AnimateSequence( f1_local0, MINI_STORE.CLOSE_ANIMATION, {
					onComplete = f1_local1
				} )
			end
		end
	end
}
