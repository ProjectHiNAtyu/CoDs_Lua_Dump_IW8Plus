-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 17-11-2025 01:22
module( ..., package.seeall )
local f0_local0 = 150
local f0_local1 = f0_local0 + 50
local f0_local2 = 9
local f0_local3 = 5
local f0_local4 = 4
local f0_local5 = 500
local f0_local6 = 3600
local f0_local7 = 5
local f0_local8 = 10
local f0_local9 = 20
local f0_local10 = "battlePassError"
local f0_local11 = {
	nil,
	-28,
	50,
	20,
	10,
	5,
	2,
	1
}
local f0_local12 = {
	[5.333806864E-315] = "battlepass_skip100",
	[5.31664595E-315] = "battlepass_skip10",
	[5.299808824E-315] = "battlepass_skip1",
	[5.311465295E-315] = "battlepass_skip5",
	[5.32862621E-315] = "battlepass_skip50",
	[5.3218266E-315] = "battlepass_skip20",
	[5.304989477E-315] = "battlepass_skip2"
}
local f0_local13 = {
	REDEEMING = 3,
	UPSELLING = 5,
	ONBOARDING_PT1 = 2,
	PENDING = 1,
	ONBOARDING_PT2 = 4,
	NONE = 0
}
local f0_local14 = function ( f165_arg0 )
	local f165_local0
	if f165_arg0 then
		f165_local0 = f165_arg0.itemData
		if not f165_local0 then
		
		else
			return f165_local0
		end
	end
	f165_local0 = nil
end

local f0_local15 = function ( f164_arg0, f164_arg1 )
	if f164_arg0 and f164_arg0.lootTable and f164_arg1 and 0 < f164_arg1 then
		return f164_arg0.lootTable[f164_arg1]
	else
		return nil
	end
end

local f0_local16 = function ( f163_arg0, f163_arg1 )
	return f0_local0( f0_local0( f163_arg0 ), f163_arg1 )
end

local f0_local17 = function ( f162_arg0, f162_arg1 )
	f162_arg0.LeftArrow:SetAlpha( 0 )
	f162_arg0.RightArrow:SetAlpha( 0 )
	f162_arg0.LeftPrompt:SetAlpha( 0 )
	f162_arg0.RightPrompt:SetAlpha( 0 )
end

local f0_local18 = function ( f160_arg0, f160_arg1, f160_arg2 )
	local f160_local0 = f160_arg0:Wait( f160_arg2 )
	f160_local0.onComplete = function ()
		local f161_local0, f161_local1, f161_local2, f161_local3 = f160_arg0:getLocalRect()
		f160_arg0:SetBottom( f161_local1 + f160_arg0 * _1080p, 0 )
	end
	
end

local f0_local19 = function ( f159_arg0, f159_arg1, f159_arg2 )
	if f159_arg0.WeaponAttributes then
		f159_arg0.WeaponAttributes:SetAlpha( 0 )
		if f159_arg1 == LOOT.itemTypes.WEAPON and f159_arg2 and 0 < #f159_arg2 then
			local f159_local0, f159_local1 = nil
			local f159_local2 = LOOT.GetItemRef( f159_arg1, f159_arg2 )
			if f159_local2 and 0 < #f159_local2 then
				f159_local0 = WEAPON.GenerateWeaponTableFromRef( f159_local2 )
				local f159_local3 = WEAPON.GetVariantRef( f159_arg2 )
				if f159_local3 and 0 < #f159_local3 then
					local f159_local4 = WEAPON.GetVariantFile( f159_local2 )
					f159_local1 = WEAPON.GetLootModTable( f159_arg0._controllerIndex, f159_local2, f159_arg2, CSV.ReadRowWithFile( CSV.weaponVariants, f159_local4, StringTable.BJJBBCJGEJ( f159_local4, CSV.weaponVariants.cols.ref, f159_local3 ) ) )
				end
			end
			if f159_local0 and f159_local1 and f159_local1.attachments and 0 <= #f159_local1.attachments then
				f159_arg0.WeaponAttributes:Setup( f159_local1, f159_local2, f159_local0 )
			end
		end
	end
end

local f0_local20 = function ( f158_arg0 )
	local f158_local0 = f158_arg0:GetCurrentMenu( f158_arg0 )
	if f158_local0.MPTabsMenu and f158_local0.MPTabsMenu.UpdateTabBreadcrumbs then
		f158_local0.MPTabsMenu:UpdateTabBreadcrumbs( f158_arg0._controllerIndex )
	end
end

local f0_local21 = function ( f157_arg0, f157_arg1 )
	local f157_local0 = LOOT.GetRarityColor( tonumber( f157_arg1.rarity ) )
	local f157_local1 = LOOT.GetLootQualityString( tonumber( f157_arg1.rarity ) )
	local f157_local2 = f157_arg1.type == LOOT.itemTypes.CONSUMABLE
	local f157_local3 = f157_arg1.className
	if f157_arg1.type == LOOT.itemTypes.WEAPON then
		if f157_arg1.IsVariant then
			f157_local3 = Engine.CBBHFCGDIC( "BATTLEPASS/BLUEPRINT_WITH_TYPE", WEAPON.GetSubClass( f157_arg1.ref ) )
		else
			f157_local3 = "LOOT_MP/ITEM_TYPE_WEAPON"
		end
	elseif f157_arg1.type == LOOT.itemTypes.FEATURE then
		if f157_arg1.amount or f157_arg1.duration then
			f157_local3 = "LOOT_MP/CONSUMABLE"
			f157_local2 = true
		elseif f157_arg1.isOperatorChallenge then
			f157_local3 = "LUA_MENU/OPERATOR_MISSIONS"
		end
	end
	f157_arg0.QualityText:setText( Engine.CBBHFCGDIC( "BATTLEPASS/RARITY_AND_TYPE", f157_local1, f157_local3 ) )
	f157_arg0.QualityText:SetRGBFromTable( f157_local0 )
	local f157_local4 = f0_local0( f157_arg0._currentChild, f157_arg0._lootIndex )
	local f157_local5 = f157_local4._gameSourceId
	local f157_local6 = f157_local4.lootID
	local f157_local7 = f157_local6 == LOOT.COD_POINTS_ITEM_ID
	if not f157_local2 and f157_arg1.type ~= LOOT.itemTypes.FEATURE then
		if f157_local6 then
			f157_arg0.ExclusiveSnipeIcon:UpdateExclusiveSnipeIcon( {
				selected = true,
				gameSourceExclusivityID = LOOT.GetGameSourceExclusivityByItemID( f157_local4.lootID )
			} )
		else
			f157_arg0.ExclusiveSnipeIcon:UpdateExclusiveSnipeIcon( {
				selected = true,
				isExclusive = true,
				gameSourceID = f157_local5
			} )
		end
	else
		ACTIONS.AnimateSequence( f157_arg0.ExclusiveSnipeIcon, "Hide" )
	end
	local f157_local8 = LAYOUT.GetTextWidth( f157_arg0.QualityText )
	local f157_local9, f157_local10, f157_local11, f157_local12 = f157_arg0.QualityText:getLocalRect()
	f157_arg0.ExclusiveSnipeIcon:SetLeft( f157_local9 + f157_local8 + 70 * _1080p )
	f157_arg0.RarityIcon:setImage( RegisterMaterial(), LOOT.GetRarityImage( tonumber( f157_arg1.rarity ) ) )
	LOOT.ApplyRarityIconColoring( f157_arg0.RarityIcon, tonumber( f157_arg1.rarity ) )
end

local f0_local22 = function ( f156_arg0, f156_arg1, f156_arg2, f156_arg3 )
	local f156_local0 = 26
	if f156_arg1.type == LOOT.itemTypes.WEAPON then
		if f156_arg3 then
			f156_arg0.WeaponDescription:setText( WEAPON.GetDesc( f156_arg1.ref ) )
			f0_local0( f156_arg0, f156_arg1.type, f156_arg1.itemID )
			ACTIONS.AnimateSequence( f156_arg0, "WeaponDetails" )
			if f156_arg0.BattlePassPurchaseButton then
				f156_arg0.BattlePassPurchaseButton._showTooltip = false
				f156_arg0.BattlePassPurchaseButton:UpdateTooltip()
			end
			if IsLanguageArabic() then
				local f156_local1 = 180
				f0_local0( f156_arg0.UnlockCriteria, f156_local0, f156_local1 )
				f0_local0( f156_arg0.DetailsPrompt, f156_local0, f156_local1 )
				f0_local0( f156_arg0.WeaponDescription, f156_local0, f156_local1 )
			end
		else
			if f156_arg0.SpecialWeaponAttributeWithText:SetupWeaponAttribute( f156_arg1.itemID ) then
				ACTIONS.AnimateSequence( f156_arg0, "WeaponPreviewWithAttribute" )
			else
				ACTIONS.AnimateSequence( f156_arg0, "WeaponPreview" )
			end
			if f156_arg0.BattlePassPurchaseButton then
				f156_arg0.BattlePassPurchaseButton._showTooltip = true
				f156_arg0.BattlePassPurchaseButton:UpdateTooltip()
			end
			if IsLanguageArabic() then
				local f156_local2 = 180
				f0_local0( f156_arg0.UnlockCriteria, f156_local0, f156_local2 )
				f0_local0( f156_arg0.DetailsPrompt, f156_local0, f156_local2 )
			end
		end
	elseif f156_arg2 and f156_arg2.lootTable[f156_arg0._lootIndex].challengeID and f156_arg2.lootTable[f156_arg0._lootIndex].challengeID ~= "" then
		local f156_local1 = Challenge.GetNameFromRef( f156_arg2.lootTable[f156_arg0._lootIndex].challengeID, Challenge.Type.MISSION )
		if f156_local1 then
			f156_arg0.MissionTag:SetupMissionTag( f156_arg1.rarityColor, f156_local1 )
			f156_arg0.MissionTag:SetAlpha( 0, 0 )
			f156_arg0.MissionTag:SetAlpha( 1, 150 )
		else
			f156_arg0.MissionTag:SetAlpha( 0, 150 )
		end
		ACTIONS.AnimateSequence( f156_arg0, "MissionPreview" )
		if IsLanguageArabic() then
			f0_local0( f156_arg0.UnlockCriteria, f156_local0, 180 )
		end
	elseif f156_arg1.type == LOOT.itemTypes.CONSUMABLE then
		f156_arg0.WeaponDescription:setText( f156_arg1.duration )
		ACTIONS.AnimateSequence( f156_arg0, "ConsumablePreview" )
		if IsLanguageArabic() then
			local f156_local1 = 180
			f0_local0( f156_arg0.UnlockCriteria, f156_local0, f156_local1 )
			f0_local0( f156_arg0.WeaponDescription, f156_local0 + 8, f156_local1 )
		end
	elseif f156_arg1.type == LOOT.itemTypes.FEATURE then
		f156_arg0.WeaponDescription:setText( LOOT.GetFeatureItemDesc( f156_arg1.ref ) )
		ACTIONS.AnimateSequence( f156_arg0, "ConsumablePreview" )
		if IsLanguageArabic() then
			local f156_local1 = 180
			f0_local0( f156_arg0.UnlockCriteria, f156_local0, f156_local1 )
			f0_local0( f156_arg0.WeaponDescription, f156_local0 + 8, f156_local1 )
		end
	else
		ACTIONS.AnimateSequence( f156_arg0, "ItemPreview" )
		if IsLanguageArabic() then
			f0_local0( f156_arg0.UnlockCriteria, f156_local0, 180 )
		end
	end
	if f156_arg0._isStandalone and f156_arg0.BattlePassPurchaseButton then
		f156_arg0.BattlePassPurchaseButton:SetAlpha( 0 )
		f156_arg0.BattlePassPurchaseButton:SetFocusable( false )
	end
end

local f0_local23 = function ( f155_arg0, f155_arg1 )
	if f155_arg1.controller == f155_arg0._controllerIndex then
		if f155_arg0._currentChild then
			f155_arg0._isExpanded = not f155_arg0._isExpanded
			f0_local0( f155_arg0, f155_arg0._currentChild.lootData, f0_local0( f155_arg0._currentChild ), f155_arg0._isExpanded )
			if f155_arg0._currentChild.lootData.type == LOOT.itemTypes.WEAPON then
				Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
			end
		end
		if f155_arg0._missionChallengeID then
			Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
			if not f155_arg0._missionChallengeData then
				if Engine.BHICADFIHA() then
					LUI.FlowManager.RequestPopupMenu( f155_arg0, "PopupOK", true, f155_arg1.controller, false, {
						message = "Could not get missionChallengeData, likely missing SkinID for missionChallenge: " .. f155_arg0._missionChallengeID
					} )
				else
					f155_arg0:OpenBattlePassPopup()
					assert( false, "[BattlePassMenu] Error: Could not get missionChallengeData, likely missing SkinID for missionChallenge: " .. f155_arg0._missionChallengeID )
				end
				return 
			elseif f155_arg0._missionChallengeData.category == "OPERATOR" then
				local f155_local0 = StringTable.DIFCHIGDFB( CSV.questChallenges.file, CSV.questChallenges.cols.ref, f155_arg0._missionChallengeID, CSV.questChallenges.cols.id )
				if f155_local0 and 0 < #f155_local0 then
					LUI.FlowManager.RequestAddMenu( "OperatorMissions", true, f155_arg0._controllerIndex, false, {
						singleMissionOverride = true,
						challengeID = f155_local0,
						skinLootId = f155_arg0._missionChallengeData.loot
					} )
				end
			end
		end
	end
end

local f0_local24 = function ( f154_arg0, f154_arg1 )
	if Dvar.IBEGCHEFE( "OLNMSNSTKS" ) then
		LUI.FlowManager.RequestPopupMenu( f154_arg0, "CreatorCodePopup", true, f154_arg1.controller, false, options )
	end
end

local f0_local25 = function ( f153_arg0, f153_arg1 )
	if not f153_arg0._isAnimating then
		Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
		if f153_arg0._battlePassOwned then
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f153_arg0._controllerIndex, false, {
				skipDelay = true
			} )
		else
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f153_arg0._controllerIndex, false, {
				skipDelay = true,
				closeAction = OpenUpsellPopup,
				menu = f153_arg0
			} )
		end
	end
end

local f0_local26 = function ( f152_arg0 )
	f152_arg0.bindButton:processEvent( {
		name = "button_alt2"
	} )
end

local f0_local27 = function ( f151_arg0, f151_arg1 )
	local f151_local0 = f151_arg1.lootData
	local f151_local1
	if f151_local0 then
		f151_local1 = f151_local0
	else
		f151_local1 = f151_local0.isOperatorChallengeReward
	end
	local f151_local2 = f151_arg1._tierType
	if f151_local2 then
		f151_local2 = tonumber( f151_arg1._tierType ) == BATTLEPASS.ItemTypes.CLAN
	end
	if f151_local1 then
		local f151_local3
		if f151_local0 then
			f151_local3 = f151_local0
		else
			f151_local3 = f151_local0.isLocked
		end
		if f151_local3 then
			f151_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/OPERATOR_CHALLENGE_UNLOCK_MESSAGE", f151_local0.operatorChallengeName or "" ) )
			ACTIONS.AnimateSequence( f151_arg0, "IsLocked" )
		else
			ACTIONS.AnimateSequence( f151_arg0, "NotLocked" )
		end
	elseif f151_arg1._isLocked then
		if not f151_arg1._isOwned and f151_arg1._level ~= nil then
			if f151_local2 then
				f151_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_WITH_CLAN" ) )
			elseif f151_arg0._battlePassOwned then
				f151_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_INCOMPLETE", f151_arg1._level ) )
			else
				f151_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_INCOMPLETE_WITH_BATTLEPASS", f151_arg1._level ) )
			end
		elseif f151_arg1._isBundleBonus then
			f151_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_WITH_BATTLEPASS_BUNDLE" ) )
		else
			f151_arg0.UnlockCriteria:setText( Engine.CBBHFCGDIC( "BATTLEPASS/LOCKED_WITH_BATTLEPASS" ) )
		end
		ACTIONS.AnimateSequence( f151_arg0, "IsLocked" )
	else
		ACTIONS.AnimateSequence( f151_arg0, "NotLocked" )
	end
end

local f0_local28 = function ( f150_arg0 )
	local f150_local0 = {}
	local f150_local1 = f150_arg0.Name:GetCurrentAnchorsAndPositions()
	f150_local0.leftOffset = f150_local1.left
	f150_local0.nameWidth = LAYOUT.GetRawTextWidth( f150_arg0.Name, f0_local0, f150_arg0._controllerIndex )
	f150_local0.bluePrintIconWidth = 0
	return f150_local0
end

local f0_local29 = function ( f149_arg0, f149_arg1, f149_arg2 )
	if f149_arg1.type == LOOT.itemTypes.WEAPON then
		local f149_local0 = ACTIONS.AnimateSequence
		local f149_local1 = f149_arg0
		local f149_local2
		if f149_arg1.IsVariant then
			f149_local2 = "IsBlueprint"
		else
			f149_local2 = "IsBaseWeapon"
		end
		f149_local0( f149_local1, f149_local2 )
		if f149_arg0._delayBlueprintIcon then
			f149_local0 = 1
		else
			f149_local0 = 0
		end
		f149_arg2.bluePrintIconWidth = LAYOUT.GetElementWidth( f149_arg0.BlueprintIcon ) / _1080p
		local f149_local3 = (f149_arg2.nameWidth + f0_local0) * _1080p + f149_arg2.leftOffset
		f149_local1 = f149_local3 + f149_arg2.bluePrintIconWidth * _1080p
		f149_arg0.BlueprintIcon:SetLeft( f149_local3, f149_local0 )
		f149_arg0.BlueprintIcon:SetRight( f149_local1, f149_local0 )
		f149_arg0.BlueprintIcon:SetAlpha( 1, f149_local0 )
	else
		f149_arg0.BlueprintIcon:SetAlpha( 0 )
	end
end

local f0_local30 = function ( f148_arg0, f148_arg1, f148_arg2 )
	local f148_local0 = 180
	if LOOT.HasReactiveCamo( f148_arg1.itemID ) then
		local f148_local1 = f148_arg2.bluePrintIconWidth
		local f148_local2 = f0_local0
		local f148_local3
		if f148_local1 ~= 0 then
			f148_local3 = f0_local0
			if not f148_local3 then
			
			else
				f148_local3 = f148_arg2.leftOffset + f148_arg2.nameWidth + f148_local1 + f148_local2 + f148_local3
				f148_arg0.ReactiveIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * f148_local3, _1080p * (f148_local3 + f148_local0), _1080p * 244, _1080p * 324 )
				f148_arg0.ReactiveIcon:SetAlpha( 1 )
			end
		end
		f148_local3 = 0
	else
		f148_arg0.ReactiveIcon:SetAlpha( 0 )
	end
end

local f0_local31 = function ( f147_arg0, f147_arg1 )
	local f147_local0 = f147_arg1.lootData
	local f147_local1
	if f147_local0 then
		f147_local1 = f147_local0
	else
		f147_local1 = next( f147_local0 ) ~= nil
	end
	if not f147_local1 then
		return 
	else
		f147_arg0.Name:setText( ToUpperCase( f147_local0.name or "" ) )
		local f147_local2 = f0_local0( f147_arg0 )
		f0_local0( f147_arg0, f147_local0 )
		f0_local0( f147_arg0, f147_local0, f147_local2 )
		f0_local0( f147_arg0, f147_local0, f147_local2 )
		f0_local0( f147_arg0, f147_local0, f0_local0( f147_arg1 ), false )
	end
end

local f0_local32 = function ( f144_arg0, f144_arg1 )
	f144_arg0._isExpanded = false
	local f144_local0 = f0_local0( f144_arg1 )
	local f144_local1
	if f144_local0 then
		f144_local1 = f144_local0
	else
		f144_local1 = next( f144_local0 ) ~= nil
	end
	if not f144_local1 then
		
	else
		
	end
	f144_arg0._billboardMaterial = nil
	local f144_local2 = f144_local0.lootTable[f144_arg0._lootIndex].billboardImage
	if f144_local2 and 0 < #f144_local2 then
		f144_arg0._billboardMaterial = RegisterMaterial( f144_local2 )
	end
	if f144_arg0.BillboardImg:GetImage() == f144_arg0._billboardMaterial then
		f0_local0( f144_arg0, f144_arg1 )
	end
	f144_arg0._itemSelectionComplete = false
	local f144_local3 = f144_arg0.Background:Wait( f0_local0 - 10, true )
	f144_local3.onComplete = function ()
		f144_arg0._itemSelectionComplete = true
	end
	
	assert( f144_arg0.FadeCover )
	local f144_local4 = f144_arg0._itemSelectionComplete and f0_local0 or 10
	if not f144_arg0._prevImage then
		f144_local4 = 0
	end
	f144_arg0.FadeCover:SetAlpha( 1, f144_local4, LUI.EASING.inQuadratic )
	local f144_local5 = f144_arg0.FadeCover:Wait( f0_local0, true )
	f144_local5.onComplete = function ()
		if f144_arg0._itemSelectionComplete then
			assert( f144_arg0.BillboardImg )
			if f144_arg0._billboardMaterial then
				f144_arg0.BillboardImg:setImage( f144_arg0._billboardMaterial )
				f144_arg0.BillboardImg:SetAlpha( 1 )
			else
				f144_arg0.BillboardImg:SetAlpha( 0 )
			end
			f144_arg0.FadeCover:SetAlpha( 0, f144_arg0, LUI.EASING.outQuadratic )
			f144_arg0._prevImage = f144_arg0._billboardMaterial
		end
	end
	
	f0_local0( f144_arg0, f144_arg1 )
end

local f0_local33 = function ( f143_arg0, f143_arg1 )
	if f143_arg1 == 0 then
		return BATTLEPASS.NumBonusItems
	elseif f143_arg1 == f143_arg0._maxBattlePassLevel then
		return #f143_arg0._battlePassData
	end
	for f143_local4, f143_local5 in ipairs( f143_arg0._battlePassData ) do
		local f143_local3
		if f143_local5 then
			f143_local3 = f143_local5
		else
			f143_local3 = tonumber( f143_local5.level )
		end
		if f143_arg1 == f143_local3 and f143_local5 and f143_local5.showProgress then
			return f143_local4
		end
	end
end

local f0_local34 = function ( f142_arg0, f142_arg1 )
	local f142_local0 = f142_arg0._battlePassData[f142_arg1]
	if f142_local0 then
		for f142_local5, f142_local6 in ipairs( f142_local0.lootTable ) do
			local f142_local4
			if f142_local6 then
				f142_local4 = f142_local6
			else
				f142_local4 = f142_local6.lootID
			end
			if f142_local4 and LOOT.IsItemIDEquippableByS4( f142_local4 ) then
				return true
			end
		end
	end
	return false
end

local f0_local35 = function ( f141_arg0, f141_arg1 )
	local f141_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	if not f141_local0.battlepassSelectedColumn then
		f141_local0.battlepassSelectedColumn = #f141_arg0._battlePassData - 1
		for f141_local5, f141_local6 in ipairs( f141_arg0._battlePassData ) do
			if f141_local6 then
				local f141_local4 = tonumber( f141_local6.level )
				if f141_arg0._battlePassXP < tonumber( f141_local6.xp ) then
					f141_local0.battlepassSelectedColumn = f141_local5 - 1
					f141_arg0._currentLevel = f141_local4 - 1
					break
				end
			end
		end
	end
	f141_arg0.Grid:SetDefaultFocus( {
		y = 0,
		x = f141_local0.battlepassSelectedColumn
	}, f141_arg1 )
end

local f0_local36 = function ( f140_arg0, f140_arg1 )
	if f140_arg0._isStandalone then
		return 
	end
	local f140_local0 = BATTLEPASS.GetTier( f140_arg0._controllerIndex )
	f140_arg1 = tonumber( f140_arg1 )
	f140_arg0._purchaseEnabled = not f140_arg0._battlePassOwned
	if f140_arg0._needFixUp then
		f140_arg0._purchaseEnabled = true
		if f140_arg0.BattlePassPurchaseButton then
			f140_arg0.BattlePassPurchaseButton:UpdateButtonState( f140_arg0._battlePassOwned, true, f140_arg0._currentLevel, f140_arg0._needFixUp )
		end
	elseif f140_arg0._battlePassOwned and f140_arg1 then
		local f140_local1 = f140_arg1 - f140_local0
		local f140_local2
		if 0 < f140_arg1 and 0 < f140_local1 and f140_local0 < f140_arg0._maxBattlePassLevel then
			f140_local2 = Dvar.IBEGCHEFE( "MMQLPLSNOM" )
			if f140_local2 then
				if f140_arg1 == BATTLEPASS.BUNDLE_TOPPER_ITEM_LEVEL then
					f140_local2 = false
				else
					f140_local2 = true
				end
			end
		else
			f140_local2 = false
		end
		if f140_local2 then
			f140_arg0._tierSkips = f140_local1
			f140_arg0._purchaseEnabled = true
			local f140_local3 = BATTLEPASS.SINGLE_TIER_COST
			if CONDITIONS.IsTierSaleEnabled() then
				f140_local3 = Dvar.CFHDGABACF( "MOKSKKQRLK" )
			end
			f140_arg0._itemCost = f140_arg0._tierSkips * f140_local3
			local f140_local4 = Engine.CBBHFCGDIC
			local f140_local5
			if f140_arg0._tierSkips == 1 then
				f140_local5 = "MENU/BUY_TIER_SINGLE"
			else
				f140_local5 = "MENU/BUY_TIERS_MULTIPLE"
			end
			f140_local4 = f140_local4( f140_local5, f140_arg0._tierSkips )
			if f140_arg0.BattlePassPurchaseButton then
				f140_arg0.BattlePassPurchaseButton.PurchaseText:setText( ToUpperCase( f140_local4 ) )
			end
		else
			f140_arg0._tierSkips = 0
			f140_arg0._itemCost = 0
			f140_arg0._purchaseEnabled = false
		end
		if f140_arg0.BattlePassPurchaseButton then
			f140_arg0.BattlePassPurchaseButton:UpdateButtonState( f140_arg0._battlePassOwned, not f140_local2, f140_local0 )
		end
	elseif f140_arg0.BattlePassPurchaseButton then
		f140_arg0.BattlePassPurchaseButton:UpdateButtonState( f140_arg0._battlePassOwned, true, f140_local0 )
	end
	local f140_local1 = f140_arg0._purchaseEnabled
	if f140_local1 then
		f140_local1 = not f140_arg0._isAnimating
	end
	f140_arg0._purchaseEnabled = f140_local1
end

local f0_local37 = function ( f139_arg0 )
	local f139_local0 = f0_local0( f139_arg0._currentChild )
	f0_local0( f139_arg0, f139_arg0._currentChild )
	local f139_local1 = f0_local0
	local f139_local2 = f139_arg0
	local f139_local3
	if f139_local0 then
		f139_local3 = f139_local0.level
		if not f139_local3 then
		
		else
			f139_local1( f139_local2, f139_local3 )
			f0_local0( f139_arg0, f139_arg0._currentChild )
			f139_local1 = f0_local0( f139_local0, f139_arg0._lootIndex )
			if f139_local1 and f139_local1.challengeID and f139_local1.challengeID ~= "" then
				f139_arg0._missionChallengeID = f139_local1.challengeID
				local f139_local4 = false
				f139_local2 = Challenge.GetMissionDataByRef( f139_arg0._controllerIndex, f139_arg0._missionChallengeID )
				if f139_local2 then
					
				else
					
				end
				if not f139_local4 then
					DebugPrint( "Could not find skin id in mission chain for " .. f139_arg0._missionChallengeID )
				end
				f139_arg0._missionChallengeData = f139_local2
			else
				f139_arg0._missionChallengeID = nil
				f139_arg0._missionChallengeData = nil
			end
			local f139_local4 = f139_arg0._currentChild.lootData.type
			if f139_arg0._currentMenu then
				f139_local2 = f139_arg0._currentMenu.PopupHelperBar
				if f139_arg0._isAnimating then
					if f139_local2 then
						f139_local2.ButtonHelperText:PopButtonPrompt( {
							button_ref = "button_alt2"
						} )
					end
					if not CONDITIONS.IsGiftingEnabled() or not f139_arg0._battlePassOwned then
						f139_arg0:RemoveButtonPrompt( {
							helper_text = nil,
							button_ref = "button_alt2"
						} )
					end
				end
				if f139_arg0._isAnimating or not LOOT.CanPreview( f139_local4, f139_arg0._currentChild.lootData.itemID ) then
					if f139_arg0._isBattlePassPopup and f139_arg0._currentMenu.UpdatePrompts then
						f139_arg0._currentMenu:UpdatePrompts( false )
					else
						f139_arg0:RemoveButtonPrompt( {
							side = "left",
							button_ref = "button_primary",
							helper_text = nil
						} )
					end
				elseif f139_arg0._isBattlePassPopup and f139_arg0._currentMenu.UpdatePrompts then
					f139_arg0._currentMenu:UpdatePrompts( true )
				else
					f139_arg0:AddButtonPrompt( {
						side = "left",
						button_ref = "button_primary",
						priority = 2,
						helper_text = Engine.CBBHFCGDIC( "LUA_MENU/PREVIEW" )
					} )
				end
			end
		end
	end
	f139_local3 = 0
end

local f0_local38 = function ( f138_arg0, f138_arg1, f138_arg2 )
	if f138_arg1 then
		f138_arg0._battlePassXP = f138_arg1
		f138_arg0._previousXP = f138_arg0._battlePassXP
	end
	local f138_local0 = BATTLEPASS.GetXP( f138_arg0._controllerIndex )
	if f138_arg2 then
		f138_local0 = f138_arg2
	end
	f138_arg0._finalXP = f138_local0
	if f138_local0 < f138_arg0._battlePassXP then
		f138_arg0._battlePassXP = 0
		f138_arg0._previousXP = 0
	end
	if f138_local0 == f138_arg0._battlePassXP then
		return 
	else
		f138_arg0._previousLevel = BATTLEPASS.GetTierByXP( f138_arg0._controllerIndex, f138_arg0._previousXP )
		local f138_local1 = BATTLEPASS.GetTierByXP( f138_arg0._controllerIndex, f138_local0 )
		local f138_local2 = f0_local0( f138_arg0, f138_arg0._previousLevel )
		local f138_local3 = f0_local0( f138_arg0, f138_local1 )
		f138_local2 = LUI.clamp( f138_local2, 0, #f138_arg0._battlePassData - 1 )
		f138_local3 = LUI.clamp( f138_local3, 0, #f138_arg0._battlePassData - 1 )
		f138_arg0._purchaseEnabled = false
		f138_arg0.TierPurchaseBG:SetAlpha( 1 )
		f138_arg0.TierPurchaseBG:StartAnimation()
		f138_arg0:AnimateUnlocks( f138_local2, f138_local3, false )
	end
end

local f0_local39 = function ( f137_arg0, f137_arg1, f137_arg2, f137_arg3 )
	f137_arg0._battlePassXP = f137_arg1
	f137_arg0._previousXP = f137_arg1
	f137_arg0._finalXP = f137_arg2
	f137_arg0._previousLevel = BATTLEPASS.GetTierByXP( f137_arg0._controllerIndex, f137_arg0._previousXP )
	local f137_local0 = BATTLEPASS.GetTierByXP( f137_arg0._controllerIndex, f137_arg2 )
	local f137_local1 = f0_local0( f137_arg0, f137_arg0._previousLevel )
	local f137_local2 = f0_local0( f137_arg0, f137_local0 )
	f137_local1 = LUI.clamp( f137_local1, 0, #f137_arg0._battlePassData - 1 )
	f137_local2 = LUI.clamp( f137_local2, 0, #f137_arg0._battlePassData - 1 )
	f137_arg0._purchaseEnabled = false
	f137_arg0._isAnimating = false
	f137_arg0._aarFillWaitTime = f137_arg3
	f137_arg0.TierPurchaseBG:SetAlpha( 1 )
	f137_arg0.TierPurchaseBG:StartAnimation()
	f137_arg0:AnimateUnlocks( f137_local1, f137_local2, false, true )
end

local f0_local40 = function ( f136_arg0 )
	local f136_local0 = BATTLEPASS.HasNewPassForSeason( f136_arg0._controllerIndex )
	local f136_local1, f136_local2 = BATTLEPASS.IsPendingTransactions( f136_arg0._controllerIndex )
	local f136_local3 = BATTLEPASS.IsOwned( f136_arg0._controllerIndex )
	local f136_local4
	if f136_arg0._BRRewardState ~= f0_local0.NONE and f136_arg0._BRRewardState ~= f0_local0.UPSELLING then
		f136_local4 = false
	else
		f136_local4 = true
	end
	local f136_local5
	if not f136_local0 or f136_local1 or f136_local3 or not f136_local4 or f136_arg0._crmPurchaseBattlePass then
		f136_local5 = Dvar.IBEGCHEFE( "battlepass_always_show_upsell" )
		if f136_local5 then
			f136_local5 = not f136_arg0._upsellSeen
		end
	else
		f136_local5 = true
	end
	return f136_local5
end

local f0_local41 = function ( f135_arg0, f135_arg1 )
	if CONDITIONS.IsQABotSkipActive() then
		return 
	else
		f135_arg0._upsellSeen = true
		LUI.FlowManager.RequestPopupMenu( f135_arg0, "BattlePassUpsellPopup", true, f135_arg0._controllerIndex, false, {
			sourceMenu = f135_arg0,
			backLeavesBPMenuPopup = f135_arg1
		} )
	end
end

local f0_local42 = function ( f133_arg0, f133_arg1, f133_arg2 )
	local f133_local0 = {
		title = Engine.CBBHFCGDIC( "MENU/ERROR" ),
		message = f133_arg1
	}
	local f133_local1
	if not f133_arg2 then
		f133_local1 = f133_arg2
	else
		f133_local1 = function ()
			if f133_arg0._purchaseBattlePassInAAR then
				ACTIONS.LeaveMenu( f133_arg0 )
				if AAR.IsAnyNonXPParadeAvailable( f133_arg0._controllerIndex ) then
					LUI.FlowManager.RequestAddMenu( "AARContainer", true, f133_arg0._controllerIndex, false, {
						fromBattlepassAAR = true,
						controller = controllerIndex
					} )
				end
			else
				f133_arg0.Grid:RefreshContent()
			end
		end
		
	end
	f133_local0.action = f133_local1
	LUI.FlowManager.RequestPopupMenu( nil, "PopupOK", true, f133_arg0._controllerIndex, false, f133_local0, nil, false, true )
end

local f0_local43 = function ( f132_arg0, f132_arg1, f132_arg2, f132_arg3, f132_arg4 )
	local f132_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	local f132_local1 = AAR.GetDebugMatchInfoPackageString( f132_arg1 )
	local f132_local2 = "current position "
	local f132_local3 = tostring( f132_arg2 )
	local f132_local4 = " \n start position "
	local f132_local5 = tostring( f132_arg3 )
	local f132_local6 = " \n end position "
	local f132_local7 = tostring( f132_arg4 )
	local f132_local8 = " \n previous xp "
	local f132_local9 = tostring( f132_arg0._previousXP )
	local f132_local10 = " \n previous level "
	local f132_local11 = tostring( f132_arg0._previousLevel )
	local f132_local12 = " \n current level "
	local f132_local13 = tostring( f132_arg0._currentLevel )
	local f132_local14 = " \n battle pass xp "
	local f132_local15 = tostring( f132_arg0._battlePassXP )
	local f132_local16 = " \n scoped data colum "
	local f132_local17 = tostring
	local f132_local18
	if f132_local0 then
		f132_local18 = f132_local0.battlepassSelectedColumn
		if not f132_local18 then
		
		else
			DebugPrint( "$$$ Battle Pass Menu AAR State: " .. f132_local1 .. f132_local2 .. f132_local3 .. f132_local4 .. f132_local5 .. f132_local6 .. f132_local7 .. f132_local8 .. f132_local9 .. f132_local10 .. f132_local11 .. f132_local12 .. f132_local13 .. f132_local14 .. f132_local15 .. f132_local16 .. f132_local17( f132_local18 ) )
		end
	end
	f132_local18 = "-1"
end

local f0_local44 = function ( f131_arg0 )
	if Onboarding.BattlePass.WasCompleted( f131_arg0, f131_arg0._controllerIndex ) then
		f131_arg0._bpGiftWaitTimer:closeTree()
		f131_arg0._bpGiftWaitTimer = nil
		GIFT.ProcessQueuedBattlepassGifts( f131_arg0._controllerIndex )
	end
end

local f0_local45 = function ( f129_arg0 )
	if f129_arg0._bpGiftWaitTimer ~= nil then
		f129_arg0._bpGiftWaitTimer:closeTree()
		f129_arg0._bpGiftWaitTimer = nil
	end
	f129_arg0._bpGiftWaitTimer = LUI.UITimer.new( {
		interval = 1000,
		event = "bp_wait_for_bp_onboarding"
	} )
	f129_arg0._bpGiftWaitTimer.id = "bpWaitForBPOnboarding"
	f129_arg0:addElement( f129_arg0._bpGiftWaitTimer )
	f129_arg0:addAndCallEventHandler( "bp_wait_for_bp_onboarding", function ( f130_arg0, f130_arg1 )
		f129_arg0( f129_arg0 )
	end )
end

local f0_local46 = function ( f122_arg0, f122_arg1, f122_arg2, f122_arg3, f122_arg4 )
	if f122_arg0._isAnimating then
		
	else
		
	end
	local f122_local0 = {
		START = 0,
		FILL = 2,
		FLARE = 3,
		END = 5,
		GRID = 1,
		DELAY = 4
	}
	local f122_local1 = {
		[f122_local0.START] = 1
	}
	local f122_local2 = f122_local0.GRID
	local f122_local3
	if f122_arg3 then
		f122_local3 = 50
	else
		f122_local3 = 100
	end
	f122_local1[f122_local2] = f122_local3
	f122_local2 = f122_local0.FILL
	if f122_arg3 then
		f122_local3 = 50
	else
		f122_local3 = 100
	end
	f122_local1[f122_local2] = f122_local3
	f122_local2 = f122_local0.FLARE
	if f122_arg3 then
		f122_local3 = 100
	else
		f122_local3 = 600
	end
	f122_local1[f122_local2] = f122_local3
	f122_local2 = f122_local0.DELAY
	if f122_arg3 then
		f122_local3 = 50
	else
		f122_local3 = 200
	end
	f122_local1[f122_local2] = f122_local3
	f122_local1[f122_local0.END] = 1
	if f122_arg4 then
		f122_local1[f122_local0.FILL] = f122_arg0._aarFillWaitTime and f122_arg0._aarFillWaitTime or f122_local1[f122_local0.FILL]
	end
	f122_local2 = function ( f128_arg0, f128_arg1 )
		f122_arg0.Grid:SetFocusedPosition( {
			y = 0,
			x = f128_arg0
		}, f128_arg1, nil, false )
		return f122_arg0.Grid:GetElementAtPosition( f128_arg0, 0 )
	end
	
	f122_local3 = nil
	local f122_local4 = f122_arg1
	local f122_local5 = nil
	local f122_local6 = f122_arg1 + 1
	local f122_local7 = tonumber( f122_arg0._battlePassData[f122_arg1 + 1].level )
	local f122_local8 = f122_arg0._finalXP and f122_arg0._finalXP or BATTLEPASS.GetXP( f122_arg0._controllerIndex )
	local f122_local9 = BATTLEPASS.GetTierMaxXP( f122_arg0._maxBattlePassLevel )
	f122_arg0._isAnimating = true
	f122_arg0._skipAnimationEnabled = true
	f122_arg0.Grid:SetDirectionalInputEnabled( false )
	f122_arg0.Grid:SetMouseFocusBlocker( true )
	f122_arg0.HorizontalScrollbar:SetAlpha( 0 )
	f122_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( true )
	local f122_local10
	if LUI.IsLastInputKeyboardMouse( f122_arg0._controllerIndex ) then
		f122_local10 = "button_left_trigger"
	else
		f122_local10 = "button_alt1"
	end
	f122_arg0:AddButtonPrompt( {
		helper_text = Engine.CBBHFCGDIC( "BATTLEPASS/SKIP_CELEBRATION" ),
		button_ref = f122_local10,
		container = f122_arg0.PromptContainer,
		containerAlignment = LUI.Alignment.Left
	} )
	local f122_local11
	if f122_arg3 then
		f122_local11 = BATTLEPASS.GetTierMinXP( 0 and f122_local7 - 1 or 0 )
		if not f122_local11 then
		
		else
			f122_arg0._battlePassXP = f122_local11
			f122_arg0.Grid:RefreshContent()
			f0_local0( f122_arg0 )
			f122_local11 = nil
			f122_local11 = function ()
				if not f122_arg0 then
					f122_arg0 = f122_arg0.START
				else
					f122_arg0 = f122_arg0 + 1
					if f122_arg0 == f122_arg0.END and (f122_arg0 < f122_arg0 or f122_arg0._battlePassXP < f122_arg0 or f122_arg0 == f122_arg0 and f122_arg0 == f122_arg0) then
						f122_arg0 = f122_arg0.START
					end
				end
				if f122_arg0:GetCurrentMenu() then
					local f123_local0 = f122_arg0:GetCurrentMenu()
					f123_local0 = f123_local0.id
					local f123_local1 = LUI.FlowManager.GetVisibleMenu()
					if f123_local0 == f123_local1.id then
					
					else
						f122_arg0._skipAnimation = true
					end
				end
				if f122_arg0._purchaseBattlePassInAAR and not f122_arg0._purchaseBattlePassInAARSuccess then
					f122_arg0._skipAnimation = true
				end
				if f122_arg0._skipAnimation then
					f122_arg0._skipAnimation = false
					f122_arg0._skipAnimationEnabled = false
					if f122_arg0 then
						f122_arg0:EnableGlow( false )
						f122_arg0.BattlePassFlare:ClearFlare()
					end
					f122_arg0 = f122_arg0.END
					f122_arg0 = f122_arg0
					f122_arg0 = f122_arg0( f122_arg0, f122_arg0 == f122_arg0 )
					f122_arg0.BattlePassStatus:UpdateActiveBanner( f122_arg0._battlePassOwned )
				end
				if f122_arg0 == f122_arg0.START then
					f122_arg0 = f122_arg0( f122_arg0, f122_arg0 == f122_arg0 )
					if f122_arg0 then
						local f123_local0 = f122_arg0( f122_arg0 )
						if not f123_local0 then
							DebugPrint( "BattlePassMenu:AnimateUnlocks: currentChild missing itemData, skipping animation\n" .. "\tstartPosition = " .. tostring( f122_arg0 ) .. ", currentPosition = " .. tostring( f122_arg0 ) .. ", endPosition = " .. tostring( f122_arg0 ) )
							f122_arg0._skipAnimation = true
							f122_arg0._forceDelayEnd = true
						else
							f122_arg0._forceDelayEnd = false
						end
						f122_arg0:SetBattlePassOwned( f122_arg0._battlePassOwned )
						f122_arg0:SetIsAnimating( true )
						if f123_local0 and f123_local0.showProgress and not f122_arg0._displayBattlePassInAAR then
							f122_arg0:EnableGlow( true )
						end
						if f122_arg0 then
							if f122_arg0 == f122_arg0 then
								Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseFirst )
							elseif f122_arg0 == f122_arg0 then
								Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseLast )
							else
								Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseCard )
							end
						end
					else
						f122_arg0( f122_arg0, f122_arg0._controllerIndex, f122_arg0, f122_arg0, f122_arg0 )
						assert( f122_arg0, "( currentChild == nil ) currentPosition = " .. f122_arg0 .. ", startPosition = " .. f122_arg0 )
						f122_arg0._skipAnimation = true
						f122_arg0._forceDelayEnd = true
					end
				elseif f122_arg0 == f122_arg0.FILL then
					local f123_local0 = f122_arg0( f122_arg0 )
					local f123_local1 = 0
					local f123_local2
					if f123_local0 then
						f123_local2 = f123_local0
					else
						f123_local2 = tonumber( f123_local0.level )
					end
					local f123_local3 = BATTLEPASS.GetTierMinXP( f123_local2 )
					local f123_local4 = f123_local3
					if 0 < f123_local2 and f123_local2 ~= BATTLEPASS.BUNDLE_TOPPER_ITEM_LEVEL then
						f123_local4 = BATTLEPASS.GetTierMinXP( f123_local2 - 1 )
					end
					if f123_local3 <= f122_arg0 then
						f123_local1 = 1
						f122_arg0._battlePassXP = f123_local3
					else
						f123_local1 = (f122_arg0 - f123_local4) / (f123_local3 - f123_local4)
						f122_arg0._battlePassXP = f122_arg0
					end
					f122_arg0.progress = f123_local1
					if f123_local0 and f123_local0.showProgress then
						f122_arg0:SetProgress( f123_local1, f122_arg0[f122_arg0.FILL] )
					end
				elseif f122_arg0 == f122_arg0.FLARE then
					if f122_arg0.progress == 1 then
						local f123_local0 = f122_arg0( f122_arg0 )
						local f123_local1
						if f123_local0 then
							f123_local1 = f123_local0
						else
							f123_local1 = f123_local0.isFree == "1"
						end
						local f123_local2
						if f123_local0 then
							f123_local2 = f123_local0
						else
							f123_local2 = tonumber( f123_local0.isFree ) == BATTLEPASS.ItemTypes.CLAN
						end
						local f123_local3 = f122_arg0
						local f123_local5 = f123_local3
						f123_local3 = f123_local3.SetTopBanner
						local f123_local6 = f123_local1
						local f123_local7 = false
						local f123_local8 = false
						local f123_local9
						if f123_local0 then
							f123_local9 = f123_local0
						else
							f123_local9 = f123_local0.isFree
						end
						f123_local3( f123_local5, f123_local6, f123_local7, f123_local8, f123_local9 )
						f123_local3 = f122_arg0
						f123_local5 = f123_local3
						f123_local3 = f123_local3.SetLocked
						if not f122_arg0._battlePassOwned then
							f123_local6 = not f123_local1
						else
							f123_local6 = false
						end
						f123_local3( f123_local5, f123_local6 )
						ACTIONS.AnimateSequence( f122_arg0, "NotLocked" )
						if f122_arg0 ~= f122_arg0 or f122_arg0 <= f122_arg0 then
							if f122_arg0:HasVanguardItem() then
								f122_arg0.BattlePassFlare:PlayVanguardFlare()
							elseif f122_arg0 then
								f122_arg0.BattlePassFlare:PlayPurchasedFlare()
							else
								f122_arg0.BattlePassFlare:PlayRarityFlare( f122_arg0.lootData.rarity )
							end
						end
						if f122_arg0._battlePassOwned then
							ACTIONS.AnimateSequence( f122_arg0, "CompletePurchased" )
						elseif f123_local1 or f123_local2 then
							ACTIONS.AnimateSequence( f122_arg0, "CompleteFree" )
						else
							ACTIONS.AnimateSequence( f122_arg0, "HideCheckbox" )
						end
						if f123_local0 and f123_local0.showProgress then
							ACTIONS.AnimateSequence( f122_arg0, "TierCompleteFlare" )
						end
						if f122_arg0._displayBattlePassInAAR then
							f122_arg0:EnableGlow( true, {
								enableImmediately = true
							} )
						end
					end
				elseif f122_arg0 == f122_arg0.DELAY then
					if not f122_arg0 then
						f122_arg0:EnableGlow( false, {
							enableImmediately = false,
							disableGlowTime = 1500
						} )
					end
					f122_arg0:SetIsAnimating( false )
					f122_arg0 = f122_arg0 + 1
				end
				if f122_arg0 ~= f122_arg0.END then
					local f123_local0
					if f122_arg0[f122_arg0] < 1 then
						f123_local0 = 1
					else
						f123_local0 = f122_arg0[f122_arg0]
					end
					local f123_local1 = f122_arg0:Wait( f123_local0 )
					f123_local1.onComplete = function ()
						f123_local0()
					end
					
				else
					f122_arg0._purchaseEnabled = true
					f122_arg0._isAnimating = false
					f122_arg0._battlePassXP = f122_arg0
					f122_arg0.Grid:SetMouseFocusBlocker( false )
					f122_arg0.Grid:RefreshContent()
					f122_arg0( f122_arg0 )
					f122_arg0:RemoveButtonPrompt( {
						helper_text = nil,
						button_ref = f122_arg0,
						container = f122_arg0.PromptContainer
					} )
					f122_arg0.HorizontalScrollbar:SetAlpha( 1, 150 )
					f122_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( false )
					BATTLEPASS.SetLastMenuXP( f122_arg0._controllerIndex, f122_arg0._battlePassXP )
					local f123_local0
					if not f122_arg0._displayBattlePassInAAR then
						f122_arg0.Grid:SetDirectionalInputEnabled( true )
						f122_arg0.TierPurchaseBG:SetAlpha( 0, 150 )
						f123_local0 = BATTLEPASS.GetLastFreeTierReached( f122_arg0._controllerIndex )
						BATTLEPASS.SetLastFreeTierSeen( f122_arg0._controllerIndex, f123_local0 )
						f122_arg0( f122_arg0 )
					else
						f123_local0 = f122_arg0.Grid
						local f123_local2 = f123_local0
						f123_local0 = f123_local0.SetDirectionalInputEnabled
						f123_local0( f123_local2, false )
					end
					f123_local0 = function ()
						if f123_local0._battlePassXP >= BATTLEPASS.GetTierMaxXP( BATTLEPASS.GetMaxTier() ) then
							local f126_local0 = f123_local0._displayBattlePassInAAR and f123_local0._displayBattlePassInAAR or false
							f123_local0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_COMPLETE
							LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f123_local0._controllerIndex, f126_local0, {
								state = f123_local0._celebrateState
							}, nil, false, true )
						end
						if not f123_local0._displayBattlePassInAAR then
							f123_local0:dispatchEventToParent( {
								name = "start_auto_close"
							} )
						else
							f123_local0:dispatchEventToRoot( {
								dispatchChildren = true,
								name = "update_aar_battlepass_tier_done"
							} )
						end
						if not f123_local0._isBattlePassPopup then
							f123_local0( f123_local0 )
						end
					end
					
					if f122_arg0._forceDelayEnd then
						local f123_local1 = f122_arg0:Wait( 2000 )
						f123_local1.onComplete = f123_local0
					else
						f123_local0()
					end
					if f122_arg0.shouldAwardFreeTierGift then
						if not f122_arg0._wasTierGiftAwarded then
							local f123_local1 = f122_arg0:Wait( 500 )
							f123_local1.onComplete = function ()
								local f124_local0 = {
									isTierGift = true,
									bundleID = tonumber( BATTLEPASS.GetTierSkipGiftID() ),
									battlePassName = BATTLEPASS.GetItemName( f123_local0.tierGiftBattlePassPurchaseRef ),
									onConfirm = function ( f125_arg0 )
										if f125_arg0 then
											f124_local0._wasTierGiftAwarded = true
											f124_local0._autoTierSkip = true
											local f125_local0 = f124_local0:GetPurchaseAction()
											f125_local0( f124_local0, {
												controller = f124_local0._controllerIndex
											} )
										else
											f124_local0.shouldAwardFreeTierGift = false
											f124_local0( f124_local0, Engine.CBBHFCGDIC( "BATTLEPASS/REWARD_ERROR_MESSAGE" ) )
										end
									end
								}
								f123_local0.tierGiftBattlePassPurchaseRef = nil
								LUI.FlowManager.RequestPopupMenu( nil, "BattlePassRewardPopup", true, f123_local0._controllerIndex, false, f124_local0, nil, false, true )
							end
							
						else
							f122_arg0._autoTierSkip = false
							f122_arg0.shouldAwardFreeTierGift = false
						end
					elseif f122_arg0._autoTierSkip then
						f122_arg0._autoTierSkip = false
					end
				end
			end
			
			if f122_arg4 then
				f122_local11()
			else
				local f122_local12 = f122_arg0:Wait( 1750, true )
				f122_local12.onComplete = f122_local11
			end
		end
	end
	f122_local11 = f122_arg0._previousXP
end

local f0_local47 = function ( f117_arg0 )
	if f117_arg0._isAnimating then
		
	else
		
	end
	local f117_local0 = 32
	local f117_local1 = 5000
	local f117_local2 = 8000
	local f117_local3 = {
		FLARE = 2,
		END = 3,
		START = 0,
		MOVE = 1
	}
	local f117_local4 = {
		[f117_local3.START] = 300,
		[f117_local3.MOVE] = 600,
		[f117_local3.FLARE] = 300,
		[f117_local3.END] = 1200
	}
	local f117_local5 = BATTLEPASS.GetShowcaseTiers()
	local f117_local6 = function ()
		local f121_local0 = table.remove( f117_arg0, 1 )
		if f121_local0 then
			f121_local0 = f121_local0 + BATTLEPASS.NumBonusItems - 1
		end
		if not f121_local0 or f121_local0 <= BATTLEPASS.NumBonusItems then
			f121_local0 = BATTLEPASS.NumBonusItems
		end
		return f121_local0
	end
	
	local f117_local7 = f117_local3.START
	local f117_local8 = f117_arg0.Grid:GetElementAtPosition( f117_local6(), 0 )
	local f117_local9 = 0
	local f117_local10 = 0
	local f117_local11 = function ( f120_arg0 )
		f117_arg0 = 0
		f117_arg0 = f120_arg0
	end
	
	f117_arg0.TierPurchaseBG:SetAlpha( 1 )
	f117_arg0.TierPurchaseBG.TierText:SetAlpha( 0 )
	f117_arg0.TierPurchaseBG:StartAnimation()
	f117_arg0._isAnimating = true
	f117_arg0._skipAnimationEnabled = true
	f117_arg0.Grid:SetDirectionalInputEnabled( false )
	f117_arg0.Grid:SetMouseFocusBlocker( true )
	local f117_local12
	if LUI.IsLastInputKeyboardMouse( f117_arg0._controllerIndex ) then
		f117_local12 = "button_left_trigger"
	else
		f117_local12 = "button_alt1"
	end
	f117_arg0:AddButtonPrompt( {
		helper_text = Engine.CBBHFCGDIC( "BATTLEPASS/SKIP_CELEBRATION" ),
		button_ref = f117_local12,
		container = f117_arg0.PromptContainer,
		containerAlignment = LUI.Alignment.Left
	} )
	local f117_local13 = nil
	local f117_local14 = function ()
		local f118_local0 = f117_arg0:Wait( f117_arg0 )
		f118_local0.onComplete = function ()
			f118_local0 = f118_local0 + f118_local0
			local f119_local0 = f118_local0:GetCurrentMenu()
			f119_local0 = f119_local0.id
			local f119_local1 = LUI.FlowManager.GetVisibleMenu()
			if f119_local0 ~= f119_local1.id then
				return 
			elseif f118_local0._skipAnimation then
				f118_local0._skipAnimation = false
				f118_local0._skipAnimationEnabled = false
				f118_local0.BattlePassFlare:ClearFlare()
				f118_local0( 0 )
				f118_local0 = f118_local0.END
			end
			if f118_local0 == f118_local0.START then
				f118_local0.Grid:SetMaxVelocity( f118_local0 )
				f118_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f118_local0
				}, true )
				f118_local0 = f118_local0.Grid:GetElementAtPosition( f118_local0, 0 )
				f118_local0( f118_local0[f118_local0.START] )
				f118_local0 = f118_local0.FLARE
			elseif f118_local0 == f118_local0.MOVE and f118_local0 < f118_local0 then
				f118_local0.BattlePassFlare:ClearFlare()
				f118_local0:processEvent( {
					name = "lose_active"
				} )
				f118_local0 = f118_local0()
				f118_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f118_local0
				}, false )
				f118_local0( f118_local0[f118_local0.MOVE] )
				f118_local0 = f118_local0.FLARE
			elseif f118_local0 == f118_local0.FLARE and f118_local0 < f118_local0 then
				f118_local0 = f118_local0.Grid:GetElementAtPosition( f118_local0, 0 )
				if f118_local0 and f118_local0._isOver then
					if f118_local0:HasVanguardItem() then
						f118_local0.BattlePassFlare:PlayVanguardFlare()
					else
						f118_local0.BattlePassFlare:PlayRarityFlare( f118_local0.lootData.rarity )
					end
					if f118_local0 <= BATTLEPASS.NumBonusItems then
						f118_local0( f118_local0[f118_local0.END] )
						f118_local0 = f118_local0.END
					else
						f118_local0( f118_local0[f118_local0.FLARE] )
						f118_local0 = f118_local0.MOVE
					end
				end
			elseif f118_local0 == f118_local0.END and f118_local0 < f118_local0 then
				f118_local0.Grid:SetMaxVelocity( f118_local0 )
				if not f118_local0._displayBattlePassInAAR then
					f118_local0.TierPurchaseBG.TierText:SetAlpha( 1 )
					f118_local0.TierPurchaseBG:SetAlpha( 0, 150 )
				end
				f118_local0._isAnimating = false
				f118_local0._skipAnimationEnabled = false
				f118_local0.Grid:SetDirectionalInputEnabled( true )
				f118_local0 = BATTLEPASS.NumBonusItems
				f118_local0.Grid:SetFocusedPosition( {
					y = 0,
					x = f118_local0
				}, true )
				f118_local0( f118_local0 )
			end
			f118_local0()
		end
		
	end
	
	f117_local14()
end

local f0_local48 = function ( f109_arg0 )
	f109_arg0._isAnimating = true
	f109_arg0._purchaseEnabled = false
	f109_arg0.Grid:SetDirectionalInputEnabled( false )
	f109_arg0.Grid:SetMouseFocusBlocker( true )
	f109_arg0.HorizontalScrollbar:SetAlpha( 0 )
	f109_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( true )
	local f109_local0 = 5000
	local f109_local1 = f109_arg0.Grid:GetContentSize( LUI.DIRECTION.horizontal ) / f109_arg0.Grid:GetContentCount( LUI.DIRECTION.horizontal )
	local f109_local2 = 400
	f109_arg0.Grid:SetSpringCoefficient( 800 )
	local f109_local3 = 550
	local f109_local4 = 100 / 1000
	local f109_local5 = 0
	local f109_local6 = 1
	local f109_local7 = nil
	local f109_local8 = function ()
		local f115_local0 = f109_arg0.Grid:GetElementAtPosition( f109_arg0, 0 )
		f115_local0.BattlePassFlare:PlayVanguardFlare()
		local f115_local1 = f109_arg0:Wait( f109_arg0 )
		f115_local1.onComplete = function ()
			f115_local0()
		end
		
	end
	
	local f109_local9 = nil
	f109_local9 = function ()
		f109_arg0 = f109_arg0 + 1
		local f113_local0 = f109_arg0.Grid:GetElementAtPosition( f109_arg0, 0 )
		if f113_local0:HasVanguardItem() then
			f109_arg0.Grid:SetFocusedPosition( {
				y = 0,
				x = f109_arg0
			}, false, nil )
		else
			f109_arg0.Grid:SetPosition( {
				y = 0,
				x = f109_arg0
			}, false, nil )
		end
		local f113_local1 = f109_arg0:Wait( f109_arg0 )
		f113_local1.onComplete = function ()
			if f113_local0 then
				f113_local0()
			else
				f113_local0()
			end
		end
		
	end
	
	f109_local7 = function ()
		local f112_local0 = 0
		local f112_local1 = true
		for f112_local2 = f109_arg0 + 1 + 1, #f109_arg0._battlePassData - 1, 1 do
			f112_local0 = f112_local0 + 1
			if f109_arg0( f109_arg0, f112_local2 ) then
				f112_local1 = false
				break
			end
		end
		if not f112_local1 then
			f109_arg0.Grid:SetMaxVelocity( f109_arg0 * f112_local0 / f109_arg0 )
			f109_arg0 = f109_arg0 / f112_local0
			f109_arg0()
		else
			f109_arg0._purchaseEnabled = true
			f109_arg0._isAnimating = false
			f109_arg0.Grid:SetMouseFocusBlocker( false )
			f109_arg0.HorizontalScrollbar:SetAlpha( 1, 150 )
			f109_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( false )
			f109_arg0.Grid:SetDirectionalInputEnabled( true )
			f109_arg0.TierPurchaseBG:SetAlpha( 0, 150 )
			f109_arg0.TierPurchaseBG:HideVanguardRevealInfo()
			f109_arg0.Grid:RefreshContent()
			f109_arg0.Grid:SetMaxVelocity( f109_arg0 )
			f109_arg0.Grid:SetSpringCoefficient( f109_arg0 )
		end
	end
	
	local f109_local10 = f109_arg0:Wait( 1750, true )
	f109_local10.onComplete = function ()
		f109_arg0.TierPurchaseBG:SetAlpha( 1 )
		f109_arg0.TierPurchaseBG:ShowVanguardRevealInfo()
		f109_arg0.Grid:FocusFirstItem()
		local f110_local0 = 500
		local f110_local1 = f109_arg0:Wait( f110_local0, true )
		f110_local1.onComplete = function ()
			Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpVGTierRevealLong )
			f110_local0()
		end
		
	end
	
end

local f0_local49 = function ( f108_arg0, f108_arg1 )
	f108_arg0._finalXP = BATTLEPASS.GetXP( f108_arg0._controllerIndex )
	local f108_local0 = BATTLEPASS.GetTier( f108_arg0._controllerIndex )
	local f108_local1 = 0
	local f108_local2 = f0_local0( f108_arg0, f108_local0 )
	if f108_arg1 then
		f108_local1 = f0_local0( f108_arg0, f108_arg0._previousLevel )
	end
	if f108_arg0._purchaseBattlePassInAARSuccess then
		f108_local2 = f108_arg0.finalAAREndPosition
	end
	f0_local0( f108_arg0, LUI.clamp( f108_local1, 0, #f108_arg0._battlePassData - 1 ), LUI.clamp( f108_local2, 0, #f108_arg0._battlePassData - 1 ), not f108_arg1 )
end

local f0_local50 = function ( f107_arg0 )
	local f107_local0 = BATTLEPASS.IsOwned( f107_arg0._controllerIndex )
	local f107_local1 = BATTLEPASS.GetTier( f107_arg0._controllerIndex ) == BATTLEPASS.GetMaxTier()
	local f107_local2 = not f107_local0
	local f107_local3 = not f107_local1
	local f107_local4 = BATTLEPASS.NeedFixUp( f107_arg0._controllerIndex )
	if f107_local4 then
		if not f107_local2 then
			f107_local4 = f107_local2
		else
			f107_local4 = f107_local3
		end
	end
	return f107_local4
end

local f0_local51 = function ( f99_arg0, f99_arg1 )
	local f99_local0 = function ()
		f99_arg0._previousXP = BATTLEPASS.GetXP( f99_arg0._controllerIndex )
		f99_arg0._previousLevel = BATTLEPASS.GetTier( f99_arg0._controllerIndex )
		f99_arg0._purchaseQueue = LUI.CreateQueue()
		f99_arg0._activationQueue = LUI.CreateQueue()
		f99_arg0._queuedRef = nil
		f99_arg0._queuedPurchase = nil
		f99_arg0._numTransactions = 0
		f99_arg0._numTransactionsComplete = 0
		if not f99_arg0._battlePassOwned and f99_arg0 then
			local f104_local0 = f99_arg0
			if not f99_arg0._autoTierSkip then
				f99_arg0._tierSkips = 0
				f99_arg0._purchaseQueue:Push( {
					ref = f99_arg0
				} )
				f99_arg0._numTransactions = f99_arg0._numTransactions + 1
			else
				f104_local0 = BATTLEPASS.GetPurchaseRef()
			end
			local f104_local1 = BATTLEPASS.GetActivationRefs( f104_local0 )
			local f104_local2 = #f104_local1
			for f104_local6, f104_local7 in ipairs( f104_local1 ) do
				f99_arg0._activationQueue:Push( {
					ref = f104_local7.ref,
					id = f104_local6,
					count = f104_local2,
					skipValue = f104_local7.quantity
				} )
				f99_arg0._numTransactions = f99_arg0._numTransactions + 1
			end
			if f99_arg0 == BATTLEPASS.GetPurchaseRef() then
				f99_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_UNLOCKED
			elseif f99_arg0 == BATTLEPASS.GetPurchaseBundleRef() then
				f99_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_TIER_BUNDLE_UNLOCKED
			end
		else
			f99_arg0._celebrateState = BATTLEPASS.FullScreenPopupStates.TIERS_UNLOCKED
		end
		if not f99_arg0._autoTierSkip then
			local f104_local1 = f99_arg0._maxBattlePassLevel - BATTLEPASS.GetTier( f99_arg0._controllerIndex )
			local f104_local2 = f99_arg0._tierSkips
			if f104_local1 < f104_local2 then
				f104_local2 = f104_local1
			end
			if 0 < f104_local2 then
				f99_arg0._purchaseQueue:Push( {
					ref = BATTLEPASS.GetTierSkipPurchaseRef(),
					skipValue = f104_local2
				} )
				f99_arg0._tierSkips = f99_arg0._tierSkips - f104_local2
				f99_arg0._numTransactions = f99_arg0._numTransactions + 1
				f99_arg0._activationQueue:Push( {
					ref = BATTLEPASS.GetTierSkipPurchaseRef(),
					skipValue = f104_local2
				} )
			end
		else
			local f104_local0 = 0
			local f104_local1 = BATTLEPASS.GetTier( f99_arg0._controllerIndex )
			local f104_local2, f104_local3 = BATTLEPASS.GetPendingTierSkips( f99_arg0._controllerIndex )
			for f104_local7, f104_local8 in ipairs( f104_local2 ) do
				local f104_local9 = f104_local8.skips
				if not f99_arg0._allowTierBank or f104_local1 + f104_local0 + f104_local9 <= f99_arg0._maxBattlePassLevel then
					f99_arg0._activationQueue:Push( {
						ref = f104_local8.ref,
						skipValue = f104_local9
					} )
					f99_arg0._numTransactions = f99_arg0._numTransactions + 1
					f104_local0 = f104_local0 + f104_local9
				end
			end
		end
		local f104_local0 = false
		local f104_local1, f104_local2 = nil
		local f104_local3 = function ()
			local f105_local0 = f104_local0:Wait( 16 )
			f105_local0.onComplete = function ()
				if f105_local0._queuedRef then
					if not f105_local0._errorCode then
						f105_local0()
					else
						local f106_local0 = BATTLEPASS.GetErrorMessage( f105_local0._errorCode, f105_local0._queuedRef )
						f105_local0._errorCode = nil
						f105_local0._queuedRef = nil
						f105_local0._needFixUp = f105_local0( f105_local0 )
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
						f105_local0( f105_local0, f106_local0 )
					end
				elseif f105_local0._purchaseQueue and not f105_local0._queuedPurchase then
					f105_local0._queuedPurchase = f105_local0._purchaseQueue:Pop()
					if f105_local0._queuedPurchase then
						f105_local0._queuedRef = f105_local0._queuedPurchase.ref
						local f106_local0 = tonumber( StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f105_local0._queuedRef, CSV.battlePassIDs.cols.id ) )
						local f106_local1 = StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f105_local0._queuedRef, CSV.battlePassIDs.cols.sku )
						if f106_local1 ~= "" then
							f106_local0 = tonumber( f106_local1 )
						end
						local f106_local2 = 1
						if BATTLEPASS.TierSkipHasIndividualChallenges( f105_local0._queuedRef ) then
							f106_local2 = f105_local0._queuedPurchase.skipValue
						end
						if STORE.IsItemOnSale( f106_local0, f105_local0._controllerIndex ) then
							local f106_local3 = StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f105_local0._queuedRef, CSV.battlePassIDs.cols.saleSku )
							if f106_local3 ~= "" then
								f106_local0 = tonumber( f106_local3 )
							end
						end
						Battlepass.GAICDBJEC( f105_local0._controllerIndex, f106_local0, f106_local2 )
					else
						f105_local0._purchaseQueue = nil
					end
					f105_local0()
				elseif f105_local0._activationQueue then
					f105_local0._activation = f105_local0._activationQueue:Pop()
					if f105_local0._activation then
						f105_local0._queuedRef = f105_local0._activation.ref
						local f106_local0 = tonumber( StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f105_local0._queuedRef, CSV.battlePassIDs.cols.id ) )
						local f106_local1 = StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f105_local0._queuedRef, CSV.battlePassIDs.cols.challengeID )
						if BATTLEPASS.TierSkipHasIndividualChallenges( f105_local0._queuedRef ) then
							local f106_local3 = f105_local0._maxBattlePassLevel - BATTLEPASS.GetTier( f105_local0._controllerIndex )
							local f106_local4 = f105_local0._activation.skipValue
							if f106_local3 < f106_local4 then
								f106_local4 = f106_local3
							end
							if f105_local0._queuedRef == BATTLEPASS.T9_SKIP_VALUE_REF then
								f106_local1 = StringTable.CBGJCDIHCE( CSV.t9TierSkipIDs.file, f106_local4, CSV.t9TierSkipIDs.cols.id )
							elseif f105_local0._queuedRef == BATTLEPASS.S4_SKIP_VALUE_REF then
								f106_local1 = StringTable.CBGJCDIHCE( CSV.s4TierSkipIDs.file, f106_local4, CSV.s4TierSkipIDs.cols.id )
							end
						end
						Battlepass.CBHBFIJDHG( f105_local0._controllerIndex, f106_local1, f106_local0 )
					else
						f105_local0._activationQueue = nil
					end
					f105_local0()
				else
					if not f105_local0 then
						f105_local0 = Engine.BFBIDEGDFB()
					elseif not f105_local0 and f105_local0 <= Engine.BFBIDEGDFB() - f105_local0 then
						f105_local0 = true
						f105_local0.TierPurchaseBG:SetAlpha( 1 )
						f105_local0.TierPurchaseBG:StartAnimation()
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
						LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f105_local0._controllerIndex, false, {
							state = f105_local0._celebrateState
						}, nil, false, true )
						f105_local0:DisableBundleBonusTopper( f105_local0 )
					end
					if f105_local0 and f105_local0._purchaseBattlePassInAAR then
						f105_local0._purchaseBattlePassInAARSuccess = true
						if f105_local0.BattlePassTierProgression then
							f105_local0.BattlePassTierProgression:SetAlpha( 0 )
						end
						f105_local0.TierPurchaseBG:SetAlpha( 1 )
						f105_local0:dispatchEventToRoot( {
							dispatchChildren = true,
							name = "purchase_aar_battlepass_success",
							immediate = true
						} )
					end
					if f105_local0 and not LUI.FlowManager.IsInStack( "BattlePassFullScreenPopup" ) then
						f105_local0._needFixUp = f105_local0( f105_local0 )
						f105_local0( f105_local0, f105_local0 == nil )
					else
						f105_local0()
					end
				end
			end
			
		end
		
		f104_local3()
	end
	
	return function ( f100_arg0, f100_arg1 )
		if not f99_arg0._battlePassOwned and not f99_arg0._autoTierSkip then
			f99_arg0._itemCost = tonumber( BATTLEPASS.GetItemCost( f99_arg0 ) )
		end
		local f100_local0
		if f99_arg0._recipentXuidString then
			f100_local0 = tonumber( BATTLEPASS.GetItemCost( f99_arg0 ) )
			if not f100_local0 then
			
			else
				f99_arg0._availableCODPoints = Commerce.CEDDCGHIGA( f100_arg1.controller, LOOT.CurrencyIDs.COD_POINTS )
				if not f99_arg0._autoTierSkip and f99_arg0._availableCODPoints < f100_local0 then
					local f100_local1 = {
						showBalance = true,
						controllerIndex = f100_arg1.controller,
						currencyID = LOOT.CurrencyIDs.COD_POINTS,
						currencyAmount = f100_local0
					}
					local f100_local2 = STORE.EnterStore
					local f100_local3 = f100_arg1.controller
					local f100_local4 = f100_arg0:GetCurrentMenu()
					f100_local2( f100_local3, f100_local4.id, f100_arg0.id, f100_local1, "PurchaseCODPointsPopup", true )
				else
					if f99_arg0._recipentXuidString then
						local f100_local1 = f99_arg0._recipentXuidString
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchasePopup" )
						local f100_local2 = BATTLEPASS.GetItemSKU( f99_arg0 )
						local f100_local5 = LUI.ToastManager.GetInstance()
						f100_local5:QueueGiftRecipientXuid( f99_arg0._recipentXuidString )
						Gifting.DAFDBDBEJC( f100_arg1.controller, f100_local2, 1, f99_arg0._recipentXuidString )
						LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f99_arg0._controllerIndex, false, {
							purchaseGift = true
						}, nil, false, true )
						local f100_local4 = f99_arg0:Wait( 1500 )
						f100_local4.onComplete = function ()
							LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup", true, true )
							LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f100_arg0._controllerIndex, false, {
								state = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_GIFTED,
								recipentXuidString = f100_arg0
							}, nil, false, true )
						end
						
						f99_arg0._recipentXuidString = nil
					end
					local f100_local1 = nil
					if not f99_arg0._battlePassOwned and f99_arg0 then
						f100_local1 = Engine.CBBHFCGDIC( BATTLEPASS.GetItemName( f99_arg0 ) )
					elseif f99_arg0._tierSkips == 1 then
						f100_local1 = Engine.CBBHFCGDIC( "BATTLEPASS/1_TIER_SKIP" )
					else
						f100_local1 = Engine.CBBHFCGDIC( "BATTLEPASS/N_TIER_SKIPS", f99_arg0._tierSkips )
					end
					local f100_local2 = {
						hidePurchasingText = f99_arg0._autoTierSkip,
						itemCost = f99_arg0._itemCost,
						itemName = f100_local1,
						confirmAction = f99_arg0,
						cancelAction = function ()
							f100_arg0._purchaseEnabled = true
						end
					}
					LUI.FlowManager.RequestLeaveMenuByName( "BattlePassConfirmPurchasePopup", true )
					local f100_local5 = f99_arg0._currentMenu.id
					local f100_local3 = LUI.FlowManager.GetVisibleMenu()
					if f100_local5 == f100_local3.id or f99_arg0._autoTierSkip and f99_arg0._BRRewardState == f99_arg0.NONE then
						f100_local5 = false
					else
						f100_local5 = true
					end
					if Engine.DBFCJBDJEC() and Engine.DDHFCGHJEA() and not isPendingTransactions and not f99_arg0._autoTierSkip then
						f100_local3 = ""
						local f100_local4 = false
						if not f99_arg0._battlePassOwned and f99_arg0 then
							if f99_arg0 == BATTLEPASS.GetPurchaseRef() then
								f100_local3 = "battlepass_button_premium"
							elseif f99_arg0 == BATTLEPASS.GetPurchaseBundleRef() then
								f100_local3 = "battlepass_button_bundle"
							end
						else
							f100_local3 = "battlepass_emblem"
							f100_local4 = true
						end
						LUI.FlowManager.RequestPopupMenu( nil, "StoreConfirmPurchaseKoreaLegalPupup", true, f100_arg1.controller, f100_local5, {
							isItemNameLocalized = true,
							itemName = f100_local1,
							itemImage = f100_local3,
							itemCurrencyID = LOOT.CurrencyIDs.COD_POINTS,
							itemCurrencyAmount = f99_arg0._itemCost,
							isBattlepassTier = f100_local4,
							confirmAction = function ()
								LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f100_arg0.controller, f100_arg0, f100_arg0, nil, false, true )
								f100_arg0._purchaseEnabled = false
							end
						}, nil, false, false )
					else
						LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f100_arg1.controller, f100_local5, f100_local2, nil, false, true )
						f99_arg0._purchaseEnabled = false
					end
				end
			end
		end
		f100_local0 = f99_arg0._itemCost
	end
	
end

local f0_local52 = function ( f98_arg0, f98_arg1 )
	local f98_local0, f98_local1 = BATTLEPASS.IsPendingTransactions( f98_arg1 )
	local f98_local2, f98_local3 = BATTLEPASS.GetPendingTierSkips( f98_arg1 )
	local f98_local4 = nil
	if f98_local0 then
		if 20 <= f98_local3 then
			f98_local4 = BATTLEPASS.GetPurchaseBundleRef()
		else
			f98_local4 = BATTLEPASS.GetPurchaseRef()
		end
	end
	local f98_local5 = f98_arg0:GetPurchaseAction( f98_local4 )
	f98_local5( f98_arg0, {
		controller = f98_arg1
	} )
end

local f0_local53 = function ( f96_arg0 )
	f96_arg0._purchaseEnabled = false
	f96_arg0._previousXP = BATTLEPASS.GetXP( f96_arg0._controllerIndex )
	f96_arg0._previousLevel = BATTLEPASS.GetTier( f96_arg0._controllerIndex )
	BATTLEPASS.FixUp( f96_arg0._controllerIndex )
	local f96_local0 = 60000
	f96_arg0._fixingUp = true
	local f96_local1 = f96_arg0:Wait( f96_local0 )
	f96_local1.onComplete = function ()
		f96_arg0:processEvent( {
			name = "battlepass_fixup_failed"
		} )
	end
	
	LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f96_arg0._controllerIndex, false, {
		fixUp = true
	}, nil, false, true )
end

local f0_local54 = function ( f95_arg0, f95_arg1 )
	local f95_local0 = {
		sourceMenu = f95_arg0,
		purchaseAction = f95_arg0:GetPurchaseAction()
	}
	local f95_local1 = f95_arg0._purchaseBattlePassInAAR
	if not f95_local1 then
		f95_local1 = f95_arg0._purchaseBattlePassInStore or f95_arg0._purchaseBattlePassInVIPGift
	end
	f95_local0.backLeavesBPMenuPopup = f95_local1
	LUI.FlowManager.RequestPopupMenu( f95_arg0, "BattlePassPurchasePopup", true, f95_arg1, false, f95_local0 )
end

local f0_local55 = function ( f92_arg0, f92_arg1 )
	if f92_arg0._battlePassOwned then
		f0_local0( f92_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/ERROR_ALREADY_OWN" ), function ()
			ACTIONS.LeaveMenu( f92_arg0 )
		end )
		return 
	end
	f92_arg0._purchaseBattlePassInVIPGift = true
	if f92_arg1 then
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f92_arg0._controllerIndex, false, {
			skipDelay = true,
			menu = f92_arg0,
			closeAction = function ( f93_arg0 )
				f92_arg0( f93_arg0, true )
			end
		} )
	else
		f0_local0( f92_arg0, f92_arg0._controllerIndex )
	end
end

local f0_local56 = function ( f89_arg0 )
	if f89_arg0._battlePassOwned then
		f0_local0( f89_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/ERROR_ALREADY_OWN" ), function ()
			ACTIONS.LeaveMenu( f89_arg0 )
		end )
		return 
	end
	f89_arg0._purchaseBattlePassInStore = true
	if not Onboarding.BattlePass.WasCompleted( f89_arg0, f89_arg0._controllerIndex ) then
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f89_arg0._controllerIndex, false, {
			skipDelay = true,
			menu = f89_arg0,
			closeAction = function ( f90_arg0 )
				f89_arg0( f90_arg0, f90_arg0._controllerIndex )
			end
		} )
	else
		f0_local0( f89_arg0, f89_arg0._controllerIndex )
	end
end

local f0_local57 = function ( f88_arg0, f88_arg1 )
	ACTIONS.AnimateSequence( f88_arg0, "SetupStandalone" )
	f88_arg0._purchaseBattlePassInAAR = true
	f0_local0( f88_arg0, f88_arg1 )
end

local f0_local58 = function ( f85_arg0, f85_arg1, f85_arg2 )
	f85_arg0._displayBattlePassInAAR = true
	f85_arg0._shouldAnimateDoubleXP = f85_arg2.isDoubleXPActive
	local f85_local0 = f85_arg2.startTierXP
	f85_arg0.finalAAREndPosition = f0_local0( f85_arg0, BATTLEPASS.GetTierByXP( f85_arg0._controllerIndex, f85_arg2.currentTierXP ) )
	f85_arg0.BattlePassTierProgression = MenuBuilder.BuildRegisteredType( "BattlePassTierProgression", {
		isAARBattlepass = true,
		controllerIndex = f85_arg1
	} )
	f85_arg0.BattlePassTierProgression.id = "BattlePassTierProgression"
	f85_arg0.BattlePassTierProgression:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, _1080p * -54, _1080p * 1026 )
	f85_arg0:addElement( f85_arg0.BattlePassTierProgression )
	f85_arg0.BattlePassTierProgression:PlayBattlePassTierProgression( f85_arg1, f85_arg2 )
	f85_arg0.BattlePassTierProgression:SetAlpha( 0 )
	f85_arg0.BattlePassTierProgression:SetAlpha( 1, 100 )
	f0_local0( f85_arg0, f85_arg1 )
	f85_arg0.Background:SetAlpha( 0 )
	f85_arg0.TierPurchaseBG:HideBattlePassInfo()
	f85_arg0.Grid:SetDirectionalInputEnabled( false )
	f85_arg0.BattlePassGridContainer:SetupAARGridMask()
	f85_arg0:registerEventHandler( "update_aar_battlepass_tier", function ( element, event )
		if not f85_arg0._purchaseBattlePassInAAR then
			f85_arg0:AnimateXPEarnedInAAR( event.displayTierXP, event.earnedTypeXP + event.displayTierXP, event.waitTime )
		end
	end )
	f85_arg0:registerEventHandler( AAR.PARADE_BATTLE_PASS_DONE, function ( element, event )
		if not f85_arg0._purchaseBattlePassInAAR then
			ACTIONS.LeaveMenu( f85_arg0 )
			if AAR.IsAnyNonXPParadeAvailable( f85_arg0._controllerIndex ) then
				LUI.FlowManager.RequestAddMenu( "AARContainer", true, f85_arg0._controllerIndex, false, {
					fromBattlepassAAR = true,
					controller = f85_arg0
				} )
			end
		end
	end )
end

local f0_local59 = function ( f84_arg0, f84_arg1 )
	if f84_arg0._skipAnimationEnabled then
		f84_arg0._skipAnimation = true
	end
end

local f0_local60 = function ( f83_arg0, f83_arg1 )
	if f83_arg1.controller == f83_arg0._controllerIndex then
		if f83_arg0._purchaseEnabled then
			if f83_arg0._isStandalone then
				return 
			elseif f83_arg0._needFixUp then
				f0_local0( f83_arg0 )
			elseif not f83_arg0._battlePassOwned then
				LUI.FlowManager.RequestPopupMenu( f83_arg0, "BattlePassPurchasePopup", true, f83_arg1.controller, false, {
					sourceMenu = f83_arg0,
					purchaseAction = purchaseAction
				} )
			elseif 0 < f83_arg0._tierSkips then
				LUI.FlowManager.RequestPopupMenu( f83_arg0, "BattlePassTiersPurchasePopup", true, f83_arg1.controller, false, {
					sourceMenu = f83_arg0,
					purchaseAction = purchaseAction,
					tierSkips = f83_arg0._tierSkips
				} )
			end
			Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpPurchaseSelect )
		elseif f83_arg0._skipAnimationEnabled and not LUI.IsLastInputKeyboardMouse( f83_arg1.controller ) then
			f83_arg0._skipAnimation = true
		end
	end
end

local f0_local61 = function ( f82_arg0, f82_arg1 )
	f82_arg0._recipentXuidString = f82_arg1
end

local f0_local62 = function ( f80_arg0, f80_arg1 )
	GIFT.StartFTUEFlow( f80_arg0, function ()
		LUI.FlowManager.RequestPopupMenu( f80_arg0, "BattlePassPurchasePopup", true, f80_arg0.controller, false, {
			sourceMenu = f80_arg0,
			battlePassSKU = StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, BATTLEPASS.GetPurchaseRef(), CSV.battlePassIDs.cols.sku ),
			giftingActionCallback = f80_arg0
		} )
	end )
end

local f0_local63 = function ( f79_arg0, f79_arg1 )
	if LUI.IsLastInputKeyboardMouse( f79_arg1.controller ) then
		if CONDITIONS.IsWZWipDvarEnabled() and f79_arg0._shouldShowGameSourceUpsell then
			LUI.FlowManager.RequestPopupMenu( f79_arg0, "WZCWUpsellPopup", true, f79_arg0._controllerIndex, false )
			return 
		elseif not f79_arg0._isAnimating then
			if LOOT.CanPreview( f79_arg0._currentChild.lootData.type, f79_arg0._currentChild.lootData.itemID ) then
				STORE.PreviewItem( f79_arg1.controller, f79_arg0._currentChild.lootData.type, f79_arg0._currentChild.lootData.itemID, nil, nil, true )
			end
		elseif f79_arg0._skipAnimationEnabled then
			f79_arg0._skipAnimation = true
		end
	else
		f0_local0( f79_arg0, f79_arg1 )
	end
end

local f0_local64 = function ( f78_arg0, f78_arg1, f78_arg2 )
	if f78_arg1 and not f78_arg2 then
		f78_arg0:AddTooltipData( controllerIndex, {
			promptsData = {
				{
					button_ref = "button_alt1",
					keyprompt_text = Engine.CBBHFCGDIC( "KEY/MOUSE1" ),
					helper_text = Engine.CBBHFCGDIC( "LUA_MENU/PREVIEW" )
				}
			}
		} )
	else
		f78_arg0:RemoveToolTipData()
	end
end

local f0_local65 = function ( f74_arg0, f74_arg1, f74_arg2, f74_arg3 )
	f74_arg0:SetupContextualMenu( {
		title = ToUpperCase( f74_arg0.lootData.name or "" )
	} )
	if f74_arg1._battlePassOwned and not f74_arg3 and f74_arg2 then
		f74_arg0:AddContextualMenuAction( {
			id = "battlePassContextualBuyTier",
			actionName = Engine.CBBHFCGDIC( "BATTLEPASS/BUY_TIERS_MULTIPLE" ),
			actionFunction = function ()
				f74_arg0( f74_arg0, {
					controller = f74_arg0._controllerIndex
				} )
			end
		} )
	end
	local f74_local0 = f74_arg0.lootData.type
	local f74_local1 = f0_local0( f74_arg0 )
	if f74_local0 == LOOT.itemTypes.WEAPON then
		f74_arg0:AddContextualMenuAction( {
			id = "battlePassContextualViewDetails",
			actionName = Engine.CBBHFCGDIC( "BATTLEPASS/TOGGLE_REWARD_DETAILS_CONTEXTUAL" ),
			actionFunction = function ()
				if f74_arg0 == LOOT.itemTypes.WEAPON then
					f74_arg0._isExpanded = not f74_arg0._isExpanded
					Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
				end
				f74_arg0( f74_arg0, f74_arg0.lootData, f74_arg0, f74_arg0._isExpanded )
				if f74_arg0._missionChallengeID then
					Engine.BJDBIAGIDA( SOUND_SETS.default.selectAlt )
					if not Engine.DBAEJAHFGJ( f74_arg0._controllerIndex ) then
						if f74_arg0._missionChallengeData.category == Challenge.Operator then
							local f76_local0 = StringTable.DIFCHIGDFB( CSV.questChallenges.file, CSV.questChallenges.cols.ref, f74_arg0._missionChallengeID, CSV.questChallenges.cols.id )
							if f76_local0 and 0 < #f76_local0 then
								LUI.FlowManager.RequestAddMenu( "OperatorMissions", true, f74_arg0._controllerIndex, false, {
									challengeID = f76_local0,
									skinLootId = f74_arg0._missionChallengeData.loot
								} )
							end
						end
					else
						LUI.FlowManager.RequestPopupMenu( nil, "mp_no_guest_popup", false, f74_arg0._controllerIndex, false )
					end
				end
			end
		} )
	end
	if LOOT.CanPreview( f74_local0, f74_arg0.lootData.itemID ) or f74_arg1._shouldShowGameSourceUpsell then
		local f74_local2 = f0_local0( f74_local1, f74_arg1._lootIndex )
		local f74_local3
		if f74_local2 then
			f74_local3 = f74_local2
		else
			f74_local3 = f74_local2._gameSourceId
		end
		local f74_local4 = f74_local3 == LUI.GAME_SOURCE_ID.COLD_WAR
		f74_arg0:AddContextualMenuAction( {
			id = "battlePassContextualPreview",
			actionName = Engine.CBBHFCGDIC( "LUA_MENU/PREVIEW" ),
			actionFunction = function ()
				if not f74_arg0._isAnimating then
					if f74_arg0._shouldShowGameSourceUpsell then
						LUI.FlowManager.RequestPopupMenu( f74_arg0, "WZCWUpsellPopup", true, f74_arg0._controllerIndex, false )
						return 
					end
					STORE.PreviewItem( f74_arg0._controllerIndex, f74_arg0, f74_arg0.lootData.itemID, nil, nil, true )
				end
			end
		} )
		f0_local0( f74_arg0, true, f74_local4 )
	else
		f0_local0( f74_arg0, false )
	end
end

local f0_local66 = function ( f73_arg0 )
	if f73_arg0 then
		local f73_local0 = f73_arg0[#f73_arg0]
		if 1 < #f73_local0.lootTable then
			table.remove( f73_arg0, #f73_arg0 )
			for f73_local4, f73_local5 in ipairs( f73_local0.lootTable ) do
				local f73_local6 = LUI.ShallowCopy( f73_local0 )
				local f73_local7 = {
					lootID = f73_local5.lootID,
					billboardImage = f73_local5.billboardImage,
					challengeID = f73_local5.challengeID,
					subTierID = f73_local5.subTierID
				}
				if 1 < f73_local4 then
					f73_local6.showProgress = false
				end
				f73_local6.subTierID = f73_local5.subTierID
				f73_local6.lootTable = {}
				table.insert( f73_local6.lootTable, f73_local7 )
				table.insert( f73_arg0, f73_local6 )
				BATTLEPASS.AddItemTileImage( f73_local5.tileImage, f73_local5.lootID )
			end
		end
	end
end

local f0_local67 = function ( f72_arg0, f72_arg1 )
	if not Dvar.IBEGCHEFE( "MPQSMOPRQK" ) then
		return 
	end
	local f72_local0 = Challenge.GetQuestsForMissionChallenges( f72_arg1, {
		Challenge.Operator
	} )
	f72_local0 = f72_local0.quests
	local f72_local1 = {}
	for f72_local5, f72_local6 in pairs( f72_local0 ) do
		f72_local1[f72_local6[1].ref] = f72_local5
	end
	for f72_local5, f72_local6 in ipairs( f72_arg0 ) do
		for f72_local15, f72_local16 in ipairs( f72_local6.lootTable ) do
			local f72_local18 = f72_local16.challengeID
			if f72_local18 and 0 < #f72_local18 and f72_local1[f72_local18] then
				for f72_local13, f72_local14 in ipairs( f72_local0[f72_local1[f72_local18]] ) do
					if f72_local14.loot and 0 < #f72_local14.loot then
						local f72_local10 = LUI.ShallowCopy( f72_local16 )
						local f72_local11 = tonumber( f72_local14.amount ) <= Quests.CCBJIDFAHE( f72_arg1, tonumber( f72_local14.id ) )
						f72_local10.lootID = f72_local14.loot
						f72_local10.isOperatorChallengeReward = true
						f72_local10.operatorChallengeName = f72_local14.name
						local f72_local12
						if f72_local14.unlocked then
							f72_local12 = not f72_local11
						else
							f72_local12 = true
						end
						f72_local10.isLocked = f72_local12
						table.insert( f72_local6.lootTable, f72_local10 )
					end
				end
			end
		end
	end
end

local f0_local68 = function ( f71_arg0, f71_arg1 )
	for f71_local11, f71_local12 in ipairs( f71_arg0 ) do
		local f71_local13 = BATTLEPASS.GetTierSplitItemIDs( tonumber( f71_local12.level ) )
		local f71_local14 = BATTLEPASS.GetTierSplitBillboardImages( tonumber( f71_local12.level ) )
		local f71_local15 = BATTLEPASS.GetTierSplitTileImages( tonumber( f71_local12.level ) )
		for f71_local8, f71_local9 in ipairs( f71_local12.lootTable ) do
			local f71_local4 = assert
			local f71_local3 = f71_local9.subTierID
			if f71_local3 then
				f71_local3 = 0 < f71_local9.subTierID
			end
			f71_local4( f71_local3, "SetupSplitTierUnlocks: Invalid subTierID provided, expected non-nil and greater than 0" )
			f71_local4 = f71_local13[f71_local9.subTierID]
			local f71_local5 = f71_local14[f71_local9.subTierID]
			f71_local3 = f71_local15[f71_local9.subTierID]
			if f71_local4 and f71_local4 ~= "0" then
				f71_local9._gameSourceId = LOOT.GetGameSourceIDFromItemID( f71_local9.lootID )
				local f71_local6 = LUI.ShallowCopy( f71_local9 )
				f71_local6._gameSourceId = LOOT.GetGameSourceIDFromItemID( f71_local4 )
				f71_local6.lootID = f71_local4
				local f71_local7
				if f71_local5 then
					f71_local7 = f71_local5
				elseif f71_local5 == "" or f71_local5 == "0" then
					f71_local7 = false
				else
					f71_local7 = true
				end
				if f71_local7 then
					f71_local6.billboardImage = f71_local5
				end
				BATTLEPASS.AddItemTileImage( f71_local3, f71_local4 )
				table.insert( f71_local12.lootTable, f71_local6 )
			end
		end
	end
end

local f0_local69 = function ( f70_arg0 )
	if f70_arg0._gridTimer then
		f70_arg0._gridTimer:closeTree()
		f70_arg0._gridTimer = nil
		f70_arg0._battlePassData = BATTLEPASS.GetAllTiersData( f70_arg0._controllerIndex )
		f0_local0( f70_arg0._battlePassData )
		f0_local0( f70_arg0._battlePassData, f70_arg0._controllerIndex )
		f0_local0( f70_arg0._battlePassData, f70_arg0._controllerIndex )
		f70_arg0.Grid:SetNumChildren( #f70_arg0._battlePassData )
		f70_arg0.Grid:RefreshContent()
	end
end

local f0_local70 = nil
f0_local70 = function ( f64_arg0 )
	local f64_local0
	if not LUI.FlowManager.IsInStack( "BattlePassRewardPopup" ) and not LUI.FlowManager.IsInStack( "BattlePassOnboardingPopup" ) then
		f64_local0 = not LUI.FlowManager.IsInStack( "BattlePassPurchaseProgressPopup" )
	else
		f64_local0 = false
	end
	if not f64_local0 then
		
	else
		
	end
	if f64_arg0._BRRewardState == f0_local0.PENDING and CONDITIONS.IsBRFirstMatchTierSkipRewardEnabled() then
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassRewardPopup", true, f64_arg0._controllerIndex, false, {
			isBRReward = true,
			onConfirm = function ( f69_arg0 )
				local f69_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
				f69_local0.brRewardPending = nil
				local f69_local1 = f64_arg0
				local f69_local2
				if f69_arg0 then
					f69_local2 = f64_arg0.ONBOARDING_PT1
					if not f69_local2 then
					
					else
						f69_local1._BRRewardState = f69_local2
						if not f69_arg0 then
							f64_arg0( f64_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/REWARD_ERROR_MESSAGE" ) )
						elseif LUI.IsLastInputMouseNavigation( f64_arg0._controllerIndex ) then
							LUI.FlowManager.RequestLeaveMenuByName( "BattlePassRewardPopup", true )
							f64_arg0( f64_arg0 )
						end
					end
				end
				f69_local2 = f64_arg0.NONE
			end
		}, nil, false, true )
	elseif f64_arg0._BRRewardState == f0_local0.ONBOARDING_PT1 and not LUI.FlowManager.IsInStack( "BattlePassRewardPopup" ) then
		if not Onboarding.BattlePass.WasCompleted( f64_arg0, f64_arg0._controllerIndex ) then
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f64_arg0._controllerIndex, false, {
				currentPage = 1,
				overrideAction = function ()
					Engine.EBCGADABJ()
					LUI.FlowManager.RequestLeaveMenuByName( "BattlePassOnboardingPopup" )
					f64_arg0._BRRewardState = f64_arg0.REDEEMING
					f64_arg0( f64_arg0 )
				end
			} )
		else
			f64_arg0._BRRewardState = f0_local0.REDEEMING
			f0_local0( f64_arg0 )
		end
	elseif f64_arg0._BRRewardState == f0_local0.REDEEMING then
		if not f64_arg0._animatingBRReward then
			f64_arg0._animatingBRReward = true
			Engine.BJDBIAGIDA( SOUND_SETS.storefront.smokeCardSlam )
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f64_arg0._controllerIndex, false, {
				tierSkipID = BATTLEPASS.SINGLE_TIER_SKIP_ID
			} )
			local f64_local1 = f64_arg0:Wait( 1500 )
			f64_local1.onComplete = function ()
				LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup", true, true )
				f64_arg0._autoTierSkip = true
				f64_arg0._animatingBRReward = false
				f64_arg0( f64_arg0, f64_arg0._controllerIndex )
				f64_arg0._BRRewardState = f64_arg0.ONBOARDING_PT2
			end
			
		end
	elseif f64_arg0._BRRewardState == f0_local0.ONBOARDING_PT2 then
		f64_arg0._autoTierSkip = false
		if not Onboarding.BattlePass.WasCompleted( f64_arg0, f64_arg0._controllerIndex ) then
			local f64_local2 = f64_arg0:Wait( 1500 )
			f64_local2.onComplete = function ()
				local f65_local0 = {
					currentPage = 2,
					closeAction = function ()
						f65_local0._BRRewardState = f65_local0.UPSELLING
						f65_local0( f65_local0 )
					end
				}
				LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f64_arg0._controllerIndex, false, f65_local0 )
			end
			
		else
			f64_arg0._BRRewardState = f0_local0.UPSELLING
			f0_local0( f64_arg0 )
		end
	elseif f64_arg0._BRRewardState == f0_local0.UPSELLING then
		if f0_local0( f64_arg0 ) then
			f0_local0( f64_arg0 )
		end
		f64_arg0._BRRewardState = f0_local0.NONE
	end
end

function PreLoadFunc( f63_arg0, f63_arg1, f63_arg2 )
	f63_arg0._displayBattlePassInAAR = f63_arg2.displayBattlePassInAAR ~= nil
end

local f0_local71 = function ( f62_arg0 )
	local f62_local0 = LOOT.itemSourceExclusivity.NONE
	local f62_local1 = f0_local0( f62_arg0._currentChild, f62_arg0._lootIndex )
	local f62_local2
	if f62_local1 then
		f62_local2 = f62_local1
	else
		f62_local2 = f62_local1.lootID
	end
	if f62_local2 then
		f62_local0 = LOOT.GetGameSourceExclusivityByItemID( f62_local2 )
	end
	f62_arg0._isGameSourceUpsellItemFocused = f62_local0 == LOOT.itemSourceExclusivity.CW_EXCLUSIVE
	local f62_local3 = f62_arg0._isGameSourceUpsellItemFocused
	if f62_local3 then
		if STORE.IsZeusOwned( f62_arg0._controllerIndex ) and Dvar.IBEGCHEFE( "RONTRKPRP" ) ~= true then
			f62_local3 = false
		else
			f62_local3 = true
		end
	end
	f62_arg0._shouldShowGameSourceUpsell = f62_local3
	f62_local3 = ACTIONS.AnimateSequence
	local f62_local4 = f62_arg0
	local f62_local5
	if f62_arg0._shouldShowGameSourceUpsell then
		f62_local5 = "ShowGameSourceUpsell"
	else
		f62_local5 = "HideGameSourceUpsell"
	end
	f62_local3( f62_local4, f62_local5 )
end

local f0_local72 = function ( f61_arg0, f61_arg1 )
	local f61_local0 = f0_local0( f61_arg0._currentChild )
	local f61_local1
	if f61_local0 then
		f61_local1 = #f61_local0.lootTable
		if not f61_local1 then
		
		else
			if 1 < f61_local1 then
				if f61_arg1.button == "up" then
					if f61_arg0._lootIndex < f61_local1 then
						f61_arg0._lootIndex = f61_arg0._lootIndex + 1
					else
						f61_arg0._lootIndex = 1
					end
				elseif f61_arg1.button == "down" then
					if 1 < f61_arg0._lootIndex then
						f61_arg0._lootIndex = f61_arg0._lootIndex - 1
					else
						f61_arg0._lootIndex = f61_local1
					end
				end
				f0_local0( f61_arg0 )
				f61_arg0._currentChild:CycleLootCards( f61_arg0._lootIndex )
				f0_local0( f61_arg0._currentChild, f61_arg0, f61_arg0._currentChild.isLockedWithBattlePass, f61_arg0._isBattlePassPopup )
				f0_local0( f61_arg0 )
			end
		end
	end
	f61_local1 = 0
end

local f0_local73 = function ( f19_arg0, f19_arg1, f19_arg2 )
	f19_arg0.AnimateXPEarned = f0_local0
	f19_arg0.AnimateXPEarnedInAAR = f0_local0
	f19_arg0.AnimateUnlocks = f0_local0
	f19_arg0.AnimateShowcase = f0_local0
	f19_arg0.AnimateVanguardTierEvent = f0_local0
	f19_arg0.UpdateMenuDisplay = f0_local0
	f19_arg0.CycleLootCards = f0_local0
	f19_arg0._screenOpenedTime = Engine.DEIDGHDBHD()
	f19_arg0.OpenBattlePassPopup = f0_local0
	f19_arg0.Grid = f19_arg0.BattlePassGridContainer.Grid
	f19_arg0.HorizontalScrollbar = f19_arg0.BattlePassGridContainer.HorizontalScrollbar
	f19_arg0._delayBlueprintIcon = true
	ACTIONS.ScaleFullscreen( f19_arg0.Background )
	if not f19_arg2.displayBattlePassInAAR then
		Engine.DHFCHIIJCA( "quartermaster" )
	end
	local f19_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
	f19_arg0._maxBattlePassLevel = BATTLEPASS.GetMaxTier()
	f19_arg0._controllerIndex = f19_arg1
	f19_arg0._battlePassXP = BATTLEPASS.GetLastMenuXP( f19_arg0._controllerIndex )
	if f19_arg2.displayBattlePassInAAR then
		f19_arg0._battlePassXP = f19_arg2.battlePassData.startTierXP
	end
	f19_arg0._previousXP = f19_arg0._battlePassXP
	f19_arg0._battlePassOwned = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
	f19_arg0._battlePassData = BATTLEPASS.GetAllTiersData( f19_arg0._controllerIndex )
	f19_arg0._availableCODPoints = Commerce.CEDDCGHIGA( f19_arg0._controllerIndex, LOOT.CurrencyIDs.COD_POINTS )
	f19_arg0._currentLevel = BATTLEPASS.GetTier( f19_arg0._controllerIndex )
	if f19_arg2.displayBattlePassInAAR then
		f19_arg0._currentLevel = BATTLEPASS.GetTierByXP( f19_arg0._controllerIndex, f19_arg0._battlePassXP )
	end
	f19_arg0._isAnimating = false
	f19_arg0._isExpanded = false
	f19_arg0._currentChild = nil
	f19_arg0._autoTierSkip = f19_arg2.tierSkipID ~= nil
	f19_arg0._displayBattlePassInAAR = f19_arg2.displayBattlePassInAAR ~= nil
	f19_arg0._isBattlePassPopup = f19_arg2.isBattlePassPopup
	local f19_local1 = f19_arg0._isBattlePassPopup
	if not f19_local1 then
		f19_local1 = f19_arg0._displayBattlePassInAAR
		if not f19_local1 then
			f19_local1 = f19_arg2.isStandalone or f19_arg2.purchaseBattlePassInAAR
		end
	end
	f19_arg0._isStandalone = f19_local1
	f19_arg0._needFixUp = f0_local0( f19_arg0 )
	f19_arg0._itemSelectionComplete = true
	f19_arg0._lootIndex = 1
	if not f19_arg0._isStandalone and BATTLEPASS.BRRewardAvailable( f19_arg0._controllerIndex ) then
		local f19_local2 = f19_local0.brRewardPending
		local f19_local3 = f0_local0.PENDING
	end
	f19_arg0._BRRewardState = f19_local2 and f19_local3 or f0_local0.NONE
	f19_arg0._allowTierBank = f19_arg2.allowTierBank
	f19_arg0._shouldShowVGOnboarding = CONDITIONS.ShouldShowVanguardBPSplitTiersEvent( f19_arg0, f19_arg0._controllerIndex )
	f19_arg0._hasSeenVGSplitTierVid = true
	if f19_local0.crmPurchaseBattlePass then
		f19_local0.crmPurchaseBattlePass = nil
		f19_arg0._crmPurchaseBattlePass = true
	end
	if f19_arg0._BRRewardState == f0_local0.PENDING then
		f19_arg0._battlePassXP = BATTLEPASS.GetXP()
		f19_arg0._previousXP = f19_arg0._battlePassXP
	end
	f19_arg0.GetPurchaseAction = f0_local0
	f19_arg0.TriggerAutoTierSkip = f0_local0
	f19_arg0.TriggerPurchaseBattlePassInAAR = f0_local0
	f19_arg0.TriggerDisplayBattlePassInAAR = f0_local0
	f19_arg0.TriggerPurchaseBattlePassInStore = f0_local0
	f19_arg0.TriggerPurchaseBattlePassInVIPGift = f0_local0
	f19_arg0.DisableBundleBonusTopper = f0_local0
	f19_arg0:addElement( LOOT.GetLootFlareMaterialStreamer() )
	f19_arg0.BattlePassStatus:UpdateActiveBanner( f19_arg0._battlePassOwned )
	f0_local0( f19_arg0._battlePassData )
	f0_local0( f19_arg0._battlePassData, f19_arg0._controllerIndex )
	f0_local0( f19_arg0._battlePassData, f19_arg0._controllerIndex )
	f19_arg0.BillboardImg:SetMask( f19_arg0.CenterOutMask )
	f19_arg0.FadeCover:SetMask( f19_arg0.CenterOutMaskFade )
	f19_local1 = function ( f57_arg0, f57_arg1, f57_arg2 )
		local f57_local0 = f19_arg0._battlePassData[f57_arg1 + 1]
		local f57_local1
		if f57_local0 then
			f57_local1 = tonumber( f57_local0.level )
			if not f57_local1 then
			
			else
				local f57_local2 = f57_local1 <= 0
				local f57_local3 = f57_local1 == BATTLEPASS.BUNDLE_TOPPER_ITEM_LEVEL
				local f57_local4 = {}
				local f57_local5 = Dvar.IBEGCHEFE( "NKPPMRTRRK" )
				for f57_local11, f57_local12 in ipairs( f57_local0.lootTable ) do
					local f57_local9
					if f57_local12 then
						f57_local9 = f57_local12
					else
						f57_local9 = f57_local12.lootID
					end
					if f57_local9 then
						local f57_local10 = LOOT.IsItemIDEquippableByS4( f57_local9 )
						if not f57_local10 or f57_local5 then
							if f57_local10 and f57_local11 ~= 1 then
								f57_local4[f57_local11] = f57_local4[1]
								f57_local4[1] = f57_local12
							else
								f57_local4[f57_local11] = f57_local12
								goto basicblock_16:
							end
						end
					end
					f57_local4[f57_local11] = f57_local12
				end
				f57_local0.lootTable = f57_local4
				if f57_local0 then
					f57_local6 = f57_local0
				else
					f57_local6 = f57_local0.lootTable[1]
				end
				if f57_local0 then
					f57_local7 = f57_local0
				elseif 1 < #f57_local0.lootTable then
					if f57_local6 then
						f57_local7 = f57_local6
					else
						f57_local7 = f57_local6._gameSourceId
					end
				else
					f57_local7 = false
				end
				f57_arg0._isMultiItemGameSourceTier = f57_local7
				if f57_arg0._isMultiItemGameSourceTier and f57_arg0.LootItemCardMiniDouble.FlipFocusable then
					f57_arg0.LootItemCardMiniDouble.FlipFocusable:AddTooltipData( f19_arg0._controllerIndex, {
						promptsData = {
							{
								button_ref = "button_right_stick",
								keyprompt_text = Engine.CBBHFCGDIC( "KEY/MOUSE1" ),
								helper_text = Engine.CBBHFCGDIC( "BATTLEPASS/FLIP" )
							}
						}
					} )
				end
				f57_arg0.itemData = f57_local0
				f57_arg0:SetupLootData( f57_local0 )
				f57_local7 = f57_arg0.lootData
				f57_arg0:SetBattlePassOwned( f19_arg0._battlePassOwned )
				f57_local12 = f57_arg0
				f57_local8 = f57_arg0.SetTopBanner
				local f57_local9
				if f57_local0 then
					f57_local9 = f57_local0
				else
					f57_local9 = f57_local0.isFree == "1"
				end
				local f57_local10
				if not f19_arg0._battlePassOwned then
					f57_local10 = f57_local2
				else
					f57_local10 = false
				end
				f57_local8( f57_local12, f57_local9, f57_local10, f57_local3, f57_local0.isFree )
				f57_arg0:SetIsAnimating( f19_arg0._isAnimating )
				f57_arg0:EnableGlow( false )
				f57_local8 = 0
				if not f57_local2 then
					if f57_local0 then
						f57_local11 = tonumber( f57_local0.xp )
						if not f57_local11 then
						
						else
							if f57_local11 <= f19_arg0._battlePassXP then
								f57_local8 = 1
							else
								f57_local12 = 0
								if 1 < f57_local1 and not f57_local3 then
									f57_local12 = BATTLEPASS.GetTierMinXP( f57_local1 - 1 )
								end
								if f57_local12 < f19_arg0._battlePassXP then
									f57_local8 = (f19_arg0._battlePassXP - f57_local12) / (f57_local11 - f57_local12)
								end
							end
							if f57_local8 ~= 1 then
								ACTIONS.AnimateSequence( f57_arg0, "HideCheckbox" )
							end
						end
					end
					f57_local11 = 0
				elseif f19_arg0._battlePassOwned then
					f57_local8 = 1
				else
					f57_local8 = 0
				end
				f57_local11 = f57_local1
				if f57_local2 or f57_local3 then
					f57_local11 = nil
				end
				f57_local10 = f57_arg0
				f57_local12 = f57_arg0.SetLevel
				local f57_local13 = f57_local11
				local f57_local14
				if f57_local0 then
					f57_local14 = f57_local0
				else
					f57_local14 = f57_local0.showProgress
				end
				f57_local12( f57_local10, f57_local13, f57_local14 )
				f57_arg0:SetProgress( f57_local8, 0 )
				f57_arg0:SetIsBundleBonus( f57_local3 )
				if f57_local0 and f57_local0.lootTable[1].challengeID and f57_local0.lootTable[1].challengeID ~= "" then
					f57_arg0:ShowMission( true )
				else
					f57_arg0:ShowMission( false )
				end
				f57_arg0._column = f57_arg1
				f57_arg0:UpdateExpandedState()
				f57_local12 = f57_local8 == 1
				f57_local9 = f57_local8 < 1
				if f57_local0 then
					f57_local10 = f57_local0
				else
					f57_local10 = f57_local0.isFree == "1"
				end
				if f57_local8 == 1 then
					if f57_local0 then
						f57_local13 = f57_local0
					elseif f57_local0.isFree == "1" then
						f57_local13 = false
					else
						f57_local13 = true
					end
				else
					f57_local13 = false
				end
				if f57_local10 and f57_local12 then
					f57_local14 = f57_local2
				else
					f57_local14 = true
				end
				local f57_local15
				if not f57_local12 then
					f57_local15 = not f57_local2
				else
					f57_local15 = false
				end
				if f57_local0 then
					local f57_local16 = f57_local0
				else
					local f57_local16 = tonumber( f57_local0.isFree ) == BATTLEPASS.ItemTypes.CLAN
				end
				f57_arg0.isLockedWithBattlePass = f57_local15
				f57_arg0:SetOwned( f57_local12 )
				local f57_local17 = f57_arg0
				local f57_local18 = f57_arg0.SetLocked
				local f57_local19
				if not f19_arg0._battlePassOwned then
					if not f57_local2 then
						f57_local19 = f57_local2
					elseif not f57_local13 then
						f57_local19 = f57_local13
					elseif f57_local9 then
						f57_local19 = f57_local9
					else
						f57_local19 = not f57_local2
					end
				elseif f57_local9 then
					f57_local19 = f57_local9
				else
					f57_local19 = not f57_local2
				end
				f57_local18( f57_local17, f57_local19 )
				if not f57_local12 and (not f57_local2 or not f19_arg0._battlePassOwned) then
					f57_arg0:SetPromoted( BATTLEPASS.GetTierLootIsPromoted( f19_arg0._controllerIndex, f57_local1, f57_local0.subTierID ) )
					f57_arg0:SetShowcased( BATTLEPASS.GetTierLootIsShowcased( f19_arg0._controllerIndex, f57_local1, f57_local0.subTierID ) )
				else
					f57_arg0:SetShowcased( false )
					f57_arg0:SetPromoted( false )
				end
				f57_arg0:SetDirectionalInputEnabled( not f19_arg0._isAnimating )
				if not f57_arg0._buttonHandlerAdded then
					f57_arg0._buttonHandlerAdded = true
					f57_arg0:addEventHandler( "button_over", function ( f60_arg0, f60_arg1 )
						if f57_arg0._focusItem == nil or f57_arg0._focusItem ~= f60_arg0 then
							if f57_arg0._focusItem ~= nil then
								f57_arg0( f57_arg0._focusItem, false )
								f57_arg0._focusItem:processEvent( {
									name = "lose_active"
								} )
							end
							f57_arg0._focusItem = f60_arg0
							f57_arg0._currentChild = f57_arg0
							f57_arg0._lootIndex = 1
						end
						f57_arg0( f57_arg0 )
						local f60_local0 = f57_arg0( f57_arg0 )
						local f60_local1
						if not f60_local0 or tonumber( f60_local0.level ) > 0 then
							f60_local1 = false
						else
							f60_local1 = true
						end
						local f60_local2
						if not f60_local1 then
							f60_local2 = not f57_arg0._isOwned
						else
							f60_local2 = false
						end
						f57_arg0.BillboardImg:SetHandleMouse( f60_local2 )
						f57_arg0( f57_arg0, f57_arg0, f60_local2, f57_arg0._isBattlePassPopup )
						f57_arg0( f57_arg0 )
					end )
					f57_arg0.LootItemCardMiniDouble.FlipFocusable:addEventHandler( "button_action", function ( f59_arg0, f59_arg1 )
						if f57_arg0._backCardPulledUp then
							f57_arg0:CycleLootCards( {
								button = "down"
							} )
						end
					end )
					f57_arg0.LootItemCardMiniDouble:addEventHandler( "button_action", function ( f58_arg0, f58_arg1 )
						f58_arg0 = f58_arg0:getParent()
						local f58_local0
						if f58_arg1.keyboard then
							f58_local0 = f57_arg0._battlePassOwned
						else
							f58_local0 = true
						end
						if f57_arg0._shouldShowGameSourceUpsell and f58_local0 then
							LUI.FlowManager.RequestPopupMenu( f57_arg0, "WZCWUpsellPopup", true, f57_arg0._controllerIndex, false )
						elseif not f58_arg1.keyboard then
							if not f57_arg0._isAnimating and f58_arg1.controller == f57_arg0._controllerIndex and not f57_arg0._displayBattlePassInAAR and LOOT.CanPreview( f58_arg0.lootData.type, f58_arg0.lootData.itemID ) then
								STORE.PreviewItem( f57_arg0._controllerIndex, f58_arg0.lootData.type, f58_arg0.lootData.itemID, nil, nil, true )
							end
						end
						return true
					end )
				end
			end
		end
		f57_local1 = 0
	end
	
	if CONDITIONS.IsBattlePassBundleTopperActive() then
		local f19_local4 = Engine.DEIDGHDBHD()
		local f19_local5 = Dvar.CFHDGABACF( "LKOKTLQSPT" )
		local f19_local6
		if f19_local4 < f19_local5 then
			f19_local6 = f19_local5 - f19_local4
			if not f19_local6 then
			
			else
				f19_arg0._gridTimer = LUI.UITimer.new( {
					event = "disable_bp_topper_timer",
					interval = BATTLEPASS.TOPPER_TIMER_MAX_THRESHOLD_MS and BATTLEPASS.TOPPER_TIMER_MAX_THRESHOLD_TIMER_TICK_MS or f19_local6 * 1000
				} )
				f19_arg0._gridTimer.id = "bpTopperTimerGrid"
				f19_arg0:addElement( f19_arg0._gridTimer )
				f19_arg0:addAndCallEventHandler( "disable_bp_topper_timer", function ()
					local f56_local0 = Engine.DEIDGHDBHD()
					local f56_local1 = Dvar.CFHDGABACF( "LKOKTLQSPT" )
					local f56_local2
					if f56_local0 < f56_local1 then
						f56_local2 = f56_local1 - f56_local0
						if not f56_local2 then
						
						else
							if f56_local2 == 0 then
								f19_arg0:DisableBundleBonusTopper( f19_arg0 )
							end
						end
					end
					f56_local2 = 0
				end )
			end
		end
		f19_local6 = 0
	end
	f19_arg0.Grid:SetSnapOnWrapEnabled( true )
	f19_arg0.Grid:SetRefreshChild( f19_local1 )
	f19_arg0.Grid:SetNumChildren( #f19_arg0._battlePassData )
	f19_arg0.Grid:SetMeasureColumnFunction( LUI.ExpanderUtils.GenerateMeasureColumnFunction( 150 * _1080p ) )
	f19_arg0.Grid:RefreshContent()
	local f19_local4 = Onboarding.BattlePass.WasCompleted( f19_arg0, f19_arg0._controllerIndex )
	f19_arg0.Grid:SetNotifyOnLayoutInit( true )
	f19_arg0.Grid:addEventHandler( "layout_initialized", function ()
		f19_arg0 = Onboarding.BattlePass.WasCompleted( f19_arg0, f19_arg0._controllerIndex )
		local f55_local0 = BATTLEPASS.HasNewPassForSeason( f19_arg0._controllerIndex )
		if f55_local0 then
			f55_local0 = not BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		end
		local f55_local1
		if not f55_local0 then
			f55_local1 = f55_local0
		else
			f55_local1 = Dvar.IBEGCHEFE( "battlepass_always_show_upsell" )
			if f55_local1 then
				f55_local1 = not f19_arg0._upsellSeen
			end
		end
		if f19_arg0 and not f55_local1 and f19_arg0._BRRewardState == f19_arg0.NONE and not f19_arg0._crmPurchaseBattlePass then
			f19_arg0( f19_arg0 )
		end
	end )
	if f19_arg0._BRRewardState == f0_local0.NONE and not f19_arg0._isStandalone then
		if f19_arg0._crmPurchaseBattlePass and not BATTLEPASS.IsOwned( f19_arg0._controllerIndex ) then
			Onboarding.BattlePass.MarkCompleted( f19_arg0, f19_arg0._controllerIndex )
			BATTLEPASS.MarkPassSeenForSeason( f19_arg0._controllerIndex, SEASON.GetCurrentSeasonDataNum( {
				isForBattlePass = true
			} ) )
			f0_local0( f19_arg0, f19_arg1 )
		elseif not f19_local4 then
			LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f19_arg0._controllerIndex, false )
		end
	end
	if f19_local0.showBattlePassPurchasePopup then
		f19_local0.showBattlePassPurchasePopup = nil
		f0_local0( f19_arg0, f19_arg1 )
	end
	local f19_local5 = function ( f52_arg0, f52_arg1 )
		f19_arg0 = Onboarding.BattlePass.WasCompleted( f19_arg0, f19_arg0._controllerIndex )
		if not f19_arg0._isAnimating and f19_arg0 then
			if f19_arg0( f19_arg0 ) then
				if Dvar.IBEGCHEFE( "battlepass_use_showcase_animation" ) then
					f19_arg0:AnimateShowcase()
				else
					f19_arg0( f19_arg0 )
				end
			elseif f19_arg0._shouldShowVGOnboarding and not f19_arg0._hasSeenVGSplitTierVid then
				f19_arg0._hasSeenVGSplitTierVid = true
				local f52_local0 = function ( f53_arg0 )
					return function ()
						f53_arg0:AnimateVanguardTierEvent()
						Onboarding.VanguardBattlePassSplitTiers.MarkCompleted( f53_arg0, f53_arg0._controllerIndex )
					end
					
				end
				
				LUI.FlowManager.RequestPopupMenu( f19_arg0, "CinematicFullscreen", true, f19_arg0._controllerIndex, false, {
					unskippable = false,
					disableQuickAccess = true,
					video = "mtx_vg_tiers_activated_1080",
					skipImmediate = false,
					isEncrypted = false,
					skipVideoOnPartyJoin = true,
					onVideoFinished = f52_local0( f19_arg0._controllerIndex )
				} )
				Engine.BJDBIAGIDA( SOUND_SETS.battlePass.bpVGTierRevealVideo )
			end
		end
	end
	
	if f19_arg0._isStandalone then
		if not f19_arg0._displayBattlePassInAAR then
			f19_arg0._battlePassXP = BATTLEPASS.GetXP( f19_arg0._controllerIndex )
		end
		ACTIONS.AnimateSequence( f19_arg0, "SetupStandalone" )
		f19_arg0.HorizontalScrollbar:SetAlpha( 0 )
		f19_arg0.HorizontalScrollbar.sliderArea:SetButtonDisabled( true )
	else
		f19_arg0:addEventHandler( "gain_focus", function ( f51_arg0, f51_arg1 )
			if f19_arg0._BRRewardState ~= f19_arg0.NONE then
				f19_arg0( f19_arg0 )
			else
				f19_arg0( f51_arg0, f51_arg1 )
			end
		end )
		if LUI.IsLastInputMouseNavigation( f19_arg0._controllerIndex ) then
			f19_arg0:processEvent( {
				name = "gain_focus"
			} )
		end
		f19_arg0:addEventHandler( "restore_focus", function ( f50_arg0, f50_arg1 )
			local f50_local0 = LUI.FlowManager.GetScopedData( f19_arg0 )
			if f19_arg0._BRRewardState ~= f19_arg0.NONE then
				f19_arg0( f19_arg0 )
			elseif f50_local0.restoreTiersPopup then
				f50_local0.restoreTiersPopup = false
				LUI.FlowManager.RequestPopupMenu( f19_arg0, "BattlePassTiersPurchasePopup", true, f19_arg0, false, {
					sourceMenu = f19_arg0,
					tierSkips = f19_arg0._tierSkips
				} )
			elseif f50_local0.isPurchaseFromPreview then
				f50_local0.isPurchaseFromPreview = false
				f19_arg0( f19_arg0, {
					controller = f19_arg0._controllerIndex
				} )
			else
				f19_arg0( f50_arg0, f50_arg1 )
			end
			f19_arg0( f50_arg0 )
			if not f50_arg0._displayBattlePassInAAR then
				Engine.DHFCHIIJCA( "quartermaster" )
			end
		end )
	end
	local f19_local6 = function ()
		f19_arg0._numTransactionsComplete = f19_arg0._numTransactionsComplete + 1
		f19_arg0:dispatchEventToRoot( {
			name = "update_battle_pass_purchasing_popup",
			progress = f19_arg0._numTransactionsComplete / f19_arg0._numTransactions
		} )
	end
	
	f19_arg0.BillboardImg:SetHandleMouse( true )
	f19_arg0.BillboardImg:registerEventHandler( "leftmousedown", function ( element, event )
		return true
	end )
	f19_arg0.BillboardImg:registerEventHandler( "leftmouseup", function ( element, event )
		f19_arg0( f19_arg0, event )
		return true
	end )
	if f19_arg0.BattlePassPurchaseButton then
		f19_arg0.BattlePassPurchaseButton:addEventHandler( "button_action", function ( f46_arg0, f46_arg1 )
			if f46_arg1.mouse then
				f19_arg0( f19_arg0, f46_arg1 )
			end
		end )
	end
	f19_arg0:addEventHandler( "loot_item_transaction_complete", function ( f45_arg0, f45_arg1 )
		f19_arg0()
		f19_arg0._queuedRef = nil
	end )
	f19_arg0:addEventHandler( "loot_item_transaction_error", function ( f44_arg0, f44_arg1 )
		if f44_arg1.errorCode == STORE.ProductNoLongerAvailableError then
			LUI.FlowManager.RequestPopupMenu( nil, "ProductNoLongerAvailableErrorPopup", true, f19_arg0, false )
		end
		DebugPrint( "BattlePass loot_item_transaction_error for ref: " .. f19_arg0._queuedRef )
		f19_arg0._purchaseEnabled = true
		f19_arg0._errorCode = BATTLEPASS.GetErrorCode( f44_arg1.name, f19_arg0._queuedRef )
	end )
	f19_arg0:addEventHandler( "battlepass_activation_failed", function ( f43_arg0, f43_arg1 )
		DebugPrint( "BattlePass battlepass_activation_failed for ref: " .. f19_arg0._queuedRef )
		f19_arg0._purchaseEnabled = true
		f19_arg0._errorCode = BATTLEPASS.GetErrorCode( f43_arg1.name, f19_arg0._queuedRef )
	end )
	f19_arg0:addEventHandler( "cycle_loot_cards", function ( f42_arg0, f42_arg1 )
		f19_arg0:CycleLootCards( {
			button = "down"
		} )
	end )
	local f19_local7 = function ( f41_arg0, f41_arg1 )
		if f41_arg0._currentChild then
			if (f41_arg0._currentChild.lootData.type == LOOT.itemTypes.WEAPON) or f41_arg0._missionChallengeID then
				f19_arg0( f41_arg0, f41_arg1 )
			else
				f19_arg0( f41_arg0, f41_arg1 )
			end
		else
			f19_arg0( f41_arg0, f41_arg1 )
		end
	end
	
	local f19_local8 = function ( f40_arg0, f40_arg1 )
		local f40_local0 = CONDITIONS.IsGiftingEnabled()
		if f40_local0 then
			f40_local0 = BATTLEPASS.IsOwned( f40_arg0._controllerIndex )
		end
		if f40_local0 then
			f19_arg0( f40_arg0, f40_arg1 )
		end
	end
	
	local f19_local9 = function ( f39_arg0, f39_arg1 )
		local f39_local0
		if f39_arg1.keyboard then
			f39_local0 = f39_arg0._battlePassOwned
		else
			f39_local0 = true
		end
		if f39_arg0._shouldShowGameSourceUpsell and f39_local0 then
			LUI.FlowManager.RequestPopupMenu( f39_arg0, "WZCWUpsellPopup", true, f39_arg0._controllerIndex, false )
		end
	end
	
	local f19_local10 = GRID.SetUpArrowScrolling
	local f19_local11 = f19_arg0
	local f19_local12 = f19_arg1
	local f19_local13 = {
		numGridItemsShown = f0_local0,
		scrollStepsForward = f0_local0,
		scrollStepsBack = f0_local0,
		onUpdateInputType = f0_local0,
		ignoreCondition = f19_arg0._displayBattlePassInAAR
	}
	local f19_local14 = {
		button_left_trigger = LUI.IsLastInputKeyboardMouse( f19_arg0._controllerIndex ) and f0_local0 or nil,
		button_alt1 = f0_local0,
		button_alt2 = f19_local8,
		button_right_stick = f19_local7,
		button_left_stick = f0_local0
	}
	local f19_local15
	if LUI.IsLastInputKeyboardMouse( f19_arg0._controllerIndex ) and not f19_local9 then
		f19_local15 = f19_local9
	else
		f19_local15 = nil
	end
	f19_local14.button_right_trigger = f19_local15
	f19_local13.bindButtonInput = f19_local14
	f19_local13.bitsToSetOnScroll = {
		f19_arg0._delayBlueprintIcon
	}
	f19_local13.kbmArrowUI = {
		leftArrow = f19_arg0.LeftArrow,
		rightArrow = f19_arg0.RightArrow
	}
	f19_local13.gamePadArrowUI = {
		leftPrompt = f19_arg0.LeftPrompt,
		rightPrompt = f19_arg0.RightPrompt
	}
	f19_local10( f19_local11, f19_local12, f19_local13 )
	f19_arg0:addEventHandler( "battlepass_event_complete", function ( f38_arg0, f38_arg1 )
		DebugPrint( "BattlePass battlepass_event_complete for ref: " .. f19_arg0._queuedRef )
		f19_arg0()
		f19_arg0._battlePassOwned = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		f19_arg0.BattlePassStatus:UpdateActiveBanner( f19_arg0._battlePassOwned )
		if tonumber( StringTable.DIFCHIGDFB( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f19_arg0._queuedRef, CSV.battlePassIDs.cols.type ) ) == BATTLEPASS.ItemTypes.TIER_SKIP and f38_arg1.controller then
			local f38_local0 = CSV.ReadRowWithFile( CSV.battlePassIDs, CSV.battlePassIDs.file, StringTable.BJJBBCJGEJ( CSV.battlePassIDs.file, CSV.battlePassIDs.cols.ref, f19_arg0._queuedRef ) )
			Engine.CEJJDJJHIJ( f38_arg1.controller, "dlog_event_bp_tier_up", {
				previous_bp_tier = f38_arg1.rank - tonumber( f38_local0.skips ),
				new_bp_tier = f38_arg1.rank,
				reason = f38_local0.event
			} )
		end
		if f19_arg0._activation then
			if f19_arg0._activation.id and f19_arg0._activation.count then
				if f19_arg0._activation.id == f19_arg0._activation.count then
					f19_arg0._queuedPurchase = nil
				end
			else
				f19_arg0._queuedPurchase = nil
			end
		end
		f19_arg0._queuedRef = nil
		if CONDITIONS.IsGiftingEnabled() and f19_arg0._battlePassOwned then
			f19_arg0:AddButtonPrompt( {
				side = "left",
				button_ref = "button_alt2",
				priority = 6,
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU_MP/GIFT_BATTLEPASS" )
			} )
		end
	end )
	f19_arg0:addEventHandler( "battlepass_send_event_failed", function ( f37_arg0, f37_arg1 )
		DebugPrint( "BattlePass battlepass_send_event_failed for ref: " .. f19_arg0._queuedRef )
		f19_arg0._errorCode = BATTLEPASS.GetErrorCode( f37_arg1.name, f19_arg0._queuedRef )
	end )
	f19_local10 = function ()
		LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup" )
		f19_arg0._needFixUp = f19_arg0( f19_arg0 )
		f19_arg0._battlePassOwned = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		f19_arg0._battlePassXP = BATTLEPASS.GetXP( f19_arg0._controllerIndex )
		if f19_arg0._fixingUp then
			f19_arg0._fixingUp = false
			f19_arg0:Wait( 1, true )
		end
	end
	
	f19_arg0:addEventHandler( "battlepass_fixup_complete", function ( f33_arg0, f33_arg1 )
		DebugPrint( "BattlePass battlepass_fixup_complete" )
		local f33_local0 = BATTLEPASS.IsOwned( f19_arg0._controllerIndex )
		local f33_local1 = BATTLEPASS.GetXP( f19_arg0._controllerIndex )
		local f33_local2 = f19_arg0._battlePassOwned ~= f33_local0
		local f33_local3 = f19_arg0._battlePassXP ~= f33_local1
		f19_arg0()
		f19_arg0.BattlePassStatus:UpdateActiveBanner( f33_local0 )
		local f33_local4 = nil
		if f33_local2 and f33_local3 then
			f33_local4 = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_TIER_BUNDLE_UNLOCKED
		elseif f33_local2 then
			f33_local4 = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_UNLOCKED
		elseif f33_local3 then
			f33_local4 = BATTLEPASS.FullScreenPopupStates.TIERS_UNLOCKED
		else
			f33_local4 = BATTLEPASS.FullScreenPopupStates.BATTLE_PASS_UNLOCKED
		end
		LUI.FlowManager.RequestPopupMenu( nil, "BattlePassFullScreenPopup", true, f19_arg0._controllerIndex, false, {
			state = f33_local4
		}, nil, false, true )
		local f33_local5 = nil
		local f33_local6 = function ()
			local f34_local0 = f33_arg0:Wait( 100 )
			f34_local0.onComplete = function ()
				if LUI.FlowManager.IsInStack( "BattlePassFullScreenPopup" ) then
					f34_local0()
				else
					local f35_local0 = f34_local0
					local f35_local1 = f34_local0
					local f35_local2 = f34_local0
					if f35_local2 then
						f35_local2 = not f34_local0
					end
					f35_local0( f35_local1, f35_local2 )
				end
			end
			
		end
		
		f33_local6()
	end )
	f19_arg0:addEventHandler( "battlepass_fixup_failed", function ( f32_arg0, f32_arg1 )
		DebugPrint( "BattlePass battlepass_fixup_failed" )
		f19_arg0()
		f19_arg0( f19_arg0, Engine.CBBHFCGDIC( "BATTLEPASS/FAILED_CLAIM", "BATTLEPASS/BATTLE_PASS_TOKENS" ) )
	end )
	f19_arg0:addEventHandler( "FocusBattlepassTile", function ( f31_arg0, f31_arg1 )
		f19_arg0.Grid:SetFocusedPosition( {
			y = 0,
			x = f31_arg1.tileIndex
		}, false, nil, false )
		f19_arg0._currentChild = f19_arg0.Grid:GetElementAtPosition( f31_arg1.tileIndex, 0 )
	end )
	LAYOUT.AddAspectRatioFadeFrame( f19_arg0, f19_arg1 )
	ACTIONS.ScaleFullscreen( f19_arg0.Background )
	f19_arg0:addAndCallEventHandler( "onVideoChange", function ()
		f19_arg0.VignetteRight:SetScale( CoD.GetAspectRatioScaleAdjust( 0.65 ) )
		f19_arg0.VignetteLeft:SetScale( CoD.GetAspectRatioScaleAdjust( 0.5 ) )
	end )
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f19_arg0, "AR" )
	elseif IsLanguageJapanese() then
		ACTIONS.AnimateSequence( f19_arg0, "JP" )
	end
	f19_arg0:addEventHandler( "gamepad_button", function ( f29_arg0, f29_arg1 )
		if f29_arg1.controller ~= f19_arg0._controllerIndex then
			if f29_arg1.button == "left" or f29_arg1.button == "right" or f29_arg1.button == "up" or f29_arg1.button == "down" then
				return true
			end
		elseif f29_arg1.down and not f19_arg0._isAnimating and (f29_arg1.button == "up" or f29_arg1.button == "down") then
			f19_arg0( f19_arg0, f29_arg1 )
		end
	end )
	f19_arg0:addEventHandler( "purchase_aar_battlepass", function ( f28_arg0, f28_arg1 )
		f19_arg0( f19_arg0, f19_arg0 )
	end )
	if f19_arg0._isBattlePassPopup then
		f19_arg0:addEventHandler( "menu_create", function ( f27_arg0, f27_arg1 )
			f19_arg0( f19_arg0 )
		end )
	else
		f19_arg0:addEventHandler( "tab_create", function ()
			f19_arg0._currentMenu = f19_arg0:GetCurrentMenu( f19_arg0 )
			f19_arg0( f19_arg0 )
		end )
	end
	if CONDITIONS.IsWZWipDvarEnabled() then
		ACTIONS.AnimateSequence( f19_arg0, "WZWipSetup" )
	end
	f19_local11 = LUI.FlowManager.GetScopedData( "MainMenu" )
	if f19_local11 and f19_local11.ShouldHandleGiftBattlePass then
		f19_local11.ShouldHandleGiftBattlePass = nil
		f19_local12 = function ( f24_arg0 )
			if not Onboarding.BattlePass.WasCompleted( f24_arg0, f24_arg0._controllerIndex ) then
				LUI.FlowManager.RequestPopupMenu( nil, "BattlePassOnboardingPopup", true, f24_arg0._controllerIndex, true, {
					skipDelay = true,
					menu = f24_arg0,
					closeAction = function ( f25_arg0 )
						f24_arg0( f25_arg0, {
							controller = f25_arg0._controllerIndex
						} )
					end
				} )
			else
				f19_arg0( f24_arg0, {
					controller = f24_arg0._controllerIndex
				} )
			end
		end
		
		f19_local13 = nil
		f19_local14 = function ( f22_arg0 )
			local f22_local0 = f22_arg0:Wait( 100 )
			f22_local0.onComplete = function ( f23_arg0 )
				if LUI.FlowManager.IsInStack( "BattlePassOnboardingPopup" ) then
					f22_arg0( f23_arg0 )
				else
					f22_arg0( f23_arg0 )
				end
			end
			
		end
		
		f19_local14( f19_arg0 )
	end
	if not f19_arg0._isBattlePassPopup then
		f19_arg0:addAndCallEventHandler( "gift_queued_in", function ( f21_arg0, f21_arg1 )
			f19_arg0( f19_arg0 )
			return true
		end )
	end
	f19_arg0:registerEventHandler( "claim_pending_bp_purchase_gift", function ( element, event )
		f19_arg0._needFixUp = f19_arg0( f19_arg0 )
		f19_arg0( f19_arg0, event )
		Engine.BJDBIAGIDA( SOUND_SETS.storefront.smokeCardSlam )
		f19_arg0._autoTierSkip = true
		f19_arg0._animatingBRReward = false
		f19_arg0( f19_arg0, f19_arg0._controllerIndex )
		f19_arg0._BRRewardState = f19_arg0.ONBOARDING_PT2
	end )
	f19_arg0.OpenGiftingPopup = f0_local0
end

function BattlePassMenu( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "BattlePassMenu"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	PreLoadFunc( self, f1_local1, controller )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromInt( 0, 0 )
	Background:SetAlpha( 0.9, 0 )
	Background:setImage( RegisterMaterial( "widg_gradient_bottom_to_top" ), 0 )
	self:addElement( Background )
	self.Background = Background
	
	local BillboardImg = nil
	
	BillboardImg = LUI.UIImage.new()
	BillboardImg.id = "BillboardImg"
	BillboardImg:setImage( RegisterMaterial( "mw_store_billboard_placeholder" ), 0 )
	BillboardImg:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -340, _1080p * 380 )
	self:addElement( BillboardImg )
	self.BillboardImg = BillboardImg
	
	local CenterOutMask = nil
	
	CenterOutMask = LUI.UIImage.new()
	CenterOutMask.id = "CenterOutMask"
	CenterOutMask:setImage( RegisterMaterial( "ui_mp_br_shared_item_mask" ), 0 )
	CenterOutMask:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -355, _1080p * 405 )
	self:addElement( CenterOutMask )
	self.CenterOutMask = CenterOutMask
	
	local FadeCover = nil
	
	FadeCover = LUI.UIImage.new()
	FadeCover.id = "FadeCover"
	FadeCover:SetRGBFromInt( 0, 0 )
	FadeCover:SetAlpha( 0, 0 )
	FadeCover:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -463, _1080p * 486 )
	self:addElement( FadeCover )
	self.FadeCover = FadeCover
	
	local CenterOutMaskFade = nil
	
	CenterOutMaskFade = LUI.UIImage.new()
	CenterOutMaskFade.id = "CenterOutMaskFade"
	CenterOutMaskFade:setImage( RegisterMaterial( "ui_mp_br_shared_item_mask" ), 0 )
	CenterOutMaskFade:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -1038, _1080p * 1007, _1080p * -404, _1080p * 409 )
	self:addElement( CenterOutMaskFade )
	self.CenterOutMaskFade = CenterOutMaskFade
	
	local VignetteRight = nil
	
	VignetteRight = LUI.UIImage.new()
	VignetteRight.id = "VignetteRight"
	VignetteRight:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteRight:SetAlpha( 0.3, 0 )
	VignetteRight:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	VignetteRight:SetAnchorsAndPosition( 1, 0, 0, 0, 0, _1080p * -467, 0, 0 )
	self:addElement( VignetteRight )
	self.VignetteRight = VignetteRight
	
	local VignetteLeft = nil
	
	VignetteLeft = LUI.UIImage.new()
	VignetteLeft.id = "VignetteLeft"
	VignetteLeft:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteLeft:SetAlpha( 0.9, 0 )
	VignetteLeft:setImage( RegisterMaterial( "widg_gradient_left_to_right" ), 0 )
	VignetteLeft:SetAnchorsAndPosition( 1, 0, 0, 0, _1080p * -1920, _1080p * -1030, 0, 0 )
	self:addElement( VignetteLeft )
	self.VignetteLeft = VignetteLeft
	
	local LeftPrompt = nil
	
	LeftPrompt = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = "LUA_MENU/PAD_LEFT_TRIGGER_BUTTON",
		controllerIndex = f1_local1
	} )
	LeftPrompt.id = "LeftPrompt"
	LeftPrompt:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	LeftPrompt:setImage( RegisterMaterial( "button_trigger_left" ), 0 )
	LeftPrompt:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -771, _1080p * -727, _1080p * -267, _1080p * -223 )
	self:addElement( LeftPrompt )
	self.LeftPrompt = LeftPrompt
	
	local RightPrompt = nil
	
	RightPrompt = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = "LUA_MENU/PAD_RIGHT_TRIGGER_BUTTON",
		controllerIndex = f1_local1
	} )
	RightPrompt.id = "RightPrompt"
	RightPrompt:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	RightPrompt:setImage( RegisterMaterial( "button_trigger_right" ), 0 )
	RightPrompt:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * 727, _1080p * 771, _1080p * -267, _1080p * -223 )
	self:addElement( RightPrompt )
	self.RightPrompt = RightPrompt
	
	local f1_local12 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12 = MenuBuilder.BuildRegisteredType( "BattlePassPurchaseButton", {
			controllerIndex = f1_local1
		} )
		f1_local12.id = "BattlePassPurchaseButton"
		f1_local12:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 72, _1080p * 572, _1080p * 413, _1080p * 613 )
		self:addElement( f1_local12 )
		self.BattlePassPurchaseButton = f1_local12
	end
	local WeaponAttributes = nil
	
	WeaponAttributes = MenuBuilder.BuildRegisteredType( "WeaponAttributes", {
		controllerIndex = f1_local1
	} )
	WeaponAttributes.id = "WeaponAttributes"
	WeaponAttributes:SetAlpha( 0, 0 )
	WeaponAttributes:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 508, _1080p * 433, _1080p * 593 )
	self:addElement( WeaponAttributes )
	self.WeaponAttributes = WeaponAttributes
	
	local QualityText = nil
	
	QualityText = LUI.UIStyledText.new()
	QualityText.id = "QualityText"
	QualityText:setText( Engine.CBBHFCGDIC( "BATTLEPASS/RARITY_AND_TYPE" ), 0 )
	QualityText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	QualityText:SetWordWrap( false )
	QualityText:SetAlignment( LUI.Alignment.Left )
	QualityText:SetOptOutRightToLeftAlignmentFlip( true )
	QualityText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 141, _1080p * 617, _1080p * 218, _1080p * 246 )
	self:addElement( QualityText )
	self.QualityText = QualityText
	
	local RarityIcon = nil
	
	RarityIcon = LUI.UIImage.new()
	RarityIcon.id = "RarityIcon"
	RarityIcon:setImage( RegisterMaterial( "icon_rarity_4" ), 0 )
	RarityIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 128, _1080p * 216, _1080p * 248 )
	self:addElement( RarityIcon )
	self.RarityIcon = RarityIcon
	
	local WeaponDescription = nil
	
	WeaponDescription = LUI.UIStyledText.new()
	WeaponDescription.id = "WeaponDescription"
	WeaponDescription:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	WeaponDescription:setText( "some random text here", 0 )
	WeaponDescription:SetFont( FONTS.GetFont( FONTS.BodyRegular.File ) )
	WeaponDescription:SetAlignment( LUI.Alignment.Left )
	WeaponDescription:SetOptOutRightToLeftAlignmentFlip( true )
	WeaponDescription:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	WeaponDescription:SetStartupDelay( 1000 )
	WeaponDescription:SetLineHoldTime( 400 )
	WeaponDescription:SetAnimMoveTime( 1000 )
	WeaponDescription:SetAnimMoveSpeed( 150 )
	WeaponDescription:SetEndDelay( 1000 )
	WeaponDescription:SetCrossfadeTime( 1000 )
	WeaponDescription:SetFadeInTime( 300 )
	WeaponDescription:SetFadeOutTime( 300 )
	WeaponDescription:SetMaxVisibleLines( 2 )
	WeaponDescription:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 572, _1080p * 319, _1080p * 341 )
	self:addElement( WeaponDescription )
	self.WeaponDescription = WeaponDescription
	
	local DetailsPrompt = nil
	
	DetailsPrompt = LUI.UIStyledText.new()
	DetailsPrompt.id = "DetailsPrompt"
	DetailsPrompt:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	DetailsPrompt:setText( Engine.CBBHFCGDIC( "BATTLEPASS/VIEW_REWARD_DETAILS" ), 0 )
	DetailsPrompt:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	DetailsPrompt:SetWordWrap( false )
	DetailsPrompt:SetAlignment( LUI.Alignment.Left )
	DetailsPrompt:SetOptOutRightToLeftAlignmentFlip( true )
	DetailsPrompt:SetTintFontIcons( true )
	DetailsPrompt:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 472, _1080p * 319, _1080p * 343 )
	self:addElement( DetailsPrompt )
	self.DetailsPrompt = DetailsPrompt
	
	local DetailsPromptAttributesOpened = nil
	
	DetailsPromptAttributesOpened = LUI.UIStyledText.new()
	DetailsPromptAttributesOpened.id = "DetailsPromptAttributesOpened"
	DetailsPromptAttributesOpened:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	DetailsPromptAttributesOpened:SetAlpha( 0, 0 )
	DetailsPromptAttributesOpened:setText( Engine.CBBHFCGDIC( "BATTLEPASS/HIDE_REWARD_DETAILS" ), 0 )
	DetailsPromptAttributesOpened:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	DetailsPromptAttributesOpened:SetWordWrap( false )
	DetailsPromptAttributesOpened:SetAlignment( LUI.Alignment.Left )
	DetailsPromptAttributesOpened:SetOptOutRightToLeftAlignmentFlip( true )
	DetailsPromptAttributesOpened:SetTintFontIcons( true )
	DetailsPromptAttributesOpened:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 472, _1080p * 586, _1080p * 610 )
	self:addElement( DetailsPromptAttributesOpened )
	self.DetailsPromptAttributesOpened = DetailsPromptAttributesOpened
	
	local LeftArrow = nil
	
	LeftArrow = MenuBuilder.BuildRegisteredType( "GenericArrowButtonLarge", {
		controllerIndex = f1_local1
	} )
	LeftArrow.id = "LeftArrow"
	LeftArrow:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -830, _1080p * -690, _1080p * -370, _1080p * -120 )
	self:addElement( LeftArrow )
	self.LeftArrow = LeftArrow
	
	local RightArrow = nil
	
	RightArrow = MenuBuilder.BuildRegisteredType( "GenericArrowButtonLarge", {
		controllerIndex = f1_local1
	} )
	RightArrow.id = "RightArrow"
	RightArrow.Arrow:SetZRotation( 271, 0 )
	RightArrow:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * 691, _1080p * 831, _1080p * -370, _1080p * -120 )
	self:addElement( RightArrow )
	self.RightArrow = RightArrow
	
	local Name = nil
	
	Name = LUI.UIStyledText.new()
	Name.id = "Name"
	Name:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	Name:setText( ToUpperCase( "TITLE" ), 0 )
	Name:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	Name:SetWordWrap( false )
	Name:SetTracking( 5 * _1080p, 0 )
	Name:SetAlignment( LUI.Alignment.Left )
	Name:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 596, _1080p * 249, _1080p * 319 )
	self:addElement( Name )
	self.Name = Name
	
	local BlueprintIcon = nil
	
	BlueprintIcon = LUI.UIImage.new()
	BlueprintIcon.id = "BlueprintIcon"
	BlueprintIcon:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	BlueprintIcon:setImage( RegisterMaterial( "icon_blueprint" ), 0 )
	BlueprintIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 283, _1080p * 329, _1080p * 259, _1080p * 305 )
	self:addElement( BlueprintIcon )
	self.BlueprintIcon = BlueprintIcon
	
	local BattlePassStatus = nil
	
	BattlePassStatus = MenuBuilder.BuildRegisteredType( "BattlePassStatus", {
		controllerIndex = f1_local1
	} )
	BattlePassStatus.id = "BattlePassStatus"
	BattlePassStatus:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1388, _1080p * 1824, _1080p * 218, _1080p * 282 )
	self:addElement( BattlePassStatus )
	self.BattlePassStatus = BattlePassStatus
	
	local UnlockCriteria = nil
	
	UnlockCriteria = LUI.UIStyledText.new()
	UnlockCriteria.id = "UnlockCriteria"
	UnlockCriteria:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	UnlockCriteria:SetAlpha( 0, 0 )
	UnlockCriteria:setText( "Rewarded with Battle Pass", 0 )
	UnlockCriteria:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	UnlockCriteria:SetWordWrap( false )
	UnlockCriteria:SetAlignment( LUI.Alignment.Left )
	UnlockCriteria:SetOptOutRightToLeftAlignmentFlip( true )
	UnlockCriteria:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollH )
	UnlockCriteria:SetStartupDelay( 1000 )
	UnlockCriteria:SetLineHoldTime( 400 )
	UnlockCriteria:SetAnimMoveTime( 1000 )
	UnlockCriteria:SetAnimMoveSpeed( 150 )
	UnlockCriteria:SetEndDelay( 1000 )
	UnlockCriteria:SetCrossfadeTime( 250 )
	UnlockCriteria:SetFadeInTime( 300 )
	UnlockCriteria:SetFadeOutTime( 300 )
	UnlockCriteria:SetMaxVisibleLines( 1 )
	UnlockCriteria:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 125, _1080p * 600, _1080p * 319, _1080p * 341 )
	self:addElement( UnlockCriteria )
	self.UnlockCriteria = UnlockCriteria
	
	local LockIcon = nil
	
	LockIcon = LUI.UIImage.new()
	LockIcon.id = "LockIcon"
	LockIcon:SetRGBFromTable( SWATCHES.Store.TextOver, 0 )
	LockIcon:SetAlpha( 0, 0 )
	LockIcon:setImage( RegisterMaterial( "battlepass_lock" ), 0 )
	LockIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 121, _1080p * 317, _1080p * 343 )
	self:addElement( LockIcon )
	self.LockIcon = LockIcon
	
	local MissionTag = nil
	
	MissionTag = MenuBuilder.BuildRegisteredType( "BattlePassMissionTag", {
		controllerIndex = f1_local1
	} )
	MissionTag.id = "MissionTag"
	MissionTag:SetAlpha( 0, 0 )
	MissionTag:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 596, _1080p * 315, _1080p * 375 )
	self:addElement( MissionTag )
	self.MissionTag = MissionTag
	
	local SpecialWeaponAttributeWithText = nil
	
	SpecialWeaponAttributeWithText = MenuBuilder.BuildRegisteredType( "SpecialWeaponAttributeWithText", {
		controllerIndex = f1_local1
	} )
	SpecialWeaponAttributeWithText.id = "SpecialWeaponAttributeWithText"
	SpecialWeaponAttributeWithText:SetAlpha( 0, 0 )
	SpecialWeaponAttributeWithText.Title:SetRGBFromTable( SWATCHES.BattlePass.ShadowLight, 0 )
	SpecialWeaponAttributeWithText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 496, _1080p * 315, _1080p * 347 )
	self:addElement( SpecialWeaponAttributeWithText )
	self.SpecialWeaponAttributeWithText = SpecialWeaponAttributeWithText
	
	local ExclusiveSnipeIcon = nil
	
	ExclusiveSnipeIcon = MenuBuilder.BuildRegisteredType( "WZExclusiveSnipeIcon", {
		controllerIndex = f1_local1
	} )
	ExclusiveSnipeIcon.id = "ExclusiveSnipeIcon"
	ExclusiveSnipeIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 281, _1080p * 681, _1080p * 214, _1080p * 246 )
	self:addElement( ExclusiveSnipeIcon )
	self.ExclusiveSnipeIcon = ExclusiveSnipeIcon
	
	local Upsell = nil
	
	Upsell = MenuBuilder.BuildRegisteredType( "WZBattlePassUpsellPrompt", {
		controllerIndex = f1_local1
	} )
	Upsell.id = "Upsell"
	Upsell:SetAlpha( 0, 0 )
	Upsell:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -396, _1080p * -96, _1080p * 313, _1080p * 513 )
	self:addElement( Upsell )
	self.Upsell = Upsell
	
	local TierPurchaseBG = nil
	
	TierPurchaseBG = MenuBuilder.BuildRegisteredType( "BattlePassPurchaseBackground", {
		controllerIndex = f1_local1
	} )
	TierPurchaseBG.id = "TierPurchaseBG"
	TierPurchaseBG:SetAlpha( 0, 0 )
	TierPurchaseBG:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, 0, _1080p * 1080 )
	self:addElement( TierPurchaseBG )
	self.TierPurchaseBG = TierPurchaseBG
	
	local BattlePassGridContainer = nil
	
	BattlePassGridContainer = MenuBuilder.BuildRegisteredType( "BattlePassGridContainer", {
		controllerIndex = f1_local1
	} )
	BattlePassGridContainer.id = "BattlePassGridContainer"
	BattlePassGridContainer:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -700, _1080p * 700, _1080p * -539, _1080p * -81 )
	self:addElement( BattlePassGridContainer )
	self.BattlePassGridContainer = BattlePassGridContainer
	
	local SupportingCreatorCode = nil
	
	SupportingCreatorCode = MenuBuilder.BuildRegisteredType( "SupportingCreatorCode", {
		controllerIndex = f1_local1
	} )
	SupportingCreatorCode.id = "SupportingCreatorCode"
	SupportingCreatorCode:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1162, _1080p * 1522, _1080p * 220, _1080p * 244 )
	self:addElement( SupportingCreatorCode )
	self.SupportingCreatorCode = SupportingCreatorCode
	
	local ReactiveIcon = nil
	
	ReactiveIcon = LUI.UIImage.new()
	ReactiveIcon.id = "ReactiveIcon"
	ReactiveIcon:setImage( RegisterMaterial( "ui_icon_blueprint_reactive_camo_flipbook" ), 0 )
	ReactiveIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 276, _1080p * 244, _1080p * 324 )
	self:addElement( ReactiveIcon )
	self.ReactiveIcon = ReactiveIcon
	
	local PromptContainer = nil
	PromptContainer = MenuBuilder.BuildRegisteredType( "ButtonPromptContainer", {
		controllerIndex = f1_local1
	} )
	PromptContainer.id = "PromptContainer"
	PromptContainer:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	if CONDITIONS.AlwaysFalse() then
		PromptContainer.Label:setText( "", 0 )
	end
	PromptContainer:SetAnchorsAndPosition( 0, 0, 1, 0, _1080p * 260, _1080p * -1348, _1080p * -109, _1080p * -85 )
	self:addElement( PromptContainer )
	self.PromptContainer = PromptContainer
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local35 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "WeaponPreview", {
			{
				value = 1,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Text_Style_Font,
			value = FONTS.BodyRegular.File,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319,
			easing = LUI.EASING.snap
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "WeaponPreview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine.CBBHFCGDIC( "BATTLEPASS/VIEW_REWARD_DETAILS" )
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "WeaponPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 358
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 378
		}
	} )
	LockIcon:RegisterAnimationSequence( "WeaponPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 356
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 382
		}
	} )
	MissionTag:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "WeaponPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WeaponPreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "WeaponPreview" )
		end
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
		menu:AnimateSequence( "WeaponPreview" )
	end
	
	local f1_local36 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "WeaponDetails", {
			{
				value = 0,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "WeaponDetails", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 200
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 360
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 412
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 572
		},
		{
			value = 1,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 1,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "WeaponDetails", {
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 377
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 397
		}
	} )
	LockIcon:RegisterAnimationSequence( "WeaponDetails", {
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 375
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 401
		}
	} )
	MissionTag:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "WeaponDetails", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WeaponDetails = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "WeaponDetails" )
		end
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
		menu:AnimateSequence( "WeaponDetails" )
	end
	
	local f1_local37 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "ItemPreview", {
			{
				value = 1,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "ItemPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 325
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 345
		}
	} )
	LockIcon:RegisterAnimationSequence( "ItemPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 323
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 349
		}
	} )
	MissionTag:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "ItemPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ItemPreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "ItemPreview" )
		end
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
		menu:AnimateSequence( "ItemPreview" )
	end
	
	local f1_local38 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "MissionPreview", {
			{
				value = 1,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "MissionPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341
		},
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "MissionPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 383
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 403
		}
	} )
	LockIcon:RegisterAnimationSequence( "MissionPreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 380
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 406
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "MissionPreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.MissionPreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "MissionPreview" )
		end
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
		menu:AnimateSequence( "MissionPreview" )
	end
	
	local f1_local39 = nil
	Background:RegisterAnimationSequence( "SetupStandalone", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	BillboardImg:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -290
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 290
		}
	} )
	CenterOutMask:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 250
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 830
		}
	} )
	FadeCover:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -290
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 290
		}
	} )
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "SetupStandalone", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	BattlePassStatus:RegisterAnimationSequence( "SetupStandalone", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 218
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 282
		}
	} )
	self._sequences.SetupStandalone = function ()
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		menu:AnimateSequence( "SetupStandalone" )
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "SetupStandalone" )
		end
		menu:AnimateSequence( "SetupStandalone" )
	end
	
	local f1_local40 = nil
	BlueprintIcon:RegisterAnimationSequence( "IsBlueprint", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 283
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 329
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 259
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 305
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.genericMenu.mainTitle
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "icon_blueprint" )
		}
	} )
	self._sequences.IsBlueprint = function ()
		menu:AnimateSequence( "IsBlueprint" )
	end
	
	local f1_local41 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "ConsumablePreview", {
			{
				value = 1,
				duration = 150,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "ConsumablePreview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 343
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text_Style_Font,
			value = FONTS.MainRegular.File
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "ConsumablePreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 358
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 378
		}
	} )
	LockIcon:RegisterAnimationSequence( "ConsumablePreview", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 356
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 382
		}
	} )
	MissionTag:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "ConsumablePreview", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ConsumablePreview = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "ConsumablePreview" )
		end
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
		menu:AnimateSequence( "ConsumablePreview" )
	end
	
	local f1_local42 = nil
	UnlockCriteria:RegisterAnimationSequence( "IsLocked", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	LockIcon:RegisterAnimationSequence( "IsLocked", {
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.IsLocked = function ()
		menu:AnimateSequence( "IsLocked" )
		menu:AnimateSequence( "IsLocked" )
	end
	
	local f1_local43 = nil
	UnlockCriteria:RegisterAnimationSequence( "NotLocked", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 339,
			easing = LUI.EASING.snap
		}
	} )
	LockIcon:RegisterAnimationSequence( "NotLocked", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 317,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 343,
			easing = LUI.EASING.snap
		}
	} )
	self._sequences.NotLocked = function ()
		menu:AnimateSequence( "NotLocked" )
		menu:AnimateSequence( "NotLocked" )
	end
	
	local f1_local44 = nil
	BlueprintIcon:RegisterAnimationSequence( "IsBaseWeapon", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 274
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 250
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 338
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 314
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "battlepass_icon_weapon_glint" )
		}
	} )
	self._sequences.IsBaseWeapon = function ()
		menu:AnimateSequence( "IsBaseWeapon" )
	end
	
	local f1_local45 = nil
	WeaponDescription:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text_Style_Horizontal_Alignment,
			value = LUI.Alignment.Left
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 612
		}
	} )
	Name:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Tracking,
			value = 0 * _1080p
		}
	} )
	self._sequences.AR = function ()
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
	end
	
	local f1_local46 = nil
	if not CONDITIONS.IsDisplayingBattlePassAAR( self ) then
		f1_local12:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
			{
				value = 1,
				duration = 200,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	WeaponAttributes:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 144
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 304
		}
	} )
	WeaponDescription:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 341,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Text_Style_Font,
			value = FONTS.BodyRegular.File,
			easing = LUI.EASING.snap
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 319,
			easing = LUI.EASING.snap
		}
	} )
	DetailsPrompt:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine.CBBHFCGDIC( "BATTLEPASS/VIEW_REWARD_DETAILS" )
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 353
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 375
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	DetailsPromptAttributesOpened:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	UnlockCriteria:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 383
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 403
		}
	} )
	LockIcon:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 150,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 381
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 407
		}
	} )
	MissionTag:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SpecialWeaponAttributeWithText:RegisterAnimationSequence( "WeaponPreviewWithAttribute", {
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 347
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 315
		},
		{
			value = 1,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WeaponPreviewWithAttribute = function ()
		if not CONDITIONS.IsDisplayingBattlePassAAR( menu ) then
			menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		end
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
		menu:AnimateSequence( "WeaponPreviewWithAttribute" )
	end
	
	local f1_local47 = nil
	Upsell:RegisterAnimationSequence( "ShowGameSourceUpsell", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ShowGameSourceUpsell = function ()
		menu:AnimateSequence( "ShowGameSourceUpsell" )
	end
	
	local f1_local48 = nil
	Upsell:RegisterAnimationSequence( "HideGameSourceUpsell", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideGameSourceUpsell = function ()
		menu:AnimateSequence( "HideGameSourceUpsell" )
	end
	
	local f1_local49 = nil
	Background:RegisterAnimationSequence( "WZWipSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.WZGlobalSwatches.WZBackground
		}
	} )
	BillboardImg:RegisterAnimationSequence( "WZWipSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "wz_store_billboard_placeholder" )
		}
	} )
	self._sequences.WZWipSetup = function ()
		menu:AnimateSequence( "WZWipSetup" )
		menu:AnimateSequence( "WZWipSetup" )
	end
	
	local f1_local50 = nil
	WeaponDescription:RegisterAnimationSequence( "JP", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 354
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 334
		}
	} )
	self._sequences.JP = function ()
		menu:AnimateSequence( "JP" )
	end
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "BattlePassMenu", BattlePassMenu )
LockTable( _M )
