-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
CONTEXT_MENU = CONTEXT_MENU or {}
local f0_local0 = function ( f9_arg0, f9_arg1, f9_arg2, f9_arg3, f9_arg4 )
	if f9_arg3.refreshOnFocus then
		f9_arg0:SetupContextualMenu( f9_arg3 )
	else
		f9_arg0:RemoveAllContextualMenuActionsFromElement()
	end
	for f9_local3, f9_local4 in pairs( f9_arg2 ) do
		f9_arg0:AddContextualMenuAction( f9_local4 )
	end
end

CONTEXT_MENU.RemoveContextualMenuOptions = function ( f8_arg0 )
	if f8_arg0.RemoveContextualMenuFromElement then
		f8_arg0:RemoveContextualMenuFromElement()
	end
	f8_arg0._contextualMenuHandlerActive = nil
end

CONTEXT_MENU.SetupContextualMenuOptions = function ( f5_arg0, f5_arg1, f5_arg2, f5_arg3, f5_arg4 )
	if not f5_arg0._contextualMenuHandlerAdded or f5_arg3.refreshOnFocus then
		assert( f5_arg3 )
		f5_arg0:SetupContextualMenu( f5_arg3 )
		f5_arg0._contextualMenuButtonOptions = f5_arg4
		f5_arg0._contextualMenuActions = f5_arg2
		f5_arg0._contextualMenuMenuOptions = f5_arg3
		if not f5_arg0._contextualMenuHandlerAdded then
			if f5_arg3 and f5_arg3.supportsGamepad then
				f5_arg0:addEventHandler( "button_over", function ( f7_arg0, f7_arg1 )
					if f7_arg0._contextualMenuHandlerActive then
						f5_arg0( f7_arg0, f5_arg0, f7_arg0._contextualMenuActions, f7_arg0._contextualMenuMenuOptions, f7_arg0._contextualMenuButtonOptions )
					end
				end )
			else
				f5_arg0:addEventHandler( "mouseenter", function ( f6_arg0, f6_arg1 )
					if f6_arg0._contextualMenuHandlerActive then
						f5_arg0( f6_arg0, f5_arg0, f6_arg0._contextualMenuActions, f6_arg0._contextualMenuMenuOptions, f6_arg0._contextualMenuButtonOptions )
					end
				end )
			end
		end
		f0_local0( f5_arg0, f5_arg1, f5_arg0._contextualMenuActions, f5_arg3, f5_arg0._contextualMenuButtonOptions )
		f5_arg0._contextualMenuHandlerAdded = true
	end
	f5_arg0._contextualMenuHandlerActive = true
end

CONTEXT_MENU.ConvertKeysToActionTable = function ( f4_arg0, f4_arg1, f4_arg2 )
	assert( f4_arg0 )
	assert( f4_arg1 )
	assert( f4_arg2 )
	local f4_local0 = {}
	for f4_local6, f4_local7 in ipairs( f4_arg1 ) do
		local f4_local8 = f4_arg0[f4_local7]
		local f4_local5 = assert
		local f4_local9 = f4_local8
		local f4_local10 = "Action with key ["
		local f4_local4
		if not f4_local7 then
			f4_local4 = f4_local7
		else
			f4_local4 = "nil"
		end
		f4_local5( f4_local9, f4_local10 .. f4_local4 .. "] does not have a matching handler in the keyLibrary" )
		if f4_local8 then
			f4_local5 = f4_local8( f4_arg2 )
			assert( f4_local5 )
			assert( f4_local5.label )
			assert( f4_local5.id )
			assert( f4_local5.hideFunc )
			assert( f4_local5.disabledFunc )
			assert( f4_local5.action )
			assert( not LUI.StringIsNilOrEmpty( f4_local5.background ), "Please provide a background for SocialAction '" .. f4_local5.label .. "'" )
			table.insert( f4_local0, f4_local5 )
		end
	end
	return f4_local0
end

local f0_local1 = function ( f3_arg0, f3_arg1 )
	if f3_arg0 == nil then
		return nil
	else
		assert( f3_arg0.buttonKeyLibrary )
		assert( f3_arg0.buttonSearchKeys )
		local f3_local0 = CONTEXT_MENU.GetSocialActionContextualMenuData( f3_arg0.buttonKeyLibrary, f3_arg0.buttonSearchKeys, f3_arg1 )
		local f3_local1 = LUI.ShallowCopy( f3_arg0 )
		f3_local1.buttonsData = f3_local0
		f3_local1.buttonSearchKeys = nil
		f3_local1.buttonKeyLibrary = nil
		return f3_local1
	end
end

CONTEXT_MENU.GetSocialActionContextualMenuData = function ( f1_arg0, f1_arg1, f1_arg2 )
	assert( f1_arg0 )
	assert( f1_arg1 )
	assert( f1_arg2 )
	local f1_local0 = {}
	for f1_local6, f1_local7 in ipairs( f1_arg1 ) do
		local f1_local8 = SOCIAL.IsKeyForcedInvalid( f1_local7 )
		local f1_local9 = f1_arg0[f1_local7]
		local f1_local5 = assert
		local f1_local10 = f1_local9
		local f1_local11 = "Action with key ["
		local f1_local4
		if not f1_local7 then
			f1_local4 = f1_local7
		else
			f1_local4 = "nil"
		end
		f1_local5( f1_local10, f1_local11 .. f1_local4 .. "] does not have a matching handler in the keyLibrary" )
		if not f1_local8 and f1_local9 then
			f1_local5 = f1_local9( f1_arg2 )
			assert( f1_local5 )
			assert( f1_local5.label )
			assert( f1_local5.id, "Button [" .. f1_local5.label .. "] has no id specified" )
			assert( f1_local5.id == f1_local7, "Button [" .. f1_local5.label .. "] is reporting ID [" .. f1_local5.id .. "] while linked to key [" .. f1_local7 .. "]" )
			assert( f1_local5.hideFunc, "Button [" .. f1_local5.label .. "] has no hideFunc function specified" )
			assert( f1_local5.disabledFunc, "Button [" .. f1_local5.label .. "] has no disabledFunc function specified" )
			assert( f1_local5.action, "Button [" .. f1_local5.label .. "] has no action function specified" )
			if f1_local5 then
				table.insert( f1_local0, {
					actionName = f1_local5.label,
					actionFunction = f1_local5.action,
					actionParams = f1_arg2,
					conditionFunction = function ()
						if f1_arg0.hideFunc() then
							return false
						else
							return not FRIENDS.IsDisabledResult( f1_arg0.disabledFunc() )
						end
					end,
					conditionParams = f1_arg2,
					id = f1_local5.id,
					refreshOnAction = f1_local5.refreshOnAction,
					innerMenuData = f0_local0( f1_local5.innerMenuData, f1_arg2 )
				} )
			end
		end
	end
	return f1_local0
end

