-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.social.socialprofilemenu.socialshowcaseoperatorbutton" )
require( "ui.generated.widgets.frontend.social.socialprofilemenu.socialshowcaseweaponbutton" )
require( "ui.generated.widgets.frontend.social.socialprofilemenu.socialshowcasecallingcardshowcasepreviewbutton" )
require( "ui.generated.widgets.frontend.social.socialprofilemenu.socialshowcaseplayerdetailbutton" )
require( "ui.generated.menus.frontend.social.socialprofilemenu.socialshowcaseoperatorinspect" )
require( "ui.generated.menus.frontend.social.socialprofilemenu.socialshowcaseweaponinspect" )
require( "ui.generated.menus.frontend.social.socialprofilemenu.socialshowcaseplayercompare" )
require( "ui.generated.menus.frontend.social.socialprofilemenu.socialshowcasecallingcardinspect" )
local f0_local0 = function ( f24_arg0, f24_arg1 )
	f24_arg0:SetFocusable( not f24_arg1 )
	f24_arg0:SetHandleMouse( not f24_arg1 )
	f24_arg0:SetHandleTouchInput( not f24_arg1 )
	f24_arg0:SetVisible( not f24_arg1 )
	f24_arg0:SetButtonDisabled( f24_arg1 )
end

local f0_local1 = function ( f23_arg0, f23_arg1 )
	SOCIAL.SocialProfileInstrumentationUpdateFocusWidget( f23_arg0 )
end

local f0_local2 = function ( f22_arg0, f22_arg1 )
	SOCIAL.SocialProfileInstrumentationOnLoseFocus( f22_arg0 )
end

local f0_local3 = function ( f16_arg0, f16_arg1, f16_arg2 )
	local f16_local0 = ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x5C8C9CEB5140A3E ) )
	local f16_local1 = ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xE4F14F92AD26CC1 ) )
	local f16_local2 = function ( f21_arg0, f21_arg1 )
		if not LUI.FlowManager.IsInStack( CONDITIONS.InGame() and SOCIAL.INGAME_PLAYER_PROFILE_MENU_NAME or SOCIAL.FRONTEND_PLAYER_PROFILE_MENU_NAME ) then
			f21_arg0:LoseFocus( {
				snap = true
			} )
		end
		LUI.FlowManager.RequestAddMenu( f21_arg1, true, f16_arg0, false, f16_arg0._playerData, true )
	end
	
	local f16_local3 = f16_arg0.OperatorButton
	f16_local3:addEventHandler( "button_action", function ( f20_arg0, f20_arg1 )
		f16_arg0( f20_arg0, "SocialShowcaseOperatorInspect" )
	end )
	f16_local3:addEventHandler( "gain_focus", f0_local0 )
	f16_local3:addEventHandler( "lose_focus", f0_local0 )
	f16_local3.Highlight.Action:setText( f16_local0 )
	table.insert( f16_arg0._focusableElements, f16_local3 )
	local f16_local4 = f16_arg0.WeaponButton
	f16_local4:addEventHandler( "button_action", function ( f19_arg0, f19_arg1 )
		f16_arg0( f19_arg0, "SocialShowcaseWeaponInspect" )
	end )
	f16_local4:addEventHandler( "gain_focus", f0_local0 )
	f16_local4:addEventHandler( "lose_focus", f0_local0 )
	f16_local4.Highlight.Action:setText( f16_local0 )
	table.insert( f16_arg0._focusableElements, f16_local4 )
	local f16_local5 = f16_arg0.CompareButton
	f16_local5:addEventHandler( "button_action", function ( f18_arg0, f18_arg1 )
		f16_arg0( f18_arg0, "SocialShowcasePlayerCompare" )
	end )
	f16_local5:addEventHandler( "gain_focus", f0_local0 )
	f16_local5:addEventHandler( "lose_focus", f0_local0 )
	f16_local5.Highlight.Action:setText( f16_local1 )
	table.insert( f16_arg0._focusableElements, f16_local5 )
	local f16_local6 = f16_arg0.CallingCardButton
	f16_local6:addEventHandler( "button_action", function ( f17_arg0, f17_arg1 )
		f16_arg0( f17_arg0, "SocialShowcaseCallingCardInspect" )
	end )
	f16_local6:addEventHandler( "gain_focus", f0_local0 )
	f16_local6:addEventHandler( "lose_focus", f0_local0 )
	f16_local6.Highlight.Action:setText( f16_local0 )
	table.insert( f16_arg0._focusableElements, f16_local6 )
	if f16_local6.CallingCard1.ButtonHighlight then
		f16_local6.CallingCard1.ButtonHighlight:closeTree()
	end
	if f16_local6.CallingCard2.ButtonHighlight then
		f16_local6.CallingCard2.ButtonHighlight:closeTree()
	end
	if f16_local6.CallingCard3.ButtonHighlight then
		f16_local6.CallingCard3.ButtonHighlight:closeTree()
	end
end

local f0_local4 = function ( f15_arg0 )
	local f15_local0 = f15_arg0.OperatorButton
	local f15_local1 = f15_arg0.WeaponButton
	local f15_local2 = f15_arg0.CompareButton
	local f15_local3 = f15_arg0.CallingCardButton
	f15_local0.navigation = {}
	f15_local0.navigation.down = f15_local1
	f15_local0.navigation.right = f15_local2
	f15_local1.navigation = {}
	f15_local1.navigation.up = f15_local0
	f15_local1.navigation.right = f15_local3
	f15_local2.navigation = {}
	f15_local2.navigation.left = f15_local0
	f15_local2.navigation.down = f15_local3
	f15_local3.navigation = {}
	f15_local3.navigation.left = f15_local1
	f15_local3.navigation.up = f15_local2
	if not SHOWCASE.IsShowcaseCompareEnabled() then
		f15_local0.navigation.right = f15_local3
		f15_local3.navigation.up = f15_local0
	end
end

local f0_local5 = function ( f14_arg0, f14_arg1, f14_arg2, f14_arg3 )
	SHOWCASE.ShowOperatorModelForXuid( f14_arg0, f14_arg1, "social_showcase", f14_arg2, f14_arg3 )
end

local f0_local6 = function ( f13_arg0, f13_arg1 )
	f13_arg0.CompareButton:SetPlayerDetails( f13_arg1 )
end

local f0_local7 = function ( f12_arg0, f12_arg1, f12_arg2 )
	local f12_local0 = SOCIAL.GetShowcaseCallingCardsFromXuid( f12_arg1, f12_arg2 )
	f12_arg0.CallingCardButton:SetCallingCardShowcase( f12_local0[1], f12_local0[2], f12_local0[3] )
end

local f0_local8 = function ( f11_arg0, f11_arg1, f11_arg2 )
	f11_arg0.WeaponButton:SetWeaponInfo( f11_arg1, f11_arg2 )
end

local f0_local9 = function ( f10_arg0, f10_arg1, f10_arg2 )
	f10_arg0.OperatorButton:SetOperatorInfo( f10_arg1, f10_arg2 )
end

local f0_local10 = function ( f9_arg0 )
	if not f9_arg0._fencesPassing or not f9_arg0._currentPlayerXuidString or not f9_arg0._playerData then
		return 
	else
		f0_local0( f9_arg0, f9_arg0._controllerIndex, f9_arg0._currentPlayerXuidString, f9_arg0._playerData.lobbyMapName )
		f0_local0( f9_arg0, f9_arg0._controllerIndex, f9_arg0._currentPlayerXuidString )
		f0_local0( f9_arg0, f9_arg0._controllerIndex, f9_arg0._currentPlayerXuidString )
	end
end

local f0_local11 = function ( f8_arg0, f8_arg1, f8_arg2 )
	local f8_local0 = tostring( f8_arg2.xuid )
	f8_arg0._playerData = f8_arg2
	f8_arg0._currentPlayerXuidString = f8_local0
	f0_local0( f8_arg0, f8_arg2 )
	f0_local0( f8_arg0, f8_arg1, f8_local0 )
	f0_local0( f8_arg0 )
end

local f0_local12 = function ( f7_arg0, f7_arg1 )
	f0_local0( f7_arg0.OperatorButton, f7_arg1 )
	f0_local0( f7_arg0.WeaponButton, f7_arg1 )
	f0_local0( f7_arg0.CallingCardButton, f7_arg1 )
	if SHOWCASE.IsShowcaseCompareEnabled() then
		f0_local0( f7_arg0.CompareButton, f7_arg1 )
	else
		f7_arg0.CompareButton:SetVisible( not f7_arg1 )
	end
end

local f0_local13 = function ( f6_arg0, f6_arg1 )
	f6_arg0.OperatorButton:SetHighlightVisible( f6_arg1 )
	f6_arg0.WeaponButton:SetHighlightVisible( f6_arg1 )
	f6_arg0.CallingCardButton:SetHighlightVisible( f6_arg1 )
	if SHOWCASE.IsShowcaseCompareEnabled() then
		f6_arg0.CompareButton:SetHighlightVisible( f6_arg1 )
	end
end

local f0_local14 = function ( f5_arg0 )
	return f5_arg0._fencesPassing
end

local f0_local15 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.SetInfoFromPlayerData = f0_local0
	f2_arg0.SetShowcaseDisabled = f0_local0
	f2_arg0.AreWeaponFencesPassing = f0_local0
	f2_arg0.SetButtonHighlightsVisible = f0_local0
	f2_arg0._controllerIndex = f2_arg1
	f2_arg0._focusableElements = {}
	f0_local0( f2_arg0, f2_arg1, f2_arg2 )
	f0_local0( f2_arg0 )
	f2_arg0:SetShowcaseDisabled( true )
	f2_arg0:SetButtonHighlightsVisible( true )
	f2_arg0._fencesPassing = false
	LUI.DeferredFence.AttachMultiple( f2_arg0, f2_arg1, {
		nil,
		"CLIENT_CONNECT",
		"WEAPON_DEF"
	}, LUI.DeferredFence.Criticality.LOW, LUI.DeferredFence.BackOutMethod.NONE, function ( f4_arg0, f4_arg1 )
		f4_arg0._fencesPassing = f4_arg1.fenceState == LUI.Fence.FenceObjectState.PASSING
		f2_arg0( f4_arg0 )
		f2_arg0:SetShowcaseDisabled( false )
		f2_arg0:SetButtonHighlightsVisible( true )
	end )
	if f2_arg2.xuid then
		f2_arg0:SetInfoFromPlayerData( f2_arg1, f2_arg2 )
	end
	if not SHOWCASE.IsShowcaseCompareEnabled() then
		local f2_local0 = f2_arg0.CompareButton
		f2_local0:SetHighlightVisible( false )
		f2_local0:SetFocusable( false )
		f2_local0:SetHandleMouse( false )
		f2_local0:SetHandleTouchInput( false )
		f2_local0:SetButtonDisabled( true )
	end
	f2_arg0:SubscribeToInputTypeModel( f2_arg1, function ( f3_arg0, f3_arg1 )
		if not CONDITIONS.IsMouseNavigation( f3_arg1._controllerIndex ) then
			local f3_local0 = false
			local f3_local1 = false
			if f3_arg1._focusableElements then
				for f3_local5, f3_local6 in ipairs( f3_arg1._focusableElements ) do
					if not f3_local1 then
						f3_local1 = f3_local6:IsVisible()
					end
					if f3_local6:isInFocus() then
						f3_local0 = true
						break
					end
				end
			end
		end
	end )
end

function SocialProfileShowcaseTab( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = f1_local0.UIElement.new()
	f1_local2:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920, 0, 1080 )
	f1_local2.id = "SocialProfileShowcaseTab"
	local f1_local3
	if f1_arg1 then
		f1_local3 = f1_arg1
	else
		f1_local3 = f1_arg1.controllerIndex
	end
	f1_local3 = f1_local0.ValidateControllerIndex( f1_local2, f1_local3 )
	local f1_local4 = nil
	f1_local4 = f1_local1.BuildRegisteredType( 0xA6DF17BFFF356B3, {
		controllerIndex = f1_local3
	} )
	f1_local4[0x8B72E07B55C3AC0] = "OperatorButton"
	f1_local4:SetAnchorsAndPosition( 0, 1, 0, 1, 520, 820, 188, 298 )
	f1_local2:addElement( f1_local4 )
	f1_local2[0x43D34D124084509] = f1_local4
	local f1_local5 = nil
	f1_local5 = f1_local1.BuildRegisteredType( 0x28F10044E0ECBE3, {
		controllerIndex = f1_local3
	} )
	f1_local5[0x8B72E07B55C3AC0] = "WeaponButton"
	f1_local5:SetAnchorsAndPosition( 0, 1, 0, 1, 520, 820, 590, 725 )
	f1_local2:addElement( f1_local5 )
	f1_local2[0xB6B68C12C42FC15] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local1.BuildRegisteredType( 0x6F5CDBB8AC0ED72, {
		controllerIndex = f1_local3
	} )
	f1_local6[0x8B72E07B55C3AC0] = "CallingCardButton"
	f1_local6:SetAnchorsAndPosition( 0, 1, 0, 1, 1402, 1830, 570.5, 997.5 )
	f1_local2:addElement( f1_local6 )
	f1_local2[0x72A045B96C4D7A5] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local1.BuildRegisteredType( 0x8319DA9F4498E93, {
		controllerIndex = f1_local3
	} )
	f1_local7[0x8B72E07B55C3AC0] = "CompareButton"
	f1_local7:SetAnchorsAndPosition( 0, 1, 0, 1, 1402, 1830, 219.5, 554.5 )
	f1_local2:addElement( f1_local7 )
	f1_local2[0xD6255EB75404AD0] = f1_local7
	f0_local0( f1_local2, f1_local3, f1_arg1 )
	return f1_local2
end

MenuBuilder.registerType( 0x3EEB09B18E44B6D, SocialProfileShowcaseTab )
LockTable( _M )
