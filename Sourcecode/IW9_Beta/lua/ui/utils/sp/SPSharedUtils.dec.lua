-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
SPSharedUtils = SPSharedUtils or {}
SPSharedUtils.Difficulties = {
	nil,
	0xC3E9A0B2A23FA94,
	0x30560AD95C37C92,
	0xF76108AF62105E9,
	0x4FC854B1E29DD2D,
	0x6E8D386E81B4635
}
SPSharedUtils.GetFirstMap = function ()
	local f9_local0 = ""
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x5933EFE2016FFFA ) then
		f9_local0 = StringTable[0x2077452C28AB2FC]( MapInfo.spLevels.GetFile(), 0, MapInfo.spLevels.cols.name )
	else
		f9_local0 = MapInfo.BundleGetName( Game[0x16A8B517C8280EA]( 0 ) )
	end
	return f9_local0
end

SPSharedUtils.ShaderPreloadWrap = function ( f8_arg0 )
	local f8_local0 = Dvar[0x9E5BE3B4BBA4E0E]( 0xB8028A71325FB19 )
	if not f8_local0 then
		f8_local0 = Dvar[0x9E5BE3B4BBA4E0E]( 0x954EC5EA4F4E4FC )
	end
	if f8_local0 then
		if Dvar[0x22EAAB59AA27E9B]( 0x95C098E989D14FE ) == 1 then
			Lobby.TryNavigateToLobby( f8_arg0 )
		else
			f8_arg0()
		end
	else
		f8_arg0()
	end
end

SPSharedUtils.GetHighestDifficultyForLevel = function ( f7_arg0, f7_arg1 )
	assert( f7_arg1 )
	local f7_local0 = 0
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x5933EFE2016FFFA ) then
		f7_local0 = StringTable[0x2DCF0973239E909]( MapInfo.spLevels.GetFile(), MapInfo.spLevels.cols.name, f7_arg0, MapInfo.spLevels.cols.ref )
	else
		f7_local0 = Game[0x6406A9ED460225D]( f7_arg0 )
	end
	local f7_local1 = SPSharedUtils.Difficulties[Engine[0xB336EC20F262777]( f7_local0, f7_arg1 )]
	if f7_local1 and f7_local1 ~= "" then
		return f7_local1
	else
		return ""
	end
end

SPSharedUtils.GetHighestCollateralRankForLevel = function ( f6_arg0, f6_arg1 )
	assert( f6_arg1 )
	local f6_local0 = PLAYER_DATA.IO( f6_arg1, 0 )
	f6_local0 = f6_local0.spData.civiliansKilledGradeBest
	local f6_local1 = f6_local0[f6_arg0]
	if f6_local1 then
		f6_local1 = f6_local0[f6_arg0]:get()
	end
	local f6_local2 = {
		nil,
		0x888F33A68E737F1,
		0x888F13A68E7348B,
		0x888F63A68E73D0A,
		0x888F73A68E73EBD,
		0x888F43A68E739A4
	}
	if f6_local1 and 0 <= f6_local1 and f6_local1 < #f6_local2 then
		return f6_local2[f6_local1 + 1]
	else
		return ""
	end
end

SPSharedUtils.GetMissionStateForLevel = function ( f5_arg0, f5_arg1 )
	local f5_local0 = PLAYER_DATA.IO( f5_arg1, CoD.ProgressionBlob.Gold )
	f5_local0 = f5_local0.spData.missionStateData
	local f5_local1 = f5_local0[f5_arg0]
	if f5_local1 then
		f5_local1 = f5_local0[f5_arg0]:get()
	end
	return f5_local1
end

SPSharedUtils.OpenAntiCheatWarningPopup = function ( f4_arg0 )
	local f4_local0 = 0
	local f4_local1 = 0
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x5933EFE2016FFFA ) then
		f4_local1 = StringTable[0xFD4E49A34DD43AE]( MapInfo.spLevels.GetFile() ) - 1
	else
		f4_local1 = Lobby[0xF14659C6AA6180F]() - 1
	end
	for f4_local2 = 0, f4_local1, 1 do
		local f4_local5 = ""
		if not Dvar[0x9E5BE3B4BBA4E0E]( 0x5933EFE2016FFFA ) then
			f4_local5 = StringTable[0x2077452C28AB2FC]( MapInfo.spLevels.GetFile(), f4_local2, MapInfo.spLevels.cols.name )
		else
			f4_local5 = MapInfo.BundleGetName( Game[0x16A8B517C8280EA]( f4_local2 ) )
		end
		if SPSharedUtils.GetMissionStateForLevel( f4_local5, f4_arg0 ) == "locked" then
			break
		end
		f4_local0 = f4_local2
	end
	local f4_local2 = ""
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x5933EFE2016FFFA ) then
		f4_local2 = StringTable[0x2077452C28AB2FC]( MapInfo.spLevels.GetFile(), f4_local0, MapInfo.spLevels.cols.string )
	else
		f4_local2 = MapInfo.BundleGetUnlocalizedDisplayName( Game[0x16A8B517C8280EA]( f4_local0 ) )
	end
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x244E1B9C23A167C ) then
		Engine[0xBD88E4AB0091920]( PauseReason.SAVE_DATA_ERROR )
		LUI.FlowManager.RequestPopupMenu( nil, "campaign_mode_anticheat_warning_popup", true, f4_arg0, false, {
			lastUnlockedMission = f4_local2
		} )
	end
end

SPSharedUtils.UnlockAllMissions = function ( f3_arg0 )
	if CONDITIONS.IsDevelopmentBuild() then
		return true
	else
		return SPSharedUtils.IsMissionCheatEnabled( f3_arg0 )
	end
end

SPSharedUtils.IsMissionCheatEnabled = function ( f2_arg0 )
	return Dvar[0x9E5BE3B4BBA4E0E]( 0x8B8E25BB75B206D )
end

SPSharedUtils.GetUnpackedKeypadData = function ( f1_arg0 )
	local f1_local0, f1_local1 = nil
	local f1_local2 = {}
	local f1_local3 = DataSources.inGame.HUD.overlay.keypadPackedData:GetValue( f1_arg0 )
	f1_local2.state = CoD.ExtractBitsFromBitPositionInValue( f1_local3, 2, 1 )
	f1_local2.codeLength = CoD.ExtractBitsFromBitPositionInValue( f1_local3, 4, 3 )
	return f1_local2
end

SPSharedUtils.KEYPAD_OMNVAR_STATE = {
	On = 1,
	Off = 0,
	Fail = 3,
	Success = 2
}
