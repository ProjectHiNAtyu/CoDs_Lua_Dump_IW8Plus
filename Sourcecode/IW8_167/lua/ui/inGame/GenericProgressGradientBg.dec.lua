-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = function ( f6_arg0, f6_arg1, f6_arg2 )
	f6_arg0:SubscribeToModel( DataSources.inGame.HUD.secureProgress:GetModel( f6_arg1 ), function ()
		local f7_local0 = 0.8
		local f7_local1 = DataSources.inGame.HUD.secureProgress:GetValue( f6_arg0 )
		local f7_local2 = DataSources.inGame.HUD.secureState:GetValue( f6_arg0 )
		if f7_local2 >= LUI.PROGRESS_TYPE.EXFIL_AVAILABLE and f7_local2 <= LUI.PROGRESS_TYPE.EXFIL_CONTESTED then
			if f7_local1 ~= nil and f7_local0 < f7_local1 then
				ACTIONS.AnimateSequence( f6_arg0, "PulseFast" )
			elseif f7_local2 == LUI.PROGRESS_TYPE.EXFIL_CONTESTED then
				ACTIONS.AnimateSequence( f6_arg0, "Pulse" )
			else
				ACTIONS.AnimateSequence( f6_arg0, "NoPulse" )
			end
		end
	end )
end

function GenericProgressGradientBg( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 850 * _1080p, 0, 45 * _1080p )
	self.id = "GenericProgressGradientBg"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local Gradient = nil
	
	Gradient = LUI.UIImage.new()
	Gradient.id = "Gradient"
	Gradient:SetAlpha( 0.8, 0 )
	Gradient:setImage( RegisterMaterial( "widg_gradient_center_out" ), 0 )
	Gradient:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 45 )
	self:addElement( Gradient )
	self.Gradient = Gradient
	
	local GradientDark = nil
	
	GradientDark = LUI.UIImage.new()
	GradientDark.id = "GradientDark"
	GradientDark:SetRGBFromTable( SWATCHES.HUD.HUDShadow, 0 )
	GradientDark:SetAlpha( 0.8, 0 )
	GradientDark:setImage( RegisterMaterial( "ui_mp_br_splash_banner_texture_gradiant_vg1" ), 0 )
	GradientDark:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 2, _1080p * 43 )
	self:addElement( GradientDark )
	self.GradientDark = GradientDark
	
	local GradientLineBottom = nil
	
	GradientLineBottom = LUI.UIImage.new()
	GradientLineBottom.id = "GradientLineBottom"
	GradientLineBottom:SetAlpha( 0.5, 0 )
	GradientLineBottom:setImage( RegisterMaterial( "widg_gradient_center_out" ), 0 )
	GradientLineBottom:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 43, _1080p * 45 )
	self:addElement( GradientLineBottom )
	self.GradientLineBottom = GradientLineBottom
	
	local GradientLineTop = nil
	
	GradientLineTop = LUI.UIImage.new()
	GradientLineTop.id = "GradientLineTop"
	GradientLineTop:SetAlpha( 0.5, 0 )
	GradientLineTop:setImage( RegisterMaterial( "widg_gradient_center_out" ), 0 )
	GradientLineTop:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 2 )
	self:addElement( GradientLineTop )
	self.GradientLineTop = GradientLineTop
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local7 = nil
	Gradient:RegisterAnimationSequence( "Pulse", {
		{
			value = 5.29462817E-315,
			duration = 500,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.inQuadratic
		},
		{
			value = 1,
			duration = 500,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.outQuadratic
		}
	} )
	self._sequences.Pulse = function ()
		menu:AnimateLoop( "Pulse" )
	end
	
	local f1_local8 = nil
	Gradient:RegisterAnimationSequence( "NoPulse", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.NoPulse = function ()
		menu:AnimateSequence( "NoPulse" )
	end
	
	local f1_local9 = nil
	Gradient:RegisterAnimationSequence( "PulseFast", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 5.29462817E-315,
			duration = 250,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.inQuadratic
		},
		{
			value = 1,
			duration = 250,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.outQuadratic
		}
	} )
	self._sequences.PulseFast = function ()
		menu:AnimateLoop( "PulseFast" )
	end
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "GenericProgressGradientBg", GenericProgressGradientBg )
LockTable( _M )
