-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:01
module( ..., package.seeall )
require( "ui.generated.widgets.checkboxwithimagelabel" )
require( "ui.generated.widgets.genericeditbox" )
require( "ui.generated.widgets.genericbutton" )
require( "ui.generated.widgets.buttonhelperbar" )
local f0_local0 = function ( f16_arg0, f16_arg1 )
	f16_arg0.DetailsEditBox:SetupGenericEditBox( f16_arg1, {
		alwaysSendTypingEvents = true,
		maxInputStringLength = 200,
		isNumeric = false,
		isPassword = false,
		autoConfirmOnTab = true,
		useAutoAlign = true,
		scaleTextEditToFullSize = false,
		isNumericEmpty = false,
		autoConfirmOnOutsideClick = true,
		autoSelectAllOnActive = true,
		alignment = LUI.Alignment.Left,
		focusType = FocusType.MouseOver,
		defaultValue = Engine[0xED84C33EC5F01EA]( 0x1BCC3A728C45A3E ),
		textSelectionColor = COLORS.styleGuideCool03,
		name = f16_arg0.isGroupReport and Engine[0xED84C33EC5F01EA]( 0xB48C54A84A9D428 ) or Engine[0xED84C33EC5F01EA]( 0x83581AB5B0DB4DC )
	} )
	f16_arg0.DetailsEditBox:SetTextEditCompleteCallback( function ( f17_arg0, f17_arg1 )
		f16_arg0.DetailsEditBox:processEvent( {
			name = "lose_focus"
		} )
		f16_arg0.SendReportButton:processEvent( {
			name = "gain_focus"
		} )
	end )
end

local f0_local1 = function ( f7_arg0, f7_arg1, f7_arg2 )
	assert( 0 < #f7_arg2 )
	f7_arg0.isGroupReport = f7_arg2.isGroupReport
	f7_arg0.lastGridItemInFocus = nil
	f7_arg0.DetailsEditBox.navigation = {}
	f7_arg0.DetailsEditBox.navigation.up = f7_arg0.ReasonsGrid
	f7_arg0.DetailsEditBox.navigation.down = f7_arg0.SendReportButton
	f7_arg0.DetailsEditBox.navigation.left = f7_arg0.ReasonsGrid
	f0_local0( f7_arg0, f7_arg1 )
	local f7_local0 = ""
	for f7_local4, f7_local5 in ipairs( f7_arg2 ) do
		assert( f7_local5.xuidString or f7_local5.xuid )
		assert( 0 < #f7_local5.fullName )
		f7_local0 = f7_local0 .. f7_local5.fullName .. " "
	end
	f7_local0 = String.Trim( f7_local0 )
	f7_arg0.Title:setText( f7_arg0.isGroupReport and Engine[0xED84C33EC5F01EA]( 0xB48C54A84A9D428 ) or Engine[0xED84C33EC5F01EA]( 0x83581AB5B0DB4DC ) )
	f7_arg0.Description:setText( Engine[0xED84C33EC5F01EA]( 0x40BCBCDE4D698EA, Engine[0x7D3158A9539A355]( f7_local0 ) ) )
	f7_arg0.ReportAndBlockButton:SetVisible( not f7_arg0.isGroupReport )
	f7_arg0.ReportAndBlockButton:SetButtonDisabled( true )
	f7_arg0.SendReportButton:SetButtonDisabled( true )
	f7_local1 = f7_arg0.ReasonsGrid:GetBuiltChildren()
	f7_arg0.lastGridItemInFocus = f7_local1[1]
	f7_local2 = function ( f15_arg0, f15_arg1, f15_arg2 )
		f15_arg0.navigation = {}
		f15_arg0.navigation.right = f7_arg0.DetailsEditBox
		local f15_local0 = f15_arg2 + 1
		if f15_local0 == (f7_arg0.isGroupReport and #SOCIAL.GroupReportReasons or #SOCIAL.PlayerReportReasons) then
			f15_arg0.navigation.down = f7_arg0.DetailsEditBox
		end
		f15_arg0.PlayerReportGridButton.GenericButton:SetText( Engine[0xED84C33EC5F01EA]( f7_arg0.isGroupReport and SOCIAL.GroupReportReasons[f15_local0].title or SOCIAL.PlayerReportReasons[f15_local0].title ) )
		f15_arg0.offense = f7_arg0.isGroupReport and SOCIAL.GroupReportReasons[f15_local0].id or SOCIAL.PlayerReportReasons[f15_local0].id
	end
	
	f7_arg0.ReasonsGrid:SetNumChildren( f7_arg0.isGroupReport and #SOCIAL.GroupReportReasons or #SOCIAL.PlayerReportReasons )
	f7_arg0.ReasonsGrid:SetRefreshChild( f7_local2 )
	f7_arg0.ReasonsGrid:FocusFirstItem()
	f7_arg0.ReasonsGrid:registerEventHandler( "child_focus_changed", function ( element, event )
		local f14_local0 = event.focusIndex and event.focusIndex + 1 or 1
		local f14_local1 = f7_arg0.ReasonsGrid:GetBuiltChildren()
		if f14_local1[f14_local0] ~= nil then
			f7_arg0.lastGridItemInFocus.PlayerReportGridButton.Marker:SetVisible( false )
			f7_arg0.lastGridItemInFocus = f14_local1[f14_local0]
			f7_arg0.lastGridItemInFocus.PlayerReportGridButton.Marker:SetVisible( true )
		end
		local f14_local2 = f7_arg0.isGroupReport and SOCIAL.GroupReportReasons[f14_local0] or SOCIAL.PlayerReportReasons[f14_local0]
		if f14_local2.title and f14_local2.description then
			f7_arg0.ReasonsDescriptionTitle:setText( Engine[0xED84C33EC5F01EA]( f14_local2.title ) )
			f7_arg0.ReasonDescription:setText( Engine[0xED84C33EC5F01EA]( f14_local2.description ) )
		end
	end )
	f7_local3 = function ( f13_arg0, f13_arg1 )
		if not f13_arg0.isGroupReport then
			local f13_local0 = f13_arg0.ReasonsGrid:GetBuiltChildren()
			for f13_local7, f13_local8 in ipairs( f13_arg1 ) do
				local f13_local9 = type( f13_local8.xuid ) and f13_local8.xuid or Friends[0x7E6685E08C0BB92]( f13_local8.xuidString or f13_local8.xuid )
				for f13_local4, f13_local5 in ipairs( f13_local0 ) do
					if f13_local5.CheckBox:GetValue() then
						Lobby[0xB8E4BED7A51DD1A]( f7_arg0, f13_local9, f13_local5.offense, f13_local5.details or "" )
					end
				end
			end
			if CONDITIONS.InFrontend() or IsMenuInStack( Engine[0xEE6F69FEA944B13](), CoD.GetPauseMenu() ) then
				ACTIONS.OpenMenu( "ReportThanksMenu", true, f7_arg0, false )
			elseif CONDITIONS.InGame() then
				LUI.FlowManager.RequestLeaveMenu( f13_arg0 )
				if IsMenuInStack( Engine[0xEE6F69FEA944B13](), "ReportPlayerSelectMenu" ) then
					LUI.FlowManager.RequestLeaveMenuByName( "ReportPlayerSelectMenu" )
				end
				f13_arg0:dispatchEventToRoot( {
					name = "send_toast_notification",
					immediate = true,
					options = {
						icon = "hud_info_alert",
						description = Engine[0xED84C33EC5F01EA]( 0xE97CB8839E9D646 ),
						controllerIndex = f7_arg0
					}
				} )
			else
				
			end
		end
	end
	
	f7_local4 = function ( f12_arg0, f12_arg1 )
		for f12_local3, f12_local4 in ipairs( f12_arg1 ) do
			local f12_local5 = Friends[0x5065E759595C457]( type( f12_local4.xuid ) and f12_local4.xuid or Friends[0x7E6685E08C0BB92]( f12_local4.xuidString or f12_local4.xuid ) )
			if f12_local5 ~= f12_local4.platformId then
				Social[0x668F2AB72D9D39F]( f12_arg1.controllerIndex, f12_local5 )
			else
				Social[0xBA84F92B6D4F69B]( f12_arg1.controllerIndex, f12_local5 )
			end
		end
	end
	
	f7_arg0._numCheckedReasons = 0
	f7_arg0.ReasonsGrid:addEventHandler( "checkbox_changed", function ( f11_arg0, f11_arg1 )
		local f11_local0 = f7_arg0
		local f11_local1 = f7_arg0._numCheckedReasons
		local f11_local2
		if f11_arg1.val then
			f11_local2 = 1
		else
			f11_local2 = -1
		end
		f11_local0._numCheckedReasons = f11_local1 + f11_local2
		f7_arg0.ReportAndBlockButton:SetButtonDisabled( f7_arg0._numCheckedReasons <= 0 )
		f7_arg0.SendReportButton:SetButtonDisabled( f7_arg0._numCheckedReasons <= 0 )
	end )
	f7_arg0.SendReportButton:addEventHandler( "button_action", function ( f10_arg0, f10_arg1 )
		f7_arg0( f7_arg0, f7_arg0 )
	end )
	f7_arg0.ReportAndBlockButton:addEventHandler( "button_action", function ( f9_arg0, f9_arg1 )
		f7_arg0( f7_arg0, f7_arg0 )
		f7_arg0( f7_arg0, f7_arg0 )
	end )
	f7_arg0:addEventHandler( "menu_create", function ( f8_arg0, f8_arg1 )
		f7_arg0.HelperBarTop.ButtonHelperText:PopButtonPrompt( {
			button_ref = "button_alt2"
		} )
		f7_arg0.HelperBarBottom.ButtonHelperText:PopButtonPrompt( {
			button_ref = "button_secondary"
		} )
	end )
end

function PlayerReportMenu( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "PlayerReportMenu"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Blur = nil
	
	Blur = LUI.UIBlur.new()
	Blur.id = "Blur"
	ACTIONS.ScaleFullscreen( Blur )
	Blur:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	Blur:SetAlpha( 0.9, 0 )
	Blur:setPriority( -1 )
	Blur:SetBlurStrength( 5, 0 )
	Blur:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 128, 0, _1080p * 128 )
	self:addElement( Blur )
	self.Blur = Blur
	
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	ACTIONS.ScaleFullscreen( Darkener )
	Darkener:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Darkener:SetAlpha( 0.8, 0 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	local Title = nil
	
	Title = LUI.UIStyledText.new()
	Title.id = "Title"
	Title:SetRGBFromInt( 15198183, 0 )
	Title:setText( Engine[0xED84C33EC5F01EA]( 0x83581AB5B0DB4DC ), 0 )
	Title:setCaseStyle( LUI.CaseStyle.Uppercase )
	Title:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	Title:SetFontSize( 70 * _PT )
	Title:SetMinFontSize( 70 * _PT )
	Title:SetWordWrap( false )
	Title:SetAlignment( LUI.Alignment.Center )
	Title:SetVerticalAlignment( LUI.Alignment.Bottom )
	Title:SetAnchorsAndPosition( 0, 0, 0, 0.9167, 0, 0, _1080p * 90, _1080p * 90 )
	self:addElement( Title )
	self.Title = Title
	
	local ReasonsTitle = nil
	
	ReasonsTitle = LUI.UIStyledText.new()
	ReasonsTitle.id = "ReasonsTitle"
	ReasonsTitle:SetRGBFromInt( 15198183, 0 )
	ReasonsTitle:setText( Engine[0xED84C33EC5F01EA]( 0x496B5D7E843AFA7 ), 0 )
	ReasonsTitle:setCaseStyle( LUI.CaseStyle.Uppercase )
	ReasonsTitle:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	ReasonsTitle:SetFontSize( 28 * _PT )
	ReasonsTitle:SetMinFontSize( 28 * _PT )
	ReasonsTitle:SetWordWrap( true )
	ReasonsTitle:SetAlignment( LUI.Alignment.Left )
	ReasonsTitle:SetAnchorsAndPosition( 0, 0.7573, 0, 1, _1080p * 442, _1080p * 442, _1080p * 270, _1080p * 304 )
	self:addElement( ReasonsTitle )
	self.ReasonsTitle = ReasonsTitle
	
	local ReasonsDescriptionTitle = nil
	
	ReasonsDescriptionTitle = LUI.UIStyledText.new()
	ReasonsDescriptionTitle.id = "ReasonsDescriptionTitle"
	ReasonsDescriptionTitle:setText( Engine[0xED84C33EC5F01EA]( 0x10FB291C6A7F978 ), 0 )
	ReasonsDescriptionTitle:setCaseStyle( LUI.CaseStyle.Uppercase )
	ReasonsDescriptionTitle:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	ReasonsDescriptionTitle:SetFontSize( 28 * _PT )
	ReasonsDescriptionTitle:SetMinFontSize( 28 * _PT )
	ReasonsDescriptionTitle:SetWordWrap( true )
	ReasonsDescriptionTitle:SetAlignment( LUI.Alignment.Left )
	ReasonsDescriptionTitle:SetAnchorsAndPosition( 0, 0.6849, 0, 1, _1080p * 1029, _1080p * 1029, _1080p * 269, _1080p * 304 )
	self:addElement( ReasonsDescriptionTitle )
	self.ReasonsDescriptionTitle = ReasonsDescriptionTitle
	
	local NotificationTitle = nil
	
	NotificationTitle = LUI.UIStyledText.new()
	NotificationTitle.id = "NotificationTitle"
	NotificationTitle:SetRGBFromInt( 10134426, 0 )
	NotificationTitle:setText( Engine[0xED84C33EC5F01EA]( 0x2D56009D9195301 ), 0 )
	NotificationTitle:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	NotificationTitle:SetFontSize( 24 * _PT )
	NotificationTitle:SetMinFontSize( 24 * _PT )
	NotificationTitle:SetWordWrap( false )
	NotificationTitle:SetLeading( 4.8 * _1080p, 0 )
	NotificationTitle:SetAlignment( LUI.Alignment.Center )
	NotificationTitle:SetAnchorsAndPosition( 0, 0.2375, 0, 0.9111, _1080p * 228, _1080p * 228, _1080p * 793, _1080p * 793 )
	self:addElement( NotificationTitle )
	self.NotificationTitle = NotificationTitle
	
	local DetailsTitle = nil
	
	DetailsTitle = LUI.UIStyledText.new()
	DetailsTitle.id = "DetailsTitle"
	DetailsTitle:setText( Engine[0xED84C33EC5F01EA]( 0xCCCB7B7125E9307 ), 0 )
	DetailsTitle:setCaseStyle( LUI.CaseStyle.Uppercase )
	DetailsTitle:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	DetailsTitle:SetFontSize( 28 * _PT )
	DetailsTitle:SetMinFontSize( 28 * _PT )
	DetailsTitle:SetWordWrap( true )
	DetailsTitle:SetAlignment( LUI.Alignment.Left )
	DetailsTitle:SetAnchorsAndPosition( 0, 0.6917, 0, 1, _1080p * 1029, _1080p * 1029, _1080p * 521, _1080p * 555 )
	self:addElement( DetailsTitle )
	self.DetailsTitle = DetailsTitle
	
	local Description = nil
	
	Description = LUI.UIStyledText.new()
	Description.id = "Description"
	Description:SetRGBFromInt( 15198183, 0 )
	Description:setText( Engine[0xED84C33EC5F01EA]( 0x971B6894BA463D8 ), 0 )
	Description:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	Description:SetFontSize( 18 * _PT )
	Description:SetMinFontSize( 18 * _PT )
	Description:SetWordWrap( false )
	Description:SetLeading( 3.6 * _1080p, 0 )
	Description:SetAlignment( LUI.Alignment.Center )
	Description:SetAnchorsAndPosition( 0, 0.5729, 0, 0.913, _1080p * 549.98, _1080p * 549.98, _1080p * 191.96, _1080p * 176.04 )
	self:addElement( Description )
	self.Description = Description
	
	local ReasonDescription = nil
	
	ReasonDescription = LUI.UIStyledText.new()
	ReasonDescription.id = "ReasonDescription"
	ReasonDescription:setText( Engine[0xED84C33EC5F01EA]( 0x3166AC4D258E369 ), 0 )
	ReasonDescription:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	ReasonDescription:SetFontSize( 18 * _PT )
	ReasonDescription:SetMinFontSize( 18 * _PT )
	ReasonDescription:SetWordWrap( true )
	ReasonDescription:SetLeading( 3.6 * _1080p, 0 )
	ReasonDescription:SetAlignment( LUI.Alignment.Left )
	ReasonDescription:SetAnchorsAndPosition( 0, 0.6849, 0, 0.8398, _1080p * 1029, _1080p * 1029, _1080p * 327, _1080p * 327 )
	self:addElement( ReasonDescription )
	self.ReasonDescription = ReasonDescription
	
	local ReasonsGrid = nil
	
	ReasonsGrid = LUI.UIGrid.new( {
		maxVisibleColumns = 1,
		maxVisibleRows = 7,
		adjustSizeToContent = true,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "CheckboxWithImageLabel", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f5_arg0, f5_arg1, f5_arg2 )
			
		end,
		spacingY = _1080p * 12,
		columnWidth = _1080p * 445,
		rowHeight = _1080p * 32
	} )
	ReasonsGrid.id = "ReasonsGrid"
	ReasonsGrid:SetMaxVisibleRows( 7 )
	ReasonsGrid:SetRowSpacing( 12 )
	ReasonsGrid:setUseStencil( true )
	ReasonsGrid:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 446, _1080p * 891, _1080p * 328, _1080p * 624 )
	self:addElement( ReasonsGrid )
	self.ReasonsGrid = ReasonsGrid
	
	local DetailsEditBox = nil
	
	DetailsEditBox = MenuBuilder.BuildRegisteredType( "GenericEditBox", {
		controllerIndex = f1_local1
	} )
	DetailsEditBox.id = "DetailsEditBox"
	DetailsEditBox.Text:setText( Engine[0xED84C33EC5F01EA]( 0x1BCC3A728C45A3E ), 0 )
	DetailsEditBox:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1029, _1080p * 1621, _1080p * 570, _1080p * 630 )
	self:addElement( DetailsEditBox )
	self.DetailsEditBox = DetailsEditBox
	
	local SendReportButton = nil
	
	SendReportButton = MenuBuilder.BuildRegisteredType( "GenericButton", {
		controllerIndex = f1_local1
	} )
	SendReportButton.id = "SendReportButton"
	SendReportButton.Text:SetLeft( _1080p * 20, 0 )
	SendReportButton.Text:SetTop( _1080p * 1, 0 )
	SendReportButton.Text:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x10508C2E38C54A7 ) ), 0 )
	SendReportButton.Text:SetAlignment( LUI.Alignment.Center )
	SendReportButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 754, _1080p * 1165, _1080p * 859, _1080p * 918 )
	self:addElement( SendReportButton )
	self.SendReportButton = SendReportButton
	
	local ReportAndBlockButton = nil
	
	ReportAndBlockButton = MenuBuilder.BuildRegisteredType( "GenericButton", {
		controllerIndex = f1_local1
	} )
	ReportAndBlockButton.id = "ReportAndBlockButton"
	ReportAndBlockButton.Text:SetLeft( _1080p * 20, 0 )
	ReportAndBlockButton.Text:SetTop( _1080p * 1, 0 )
	ReportAndBlockButton.Text:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x927DB1D8578CD1F ) ), 0 )
	ReportAndBlockButton.Text:SetAlignment( LUI.Alignment.Center )
	ReportAndBlockButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 754, _1080p * 1165, _1080p * 938, _1080p * 997 )
	self:addElement( ReportAndBlockButton )
	self.ReportAndBlockButton = ReportAndBlockButton
	
	local HelperBarTop = nil
	
	HelperBarTop = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	HelperBarTop.id = "HelperBarTop"
	HelperBarTop.Background:SetAlpha( 0, 0 )
	HelperBarTop:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 85 )
	self:addElement( HelperBarTop )
	self.HelperBarTop = HelperBarTop
	
	local HelperBarBottom = nil
	
	HelperBarBottom = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	HelperBarBottom.id = "HelperBarBottom"
	HelperBarBottom.Background:SetAlpha( 0, 0 )
	HelperBarBottom:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	self:addElement( HelperBarBottom )
	self.HelperBarBottom = HelperBarBottom
	
	DetailsEditBox.navigation = {
		down = SendReportButton
	}
	SendReportButton.navigation = {
		up = DetailsEditBox,
		down = ReportAndBlockButton
	}
	ReportAndBlockButton.navigation = {
		up = SendReportButton
	}
	self.addButtonHelperFunction = function ( f4_arg0, f4_arg1 )
		f4_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine[0xED84C33EC5F01EA]( 0x678DCE0E97FD19C )
		} )
		f4_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_alt2",
			helper_text = Engine[0xED84C33EC5F01EA]( 0x2AB1541CFDA23F9 )
		} )
	end
	
	self:addEventHandler( "menu_create", self.addButtonHelperFunction )
	if not self.bindButton then
		local f1_local18 = LUI.UIBindButton.new()
		f1_local18.id = "selfBindButton"
		self:addElement( f1_local18 )
		self.bindButton = f1_local18
	end
	self.bindButton:addEventHandler( "button_secondary", function ( f3_arg0, f3_arg1 )
		local f3_local0 = f3_arg1.controller or menu
		ACTIONS.LeaveMenu( menu )
	end )
	self.bindButton:addEventHandler( "button_alt2", function ( f2_arg0, f2_arg1 )
		ACTIONS.OpenMenu( "CodeConduct", true, f2_arg1.controller or menu )
	end )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "PlayerReportMenu", PlayerReportMenu )
LockTable( _M )
