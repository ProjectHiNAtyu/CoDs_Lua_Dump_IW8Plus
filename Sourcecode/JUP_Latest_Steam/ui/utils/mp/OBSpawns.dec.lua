-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
OBSPAWNS = OBSPAWNS or {}
local f0_local0 = function ( f6_arg0, f6_arg1 )
	local f6_local0 = LUI.ShallowCopy( f6_arg0 )
	local f6_local1 = f6_arg1
	local f6_local2 = #f6_arg0 + 1
	for f6_local3 = 0, #f6_arg0, 1 do
		f6_local1 = (f6_local1 * 29 + 19) % 65535
		local f6_local6 = f6_local1 % f6_local2
		local f6_local7 = f6_local0[f6_local3]
		f6_local0[f6_local3] = f6_local0[f6_local6]
		f6_local0[f6_local6] = f6_local7
	end
	return f6_local0, f6_local1
end

local f0_local1 = function ( f5_arg0, f5_arg1 )
	local f5_local0 = f5_arg1:GetValue( f5_arg0.controllerIndex )
	if f5_local0 == nil then
		f5_local0 = 0
	else
		
	end
	local f5_local1 = LUI.DataSourceFromList.new( f5_arg1 )
	f5_local1.MakeDataSourceAtIndex = Lobby.GetLobbyMemberDataSourceAtIndex( f5_arg0.modelPath )
	local f5_local2 = {}
	local f5_local3 = 0
	if f5_local0 == 1 then
		local f5_local4 = f5_local1:MakeDataSourceAtIndex( 0, f5_arg0.controllerIndex )
		local f5_local5 = f5_local4.squad:GetValue( 0 ) or "nil"
		local f5_local6 = f5_local4.team:GetValue( 0 ) or "nil"
		local f5_local7 = f5_local4.memberIndex:GetValue( 0 ) or "nil"
		f5_local3 = math.random( 0, 3 )
		f5_local2 = {
			squad = f5_local5,
			team = f5_local6,
			memberIndex = f5_local7
		}
	else
		for f5_local4 = 0, f5_local0 - 1, 1 do
			local f5_local8 = f5_local1:MakeDataSourceAtIndex( f5_local4, f5_arg0.controllerIndex )
			if (f5_local8.isMyPlayer:GetValue( f5_local4 ) or "nil") == true then
				f5_local2 = {
					squad = f5_local8.squad:GetValue( f5_local4 ) or "nil",
					team = f5_local8.team:GetValue( f5_local4 ) or "nil",
					memberIndex = f5_local8.memberIndex:GetValue( f5_local4 ) or "nil"
				}
			end
		end
		for f5_local4 = 0, f5_local0 - 1, 1 do
			local f5_local8 = f5_local1:MakeDataSourceAtIndex( f5_local4, f5_arg0.controllerIndex )
			local f5_local9 = f5_local8.memberIndex:GetValue( f5_local4 )
			if f5_local9 and f5_local9 < f5_local2.memberIndex then
				f5_local3 = f5_local3 + 1
			end
		end
	end
	return f5_local2, f5_local3
end

local f0_local2 = function ( f4_arg0, f4_arg1, f4_arg2 )
	
end

OBSPAWNS.IsActive = function ()
	return not Dvar[0x9E5BE3B4BBA4E0E]( 0x84890CCFDC24D42 )
end

OBSPAWNS.OBParseSpawnCSV = function ( f2_arg0 )
	local f2_local0, f2_local1 = nil
	f2_local0 = StringTable[0xFD4E49A34DD43AE]( CSV.obSpawnPoints.file )
	f2_local1 = CSV.obSpawnPoints
	if not f2_local0 or not f2_local1 then
		return 
	end
	local f2_local2 = {}
	local f2_local3 = {}
	if 0 < f2_local0 then
		for f2_local4 = 0, f2_local0 - 1, 1 do
			local f2_local7 = CSV.ReadRow( f2_local1, f2_local4 )
			f2_local7.origin = LUI.Split( f2_local7.origin, " " )
			f2_local7.origin = {
				x = tonumber( f2_local7.origin[1] ),
				y = tonumber( f2_local7.origin[2] ),
				z = tonumber( f2_local7.origin[3] )
			}
			f2_local2[f2_local4] = f2_local7.origin
		end
	end
	f2_arg0.parent._startPoints = f2_local2
end

OBSPAWNS.OBSetSpawnPoints = function ( f1_arg0, f1_arg1 )
	local f1_local0, f1_local1 = f0_local0( f1_arg0, f1_arg1 )
	local f1_local2 = nil
	if Dvar[0x22EAAB59AA27E9B]( 0x992C14B065D0767 ) ~= nil then
		f1_local2 = Dvar[0x22EAAB59AA27E9B]( 0x992C14B065D0767 )
	else
		f1_local2 = BitwiseOperators.band( Lobby[0x12FE027CBF76CC2]( f1_arg0.controllerIndex ), 65535 )
	end
	local f1_local3 = f0_local0( f1_arg0.parent._startPoints, f1_local2 )
	local f1_local4 = nil
	local f1_local5 = Enum[0xB5F7211BC6A0B2D][0xDFDA2AD70E380F8]
	local f1_local6 = f1_local0.squad
	if 0 <= f1_local6 and f1_local3[f1_local6] ~= nil then
		f1_local4 = f1_local3[f1_local6]
	end
	if f1_local4 == nil then
		f1_local4 = {
			z = 20000,
			x = 0,
			y = 0
		}
		f1_local5 = Enum[0xB5F7211BC6A0B2D][0xDFDA3AD70E382AB]
	end
	if Engine[0x2DA54CF5D6B7F02]() or Engine[0xDD9D856EA1C159E]() then
		f0_local0( f1_local4, f1_local0, f1_local2 )
	end
	Engine[0xC06EA6E6B3A9910]()
	Engine[0x3C28A1C507DA8F6]( {
		f1_local4.x,
		f1_local4.y,
		f1_local4.z
	}, f1_local5, Enum[0x3167DD8227C7331][0xB15802F301D9203], true )
end

