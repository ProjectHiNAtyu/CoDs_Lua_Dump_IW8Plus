-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = function ( f4_arg0, f4_arg1, f4_arg2 )
	if Tournament.DFHHDFDDFJ( f4_arg1 ) then
		LUI.FlowManager.RequestPopupMenu( nil, "TournamentWarningPopup", true, f4_arg1, false )
	end
	local f4_local0 = Tournament.BBAFFAGGHC( f4_arg1 )
	f4_arg0.SignUpButtonHold:SetButtonDisabled( f4_local0 )
	f4_arg0.SignUpButton:SetButtonDisabled( f4_local0 )
	local f4_local1 = Tournament.DGCIDGIIHE()
	f4_arg0.SignUpButtonHold.Text:setText( Engine.CBBHFCGDIC( "Tournament/SIGN_UP", f4_local1 ) )
	f4_arg0.SignUpButton.Text:setText( Engine.CBBHFCGDIC( "Tournament/SIGN_UP", f4_local1 ) )
	local f4_local2 = function ()
		local f9_local0 = Lobby.GFFECBCCF()
		local f9_local1 = Lobby.BGIADHIHAG()
		local f9_local2
		if f9_local0 then
			f9_local2 = f9_local0
		else
			f9_local2 = not f9_local1
		end
		f4_arg0.SignUpButtonHold:SetButtonDisabled( f9_local2 )
		f4_arg0.SignUpButton:SetButtonDisabled( f9_local2 )
		if f9_local2 then
			LUI.FlowManager.RequestLeaveMenu( f4_arg0, true, nil )
		end
	end
	
	local f4_local3 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.areWeGameHost" )
	local f4_local4 = DataSources.frontEnd.lobby.memberCount
	f4_arg0:SubscribeToModel( f4_local3:GetModel( f4_arg1 ), f4_local2 )
	f4_arg0:SubscribeToModel( f4_local4:GetModel( f4_arg1 ), f4_local2 )
	local f4_local5 = function ()
		if not Tournament.BHAEFIFBBA() then
			LUI.FlowManager.RequestPopupMenu( nil, "dc_qos_failed_warning", false, f4_arg0, false, {} )
			return 
		elseif not Tournament.BBAFFAGGHC( f4_arg0 ) and TOURNAMENT.DoEntranceCheck( f4_arg0 ) then
			Tournament.CFABIDCGC( f4_arg0 )
		end
	end
	
	f4_arg0.SignUpButton:registerEventHandler( "button_action", function ( element, event )
		LUI.FlowManager.RequestPopupMenu( nil, "ModularWarningPopup", true, f4_arg0, false, {
			warningMessage = "MPUI/TOURNAMENT_BEGIN_POPUP_CONFIRMATION",
			yesAction = f4_arg0
		} )
	end )
	LUI.AddUIHoldButtonLogic( f4_arg0.SignUpButtonHold, f4_arg1, {
		requireFocus = true,
		duration = 1000,
		buttons = {
			primary = true
		},
		fill = f4_arg0.SignUpButtonHold.GenericProgressBar,
		onFill = f4_local5
	} )
	f4_arg0:addAndCallEventHandler( "update_input_type", function ( f6_arg0, f6_arg1 )
		if LUI.IsLastInputGamepad( f6_arg1.controllerIndex ) then
			f6_arg0.SignUpButton:SetAlpha( 0 )
			f6_arg0.SignUpButton:SetHandleMouse( false )
			f6_arg0.SignUpButton:SetFocusable( false )
			f6_arg0.SignUpButtonHold:SetAlpha( 1 )
			f6_arg0.SignUpButtonHold:SetHandleMouse( true )
			f6_arg0.SignUpButtonHold:SetFocusable( true )
		else
			f6_arg0.SignUpButtonHold:SetAlpha( 0 )
			f6_arg0.SignUpButtonHold:SetHandleMouse( false )
			f6_arg0.SignUpButtonHold:SetFocusable( false )
			f6_arg0.SignUpButton:SetAlpha( 1 )
			f6_arg0.SignUpButton:SetHandleMouse( true )
			f6_arg0.SignUpButton:SetFocusable( true )
		end
	end, {
		controllerIndex = f4_arg1
	} )
	f4_arg0.YourWallet:setText( Engine.CBBHFCGDIC( "Tournament/YOUR_WALLET", tonumber( Commerce.CEDDCGHIGA( f4_arg1, LOOT.CurrencyIDs.COD_POINTS ) ) ) )
	local f4_local6 = function ()
		if Tournament.BBAFFAGGHC( f4_arg0 ) then
			LUI.FlowManager.RequestAddMenu( "TournamentLoadingScreen", false, f4_arg0, true, {}, true )
		end
	end
	
	local self = LUI.UITimer.new( {
		interval = 500,
		event = "update_lobby_status"
	} )
	self.id = "lobbyStatusTimer"
	f4_arg0:addElement( self )
	f4_arg0:registerEventHandler( "update_lobby_status", f4_local6 )
	f4_local6()
	LAYOUT.AddAspectRatioFadeFrame( f4_arg0, f4_arg1 )
	ACTIONS.ScaleFullscreen( f4_arg0.Background )
end

function TournamentSignUp( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "TournamentSignUp"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromTable( SWATCHES.CAC.attachShade, 0 )
	Background:SetAlpha( 0.8, 0 )
	Background:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 1920, 0, 0 )
	self:addElement( Background )
	self.Background = Background
	
	local PopupBackground = nil
	
	PopupBackground = LUI.UIImage.new()
	PopupBackground.id = "PopupBackground"
	PopupBackground:SetRGBFromTable( SWATCHES.Global.keyColor, 0 )
	PopupBackground:SetAlpha( 0.4, 0 )
	PopupBackground:SetPixelGridEnabled( true )
	PopupBackground:SetPixelGridContrast( 0.5, 0 )
	PopupBackground:SetPixelGridBlockWidth( 2, 0 )
	PopupBackground:SetPixelGridBlockHeight( 2, 0 )
	PopupBackground:SetPixelGridGutterWidth( 1, 0 )
	PopupBackground:SetPixelGridGutterHeight( 1, 0 )
	PopupBackground:setImage( RegisterMaterial( "widg_gradient_bottom_to_top" ), 0 )
	PopupBackground:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -486, _1080p * 470 )
	self:addElement( PopupBackground )
	self.PopupBackground = PopupBackground
	
	local Title = nil
	
	Title = LUI.UIStyledText.new()
	Title.id = "Title"
	Title:SetRGBFromTable( SWATCHES.Lobby.Header2, 0 )
	Title:setText( ToUpperCase( Engine.CBBHFCGDIC( "MPUI/ARENA" ) ), 0 )
	Title:SetFont( FONTS.GetFont( FONTS.MainLight.File ) )
	Title:SetWordWrap( false )
	Title:SetAlignment( LUI.Alignment.Left )
	Title:SetDecodeLetterLength( 50 )
	Title:SetDecodeMaxRandChars( 2 )
	Title:SetDecodeUpdatesPerLetter( 10 )
	Title:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 265, _1080p * 726, _1080p * 72, _1080p * 200 )
	self:addElement( Title )
	self.Title = Title
	
	local IconGameMode = nil
	
	IconGameMode = LUI.UIImage.new()
	IconGameMode.id = "IconGameMode"
	IconGameMode:setImage( RegisterMaterial( "icon_mp_mode_arena" ), 0 )
	IconGameMode:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -830, _1080p * -707, _1080p * -463, _1080p * -340 )
	self:addElement( IconGameMode )
	self.IconGameMode = IconGameMode
	
	local TournamentDetails = nil
	
	TournamentDetails = MenuBuilder.BuildRegisteredType( "TournamentDetails", {
		controllerIndex = f1_local1
	} )
	TournamentDetails.id = "TournamentDetails"
	TournamentDetails:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 929, _1080p * 223, _1080p * 873 )
	self:addElement( TournamentDetails )
	self.TournamentDetails = TournamentDetails
	
	local SignUpButton = nil
	
	SignUpButton = MenuBuilder.BuildRegisteredType( "GenericButton", {
		controllerIndex = f1_local1
	} )
	SignUpButton.id = "SignUpButton"
	SignUpButton.Text:setText( ToUpperCase( "" ), 0 )
	SignUpButton.Text:SetAlignment( LUI.Alignment.Center )
	SignUpButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 750, _1080p * 1170, _1080p * 905, _1080p * 943 )
	self:addElement( SignUpButton )
	self.SignUpButton = SignUpButton
	
	local SignUpButtonHold = nil
	
	SignUpButtonHold = MenuBuilder.BuildRegisteredType( "GenericHoldButton", {
		controllerIndex = f1_local1
	} )
	SignUpButtonHold.id = "SignUpButtonHold"
	SignUpButtonHold.Text:setText( ToUpperCase( "" ), 0 )
	SignUpButtonHold.Text:SetAlignment( LUI.Alignment.Center )
	SignUpButtonHold:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 750, _1080p * 1170, _1080p * 905, _1080p * 943 )
	self:addElement( SignUpButtonHold )
	self.SignUpButtonHold = SignUpButtonHold
	
	local TournamentRewards = nil
	
	TournamentRewards = MenuBuilder.BuildRegisteredType( "TournamentRewards", {
		controllerIndex = f1_local1
	} )
	TournamentRewards.id = "TournamentRewards"
	TournamentRewards:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 990, _1080p * 1790, _1080p * 223, _1080p * 873 )
	self:addElement( TournamentRewards )
	self.TournamentRewards = TournamentRewards
	
	local BackText = nil
	
	BackText = LUI.UIStyledText.new()
	BackText.id = "BackText"
	BackText:setText( Engine.CBBHFCGDIC( "PLATFORM/BACK" ), 0 )
	BackText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	BackText:SetWordWrap( false )
	BackText:SetAlignment( LUI.Alignment.Center )
	BackText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 5, _1080p * 201, _1080p * 494, _1080p * 514 )
	self:addElement( BackText )
	self.BackText = BackText
	
	local SelectText = nil
	
	SelectText = LUI.UIStyledText.new()
	SelectText.id = "SelectText"
	SelectText:setText( Engine.CBBHFCGDIC( "PLATFORM/SELECT" ), 0 )
	SelectText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	SelectText:SetWordWrap( false )
	SelectText:SetAlignment( LUI.Alignment.Center )
	SelectText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -215, _1080p * 2, _1080p * 494, _1080p * 514 )
	self:addElement( SelectText )
	self.SelectText = SelectText
	
	local YourWallet = nil
	
	YourWallet = LUI.UIText.new()
	YourWallet.id = "YourWallet"
	YourWallet:setText( "", 0 )
	YourWallet:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	YourWallet:SetAlignment( LUI.Alignment.Center )
	YourWallet:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 768, _1080p * 1152, _1080p * 957, _1080p * 979 )
	self:addElement( YourWallet )
	self.YourWallet = YourWallet
	
	self.addButtonHelperFunction = function ( f3_arg0, f3_arg1 )
		f3_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU/BACK" )
		} )
	end
	
	self:addEventHandler( "menu_create", self.addButtonHelperFunction )
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "selfBindButton"
	self:addElement( bindButton )
	self.bindButton = bindButton
	
	self.bindButton:addEventHandler( "button_secondary", function ( f2_arg0, f2_arg1 )
		local f2_local0 = f2_arg1.controller or menu
		ACTIONS.LeaveMenu( menu )
	end )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "TournamentSignUp", TournamentSignUp )
LockTable( _M )
