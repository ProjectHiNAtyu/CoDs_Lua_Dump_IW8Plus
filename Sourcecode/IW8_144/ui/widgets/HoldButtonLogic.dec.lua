-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
local f0_local0 = function ( f12_arg0 )
	f12_arg0._options.fill:SetProgress( 0, f12_arg0._options.emptyDuration, LUI.EASING.inQuadratic )
	f12_arg0._options.fill:SetAlpha( 1, 350, LUI.EASING.inCubic )
	f12_arg0.fillTween = nil
end

local f0_local1 = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0._options = f3_arg2
	f3_arg0:registerEventHandler( "mousedown", function ( element, event )
		element:processEvent( {
			isMouse = true,
			name = "gamepad_button",
			button = "primary",
			down = true
		} )
	end )
	f3_arg0:registerEventHandler( "mouseup", function ( element, event )
		element:processEvent( {
			isMouse = true,
			name = "gamepad_button",
			button = "primary",
			down = false
		} )
	end )
	if f3_arg0._options.requireFocus then
		f3_arg0:addEventHandler( "lose_focus", function ( f9_arg0, f9_arg1 )
			f9_arg0:ReleaseButton()
		end )
	end
	f3_arg0:addEventHandler( "gamepad_button", function ( f4_arg0, f4_arg1 )
		local f4_local0 = "onProgress"
		local f4_local1 = "onCancel"
		local f4_local2 = "onConfirm"
		local f4_local3 = f3_arg0._options
		local f4_local4 = f4_local3.soundFX
		local f4_local5 = f4_local3.animations
		local f4_local6 = false
		local f4_local7
		if f4_local5 then
			f4_local7 = f4_local5.target
			if not f4_local7 then
			
			else
				if not f4_local3.buttons[f4_arg1.button] then
					
				else
					
				end
				f4_arg1.controller = f3_arg0
				if f4_local3.requireFocus and not f4_arg0:isInFocus() then
					
				else
					
				end
				local f4_local8 = f4_local3.onFillParams
				local f4_local9 = function ( f8_arg0 )
					if f4_arg0 then
						assert( type( f4_arg0 ) == "table" )
						f4_arg0.onFill( f8_arg0, f4_arg0 )
					else
						f4_arg0:onFill()
					end
				end
				
				if f4_local3.clickKeyboardAndMouse and (f4_arg1.qualifier == ButtonQualifiers.Keyboard or f4_arg1.isMouse) then
					f4_local9( f4_arg1 )
					f4_local6 = true
				end
				local f4_local10 = function ( f7_arg0 )
					local f7_local0 = f4_arg0
					if f7_local0 then
						f7_local0 = f4_arg0[f7_arg0]
						if f7_local0 then
							f7_local0 = f4_arg0.gamepadOnly
							if f7_local0 then
								f7_local0 = not f4_arg0
							end
						end
					end
					return f7_local0
				end
				
				local f4_local11 = function ( f6_arg0 )
					local f6_local0 = f4_arg0
					if f6_local0 then
						f6_local0 = f4_arg0[f6_arg0]
						if f6_local0 then
							f6_local0 = f4_arg0.gamepadOnly
							if f6_local0 then
								f6_local0 = not f4_arg0
							end
						end
					end
					return f6_local0
				end
				
				if not f4_arg1.down then
					f4_arg0:ReleaseButton()
					if f4_local10( f4_local1 ) then
						Engine.BJDBIAGIDA( f4_local4.onCancel )
					end
					if f4_local11( f4_local1 ) then
						ACTIONS.AnimateSequence( f4_local7, f4_local5.onCancel )
					end
					return 
				elseif f4_arg0.disabled then
					return 
				elseif f4_local10( f4_local0 ) then
					Engine.BJDBIAGIDA( f4_local4.onProgress )
				end
				if f4_local11( f4_local0 ) then
					ACTIONS.AnimateSequence( f4_local7, f4_local5.onProgress )
				end
				if not f4_arg0.fillTween then
					f4_local3.fill:SetProgress( 0, 0 )
					f4_arg0.fillTween = f4_local3.fill:SetProgress( 1, f4_local3.duration, LUI.EASING.inOutQuadratic )
					local f4_local12 = f4_arg0.fillTween
					f4_arg0.fillTween.onComplete = function ()
						if f4_arg0.fillTween ~= f4_arg0 then
							return 
						end
						f4_arg0.fill:SetAlpha( 0, 350, LUI.EASING.inCubic )
						f4_arg0( f4_arg0 )
						if f4_arg0( f4_arg0 ) then
							Engine.BJDBIAGIDA( f4_arg0.onConfirm )
						end
						if f4_arg0( f4_arg0 ) then
							ACTIONS.AnimateSequence( f4_arg0, f4_arg0.onConfirm )
						end
					end
					
				end
			end
		end
		f4_local7 = f4_arg0
	end )
end

local f0_local2 = function ( f2_arg0, f2_arg1 )
	assert( f2_arg0._options )
	assert( f2_arg0._options.duration )
	f2_arg0._options.duration = f2_arg1
end

LUI.AddUIHoldButtonLogic = function ( f1_arg0, f1_arg1, f1_arg2 )
	assert( f1_arg2.fill )
	assert( f1_arg2.fill.SetProgress )
	assert( f1_arg2.onFill )
	assert( f1_arg2.duration )
	f1_arg2.buttons = f1_arg2.buttons or {
		primary = true
	}
	f1_arg2.emptyDuration = f1_arg2.emptyDuration or 150
	if f1_arg2.requireFocus == nil then
		f1_arg2.requireFocus = true
	end
	f1_arg2.clickKeyboardAndMouse = f1_arg2.clickKeyboardAndMouse or false
	f0_local0( f1_arg0, f1_arg1, f1_arg2 )
	f1_arg0.UpdateDuration = f0_local0
	f1_arg0.ReleaseButton = f0_local0
end

