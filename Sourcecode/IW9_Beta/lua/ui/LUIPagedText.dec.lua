-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
LUI.UIPagedText = LUI.Class( LUI.UIStyledText )
LUI.UIPagedText.init = function ( f15_arg0 )
	LUI.UIPagedText.super.init( f15_arg0 )
	f15_arg0._textPageHeight = 500 * _1080p
	f15_arg0._curPage = 1
	f15_arg0._maxCharsPerPage = -1
	f15_arg0._textPages = {}
	f15_arg0._layoutInitialized = false
	f15_arg0:SetNotifyOnLayoutInit( true )
	f15_arg0:addEventHandler( "prev_page", LUI.UIPagedText.PrevPage )
	f15_arg0:addEventHandler( "next_page", LUI.UIPagedText.NextPage )
	f15_arg0:addEventHandler( "layout_initialized", function ( f17_arg0, f17_arg1 )
		f17_arg0._layoutInitialized = true
		if f17_arg0._text ~= nil then
			f17_arg0:setText( f17_arg0._text, nil, f17_arg0._markLocalized, f17_arg0._maxCharsPerPage )
			if f17_arg0.OnFirstSetTextDone then
				f17_arg0:OnFirstSetTextDone()
			end
		end
	end )
	f15_arg0:addEventHandler( "gamepad_button", function ( f16_arg0, f16_arg1 )
		return f16_arg0:GamepadButton( f16_arg1 )
	end )
	LUI.UIElement.SetHandleMouse( f15_arg0, true )
end

LUI.UIPagedText.RecalculatePages = function ( f14_arg0 )
	if f14_arg0._text ~= nil then
		f14_arg0._textPages = f14_arg0:GetPagedText( f14_arg0._text, f14_arg0._textPageHeight, f14_arg0._maxCharsPerPage )
		f14_arg0._curPage = 1
	else
		f14_arg0._textPages = {}
	end
end

LUI.UIPagedText.UpdatePageNumText = function ( f13_arg0 )
	if f13_arg0._pageNumDisplayDatasource ~= nil then
		local f13_local0 = nil
		if Engine[0x12586A3F4FB490E]() then
			local f13_local1 = LUI.FlowManager.GetScopedData( f13_arg0 )
			assert( f13_local1 )
			f13_local0 = f13_local1.controllerIndex
		else
			f13_local0 = f13_arg0:getRootController()
		end
		if 0 < #f13_arg0._textPages and f13_arg0._curPage <= #f13_arg0._textPages then
			f13_arg0._pageNumDisplayDatasource:SetValue( f13_local0, f13_arg0._curPage .. " / " .. #f13_arg0._textPages )
		else
			f13_arg0._pageNumDisplayDatasource:SetValue( f13_local0, "" )
		end
	end
end

LUI.UIPagedText.setText = function ( f12_arg0, f12_arg1, f12_arg2, f12_arg3, f12_arg4 )
	f12_arg0._text = f12_arg1
	f12_arg0._markLocalized = f12_arg3
	local f12_local0
	if not f12_arg4 then
		f12_local0 = f12_arg4
	else
		f12_local0 = -1
	end
	f12_arg0._maxCharsPerPage = f12_local0
	if f12_arg0._layoutInitialized then
		f12_arg0:RecalculatePages()
		if 0 < #f12_arg0._textPages and f12_arg0._curPage <= #f12_arg0._textPages then
			f12_local0 = f12_arg0._textPages[f12_arg0._curPage]
			if f12_arg0._markLocalized then
				f12_local0 = Engine[0x7D3158A9539A355]( f12_local0 )
			end
			f12_arg0:setTextInC( f12_local0, f12_arg2 )
		else
			f12_arg0:setTextInC( "", f12_arg2 )
		end
		f12_arg0:UpdatePageNumText()
	end
end

LUI.UIPagedText.SetTextPageHeight = function ( f11_arg0, f11_arg1 )
	f11_arg0._textPageHeight = f11_arg1
	if f11_arg0._text ~= nil then
		f11_arg0:setText( f11_arg0._text, nil, f11_arg0._markLocalized, f11_arg0._maxCharsPerPage )
	end
end

LUI.UIPagedText.SetPageNumDisplayDatasource = function ( f10_arg0, f10_arg1 )
	f10_arg0._pageNumDisplayDatasource = f10_arg1
end

LUI.UIPagedText.GetNumPages = function ( f9_arg0 )
	return #f9_arg0._textPages
end

LUI.UIPagedText.GetCurrentPage = function ( f8_arg0 )
	return f8_arg0._curPage
end

LUI.UIPagedText.SetPage = function ( f7_arg0, f7_arg1 )
	if 0 < f7_arg1 and 0 < #f7_arg0._textPages and f7_arg1 <= #f7_arg0._textPages then
		f7_arg0._curPage = f7_arg1
		local f7_local0 = f7_arg0._textPages[f7_arg0._curPage]
		if f7_arg0._markLocalized then
			f7_local0 = Engine[0x7D3158A9539A355]( f7_local0 )
		end
		f7_arg0:setTextInC( f7_local0 )
		f7_arg0:UpdatePageNumText()
		return true
	else
		return false
	end
end

LUI.UIPagedText.NextPage = function ( f6_arg0 )
	if f6_arg0:SetPage( f6_arg0._curPage + 1 ) then
		f6_arg0:processEvent( {
			name = "next_page_success"
		} )
	else
		f6_arg0:processEvent( {
			name = "next_page_fail"
		} )
	end
end

LUI.UIPagedText.PrevPage = function ( f5_arg0 )
	if f5_arg0:SetPage( f5_arg0._curPage - 1 ) then
		f5_arg0:processEvent( {
			name = "prev_page_success"
		} )
	else
		f5_arg0:processEvent( {
			name = "prev_page_fail"
		} )
	end
end

LUI.UIPagedText.AcceptsFocusType = function ( f4_arg0, f4_arg1 )
	return f4_arg1 == FocusType.MouseOver
end

LUI.UIPagedText.IsPositionInside = function ( f3_arg0, f3_arg1, f3_arg2 )
	local f3_local0 = false
	local f3_local1, f3_local2, f3_local3, f3_local4 = f3_arg0:getRect()
	local f3_local5, f3_local6, f3_local7, f3_local8 = f3_arg0:getLocalRect()
	if f3_local1 ~= nil then
		if f3_local2 <= f3_arg2 and f3_arg2 <= f3_local2 + (f3_local4 - f3_local2) / (f3_local8 - f3_local6) * f3_arg0._textPageHeight and f3_local1 <= f3_arg1 and f3_arg1 <= f3_local3 then
			f3_local0 = true
		end
	end
	return f3_local0
end

LUI.UIPagedText.GamepadButton = function ( f2_arg0, f2_arg1 )
	if LUI.UIPagedText.super.GamepadButton and LUI.UIPagedText.super.GamepadButton( f2_arg0, f2_arg1 ) then
		return true
	elseif f2_arg1.qualifier == ButtonQualifiers.Mousewheel and f2_arg1.down then
		local f2_local0 = f2_arg1.x
		local f2_local1 = f2_arg1.y
		if f2_local0 == nil or f2_local1 == nil then
			return 
		elseif f2_arg0:IsPositionInside( f2_local0, f2_local1 ) then
			if f2_arg1.button == "down" then
				f2_arg0:NextPage()
			else
				f2_arg0:PrevPage()
			end
			return true
		end
	end
	return false
end

LUI.UIPagedText.id = "LUIPagedText"
LUI.UIPagedText.GetTotalPages = function ( f1_arg0, f1_arg1 )
	local f1_local0 = 0
	for f1_local1 = 1, #f1_arg1, 1 do
		f1_local0 = f1_local0 + #f1_arg0:GetPagedText( LocalizeLongString( f1_arg1[f1_local1] ), f1_arg0._textPageHeight, f1_arg0._maxCharsPerPage )
	end
	return f1_local0
end

