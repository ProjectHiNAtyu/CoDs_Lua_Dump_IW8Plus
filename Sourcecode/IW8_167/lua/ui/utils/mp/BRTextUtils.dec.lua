-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
BRTextUtils = BRTextUtils or {}
BRTextUtils.redactTextures = {
	nil,
	"ui_mp_br_marker_x1_a",
	"ui_mp_br_marker_x1_b",
	"ui_mp_br_marker_x1_c"
}
BRTextUtils.RedactText = function ( f2_arg0 )
	assert( f2_arg0 )
	assert( f2_arg0.textElem )
	local f2_local0 = f2_arg0.textElem
	local f2_local1 = f2_arg0.fontSize
	if not f2_local1 then
		f2_local1 = f2_local0:GetFontSize()
	end
	local f2_local2 = f2_arg0.animDuration or 2000
	local f2_local3 = f2_arg0.animEasing
	if not f2_local3 then
		f2_local3 = LUI.EASING.outQuadratic
	end
	local f2_local4 = f2_arg0.alignment
	if not f2_local4 then
		f2_local4 = LUI.Alignment.Left
	end
	local f2_local5 = f2_arg0.onCompleteFunc or nil
	local f2_local6 = f2_local0:getText()
	local f2_local7 = f2_local0:GetCurrentFont()
	if f2_local6 ~= nil and f2_local6 ~= "" and 0 < f2_local1 then
		local f2_local8, f2_local9, f2_local10, f2_local11 = GetTextDimensions( f2_local6, f2_local7, f2_local1 )
		local f2_local12, f2_local13, f2_local14, f2_local15 = f2_local0:getLocalRect()
		local f2_local16
		if f2_local12 ~= 0 or f2_local14 ~= 0 then
			f2_local16 = false
		else
			f2_local16 = true
		end
		if f2_local16 then
			local f2_local17, f2_local18, f2_local19, f2_local20 = f2_local0:getRect()
			local f2_local21 = Engine.DBFFAEEFGJ()
			f2_local12, f2_local20 = f2_local21:PixelsToUnits( f2_local17, f2_local20 )
			f2_local21 = Engine.DBFFAEEFGJ()
			f2_local14, f2_local20 = f2_local21:PixelsToUnits( f2_local19, f2_local20 )
		end
		local f2_local17 = (f2_local10 - f2_local8) / 2
		local f2_local18 = (f2_local14 - f2_local12) / 2
		local f2_local19 = f2_local8
		local f2_local20 = f2_local10
		local f2_local21 = f2_local9
		local f2_local22 = f2_local11
		if f2_local18 < f2_local17 then
			local redactBlack = f2_local9 - f2_local11
			local f2_local24 = math.ceil( f2_local17 / f2_local18 )
			f2_local20 = f2_local8 + f2_local18 * 2
			f2_local21 = f2_local22 + redactBlack * f2_local24
		elseif f2_local4 == LUI.Alignment.Center then
			f2_local19 = f2_local8 + f2_local18 - f2_local17
			f2_local20 = f2_local8 + f2_local18 + f2_local17
		elseif f2_local4 == LUI.Alignment.Right then
			local redactBlack = 0
			if IsLanguageRightToLeft( GetCurrentLanguage() ) then
				redactBlack = 25
			end
			f2_local19 = f2_local14 - f2_local17 * 2 - redactBlack
			f2_local20 = f2_local14 - redactBlack
		end
		if not f2_local0.redactMask then
			local redactBlack = nil
			redactBlack = LUI.UIImage.new()
			redactBlack.id = "redactMask"
			redactBlack:setImage( RegisterMaterial( "stencil_mask" ) )
			f2_local0:addElement( redactBlack )
			f2_local0.redactMask = redactBlack
			
			f2_local0.redactMask:SetDisablePartialOpacity( true )
		end
		if not f2_local0.redactBlack then
			local redactBlack = nil
			redactBlack = LUI.UIImage.new()
			redactBlack.id = "redactBlack"
			redactBlack:setImage( RegisterMaterial( BRTextUtils.redactTextures[math.random( #BRTextUtils.redactTextures )] ) )
			f2_local0:addElement( redactBlack )
			f2_local0.redactBlack = redactBlack
			
			f2_local0.redactBlack:SetDisablePartialOpacity( true )
		end
		f2_local0.redactBlack:SetAnchorsAndPosition( 0, 1, 0, 1, f2_local19, f2_local20, f2_local21, f2_local22 )
		f2_local0.redactMask:SetAnchorsAndPosition( 0, 1, 0, 1, f2_local19, f2_local19, f2_local21, f2_local22 )
		f2_local0.redactBlack:SetMask( f2_local0.redactMask )
		local redactBlack = f2_local0.redactMask:SetRight( f2_local20, f2_local2, f2_local3 )
		if f2_local5 then
			redactBlack.onComplete = f2_local5
		end
	end
end

BRTextUtils.ClearRedaction = function ( f1_arg0 )
	if f1_arg0 then
		if f1_arg0.redactBlack then
			f1_arg0.redactBlack:closeTree()
			f1_arg0.redactBlack = nil
		end
		if f1_arg0.redactMask then
			f1_arg0.redactMask:closeTree()
			f1_arg0.redactMask = nil
		end
	end
end

