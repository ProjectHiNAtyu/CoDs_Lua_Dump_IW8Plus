-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
module( ..., package.seeall )
local f0_local0 = function ( f8_arg0, f8_arg1, f8_arg2 )
	f8_arg0:SubscribeToModelThroughElement( f8_arg0, "name", function ()
		local f15_local0 = f8_arg0:GetDataSource()
		f15_local0 = f15_local0.name:GetValue( f8_arg0 )
		if f15_local0 ~= nil then
			f8_arg0.Button.Text:setText( f15_local0 )
		end
	end )
	f8_arg0:SubscribeToModelThroughElement( f8_arg0, "isUnlocked", function ()
		local f14_local0 = f8_arg0:GetDataSource()
		if f14_local0.isUnlocked:GetValue( f8_arg0 ) then
			f8_arg0.buttonDescription = Engine.CBBHFCGDIC( "LUA_MENU/ANNOUNCER_USE" )
			ACTIONS.AnimateSequence( f8_arg0, "Unlocked" )
		else
			f8_arg0.buttonDescription = Engine.CBBHFCGDIC( "LUA_MENU/ANNOUNCER_PURCHASE_DESC" )
			ACTIONS.AnimateSequence( f8_arg0, "Locked" )
		end
	end )
	f8_arg0:SubscribeToModelThroughElement( f8_arg0, "isSelected", function ()
		local f13_local0 = f8_arg0:GetDataSource()
		f13_local0 = f13_local0.isSelected:GetValue( f8_arg0 )
		local f13_local1 = f8_arg0.CheckBox
		local f13_local2 = f13_local1
		f13_local1 = f13_local1.SetAlpha
		local f13_local3
		if f13_local0 then
			f13_local3 = 1
		else
			f13_local3 = 0
		end
		f13_local1( f13_local2, f13_local3 )
	end )
	f8_arg0:addEventHandler( "button_over", function ( f12_arg0, f12_arg1 )
		ACTIONS.AnimateSequence( f8_arg0, "ButtonOver" )
	end )
	f8_arg0:addEventHandler( "button_up", function ( f11_arg0, f11_arg1 )
		ACTIONS.AnimateSequence( f8_arg0, "ButtonUp" )
	end )
	f8_arg0:registerEventHandler( "button_action", function ( element, event )
		local f9_local0 = element:GetDataSource()
		if not f9_local0.isUnlocked:GetValue( f8_arg0 ) then
			local f9_local1 = function ()
				local f10_local0 = STORE.GoToStore
				local f10_local1 = element
				local f10_local2 = element:GetCurrentMenu()
				f10_local0( f10_local1, f10_local2.id, element.id )
			end
			
			local f9_local2 = element:GetDataSource()
			LUI.FlowManager.RequestPopupMenu( element, "AnnouncerStoreYesNoPopup", false, f8_arg0, false, {
				controllerIndex = f8_arg0,
				confirmAction = f9_local1,
				name = f9_local2.name:GetValue( f8_arg0 )
			} )
		else
			local f9_local1 = element:GetDataSource()
			f9_local1 = f9_local1.announcerId
			assert( f9_local1 )
			local f9_local2 = PlayerData.BFFBGAJGD( f8_arg0, CoD.StatsGroup.Common )
			f9_local2.mp_announcer_type:set( f9_local1 )
			f9_local2 = "frontEnd.MP.AnnouncerVoice"
			WipeGlobalModelsAtPath( f9_local2 )
			WipeGlobalModelsAtPath( f9_local2 .. "." .. "voice" )
			ACTIONS.LeaveMenu( element )
		end
	end )
end

function AnnouncerVoiceSelectButton( menu, controller )
	local self = LUI.UIButton.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 500 * _1080p, 0, 30 * _1080p )
	self.id = "AnnouncerVoiceSelectButton"
	self._animationSets = {}
	self._sequences = {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local Button = nil
	
	Button = MenuBuilder.BuildRegisteredType( "GenericButton", {
		controllerIndex = f1_local1
	} )
	Button.id = "Button"
	Button.Text:setText( ToUpperCase( Engine.CBBHFCGDIC( "MENU/NEW" ) ), 0 )
	Button.Text:SetAlignment( LUI.Alignment.Left )
	Button:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 420, 0, _1080p * 38 )
	self:addElement( Button )
	self.Button = Button
	
	local CheckBox = nil
	
	CheckBox = MenuBuilder.BuildRegisteredType( "GenericCheckBoxButton", {
		controllerIndex = f1_local1
	} )
	CheckBox.id = "CheckBox"
	CheckBox:SetAlpha( 0, 0 )
	CheckBox:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 428.81, _1080p * 444.81, _1080p * 7, _1080p * 23 )
	self:addElement( CheckBox )
	self.CheckBox = CheckBox
	
	local PurchaseString = nil
	
	PurchaseString = LUI.UIStyledText.new()
	PurchaseString.id = "PurchaseString"
	PurchaseString:SetRGBFromInt( 14277081, 0 )
	PurchaseString:SetAlpha( 0, 0 )
	PurchaseString:setText( Engine.CBBHFCGDIC( "LUA_MENU/ANNOUNCER_PURCHASE" ), 0 )
	PurchaseString:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	PurchaseString:SetAlignment( LUI.Alignment.Right )
	PurchaseString:SetStartupDelay( 1000 )
	PurchaseString:SetLineHoldTime( 400 )
	PurchaseString:SetAnimMoveTime( 150 )
	PurchaseString:SetEndDelay( 1000 )
	PurchaseString:SetCrossfadeTime( 400 )
	PurchaseString:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollH )
	PurchaseString:SetMaxVisibleLines( 1 )
	PurchaseString:SetAnchorsAndPosition( 0, 0, 0.5, 0.5, _1080p * 257, _1080p * -82, _1080p * -9, _1080p * 9 )
	self:addElement( PurchaseString )
	self.PurchaseString = PurchaseString
	
	local Arrow = nil
	
	Arrow = LUI.UIImage.new()
	Arrow.id = "Arrow"
	Arrow:SetAlpha( 0, 0 )
	Arrow:setImage( RegisterMaterial( "icon_download" ), 0 )
	Arrow:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 423.81, _1080p * 449.81, _1080p * 2, _1080p * 28 )
	self:addElement( Arrow )
	self.Arrow = Arrow
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	CheckBox:RegisterAnimationSequence( "ButtonOver", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			child = self.CheckBox.Frame
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			child = self.CheckBox.Fill
		}
	} )
	PurchaseString:RegisterAnimationSequence( "ButtonOver", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		}
	} )
	self._sequences.ButtonOver = function ()
		menu:AnimateSequence( "ButtonOver" )
		menu:AnimateSequence( "ButtonOver" )
	end
	
	CheckBox:RegisterAnimationSequence( "ButtonUp", {
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			child = self.CheckBox.Fill
		},
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			child = self.CheckBox.Frame
		}
	} )
	PurchaseString:RegisterAnimationSequence( "ButtonUp", {
		{
			value = 14277081,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		}
	} )
	self._sequences.ButtonUp = function ()
		menu:AnimateSequence( "ButtonUp" )
		menu:AnimateSequence( "ButtonUp" )
	end
	
	CheckBox:RegisterAnimationSequence( "Locked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PurchaseString:RegisterAnimationSequence( "Locked", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Arrow:RegisterAnimationSequence( "Locked", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Locked = function ()
		menu:AnimateSequence( "Locked" )
		menu:AnimateSequence( "Locked" )
		menu:AnimateSequence( "Locked" )
	end
	
	PurchaseString:RegisterAnimationSequence( "Unlocked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Unlocked = function ()
		menu:AnimateSequence( "Unlocked" )
	end
	
	CheckBox:RegisterAnimationSequence( "IsArabic", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 17.81
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 33.81
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 7
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 23
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Left_Anchor
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Right_Anchor
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Top_Anchor
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Bottom_Anchor
		}
	} )
	PurchaseString:RegisterAnimationSequence( "IsArabic", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 43.81
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -420.19
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -9
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 9
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Left_Anchor
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Right_Anchor
		},
		{
			value = 5.29462817E-315,
			duration = 0,
			property = TWEEN_PROPERTY.Top_Anchor
		},
		{
			value = 5.29462817E-315,
			duration = 0,
			property = TWEEN_PROPERTY.Bottom_Anchor
		}
	} )
	Arrow:RegisterAnimationSequence( "IsArabic", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 12.81
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 38.81
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 2
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 28
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Left_Anchor
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Right_Anchor
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Top_Anchor
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Bottom_Anchor
		}
	} )
	self._sequences.IsArabic = function ()
		menu:AnimateSequence( "IsArabic" )
		menu:AnimateSequence( "IsArabic" )
		menu:AnimateSequence( "IsArabic" )
	end
	
	f0_local0( self, f1_local1, controller )
	if CONDITIONS.IsArabic( self ) then
		ACTIONS.AnimateSequence( self, "IsArabic" )
	end
	return self
end

MenuBuilder.registerType( "AnnouncerVoiceSelectButton", AnnouncerVoiceSelectButton )
LockTable( _M )
