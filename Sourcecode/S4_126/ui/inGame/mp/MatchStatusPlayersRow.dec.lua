-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.inGame.mp.PlayerIcon" )
local f0_local0 = function ( f4_arg0, f4_arg1 )
	f4_arg0._players = {
		f4_arg0._playerIconInfo.Player6,
		f4_arg0._playerIconInfo.Player5,
		f4_arg0._playerIconInfo.Player4,
		f4_arg0._playerIconInfo.Player3,
		f4_arg0._playerIconInfo.Player2,
		f4_arg0._playerIconInfo.Player1
	}
	f4_arg0:RemoveElement( f4_arg0.PlayerCount )
	f4_arg0.PlayerCount:setPriority( -10 )
	f4_arg0:addElement( f4_arg0.PlayerCount )
	f4_arg0:SetAlignment( LUI.Alignment.Right )
end

local f0_local1 = function ( f2_arg0, f2_arg1, f2_arg2 )
	assert( f2_arg0.PlayerCount )
	f2_arg0:SetAlignment( LUI.Alignment.Left )
	f2_arg0._playerIconInfo = {
		Player1 = {
			defaultIcon = "v_ui_icon_player_02_a",
			element = f2_arg0.Player1
		},
		Player2 = {
			defaultIcon = "v_ui_icon_player_02_b",
			element = f2_arg0.Player2
		},
		Player3 = {
			defaultIcon = "v_ui_icon_player_02_c",
			element = f2_arg0.Player3
		},
		Player4 = {
			defaultIcon = "v_ui_icon_player_02_d",
			element = f2_arg0.Player4
		},
		Player5 = {
			defaultIcon = "v_ui_icon_player_02_e",
			element = f2_arg0.Player5
		},
		Player6 = {
			defaultIcon = "v_ui_icon_player_02_f",
			element = f2_arg0.Player6
		}
	}
	f2_arg0._players = {
		f2_arg0._playerIconInfo.Player1,
		f2_arg0._playerIconInfo.Player2,
		f2_arg0._playerIconInfo.Player3,
		f2_arg0._playerIconInfo.Player4,
		f2_arg0._playerIconInfo.Player5,
		f2_arg0._playerIconInfo.Player6
	}
	f2_arg0.SetupFriendlyLayout = f0_local0
	f2_arg0.UpdateCount = function ( f3_arg0, f3_arg1, f3_arg2, f3_arg3 )
		local f3_local0
		if f3_arg3 == Game[0x395DE1E9756DA1F]( Game[0x51CB5C434C63793]( f2_arg0 ) ) then
			f3_local0 = COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType( f2_arg0, COLORBLIND_UTILS.CUSTOM_COLORS.ALLY, SWATCHES.HUD.friendly )
			if not f3_local0 then
			
			else
				local f3_local1 = DataSources.inGame.MP.match.gameType:GetValue( f2_arg0 )
				local f3_local2 = Game[0x28624DEF6F708C8]( f2_arg0, "ui_last_stand_type" ) ~= 2
				local f3_local3 = false
				local f3_local4
				if f3_arg3 then
					f3_local4 = Game[0xC22F90682BB5BF5]( f3_arg3 )
					if not f3_local4 then
					
					else
						if f3_local1 == "cyber" and #f3_arg0._players < f3_local4 then
							f3_local3 = true
						end
						for f3_local14, f3_local15 in pairs( f3_arg0._players ) do
							if f3_arg1 <= f3_local14 - 1 then
								local f3_local8 = f3_local15.element
								local f3_local9 = f3_local8
								f3_local8 = f3_local8.SetAlpha
								local f3_local10
								if f3_local2 then
									f3_local10 = 1
								else
									f3_local10 = 0
								end
								f3_local8( f3_local9, f3_local10 )
								f3_local8 = f3_local15.element
								f3_local9 = f3_local8
								f3_local8 = f3_local8.SetRGBFromTable
								if f3_local2 then
									f3_local10 = SWATCHES.HUD.HUDMain
									if not f3_local10 then
									
									else
										f3_local8( f3_local9, f3_local10, 0 )
										f3_local8 = f3_local15.element.PlayerIcon
										f3_local9 = f3_local8
										f3_local8 = f3_local8.setImage
										f3_local10 = RegisterMaterial
										local f3_local11
										if f3_local2 then
											f3_local11 = "v_ui_icon_kill"
										else
											f3_local11 = "hud_icon_arrow"
										end
										f3_local8( f3_local9, f3_local10( f3_local11 ), 0 )
										f3_local15.element.PlayerIcon:SetRGBFromTable( SWATCHES.HUD.vHUDDefault, 0 )
									end
								end
								f3_local10 = f3_arg2
							else
								local f3_local8
								if (not f3_local3 or f3_local14 > 1) and (f3_local3 or f3_local14 > f3_arg1) then
									f3_local8 = false
								else
									f3_local8 = true
								end
								local f3_local12 = f3_local15.element
								local f3_local10 = f3_local12
								f3_local12 = f3_local12.SetAlpha
								local f3_local13
								if f3_local8 then
									f3_local13 = 1
								else
									f3_local13 = 0
								end
								f3_local12( f3_local10, f3_local13 )
								f3_local15.element:SetRGBFromTable( f3_arg2, 0 )
								if f3_local8 then
									f3_local15.element.PlayerIcon:setImage( RegisterMaterial( f3_local15.defaultIcon ), 0 )
									f3_local15.element.PlayerIcon:SetRGBFromTable( f3_local0, 0 )
									f3_local15.element.PulseIcon:SetRGBFromTable( f3_local0, 0 )
								end
							end
							if f3_local4 < f3_local14 then
								f3_local15.element:SetAlpha( 0 )
							end
						end
						if f3_local3 then
							f3_arg0.PlayerCount:setText( tostring( f3_arg1 ) )
							f3_arg0:SetSpacing( -20 * _1080p )
						else
							f3_arg0.PlayerCount:setText( "" )
							f3_arg0:SetSpacing( -3 * _1080p )
						end
					end
				end
				f3_local4 = 0
			end
		end
		f3_local0 = COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType( f2_arg0, COLORBLIND_UTILS.CUSTOM_COLORS.ENEMY, SWATCHES.HUD.enemy )
	end
	
end

function MatchStatusPlayersRow( menu, controller )
	local self = LUI.UIHorizontalStackedLayout.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 153 * _1080p, 0, 28 * _1080p )
	self.id = "MatchStatusPlayersRow"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	self:SetSpacing( -3 * _1080p )
	local Player1 = nil
	
	Player1 = MenuBuilder.BuildRegisteredType( "PlayerIcon", {
		controllerIndex = f1_local1
	} )
	Player1.id = "Player1"
	Player1:SetRGBFromTable( SWATCHES.BattlePass.White, 0 )
	Player1.PlayerIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_a" ), 0 )
	Player1.PulseIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_a" ), 0 )
	Player1:SetAnchorsAndPosition( 0, 1, 1, 0, 0, _1080p * 28, _1080p * -28, 0 )
	self:addElement( Player1 )
	self.Player1 = Player1
	
	local Player2 = nil
	
	Player2 = MenuBuilder.BuildRegisteredType( "PlayerIcon", {
		controllerIndex = f1_local1
	} )
	Player2.id = "Player2"
	Player2:SetRGBFromTable( SWATCHES.BattlePass.White, 0 )
	Player2.PlayerIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_b" ), 0 )
	Player2.PulseIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_b" ), 0 )
	Player2:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 25, _1080p * 53, _1080p * -28, 0 )
	self:addElement( Player2 )
	self.Player2 = Player2
	
	local Player3 = nil
	
	Player3 = MenuBuilder.BuildRegisteredType( "PlayerIcon", {
		controllerIndex = f1_local1
	} )
	Player3.id = "Player3"
	Player3:SetRGBFromTable( SWATCHES.BattlePass.White, 0 )
	Player3.PlayerIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_c" ), 0 )
	Player3.PulseIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_c" ), 0 )
	Player3:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 50, _1080p * 78, _1080p * -28, 0 )
	self:addElement( Player3 )
	self.Player3 = Player3
	
	local Player4 = nil
	
	Player4 = MenuBuilder.BuildRegisteredType( "PlayerIcon", {
		controllerIndex = f1_local1
	} )
	Player4.id = "Player4"
	Player4:SetRGBFromTable( SWATCHES.BattlePass.White, 0 )
	Player4.PlayerIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_d" ), 0 )
	Player4.PulseIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_d" ), 0 )
	Player4:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 75, _1080p * 103, _1080p * -28, 0 )
	self:addElement( Player4 )
	self.Player4 = Player4
	
	local Player5 = nil
	
	Player5 = MenuBuilder.BuildRegisteredType( "PlayerIcon", {
		controllerIndex = f1_local1
	} )
	Player5.id = "Player5"
	Player5:SetRGBFromTable( SWATCHES.BattlePass.White, 0 )
	Player5.PlayerIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_e" ), 0 )
	Player5.PulseIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_e" ), 0 )
	Player5:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 100, _1080p * 128, _1080p * -28, 0 )
	self:addElement( Player5 )
	self.Player5 = Player5
	
	local Player6 = nil
	
	Player6 = MenuBuilder.BuildRegisteredType( "PlayerIcon", {
		controllerIndex = f1_local1
	} )
	Player6.id = "Player6"
	Player6:SetRGBFromTable( SWATCHES.BattlePass.White, 0 )
	Player6.PlayerIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_f" ), 0 )
	Player6.PulseIcon:setImage( RegisterMaterial( "v_ui_icon_player_02_f" ), 0 )
	Player6:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 125, _1080p * 153, _1080p * -28, 0 )
	self:addElement( Player6 )
	self.Player6 = Player6
	
	local PlayerCount = nil
	
	PlayerCount = LUI.UIStyledText.new()
	PlayerCount.id = "PlayerCount"
	PlayerCount:SetRGBFromTable( SWATCHES.HUD.vHUDDefault, 0 )
	PlayerCount:SetAlpha( 0, 0 )
	PlayerCount:setText( "", 0 )
	PlayerCount:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_MHeaderBold.font.File ) )
	PlayerCount:SetFontSize( FONT_STYLES.fontStyle_MHeaderBold.size )
	PlayerCount:SetMinFontSize( FONT_STYLES.fontStyle_MHeaderBold.minSize )
	PlayerCount:SetWordWrap( false )
	PlayerCount:SetAlignment( LUI.Alignment.Left )
	PlayerCount:SetVerticalAlignment( LUI.Alignment.Center )
	PlayerCount:SetOptOutRightToLeftAlignmentFlip( true )
	PlayerCount:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 150, _1080p * 310, _1080p * -6, _1080p * 36 )
	self:addElement( PlayerCount )
	self.PlayerCount = PlayerCount
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "MatchStatusPlayersRow", MatchStatusPlayersRow )
LockTable( _M )
