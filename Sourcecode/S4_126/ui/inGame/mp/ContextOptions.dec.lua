-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
local f0_local0 = 4
local f0_local1 = "Callback"
local f0_local2 = "Message"
local f0_local3 = {
	invert_controls = {
		button_alt1 = {
			[f0_local1] = function ( f21_arg0 )
				Engine[0x6055C55456F05DF]( "player_wants_inverted_controls", 1 )
				if LUI.IsLastInputGamepad( f21_arg0._controllerIndex ) then
					Engine[0x9694388D6DAC134]( "invertPitchGamepad", 1, f21_arg0._controllerIndex )
				else
					Engine[0x9694388D6DAC134]( "invertPitchKBM", 1, f21_arg0._controllerIndex )
				end
			end,
			[f0_local2] = "MP_M_FTUE/INVERT_VIEW"
		},
		frag = {
			[f0_local1] = function ( f20_arg0 )
				Engine[0x6055C55456F05DF]( "player_wants_inverted_controls", 1 )
				if LUI.IsLastInputGamepad( f20_arg0._controllerIndex ) then
					Engine[0x9694388D6DAC134]( "invertPitchGamepad", 1, f20_arg0._controllerIndex )
				else
					Engine[0x9694388D6DAC134]( "invertPitchKBM", 1, f20_arg0._controllerIndex )
				end
			end,
			[f0_local2] = "MP_M_FTUE/INVERT_VIEW"
		},
		button_secondary = {
			[f0_local1] = function ( f19_arg0 )
				Engine[0x6055C55456F05DF]( "player_wants_inverted_controls", 0 )
				if LUI.IsLastInputGamepad( f19_arg0._controllerIndex ) then
					Engine[0x9694388D6DAC134]( "invertPitchGamepad", 0, f19_arg0._controllerIndex )
				else
					Engine[0x9694388D6DAC134]( "invertPitchKBM", 0, f19_arg0._controllerIndex )
				end
			end,
			[f0_local2] = "MP_M_FTUE/KEEP_STANDARD"
		},
		smoke = {
			[f0_local1] = function ( f18_arg0 )
				Engine[0x6055C55456F05DF]( "player_wants_inverted_controls", 0 )
				if LUI.IsLastInputGamepad( f18_arg0._controllerIndex ) then
					Engine[0x9694388D6DAC134]( "invertPitchGamepad", 0, f18_arg0._controllerIndex )
				else
					Engine[0x9694388D6DAC134]( "invertPitchKBM", 0, f18_arg0._controllerIndex )
				end
			end,
			[f0_local2] = "MP_M_FTUE/KEEP_STANDARD"
		}
	},
	invert_controls_confirm = {
		button_primary = {
			[f0_local1] = function ( f17_arg0 )
				Engine[0x6055C55456F05DF]( "player_wants_inverted_controls", 1 )
			end,
			[f0_local2] = "MP_M_FTUE/KEEP_INVERTED"
		},
		frag = {
			[f0_local1] = function ( f16_arg0 )
				Engine[0x6055C55456F05DF]( "player_wants_inverted_controls", 1 )
			end,
			[f0_local2] = "MP_M_FTUE/KEEP_INVERTED"
		},
		button_secondary = {
			[f0_local1] = function ( f15_arg0 )
				Engine[0x6055C55456F05DF]( "player_wants_inverted_controls", 0 )
				if LUI.IsLastInputGamepad( f15_arg0._controllerIndex ) then
					Engine[0x9694388D6DAC134]( "invertPitchGamepad", 0, f15_arg0._controllerIndex )
				else
					Engine[0x9694388D6DAC134]( "invertPitchKBM", 0, f15_arg0._controllerIndex )
				end
			end,
			[f0_local2] = "MP_M_FTUE/REVERT_TO_STANDARD"
		},
		smoke = {
			[f0_local1] = function ( f14_arg0 )
				Engine[0x6055C55456F05DF]( "player_wants_inverted_controls", 0 )
				if LUI.IsLastInputGamepad( f14_arg0._controllerIndex ) then
					Engine[0x9694388D6DAC134]( "invertPitchGamepad", 0, f14_arg0._controllerIndex )
				else
					Engine[0x9694388D6DAC134]( "invertPitchKBM", 0, f14_arg0._controllerIndex )
				end
			end,
			[f0_local2] = "MP_M_FTUE/REVERT_TO_STANDARD"
		}
	}
}
local f0_local4 = function ( f11_arg0, f11_arg1, f11_arg2, f11_arg3 )
	local self = nil
	self = LUI.UIHorizontalList.new( {
		controller = f11_arg0._controllerIndex,
		direction = LUI.DIRECTION.horizontal
	} )
	self.id = "TextList_" .. f11_arg2
	self:SetAdjustSizeToContent( true )
	self:SetSpacing( 5 )
	local f11_local1 = ""
	if Engine[0x6938F45868B1BBC]( f11_arg0._controllerIndex ) then
		f11_local1 = Engine[0xED84C33EC5F01EA]( "[{" .. ButtonMap[f11_arg2].ui_button .. "}]" )
	else
		f11_local1 = Engine[0xED84C33EC5F01EA]( "[{" .. ButtonMap[f11_arg3].raw_button .. "}]" )
	end
	local f11_local2 = ""
	if f0_local0[f11_arg1] and f0_local0[f11_arg1][f11_arg2] and f0_local0[f11_arg1][f11_arg2][f0_local0] then
		f11_local2 = Engine[0xED84C33EC5F01EA]( f0_local0[f11_arg1][f11_arg2][f0_local0] )
	end
	local f11_local3 = nil
	f11_local3 = LUI.UIStyledText.new()
	f11_local3.id = "MenuOption_Icon_" .. f11_arg2
	f11_local3:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	f11_local3:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_XSSubHeaderBold.font.File ) )
	f11_local3:SetFontSize( FONT_STYLES.fontStyle_XSSubHeaderBold.size )
	f11_local3:SetMinFontSize( FONT_STYLES.fontStyle_XSSubHeaderBold.size )
	f11_local3:SetWordWrap( false )
	f11_local3:SetAlignment( LUI.Alignment.Left )
	f11_local3:SetVerticalAlignment( LUI.Alignment.Center )
	f11_local3:setText( f11_local1, 0 )
	self:addElement( f11_local3 )
	local f11_local4 = nil
	f11_local4 = LUI.UIStyledText.new()
	f11_local4.id = "MenuOption_Text_" .. f11_arg2
	f11_local4:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	f11_local4:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_XSSubHeaderBold.font.File ) )
	f11_local4:SetFontSize( FONT_STYLES.fontStyle_XSSubHeaderBold.size )
	f11_local4:SetMinFontSize( FONT_STYLES.fontStyle_XSSubHeaderBold.size )
	f11_local4:SetWordWrap( false )
	f11_local4:SetAlignment( LUI.Alignment.Left )
	f11_local4:SetVerticalAlignment( LUI.Alignment.Center )
	f11_local4:setText( f11_local2, 0 )
	self:addElement( f11_local4 )
	f11_arg0.OptionsList:addElement( self )
	f11_local4:SetRight( LAYOUT.GetTextWidth( f11_local4 ) )
	f11_arg0._scriptedWidgetLayer:AddInputTrap( f11_arg0.id, ButtonMap[f11_arg2].raw_button )
	f11_arg0._scriptedWidgetLayer:AddInputTrap( f11_arg0.id, ButtonMap[f11_arg3].raw_button )
	f11_arg0.bindButton:addEventHandler( f11_arg2, function ( f13_arg0, f13_arg1 )
		if LUI.IsLastInputGamepad( f11_arg0._controllerIndex ) then
			if f11_arg0[f11_arg0] and f11_arg0[f11_arg0][f11_arg0] and f11_arg0[f11_arg0][f11_arg0][f11_arg0] then
				f11_arg0[f11_arg0][f11_arg0][f11_arg0]( f11_arg0 )
			end
			Engine[0x6055C55456F05DF]( "menu_interaction_complete", 1 )
			return true
		else
			return false
		end
	end )
	f11_arg0.bindButton:addEventHandler( f11_arg3, function ( f12_arg0, f12_arg1 )
		if LUI.IsLastInputKeyboardMouse( f11_arg0._controllerIndex ) then
			if f11_arg0[f11_arg0] and f11_arg0[f11_arg0][f11_arg0] and f11_arg0[f11_arg0][f11_arg0][f11_arg0] then
				f11_arg0[f11_arg0][f11_arg0][f11_arg0]( f11_arg0 )
			end
			Engine[0x6055C55456F05DF]( "menu_interaction_complete", 1 )
			return true
		else
			return false
		end
	end )
end

local f0_local5 = function ( f10_arg0, f10_arg1 )
	local f10_local0 = ScriptedWidget.GetWidgetParameterProperties( f10_arg0, f10_arg1.value )
	if not f10_arg0._scriptedWidgetLayer then
		f10_arg0._scriptedWidgetLayer = LUI.ScriptedWidgetLayer.GetInstance()
	end
	assert( f10_arg0._scriptedWidgetLayer, "ScriptedWidgetLayer Required!" )
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "selfBindButton"
	f10_arg0:addElement( bindButton )
	f10_arg0.bindButton = bindButton
	
	local f10_local2 = ScriptedWidget.GetWidgetParameterName( f10_arg0, f10_arg1.value )
	if f10_local0.key_input_1 then
		f0_local0( f10_arg0, f10_local2, f10_local0.key_input_1, f10_local0.kbm_input_1 )
	end
	if f10_local0.key_input_2 then
		f0_local0( f10_arg0, f10_local2, f10_local0.key_input_2, f10_local0.kbm_input_2 )
	end
	local f10_local3 = LAYOUT.GetHorizontalListChildrenWidth( f10_arg0.OptionsList ) * 0.5
	f10_arg0.OptionsList:SetLeft( f10_arg0._optionsListCenter - f10_local3 )
	f10_arg0.OptionsList:SetRight( f10_arg0._optionsListCenter + f10_local3 )
end

local f0_local6 = function ( f9_arg0, f9_arg1 )
	
end

local f0_local7 = function ( f7_arg0, f7_arg1, f7_arg2 )
	f7_arg0._controllerIndex = f7_arg1
	f7_arg0.ScriptedWidgetParamCallback = f0_local0
	f7_arg0.ScriptedWidgetStateCallback = f0_local0
	f7_arg0.OptionsList:SetAdjustSizeToContent( true )
	f7_arg0.OptionsList:SetSpacing( 30 )
	ACTIONS.AnimateSequenceIfItExists( f7_arg0, "Standard" )
	local f7_local0 = f7_arg0.OptionsList:GetCurrentAnchorsAndPositions()
	f7_arg0._optionsListCenter = (f7_local0.left + f7_local0.right) * 0.5
	f7_arg0:addEventHandler( "on_close", function ( f8_arg0, f8_arg1 )
		if f7_arg0._scriptedWidgetLayer then
			f7_arg0._scriptedWidgetLayer:ClearInputTrapsWidget( f7_arg0.id )
		end
	end )
end

function ContextOptions( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "ContextOptions"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local OptionsList = nil
	
	OptionsList = LUI.UIHorizontalList.new( {
		controller = f1_local1,
		direction = LUI.DIRECTION.horizontal,
		horizontalAlignment = LUI.Alignment.None,
		verticalAlignment = LUI.Alignment.None,
		spacing = 2 * _1080p
	} )
	OptionsList.id = "OptionsList"
	OptionsList:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -600, _1080p * 600, _1080p * -400, _1080p * -350 )
	self:addElement( OptionsList )
	self.OptionsList = OptionsList
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local4 = nil
	OptionsList:RegisterAnimationSequence( "Standard", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -400
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -350
		}
	} )
	self._sequences.Standard = function ()
		menu:AnimateSequence( "Standard" )
	end
	
	self._sequenceLengths.Standard = 0
	local f1_local5 = nil
	OptionsList:RegisterAnimationSequence( "Bottom", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -150
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -100
		}
	} )
	self._sequences.Bottom = function ()
		menu:AnimateSequence( "Bottom" )
	end
	
	self._sequenceLengths.Bottom = 0
	local f1_local6 = nil
	OptionsList:RegisterAnimationSequence( "Top", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -840
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -790
		}
	} )
	self._sequences.Top = function ()
		menu:AnimateSequence( "Top" )
	end
	
	self._sequenceLengths.Top = 0
	local f1_local7 = nil
	OptionsList:RegisterAnimationSequence( "Center", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -508
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -458
		}
	} )
	self._sequences.Center = function ()
		menu:AnimateSequence( "Center" )
	end
	
	self._sequenceLengths.Center = 0
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "ContextOptions", ContextOptions )
LockTable( _M )
