-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:49
module( ..., package.seeall )
require( "ui.generated.menus.frontend.weapons.weaponarmorybase" )
require( "ui.generated.widgets.frontend.weapons.armorybutton" )
require( "ui.generated.widgets.genericsidebuttonsrow" )
require( "ui.generated.widgets.scrollbar.horizontalscrollbar" )
require( "ui.generated.widgets.frontend.weapons.weaponinfopanel" )
require( "ui.generated.widgets.frontend.weapons.weaponblueprintbranding" )
require( "ui.generated.widgets.bundleupsellbutton" )
require( "ui.generated.widgets.dmzitembonus" )
require( "ui.generated.widgets.genericitembonus" )
require( "ui.generated.widgets.universalwrapsbonus" )
require( "ui.generated.widgets.activearmorypromo" )
local f0_local0 = 10 * _1080p
local f0_local1 = function ( f9_arg0, f9_arg1, f9_arg2 )
	f9_arg0:PostLoadShared( f9_arg1, f9_arg2 )
	if LOADOUT.IsActiveArmoryEnabled( f9_arg1 ) then
		f9_arg0.ActiveArmoryPromo:ShowXPBoost( f9_arg1 )
		f9_arg0:registerEventHandler( "update_active_armory_promo_visibility", function ( element, event )
			element.ActiveArmoryPromo:SetVisible( event.isActiveArmory )
			element.ActiveArmoryPromo:SetLeavingRotation( event.isLeavingActiveArmory, true )
			LOADOUT.UpdateTagsPosition( element, {}, f9_arg0 )
			return true
		end )
	end
	LOADOUT.UpdateTagsPosition( f9_arg0, f9_arg2, f0_local0 )
	if CONDITIONS.InFrontend() then
		local f9_local0 = DataSources.frontEnd.lobby.statusWidgetState
		if f9_local0 then
			local f9_local1 = {
				[LUI.LobbyStatusLayer.VIEW_STATE.OPENED] = "LobbyStatusWidgetOpened",
				[LUI.LobbyStatusLayer.VIEW_STATE.EXTENDED] = "LobbyStatusWidgetExtended",
				[LUI.LobbyStatusLayer.VIEW_STATE.CLOSED] = "LobbyStatusWidgetClosed"
			}
			f9_arg0:SubscribeToModel( f9_local0:GetModel( f9_arg1 ), function ( f10_arg0, f10_arg1 )
				Lobby.UpdateAnimationAccordingToStatusWidgetState( f10_arg1, f10_arg0, f9_arg0 )
			end )
		end
	end
end

States = {
	[0xAD14C6E7156B923] = function ( f4_arg0, f4_arg1 )
		local f4_local0 = function ( f8_arg0, f8_arg1 )
			
		end
		
		if f4_arg0.BundleUpsellButton then
			f4_arg0.BundleUpsellButton:RegisterAnimationSequence( "LobbyStatusWidgetOpened", {
				{
					duration = 0,
					property = TWEEN_PROPERTY.Top,
					value = _1080p * 200
				},
				{
					duration = 0,
					property = TWEEN_PROPERTY.Bottom,
					value = _1080p * 347
				}
			} )
		end
		local f4_local1 = function ( f7_arg0, f7_arg1 )
			if f7_arg0.BundleUpsellButton then
				f7_arg0.BundleUpsellButton:AnimateSequence( "LobbyStatusWidgetOpened" )
			end
		end
		
		if f4_arg0.BundleUpsellButton then
			f4_arg0.BundleUpsellButton:RegisterAnimationSequence( "LobbyStatusWidgetExtended", {
				{
					duration = 0,
					property = TWEEN_PROPERTY.Top,
					value = _1080p * 220
				},
				{
					duration = 0,
					property = TWEEN_PROPERTY.Bottom,
					value = _1080p * 367
				}
			} )
		end
		local f4_local2 = function ( f6_arg0, f6_arg1 )
			if f6_arg0.BundleUpsellButton then
				f6_arg0.BundleUpsellButton:AnimateSequence( "LobbyStatusWidgetExtended" )
			end
		end
		
		if f4_arg0.BundleUpsellButton then
			f4_arg0.BundleUpsellButton:RegisterAnimationSequence( "LobbyStatusWidgetClosed", {
				{
					duration = 0,
					property = TWEEN_PROPERTY.Top,
					value = _1080p * 168
				},
				{
					duration = 0,
					property = TWEEN_PROPERTY.Bottom,
					value = _1080p * 315
				}
			} )
		end
		f4_arg0._sequences = {
			DefaultSequence = f4_local0,
			LobbyStatusWidgetOpened = f4_local1,
			LobbyStatusWidgetExtended = f4_local2,
			LobbyStatusWidgetClosed = function ( f5_arg0, f5_arg1 )
				if f5_arg0.BundleUpsellButton then
					f5_arg0.BundleUpsellButton:AnimateSequence( "LobbyStatusWidgetClosed" )
				end
			end
		}
		f4_arg0._sequenceLengths = {
			LobbyStatusWidgetExtended = 0,
			LobbyStatusWidgetOpened = 0,
			DefaultSequence = 0,
			LobbyStatusWidgetClosed = 0
		}
	end
}
function WeaponArmory( f1_arg0, f1_arg1 )
	local f1_local0 = MenuBuilder.BuildRegisteredType( "WeaponArmoryBase", f1_arg1 )
	f1_local0.id = "WeaponArmory"
	f1_local0.__states = States
	f1_local0.__revalidateAnimationState = true
	local f1_local1
	if f1_arg1 then
		f1_local1 = f1_arg1
	else
		f1_local1 = f1_arg1.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( f1_local0, f1_local1 )
	f1_local0.HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	f1_local0.HelperBar.id = "HelperBar"
	if CONDITIONS.IsMobileOrMobileSim() then
		f1_local0.HelperBar:SetAnchorsAndPosition( 1, 0, 0, 0, _1080p * -120, 0, 0, 0 )
	else
		f1_local0.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	end
	f1_local0.HelperBar:setPriority( 10 )
	f1_local0:addElement( f1_local0.HelperBar )
	local f1_local2 = f1_local0
	local WeaponsGrid = nil
	
	WeaponsGrid = LUI.UIPeekingGrid.new( {
		scrollingThresholdX = 0,
		maxVisibleColumns = 6,
		maxVisibleRows = 1,
		scrollingThresholdY = 0,
		wrapY = false,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "ArmoryButton", {
				controllerIndex = f1_arg0
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.horizontal,
		spacingX = _1080p * 16,
		spacingY = _1080p * 10,
		columnWidth = _1080p * 336,
		rowHeight = _1080p * 204,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1],
		horizontalAlignment = LUI.Alignment.Center,
		verticalAlignment = LUI.Alignment.Middle
	} )
	WeaponsGrid.id = "WeaponsGrid"
	WeaponsGrid:setUseStencil( false )
	WeaponsGrid:SetActiveOnMouseOverBehavior( f1_local1 )
	WeaponsGrid:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 84, _1080p * 1828, _1080p * -376, _1080p * -72 )
	f1_local0:addElement( WeaponsGrid )
	f1_local0.WeaponsGrid = WeaponsGrid
	
	local SideArrows = nil
	
	SideArrows = MenuBuilder.BuildRegisteredType( "GenericSideButtonsRow", {
		controllerIndex = f1_local1
	} )
	SideArrows.id = "SideArrows"
	SideArrows:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 10, _1080p * 1900, _1080p * -332, _1080p * -260 )
	f1_local0:addElement( SideArrows )
	f1_local0.SideArrows = SideArrows
	
	local f1_local5 = nil
	if CONDITIONS.IsGLGunsmithEnabled() then
		f1_local5 = MenuBuilder.BuildRegisteredType( "HorizontalScrollbar", {
			controllerIndex = f1_local1
		} )
		f1_local5.id = "HorizontalScrollbar"
		f1_local5:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -345, _1080p * 345, _1080p * -84, _1080p * -66 )
		f1_local0:addElement( f1_local5 )
		f1_local0.HorizontalScrollbar = f1_local5
	end
	local InfoPanel = nil
	
	InfoPanel = MenuBuilder.BuildRegisteredType( "WeaponInfoPanel", {
		controllerIndex = f1_local1
	} )
	InfoPanel.id = "InfoPanel"
	InfoPanel:SetAnchorsAndPosition( 0, 1, 0, 0, _1080p * 88, _1080p * 588, _1080p * 71, _1080p * -421 )
	f1_local0:addElement( InfoPanel )
	f1_local0.InfoPanel = InfoPanel
	
	local WeaponBlueprintBranding = nil
	
	WeaponBlueprintBranding = MenuBuilder.BuildRegisteredType( "WeaponBlueprintBranding", {
		controllerIndex = f1_local1
	} )
	WeaponBlueprintBranding.id = "WeaponBlueprintBranding"
	WeaponBlueprintBranding:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -288, _1080p * -88, _1080p * -437, _1080p * -379 )
	f1_local0:addElement( WeaponBlueprintBranding )
	f1_local0.WeaponBlueprintBranding = WeaponBlueprintBranding
	
	local f1_local8 = nil
	if Engine[0x12586A3F4FB490E]() then
		f1_local8 = MenuBuilder.BuildRegisteredType( "BundleUpsellButton", {
			controllerIndex = f1_local1
		} )
		f1_local8.id = "BundleUpsellButton"
		f1_local8:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1481, _1080p * 1832, _1080p * 168, _1080p * 315 )
		f1_local0:addElement( f1_local8 )
		f1_local0.BundleUpsellButton = f1_local8
	end
	local DMZItemBonus = nil
	
	DMZItemBonus = MenuBuilder.BuildRegisteredType( "DMZItemBonus", {
		controllerIndex = f1_local1
	} )
	DMZItemBonus.id = "DMZItemBonus"
	DMZItemBonus:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1408, _1080p * 1828, _1080p * 542, _1080p * 622 )
	f1_local0:addElement( DMZItemBonus )
	f1_local0.DMZItemBonus = DMZItemBonus
	
	local GenericItemBonus = nil
	
	GenericItemBonus = MenuBuilder.BuildRegisteredType( "GenericItemBonus", {
		controllerIndex = f1_local1
	} )
	GenericItemBonus.id = "GenericItemBonus"
	GenericItemBonus:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1408, _1080p * 1828, _1080p * 542, _1080p * 643 )
	f1_local0:addElement( GenericItemBonus )
	f1_local0.GenericItemBonus = GenericItemBonus
	
	local UniversalWrapsBonus = nil
	
	UniversalWrapsBonus = MenuBuilder.BuildRegisteredType( "UniversalWrapsBonus", {
		controllerIndex = f1_local1
	} )
	UniversalWrapsBonus.id = "UniversalWrapsBonus"
	UniversalWrapsBonus:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1408, _1080p * 1828, _1080p * 542, _1080p * 643 )
	f1_local0:addElement( UniversalWrapsBonus )
	f1_local0.UniversalWrapsBonus = UniversalWrapsBonus
	
	local f1_local12 = nil
	if LOADOUT.IsActiveArmoryEnabled( f1_local1 ) then
		f1_local12 = MenuBuilder.BuildRegisteredType( "ActiveArmoryPromo", {
			controllerIndex = f1_local1
		} )
		f1_local12.id = "ActiveArmoryPromo"
		f1_local12:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1407, _1080p * 1827, _1080p * 542, _1080p * 622 )
		f1_local0:addElement( f1_local12 )
		f1_local0.ActiveArmoryPromo = f1_local12
	end
	local TagsStationaryAnchor = nil
	
	TagsStationaryAnchor = LUI.UIElement.new()
	TagsStationaryAnchor.id = "TagsStationaryAnchor"
	TagsStationaryAnchor:SetAlpha( 0, 0 )
	TagsStationaryAnchor:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1408, _1080p * 1828, _1080p * 632, _1080p * 712 )
	f1_local0:addElement( TagsStationaryAnchor )
	f1_local0.TagsStationaryAnchor = TagsStationaryAnchor
	
	if CONDITIONS.IsGLGunsmithEnabled() then
		local f1_local14 = LUI.UIScrollbar.new
		local f1_local15 = {
			direction = LUI.DIRECTION.horizontal,
			eventListener = f1_local5,
			startCap = f1_local5.startCap,
			endCap = f1_local5.endCap,
			sliderArea = f1_local5.sliderArea
		}
		local f1_local16 = f1_local5.sliderArea
		if f1_local16 then
			f1_local16 = f1_local5.sliderArea.slider
		end
		f1_local15.slider = f1_local16
		f1_local16 = f1_local5.sliderArea
		if f1_local16 then
			f1_local16 = f1_local5.sliderArea.fixedSizeSlider
		end
		f1_local15.fixedSizeSlider = f1_local16
		WeaponsGrid:AddScrollbar( f1_local14( f1_local15 ) )
	end
	f0_local0( f1_local0, f1_local1, f1_arg1 )
	LUI.UIElement.ValidateAnimationState( f1_local0 )
	return f1_local0
end

MenuBuilder.registerType( "WeaponArmory", WeaponArmory )
LockTable( _M )
