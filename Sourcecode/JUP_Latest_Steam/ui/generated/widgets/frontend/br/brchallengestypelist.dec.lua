-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.br.brchallengebutton" )
local f0_local0 = 4
local f0_local1 = function ( f5_arg0, f5_arg1, f5_arg2 )
	f5_arg0.listIndex = f5_arg1
	f5_arg0.challengeData = f5_arg2.challengesData
	f5_arg0.challengeTabType = f5_arg2.challengeTabType
	f5_arg0.challengeHeader = f5_arg2.header
	f5_arg0.completedDescOverrides = f5_arg2.completedDescOverrides
	if not String.IsNilOrEmpty( f5_arg2.icon ) then
		f5_arg0.TypeIcon:setImage( RegisterMaterial( f5_arg2.icon ) )
		if f5_arg0.challengeTabType == WARZONE_CHALLENGES.TAB_TYPES.CHAMPIONS_QUEST then
			f5_arg0.TypeIcon:SetRGB( SWATCHES[0xC60A5A3348BFA7][0xAB10E3375076302] )
		end
	else
		f5_arg0.TypeIcon:SetVisible( false )
	end
	if not String.IsNilOrEmpty( f5_arg2.header ) then
		f5_arg0.Header:setText( Engine[0xED84C33EC5F01EA]( f5_arg2.header ) )
		local f5_local0 = LAYOUT.GetTextWidth( f5_arg0.Header, f5_arg0._controllerIndex )
		f5_arg0.Header:SetLeft( f5_local0 / 2 * -1 )
		f5_arg0.Header:SetRight( f5_local0 / 2 )
	else
		f5_arg0.Header:SetVisible( false )
	end
	local f5_local0 = #f5_arg0.challengeData
	if f5_local0 == 0 and Engine[0x2DA54CF5D6B7F02]() then
		f5_local0 = f0_local0
	end
	f5_arg0.ChallengesGrid:SetNumChildren( f5_local0 )
	f5_arg0.ChallengesGrid:SetDefaultFocus( f5_arg0.ChallengesGrid:GetPositionForIndex( 0 ) )
	f5_arg0.ChallengesGrid:SetRefreshChild( function ( f6_arg0, f6_arg1, f6_arg2 )
		local f6_local0 = f6_arg0:getParent()
		local f6_local1
		if f6_local0 then
			f6_local1 = f6_local0
		else
			f6_local1 = f6_local0:getParent()
		end
		local f6_local2
		if f6_local1 then
			f6_local2 = f6_local1
		else
			f6_local2 = f6_local1:getParent()
		end
		f6_arg0._challengesTypeList = f6_local2
		f6_local2 = f6_arg0._challengesTypeList
		if f6_local2 then
			f6_local2 = f6_arg0._challengesTypeList:getParent()
		end
		local f6_local3
		if f6_local2 then
			f6_local3 = f6_local2
		else
			f6_local3 = f6_local2:getParent()
		end
		f6_arg0._challengesMenuTab = f6_local3
		if f6_local0 then
			f6_local3 = f6_local0:GetContentIndex( f6_arg1, f6_arg2 ) + 1
			if not f6_local3 then
			
			else
				f6_arg0._childIndex = f6_local3
				if not f6_arg0._eventHandlersAdded then
					f6_arg0:addEventHandler( "button_over", function ( f8_arg0, f8_arg1 )
						if f8_arg0._challengesTypeList then
							f8_arg0._challengesTypeList.focusedButtonIndex = f8_arg0._childIndex
							if f8_arg0._challengesMenuTab then
								f8_arg0._challengesMenuTab:SetFocusedChallengesTypeList( f8_arg0._challengesTypeList.listIndex )
								f8_arg0._challengesMenuTab:UpdatePreviewPrompt( f8_arg0.lootType, f8_arg0.lootID )
							end
						end
					end )
					f6_arg0:addEventHandler( "button_up", function ( f7_arg0, f7_arg1 )
						if f7_arg0._challengesTypeList then
							f7_arg0._challengesTypeList.focusedButtonIndex = -1
						end
					end )
					f6_arg0._eventHandlersAdded = true
				end
				f6_local3 = {}
				if f6_arg0._challengesTypeList then
					local f6_local4 = f6_arg0._challengesTypeList.challengeData
					local f6_local5 = f6_arg0._challengesTypeList.completedDescOverrides
					if next( f6_local4 ) == nil then
						return 
					else
						local f6_local6
						if f6_local4 and 0 < #f6_local4 then
							f6_local6 = f6_local4[f6_arg0._childIndex]
							if not f6_local6 then
							
							else
								local f6_local7 = f6_local5[f6_arg0._childIndex]
								local f6_local8 = Challenge.GetAEKindID( TrackedChallenges.Kind.WARZONE )
								local f6_local9 = Challenge.GetIDFromRef( f6_local6, f6_local8 )
								local f6_local10 = Challenge.GetUnlocalizedName( f6_local9, f6_local8 )
								local f6_local11 = Challenge.GetDesc( f6_local9, f6_local8 )
								local f6_local12 = Challenge.GetAmount( f6_local9, f6_local8, f6_arg0._controllerIndex )
								local f6_local13 = f6_arg0._childIndex - 1
								if f6_local4 and 0 < #f6_local4 then
									local f6_local14 = 0
									local f6_local15 = f6_local4[f6_local13]
								end
								local f6_local16 = Challenge.GetIDFromRef( f6_local14 and f6_local15 or "", f6_local8 )
								f6_local3.challengeTabType = f6_arg0._challengesTypeList.challengeTabType
								f6_local3.achievementID = f6_local9
								f6_local3.name = f6_local10
								f6_local3.description = f6_local11
								f6_local3.completedDescOverride = f6_local7
								f6_local3.amount = f6_local12
								f6_local3.category = f6_arg0._challengesTypeList.challengeHeader
								f6_local3.prevChallengeAchievementID = f6_local16
							end
						end
					end
					f6_local6 = ""
				end
				WARZONE_CHALLENGES.SetWarzoneChallenge( f6_arg0, f6_local3 )
			end
		end
		f6_local3 = -1
	end )
	f5_arg0.ChallengesGrid:RefreshContent()
end

local f0_local2 = function ( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg0._controllerIndex = f4_arg1
	f4_arg0.SetupChallengesTypeList = f0_local0
end

function BRChallengesTypeList( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = f1_local0.UIElement.new()
	f1_local2:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 404, 0, 300 )
	f1_local2.id = "BRChallengesTypeList"
	local f1_local3
	if f1_arg1 then
		f1_local3 = f1_arg1
	else
		f1_local3 = f1_arg1.controllerIndex
	end
	f1_local3 = f1_local0.ValidateControllerIndex( f1_local2, f1_local3 )
	local f1_local4 = nil
	f1_local4 = f1_local0.UIVerticalStackedLayout.new()
	f1_local2[0xDD816F229DCF0E4] = f1_local4
	f1_local4[0x8B72E07B55C3AC0] = "ListContainer"
	f1_local4:SetHorizontalPivot( f1_local0.HorizontalPivot.Left )
	f1_local4:SetVerticalPivot( f1_local0.VerticalPivot.Top )
	f1_local4:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -202, 202, 0, 300 )
	f1_local4:SetAlignment( f1_local0.Alignment.Center )
	f1_local4:SetVerticalAlignment( f1_local0.Alignment.Top )
	f1_local4:SetIgnoreInvisibleChildren( true )
	f1_local4:SetSpacing( 12 )
	f1_local2:addElement( f1_local4 )
	f1_local4.TypeIcon = f1_local0.UIImage.new()
	f1_local4.TypeIcon[0x8B72E07B55C3AC0] = "ListContainer.TypeIcon"
	f1_local4[0x9A1AE345C759508]:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -64, 64, 0, 128 )
	f1_local2[0xDD816F229DCF0E4][0x9A1AE345C759508] = f1_local4.TypeIcon
	f1_local2[0x9A1AE345C759508] = f1_local4[0x9A1AE345C759508]
	f1_local4:addElement( f1_local4[0x9A1AE345C759508] )
	f1_local4.Header = f1_local0.UIStyledText.new()
	f1_local4.Header[0x8B72E07B55C3AC0] = "ListContainer.Header"
	f1_local4[0xA506CB501761960]:setText( "Challenge Type", 0 )
	f1_local4[0xA506CB501761960]:setCaseStyle( f1_local0.CaseStyle.Uppercase )
	f1_local4[0xA506CB501761960]:SetFont( FONTS.GetFont( FONTS.SecondaryRegular.File ) )
	f1_local4[0xA506CB501761960]:SetFontSize( 24 * _PT )
	f1_local4[0xA506CB501761960]:SetMinFontSize( 24 * _PT )
	f1_local4[0xA506CB501761960]:SetWordWrap( false )
	f1_local4[0xA506CB501761960]:SetAlignment( f1_local0.Alignment.Center )
	f1_local4[0xA506CB501761960]:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local4[0xA506CB501761960]:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -79, 121, 140, 169 )
	f1_local2[0xDD816F229DCF0E4][0xA506CB501761960] = f1_local4.Header
	f1_local2[0xA506CB501761960] = f1_local4[0xA506CB501761960]
	f1_local4:addElement( f1_local4[0xA506CB501761960] )
	f1_local4.ChallengesGrid = f1_local0.UIGrid.new( {
		spacingY = 10,
		maxVisibleColumns = 1,
		maxVisibleRows = 4,
		rowHeight = -51,
		columnWidth = 404,
		controllerIndex = f1_local3,
		buildChild = function ()
			return f1_arg0.BuildRegisteredType( 0xEB2F0D539EFA5AE, {
				controllerIndex = f1_arg0
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		scrollType = Enum[0x92A69278394394][0x20D1032BAFC0C12]
	} )
	f1_local4.ChallengesGrid[0x8B72E07B55C3AC0] = "ListContainer.ChallengesGrid"
	f1_local4[0x610D3C97BC21A7B]:SetFirstLinePadding( 5 )
	f1_local4[0x610D3C97BC21A7B]:setUseStencil( true )
	f1_local4[0x610D3C97BC21A7B]:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -202, 202, 179, 1058 )
	f1_local2[0xDD816F229DCF0E4][0x610D3C97BC21A7B] = f1_local4.ChallengesGrid
	f1_local2[0x610D3C97BC21A7B] = f1_local4[0x610D3C97BC21A7B]
	f1_local4:addElement( f1_local4[0x610D3C97BC21A7B] )
	f0_local0( f1_local2, f1_local3, f1_arg1 )
	return f1_local2
end

MenuBuilder.registerType( 0xABEA7288E61D3C7, BRChallengesTypeList )
LockTable( _M )
