-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.widgets.GenericBackgroundFullscreen" )
require( "ui.frontEnd.AARIGRXPBonusTip" )
require( "ui.frontEnd.GenericProgressionFullscreen" )
require( "ui.frontEnd.XPBoostSources" )
local f0_local0 = 1000
local f0_local1 = 1000
local f0_local2 = 750
local f0_local3 = 500
local f0_local4 = 1500
local f0_local5 = 500
local f0_local6 = 1000
local f0_local7 = 2500
local f0_local8 = 3500
local f0_local9 = {
	eFull = 0,
	eHalf = 1,
	eZero = 2
}
local f0_local10 = function ( f51_arg0, f51_arg1, f51_arg2, f51_arg3, f51_arg4 )
	assert( f51_arg0.XPValue )
	local f51_local0 = f51_arg0.XPValue
	local f51_local1 = f51_local0
	f51_local0 = f51_local0.SetAlpha
	local f51_local2
	if f51_arg2 then
		f51_local2 = 1
	else
		f51_local2 = 0
	end
	local f51_local3
	if not f51_arg3 then
		f51_local3 = f51_arg3
	else
		f51_local3 = 0
	end
	f51_local0( f51_local1, f51_local2, f51_local3 )
	f51_local0 = f51_arg0.XPValueCurrent
	f51_local1 = f51_local0
	f51_local0 = f51_local0.SetAlpha
	if f51_arg2 then
		f51_local2 = 1
	else
		f51_local2 = 0
	end
	if not f51_arg3 then
		f51_local3 = f51_arg3
	else
		f51_local3 = 0
	end
	f51_local0( f51_local1, f51_local2, f51_local3 )
	if f51_arg4 then
		f51_local0 = f51_arg0.GenericProgressionFullscreen
		f51_local1 = f51_local0
		f51_local0 = f51_local0.SetAlpha
		if f51_arg2 then
			f51_local2 = 1
		else
			f51_local2 = 0
		end
		if not f51_arg3 then
			f51_local3 = f51_arg3
		else
			f51_local3 = 0
		end
		f51_local0( f51_local1, f51_local2, f51_local3 )
	end
	if CONDITIONS.IsInKoreanIGRPaidSession( f51_arg0 ) then
		assert( f51_arg0.AARIGRXPBonusTip )
		f51_local0 = f51_arg0.AARIGRXPBonusTip
		f51_local1 = f51_local0
		f51_local0 = f51_local0.SetAlpha
		if f51_arg2 then
			f51_local2 = 1
		else
			f51_local2 = 0
		end
		if not f51_arg3 then
			f51_local3 = f51_arg3
		else
			f51_local3 = 0
		end
		f51_local0( f51_local1, f51_local2, f51_local3 )
	end
end

ParadeStateFlowTable = {
	[AAR.ParadeState.BATTLE_PASS_XP] = {
		EnterConditionFunction = function ( f50_arg0, f50_arg1 )
			DebugPrint( "$$$ Battle Pass state: Current BattlepassXP: " .. f50_arg0.currentBattlepassXP .. "  Starting XP" .. f50_arg0.startBattlepassXP )
			local f50_local0 = CONDITIONS.IsBattlePassEnabled()
			if f50_local0 then
				f50_local0 = f50_arg0.startBattlepassXP < f50_arg0.currentBattlepassXP
			end
			return f50_local0
		end,
		ExitFunction = function ( f49_arg0, f49_arg1 )
			return f49_arg0.battlePassXPFinished
		end
	},
	[AAR.ParadeState.XP_NONE] = {
		EnterConditionFunction = function ( f48_arg0, f48_arg1 )
			return false
		end,
		ExitFunction = function ( f47_arg0, f47_arg1 )
			f0_local0( f47_arg0, f47_arg1, false, 200, true )
			return f47_arg0.progressDisplayFinished
		end
	},
	[AAR.ParadeState.XP] = {
		EnterConditionFunction = function ( f46_arg0, f46_arg1 )
			if CONDITIONS.IsLeaguePlay() then
				return false
			else
				DebugPrint( "$$$ XP state: Earned XP " .. f46_arg0.earnedTotalXP .. " Earned Season XP: " .. f46_arg0.earnedSeasonXP )
				return true
			end
		end,
		ExitFunction = function ( f45_arg0, f45_arg1 )
			local f45_local0 = nil
			if f45_arg0.isElder and PROGRESSION.GetPlayerRank( f45_arg1 ) > PROGRESSION.GetMaxRank() then
				f45_local0 = f45_arg0.finalSeasonXP <= f45_arg0.currentXP
			else
				f45_local0 = f45_arg0.finalXP <= f45_arg0.currentXP
			end
			if f45_arg0.forceQuit or f45_local0 or f45_arg0.xpDisplayFinished then
				f0_local0( f45_arg0, f45_arg1, false, 200, true )
				return true
			else
				return false
			end
		end
	},
	[AAR.ParadeState.WEAPON_RANK_UP] = {
		EnterConditionFunction = function ( f44_arg0, f44_arg1 )
			if CONDITIONS.IsLeaguePlay() then
				return false
			else
				DebugPrint( "$$$ Weapon Rank Up state: num of weapons - " .. f44_arg0.matchInfoPackage[AAR.ProgressTypes.WEAPON_RANK_UP].currentWeaponIndex )
				return 0 < f44_arg0.matchInfoPackage[AAR.ProgressTypes.WEAPON_RANK_UP].currentWeaponIndex
			end
		end,
		ExitFunction = function ( f43_arg0, f43_arg1 )
			if f43_arg0.forceQuit or f43_arg0.matchInfoPackage[AAR.ProgressTypes.WEAPON_RANK_UP].currentWeaponIndex == 0 then
				return true
			else
				return false
			end
		end
	},
	[AAR.ParadeState.OPERATOR_RANK_UP] = {
		EnterConditionFunction = function ( f42_arg0, f42_arg1 )
			DebugPrint( "$$$ Operator Rank Up state: num of Operator - " .. f42_arg0.matchInfoPackage[AAR.ProgressTypes.OPERATOR_RANK_UP].currentOperatorIndex )
			return 0 < f42_arg0.matchInfoPackage[AAR.ProgressTypes.OPERATOR_RANK_UP].currentOperatorIndex
		end,
		ExitFunction = function ( f41_arg0, f41_arg1 )
			if f41_arg0.forceQuit or f41_arg0.matchInfoPackage[AAR.ProgressTypes.OPERATOR_RANK_UP].currentOperatorIndex == 0 then
				return true
			else
				return false
			end
		end
	}
}
local f0_local11 = function ( f39_arg0, f39_arg1 )
	DebugPrint( "$$$ Update AAR Parade State" )
	local f39_local0 = ParadeStateFlowTable[f39_arg0._currentStateIndex]
	if f39_local0.ExitFunction( f39_arg0, f39_arg1 ) then
		local f39_local1 = nil
		if f39_local1 == nil or not f39_local1.EnterConditionFunction( f39_arg0, f39_arg1 ) then
			
		else
			
		end
		local f39_local2 = f39_arg0:Wait( f0_local0 )
		f39_local2.onComplete = function ()
			f39_arg0:DisplayFunction( f39_arg0 )
		end
		
	end
	f39_local0.DisplayFunction( f39_arg0, f39_arg1 )
end

local f0_local12 = function ( f38_arg0, f38_arg1, f38_arg2 )
	local f38_local0 = PROGRESSION.GetRankMinXP( f38_arg2 )
	local f38_local1 = PROGRESSION.GetRankMaxXP( f38_arg2 )
	if f38_arg0.isElder and not f38_arg0.isElderFirstTime then
		f38_local0 = PROGRESSION.GetSeasonRankMinXP( f38_arg2 + 1 )
		f38_local1 = PROGRESSION.GetSeasonRankMaxXP( f38_arg2 + 1 )
	end
	return f38_local0, f38_local1
end

local f0_local13 = function ( f34_arg0, f34_arg1, f34_arg2 )
	local f34_local0 = f34_arg0.isElderFirstTime
	f34_arg0.isElderFirstTime = false
	f34_arg0.currentRank = f34_arg0.currentRank + 1
	f34_arg0.earnedTypeXP = f34_arg0.earnedTypeXP - f34_arg2
	local f34_local1, f34_local2 = f0_local0( f34_arg0, f34_arg1, f34_arg0.currentRank )
	local f34_local3 = f34_local2 - f34_local1
	f34_arg0.XPValue:SetAlpha( 0, 100 )
	if CONDITIONS.IsInKoreanIGRPaidSession( f34_arg0 ) then
		f34_arg0.AARIGRXPBonusTip:SetAlpha( 0, 100 )
	end
	ACTIONS.AnimateSequence( f34_arg0, "RankUp" )
	Engine[0xC4146BA76D0F982]( SOUND_SETS.aar.generic_rankUp )
	local f34_local4 = 100
	if f34_arg0.isElder then
		local f34_local5 = "SeasonRankUpNoPrestigeAnimation"
	else
		local f34_local5 = "MilitaryRankUpAnimation"
	end
	if f34_local0 then
		local f34_local5 = "FirstTimeElderRankUp"
	end
	f34_local4 = f34_arg0.GenericProgressionFullscreen:PlayRankUpUnlockSequence( f34_local5 )
	f34_arg0._rankUpAnimationDuration = f34_local4
	f34_arg0.didRankUp = true
	local f34_local6 = nil
	if f34_arg0.isElder and PROGRESSION.GetPlayerRank( f34_arg1 ) > PROGRESSION.GetMaxRank() then
		f34_local6 = f34_arg0.finalSeasonXP <= f34_arg0.currentXP
	else
		f34_local6 = f34_arg0.finalXP <= f34_arg0.currentXP
	end
	local f34_local7 = f34_arg0:Wait( f34_local4 )
	f34_local7.onComplete = function ()
		f34_arg0.GenericProgressionFullscreen.RadialProgressBar:SetProgress( 0, 0, LUI.EASING.snap, true )
		f34_arg0.GenericProgressionFullscreen:SetAlpha( 1 )
		f34_arg0.XPValueCurrent:setText( 0 )
		f34_arg0.XPValueCurrent:setupTextValueIntTween( 0, 0, 1, LUI.EASING.inOutSine, Engine[0xED84C33EC5F01EA]( "AAR/XP_PROGRESS" ), f34_arg0 )
		if not f34_arg0 then
			f34_arg0.GenericProgressionFullscreen:Navigate( f34_arg0, 1, false )
		end
		if f34_arg0.forceQuit or f34_arg0 or f34_arg0.xpDisplayFinished then
			local f35_local0 = f34_arg0:Wait( f34_arg0 )
			f35_local0.onComplete = function ()
				f35_local0:dispatchEventToCurrentMenu( {
					name = AAR.PARADE_PROGRESS_DONE
				} )
			end
			
		else
			local f35_local0 = f34_arg0:Wait( f34_arg0 )
			f35_local0.onComplete = function ()
				f35_local0:dispatchEventToCurrentMenu( {
					name = AAR.PARADE_PROGRESS_DONE
				} )
			end
			
		end
	end
	
end

local f0_local14 = function ( f33_arg0, f33_arg1 )
	f33_arg0.GenericProgressionFullscreen:SetVisibility( LUI.Visibility.Hidden )
	f33_arg0.GenericProgressionFullscreen:SetAlpha( 0 )
	f33_arg0:RemoveElement( f33_arg0.GenericProgressionFullscreen )
	f33_arg0.GenericProgressionFullscreenElder:SetVisibility( LUI.Visibility.Visible )
	f33_arg0.GenericProgressionFullscreen = f33_arg0.GenericProgressionFullscreenElder
	f33_arg0.currentRank = -1
	f33_arg0.preRank = f33_arg0.preSeasonRank
	f33_arg0.finalRank = f33_arg0.finalSeasonRank
	f33_arg0.earnedTotalXP = f33_arg0.earnedSeasonXP
	f33_arg0.finalXP = f33_arg0.finalSeasonXP
	f33_arg0.earnedTypeXP = f33_arg0.earnedSeasonXP
	f0_local0( f33_arg0, f33_arg1, 0 )
end

local f0_local15 = function ( f32_arg0, f32_arg1, f32_arg2 )
	if f32_arg0[f32_arg2] then
		f32_arg0:RemoveElement( f32_arg0[f32_arg2] )
		f32_arg0[f32_arg2] = nil
	end
	local f32_local0 = nil
	f32_local0 = MenuBuilder.BuildRegisteredType( "GenericProgressionFullscreen", {
		controllerIndex = f32_arg1
	} )
	f32_local0.id = f32_arg2
	f32_local0:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, 0, _1080p * 1080 )
	f32_arg0:addElement( f32_local0 )
	f32_arg0[f32_arg2] = f32_local0
end

local f0_local16 = function ( f30_arg0, f30_arg1 )
	local f30_local0 = {
		rankDisplay = PROGRESSION.GetRankDisplay( f30_arg0.currentRank ),
		rankIcon = PROGRESSION.GetRankBigIcon( f30_arg0.currentRank )
	}
	local f30_local1 = f30_arg0.currentRank
	local f30_local2 = f30_arg0.currentRank + 1
	if CONDITIONS.IsInKoreanIGRPaidSession( f30_arg0 ) then
		f30_arg0.AARIGRXPBonusTip:SetAlpha( 0, 0 )
	end
	f30_arg0.ProgressText:setText( "" )
	if not f30_arg0._playedXPIntro then
		f30_arg0:DisplayAARRankIntro( f30_arg1, false )
	end
	local f30_local3 = f30_arg0:Wait( f0_local0 )
	f30_local3.onComplete = function ()
		f30_arg0.progressDisplayFinished = true
		f30_arg0( f30_arg0, f30_arg0 )
	end
	
end

local f0_local17 = function ( f28_arg0, f28_arg1 )
	if f28_arg0.currentXP >= PROGRESSION.GetPlayerLifeTimeMaxXP() then
		local f28_local0 = PROGRESSION.GetRankDisplay( f28_arg0.currentRank )
		local f28_local1 = f28_arg0:Wait( f0_local0 )
		f28_local1.onComplete = function ()
			f28_arg0.progressDisplayFinished = true
			f28_arg0.forceQuit = true
			f28_arg0.SpecialLabel:SetAlpha( 0, 100 )
			f28_arg0( f28_arg0, f28_arg0 )
		end
		
		return true
	else
		return false
	end
end

local f0_local18 = function ( f27_arg0, f27_arg1 )
	f0_local0( f27_arg0, f27_arg1, false, 0, false )
	LUI.FlowManager.RequestAddMenu( "BattlePassMenuPopup", true, f27_arg1, true, {
		displayBattlePassInAAR = true,
		battlePassData = {
			startTierXP = f27_arg0.startBattlepassXP,
			currentTierXP = f27_arg0.currentBattlepassXP,
			battlepassTimeXP = f27_arg0.battlepassTimeXP,
			battlepassChallengeXP = f27_arg0.battlepassChallengeXP,
			startTier = BATTLEPASS.GetTierByXP( f27_arg1, f27_arg0.startBattlepassXP ),
			currentTier = BATTLEPASS.GetTierByXP( f27_arg1, f27_arg0.currentBattlepassXP ),
			isDoubleXPActive = LOOT.IsDoubleBattlePassXPActive()
		}
	}, true )
end

local f0_local19 = function ( f26_arg0, f26_arg1, f26_arg2 )
	f0_local0( f26_arg0, f26_arg1, true, 0, false )
	f26_arg0.GenericProgressionFullscreen:SetVisibility( LUI.Visibility.Visible )
	f26_arg0.GenericProgressionFullscreen:SetAlpha( 0 )
	ACTIONS.AnimateSequence( f26_arg0.GenericProgressionFullscreen, "AARIntro" )
	f26_arg0.GenericProgressionFullscreen:UpdateGridVisibiilty( LUI.Visibility.Hidden )
	f26_arg0.ProgressText:SetAlpha( 1, 100 )
	f26_arg0.GenericProgressionFullscreen:SetAlpha( 1, 100 )
	if f26_arg0.isElder then
		local f26_local0 = "AAR/PRESTIGE_PROGRESS"
	else
		local f26_local0 = "LUA_MENU/RANK_PROGRESS"
	end
	local f26_local0
	if f26_arg2 then
		if f26_arg0.isElder then
			f26_local0 = "AAR/PRESTIGE_LEVEL_UP"
		else
			f26_local0 = "AAR/RANK_LEVEL_UP"
		end
	end
	f26_arg0.ProgressText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( f26_local0 ) ) )
	f26_arg0._playedXPIntro = true
end

local f0_local20 = function ( f25_arg0, f25_arg1, f25_arg2, f25_arg3, f25_arg4 )
	local f25_local0 = SEASON.GetCurrentSeason()
	local f25_local1 = f25_arg3
	local f25_local2 = f25_arg0.finalSeasonXP - f25_arg0.earnedSeasonXP
	local f25_local3 = PROGRESSION.GetPlayerSeasonLevel( f25_arg1, f25_local0 )
	local f25_local4 = {
		useLiveData = false,
		ref = 0,
		disableNavigation = true,
		progressionType = f25_arg4,
		currentUnlockedLevel = f25_local1,
		imageData = {
			imageName = PROGRESSION.GetRankBigIcon( f25_local1, f25_local0 ),
			width = _1080p * 272,
			height = _1080p * 272
		},
		season = f25_local0,
		rankUpType = f25_arg4,
		currentXP = f25_local2
	}
	local f25_local5
	if f25_arg4 == PROGRESSION.TYPE.Prestige then
		f25_local5 = PROGRESSION.LEVELS_PER_PRESTIGE_MILESTONE
		if not f25_local5 then
		
		else
			local f25_local6 = PROGRESSION.GetProgressionDataFromAllUnlocks( f25_arg1, PROGRESSION.GetSeasonNextRankUnlocks( 0, f25_local3 + f25_local5, false, f25_local0, f25_arg4 == PROGRESSION.TYPE.Prestige ) )
			local f25_local7 = PROGRESSION.GetPreviousSeasonPrestigeRankTotal( f25_arg1, math.max( 0, f25_local0 - 1 ) ) * 50
			if f25_arg4 == PROGRESSION.TYPE.Prestige then
				for f25_local11, f25_local12 in pairs( f25_local6 ) do
					f25_local12.levelImage = PROGRESSION.GetPrestigeRankBigIcon( f25_local11 )
				end
			else
				for f25_local11, f25_local12 in pairs( f25_local6 ) do
					f25_local12.levelImage = PROGRESSION.GetPrestigeRankBigIcon( math.min( PROGRESSION.GetPlayerMilestoneForLevel( f25_local7 + f25_local11, false ), PROGRESSION.GetMaxPrestigeForSeason( f25_local0 ) ) + 1 )
				end
			end
			if f25_local6[0] then
				for f25_local9 = CountTableKeys( f25_local6 ) + 1, 0, -1 do
					f25_local6[f25_local9] = f25_local6[f25_local9 - 1]
				end
			end
			f25_arg2:SetUp( f25_arg1, f25_local4, f25_local6, f25_local4.currentUnlockedLevel, "" )
			f25_arg2:HidePreviousUnlocks()
			ACTIONS.AnimateSequence( f25_arg2, "HidePreviousStatic" )
		end
	end
	f25_local5 = PROGRESSION.MAX_VISIBLE_UNLOCK_ITEMS
end

local f0_local21 = function ( f20_arg0, f20_arg1 )
	DebugPrint( "$$$ Displaying the Earned XP Animation, earned xp is " .. f20_arg0.earnedTypeXP )
	local f20_local0 = f20_arg0.currentRank == PROGRESSION.GetPlayerLifeTimeMaxRank()
	local f20_local1, f20_local2 = f0_local0( f20_arg0, f20_arg1, f20_arg0.currentRank )
	local f20_local3 = f20_local2 - f20_local1
	local f20_local4 = f20_arg0.earnedTypeXP
	local f20_local5 = f20_arg0.currentXP - f20_local1
	local f20_local6 = nil
	local f20_local7 = f20_arg0.currentXP + f20_local4
	if f20_arg0.isElder and PROGRESSION.GetPlayerRank( f20_arg1 ) > PROGRESSION.GetMaxRank() then
		if f20_arg0.finalSeasonXP < f20_local7 then
			f20_local4 = f20_arg0.finalSeasonXP - f20_arg0.currentXP
			f20_local7 = f20_arg0.finalSeasonXP
		end
	elseif f20_arg0.finalXP < f20_local7 then
		f20_local4 = f20_arg0.finalXP - f20_arg0.currentXP
		f20_local7 = f20_arg0.finalXP
	end
	local f20_local8 = f20_local2 <= f20_local7
	if f20_local8 then
		f20_local6 = f20_arg0.currentRank == PROGRESSION.GetMaxRank() - 1
		f20_local4 = f20_local2 - f20_arg0.currentXP
	end
	if not f20_arg0._setupProgressionForMilitaryXP then
		f20_arg0._setupProgressionForMilitaryXP = true
		if f20_arg0.isElder and not f20_local6 then
			f0_local0( f20_arg0, f20_arg1, f20_arg0.GenericProgressionFullscreen, f20_arg0.currentRank + 1, PROGRESSION.TYPE.Season )
		else
			local f20_local9 = SEASON.GetCurrentSeason()
			local f20_local10 = f20_arg0.currentRank
			local f20_local11 = {
				disableNavigation = true,
				useLiveData = false,
				ref = 0,
				progressionType = PROGRESSION.TYPE.Player,
				currentUnlockedLevel = f20_local10,
				imageData = {
					imageName = PROGRESSION.GetRankBigIcon( f20_local10, f20_local9 ),
					width = _1080p * 272,
					height = _1080p * 272
				},
				rankUpType = PROGRESSION.TYPE.Player,
				currentXP = f20_arg0.currentXP
			}
			local f20_local12 = {}
			local f20_local13 = PROGRESSION.GetProgressionDataFromAllUnlocks( f20_arg1, PROGRESSION.GetNextRankUnlocks( 0, PROGRESSION.MAX_VISIBLE_UNLOCK_ITEMS, true ) )
			for f20_local17, f20_local18 in pairs( f20_local13 ) do
				f20_local18.levelImage = PROGRESSION.GetRankBigIcon( f20_local17, f20_local9 )
			end
			f20_arg0.GenericProgressionFullscreen:SetUp( f20_arg1, f20_local11, f20_local13, f20_local11.currentUnlockedLevel, "" )
		end
		if f20_arg0.isElder and f20_local6 then
			f0_local0( f20_arg0, f20_arg1, "GenericProgressionFullscreenElder" )
			f0_local0( f20_arg0, f20_arg1, f20_arg0.GenericProgressionFullscreenElder, 1, PROGRESSION.TYPE.Prestige )
			f20_arg0.GenericProgressionFullscreenElder:SetVisibility( LUI.Visibility.Hidden )
		end
	end
	if not f20_arg0._playedXPIntro then
		f20_arg0:DisplayAARRankIntro( f20_arg1, f20_local8 )
	end
	if f0_local0( f20_arg0, f20_arg1 ) then
		
	else
		
	end
	local f20_local9 = (f20_arg0.currentXP + f20_local4 - f20_local1) / f20_local3
	local f20_local10 = f20_arg0.matchInfoPackage[f20_arg0.currentDisplayType].value
	if not f20_arg0.didRankUp then
		f20_local5 = f20_local3 - f20_local4
	end
	local f20_local11 = f20_arg0:Wait( f0_local0 )
	f20_local11.onComplete = function ()
		local f21_local0 = 1
		local f21_local1 = {
			type = f20_arg0.currentDisplayType,
			fillRate = f20_arg0,
			earnedXP = f20_arg0,
			curRank = f20_arg0.currentRank,
			nextRank = f20_arg0.currentRank + 1,
			hideIndicator = f20_arg0,
			fillDuration = f20_arg0._rankUpAnimationDuration
		}
		if not f20_arg0.didRankUp then
			f20_arg0.XPValue:SetScale( 0.2, 0 )
			f20_arg0.XPValue:SetAlpha( 0, 0 )
			f20_arg0.XPValue:SetScale( 0, 200, LUI.EASING.outCubic )
			f20_arg0.XPValue:SetAlpha( 1, 200, LUI.EASING.outCubic )
			f20_arg0.XPValue:setText( Engine[0xED84C33EC5F01EA]( "AAR/PLUS_XP", f20_arg0.earnedTotalXP ) )
		end
		f21_local0 = f20_arg0.GenericProgressionFullscreen.RadialProgressBar:UpdateFill( f21_local1.fillRate, f21_local1.fillDuration, LUI.EASING.inOutQuartic, true )
		Engine[0xC4146BA76D0F982]( SOUND_SETS.aar.xpEarnStart )
		f20_arg0._xpGainSoundID = Engine[0xC4146BA76D0F982]( SOUND_SETS.aar.xpEarnTick )
		if 1 < f21_local0 then
			local f21_local2 = f20_arg0:Wait( f21_local0 )
			f21_local2.onComplete = function ()
				Engine[0xC4146BA76D0F982]( SOUND_SETS.aar.xpEarnEnd )
			end
			
		end
		if 0 < f20_arg0 then
			f20_arg0.XPValueCurrent:setText( 0 )
			if f20_arg0 then
				f20_arg0.XPValueCurrent:setupTextValueIntTween( f20_arg0, f20_arg0, f21_local0, LUI.EASING.inOutSine, Engine[0xED84C33EC5F01EA]( "AAR/XP_PROGRESS" ), f20_arg0 )
			else
				f20_arg0.XPValueCurrent:setupTextValueIntTween( f20_arg0, f20_arg0, f21_local0, LUI.EASING.inOutSine, Engine[0xED84C33EC5F01EA]( "AAR/XP_PROGRESS" ), f20_arg0 )
			end
			if CONDITIONS.IsInKoreanIGRPaidSession( f20_arg0 ) then
				f20_arg0.AARIGRXPBonusTip:SetAlpha( 1, 100 )
			end
		end
		local f21_local3 = f20_arg0:Wait( f21_local0 * 0.9 )
		f21_local3.onComplete = function ()
			Engine[0xC738A7A46EDBB34]( f21_local0._xpGainSoundID )
			f21_local0.currentXP = f21_local0.currentXP + f21_local0
			if f21_local0 then
				if f21_local0 then
					f21_local0.currentXP = 0
					f21_local0( f21_local0, f21_local0 )
				elseif not f21_local0 then
					f21_local0( f21_local0, f21_local0, f21_local0 )
				else
					f21_local0( f21_local0, f21_local0 )
				end
			else
				if f21_local0.currentDisplayType < AAR.MAX_XP_TYPE_DISPLAY_NUM then
					f21_local0.currentDisplayType = f21_local0.currentDisplayType + 1
					f21_local0.earnedTypeXP = f21_local0.matchInfoPackage[f21_local0.currentDisplayType].value
				else
					f21_local0.xpDisplayFinished = true
				end
				local f22_local0 = f21_local0:Wait( f21_local0 )
				f22_local0.onComplete = function ()
					f22_local0( f22_local0, f22_local0 )
				end
				
			end
		end
		
	end
	
end

local f0_local22 = function ( f18_arg0, f18_arg1 )
	f0_local0( f18_arg0, f18_arg1, false, 0, false )
	f0_local0( f18_arg0, f18_arg1, "GenericProgressionFullscreen" )
	local f18_local0 = f18_arg0.matchInfoPackage[AAR.ProgressTypes.WEAPON_RANK_UP].currentWeaponIndex
	f18_arg0.matchInfoPackage[AAR.ProgressTypes.WEAPON_RANK_UP].currentWeaponIndex = f18_local0 - 1
	local f18_local1 = f18_arg0.weaponRankUpData[f18_local0].weaponRef
	local f18_local2 = f18_arg0.weaponRankUpData[f18_local0]
	if f18_arg0.operatorUsedRef then
		f18_arg0.XPBoostSources:SetShowSynergyBonus( StringTable[0x2DCF0973239E909]( CSV.operators.file, CSV.operators.cols.ref, f18_arg0.operatorUsedRef, CSV.operators.cols.favoriteWeapon ) == f18_local1 )
	end
	local f18_local3 = {
		disableNavigation = true,
		useLiveData = false,
		progressionType = PROGRESSION.TYPE.Weapon,
		ref = f18_local1,
		currentUnlockedLevel = PROGRESSION.GetWeaponRankFromXP( f18_arg1, f18_local2.startXP, f18_local1 ),
		imageData = {
			imageName = WEAPON.GetBWImage( f18_local1 )
		},
		rankUpType = PROGRESSION.TYPE.Weapon,
		currentXP = f18_local2.startXP
	}
	local f18_local4 = 100
	local f18_local5 = f18_local4 + 100
	local f18_local6 = PROGRESSION.GetWeaponProgressionData( f18_arg1, f18_local1 )
	local f18_local7 = WEAPON.GetName( f18_local3.ref )
	f18_arg0.ProgressText:setText( Engine[0xED84C33EC5F01EA]( "CAS/PROGRESSION_NEXT_UNLOCKS", f18_local7 ) )
	f18_arg0.ProgressText:SetAlpha( 1, f18_local4 )
	ACTIONS.AnimateSequence( f18_arg0.GenericProgressionFullscreen, "WeaponRankUpState" )
	f18_arg0.GenericProgressionFullscreen:SetUp( f18_arg1, f18_local3, f18_local6, f18_local3.currentUnlockedLevel, Engine[0xED84C33EC5F01EA]( "CAS/PROGRESSION_NEXT_UNLOCKS", f18_local7 ) )
	f18_arg0.GenericProgressionFullscreen:UpdateGridVisibiilty( LUI.Visibility.Hidden )
	f18_arg0.GenericProgressionFullscreen:SetVisibility( LUI.Visibility.Visible )
	f18_arg0.GenericProgressionFullscreen:SetAlpha( 1, f18_local4 )
	local f18_local8 = f18_local2.currentXP
	local f18_local9 = PROGRESSION.GetWeaponRankFromXP( f18_arg1, f18_local2.startXP, f18_local3.ref )
	local f18_local10 = f18_arg0:Wait( f18_local5 )
	f18_local10.onComplete = function ()
		f18_arg0.GenericProgressionFullscreen:AddXP( f18_arg0, f18_arg0.startXP, f18_arg0 - f18_arg0.startXP, f18_arg0 )
	end
	
end

local f0_local23 = function ( f16_arg0, f16_arg1 )
	f0_local0( f16_arg0, f16_arg1, false, 0, false )
	f0_local0( f16_arg0, f16_arg1, "GenericProgressionFullscreen" )
	local f16_local0 = f16_arg0.matchInfoPackage[AAR.ProgressTypes.OPERATOR_RANK_UP].currentOperatorIndex
	f16_arg0.matchInfoPackage[AAR.ProgressTypes.OPERATOR_RANK_UP].currentOperatorIndex = f16_local0 - 1
	local f16_local1 = f16_arg0.operatorRankUpData[f16_local0].operatorRef
	local f16_local2 = f16_arg0.operatorRankUpData[f16_local0]
	local f16_local3 = f16_local2.startRank
	f16_arg0.XPBoostSources:SetShowSynergyBonus( f16_arg0.operatorUsedRef )
	local f16_local4 = {
		disableNavigation = true,
		useLiveData = false,
		progressionType = PROGRESSION.TYPE.Operator,
		ref = f16_local1,
		currentUnlockedLevel = f16_local3,
		imageData = {
			imageName = OPERATOR.GetIcon( f16_local1 )
		},
		rankUpType = PROGRESSION.TYPE.Operator,
		currentXP = f16_local2.startXP
	}
	local f16_local5 = 100
	local f16_local6 = f16_local5 + 100
	local f16_local7 = PROGRESSION.GetOperatorProgressionData( f16_arg1, f16_local1 )
	local f16_local8 = OPERATOR.GetName( f16_local4.ref )
	f16_arg0.ProgressText:setText( Engine[0xED84C33EC5F01EA]( "CAS/PROGRESSION_NEXT_UNLOCKS", f16_local8 ) )
	f16_arg0.ProgressText:SetAlpha( 1, f16_local5 )
	f16_arg0.GenericProgressionFullscreen:SetUp( f16_arg1, f16_local4, f16_local7, f16_local4.currentUnlockedLevel, Engine[0xED84C33EC5F01EA]( "CAS/PROGRESSION_NEXT_UNLOCKS", f16_local8 ) )
	f16_arg0.GenericProgressionFullscreen:UpdateGridVisibiilty( LUI.Visibility.Hidden )
	f16_arg0.GenericProgressionFullscreen:SetVisibility( LUI.Visibility.Visible )
	f16_arg0.GenericProgressionFullscreen:SetAlpha( 1, f16_local5 )
	local f16_local9 = f16_local2.currentXP
	local f16_local10 = f16_arg0:Wait( f16_local6 )
	f16_local10.onComplete = function ()
		f16_arg0.GenericProgressionFullscreen:AddXP( f16_arg0, f16_arg0.startXP, f16_arg0 - f16_arg0.startXP, f16_arg0 )
	end
	
end

local f0_local24 = function ( f14_arg0, f14_arg1 )
	local f14_local0 = f14_arg0.matchDataPackage
	local f14_local1 = ""
	local f14_local2 = ToUpperCase( Engine[0xED84C33EC5F01EA]( "AAR/DOUBLE_MATCH_XP" ) )
	local f14_local3 = false
	if Engine[0xC6AD5341E93DFB3]() then
		local f14_local4 = Engine[0x9237EF7C5DD8727]()
		if f14_local4 == f0_local0.eHalf or f14_local4 == f0_local0.eZero then
			f14_local3 = true
			f14_local1 = ""
			f14_local2 = ToUpperCase( Engine[0xED84C33EC5F01EA]( "AAR/WEGAME_DOUBLE_MATCH_XP_" .. tostring( f14_local4 ) ) )
		end
	end
	f14_arg0.preRank = f14_local0.preRank
	f14_arg0.finalRank = f14_local0.curRank
	f14_arg0._isMultiRankUp = 1 < f14_local0.curRank - f14_local0.preRank
	f14_arg0._setupProgressionForMilitaryXP = false
	f14_arg0.earnedTotalXP = f14_local0.earnedXP
	f14_arg0.finalXP = f14_local0.currentXP
	f14_arg0.isElder = f14_local0.isElder
	f14_arg0.isElderFirstTime = f14_local0.isElderFirstTime
	f14_arg0.isGainingElderXP = f14_local0.isGainingElderXP
	f14_arg0.isRankXPMax = PROGRESSION.IsPlayerLifeTimeXPMax( f14_arg1 )
	f14_arg0.startBattlepassXP = f14_local0.startTierXP
	f14_arg0.currentBattlepassXP = f14_local0.currentTierXP
	f14_arg0.preSeasonRank = f14_local0.preSeasonRank
	f14_arg0.finalSeasonRank = f14_local0.curSeasonRank
	f14_arg0.earnedSeasonXP = f14_local0.earnedSeasonXP
	f14_arg0.finalSeasonXP = f14_local0.currentSeasonXP
	f14_arg0.battlepassTimeXP = f14_local0.battlepassTimeXP
	f14_arg0.battlepassChallengeXP = f14_local0.battlepassChallengeXP
	f14_arg0.weaponRankUpData = f14_local0.weaponsRankedUp
	f14_arg0.operatorRankUpData = f14_local0.operatorsRankedUp
	f14_arg0.operatorUsedRef = nil
	if f14_local0.operatorUsedFavWeapon and f14_local0.operatorUsedId ~= 0 then
		f14_arg0.operatorUsedRef = OPERATOR.GetLootRefFromID( f14_local0.operatorUsedId )
	end
	local f14_local4 = f14_local0.earnedXP
	if f14_arg0.isElder and not f14_arg0.isElderFirstTime then
		f14_arg0.preRank = f14_local0.preSeasonRank
		f14_arg0.finalRank = f14_local0.curSeasonRank
		f14_arg0.earnedTotalXP = f14_local0.earnedSeasonXP
		f14_arg0.finalXP = f14_local0.currentSeasonXP
		f14_local4 = f14_local0.earnedSeasonXP
	end
	f14_arg0.matchInfoPackage = {
		[AAR.ProgressTypes.MATCH_XP] = {
			value = f14_local4,
			name = f14_local1,
			isAntiAddiction = f14_local3
		},
		[AAR.ProgressTypes.WEAPON_RANK_UP] = {
			name = f14_local1,
			isAntiAddiction = f14_local3,
			currentWeaponIndex = #f14_local0.weaponsRankedUp
		},
		[AAR.ProgressTypes.OPERATOR_RANK_UP] = {
			name = f14_local1,
			isAntiAddiction = f14_local3,
			currentOperatorIndex = #f14_local0.operatorsRankedUp
		}
	}
	local f14_local5, f14_local6 = f0_local0( f14_arg0, f14_arg1, f14_arg0.preRank )
	local f14_local7 = f14_local6 - f14_local5
	f14_arg0.currentRank = f14_arg0.preRank
	f14_arg0.currentXP = f14_arg0.finalXP - f14_arg0.earnedTotalXP
	local f14_local8 = f14_arg0.currentXP - f14_local5
	f14_arg0.GenericProgressionFullscreen.RadialProgressBar:SetProgress( (f14_arg0.currentXP + f14_arg0.earnedTotalXP - f14_local5) / f14_local7, 0, LUI.EASING.snap, true )
	ACTIONS.AnimateSequence( f14_arg0, "DisplayRegularRank" )
	f14_arg0.XPValueCurrent:setText( Engine[0xED84C33EC5F01EA]( "AAR/XP_PROGRESS", f14_local8, f14_local7 ) )
	f14_arg0.currentDisplayType = AAR.ProgressTypes.MATCH_XP
	f14_arg0.earnedTypeXP = f14_arg0.matchInfoPackage[f14_arg0.currentDisplayType].value
	f14_arg0.startCommonCrate = AAR.GetCurrencyStartAmount( f14_local0, LOOT.CurrencyIDs.SALVAGE )
	f14_arg0.currentCommonCrate = AAR.GetCurrencyCurrentAmount( f14_local0, LOOT.CurrencyIDs.SALVAGE )
	f0_local0( f14_arg0, f14_arg1, false, 0, false )
	local f14_local9
	if f14_arg0._isFromBattlepassAAR then
		f14_local9 = 100
	else
		f14_local9 = f0_local0
	end
	local f14_local10 = f14_arg0:Wait( f14_local9 )
	f14_local10.onComplete = function ()
		f14_arg0._currentStateIndex = 1
		if f14_arg0._isFromBattlepassAAR then
			f14_arg0( f14_arg0, f14_arg0, false, 0, false )
			f14_arg0._currentStateIndex = AAR.ParadeState.BATTLE_PASS_XP + 1
		end
		local f15_local0 = ParadeStateFlowTable[f14_arg0._currentStateIndex]
		if not f15_local0.EnterConditionFunction( f14_arg0, f14_arg0 ) then
			
		else
			
		end
		f14_arg0.SpecialLabel:SetDecodeParams( 0, 0, 0 )
		f15_local0.DisplayFunction( f14_arg0, f14_arg0 )
	end
	
end

local f0_local25 = function ( f12_arg0, f12_arg1 )
	if CONDITIONS.IsLeaguePlay() then
		LEAGUE_PLAY.AdvanceAARWhenReady( f12_arg0, f0_local0 )
	else
		ACTIONS.AnimateSequence( f12_arg0, "Outro" )
		local f12_local0 = f12_arg0:Wait( f0_local0 )
		f12_local0.onComplete = function ()
			f12_arg0:dispatchEventToCurrentMenu( {
				name = AAR.PARADE_DONE
			} )
			ACTIONS.AdvancePostGame( f12_arg0 )
		end
		
	end
end

local f0_local26 = function ( f8_arg0, f8_arg1, f8_arg2 )
	if f8_arg0:getFirstChild() then
		
	else
		
	end
	f8_arg0._playedXPIntro = false
	f8_arg0._rankUpAnimationDuration = 0
	f8_arg0._isFromBattlepassAAR = f8_arg2.fromBattlepassAAR
	f8_arg0.matchDataPackage = f8_arg2.matchDataPackage
	f8_arg0.KeyRewardStateUpdate = KeyRewardStateUpdate
	f8_arg0.DisplayAARRankIntro = f0_local0
	f8_arg0:addElement( MenuBuilder.BuildRegisteredType( "FrontendCameraMover", {
		enableSway = false,
		controllerIndex = f8_arg1
	} ) )
	Engine[0x6055C55456F05DF]( "set_ui_background_image", 2 )
	ParadeStateFlowTable[AAR.ParadeState.XP_NONE].DisplayFunction = f0_local0
	ParadeStateFlowTable[AAR.ParadeState.BATTLE_PASS_XP].DisplayFunction = f0_local0
	ParadeStateFlowTable[AAR.ParadeState.XP].DisplayFunction = f0_local0
	ParadeStateFlowTable[AAR.ParadeState.WEAPON_RANK_UP].DisplayFunction = f0_local0
	ParadeStateFlowTable[AAR.ParadeState.OPERATOR_RANK_UP].DisplayFunction = f0_local0
	ParadeStateFlowTable.ExitFunction = f0_local0
	f0_local0( f8_arg0, f8_arg1 )
	f8_arg0:registerEventHandler( AAR.PARADE_PROGRESS_DONE, function ( element, event )
		f8_arg0( f8_arg0, f8_arg0 )
	end )
	f8_arg0:registerEventHandler( AAR.PARADE_BATTLE_PASS_DONE, function ( element, event )
		Engine[0xC4146BA76D0F982]( SOUND_SETS.aarrewards.progressCircleStop )
		f8_arg0.battlePassXPFinished = true
		f8_arg0( f8_arg0, f8_arg0 )
	end )
	f8_arg0.XPBoostSources:SetAlpha( 1, 100 )
	ACTIONS.ScaleFullscreen( f8_arg0.Overlay )
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f8_arg0, "AR" )
	end
	f8_arg0:addEventHandler( "menu_close", function ( f9_arg0, f9_arg1 )
		if f8_arg0._xpGainSoundID then
			Engine[0xC738A7A46EDBB34]( f8_arg0._xpGainSoundID )
		end
	end )
end

function AARParade( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "AARParade"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = MenuBuilder.BuildRegisteredType( "GenericBackgroundFullscreen", {
		controllerIndex = f1_local1
	} )
	Background.id = "Background"
	ACTIONS.ScaleFullscreen( Background )
	Background:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * 2, _1080p * 2, 0, 0 )
	self:addElement( Background )
	self.Background = Background
	
	local f1_local4 = nil
	if CONDITIONS.IsInKoreanIGRPaidSession() then
		f1_local4 = MenuBuilder.BuildRegisteredType( "AARIGRXPBonusTip", {
			controllerIndex = f1_local1
		} )
		f1_local4.id = "AARIGRXPBonusTip"
		f1_local4:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -400, _1080p * 400, _1080p * -201, _1080p * -1 )
		self:addElement( f1_local4 )
		self.AARIGRXPBonusTip = f1_local4
	end
	local XPValue = nil
	
	XPValue = LUI.UIStyledText.new()
	XPValue.id = "XPValue"
	XPValue:SetRGBFromTable( SWATCHES.highlight.vYellowHighlight, 0 )
	XPValue:setText( "", 0 )
	XPValue:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_LHeaderBold.font.File ) )
	XPValue:SetFontSize( FONT_STYLES.fontStyle_LHeaderBold.size )
	XPValue:SetMinFontSize( FONT_STYLES.fontStyle_LHeaderBold.minSize )
	XPValue:SetWordWrap( false )
	XPValue:SetAlignment( LUI.Alignment.Center )
	XPValue:SetVerticalAlignment( LUI.Alignment.Center )
	XPValue:SetSDFRenderingEnabled( true )
	XPValue:SetShadowRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	XPValue:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -200, _1080p * 200, _1080p * 525, _1080p * 595 )
	self:addElement( XPValue )
	self.XPValue = XPValue
	
	local XPValueCurrent = nil
	
	XPValueCurrent = LUI.UIStyledText.new()
	XPValueCurrent.id = "XPValueCurrent"
	XPValueCurrent:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	XPValueCurrent:setText( "", 0 )
	XPValueCurrent:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_XSSubHeaderBold.font.File ) )
	XPValueCurrent:SetFontSize( FONT_STYLES.fontStyle_XSSubHeaderBold.size )
	XPValueCurrent:SetMinFontSize( FONT_STYLES.fontStyle_XSSubHeaderBold.minSize )
	XPValueCurrent:SetWordWrap( false )
	XPValueCurrent:SetAlignment( LUI.Alignment.Center )
	XPValueCurrent:SetVerticalAlignment( LUI.Alignment.Center )
	XPValueCurrent:SetSDFRenderingEnabled( true )
	XPValueCurrent:SetShadowRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	XPValueCurrent:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -187, _1080p * 173, _1080p * 491, _1080p * 529 )
	self:addElement( XPValueCurrent )
	self.XPValueCurrent = XPValueCurrent
	
	local SpecialLabel = nil
	
	SpecialLabel = LUI.UIStyledText.new()
	SpecialLabel.id = "SpecialLabel"
	SpecialLabel:SetRGBFromTable( SWATCHES.text.buttonTextHighlighted, 0 )
	SpecialLabel:SetAlpha( 0, 0 )
	SpecialLabel:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/MAX_RANK" ), 0 )
	SpecialLabel:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	SpecialLabel:SetFontSize( 32 * _PT )
	SpecialLabel:SetMinFontSize( 16 * _PT )
	SpecialLabel:SetWordWrap( true )
	SpecialLabel:SetAlignment( LUI.Alignment.Center )
	SpecialLabel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 342, _1080p * 1582, _1080p * 405, _1080p * 525 )
	self:addElement( SpecialLabel )
	self.SpecialLabel = SpecialLabel
	
	local ProgressText = nil
	
	ProgressText = LUI.UIStyledText.new()
	ProgressText.id = "ProgressText"
	ProgressText:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	ProgressText:setText( "", 0 )
	ProgressText:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_LHeaderBold.font.File ) )
	ProgressText:SetFontSize( FONT_STYLES.fontStyle_LHeaderBold.size )
	ProgressText:SetMinFontSize( FONT_STYLES.fontStyle_LHeaderBold.minSize )
	ProgressText:SetWordWrap( false )
	ProgressText:SetAlignment( LUI.Alignment.Center )
	ProgressText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 570, _1080p * 1354, _1080p * 80, _1080p * 162 )
	self:addElement( ProgressText )
	self.ProgressText = ProgressText
	
	local XPIconShadow = nil
	
	XPIconShadow = LUI.UIImage.new()
	XPIconShadow.id = "XPIconShadow"
	XPIconShadow:SetVisibility( LUI.Visibility.Hidden )
	XPIconShadow:SetRGBFromTable( SWATCHES.Global.keyColorNormal, 0 )
	XPIconShadow:SetAlpha( 0, 0 )
	XPIconShadow:SetScale( 1, 0 )
	XPIconShadow:setImage( RegisterMaterial( "aar_doubleXP_pixels" ), 0 )
	XPIconShadow:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 870, _1080p * 1054, _1080p * 342, _1080p * 526 )
	self:addElement( XPIconShadow )
	self.XPIconShadow = XPIconShadow
	
	local Cinematic = nil
	
	Cinematic = MenuBuilder.BuildRegisteredType( "Cinematic", {
		controllerIndex = f1_local1
	} )
	Cinematic.id = "Cinematic"
	Cinematic:SetVisibility( LUI.Visibility.Hidden )
	Cinematic:SetAlpha( 0, 0 )
	Cinematic:SetBlendMode( BLEND_MODE.addWithAlpha )
	self:addElement( Cinematic )
	self.Cinematic = Cinematic
	
	local MaxRankLabel = nil
	
	MaxRankLabel = LUI.UIText.new()
	MaxRankLabel.id = "MaxRankLabel"
	MaxRankLabel:SetRGBFromTable( SWATCHES.Global.keyColor, 0 )
	MaxRankLabel:SetAlpha( 0, 0 )
	MaxRankLabel:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/MAX_RANK" ), 0 )
	MaxRankLabel:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	MaxRankLabel:SetFontSize( 54 * _PT )
	MaxRankLabel:SetMinFontSize( 16 * _PT )
	MaxRankLabel:SetWordWrap( true )
	MaxRankLabel:SetAlignment( LUI.Alignment.Left )
	MaxRankLabel:SetSDFRenderingEnabled( true )
	MaxRankLabel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 848, _1080p * 1070, _1080p * 725, _1080p * 785 )
	self:addElement( MaxRankLabel )
	self.MaxRankLabel = MaxRankLabel
	
	local MessageLabel = nil
	
	MessageLabel = LUI.UIText.new()
	MessageLabel.id = "MessageLabel"
	MessageLabel:SetAlpha( 0, 0 )
	MessageLabel:setText( "", 0 )
	MessageLabel:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	MessageLabel:SetFontSize( 16 * _PT )
	MessageLabel:SetMinFontSize( 16 * _PT )
	MessageLabel:SetWordWrap( true )
	MessageLabel:SetAlignment( LUI.Alignment.Center )
	MessageLabel:SetSDFRenderingEnabled( true )
	MessageLabel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 645, _1080p * 1319, _1080p * 725, _1080p * 743 )
	self:addElement( MessageLabel )
	self.MessageLabel = MessageLabel
	
	local GenericProgressionFullscreen = nil
	
	GenericProgressionFullscreen = MenuBuilder.BuildRegisteredType( "GenericProgressionFullscreen", {
		controllerIndex = f1_local1
	} )
	GenericProgressionFullscreen.id = "GenericProgressionFullscreen"
	GenericProgressionFullscreen:SetVisibility( LUI.Visibility.Hidden )
	GenericProgressionFullscreen:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, _1080p * 20, _1080p * 1100 )
	self:addElement( GenericProgressionFullscreen )
	self.GenericProgressionFullscreen = GenericProgressionFullscreen
	
	local XPBoostSources = nil
	
	XPBoostSources = MenuBuilder.BuildRegisteredType( "XPBoostSources", {
		controllerIndex = f1_local1
	} )
	XPBoostSources.id = "XPBoostSources"
	XPBoostSources:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1424, _1080p * 1824, _1080p * 54, _1080p * 204 )
	self:addElement( XPBoostSources )
	self.XPBoostSources = XPBoostSources
	
	local Overlay = nil
	
	Overlay = LUI.UIImage.new()
	Overlay.id = "Overlay"
	ACTIONS.ScaleFullscreen( Overlay )
	Overlay:SetRGBFromInt( 0, 0 )
	Overlay:SetAlpha( 0, 0 )
	self:addElement( Overlay )
	self.Overlay = Overlay
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local16 = nil
	Overlay:RegisterAnimationSequence( "Outro", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 1,
			duration = 300,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Outro = function ()
		menu:AnimateSequence( "Outro" )
	end
	
	self._sequenceLengths.Outro = 300
	local f1_local17 = nil
	Overlay:RegisterAnimationSequence( "Intro", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "ui_default_white" )
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Intro = function ()
		menu:AnimateSequence( "Intro" )
	end
	
	self._sequenceLengths.Intro = 100
	local f1_local18 = nil
	ProgressText:RegisterAnimationSequence( "DisplayRegularRank", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	XPIconShadow:RegisterAnimationSequence( "DisplayRegularRank", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 526
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 342
		}
	} )
	self._sequences.DisplayRegularRank = function ()
		menu:AnimateSequence( "DisplayRegularRank" )
		menu:AnimateSequence( "DisplayRegularRank" )
	end
	
	self._sequenceLengths.DisplayRegularRank = 0
	local f1_local19 = nil
	GenericProgressionFullscreen:RegisterAnimationSequence( "RankUp", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible,
			easing = LUI.EASING.snap
		}
	} )
	Overlay:RegisterAnimationSequence( "RankUp", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.highlight.vYellowHighlight
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "widg_gradient_top_to_bottom" )
		},
		{
			value = 0,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 4.6672616413205735E-62,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.highlight.vYellowHighlight
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "widg_gradient_top_to_bottom" )
		},
		{
			value = 0,
			duration = 300,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.RankUp = function ()
		menu:AnimateSequence( "RankUp" )
		menu:AnimateSequence( "RankUp" )
	end
	
	self._sequenceLengths.RankUp = 400
	local f1_local20 = nil
	ProgressText:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 55
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 137
		}
	} )
	MessageLabel:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 498
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 528
		}
	} )
	self._sequences.AR = function ()
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
	end
	
	self._sequenceLengths.AR = 0
	f0_local0( self, f1_local1, controller )
	ACTIONS.AnimateSequence( self, "Intro", controller )
	return self
end

MenuBuilder.registerType( "AARParade", AARParade )
LockTable( _M )
