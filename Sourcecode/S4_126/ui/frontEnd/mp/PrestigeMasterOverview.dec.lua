-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.widgets.DoubleNotchedBacker" )
require( "ui.frontEnd.CountdownTimerDays" )
local f0_local0 = 6 * _1080p
local f0_local1 = function ( f4_arg0, f4_arg1 )
	f4_arg0._controllerIndex = f4_arg1
	if f4_arg0.PrestigeOverviewGrid ~= nil then
		f4_arg0.PrestigeOverviewGrid:closeTree()
	end
	f4_arg0.PrestigeOverviewGrid = LUI.UIGrid.new( {
		scrollingThresholdX = 1,
		maxVisibleColumns = 2,
		wrapY = true,
		maxVisibleRows = 6,
		maxVelocity = 5000,
		adjustSizeToContent = true,
		scrollingThresholdY = 1,
		wrapX = true,
		springCoefficient = 400,
		controllerIndex = f4_arg0._controllerIndex,
		primaryAxis = LUI.DIRECTION.vertical,
		spacingX = f0_local0,
		spacingY = f0_local0,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	local f4_local0 = f4_arg0.HeaderBacker:GetCurrentAnchorsAndPositions()
	local f4_local1 = f4_arg0.PrestigeOverviewGrid:GetCurrentAnchorsAndPositions()
	f4_local1.top = f4_local0.bottom + f0_local0
	f4_arg0.PrestigeOverviewGrid:SetAnchorsAndPosition( f4_local1.leftAnchor, f4_local1.rightAnchor, f4_local1.topAnchor, f4_local1.bottomAnchor, f4_local1.left, f4_local1.right, f4_local1.top, f4_local1.bottom )
	f4_arg0:addElement( f4_arg0.PrestigeOverviewGrid )
	for f4_local2 = 1, 12, 1 do
		local f4_local5 = MenuBuilder.BuildRegisteredType( "PrestigeMasterRow", {
			controllerIndex = f4_arg0._controllerIndex
		} )
		f4_arg0.PrestigeOverviewGrid:AddElement( f4_local5 )
		f4_local5:SetupRow( {
			rank = f4_local2
		}, f4_arg0._controllerIndex )
		f4_local5.id = "PrestigeMasterRow_" .. tostring( f4_local2 )
	end
end

local f0_local2 = function ( f3_arg0 )
	local f3_local0 = Dvar[0x22EAAB59AA27E9B]( "#x393e3bb6ad183d322" )
	local f3_local1 = Engine[0xF16311E3FCA3DCF]()
	if f3_local1 and f3_local0 and f3_local1 < f3_local0 then
		f3_arg0.SeasonResetTimer:SetVisible( true )
		f3_arg0.SeasonResetTimer:SetupTimer( f3_local0, "SEASONS_TUALPHA/SEASON_RESETS_IN" )
	else
		f3_arg0.SeasonResetTimer:SetVisible( false )
	end
end

local f0_local3 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f0_local0( f2_arg0, f2_arg1 )
	f0_local0( f2_arg0 )
end

function PrestigeMasterOverview( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1200 * _1080p, 0, 640 * _1080p )
	self.id = "PrestigeMasterOverview"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local HeaderBacker = nil
	
	HeaderBacker = MenuBuilder.BuildRegisteredType( "DoubleNotchedBacker", {
		controllerIndex = f1_local1
	} )
	HeaderBacker.id = "HeaderBacker"
	HeaderBacker.Background:SetRGBFromTable( SWATCHES.CAC.panelBacker, 0 )
	HeaderBacker:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1200, 0, _1080p * 132 )
	self:addElement( HeaderBacker )
	self.HeaderBacker = HeaderBacker
	
	local Description = nil
	
	Description = LUI.UIStyledText.new()
	Description.id = "Description"
	Description:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	Description:SetAlpha( 0.75, 0 )
	Description:setText( Engine[0xED84C33EC5F01EA]( "SEASONS_TUALPHA/PRESTIGE_MASTER_RIBBON_DESC" ), 0 )
	Description:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_MBodyText.font.File ) )
	Description:SetFontSize( FONT_STYLES.fontStyle_MBodyText.size )
	Description:SetMinFontSize( FONT_STYLES.fontStyle_MBodyText.minSize )
	Description:SetWordWrap( true )
	Description:SetTracking( FONT_STYLES.fontStyle_MBodyText.tracking * _1080p, 0 )
	Description:SetLeading( FONT_STYLES.fontStyle_MBodyText.leading * _1080p, 0 )
	Description:SetAlignment( LUI.Alignment.Left )
	Description:SetMaxVisibleLines( 2 )
	Description:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 15, _1080p * -15, _1080p * 77, _1080p * 117 )
	self:addElement( Description )
	self.Description = Description
	
	local SeasonResetTimer = nil
	
	SeasonResetTimer = MenuBuilder.BuildRegisteredType( "CountdownTimerDays", {
		controllerIndex = f1_local1
	} )
	SeasonResetTimer.id = "SeasonResetTimer"
	SeasonResetTimer:SetAlpha( 0.75, 0 )
	SeasonResetTimer:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 15, _1080p * -15, _1080p * 51, _1080p * 71 )
	self:addElement( SeasonResetTimer )
	self.SeasonResetTimer = SeasonResetTimer
	
	local Title = nil
	
	Title = LUI.UIStyledText.new()
	Title.id = "Title"
	Title:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	Title:setText( Engine[0xED84C33EC5F01EA]( "SEASONS_TUALPHA/PRESTIGE_MASTER_OVERVIEW" ), 0 )
	Title:setCaseStyle( LUI.CaseStyle.Uppercase )
	Title:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_LHeaderBold.font.File ) )
	Title:SetFontSize( FONT_STYLES.fontStyle_LHeaderBold.size )
	Title:SetMinFontSize( FONT_STYLES.fontStyle_LHeaderBold.minSize )
	Title:SetWordWrap( false )
	Title:SetLeading( -2 * _1080p, 0 )
	Title:SetAlignment( LUI.Alignment.Left )
	Title:SetMaxVisibleLines( 1 )
	Title:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 15, _1080p * -15, _1080p * 10, _1080p * 60 )
	self:addElement( Title )
	self.Title = Title
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "PrestigeMasterOverview", PrestigeMasterOverview )
LockTable( _M )
