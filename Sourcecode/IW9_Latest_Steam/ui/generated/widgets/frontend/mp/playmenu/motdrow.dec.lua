-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:49
module( ..., package.seeall )
require( "ui.generated.widgets.motdwebview" )
local f0_local0 = 72 * _1080p
local f0_local1 = 20 * _1080p
local f0_local2 = 0.8
local f0_local3 = 350
local f0_local4 = function ( f4_arg0, f4_arg1, f4_arg2, f4_arg3, f4_arg4 )
	f4_arg0._currentRowIndex = f4_arg3
	f4_arg0._isCurrentRow = f4_arg0._currentRowIndex == f4_arg0._rowIndex
	if f4_arg2 then
		local f4_local0
		if f4_arg4 then
			f4_local0 = 0
		else
			f4_local0 = f4_arg0._vertTransitionDuration
		end
		if 0 < f4_arg2 and f4_arg0._isCurrentRow then
			f4_arg0.MOTDWebView:SetTop( f4_arg0._motdDefaultPosition.top, f4_local0, f4_arg0._vertTransitionEasing )
			f4_arg0.MOTDWebView:SetBottom( f4_arg0._motdDefaultPosition.bottom, f4_local0, f4_arg0._vertTransitionEasing )
		elseif f4_arg2 < 0 and not f4_arg0._isCurrentRow then
			f4_arg0.MOTDWebView:SetTop( f4_arg0._motdVerticalPosition.top, f4_local0, f4_arg0._vertTransitionEasing )
			f4_arg0.MOTDWebView:SetBottom( f4_arg0._motdVerticalPosition.bottom, f4_local0, f4_arg0._vertTransitionEasing )
		else
			f4_arg0.MOTDWebView:SetTop( f4_arg0._motdDefaultPosition.top )
			f4_arg0.MOTDWebView:SetBottom( f4_arg0._motdDefaultPosition.bottom )
		end
	end
	LAYOUT.EnableTriggerZones( f4_arg0, f4_arg4 )
	if not f4_arg0._isCurrentRow then
		f4_arg0.MOTDWebView:processEvent( {
			name = "lose_focus",
			controller = f4_arg1
		} )
	else
		if not f4_arg4 then
			Engine[0xC4146BA76D0F982]( SOUND_SETS.default.gainFocus )
		end
		f4_arg0.MOTDWebView:processEvent( {
			name = "gain_focus",
			controller = f4_arg1
		} )
		local f4_local0 = LUI.WebViewManager.Instance()
		f4_local0:SwitchMainMenuContext( LUI.WebViewManager.MOTD_CONTEXT )
	end
end

local f0_local5 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.ChangeRow = f0_local0
	f2_arg0._rowIndex = f2_arg2.rowIndex
	f2_arg0._currentRowIndex = 1
	f2_arg0._isCurrentRow = f2_arg0._rowIndex == 1
	f2_arg0._motdDefaultPosition = f2_arg0.MOTDWebView:GetAnchorsAndPosition()
	f2_arg0._motdVerticalPosition = {}
	f2_arg0._motdVerticalPosition.top = -1080 * _1080p + f2_arg0._motdDefaultPosition.bottom + f0_local0
	f2_arg0._motdVerticalPosition.bottom = f2_arg0._motdVerticalPosition.top + f2_arg0._motdDefaultPosition.bottom - f2_arg0._motdDefaultPosition.top
	local f2_local0 = function ( f3_arg0, f3_arg1 )
		if f3_arg0._isCurrentRow then
			f3_arg0.MOTDWebView:processEvent( {
				name = "gain_focus",
				controller = f3_arg1.controllerIndex,
				focusType = FocusType.MenuFlow
			} )
		end
	end
	
	LAYOUT.AddNavigationAreasToRow( f2_arg0, true, false )
	LAYOUT.EnableTriggerZones( f2_arg0, true )
	f2_arg0:addEventHandler( "update_input_type", f2_local0, {
		controllerIndex = f2_arg1
	} )
end

function MOTDRow( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "MOTDRow"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = nil
	if CONDITIONS.IsTelescopeMOTDEnabled() then
		f1_local2 = MenuBuilder.BuildRegisteredType( "MOTDWebView", {
			controllerIndex = f1_local1
		} )
		f1_local2.id = "MOTDWebView"
		f1_local2:SetAnchorsAndPosition( 0, 1, 1, 0, 0, _1080p * 1920, _1080p * -876, _1080p * -120 )
		self:addElement( f1_local2 )
		self.MOTDWebView = f1_local2
	end
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "MOTDRow", MOTDRow )
LockTable( _M )
