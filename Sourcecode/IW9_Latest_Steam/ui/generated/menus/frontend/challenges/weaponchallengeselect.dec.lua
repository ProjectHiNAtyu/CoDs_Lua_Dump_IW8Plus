-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:49
module( ..., package.seeall )
require( "ui.generated.widgets.scrollbar.verticalscrollbar" )
require( "ui.generated.widgets.frontend.weapons.weapontabsbutton" )
require( "ui.generated.widgets.frontend.mp.cas.uniquecamounlocks" )
require( "ui.generated.widgets.frontend.mp.cas.weaponchallengeunlock" )
local f0_local0 = {
	ORION = 4,
	GOLD = 1,
	PLAT = 2,
	ELEMENT = 3
}
local f0_local1 = {
	nil,
	"GOLD",
	"PLAT",
	"DAMA",
	"camo_orion_unlock"
}
local f0_local2 = {
	WEAPON.ARClass,
	WEAPON.battleClass,
	WEAPON.SMGClass,
	WEAPON.LMGClass,
	WEAPON.SHOTGUNClass,
	WEAPON.DMRClass,
	WEAPON.sniperClass,
	WEAPON.pistolClass,
	WEAPON.LAUNCHERClass,
	WEAPON.MELEEClass
}
local f0_local3 = function ( f20_arg0, f20_arg1, f20_arg2 )
	local f20_local0 = 0
	local f20_local1 = f20_arg2.uniqueCamoIDs or f20_arg2
	local f20_local2 = #f20_local1
	for f20_local6, f20_local7 in ipairs( f20_local1 ) do
		if LOOT.IsUnlockedWithID( f20_arg1, f20_local7 ) then
			f20_local0 = f20_local0 + 1
		end
	end
	if f20_arg2.completionistCamoIDs then
		for f20_local6, f20_local7 in ipairs( f20_arg2.completionistCamoIDs ) do
			if LOOT.IsUnlockedWithID( f20_arg1, f20_local7 ) then
				f20_local0 = f20_local0 + 1
			end
		end
		f20_local2 = f20_local2 + #f20_arg2.completionistCamoIDs
	end
	return {
		f20_local0,
		f20_local2
	}
end

local f0_local4 = function ( f19_arg0, f19_arg1, f19_arg2 )
	local f19_local0 = 0
	for f19_local4, f19_local5 in ipairs( f19_arg1 ) do
		if Challenge.IsChallengeComplete( f19_arg0._controllerIndex, f19_local5 ) then
			f19_local0 = f19_local0 + 1
		end
	end
	for f19_local4, f19_local5 in ipairs( f19_arg2 ) do
		if Challenge.IsChallengeComplete( f19_arg0._controllerIndex, f19_local5 ) then
			f19_local0 = f19_local0 + 1
		end
	end
	return f19_local0
end

local f0_local5 = function ( f18_arg0, f18_arg1 )
	local f18_local0 = {}
	for f18_local9, f18_local10 in ipairs( f18_arg0._weaponTable ) do
		if f18_local10.uniqueCamoIDs then
			for f18_local7, f18_local8 in ipairs( f18_local10.uniqueCamoIDs ) do
				table.insert( f18_local0, f18_local8 )
			end
		end
		if f18_local10.completionistCamoIDs then
			for f18_local7, f18_local8 in ipairs( f18_local10.completionistCamoIDs ) do
				table.insert( f18_local0, f18_local8 )
			end
		end
	end
	f18_local1 = f0_local0( f18_arg0, f18_arg1, f18_local0 )
	return {
		f18_local1[1],
		f18_local1[2]
	}
end

local f0_local6 = function ( f17_arg0, f17_arg1, f17_arg2 )
	local f17_local0 = nil
	if f17_arg1 == f0_local0.GOLD then
		f17_local0 = StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.loot, f17_arg2.completionistCamoIDs[f17_arg1], CSV.gunsmithChallenges.cols.ref ) .. "_unlock"
	elseif f17_arg1 == f0_local0.PLAT then
		local f17_local1 = WEAPON.GetWeaponShortenedClassName( f17_arg2.weapon )
		if not LUI.StringIsNilOrEmpty( f17_local1 ) then
			f17_local0 = "camo_platinum_" .. f17_local1 .. "_unlock"
		end
	elseif f17_arg1 == f0_local0.ELEMENT then
		f17_local0 = "camo_damascus_unlock"
	end
	return f17_local0
end

local f0_local7 = function ( f16_arg0, f16_arg1, f16_arg2, f16_arg3 )
	local f16_local0 = {
		imageSize = "ImageFull",
		removeText = true,
		buttonData = {}
	}
	for f16_local1 = 1, #f16_arg0._uniqueButtons, 1 do
		local f16_local4 = f16_arg0._uniqueButtons[f16_local1]
		if f16_arg2.uniqueCamoIDs[f16_local1] then
			f16_local0.buttonData.image = LOOT.GetItemImageByID( f16_arg2.uniqueCamoIDs[f16_local1] )
			f16_local4:SetupButton( f16_local0 )
			local f16_local5 = f16_arg2.uniqueCamoChallengeIDs[f16_local1]
			if not f16_local5 then
				f16_local5 = StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.loot, f16_arg2.uniqueCamoIDs[f16_local1], CSV.gunsmithChallenges.cols.id )
			end
			f16_local4._challengeID = f16_local5
			if f16_local4._challengeID then
				f16_local5 = PROGRESSION.GetChallengeUnlockWeaponLevel( f16_arg2.ref, f16_local4._challengeID ) + 1
				if not (f16_local5 <= f16_arg2.weaponLevel) then
					f16_local4:SetDisabled( true )
					f16_local4:SetProgress( f16_arg1, 1 - LUI.clamp( (f16_arg2.weaponLevel - 1) / f16_local5, 0, 1 ) )
				end
				local f16_local6 = tonumber( f16_arg2.uniqueCamoIDs[f16_local1] )
				f16_local4._isUnlocked = LOOT.IsUnlockedWithID( f16_arg1, f16_local6 )
				f16_local4._challengeAmount = tonumber( StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.loot, f16_local6, CSV.gunsmithChallenges.cols.amount ) ) or 0
				f16_local4._challengeProgress = Challenge.GetChallengeProgress( f16_arg1, f16_local4._challengeID ) or 0
				f16_local4:SetDisabled( not f16_local4._isUnlocked )
				if not f16_local4._isUnlocked then
					if f16_local4._challengeAmount and 0 < f16_local4._challengeAmount and f16_local4._challengeProgress then
						f16_local4:SetProgress( f16_arg1, LUI.clamp( f16_local4._challengeProgress / f16_local4._challengeAmount, 0, 1 ) )
					else
						f16_local4:SetProgressHidden()
					end
				end
				ACTIONS.AnimateSequence( f16_local4, "enable" )
			end
		end
		f16_local4:SetAlpha( 0 )
	end
	for f16_local1 = 1, #f16_arg0._completionistButtons, 1 do
		local f16_local4 = f16_arg0._completionistButtons[f16_local1]
		if f16_arg2.completionistCamoIDs[f16_local1] then
			f16_local0.buttonData.image = "ui_camo_comp_0" .. f16_local1
			f16_local4:SetupButton( f16_local0 )
			f16_local4._challengeID = f16_arg2.completionistCamoChallengeIDs[f16_local1]
			if f16_local4._challengeID then
				local f16_local5 = f0_local0( f16_arg0, f16_local1, f16_arg2 )
				local f16_local7 = {}
				if f16_local1 == f0_local0.ORION then
					f16_local7 = {
						challengeDesc = 0xE774EE8451AD9C9,
						isCompletionistOrion = true,
						challengeAmount = 3,
						challengeProgress = f0_local0( f16_arg0, {}, f16_arg2.completionistCamoChallengeIDs ),
						controllerIndex = f16_arg1,
						isOrionUnlocked = PROGRESSION.AreGoldPlatAndPolyatomicCamosUnlocked( f16_arg2.weapon, f16_arg1 )
					}
				elseif not LUI.StringIsNilOrEmpty( f16_local5 ) then
					local f16_local6 = StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.ref, f16_local5, CSV.gunsmithChallenges.cols.id )
					f16_local7 = {
						isCompletionist = true,
						challengeID = f16_local6,
						challengeDesc = StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.ref, f16_local5, CSV.gunsmithChallenges.cols.desc ),
						challengeAmount = tonumber( StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.ref, f16_local5, CSV.gunsmithChallenges.cols.amount ) ),
						challengeProgress = Challenge.GetChallengeProgress( f16_arg1, f16_local6 ),
						controllerIndex = f16_arg1
					}
				end
				local f16_local6 = tonumber( f16_arg2.completionistCamoIDs[f16_local1] )
				local f16_local8 = LOOT.IsUnlockedWithID( f16_arg1, f16_local6 )
				local f16_local9 = GL_HACK.IsCamoChallengeLockedForcingZeroProgress() and not f16_local8
				local f16_local10
				if f16_local9 then
					f16_local10 = 0
				else
					f16_local10 = f16_local7.challengeProgress
				end
				f16_local7.challengeProgress = f16_local10
				if f16_local7.challengeAmount > f16_local7.challengeProgress then
					f16_local4:SetDisabled( true )
					f16_local4:SetProgress( f16_arg1, 1 - LUI.clamp( f16_local7.challengeProgress / f16_local7.challengeAmount, 0, 1 ) )
				end
				f16_local4._isUnlocked = f16_local8
				f16_local4._challengeAmount = tonumber( StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.loot, f16_local6, CSV.gunsmithChallenges.cols.amount ) ) or 0
				if f16_local9 then
					f16_local10 = 0
				else
					f16_local10 = Challenge.GetChallengeProgress( f16_arg1, f16_local4._challengeID )
				end
				f16_local4._challengeProgress = f16_local10
				f16_local4:SetDisabled( not f16_local4._isUnlocked )
				if not f16_local4._isUnlocked then
					if f16_local4._challengeAmount and 0 < f16_local4._challengeAmount and f16_local4._challengeProgress then
						f16_local4:SetProgress( f16_arg1, LUI.clamp( f16_local4._challengeProgress / f16_local4._challengeAmount, 0, 1 ) )
					else
						f16_local4:SetProgressHidden()
					end
				end
				ACTIONS.AnimateSequence( f16_local4, "enable" )
			end
		end
		f16_local4:SetAlpha( 0 )
	end
end

local f0_local8 = function ( f15_arg0, f15_arg1 )
	local f15_local0 = ""
	local f15_local1 = false
	if not f15_arg1.isBase then
		local f15_local2 = f15_arg1.isBase == nil
	end
	local f15_local3 = StringTable[0x2DCF0973239E909]( CSV.gunChallenges.file, CSV.gunChallenges.cols.loot, f15_arg1.lootID, CSV.gunChallenges.cols.id )
	local f15_local4 = GUNSMITH.GetProgressionUnlockWeaponAndLevel( f15_arg1.weapon )
	local f15_local5
	if f15_local4 then
		f15_local5 = tonumber( f15_local4.unlockLevel )
		if not f15_local5 then
		
		else
			if not LUI.StringIsNilOrEmpty( f15_local3 ) then
				if not LUI.StringIsNilOrEmpty( StringTable[0x2DCF0973239E909]( CSV.gunChallenges.file, CSV.gunChallenges.cols.loot, f15_arg1.lootID, CSV.gunChallenges.cols.challenge2Desc ) ) then
					f15_local1 = true
				else
					f15_local0 = Engine[0xED84C33EC5F01EA]( StringTable[0x2DCF0973239E909]( CSV.gunChallenges.file, CSV.gunChallenges.cols.loot, f15_arg1.lootID, CSV.gunChallenges.cols.desc ) )
				end
			elseif f15_local5 and 0 < f15_local5 then
				local f15_local6 = PROGRESSION.GetUnlockWeaponAndLevelText( f15_arg1.weapon )
				if not LUI.StringIsNilOrEmpty( f15_local6 ) then
					f15_local0 = f15_local6
				end
			else
				f15_local0 = PROGRESSION.GetUnlockText( LOOT.itemTypes.WEAPON, f15_arg1.weapon )
			end
			if f15_local1 then
				f15_arg0.WeaponChallengeUnlock:SetChallenges( f15_local3, f15_arg0._controllerIndex )
				f15_arg0.WeaponChallengeUnlock:SetAlpha( 1 )
			else
				f15_arg0.WeaponChallengeUnlock:SetAlpha( 0 )
			end
			return f15_local0
		end
	end
	f15_local5 = -1
end

local f0_local9 = function ( f11_arg0, f11_arg1, f11_arg2, f11_arg3, f11_arg4 )
	f11_arg2:SetupChallenge( f11_arg1, f11_arg3 )
	local f11_local0 = f0_local0( f11_arg0, f11_arg1, f11_arg3 )
	if f11_local0 and f11_arg2.CamosUnlocked then
		f11_arg2.CamosUnlocked:setText( Engine[0xED84C33EC5F01EA]( 0x589B9D3130DD7A5, f11_local0[1], f11_local0[2] ) )
		f11_arg3.unlockedCount = f11_local0[1]
	end
	f11_arg2:addEventHandler( "button_over", function ( f14_arg0, f14_arg1 )
		f11_arg0.WeaponName:setText( Engine[0xED84C33EC5F01EA]( 0xA4A0761584464FB, f14_arg0._weaponData.header ) )
		f11_arg0.LockedText:setText( Engine[0xED84C33EC5F01EA]( 0x20AD454ABAF087C, f14_arg0._weaponData.header, Engine[0xED84C33EC5F01EA]( 0xA823644ECC975C0 ) ) )
		f11_arg0.LockIcon:SetAlpha( 0 )
		f11_arg0.LockConnector:SetAlpha( 0 )
		f11_arg0.WeaponChallengeUnlock:SetAlpha( 0 )
		local f14_local0 = f11_arg0.UniqueCamoUnlocks.UpdateChallengeWeaponName
		local f14_local1 = f11_arg0.UniqueCamoUnlocks
		local f14_local2 = f14_arg0._weaponData.header
		if not f14_local2 then
			f14_local2 = f11_arg0._weaponTable[f11_arg0].header
		end
		f14_local0( f14_local1, f14_local2 )
		f14_local0 = f11_arg0
		f14_local1 = f11_arg0
		f14_local2 = f11_arg0
		local f14_local3 = f14_arg0._weaponData
		if not f14_local3 then
			f14_local3 = f11_arg0._weaponTable[f11_arg0]
		end
		f14_local0( f14_local1, f14_local2, f14_local3 )
	end )
	f11_arg2:addEventHandler( "button_over_disable", function ( f13_arg0, f13_arg1 )
		f11_arg0.WeaponName:setText( f13_arg0._weaponData.header )
		f11_arg0.LockedText:setText( f11_arg0( f11_arg0, f13_arg0._weaponData ) )
		f11_arg0.LockIcon:SetAlpha( 1 )
		f11_arg0.LockConnector:SetAlpha( 1 )
		local f13_local0 = f11_arg0.UniqueCamoUnlocks.UpdateChallengeWeaponName
		local f13_local1 = f11_arg0.UniqueCamoUnlocks
		local f13_local2 = f13_arg0._weaponData.header
		if not f13_local2 then
			f13_local2 = f11_arg0._weaponTable[f11_arg0].header
		end
		f13_local0( f13_local1, f13_local2 )
		f13_local0 = f11_arg0
		f13_local1 = f11_arg0
		f13_local2 = f11_arg0
		local f13_local3 = f13_arg0._weaponData
		if not f13_local3 then
			f13_local3 = f11_arg0._weaponTable[f11_arg0]
		end
		f13_local0( f13_local1, f13_local2, f13_local3 )
	end )
	f11_arg2:addEventHandler( "button_action", function ( f12_arg0, f12_arg1 )
		LUI.FlowManager.RequestAddMenu( "WeaponCamoChallengeSelect", false, f12_arg1.controller, nil, {
			weaponData = f11_arg0 or f12_arg0._weaponData
		}, true )
	end )
end

local f0_local10 = function ( f10_arg0, f10_arg1, f10_arg2 )
	local f10_local0 = WEAPON.GetWeaponForCamoChallengeId( tonumber( f10_arg2 ) )
	if f10_local0 then
		local f10_local1 = Engine[0x6093D047200548]( "weapondata:" .. f10_local0[0x6D696AD252F1CB1] )
		local f10_local2 = f10_local1[0x9E9C01960F4C582]
		for f10_local8, f10_local9 in ipairs( f10_arg0._weaponTable ) do
			if f10_local9.ref == f10_local2 then
				local f10_local6 = f10_arg0.WeaponGrid:GetPositionForIndex( f10_local8 - 1, {
					relativePosition = false
				} )
				local f10_local7 = f10_arg0.WeaponGrid:GetElementAtPosition( f10_local6.x, f10_local6.y )
				f10_arg0.WeaponGrid:SetFocusedPosition( f10_local6, true, nil, true )
				f10_arg0.WeaponGrid:processEvent( {
					name = "update_grid_list_focus_active",
					child = f10_local7,
					focusType = LUI.IsLastInputGamepad( f10_arg1 ) and FocusType.Gamepad or FocusType.MouseOver
				} )
				break
			end
		end
	end
end

local f0_local11 = function ( f9_arg0, f9_arg1 )
	local f9_local0 = WEAPON.GetWeaponForCamoChallengeId( tonumber( f9_arg1 ) )
	if f9_local0 then
		local f9_local1 = Engine[0x6093D047200548]( "weapondata:" .. f9_local0[0x6D696AD252F1CB1] )
		for f9_local5, f9_local6 in ipairs( f0_local0 ) do
			if f9_local6 == f9_local1[0x56143152458180A] then
				return f9_local5
			end
		end
	end
	return nil
end

local f0_local12 = function ( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg0.FocusChallenge = f0_local0
	f4_arg0.GetChallengeTabIndex = f0_local0
	f4_arg0._controllerIndex = f4_arg1
	f4_arg0._uniqueButtons = {
		f4_arg0.UniqueCamoUnlocks.Unique1,
		f4_arg0.UniqueCamoUnlocks.Unique2,
		f4_arg0.UniqueCamoUnlocks.Unique3,
		f4_arg0.UniqueCamoUnlocks.Unique4
	}
	f4_arg0._completionistButtons = {
		f4_arg0.UniqueCamoUnlocks.Completionist1,
		f4_arg0.UniqueCamoUnlocks.Completionist2,
		f4_arg0.UniqueCamoUnlocks.Completionist3,
		f4_arg0.UniqueCamoUnlocks.Completionist4
	}
	f4_arg0._weaponTable = {}
	local f4_local0 = f0_local0[f4_arg2.currentTabIndex]
	local f4_local1 = WEAPON.GetWeapons()
	assert( f4_local1 )
	for f4_local19, f4_local20 in pairs( f4_local1 ) do
		local f4_local21 = f4_local20[0x6D696AD252F1CB1]
		local f4_local22 = Engine[0x6093D047200548]( "weapondata:" .. f4_local21 )
		local f4_local5 = f4_local22[0x56143152458180A]
		if not f4_local5 then
			f4_local5 = StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f4_local22, CSV.weapons.cols.menuClass )
		end
		if f4_local5 == f4_local0 or f4_local0 == "weapon_melee" and f4_local5 == "weapon_melee2" then
			local f4_local6 = LOOT.IsUnlocked( f4_arg1, LOOT.itemTypes.WEAPON, f4_local21 )
			local f4_local7 = WEAPON.GetCamoDataForWeaponChallenge( f4_arg0, f4_local21, {
				weaponData = f4_local22
			} )
			local f4_local8 = f4_local7.completionistTable
			local f4_local9 = f4_local7.uniqueTable
			table.sort( f4_local8, function ( f8_arg0, f8_arg1 )
				return f8_arg0[0x9E9C01960F4C582] < f8_arg1[0x9E9C01960F4C582]
			end )
			table.sort( f4_local9, function ( f7_arg0, f7_arg1 )
				return PROGRESSION.GetChallengeUnlockWeaponLevel( f4_arg0, tonumber( StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.loot, f7_arg0[0x28887F70BF5EBA], CSV.gunsmithChallenges.cols.id ) ) ) < PROGRESSION.GetChallengeUnlockWeaponLevel( f4_arg0, tonumber( StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.loot, f7_arg1[0x28887F70BF5EBA], CSV.gunsmithChallenges.cols.id ) ) )
			end )
			local f4_local10 = {}
			local f4_local11 = {}
			for f4_local12 = 1, #f4_local9, 1 do
				f4_local10[f4_local12] = tonumber( StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.ref, f4_local21 .. "_camo_" .. f4_local12, CSV.gunsmithChallenges.cols.loot ) )
				f4_local11[f4_local12] = tonumber( StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.ref, f4_local21 .. "_camo_" .. f4_local12, CSV.gunsmithChallenges.cols.id ) )
			end
			if 0 < #f4_local10 then
				local f4_local12 = {}
				local f4_local13 = {}
				for f4_local17, f4_local18 in ipairs( f4_local8 ) do
					table.insert( f4_local12, f4_local18[0x28887F70BF5EBA] )
					if f4_local17 == f0_local0.ORION then
						f4_local13[f4_local17] = tonumber( StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.ref, f0_local0[f4_local17], CSV.gunsmithChallenges.cols.id ) )
					else
						f4_local13[f4_local17] = tonumber( StringTable[0x2DCF0973239E909]( CSV.gunsmithChallenges.file, CSV.gunsmithChallenges.cols.ref, f4_local21 .. "_camo_" .. f0_local0[f4_local17], CSV.gunsmithChallenges.cols.id ) )
					end
				end
				f4_local14 = PROGRESSION.GetWeaponDisplayLevel( f4_arg1, f4_local21 )
				f4_local15 = PROGRESSION.GetMaxWeaponDisplayLevel( f4_local21 )
				f4_local16 = Engine[0xED84C33EC5F01EA]( 0x4A671D1E2689A57, f4_local14, f4_local15 )
				if f4_local15 == 1 then
					f4_local16 = Engine[0xED84C33EC5F01EA]( 0x7ABF9B06C15C397, f4_local14 )
				end
				f4_local17 = {
					isRestricted = false,
					weapon = f4_local21,
					ref = f4_local21,
					name = f4_local22[0x4BCADBA8E631B86],
					desc = f4_local22[0x5EAEF67427CA780],
					class = f4_local22[0x11655952FCBAB9F],
					category = f4_local22[0xBD2E7FFB1224E91],
					menuClass = f4_local5,
					displayOrder = f4_local22[0x4FB3C98AEEAB347],
					lootID = f4_local22[0x28887F70BF5EBA],
					imageBW = f4_local22[0xA141B4ABA47B77B]
				}
				f4_local18 = WEAPON.GetLootWeaponName( f4_local21, f4_local22[0x28887F70BF5EBA] )
				if not f4_local18 then
					f4_local18 = WEAPON.GetName( f4_local21 )
				end
				f4_local17.header = f4_local18
				f4_local17.subHeader = f4_local16
				f4_local17.uniqueCamoIDs = f4_local10
				f4_local17.uniqueCamoChallengeIDs = f4_local11
				f4_local17.completionistCamoIDs = f4_local12
				f4_local17.completionistCamoChallengeIDs = f4_local13
				f4_local17.weaponLevel = f4_local14
				f4_local17.maxWeaponLevel = f4_local15
				f4_local17.isUnlocked = f4_local6
				f4_local17.numBlueprints = #Engine[0x756D55D24F7B53]( f4_local21 )
				f4_local17.attachments = {}
				table.insert( f4_arg0._weaponTable, f4_local17 )
			end
		end
	end
	f4_arg0.WeaponGrid:SetNumChildren( #f4_arg0._weaponTable )
	f4_arg0.WeaponGrid:TouchMouseSetActiveToDefaultFocusMenuCreate( f4_arg1 )
	f4_arg0.WeaponGrid:SetRefreshChild( function ( f6_arg0, f6_arg1, f6_arg2 )
		local f6_local0 = f4_arg0.WeaponGrid:GetContentIndex( f6_arg1, f6_arg2 ) + 1
		f4_arg0( f4_arg0, f4_arg0, f6_arg0, f4_arg0._weaponTable[f6_local0], f6_local0 )
	end )
	if f4_arg0.TotalCamos then
		f4_local2 = f0_local0( f4_arg0, f4_arg1 )
		f4_arg0.TotalCamos:setText( Engine[0xED84C33EC5F01EA]( 0x7C791DD754717AA, Engine[0x7D3158A9539A355]( "^%" .. f4_local2[1] .. "^7" ), f4_local2[2] ) )
	end
	if next( f4_arg0._weaponTable ) == nil then
		f4_arg0.UniqueCamoUnlocks:SetAlpha( 0 )
	else
		f4_arg0.UniqueCamoUnlocks:UpdateForChallengeMenu()
		f4_arg0.UniqueCamoUnlocks:UpdateChallengeWeaponName( WEAPON.GetName( f4_arg0._weaponTable[1].weapon ) )
		f4_arg0.UniqueCamoUnlocks:SetMouseFocusBlocker( true )
		f0_local0( f4_arg0, f4_arg1, f4_arg0._weaponTable[1] )
	end
	if f4_arg0.HelperBar then
		f4_arg0.HelperBar:closeTree()
		f4_arg0.HelperBar = nil
	end
	f4_arg0:AddGamepadEventCallback( "button_secondary", function ( f5_arg0, f5_arg1 )
		ACTIONS.LeaveMenu( f5_arg0 )
	end )
end

function WeaponChallengeSelect( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "WeaponChallengeSelect"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	self.HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	self.HelperBar.id = "HelperBar"
	if CONDITIONS.IsMobileOrMobileSim() then
		self.HelperBar:SetAnchorsAndPosition( 1, 0, 0, 0, _1080p * -120, 0, 0, 0 )
	else
		self.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	end
	self.HelperBar:setPriority( 10 )
	self:addElement( self.HelperBar )
	local f1_local2 = self
	local BackgroundDarkener = nil
	
	BackgroundDarkener = LUI.UIImage.new()
	BackgroundDarkener.id = "BackgroundDarkener"
	ACTIONS.ScaleFullscreen( BackgroundDarkener )
	BackgroundDarkener:SetRGBFromTable( SWATCHES.HUD.background, 0 )
	BackgroundDarkener:SetAlpha( 0.85, 0 )
	self:addElement( BackgroundDarkener )
	self.BackgroundDarkener = BackgroundDarkener
	
	local f1_local4 = nil
	if Engine[0x12586A3F4FB490E]() then
		f1_local4 = LUI.UIImage.new()
		f1_local4.id = "Background"
		ACTIONS.AspectRatioScaleAdjustment( self, f1_local4, LAYOUT.AspectRatioImageScalePct.FADEFRAME_STANDARD )
		f1_local4:setImage( RegisterMaterial( 0x6BD65057C6CB9DD ), 0 )
		f1_local4:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -540, _1080p * 540 )
		self:addElement( f1_local4 )
		self.Background = f1_local4
	end
	local Line = nil
	
	Line = LUI.UIImage.new()
	Line.id = "Line"
	ACTIONS.ScaleStretchAnchorFullscreen( Line )
	Line:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	Line:SetAlpha( 0.08, 0 )
	Line:SetVerticalPivot( LUI.VerticalPivot.Bottom )
	Line:SetBlendMode( BLEND_MODE.addWithAlpha )
	Line:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -872, _1080p * 872, _1080p * -88, _1080p * -86 )
	self:addElement( Line )
	self.Line = Line
	
	local WeaponGridScrollbar = nil
	
	WeaponGridScrollbar = MenuBuilder.BuildRegisteredType( "VerticalScrollbar", {
		controllerIndex = f1_local1
	} )
	WeaponGridScrollbar.id = "WeaponGridScrollbar"
	WeaponGridScrollbar:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	WeaponGridScrollbar:SetAlpha( 0.6, 0 )
	WeaponGridScrollbar:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 1161, _1080p * 1172, _1080p * -815.25, _1080p * -131.25 )
	self:addElement( WeaponGridScrollbar )
	self.WeaponGridScrollbar = WeaponGridScrollbar
	
	local WeaponGrid = nil
	
	WeaponGrid = LUI.UIGrid.new( {
		maxVisibleRows = 3,
		maxVisibleColumns = 3,
		wrapY = false,
		wrapX = false,
		controllerIndex = f1_local1,
		buildChild = function ()
			local f3_local0 = MenuBuilder.BuildRegisteredType( "WeaponTabsButton", {
				controllerIndex = menu
			} )
			f3_local0:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 336, 0, _1080p * 192 )
			return f3_local0
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		spacingX = _1080p * 20,
		spacingY = _1080p * 35,
		columnWidth = _1080p * 336,
		rowHeight = _1080p * 192
	} )
	WeaponGrid.id = "WeaponGrid"
	WeaponGrid:setUseStencil( true )
	WeaponGrid:SetActiveOnMouseOverBehavior( f1_local1 )
	WeaponGrid:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 90, _1080p * 1137, _1080p * -815, _1080p * -131 )
	self:addElement( WeaponGrid )
	self.WeaponGrid = WeaponGrid
	
	local UniqueCamoUnlocks = nil
	
	UniqueCamoUnlocks = MenuBuilder.BuildRegisteredType( "UniqueCamoUnlocks", {
		controllerIndex = f1_local1
	} )
	UniqueCamoUnlocks.id = "UniqueCamoUnlocks"
	UniqueCamoUnlocks:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 1227, _1080p * 1815, _1080p * -650, _1080p * -219 )
	self:addElement( UniqueCamoUnlocks )
	self.UniqueCamoUnlocks = UniqueCamoUnlocks
	
	local WeaponChallengeUnlock = nil
	
	WeaponChallengeUnlock = MenuBuilder.BuildRegisteredType( "WeaponChallengeUnlock", {
		controllerIndex = f1_local1
	} )
	WeaponChallengeUnlock.id = "WeaponChallengeUnlock"
	WeaponChallengeUnlock:SetAlpha( 0, 0 )
	WeaponChallengeUnlock:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1260, _1080p * 1810, _1080p * 342, _1080p * 432 )
	self:addElement( WeaponChallengeUnlock )
	self.WeaponChallengeUnlock = WeaponChallengeUnlock
	
	local LockConnector = nil
	
	LockConnector = LUI.UIBorder.new( {
		borderThicknessLeft = _1080p * 2,
		borderThicknessRight = _1080p * 0,
		borderThicknessTop = _1080p * 0,
		borderThicknessBottom = _1080p * 2
	} )
	LockConnector.id = "LockConnector"
	LockConnector:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	LockConnector:SetAlpha( 0.64, 0 )
	LockConnector:SetBorderThicknessLeft( _1080p * 2, 0 )
	LockConnector:SetBorderThicknessRight( _1080p * 0, 0 )
	LockConnector:SetBorderThicknessTop( _1080p * 0, 0 )
	LockConnector:SetBorderThicknessBottom( _1080p * 2, 0 )
	LockConnector:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1229, _1080p * 1254, _1080p * 336.75, _1080p * 371.75 )
	self:addElement( LockConnector )
	self.LockConnector = LockConnector
	
	local LockedText = nil
	
	LockedText = LUI.UIStyledText.new()
	LockedText.id = "LockedText"
	LockedText:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	LockedText:setText( "", 0 )
	LockedText:setCaseStyle( LUI.CaseStyle.Uppercase )
	LockedText:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	LockedText:SetFontSize( 18 * _PT )
	LockedText:SetMinFontSize( 18 * _PT )
	LockedText:SetWordWrap( true )
	LockedText:SetAlignment( LUI.Alignment.Left )
	LockedText:SetVerticalAlignment( LUI.Alignment.Middle )
	LockedText:SetOptOutRightToLeftAlignmentFlip( true )
	LockedText:SetAutoScroll( AUTOSCROLL.enabled )
	LockedText:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	LockedText:SetStartupDelay( 1000 )
	LockedText:SetLineHoldTime( 400 )
	LockedText:SetAnimMoveTime( 1000 )
	LockedText:SetAnimMoveSpeed( 150 )
	LockedText:SetEndDelay( 1000 )
	LockedText:SetCrossfadeTime( 1000 )
	LockedText:SetFadeInTime( 300 )
	LockedText:SetFadeOutTime( 300 )
	LockedText:SetBackingType( 2 )
	LockedText._backingElement = LUI.UIImage.new()
	LockedText._backingElement:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	LockedText._backingElement:setImage( RegisterMaterial( 0xA62F85CA52AD737 ), 0 )
	LockedText._backingElement:SetupNonUniform9SliceImage( _1080p * 8, _1080p * 8, _1080p * 4, 0, 0.5, 0.5, 0.0078, 0 )
	LockedText._backingElement:SetAnchors( 0, 0, 0, 0 )
	LockedText:SetRenderChildrenFirst( true )
	LockedText:addElement( LockedText._backingElement )
	LockedText:SetBackingElementFitText( 1, _1080p * 550 )
	LockedText:SetBackingIgnoreParentColor( true )
	LockedText:SetBackingLeftPadding( 12 )
	LockedText:SetBackingRightPadding( 8 )
	LockedText:SetBackingTopPadding( 6 )
	LockedText:SetBackingBottomPadding( 4 )
	LockedText:SetMaxVisibleLines( 2 )
	LockedText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1265, _1080p * 1815, _1080p * 360, _1080p * 380 )
	self:addElement( LockedText )
	self.LockedText = LockedText
	
	local LockIcon = nil
	
	LockIcon = LUI.UIImage.new()
	LockIcon.id = "LockIcon"
	LockIcon:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	LockIcon:SetAlpha( 0.8, 0 )
	LockIcon:setImage( RegisterMaterial( 0xCAE1D9A1DE4DFD ), 0 )
	LockIcon:SetBlendMode( BLEND_MODE.addWithAlpha )
	LockIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1206, _1080p * 1254, _1080p * 279.75, _1080p * 327.75 )
	self:addElement( LockIcon )
	self.LockIcon = LockIcon
	
	local WeaponName = nil
	
	WeaponName = LUI.UIStyledText.new()
	WeaponName.id = "WeaponName"
	WeaponName:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	WeaponName:SetAlpha( 0.8, 0 )
	WeaponName:setText( "M4", 0 )
	WeaponName:setCaseStyle( LUI.CaseStyle.Uppercase )
	WeaponName:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	WeaponName:SetFontSize( 70 * _PT )
	WeaponName:SetMinFontSize( 70 * _PT )
	WeaponName:SetWordWrap( false )
	WeaponName:SetAlignment( LUI.Alignment.Left )
	WeaponName:SetOptOutRightToLeftAlignmentFlip( true )
	WeaponName:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1251, _1080p * 1804, _1080p * 264.75, _1080p * 334.75 )
	self:addElement( WeaponName )
	self.WeaponName = WeaponName
	
	local WeaponTitle = nil
	
	WeaponTitle = LUI.UIStyledText.new()
	WeaponTitle.id = "WeaponTitle"
	WeaponTitle:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	WeaponTitle:SetAlpha( 0.8, 0 )
	WeaponTitle:setText( Engine[0xED84C33EC5F01EA]( 0x45DE1D101FC46BF ), 0 )
	WeaponTitle:setCaseStyle( LUI.CaseStyle.Uppercase )
	WeaponTitle:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	WeaponTitle:SetFontSize( 50 * _PT )
	WeaponTitle:SetMinFontSize( 50 * _PT )
	WeaponTitle:SetWordWrap( false )
	WeaponTitle:SetAlignment( LUI.Alignment.Left )
	WeaponTitle:SetVerticalAlignment( LUI.Alignment.Middle )
	WeaponTitle:SetTintFontIcons( true )
	WeaponTitle:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -1830, _1080p * -1112, _1080p * 126, _1080p * 168 )
	self:addElement( WeaponTitle )
	self.WeaponTitle = WeaponTitle
	
	local LineDivider = nil
	
	LineDivider = LUI.UIImage.new()
	LineDivider.id = "LineDivider"
	LineDivider:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	LineDivider:SetAlpha( 0.25, 0 )
	LineDivider:SetVerticalPivot( LUI.VerticalPivot.Top )
	LineDivider:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * 177, _1080p * 178, _1080p * 135, _1080p * 170 )
	self:addElement( LineDivider )
	self.LineDivider = LineDivider
	
	local TotalCamos = nil
	
	TotalCamos = LUI.UIStyledText.new()
	TotalCamos.id = "TotalCamos"
	TotalCamos:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	TotalCamos:SetAlpha( 0.9, 0 )
	TotalCamos:SetVerticalPivot( LUI.VerticalPivot.Top )
	TotalCamos:setText( "", 0 )
	TotalCamos:setCaseStyle( LUI.CaseStyle.Uppercase )
	TotalCamos:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	TotalCamos:SetFontSize( 24 * _PT )
	TotalCamos:SetMinFontSize( 20 * _PT )
	TotalCamos:SetWordWrap( false )
	TotalCamos:SetAlignment( LUI.Alignment.Right )
	TotalCamos:SetVerticalAlignment( LUI.Alignment.Middle )
	TotalCamos:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -201, _1080p * 164, _1080p * 135, _1080p * 173 )
	self:addElement( TotalCamos )
	self.TotalCamos = TotalCamos
	
	local MW2Icon = nil
	
	MW2Icon = LUI.UIImage.new()
	MW2Icon.id = "MW2Icon"
	MW2Icon:SetVisible( false )
	MW2Icon:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	MW2Icon:SetAlpha( 0.7, 0 )
	MW2Icon:SetVerticalPivot( LUI.VerticalPivot.Bottom )
	MW2Icon:setImage( RegisterMaterial( 0xB7D88CD2AC1BA88 ), 0 )
	MW2Icon:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * 736.06, _1080p * 808.06, _1080p * 117, _1080p * 189 )
	self:addElement( MW2Icon )
	self.MW2Icon = MW2Icon
	
	local WZ2Icon = nil
	
	WZ2Icon = LUI.UIImage.new()
	WZ2Icon.id = "WZ2Icon"
	WZ2Icon:SetVisible( false )
	WZ2Icon:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	WZ2Icon:SetAlpha( 0.7, 0 )
	WZ2Icon:SetVerticalPivot( LUI.VerticalPivot.Bottom )
	WZ2Icon:setImage( RegisterMaterial( 0xC9C26EEC7B77F25 ), 0 )
	WZ2Icon:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * 812.06, _1080p * 870.06, _1080p * 121, _1080p * 179 )
	self:addElement( WZ2Icon )
	self.WZ2Icon = WZ2Icon
	
	local DecorativeNumbers = nil
	
	DecorativeNumbers = LUI.UIImage.new()
	DecorativeNumbers.id = "DecorativeNumbers"
	DecorativeNumbers:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	DecorativeNumbers:SetAlpha( 0.2, 0 )
	DecorativeNumbers:setImage( RegisterMaterial( 0x6837645E5E53F5F ), 0 )
	DecorativeNumbers:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 73, _1080p * 82, _1080p * 127, _1080p * 164 )
	self:addElement( DecorativeNumbers )
	self.DecorativeNumbers = DecorativeNumbers
	
	local f1_local20 = LUI.UIScrollbar.new
	local f1_local21 = {
		direction = LUI.DIRECTION.vertical,
		eventListener = WeaponGridScrollbar,
		startCap = WeaponGridScrollbar.startCap,
		endCap = WeaponGridScrollbar.endCap,
		sliderArea = WeaponGridScrollbar.sliderArea
	}
	local f1_local22 = WeaponGridScrollbar.sliderArea
	if f1_local22 then
		f1_local22 = WeaponGridScrollbar.sliderArea.slider
	end
	f1_local21.slider = f1_local22
	f1_local22 = WeaponGridScrollbar.sliderArea
	if f1_local22 then
		f1_local22 = WeaponGridScrollbar.sliderArea.fixedSizeSlider
	end
	f1_local21.fixedSizeSlider = f1_local22
	WeaponGrid:AddScrollbar( f1_local20( f1_local21 ) )
	self.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_primary",
		priority = 1,
		helper_text = Engine[0xED84C33EC5F01EA]( 0xCA07A93FADF9E95 )
	} )
	f0_local0( self, f1_local1, controller )
	if CONDITIONS.IsArabic() then
		ACTIONS.AnimateSequence( self, "CountArabic", controller )
	end
	return self
end

MenuBuilder.registerType( "WeaponChallengeSelect", WeaponChallengeSelect )
LockTable( _M )
