-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
module( ..., package.seeall )
local f0_local0 = -0.8
local f0_local1 = 0.8
local f0_local2 = -0.8
local f0_local3 = 0.8
local f0_local4 = 3500
local f0_local5 = -0.3
local f0_local6 = 0.3
local f0_local7 = -0.3
local f0_local8 = 0.3
local f0_local9 = 4500
local f0_local10 = {
	x = 4294967291,
	width = 1290
}
local f0_local11 = 2
local f0_local12 = 4
local f0_local13 = {
	rightAnchor = 1,
	bottomAnchor = 0,
	topAnchor = 1,
	leftAnchor = 0,
	left = 162 * _1080p,
	right = 1126 * _1080p
}
local f0_local14 = {
	rightAnchor = 1,
	bottomAnchor = 0,
	topAnchor = 1,
	leftAnchor = 0,
	left = 162 * _1080p,
	right = 1126 * _1080p
}
local f0_local15 = {
	rightAnchor = 5.29462817E-315,
	bottomAnchor = 0,
	topAnchor = 1,
	leftAnchor = 5.29462817E-315,
	left = -450 * _1080p,
	right = 518 * _1080p
}
local f0_local16 = {
	rightAnchor = 5.29462817E-315,
	bottomAnchor = 0,
	topAnchor = 1,
	leftAnchor = 5.29462817E-315,
	left = -787 * _1080p,
	right = 787 * _1080p
}
local f0_local17 = {
	nil,
	nil,
	nil,
	"loadout_4",
	"loadout_5",
	"loadout_6"
}
MenuBuilder.registerType( "LoadoutOptions", function ( f127_arg0, f127_arg1 )
	f127_arg1.widget = MenuBuilder.BuildRegisteredType( "LoadoutOptionsPopup", f127_arg1 )
	f127_arg1.removeButtonHelper = true
	f127_arg1.flyInRightNarrow = true
	local f127_local0 = MenuBuilder.BuildRegisteredType( "FlyInPopup", f127_arg1 )
	f127_local0.id = "LoadoutOptions"
	return f127_local0
end )
MenuBuilder.registerType( "BRLoadoutPurchaseConfirmPopup", function ( f126_arg0, f126_arg1 )
	local f126_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", f126_arg1 )
	f126_local0.id = "BRLoadoutPurchaseConfirmPopup"
	return f126_local0
end )
local f0_local18 = function ( f125_arg0 )
	local f125_local0 = f125_arg0.DMZItemBonus
	if f125_local0 then
		f125_local0 = f125_arg0.GenericItemBonus
		if f125_local0 then
			f125_local0 = f125_arg0.UniversalWrapsBonus
		end
	end
	return f125_local0
end

local f0_local19 = function ( f124_arg0, f124_arg1, f124_arg2 )
	local f124_local0 = LUI.FlowManager.GetScopedData( f124_arg0 )
	local f124_local1, f124_local2 = LOADOUT.GetValidLoadouts( f124_arg1 )
	local f124_local3 = f124_arg2:GetPrimaryAxis() == LUI.DIRECTION.horizontal
	local f124_local4 = nil
	if f124_local0.selectedLoadoutIndex then
		f124_local4 = f124_local0.selectedLoadoutIndex
	elseif f124_arg0.selectedLoadout and f124_arg0.selectedLoadout:GetValue( f124_arg1 ) then
		f124_local4 = f124_arg0.selectedLoadout:GetValue( f124_arg1 )
		if f124_local4 >= LOADOUT.DEFAULT_LOADOUT_INDEX_START then
			local f124_local5 = PROGRESSION.AreCustomLoadoutsUnlocked( f124_arg1 )
			f124_local4 = f124_local4 - LOADOUT.DEFAULT_LOADOUT_INDEX_START
			if f124_local5 and not Game[0x28624DEF6F708C8]( f124_arg1, "ui_only_default_loadouts" ) and not Dvar[0x9E5BE3B4BBA4E0E]( 0x5B384C07850936B ) then
				f124_local4 = f124_local4 + f124_local2
			end
		end
	elseif f124_arg0._focusedLoadoutIndex then
		f124_local4 = f124_arg0._focusedLoadoutIndex
	end
	local f124_local5 = f124_arg0.selectedLoadout
	if f124_local5 then
		f124_local5 = f124_arg0.selectedLoadout:GetValue( f124_arg1 )
	end
	local f124_local6
	if f124_local5 then
		f124_local6 = f124_local5
	else
		f124_local6 = f124_local5 >= LOADOUT.DEFAULT_LOADOUT_INDEX_START
	end
	local f124_local7
	if f124_local6 and not f124_local4 then
		f124_local7 = f124_local4
	else
		f124_local7 = LOADOUT.FindValidLoadoutIndex
		local f124_local8 = f124_arg1
		local f124_local9
		if not f124_local4 then
			f124_local9 = f124_local4
		else
			f124_local9 = 0
		end
		f124_local7 = f124_local7( f124_local8, f124_local9 )
	end
	if not f124_local3 or not {
		y = 0,
		x = f124_local7
	} then
		local f124_local10 = {
			x = 0,
			y = f124_local7
		}
	end
	if PROGRESSION.AreCustomLoadoutsUnlocked( f124_arg1 ) then
		local f124_local8 = f124_arg2:GetNumColumns()
		local f124_local9 = f124_arg2:GetNumRows()
		if f124_local8 then
			local f124_local11
			if f124_local8 <= f124_local7 then
				f124_local11 = f124_local7 - f124_local8
				if not f124_local11 then
				
				else
					local f124_local12
					if f124_local8 <= f124_local7 and 1 < f124_local9 then
						f124_local12 = 1
					else
						f124_local12 = 0
					end
					if f124_local8 < f124_local11 and not f124_local8 then
						f124_local11 = f124_local8
					else
						
					end
					local f124_local10 = {
						x = f124_local11,
						y = f124_local12
					}
				end
			end
			f124_local11 = f124_local7
		end
	end
	return f124_local10
end

local f0_local20 = function ( f114_arg0, f114_arg1, f114_arg2 )
	if f114_arg2.Text then
		local f114_local0 = f114_arg2.Text:getText()
	end
	local f114_local1 = f114_arg2.index
	f114_arg2:SetupContextualMenu()
	f114_arg2:AddContextualMenuAction( {
		id = "favoriteLoadout",
		actionName = Engine[0xED84C33EC5F01EA]( 0x108732B18BD8826 ),
		actionFunction = function ()
			LOADOUT.SetFavoriteLoadout( f114_arg0, f114_arg0, f114_arg0 )
		end,
		conditionFunction = function ()
			local f122_local0 = LOADOUT.GetFavoriteLoadoutIndex( f114_arg0 ) == f114_arg0
			local f122_local1 = CONDITIONS.CanShowFavorite()
			if f122_local1 then
				f122_local1 = not f122_local0
			end
			return f122_local1
		end
	} )
	f114_arg2:AddContextualMenuAction( {
		id = "renameLoadout",
		actionName = Engine[0xED84C33EC5F01EA]( 0x19F50F69E65FC10 ),
		actionFunction = function ()
			LOADOUT.OpenRenameLoadout( f114_arg0, f114_arg0, f114_arg0 )
		end
	} )
	f114_arg2:AddContextualMenuAction( {
		id = "copyLoadout",
		actionName = Engine[0xED84C33EC5F01EA]( 0x262056B854DB727 ),
		actionFunction = function ()
			LOADOUT.OpenLoadoutCopyPopup( f114_arg0, f114_arg0 )
		end
	} )
	f114_arg2:AddContextualMenuAction( {
		id = "deleteLoadout",
		actionName = Engine[0xED84C33EC5F01EA]( 0x4B904E1536CCB31 ),
		actionFunction = function ()
			local f118_local0 = {
				title = Engine[0xED84C33EC5F01EA]( 0x2900BA61E9038F6 ),
				message = Engine[0xED84C33EC5F01EA]( 0x723A7F82FB5F406 ),
				yesAction = function ()
					LOADOUT.DeleteAndUpdateFavoriteLoadout( f118_local0, f118_local0, f118_local0 )
					f118_local0:dispatchEventToRoot( {
						name = "refresh_loadouts",
						controller = f118_local0
					} )
				end
			}
			LUI.FlowManager.RequestPopupMenu( nil, "PopupYesNo", true, f114_arg0, false, f118_local0 )
		end,
		conditionFunction = function ()
			local f117_local0, f117_local1 = LOADOUT.GetValidLoadouts( f114_arg0 )
			local f117_local2 = f117_local1 == 1
			local f117_local3 = CONDITIONS.IsLoadoutCreationEnabled()
			if f117_local3 then
				f117_local3 = not f117_local2
			end
			return f117_local3
		end
	} )
	f114_arg2:AddContextualMenuAction( {
		id = "shareLoadout",
		actionName = Engine[0xED84C33EC5F01EA]( 0x22335222FE018F9 ),
		actionFunction = function ()
			LOADOUT.OpenShareLoadoutPopup( f114_arg0, f114_arg0 )
		end,
		conditionFunction = function ()
			return Dvar[0x9E5BE3B4BBA4E0E]( 0x1081B6614BDB73D )
		end
	} )
end

local f0_local21 = function ( f113_arg0, f113_arg1 )
	local f113_local0 = {}
	local f113_local1 = LOADOUT.GetLoadoutSquadMember( f113_arg1 )
	f113_local1 = f113_local1.loadouts
	for f113_local2 = LOADOUT.GetMaxLoadoutCount() - 1, 0, -1 do
		local f113_local5 = f113_local1[f113_local2]
		if not f113_local5 then
			return nil
		end
		for f113_local6 = 0, #f113_local5.weaponSetups - 1, 1 do
			local f113_local9 = f113_local5.weaponSetups[f113_local6]
			local f113_local10 = WEAPON.GetWeaponModelNameFromPlayerData( f113_local9.weapon:get(), f113_local9, {
				includeCamos = true,
				includeAttachments = true,
				includeStickers = true,
				controllerIndex = f113_arg1
			} )
			if not LUI.IsItemInArray( f113_local0, f113_local10 ) then
				DebugPrint( "Request streaming weapon view model for: \n" .. f113_local10 .. "\n" )
				table.insert( f113_local0, f113_local10 )
			end
		end
	end
	table.insert( f113_local0, WATCH.GetFullModelName( WATCH.GetEquippedWatch( f113_arg1 ) ) )
	if 0 < #f113_local0 then
		STREAMING.RequestModels( f113_arg1, {
			requesterWidget = f113_arg0,
			modelType = STREAMING.ModelTypes.WeaponView,
			models = f113_local0
		} )
	end
end

local f0_local22 = function ( f112_arg0, f112_arg1 )
	local f112_local0 = Engine[0x12586A3F4FB490E]() and f112_arg0.Loadouts or f112_arg0.InGameLoadouts
	local f112_local1 = f0_local0( f112_arg0, f112_arg1, f112_local0 )
	f112_local0:SetFocusedPosition( f112_local1, true )
	f112_local0:RefreshContent()
	f112_local0:SetPosition( f112_local1, true )
	if LOADOUT.GetCurrentMenuState( f112_arg0 ) == LOADOUT.MENU_STATE.loadoutEdit then
		f112_local0:processEvent( {
			name = "lose_focus",
			controller = f112_arg1
		} )
	end
end

local f0_local23 = function ( f111_arg0, f111_arg1 )
	if f111_arg0.UnlockCount and f111_arg0.UnlockCountLine then
		local f111_local0, f111_local1 = LOADOUT.GetValidLoadouts( f111_arg1 )
		local f111_local2 = LOADOUT.GetMaxLoadoutCount()
		f111_arg0.UnlockCount.Text:SetFontSize( 18 * _PT )
		f111_arg0.UnlockCount.Text:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xA13F62CF3FA02C5, f111_local1, f111_local2 ) ) )
		f111_arg0.UnlockCount:UpdateSize( false )
		local f111_local3 = 16 * _1080p
		local f111_local4 = f111_arg0.UnlockCountLine
		local f111_local5 = f111_local4
		f111_local4 = f111_local4.SetLeft
		local f111_local6 = f111_arg0.UnlockCount:GetAnchorsAndPosition()
		f111_local4( f111_local5, f111_local6.right + f111_local3 )
	end
end

local f0_local24 = function ( f110_arg0 )
	local f110_local0 = LOADOUT.GetCurrentMenuState( f110_arg0 )
	if f110_arg0.OnDisplayLoadout then
		f110_arg0:OnDisplayLoadout()
	end
	local f110_local1 = f110_arg0.LoadoutDetailPanel
	if f110_local1 then
		f110_local1:SetInteractable( f110_local0 == LOADOUT.MENU_STATE.loadoutEdit )
	end
end

local f0_local25 = function ( f109_arg0, f109_arg1, f109_arg2 )
	REG3.SetMouseFocusBlocker( Engine[0x12586A3F4FB490E]() and f109_arg0.Loadouts or f109_arg0.InGameLoadouts, not f109_arg2 )
end

local f0_local26 = function ( f108_arg0, f108_arg1 )
	if not Engine[0x12586A3F4FB490E]() then
		return 
	elseif LOADOUT.GetCurrentMenuState( f108_arg0 ) == LOADOUT.MENU_STATE.loadoutSelect and f108_arg0.LoadoutDetailPanel then
		local f108_local0, f108_local1 = LOADOUT.GetValidLoadouts( f108_arg1 )
		f108_arg0.LoadoutDetailPanel:UpdatePanel( {
			showLine = true,
			title = Engine[0xED84C33EC5F01EA]( 0x500AE2FE495EE53 ),
			subtitle = Engine[0xED84C33EC5F01EA]( 0xFD03B7ECC3B2934 ),
			loadoutSlots = f108_local1,
			controllerIndex = f108_arg1
		} )
		f108_arg0.LoadoutDetailPanel:SetActiveArmoryVisibility( false )
		ACTIONS.AnimateSequence( f108_arg0, "LoadoutAddUp" )
	end
end

local f0_local27 = function ( f107_arg0, f107_arg1 )
	local f107_local0 = nil
	if f107_arg1 then
		if CONDITIONS.IsThirdGameMode() then
			local f107_local1 = f0_local0
			if not f107_local1 then
				f107_local0 = f107_local1
			end
		end
		f107_local0 = f0_local0
	else
		if CONDITIONS.IsThirdGameMode() then
			local f107_local1 = f0_local0
			if not f107_local1 then
				f107_local0 = f107_local1
			else
				f107_local0 = f0_local0
			end
		end
		f107_local0 = f0_local0
	end
	f107_arg0.LoadoutSelectButtons:SetAnchors( f107_local0.leftAnchor, f107_local0.rightAnchor, f107_local0.topAnchor, f107_local0.bottomAnchor )
	f107_arg0.LoadoutSelectButtons:SetLeft( f107_local0.left )
	f107_arg0.LoadoutSelectButtons:SetRight( f107_local0.right )
end

local f0_local28 = function ( f106_arg0, f106_arg1 )
	local f106_local0 = LUI.FlowManager.GetScopedData( f106_arg0 )
	if f106_local0.menuState == LOADOUT.MENU_STATE.loadoutEdit then
		if f106_local0.selectedWeaponSlot then
			Engine[0xC4146BA76D0F982]( SOUND_SETS.default.selectAltSmall )
			GUNSMITH.OpenGunsmith( f106_arg1, f106_local0.selectedLoadoutIndex, f106_local0.selectedWeaponSlot )
		end
		return 
	else
		LUI.FlowManager.RequestPopupMenu( nil, "LoadoutOptions", true, f106_arg1, false, {
			disableQuickAccessShortcuts = true,
			controllerIndex = f106_arg1,
			loadoutIndex = f106_arg0._focusedLoadoutIndex
		} )
	end
end

local f0_local29 = function ( f104_arg0, f104_arg1, f104_arg2 )
	local f104_local0 = {}
	if f104_arg2 then
		f104_local0.currentWeaponTable = WEAPON.GenerateWeaponTable( f104_arg2.weaponSetups[WEAPON.PrimarySlot] )
		f104_local0.secondaryWeaponTable = WEAPON.GenerateWeaponTable( f104_arg2.weaponSetups[WEAPON.SecondarySlot] )
		f104_local0.fromGunsmith = true
		if 0 < tonumber( f104_local0.currentWeaponTable.variantID ) then
			f104_local0.currentWeaponTable.lootName = WEAPON.GetLootWeaponName( f104_local0.currentWeaponTable.weapon, f104_local0.currentWeaponTable.lootID )
		end
		if 0 < tonumber( f104_local0.secondaryWeaponTable.variantID ) then
			f104_local0.secondaryWeaponTable.lootName = WEAPON.GetLootWeaponName( f104_local0.secondaryWeaponTable.weapon, f104_local0.secondaryWeaponTable.lootID )
		end
	else
		f104_local0.showLoadoutsOnEnter = true
	end
	if f104_arg0._focusedLoadoutIndex then
		f104_local0.selectedLoadoutIndex = f104_arg0._focusedLoadoutIndex
	end
	local f104_local1 = function ()
		WEAPON.OpenFiringRange( f104_arg0, f104_arg0 )
		Engine[0xC4146BA76D0F982]( SOUND_SETS.loadout.firingRange )
	end
	
	if f104_arg0.HelperBar and CONDITIONS.InFrontend() and CONDITIONS.IsFrontendFiringRangeEnabled() then
		f104_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "left",
			isHold = true,
			button_ref = "button_alt2",
			helper_text = Engine[0xED84C33EC5F01EA]( 0x142AAF5CD0DA682 ),
			helper_definition = Engine[0xED84C33EC5F01EA]( 0x71B72F1718054D7 ),
			callback = f104_local1
		} )
	end
end

local f0_local30 = function ( f102_arg0, f102_arg1 )
	local f102_local0 = function ()
		f102_arg0( f102_arg0, f102_arg0 )
	end
	
	if f102_arg0.HelperBar then
		f102_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "left",
			button_ref = "button_l3",
			helper_text = Engine[0xED84C33EC5F01EA]( 0x371D314917B7829 ),
			callback = f102_local0,
			helper_definition = Engine[0xED84C33EC5F01EA]( 0xA86244291ECDFB9 )
		} )
	end
	f102_arg0._optionsEnabled = true
end

local f0_local31 = function ( f101_arg0 )
	if f101_arg0.HelperBar then
		f101_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
			button_ref = "button_l3"
		} )
	end
	f101_arg0._optionsEnabled = false
end

local f0_local32 = function ( f100_arg0, f100_arg1, f100_arg2, f100_arg3, f100_arg4 )
	if not f100_arg4 then
		local f100_local0, f100_local1 = LOADOUT.GetValidLoadouts( f100_arg1 )
		f100_arg4 = f100_local1
	end
	local f100_local0
	if f100_arg2 then
		f100_local0 = 1
	else
		f100_local0 = 0
	end
	local f100_local1
	if not f100_arg3 then
		f100_local1 = f100_arg3
	else
		f100_local1 = "LoadoutButtonsHigher"
	end
	local f100_local2
	if f100_arg4 + f100_local0 > LOADOUT.GetMaxLoadoutCount() / 2 and not f100_local1 then
		f100_local2 = f100_local1
	else
		f100_local2 = "LoadoutButtons"
	end
	ACTIONS.AnimateSequence( f100_arg0, f100_local2 )
end

local f0_local33 = function ( f99_arg0, f99_arg1, f99_arg2 )
	local f99_local0 = LUI.FlowManager.GetScopedData( f99_arg0 )
	if f99_local0.menuState == LOADOUT.MENU_STATE.loadoutSelect then
		f99_local0.loadoutSessionStartTime = Engine[0x3B8CFB6758EF57C]()
	end
	f99_local0.menuState = LOADOUT.MENU_STATE.loadoutEdit
	f99_arg0:dispatchEventToChildren( {
		name = "menu_state_updated",
		menuState = f99_local0.menuState
	} )
	if f99_local0.openedFromScriptRequest and f99_arg0.MenuTitle then
		f99_arg0.MenuTitle:SetupBackButton( f99_arg1 )
	end
	f0_local0( f99_arg0 )
	ACTIONS.AnimateSequence( f99_arg0, "LoadoutEdit" )
	f0_local0( f99_arg0, true )
	ACTIONS.AnimateSequence( f99_arg0, "ShowDetails" )
	REG4.processEvent( Engine[0x12586A3F4FB490E]() and f99_arg0.Loadouts or f99_arg0.InGameLoadouts, {
		name = "lose_focus",
		controller = f99_arg1
	} )
	if Engine[0x12586A3F4FB490E]() and CONDITIONS.IsBlueprintStoreEnabled() and not Onboarding.BlueprintStore.WasCompleted( self, f99_arg1 ) then
		LUI.FlowManager.RequestPopupMenu( self, "onboardingpopup", true, f99_arg1, false, ONBOARDING_DATA.GetOnboardingBlueprintStoreData() )
		Onboarding.BlueprintStore.MarkCompleted( self, f99_arg1 )
	end
	f99_arg0.LoadoutSelectButtons:processEvent( {
		name = "gain_focus",
		controller = f99_arg1
	} )
	f0_local0( f99_arg0, f99_arg1, false )
	f99_arg0.LoadoutSelectButtons:SetMouseHandling( true )
	if f99_arg0.MenuTitle then
		f99_arg0.MenuTitle:SetTitle( f99_arg2.name:get() )
	elseif f99_arg0.LoadoutTitle then
		f99_arg0.LoadoutTitle:setText( Engine[0xEB2A2834B76AEA4]( f99_arg2.name:get() ) )
	end
	if f99_arg0.InGameLoadoutTabs then
		f99_arg0.InGameLoadoutTabs:DisableAll()
		f99_arg0.InGameLoadoutTabs:SetAlpha( 0, 100 )
	end
	if f99_arg0.LoadoutAddButton then
		f99_arg0.LoadoutAddButton:SetButtonDisabled( true )
	end
	f0_local0( f99_arg0, f99_arg1 )
	f99_arg0.LoadoutSelectButtons:UpdateButtonBackgrounds( f99_arg0 )
	f0_local0( f99_arg0, f99_arg1, f99_arg2 )
	f0_local0( f99_arg0 )
end

local f0_local34 = function ( f98_arg0, f98_arg1 )
	Engine[0x685AE31DEDA30A4]( "loadout_showcase" )
	local f98_local0 = LUI.FlowManager.GetScopedData( f98_arg0 )
	if f98_local0.menuState == LOADOUT.MENU_STATE.loadoutEdit then
		METRICS.LoadoutSessionSendDLogEvent( f98_arg1, f98_local0.sessionID, f98_local0.loadoutSessionStartTime, f98_local0.selectedLoadoutIndex, f98_local0.aaWeapons )
		f98_local0.aaWeapons = {}
		LAYOUT.FadeInAspectRatioFadeFrame( f98_arg0, 300 )
	end
	f98_local0.menuState = LOADOUT.MENU_STATE.loadoutSelect
	if f98_local0.isAddingNewLoadout then
		f98_local0.isAddingNewLoadout = false
	end
	f98_arg0:dispatchEventToChildren( {
		name = "menu_state_updated",
		menuState = f98_local0.menuState
	} )
	f98_arg0.LoadoutSelectButtons:processEvent( {
		name = "lose_focus",
		controller = f98_arg1
	} )
	if f98_arg0.LoadoutSelectButtons.PrimaryWeapon and f98_arg0.LoadoutSelectButtons.SecondaryWeapon then
		ACTIONS.AnimateSequence( f98_arg0.LoadoutSelectButtons.PrimaryWeapon, "HideGunsmith" )
		ACTIONS.AnimateSequence( f98_arg0.LoadoutSelectButtons.SecondaryWeapon, "HideGunsmith" )
	end
	f0_local0( f98_arg0, f98_arg1, true )
	f0_local0( f98_arg0, f98_arg1 )
	REG3.processEvent( Engine[0x12586A3F4FB490E]() and f98_arg0.Loadouts or f98_arg0.InGameLoadouts, {
		name = "gain_focus",
		controller = f98_arg1
	} )
	f0_local0( f98_arg0 )
	f0_local0( f98_arg0, f98_arg1, true )
	f0_local0( f98_arg0, false )
	f98_arg0.LoadoutSelectButtons:SetMouseHandling( false )
	if f98_arg0.InGameLoadoutTabs then
		f98_arg0.InGameLoadoutTabs:EnableAll()
		f98_arg0.InGameLoadoutTabs:SetAlpha( 1, 200 )
	end
	if f98_arg0.MenuTitle then
		if not Engine[0x12586A3F4FB490E]() then
			f98_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0x16709929A4CAF3D ) )
		else
			f98_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0x5CD64C94FEE9C19 ) )
		end
	end
	if f98_arg0.MasterChallenges then
		f98_arg0.MasterChallenges:SetAlpha( 0 )
	end
	if f98_arg0.LoadoutAddButton then
		f98_arg0.LoadoutAddButton:SetButtonDisabled( false )
	end
	f0_local0( f98_arg0, f98_arg1 )
	f98_arg0.LoadoutSelectButtons:UpdateButtonBackgrounds( f98_arg0 )
	if CONDITIONS.InFrontend() then
		f0_local0( f98_arg0, f98_arg1, nil )
		f0_local0( f98_arg0, f98_arg1 )
		f98_arg0.UnlockCount:SetVisible( true )
		f98_arg0.UnlockCountLine:SetVisible( true )
	end
end

local f0_local35 = function ( f97_arg0, f97_arg1, f97_arg2, f97_arg3 )
	local f97_local0 = false
	if f97_arg0.selectedLoadout and f97_arg0.selectedLoadout:GetValue( f97_arg1 ) then
		local f97_local1 = f97_arg0.selectedLoadout:GetValue( f97_arg1 )
		if not (not f97_arg3 or f97_local1 ~= f97_arg2 + LOADOUT.DEFAULT_LOADOUT_INDEX_START) or not f97_arg3 and f97_local1 == f97_arg2 then
			f97_local0 = true
		end
	end
	return f97_local0
end

local f0_local36 = function ( f96_arg0, f96_arg1, f96_arg2, f96_arg3, f96_arg4 )
	if f96_arg3 then
		f96_arg2 = f96_arg2 + LOADOUT.DEFAULT_LOADOUT_INDEX_START
	end
	f96_arg0.selectedLoadout:SetValue( f96_arg1, f96_arg2 )
	Engine[0x6055C55456F05DF]( "class_select", f96_arg2 )
	if CONDITIONS.IsThirdGameMode() and not f96_arg3 then
		local f96_local0 = PLAYER_DATA.IO( f96_arg1, LOADOUT.GetLoadoutStatsGroup() )
		f96_local0.squadMembers.cpLoadoutSel:set( f96_arg2 )
	end
	LUI.FlowManager.RequestCloseAllMenus()
	local f96_local0 = LUI.FlowManager.GetScopedData( f96_arg0 )
	if f96_local0.cacSessionDlogOnGoing then
		METRICS.CacSessionEndSendDLogEvent( f96_arg1, f96_local0.sessionID, f96_local0.cacSessionStartTime, METRICS.CacExitReasons.PLAYER_SELECTED_LOADOUT )
		f96_local0.cacSessionDlogOnGoing = nil
	end
end

local f0_local37 = function ( f94_arg0, f94_arg1, f94_arg2 )
	if not ClientModel[0xA988866C889EAAD]() then
		
	else
		
	end
	WEAPON.SetWeaponModelsInGuncase( f94_arg1, {
		f94_arg0.primaryWeaponModel,
		f94_arg0.secondaryWeaponModel
	}, f94_arg2.playerData )
	if ClientModel[0xA988866C889EAAD]() and (Engine[0xFB66055BF32565F]( WEAPON.PrimarySlot, WEAPON.lodThreshold ) or Engine[0xFB66055BF32565F]( WEAPON.SecondarySlot, WEAPON.lodThreshold )) then
		CLIENT_MODEL.SetAllModelsModifiable( f94_arg1 )
		WEAPON.SetResetDynBones( {
			FrontEndScene.ClientWeapons.GunTablePrimary,
			FrontEndScene.ClientWeapons.GunTableSecondary
		} )
		local f94_local0 = f94_arg0.LoadoutSelectButtons:Wait( 5, true )
		f94_local0.onComplete = function ()
			WEAPON.SetWeaponModelsInGuncase( f94_arg0, {
				f94_arg0.primaryWeaponModel,
				f94_arg0.secondaryWeaponModel
			}, f94_arg0.playerData )
			CLIENT_MODEL.UpdateModelsForLoadout( f94_arg0, f94_arg0, f94_arg0.index )
		end
		
	end
end

local f0_local38 = function ( f88_arg0, f88_arg1, f88_arg2, f88_arg3, f88_arg4, f88_arg5, f88_arg6 )
	local f88_local0 = f88_arg2
	local f88_local1 = nil
	if f88_arg5 then
		if f88_arg3[f88_arg4 + 1] then
			local f88_local2 = f88_arg3[f88_arg4 + 1]
			if not f88_local2 then
				f88_local1 = f88_local2
			end
		end
		f88_local1 = f88_arg3[1]
	else
		if f88_arg3[f88_arg4] then
			local f88_local2 = f88_arg3[f88_arg4]
			if not f88_local2 then
				f88_local1 = f88_local2
			else
				f88_local1 = f88_arg3[0]
			end
		end
		f88_local1 = f88_arg3[0]
	end
	f88_local0.isDefault = f88_arg5
	local f88_local2
	if f88_local1 then
		f88_local2 = f88_local1
	else
		f88_local2 = f88_local1.loadout
	end
	f88_local0.playerData = f88_local2
	if f88_arg5 and not f88_arg4 then
		f88_local2 = f88_arg4
	else
		f88_local2 = f88_local1.loadoutIndex
	end
	f88_local0.index = f88_local2
	local f88_local3, f88_local4 = nil
	if CONDITIONS.InGame() then
		f88_local0.defaultLoadout = f88_arg0.defaultLoadouts[f88_local0.index + 1] and f88_arg0.defaultLoadouts[f88_local0.index + 1] or f88_arg0.defaultLoadouts[1]
		f88_local4 = DataModel[0x614D394F6F9A18D]( DataSources.inGame.MP.loadoutSelect.inGameState:GetModel( f88_arg1 ) )
	end
	local f88_local5 = {
		removeEquipBanner = true,
		imageSize = "Empty",
		removeTextBanner = true,
		buttonData = {}
	}
	if f88_local4 and f88_local4 == LOADOUT.IN_GAME_STATE.mix and f88_local2 >= LOADOUT.GetMaxLoadoutCount() then
		f88_local0.index = f88_local2 - LOADOUT.GetMaxLoadoutCount()
	elseif not f88_arg5 and not GL_HACK.IsInfluencerBuild() then
		f88_local5.doubleAction = {
			prompt = 0x21E44BE45534168,
			text = 0xD28F1D327CE55CC
		}
	end
	if not CONDITIONS.InFrontend() then
		if CONDITIONS.InGame() then
			local f88_local6 = LUI.DataSourceFromOmnvar.new( "ui_loadout_drop_use" )
			if f88_local6:GetValue( f88_arg1 ) or not CONDITIONS.IsLoadoutEditingEnabled() then
				f88_local5.doubleAction = nil
			end
		end
	else
		f88_local5.doubleAction = nil
	end
	if f88_local0.SetupButton then
		f88_local0:SetupButton( f88_local5 )
	end
	if f88_arg6 then
		f88_local0.LoadoutHeader:setText( "" )
	end
	if Engine[0x12586A3F4FB490E]() and f88_local0.SetPrimaryPromptText then
		f88_local0:SetPrimaryPromptText( 0xD28F1D327CE55CC )
	elseif f88_local0.SetPrimaryPromptText then
		f88_local0:SetPrimaryPromptText( 0xCA07A93FADF9E95 )
	end
	local f88_local6
	if f88_arg5 then
		f88_local6 = Engine[0xED84C33EC5F01EA]( f88_local0.defaultLoadout.name )
		if not f88_local6 then
		
		else
			f88_local0._loadoutName = f88_local6
			f88_local0:SetHeaderText( f88_local0._loadoutName )
			f88_local6 = function ()
				if f88_arg0.SetRestricted then
					f88_arg0:SetRestricted( LOADOUT.MATCHRULES.LoadoutHasRestrictedItem( f88_arg0.loadout, f88_arg0 ) )
				end
			end
			
			if f88_local1 and not f88_arg5 then
				if LOADOUT.MATCHRULES.LoadoutHasRestrictedItem( f88_local1.loadout, f88_arg1 ) then
					ACTIONS.AnimateSequence( f88_local0, "RestrictionOn" )
				else
					ACTIONS.AnimateSequence( f88_local0, "RestrictionOff" )
				end
				f88_local6()
			end
			if f88_local1 and f88_arg5 then
				local f88_local7 = ACTIONS.AnimateSequence
				local f88_local8 = f88_local0
				local f88_local9
				if LOADOUT.MATCHRULES.DefaultLoadoutHasRestrictedItem( f88_local1, f88_arg1 ) then
					f88_local9 = "RestrictionOn"
				else
					f88_local9 = "RestrictionOff"
				end
				f88_local7( f88_local8, f88_local9 )
			end
			if CONDITIONS.InGame() then
				local f88_local7 = f0_local0[f88_local2]
				local f88_local10 = not PROGRESSION.AreCustomLoadoutsUnlocked( f88_arg1 )
				local f88_local8
				if not f88_local7 or PROGRESSION.IsUnlocked( f88_arg1, LOOT.itemTypes.FEATURE, f88_local7 ) then
					f88_local8 = false
				else
					f88_local8 = true
				end
				if f88_local10 and f88_local8 then
					f88_local0:SetButtonDisabled( true )
				end
				if not f88_arg5 and not Engine[0x6938F45868B1BBC]( f88_arg1 ) and not CONDITIONS.InGameAndBRLoadoutSelect( f88_arg1 ) and not CONDITIONS.IsBRGameType() then
					f88_local0:AddTooltipData( f88_arg1, {
						promptsData = {
							{
								button_ref = "button_start",
								keyprompt_text = LocalizeString( "[{ONFOOT_MP:changeclass" .. f88_local2 + 1 .. "}]" ),
								helper_text = Engine[0xED84C33EC5F01EA]( 0x19409A16DA76BDA )
							}
						}
					} )
				else
					f88_local0:RemoveToolTipData()
				end
				f88_local0:SetEquipped( f0_local0( f88_arg0, f88_arg1, f88_local0.index, f88_local0.isDefault ) )
			end
			local f88_local7 = 0
			if f88_local0.SetCost == nil then
				
			elseif CONDITIONS.InGameAndBRLoadoutSelect( f88_arg1 ) and not f88_local0:IsDisabled() then
				f88_local0:DisableCost()
				f88_local0:SetButtonDisabled( false )
			end
			local f88_local8 = function ()
				if f88_arg0.SetFavorite then
					local f92_local0, f92_local1 = LOADOUT.GetFavoriteLoadoutIndex( f88_arg0 )
					local f92_local2
					if f88_arg0.index == f92_local0 then
						f92_local2 = not f88_arg0.isDefault
					else
						f92_local2 = false
					end
					f88_arg0:SetFavorite( f92_local2 )
				end
			end
			
			f88_local8()
			if not f88_local0._handlersAdded then
				f88_local8 = function ( f91_arg0, f91_arg1 )
					f88_arg0._focusedLoadoutIndex = f88_arg0.index
					f88_arg0._newLoadoutAdded = false
					local f91_local0 = LUI.FlowManager.GetScopedData( f88_arg0 )
					f91_local0.selectedLoadoutIndex = f88_arg0._focusedLoadoutIndex
					if not Engine[0x12586A3F4FB490E]() and f88_arg0.LoadoutSelectButtons.EquippedWidget then
						if f88_arg0( f88_arg0, f88_arg0, f88_arg0.index, f88_arg0.isDefault ) then
							f88_arg0.LoadoutSelectButtons.EquippedWidget:UpdateVisibility( true )
							ACTIONS.AnimateSequence( f88_arg0.LoadoutSelectButtons.EquippedWidget, "TurnOn" )
						else
							f88_arg0.LoadoutSelectButtons.EquippedWidget:UpdateVisibility( false )
						end
					end
					if CONDITIONS.InFrontend() then
						f88_arg0( f88_arg0, f88_arg0, f91_arg0 )
					end
					if not f91_local0.isAddingNewLoadout then
						f88_arg0.LoadoutSelectButtons:SetupGridItems( f88_arg0, f91_arg0.index, f91_arg0.playerData, f91_arg0.isDefault and f91_arg0.defaultLoadout, f88_arg0 )
					end
					if f91_arg1 and f91_arg1.name == "tab_changed" then
						if f88_arg0.ButtonHighlight then
							local f91_local1 = f88_arg0.ButtonHighlight
							local f91_local2 = f91_local1
							f91_local1 = f91_local1.processEvent
							local f91_local3 = {}
							local f91_local4
							if f88_arg0:IsDisabled() then
								f91_local4 = "button_over_disable"
							else
								f91_local4 = "button_over"
							end
							f91_local3.name = f91_local4
							f91_local1( f91_local2, f91_local3 )
						end
						f88_arg0()
					end
					if f88_arg0.LoadoutSelectButtons.LoadoutName then
						f88_arg0.LoadoutSelectButtons.LoadoutName:setText( Engine[0xED84C33EC5F01EA]( 0x5ECB4CB3B04BD1B, Engine[0x7D3158A9539A355]( f88_arg0._loadoutName ) ) )
					end
				end
				
				f88_local0.refreshDetailsGrid = f88_local8
				f88_local0:addEventHandler( "button_over", f88_local8 )
				f88_local0:addEventHandler( "button_over_disable", f88_local8 )
				f88_local0:addEventHandler( "tab_changed", f88_local8 )
				local f88_local9 = function ( f90_arg0, f90_arg1 )
					f88_arg0( f88_arg0, f88_arg0, f90_arg0.index, f90_arg0.isDefault, f88_arg0 )
				end
				
				local f88_local11 = function ( f89_arg0, f89_arg1 )
					if not f89_arg0._isAddButton and not f88_arg0._newLoadoutAdded then
						local f89_local0 = LUI.FlowManager.GetScopedData( f88_arg0 )
						if f88_arg0._focusedLoadoutIndex then
							f89_local0.selectedLoadoutIndex = f88_arg0._focusedLoadoutIndex
						end
						f88_arg0:SwitchToLoadoutEdit( f88_arg0, LOADOUT.GetLoadoutPlayerData( f88_arg0, f89_local0.selectedLoadoutIndex ) )
					end
					f88_arg0._newLoadoutAdded = false
				end
				
				local f88_local12
				if Engine[0x12586A3F4FB490E]() and not f88_local11 then
					f88_local12 = f88_local11
				else
					f88_local12 = f88_local9
				end
				f88_local0.buttonActionHandler = f88_local12
				f88_local0:addEventHandler( "button_action", f88_local0.buttonActionHandler )
				if not Engine[0x12586A3F4FB490E]() and f88_local0.ButtonHighlight and f88_local0.ButtonHighlight.SecondaryButton and CONDITIONS.IsLoadoutEditingEnabled() then
					f88_local12 = f88_local0.ButtonHighlight.SecondaryButton
					f88_local12.buttonActionHandler = f88_local11
					f88_local12:addEventHandler( "button_action", f88_local12.buttonActionHandler )
				end
				f88_local0._handlersAdded = true
			end
			if Engine[0x12586A3F4FB490E]() then
				f0_local0( f88_arg0, f88_arg1, f88_local0 )
			end
			if CONDITIONS.IsBRLoadoutGameType( f88_arg1 ) and f88_local0.BRWarning then
				if f88_arg5 then
					f88_local8 = f88_local0.defaultLoadout.perks[1]
					if not f88_local8 then
					
					else
						local f88_local9
						if f88_arg5 then
							f88_local9 = f88_local0.defaultLoadout.perks[2]
							if not f88_local9 then
							
							else
								local f88_local11
								if f88_arg5 then
									f88_local11 = f88_local0.defaultLoadout.perks[3]
									if not f88_local11 then
									
									else
										local f88_local12 = PERK.GetIsPerkDisabledForBR( PERK.GetBundleByRef( f88_local8 ) )
										local f88_local13 = PERK.GetIsPerkDisabledForBR( PERK.GetBundleByRef( f88_local9 ) )
										local f88_local14 = PERK.GetIsPerkDisabledForBR( PERK.GetBundleByRef( f88_local11 ) )
										local f88_local15 = f88_local0.BRWarning
										local f88_local16 = f88_local15
										f88_local15 = f88_local15.SetShowWarningIcon
										local f88_local17
										if not f88_local12 then
											f88_local17 = f88_local12
										elseif not f88_local13 then
											f88_local17 = f88_local13
										else
											f88_local17 = f88_local14
										end
										f88_local15( f88_local16, f88_local17 )
									end
								end
								f88_local11 = f88_local1.loadout.loadoutPerks[2]:get()
							end
						end
						f88_local9 = f88_local1.loadout.loadoutPerks[1]:get()
					end
				end
				f88_local8 = f88_local1.loadout.loadoutPerks[0]:get()
			end
		end
	end
	f88_local6 = f88_local1.loadout.name:get()
end

local f0_local39 = function ( f86_arg0, f86_arg1, f86_arg2 )
	if Engine[0x12586A3F4FB490E]() then
		if Engine[0x7AE6126734FCDB]() then
			
		else
			
		end
		FrontEndScene.SetExclusiveWeaponModels( {
			FrontEndScene.ClientWeapons.GunTablePrimary,
			FrontEndScene.ClientWeapons.GunTableSecondary,
			FrontEndScene.ClientWeapons.Watch
		} )
		Engine[0x685AE31DEDA30A4]( "loadout_showcase" )
		local f86_local0 = MenuBuilder.BuildRegisteredType( "FrontendCameraMover", {
			enableSway = true,
			controllerIndex = f86_arg1
		} )
		f86_local0:SetLimits( f0_local0, f0_local0, f0_local0, f0_local0 )
		f86_local0:SetSwayValues( f0_local0, 0.06, 0.1 )
		f86_arg0.FrontendCameraMover = f86_local0
		f86_arg0:addElement( f86_local0 )
		f86_arg0.FrontendCameraMover:addEventHandler( "update_camera_limits", function ( f87_arg0, f87_arg1 )
			f87_arg0:SetLimits( f87_arg1.isZoomed and f86_arg0 or f86_arg0, f87_arg1.isZoomed and f86_arg0 or f86_arg0, f87_arg1.isZoomed and f86_arg0 or f86_arg0, f87_arg1.isZoomed and f86_arg0 or f86_arg0 )
			local f87_local0 = f87_arg1.isZoomed and f86_arg0 or f86_arg0
			f87_arg0:SetSwayValues( f86_arg0, 0.06, 0.1 )
		end )
		local f86_local1 = WATCH.GetEquippedWatch( f86_arg1 )
		local f86_local2 = WEAPON.GetWeaponModel( f86_arg1, FrontEndScene.ClientWeapons.Watch, CSV.weaponOffsets.watchFile )
		f86_arg0:addElement( f86_local2 )
		WATCH.SetWatchModelIfLoaded( f86_arg0, f86_arg1, f86_local2, f86_local1 )
	end
end

local f0_local40 = function ( f85_arg0, f85_arg1 )
	if not Engine[0x12586A3F4FB490E]() and f85_arg1.selectedLoadoutIndex then
		Engine[0x6055C55456F05DF]( "class_edit", f85_arg1.selectedLoadoutIndex )
	end
	if f85_arg0.selectedLoadout ~= nil and f85_arg1.selectedLoadoutIndex == f85_arg0.selectedLoadout:GetValue( f85_arg1.controllerIndex ) and not Engine[0x12586A3F4FB490E]() then
		Engine[0x6055C55456F05DF]( "class_edit", f85_arg0.selectedLoadout:GetValue( f85_arg1.controllerIndex ) )
	end
end

local f0_local41 = function ( f83_arg0, f83_arg1 )
	f83_arg0:addEventHandler( "gain_focus", function ( f84_arg0, f84_arg1 )
		local f84_local0 = LOADOUT.GetCurrentMenuState( f84_arg0 )
		local f84_local1 = false
		if f84_local0 == LOADOUT.MENU_STATE.loadoutEdit then
			if f84_arg0.LoadoutSelectButtons then
				f84_arg0.LoadoutSelectButtons:processEvent( {
					name = "gain_focus",
					controller = f84_arg1.controller
				} )
				f84_local1 = true
			end
		else
			f84_arg0.Loadouts:processEvent( {
				name = "gain_focus",
				controller = f84_arg1.controller
			} )
			f84_local1 = true
		end
		return f84_local1
	end )
end

local f0_local42 = function ( f82_arg0, f82_arg1 )
	if not LUI.IsLastInputKeyboardMouse( f82_arg1 ) then
		return 
	elseif LOADOUT.GetCurrentMenuState( f82_arg0 ) == LOADOUT.MENU_STATE.loadoutSelect then
		local f82_local0 = f82_arg0.Loadouts:GetBuiltChildren()
		if 0 < #f82_local0 then
			if Engine[0x12586A3F4FB490E]() then
				f82_local0[1]:refreshDetailsGrid( {
					name = "button_over"
				} )
			else
				local f82_local1 = f82_local0[1]
				for f82_local5, f82_local6 in ipairs( f82_local0 ) do
					if f0_local0( f82_arg0, f82_arg1, f82_local6.index, f82_local6.isDefault ) then
						f82_local1 = f82_local6
					end
				end
				f82_local1:refreshDetailsGrid( {
					name = "button_over"
				} )
			end
		end
	end
end

local f0_local43 = function ( f81_arg0, f81_arg1 )
	local f81_local0 = LUI.FlowManager.GetScopedData( f81_arg0 )
	f81_local0.openedInTab = WEAPON.IsOpeningLoadoutFromTab()
	if not f81_local0.sessionID then
		f81_local0.sessionID = Engine[0x3B8CFB6758EF57C]()
	end
	if not f81_local0.cacSessionStartTime then
		f81_local0.cacSessionStartTime = Engine[0x3B8CFB6758EF57C]()
	end
	if not f81_local0.cacSessionDlogOnGoing and not f81_local0.openedInTab and not CONDITIONS.IsBRLoadoutGameType( f81_arg1 ) then
		METRICS.CacSessionStartSendDLogEvent( f81_arg1, f81_local0.sessionID )
		f81_local0.cacSessionDlogOnGoing = true
	end
	local f81_local1 = f81_local0.menuState
	if not f81_local1 then
		f81_local1 = LOADOUT.MENU_STATE.loadoutSelect
	end
	f81_local0.menuState = f81_local1
	f81_arg0:dispatchEventToChildren( {
		name = "menu_state_updated",
		menuState = f81_local0.menuState
	} )
end

local f0_local44 = function ( f80_arg0, f80_arg1 )
	assert( f80_arg1 )
	local f80_local0 = LUI.FlowManager.GetScopedData( f80_arg0 )
	if f80_local0.menuState == LOADOUT.MENU_STATE.loadoutEdit then
		f0_local0( f80_arg0, f80_local0 )
		f0_local0( f80_arg0, f80_arg1 )
	elseif not f80_local0.openedInTab then
		if f80_local0.cacSessionDlogOnGoing then
			METRICS.CacSessionEndSendDLogEvent( f80_arg1, f80_local0.sessionID, f80_local0.cacSessionStartTime, METRICS.CacExitReasons.PLAYER_EXIT )
			f80_local0.cacSessionDlogOnGoing = nil
		end
		if not Engine[0x12586A3F4FB490E]() and CONDITIONS.IsThirdGameMode() then
			Engine[0x6055C55456F05DF]( "class_menu_closed", 1 )
			LUI.FlowManager.RequestCloseAllMenus()
		else
			local f80_local1 = LOADOUT.GetLoadoutStatsGroup()
			for f80_local5, f80_local6 in ipairs( LOADOUT.GetLoadoutValidationInspectedStatsGroup() ) do
				if f80_local1 == f80_local6 then
					if CONDITIONS.IsPlayerDataWeaponSetupsValidationEnabled() then
						LOADOUT.ValidatePlayerDataWeaponSetupsForStatsGroup( f80_arg1, f80_local6 )
						break
					end
					LOADOUT.ValidateLoadoutsForStatsGroup( f80_arg1, f80_local6 )
				end
			end
			ACTIONS.UploadStats( f80_arg0, f80_arg1 )
			ACTIONS.LeaveMenu( f80_arg0 )
			f80_arg0:dispatchEventToRoot( {
				immediate = true,
				name = "update_toast_position"
			} )
		end
	else
		return false
	end
	return true
end

local f0_local45 = function ( f79_arg0, f79_arg1 )
	assert( f79_arg1 )
	if f79_arg0 then
		local f79_local0 = f79_arg0:GetActiveElement()
		if f79_local0 then
			f79_local0:RemoveActive( {
				controller = f79_arg1
			} )
		end
	end
end

local f0_local46 = function ( f78_arg0, f78_arg1 )
	assert( f78_arg1 )
	if f78_arg0 then
		f78_arg0:TouchMouseSetActiveToDefaultFocus( f78_arg1 )
	end
end

local f0_local47 = function ( f77_arg0, f77_arg1, f77_arg2, f77_arg3, f77_arg4 )
	local f77_local0 = CONDITIONS.IsSony()
	if not f77_local0 then
		if not f77_arg3 then
			f77_local0 = f77_arg3
		else
			f77_local0 = not PROGRESSION.AreCustomLoadoutsUnlocked( f77_arg1 )
		end
	end
	local f77_local1
	if not f77_arg4 then
		f77_local1 = f77_arg4
	else
		if f77_local0 then
			f77_local1 = f77_arg0.Loadouts6Cols
			if not f77_local1 then
			
			else
				local f77_local2 = f77_arg2
				if Engine[0x12586A3F4FB490E]() then
					if f77_arg2 < LOADOUT.GetMaxLoadoutCount() then
						local f77_local3 = f77_arg2 + 1
						if not f77_local3 then
							f77_local2 = f77_local3
						else
							f77_local2 = f77_arg2
						end
					end
					f77_local2 = f77_arg2
				end
				f77_local1:SetNumChildren( f77_local2 )
				f77_local1:RefreshContent()
				f77_arg0._loadoutGridNumChildren = f77_arg2
				if not CONDITIONS.IsSony() and CONDITIONS.InGame() then
					f77_arg0.Loadouts6Cols:SetVisible( f77_local0 )
					f77_arg0.InGameLoadouts:SetVisible( not f77_local0 )
					local f77_local3 = f77_arg0.Loadouts6Cols
					local f77_local4 = f77_local3
					f77_local3 = f77_local3.processEvent
					local f77_local5 = {}
					local f77_local6
					if f77_local0 then
						f77_local6 = "gain_focus"
					else
						f77_local6 = "lose_focus"
					end
					f77_local5.name = f77_local6
					f77_local3( f77_local4, f77_local5 )
					f77_local3 = f77_arg0.InGameLoadouts
					f77_local4 = f77_local3
					f77_local3 = f77_local3.processEvent
					f77_local5 = {}
					if f77_local0 then
						f77_local6 = "lose_focus"
					else
						f77_local6 = "gain_focus"
					end
					f77_local5.name = f77_local6
					f77_local3( f77_local4, f77_local5 )
				end
			end
		end
		f77_local1 = f77_arg0.Loadouts
	end
	local f77_local2 = f77_arg2
	if Engine[0x12586A3F4FB490E]() then
		if f77_arg2 < LOADOUT.GetMaxLoadoutCount() then
			local f77_local3 = f77_arg2 + 1
			if not f77_local3 then
				f77_local2 = f77_local3
			else
				f77_local2 = f77_arg2
			end
		end
		f77_local2 = f77_arg2
	end
	f77_local1:SetNumChildren( f77_local2 )
	f77_local1:RefreshContent()
	f77_arg0._loadoutGridNumChildren = f77_arg2
	if not CONDITIONS.IsSony() and CONDITIONS.InGame() then
		f77_arg0.Loadouts6Cols:SetVisible( f77_local0 )
		f77_arg0.InGameLoadouts:SetVisible( not f77_local0 )
		local f77_local3 = f77_arg0.Loadouts6Cols
		local f77_local4 = f77_local3
		f77_local3 = f77_local3.processEvent
		local f77_local5 = {}
		local f77_local6
		if f77_local0 then
			f77_local6 = "gain_focus"
		else
			f77_local6 = "lose_focus"
		end
		f77_local5.name = f77_local6
		f77_local3( f77_local4, f77_local5 )
		f77_local3 = f77_arg0.InGameLoadouts
		f77_local4 = f77_local3
		f77_local3 = f77_local3.processEvent
		f77_local5 = {}
		if f77_local0 then
			f77_local6 = "lose_focus"
		else
			f77_local6 = "gain_focus"
		end
		f77_local5.name = f77_local6
		f77_local3( f77_local4, f77_local5 )
	end
end

local f0_local48 = function ( f76_arg0, f76_arg1 )
	local f76_local0 = LOADOUT.GetDefaultLoadoutCount()
	local f76_local1, f76_local2 = LOADOUT.GetValidLoadouts( f76_arg1 )
	if CONDITIONS.IsSony() then
		f0_local0( f76_arg0, f76_arg1, f76_local0, true )
	else
		f0_local0( f76_arg0, f76_arg1, f76_local0, true, f76_arg0.Loadouts6Cols )
		f0_local0( f76_arg0, f76_arg1, f76_local2, false, f76_arg0.Loadouts )
	end
end

local f0_local49 = function ( f75_arg0, f75_arg1 )
	assert( f75_arg1.controller )
	local f75_local0 = LUI.FlowManager.GetScopedData( f75_arg0 )
	local f75_local1 = f75_local0.selectedLoadoutIndex
	if not f75_local1 then
		f75_local1 = f75_arg0._focusedLoadoutIndex or 0
	end
	f75_local1 = LOADOUT.GetFixedLoadoutIndex( f75_arg1.controller, f75_local1 )
	f75_local0.selectedLoadoutIndex = f75_local1
	f75_arg0._focusedLoadoutIndex = f75_local1
	local f75_local2, f75_local3 = LOADOUT.GetValidLoadouts( f75_arg1.controller )
	local f75_local4 = Engine[0x12586A3F4FB490E]() and f75_arg0.Loadouts or f75_arg0.InGameLoadouts
	f0_local0( f75_local4, f75_arg1.controller )
	f0_local0( f75_arg0, f75_arg1.controller, f75_local3 )
	f75_local4:ProcessEventToChildInFocus( {
		name = "button_over"
	} )
	f0_local0( f75_arg0, f75_arg1.controller )
	f0_local0( f75_arg0, f75_arg1.controller )
	local f75_local5 = f75_local0.menuState == LOADOUT.MENU_STATE.loadoutEdit
	if f75_arg0.WeaponBlueprintBranding then
		f75_arg0.WeaponBlueprintBranding:SetVisible( f75_local5 )
	end
	if f0_local0( f75_arg0 ) then
		local f75_local6
		if f75_local5 then
			f75_local6 = 1
		else
			f75_local6 = 0
		end
		f75_arg0.DMZItemBonus:SetAlpha( f75_local6 )
		f75_arg0.GenericItemBonus:SetAlpha( f75_local6 )
		f75_arg0.UniversalWrapsBonus:SetAlpha( f75_local6 )
	end
	f0_local0( f75_arg0, f75_arg1.controller, true )
end

local f0_local50 = function ( f74_arg0, f74_arg1, f74_arg2 )
	local f74_local0
	if f74_arg2 or CONDITIONS.IsSony() then
		f74_local0 = f74_arg0.Loadouts6Cols
		if not f74_local0 then
		
		else
			local f74_local1 = f74_local0:GetFocusPositionIndex( {
				relativePosition = false
			} )
			if f74_local1 then
				local f74_local2 = {
					y = 0,
					x = f74_local1
				}
				f74_local0:ResetMouseActiveOnGridUpdate( f74_arg1, f74_local2 )
				f74_local0:SetFocusedPosition( f74_local2, true )
			end
			f74_local0:ProcessEventToChildInFocus( {
				name = "tab_changed"
			} )
		end
	end
	f74_local0 = f74_arg0.InGameLoadouts
end

local f0_local51 = function ( f73_arg0, f73_arg1, f73_arg2 )
	local f73_local0 = CONDITIONS.IsSony()
	local f73_local1
	if f73_local0 then
		f73_local1 = f73_arg0.Loadouts6Cols
		if not f73_local1 then
		
		else
			local f73_local2 = nil
			if CoD.IsDMZMatch() then
				f73_local2 = 1
			else
				f73_local2 = f73_arg2
			end
			f73_local1:SetNumChildren( f73_local2 )
			f73_local1:RefreshContent()
			if not CONDITIONS.IsSony() then
				f73_arg0.Loadouts6Cols:SetVisible( f73_local0 )
				f73_arg0.InGameLoadouts:SetVisible( not f73_local0 )
				local f73_local3 = f73_arg0.Loadouts6Cols
				local f73_local4 = f73_local3
				f73_local3 = f73_local3.processEvent
				local f73_local5 = {}
				local f73_local6
				if f73_local0 then
					f73_local6 = "gain_focus"
				else
					f73_local6 = "lose_focus"
				end
				f73_local5.name = f73_local6
				f73_local3( f73_local4, f73_local5 )
				f73_local3 = f73_arg0.InGameLoadouts
				f73_local4 = f73_local3
				f73_local3 = f73_local3.processEvent
				f73_local5 = {}
				if f73_local0 then
					f73_local6 = "lose_focus"
				else
					f73_local6 = "gain_focus"
				end
				f73_local5.name = f73_local6
				f73_local3( f73_local4, f73_local5 )
			end
			f0_local0( f73_arg0, f73_arg1 )
			f0_local0( f73_arg0, f73_arg1, false )
		end
	end
	f73_local1 = f73_arg0.InGameLoadouts
end

local f0_local52 = function ( f72_arg0, f72_arg1 )
	local f72_local0 = true
	local f72_local1
	if f72_local0 then
		f72_local1 = f72_arg0.Loadouts6Cols
		if not f72_local1 then
		
		else
			f72_local1:SetNumChildren( LOADOUT.GetDefaultLoadoutCount() )
			f72_local1:RefreshContent()
			if not CONDITIONS.IsSony() then
				f72_arg0.Loadouts6Cols:SetVisible( f72_local0 )
				f72_arg0.InGameLoadouts:SetVisible( not f72_local0 )
				local f72_local2 = f72_arg0.Loadouts6Cols
				local f72_local3 = f72_local2
				f72_local2 = f72_local2.processEvent
				local f72_local4 = {}
				local f72_local5
				if f72_local0 then
					f72_local5 = "gain_focus"
				else
					f72_local5 = "lose_focus"
				end
				f72_local4.name = f72_local5
				f72_local2( f72_local3, f72_local4 )
				f72_local2 = f72_arg0.InGameLoadouts
				f72_local3 = f72_local2
				f72_local2 = f72_local2.processEvent
				f72_local4 = {}
				if f72_local0 then
					f72_local5 = "lose_focus"
				else
					f72_local5 = "gain_focus"
				end
				f72_local4.name = f72_local5
				f72_local2( f72_local3, f72_local4 )
			end
			f0_local0( f72_arg0, f72_arg1, true )
			f0_local0( f72_arg0, f72_arg1, false, "DefaultLoadouts" )
		end
	end
	f72_local1 = f72_arg0.InGameLoadouts
end

local f0_local53 = function ( f70_arg0, f70_arg1, f70_arg2 )
	f70_arg0:SubscribeToModel( DataSources.inGame.MP.loadoutSelect.inGameState:GetModel( f70_arg1 ), function ( f71_arg0 )
		local f71_local0 = DataModel[0x614D394F6F9A18D]( f71_arg0 )
		if f71_local0 then
			if f71_local0 == LOADOUT.IN_GAME_STATE.default then
				f70_arg0:ChangeToDefaultLoadouts( f70_arg0 )
			else
				f70_arg0:ChangeToCustomLoadouts( f70_arg0, f70_arg0 )
			end
		end
	end )
end

local f0_local54 = function ( f67_arg0, f67_arg1 )
	if CONDITIONS.InFrontendPublic() then
		f67_arg0:registerEventHandler( "update_weapon_master_summary", function ( element, event )
			LOOT.AttachFence( element, f67_arg0, function ( f69_arg0, f69_arg1 )
				if f69_arg1.fenceState ~= LUI.Fence.FenceObjectState.PASSING then
					f69_arg0.MasterChallenges:SetAlpha( 0 )
					ACTIONS.AnimateSequence( f69_arg0, "ChallengesOff" )
					return 
				elseif f69_arg1.weaponRef and GUNSMITH.AreMasterChallengesEnabled( f69_arg1.controllerIndex, f69_arg1.weaponRef ) then
					f69_arg0.MasterChallenges:SetAlpha( 1 )
					f69_arg0.MasterChallenges:Setup( f69_arg1.weaponRef )
					ACTIONS.AnimateSequence( f69_arg0, "ChallengesOn" )
				else
					f69_arg0.MasterChallenges:SetAlpha( 0 )
					ACTIONS.AnimateSequence( f69_arg0, "ChallengesOff" )
				end
			end )
		end )
	end
end

local f0_local55 = function ( f65_arg0, f65_arg1 )
	f65_arg0:registerAndCallEventHandler( "refresh_loadouts", function ( f66_arg0, f66_arg1 )
		f65_arg0( f66_arg0, {
			controller = f65_arg0
		} )
		if f66_arg0.MenuSpecificRefreshLoadoutsHandler then
			f66_arg0:MenuSpecificRefreshLoadoutsHandler( f65_arg0 )
		end
	end )
end

local f0_local56 = function ( f64_arg0 )
	if LOADOUT.GetCurrentMenuState( f64_arg0 ) ~= LOADOUT.MENU_STATE.loadoutEdit and f64_arg0.MenuTitle then
		f64_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0x5CD64C94FEE9C19 ) )
	end
end

local f0_local57 = function ( f63_arg0, f63_arg1 )
	local f63_local0 = LOADOUT.GetLoadoutSquadMember( f63_arg1 )
	f63_local0 = f63_local0.loadouts
	
	local primaryWeaponModel = WEAPON.GetWeaponModel( f63_arg1, FrontEndScene.ClientWeapons.GunTablePrimary )
	f63_arg0:addElement( primaryWeaponModel )
	f63_arg0.primaryWeaponModel = primaryWeaponModel
	
	local secondaryWeaponModel = WEAPON.GetWeaponModel( f63_arg1, FrontEndScene.ClientWeapons.GunTableSecondary )
	f63_arg0:addElement( secondaryWeaponModel )
	f63_arg0.secondaryWeaponModel = secondaryWeaponModel
	
	f63_arg0.LoadoutSelectButtons:SetupWeaponModelEvents( f63_arg1, {
		f63_arg0.primaryWeaponModel,
		f63_arg0.secondaryWeaponModel
	}, f63_local0 )
end

local f0_local58 = function ( f62_arg0, f62_arg1 )
	if CONDITIONS.IsThirdGameMode() then
		if not Onboarding.LoadoutCP.WasCompleted( f62_arg0, f62_arg1 ) then
			LUI.FlowManager.RequestPopupMenu( f62_arg0, "onboardingpopup", true, f62_arg1, false, ONBOARDING_DATA.GetOnboardingLoadoutData() )
			Onboarding.LoadoutCP.MarkCompleted( f62_arg0, f62_arg1 )
		end
	elseif MLG.IsCDLActive( f62_arg1 ) then
		if not Onboarding.CDL.WasCompleted( f62_arg0, f62_arg1 ) then
			LUI.FlowManager.RequestPopupMenu( f62_arg0, "onboardingpopup", true, f62_arg1, false, ONBOARDING_DATA.GetOnboardingCDLData() )
			Onboarding.CDL.MarkCompleted( f62_arg0, f62_arg1 )
		end
	elseif CONDITIONS.IsBRGameType() then
		if not Onboarding.WZDropKit.WasCompleted( f62_arg0, f62_arg1 ) then
			LUI.FlowManager.RequestPopupMenu( f62_arg0, "onboardingpopup", true, f62_arg1, false, ONBOARDING_DATA.GetOnboardingWZDropKitData() )
			Onboarding.WZDropKit.MarkCompleted( f62_arg0, f62_arg1 )
		end
	elseif not Onboarding.Loadout.WasCompleted( f62_arg0, f62_arg1 ) then
		LUI.FlowManager.RequestPopupMenu( f62_arg0, "onboardingpopup", true, f62_arg1, false, ONBOARDING_DATA.GetOnboardingLoadoutData() )
		Onboarding.Loadout.MarkCompleted( f62_arg0, f62_arg1 )
	end
end

local f0_local59 = function ( f61_arg0, f61_arg1 )
	f0_local0( f61_arg0, f61_arg1 )
	f0_local0( f61_arg0, f61_arg1, true )
	f0_local0( f61_arg0, f61_arg1 )
	f0_local0( f61_arg0 )
	f0_local0( f61_arg0, f61_arg1 )
	f0_local0( f61_arg0, f61_arg1 )
	Engine[0x8CEE785C0D63D7E]( GAMEMODE_SCRIPTBUNDLE_UTILS.GetMusicState() )
end

local f0_local60 = function ( f58_arg0, f58_arg1 )
	local f58_local0 = PROGRESSION.AreCustomLoadoutsUnlocked( f58_arg1 )
	local f58_local1 = DataSources.inGame.MP.loadoutSelect.inGameState
	local f58_local2
	if CONDITIONS.IsSystemLink() then
		f58_local2 = CONDITIONS.IsDemoBuildOrDevBuildOrAreDevFeaturesEnabled()
	else
		f58_local2 = true
	end
	local f58_local3, f58_local4 = LOADOUT.GetValidLoadouts( f58_arg1 )
	if Game[0x28624DEF6F708C8]( f58_arg1, "ui_only_default_loadouts" ) or CONDITIONS.IsCIABuildEnabled() then
		f58_local1:SetValue( f58_arg1, LOADOUT.IN_GAME_STATE.default )
		f0_local0( f58_arg0, f58_arg1 )
	elseif f58_local0 and Dvar[0x9E5BE3B4BBA4E0E]( 0x5B384C07850936B ) and f58_local2 then
		local f58_local5 = f58_arg0.selectedLoadout:GetValue( f58_arg1 )
		local f58_local6
		if f58_local5 then
			f58_local6 = f58_local5
		else
			f58_local6 = f58_local5 >= LOADOUT.DEFAULT_LOADOUT_INDEX_START
		end
		local f58_local7 = {}
		f0_local0( f58_arg0, f58_arg1 )
		f58_arg0:SubscribeLoadoutInGameStateDatasource( f58_arg1, f58_local4 )
		if f58_arg0.InGameLoadoutTabs then
			table.insert( f58_local7, {
				name = Engine[0xED84C33EC5F01EA]( 0x5E9F832F2C75EF ),
				focusFunction = function ( f60_arg0, f60_arg1 )
					f58_arg0:SetValue( f58_arg0, LOADOUT.IN_GAME_STATE.custom )
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.tabHighlight )
				end,
				hasDefaultFocus = not f58_local6
			}, Engine[0xC4146BA76D0F982]( SOUND_SETS.default.tabHighlight ) )
			local f58_local8 = table.insert
			local f58_local9 = f58_local7
			local f58_local10 = {
				name = Engine[0xED84C33EC5F01EA]( 0xAFB89CBC7986369 ),
				focusFunction = function ( f59_arg0, f59_arg1 )
					f58_arg0:SetValue( f58_arg0, LOADOUT.IN_GAME_STATE.default )
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.tabHighlight )
				end
			}
			local f58_local11
			if f58_local5 then
				f58_local11 = f58_local6
			else
				f58_local11 = true
			end
			f58_local10.hasDefaultFocus = f58_local11
			f58_local8( f58_local9, f58_local10, Engine[0xC4146BA76D0F982]( SOUND_SETS.default.tabHighlight ) )
			f58_arg0.tabsData = f58_local7
			f58_arg0.InGameLoadoutTabs:SetTabs( f58_local7 )
			f58_arg0.InGameLoadoutTabs:SetAlignment( LUI.Alignment.Center )
		end
	else
		if f58_local0 and f58_local2 then
			f58_local1:SetValue( f58_arg1, LOADOUT.IN_GAME_STATE.mix )
			f58_local4 = f58_local4 + LOADOUT.GetDefaultLoadoutCount()
		else
			f58_local1:SetValue( f58_arg1, LOADOUT.IN_GAME_STATE.default )
			f58_local4 = LOADOUT.GetDefaultLoadoutCount()
			if f58_arg0.InGameLoadoutTabs then
				f58_arg0.InGameLoadoutTabs:DisableAll()
				f58_arg0.InGameLoadoutTabs:SetAlpha( 0 )
			end
			local f58_local5 = f58_arg0.InGameLoadouts
			local f58_local6 = LOADOUT.GetDefaultLoadoutCount()
		end
		local f58_local5 = f0_local0
		local f58_local7 = f58_arg0
		local f58_local8 = f58_arg1
		local f58_local12 = f58_local4
		local f58_local9
		if f58_local0 then
			f58_local9 = not f58_local2
		else
			f58_local9 = true
		end
		f58_local5( f58_local7, f58_local8, f58_local12, f58_local9 )
	end
	f0_local0( f58_arg0, f58_arg1, false, nil, f58_local4 )
end

local f0_local61 = function ( f56_arg0, f56_arg1 )
	if not GL_HACK.IsInfluencerBuild() and CONDITIONS.IsLoadoutEditingEnabled() then
		local f56_local0 = LOADOUT.GetLoadoutSquadMember( f56_arg1 )
		f56_local0 = f56_local0.loadouts
		f56_arg0:AddGamepadEventCallback( "button_alt1", function ( f57_arg0, f57_arg1 )
			local f57_local0 = DataModel[0x614D394F6F9A18D]( DataSources.inGame.MP.loadoutSelect.inGameState:GetModel( f56_arg0 ) ) == LOADOUT.IN_GAME_STATE.default
			local f57_local1 = CONDITIONS.InGame()
			if f57_local1 then
				f57_local1 = LUI.DataSourceFromOmnvar.new( "ui_loadout_drop_use" )
				f57_local1 = f57_local1:GetValue( f56_arg0 )
			end
			if f57_local0 or f57_local1 then
				return 
			end
			local f57_local2 = LUI.FlowManager.GetScopedData( f56_arg0 )
			if f57_local2.menuState == LOADOUT.MENU_STATE.loadoutSelect then
				f57_local2.selectedLoadoutIndex = f56_arg0._focusedLoadoutIndex
				f56_arg0:SwitchToLoadoutEdit( f56_arg0, f56_arg0[f57_local2.selectedLoadoutIndex] )
			elseif f57_local2.menuState == LOADOUT.MENU_STATE.loadoutEdit and f57_local2.selectedWeaponSlot and (not GUNSMITH.IsDisabled( f56_arg0[f57_local2.selectedLoadoutIndex].weaponSetups[f57_local2.selectedWeaponSlot].weapon:get(), f56_arg0[f57_local2.selectedLoadoutIndex].weaponSetups[f57_local2.selectedWeaponSlot].variantID:get() ) or CONDITIONS.InFrontend()) then
				GUNSMITH.OpenGunsmith( f57_arg1.controller, f57_local2.selectedLoadoutIndex, f57_local2.selectedWeaponSlot )
			end
		end )
	end
end

local f0_local62 = function ( f55_arg0, f55_arg1 )
	if LOADOUT.GetCurrentMenuState( f55_arg0 ) == LOADOUT.MENU_STATE.loadoutEdit then
		if f55_arg0.InGameLoadoutTabs then
			f55_arg0.InGameLoadoutTabs:DisableAll()
			f55_arg0.InGameLoadoutTabs:SetAlpha( 0 )
		end
	elseif f55_arg0.MenuTitle then
		f55_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0x16709929A4CAF3D ) )
	end
end

local f0_local63 = function ( f53_arg0, f53_arg1 )
	f53_arg0:registerOmnvarHandler( "post_game_state", function ( f54_arg0 )
		if LUI.PostGameManager.IsPostGame( f53_arg0 ) then
			LUI.FlowManager.RequestCloseAllMenus()
		end
	end )
end

local f0_local64 = function ( f52_arg0, f52_arg1, f52_arg2 )
	f52_arg0.defaultLoadouts = LOADOUT.GetDefaultLoadouts( f52_arg1 )
	f0_local0( f52_arg0, f52_arg1 )
	f0_local0( f52_arg0, f52_arg1 )
	if not f52_arg0.LoadoutAddButton then
		ACTIONS.AnimateSequence( f52_arg0, "HideCreateLoadout" )
	end
	f0_local0( f52_arg0, f52_arg1 )
	f0_local0( f52_arg0, f52_arg1 )
	LUI.TextChat.SetupMenuForNoLine( f52_arg0 )
end

local f0_local65 = function ( f48_arg0 )
	local f48_local0 = f48_arg0.LoadoutPreviewArea
	if f48_local0 then
		f48_local0:OverrideMouseCursorType( MouseCursorType.CURSOR_TYPE_ARROW_ACTIVE )
		f48_local0:addEventHandler( "button_action", function ( f51_arg0, f51_arg1 )
			if f51_arg0:GetHandleMouseButton() then
				local f51_local0 = {
					y = 0,
					x = LOADOUT.FindValidLoadoutIndex( f48_arg0._controllerIndex, f48_arg0._focusedLoadoutIndex )
				}
				local f51_local1 = f48_arg0.Loadouts:GetElementAtPosition( f51_local0.x, f51_local0.y )
				if f51_local1 and f51_local1.buttonActionHandler then
					f51_local1:buttonActionHandler( f51_arg1 )
				end
			end
		end )
		f48_local0:addAndCallEventHandler( "update_input_type", function ( f50_arg0, f50_arg1 )
			if f50_arg0:GetHandleMouseButton() then
				local f50_local0 = f50_arg0:getParent()
				f50_local0.LoadoutSelectButtons:SetSelectionLineVisible( LUI.IsLastInputKeyboardMouse( f50_local0._controllerIndex ) )
			end
		end )
		f48_local0:addEventHandler( "mousemove", function ( f49_arg0, f49_arg1 )
			if f49_arg0:GetHandleMouseButton() then
				local f49_local0 = f49_arg0:getParent()
				f49_local0.LoadoutSelectButtons:SetSelected( f49_arg0:IsPositionInside( f49_arg1.x, f49_arg1.y ) )
			end
		end )
	end
end

local f0_local66 = function ( f46_arg0 )
	local f46_local0 = f46_arg0.LoadoutDetailPanel
	if f46_local0 then
		f46_local0.LoadoutDetailPreviewArea:addEventHandler( "leftmousedown", function ( f47_arg0, f47_arg1 )
			local f47_local0 = f47_arg0:getParent()
			if f47_local0 and f47_local0:IsInteractable() then
				local f47_local1 = f47_local0:getParent()
				local f47_local2 = f47_local1.LoadoutSelectButtons._currentFocusedButton
				if f47_local2 then
					f47_local2:GainFocus( f47_arg1 )
					if f47_local2.buttonActionHandler then
						f47_local2:buttonActionHandler( f47_arg1 )
					end
				end
			end
		end )
	end
end

local f0_local67 = function ( f45_arg0, f45_arg1 )
	local f45_local0 = LOADOUT.GetEmptyLoadoutSlot( f45_arg1 )
	if f45_local0 then
		local f45_local1 = LOADOUT.GetCustomStarters( f45_arg1 )
		LOADOUT.SaveLoadoutAtIndex( f45_arg1, f45_local0, f45_local1[1] )
		local f45_local2 = LUI.FlowManager.GetScopedData( f45_arg0 ) and f45_local0
	end
	f0_local0( f45_arg0, {
		controller = f45_arg1
	} )
	f0_local0( f45_arg0, f45_arg1 )
	if CONDITIONS.IsGamepad( f45_arg1 ) then
		f45_arg0.Loadouts:processEvent( {
			name = "gain_focus",
			controller = f45_arg1
		} )
	end
	f45_arg0._newLoadoutAdded = true
	LUI.ToastManager.CreateToast( f45_arg1, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0x283FA7FBEEB3B9B ), Engine[0xED84C33EC5F01EA]( LOADOUT.ClassNames[f45_local0 + 1] ), LUI.ToastManager.ToastNotificationType.Gear ) )
end

local f0_local68 = function ( f44_arg0, f44_arg1, f44_arg2 )
	if LUI.IsLastInputGamepad( f44_arg1 ) then
		f44_arg2:LoseFocus( {
			snap = true
		} )
	end
	local f44_local0 = {
		replaceLoadouts = LOADOUT.GetEmptyLoadoutSlot( f44_arg1 ) == nil
	}
	local f44_local1, f44_local2 = LOADOUT.GetValidLoadouts( f44_arg1 )
	if f44_local2 == LOADOUT.GetMaxLoadoutCount() then
		LUI.FlowManager.RequestAddMenu( LOADOUT.GetAddNewLoadoutMenuRef(), true, f44_arg1, false, f44_local0, true )
	else
		f0_local0( f44_arg0, f44_arg1 )
	end
end

local f0_local69 = function ( f39_arg0, f39_arg1 )
	if f39_arg0.LoadoutAddButton then
		f39_arg0.LoadoutAddButton:addEventHandler( "button_action", function ( f43_arg0, f43_arg1 )
			if LUI.IsLastInputGamepad( f43_arg1.controller ) then
				f43_arg0:LoseFocus( {
					snap = true
				} )
			end
			local f43_local0 = {
				replaceLoadouts = LOADOUT.GetEmptyLoadoutSlot( f43_arg1.controller ) == nil
			}
			local f43_local1, f43_local2 = LOADOUT.GetValidLoadouts( f39_arg0 )
			if f43_local2 == LOADOUT.GetMaxLoadoutCount() then
				LUI.FlowManager.RequestAddMenu( LOADOUT.GetAddNewLoadoutMenuRef(), true, f43_arg1.controller, false, f43_local0, true )
			else
				f39_arg0( f39_arg0, f39_arg0 )
			end
		end )
		f39_arg0.LoadoutAddButton:addEventHandler( "button_over", function ( f42_arg0, f42_arg1 )
			ACTIONS.AnimateSequence( f39_arg0, "LoadoutAddOver" )
			f39_arg0( f39_arg0.Loadouts, f39_arg0 )
		end )
		f39_arg0.LoadoutAddButton:addEventHandler( "button_up", function ( f41_arg0, f41_arg1 )
			ACTIONS.AnimateSequence( f39_arg0, "LoadoutAddUp" )
			f39_arg0( f39_arg0.Loadouts, f39_arg0 )
		end )
		f39_arg0.LoadoutAddButton:registerEventHandler( "gamepad_button", function ( element, event )
			if not event.down or not element:GetHandleMouseButton() or not element:isInFocus() then
				return 
			else
				local f40_local0 = f39_arg0.LoadoutAddButton
				local f40_local1 = f39_arg0.Loadouts
				if event.button == "right" then
					f40_local0:LoseFocus( event )
					f40_local1:GainFocus( event )
					f40_local1:SetFocusedPosition( {
						x = 0,
						y = 0
					}, true )
					return true
				elseif event.button == "left" then
					f40_local0:GamepadButton( event )
					
				else
					return f40_local0:GamepadButton( event )
				end
			end
		end )
	else
		ACTIONS.AnimateSequence( f39_arg0, "HideCreateLoadout" )
	end
end

local f0_local70 = function ( f36_arg0 )
	local f36_local0 = f36_arg0.Loadouts
	local f36_local1 = f36_arg0.LoadoutAddButton
	f36_local0.gamepadButtonHandler = function ( f38_arg0, f38_arg1 )
		if not f38_arg1.down then
			return 
		elseif f36_arg0 and f38_arg1.button == "left" and f38_arg0:GetFocusPosition( LUI.DIRECTION.horizontal ) == 0 then
			f38_arg0:RemoveFocusFromChild( true )
			f38_arg0:LoseFocus( f38_arg1 )
			f36_arg0:GainFocus( f38_arg1 )
			return true
		else
			return f38_arg0:GamepadButton( f38_arg1 )
		end
	end
	
	f36_local0:registerEventHandler( "gamepad_button", f36_local0.gamepadButtonHandler )
	f36_local0:registerEventHandler( "scrollbar_drag", function ( element, event )
		return element:HandleScrollbarDrag( event )
	end )
end

local f0_local71 = function ( f34_arg0 )
	local f34_local0 = f34_arg0.MouseButtonArea
	local f34_local1 = f34_arg0.Loadouts
	if f34_local0 then
		f34_local0:addEventHandler( "gamepad_button", function ( f35_arg0, f35_arg1 )
			if f35_arg1.qualifier == "mousewheel" then
				f35_arg1.forceScrollMove = true
				if f34_arg0.gamepadButtonHandler then
					f34_arg0:gamepadButtonHandler( f35_arg1 )
				end
			end
		end )
	end
end

local f0_local72 = function ( f33_arg0 )
	if not (Engine[0x12586A3F4FB490E]() or not CONDITIONS.IsCoreMultiplayer( f33_arg0 )) or CONDITIONS.IsThirdGameMode( f33_arg0 ) then
		f33_arg0.selectedLoadout = LUI.DataSourceInControllerModel.new( "cg.players.selectedLoadout" )
	end
end

local f0_local73 = function ( f27_arg0, f27_arg1, f27_arg2 )
	local f27_local0 = LUI.FlowManager.GetScopedData( f27_arg0 )
	local f27_local1 = false
	if CONDITIONS.InGame() and CONDITIONS.IsThirdGameMode() and Game[0x28624DEF6F708C8]( f27_arg1, "cp_open_cac" ) == -1 then
		f27_local1 = true
	end
	local f27_local2 = false
	if CONDITIONS.InGame() and CONDITIONS.IsBRGameType() and Game[0x28624DEF6F708C8]( f27_arg1, "ui_open_loadout_bag" ) then
		f27_local2 = true
	end
	if not f27_arg2.openedFromScriptRequest or f27_local1 then
		if f27_arg0.MenuTitle then
			f27_arg0.MenuTitle:SetupBackButton( f27_arg1 )
		end
		if not f27_local0.openedInTab then
			f27_arg0:AddGamepadEventCallback( "button_secondary", function ( f32_arg0, f32_arg1 )
				f27_arg0( f27_arg0, f27_arg0 )
			end )
		else
			f27_arg0.LoadoutSelectSecondaryButtonAction = f0_local0
		end
		if not Engine[0x12586A3F4FB490E]() and not CONDITIONS.IsThirdGameMode() then
			if f27_arg0.HelperBar then
				f27_arg0:addEventHandler( "menu_create", function ()
					f27_arg0:AddButtonHelperText( {
						clickable = true,
						priority = 2,
						side = "left",
						kbmTooltipPromptOverload = "button_dismiss_pause_menu",
						button_ref = "button_start",
						helper_text = Engine[0xED84C33EC5F01EA]( 0xEF0F75B0AB08E35 )
					} )
				end )
			end
			f27_arg0:AddGamepadEventCallback( "button_start", function ( f30_arg0, f30_arg1 )
				if Engine[0x74423E76DECE3E4]() then
					ACTIONS.ResumeGame( f30_arg0 )
				end
				local f30_local0 = LUI.FlowManager.GetScopedData( f27_arg0 )
				if f30_local0.menuState == LOADOUT.MENU_STATE.loadoutEdit then
					f27_arg0( f27_arg0, f30_local0 )
				end
				if f30_local0.cacSessionDlogOnGoing then
					METRICS.CacSessionEndSendDLogEvent( f27_arg0, f30_local0.sessionID, f30_local0.cacSessionStartTime, METRICS.CacExitReasons.PLAYER_EXIT )
					f30_local0.cacSessionDlogOnGoing = nil
				end
				LUI.FlowManager.RequestCloseAllMenus( f27_arg0.id, false, f30_arg1.controller )
				return true
			end )
			MenuUtils.AddDismissPauseMenuKBMHandler( f27_arg0 )
		end
	elseif f27_local2 then
		if f27_arg0.HelperBar then
			f27_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
				side = "left",
				button_ref = "button_secondary",
				priority = 0,
				helper_text = Engine[0xED84C33EC5F01EA]( 0xC6D515BE207B9A5 )
			} )
		end
		f27_arg0:AddGamepadEventCallback( "button_secondary", function ( f29_arg0, f29_arg1 )
			local f29_local0 = LUI.FlowManager.GetScopedData( f27_arg0 )
			if f29_local0.menuState == LOADOUT.MENU_STATE.loadoutEdit then
				if not Engine[0x12586A3F4FB490E]() then
					Engine[0x6055C55456F05DF]( "class_edit", f29_local0.selectedLoadoutIndex )
					f27_arg0( f27_arg0, f27_arg0 )
				end
			else
				LOADOUT.ExitLoadoutBag()
			end
		end )
	else
		f27_arg0.isQuickAccessShortcutsDisabled = true
		if f27_local0.openedFromScriptRequest and f27_arg0.HelperBar then
			f27_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
				side = "left",
				button_ref = "button_secondary",
				priority = 0,
				helper_text = Engine[0xED84C33EC5F01EA]( 0xC6D515BE207B9A5 )
			} )
		end
		f27_arg0:AddGamepadEventCallback( "button_secondary", function ( f28_arg0, f28_arg1 )
			local f28_local0 = LUI.FlowManager.GetScopedData( f27_arg0 )
			if f28_local0.menuState == LOADOUT.MENU_STATE.loadoutEdit then
				if not Engine[0x12586A3F4FB490E]() then
					Engine[0x6055C55456F05DF]( "class_edit", f28_local0.selectedLoadoutIndex )
				end
				if f27_arg0.MenuTitle then
					MenuUtils.HideBackButton( f27_arg0.MenuTitle )
				end
				f27_arg0( f27_arg0, f27_arg0 )
			elseif CONDITIONS.IsBRLoadoutGameType( f27_arg0 ) then
				LUI.FlowManager.RequestCloseAllMenus()
			else
				Engine[0x6055C55456F05DF]( "class_menu_closed", 1 )
				Engine[0x6055C55456F05DF]( "class_select", 0 )
				LUI.FlowManager.RequestCloseAllMenus()
			end
		end )
	end
end

local f0_local74 = function ( f25_arg0, f25_arg1 )
	if CONDITIONS.InFrontend() then
		f25_arg0:AddGamepadEventCallback( "button_right_stick", function ( f26_arg0, f26_arg1 )
			if LUI.IsLastInputKeyboardMouse( f26_arg1.controller ) and f26_arg1.down and f26_arg0.LoadoutSelectButtons:LastFocusedIsWeaponCluster() then
				local f26_local0 = LUI.FlowManager.GetScopedData( f26_arg0 )
				if f26_local0 and f26_local0.selectedWeaponSlot and f26_local0.selectedLoadoutIndex then
					local f26_local1 = LOADOUT.GetLoadoutPlayerData( f25_arg0, f26_local0.selectedLoadoutIndex )
					if f26_local1 and f26_local1.weaponSetups then
						local f26_local2 = WEAPON.GenerateWeaponTable( f26_local1.weaponSetups[f26_local0.selectedWeaponSlot] )
						local f26_local3 = GUNSMITH.IsDisabled( f26_local2.weapon, f26_local2.variantID )
						if f26_local3 then
							f26_local3 = not CONDITIONS.InFrontend()
						end
						if not f26_local3 then
							GUNSMITH.OpenGunsmith( f26_arg1.controller, f26_local0.selectedLoadoutIndex, f26_local0.selectedWeaponSlot )
						end
					end
				end
			end
		end )
	end
end

local f0_local75 = function ( f18_arg0, f18_arg1 )
	local f18_local0, f18_local1 = LOADOUT.GetValidLoadouts( f18_arg1 )
	local f18_local2 = function ( f19_arg0 )
		f19_arg0:SetDefaultFocus( function ()
			return f19_arg0( f19_arg0, f19_arg0, f19_arg0 )
		end )
		f19_arg0:TouchMouseSetActiveToDefaultFocusMenuCreate( f18_arg0 )
		f19_arg0:SetRefreshChild( function ( f20_arg0, f20_arg1, f20_arg2 )
			local f20_local0 = false
			if CONDITIONS.InGame() then
				local f20_local1 = DataModel[0x614D394F6F9A18D]( DataSources.inGame.MP.loadoutSelect.inGameState:GetModel( f19_arg0 ) )
				if f20_local1 ~= LOADOUT.IN_GAME_STATE.default and (f20_local1 ~= LOADOUT.IN_GAME_STATE.mix or f19_arg0 > f20_arg2) then
					f20_local0 = false
				else
					f20_local0 = true
				end
			end
			local f20_local2
			if f20_local0 then
				f20_local2 = LOADOUT.GetDefaultLoadouts( f19_arg0 )
				if not f20_local2 then
				
				else
					if f19_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal and not f20_arg1 then
						local f20_local1 = f20_arg1
					else
						local f20_local1 = f20_arg2
					end
					local f20_local3 = false
					if PROGRESSION.AreCustomLoadoutsUnlocked( f19_arg0 ) then
						local f20_local1 = f19_arg0:GetContentIndex( f20_arg1, f20_arg2, {
							relativePosition = false
						} )
					end
					if Engine[0x12586A3F4FB490E]() then
						if f20_local1 ~= #f20_local2 + 1 or #f20_local2 >= LOADOUT.GetMaxLoadoutCount() then
							f20_local3 = false
						else
							f20_local3 = true
						end
						f20_arg0:SetAsLastAddButton( f19_arg0, f20_local3 )
					end
					if not f20_arg0._eventHandlersAdded then
						f20_arg0._eventHandlersAdded = true
						f20_arg0:addEventHandler( "button_action", function ( f23_arg0, f23_arg1 )
							if f23_arg0._isAddButton then
								f20_arg0( f20_arg0, f20_arg0, f23_arg0 )
							end
						end )
						f20_arg0:addEventHandler( "button_over", function ( f22_arg0, f22_arg1 )
							if f22_arg0._isAddButton then
								ACTIONS.AnimateSequence( f20_arg0, "LoadoutAddOver" )
								f20_arg0( f20_arg0 )
							elseif CONDITIONS.InFrontend() then
								f20_arg0( f20_arg0, f20_arg0 )
							end
						end )
						f20_arg0:addEventHandler( "button_up", function ( f21_arg0, f21_arg1 )
							if f21_arg0._isAddButton then
								ACTIONS.AnimateSequence( f20_arg0, "LoadoutAddUp" )
							end
						end )
					end
					f19_arg0( f19_arg0, f19_arg0, f20_arg0, f20_local2, f20_local1, f20_local0, f20_local3 )
				end
			end
			f20_local2 = LOADOUT.GetValidLoadouts( f19_arg0 )
		end )
	end
	
	f18_local2( f18_arg0.Loadouts )
	if f18_arg0.Loadouts6Cols and f18_arg0.Loadouts6Cols ~= f18_arg0.Loadouts then
		f18_local2( f18_arg0.Loadouts6Cols )
	end
end

local f0_local76 = function ( f17_arg0, f17_arg1 )
	f17_arg0.LoadoutSelectButtons:SetMouseHandling( false )
	local f17_local0 = LUI.FlowManager.GetScopedData( f17_arg0 )
	local f17_local1 = f17_local0.selectedLoadoutIndex or 0
	local f17_local2 = LOADOUT.GetLoadoutSquadMember( f17_arg1 )
	f17_arg0.LoadoutSelectButtons:SetupGridItems( f17_arg1, f17_local1, f17_local2.loadouts[f17_local1], nil, f17_arg0 )
end

local f0_local77 = function ( f16_arg0, f16_arg1, f16_arg2 )
	local f16_local0 = LUI.FlowManager.GetScopedData( f16_arg0 )
	local f16_local1 = f16_local0.selectedLoadoutIndex or 0
	if f16_local0.menuState == LOADOUT.MENU_STATE.loadoutEdit then
		ACTIONS.AnimateSequence( f16_arg0, "LoadoutEditSnap" )
		f0_local0( f16_arg0, true )
		local f16_local2 = LOADOUT.GetLoadoutSquadMember( f16_arg1 )
		f16_local2 = f16_local2.loadouts
		if f16_arg0.MenuTitle then
			f16_arg0.MenuTitle:SetupBackButton( f16_arg1 )
			f16_arg0.MenuTitle:SetTitle( f16_local2[f16_local1].name:get() )
		elseif f16_arg0.LoadoutTitle then
			f16_arg0.LoadoutTitle:setText( Engine[0xEB2A2834B76AEA4]( f16_local2[f16_local1].name:get() ) )
		end
		if f16_arg0.LoadoutsScrollbar then
			f16_arg0.LoadoutsScrollbar:SetAlpha( 0 )
		end
		if f16_arg0.LoadoutAddButton then
			f16_arg0.LoadoutAddButton:SetButtonDisabled( true )
		end
		f16_arg0.LoadoutSelectButtons:SetMouseHandling( true )
		f0_local0( f16_arg0, f16_arg1, false )
		if CONDITIONS.InFrontend() then
			local f16_local3 = LUI.FlowManager.GetScopedData( f16_arg0 )
			f16_local3.selectedLoadoutIndex = f16_arg0._focusedLoadoutIndex
			f0_local0( f16_arg0, f16_arg1, LOADOUT.GetLoadoutPlayerData( f16_arg1, f16_local3.selectedLoadoutIndex ) )
		end
	else
		f0_local0( f16_arg0, false )
		if CONDITIONS.InFrontend() then
			f0_local0( f16_arg0, f16_arg1, nil )
			f0_local0( f16_arg0, f16_arg1 )
		end
	end
end

local f0_local78 = function ( f14_arg0, f14_arg1 )
	f14_arg0:registerEventHandler( "lui_game_start_notify", function ( element, event )
		local f15_local0 = LUI.FlowManager.GetScopedData( element )
		if f15_local0.cacSessionDlogOnGoing then
			METRICS.CacSessionEndSendDLogEvent( f14_arg0, f15_local0.sessionID, f15_local0.cacSessionStartTime, METRICS.CacExitReasons.GAME_START_INTERRUPT )
			f15_local0.cacSessionDlogOnGoing = nil
		end
	end )
end

local f0_local79 = function ( f13_arg0, f13_arg1 )
	if f13_arg0.RestrictionLoadoutWarning then
		if LOADOUT.MATCHRULES.IsThereARestrictedLoadout( f13_arg1 ) or Restrictions.ArePerksRestricted() then
			ACTIONS.AnimateSequence( f13_arg0, "RestrictionWarningOn" )
		else
			ACTIONS.AnimateSequence( f13_arg0, "RestrictionWarningOff" )
		end
	end
end

local f0_local80 = function ( f11_arg0 )
	f11_arg0:AddGamepadEventCallback( "button_left_stick", function ( f12_arg0, f12_arg1 )
		if f12_arg0._optionsEnabled then
			f11_arg0( f12_arg0, f12_arg1.controller )
		end
	end )
end

local f0_local81 = function ( f9_arg0, f9_arg1 )
	if f9_arg0.WeaponBlueprintBranding or f0_local0( f9_arg0 ) then
		f9_arg0:addEventHandler( "update_branding", function ( f10_arg0, f10_arg1 )
			if f9_arg0.WeaponBlueprintBranding then
				local f10_local0 = nil
				if f10_arg1.weaponSetup then
					local f10_local1 = WEAPON.GenerateWeaponTable( f10_arg1.weaponSetup )
					f10_local0 = WEAPON.GenerateWeaponTableFromWeaponString( f10_local1.weapon, WEAPON.GetWeaponModelName( f10_local1.weapon, f10_local1, {
						includeAttachments = true
					} ), {
						shouldConvertVariantIDToNumber = true,
						shouldIncludeAllAttachments = true
					} )
				end
				GUNSMITH.UpdateWeaponStatsBranding( f9_arg0, f10_arg0.WeaponBlueprintBranding.Branding, f10_local0 )
			end
			if f9_arg0( f9_arg0 ) then
				local f10_local0 = f10_arg1.weaponSetup
				if f10_local0 then
					f10_local0 = f10_arg1.weaponSetup.lootItemID:get()
				end
				if f10_local0 and f10_local0 > LOOT.emptyID then
					local f10_local1 = WEAPON.GetWeaponBlueprintTacticalBuildDataByLootID( f9_arg0, f10_local0 )
					local f10_local2
					if f10_local1 then
						f10_local2 = f10_local1
					else
						f10_local2 = f10_local1.insuredCooldownOverrideTimer
						if f10_local2 then
							f10_local2 = 0 < f10_local1.insuredCooldownOverrideTimer
						end
					end
					if f10_local2 then
						f10_arg0.DMZItemBonus:SetVisible( true )
						f10_arg0.DMZItemBonus:SetBodyText( LOOT.itemTypes.WEAPON, TIME.ConvertSecondsToMinutes( f10_local1.insuredCooldownOverrideTimer ) )
					else
						f10_arg0.DMZItemBonus:SetVisible( false )
					end
					if GL_HACK.ShouldHideDMZReactiveWidget() then
						f10_arg0.GenericItemBonus:SetVisible( false )
					else
						f10_arg0.GenericItemBonus:SetVisible( WEAPON.HasReactiveBonusEffect( f9_arg0, f10_local0 ) )
					end
					if f10_local1 and f10_local1.hasVaultCamo then
						f10_arg0.UniversalWrapsBonus:SetVisible( true )
						f10_arg0.UniversalWrapsBonus:SetBodyText( f10_local0 )
					else
						f10_arg0.UniversalWrapsBonus:SetVisible( false )
					end
				else
					f10_arg0.DMZItemBonus:SetVisible( false )
					f10_arg0.GenericItemBonus:SetVisible( false )
					f10_arg0.UniversalWrapsBonus:SetVisible( false )
				end
			end
		end )
	end
end

local f0_local82 = function ( f8_arg0, f8_arg1, f8_arg2 )
	f0_local0( f8_arg0 )
	f0_local0( f8_arg0 )
	f0_local0( f8_arg0 )
end

local f0_local83 = function ( f7_arg0, f7_arg1 )
	local f7_local0
	if f7_arg1 == 0 then
		f7_local0 = f7_arg0.LoadoutSelectButtons.PrimaryWeapon
		if not f7_local0 then
		
		else
			f7_local0.WeaponButton:processEvent( {
				name = "gain_focus"
			} )
		end
	end
	f7_local0 = f7_arg0.LoadoutSelectButtons.SecondaryWeapon
end

local f0_local84 = function ( f6_arg0, f6_arg1 )
	if Engine[0x12586A3F4FB490E]() then
		Streaming[0xE493C1B436663F6]( true )
		f0_local0( f6_arg0, f6_arg1 )
	end
end

local f0_local85 = function ( f5_arg0, f5_arg1, f5_arg2 )
	f5_arg0.SetupScene = f0_local0
	if GL_HACK.ValidateCPLoadouts() then
		LOADOUT.CPRectifyOverkillLoadouts( f5_arg1 )
	end
	f0_local0( f5_arg0, f5_arg1 )
end

local f0_local86 = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0.DisplayLoadout = f0_local0
	f3_arg0.SwitchToLoadoutEdit = f0_local0
	f3_arg0.ChangeToCustomLoadouts = f0_local0
	f3_arg0.ChangeToDefaultLoadouts = f0_local0
	f3_arg0.SubscribeLoadoutInGameStateDatasource = f0_local0
	f3_arg0.RefocusLoadoutWeaponSlot = f0_local0
	f3_arg0.Loadouts = CONDITIONS.IsSony() and f3_arg0.Loadouts6Cols or f3_arg0.Loadouts
	f3_arg0.InGameLoadouts = CONDITIONS.InGame() and f3_arg0.Loadouts or nil
	local f3_local0 = LOADOUT.GetDefaultLoadoutCount()
	f3_arg0.Loadouts:SetNumChildren( f3_local0 )
	if f3_arg0.Loadouts6Cols then
		f3_arg0.Loadouts6Cols:SetNumChildren( f3_local0 )
	end
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0 )
	if Engine[0x12586A3F4FB490E]() then
		f0_local0( f3_arg0, f3_arg1 )
	else
		f0_local0( f3_arg0, f3_arg1, f3_arg2 )
	end
	f0_local0( f3_arg0, f3_arg1, f3_arg2 )
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0, f3_arg1, f3_arg2 )
	f0_local0( f3_arg0 )
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0 )
	f0_local0( f3_arg0, f3_arg1 )
	LUI.DeferredFence.Attach( f3_arg0, f3_arg1, "ACHIEVEMENTENGINE", LUI.DeferredFence.Criticality.MINOR, LUI.DeferredFence.BackOutMethod.NONE, function ( f4_arg0, f4_arg1 )
		
	end )
end

local f0_local87 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.PreLoadShared = f0_local0
	f2_arg0.PostLoadShared = f0_local0
	f2_arg0.SetupLoadoutOverviewMenu = f0_local0
end

function LoadoutSelectBase( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -960.5 * _1080p, 960.5 * _1080p, -540 * _1080p, 540 * _1080p )
	self.id = "LoadoutSelectBase"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "LoadoutSelectBase", LoadoutSelectBase )
LockTable( _M )
