-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
module( ..., package.seeall )
require( "ui.generated.widgets.scrollbar.horizontalminimalscrollbar" )
require( "ui.generated.widgets.frontend.mp.cas.gunsmith.gunsmithprogressionoverviewbutton" )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.frontend.mp.cas.attachmentprogressionpreview" )
require( "ui.generated.widgets.frontend.weapons.weaponinfopanel" )
local f0_local0 = 5
local f0_local1 = 12
local f0_local2 = 4
local f0_local3 = function ( f33_arg0, f33_arg1, f33_arg2 )
	f33_arg0._progressionUnlocks = f33_arg0._progressionUnlocks or {}
	local f33_local0 = {}
	local f33_local1 = WEAPON.GetWeaponDataForRef( f33_arg2 )
	local f33_local2 = PROGRESSION.GetWeaponProgress( f33_arg1, f33_arg2 )
	local f33_local3 = PROGRESSION.GetMaxWeaponLevel( f33_arg2 )
	local f33_local4 = nil
	if f33_local1 then
		f33_local4 = f33_local1[0x49DB2AF7D3296E4]
	end
	if not f33_local4 then
		return 
	end
	for f33_local5 = 1, f33_local3, 1 do
		local f33_local8 = f33_local4[f33_local5 + 1]
		if f33_local8 then
			local f33_local9 = f33_local8[0x1CBA5DD1F23977A][1] or ""
			local f33_local10 = LOOT.GetTypeForID( f33_local9[0x28887F70BF5EBA] )
			if f33_local10 and f33_local10 ~= LOOT.itemTypes.INVALID then
				local f33_local11 = GL_HACK.GetAttachmentData( f33_arg1, ATTACHMENT.GetRefByID( tonumber( f33_local9[0x28887F70BF5EBA] ) ) )
				if f33_local11 then
					f33_local11.levelUnlock = f33_local5
					f33_local11.unlocked = f33_local5 <= f33_local2.rank
					if PROGRESSION.ShouldUnlockAll() then
						f33_local11.unlocked = true
					end
					table.insert( f33_local0, f33_local11 )
				end
			end
		end
	end
	table.insert( f33_arg0._progressionUnlocks, {
		attachments = f33_local0,
		weaponRef = f33_arg2
	} )
	return true
end

local f0_local4 = function ( f32_arg0, f32_arg1, f32_arg2 )
	f32_arg0._weaponRefsInPlatform = {}
	local f32_local0 = GUNSMITH.GetWeaponPlatformProgressionFile( f32_arg2 )
	local f32_local1 = StringTable[0xFD4E49A34DD43AE]( f32_local0 )
	local f32_local2 = 0
	local f32_local3 = 0
	for f32_local4 = 0, f32_local1 - 1, 1 do
		local f32_local7 = StringTable[0x2077452C28AB2FC]( f32_local0, f32_local4, CSV.platformProgressionTable.cols.ref )
		if f0_local0( f32_arg0, f32_arg1, f32_local7 ) then
			table.insert( f32_arg0._weaponRefsInPlatform, f32_local7 )
			local f32_local8 = PROGRESSION.GetMaxWeaponLevel( f32_local7 )
			local f32_local9 = PROGRESSION.GetWeaponDisplayLevel( f32_arg1, f32_local7 )
			f32_local2 = f32_local2 + f32_local8
			f32_local3 = f32_local3 + f32_local9
		end
	end
	if 0 < f32_local2 then
		f32_arg0.WeaponMasteryPercent:setText( Engine[0xED84C33EC5F01EA]( 0x4348825FE0CF6E9, math.floor( f32_local3 / f32_local2 * 100 ) ) )
	end
end

local f0_local5 = function ( f31_arg0, f31_arg1, f31_arg2 )
	if CONDITIONS.InFrontend() then
		local f31_local0 = WEAPON.GenerateWeaponTableFromRef( f31_arg2 )
		WEAPON.LoadAndSetModelFromName( f31_arg1, f31_arg0._weaponModel, WEAPON.GetWeaponModelName( f31_local0.weapon, f31_local0, {
			controllerIndex = f31_arg1
		} ) )
	end
end

local f0_local6 = function ( f30_arg0, f30_arg1 )
	if f30_arg0 <= f0_local0 then
		return f0_local0
	elseif f30_arg1 - f0_local0 < f30_arg0 then
		return f30_arg1 - f0_local0
	else
		return f30_arg0 - 1
	end
end

local f0_local7 = function ( f29_arg0 )
	for f29_local3, f29_local4 in ipairs( f29_arg0 ) do
		if not f29_local4.unlocked then
			return f0_local0( f29_local3, #f29_arg0 )
		end
	end
	return #f29_arg0 - f0_local0
end

local f0_local8 = function ( f28_arg0, f28_arg1, f28_arg2 )
	f28_arg0._focusIndex = f28_arg1
	if f0_local0 < f28_arg1 then
		f28_arg0.AttachmentPreview:SetFocusedPosition( {
			y = 0,
			x = f28_arg1 - f0_local0
		}, true, false )
	else
		f28_arg0.AttachmentPreview:SetFocusedPosition( {
			x = 0,
			y = 0
		}, true, false )
	end
	if f28_arg1 + f0_local0 - 1 < f28_arg2 then
		f28_arg0.AttachmentPreview:SetFocusedPosition( {
			y = 0,
			x = f28_arg1 + f0_local0 - 1
		}, true, false )
	end
	f28_arg0.AttachmentPreview:SetFocusedPosition( {
		y = 0,
		x = f28_arg1
	}, true, false )
	local f28_local0 = f28_arg1 <= f0_local0
	local f28_local1 = f28_arg2 - f0_local0 <= f28_arg1
	if f28_local0 and f28_local1 then
		ACTIONS.AnimateSequence( f28_arg0, "NoFade" )
	elseif f28_local0 then
		ACTIONS.AnimateSequence( f28_arg0, "FadeRight" )
	elseif f28_local1 then
		ACTIONS.AnimateSequence( f28_arg0, "FadeLeft" )
	else
		ACTIONS.AnimateSequence( f28_arg0, "BothFades" )
	end
end

local f0_local9 = function ( f27_arg0, f27_arg1, f27_arg2 )
	if f27_arg0._currWeaponIndex ~= f27_arg2._index then
		ACTIONS.AnimateSequence( f27_arg0, "ShowAttachmentPreview" )
	end
	local f27_local0 = LUI.FlowManager.GetScopedData( f27_arg0 )
	f27_local0.restoreFocusIndex = f27_arg2._index - 1
	f27_arg0._currWeaponIndex = f27_arg2._index
	local f27_local1 = f27_arg0._progressionUnlocks[f27_arg0._currWeaponIndex].attachments
	f27_arg0.AttachmentPreview:SetNumChildren( #f27_local1 )
	f27_arg0.AttachmentPreview:RefreshContent()
	f0_local0( f27_arg0, f0_local0( f27_local1 ), #f27_local1 )
	local f27_local2 = WEAPON.GenerateWeaponTableFromRef( f27_arg2._weaponRef )
	f27_local2.header = WEAPON.GetName( f27_arg2._weaponRef )
	f27_local2.desc = WEAPON.GetDesc( f27_arg2._weaponRef )
	f27_local2.isUnlocked = PROGRESSION.IsUnlocked( f27_arg1, LOOT.itemTypes.WEAPON, f27_arg2._weaponRef )
	f27_arg0.WeaponInfoPanel:UpdatePanel( GUNSMITH.GetWeaponArmoryDetails( f27_arg1, f27_local2 ) )
	f0_local0( f27_arg0, f27_arg1, f27_arg2._weaponRef )
end

local f0_local10 = function ( f20_arg0, f20_arg1, f20_arg2, f20_arg3 )
	f20_arg0.AttachmentPreview:SetMask( f20_arg0.FadeMask )
	f20_arg0.AttachmentPreview:SetRefreshChild( function ( f26_arg0, f26_arg1, f26_arg2 )
		if not f20_arg0._currWeaponIndex then
			return 
		else
			f26_arg0:SetAttachment( f20_arg0, f20_arg0._progressionUnlocks[f20_arg0._currWeaponIndex].attachments[f26_arg1 + 1] )
		end
	end )
	f20_arg0.WeaponGrid:SetRefreshChild( function ( f23_arg0, f23_arg1, f23_arg2 )
		f23_arg0._index = f23_arg1 + 1
		local f23_local0 = f20_arg0._weaponRefsInPlatform[f23_arg0._index]
		local f23_local1 = f20_arg0._progressionUnlocks[f23_arg0._index].attachments
		f23_arg0:SetWeapon( f20_arg0, f23_local0 )
		f23_arg0:SetUnlockAmount( f23_local1 )
		f23_arg0:SetupHorizontalLine( #f23_local1 )
		if not f23_arg0._handlersAdded then
			f23_arg0:addEventHandler( "button_action", function ( f25_arg0, f25_arg1 )
				if f23_arg0._progressionUnlocks then
					LUI.FlowManager.RequestAddMenu( "AttachmentProgressionMenu", false, f23_arg0, false, {
						progressionUnlocks = f23_arg0._progressionUnlocks,
						index = f25_arg0._index
					} )
				end
			end )
			f23_arg0:addEventHandler( "button_over", function ( f24_arg0, f24_arg1 )
				f23_arg0( f23_arg0, f23_arg0, f24_arg0 )
			end )
			f23_arg0._handlersAdded = true
		end
	end )
	local f20_local0 = function ()
		if f20_arg0 then
			return {
				y = 0,
				x = f20_arg0
			}
		end
		for f22_local3, f22_local4 in ipairs( f20_arg0._weaponRefsInPlatform ) do
			if f22_local4 == f20_arg0 then
				return {
					y = 0,
					x = f22_local3 - 1
				}
			end
		end
		return {
			x = 0,
			y = 0
		}
	end
	
	f20_local0 = f20_local0()
	f20_arg0.WeaponGrid:SetDefaultFocus( f20_local0 )
	f20_arg0.WeaponGrid:SetNumChildren( #f20_arg0._weaponRefsInPlatform )
	f20_arg0.WeaponGrid:RefreshContent()
	f20_arg0.WeaponGrid:SetFocusedPosition( f20_local0, true, true )
	if f0_local0 < f20_local0.x then
		if f20_arg0.WeaponGrid:GetElementAtPosition( f20_local0.x, f20_local0.y ) then
			local f20_local1 = f20_arg0:Wait( 1 )
			f20_local1.onComplete = function ()
				f20_arg0:processEvent( {
					name = "button_over"
				} )
			end
			
		end
	end
end

local f0_local11 = function ( f17_arg0 )
	f17_arg0:AddGamepadEventCallback( "button_shoulderr", function ( f19_arg0, f19_arg1 )
		local f19_local0 = f17_arg0._progressionUnlocks[f17_arg0._currWeaponIndex].attachments
		f17_arg0( f17_arg0, f17_arg0( f17_arg0._focusIndex + f17_arg0, #f19_local0 ), #f19_local0 )
		Engine[0xC4146BA76D0F982]( SOUND_SETS.default.tabHighlight )
	end )
	f17_arg0:AddGamepadEventCallback( "button_shoulderl", function ( f18_arg0, f18_arg1 )
		local f18_local0 = f17_arg0._progressionUnlocks[f17_arg0._currWeaponIndex].attachments
		f17_arg0( f17_arg0, f17_arg0( f17_arg0._focusIndex - f17_arg0, #f18_local0 ), #f18_local0 )
		Engine[0xC4146BA76D0F982]( SOUND_SETS.default.tabHighlight )
	end )
end

local f0_local12 = function ( f14_arg0, f14_arg1, f14_arg2 )
	f14_arg0:registerEventHandler( "restore_focus", function ( element, event )
		local f16_local0 = LUI.FlowManager.GetScopedData( f14_arg0 )
		f14_arg0( f14_arg0, f14_arg0, f14_arg0.weaponRef, f16_local0.restoreFocusIndex )
	end )
	local f14_local0 = LUI.FlowManager.GetScopedData( f14_arg0 )
	f14_arg0._weaponTable = WEAPON.GenerateWeaponTableFromRef( f14_arg2.weaponRef )
	f14_arg0._weaponModel = WEAPON.GetWeaponModel( f14_arg1, FrontEndScene.ClientWeapons.Preview, WEAPON.OffsetFiles.PreviewData )
	f14_arg0:addElement( f14_arg0._weaponModel )
	GUNSMITH.SetupGunsmithScene( f14_arg0, f14_arg1, f14_arg0._weaponTable )
	f0_local0( f14_arg0, f14_arg1, f14_arg2.weaponRef )
	f0_local0( f14_arg0, f14_arg1, f14_arg2.weaponRef, f14_local0.restoreFocusIndex )
	f0_local0( f14_arg0 )
	local f14_local1 = LAYOUT.GetTextWidth( f14_arg0.PreviewLabel, f14_arg1 ) / 2
	f14_arg0.LeftLine:SetRight( -(f14_local1 + f0_local0) )
	f14_arg0.RightLine:SetLeft( f14_local1 + f0_local0 )
	f14_arg0.WeaponInfoPanel.StatsWithDetails:SetVisible( false )
	f14_arg0.WeaponInfoPanel.ProgressionButton:closeTree()
	f14_arg0.WeaponInfoPanel.ProgressionButton = nil
	f14_arg0:AddGamepadEventCallback( 0x691AB96D9875434, function ( f15_arg0, f15_arg1 )
		local f15_local0 = LUI.FlowManager.GetScopedData( f14_arg0 )
		f15_local0.restoreFocusIndex = nil
		ACTIONS.LeaveMenu( f14_arg0, f15_arg1.controller or f14_arg0 )
	end )
end

States = {
	[0xAD14C6E7156B923] = function ( f6_arg0, f6_arg1 )
		local f6_local0 = function ( f13_arg0, f13_arg1 )
			
		end
		
		f6_arg0[0x9535AA019032067]:RegisterAnimationSequence( 0xAC62FAAC660482A, {
			nil,
			nil,
			1256,
			0,
			nil,
			4294966317,
			0,
			nil,
			1.9035990222002317E+185,
			0,
			nil,
			-2.3534382821181993E-185,
			0,
			[1] = TWEEN_PROPERTY.Right,
			[4] = TWEEN_PROPERTY.Left,
			[7] = TWEEN_PROPERTY.Top,
			[10] = TWEEN_PROPERTY.Bottom
		} )
		f6_arg0[0x4D592C882688B1F]:RegisterAnimationSequence( 0xAC62FAAC660482A, {
			nil,
			nil,
			nil,
			0,
			nil,
			0,
			0,
			nil,
			654,
			0,
			nil,
			669,
			0,
			nil,
			1,
			0,
			nil,
			-56,
			0,
			nil,
			-41,
			0,
			[1] = TWEEN_PROPERTY.Material,
			[2] = RegisterMaterial( "ui_widg_arrow_button_arrow" ),
			[4] = TWEEN_PROPERTY.Z_Rotation,
			[7] = TWEEN_PROPERTY.Top,
			[10] = TWEEN_PROPERTY.Bottom,
			[13] = TWEEN_PROPERTY.Scale,
			[16] = TWEEN_PROPERTY.Left,
			[19] = TWEEN_PROPERTY.Right
		} )
		f6_arg0[0x66D057BE9DA1FC]:RegisterAnimationSequence( 0xAC62FAAC660482A, {
			nil,
			nil,
			nil,
			0,
			nil,
			0,
			0,
			nil,
			5.34781588E-315,
			0,
			nil,
			5.347967655E-315,
			0,
			nil,
			1833,
			0,
			nil,
			1848,
			0,
			[1] = TWEEN_PROPERTY.Material,
			[2] = RegisterMaterial( "perk_packages_title_bracket_corner" ),
			[4] = TWEEN_PROPERTY.Scale,
			[7] = TWEEN_PROPERTY.Top,
			[10] = TWEEN_PROPERTY.Bottom,
			[13] = TWEEN_PROPERTY.Left,
			[16] = TWEEN_PROPERTY.Right
		} )
		f6_arg0[0xF8BFB227C44C806]:RegisterAnimationSequence( 0xAC62FAAC660482A, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f6_arg0[0xFCB0AC6AC4413F3]:RegisterAnimationSequence( 0xAC62FAAC660482A, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f6_local1 = function ( f12_arg0, f12_arg1 )
			f12_arg0[0x9535AA019032067]:AnimateSequence( 0xAC62FAAC660482A )
			f12_arg0[0x4D592C882688B1F]:AnimateSequence( 0xAC62FAAC660482A )
			f12_arg0[0x66D057BE9DA1FC]:AnimateSequence( 0xAC62FAAC660482A )
			f12_arg0[0xF8BFB227C44C806]:AnimateSequence( 0xAC62FAAC660482A )
			f12_arg0[0xFCB0AC6AC4413F3]:AnimateSequence( 0xAC62FAAC660482A )
		end
		
		f6_arg0[0x9535AA019032067]:RegisterAnimationSequence( 0x8B2BD9700E43797, {
			nil,
			nil,
			988,
			0,
			nil,
			4294966141,
			0,
			nil,
			1.9035990222323847E+185,
			0,
			nil,
			4.6672616491381715E-62,
			0,
			[1] = TWEEN_PROPERTY.Right,
			[4] = TWEEN_PROPERTY.Left,
			[7] = TWEEN_PROPERTY.Top,
			[10] = TWEEN_PROPERTY.Bottom
		} )
		f6_arg0[0x4D592C882688B1F]:RegisterAnimationSequence( 0x8B2BD9700E43797, {
			nil,
			nil,
			nil,
			0,
			nil,
			-38,
			0,
			nil,
			0,
			0,
			nil,
			5.34781588E-315,
			0,
			nil,
			5.347967655E-315,
			0,
			nil,
			-56,
			0,
			nil,
			-41,
			0,
			[1] = TWEEN_PROPERTY.Material,
			[2] = RegisterMaterial( "perk_packages_title_bracket_corner" ),
			[4] = TWEEN_PROPERTY.Z_Rotation,
			[7] = TWEEN_PROPERTY.Scale,
			[10] = TWEEN_PROPERTY.Top,
			[13] = TWEEN_PROPERTY.Bottom,
			[16] = TWEEN_PROPERTY.Left,
			[19] = TWEEN_PROPERTY.Right
		} )
		f6_arg0[0x66D057BE9DA1FC]:RegisterAnimationSequence( 0x8B2BD9700E43797, {
			nil,
			nil,
			nil,
			0,
			nil,
			1,
			0,
			nil,
			1.903598374367402E+185,
			0,
			nil,
			1.903598374376677E+185,
			0,
			[1] = TWEEN_PROPERTY.Material,
			[2] = RegisterMaterial( "ui_widg_arrow_button_arrow" ),
			[4] = TWEEN_PROPERTY.Scale,
			[7] = TWEEN_PROPERTY.Top,
			[10] = TWEEN_PROPERTY.Bottom
		} )
		f6_arg0[0xF8BFB227C44C806]:RegisterAnimationSequence( 0x8B2BD9700E43797, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f6_arg0[0xFCB0AC6AC4413F3]:RegisterAnimationSequence( 0x8B2BD9700E43797, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f6_local2 = function ( f11_arg0, f11_arg1 )
			f11_arg0[0x9535AA019032067]:AnimateSequence( 0x8B2BD9700E43797 )
			f11_arg0[0x4D592C882688B1F]:AnimateSequence( 0x8B2BD9700E43797 )
			f11_arg0[0x66D057BE9DA1FC]:AnimateSequence( 0x8B2BD9700E43797 )
			f11_arg0[0xF8BFB227C44C806]:AnimateSequence( 0x8B2BD9700E43797 )
			f11_arg0[0xFCB0AC6AC4413F3]:AnimateSequence( 0x8B2BD9700E43797 )
		end
		
		f6_arg0[0x9535AA019032067]:RegisterAnimationSequence( 0x336B0B50E86579C, {
			nil,
			nil,
			1152,
			0,
			nil,
			4294966144,
			0,
			nil,
			1.9035990222323847E+185,
			0,
			nil,
			4.6672616491381715E-62,
			0,
			[1] = TWEEN_PROPERTY.Right,
			[4] = TWEEN_PROPERTY.Left,
			[7] = TWEEN_PROPERTY.Top,
			[10] = TWEEN_PROPERTY.Bottom
		} )
		f6_arg0[0x4D592C882688B1F]:RegisterAnimationSequence( 0x336B0B50E86579C, {
			nil,
			nil,
			0,
			0,
			nil,
			-38,
			0,
			nil,
			nil,
			0,
			nil,
			1.903598374363692E+185,
			0,
			nil,
			1.903598374372967E+185,
			0,
			[1] = TWEEN_PROPERTY.Scale,
			[4] = TWEEN_PROPERTY.Z_Rotation,
			[7] = TWEEN_PROPERTY.Material,
			[8] = RegisterMaterial( "perk_packages_title_bracket_corner" ),
			[10] = TWEEN_PROPERTY.Top,
			[13] = TWEEN_PROPERTY.Bottom
		} )
		f6_arg0[0x66D057BE9DA1FC]:RegisterAnimationSequence( 0x336B0B50E86579C, {
			nil,
			nil,
			1.903598374363692E+185,
			0,
			nil,
			1.903598374372967E+185,
			0,
			nil,
			0,
			0,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[4] = TWEEN_PROPERTY.Bottom,
			[7] = TWEEN_PROPERTY.Scale,
			[10] = TWEEN_PROPERTY.Material,
			[11] = RegisterMaterial( "perk_packages_title_bracket_corner" )
		} )
		f6_arg0[0xF8BFB227C44C806]:RegisterAnimationSequence( 0x336B0B50E86579C, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f6_arg0[0xFCB0AC6AC4413F3]:RegisterAnimationSequence( 0x336B0B50E86579C, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f6_local3 = function ( f10_arg0, f10_arg1 )
			f10_arg0[0x9535AA019032067]:AnimateSequence( 0x336B0B50E86579C )
			f10_arg0[0x4D592C882688B1F]:AnimateSequence( 0x336B0B50E86579C )
			f10_arg0[0x66D057BE9DA1FC]:AnimateSequence( 0x336B0B50E86579C )
			f10_arg0[0xF8BFB227C44C806]:AnimateSequence( 0x336B0B50E86579C )
			f10_arg0[0xFCB0AC6AC4413F3]:AnimateSequence( 0x336B0B50E86579C )
		end
		
		f6_arg0[0x9535AA019032067]:RegisterAnimationSequence( 0x369800673BA11B5, {
			nil,
			nil,
			5.351134734E-315,
			0,
			nil,
			1.596111369E-314,
			0,
			nil,
			1.9035990222323847E+185,
			0,
			nil,
			4.6672616491381715E-62,
			0,
			[1] = TWEEN_PROPERTY.Right,
			[4] = TWEEN_PROPERTY.Left,
			[7] = TWEEN_PROPERTY.Top,
			[10] = TWEEN_PROPERTY.Bottom
		} )
		f6_arg0[0x4D592C882688B1F]:RegisterAnimationSequence( 0x369800673BA11B5, {
			nil,
			nil,
			nil,
			0,
			nil,
			0,
			0,
			nil,
			1,
			0,
			nil,
			1.903598374367402E+185,
			0,
			nil,
			1.903598374376677E+185,
			0,
			[1] = TWEEN_PROPERTY.Material,
			[2] = RegisterMaterial( "ui_widg_arrow_button_arrow" ),
			[4] = TWEEN_PROPERTY.Z_Rotation,
			[7] = TWEEN_PROPERTY.Scale,
			[10] = TWEEN_PROPERTY.Top,
			[13] = TWEEN_PROPERTY.Bottom
		} )
		f6_arg0[0x66D057BE9DA1FC]:RegisterAnimationSequence( 0x369800673BA11B5, {
			nil,
			nil,
			nil,
			0,
			nil,
			1,
			0,
			nil,
			1.903598374367402E+185,
			0,
			nil,
			1.903598374376677E+185,
			0,
			[1] = TWEEN_PROPERTY.Material,
			[2] = RegisterMaterial( "ui_widg_arrow_button_arrow" ),
			[4] = TWEEN_PROPERTY.Scale,
			[7] = TWEEN_PROPERTY.Top,
			[10] = TWEEN_PROPERTY.Bottom
		} )
		f6_arg0[0xF8BFB227C44C806]:RegisterAnimationSequence( 0x369800673BA11B5, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f6_arg0[0xFCB0AC6AC4413F3]:RegisterAnimationSequence( 0x369800673BA11B5, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f6_local4 = function ( f9_arg0, f9_arg1 )
			f9_arg0[0x9535AA019032067]:AnimateSequence( 0x369800673BA11B5 )
			f9_arg0[0x4D592C882688B1F]:AnimateSequence( 0x369800673BA11B5 )
			f9_arg0[0x66D057BE9DA1FC]:AnimateSequence( 0x369800673BA11B5 )
			f9_arg0[0xF8BFB227C44C806]:AnimateSequence( 0x369800673BA11B5 )
			f9_arg0[0xFCB0AC6AC4413F3]:AnimateSequence( 0x369800673BA11B5 )
		end
		
		f6_arg0[0xB5112E831F5B84C]:RegisterAnimationSequence( 0xBCC1156E1B9FAA4, {
			nil,
			nil,
			0,
			50,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		local f6_local5 = function ( f8_arg0, f8_arg1 )
			f8_arg0[0xB5112E831F5B84C]:AnimateSequence( 0xBCC1156E1B9FAA4 )
		end
		
		f6_arg0[0xB5112E831F5B84C]:RegisterAnimationSequence( 0x6964FDF67DF2293, {
			nil,
			nil,
			0,
			0,
			nil,
			0,
			350,
			nil,
			1,
			-28,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = TWEEN_PROPERTY.Alpha,
			[7] = TWEEN_PROPERTY.Alpha
		} )
		f6_arg0[0x49D85F0EF1CEC84] = {
			[0xEF6C3AB55C07BEF] = f6_local0,
			[0xAC62FAAC660482A] = f6_local1,
			[0x8B2BD9700E43797] = f6_local2,
			[0x336B0B50E86579C] = f6_local3,
			[0x369800673BA11B5] = f6_local4,
			[0xBCC1156E1B9FAA4] = f6_local5,
			[0x6964FDF67DF2293] = function ( f7_arg0, f7_arg1 )
				f7_arg0[0xB5112E831F5B84C]:AnimateSequence( 0x6964FDF67DF2293 )
			end
		}
		f6_arg0[0xD97E59A206E4A54] = {
			[0x369800673BA11B5] = 0,
			[0x336B0B50E86579C] = 0,
			[0xAC62FAAC660482A] = 0,
			[0xBCC1156E1B9FAA4] = 50,
			[0x6964FDF67DF2293] = 450,
			[0x8B2BD9700E43797] = 0,
			[0xEF6C3AB55C07BEF] = 0
		}
	end
}
function PlatformProgressionMenu( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = TWEEN_PROPERTY
	local f1_local3 = f1_local0.UIMenu.new()
	f1_local3.id = "PlatformProgressionMenu"
	f1_local3[0xBD5D934D3CD91E5] = States
	local f1_local4
	if f1_arg1 then
		f1_local4 = f1_arg1
	else
		f1_local4 = f1_arg1.controllerIndex
	end
	f1_local4 = f1_local0.ValidateControllerIndex( f1_local3, f1_local4 )
	local f1_local5 = f1_local3
	local f1_local6 = nil
	f1_local6 = f1_local0.UIImage.new()
	f1_local6[0x8B72E07B55C3AC0] = "PreviewBacker"
	ACTIONS.ScaleFullscreen( f1_local6 )
	f1_local6:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECFAC112DE22C], 0 )
	f1_local6:SetAlpha( 0.9, 0 )
	f1_local3:addElement( f1_local6 )
	f1_local3[0xE27908BF38E52F7] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local0.UIImage.new()
	f1_local7[0x8B72E07B55C3AC0] = "GridBacker"
	ACTIONS.ScaleStretchAnchorFullscreen( f1_local7 )
	f1_local7:SetRGB( 0, 0 )
	f1_local7:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, -371, 0 )
	f1_local3:addElement( f1_local7 )
	f1_local3[0x794DD897CEC5909] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local1.BuildRegisteredType( 0xBD2DA5A108443EA, {
		controllerIndex = f1_local4
	} )
	f1_local8[0x8B72E07B55C3AC0] = "Scrollbar"
	f1_local8:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -345, 345, -77, -66 )
	f1_local3:addElement( f1_local8 )
	f1_local3[0xF0042112D8663D9] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local0.UIPeekingGrid.new( {
		maxVisibleColumns = 6,
		spacingX = 30,
		maxVisibleRows = 1,
		rowHeight = 204,
		columnWidth = 336,
		controllerIndex = f1_local4,
		buildChild = function ()
			return f1_arg0.BuildRegisteredType( 0x3FFCC7EAC620574, {
				controllerIndex = f1_arg0
			} )
		end,
		refreshChild = function ( f4_arg0, f4_arg1, f4_arg2 )
			
		end,
		primaryAxis = f1_local0.DIRECTION.horizontal,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1],
		horizontalAlignment = f1_local0.Alignment.Center,
		verticalAlignment = f1_local0.Alignment.Middle
	} )
	f1_local9[0x8B72E07B55C3AC0] = "WeaponGrid"
	f1_local9:setUseStencil( false )
	f1_local9:SetAnchorsAndPosition( 0, 1, 1, 0, 88, 1829, -371, -97 )
	f1_local3:addElement( f1_local9 )
	f1_local3[0xC8DB8B2B2104FDD] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local0.UIImage.new()
	f1_local10[0x8B72E07B55C3AC0] = "Gradient"
	ACTIONS.ScaleStretchAnchorFullscreen( f1_local10 )
	f1_local10:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x53B984BE8B3BE65], 0 )
	f1_local10:SetAlpha( 0.2, 0 )
	f1_local10:setImage( RegisterMaterial( 0x319D4AA6FECF0F3 ), 0 )
	f1_local10:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, -1000, -373 )
	f1_local3:addElement( f1_local10 )
	f1_local3[0x9C2C0A6CE89F765] = f1_local10
	local f1_local11 = nil
	f1_local11 = f1_local0.UIImage.new()
	f1_local11[0x8B72E07B55C3AC0] = "Line"
	ACTIONS.ScaleStretchAnchorFullscreen( f1_local11 )
	f1_local11:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x53B984BE8B3BE65], 0 )
	f1_local11:SetAlpha( 0.6, 0 )
	f1_local11:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, -373, -371 )
	f1_local3:addElement( f1_local11 )
	f1_local3[0xF4BA5AD694F5907] = f1_local11
	local f1_local12 = nil
	f1_local12 = f1_local0.UIImage.new()
	f1_local12[0x8B72E07B55C3AC0] = "Topo"
	ACTIONS.ScaleStretchAnchorFullscreen( f1_local12 )
	f1_local12:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x53B984BE8B3BE65], 0 )
	f1_local12:SetAlpha( 0.3, 0 )
	f1_local12:setImage( RegisterMaterial( 0x7B671BF6D55D53A ), 0 )
	f1_local12:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, -649, -373 )
	f1_local3:addElement( f1_local12 )
	f1_local3[0x2F1EF38BD0509] = f1_local12
	local f1_local13 = nil
	f1_local13 = f1_local0.UIStyledText.new()
	f1_local13[0x8B72E07B55C3AC0] = "WeaponMasterySubtitle"
	f1_local13:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECBAC112DDB60], 0 )
	f1_local13:SetAlpha( 0.2, 0 )
	f1_local13:setText( Engine[0xED84C33EC5F01EA]( 0xA86A4906E9B9DB1 ), 0 )
	f1_local13:setCaseStyle( f1_local0.CaseStyle.Uppercase )
	f1_local13:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local13:SetFontSize( 20 * _PT )
	f1_local13:SetMinFontSize( 20 * _PT )
	f1_local13:SetWordWrap( false )
	f1_local13:SetAlignment( f1_local0.Alignment.Right )
	f1_local13:SetAnchorsAndPosition( 1, 0, 0, 1, -588, -88, 206.8, 236.8 )
	f1_local3:addElement( f1_local13 )
	f1_local3[0xF5B8F5AB3F17A4E] = f1_local13
	local f1_local14 = nil
	f1_local14 = f1_local0.UIStyledText.new()
	f1_local14[0x8B72E07B55C3AC0] = "WeaponMasteryPercent"
	f1_local14:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECBAC112DDB60], 0 )
	f1_local14:SetAlpha( 0.2, 0 )
	f1_local14:setText( "", 0 )
	f1_local14:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local14:SetFontSize( 80 * _PT )
	f1_local14:SetMinFontSize( 80 * _PT )
	f1_local14:SetWordWrap( false )
	f1_local14:SetAlignment( f1_local0.Alignment.Right )
	f1_local14:SetAnchorsAndPosition( 1, 0, 0, 1, -588, -88, 108.8, 198.8 )
	f1_local3:addElement( f1_local14 )
	f1_local3[0xE4890E5841E102B] = f1_local14
	local f1_local15 = nil
	f1_local15 = f1_local1.BuildRegisteredType( 0x93CC4E91B38D10C, {
		controllerIndex = f1_local4
	} )
	f1_local15[0x8B72E07B55C3AC0] = "MenuTitle"
	f1_local15:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 80 )
	f1_local3:addElement( f1_local15 )
	f1_local3[0x93CC4E91B38D10C] = f1_local15
	local f1_local16 = nil
	f1_local16 = f1_local0.UIGrid.new( {
		maxVisibleRows = 1,
		scrollingThresholdX = 4,
		maxVelocity = -6384,
		columnWidth = 177,
		wrapX = false,
		maxVisibleColumns = 10,
		spacingX = 0,
		wrapY = false,
		rowHeight = 229,
		springCoefficient = 500,
		controllerIndex = f1_local4,
		buildChild = function ()
			return f1_arg0.BuildRegisteredType( 0xA68ED25E6F9C3B9, {
				controllerIndex = f1_arg0
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		primaryAxis = f1_local0.DIRECTION.horizontal,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1],
		horizontalAlignment = f1_local0.Alignment.Center,
		verticalAlignment = f1_local0.Alignment.Middle
	} )
	f1_local16[0x8B72E07B55C3AC0] = "AttachmentPreview"
	f1_local16:setUseStencil( true )
	f1_local16:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -896, 896, -146.5, 85.5 )
	f1_local3:addElement( f1_local16 )
	f1_local3[0xB5112E831F5B84C] = f1_local16
	local f1_local17 = nil
	f1_local17 = f1_local0.UIImage.new()
	f1_local17[0x8B72E07B55C3AC0] = "FadeMask"
	f1_local17:setImage( RegisterMaterial( 0x44D639ABE11669B ), 0 )
	f1_local17:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -920, 917, -198.5, 137.5 )
	f1_local3:addElement( f1_local17 )
	f1_local3[0x9535AA019032067] = f1_local17
	local f1_local18 = nil
	f1_local18 = f1_local0.UIStyledText.new()
	f1_local18[0x8B72E07B55C3AC0] = "PreviewLabel"
	f1_local18:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECDAC112DDEC6], 0 )
	f1_local18:setText( Engine[0xED84C33EC5F01EA]( 0x91BDFED08AFBAAB ), 0 )
	f1_local18:setCaseStyle( f1_local0.CaseStyle.Uppercase )
	f1_local18:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local18:SetFontSize( 20 * _PT )
	f1_local18:SetMinFontSize( 20 * _PT )
	f1_local18:SetWordWrap( false )
	f1_local18:SetAlignment( f1_local0.Alignment.Center )
	f1_local18:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -159, 159, 110.5, 134.5 )
	f1_local3:addElement( f1_local18 )
	f1_local3[0x6D0CE9586D635AF] = f1_local18
	local f1_local19 = nil
	f1_local19 = f1_local0.UIImage.new()
	f1_local19[0x8B72E07B55C3AC0] = "LeftLine"
	f1_local19:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ED0AC112DE3DF], 0 )
	f1_local19:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -873, -99, 121.5, 122.5 )
	f1_local3:addElement( f1_local19 )
	f1_local3[0x2A5DABF3A9CDAEA] = f1_local19
	local f1_local20 = nil
	f1_local20 = f1_local0.UIImage.new()
	f1_local20[0x8B72E07B55C3AC0] = "RightLine"
	f1_local20:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ED0AC112DE3DF], 0 )
	f1_local20:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, 99, 873, 121.5, 122.5 )
	f1_local3:addElement( f1_local20 )
	f1_local3[0x7168271B1427DE7] = f1_local20
	local f1_local21 = nil
	f1_local21 = f1_local0.UIImage.new()
	f1_local21[0x8B72E07B55C3AC0] = "LeftLineImage"
	f1_local21:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECDAC112DDEC6], 0 )
	f1_local21:SetZRotation( 90, 0 )
	f1_local21:setImage( RegisterMaterial( 0xF042F1F303B29B0 ), 0 )
	f1_local21:SetAnchorsAndPosition( 0, 1, 0, 1, 72, 87, 648.5, 663.5 )
	f1_local3:addElement( f1_local21 )
	f1_local3[0x4D592C882688B1F] = f1_local21
	local f1_local22 = nil
	f1_local22 = f1_local0.UIImage.new()
	f1_local22[0x8B72E07B55C3AC0] = "RightLineImage"
	f1_local22:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECDAC112DDEC6], 0 )
	f1_local22:SetZRotation( 180, 0 )
	f1_local22:setImage( RegisterMaterial( 0xF042F1F303B29B0 ), 0 )
	f1_local22:SetAnchorsAndPosition( 0, 1, 0, 1, 1833, 1848, 648.5, 663.5 )
	f1_local3:addElement( f1_local22 )
	f1_local3[0x66D057BE9DA1FC] = f1_local22
	local f1_local23 = nil
	f1_local23 = f1_local1.BuildRegisteredType( 0xC1D8B8E6B5C6F4D, {
		iconString = "LUA_MENU/PAD_RIGHT_SHOULDER_BUTTON",
		controllerIndex = f1_local4
	} )
	f1_local23[0x8B72E07B55C3AC0] = "RightBumper"
	f1_local23:SetAlpha( 0.6, 0 )
	f1_local23:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, 849, 873, 109.5, 133.5 )
	f1_local3:addElement( f1_local23 )
	f1_local3[0xF8BFB227C44C806] = f1_local23
	local f1_local24 = nil
	f1_local24 = f1_local1.BuildRegisteredType( 0xC1D8B8E6B5C6F4D, {
		iconString = "LUA_MENU/PAD_LEFT_SHOULDER_BUTTON",
		controllerIndex = f1_local4
	} )
	f1_local24[0x8B72E07B55C3AC0] = "LeftBumper"
	f1_local24:SetAlpha( 0.6, 0 )
	f1_local24:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -873, -849, 108.5, 132.5 )
	f1_local3:addElement( f1_local24 )
	f1_local3[0xFCB0AC6AC4413F3] = f1_local24
	local f1_local25 = nil
	f1_local25 = f1_local1.BuildRegisteredType( 0xAB3ACB0B534FC39, {
		controllerIndex = f1_local4
	} )
	f1_local25[0x8B72E07B55C3AC0] = "WeaponInfoPanel"
	f1_local25:SetAnchorsAndPosition( 0, 1, 0, 1, 87, 587, 79.8, 683.8 )
	f1_local3:addElement( f1_local25 )
	f1_local3[0xAB3ACB0B534FC39] = f1_local25
	local f1_local26 = f1_local0.UIScrollbar.new
	local f1_local27 = {
		direction = f1_local0.DIRECTION.horizontal,
		eventListener = f1_local8,
		startCap = f1_local8[0x7C139B2191BD22D],
		endCap = f1_local8[0xC50558A6315134A],
		sliderArea = f1_local8[0x1267DA9A256716D]
	}
	local f1_local28 = f1_local8[0x1267DA9A256716D]
	if f1_local28 then
		f1_local28 = f1_local8[0x1267DA9A256716D][0x5EE00EDE8E0841C]
	end
	f1_local27.slider = f1_local28
	f1_local28 = f1_local8[0x1267DA9A256716D]
	if f1_local28 then
		f1_local28 = f1_local8[0x1267DA9A256716D][0x491B3F5BB7699CD]
	end
	f1_local27.fixedSizeSlider = f1_local28
	f1_local9:AddScrollbar( f1_local26( f1_local27 ) )
	f0_local0( f1_local3, f1_local4, f1_arg1 )
	return f1_local3
end

MenuBuilder.registerType( 0x505C16F1C484BAA, PlatformProgressionMenu )
LockTable( _M )
