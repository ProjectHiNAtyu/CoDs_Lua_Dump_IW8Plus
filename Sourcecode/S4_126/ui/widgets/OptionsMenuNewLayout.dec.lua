-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
module( ..., package.seeall )
require( "ui.widgets.ButtonHelperBar" )
require( "ui.widgets.MenuTitle" )
require( "ui.widgets.OptionsKeyBindingBanner" )
require( "ui.widgets.OptionWindow" )
require( "ui.widgets.ButtonOptionsDescriptionText" )
require( "ui.widgets.SubMenuTab" )
require( "ui.widgets.SettingEffect" )
require( "ui.widgets.OptionsGraphicsSliderBar" )
require( "ui.widgets.LockedOptions" )
require( "ui.inGame.InGameMenuTimerStatus" )
require( "ui.widgets.LobbyMembersFooter" )
require( "ui.widgets.ButtonPromptContainer" )
local f0_local0 = false
local f0_local1 = false
local f0_local2 = {
	leave = 1,
	tabChange = 3,
	dismiss = 2
}
local f0_local3 = function ( f109_arg0, f109_arg1 )
	f109_arg0:RemoveButtonHelperText( "button_menu_action7", "left" )
	if not LUI.IsLastInputGamepad( f109_arg1 ) and 0 < #f109_arg0.modifiedOptions then
		f109_arg0:AddButtonHelperText( {
			clickable = true,
			priority = 6,
			side = "left",
			button_ref = "button_menu_action7",
			helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/APPLY_SETTINGS" )
		} )
	end
end

local f0_local4 = function ( f108_arg0, f108_arg1, f108_arg2, f108_arg3 )
	if 0 < #f108_arg0.modifiedOptions then
		f108_arg0:dispatchEventToChildren( {
			name = "remove_overlays"
		} )
		if not f108_arg0.applyAction or f108_arg0:applyAction( f108_arg1, f108_arg2 ) then
			f108_arg0.ApplyingChanges = true
			for f108_local3, f108_local4 in pairs( OPTIONS.Menu.GetOptionWidgets( f108_arg0 ) ) do
				f108_local4:processEvent( {
					name = "apply_value"
				} )
			end
			f108_arg0.modifiedOptions = {}
			f0_local0( f108_arg0, f108_arg1 )
			f108_arg0.OptionWindow.buttonList:SetFocusedPosition( {
				x = 0,
				y = f108_arg0.CurrentSelectedOption
			}, true )
			f108_arg0.ApplyingChanges = false
			if f108_arg3 then
				f108_arg3()
			end
		end
	end
end

local f0_local5 = function ( f107_arg0, f107_arg1, f107_arg2 )
	f107_arg0.modifiedOptions = {}
	f0_local0( f107_arg0, f107_arg1 )
	for f107_local3, f107_local4 in pairs( OPTIONS.Menu.GetOptionWidgets( f107_arg0 ) ) do
		f107_local4:processEvent( {
			name = "seek_value"
		} )
	end
	if f107_arg2 then
		f107_arg2()
	end
end

local f0_local6 = function ( f103_arg0, f103_arg1, f103_arg2, f103_arg3 )
	local f103_local0 = {}
	if f103_arg2 then
		if Dvar[0x9E5BE3B4BBA4E0E]( "#x3a4493f5c2b26a1bf" ) == true then
			f103_local0.headerText = Engine[0xED84C33EC5F01EA]( "MENU/NOTICE" )
			f103_local0.messageText = Engine[0xED84C33EC5F01EA]( "LANGUAGE_SELECT/CONFIRM_CHANGE" )
		else
			f103_local0.headerText = Engine[0xED84C33EC5F01EA]( "LUA_MENU/VRAM_NOTICE_DESC" )
			f103_local0.messageText = Engine[0xED84C33EC5F01EA]( "LUA_MENU/VRAM_WARNING_DESC" )
		end
	else
		f103_local0.headerText = Engine[0xED84C33EC5F01EA]( "LUA_MENU/APPLY_SETTINGS" )
		f103_local0.messageText = Engine[0xED84C33EC5F01EA]( "LUA_MENU/APPLY_UNSAVED_SETTINGS_MESSAGE" )
	end
	f103_local0.buttonsClosePopup = true
	f103_local0.buttons = {
		{
			label = Engine[0xED84C33EC5F01EA]( "@MENU/APPLY" ),
			action = function ( f106_arg0 )
				LUI.FlowManager.RequestLeaveMenu( f106_arg0, true )
				f103_arg0( f103_arg0, f103_arg0, f103_arg0, f103_arg0 )
				f103_arg0:HandleFlowRequest( f103_arg0 )
			end
		},
		{
			label = Engine[0xED84C33EC5F01EA]( "@MENU/DISCARD" ),
			action = function ( f105_arg0 )
				Dvar[0x8EA06EEDB58D872]( "#x3a4493f5c2b26a1bf", false )
				LUI.FlowManager.RequestLeaveMenu( f105_arg0, true )
				f103_arg0( f103_arg0, f103_arg0, f103_arg0 )
				f103_arg0:HandleFlowRequest( f103_arg0 )
			end
		},
		{
			label = Engine[0xED84C33EC5F01EA]( "@MENU/CANCEL" ),
			action = function ()
				local f104_local0 = LUI.FlowManager.GetScopedData( f103_arg0 )
				if f104_local0 then
					f104_local0.requestedTab = nil
				end
				if LUI.IsLastInputMouseNavigation( f103_arg0 ) then
					local f104_local1 = LUI.FlowManager.GetPerControllerPersistentData( f103_arg0 )
					local f104_local2 = f103_arg0.SubcategoriesOptions
					if f104_local2 and f104_local1.selectedCategoryIndex then
						local f104_local3 = f104_local2.options[f104_local1.selectedCategoryIndex[f103_arg0.tabId]]
						if f104_local3 then
							f104_local3:dispatchEventToParent( {
								name = "request_active",
								target = f104_local3
							} )
						end
					end
				end
			end
		}
	}
	LUI.FlowManager.RequestPopupMenu( nil, "MessagePopup", true, f103_arg1, false, f103_local0 )
end

local f0_local7 = function ( f102_arg0, f102_arg1, f102_arg2, f102_arg3, f102_arg4 )
	local f102_local0 = LUI.FlowManager.GetScopedData( f102_arg0 )
	if 0 < #f102_arg0.modifiedOptions or Dvar[0x9E5BE3B4BBA4E0E]( "#x3a4493f5c2b26a1bf" ) then
		local f102_local1 = f102_arg0.OptionsGraphicsSliderBar
		if f102_local1 then
			f102_local1 = f102_arg0.OptionsGraphicsSliderBar:isOverflowing()
		end
		f0_local0( f102_arg0, f102_arg1, f102_local1, f102_arg4 )
		local f102_local2
		if f102_arg2 ~= nil and not f102_arg2 then
			f102_local2 = f102_arg2
		else
			f102_local2 = f102_local0.flowRequestType
		end
		f102_local0.flowRequestType = f102_local2
		return 
	elseif Dvar[0xEDCFC612B39E0C0]( "#x34b40ee53848a1308" ) == 2 then
		Dvar[0x14B6102841AB394]( "#x3fc88b9902d169707", 0 )
	end
	if Dvar[0xEDCFC612B39E0C0]( "#x34b40ee53848a1308" ) == 1 then
		Dvar[0x14B6102841AB394]( "#x3fc88b9902d169707", 0 )
	end
	Engine[0x7C75E608EA39B5C]( "updategamerprofile " .. f102_arg1 )
	local f102_local1 = f102_local0.flowRequestType
	if not f102_local1 then
		f102_arg2 = f102_local1
	else
		
	end
	if f102_arg2 == f0_local0.leave then
		f102_arg0:dispatchEventToRoot( {
			name = "closing_quick_access_menu",
			controllerIndex = f102_arg1
		} )
		ACTIONS.LeaveMenu( f102_arg0 )
	elseif f102_arg2 == f0_local0.dismiss then
		f102_arg0:dispatchEventToRoot( {
			name = "closing_quick_access_menu",
			controllerIndex = f102_arg1
		} )
		if LUI.FlowManager.IsInStack( "TrialResults" ) then
			ACTIONS.LeaveMenu( f102_arg0 )
		else
			f102_local1 = Engine[0xEE6F69FEA944B13]()
			f102_local1 = f102_local1.flowManager:GetStackTop()
			LUI.FlowManager.RequestCloseAllMenus( f102_local1.name, f102_arg3, f102_arg1, true )
		end
		if Engine[0x74423E76DECE3E4]() or CONDITIONS.IsThirdGameMode() then
			ACTIONS.ResumeGame( f102_arg0 )
		end
	elseif f102_arg2 == f0_local0.tabChange and f102_local0.requestedTab then
		f102_arg0.Tabs:FocusTab( f102_arg1, f102_local0.requestedTab.tabIndex, f102_local0.requestedTab.focusType )
	end
	f102_local0.flowRequestType = nil
end

local f0_local8 = function ( f101_arg0, f101_arg1 )
	if f101_arg0._shouldUpdateGraphics then
		for f101_local3, f101_local4 in ipairs( OPTIONS.Menu.GetOptionWidgets( f101_arg0 ) ) do
			local f101_local5 = f101_arg0.optionsList[f101_local4.id]
			if f101_local5 and f101_local5.affectedByAutodetect == false then
				OPTIONS.ResetOptionElement( f101_arg0, f101_arg1, f101_local4, f101_local5 )
			else
				f101_local4:processEvent( {
					name = "seek_value",
					controllerIndex = f101_arg1
				} )
				f101_local4:processEvent( {
					name = "update_initial_value"
				} )
			end
		end
		f101_arg0.modifiedOptions = {}
		f0_local0( f101_arg0, f101_arg1 )
		f101_arg0._shouldUpdateGraphics = false
	end
	local f101_local0 = OPTIONS.Menu.GetOptionWidget( f101_arg0, "DisplayMode" )
	if f101_local0 then
		f101_local0:processEvent( {
			name = "seek_value",
			controllerIndex = f101_arg1
		} )
	end
end

local f0_local9 = function ( f100_arg0, f100_arg1 )
	for f100_local3, f100_local4 in ipairs( OPTIONS.Menu.GetOptionWidgets( f100_arg0 ) ) do
		f100_local4:processEvent( {
			name = "seek_value",
			controllerIndex = f100_arg1
		} )
	end
end

local f0_local10 = function ( f99_arg0, f99_arg1 )
	if f99_arg0.resetAction then
		f99_arg0:resetAction( f99_arg1 )
	else
		OPTIONS.Menu.ResetTabOptions( f99_arg0, f99_arg1 )
	end
end

local f0_local11 = function ( f98_arg0, f98_arg1 )
	local f98_local0 = LUI.FlowManager.GetPerControllerPersistentData( f98_arg1 )
	if f98_local0.selectedCategoryIndex.graphics == 2 then
		Engine[0x9E03CDC709B38FE]( false )
		f98_arg0._shouldUpdateGraphics = true
		local f98_local1 = OPTIONS.Menu.GetOptionWidget( f98_arg0, "PresetGraphics" )
		if f98_local1 then
			local f98_local2 = OPTIONS.UpdateLastPresetLabel( f98_local1.id, "MENU/RECOMMENDED" )
			if f98_local2 then
				f98_local1.Dropdown:UpdateCurrentTextDropdown( f98_local2 )
				f98_local1.Dropdown.initDependantOption = {}
				Engine[0x9694388D6DAC134]( "isGraphicPresetRecommended", 1, f98_arg1 )
			end
		end
	else
		for f98_local4, f98_local5 in ipairs( OPTIONS.Menu.GetOptionWidgets( f98_arg0 ) ) do
			local f98_local6 = f98_arg0.optionsList[f98_local5.id]
			if f98_local6 then
				OPTIONS.ResetOptionElement( f98_arg0, f98_arg1, f98_local5, f98_local6 )
				if f98_local6.applyable then
					table.insert( f98_arg0.modifiedOptions, f98_local5 )
				end
			end
		end
		if 0 < #f98_arg0.modifiedOptions then
			f0_local0( f98_arg0, f98_arg1, true )
		end
	end
end

local f0_local12 = function ( f97_arg0, f97_arg1 )
	local f97_local0 = LUI.FlowManager.GetPerControllerPersistentData( f97_arg1 )
	if f97_local0 and f97_local0.selectedCategoryIndex and f97_local0.selectedCategoryIndex.keyboardAndMouse <= 2 then
		OPTIONS.Menu.ResetTabOptions( f97_arg0, f97_arg1 )
	else
		f97_arg0.shouldRefreshWindow = false
		OPTIONS.Menu.ResetTabOptions( f97_arg0, f97_arg1 )
		f97_arg0:processEvent( {
			name = "options_window_refresh",
			controller = f97_arg1
		} )
		f97_arg0.shouldRefreshWindow = true
	end
end

local f0_local13 = function ( f96_arg0, f96_arg1, f96_arg2 )
	if not f96_arg2 and f96_arg0.OptionsGraphicsSliderBar and f96_arg0.OptionsGraphicsSliderBar:isOverflowing() then
		f0_local0( f96_arg0, f96_arg1, true )
		return false
	else
		Engine[0x7C75E608EA39B5C]( "vid_reconfig" )
		return true
	end
end

local f0_local14 = nil
f0_local14 = function ( f95_arg0, f95_arg1 )
	local f95_local0 = f95_arg0:getFirstChild()
	local f95_local1 = 0
	if f95_local0 then
		
	else
		
	end
	if f95_arg0._typeName then
		if not f95_arg1[f95_arg0._typeName] then
			f95_arg1[f95_arg0._typeName] = {}
		end
		table.insert( f95_arg1[f95_arg0._typeName], f95_local1 )
	end
	return f95_local1 + 1
end

local f0_local15 = function ( f94_arg0 )
	local f94_local0 = 0
	for f94_local1 = 0, f94_arg0.OptionWindow.buttonList:GetNumRows() - 1, 1 do
		local f94_local4 = f94_arg0.OptionWindow.buttonList:GetElementAtPosition( 0, f94_local1 )
		local f94_local5 = f94_arg0.optionsList[f94_local4.id]
		if f94_local5 and f94_local5.id then
			if f94_local5.type == "Expander" then
				f94_local0 = f94_local0 + 1
				if f94_local4.ChildrenContainer:getFirstChild() then
					
				end
			end
			f94_local0 = f94_local0 + 1
		end
	end
	DebugPrint( "Options Count: " .. f94_local0 )
	DebugPrint( "Elem Count: " .. f0_local0( f94_arg0, {} ) )
end

local f0_local16 = function ( f93_arg0, f93_arg1, f93_arg2 )
	local f93_local0 = StringTable[0xFD4E49A34DD43AE]( f93_arg2.file )
	local f93_local1 = {}
	local f93_local2, f93_local3, f93_local4, f93_local5 = nil
	local f93_local6 = {}
	local f93_local7, f93_local8, f93_local9, f93_local10, f93_local11, f93_local12 = nil
	if f93_arg2.cols.showInGame then
		f93_local9 = not Engine[0x12586A3F4FB490E]()
	end
	if f93_arg2.cols.requireKBM then
		f93_local10 = Engine[0x741C985ADA0608B]( f93_arg1 )
	end
	for f93_local13 = 0, f93_local0 - 1, 1 do
		f93_local7 = StringTable[0x2077452C28AB2FC]( f93_arg2.file, f93_local13, f93_arg2.cols.identifier )
		f93_local8 = StringTable[0x2077452C28AB2FC]( f93_arg2.file, f93_local13, f93_arg2.cols.categoryName )
		f93_local12 = nil
		if f93_arg2.cols.applyable then
			f93_local12 = StringTable[0x2077452C28AB2FC]( f93_arg2.file, f93_local13, f93_arg2.cols.applyable ) == "Y"
		end
		f93_local11 = false
		if f93_arg2.cols.showInGame then
			local f93_local16 = StringTable[0x2077452C28AB2FC]( f93_arg2.file, f93_local13, f93_arg2.cols.showInGame ) ~= "N"
			if f93_local9 then
				f93_local11 = f93_local9
			else
				f93_local11 = not f93_local16
			end
		end
		if not f93_local11 and f93_arg2.cols.requireKBM then
			local f93_local16 = StringTable[0x2077452C28AB2FC]( f93_arg2.file, f93_local13, f93_arg2.cols.requireKBM ) == "Y"
			if f93_local16 then
				f93_local11 = f93_local16
			else
				f93_local11 = not f93_local10
			end
		end
		if f93_local8 ~= "" then
			if f93_local3 then
				f93_local1[#f93_local1 + 1] = {
					name = f93_local3,
					optionsList = f93_local6,
					id = f93_local2,
					applyable = f93_local5
				}
			end
			f93_local4 = f93_local11
			if not f93_local11 then
				f93_local2 = f93_local7
				f93_local3 = f93_local8
				f93_local5 = f93_local12
				f93_local6 = {}
			else
				f93_local3 = nil
			end
		end
		if not f93_local4 then
			f93_local6[#f93_local6 + 1] = f93_local7
		end
	end
	if f93_local3 then
		f93_local1[#f93_local1 + 1] = {
			name = f93_local3,
			optionsList = f93_local6,
			id = f93_local2,
			applyable = f93_local5
		}
	end
	return f93_local1
end

local f0_local17 = function ( f92_arg0, f92_arg1, f92_arg2, f92_arg3, f92_arg4 )
	if f92_arg4 then
		for f92_local4, f92_local5 in ipairs( OPTIONS.Menu.GetOptionWidgets( f92_arg0 ) ) do
			if f92_local5.id == f92_arg2 then
				local f92_local3 = f92_arg4[f92_arg3]
				if f92_local3 ~= nil and (f92_local5.currentValue or f92_local5._currentValue) ~= f92_local3 then
					f92_local5:SetCurrentValue( f92_local3, f92_arg1 )
					break
				end
			end
		end
	end
end

local f0_local18 = function ( f91_arg0, f91_arg1 )
	local f91_local0 = StringTable[0xFD4E49A34DD43AE]( f91_arg1.file )
	local f91_local1 = {}
	local f91_local2, f91_local3 = nil
	for f91_local4 = 0, f91_local0 - 1, 1 do
		f91_local2 = StringTable[0x2077452C28AB2FC]( f91_arg1.file, f91_local4, f91_arg1.cols.identifier )
		if StringTable[0x2077452C28AB2FC]( f91_arg1.file, f91_local4, f91_arg1.cols.categoryName ) == "" then
			f91_local1[#f91_local1 + 1] = f91_local2
		end
	end
	return f91_local1
end

local f0_local19 = function ( f90_arg0, f90_arg1 )
	local f90_local0 = LUI.clamp( LUI.clamp( Dvar[0xEDCFC612B39E0C0]( "#x3f6a1860a777a61c7" ), SliderBounds.Brightness.DvarMin, SliderBounds.Brightness.DvarMax ) + f90_arg0.colorModifier, 0, 1 )
end

local f0_local20 = function ( f89_arg0, f89_arg1, f89_arg2 )
	local f89_local0 = CONDITIONS.IsBRGameType()
	local f89_local1 = Engine[0x7B17D94988FD5D0]( OPTIONS.GetCurrentGpadButtonsConfigName( f89_local0 ), f89_arg1 )
	local f89_local2, f89_local3 = string.gsub( f89_local1, "_alt", "" )
	local f89_local4 = nil
	if CONDITIONS.IsSplitscreen() then
		f89_local4 = OPTIONS.Menu.GetOptionWidget( f89_arg0, "ButtonLayoutSplitscreen" )
	elseif f89_local0 then
		f89_local4 = OPTIONS.Menu.GetOptionWidget( f89_arg0, "BRButtonLayout" )
	else
		f89_local4 = OPTIONS.Menu.GetOptionWidget( f89_arg0, "ButtonLayout" )
	end
	if f89_local4 then
		if f89_arg2 or 0 < f89_local3 then
			Engine[0x23F1D3C77CE5C6]( f89_local2, f89_arg1, f89_local0 )
			if f89_local4 and f89_local4.Dropdown then
				if f89_local0 then
					f89_local4.Dropdown:UpdateCurrentTextDropdown( OPTIONS.GetBRButtonLayoutLabels() )
				else
					f89_local4.Dropdown:UpdateCurrentTextDropdown( OPTIONS.GetButtonLayoutLabels() )
				end
			end
		else
			Engine[0x23F1D3C77CE5C6]( f89_local1 .. "_alt", f89_arg1, f89_local0 )
			if f89_local4 and f89_local4.Dropdown then
				if f89_local0 then
					f89_local4.Dropdown:UpdateCurrentTextDropdown( OPTIONS.GetBRButtonLayoutAltLabels() )
				else
					f89_local4.Dropdown:UpdateCurrentTextDropdown( OPTIONS.GetButtonLayoutAltLabels() )
				end
			end
		end
	end
end

local f0_local21 = function ( f88_arg0, f88_arg1, f88_arg2 )
	if f88_arg2 and not f88_arg0.NetworkInfoWidget and not f88_arg0.ConnectionMeter and not CONDITIONS.IsSplitscreen() then
		local NetworkInfosWidget = nil
		NetworkInfosWidget = MenuBuilder.BuildRegisteredType( "NetworkInfos", {
			controllerIndex = f88_arg1
		} )
		NetworkInfosWidget.id = "NetworkInfos"
		if IsLanguageArabic() then
			NetworkInfosWidget:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * -60, _1080p * 1510, _1080p * 660, _1080p * 0 )
		else
			NetworkInfosWidget:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1262, _1080p * 1760, _1080p * 660, _1080p * 0 )
		end
		f88_arg0:addElement( NetworkInfosWidget )
		f88_arg0.NetworkInfosWidget = NetworkInfosWidget
		
		local ConnectionMeter = MenuBuilder.BuildRegisteredType( "ConnectionMeter", {
			controllerIndex = f88_arg1
		} )
		ConnectionMeter.id = "ConnectionMeter"
		if IsLanguageArabic() then
			ConnectionMeter:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1510, _1080p * 40, _1080p * 885, _1080p * 685 )
		else
			ConnectionMeter:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 998, _1080p * 1700, _1080p * 885, _1080p * 685 )
		end
		f88_arg0:addElement( ConnectionMeter )
		f88_arg0.ConnectionMeter = ConnectionMeter
		
	elseif (CONDITIONS.IsSplitscreen() or not f88_arg2) and f88_arg0.NetworkInfosWidget and f88_arg0.ConnectionMeter then
		f88_arg0.NetworkInfosWidget:closeTree()
		f88_arg0.NetworkInfosWidget = nil
		f88_arg0.ConnectionMeter:closeTree()
		f88_arg0.ConnectionMeter = nil
	end
end

local f0_local22 = function ( f87_arg0, f87_arg1 )
	if f87_arg1 and not f87_arg0._dvrDisabled then
		CoD.GameDVRDisable()
		f87_arg0._dvrDisabled = true
	elseif not f87_arg1 and f87_arg0._dvrDisabled then
		CoD.GameDVREnable()
		f87_arg0._dvrDisabled = false
	end
end

local f0_local23 = function ( f86_arg0, f86_arg1, f86_arg2 )
	if f86_arg2 and not f86_arg0.MicLevelSliderBar then
		local MicLevelSliderBar = MenuBuilder.BuildRegisteredType( "MicLevelSliderBar", {
			controllerIndex = f86_arg1
		} )
		MicLevelSliderBar.id = "MicLevelSliderBar"
		if IsLanguageArabic() then
			MicLevelSliderBar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1164, _1080p * 1790, _1080p * 854, _1080p * 925 )
		else
			MicLevelSliderBar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 988, _1080p * 1624, _1080p * 854, _1080p * 925 )
		end
		f86_arg0:addElement( MicLevelSliderBar )
		f86_arg0.MicLevelSliderBar = MicLevelSliderBar
		
		f86_arg0.MicLevelSliderBar:Show()
	elseif not f86_arg2 and f86_arg0.MicLevelSliderBar then
		f86_arg0.MicLevelSliderBar:closeTree()
		f86_arg0.MicLevelSliderBar = nil
	end
end

local f0_local24 = function ( f85_arg0, f85_arg1, f85_arg2 )
	local f85_local0 = {
		CoD.PlayMode.Core,
		CoD.PlayMode.SP
	}
	for f85_local5, f85_local6 in pairs( OPTIONS.Menu.GetPlayPromptGameModeData( f85_arg0 ) ) do
		local f85_local4 = f85_local6.container
		if f85_arg2 and f85_local6.container then
			f85_arg0:AddButtonHelperText( {
				side = "left",
				ignoreTooltipPrompt = true,
				helper_text = Engine[0xED84C33EC5F01EA]( f85_local6.playAudio ),
				button_ref = f85_local6.input,
				priority = f85_local6.priority,
				container = f85_local4
			} )
			f85_arg0._soundsIds[f85_local5] = nil
		end
		if not f85_arg2 and f85_local6.container then
			f85_arg0:RemoveButtonHelperText( f85_local6.input, "left" )
			f85_local4 = nil
			if f85_arg0._soundsIds[f85_local5] then
				Engine[0xC738A7A46EDBB34]( f85_arg0._soundsIds[f85_local5] )
				f85_arg0._soundsIds[f85_local5] = nil
			end
			if f85_arg0.checkSoundTimer then
				f85_arg0:RemoveElement( f85_arg0.checkSoundTimer )
				f85_arg0.checkSoundTimer:closeTree()
				f85_arg0.checkSoundTimer = nil
			end
		end
	end
end

local f0_local25 = function ( f84_arg0, f84_arg1, f84_arg2 )
	if f84_arg2 and not f84_arg0.CalibrationGuide then
		local CalibrationGuide = nil
		CalibrationGuide = MenuBuilder.BuildRegisteredType( "CalibrationGuide", {
			controllerIndex = f84_arg1
		} )
		CalibrationGuide.id = "CalibrationGuide"
		if IsLanguageArabic() then
			CalibrationGuide:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1061, _1080p * 1696, _1080p * 300, _1080p * 832 )
		else
			CalibrationGuide:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 976, _1080p * 1611, _1080p * 300, _1080p * 832 )
		end
		f84_arg0:addElement( CalibrationGuide )
		f84_arg0.CalibrationGuide = CalibrationGuide
		
		f84_arg0.CalibrationGuide:SetSwatchUpdateHandler( f0_local0 )
		f84_arg0.CalibrationGuide.BarelyVisibleSwatch.colorModifier = f84_arg0.CalibrationGuide.BarelyVisibleSwatch.colorModifier + Engine[0xB2DE2DDA9488F16]()
		f84_arg0.CalibrationGuide:processEvent( {
			name = "calibration_updated"
		} )
	elseif not f84_arg2 and f84_arg0.CalibrationGuide then
		f84_arg0.CalibrationGuide:closeTree()
		f84_arg0.CalibrationGuide = nil
	end
end

local f0_local26 = function ( f83_arg0, f83_arg1, f83_arg2, f83_arg3 )
	if f83_arg2 and not f83_arg0.RelatedSettings then
		local RelatedSettings = nil
		RelatedSettings = MenuBuilder.BuildRegisteredType( "RelatedSettings", {
			controllerIndex = f83_arg1
		} )
		RelatedSettings.id = "RelatedSettings"
		RelatedSettings:SetAlpha( 1, 0 )
		if f83_arg3 then
			RelatedSettings:SetAnchorsAndPosition( f83_arg3.leftAnchor, f83_arg3.rightAnchor, f83_arg3.topAnchor, f83_arg3.bottomAnchor, f83_arg3.left, f83_arg3.right, f83_arg3.top, f83_arg3.bottom )
		else
			RelatedSettings:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 998, _1080p * 1578, _1080p * 760, _1080p * 930 )
		end
		f83_arg0:addElement( RelatedSettings )
		f83_arg0.RelatedSettings = RelatedSettings
		
	elseif not f83_arg2 and f83_arg0.RelatedSettings then
		f83_arg0.RelatedSettings:closeTree()
		f83_arg0.RelatedSettings = nil
	end
end

local f0_local27 = function ( f82_arg0, f82_arg1, f82_arg2, f82_arg3 )
	if f82_arg2 and not f82_arg0.RelatedKeybinds then
		local RelatedKeybinds = nil
		RelatedKeybinds = MenuBuilder.BuildRegisteredType( "RelatedSettings", {
			controllerIndex = f82_arg1
		} )
		RelatedKeybinds.id = "RelatedKeybinds"
		RelatedKeybinds:SetAlpha( 1, 0 )
		if f82_arg3 then
			RelatedKeybinds:SetAnchorsAndPosition( f82_arg3.leftAnchor, f82_arg3.rightAnchor, f82_arg3.topAnchor, f82_arg3.bottomAnchor, f82_arg3.left, f82_arg3.right, f82_arg3.top, f82_arg3.bottom )
		else
			RelatedKeybinds:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 990, _1080p * 1230, _1080p * 890, _1080p * 920 )
		end
		f82_arg0:addElement( RelatedKeybinds )
		f82_arg0.RelatedKeybinds = RelatedKeybinds
		
	elseif not f82_arg2 and f82_arg0.RelatedKeybinds then
		f82_arg0.RelatedKeybinds:closeTree()
		f82_arg0.RelatedKeybinds = nil
	end
end

local f0_local28 = function ( f81_arg0 )
	if f81_arg0.OptionName then
		f81_arg0.OptionName:SetAlpha( 0 )
	end
	OPTIONS.Menu.CreateOrDestroyButtonLayoutOptionsMenu( f81_arg0, controllerIndex, false )
	OPTIONS.Menu.CreateOrDestroyStickLayoutOptionsMenu( f81_arg0, controllerIndex, false )
	OPTIONS.Menu.CreateOrDestroyAudioMixPresetOptionsMenu( f81_arg0, controllerIndex, false )
	f0_local0( f81_arg0, controllerIndex, false )
	OPTIONS.Menu.CreateOrDestroyDailyDownloadLimitSwatches( f81_arg0, controllerIndex, false )
	f0_local0( f81_arg0, controllerIndex, false )
	f0_local0( f81_arg0, controllerIndex, false )
	if f81_arg0.ButtonDescriptionText.Description then
		f81_arg0.ButtonDescriptionText.Description:SetAlpha( 0 )
	end
	if f81_arg0.VramEffect then
		f81_arg0.VramEffect:SetAlpha( 0 )
	end
	if f81_arg0.ModeEffect then
		f81_arg0.ModeEffect:SetAlpha( 0 )
	end
	if f81_arg0.ImagePreview then
		f81_arg0.ImagePreview:SetAlpha( 0 )
		if not f81_arg0._imageHidden then
			f81_arg0._imageHidden = true
			if f81_arg0._firstAnim then
				ACTIONS.AnimateSequence( f81_arg0, "InstantHideImagePreview" )
				f81_arg0._firstAnim = false
			else
				ACTIONS.AnimateSequence( f81_arg0, "HideImagePreview" )
			end
		end
	end
end

local f0_local29 = function ( f79_arg0, f79_arg1 )
	f0_local0( f79_arg0 )
	f0_local0( f79_arg0, f79_arg1, false )
	f0_local0( f79_arg0, f79_arg1, false )
	f0_local0( f79_arg0, f79_arg1, false )
	f0_local0( f79_arg0, false )
	f79_arg0.Nat:SetAlpha( 0 )
	ACTIONS.AnimateSequence( f79_arg0, "HideSecondaryTabs" )
	if f79_arg0.SubcategoriesOptions then
		f79_arg0.SubcategoriesOptions:closeTree()
		f79_arg0.SubcategoriesOptions = nil
	end
	f79_arg0.OptionWindow:UpdateOptions( f79_arg1, function ()
		
	end, nil, nil )
	f79_arg0:AddButtonHelperText( {
		side = "left",
		button_ref = "button_primary",
		helper_text = nil,
		priority = 2
	} )
	f79_arg0:RemoveButtonHelperText( "button_r3", "left" )
	f79_arg0:RemoveButtonHelperText( "button_alt2", "left" )
end

local f0_local30 = function ( f78_arg0, f78_arg1, f78_arg2, f78_arg3 )
	f78_arg0:dispatchEventToChildren( {
		name = "remove_overlays"
	} )
	if f78_arg0.SubcategoriesOptions and f78_arg2 and f78_arg3 then
		local f78_local0 = f78_arg2 + f78_arg1
		if 1 > f78_local0 or not f78_local0 then
			f78_local0 = f78_arg3
		end
		if f78_local0 > f78_arg3 or not f78_local0 then
			f78_local0 = 1
		end
		if f78_arg0.SubcategoriesOptions.options and f78_arg0.SubcategoriesOptions.options[f78_local0] then
			f78_arg0.SubcategoriesOptions.options[f78_local0]:ChangeControllerSubTab()
		end
	end
end

local f0_local31 = function ( f77_arg0 )
	local f77_local0 = {}
	local f77_local1 = Engine[0x575E9C5B9AAB6F4]()
	local f77_local2
	if CONDITIONS.IsSplitscreen() then
		f77_local2 = Engine[0x12586A3F4FB490E]()
		if not f77_local2 then
			if f77_arg0 ~= Engine[0x45B054C920178E9]() then
				f77_local2 = false
			else
				f77_local2 = true
			end
		end
	else
		f77_local2 = true
	end
	local f77_local3 = Engine[0xD151EC5B41223B5]()
	if f77_local3 then
		f77_local3 = IsPrivateMatch()
		if not f77_local3 then
			f77_local3 = IsSystemLink()
		end
	end
	if f77_local1 then
		f77_local0[#f77_local0 + 1] = {
			id = "keyboardAndMouse",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/KEYBOARD_AND_MOUSE" ) ),
			csv = CSV.keyboardAndMouseOptions,
			optionsList = OPTIONS_LIST_GENERATED.keyboardAndMouseOptions,
			resetAction = f0_local0
		}
	else
		f77_local0[#f77_local0 + 1] = {
			id = "gamepad",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "PLATFORM_UI/GAMEPAD" ) ),
			csv = CSV.gamepadOptions,
			optionsList = OPTIONS_LIST_GENERATED.gamepadOptions
		}
	end
	f77_local0[#f77_local0 + 1] = {
		id = "graphics",
		name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/GRAPHICS" ) ),
		csv = CSV.videoOptions,
		optionsList = OPTIONS_LIST_GENERATED.videoOptions,
		applyable = f77_local1,
		applyAction = f0_local0,
		resetAction = f0_local0
	}
	if f77_local2 then
		f77_local0[#f77_local0 + 1] = {
			useDelayedFocus = true,
			id = "audio",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/AUDIO" ) ),
			csv = CSV.audioOptions,
			optionsList = OPTIONS_LIST_GENERATED.audioOptions
		}
	end
	f77_local0[#f77_local0 + 1] = {
		id = "interface",
		name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/INTERFACE" ) ),
		csv = CSV.interfaceOptions,
		optionsList = OPTIONS_LIST_GENERATED.interfaceOptions
	}
	if f77_local1 then
		f77_local0[#f77_local0 + 1] = {
			id = "gamepad",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "PLATFORM_UI/GAMEPAD" ) ),
			csv = CSV.gamepadOptions,
			optionsList = OPTIONS_LIST_GENERATED.gamepadOptions
		}
	else
		f77_local0[#f77_local0 + 1] = {
			id = "keyboardAndMouse",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/KEYBOARD_AND_MOUSE" ) ),
			csv = CSV.keyboardAndMouseOptions,
			optionsList = OPTIONS_LIST_GENERATED.keyboardAndMouseOptions,
			lockedData = {
				locked = not Engine[0x741C985ADA0608B]( f77_arg0 ),
				lockedTitle = Engine[0xED84C33EC5F01EA]( "LUA_MENU/KEYBOARD_REQUIRED" ),
				lockedDesc = Engine[0xED84C33EC5F01EA]( "LUA_MENU/KEYBOARD_REQUIRED_DESC" )
			},
			resetAction = f0_local0
		}
	end
	if f77_local2 then
		f77_local0[#f77_local0 + 1] = {
			id = "account",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/ACCOUNT_TAB" ) ),
			csv = CSV.accountOptions,
			optionsList = OPTIONS_LIST_GENERATED.accountOptions
		}
	end
	if f77_local3 then
		f77_local0[#f77_local0 + 1] = {
			id = "codCaster",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "CODCASTER/CODCASTER_TITLE" ) ),
			csv = CSV.codCasterOptions,
			optionsList = OPTIONS_LIST_GENERATED.codCasterOptions
		}
	end
	if Engine[0x2DA54CF5D6B7F02]() or Engine[0xDD9D856EA1C159E]() then
		f77_local0[#f77_local0 + 1] = {
			visible = true,
			name = "debug",
			id = "debug",
			csv = CSV.debugOptions,
			optionsList = OPTIONS_LIST_GENERATED.debugOptions
		}
	end
	return f77_local0
end

local f0_local32 = function ( f76_arg0 )
	local f76_local0 = {
		[#f76_local0 + 1] = {
			id = "accessibilityVisual",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/VISUAL" ) ),
			optionsList = OPTIONS_LIST_GENERATED.accessibilityVisualOptions
		},
		[#f76_local0 + 1] = {
			id = "accessibilityAudio",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/AUDIO" ) ),
			optionsList = OPTIONS_LIST_GENERATED.accessibilityAudioOptions
		}
	}
	if Engine[0x575E9C5B9AAB6F4]() then
		f76_local0[#f76_local0 + 1] = {
			id = "accessibilityKBM",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/KEYBOARD_AND_MOUSE" ) ),
			optionsList = OPTIONS_LIST_GENERATED.accessibilityKBMOptions
		}
		f76_local0[#f76_local0 + 1] = {
			id = "accessibilityGamepad",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "PLATFORM_UI/GAMEPAD" ) ),
			optionsList = OPTIONS_LIST_GENERATED.accessibilityControllerOptions
		}
	else
		f76_local0[#f76_local0 + 1] = {
			id = "accessibilityGamepad",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "PLATFORM_UI/GAMEPAD" ) ),
			optionsList = OPTIONS_LIST_GENERATED.accessibilityControllerOptions
		}
		f76_local0[#f76_local0 + 1] = {
			id = "accessibilityKBM",
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/KEYBOARD_AND_MOUSE" ) ),
			optionsList = OPTIONS_LIST_GENERATED.accessibilityKBMOptions
		}
	end
	return f76_local0
end

local f0_local33 = function ( f65_arg0, f65_arg1, f65_arg2, f65_arg3 )
	if CONDITIONS.InGameAndBR( f65_arg0 ) and DataSources.inGame.player.BRData then
		DataSources.inGame.player.BRData.PlayerStatusIsInSettings:SetValue( f65_arg1, false )
	end
	local f65_local0 = Engine[0x575E9C5B9AAB6F4]()
	local f65_local1 = LUI.FlowManager.GetPerControllerPersistentData( f65_arg1 )
	local f65_local2 = LUI.FlowManager.GetScopedData( f65_arg0 )
	if not f65_local1.selectedCategoryIndex then
		f65_local1.selectedCategoryIndex = {}
	end
	if not f65_local1.CategoryNumber then
		f65_local1.CategoryNumber = {}
	end
	local f65_local3 = nil
	if f65_arg2 then
		f65_local3 = f0_local0( f65_arg1 )
	else
		f65_local3 = f0_local0( f65_arg1 )
	end
	local f65_local4 = f65_local2.activeTabId
	if f65_local4 then
		for f65_local8, f65_local9 in ipairs( f65_local3 ) do
			if f65_local9.id == f65_local4 then
				f65_local1.activeTabIndex = f65_local8
				break
			end
		end
	end
	local f65_local5 = {}
	for f65_local9, f65_local14 in ipairs( f65_local3 ) do
		if f65_local14.visible == nil or f65_local14.visible then
			local f65_local10 = table.insert
			local f65_local11 = f65_local5
			local f65_local12 = {
				name = f65_local14.name,
				disabled = f65_local14.disabled
			}
			local f65_local13
			if (not f65_arg2 or f65_local9 ~= f65_local1.activeAccessibilityTabIndex) and (f65_arg2 or f65_local9 ~= f65_local1.activeTabIndex) then
				f65_local13 = false
			else
				f65_local13 = true
			end
			f65_local12.hasDefaultFocus = f65_local13
			f65_local13 = f65_local14.lockedData
			if f65_local13 then
				f65_local13 = f65_local14.lockedData.locked
			end
			f65_local12.locked = f65_local13
			f65_local12.focusCondition = function ( f75_arg0, f75_arg1, f75_arg2 )
				if 0 < #f65_arg0.modifiedOptions and f75_arg1 ~= f65_arg0.activeTabIndex - 1 then
					f65_arg0.requestedTab = {
						tabIndex = f75_arg1,
						focusType = f75_arg2
					}
					f65_arg0:HandleFlowRequest( f75_arg0, f65_arg0.tabChange )
					return false
				else
					return true
				end
			end
			
			f65_local12.focusFunction = function ( f66_arg0, f66_arg1, f66_arg2, f66_arg3 )
				local f66_local0 = f65_arg0.lockedData
				if f66_local0 then
					f66_local0 = f65_arg0.lockedData.locked
				end
				f65_arg0.tabName = f65_arg0.name
				f65_arg0.tabId = f65_arg0.id
				f65_arg0.tabCSV = f65_arg0.csv
				f65_arg0.useDelayedFocus = f65_arg0.useDelayedFocus
				f65_arg0.applyAction = f65_arg0.applyAction
				f65_arg0.resetAction = f65_arg0.resetAction
				f65_arg0.isCurrentTabLocked = f66_local0
				if not f65_arg0 then
					if f65_arg0 and f65_arg0.activeAccessibilityTabIndex and f65_arg0 == f65_arg0.activeAccessibilityTabIndex and f65_arg0.OptionWindow.buttonList and f65_arg0.OptionWindow.buttonList._activeElement and not f66_local0 then
						
					elseif not f65_arg0 and f65_arg0.activeTabIndex and f65_arg0 == f65_arg0.activeTabIndex and f65_arg0.OptionWindow.buttonList and f65_arg0.OptionWindow.buttonList._activeElement and not f66_local0 then
						
					else
						
					end
				end
				f65_arg0.requestedTab = nil
				f65_arg0:dispatchEventToChildren( {
					name = "remove_overlays"
				} )
				local f66_local1, f66_local2 = nil
				if f65_arg0.OptionsGraphicsSliderBar then
					if f65_arg0.id == "graphics" then
						f65_arg0.OptionsGraphicsSliderBar:processEvent( {
							name = "refresh_vram"
						} )
						f65_arg0.OptionsGraphicsSliderBar:processEvent( {
							name = "show"
						} )
					else
						f65_arg0.OptionsGraphicsSliderBar:processEvent( {
							name = "hide"
						} )
					end
				end
				if f66_local0 then
					f65_arg0( f65_arg0, f66_arg1 )
					f65_arg0.LockedOptions:UpdateLockedTitleAndDesc( f66_arg1, f65_arg0.lockedData.lockedTitle, f65_arg0.lockedData.lockedDesc )
					f65_arg0.LockedOptions:SetAlpha( 1 )
					if f65_arg0 then
						f65_arg0.activeAccessibilityTabIndex = f65_arg0
					else
						f65_arg0.activeTabIndex = f65_arg0
					end
				elseif f65_arg0.Nat:GetAlpha() == 0 or f65_arg0.LockedOptions:GetAlpha() ~= 0 then
					f65_arg0.Nat:SetAlpha( 1 )
					f65_arg0.LockedOptions:UpdateLockedTitleAndDesc( f66_arg1, "", "" )
					f65_arg0.LockedOptions:SetAlpha( 0 )
					f65_arg0:AddButtonHelperText( {
						side = "left",
						button_ref = "button_r3",
						priority = 2,
						helper_text = Engine[0xED84C33EC5F01EA]( "MENU/RESET_TAB_OPTION" )
					} )
				end
				if not Engine[0x74423E76DECE3E4]() then
					if f65_arg0.id == "audio" then
						f65_arg0( f65_arg0, f66_arg1, true )
					else
						f65_arg0( f65_arg0, f66_arg1, false )
					end
				end
				local f66_local3 = f65_arg0
				local f66_local4 = f65_arg0
				local SubcategoriesOptions = f66_arg1
				local f66_local6
				if f65_arg0.id ~= "accessibilityAudio" then
					if f65_arg0.id == "audio" then
						f66_local6 = Engine[0x12586A3F4FB490E]()
					else
						f66_local6 = false
					end
				else
					f66_local6 = true
				end
				f66_local3( f66_local4, SubcategoriesOptions, f66_local6 )
				f65_arg0( f65_arg0, f66_arg1, f65_arg0.id == "account" )
				f65_arg0( f65_arg0, f65_arg0.id == "account" )
				if not f65_arg0._subTab then
					f65_arg0._subTab = {}
				end
				if f65_arg0.tabId == "keyboardAndMouse" and f65_arg0.selectedCategoryIndex and f65_arg0.selectedCategoryIndex.keyboardAndMouse ~= OPTIONS.KeyboardAndMouseSubTabs.MOUSE then
					f65_arg0._subTab.useDelayedFocus = true
				else
					f65_arg0._subTab.useDelayedFocus = false
				end
				if 1 < #f65_arg0.optionsList and (f65_arg0.id ~= "graphics" or f65_arg0) then
					ACTIONS.AnimateSequence( f65_arg0, "ShowSecondaryTabs" )
					f66_local3 = {}
					if not Dvar[0x9E5BE3B4BBA4E0E]( "#x3cb7531096d2d6c4" ) then
						f66_local3 = f65_arg0( f65_arg0, f66_arg1, f65_arg0.csv )
					else
						f66_local3 = f65_arg0.optionsList
					end
					f65_arg0.CategoryNumber[f65_arg0.tabId] = #f66_local3
					local f66_local7 = {}
					f66_local4 = LUI.FlowManager.GetPerControllerPersistentData( f66_arg1 )
					if not f65_arg0.SubcategoriesOptions then
						SubcategoriesOptions = nil
						SubcategoriesOptions = MenuBuilder.BuildRegisteredType( "OptionCategories", {
							controllerIndex = f66_arg1
						} )
						SubcategoriesOptions.id = "SubcategoriesOptions"
						SubcategoriesOptions:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 343, _1080p * 155, _1080p * 215 )
						f65_arg0:addElement( SubcategoriesOptions )
						f65_arg0.SubcategoriesOptions = SubcategoriesOptions
						
						if f65_arg0.bindButton and not f65_arg0.bindSubTabButtons then
							f65_arg0.bindButton:addEventHandler( "button_left_trigger", function ( f74_arg0, f74_arg1 )
								if f66_arg0.selectedCategoryIndex and f66_arg0.CategoryNumber then
									f66_arg0( f66_arg0, -1, f66_arg0.selectedCategoryIndex[f66_arg0.tabId], f66_arg0.CategoryNumber[f66_arg0.tabId] )
								end
							end )
							f65_arg0.bindButton:addEventHandler( "button_right_trigger", function ( f73_arg0, f73_arg1 )
								if f66_arg0.selectedCategoryIndex and f66_arg0.CategoryNumber then
									f66_arg0( f66_arg0, 1, f66_arg0.selectedCategoryIndex[f66_arg0.tabId], f66_arg0.CategoryNumber[f66_arg0.tabId] )
								end
							end )
							f65_arg0.bindSubTabButtons = true
						end
						f66_local6, f66_local8, f66_local9, f66_local10 = f65_arg0.SubcategoriesOptions:getLocalRect()
						f65_arg0.SubcategoriesOptions._initialLeft = f66_local6
						f65_arg0.SubcategoriesOptions._initialRight = f66_local9
						local f66_local11 = 26
						local f66_local12 = f65_arg0._sequenceLengths.Gamepad or 0
						f65_arg0.SubcategoriesOptions:addAndCallEventHandler( "update_input_type", function ( f72_arg0, f72_arg1 )
							if LUI.IsLastInputGamepad( f72_arg1.controllerIndex ) then
								f72_arg0:SetLeft( f72_arg0._initialLeft + f66_arg0, f66_arg0 )
								f72_arg0:SetRight( f72_arg0._initialRight + f66_arg0, f66_arg0 )
								f72_arg0.SecondaryTabsContainer.leftTriggerButton:SetAlpha( 1 )
								f72_arg0.SecondaryTabsContainer.rightTriggerButton:SetAlpha( 1 )
							else
								f72_arg0:SetLeft( f72_arg0._initialLeft, f66_arg0 )
								f72_arg0:SetRight( f72_arg0._initialRight, f66_arg0 )
								f72_arg0.SecondaryTabsContainer.leftTriggerButton:SetAlpha( 0 )
								f72_arg0.SecondaryTabsContainer.rightTriggerButton:SetAlpha( 0 )
							end
							f72_arg0:UpdateHorizontalLayoutToContent()
						end, {
							controllerIndex = f66_arg1
						} )
						f65_arg0.SubcategoriesOptions:registerEventHandler( "category_changed", function ( element, event )
							local f70_local0 = function ()
								element.options[element.index]:dispatchEventToParent( {
									name = "request_active",
									target = element.options[element.index]
								} )
								if not element._imageHidden then
									ACTIONS.AnimateSequence( element, "HideImagePreview" )
									element._imageHidden = true
								end
								element.selectedCategoryIndex[element.tabId] = element.index
								if element.tabId == "keyboardAndMouse" and element.selectedCategoryIndex and element.selectedCategoryIndex.keyboardAndMouse ~= OPTIONS.KeyboardAndMouseSubTabs.MOUSE then
									element._subTab.useDelayedFocus = true
								else
									element._subTab.useDelayedFocus = false
								end
								element.subCategoryName = element.options[element.index].Text:getText()
								element( element )
								element.OptionWindow:UpdateOptions( element, element.createOptions, element.optionsList )
								if not element.mouse then
									element:processEvent( {
										name = "gain_focus",
										shouldPlayButtonSound = false,
										controller = element
									} )
									element:processEvent( {
										name = "lose_focus",
										controller = element
									} )
								end
								Engine[0xC4146BA76D0F982]( CoD.SFX.SelectTab )
								OPTIONS.Menu.RefreshAllDependencies( element, element.controller )
								element:processEvent( {
									name = "tab_create"
								} )
							end
							
							if 0 < #f66_arg0.modifiedOptions then
								f66_arg0:HandleFlowRequest( f66_arg0, f66_arg0.tabChange, nil, f70_local0 )
							else
								f70_local0()
							end
						end )
						f65_arg0.SubcategoriesOptions:registerEventHandler( "restore_focus", function ( element, event )
							return true
						end )
					end
					f65_arg0.OptionsKeyBindingBanner:SetAlpha( 1, 200 )
					local f66_local13 = f66_local4.selectedCategoryIndex[f65_arg0.id]
					local f66_local14 = f66_local3[f66_local4.selectedCategoryIndex[f65_arg0.id]]
					local f66_local15 = f66_local4.selectedCategoryIndex
					f66_local15[f65_arg0.id] = 1
					SubcategoriesOptions = f66_local13 and f66_local14 or f66_local15
					f66_local15 = OPTIONS
					SubcategoriesOptions = SubcategoriesOptions.CreateOptionList
					local f66_local8 = f65_arg0
					local f66_local9 = f66_arg1
					local f66_local10 = f66_local4.selectedCategoryIndex
					f66_local10 = f66_local3[f66_local4.selectedCategoryIndex[f65_arg0.id]].optionsList
					local f66_local11 = f66_local4.selectedCategoryIndex
					f66_local1 = SubcategoriesOptions( f66_local8, f66_local9, f66_local10, f66_local3[f66_local4.selectedCategoryIndex[f65_arg0.id]].applyable )
					f66_local2 = function ( f67_arg0, f67_arg1 )
						for f67_local3, f67_local4 in ipairs( f66_arg0 ) do
							local f67_local5 = OPTIONS.CreateOptionCategory( f67_arg0, f67_arg1, f67_local4, f67_local3, f67_local4.applyable )
							f67_local5.blockConfirmSound = true
							f67_local5:addEventHandler( "button_action", function ( f68_arg0, f68_arg1 )
								if not LUI.IsLastInputMouseNavigation( f67_arg0 ) then
									local f68_local0 = f68_arg0:GetCurrentMenu()
									f68_local0:processEvent( {
										name = "gain_focus",
										controller = f68_arg1.controller
									} )
									f68_local0 = f68_arg0:GetCurrentMenu()
									f68_local0:processEvent( {
										name = "lose_focus",
										controller = f68_arg1.controller
									} )
								end
							end )
							f66_arg0[#f66_arg0 + 1] = f67_local5
						end
						return f66_arg0
					end
					
				end
				ACTIONS.AnimateSequence( f65_arg0, "HideSecondaryTabs" )
				f66_local3 = {}
				if not Dvar[0x9E5BE3B4BBA4E0E]( "#x3cb7531096d2d6c4" ) then
					f66_local3 = f65_arg0( f65_arg0, f65_arg0.csv )
				else
					f66_local3 = f65_arg0.optionsList[1].optionsList
				end
				f66_local1 = OPTIONS.CreateOptionList( f65_arg0, f66_arg1, f66_local3, f65_arg0.applyable )
				if f65_arg0.SubcategoriesOptions then
					f65_arg0.SubcategoriesOptions:closeTree()
					f65_arg0.SubcategoriesOptions = nil
				end
				if f65_arg0.id == "audio" then
					f65_arg0.OptionsKeyBindingBanner:SetAlpha( 1, 200 )
				else
					f65_arg0.OptionsKeyBindingBanner:SetAlpha( 0, 200 )
				end
				f65_arg0( f65_arg0 )
				if not f65_arg0.alreadyLoaded and f65_arg0.selectedOptionIndex and not f65_arg0.SubcategoriesOptions then
					f66_local3 = #f65_arg0.optionsList
					local f66_local7 = f65_arg0.selectedOptionIndex
					f65_arg0.OptionWindow:UpdateOptions( f66_arg1, f66_local1, f65_arg0.optionsList, nil, REG27 and f65_arg0.selectedOptionIndex or nil )
				else
					f65_arg0.OptionWindow:UpdateOptions( f66_arg1, f66_local1, f65_arg0.optionsList )
				end
				f65_arg0.alreadyLoaded = true
				if f65_arg0.SubcategoriesOptions then
					f65_arg0.SubcategoriesOptions:UpdateOptions( f66_arg1, f66_local2, f65_arg0.optionsList, nil, f65_arg0.selectedCategoryIndex[f65_arg0.tabId] )
				end
				if not LUI.IsLastInputMouseNavigation( f66_arg1 ) then
					f65_arg0:processEvent( {
						name = "gain_focus",
						shouldPlayButtonSound = false,
						controller = f66_arg1
					} )
					f65_arg0:processEvent( {
						name = "lose_focus",
						controller = f66_arg1
					} )
					if f65_arg0._firstTabFocus == true then
						f65_arg0._firstTabFocus = false
					end
				end
				if f65_arg0 then
					f65_arg0.activeAccessibilityTabIndex = f65_arg0
				else
					f65_arg0.activeTabIndex = f65_arg0
				end
				OPTIONS.Menu.RefreshAllDependencies( f65_arg0, f66_arg1 )
				if f66_arg3 ~= FocusType.MenuFlow then
					Engine[0xC4146BA76D0F982]( CoD.SFX.SelectTab )
				end
				f65_arg0:processEvent( {
					name = "tab_create"
				} )
			end
			
			f65_local10( f65_local11, f65_local12 )
		end
	end
	f65_arg0.Tabs:SetTabs( f65_local5 )
end

local f0_local34 = function ( f64_arg0, f64_arg1, f64_arg2 )
	Engine[0xD459593BBC22CE6]( f64_arg1 )
end

local f0_local35 = function ( f61_arg0, f61_arg1, f61_arg2, f61_arg3 )
	local f61_local0 = MenuBuilder.BuildRegisteredType( f61_arg2, {
		controllerIndex = f61_arg1
	} )
	f61_local0.id = f61_arg2
	f61_local0:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1020, _1080p * 1770, _1080p * 415, _1080p * 665 )
	f61_arg0:addElement( f61_local0 )
	f61_arg3.button:addEventHandler( "button_over", function ( f63_arg0, f63_arg1 )
		f61_arg0:processEvent( {
			name = f61_arg0.guideEventOver
		} )
		if CONDITIONS.IsSplitscreen( f61_arg0 ) then
			f61_arg0:SetTop( 150 )
			f61_arg0:SetLeft( _1080p * 1344 )
		end
	end )
	f61_arg3.button:addEventHandler( "button_up", function ( f62_arg0, f62_arg1 )
		f61_arg0:processEvent( {
			name = f61_arg0.guideEventUp
		} )
	end )
	return f61_local0
end

local f0_local36 = function ( f59_arg0, f59_arg1 )
	if f59_arg0.optionsLayout ~= nil then
		
	else
		
	end
	local f59_local0 = f59_arg0.OptionWindow.options[f59_arg0.CurrentSelectedOption + 1]
	if f59_local0._typeName == "GenericExpander" then
		local f59_local1 = nil
		if LUI.IsLastInputMouseNavigation( f59_arg1 ) then
			f59_local1 = f59_local0.ChildrenContainer._activeElement
		else
			f59_local1 = f59_local0.ChildrenContainer:getFirstInFocus()
		end
		if f59_local1 and not f59_local1 then
			f59_local0 = f59_local1
		else
			f59_local0 = f59_local0.InnerWidget
		end
	end
	local f59_local1 = f59_local0.id
	if f59_local1 then
		local f59_local2 = OPTIONS.GetOptionsDataByIdentifier( f59_arg0, f59_arg1, f59_arg0.optionsList, f59_local1 )
		if f59_local2 and f59_local2.relatedSettings then
			local f59_local3 = f59_local2.name or f59_local2.stringID
			if type( f59_local3 ) == "function" then
				f59_local3 = f59_local3()
			end
			LUI.FlowManager.RequestPopupMenu( nil, "OptionsLayoutPopup", true, f59_arg1, false, {
				option = f59_local2,
				optionsList = f59_arg0.optionsList,
				relatedSettings = f59_local2.relatedSettings,
				title = f59_local2.type and Engine[0xED84C33EC5F01EA]( "MENU/RELATED_SETTINGS_TITLE", f59_local3 ) or Engine[0xED84C33EC5F01EA]( "MENU/RELATED_KEYBINDS_TITLE", f59_local3 ),
				leaveMenuFunction = function ( f60_arg0, f60_arg1 )
					if f59_arg0.RelatedSettings then
						f59_arg0.RelatedSettings:UpdateRelatedSettings( f60_arg1, f59_arg0.relatedSettings, f59_arg0.optionsList )
						f59_arg0:processEvent( {
							name = "options_window_refresh",
							controller = f60_arg1
						} )
					end
					ACTIONS.LeaveMenu( f60_arg0 )
				end
			}, nil, true, true, true )
			return true
		end
	end
	return false
end

local f0_local37 = function ( f58_arg0 )
	local f58_local0 = nil
	if not Dvar[0x9E5BE3B4BBA4E0E]( "#x3cb7531096d2d6c4" ) then
		local f58_local1 = CSV.options
		local f58_local2 = StringTable[0x8073B436CDE1BF]( f58_local1.file, f58_local1.cols.identifier, f58_arg0 )
		f58_local0 = {
			id = f58_arg0,
			type = StringTable[0x2077452C28AB2FC]( f58_local1.file, f58_local2, f58_local1.cols.type ),
			name = StringTable[0x2077452C28AB2FC]( f58_local1.file, f58_local2, f58_local1.cols.name ),
			description = StringTable[0x2077452C28AB2FC]( f58_local1.file, f58_local2, f58_local1.cols.description ),
			name = Engine[0xED84C33EC5F01EA]( f58_local0.name ),
			description = Engine[0xED84C33EC5F01EA]( f58_local0.description )
		}
		if f58_local1.cols.labels ~= nil then
			local f58_local3 = StringTable[0x2077452C28AB2FC]( f58_local1.file, f58_local2, f58_local1.cols.labels )
			if f58_local3 ~= "" then
				f58_local0.labels = {}
				f58_local3 = LUI.Split( f58_local3, ";" )
				for f58_local4 = 1, #f58_local3, 1 do
					f58_local0.labels[f58_local4] = Engine[0xED84C33EC5F01EA]( f58_local3[f58_local4] )
				end
			end
		end
		if OPTIONS_DATA.optionsDataList[f58_arg0] then
			for f58_local7, f58_local8 in pairs( OPTIONS_DATA.optionsDataList[f58_arg0] ) do
				f58_local0[f58_local7] = f58_local8
			end
		end
		f58_local0.optionsList = optionsList
	else
		f58_local0 = OPTIONS_DATA_GENERATED.options[f58_arg0]
	end
	return f58_local0
end

local f0_local38 = function ( f56_arg0, f56_arg1 )
	if Engine[0x8D175F4CE7F7F1B]() then
		if not Regulations[0x66ECDB14E0062F3]( f56_arg1 ) then
			if f56_arg0._fetchTimerHolder.count < OPTIONS.PRIVACY_CHOICES_REQUEST_MAX_COUNT then
				local f56_local0 = f56_arg0._fetchTimerHolder:Wait( OPTIONS.PRIVACY_CHOICES_REQUEST_INTERVAL )
				f56_local0.onComplete = function ()
					f56_arg0:GetEnforcement( f56_arg0 )
				end
				
				f56_arg0._fetchTimerHolder.count = f56_arg0._fetchTimerHolder.count + 1
			end
		else
			local f56_local0 = "DoNotSellMyData"
			f56_arg0.optionsList[f56_local0] = f0_local0( f56_local0 )
		end
	end
end

local f0_local39 = function ( f22_arg0, f22_arg1, f22_arg2 )
	f22_arg0._firstAnim = true
	f22_arg0._firstTabFocus = true
	f22_arg0.isMenuInitialized = false
	f22_arg0.HandleFlowRequest = f0_local0
	f22_arg0._soundsIds = {}
	f22_arg0:registerEventHandler( "add_button_helper_text", function ( element, event )
		element.ButtonHelperBar:processEvent( event )
		return true
	end )
	f22_arg0:registerEventHandler( "update_grid_list_focus_active", function ( element, event )
		element.OptionWindow.buttonList:processEvent( event )
		return true
	end )
	f22_arg0:addEventHandler( "menu_create", function ( f53_arg0, f53_arg1 )
		f22_arg0.isMenuInitialized = true
	end )
	f22_arg0:addEventHandler( "input_connection", function ( f52_arg0, f52_arg1 )
		f52_arg0:SetupTabs( f52_arg1.controllerIndex )
	end )
	LUI.TextChat.SetupMenuForSingleLine( f22_arg0 )
	if Engine[0x9258F49F515F97B]() and Engine[0x12586A3F4FB490E]() then
		f22_arg0:addElement( MenuBuilder.BuildRegisteredType( "FrontendCameraMover", {
			enableSway = false,
			controllerIndex = f22_arg1
		} ) )
	end
	assert( f22_arg0.bindButton )
	if not Engine[0x12586A3F4FB490E]() then
		f22_arg0:addEventHandler( "menu_create", function ()
			f22_arg0:AddButtonHelperText( {
				clickable = true,
				priority = 11,
				side = "left",
				kbmTooltipPromptOverload = "button_dismiss_pause_menu",
				button_ref = "button_start",
				helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/DISMISS_MENU" )
			} )
		end )
		f22_arg0.bindButton:addEventHandler( "button_start", function ( f50_arg0, f50_arg1 )
			f22_arg0:HandleFlowRequest( f22_arg0, f22_arg0.dismiss, false )
		end )
	end
	f22_arg0.closeTree = function ( f49_arg0 )
		OPTIONS.OptionsToReset = {}
		LUI.UIElement.closeTree( f49_arg0 )
	end
	
	assert( f22_arg0.OptionWindow )
	f22_arg0:addEventHandler( "update_button_selected", function ( f48_arg0, f48_arg1 )
		if f48_arg0.lockOptionSelected then
			return 
		end
		local f48_local0 = LUI.FlowManager.GetPerControllerPersistentData( f22_arg0 )
		f48_local0.selectedOptionIndex = f48_arg0.OptionWindow:GetChildIndexInGrid( f48_arg1.previewOption ) + 1
		f48_arg0.OptionWindow.buttonList:SetDefaultFocus( {
			x = 0,
			y = f48_local0.selectedOptionIndex - 1
		} )
		if not f48_arg0.ApplyingChanges then
			f48_arg0.CurrentSelectedOption = f48_local0.selectedOptionIndex - 1
		end
		assert( f48_arg0.ButtonDescriptionText )
		assert( f48_arg0.OptionName )
		assert( f48_arg0.ImagePreview )
		if f48_arg1.buttonName then
			f48_arg0.OptionName:SetAlpha( 1 )
			f48_arg0.OptionName:setText( ToUpperCase( f48_arg1.buttonName ) )
		end
		OPTIONS.Menu.UpdateDescription( f22_arg0, f48_arg0.ButtonDescriptionText.Description, f48_arg1 )
		OPTIONS.Menu.UpdateVramEffect( f48_arg0.VramEffect, f48_arg1.vramEffect )
		OPTIONS.Menu.UpdateModeEffect( f48_arg0.ModeEffect, f48_arg1.modeEffect )
		OPTIONS.Menu.UpdateImagePreview( f48_arg0, f48_arg0.ImagePreview, f48_arg1.image )
		if (f48_arg1.vramEffect or f48_arg1.modeEffect) and (not f48_arg1.image or f48_arg1.image == "") and f48_arg0.effectAnimation ~= "SettingEffectNoImage" then
			ACTIONS.AnimateSequence( f48_arg0, "SettingEffectNoImage" )
			f48_arg0.effectAnimation = "SettingEffectNoImage"
		elseif (f48_arg1.vramEffect or f48_arg1.modeEffect) and f48_arg1.image and f48_arg1.image ~= "" and f48_arg0.effectAnimation ~= "SettingEffectWithImage" then
			ACTIONS.AnimateSequence( f48_arg0, "SettingEffectWithImage" )
			f48_arg0.effectAnimation = "SettingEffectWithImage"
		elseif not f48_arg1.vramEffect and not f48_arg1.modeEffect and (not f48_arg1.image or f48_arg1.image == "") and f48_arg0.effectAnimation ~= "HideImagePreview" then
			ACTIONS.AnimateSequence( f48_arg0, "HideImagePreview" )
			f48_arg0.effectAnimation = "HideImagePreview"
		elseif not f48_arg1.vramEffect and not f48_arg1.modeEffect and f48_arg1.image and f48_arg1.image ~= "" and f48_arg0.effectAnimation ~= "ShowImagePreview" then
			ACTIONS.AnimateSequence( f48_arg0, "ShowImagePreview" )
			f48_arg0.effectAnimation = "ShowImagePreview"
		else
			f48_arg0.effectAnimation = ""
		end
		OPTIONS.UpdateResetButtonVisibility( f48_arg0, f48_arg1 )
		if f48_arg1.relatedSettings and CONDITIONS.RelatedSettingEnabled() then
			if f48_arg1.type == "keyBinding" then
				local f48_local1 = f48_arg0.DummyRelatedSettings
				if f48_local1 then
					f48_local1 = f48_arg0.DummyRelatedSettings:GetCurrentAnchorsAndPositions()
				end
				f22_arg0( f48_arg0, f22_arg0, true, f48_local1 )
				f48_arg0.RelatedSettings:UpdateRelatedSettings( f22_arg0, f48_arg1.relatedSettings, f48_arg0.optionsList )
				f48_arg0.RelatedHoldPrompt = f48_arg0.RelatedSettings.EditPrompt
				f48_arg0.RelatedPromptKBM = f48_arg0.RelatedSettings.EditPromptKBM
				f22_arg0( f48_arg0, f22_arg0, false )
			else
				local f48_local1 = f48_arg0.DummyRelatedKeybinds
				if f48_local1 then
					f48_local1 = f48_arg0.DummyRelatedKeybinds:GetCurrentAnchorsAndPositions()
				end
				f22_arg0( f48_arg0, f22_arg0, true, f48_local1 )
				f48_arg0.RelatedKeybinds:UpdateRelatedKeybinds( f22_arg0, f48_arg1.relatedSettings, f48_arg0.optionsList )
				f48_arg0.RelatedHoldPrompt = f48_arg0.RelatedKeybinds.EditPrompt
				f48_arg0.RelatedPromptKBM = f48_arg0.RelatedKeybinds.EditPromptKBM
				f22_arg0( f48_arg0, f22_arg0, false )
			end
		else
			f22_arg0( f48_arg0, f22_arg0, false )
			f22_arg0( f48_arg0, f22_arg0, false )
			f48_arg0.RelatedHoldPrompt = nil
			f48_arg0.ButtonHelperBar.ButtonHelperText:PopButtonPrompt( {
				button_ref = "button_start"
			} )
			if f48_arg0.RelatedSettings then
				f48_arg0.RelatedSettings:ResetPromptAddedBool()
			end
			if f48_arg0.RelatedKeybinds then
				f48_arg0.RelatedKeybinds:ResetPromptAddedBool()
			end
		end
	end )
	f22_arg0:addEventHandler( "add_modified_option", function ( f47_arg0, f47_arg1 )
		for f47_local5, f47_local6 in ipairs( f22_arg0.modifiedOptions ) do
			local f47_local4 = f47_arg1.target.id
			if f47_local4 == "Dropdown" then
				local f47_local3 = f47_arg1.target:getParent()
				if f47_local3 and f47_local3.id then
					f47_local4 = f47_local3.id
				end
			end
			if f47_local6.id == f47_local4 then
				if f47_arg1.currentValue == f47_arg1.target.initialValue then
					table.remove( f22_arg0.modifiedOptions, f47_local5 )
					f22_arg0( f47_arg0, f22_arg0 )
				end
				return 
			end
		end
		if f47_arg1.currentValue ~= f47_arg1.target.initialValue then
			table.insert( f22_arg0.modifiedOptions, f47_arg1.target.id and f47_arg1.target:getParent() or f47_arg1.target )
			f22_arg0( f47_arg0, f22_arg0 )
		end
	end )
	f22_arg0.modifiedOptions = {}
	f22_arg0.SetupTabs = f0_local0
	f22_arg0.optionsList = OPTIONS.InitOptionsList( f22_arg0, f22_arg1 )
	OPTIONS.InitKeybindOptionsList( f22_arg0, f22_arg1, f22_arg0.optionsList, CSV.keyBindingsOptions )
	OPTIONS.InitKeybindOptionsList( f22_arg0, f22_arg1, f22_arg0.optionsList, CSV.codCasterBindings )
	f22_arg0.OptionWindow:registerEventHandler( "subcategory_changed", function ( element, event )
		f22_arg0.OptionWindow:UpdateOptions( f22_arg0, event.createOptions, f22_arg0.optionsList )
	end )
	OPTIONS.Menu.RegisterCreateOrDestroyedWidgets( f22_arg0, f22_arg1 )
	f22_arg0:registerEventHandler( "lose_focus", function ( element, event )
		if LUI.IsLastInputGamepad( f22_arg0 ) then
			element:dispatchEventToChildren( {
				name = "remove_overlays"
			} )
		end
		return true
	end )
	f22_arg0:addEventHandler( "menu_create", function ( f44_arg0, f44_arg1 )
		f44_arg0:SetupTabs( f44_arg1.controller, f22_arg0.accessibilitySettings == true )
		f22_arg0( f22_arg0, f22_arg0 )
	end )
	f22_arg0:addAndCallEventHandler( "onVideoChange", function ( f43_arg0, f43_arg1 )
		f22_arg0( f43_arg0, f22_arg0 )
	end )
	f22_arg0:addEventHandler( "onImportSettings", function ( f42_arg0, f42_arg1 )
		f22_arg0( f42_arg0, f22_arg0 )
	end )
	f22_arg0:addEventHandler( "subcategory_option_selected", function ( f41_arg0, f41_arg1 )
		f22_arg0.OptionWindow:RefreshCurrentOptions()
	end )
	OPTIONS.Menu.BuildKeybindBanner( f22_arg0, f22_arg1 )
	local f22_local0 = function ( f40_arg0 )
		f40_arg0.MenuTitle:SetTitle( ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/ACCESSIBILITY_SETTINGS_ONLY" ) ) )
		f40_arg0.ButtonHelperBar.ButtonHelperText:PopButtonPrompt( {
			button_ref = "button_l3"
		} )
		f22_arg0.accessibilitySettings = true
		if not f22_arg0 then
			METRICS.RecordAccessibilityMenuOpeningFlow( f22_arg0, f22_arg0.hasUsedShortcut == true, f22_arg0.fromAction == true )
			f22_arg0 = true
		end
	end
	
	local f22_local1 = function ( f38_arg0 )
		f38_arg0.MenuTitle:SetTitle( ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/OPTIONS" ) ) )
		f38_arg0.ButtonHelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "left",
			button_ref = "button_l3",
			priority = 5,
			helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/ACCESSIBILITY" )
		} )
		f38_arg0.bindButton:registerEventHandler( "button_left_stick", function ( element, event )
			if not f38_arg0.accessibilitySettings then
				local f39_local0 = element:GetCurrentMenu()
				if f39_local0 then
					f39_local0:SetupTabs( event.controller, true, true )
					f38_arg0( f39_local0 )
					Engine[0xC4146BA76D0F982]( CoD.SFX.SelectNewScreen )
				end
			end
		end )
		f22_arg0.accessibilitySettings = false
		if not f22_arg0 then
			METRICS.RecordOptionsMenuOpeningFlow( f22_arg0, f22_arg0.hasUsedShortcut == true )
			f22_arg0 = true
		end
	end
	
	if f22_arg2.accessibilitySettings then
		f22_local0( f22_arg0 )
	else
		f22_local1( f22_arg0 )
	end
	f22_arg0.bindButton:registerEventHandler( "button_secondary", function ( element, event )
		local f37_local0 = event.controller or f22_arg0
		local f37_local1 = LUI.FlowManager.GetScopedData( f22_arg0 )
		if f37_local1._redirectBindButtonEventTarget and f37_local1._redirectBindButtonEventTarget:processEvent( event ) then
			return true
		elseif not f22_arg0.fromAction and f22_arg0.accessibilitySettings then
			local f37_local2 = element:GetCurrentMenu()
			if f37_local2 then
				f37_local2:SetupTabs( event.controller, false, true )
				f22_arg0( f37_local2 )
				Engine[0xC4146BA76D0F982]( CoD.SFX.SelectBack )
			end
		else
			f22_arg0 = false
			f22_arg0 = false
			f22_arg0:HandleFlowRequest( f37_local0, f22_arg0.leave )
			if f22_arg0.hasUsedShortcut and CONDITIONS.IsThirdGameMode() and not Engine[0x12586A3F4FB490E]() then
				LUI.FlowManager.RequestLeaveMenuByName( "CPPauseMenu" )
				ACTIONS.ResumeGame( f22_arg0 )
			end
		end
		return true
	end )
	f22_arg0.bindButton:addEventHandler( "button_right_stick", function ( f36_arg0, f36_arg1 )
		ACTIONS.ResetOptionTab( f22_arg0, f36_arg0, f36_arg1.controller or f22_arg0 )
	end )
	f22_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		if event.down and event.qualifier == "keyboard" and event.button == "quick_options" then
			element:HandleFlowRequest( f22_arg0, f22_arg0.leave )
			return true
		end
		local f35_local0 = event.controller or f22_arg0
		if (event.button == "shoulderr" or event.button == "shoulderl") and event.qualifier == "gamepad" then
			element:processEvent( {
				name = "gain_focus",
				controller = event.controller
			} )
			element:processEvent( {
				name = "lose_focus",
				controller = event.controller
			} )
		end
		if event.button == "alt2" then
			if event.down and OPTIONS.Menu.HandleResetButtonPressed( element, event.controller ) then
				return true
			end
		elseif event.button == "menu_action7" then
			if 0 < #f22_arg0.modifiedOptions then
				ACTIONS.ApplyOptionTab( f22_arg0, element, f22_arg0 )
				return true
			elseif LUI.IsLastInputKeyboardMouse( event.controller ) and f22_arg0.RelatedPromptKBM then
				f22_arg0( element, event.controller )
				return true
			end
		elseif event.button == "alt1" then
			if LUI.IsLastInputGamepad( event.controller ) then
				if event.down and f22_arg0.RelatedHoldPrompt then
					f22_arg0.RelatedHoldPrompt:StartHold()
					return true
				elseif f22_arg0.RelatedHoldPrompt then
					f22_arg0.RelatedHoldPrompt:EndHold( true, event )
					return true
				end
			end
		elseif event.button == "start" and 0 < #f22_arg0.modifiedOptions then
			if not Engine[0x12586A3F4FB490E]() then
				f22_arg0:HandleFlowRequest( f22_arg0, f22_arg0.dismiss, true )
			end
			return true
		end
		return false
	end )
	f22_arg0:registerEventHandler( "perform_hold_action", function ( element, event )
		f22_arg0( f22_arg0, f22_arg0 )
	end )
	f22_arg0:registerEventHandler( "perform_press_action", function ( element, event )
		if element.OptionWindow and element.OptionWindow.options and element.CurrentSelectedOption then
			local f33_local0 = element.OptionWindow.options[element.CurrentSelectedOption + 1]
			if f33_local0 then
				f33_local0:processEvent( {
					name = "toggle_expander"
				} )
			end
		end
	end )
	local f22_local2 = f0_local0.leave
	f22_arg0:addEventHandler( "closing_quick_access_menu", function ( f32_arg0, f32_arg1 )
		f32_arg0:HandleFlowRequest( f22_arg0, f22_arg0 )
	end )
	local f22_local3 = f0_local0.dismiss
	f22_arg0:addEventHandler( "gamepad_button", function ( f31_arg0, f31_arg1 )
		if f31_arg1.down and f31_arg1.button == "dismiss_pause_menu" and not Engine[0x12586A3F4FB490E]() then
			f31_arg0:HandleFlowRequest( f22_arg0, f22_arg0, true )
			return true
		else
			
		end
	end )
	f22_arg0:registerEventHandler( "redirect_button_event_to_target", function ( element, event )
		local f30_local0 = LUI.FlowManager.GetScopedData( element )
		f30_local0._redirectBindButtonEventTarget = event.target
	end )
	f22_arg0:addEventHandler( "menu_close", function ( f29_arg0, f29_arg1 )
		Engine[0x7C75E608EA39B5C]( "updategamerprofile " .. f29_arg1.controller )
		f22_arg0( f29_arg0, false )
		for f29_local3, f29_local4 in pairs( f22_arg0._soundsIds ) do
			Engine[0xC738A7A46EDBB34]( f29_local4 )
		end
		f22_arg0._soundsIds = {}
	end )
	f22_arg0.RefreshDependency = OPTIONS.Menu.RefreshDependency
	f22_arg0.RefreshPresets = f0_local0
	f22_arg0:addEventHandler( "options_window_refresh", function ( f28_arg0, f28_arg1 )
		f28_arg0:dispatchEventToChildren( {
			name = "refresh",
			invalidBinding = f28_arg1.invalidBinding
		} )
		f28_arg0:dispatchEventToChildren( {
			name = "refresh_values",
			controller = f28_arg1.controller
		} )
	end )
	f22_arg0.restoreState = function ( f27_arg0, f27_arg1, f27_arg2, f27_arg3 )
		if not LUI.IsLastInputMouseNavigation( f27_arg2 ) then
			f27_arg0:processEvent( {
				name = "gain_focus",
				controller = f27_arg2
			} )
			f27_arg0:processEvent( {
				name = "lose_focus",
				controller = f27_arg2
			} )
			return true, 1
		else
			return LUI.UIElement.restoreState( f27_arg0, f27_arg1, f27_arg2, f27_arg3 )
		end
	end
	
	f22_arg0.ResetTabOptions = f0_local0
	f22_arg0.HandleResetButtonPressed = OPTIONS.Menu.HandleResetButtonPressed
	f22_arg0.HandleApplyButtonPressed = f0_local0
	if not Engine[0x74423E76DECE3E4]() then
		local f22_local4 = Lobby[0xD83EDB9C9B5C88E]()
		if f22_local4 then
			local f22_local5 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/YOURNATTYPE", f22_local4 )
			if f22_arg0.Nat then
				f22_arg0.Nat:setText( f22_local5 )
				if Engine[0x86A306B38FE651]() then
					f22_arg0.Nat:SetRGBFromTable( COLORS.white )
				end
			end
		end
	end
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f22_arg0, "AR" )
	end
	f22_arg0:addEventHandler( "update_input_type", function ( f26_arg0, f26_arg1 )
		if LUI.IsLastInputGamepad( f26_arg1.controllerIndex ) then
			ACTIONS.AnimateSequence( f26_arg0, "Gamepad" )
		else
			OPTIONS.Menu.CreateOrDestroyButtonLayoutOptionsMenu( f26_arg0, f26_arg1.controllerIndex, false )
			ACTIONS.AnimateSequence( f26_arg0, "KBM" )
		end
		f22_arg0( f26_arg0, f26_arg1.controllerIndex )
	end )
	if Engine[0x12586A3F4FB490E]() then
		f22_arg0.bindButton:registerEventHandler( "button_right_trigger", function ( element, event )
			if not (not f22_arg0.PromptContainerMP or f22_arg0.tabId ~= "audio") or f22_arg0.tabId == "accessibilityAudio" then
				Engine[0xC4146BA76D0F982]( CoD.SFX.OtherAdjust )
				OPTIONS.Menu.HandlePlayPrompt( f22_arg0, event.controller, CoD.PlayMode.Core )
			end
		end )
		f22_arg0.bindButton:registerEventHandler( "button_left_trigger", function ( element, event )
			if not (not f22_arg0.PromptContainerSP or f22_arg0.tabId ~= "audio") or f22_arg0.tabId == "accessibilityAudio" then
				Engine[0xC4146BA76D0F982]( CoD.SFX.OtherAdjust )
				OPTIONS.Menu.HandlePlayPrompt( f22_arg0, event.controller, CoD.PlayMode.SP )
			end
		end )
	end
	f22_arg0:addEventHandler( "buttonLayout_triggerUpdate", function ( f23_arg0, f23_arg1 )
		f22_arg0( f23_arg0, f23_arg1.controller, f23_arg1.resetFlip )
	end )
	if LUI.IsLastInputGamepad( f22_arg1 ) then
		ACTIONS.AnimateSequence( f22_arg0, "GamepadSnap" )
	else
		ACTIONS.AnimateSequence( f22_arg0, "KBMSnap" )
	end
	f22_arg0._fetchTimerHolder = LUI.UIElement.new()
	f22_arg0:addElement( f22_arg0._fetchTimerHolder )
	f22_arg0._fetchTimerHolder.count = 0
	if Engine[0x8D175F4CE7F7F1B]() then
		f22_arg0.GetEnforcement = f0_local0
		if not Regulations[0x66ECDB14E0062F3]( f22_arg1 ) then
			Regulations[0xAC33BFABA10656B]( f22_arg1 )
			f22_arg0:GetEnforcement( f22_arg1 )
		end
	end
	if Engine[0x12586A3F4FB490E]() and CONDITIONS.IsGLFrontendEnabled( f22_arg0 ) then
		Engine[0xFCF332AA8AC9B0F]( "mp_lobby", VideoPlaybackFlags.LOOP )
	end
	if CONDITIONS.InFrontend() or CONDITIONS.InGameMP() then
		SEQUENCEPRESETS.RegisterAnimation( f22_arg0, LUI.Transition.TransTo, "InDepthForward", 0 )
		SEQUENCEPRESETS.RegisterAnimation( f22_arg0, LUI.Transition.TransBackFrom, "OutDepthBack", 0 )
	end
	if Engine[0xFB1B6E36ABE59B8]() then
		ACTIONS.AnimateSequence( f22_arg0, "SafeAreaAdjustment" )
	end
end

function OptionsMenuNewLayout( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "OptionsMenuNewLayout"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	f0_local0( self, f1_local1, controller )
	local f1_local2 = self
	self.DummyTextureDownloadLimit = {
		rightAnchor = 1,
		bottomAnchor = 1,
		topAnchor = 0,
		leftAnchor = 0,
		left = _1080p * 995,
		right = _1080p * 1759,
		top = _1080p * 430,
		bottom = _1080p * 830
	}
	local DummyRelatedKeybinds = nil
	
	DummyRelatedKeybinds = LUI.UIElement.new()
	DummyRelatedKeybinds.id = "DummyRelatedKeybinds"
	DummyRelatedKeybinds:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 990, _1080p * 1578, _1080p * 890, _1080p * 966 )
	self:addElement( DummyRelatedKeybinds )
	self.DummyRelatedKeybinds = DummyRelatedKeybinds
	
	local DummyRelatedSettings = nil
	
	DummyRelatedSettings = LUI.UIElement.new()
	DummyRelatedSettings.id = "DummyRelatedSettings"
	DummyRelatedSettings:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 998, _1080p * 1578, _1080p * 760, _1080p * 930 )
	self:addElement( DummyRelatedSettings )
	self.DummyRelatedSettings = DummyRelatedSettings
	
	local DummyAudioMix = nil
	
	DummyAudioMix = LUI.UIElement.new()
	DummyAudioMix.id = "DummyAudioMix"
	DummyAudioMix:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 998, _1080p * 1790, _1080p * 297, _1080p * 840 )
	self:addElement( DummyAudioMix )
	self.DummyAudioMix = DummyAudioMix
	
	local DummyButtonLayout = nil
	
	DummyButtonLayout = LUI.UIElement.new()
	DummyButtonLayout.id = "DummyButtonLayout"
	DummyButtonLayout:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 38, _1080p * 830, _1080p * -190, _1080p * 334 )
	self:addElement( DummyButtonLayout )
	self.DummyButtonLayout = DummyButtonLayout
	
	local DummyStickLayout = nil
	
	DummyStickLayout = LUI.UIElement.new()
	DummyStickLayout.id = "DummyStickLayout"
	DummyStickLayout:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 38, _1080p * 830, _1080p * -190, _1080p * 334 )
	self:addElement( DummyStickLayout )
	self.DummyStickLayout = DummyStickLayout
	
	local f1_local8 = nil
	if CONDITIONS.IsGLFrontendEnabled() then
		f1_local8 = MenuBuilder.BuildRegisteredType( "Cinematic", {
			controllerIndex = f1_local1
		} )
		f1_local8.id = "Cinematic"
		self:addElement( f1_local8 )
		self.Cinematic = f1_local8
	end
	local SecondaryTabBacker = nil
	
	SecondaryTabBacker = LUI.UIImage.new()
	SecondaryTabBacker.id = "SecondaryTabBacker"
	ACTIONS.ScaleStretchAnchorFullscreen( SecondaryTabBacker )
	SecondaryTabBacker:SetRGBFromTable( SWATCHES.tabManager.tabFrame, 0 )
	SecondaryTabBacker:SetAlpha( 0, 0 )
	SecondaryTabBacker:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 160, _1080p * 200 )
	self:addElement( SecondaryTabBacker )
	self.SecondaryTabBacker = SecondaryTabBacker
	
	local TabBacker = nil
	
	TabBacker = LUI.UIImage.new()
	TabBacker.id = "TabBacker"
	ACTIONS.ScaleStretchAnchorFullscreen( TabBacker )
	TabBacker:SetRGBFromInt( 0, 0 )
	TabBacker:SetAlpha( 0, 0 )
	TabBacker:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 160 )
	self:addElement( TabBacker )
	self.TabBacker = TabBacker
	
	local ButtonHelperBar = nil
	
	ButtonHelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	ButtonHelperBar.id = "ButtonHelperBar"
	ButtonHelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	self:addElement( ButtonHelperBar )
	self.ButtonHelperBar = ButtonHelperBar
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:SetAlpha( 0.15, 0 )
	MenuTitle.MenuTitle:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/OPTIONS" ) ), 0 )
	MenuTitle.Line:SetLeft( 0, 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1020, 0, _1080p * 100 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local OptionsKeyBindingBanner = nil
	
	OptionsKeyBindingBanner = MenuBuilder.BuildRegisteredType( "OptionsKeyBindingBanner", {
		controllerIndex = f1_local1
	} )
	OptionsKeyBindingBanner.id = "OptionsKeyBindingBanner"
	OptionsKeyBindingBanner:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, _1080p * 936, _1080p * 996 )
	self:addElement( OptionsKeyBindingBanner )
	self.OptionsKeyBindingBanner = OptionsKeyBindingBanner
	
	local OptionWindow = nil
	
	OptionWindow = MenuBuilder.BuildRegisteredType( "OptionWindow", {
		controllerIndex = f1_local1
	} )
	OptionWindow.id = "OptionWindow"
	OptionWindow:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 929, _1080p * 239, _1080p * 905 )
	self:addElement( OptionWindow )
	self.OptionWindow = OptionWindow
	
	local DescriptionBackground = nil
	
	DescriptionBackground = LUI.UIImage.new()
	DescriptionBackground.id = "DescriptionBackground"
	DescriptionBackground:SetRGBFromInt( 0, 0 )
	DescriptionBackground:SetAlpha( 0, 0 )
	DescriptionBackground:setImage( RegisterMaterial( "widg_gradient_top_to_bottom" ), 0 )
	DescriptionBackground:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 988, _1080p * 1628, _1080p * 240, _1080p * 906 )
	self:addElement( DescriptionBackground )
	self.DescriptionBackground = DescriptionBackground
	
	local ImagePreview = nil
	
	ImagePreview = LUI.UIImage.new()
	ImagePreview.id = "ImagePreview"
	ImagePreview:SetAlpha( 0, 0 )
	ImagePreview:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 998, _1080p * 1790, _1080p * 297, _1080p * 613 )
	self:addElement( ImagePreview )
	self.ImagePreview = ImagePreview
	
	local OptionName = nil
	
	OptionName = LUI.UIText.new()
	OptionName.id = "OptionName"
	OptionName:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	OptionName:setText( ToUpperCase( "" ), 0 )
	OptionName:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_LHeaderBold.font.File ) )
	OptionName:SetFontSize( FONT_STYLES.fontStyle_LHeaderBold.size )
	OptionName:SetMinFontSize( FONT_STYLES.fontStyle_LHeaderBold.minSize )
	OptionName:SetWordWrap( false )
	OptionName:SetAlignment( LUI.Alignment.Left )
	OptionName:SetVerticalAlignment( LUI.Alignment.Center )
	OptionName:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 995, _1080p * 1795, _1080p * 225, _1080p * 290 )
	self:addElement( OptionName )
	self.OptionName = OptionName
	
	local ButtonDescriptionText = nil
	
	ButtonDescriptionText = MenuBuilder.BuildRegisteredType( "ButtonOptionsDescriptionText", {
		controllerIndex = f1_local1
	} )
	ButtonDescriptionText.id = "ButtonDescriptionText"
	ButtonDescriptionText.Description:SetRight( 0, 0 )
	ButtonDescriptionText.Description:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	ButtonDescriptionText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 998, _1080p * 1790, _1080p * 739, _1080p * 936 )
	self:addElement( ButtonDescriptionText )
	self.ButtonDescriptionText = ButtonDescriptionText
	
	local Tabs = nil
	
	Tabs = LUI.TabManager.new( {
		spacing = 4,
		wrap = true,
		tabHeight = _1080p * 45,
		buildTab = function ()
			return MenuBuilder.BuildRegisteredType( "SubMenuTab", {
				controllerIndex = menu
			} )
		end,
		controllerIndex = f1_local1
	} )
	Tabs.id = "Tabs"
	Tabs:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 1356, _1080p * 100, _1080p * 148 )
	self:addElement( Tabs )
	self.Tabs = Tabs
	
	local ModeEffect = nil
	
	ModeEffect = MenuBuilder.BuildRegisteredType( "SettingEffect", {
		controllerIndex = f1_local1
	} )
	ModeEffect.id = "ModeEffect"
	ModeEffect:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 998, _1080p * 1238, _1080p * 300, _1080p * 330 )
	self:addElement( ModeEffect )
	self.ModeEffect = ModeEffect
	
	local VramEffect = nil
	
	VramEffect = MenuBuilder.BuildRegisteredType( "SettingEffect", {
		controllerIndex = f1_local1
	} )
	VramEffect.id = "VramEffect"
	VramEffect:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 998, _1080p * 1238, _1080p * 300, _1080p * 330 )
	self:addElement( VramEffect )
	self.VramEffect = VramEffect
	
	local Nat = nil
	
	Nat = LUI.UIText.new()
	Nat.id = "Nat"
	Nat:SetRGBFromTable( SWATCHES.Tournament.teamNeutral, 0 )
	Nat:setText( "", 0 )
	Nat:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	Nat:SetFontSize( 20 * _PT )
	Nat:SetMinFontSize( 16 * _PT )
	Nat:SetWordWrap( true )
	Nat:SetAlignment( LUI.Alignment.Left )
	Nat:SetOptOutRightToLeftAlignmentFlip( true )
	Nat:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 113, _1080p * 364, _1080p * -79, _1080p * -64 )
	self:addElement( Nat )
	self.Nat = Nat
	
	local f1_local23 = nil
	if Engine[0x575E9C5B9AAB6F4]() then
		f1_local23 = MenuBuilder.BuildRegisteredType( "OptionsGraphicsSliderBar", {
			controllerIndex = f1_local1
		} )
		f1_local23.id = "OptionsGraphicsSliderBar"
		f1_local23:SetAlpha( 0, 0 )
		f1_local23:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 998, _1080p * 1790, _1080p * 849, _1080p * 921 )
		self:addElement( f1_local23 )
		self.OptionsGraphicsSliderBar = f1_local23
	end
	local LockedOptions = nil
	
	LockedOptions = MenuBuilder.BuildRegisteredType( "LockedOptions", {
		controllerIndex = f1_local1
	} )
	LockedOptions.id = "LockedOptions"
	LockedOptions:SetAlpha( 0, 0 )
	LockedOptions:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, _1080p * 216, _1080p * 979 )
	self:addElement( LockedOptions )
	self.LockedOptions = LockedOptions
	
	local f1_local25 = nil
	if CONDITIONS.InGameMP() then
		f1_local25 = MenuBuilder.BuildRegisteredType( "InGameMenuTimerStatus", {
			controllerIndex = f1_local1
		} )
		f1_local25.id = "InGameMenuTimerStatus"
		f1_local25:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 820, _1080p * 1220, _1080p * 54, _1080p * 104 )
		self:addElement( f1_local25 )
		self.InGameMenuTimerStatus = f1_local25
	end
	local f1_local26 = nil
	if CONDITIONS.InFrontendMPOrCP() then
		f1_local26 = MenuBuilder.BuildRegisteredType( "LobbyMembersFooter", {
			controllerIndex = f1_local1
		} )
		f1_local26.id = "LobbyMembersFooter"
		f1_local26:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 150 )
		self:addElement( f1_local26 )
		self.LobbyMembersFooter = f1_local26
	end
	local PromptContainerMP = nil
	PromptContainerMP = MenuBuilder.BuildRegisteredType( "ButtonPromptContainer", {
		controllerIndex = f1_local1
	} )
	PromptContainerMP.id = "PromptContainerMP"
	if CONDITIONS.AlwaysFalse() then
		PromptContainerMP.Label:setText( "ButtonPrompt", 0 )
	end
	if CONDITIONS.AlwaysFalse() then
		PromptContainerMP.Label:SetAlignment( LUI.Alignment.Center )
	end
	PromptContainerMP:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 510, _1080p * 920, _1080p * 186, _1080p * 216 )
	self:addElement( PromptContainerMP )
	self.PromptContainerMP = PromptContainerMP
	
	local PromptContainerSP = nil
	PromptContainerSP = MenuBuilder.BuildRegisteredType( "ButtonPromptContainer", {
		controllerIndex = f1_local1
	} )
	PromptContainerSP.id = "PromptContainerSP"
	if CONDITIONS.AlwaysFalse() then
		PromptContainerSP.Label:setText( "ButtonPrompt", 0 )
	end
	if CONDITIONS.AlwaysFalse() then
		PromptContainerSP.Label:SetAlignment( LUI.Alignment.Center )
	end
	PromptContainerSP:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 100, _1080p * 510, _1080p * 186, _1080p * 216 )
	self:addElement( PromptContainerSP )
	self.PromptContainerSP = PromptContainerSP
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local29 = nil
	ButtonHelperBar:RegisterAnimationSequence( "FullScreenState", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Left
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1920
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 995
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 1080
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Left_Anchor
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Right_Anchor
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Top_Anchor
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Bottom_Anchor
		}
	} )
	self._sequences.FullScreenState = function ()
		menu:AnimateSequence( "FullScreenState" )
	end
	
	self._sequenceLengths.FullScreenState = 0
	local f1_local30 = nil
	OptionsKeyBindingBanner:RegisterAnimationSequence( "SplitScreenState", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 506
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 566
		}
	} )
	ImagePreview:RegisterAnimationSequence( "SplitScreenState", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	if CONDITIONS.InGameMP() then
		f1_local25:RegisterAnimationSequence( "SplitScreenState", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 760
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 1160
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 34
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 84
			}
		} )
	end
	self._sequences.SplitScreenState = function ()
		menu:AnimateSequence( "SplitScreenState" )
		menu:AnimateSequence( "SplitScreenState" )
		if CONDITIONS.InGameMP() then
			menu:AnimateSequence( "SplitScreenState" )
		end
	end
	
	self._sequenceLengths.SplitScreenState = 0
	local f1_local31 = nil
	ImagePreview:RegisterAnimationSequence( "HideImagePreview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.inOutQuadratic
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 450,
			easing = LUI.EASING.inOutQuadratic
		}
	} )
	ButtonDescriptionText:RegisterAnimationSequence( "HideImagePreview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 297
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 540
		}
	} )
	self._sequences.HideImagePreview = function ()
		menu:AnimateSequence( "HideImagePreview" )
		menu:AnimateSequence( "HideImagePreview" )
	end
	
	self._sequenceLengths.HideImagePreview = 0
	local f1_local32 = nil
	ImagePreview:RegisterAnimationSequence( "ShowImagePreview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 616,
			easing = LUI.EASING.inOutQuadratic
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.inOutQuadratic
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 995
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 300
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1787
		}
	} )
	ButtonDescriptionText:RegisterAnimationSequence( "ShowImagePreview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 632,
			easing = LUI.EASING.inOutQuadratic
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 875,
			easing = LUI.EASING.inOutQuadratic
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 995
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1787
		}
	} )
	self._sequences.ShowImagePreview = function ()
		menu:AnimateSequence( "ShowImagePreview" )
		menu:AnimateSequence( "ShowImagePreview" )
	end
	
	self._sequenceLengths.ShowImagePreview = 0
	local f1_local33 = nil
	ImagePreview:RegisterAnimationSequence( "InstantHideImagePreview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 450
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ButtonDescriptionText:RegisterAnimationSequence( "InstantHideImagePreview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 297,
			easing = LUI.EASING.inOutQuadratic
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 540,
			easing = LUI.EASING.inOutQuadratic
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.text.vTextOffWhite,
			child = self.ButtonDescriptionText.Description
		}
	} )
	self._sequences.InstantHideImagePreview = function ()
		menu:AnimateSequence( "InstantHideImagePreview" )
		menu:AnimateSequence( "InstantHideImagePreview" )
	end
	
	self._sequenceLengths.InstantHideImagePreview = 0
	local f1_local34 = nil
	OptionName:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1790
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text_Style_Horizontal_Alignment,
			value = LUI.Alignment.Right
		}
	} )
	ModeEffect:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 1550
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1790
		}
	} )
	VramEffect:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 1550
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1790
		}
	} )
	self._sequences.AR = function ()
		menu:AnimateSequence( "AR" )
		menu:SetOptOutRightToLeftAlignmentFlip( true )
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
	end
	
	self._sequenceLengths.AR = 0
	local f1_local35 = nil
	SecondaryTabBacker:RegisterAnimationSequence( "ShowSecondaryTabs", {
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.inOutQuadratic
		},
		{
			duration = 150,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 217,
			easing = LUI.EASING.inOutQuadratic
		}
	} )
	self._sequences.ShowSecondaryTabs = function ()
		menu:AnimateSequence( "ShowSecondaryTabs" )
	end
	
	self._sequenceLengths.ShowSecondaryTabs = 150
	local f1_local36 = nil
	SecondaryTabBacker:RegisterAnimationSequence( "HideSecondaryTabs", {
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 200
		}
	} )
	self._sequences.HideSecondaryTabs = function ()
		menu:AnimateSequence( "HideSecondaryTabs" )
	end
	
	self._sequenceLengths.HideSecondaryTabs = 100
	local f1_local37 = nil
	Tabs:RegisterAnimationSequence( "KBM", {
		{
			duration = -28,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 55
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1315
		}
	} )
	self._sequences.KBM = function ()
		menu:AnimateSequence( "KBM" )
	end
	
	self._sequenceLengths.KBM = 100
	local f1_local38 = nil
	Tabs:RegisterAnimationSequence( "Gamepad", {
		{
			duration = -28,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1356
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 96
		}
	} )
	self._sequences.Gamepad = function ()
		menu:AnimateSequence( "Gamepad" )
	end
	
	self._sequenceLengths.Gamepad = 100
	self._sequences.GamepadSnap = function ()
		
	end
	
	self._sequenceLengths.GamepadSnap = 0
	local f1_local39 = nil
	Tabs:RegisterAnimationSequence( "KBMSnap", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 55
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1315
		}
	} )
	self._sequences.KBMSnap = function ()
		menu:AnimateSequence( "KBMSnap" )
	end
	
	self._sequenceLengths.KBMSnap = 0
	local f1_local40 = nil
	ButtonDescriptionText:RegisterAnimationSequence( "SettingEffectNoImage", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 347
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 590
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1788
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 995
		}
	} )
	ModeEffect:RegisterAnimationSequence( "SettingEffectNoImage", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 330
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 300
		}
	} )
	VramEffect:RegisterAnimationSequence( "SettingEffectNoImage", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 330
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 300
		}
	} )
	self._sequences.SettingEffectNoImage = function ()
		menu:AnimateSequence( "SettingEffectNoImage" )
		menu:AnimateSequence( "SettingEffectNoImage" )
		menu:AnimateSequence( "SettingEffectNoImage" )
	end
	
	self._sequenceLengths.SettingEffectNoImage = 0
	local f1_local41 = nil
	ImagePreview:RegisterAnimationSequence( "SettingEffectWithImage", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 613
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 297
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1790
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 998
		}
	} )
	ButtonDescriptionText:RegisterAnimationSequence( "SettingEffectWithImage", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 683
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 845
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 998
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1790
		}
	} )
	ModeEffect:RegisterAnimationSequence( "SettingEffectWithImage", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 636
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 666
		}
	} )
	VramEffect:RegisterAnimationSequence( "SettingEffectWithImage", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 636
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 666
		}
	} )
	self._sequences.SettingEffectWithImage = function ()
		menu:AnimateSequence( "SettingEffectWithImage" )
		menu:AnimateSequence( "SettingEffectWithImage" )
		menu:AnimateSequence( "SettingEffectWithImage" )
		menu:AnimateSequence( "SettingEffectWithImage" )
	end
	
	self._sequenceLengths.SettingEffectWithImage = 0
	local f1_local42 = nil
	OptionsKeyBindingBanner:RegisterAnimationSequence( "SafeAreaAdjustment", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 926
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 986
		}
	} )
	Nat:RegisterAnimationSequence( "SafeAreaAdjustment", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -133
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -118
		}
	} )
	self._sequences.SafeAreaAdjustment = function ()
		menu:AnimateSequence( "SafeAreaAdjustment" )
		menu:AnimateSequence( "SafeAreaAdjustment" )
	end
	
	self._sequenceLengths.SafeAreaAdjustment = 0
	self.addButtonHelperFunction = function ( f4_arg0, f4_arg1 )
		f4_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine[0xED84C33EC5F01EA]( "MENU/BACK" )
		} )
		f4_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_r3",
			priority = 3,
			helper_text = Engine[0xED84C33EC5F01EA]( "MENU/RESET_TAB_OPTION" )
		} )
	end
	
	self:addEventHandler( "menu_create", self.addButtonHelperFunction )
	if not self.bindButton then
		local f1_local43 = LUI.UIBindButton.new()
		f1_local43.id = "selfBindButton"
		self:addElement( f1_local43 )
		self.bindButton = f1_local43
	end
	self.bindButton:addEventHandler( "button_secondary", function ( f3_arg0, f3_arg1 )
		local f3_local0 = f3_arg1.controller or menu
		ACTIONS.LeaveMenu( menu, true )
	end )
	self:addEventHandler( "menu_create", function ( f2_arg0, f2_arg1 )
		local f2_local0 = f2_arg1.controller or menu
		if CONDITIONS.IsSplitscreen() then
			ACTIONS.AnimateSequence( menu, "SplitScreenState", menu )
		end
		if CONDITIONS.IsThirdGameMode() then
			ACTIONS.PlaySoundSetSound( menu, "cpSelectAlt", false )
		end
	end )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "OptionsMenuNewLayout", OptionsMenuNewLayout )
LockTable( _M )
