-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
module( ..., package.seeall )
local f0_local0 = function ( f6_arg0, f6_arg1 )
	local f6_local0 = ""
	for f6_local1 = 1, #f6_arg0, 1 do
		local f6_local4 = f6_arg0[f6_local1]
		local f6_local5 = StringTable.DIFCHIGDFB( CSV.gameTypesTable.file, CSV.gameTypesTable.cols.ref, f6_local4, CSV.gameTypesTable.cols.hideInUI )
		if 0 < #f6_local5 and f6_local5 ~= "1" then
			if f6_local0 ~= "" then
				f6_local0 = f6_local0 .. ", "
			end
			f6_local0 = f6_local0 .. Engine.CBBHFCGDIC( StringTable.DIFCHIGDFB( CSV.gameTypesTable.file, CSV.gameTypesTable.cols.ref, f6_local4, CSV.gameTypesTable.cols.name ) )
		end
	end
	return Engine.CBBHFCGDIC( "LUA_MENU_MP/MAP_DOES_NOT_SUPPORT_GAME_MODE", f6_arg1 )
end

local f0_local1 = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0:SubscribeToModelThroughElement( f3_arg0, "ref", function ()
		local f5_local0 = f3_arg0:GetDataSource()
		f5_local0 = f5_local0.ref:GetValue( f3_arg0 )
		local f5_local1 = f3_arg0:GetDataSource()
		f5_local1 = f5_local1.name:GetValue( f3_arg0 )
		local f5_local2 = f3_arg0:GetDataSource()
		if f5_local2.disabled:GetValue( f3_arg0 ) then
			local f5_local3 = f3_arg0:GetDataSource()
			f3_arg0.DisabledMessage:setText( f3_arg0( split( f5_local3.gameTypes:GetValue( f3_arg0 ), " " ), f5_local1 ) )
		else
			f3_arg0.DisabledMessage:setText( "" )
		end
		if f5_local1 ~= nil then
			f3_arg0.MapText:setText( f5_local1 )
		else
			f3_arg0.MapText:setText( "" )
		end
	end )
	assert( f3_arg0.Vignette )
	assert( f3_arg0.MapImage )
	f3_arg0:addAndCallEventHandler( "onVideoChange", function ()
		local f4_local0 = CoD.GetAspectRatioScaleAdjust( 0.25 )
		f3_arg0.Vignette:SetScale( f4_local0 )
		f3_arg0.MapImage:SetScale( f4_local0 )
		f3_arg0.Gradient:SetScale( f4_local0 )
	end )
	LAYOUT.AddAspectRatioFadeFrame( f3_arg0, f3_arg1 )
	local f3_local0 = LUI.FlowManager.GetScopedData( f3_arg0 )
	local f3_local1, f3_local2 = nil
	if f3_local0.isTournament then
		f3_local1 = f3_local0.matchmakerSettings.gameType
		f3_local2 = false
	else
		f3_local1 = DataSources.frontEnd.lobby.gameType:GetValue( f3_arg1 )
		f3_local2 = DataSources.frontEnd.lobby.isHardcoreGameType:GetValue( f3_arg1 )
	end
	f3_arg0.GameModeImage:setImage( RegisterMaterial( PRIVATE_MATCH.GetGameTypeImage( f3_local1, f3_local2, f3_arg1 ) ) )
	f3_arg0.GameModeText:setText( PRIVATE_MATCH.GetGameTypeName( f3_local1, f3_local2, f3_arg1 ) )
end

function MapDetails( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "MapDetails"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local MapImage = nil
	
	MapImage = LUI.UIImage.new()
	MapImage.id = "MapImage"
	MapImage:SubscribeToModelThroughElement( self, "image", function ()
		local f2_local0 = menu:GetDataSource()
		f2_local0 = f2_local0.image:GetValue( menu )
		if f2_local0 ~= nil then
			menu:setImage( RegisterMaterial( f2_local0 ), 0 )
		end
	end )
	self:addElement( MapImage )
	self.MapImage = MapImage
	
	local Gradient = nil
	
	Gradient = LUI.UIImage.new()
	Gradient.id = "Gradient"
	Gradient:SetRGBFromInt( 0, 0 )
	Gradient:SetAlpha( 0.75, 0 )
	Gradient:setImage( RegisterMaterial( "widg_gradient_left_to_right" ), 0 )
	Gradient:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 1386, _1080p * 1, 0 )
	self:addElement( Gradient )
	self.Gradient = Gradient
	
	local Vignette = nil
	
	Vignette = LUI.UIImage.new()
	Vignette.id = "Vignette"
	Vignette:setImage( RegisterMaterial( "menu_vignette_corner" ), 0 )
	self:addElement( Vignette )
	self.Vignette = Vignette
	
	local GameModeText = nil
	
	GameModeText = LUI.UIStyledText.new()
	GameModeText.id = "GameModeText"
	GameModeText:SetRGBFromTable( SWATCHES.genericMenu.mainTitle, 0 )
	GameModeText:setText( ToUpperCase( "" ), 0 )
	GameModeText:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	GameModeText:SetAlignment( LUI.Alignment.Left )
	GameModeText:SetVerticalAlignment( LUI.Alignment.Bottom )
	GameModeText:SetOptOutRightToLeftAlignmentFlip( true )
	GameModeText:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	GameModeText:SetStartupDelay( 1000 )
	GameModeText:SetLineHoldTime( 400 )
	GameModeText:SetAnimMoveTime( 2000 )
	GameModeText:SetAnimMoveSpeed( 150 )
	GameModeText:SetEndDelay( 1000 )
	GameModeText:SetCrossfadeTime( 1000 )
	GameModeText:SetFadeInTime( 300 )
	GameModeText:SetFadeOutTime( 300 )
	GameModeText:SetMaxVisibleLines( 2 )
	GameModeText:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 194, _1080p * 518, _1080p * -203, _1080p * -167 )
	self:addElement( GameModeText )
	self.GameModeText = GameModeText
	
	local MapText = nil
	
	MapText = LUI.UIText.new()
	MapText.id = "MapText"
	MapText:SetRGBFromTable( SWATCHES.AAR.AARdescription, 0 )
	MapText:setText( "", 0 )
	MapText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	MapText:SetAlignment( LUI.Alignment.Left )
	MapText:SetOptOutRightToLeftAlignmentFlip( true )
	MapText:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 194, _1080p * 548, _1080p * -171, _1080p * -143 )
	self:addElement( MapText )
	self.MapText = MapText
	
	local GameModeImage = nil
	
	GameModeImage = LUI.UIImage.new()
	GameModeImage.id = "GameModeImage"
	GameModeImage:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 110, _1080p * 186, _1080p * -207, _1080p * -131 )
	self:addElement( GameModeImage )
	self.GameModeImage = GameModeImage
	
	local DisabledMessage = nil
	
	DisabledMessage = LUI.UIStyledText.new()
	DisabledMessage.id = "DisabledMessage"
	DisabledMessage:SetRGBFromTable( SWATCHES.genericButton.textDisabled, 0 )
	DisabledMessage:setText( "", 0 )
	DisabledMessage:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	DisabledMessage:SetAlignment( LUI.Alignment.Left )
	DisabledMessage:SetOptOutRightToLeftAlignmentFlip( true )
	DisabledMessage:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	DisabledMessage:SetStartupDelay( 2000 )
	DisabledMessage:SetLineHoldTime( 2000 )
	DisabledMessage:SetAnimMoveTime( 150 )
	DisabledMessage:SetAnimMoveSpeed( 50 )
	DisabledMessage:SetEndDelay( 1000 )
	DisabledMessage:SetCrossfadeTime( 400 )
	DisabledMessage:SetFadeInTime( 300 )
	DisabledMessage:SetFadeOutTime( 300 )
	DisabledMessage:SetMaxVisibleLines( 3 )
	DisabledMessage:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 138, _1080p * 638, _1080p * 790, _1080p * 816 )
	self:addElement( DisabledMessage )
	self.DisabledMessage = DisabledMessage
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "MapDetails", MapDetails )
LockTable( _M )
