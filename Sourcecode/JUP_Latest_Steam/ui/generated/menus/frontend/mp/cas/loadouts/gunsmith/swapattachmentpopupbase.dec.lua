-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
module( ..., package.seeall )
local f0_local0 = 150
local f0_local1 = 410
local f0_local2 = function ( f17_arg0, f17_arg1, f17_arg2 )
	local f17_local0 = false
	for f17_local1 = 1, #f17_arg1, 1 do
		if f17_arg1[f17_local1].value ~= 0 then
			f17_local0 = true
			break
		end
	end
	local f17_local1 = ACTIONS.AnimateSequence
	local f17_local3 = f17_arg0
	local f17_local4
	if f17_local0 then
		f17_local4 = "Show"
	else
		f17_local4 = "Hide"
	end
	local f17_local5
	if f17_arg2 then
		f17_local5 = "SwapModifiers"
	else
		f17_local5 = "EquipModifiers"
	end
	f17_local1( f17_local3, f17_local4 .. f17_local5 )
end

local f0_local3 = function ( f16_arg0, f16_arg1, f16_arg2, f16_arg3, f16_arg4, f16_arg5, f16_arg6 )
	local f16_local0 = ATTACHMENT.GetTableWithCurrentAttachment( f16_arg5, f16_arg4, nil, f16_arg2, nil )
	local f16_local1 = WEAPON.GetWeaponModelName( f16_arg5.weapon, f16_local0, {
		showSWhiskeyMag = true,
		includeAttachments = true,
		keepAkimbo = true
	} )
	local f16_local2 = nil
	if f16_arg6 then
		if not ClientWeapon[0x75228338D174290]( f16_arg1, WEAPON.GetWeaponModelNameFromRef( f16_arg5.weapon ), false, true, true ) then
			return 
		end
		f16_local2 = ClientWeapon[0x75228338D174290]( f16_arg1, f16_local1, false, true, true )
	else
		f16_local2 = f16_arg0._weaponAttributes
	end
	if f16_local2 then
		local f16_local3 = GL_HACK.GetWeaponMPRef( f16_arg5.weapon )
		local f16_local4 = f16_local1
		local f16_local5 = {}
		GUNSMITH.SetupWeaponDefaultAttachmentDataForEquippedAttachment( f16_local5, f16_arg1, f16_local3, f16_local1, f16_local0.attachments, f16_arg3, f16_arg2, f16_local0 )
		local f16_local6 = f16_local5.weaponStringWithNewAttachment
		local f16_local7 = nil
		if not String.IsNilOrEmpty( f16_local6 ) then
			f16_local7 = ClientWeapon[0xFE24333F9BC2CAB]( f16_arg1, f16_local6, f16_arg3 )
			f16_local4 = f16_local6
		else
			f16_local7 = ClientWeapon[0xFE24333F9BC2CAB]( f16_arg1, f16_local1, f16_arg3 )
		end
		if not f16_local5.defaultAttachmentStats or not f16_local5.defaultModifierValues then
			f16_local5 = nil
		end
		if f16_arg6 then
			f16_arg0._weaponAttributes = {}
		end
		for f16_local13, f16_local14 in pairs( f16_local2 ) do
			local f16_local11 = f16_local7.tunedStats and f16_local7.tunedStats[f16_local13] or f16_local7.unTunedStats[f16_local13]
			if not f16_local11 or f16_local11 ~= f16_local11 then
				f16_local11 = 0
			end
			if f16_local5 and f16_local5.defaultAttachmentStats then
				local f16_local12 = f16_local5.defaultAttachmentStats
				if f16_local12[f16_local13] and f16_local12[f16_local13] == f16_local12[f16_local13] then
					f16_local11 = f16_local11 - f16_local12[f16_local13]
				end
			end
			if f16_arg6 then
				f16_arg0._weaponAttributes[f16_local13] = {
					total = f16_local14 - f16_local11,
					weapon = f16_local14 - f16_local11,
					attachment = f16_local11
				}
			else
				f16_local14.attachment = f16_local11
			end
		end
		if f16_arg6 then
			f16_arg0.StatsWithDetails.WeaponAttributes:Setup( f16_arg0._weaponAttributes, true, false )
		else
			f16_arg0.StatsWithDetails.WeaponAttributes:Update( f16_arg0._weaponAttributes )
		end
		if f16_arg3 == Enum[0x540F63FFAF44174][0x8BA9A9EF1FB673C] then
			f16_local8 = Engine[0x46EF358261F88]( f16_local1, f16_arg2 )
			if not f16_local8 then
			
			else
				f16_local9 = ClientWeapon[0xA41C97AC6ADDC24]( f16_arg1, f16_local4, f16_local8 )
				if f16_local9 then
					if f16_local5 then
						GUNSMITH.ApplyDefaultModifierAdjustments( f16_local5.defaultModifierValues, f16_local9 )
					end
					if not CONDITIONS.IsMobileOrMobileSim() then
						if f16_arg6 then
							f16_local10 = f16_arg0.ModifiersList
							if not f16_local10 then
							
							else
								f16_local10:SetupMods( f16_local9 )
								f0_local0( f16_arg0, f16_local9, f16_arg6 )
							end
						end
						f16_local10 = f16_arg0.EquippedModifiersList
					end
				end
			end
		end
		f16_local8 = f16_arg3
	end
end

local f0_local4 = function ( f15_arg0, f15_arg1 )
	local f15_local0 = nil
	for f15_local4, f15_local5 in ddlpairs( f15_arg0.attachmentSetup ) do
		if ATTACHMENT.GetRefFromSetup( f15_local5 ) == f15_arg1 then
			f15_local0 = f15_local4 + 1
			break
		end
	end
	return f15_local0
end

local f0_local5 = function ( f14_arg0, f14_arg1 )
	local f14_local0 = 20
	local f14_local1 = f14_arg0:GetAnchorsAndPosition()
	local f14_local2 = f14_arg1:GetAnchorsAndPosition()
	local f14_local3 = LAYOUT.GetTextWidth( f14_arg0 )
	local f14_local4 = LAYOUT.GetTextWidth( f14_arg1 )
	if f14_local2.right < f14_local1.left + f14_local3 + f14_local4 then
		f14_arg1:SetLeft( f14_local2.right - f14_local4 )
		f14_arg0:SetRight( f14_local2.right - f14_local4 - f14_local0 )
	else
		f14_arg0:SetRight( f14_local1.left + f14_local3 )
		f14_arg1:SetLeft( f14_local1.left + f14_local3 + f14_local0 )
	end
end

local f0_local6 = function ( f13_arg0, f13_arg1, f13_arg2, f13_arg3, f13_arg4, f13_arg5 )
	DYN_ATTACHMENT.UpdateLoadoutWeaponStreamedImages( f13_arg0, f13_arg1, DYN_ATTACHMENT.StreamedImageAction.REMOVE )
	local f13_local0 = f13_arg2.attachments[f13_arg4]
	if f13_local0 then
		f13_local0 = f13_arg2.attachments[f13_arg4].variantID
	end
	table.insert( f13_arg5.menusToLeave, f13_arg0.id )
	local f13_local1 = GUNSMITH.EquipAttachment
	local f13_local2 = f13_arg0
	local f13_local3 = f13_arg1
	local f13_local4 = f13_arg5.attachToReplaceWith
	local f13_local5 = f13_arg5.weaponPlayerData
	local f13_local6 = {
		menusToLeave = f13_arg5.menusToLeave,
		attachSlot = f13_arg4,
		isNewAttachment = f13_arg5.attachToReplaceWith ~= f13_arg3,
		variantID = f13_arg5.variantID,
		lootID = f13_arg5.lootID
	}
	local f13_local7
	if f13_arg5.variantID == f13_local0 and f13_arg5.attachToReplaceWith == f13_arg3 then
		f13_local7 = false
	else
		f13_local7 = true
	end
	f13_local6.isNewVariantID = f13_local7
	f13_local1( f13_local2, f13_local3, f13_local4, f13_local5, f13_local6 )
	if f13_arg5.substituteSiblingAttachmentsToEquip then
		for f13_local3, f13_local4 in ipairs( f13_arg5.substituteSiblingAttachmentsToEquip ) do
			GUNSMITH.EquipAttachment( self, f13_arg1, f13_local4.ref, f13_arg5.weaponPlayerData, {
				attachSlot = GUNSMITH.GetSelectedAttachIndexForCategory( f13_local4.category, f13_arg2 )
			} )
		end
	end
	if CONDITIONS.IsWaveGameType() then
		Engine[0xC4146BA76D0F982]( 0x7AA312B9A84F375 )
		CP.CurrencySubtract( f13_arg1, f13_arg5.survivalCost )
		Engine[0x6055C55456F05DF]( "attachment_purchased", f13_arg5.survivalCost )
	end
	DYN_ATTACHMENT.UpdateLoadoutWeaponStreamedImages( f13_arg0, f13_arg1, DYN_ATTACHMENT.StreamedImageAction.ADD )
end

local f0_local7 = function ( f12_arg0, f12_arg1, f12_arg2, f12_arg3 )
	f12_arg1:setText( Engine[0xEB2A2834B76AEA4]( f12_arg0.name ) )
	f12_arg2:setText( f12_arg0.category )
	f12_arg3:setImage( RegisterMaterial( f12_arg0.image ) )
	f0_local0( f12_arg1, f12_arg2 )
end

local f0_local8 = function ( f3_arg0, f3_arg1, f3_arg2 )
	if not CONDITIONS.IsMobileOrMobileSim() then
		
	else
		
	end
	local f3_local0 = f3_arg2.weaponPlayerData.weapon:get()
	local f3_local1 = WEAPON.GenerateWeaponTable( f3_arg2.weaponPlayerData )
	local f3_local2 = ""
	local f3_local3 = ATTACHMENT.GetRef( f3_arg2.attachToReplaceWith, f3_local0 )
	local f3_local4 = ATTACHMENT.GetAttachmentDetails( f3_local3 )
	local f3_local5 = ATTACHMENT.GetCategory( f3_local3 )
	local f3_local6 = GUNSMITH.GetAttachmentRefsByType( f3_local5, f3_arg2.weaponPlayerData )
	if CONDITIONS.IsMobileOrMobileSim() then
		f3_arg0.ChosenAttachment:UpdateAttachmentDetails( f3_local4 )
	else
		f3_local2 = WEAPON.GetWeaponModelName( f3_local1.weapon, f3_local1, {
			showSWhiskeyMag = true,
			includeAttachments = true,
			keepAkimbo = true
		} )
		f3_arg0.ChosenAttachment:UpdateContent( f3_local3, f3_local0 )
		ACTIONS.AnimateSequence( f3_arg0.ChosenAttachment, "Swap" )
		f0_local0( f3_local4, f3_arg0.ChosenName, f3_arg0.ChosenCategory, f3_arg0.SwapModIcon.AttachmentIcon )
		local f3_local7 = ATTACHMENT.IsAMP( f3_local3 )
		if not f3_local7 then
			f3_local7 = f3_local5 == ATTACHMENT.conversionkit
		end
		f3_arg0.SwapModIcon.AmpIcon:SetVisible( f3_local7 )
		f3_arg0.ChosenAttachment.AttachmentIcon.AmpIcon:SetVisible( f3_local7 )
		local f3_local8 = ACTIONS.AnimateSequence
		local f3_local9 = f3_arg0.ChosenAttachment.AttachmentIcon
		local f3_local10
		if f3_local7 then
			f3_local10 = "Icon2x1"
		else
			f3_local10 = "Icon1x1"
		end
		f3_local8( f3_local9, f3_local10 )
		f3_local8 = ACTIONS.AnimateSequence
		f3_local9 = f3_arg0.SwapModIcon
		if f3_local7 then
			f3_local10 = "Icon2x1"
		else
			f3_local10 = "Icon1x1"
		end
		f3_local8( f3_local9, f3_local10 )
	end
	f0_local0( f3_arg0, f3_arg1, f3_local3, Engine[0x603B6AC5797050A]( WEAPON.GetWeaponModelNameFromPlayerData( f3_local0, f3_arg2.weaponPlayerData, {
		showSWhiskeyMag = true,
		includeAttachments = true,
		keepAkimbo = true
	} ), f3_local3 ), WEAPON.FindAttachmentRefInAttachmentsTable( f3_local1, f3_local3 ), f3_local1, true )
	if f3_arg0.StatsWithDetails then
		local f3_local11 = GL_HACK.GetWeaponMPRef( f3_local0 )
		f3_arg0.StatsWithDetails:Setup( f3_arg1, WEAPON.GetAmmoData( f3_arg1, f3_local1 ) )
	end
	f3_arg0.SwapAttachGrid:SetNumChildren( #f3_local6 )
	f3_arg0.SwapAttachGrid:SetDefaultFocus( {
		x = 0,
		y = 0
	} )
	f3_arg0.SwapAttachGrid:SetRefreshChild( function ( f10_arg0, f10_arg1, f10_arg2 )
		local f10_local0 = f3_arg0.SwapAttachGrid:GetContentIndex( f10_arg1, f10_arg2 ) + 1
		if CONDITIONS.IsMobileOrMobileSim() then
			f10_arg0:Setup( f10_local0, f3_arg0.SwapAttachGrid:GetNumChildren(), f3_arg0[f10_local0], f3_arg0 )
		else
			f10_arg0:Setup( f3_arg0[f10_local0], f3_arg0 )
		end
		if not f10_arg0._addedFocusUpdate then
			f10_arg0:addEventHandler( "gain_focus", function ( f11_arg0, f11_arg1 )
				local f11_local0 = f11_arg0._category == ATTACHMENT.conversionkit
				f10_arg0.BlockedLock:SetVisible( f11_local0 )
				f10_arg0.BlockedDescription:SetVisible( f11_local0 )
			end )
			f10_arg0._addedFocusUpdate = true
		end
	end )
	f3_arg0.SwapAttachGrid:RefreshContent()
	f3_arg0._ampTable = {}
	for f3_local14, f3_local15 in ipairs( f3_local1.attachments ) do
		f3_arg0._ampTable[f3_local14] = ATTACHMENT.IsAMP( f3_local15.ref )
		if f3_arg0._ampTable[f3_local14] or f3_local15.category == ATTACHMENT.conversionkit then
			local f3_local13 = f3_arg0.SwapAttachGrid:GetElementAtPosition( f3_local14 - 1, 0 )
			if f3_local13 and f3_local13.AttachmentIcon and f3_local13.AttachmentIcon.AmpIcon then
				f3_local13.AttachmentIcon.AmpIcon:SetVisible( true )
				ACTIONS.AnimateSequence( f3_local13.AttachmentIcon, "Icon2x1" )
			end
		end
	end
	f3_local9 = function ( f8_arg0, f8_arg1 )
		local f8_local0 = f3_arg0( f3_arg0.weaponPlayerData, f8_arg1.ref )
		local f8_local1 = f3_arg0.attachments[f8_local0]
		if f8_local1 then
			f8_local1 = f3_arg0.attachments[f8_local0].ref
		end
		local f8_local2 = ATTACHMENT.GetTableWithCurrentAttachment( f3_arg0, f8_local0, nil, f3_arg0.attachToReplaceWith, nil )
		f8_local2.attachments[f8_local0].category = ATTACHMENT.GetCategory( f3_arg0.attachToReplaceWith )
		local f8_local3 = ATTACHMENT.GetBlockedEquippedAttachments( f3_arg0, f8_local2, f8_local1, f3_arg0.allAttachments )
		local f8_local4 = ATTACHMENT.GetBlockedEquippedAttachments( f3_arg0, f8_local2, f3_arg0.attachToReplaceWith, f3_arg0.allAttachments )
		local f8_local5 = {}
		for f8_local9, f8_local10 in ipairs( f8_local3 ) do
			if not LUI.IsItemInArray( f8_local5, f8_local10 ) then
				table.insert( f8_local5, f8_local10 )
			end
		end
		for f8_local9, f8_local10 in ipairs( f8_local4 ) do
			if not LUI.IsItemInArray( f8_local5, f8_local10 ) then
				table.insert( f8_local5, f8_local10 )
			end
		end
		if not f3_arg0.allAttachments then
			f8_local6 = LUI.FlowManager.GetScopedData( LOADOUT.GetGunsmithTabsMenuRef() )
			f8_local7 = GL_HACK.GetWeaponMPRef( f3_arg0.weapon )
			f3_arg0.allAttachments = f8_local6.attachmentData[GL_HACK.GetWeaponMPRef( f3_arg0.weapon )].attachments
		end
		f3_arg0.substituteSiblingAttachmentsToEquip = {}
		for f8_local10, f8_local11 in pairs( GUNSMITH.FindSubstituteSiblingForEachAttachments( f3_arg0, f8_local2, f8_local1, f3_arg0.allAttachments, f8_local5 ) ) do
			local f8_local12 = LUI.IsItemInArray( f8_local5, f8_local10 )
			if 0 < f8_local12 then
				if f3_arg0.attachToReplaceWith ~= f8_local10.ref then
					table.insert( f3_arg0.substituteSiblingAttachmentsToEquip, f8_local11 )
				else
					f3_arg0.attachToReplaceWith = f8_local11.ref
				end
				table.remove( f8_local5, f8_local12 )
			end
		end
		if #f8_local5 == 0 then
			f3_arg0( f8_arg0, f3_arg0, f3_arg0, f8_local1, f8_local0, f3_arg0 )
		else
			LUI.FlowManager.RequestPopupMenu( nil, "PopupYesNo", false, nil, false, {
				title = Engine[0xED84C33EC5F01EA]( 0xF22B2F336C8A05C ),
				message = ATTACHMENT.AddListToBlockedMessage( Engine[0xED84C33EC5F01EA]( 0xF4F6E7738091702, #f8_local5, ATTACHMENT.GetName( f8_local1 ) ), f8_local5 ),
				yesLabel = Engine[0xED84C33EC5F01EA]( 0xF45C394F4B8A31F ),
				noLabel = Engine[0xED84C33EC5F01EA]( 0xDF4B921D6190715 ),
				yesAction = function ( f9_arg0, f9_arg1 )
					for f9_local3, f9_local4 in pairs( f8_arg0 ) do
						if f8_arg0.attachToReplaceWith ~= f9_local4.ref then
							GUNSMITH.EquipAttachment( f9_arg0, f9_arg1, ATTACHMENT.none, f8_arg0.weaponPlayerData, {
								isNewAttachment = true,
								attachSlot = GUNSMITH.GetSelectedAttachIndexForCategory( f9_local4.category, f8_arg0 )
							} )
						else
							f8_arg0.attachToReplaceWith = ATTACHMENT.none
						end
					end
					f8_arg0( f8_arg0, f9_arg1, f8_arg0, f8_arg0, f8_arg0, f8_arg0 )
				end
			}, nil, false, true )
		end
	end
	
	f3_arg0:registerEventHandler( "equip_attachment", function ( element, event )
		if GUNSMITH.IsWeaponSetupBlueprintIntact( f3_arg0.weaponPlayerData ) then
			local f5_local0 = GUNSMITH.DoesAttachmentHaveProtuning( element._weaponTable )
			if f5_local0 then
				local f5_local1 = nil
				for f5_local2 = 1, #element._weaponTable.attachments, 1 do
					if element._weaponTable.attachments[f5_local2].ref == element._equippedAttach then
						f5_local1 = element._weaponTable.attachments[f5_local2]
						break
					end
				end
				local f5_local2 = nil
				local f5_local3 = GUNSMITH.IsAttachmentProtuned( element._weaponTable, f5_local1 )
				if f5_local3 then
					f5_local2 = GUNSMITH.BlueprintEditStatus.ChangeProTunedAttachment
				elseif not f5_local3 then
					f5_local2 = GUNSMITH.BlueprintEditStatus.ChangeNonProTunedAttachment
				end
				GUNSMITH.SetupCallbackFuncForBlueprintEdit( f3_arg0, element._weaponPlayerData, f5_local2, function ()
					local f7_local0 = LUI.FlowManager.GetScopedData( LOADOUT.GetAttachmentSelectMenuRef() )
					local f7_local1 = element.Attachments._targetPosition
					if f7_local1 then
						f7_local1 = element.Attachments._targetPosition.x
					end
					f7_local0.lastTargetPositionX = f7_local1
					element( element, element )
				end )
			elseif not f5_local0 then
				GUNSMITH.SetupCallbackFuncForBlueprintEdit( f3_arg0, f3_arg0.weaponPlayerData, GUNSMITH.BlueprintEditStatus.EditBlueprint, function ()
					element( element, element )
				end )
			end
		else
			f3_arg0( element, event )
		end
		return true
	end )
	f3_local10 = function ( f4_arg0, f4_arg1 )
		if not CONDITIONS.IsMobileOrMobileSim() then
			local f4_local0 = f3_arg0.SwapAttachGrid:GetFocusPositionIndex()
			local f4_local1 = LAYOUT.GetElementWidth( f3_arg0.ChosenAttachment )
			local f4_local2 = f3_arg0
			local f4_local3
			if f4_local0 and not f4_local0 then
				f4_local3 = f4_local0
			else
				f4_local3 = 0
			end
			f4_local2 = f4_local2 + f4_local3 * (f3_arg0 + f4_local1)
			f4_local3 = f4_local2 + f4_local1
			if CONDITIONS.IsSplitscreen( f3_arg0 ) and CONDITIONS.InGame( f3_arg0 ) then
				f3_arg0.ChosenAttachment:SetAnchorsAndPosition( 0, 1, 0, 1, f4_local2, f4_local3, 300, 400 )
			else
				f3_arg0.ChosenAttachment:SetAnchorsAndPosition( 0, 1, 0, 1, f4_local2, f4_local3, 516, 616 )
			end
		end
		local f4_local0 = LUI.DeepCopy( f3_arg0 )
		local f4_local1 = f4_local0.attachments
		local f4_local2 = f4_arg1.ref
		if not f4_local2 then
			f4_local2 = f3_arg0[1]
		end
		local f4_local3 = f3_arg0( f3_arg0.weaponPlayerData, f4_local2 )
		if f4_local3 == nil then
			return 
		end
		for f4_local7, f4_local8 in ipairs( f4_local1 ) do
			if f4_local8.ref == f4_local2 then
				f4_local8.ref = f3_arg0
			end
		end
		f4_local0.attachments = f4_local1
		if f3_arg0.StatsWithDetails then
			f4_local4 = f3_arg0.attachments[f4_local3].ref
			f4_local5 = ATTACHMENT.GetAttachmentDetails( f4_local4 )
			if CONDITIONS.IsMobileOrMobileSim() then
				f3_arg0.SwapAttachment:UpdateAttachmentDetails( f4_local5 )
			else
				f3_arg0( f4_local5, f3_arg0.EquippedName, f3_arg0.EquippedCategory, f3_arg0.EquippedModIcon.AttachmentIcon )
				f4_local6 = ATTACHMENT.GetCategory( f4_local2 )
				f4_local7 = f3_arg0._ampTable[f4_local3]
				if not f4_local7 then
					f4_local7 = ATTACHMENT.IsAMP( f4_local4 )
					if not f4_local7 then
						f4_local7 = f4_local6 == ATTACHMENT.conversionkit
					end
				end
				f3_arg0.EquippedModIcon.AmpIcon:SetVisible( f4_local7 )
				f4_local8 = ACTIONS.AnimateSequence
				local f4_local9 = f3_arg0.EquippedModIcon
				local f4_local10
				if f4_local7 then
					f4_local10 = "Icon2x1"
				else
					f4_local10 = "Icon1x1"
				end
				f4_local8( f4_local9, f4_local10 )
			end
			f3_arg0( f3_arg0, f3_arg0, f4_local2, Engine[0x603B6AC5797050A]( WEAPON.GetWeaponModelNameFromPlayerData( f3_arg0, f3_arg0.weaponPlayerData, {
				showSWhiskeyMag = true,
				includeAttachments = true,
				keepAkimbo = true
			} ), f4_local4 ), f4_local3, f4_local0, false )
		else
			f3_arg0.WeaponAttributes:Setup( f4_local0 )
		end
	end
	
	f3_local10( f3_arg0, {
		ref = f3_local6[1]
	} )
	f3_arg0:registerEventHandler( "preview_attachment", f3_local10 )
	if IsLanguageJapanese() then
		ACTIONS.AnimateSequence( f3_arg0, "JP" )
	end
	if CONDITIONS.IsSplitscreen( f3_arg0 ) and CONDITIONS.InGame( f3_arg0 ) then
		ACTIONS.AnimateSequence( f3_arg0, "Splitscreen" )
	end
	f3_arg0:registerAndCallEventHandler( "preview_attachment", f3_local10 )
end

local f0_local9 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.PostLoadShared = f0_local0
end

function SwapAttachmentPopupBase( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = f1_local0.UIMenu.new()
	f1_local1.id = "SwapAttachmentPopupBase"
	local f1_local2
	if f1_arg1 then
		f1_local2 = f1_arg1
	else
		f1_local2 = f1_arg1.controllerIndex
	end
	f1_local2 = f1_local0.ValidateControllerIndex( f1_local1, f1_local2 )
	local f1_local3 = f1_local1
	f0_local0( f1_local1, f1_local2, f1_arg1 )
	return f1_local1
end

MenuBuilder.registerType( 0xE06DA564A85421E, SwapAttachmentPopupBase )
LockTable( _M )
