-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
module( ..., package.seeall )
require( "ui.generated.widgets.jupiterprogressrulerlines" )
require( "ui.generated.widgets.jupiterprogressrulerlinesflexible" )
require( "ui.generated.widgets.frontend.aar.aarrank" )
require( "ui.generated.development.frontend.aar.aarxpunlockprogressionprimaryxp" )
require( "ui.generated.widgets.frontend.aar.aarxpunlockprogressiondoublexp" )
require( "ui.generated.widgets.frontend.aar.aarplayhead" )
require( "ui.generated.widgets.premiumboostpanel" )
local f0_local0 = "rank"
local f0_local1 = 289
local f0_local2 = f0_local1 * 2 - 529
local f0_local3 = f0_local1 * 3 - 769
local f0_local4 = 8
local f0_local5 = 1
local f0_local6 = 32
local f0_local7 = 764
local f0_local8 = 222
local f0_local9 = 292
local f0_local10 = 10
local f0_local11 = 750
local f0_local12 = 1920
local f0_local13 = 0.8
local f0_local14 = 1
local f0_local15 = 300
local f0_local16 = 3
local f0_local17 = 2
local f0_local18 = 4
local f0_local19 = 11
local f0_local20 = function ( f49_arg0, f49_arg1 )
	return LUI.clamp( #AAR.GetRankupUnlockPackage( f49_arg0, f49_arg1, PROGRESSION.GetProgressionGameModes() ), 1, 3 )
end

local f0_local21 = function ( f48_arg0 )
	if f48_arg0.primaryEatsDoubleXPTimer then
		f48_arg0:RemoveElement( f48_arg0.primaryEatsDoubleXPTimer )
		f48_arg0.primaryEatsDoubleXPTimer:closeTree()
		f48_arg0.primaryEatsDoubleXPTimer = nil
	end
	if f48_arg0.primaryXPDescendingTimer then
		f48_arg0:RemoveElement( f48_arg0.primaryXPDescendingTimer )
		f48_arg0.primaryXPDescendingTimer:closeTree()
		f48_arg0.primaryXPDescendingTimer = nil
	end
	AAR.ClearAnimationTimer( f48_arg0 )
end

local f0_local22 = function ( f47_arg0, f47_arg1 )
	local f47_local0 = f0_local0( f47_arg0._controllerIndex, f47_arg1 )
	if f47_local0 == 2 then
		return f0_local0
	elseif f47_local0 == 3 then
		return f0_local0
	else
		return f0_local0
	end
end

local f0_local23 = function ( f46_arg0, f46_arg1, f46_arg2 )
	local f46_local0 = f0_local0 * 2
	if f46_arg2 == 0 then
		return f46_local0
	elseif 0 < f46_arg2 then
		local f46_local1 = f46_arg1
		local f46_local2 = f46_arg1 + f46_arg2
	else
		local f46_local1 = f46_arg1
		local f46_local2 = f46_arg1 + f46_arg2
	end
	return f46_local0
end

local f0_local24 = function ( f45_arg0 )
	LAYOUT.SimulateElementShake( f45_arg0:getParent(), 100, LAYOUT.ShakeIntensities.LARGE )
end

local f0_local25 = function ( f44_arg0, f44_arg1 )
	local f44_local0 = f0_local0( f44_arg0, f44_arg0.currentRank, 0 ) + f0_local0( f44_arg0, f44_arg0.currentRank + 1 ) * f44_arg1
	f44_arg0.linePosition = f44_local0
	f44_arg0.Playhead:SetRight( f44_local0 )
	f44_arg0.ProgressMaskLeft:SetRight( f44_local0 )
	f44_arg0.XPEarnedBar:SetLeft( f44_local0 )
	f44_arg0.XPEarnedBar:SetRight( f44_local0 )
end

local f0_local26 = function ( f43_arg0, f43_arg1, f43_arg2, f43_arg3, f43_arg4 )
	f43_arg0.Playhead:SetRight( f43_arg1, f43_arg2, f43_arg4 )
	f43_arg0.ProgressMaskLeft:SetRight( f43_arg1, f43_arg2, f43_arg4 )
	f43_arg0.XPEarnedBar:SetLeft( f43_arg1, f43_arg2, f43_arg4 )
	f43_arg0.XPEarnedBar:SetRight( f43_arg3, f43_arg2, f43_arg4 )
end

local f0_local27 = function ( f42_arg0, f42_arg1, f42_arg2, f42_arg3 )
	local f42_local0 = 0
	if f42_arg1 + f42_arg3 > PROGRESSION.GetMaxRank() then
		f42_local0 = 0
	else
		local f42_local1 = PROGRESSION.GetRankMinXP( f42_arg1 + f42_arg3 )
		f42_local0 = (f42_arg2 - f42_local1) / (PROGRESSION.GetRankMaxXP( f42_arg1 + f42_arg3 ) - f42_local1)
	end
	return f0_local0( f42_arg0, f42_arg1, f42_arg3 ) + f0_local0( f42_arg0, f42_arg1 + f42_arg3 + 1 ) * f42_local0
end

local f0_local28 = function ( f36_arg0, f36_arg1, f36_arg2, f36_arg3, f36_arg4, f36_arg5 )
	local f36_local0 = 125 * f36_arg2
	if f36_arg1 <= PROGRESSION.GetMaxRank() then
		AAR.AddAnimationWithTime( f36_arg0, function ( f41_arg0 )
			local f41_local0 = f36_arg0( f41_arg0, f36_arg0, 0 )
			if f36_arg0 == 0 then
				local f41_local1 = PROGRESSION.GetRankMinXP( f36_arg0 )
				f41_local0 = f41_local0 + f36_arg0( f41_arg0, f36_arg0 + 1 ) * (f36_arg0 + f36_arg0 - f41_local1) / (PROGRESSION.GetRankMaxXP( f36_arg0 ) - f41_local1)
			end
			local f41_local1
			if f36_arg0 == 0 and not f41_local0 then
				f41_local1 = f41_local0
			else
				f41_local1 = f36_arg0( f41_arg0, f36_arg0, f36_arg0 + f36_arg0, f36_arg0 )
			end
			local f41_local2 = (f41_arg0.graySlamToPosition - f41_local1) * -1 / 1920
			local f41_local3 = f41_arg0._persistentUVValues.u - f41_local2
			local f41_local4 = f41_arg0._persistentUVValues.v - f41_local2
			f41_arg0._persistentUVValues.u = f41_local3
			f41_arg0._persistentUVValues.v = f41_local4
			f41_arg0.graySlamToPosition = f41_local1
			f36_arg0( f41_arg0, f41_local0, f36_arg0, f41_local1, LUI.EASING.linear )
		end, 0 )
		AAR.AddAnimationWithTime( f36_arg0, function ( f40_arg0 )
			for f40_local0 = 1, f36_arg0, 1 do
				local f40_local3 = f40_arg0[f36_arg0 .. f40_local0]
				if f40_local3.rank and 0 <= f40_local3.rank then
					f40_local3:FanIn( 200 )
					f40_local3:SetAnchorsAndPosition( 0, 1, 0, 1, f36_arg0( f40_arg0, f36_arg0, f40_local0 - f36_arg0 - f36_arg0 ), f36_arg0( f40_arg0, f36_arg0, f40_local0 - f36_arg0 - f36_arg0 ), f36_arg0, f36_arg0, f36_arg0 )
					f40_local3:SetAlpha( f36_arg0, 200 )
				end
			end
		end, 0 )
		AAR.AddAnimationWithTime( f36_arg0, function ( f39_arg0 )
			for f39_local0 = 1, f36_arg0, 1 do
				local f39_local3 = f39_arg0[f36_arg0 .. f39_local0]
				f39_arg0:RemoveElement( f39_local3 )
				f39_local3:closeTree()
				f39_arg0[f36_arg0 .. f39_local0] = nil
			end
			local f39_local0 = 1
			for f39_local1 = f36_arg0 + 1, f36_arg0, 1 do
				local f39_local5 = f39_arg0[f36_arg0 .. f39_local1]
				f39_arg0[f36_arg0 .. f39_local1] = nil
				f39_arg0[f36_arg0 .. f39_local0] = f39_local5
				f39_local0 = f39_local0 + 1
			end
			for f39_local1 = f36_arg0 - f36_arg0 - 1, f36_arg0, 1 do
				local f39_local5 = MenuBuilder.BuildRegisteredType( "AARXPUnlockRank", {
					controllerIndex = f39_arg0._controllerIndex
				} )
				local f39_local6 = f36_arg0 + f39_local1 - 2
				f39_arg0[f36_arg0 .. f39_local1] = f39_local5
				f39_arg0:addElement( f39_local5 )
				f39_local5:setPriority( 3 )
				f39_local5:Setup( {
					currentRank = false,
					color = false,
					scaledUp = false,
					rank = f39_local6,
					rankUpPackage = AAR.GetRankupUnlockPackage( f39_arg0._controllerIndex, f39_local6, PROGRESSION.GetProgressionGameModes() )
				} )
				f39_local5:SetAnchorsAndPosition( 0, 1, 0, 1, f36_arg0( f39_arg0, f36_arg0, f39_local1 - f36_arg0 ), f36_arg0( f39_arg0, f36_arg0, f39_local1 - f36_arg0 ), f36_arg0, f36_arg0 )
			end
		end, f36_local0 + 1 )
		AAR.AddAnimationWithTime( f36_arg0, function ( f38_arg0 )
			for f38_local0 = 1, f36_arg0, 1 do
				f38_arg0[f36_arg0 .. f38_local0].pushLeftOffset = 0
			end
			local f38_local0 = f36_arg0
			if f38_arg0[f36_arg0 .. 1].rank then
				f38_local0 = f36_arg0
				if 0 <= f38_arg0[f36_arg0 .. 1].rank then
					f38_arg0[f36_arg0 .. 1]:SetAlpha( f36_arg0, 200 )
					f38_arg0[f36_arg0 .. 1]:AnimateScale( false )
				end
			end
			f38_arg0[f36_arg0 .. f36_arg0]:AnimateScale( false )
			f38_arg0[f36_arg0 .. f36_arg0]:AnimateScale( true )
			f38_arg0[f36_arg0 .. f36_arg0]:AnimateRewards( "Unlocking" )
			f38_local0 = f36_arg0
			local f38_local1 = 1
			if f38_local0 < f36_arg0 then
				
			else
				
			end
			local f38_local2 = f36_arg0
			if f38_arg0[f36_arg0 .. f38_local1].rank then
				f38_local2 = f36_arg0
				if 0 <= f38_arg0[f36_arg0 .. f38_local1].rank then
					f38_arg0[f36_arg0 .. f38_local1]:SetAlpha( f36_arg0, 200 )
				end
			end
		end, 0 )
		AAR.AddAnimationWithTime( f36_arg0, function ( f37_arg0 )
			if f36_arg0 == 0 then
				f37_arg0[f36_arg0 .. f36_arg0]:AnimateCurrentRank( true )
			end
		end, 0 )
	end
end

local f0_local29 = function ( f35_arg0, f35_arg1, f35_arg2, f35_arg3 )
	if f35_arg0.PremiumBoostPanel then
		local f35_local0 = ACTIONS.AnimateSequence
		local f35_local1 = f35_arg0.PremiumBoostPanel
		local f35_local2
		if Engine[0x8B495DC361731F7]( f35_arg0._controllerIndex ) then
			f35_local2 = "PremiumOwned"
		else
			f35_local2 = "PremiumNotOwned"
		end
		f35_local0( f35_local1, f35_local2 )
	end
	local f35_local0 = PROGRESSION.GetRankByXP( f35_arg1 )
	local f35_local3 = PROGRESSION.GetRankMinXP( f35_local0 )
	local f35_local1 = PROGRESSION.GetRankMaxXP( f35_local0 )
	f35_arg0.startingXP = f35_arg1
	f35_arg0.currentXP = f35_arg1
	f35_arg0.earnedXP = f35_arg2
	f35_arg0.doubleXP = f35_arg3
	f35_arg0.startingXPPercentage = (f35_arg1 - f35_local3) / (f35_local1 - f35_local3)
	f35_arg0.currentXPPercentage = f35_arg0.startingXPPercentage
	f35_arg0.startingRank = f35_local0
	f35_arg0.currentRank = f35_local0
	f35_arg0.AARRank:UpdateRank( f35_local0 )
	if 0 < f35_local0 then
		local f35_local2 = f35_arg0[f0_local0 .. 1]
		f35_local2:Setup( {
			currentRank = false,
			color = true,
			scaledUp = false,
			rank = f35_local0 - 1,
			rankUpPackage = AAR.GetRankupUnlockPackage( f35_arg0._controllerIndex, f35_local0 - 1, PROGRESSION.GetProgressionGameModes() )
		} )
		f35_local2:SetAnchorsAndPosition( 0, 1, 0, 1, f0_local0( f35_arg0, f35_local0, -2 ), f0_local0( f35_arg0, f35_local0, -1 ), f0_local0, f0_local0 )
		f35_local2:SetAlpha( f0_local0 )
		f35_local2:AnimateRewards( "UnlockImmediate" )
		ACTIONS.AnimateSequence( f35_local2, "Earned" )
	elseif f35_local0 == 0 then
		f35_arg0[f0_local0 .. f0_local0 - 1].numRewards = 0
		f35_arg0[f0_local0 .. f0_local0 - 1]:SetAlpha( 0 )
	end
	for f35_local2 = 2, f0_local0, 1 do
		local f35_local6 = f35_local0 + f35_local2 - 2
		local f35_local7 = f35_arg0[f0_local0 .. f35_local2]
		local f35_local8 = f35_local6 > PROGRESSION.GetMaxRank() + 1
		if CONDITIONS.IsIW9BetaBuildEnabled() or CONDITIONS.IsJupPublicBetaBuildEnabled() then
			f35_local8 = f35_local6 > PROGRESSION.GetMaxRank()
		end
		if f35_local8 then
			f35_local7.numRewards = 0
			f35_local7:SetAlpha( 0 )
		end
		local f35_local9 = f35_arg0[f0_local0 .. f35_local2]
		local f35_local10 = f35_local6 == f35_local0 + 1
		local f35_local11 = AAR.GetRankupUnlockPackage( f35_arg0._controllerIndex, f35_local6, PROGRESSION.GetProgressionGameModes() )
		if f35_local6 == PROGRESSION.GetMaxRank() + 1 and f35_local11[2] then
			f35_local11[2] = nil
		end
		local f35_local12 = {}
		local f35_local13
		if f35_local6 ~= f35_local0 then
			f35_local13 = f35_local10
		else
			f35_local13 = true
		end
		f35_local12.color = f35_local13
		f35_local12.scaledUp = f35_local10
		f35_local12.currentRank = f35_local6 == f35_local0
		f35_local12.rank = f35_local6
		f35_local12.rankUpPackage = f35_local11
		f35_local9:Setup( f35_local12 )
		f35_local13 = f0_local0( f35_arg0, f35_local0, f35_local6 - f35_local0 - 1 )
		local f35_local14 = f0_local0( f35_arg0, f35_local0, f35_local6 - f35_local0 )
		f35_local9:SetAnchorsAndPosition( 0, 1, 0, 1, f35_local13, f35_local14, f0_local0, f0_local0 )
		if f0_local0 < f35_local14 then
			f35_local9:SetAlpha( f0_local0, 200 )
		end
	end
	f35_arg0[f0_local0 .. f0_local0]:AnimateRewards( "UnlockImmediate" )
	ACTIONS.AnimateSequence( f35_arg0[f0_local0 .. f0_local0], "Earned" )
	f0_local0( f35_arg0, f35_arg0.startingXPPercentage )
end

local f0_local30 = function ( f11_arg0 )
	f11_arg0.ProgressionFinished = false
	local f11_local0 = f11_arg0.earnedXP
	local f11_local1 = f11_arg0.doubleXP
	if f11_local0 == 0 and f11_local1 == 0 then
		f11_arg0.ProgressionFinished = true
		f11_arg0:dispatchEventToCurrentMenu( {
			name = AAR.PARADE_PROGRESS_DONE
		} )
	end
	if not f11_local1 then
		f11_local1 = 0
	end
	AAR.StartAnimationTimer( f11_arg0, "AAR_GENERAL_XP_TIMER" )
	local f11_local2 = 0
	local f11_local3 = false
	if PROGRESSION.GetRankMaxXP( f11_local2 + f11_arg0.currentRank ) <= f11_arg0.currentXP + f11_local0 then
		
	else
		
	end
	f11_arg0.totalXP = f11_local0 + f11_local1
	f11_arg0.finalXP = f11_arg0.currentXP + f11_arg0.totalXP
	AAR.AddAnimationWithTime( f11_arg0, function ( f34_arg0 )
		f34_arg0.PrimaryXPLabel:SetupXP( f11_arg0 )
		ACTIONS.AnimateSequence( f34_arg0.PrimaryXPLabel, "Intro" )
		ACTIONS.AnimateSequence( f34_arg0, "PrimaryXPIntro" )
		Engine[0xC4146BA76D0F982]( SOUND_SETS.xpProgress.xpSlam )
	end, 0 )
	f11_arg0.graySlamToPosition = f0_local0( f11_arg0, f11_arg0.currentRank, f11_arg0.currentXP + f11_local0, f11_local2 )
	local f11_local4 = f11_arg0.graySlamToPosition
	AAR.AddAnimationWithTime( f11_arg0, function ( f33_arg0 )
		f33_arg0.XPEarnedBar:SetAnchorsAndPosition( 0, 1, 0, 1, f33_arg0.linePosition, f11_arg0, f11_arg0, f11_arg0, 300 )
	end, 100 )
	if 0 < f11_local1 and f11_arg0.currentXP + f11_local0 < PROGRESSION.GetRankMaxXP( PROGRESSION.GetMaxRank() ) then
		f11_local2 = 0
		if PROGRESSION.GetRankMaxXP( f11_local2 + f11_arg0.currentRank ) <= f11_arg0.currentXP + f11_local0 + f11_local1 then
			
		else
			
		end
		AAR.AddAnimationWithTime( f11_arg0, function ( f32_arg0 )
			f32_arg0.DoubleXPLabel:SetupXP( tostring( f11_arg0 ) )
			ACTIONS.AnimateSequence( f32_arg0, "DoubleXPIntro" )
			ACTIONS.AnimateSequence( f32_arg0.DoubleXPLabel, "Intro" )
			ACTIONS.AnimateSequence( f32_arg0.PrimaryXPLabel, "Blinds" )
			Engine[0xC4146BA76D0F982]( SOUND_SETS.xpProgress.xpDblSlam )
		end, 500 )
		f11_arg0.graySlamToPosition = f0_local0( f11_arg0, f11_arg0.currentRank, f11_arg0.currentXP + f11_local0 + f11_local1, f11_local2 )
		local f11_local5 = f11_arg0.graySlamToPosition
		AAR.AddAnimationWithTime( f11_arg0, function ( f29_arg0 )
			f29_arg0.XPEarnedBar:SetAnchorsAndPosition( 0, 1, 0, 1, f29_arg0.linePosition, f11_arg0, f11_arg0, f11_arg0, f11_arg0 )
			f29_arg0.scrollTimeCounter = 0
			local primaryEatsDoubleXPTimer = LUI.UITimer.new( {
				interval = 50,
				event = "AAR_XP_NUMBER_SCROLL"
			} )
			if primaryEatsDoubleXPTimer then
				f29_arg0:addElement( primaryEatsDoubleXPTimer )
				f29_arg0.primaryEatsDoubleXPTimer = primaryEatsDoubleXPTimer
				
				local f29_local1 = true
				f29_arg0:registerEventHandler( "AAR_XP_NUMBER_SCROLL", function ( element, event )
					local f30_local0 = -1
					if f29_arg0 then
						f29_arg0 = false
						f30_local0 = Engine[0xC4146BA76D0F982]( SOUND_SETS.xpProgress.xpCounter )
					end
					element.scrollTimeCounter = element.scrollTimeCounter + 50
					if f29_arg0 < element.scrollTimeCounter then
						element.scrollTimeCounter = f29_arg0
						ACTIONS.AnimateSequence( element, "DoubleXPOutro" )
						ACTIONS.AnimateSequence( element.PrimaryXPLabel, "Blinds" )
						ACTIONS.AnimateSequence( element.DoubleXPLabel, "Outro" )
						element:RemoveElement( element.primaryEatsDoubleXPTimer )
						element.primaryEatsDoubleXPTimer:closeTree()
						element.primaryEatsDoubleXPTimer = nil
						element:deregisterEventHandler( "AAR_XP_NUMBER_SCROLL" )
						local f30_local1 = f29_arg0:Wait( 100 )
						f30_local1.onComplete = function ()
							if Engine[0x1F61B16806D3CA2]( element ) then
								Engine[0xC738A7A46EDBB34]( element )
							end
						end
						
					end
					local f30_local1 = element.scrollTimeCounter / f29_arg0
					element.DoubleXPLabel:SetupXP( tostring( math.floor( f29_arg0 - f29_arg0 * f30_local1 ) ) )
					element.PrimaryXPLabel:SetupXP( tostring( math.floor( f29_arg0 + f29_arg0 * f30_local1 ) ) )
					return true
				end )
			end
		end, 400 )
		AAR.AddAnimationWithTime( f11_arg0, nil, f0_local0 )
	end
	local f11_local5 = function ( f13_arg0, f13_arg1, f13_arg2, f13_arg3, f13_arg4, f13_arg5 )
		local f13_local0 = 0
		local f13_local1 = 0
		if f13_arg5 then
			local f13_local2 = 0
			if f13_arg1 + f13_arg0 > PROGRESSION.GetMaxRank() then
				f13_local2 = 0
			else
				local f13_local3 = PROGRESSION.GetRankMinXP( f13_arg1 + f13_arg0 )
				f13_local2 = (f13_arg3 + f13_arg4 - f13_local3) / (PROGRESSION.GetRankMaxXP( f13_arg1 + f13_arg0 ) - f13_local3)
			end
			f13_local0 = f13_local2
		end
		local f13_local2
		if f13_arg5 and not f13_arg4 then
			f13_local2 = f13_arg4
		else
			f13_local2 = PROGRESSION.GetRankMaxXP( f13_arg0 + f13_arg1 - 1 ) - f13_arg3
		end
		local f13_local3 = f11_arg0( f11_arg0, f13_arg0, f13_arg3 + f13_local2, f13_arg1 )
		local f13_local4 = PROGRESSION.GetRankMinXP( f13_arg0 )
		local f13_local5 = (f13_arg3 - f13_local4) / (PROGRESSION.GetRankMaxXP( f13_arg0 ) - f13_local4)
		local f13_local6 = f11_arg0( f11_arg0, f13_arg0, 0 ) + f11_arg0( f11_arg0, f11_arg0.currentRank + 1 ) * f13_local5
		local f13_local7 = f11_arg0( f11_arg0, f13_arg0 + 1 )
		local f13_local8 = f11_arg0( f11_arg0, f13_arg0 + f13_arg1 )
		local f13_local9 = (f13_local3 - f13_local6) / f11_arg0 * f11_arg0
		local f13_local10 = (1 - f13_local5) * f11_arg0 * f13_local7 / f11_arg0
		local f13_local11 = f13_local0 * f11_arg0 * f11_arg0 / f13_local8
		local f13_local12 = f13_local9 - f13_local10 - f13_local11
		local f13_local13 = {}
		local f13_local14 = 0
		f11_arg0.greenBarSoundID = -1
		if 2 <= f13_arg1 then
			for f13_local15 = 2, f13_arg1, 1 do
				f13_local13[f13_arg0 + f13_local15] = f11_arg0( f11_arg0, f13_arg0 + f13_local15 )
				f13_local14 = f13_local14 + f13_local13[f13_arg0 + f13_local15]
			end
			for f13_local15 = 2, f13_arg1, 1 do
				f13_local13[f13_arg0 + f13_local15] = f13_local13[f13_arg0 + f13_local15] / f13_local14 * f13_local12
			end
			f13_local13[f13_arg0 + 2] = f13_local13[f13_arg0 + 2] - 125
		end
		local f13_local15 = f13_arg4 - PROGRESSION.GetRankMaxXP( LUI.clamp( f13_arg0 + f13_arg1 - 1, 0, PROGRESSION.GetMaxRank() ) ) - f13_arg3
		if f13_arg5 then
			f13_local15 = 0
		end
		AAR.AddAnimationWithTime( f11_arg0, function ( f27_arg0 )
			f13_arg0( f27_arg0, f13_arg0, f13_arg0, f27_arg0.graySlamToPosition, LUI.EASING.linear )
			f27_arg0.greenBarSoundID = Engine[0xC4146BA76D0F982]( SOUND_SETS.xpProgress.xpProgressBar )
			f27_arg0.scrollTimeCounter = 0
			
			local primaryXPDescendingTimer = LUI.UITimer.new( {
				interval = 50,
				event = "AAR_XP_NUMBER_SCROLL"
			} )
			f27_arg0:addElement( primaryXPDescendingTimer )
			f27_arg0.primaryXPDescendingTimer = primaryXPDescendingTimer
			
			local f27_local1 = true
			f27_arg0:registerEventHandler( "AAR_XP_NUMBER_SCROLL", function ( element, event )
				element.scrollTimeCounter = element.scrollTimeCounter + 50
				if f27_arg0 < element.scrollTimeCounter then
					element.scrollTimeCounter = f27_arg0
					element:RemoveElement( element.primaryXPDescendingTimer )
					element.primaryXPDescendingTimer:closeTree()
					element.primaryXPDescendingTimer = nil
				end
				element.PrimaryXPLabel:SetupXP( tostring( math.floor( f27_arg0 - (f27_arg0 - f27_arg0) * element.scrollTimeCounter / f27_arg0 ) ) )
				return true
			end )
		end, 400 )
		if 2 <= f13_arg1 then
			AAR.AddAnimationWithTime( f11_arg0, function ( f26_arg0 )
				local f26_local0 = f26_arg0[f13_arg0 .. 4]
				f26_local0:AnimateRewards( "Unlocking" )
				f26_local0:AnimateScale( true )
				f26_local0.scaledUp = true
				ACTIONS.AnimateSequence( f26_arg0[f13_arg0 .. 3], "Earned" )
				f26_arg0.AARRank:UpdateRank( f13_arg0 + 1 )
			end, f13_local10 )
			if 2 < f13_arg1 then
				for f13_local16 = 3, f13_arg1, 1 do
					AAR.AddAnimationWithTime( f11_arg0, function ( f25_arg0 )
						local f25_local0 = f25_arg0[f13_arg0 .. 2 + f13_arg0]
						f25_local0:AnimateRewards( "Unlocking" )
						f25_local0:AnimateScale( true )
						f25_arg0.AARRank:UpdateRank( f13_arg0 + f13_arg0 - 1 )
						f25_local0.scaledUp = true
						ACTIONS.AnimateSequence( f25_arg0[f13_arg0 .. 1 + f13_arg0], "Earned" )
					end, f13_local13[f13_arg0 + f13_local16] )
				end
			end
			AAR.AddAnimationWithTime( f11_arg0, function ( f24_arg0 )
				ACTIONS.AnimateSequence( f24_arg0[f13_arg0 .. f13_arg0 + f13_arg0], "Earned" )
			end, f13_local13[f13_arg0 + f13_arg1] )
		elseif f13_arg1 == 1 then
			AAR.AddAnimationWithTime( f11_arg0, function ( f23_arg0 )
				ACTIONS.AnimateSequence( f23_arg0[f13_arg0 .. 3], "Earned" )
			end, f13_local10 )
			AAR.AddAnimationWithTime( f11_arg0, nil, f13_local11 )
		else
			AAR.AddAnimationWithTime( f11_arg0, function ( f21_arg0 )
				local f21_local0 = f13_arg0:Wait( 100 )
				f21_local0.onComplete = function ()
					if Engine[0x1F61B16806D3CA2]( f21_arg0.greenBarSoundID ) then
						Engine[0xC738A7A46EDBB34]( f21_arg0.greenBarSoundID )
					end
					Engine[0xC4146BA76D0F982]( SOUND_SETS.xpProgress.xpProgressBarStop )
				end
				
			end, f13_local9 )
		end
		if 1 <= f13_arg1 then
			AAR.AddAnimationWithTime( f11_arg0, function ( f19_arg0 )
				f19_arg0[f13_arg0 .. f13_arg0]:AnimateCurrentRank( false )
				f19_arg0.AARRank:UpdateRank( f13_arg0 + f13_arg0 )
				if f13_arg0 then
					local f19_local0 = f13_arg0 + f13_arg0
					local f19_local1 = PROGRESSION.GetRankBigIcon( f19_local0 )
					f19_arg0.RankCelebrationImage:setImage( RegisterMaterial( f19_local1 ) )
					f19_arg0.RankCelebrationImageGlint:setImage( RegisterMaterial( f19_local1 ) )
					f19_arg0.RankCelebrationLabel:setText( Engine[0xED84C33EC5F01EA]( 0x55935E8D49F35E5, tostring( f19_local0 + 1 ) ) )
					f19_arg0.RankCelebrationLabelDark:setText( Engine[0xED84C33EC5F01EA]( 0x55935E8D49F35E5, tostring( f19_local0 + 1 ) ) )
					f19_arg0.RankCelebrationLabelGlow:setText( Engine[0xED84C33EC5F01EA]( 0x55935E8D49F35E5, tostring( f19_local0 + 1 ) ) )
					local f19_local2 = 146
					local f19_local3 = LAYOUT.GetTextWidth( f19_arg0.RankCelebrationLabel, f19_arg0._controllerIndex )
					local f19_local4 = 20
					local f19_local5 = -(f19_local3 + f19_local4 + f19_local2) * 0.5
					local f19_local6 = f19_local5 + f19_local3
					local f19_local7 = f19_local6 + f19_local4
					local f19_local8 = f19_local7 + f19_local2
					f19_arg0.RankCelebrationLabel:SetLeft( f19_local5 )
					f19_arg0.RankCelebrationLabel:SetRight( f19_local6 )
					f19_arg0.RankCelebrationLabelDark:SetLeft( f19_local5 )
					f19_arg0.RankCelebrationLabelDark:SetRight( f19_local6 )
					f19_arg0.RankCelebrationLabelGlow:SetLeft( f19_local5 )
					f19_arg0.RankCelebrationLabelGlow:SetRight( f19_local6 )
					f19_arg0.RankCelebrationImage:SetLeft( f19_local7 )
					f19_arg0.RankCelebrationImage:SetRight( f19_local8 )
					f19_arg0.RankCelebrationImageGlint:SetLeft( f19_local7 )
					f19_arg0.RankCelebrationImageGlint:SetRight( f19_local8 )
					ACTIONS.AnimateSequence( f19_arg0, "SlamRank" )
					ACTIONS.AnimateSequence( f19_arg0, "Darken" )
					Engine[0xC4146BA76D0F982]( SOUND_SETS.xpProgress.xpRankUpSlam )
					Engine[0xC4146BA76D0F982]( SOUND_SETS.aarShared.rankupSlam )
					for f19_local9 = 1, f13_arg0, 1 do
						f19_arg0[f13_arg0 .. 3 + f13_arg0 - f19_local9]:setPriority( 4 )
					end
				end
				local f19_local0 = f13_arg0:Wait( 100 )
				f19_local0.onComplete = function ()
					if Engine[0x1F61B16806D3CA2]( f19_arg0.greenBarSoundID ) then
						Engine[0xC738A7A46EDBB34]( f19_arg0.greenBarSoundID )
					end
				end
				
				Engine[0xC4146BA76D0F982]( SOUND_SETS.xpProgress.xpProgressBarStop )
			end, f13_local11 )
		end
		AAR.AddAnimationWithTime( f11_arg0, function ( f18_arg0 )
			if f13_arg0.primaryXPDescendingTimer then
				f18_arg0:RemoveElement( f18_arg0.primaryXPDescendingTimer )
				f18_arg0.primaryXPDescendingTimer:closeTree()
				f18_arg0.primaryXPDescendingTimer = nil
				f18_arg0:deregisterEventHandler( "AAR_XP_NUMBER_SCROLL" )
				f18_arg0.PrimaryXPLabel:SetupXP( tostring( f13_arg0 ) )
			end
			if not f13_arg0 then
				LAYOUT.SimulateElementShake( f13_arg0:getParent(), 100, LAYOUT.ShakeIntensities.STANDARD )
			end
			for f18_local0 = f13_arg0 + f13_arg0, f13_arg0, -1 do
				local f18_local3 = f18_arg0[f13_arg0 .. f18_local0]
				if 1 < f18_local3.numRewards then
					f18_local3:FanOut( 200 )
					for f18_local4 = f18_local0 - 1, 1, -1 do
						local f18_local7 = f18_arg0[f13_arg0 .. f18_local4]
						f18_local7.pushLeftOffset = f18_local7.pushLeftOffset + (f18_local3.numRewards and f13_arg0 or f13_arg0)
					end
				end
			end
			for f18_local0 = 1, f13_arg0 + f13_arg0 - 1, 1 do
				local f18_local3 = f18_arg0[f13_arg0 .. f18_local0]
				if f18_local3.pushLeftOffset and 0 < f18_local3.pushLeftOffset then
					f18_local3:SetAnchorsAndPosition( 0, 1, 0, 1, f13_arg0( f18_arg0, f13_arg0, f18_local0 - f13_arg0 ) - f18_local3.pushLeftOffset, f13_arg0( f18_arg0, f13_arg0, f18_local0 - f13_arg0 ) - f18_local3.pushLeftOffset, f13_arg0, f13_arg0, 200 )
				end
			end
		end, 0 )
		for f13_local16 = 1, f13_arg1, 1 do
			local f13_local19 = f11_arg0 + f13_arg1 - f13_local16
			local f13_local20 = f11_arg0( f11_arg0._controllerIndex, f13_arg0 + 1 + f13_arg1 - f13_local16 )
			for f13_local21 = 1, f13_local20, 1 do
				local f13_local24 = f13_local21
				AAR.AddAnimationWithTime( f11_arg0, function ( f17_arg0 )
					local f17_local0 = f17_arg0[f13_arg0 .. f13_arg0]["REWARD" .. f13_arg0]
					if f17_local0 and f17_local0.Reward then
						ACTIONS.AnimateSequence( f17_local0.Reward, "Unlock" )
					end
					if f13_arg0 == f13_arg0 and f13_arg0 == f13_arg0 then
						Engine[0xC4146BA76D0F982]( SOUND_SETS.xpProgress.xpUnlockRapidLast )
					else
						Engine[0xC4146BA76D0F982]( SOUND_SETS.xpProgress.xpUnlockRapid )
					end
				end, 200 )
			end
		end
		AAR.AddAnimationWithTime( f11_arg0, function ( f16_arg0 )
			for f16_local0 = 1, f13_arg0, 1 do
				local f16_local3 = f13_arg0 + f16_local0
				local f16_local4 = 1
				for f16_local5 = f13_arg0, f16_arg0[f13_arg0 .. f16_local3].numRewards, 1 do
					local f16_local7 = f16_arg0[f13_arg0 .. f16_local3]["REWARD" .. f16_local4]
					if f16_local7 and f16_local7.Reward then
						ACTIONS.AnimateSequence( f16_local7.Reward, "UnifiedBlink" )
					end
				end
			end
		end, 800 )
		AAR.AddAnimationWithTime( f11_arg0, function ( f15_arg0 )
			if f13_arg0 and 1 <= f13_arg0 then
				ACTIONS.AnimateSequence( f15_arg0, "Lighten" )
			end
		end, 400 )
		AAR.AddAnimationWithTime( f11_arg0, function ( f14_arg0 )
			if f13_arg0 and 1 <= f13_arg0 then
				for f14_local0 = 1, f13_arg0, 1 do
					f14_arg0[f13_arg0 .. 3 + f13_arg0 - f14_local0]:setPriority( 2 )
				end
			end
		end, 300 )
		f11_arg0( f11_arg0, f13_arg0 + f13_arg1, f13_arg1, f13_arg2, PROGRESSION.GetRankMinXP( f13_arg0 + f13_arg1 ), f13_arg4 - PROGRESSION.GetRankMinXP( f13_arg0 + f13_arg1 ) - f13_arg3, f13_arg5 )
	end
	
end

local f0_local31 = function ( f10_arg0, f10_arg1, f10_arg2 )
	f10_arg0._controllerIndex = f10_arg1
	f10_arg0._persistentUVValues = {
		u = 0,
		v = 1
	}
	for f10_local0 = 1, f0_local0, 1 do
		local f10_local3 = MenuBuilder.BuildRegisteredType( "AARXPUnlockRank", {
			controllerIndex = f10_arg1
		} )
		f10_arg0[f0_local0 .. f10_local0] = f10_local3
		f10_arg0:addElement( f10_local3 )
		f10_local3:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f0_local0, f0_local0, f0_local0 )
		f10_arg0[f0_local0 .. f10_local0]:setPriority( 2 )
	end
	f10_arg0.ProgressionFinished = false
	if f10_arg0.RankCelebrationLabelGlow then
		f10_arg0.RankCelebrationLabelGlow:SetMask( f10_arg0.RankGlintMask )
		f10_arg0.RankCelebrationLabelGlow:setUseStencil( true )
	end
	f10_arg0.Setup = f0_local0
	f10_arg0.StartCelebration = f0_local0
	f10_arg0.ClearTimers = f0_local0
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		f2_arg0[0x5A37F0F240EA5E1]:RegisterAnimationSequence( 0xEF6C3AB55C07BEF, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		if f2_arg0[0xB2D3BE24EC54FC8] then
			f2_arg0[0xB2D3BE24EC54FC8]:RegisterAnimationSequence( 0xEF6C3AB55C07BEF, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Hidden
			} )
		end
		if f2_arg0[0xC0EF3793E021EFE] then
			f2_arg0[0xC0EF3793E021EFE]:RegisterAnimationSequence( 0xEF6C3AB55C07BEF, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Hidden
			} )
		end
		local f2_local0 = function ( f9_arg0, f9_arg1 )
			f9_arg0[0x5A37F0F240EA5E1]:AnimateSequence( 0xEF6C3AB55C07BEF )
			if f9_arg0[0xB2D3BE24EC54FC8] then
				f9_arg0[0xB2D3BE24EC54FC8]:AnimateSequence( 0xEF6C3AB55C07BEF )
			end
			if f9_arg0[0xC0EF3793E021EFE] then
				f9_arg0[0xC0EF3793E021EFE]:AnimateSequence( 0xEF6C3AB55C07BEF )
			end
		end
		
		f2_arg0[0xBBD97C5302380AF]:RegisterAnimationSequence( 0xC3FF2FB08ACE66A, {
			nil,
			nil,
			0,
			0,
			nil,
			1.9035983712402182E+185,
			550,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = TWEEN_PROPERTY.Alpha
		} )
		local f2_local1 = function ( f8_arg0, f8_arg1 )
			f8_arg0[0xBBD97C5302380AF]:AnimateSequence( 0xC3FF2FB08ACE66A )
		end
		
		f2_arg0[0xBBD97C5302380AF]:RegisterAnimationSequence( 0xA2EF62951D3ED50, {
			nil,
			nil,
			1.9035983712402182E+185,
			0,
			nil,
			0,
			250,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = TWEEN_PROPERTY.Alpha
		} )
		local f2_local2 = function ( f7_arg0, f7_arg1 )
			f7_arg0[0xBBD97C5302380AF]:AnimateSequence( 0xA2EF62951D3ED50 )
		end
		
		if f2_arg0[0xC02C9FE297B3071] then
			f2_arg0[0xC02C9FE297B3071]:RegisterAnimationSequence( 0xC4331A559D7B685, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Visible
			} )
		end
		if f2_arg0[0xC0EF3793E021EFE] then
			f2_arg0[0xC0EF3793E021EFE]:RegisterAnimationSequence( 0xC4331A559D7B685, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Hidden
			} )
		end
		local f2_local3 = function ( f6_arg0, f6_arg1 )
			if f6_arg0[0xC02C9FE297B3071] then
				f6_arg0[0xC02C9FE297B3071]:AnimateSequence( 0xC4331A559D7B685 )
			end
			if f6_arg0[0xC0EF3793E021EFE] then
				f6_arg0[0xC0EF3793E021EFE]:AnimateSequence( 0xC4331A559D7B685 )
			end
		end
		
		if f2_arg0[0xC02C9FE297B3071] then
			f2_arg0[0xC02C9FE297B3071]:RegisterAnimationSequence( 0xB44C7ABD575BC2, {
				nil,
				nil,
				nil,
				0,
				nil,
				4294967245,
				0,
				nil,
				51,
				0,
				nil,
				4294967195,
				-28,
				nil,
				1,
				-28,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Visible,
				[4] = TWEEN_PROPERTY.Top,
				[7] = TWEEN_PROPERTY.Bottom,
				[10] = Bit.Pack( LUI.EASING.snap, TWEEN_PROPERTY.Top, TWEEN_PROPERTY_NUM_BITS ),
				[13] = Bit.Pack( LUI.EASING.snap, TWEEN_PROPERTY.Bottom, TWEEN_PROPERTY_NUM_BITS )
			} )
		end
		if f2_arg0[0xC0EF3793E021EFE] then
			f2_arg0[0xC0EF3793E021EFE]:RegisterAnimationSequence( 0xB44C7ABD575BC2, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Visible
			} )
		end
		local f2_local4 = function ( f5_arg0, f5_arg1 )
			if f5_arg0[0xC02C9FE297B3071] then
				f5_arg0[0xC02C9FE297B3071]:AnimateSequence( 0xB44C7ABD575BC2 )
			end
			if f5_arg0[0xC0EF3793E021EFE] then
				f5_arg0[0xC0EF3793E021EFE]:AnimateSequence( 0xB44C7ABD575BC2 )
			end
		end
		
		if f2_arg0[0xC02C9FE297B3071] then
			f2_arg0[0xC02C9FE297B3071]:RegisterAnimationSequence( 0x394F73FE3F76ED7, {
				nil,
				nil,
				4294967195,
				0,
				nil,
				1,
				0,
				nil,
				4294967245,
				-28,
				nil,
				51,
				-28,
				[1] = TWEEN_PROPERTY.Top,
				[4] = TWEEN_PROPERTY.Bottom,
				[7] = Bit.Pack( LUI.EASING.snap, TWEEN_PROPERTY.Top, TWEEN_PROPERTY_NUM_BITS ),
				[10] = Bit.Pack( LUI.EASING.snap, TWEEN_PROPERTY.Bottom, TWEEN_PROPERTY_NUM_BITS )
			} )
		end
		local f2_local5 = function ( f4_arg0, f4_arg1 )
			if f4_arg0[0xC02C9FE297B3071] then
				f4_arg0[0xC02C9FE297B3071]:AnimateSequence( 0x394F73FE3F76ED7 )
			end
		end
		
		if f2_arg0[0xA2392D109DDDF81] then
			f2_arg0[0xA2392D109DDDF81]:RegisterAnimationSequence( 0xCFB6DEEC948F26A, {
				nil,
				nil,
				1.596148807E-314,
				860,
				nil,
				1.595959592E-314,
				860,
				nil,
				5.349616965E-315,
				610,
				nil,
				5.35150912E-315,
				610,
				[1] = TWEEN_PROPERTY.Left,
				[4] = TWEEN_PROPERTY.Right,
				[7] = TWEEN_PROPERTY.Left,
				[10] = TWEEN_PROPERTY.Right
			} )
		end
		f2_arg0[0x29A3F28A5A70EE]:RegisterAnimationSequence( 0xCFB6DEEC948F26A, {
			nil,
			nil,
			5,
			0,
			nil,
			nil,
			0,
			nil,
			0,
			-28,
			[1] = TWEEN_PROPERTY.Scale,
			[4] = TWEEN_PROPERTY.Visibility,
			[5] = LUI.Visibility.Visible,
			[7] = Bit.Pack( LUI.EASING.outQuadratic, TWEEN_PROPERTY.Scale, TWEEN_PROPERTY_NUM_BITS )
		} )
		if f2_arg0[0x3FB54D743325FE9] then
			f2_arg0[0x3FB54D743325FE9]:RegisterAnimationSequence( 0xCFB6DEEC948F26A, {
				nil,
				nil,
				0,
				0,
				nil,
				5.29462817E-315,
				-28,
				[1] = TWEEN_PROPERTY.Alpha,
				[4] = Bit.Pack( LUI.EASING.snap, TWEEN_PROPERTY.Alpha, TWEEN_PROPERTY_NUM_BITS )
			} )
		end
		f2_arg0[0x5A37F0F240EA5E1]:RegisterAnimationSequence( 0xCFB6DEEC948F26A, {
			nil,
			nil,
			5,
			0,
			nil,
			1,
			0,
			nil,
			nil,
			0,
			nil,
			0,
			-28,
			nil,
			nil,
			1,
			-28,
			nil,
			0,
			50,
			nil,
			1,
			50,
			nil,
			0,
			50,
			nil,
			1,
			50,
			nil,
			-2.353438279577766E-185,
			200,
			[1] = TWEEN_PROPERTY.Scale,
			[4] = TWEEN_PROPERTY.Alpha,
			[7] = TWEEN_PROPERTY.Visibility,
			[8] = LUI.Visibility.Visible,
			[10] = Bit.Pack( 1, Bit.Pack( LUI.EASING.outQuadratic, TWEEN_PROPERTY.Scale, TWEEN_PROPERTY_NUM_BITS ), NUM_FIELDS_BIT_POSITION ),
			[13] = f0_local0,
			[14] = TWEEN_PROPERTY.Alpha,
			[17] = Bit.Pack( LUI.EASING.snap, TWEEN_PROPERTY.Alpha, TWEEN_PROPERTY_NUM_BITS ),
			[20] = Bit.Pack( LUI.EASING.snap, TWEEN_PROPERTY.Alpha, TWEEN_PROPERTY_NUM_BITS ),
			[23] = Bit.Pack( LUI.EASING.snap, TWEEN_PROPERTY.Alpha, TWEEN_PROPERTY_NUM_BITS ),
			[26] = Bit.Pack( LUI.EASING.snap, TWEEN_PROPERTY.Alpha, TWEEN_PROPERTY_NUM_BITS ),
			[29] = TWEEN_PROPERTY.Alpha
		} )
		if f2_arg0[0xB2D3BE24EC54FC8] then
			f2_arg0[0xB2D3BE24EC54FC8]:RegisterAnimationSequence( 0xCFB6DEEC948F26A, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Visible
			} )
		end
		if f2_arg0[0xC02C9FE297B3071] then
			f2_arg0[0xC02C9FE297B3071]:RegisterAnimationSequence( 0xCFB6DEEC948F26A, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Hidden
			} )
		end
		if f2_arg0[0xC0EF3793E021EFE] then
			f2_arg0[0xC0EF3793E021EFE]:RegisterAnimationSequence( 0xCFB6DEEC948F26A, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Hidden
			} )
		end
		f2_arg0[0x49D85F0EF1CEC84] = {
			[0xEF6C3AB55C07BEF] = f2_local0,
			[0xC3FF2FB08ACE66A] = f2_local1,
			[0xA2EF62951D3ED50] = f2_local2,
			[0xC4331A559D7B685] = f2_local3,
			[0xB44C7ABD575BC2] = f2_local4,
			[0x394F73FE3F76ED7] = f2_local5,
			[0xCFB6DEEC948F26A] = function ( f3_arg0, f3_arg1 )
				if f3_arg0[0xA2392D109DDDF81] then
					f3_arg0[0xA2392D109DDDF81]:AnimateSequence( 0xCFB6DEEC948F26A )
				end
				f3_arg0[0x29A3F28A5A70EE]:AnimateSequence( 0xCFB6DEEC948F26A )
				if f3_arg0[0x3FB54D743325FE9] then
					f3_arg0[0x3FB54D743325FE9]:AnimateSequence( 0xCFB6DEEC948F26A )
				end
				f3_arg0[0x5A37F0F240EA5E1]:AnimateSequence( 0xCFB6DEEC948F26A )
				if f3_arg0[0xB2D3BE24EC54FC8] then
					f3_arg0[0xB2D3BE24EC54FC8]:AnimateSequence( 0xCFB6DEEC948F26A )
				end
				if f3_arg0[0xC02C9FE297B3071] then
					f3_arg0[0xC02C9FE297B3071]:AnimateSequence( 0xCFB6DEEC948F26A )
				end
				if f3_arg0[0xC0EF3793E021EFE] then
					f3_arg0[0xC0EF3793E021EFE]:AnimateSequence( 0xCFB6DEEC948F26A )
				end
			end
		}
		f2_arg0[0xD97E59A206E4A54] = {
			[0xC3FF2FB08ACE66A] = 550,
			[0xC4331A559D7B685] = 0,
			[0xCFB6DEEC948F26A] = 1470,
			[0xA2EF62951D3ED50] = 250,
			[0x394F73FE3F76ED7] = -28,
			[0xB44C7ABD575BC2] = -28,
			[0xEF6C3AB55C07BEF] = 0
		}
	end
}
function AARXPUnlockProgression( f1_arg0, f1_arg1 )
	local f1_local0 = CONDITIONS
	local f1_local1 = LUI
	local f1_local2 = MenuBuilder
	local f1_local3 = TWEEN_PROPERTY
	local f1_local4 = f1_local1.UIElement.new()
	f1_local4:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920, 0, 1080 )
	f1_local4.id = "AARXPUnlockProgression"
	f1_local4[0xBD5D934D3CD91E5] = States
	local f1_local5
	if f1_arg1 then
		f1_local5 = f1_arg1
	else
		f1_local5 = f1_arg1.controllerIndex
	end
	f1_local5 = f1_local1.ValidateControllerIndex( f1_local4, f1_local5 )
	local f1_local6 = nil
	f1_local6 = f1_local1.UIImage.new()
	f1_local6[0x8B72E07B55C3AC0] = "ProgressMaskLeft"
	f1_local6:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, 310, -281, 261 )
	f1_local4:addElement( f1_local6 )
	f1_local4[0x436850AC9EFF473] = f1_local6
	local f1_local7 = nil
	if f1_local0.IsJup() or f1_local0[0x4A020C7B018B3BA]() then
		f1_local7 = f1_local1.UIImage.new()
		f1_local7[0x8B72E07B55C3AC0] = "RankGlintMask"
		f1_local7:setImage( RegisterMaterial( 0x98FC66415BC4AD ), 0 )
		f1_local7:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -973.5, -786.5, -1258.5, -543.5 )
		f1_local4:addElement( f1_local7 )
		f1_local4[0xA2392D109DDDF81] = f1_local7
	end
	local f1_local8 = nil
	f1_local8 = f1_local1.UIImage.new()
	f1_local8[0x8B72E07B55C3AC0] = "ProgressBackground"
	ACTIONS.ScaleStretchAnchorFullscreen( f1_local8 )
	f1_local8:SetAlpha( 0.1, 0 )
	f1_local8:SetAnchorsAndPosition( 0, 0, 0.5, 0.5, 0, 0, -251.5, 231.5 )
	f1_local4:addElement( f1_local8 )
	f1_local4[0x948B658F87AFECE] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local1.UIBorder.new( {
		borderThicknessTop = 2,
		borderThicknessLeft = 0,
		borderThicknessRight = 0,
		borderThicknessBottom = 2
	} )
	f1_local9[0x8B72E07B55C3AC0] = "ProgressBackgroundBorder"
	f1_local9:SetAlpha( 0.1, 0 )
	f1_local9:SetBorderThicknessLeft( 0, 0 )
	f1_local9:SetBorderThicknessRight( 0, 0 )
	f1_local9:SetBorderThicknessTop( 2, 0 )
	f1_local9:SetBorderThicknessBottom( 2, 0 )
	f1_local9:SetAnchorsAndPosition( 0, 0, 0.5, 0.5, 0, 0, -251.5, 231.5 )
	f1_local4:addElement( f1_local9 )
	f1_local4[0xC9008AB8264099C] = f1_local9
	local f1_local10 = nil
	if f1_local0.IsJup() or f1_local0[0x4A020C7B018B3BA]() then
		f1_local10 = f1_local2.BuildRegisteredType( 0x49AA6410C9F88B2, {
			controllerIndex = f1_local5
		} )
		f1_local10[0x8B72E07B55C3AC0] = "RulerLines"
		f1_local10:SetAlpha( 0.3, 0 )
		f1_local10:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, 526, -251.5, 231.5 )
		f1_local4:addElement( f1_local10 )
		f1_local4[0xC688F401213E23E] = f1_local10
	end
	local f1_local11 = nil
	if f1_local0.IsJup() or f1_local0[0x4A020C7B018B3BA]() then
		f1_local11 = f1_local2.BuildRegisteredType( 0x6B3D94AEEABE95D, {
			controllerIndex = f1_local5
		} )
		f1_local11[0x8B72E07B55C3AC0] = "RulerLinesCurrentRank"
		f1_local11:SetAlpha( 0.3, 0 )
		f1_local11:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, 288, -251.5, 231.5 )
		f1_local4:addElement( f1_local11 )
		f1_local4[0xF91926661E1B635] = f1_local11
	end
	local f1_local12 = nil
	if f1_local0.IsJup() or f1_local0[0x4A020C7B018B3BA]() then
		f1_local12 = f1_local2.BuildRegisteredType( 0x6B3D94AEEABE95D, {
			controllerIndex = f1_local5
		} )
		f1_local12[0x8B72E07B55C3AC0] = "RulerLinesNewRank"
		f1_local12:SetAlpha( 0.3, 0 )
		f1_local12:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 288, 526, -251.5, 231.5 )
		f1_local4:addElement( f1_local12 )
		f1_local4[0x3A9922BE6BBD5A6] = f1_local12
	end
	local f1_local13 = nil
	f1_local13 = f1_local1.UIImage.new()
	f1_local13[0x8B72E07B55C3AC0] = "ProgressBarEarned"
	f1_local13:SetRGB( SWATCHES[0x3E789DB0A12E313][0x97B2ABE3FABACF1], 0 )
	f1_local13:setImage( RegisterMaterial( 0xC36F79DC825AB2D ), 0 )
	f1_local13:SetUMax( 65, 0 )
	f1_local13:SetMask( f1_local4[0x436850AC9EFF473] )
	f1_local13:setUseStencil( true )
	f1_local13:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -1300, 1300, -242, 222 )
	f1_local4:addElement( f1_local13 )
	f1_local4[0xFA47252CAAEDC00] = f1_local13
	local f1_local14 = nil
	f1_local14 = f1_local1.UIImage.new()
	f1_local14[0x8B72E07B55C3AC0] = "XPEarnedBar"
	f1_local14:SetRGB( SWATCHES[0x2B125210C0B2BB1][0xF5C0139BA6F896C], 0 )
	f1_local14:SetAlpha( 0.2, 0 )
	f1_local14:setImage( RegisterMaterial( 0xC36F79DC825AB2D ), 0 )
	f1_local14:SetBlendMode( BLEND_MODE.addWithAlpha )
	f1_local14:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, 0, -242, 222 )
	f1_local4:addElement( f1_local14 )
	f1_local4[0x231A4C9825239EF] = f1_local14
	local f1_local15 = nil
	f1_local15 = f1_local2.BuildRegisteredType( 0x4A627E7B6EAB2DD, {
		controllerIndex = f1_local5
	} )
	f1_local15[0x8B72E07B55C3AC0] = "AARRank"
	f1_local15:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -870, 940, -40, 216 )
	f1_local4:addElement( f1_local15 )
	f1_local4[0x4A627E7B6EAB2DD] = f1_local15
	local f1_local16 = nil
	f1_local16 = f1_local1.UIImage.new()
	f1_local16[0x8B72E07B55C3AC0] = "DarkenOverly"
	ACTIONS.ScaleFullscreen( f1_local16 )
	f1_local16:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECFAC112DE22C], 0 )
	f1_local16:SetAlpha( 0, 0 )
	f1_local16:setPriority( 3 )
	f1_local4:addElement( f1_local16 )
	f1_local4[0xBBD97C5302380AF] = f1_local16
	local f1_local17 = nil
	f1_local17 = f1_local1.UIImage.new()
	f1_local17[0x8B72E07B55C3AC0] = "RankCelebrationImage"
	f1_local17:SetVisible( false )
	f1_local17:setPriority( 3 )
	f1_local17:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, 441, 587, -202, -56 )
	f1_local4:addElement( f1_local17 )
	f1_local4[0x29A3F28A5A70EE] = f1_local17
	local f1_local18 = nil
	if f1_local0.IsJup() or f1_local0[0x4A020C7B018B3BA]() then
		f1_local18 = f1_local1.UIImage.new()
		f1_local18[0x8B72E07B55C3AC0] = "RankCelebrationImageGlint"
		f1_local18:SetVisible( false )
		f1_local18:setPriority( 3 )
		f1_local18:SetBrightness( 1 )
		f1_local18:SetMask( f1_local4[0xA2392D109DDDF81] )
		f1_local18:setUseStencil( true )
		f1_local18:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, 323, 469, -261, -115 )
		f1_local4:addElement( f1_local18 )
		f1_local4[0x8FBDC3DF857715E] = f1_local18
	end
	local f1_local19 = nil
	if f1_local0.IsJup() or f1_local0[0x4A020C7B018B3BA]() then
		f1_local19 = f1_local1.UIStyledText.new()
		f1_local19[0x8B72E07B55C3AC0] = "RankCelebrationLabelDark"
		f1_local19:SetVisible( false )
		f1_local19:SetRGB( 1710618, 0 )
		f1_local19:SetAlpha( 0, 0 )
		f1_local19:setPriority( 3 )
		f1_local19:setText( "RANK", 0 )
		f1_local19:SetFont( FONTS.GetFont( FONTS.PrimaryLight.File ) )
		f1_local19:SetFontSize( 80 * _PT )
		f1_local19:SetMinFontSize( 24 * _PT )
		f1_local19:SetWordWrap( false )
		f1_local19:SetAlignment( f1_local1.Alignment.Center )
		f1_local19:SetVerticalAlignment( f1_local1.Alignment.Middle )
		f1_local19:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -835, 765, -219, -39 )
		f1_local4:addElement( f1_local19 )
		f1_local4[0x3FB54D743325FE9] = f1_local19
	end
	local f1_local20 = nil
	f1_local20 = f1_local1.UIStyledText.new()
	f1_local20[0x8B72E07B55C3AC0] = "RankCelebrationLabel"
	f1_local20:SetVisible( false )
	f1_local20:SetRGB( SWATCHES[0x2B125210C0B2BB1][0xF5C0139BA6F896C], 0 )
	f1_local20:setPriority( 3 )
	f1_local20:setText( "RANK", 0 )
	f1_local20:SetFont( FONTS.GetFont( FONTS.PrimaryLight.File ) )
	f1_local20:SetFontSize( 80 * _PT )
	f1_local20:SetMinFontSize( 24 * _PT )
	f1_local20:SetWordWrap( false )
	f1_local20:SetAlignment( f1_local1.Alignment.Center )
	f1_local20:SetVerticalAlignment( f1_local1.Alignment.Middle )
	f1_local20:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -835, 765, -219, -39 )
	f1_local4:addElement( f1_local20 )
	f1_local4[0x5A37F0F240EA5E1] = f1_local20
	local f1_local21 = nil
	if f1_local0.IsJup() or f1_local0[0x4A020C7B018B3BA]() then
		f1_local21 = f1_local1.UIStyledText.new()
		f1_local21[0x8B72E07B55C3AC0] = "RankCelebrationLabelGlow"
		f1_local21:SetVisible( false )
		f1_local21:setPriority( 3 )
		f1_local21:setText( "RANK", 0 )
		f1_local21:SetFont( FONTS.GetFont( FONTS.PrimaryLight.File ) )
		f1_local21:SetFontSize( 80 * _PT )
		f1_local21:SetMinFontSize( 24 * _PT )
		f1_local21:SetWordWrap( false )
		f1_local21:SetAlignment( f1_local1.Alignment.Center )
		f1_local21:SetVerticalAlignment( f1_local1.Alignment.Middle )
		f1_local21:SetShadowMinDistance( -0.6, 0 )
		f1_local21:SetShadowMaxDistance( 0.4, 0 )
		f1_local21:SetShadowRGB( 16185078, 0 )
		f1_local21:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -835, 765, -219, -39 )
		f1_local4:addElement( f1_local21 )
		f1_local4[0xB2D3BE24EC54FC8] = f1_local21
	end
	local f1_local22 = nil
	if f1_local0.IsJup() or f1_local0[0x4A020C7B018B3BA]() then
		f1_local22 = f1_local2.BuildRegisteredType( 0x3B9154065DC65F8, {
			controllerIndex = f1_local5
		} )
		f1_local22[0x8B72E07B55C3AC0] = "PrimaryXPLabel"
		f1_local22:SetAnchorsAndPosition( 0.5, 0.5, 0.84, 0.16, -165, 235, -15.2, 86.8 )
		f1_local4:addElement( f1_local22 )
		f1_local4[0xC02C9FE297B3071] = f1_local22
	end
	local f1_local23 = nil
	if f1_local0.IsJup() or f1_local0[0x4A020C7B018B3BA]() then
		f1_local23 = f1_local2.BuildRegisteredType( 0xF55A0A388C886A3, {
			controllerIndex = f1_local5
		} )
		f1_local23[0x8B72E07B55C3AC0] = "DoubleXPLabel"
		f1_local23:SetVisible( false )
		f1_local23:SetAnchorsAndPosition( 0.5, 0.5, 0.84, 0.16, -165, 235, 43.8, 93.8 )
		f1_local4:addElement( f1_local23 )
		f1_local4[0xC0EF3793E021EFE] = f1_local23
	end
	local f1_local24 = nil
	f1_local24 = f1_local2.BuildRegisteredType( 0x5C7CF5BF07AE3B, {
		controllerIndex = f1_local5
	} )
	f1_local24[0x8B72E07B55C3AC0] = "Playhead"
	f1_local24:setPriority( 10 )
	f1_local24:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, 310, -550, 530 )
	f1_local4:addElement( f1_local24 )
	f1_local4[0x6D257226FF57739] = f1_local24
	local f1_local25 = nil
	if f1_local0.ShouldDisplayAARUpsellPanel() then
		f1_local25 = f1_local2.BuildRegisteredType( 0x7A06D27F5939A6D, {
			controllerIndex = f1_local5
		} )
		f1_local25[0x8B72E07B55C3AC0] = "PremiumBoostPanel"
		f1_local25:SetAnchorsAndPosition( 0, 1, 0, 1, 87, 387, 78, 186 )
		f1_local4:addElement( f1_local25 )
		f1_local4[0x7A06D27F5939A6D] = f1_local25
	end
	f0_local0( f1_local4, f1_local5, f1_arg1 )
	ACTIONS.AnimateSequence( f1_local4, 0xEF6C3AB55C07BEF )
	return f1_local4
end

MenuBuilder.registerType( 0x1C04EAC57ADD71E, AARXPUnlockProgression )
LockTable( _M )
