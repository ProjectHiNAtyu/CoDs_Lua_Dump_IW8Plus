-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
BRLOOT = BRLOOT or {}
BRLOOT.CARD_X_OFFSET = 0
BRLOOT.CARD_Y_OFFSET = 0
BRLOOT.CARD_Z_OFFSET = 15
BRLOOT.CARD_MIN_SCALE = 0.5
BRLOOT.CARD_MAX_SCALE = 1
BRLOOT.CARD_SNAP_TO_SCREEN_EDGES = false
BRLOOT.CARD_IS_PERSPECTIVE_SCALE_ENABLED = true
BRLOOT.CARD_MAX_NUM_DISPLAY_ATTACHMENTS = 5
BRLOOT.INVALID_TARGET_ENTITY = -1
BRLOOT.INVALID_ITEM_VALUE = -1
BRLOOT.MAX_GENTITIES = 2048
BRLOOT.TRANSPARENT_TEXTURE = "ui_shared_transparent"
BRLOOT.DEFAULT_IW_EMPTY_TEXTURE = "specialty_ks_null"
BRLOOT.ERROR_TEXTURE = "white"
BRLOOT.ERROR_ANIM = "Hide"
BRLOOT.DEFAULT_MISSION_REWARDS_REF = "default"
BRLOOT.PLUNDER_QUANTITY_SCALING_FACTOR = 100
BRLOOT.TEAM_CASH_SCALAR = 100
BRLOOT.PLUNDER_BANKED_XP_SCALAR = 25
BRLOOT.MAX_ARMOR = 150
BRLOOT.MAX_ARMOR_PLATES_HELD = 3
BRLOOT.ValidateImage = function ( f10_arg0 )
	local f10_local0 = f10_arg0
	if not f10_arg0 then
		f10_local0 = BRLOOT.ERROR_TEXTURE
	elseif f10_arg0 == DEFAULT_IW_EMPTY_TEXTURE then
		f10_local0 = BRLOOT.TRANSPARENT_TEXTURE
	end
	return f10_local0
end

BRLOOT.itemCategories = {
	ITEM = "item"
}
BRLOOT.distanceStates = {
	SHORT = "short",
	FAR = "far",
	MEDIUM = "medium"
}
BRLOOT.itemTypes = {
	CACHE = "cache",
	PLUNDER = "plunder",
	HEALTH = "health",
	ATTACHMENT = "attachment",
	WEAPON = "weapon",
	TABLET = "tablet",
	ARMOR = "armor",
	SUPER = "super",
	KIOSK = "kiosk",
	TACTICAL = "tactical",
	KILLSTREAK = "killstreak",
	LETHAL = "lethal",
	REVIVE = "revive",
	AMMO = "ammo",
	GEAR = "gear",
	TOKEN = "token"
}
BRLOOT.itemTypeData = {
	[BRLOOT.itemTypes.AMMO] = {
		nameUnlocalized = "LOOT_MP/ITEM_TYPE_AMMO"
	},
	[BRLOOT.itemTypes.HEALTH] = {
		nameUnlocalized = "MP_BR_INGAME/ITEM_TYPE_HEALTH"
	},
	[BRLOOT.itemTypes.PLUNDER] = {
		nameUnlocalized = "LOOT_MP/ITEM_TYPE_PLUNDER"
	},
	[BRLOOT.itemTypes.GEAR] = {
		nameUnlocalized = "MP_BR_INGAME/ITEM_TYPE_GEAR"
	},
	[BRLOOT.itemTypes.ARMOR] = {
		nameUnlocalized = "LOOT_MP/ITEM_TYPE_ARMOR"
	},
	[BRLOOT.itemTypes.ATTACHMENT] = {
		nameUnlocalized = "LOOT_MP/ITEM_TYPE_ATTACHMENT"
	},
	[BRLOOT.itemTypes.LETHAL] = {
		nameUnlocalized = "LOOT_MP/ITEM_TYPE_LETHAL"
	},
	[BRLOOT.itemTypes.TACTICAL] = {
		nameUnlocalized = "LOOT_MP/ITEM_TYPE_TACTICAL"
	},
	[BRLOOT.itemTypes.WEAPON] = {},
	[BRLOOT.itemTypes.TABLET] = {
		uniqueInputString = "MENU/ACCEPT"
	},
	[BRLOOT.itemTypes.KIOSK] = {
		nameUnlocalized = "MP_BR_INGAME/ITEM_TYPE_KIOSK",
		uniqueInputString = "MENU/INTERACT"
	},
	[BRLOOT.itemTypes.SUPER] = {
		nameUnlocalized = "MP_BR_INGAME/ITEM_TYPE_SUPER"
	},
	[BRLOOT.itemTypes.CACHE] = {
		nameUnlocalized = "MP_BR_INGAME/ITEM_TYPE_CACHE",
		uniqueInputString = "MP_BR_INGAME/OPEN"
	},
	[BRLOOT.itemTypes.KILLSTREAK] = {
		nameUnlocalized = "MP_BR_INGAME/ITEM_TYPE_KILLSTREAK"
	},
	[BRLOOT.itemTypes.TOKEN] = {
		nameUnlocalized = "MP_BR_INGAME/REDEPLOYMENT"
	},
	[BRLOOT.itemTypes.REVIVE] = {
		nameUnlocalized = "MP_BR_INGAME/ITEM_TYPE_LAST_STAND"
	}
}
BRLOOT.itemRarities = {
	COMMON = 0,
	EPIC = 3,
	MISSION = 6,
	PLAYER = 5,
	UNCOMMON = 1,
	RARE = 2,
	LEGENDARY = 4
}
BRLOOT.rewardsTypes = {
	TRAINING_REWARD = 0,
	PRACTICE_REWARD = 2,
	BLOOD_MONEY_TRAINING_REWARD = 3,
	FIRST_MATCH_REWARD = 1
}
BRLOOT.tutorialChallengeIDs = {
	[BRLOOT.rewardsTypes.TRAINING_REWARD] = "37557432",
	[BRLOOT.rewardsTypes.FIRST_MATCH_REWARD] = "37557433",
	[BRLOOT.rewardsTypes.PRACTICE_REWARD] = "37557434",
	[BRLOOT.rewardsTypes.BLOOD_MONEY_TRAINING_REWARD] = "37557435"
}
BRLOOT.itemRarityData = {
	[BRLOOT.itemRarities.COMMON] = {
		nameUnlocalized = "LOOT_MP/QUALITY_1",
		rarityIcon = "ui_mp_br_lootcard_icon_rarity_common",
		swatch = SWATCHES.BRLootItemRarity.Common
	},
	[BRLOOT.itemRarities.UNCOMMON] = {
		nameUnlocalized = "LOOT_MP/QUALITY_UNCOMMON",
		rarityIcon = "ui_mp_br_lootcard_icon_rarity_uncommon",
		swatch = SWATCHES.BRLootItemRarity.Uncommon
	},
	[BRLOOT.itemRarities.RARE] = {
		nameUnlocalized = "LOOT_MP/QUALITY_2",
		rarityIcon = "ui_mp_br_lootcard_icon_rarity_rare",
		swatch = SWATCHES.BRLootItemRarity.Rare
	},
	[BRLOOT.itemRarities.EPIC] = {
		nameUnlocalized = "LOOT_MP/QUALITY_3",
		rarityIcon = "ui_mp_br_lootcard_icon_rarity_epic",
		swatch = SWATCHES.BRLootItemRarity.Epic
	},
	[BRLOOT.itemRarities.LEGENDARY] = {
		nameUnlocalized = "LOOT_MP/QUALITY_4",
		rarityIcon = "ui_mp_br_lootcard_icon_rarity_legendary",
		swatch = SWATCHES.BRLootItemRarity.Legendary
	},
	[BRLOOT.itemRarities.PLAYER] = {
		nameUnlocalized = "LOOT_MP/QUALITY_PLAYER",
		rarityIcon = "ui_mp_br_lootcard_icon_rarity_advancedsupplydrop",
		swatch = SWATCHES.BRLootItemRarity.Player
	},
	[BRLOOT.itemRarities.MISSION] = {
		nameUnlocalized = "MP_BR_INGAME/CONTRACT",
		rarityIcon = "ui_mp_br_lootcard_icon_rarity_common",
		swatch = SWATCHES.BRLootItemRarity.Mission
	}
}
BRLOOT.weaponClasses = {
	SMG = "weapon_smg",
	SHOTGUN = "weapon_shotgun",
	ASSAULT = "weapon_assault",
	PROJECTILE = "weapon_projectile",
	PISTOL = "weapon_pistol",
	LMG = "weapon_lmg",
	SNIPER = "weapon_sniper",
	DMR = "weapon_dmr"
}
BRLOOT.ammoTypes = {
	AR = "brloot_ammo_762",
	SHOTGUN = "brloot_ammo_12g",
	SMALL_ARMS = "brloot_ammo_919",
	SNIPER = "brloot_ammo_50cal",
	ROCKET = "brloot_ammo_rocket"
}
BRLOOT.ammoData = {
	[BRLOOT.ammoTypes.AR] = {
		ammoImage = "ui_mp_br_loot_icon_ammo_mid",
		maxAmmo = 150,
		ammoImageDetail = "ui_mp_br_loot_icon_ammo_mid_detail",
		ammoAnim = "AssaultActive",
		ammoName = "MP/BR_AMMO_AR_LMG",
		ammoDSRef = "PlayerAssaultRifleAmmoStore",
		storedAmmoOmnvarName = "ui_br_assault_ammo",
		weaponClass = {
			BRLOOT.weaponClasses.ASSAULT,
			BRLOOT.weaponClasses.LMG
		}
	},
	[BRLOOT.ammoTypes.SMALL_ARMS] = {
		ammoImage = "ui_mp_br_loot_icon_ammo_small",
		maxAmmo = -8,
		ammoImageDetail = "ui_mp_br_loot_icon_ammo_small_detail",
		ammoAnim = "SmallArmsActive",
		ammoName = "MP/BR_AMMO_PISTOL_SMG",
		ammoDSRef = "PlayerSmallArmsAmmoStore",
		storedAmmoOmnvarName = "ui_br_smallarms_ammo",
		weaponClass = {
			BRLOOT.weaponClasses.PISTOL,
			BRLOOT.weaponClasses.SMG
		}
	},
	[BRLOOT.ammoTypes.SHOTGUN] = {
		ammoImage = "ui_mp_br_loot_icon_ammo_shells",
		maxAmmo = 30,
		ammoImageDetail = "ui_mp_br_loot_icon_ammo_shells_detail",
		ammoAnim = "ShotgunActive",
		ammoName = "MP/BR_AMMO_SHOTGUN",
		ammoDSRef = "PlayerShotgunAmmoStore",
		storedAmmoOmnvarName = "ui_br_shotgun_ammo",
		weaponClass = {
			BRLOOT.weaponClasses.SHOTGUN
		}
	},
	[BRLOOT.ammoTypes.SNIPER] = {
		ammoImage = "ui_mp_br_loot_icon_ammo_high",
		maxAmmo = 30,
		ammoImageDetail = "ui_mp_br_loot_icon_ammo_high_detail",
		ammoAnim = "SniperActive",
		ammoName = "MP/BR_AMMO_SNIPER",
		ammoDSRef = "PlayerSniperAmmoStore",
		storedAmmoOmnvarName = "ui_br_sniper_ammo",
		weaponClass = {
			BRLOOT.weaponClasses.SNIPER,
			BRLOOT.weaponClasses.DMR
		}
	},
	[BRLOOT.ammoTypes.ROCKET] = {
		ammoImage = "ui_mp_br_loot_icon_ammo_rocket",
		maxAmmo = 3,
		ammoImageDetail = "ui_mp_br_loot_icon_ammo_rocket_detail",
		ammoAnim = "RocketActive",
		ammoName = "MP/BR_AMMO_LAUNCHER",
		ammoDSRef = "PlayerRocketAmmoStore",
		storedAmmoOmnvarName = "ui_br_rocket_ammo",
		weaponClass = {
			BRLOOT.weaponClasses.PROJECTILE
		}
	}
}
BRLOOT.weaponClassData = {
	[BRLOOT.weaponClasses.ASSAULT] = {
		ammoData = BRLOOT.ammoData[BRLOOT.ammoTypes.AR]
	},
	[BRLOOT.weaponClasses.LMG] = {
		ammoData = BRLOOT.ammoData[BRLOOT.ammoTypes.AR]
	},
	[BRLOOT.weaponClasses.SMG] = {
		ammoData = BRLOOT.ammoData[BRLOOT.ammoTypes.SMALL_ARMS]
	},
	[BRLOOT.weaponClasses.PISTOL] = {
		ammoData = BRLOOT.ammoData[BRLOOT.ammoTypes.SMALL_ARMS]
	},
	[BRLOOT.weaponClasses.SHOTGUN] = {
		ammoData = BRLOOT.ammoData[BRLOOT.ammoTypes.SHOTGUN]
	},
	[BRLOOT.weaponClasses.SNIPER] = {
		ammoData = BRLOOT.ammoData[BRLOOT.ammoTypes.SNIPER]
	},
	[BRLOOT.weaponClasses.DMR] = {
		ammoData = BRLOOT.ammoData[BRLOOT.ammoTypes.SNIPER]
	},
	[BRLOOT.weaponClasses.PROJECTILE] = {
		ammoData = BRLOOT.ammoData[BRLOOT.ammoTypes.ROCKET]
	}
}
BRLOOT.InitLootCSV = function ()
	CSV.BRLootBase.file = Dvar[0x54084D7CA2317BB]( "#x367002091f348e34d" )
	assert( CSV.BRLootBase.file ~= "" )
	for f9_local4, f9_local5 in pairs( BRLOOT.ammoTypes ) do
		local f9_local6 = tonumber( StringTable[0x2DCF0973239E909]( CSV.BRLootBase.file, CSV.BRLootBase.cols.name, f9_local5, CSV.BRLootBase.cols.maxStackSize ) )
		local f9_local7 = BRLOOT.ammoData[f9_local5]
		local f9_local3
		if not f9_local6 then
			f9_local3 = f9_local6
		else
			f9_local3 = 0
		end
		f9_local7.maxAmmo = f9_local3
	end
	f9_local0 = tonumber( StringTable[0x2DCF0973239E909]( CSV.BRLootBase.file, CSV.BRLootBase.cols.name, "brloot_armor_plate", CSV.BRLootBase.cols.classCharacteristicTitle ) )
	f9_local1 = BRLOOT
	if not f9_local0 then
		f9_local2 = f9_local0
	else
		f9_local2 = BRLOOT.MAX_ARMOR
	end
	f9_local1.MAX_ARMOR = f9_local2
	f9_local1 = tonumber( StringTable[0x2DCF0973239E909]( CSV.BRLootBase.file, CSV.BRLootBase.cols.name, "brloot_armor_plate", CSV.BRLootBase.cols.maxStackSize ) )
	f9_local2 = BRLOOT
	if not f9_local1 then
		f9_local4 = f9_local1
	else
		f9_local4 = BRLOOT.MAX_ARMOR_PLATES_HELD
	end
	f9_local2.MAX_ARMOR_PLATES_HELD = f9_local4
end

BRLOOT.ShouldShowLootCard = function ( f8_arg0 )
	return DataModel[0x614D394F6F9A18D]( DataSources.inGame.HUD.hints.interactiveObject.lootCard.shouldShow:GetModel( f8_arg0 ) ) == 1
end

BRLOOT.UpdateLootCard = function ( f7_arg0, f7_arg1, f7_arg2 )
	assert( f7_arg0 )
	assert( f7_arg1 )
	assert( f7_arg2 )
	assert( f7_arg2.CustomUpdate )
	if BRLOOT.ShouldShowLootCard( f7_arg1 ) then
		local f7_local0 = Game[0x196F372D8C10CA1]( f7_arg1 )
		if f7_local0 then
			f7_arg2.CustomUpdate( f7_arg0, f7_arg1, {
				nativeLootDataTable = f7_local0
			} )
		end
	elseif f7_arg2.CustomHideRoutine then
		f7_arg2.CustomHideRoutine( f7_arg0 )
	else
		ACTIONS.AnimateSequence( f7_arg0, "ModHideAll" )
	end
end

BRLOOT.StripHackAttachmentsFromLootString = function ( f6_arg0 )
	f6_arg0 = f6_arg0:gsub( "br_rangeext_ar%+", "" )
	f6_arg0 = f6_arg0:gsub( "br_rangeext_smg%+", "" )
	f6_arg0 = f6_arg0:gsub( "br_rangeext_shtgn%+", "" )
	f6_arg0 = f6_arg0:gsub( "br_rangeext_lmg%+", "" )
	f6_arg0 = f6_arg0:gsub( "br_rangeext_snpr%+", "" )
	f6_arg0 = f6_arg0:gsub( "br_rangeext_pstl%+", "" )
	return f6_arg0:gsub( "br_rangeext_dmr%+", "" )
end

BRLOOT.GetLootDataByRowIndex = function ( f5_arg0 )
	local f5_local0 = {}
	local f5_local1 = CSV.ReadRow( CSV.BRLootBase, f5_arg0 )
	if f5_local1 then
		f5_local0.name = f5_local1.name
		f5_local0.title = f5_local1.title
		f5_local0.desc = f5_local1.desc
		f5_local0.icon = f5_local1.icon
		f5_local0.type = f5_local1.type
		f5_local0.classCharacteristicTitle = f5_local1.classCharacteristicTitle
		f5_local0.weaponCharacteristicTitle = f5_local1.weaponCharacteristicTitle
		f5_local0.weaponRef = f5_local1.baseWeapon
		f5_local0.attachments = f5_local1.attachments
		f5_local0.rarityNum = tonumber( f5_local1.rarity )
		f5_local0.isBlueprint = f5_local1.isBlueprint
		return f5_local0
	else
		return nil
	end
end

BRLOOT.GetLootDataForLookupKeys = function ( f3_arg0 )
	local f3_local0 = CSV.BRLootBase.file
	local f3_local1 = {}
	local f3_local2 = function ( f4_arg0, f4_arg1 )
		if f4_arg1 then
			table.insert( f3_arg0, {
				col = f4_arg0,
				key = f4_arg1
			} )
		end
	end
	
	if f3_arg0.fullWeaponName then
		f3_arg0.fullWeaponName = BRLOOT.StripHackAttachmentsFromLootString( f3_arg0.fullWeaponName )
	end
	f3_local2( CSV.BRLootBase.cols.name, f3_arg0.nameRef )
	f3_local2( CSV.BRLootBase.cols.itemCategory, f3_arg0.itemCategory )
	f3_local2( CSV.BRLootBase.cols.fullWeaponName, f3_arg0.fullWeaponName )
	f3_local2( CSV.BRLootBase.cols.icon, f3_arg0.icon )
	local f3_local3 = StringTable[0xF6B0CC3002991DB]( f3_local0, f3_local1 )
	local f3_local4 = {}
	if f3_local3 and -1 < f3_local3 then
		f3_local4.name = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.name )
		f3_local4.title = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.title )
		f3_local4.desc = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.desc )
		f3_local4.icon = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.icon )
		f3_local4.type = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.type )
		f3_local4.classCharacteristicTitle = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.classCharacteristicTitle )
		f3_local4.weaponCharacteristicTitle = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.weaponCharacteristicTitle )
		f3_local4.weaponRef = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.baseWeapon )
		f3_local4.attachments = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.attachments )
		f3_local4.rarityNum = tonumber( StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.rarity ) )
		f3_local4.maxStackSize = tonumber( StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.maxStackSize ) )
		f3_local4.isBlueprint = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.isBlueprint )
		f3_local4.contractType = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.contractType )
		f3_local4.contractTime = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.contractTime )
		f3_local4.missionRef = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.missionRef )
		f3_local4.contractReward1Ref = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.contractReward1Ref )
		f3_local4.contractReward2Ref = StringTable[0x2077452C28AB2FC]( f3_local0, f3_local3, CSV.BRLootBase.cols.contractReward2Ref )
		return f3_local4
	else
		return nil
	end
end

BRLOOT.GetEquipmentLootRarityNumber = function ( f2_arg0 )
	return tonumber( StringTable[0x2DCF0973239E909]( CSV.BRLootBase.file, CSV.BRLootBase.cols.baseWeapon, f2_arg0, CSV.BRLootBase.cols.rarity ) )
end

BRLOOT.GetAbbreviatedNumber = function ( f1_arg0 )
	local f1_local0 = 1000000000
	local f1_local1 = 1000000
	local f1_local2 = 1000
	local f1_local3 = nil
	if f1_local0 <= f1_arg0 then
		f1_local3 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/ABBREVIATED_CASH_BILLION", string.format( "%g", tonumber( string.format( "%.1f", f1_arg0 / f1_local0 ) ) ) )
	elseif f1_local1 <= f1_arg0 then
		f1_local3 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/ABBREVIATED_CASH_MILLION", string.format( "%g", tonumber( string.format( "%.1f", f1_arg0 / f1_local1 ) ) ) )
	elseif f1_local2 <= f1_arg0 then
		f1_local3 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/ABBREVIATED_CASH_THOUSAND", string.format( "%g", tonumber( string.format( "%.1f", f1_arg0 / f1_local2 ) ) ) )
	else
		f1_local3 = f1_arg0
	end
	return f1_local3
end

