-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
module( ..., package.seeall )
local f0_local0 = function ( f14_arg0, f14_arg1 )
	assert( f14_arg0.Vignette )
	assert( f14_arg0.GradientRight )
	ACTIONS.ScaleStretchAnchorFullscreen( f14_arg0.GradientRight )
	if Engine.CGABICJHAI() then
		LAYOUT.AddAspectRatioFadeFrame( f14_arg0, f14_arg1, nil )
	end
	f14_arg0:addAndCallEventHandler( "onVideoChange", function ()
		local f15_local0 = CoD.GetAspectRatioScaleAdjust( 0.4 )
		f14_arg0.Vignette:SetScale( f15_local0 )
		f14_arg0.GradientRight:SetScale( f15_local0 )
	end )
end

local f0_local1 = function ( f13_arg0, f13_arg1, f13_arg2 )
	local f13_local0 = LUI.FlowManager.GetScopedData( "WarzonePrivateMatchLobby" )
	if not f13_local0.squadActionDisplayed and not PRIVATE_MATCH.IsWZSoloGameModeLobby( f13_arg0, f13_arg1, f13_arg2 ) then
		f13_local0.squadActionDisplayed = true
		LUI.FlowManager.RequestPopupMenu( nil, "LobbySquadActions", true, f13_arg1, false, {
			isWZPrivateMatch = true
		} )
	end
end

local f0_local2 = function ( f12_arg0, f12_arg1, f12_arg2 )
	if f12_arg2 then
		f12_arg0.LobbyMap:SetGameModeName( f12_arg1, f12_arg2 )
	end
end

local f0_local3 = function ( f10_arg0, f10_arg1 )
	local f10_local0 = LUI.FlowManager.GetScopedData( "WarzonePrivateMatchLobby" )
	local f10_local1 = f10_local0.matchmakerSettings
	if f10_local1 then
		f10_local1 = f10_local0.matchmakerSettings.recipe
		if f10_local1 then
			f10_local1 = 0 < #f10_local0.matchmakerSettings.recipe
		end
	end
	if f10_arg0._areWeGameHost and not f10_local1 and not PRIVATE_MATCH.IsWZPrivateMatchRecipeReady( f10_arg0 ) then
		f10_arg0.Fade:SetAlpha( 1 )
		f10_arg0:dispatchEventToCurrentMenu( {
			name = "wz_lobby_fade_out"
		} )
		local f10_local2 = f10_arg0:Wait( 100 )
		f10_local2.onComplete = function ()
			local f11_local0 = LUI.FlowManager.RequestAddMenu
			local f11_local1 = "GameModes"
			local f11_local2 = true
			local f11_local3 = f10_arg0
			if not f11_local3 then
				f11_local3 = event.controller
			end
			f11_local0( f11_local1, f11_local2, f11_local3, false, {
				isWarzonePrivateMatchHost = true,
				isWarzone = f10_arg0.isWarzone,
				matchmakerSettings = f10_arg0.matchmakerSettings
			}, false )
		end
		
	else
		if not Onboarding.WarzonePrivateMatch.WasCompleted( f10_arg0, f10_arg1 ) then
			LUI.FlowManager.RequestPopupMenu( f10_arg0, "onboardingpopup", true, f10_arg1, false, ONBOARDING_DATA.GetOnboardinWarzonePrivateMatchData() )
			Onboarding.WarzonePrivateMatch.MarkCompleted( f10_arg0, f10_arg1 )
		end
		f0_local0( f10_arg0, f10_arg1, f10_arg0._areWeGameHost )
		local f10_local2 = ""
		if f10_local0.matchmakerSettings and f10_local0.matchmakerSettings.name and 0 < #f10_local0.matchmakerSettings.name then
			f10_local2 = f10_local0.matchmakerSettings.name
		elseif f10_local0.wzGameRef and 0 < #f10_local0.wzGameRef then
			local f10_local3 = StringTable.DIFCHIGDFB( CSV.gameTypesTable.file, CSV.gameTypesTable.cols.ref, f10_local0.wzGameRef, CSV.gameTypesTable.cols.name )
			if f10_local3 and 0 < #f10_local3 then
				f10_local2 = Engine.CBBHFCGDIC( f10_local3 )
			end
		end
		f0_local0( f10_arg0, f10_arg1, f10_local2 )
	end
end

local f0_local4 = function ( f9_arg0 )
	assert( f9_arg0._areWeGameHost ~= nil )
	if not f9_arg0._areWeGameHost then
		PRIVATE_MATCH.SetupWarzoneMinPlayerNum( MatchRules.BIJEDCBCBH( "recipeName" ) )
	end
	local f9_local0 = PRIVATE_MATCH.GetLobbyCurrentPlayerCount()
	local f9_local1 = PRIVATE_MATCH.GetLobbyMaxPlayerCount()
	local f9_local2 = PRIVATE_MATCH.GetLobbyMinPlayerCount()
	f9_arg0.LobbyCount:setText( Engine.CBBHFCGDIC( "LUA_MENU_MP/WZ_PRIVATE_MATCH_REQUIRMENT", f9_local0, f9_local1, LUI.clamp( f9_local2 - f9_local0, 0, f9_local2 ) ) )
	if f9_arg0._currentPlayerCount ~= f9_local0 then
		DebugPrint( "WZ PRIVATE MATCH --------- current lobby player count has been changed \n" )
		DebugPrint( "Previous lobby player count: " .. tostring( f9_arg0._currentPlayerCount ) .. " Current lobby player count: " .. tostring( f9_local0 ) )
		f9_arg0._currentPlayerCount = f9_local0
		if f9_arg0._areWeGameHost then
			f9_arg0:dispatchEventToChildren( {
				name = "wz_lobby_player_count_update",
				controllerIndex = controllerIndex
			} )
		end
	end
end

local f0_local5 = function ( f8_arg0 )
	local f8_local0 = SQUAD.GetCurrentSquadCount()
	local f8_local1 = SQUAD.GetSquadSize()
	if SQUAD.GetPlayerSquadIndex() ~= -1 then
		f8_arg0.YourSquadCount:setText( Engine.CBBHFCGDIC( "LUA_MENU_MP/SQUAD_NUMBER", SQUAD.GetPlayerSquadIndex() ) .. " " .. Engine.CBBHFCGDIC( "LUA_MENU_MP/WZ_SQUAD_COUNT", f8_local0, f8_local1 ) )
	else
		f8_arg0.YourSquadCount:setText( Engine.CBBHFCGDIC( "LUA_MENU_MP/NOT_ASSIGNED_SQUAD" ) )
	end
	local f8_local2, f8_local3, f8_local4, f8_local5 = f8_arg0.YourSquad:getLocalRect()
	local f8_local6 = LAYOUT.GetTextWidth( f8_arg0.YourSquad )
	local f8_local7, f8_local8, f8_local9, f8_local10 = f8_arg0.YourSquadCount:getLocalRect()
	local f8_local11 = LAYOUT.GetTextWidth( f8_arg0.YourSquadCount )
	local f8_local12 = 32 * _1080p
	local f8_local13 = nil
	if f8_local11 < f8_local6 then
		f8_arg0.YourSquadCount:SetRight( f8_local2 + f8_local6 - f8_local12 )
		f8_local13 = f8_arg0.YourSquad
	else
		f8_arg0.YourSquad:SetRight( f8_local7 + f8_local11 - f8_local12 )
		f8_local13 = f8_arg0.YourSquadCount
	end
	LAYOUT.SetTextBoxSize( f8_local13, f8_arg0.DoubleNotchedBacker, f8_local13:getText(), f8_local12, nil, LUI.Alignment.Left, 0 )
end

local f0_local6 = function ( f6_arg0, f6_arg1 )
	Engine.DHFCHIIJCA( "squad_lobby" )
	f6_arg0.lobbyTimer = LUI.UITimer.new( {
		interval = 500,
		event = "update_lobby"
	} )
	f6_arg0.lobbyTimer.id = "lobbyTimer"
	f6_arg0:addElement( f6_arg0.lobbyTimer )
	f6_arg0:registerEventHandler( "update_lobby", function ( element, event )
		Lobby.UpdateClientCharacters( f6_arg0, {
			forceSuperfactionBasedOnTeam = false,
			maxCharactersToShow = FrontEndScene.MaxLobbyCharacters,
			widget = f6_arg0
		} )
	end )
end

local f0_local7 = function ( f4_arg0, f4_arg1 )
	if MatchRules.EAIEFBHGJ() then
		f0_local0( f4_arg0 )
		f0_local0( f4_arg0 )
	end
	f4_arg0.lobbyTimer = LUI.UITimer.new( {
		interval = 1000,
		event = "update_squad_count"
	} )
	f4_arg0.lobbyTimer.id = "SquadCountTimer"
	f4_arg0:addElement( f4_arg0.lobbyTimer )
	f4_arg0:addEventHandler( "update_squad_count", function ( f5_arg0, f5_arg1 )
		if MatchRules.EAIEFBHGJ() then
			f4_arg0( f4_arg0 )
			f4_arg0( f4_arg0 )
		end
	end )
end

local f0_local8 = function ( f2_arg0, f2_arg1, f2_arg2 )
	local f2_local0 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.areWeGameHost" )
	f2_arg0._areWeGameHost = f2_local0:GetValue( f2_arg1 )
	f0_local0( f2_arg0, f2_arg1 )
	f0_local0( f2_arg0, f2_arg1 )
	f2_arg0:addEventHandler( "menu_create", function ( f3_arg0, f3_arg1 )
		f2_arg0( f3_arg0, f2_arg0 )
	end )
	f0_local0( f2_arg0 )
end

function WarzonePrivateMatchLobbyPlayMenu( menu, controller )
	local self = LUI.UIHorizontalNavigator.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "WarzonePrivateMatchLobbyPlayMenu"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local GradientRight = nil
	
	GradientRight = LUI.UIImage.new()
	GradientRight.id = "GradientRight"
	GradientRight:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	GradientRight:SetAlpha( 0.5, 0 )
	GradientRight:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	GradientRight:SetAnchorsAndPosition( 1, 0, 0, 0, 0, _1080p * -900, _1080p * 160, _1080p * -70 )
	self:addElement( GradientRight )
	self.GradientRight = GradientRight
	
	local Vignette = nil
	
	Vignette = LUI.UIImage.new()
	Vignette.id = "Vignette"
	Vignette:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Vignette:SetAlpha( 0.5, 0 )
	Vignette:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	Vignette:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 900, _1080p * 160, _1080p * -70 )
	self:addElement( Vignette )
	self.Vignette = Vignette
	
	local WarzonePrivateMatchPlayMenuButtons = nil
	
	WarzonePrivateMatchPlayMenuButtons = MenuBuilder.BuildRegisteredType( "WarzonePrivateMatchPlayMenuButtons", {
		controllerIndex = f1_local1
	} )
	WarzonePrivateMatchPlayMenuButtons.id = "WarzonePrivateMatchPlayMenuButtons"
	WarzonePrivateMatchPlayMenuButtons:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 526, _1080p * 216, _1080p * 516 )
	self:addElement( WarzonePrivateMatchPlayMenuButtons )
	self.WarzonePrivateMatchPlayMenuButtons = WarzonePrivateMatchPlayMenuButtons
	
	local f1_local6 = nil
	if CONDITIONS.AlwaysFalse( self ) then
		f1_local6 = MenuBuilder.BuildRegisteredType( "LobbyMembers", {
			controllerIndex = f1_local1
		} )
		f1_local6.id = "LobbyMembers"
		f1_local6:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * 254, _1080p * 864, _1080p * 213, _1080p * 822 )
		self:addElement( f1_local6 )
		self.LobbyMembers = f1_local6
	end
	local LobbyMap = nil
	
	LobbyMap = MenuBuilder.BuildRegisteredType( "LobbyMap", {
		controllerIndex = f1_local1
	} )
	LobbyMap.id = "LobbyMap"
	LobbyMap:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 83, _1080p * 539, _1080p * -349, _1080p * -105 )
	self:addElement( LobbyMap )
	self.LobbyMap = LobbyMap
	
	local DoubleNotchedBacker = nil
	
	DoubleNotchedBacker = MenuBuilder.BuildRegisteredType( "DoubleNotchedBacker", {
		controllerIndex = f1_local1
	} )
	DoubleNotchedBacker.id = "DoubleNotchedBacker"
	DoubleNotchedBacker:SetAlpha( 0.6, 0 )
	DoubleNotchedBacker:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 602, _1080p * 874, _1080p * 213, _1080p * 319 )
	self:addElement( DoubleNotchedBacker )
	self.DoubleNotchedBacker = DoubleNotchedBacker
	
	local LobbyCount = nil
	
	LobbyCount = LUI.UIStyledText.new()
	LobbyCount.id = "LobbyCount"
	LobbyCount:SetRGBFromTable( SWATCHES.genericMenu.descText, 0 )
	LobbyCount:setText( Engine.CBBHFCGDIC( "LUA_MENU_MP/WZ_PRIVATE_MATCH_REQUIRMENT" ), 0 )
	LobbyCount:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	LobbyCount:SetWordWrap( false )
	LobbyCount:SetAlignment( LUI.Alignment.Left )
	LobbyCount:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 526, _1080p * 183, _1080p * 207 )
	self:addElement( LobbyCount )
	self.LobbyCount = LobbyCount
	
	local YourSquad = nil
	
	YourSquad = LUI.UIStyledText.new()
	YourSquad.id = "YourSquad"
	YourSquad:SetRGBFromTable( SWATCHES.genericMenu.mainTitle, 0 )
	YourSquad:setText( ToUpperCase( Engine.CBBHFCGDIC( "LUA_MENU_MP/YOUR_SQUAD" ) ), 0 )
	YourSquad:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	YourSquad:SetWordWrap( false )
	YourSquad:SetAlignment( LUI.Alignment.Left )
	YourSquad:SetOptOutRightToLeftAlignmentFlip( true )
	YourSquad:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 634, _1080p * 842, _1080p * 229, _1080p * 279 )
	self:addElement( YourSquad )
	self.YourSquad = YourSquad
	
	local YourSquadCount = nil
	
	YourSquadCount = LUI.UIStyledText.new()
	YourSquadCount.id = "YourSquadCount"
	YourSquadCount:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	YourSquadCount:setText( Engine.CBBHFCGDIC( "LUA_MENU_MP/WZ_SQUAD_COUNT" ), 0 )
	YourSquadCount:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	YourSquadCount:SetWordWrap( false )
	YourSquadCount:SetAlignment( LUI.Alignment.Left )
	YourSquadCount:SetOptOutRightToLeftAlignmentFlip( true )
	YourSquadCount:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 634, _1080p * 748, _1080p * 279, _1080p * 302 )
	self:addElement( YourSquadCount )
	self.YourSquadCount = YourSquadCount
	
	local Fade = nil
	
	Fade = LUI.UIImage.new()
	Fade.id = "Fade"
	Fade:SetRGBFromInt( 0, 0 )
	Fade:SetAlpha( 0, 0 )
	Fade:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * -198, _1080p * 2081, _1080p * -145, _1080p * 1210 )
	self:addElement( Fade )
	self.Fade = Fade
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "WarzonePrivateMatchLobbyPlayMenu", WarzonePrivateMatchLobbyPlayMenu )
LockTable( _M )
