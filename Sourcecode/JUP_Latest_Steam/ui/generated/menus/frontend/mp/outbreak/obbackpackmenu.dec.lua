-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.subtypetab" )
require( "ui.generated.widgets.frontend.mp.outbreak.obbackpack" )
local f0_local0 = -2
local f0_local1 = 2
local f0_local2 = function ( f8_arg0, f8_arg1, f8_arg2, f8_arg3 )
	local f8_local0 = LUI.FlowManager.GetScopedData( f8_arg0 )
	local f8_local1 = {}
	for f8_local5, f8_local6 in ipairs( f8_arg3 ) do
		table.insert( f8_local1, {
			name = f8_local6.name,
			disabled = f8_local6.disabled,
			hasDefaultFocus = f8_local5 - 1 == f8_local0.activeTabIndex,
			focusFunction = function ( f9_arg0, f9_arg1, f9_arg2, f9_arg3 )
				if f8_arg0.activeTabIndex and f9_arg2 == f8_arg0.activeTabIndex and f8_arg0.activeTabWidget then
					
				else
					
				end
				if 0 < #f8_arg0.menuName then
					f8_arg0.items = f8_arg0.items
					TAB.UpdateBuiltWidget( f8_arg0, f8_arg0.menuName, f9_arg2, f9_arg3, f8_arg0 )
					f8_arg0.activeTabIndex = f9_arg2
				end
				if f9_arg2 ~= 0 then
					local f9_local0 = f8_arg0.activeTabWidget
					if f9_local0 and not f9_local0.BackButtonOverride then
						f9_local0.BackButtonOverride = function ( f10_arg0, f10_arg1 )
							local f10_local0
							if f10_arg1.qualifier == "keyboard" or f10_arg1.qualifier == "gamepad" then
								f10_local0 = false
							else
								f10_local0 = true
							end
							local f10_local1
							if f10_local0 then
								f10_local1 = FocusType.MouseOver
								if not f10_local1 then
								
								else
									f9_arg0.Tabs:FocusTab( f9_arg0, 0, f10_local1 )
									return false
								end
							end
							f10_local1 = FocusType.Gamepad
						end
						
					end
				end
				f8_arg0.Tabs:SetTabBackers( 0x4A92B03F0597F32, 0xC02D58CAA84557F )
				Engine[0xC4146BA76D0F982]( SOUND_SETS.default.tabHighlight )
			end
		} )
	end
	f8_arg0.Tabs:SetTabs( f8_local1 )
	f8_arg0.Tabs:HideShoulderButtonPrompts()
	f8_arg0.Tabs:SetAlignment( LUI.Alignment.Center )
	if #f8_local1 <= 1 then
		f8_arg0.Tabs:HideTabs()
		ACTIONS.AnimateSequence( f8_arg0, "HideTabs" )
	else
		f8_local2 = 0
		for f8_local3 = 1, #f8_local1, 1 do
			local f8_local7 = f8_arg0.Tabs:GetTabAtIndex( f8_local3 )
			if f8_local7._tabWidth then
				f8_local2 = f8_local2 + f8_local7._tabWidth
			end
		end
		f8_local4 = (LAYOUT.GetElementWidth( f8_arg0.Tabs ) - f8_local2) / 2
		f8_local5 = f8_arg0.Tabs:GetAnchorsAndPosition()
		f8_local6 = f8_arg0.Tabs:GetTabAtIndex( 1 )
		f8_local6 = f8_local6:GetAnchorsAndPosition()
		local f8_local7 = f8_local5.left + f0_local0 + f8_local4
		local f8_local8 = f8_local5.left + f8_local2 + f0_local0 + f8_local4
		f8_arg0.TabBacking:SetLeft( f8_local7 )
		f8_arg0.TabBacking:SetRight( f8_local8 )
		local f8_local9 = LAYOUT.GetElementWidth( f8_arg0.LeftBumper )
		local f8_local10 = 12
		f8_arg0.LeftBumper:SetRight( f8_local7 - f8_local10 )
		f8_arg0.LeftBumper:SetLeft( f8_local7 - f8_local10 - f8_local9 )
		f8_arg0.RightBumper:SetLeft( f8_local8 + f8_local10 )
		f8_arg0.RightBumper:SetRight( f8_local8 + f8_local10 + f8_local9 )
	end
end

local f0_local3 = function ( f6_arg0, f6_arg1, f6_arg2 )
	local f6_local0 = "OBBackpackLandingPage"
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xB1EC093041F3814 ) then
		f6_local0 = "AcquisitionInventory"
	end
	local f6_local1 = {
		{
			disabled = false,
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x6B9F73423209A0 ) ),
			menuName = f6_local0
		}
	}
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x6040DE2B111923B ) then
		f6_arg0._missionItems = {}
		f6_arg0._missionItems = DMZ.AddInstanceInventoryItemsByLocation( f6_arg0._missionItems, DMZ.InventoryLocations.STASH, {
			callbackFunc = LOOT.IsMissionStashItem,
			lootType = LOOT.itemTypes.CONSUMABLE
		} )
		table.insert( f6_local1, {
			menuName = "OBBackpackKeys",
			disabled = false,
			name = Engine[0xED84C33EC5F01EA]( 0x1EDEE7762EF3F ),
			items = f6_arg0._missionItems
		} )
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x525195925137C1C ) then
		f6_arg0._keys = {}
		f6_arg0._keys = DMZ.AddInstanceInventoryItemsByLocation( f6_arg0._keys, DMZ.InventoryLocations.STASH, {
			callbackFunc = LOOT.IsItemKey,
			lootType = LOOT.itemTypes.CONSUMABLE
		} )
		table.insert( f6_local1, {
			menuName = "OBBackpackKeys",
			disabled = false,
			name = Engine[0xED84C33EC5F01EA]( 0xB13528C7B557FDA ),
			items = f6_arg0._keys
		} )
	end
	if f6_arg0.OBBackpack then
		f6_arg0.OBBackpack:SetupBackpack( f6_arg1 )
		f6_arg0.OBBackpack:DisableBackpackSlots( f6_arg1 )
	end
	f6_arg0.BackpackHeader:setText( Engine[0xED84C33EC5F01EA]( OB.GetInstanceInventoryBackpackTitleRef( f6_arg1 ) ) )
	f0_local0( f6_arg0, f6_arg1, f6_arg2, f6_local1 )
	f6_arg0:AddGamepadEventCallback( 0x691AB96D9875434, function ( f7_arg0, f7_arg1 )
		local f7_local0 = f7_arg1.controller or f6_arg0
		ACTIONS.LeaveMenu( f6_arg0 )
	end )
	if f6_arg2 then
		local f6_local2 = f6_arg2.slotData
		local f6_local3 = f6_arg2.slotData.slotIndex
	end
	local f6_local4 = f6_local2 and f6_local3 or nil
	if f6_local4 ~= nil then
		ACTIONS.AnimateSequence( f6_arg0.OBBackpack.BackpackSlots.m_references[f6_local4], "Highlight" )
	end
	Onboarding.RequestOnboardingPopup( f6_arg0, f6_arg1, Onboarding.Outbreak, Onboarding.tutorials.OB_ACQUISITIONS, ONBOARDING_DATA.GetOBAcquisitionsOnboardingData() )
end

States = {
	[0xAD14C6E7156B923] = function ( f3_arg0, f3_arg1 )
		local f3_local0 = function ( f5_arg0, f5_arg1 )
			
		end
		
		f3_arg0[0x5502D827C41C931]:RegisterAnimationSequence( 0x835B592D25D1DF5, {
			nil,
			nil,
			0,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f3_arg0[0xF8BFB227C44C806]:RegisterAnimationSequence( 0x835B592D25D1DF5, {
			nil,
			nil,
			0,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f3_arg0[0xFCB0AC6AC4413F3]:RegisterAnimationSequence( 0x835B592D25D1DF5, {
			nil,
			nil,
			0,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f3_arg0[0x49D85F0EF1CEC84] = {
			[0xEF6C3AB55C07BEF] = f3_local0,
			[0x835B592D25D1DF5] = function ( f4_arg0, f4_arg1 )
				f4_arg0[0x5502D827C41C931]:AnimateSequence( 0x835B592D25D1DF5 )
				f4_arg0[0xF8BFB227C44C806]:AnimateSequence( 0x835B592D25D1DF5 )
				f4_arg0[0xFCB0AC6AC4413F3]:AnimateSequence( 0x835B592D25D1DF5 )
			end
		}
		f3_arg0[0xD97E59A206E4A54] = {
			[0x835B592D25D1DF5] = 0,
			[0xEF6C3AB55C07BEF] = 0
		}
	end
}
function OBBackpackMenu( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = TWEEN_PROPERTY
	local f1_local3 = f1_local0.UIMenu.new()
	f1_local3.id = "OBBackpackMenu"
	f1_local3[0xBD5D934D3CD91E5] = States
	local f1_local4
	if f1_arg1 then
		f1_local4 = f1_arg1
	else
		f1_local4 = f1_arg1.controllerIndex
	end
	f1_local4 = f1_local0.ValidateControllerIndex( f1_local3, f1_local4 )
	local f1_local5 = f1_local3
	local f1_local6 = nil
	f1_local6 = f1_local0.UIBlur.new()
	f1_local6[0x8B72E07B55C3AC0] = "Blur"
	ACTIONS.ScaleFullscreen( f1_local6 )
	f1_local3:addElement( f1_local6 )
	f1_local3[0x5CCBB9BC2DD7F38] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local0.UIImage.new()
	f1_local7[0x8B72E07B55C3AC0] = "Darkener"
	ACTIONS.ScaleFullscreen( f1_local7 )
	f1_local7:SetRGB( 0, 0 )
	f1_local3:addElement( f1_local7 )
	f1_local3[0x67F203F7FCD6A7D] = f1_local7
	local f1_local8 = nil
	if Engine[0x12586A3F4FB490E]() then
		f1_local8 = f1_local0.UIImage.new()
		f1_local8[0x8B72E07B55C3AC0] = "BlackBacking"
		f1_local8:SetRGB( 0, 0 )
		f1_local8:setImage( RegisterMaterial( 0xAF5CA8938037D3E ), 0 )
		f1_local3:addElement( f1_local8 )
		f1_local3[0xDDAE090735BE609] = f1_local8
	end
	local f1_local9 = nil
	f1_local9 = f1_local0.UIImage.new()
	f1_local9[0x8B72E07B55C3AC0] = "Background"
	f1_local9:setImage( RegisterMaterial( 0xAF5CA8938037D3E ), 0 )
	f1_local3:addElement( f1_local9 )
	f1_local3[0xD4176E7CA246EDD] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local1.BuildRegisteredType( 0x93CC4E91B38D10C, {
		controllerIndex = f1_local4
	} )
	f1_local10[0x8B72E07B55C3AC0] = "MenuTitle"
	f1_local10[0x93CC4E91B38D10C]:setText( Engine[0xED84C33EC5F01EA]( 0x6D085C3DD02790B ), 0 )
	f1_local10:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 80 )
	f1_local3:addElement( f1_local10 )
	f1_local3[0x93CC4E91B38D10C] = f1_local10
	local f1_local11 = nil
	f1_local11 = f1_local0.UIImage.new()
	f1_local11[0x8B72E07B55C3AC0] = "TabBacking"
	f1_local11:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECFAC112DE22C], 0 )
	f1_local11:SetAlpha( 0.48, 0 )
	f1_local11:setImage( RegisterMaterial( 0xAF5BD285D77E1B6 ), 0 )
	f1_local11:SetBlendMode( BLEND_MODE.multiply )
	f1_local11:Setup9SliceImage( 12, 12, 0.2, 0.2 )
	f1_local11:SetAnchorsAndPosition( 0, 1, 0, 1, 800, 1119, 114, 150 )
	f1_local3:addElement( f1_local11 )
	f1_local3[0x5502D827C41C931] = f1_local11
	local f1_local12 = nil
	f1_local12 = f1_local0.TabManager.new( {
		tabHeight = 38,
		spacing = 0,
		wrap = true,
		buildTab = function ()
			return f1_arg0.BuildRegisteredType( 0x70C46A25805F294, {
				controllerIndex = f1_arg0
			} )
		end,
		controllerIndex = f1_local4
	} )
	f1_local12[0x8B72E07B55C3AC0] = "Tabs"
	f1_local12:SetAnchorsAndPosition( 0, 1, 0, 1, 800, 1854, 114, 144 )
	f1_local3:addElement( f1_local12 )
	f1_local3[0x92753EF0779B5CD] = f1_local12
	local f1_local13 = nil
	f1_local13 = f1_local1.BuildRegisteredType( 0xC1D8B8E6B5C6F4D, {
		iconString = "LUA_MENU/PAD_RIGHT_SHOULDER_BUTTON",
		controllerIndex = f1_local4
	} )
	f1_local13[0x8B72E07B55C3AC0] = "RightBumper"
	f1_local13:SetAlpha( 0.6, 0 )
	f1_local13:SetAnchorsAndPosition( 0, 1, 0, 1, 1861, 1885, 117, 141 )
	f1_local3:addElement( f1_local13 )
	f1_local3[0xF8BFB227C44C806] = f1_local13
	local f1_local14 = nil
	f1_local14 = f1_local1.BuildRegisteredType( 0xC1D8B8E6B5C6F4D, {
		iconString = "LUA_MENU/PAD_LEFT_SHOULDER_BUTTON",
		controllerIndex = f1_local4
	} )
	f1_local14[0x8B72E07B55C3AC0] = "LeftBumper"
	f1_local14:SetAlpha( 0.6, 0 )
	f1_local14:SetAnchorsAndPosition( 0, 1, 0, 1, 770, 794, 117, 141 )
	f1_local3:addElement( f1_local14 )
	f1_local3[0xFCB0AC6AC4413F3] = f1_local14
	local f1_local15 = nil
	f1_local15 = f1_local1.BuildRegisteredType( 0xD7B7FE7458CD1FA, {
		controllerIndex = f1_local4
	} )
	f1_local15[0x8B72E07B55C3AC0] = "OBBackpack"
	f1_local15:SetAnchorsAndPosition( 0, 1, 0, 1, 84, 1084, 270, 382 )
	f1_local3:addElement( f1_local15 )
	f1_local3[0xD7B7FE7458CD1FA] = f1_local15
	local f1_local16 = nil
	f1_local16 = f1_local0.UIStyledText.new()
	f1_local16[0x8B72E07B55C3AC0] = "BackpackHeader"
	f1_local16:SetRGB( SWATCHES[0x2B125210C0B2BB1][0xF5C0139BA6F896C], 0 )
	f1_local16:SetAlpha( 0.8, 0 )
	f1_local16:setText( Engine[0xED84C33EC5F01EA]( 0xAFB88FBDAA55912 ), 0 )
	f1_local16:setCaseStyle( f1_local0.CaseStyle.Uppercase )
	f1_local16:SetFontStyle( FONT_STYLES[0xEFC8C637724D53A] )
	f1_local16:SetWordWrap( false )
	f1_local16:SetAlignment( f1_local0.Alignment.Left )
	f1_local16:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local16:SetAutoScroll( AUTOSCROLL.enabled_default )
	f1_local16:SetAutoScrollStyle( f1_local0.UIStyledText.AutoScrollStyle.ScrollH )
	f1_local16:SetBackingType( 2 )
	f1_local16[0x5328A3EAA342CE5] = f1_local0.UIImage.new()
	f1_local16[0x5328A3EAA342CE5]:SetRGB( SWATCHES[0x2B125210C0B2BB1][0xB5D1594B83AC6C5], 0 )
	f1_local16:SetBackingLeftPadding( 6 )
	f1_local16:SetBackingTopPadding( 6 )
	f1_local16:SetBackingRightPadding( 6 )
	f1_local16:SetBackingBottomPadding( 6 )
	f1_local16[0x5328A3EAA342CE5]:SetAnchors( 0, 0, 0, 0 )
	f1_local16:SetRenderChildrenFirst( true )
	f1_local16:addElement( f1_local16[0x5328A3EAA342CE5] )
	f1_local16:SetBackingElementFitText( 1, 176 )
	f1_local16:SetBackingIgnoreParentColor( true )
	f1_local16:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 74.5, 250.5, -334, -314 )
	f1_local3:addElement( f1_local16 )
	f1_local3[0xBE76B6398D4A9CA] = f1_local16
	f0_local0( f1_local3, f1_local4, f1_arg1 )
	return f1_local3
end

MenuBuilder.registerType( 0x4CF605BAB33DF5D, OBBackpackMenu )
LockTable( _M )
