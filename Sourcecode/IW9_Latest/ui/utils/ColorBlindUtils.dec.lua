-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
COLORBLIND_UTILS = COLORBLIND_UTILS or {}
COLORBLIND_UTILS.ColorCustomizationScreenId = "ColorCustomizationFullscreen"
COLORBLIND_UTILS.ColorCustomizationScreenOptionsToShow = {
	{
		name = function ()
			return Engine[0xED84C33EC5F01EA]( 0x9CE68283D1AD83D )
		end,
		optionsList = {
			nil,
			"ColorCustomizationFilterMode",
			"ColorCustomizationFilterTargets",
			"ColorCustomizationFilterWorldIntensity",
			"ColorCustomizationFilterUIIntensity"
		}
	},
	{
		name = function ()
			return Engine[0xED84C33EC5F01EA]( 0xF708EAE440B7C6A )
		end,
		optionsList = {
			nil,
			"ColorCustomizationCustomColorMode",
			"YouColorSelectionWidget",
			"TeamColorSelectionWidget",
			"PartyColorSelectionWidget",
			"EnemyColorSelectionWidget",
			"NeutralColorSelectionWidget",
			"ContestedColorSelectionWidget",
			"ColorCustomizationSquadExpander",
			ColorCustomizationSquadExpander = {
				nil,
				"Squad1ColorSelectionWidget",
				"Squad2ColorSelectionWidget",
				"Squad3ColorSelectionWidget",
				"Squad4ColorSelectionWidget",
				"Squad5ColorSelectionWidget",
				"Squad6ColorSelectionWidget"
			}
		}
	}
}
COLORBLIND_UTILS.colorCustomizationData = {
	ColorSelectionData = {
		YouGrid = {
			Id = "YouColorSelectionWidget",
			ColorCutomizationIndex = 0,
			SelectedIndexPlayerProfileSetting = "colorCustomizationYouIndex",
			ColorType = Enum[0x2244B87371BB8E4][0xEF63B46CD4570E6]
		},
		AllyGrid = {
			Id = "TeamColorSelectionWidget",
			ColorCutomizationIndex = 1,
			SelectedIndexPlayerProfileSetting = "colorCustomizationAllyIndex",
			ColorType = Enum[0x2244B87371BB8E4][0x28C15805DC5BF3B]
		},
		PartyGrid = {
			Id = "PartyColorSelectionWidget",
			ColorCutomizationIndex = 3,
			SelectedIndexPlayerProfileSetting = "colorCustomizationPartyIndex",
			ColorType = Enum[0x2244B87371BB8E4][0x98753CFA435C04B]
		},
		EnemyGrid = {
			Id = "EnemyColorSelectionWidget",
			ColorCutomizationIndex = 2,
			SelectedIndexPlayerProfileSetting = "colorCustomizationEnemyIndex",
			ColorType = Enum[0x2244B87371BB8E4][0xED82A4A5A56128F]
		},
		NeutralGrid = {
			Id = "NeutralColorSelectionWidget",
			ColorCutomizationIndex = 4,
			SelectedIndexPlayerProfileSetting = "colorCustomizationNeutralIndex",
			ColorType = Enum[0x2244B87371BB8E4][0xE50FEDB67A31CE2]
		},
		ContestedGrid = {
			Id = "ContestedColorSelectionWidget",
			ColorCutomizationIndex = 5,
			SelectedIndexPlayerProfileSetting = "colorCustomizationContestedIndex",
			ColorType = Enum[0x2244B87371BB8E4][0x7FB2609478D7BC0]
		},
		Squad1Grid = {
			Id = "Squad1ColorSelectionWidget",
			ColorCutomizationIndex = 6,
			SelectedIndexPlayerProfileSetting = "colorCustomizationSquad1Index",
			ColorType = Enum[0x2244B87371BB8E4][0xC71BE7C1BD70E2A]
		},
		Squad2Grid = {
			Id = "Squad2ColorSelectionWidget",
			ColorCutomizationIndex = 7,
			SelectedIndexPlayerProfileSetting = "colorCustomizationSquad2Index",
			ColorType = Enum[0x2244B87371BB8E4][0x1A3458C9AD738C5]
		},
		Squad3Grid = {
			Id = "Squad3ColorSelectionWidget",
			ColorCutomizationIndex = 8,
			SelectedIndexPlayerProfileSetting = "colorCustomizationSquad3Index",
			ColorType = Enum[0x2244B87371BB8E4][0xE2AC5C0CC026388]
		},
		Squad4Grid = {
			Id = "Squad4ColorSelectionWidget",
			ColorCutomizationIndex = 9,
			SelectedIndexPlayerProfileSetting = "colorCustomizationSquad4Index",
			ColorType = Enum[0x2244B87371BB8E4][0xE6E6093844D8A73]
		},
		Squad5Grid = {
			Id = "Squad5ColorSelectionWidget",
			ColorCutomizationIndex = 10,
			SelectedIndexPlayerProfileSetting = "colorCustomizationSquad5Index",
			ColorType = Enum[0x2244B87371BB8E4][0xC1B9ECC03074DF6]
		},
		Squad6Grid = {
			Id = "Squad6ColorSelectionWidget",
			ColorCutomizationIndex = 11,
			SelectedIndexPlayerProfileSetting = "colorCustomizationSquad6Index",
			ColorType = Enum[0x2244B87371BB8E4][0xC10A9DF9CD0DF71]
		}
	}
}
COLORBLIND_UTILS.CUSTOM_COLORS = {
	ENEMY = 2,
	PARTY = 3,
	NEUTRAL = 4,
	SQUAD6 = 11,
	SQUAD5 = 10,
	YOU = 0,
	SQUAD3 = 8,
	CONTESTED = 5,
	SQUAD4 = 9,
	SQUAD1 = 6,
	ALLY = 1,
	SQUAD2 = 7
}
COLORBLIND_UTILS.COLOR_TINTING = {
	DARKER = 1,
	NORMAL = 0,
	LIGHTER = 2
}
COLORBLIND_UTILS.CustomColorIndexToProfileSettingName = {
	"colorCustomizationYouIndex",
	"colorCustomizationAllyIndex",
	"colorCustomizationEnemyIndex",
	"colorCustomizationPartyIndex",
	"colorCustomizationNeutralIndex",
	"colorCustomizationContestedIndex",
	"colorCustomizationSquad1Index",
	"colorCustomizationSquad2Index",
	"colorCustomizationSquad3Index",
	"colorCustomizationSquad4Index",
	"colorCustomizationSquad5Index",
	"colorCustomizationSquad6Index"
}
COLORBLIND_UTILS.CustomColorModeToSwatchName = {
	"ColorBlindNoneColor",
	"ColorBlindProtanopiaColor",
	"ColorBlindDeuteranopiaColor",
	"ColorBlindTritanopiaColor"
}
COLORBLIND_UTILS.ColorOptionToAdvancedColor = {
	TeamColorSelectionWidget = "AdvancedTeamColor",
	Squad4ColorSelectionWidget = "AdvancedSquad4Color",
	Squad5ColorSelectionWidget = "AdvancedSquad5Color",
	PartyColorSelectionWidget = "AdvancedPartyColor",
	Squad6ColorSelectionWidget = "AdvancedSquad6Color",
	Squad1ColorSelectionWidget = "AdvancedSquad1Color",
	ContestedColorSelectionWidget = "AdvancedContestedColor",
	Squad3ColorSelectionWidget = "AdvancedSquad3Color",
	Squad2ColorSelectionWidget = "AdvancedSquad2Color",
	NeutralColorSelectionWidget = "AdvancedNeutralColor",
	EnemyColorSelectionWidget = "AdvancedEnemyColor",
	YouColorSelectionWidget = "AdvancedYouColor"
}
COLORBLIND_UTILS.ColorOptionToAdvancedColorProfileSetting = {
	TeamColorSelectionWidget = "colorCustomizationAllyAdvancedColor",
	Squad4ColorSelectionWidget = "colorCustomizationSquad4AdvancedColor",
	Squad5ColorSelectionWidget = "colorCustomizationSquad5AdvancedColor",
	PartyColorSelectionWidget = "colorCustomizationPartyAdvancedColor",
	Squad6ColorSelectionWidget = "colorCustomizationSquad6AdvancedColor",
	Squad1ColorSelectionWidget = "colorCustomizationSquad1AdvancedColor",
	ContestedColorSelectionWidget = "colorCustomizationContestedAdvancedColor",
	Squad3ColorSelectionWidget = "colorCustomizationSquad3AdvancedColor",
	Squad2ColorSelectionWidget = "colorCustomizationSquad2AdvancedColor",
	NeutralColorSelectionWidget = "colorCustomizationNeutralAdvancedColor",
	EnemyColorSelectionWidget = "colorCustomizationEnemyAdvancedColor",
	YouColorSelectionWidget = "colorCustomizationYouAdvancedColor"
}
COLORBLIND_UTILS.CustomColorPresetData = {
	{
		Palette = {
			nil,
			0,
			1,
			2,
			3
		}
	},
	{
		YouColorSelectionWidget = {
			nil,
			21,
			21,
			21,
			21
		},
		TeamColorSelectionWidget = {
			nil,
			25,
			25,
			25,
			25
		},
		PartyColorSelectionWidget = {
			nil,
			22,
			22,
			22,
			22
		},
		EnemyColorSelectionWidget = {
			nil,
			19,
			19,
			19,
			19
		},
		NeutralColorSelectionWidget = {
			nil,
			1,
			1,
			1,
			1
		},
		ContestedColorSelectionWidget = {
			nil,
			36,
			36,
			36,
			36
		},
		Squad1ColorSelectionWidget = {
			nil,
			23,
			23,
			23,
			23
		},
		Squad2ColorSelectionWidget = {
			nil,
			6,
			6,
			6,
			6
		},
		Squad3ColorSelectionWidget = {
			nil,
			24,
			24,
			24,
			24
		},
		Squad4ColorSelectionWidget = {
			nil,
			30,
			30,
			30,
			30
		},
		Squad5ColorSelectionWidget = {
			nil,
			35,
			35,
			35,
			35
		},
		Squad6ColorSelectionWidget = {
			nil,
			1,
			1,
			1,
			1
		}
	},
	{
		AdvancedYouColor = {
			nil,
			0,
			0,
			0,
			0
		},
		AdvancedTeamColor = {
			nil,
			0,
			0,
			0,
			0
		},
		AdvancedPartyColor = {
			nil,
			0,
			0,
			0,
			0
		},
		AdvancedEnemyColor = {
			nil,
			0,
			0,
			0,
			0
		},
		AdvancedNeutralColor = {
			nil,
			0,
			0,
			0,
			0
		},
		AdvancedContestedColor = {
			nil,
			0,
			0,
			0,
			0
		},
		AdvancedSquad1Color = {
			nil,
			0,
			0,
			0,
			0
		},
		AdvancedSquad2Color = {
			nil,
			0,
			0,
			0,
			0
		},
		AdvancedSquad3Color = {
			nil,
			0,
			0,
			0,
			0
		},
		AdvancedSquad4Color = {
			nil,
			0,
			0,
			0,
			0
		},
		AdvancedSquad5Color = {
			nil,
			0,
			0,
			0,
			0
		},
		AdvancedSquad6Color = {
			nil,
			0,
			0,
			0,
			0
		}
	}
}
COLORBLIND_UTILS.UseCustomColorsonForgrounds = true
COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType = function ( f73_arg0, f73_arg1, f73_arg2, f73_arg3 )
	local f73_local0 = Engine[0x7B17D94988FD5D0]( "colorCustomizationPalette", f73_arg0 )
	local f73_local1 = COLORBLIND_UTILS.CustomColorIndexToProfileSettingName[f73_arg1]
	local f73_local2 = Engine[0x7B17D94988FD5D0]( f73_local1, f73_arg0 )
	if f73_local2 == 0 then
		return Color[0x4DE5F06348B71AD]( f73_arg0, f73_arg1 )
	end
	local f73_local3 = -1
	local f73_local4 = -1
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x8586DC65DD038BB ) then
		f73_local3 = Engine[0xF53C8F5D09C73F2]( "colorCustomizationPalette", f73_arg0 )
		f73_local4 = Engine[0xF53C8F5D09C73F2]( f73_local1, f73_arg0 )
	end
	if f73_arg2 ~= nil and f73_local0 == f73_local3 and f73_local2 == f73_local4 then
		return f73_arg2
	end
	local f73_local5 = COLORBLIND_UTILS.CustomColorModeToSwatchName[f73_local0]
	local f73_local6 = SWATCHES[f73_local5]["color" .. f73_local2]
	if f73_local6 == nil then
		DebugPrint( "Color Blind swatch attempt failed to find suitable color swatch ///// IW9-373576\n" .. f73_local5 .. " and color" .. tostring( f73_local2 + 1 ) )
	end
	if not f73_arg3 then
		f73_arg3 = COLORBLIND_UTILS.COLOR_TINTING.NORMAL
	end
	if f73_arg3 == COLORBLIND_UTILS.COLOR_TINTING.LIGHTER then
		f73_local6 = COLORS_UTILS.GetLighterColor( f73_local6 )
	elseif f73_arg3 == COLORBLIND_UTILS.COLOR_TINTING.DARKER then
		f73_local6 = COLORS_UTILS.GetDarkerColor( f73_local6 )
	end
	return f73_local6
end

COLORBLIND_UTILS.IsCustomColorDefaultFromType = function ( f72_arg0, f72_arg1 )
	local f72_local0 = Engine[0x7B17D94988FD5D0]( "colorCustomizationPalette", f72_arg0 )
	local f72_local1 = COLORBLIND_UTILS.CustomColorIndexToProfileSettingName[f72_arg1]
	if f72_local0 == Engine[0xF53C8F5D09C73F2]( "colorCustomizationPalette", f72_arg0 ) and Engine[0x7B17D94988FD5D0]( f72_local1, f72_arg0 ) == Engine[0xF53C8F5D09C73F2]( f72_local1, f72_arg0 ) then
		return true
	else
		return false
	end
end

COLOR_BLIND = COLOR_BLIND or {}
COLOR_BLIND.modes = {
	deuteranope = 3,
	protanope = 2,
	tritanope = 4,
	none = 1
}
COLOR_BLIND.CachedColors = {
	ENEMY_SECONDARY = 4,
	FRIENDLY_SECONDARY = 1,
	CONTESTED = 6,
	FRIENDLY_PRIMARY = 0,
	ENEMY_SUBSTITUTE = 5,
	FRIENDLY_SUBSTITUTE = 2,
	ENEMY_PRIMARY = 3
}
COLOR_BLIND.UIFilter = {}
COLOR_BLIND.UIFilter[COLOR_BLIND.modes.none] = {
	HUD = {
		enemyTeam = SWATCHES.HUD.enemyTeam,
		friendlyTeam = SWATCHES.HUD.friendlyTeam,
		contested = SWATCHES.HUD.contested,
		you = SWATCHES.HUD.you,
		party = SWATCHES.HUD.party
	},
	BattleRoyale = {
		BRPlayer1Color = SWATCHES.BattleRoyale.BRPlayer1Color,
		BRPlayer2Color = SWATCHES.BattleRoyale.BRPlayer2Color,
		BRPlayer3Color = SWATCHES.BattleRoyale.BRPlayer3Color,
		BRPlayer4Color = SWATCHES.BattleRoyale.BRPlayer4Color
	}
}
COLOR_BLIND.UIFilter[COLOR_BLIND.modes.protanope] = {
	HUD = {
		enemyTeam = COLORS.prot_enemy,
		friendlyTeam = COLORS.prot_ally,
		contested = COLORS.prot_contest,
		you = COLORS.prot_you,
		party = COLORS.prot_party
	},
	BattleRoyale = {
		BRPlayer1Color = COLORS.prot_player1,
		BRPlayer2Color = COLORS.prot_player2,
		BRPlayer3Color = COLORS.prot_player3,
		BRPlayer4Color = COLORS.prot_player4
	}
}
COLOR_BLIND.UIFilter[COLOR_BLIND.modes.deuteranope] = {
	HUD = {
		enemyTeam = COLORS.deut_enemy,
		friendlyTeam = COLORS.deut_ally,
		contested = COLORS.deut_contest,
		you = COLORS.deut_you,
		party = COLORS.deut_party
	},
	BattleRoyale = {
		BRPlayer1Color = COLORS.deut_player1,
		BRPlayer2Color = COLORS.deut_player2,
		BRPlayer3Color = COLORS.deut_player3,
		BRPlayer4Color = COLORS.deut_player4
	}
}
COLOR_BLIND.UIFilter[COLOR_BLIND.modes.tritanope] = {
	HUD = {
		enemyTeam = COLORS.trit_enemy,
		friendlyTeam = COLORS.trit_ally,
		contested = COLORS.trit_contest,
		you = COLORS.trit_you,
		party = COLORS.trit_party
	},
	BattleRoyale = {
		BRPlayer1Color = COLORS.trit_player1,
		BRPlayer2Color = COLORS.trit_player2,
		BRPlayer3Color = COLORS.trit_player3,
		BRPlayer4Color = COLORS.trit_player4
	}
}
COLOR_BLIND.GetFilteredColor = function ( f71_arg0, f71_arg1, f71_arg2 )
	local f71_local0, f71_local1 = Engine[0xCD8DFD5C958D2FF]( f71_arg0 )
	local f71_local2
	if f71_local1 then
		f71_local2 = Engine[0x7B17D94988FD5D0]( "colorCustomizationScreenFilterPalette", f71_arg0 ) + 1
		if not f71_local2 then
		
		else
			return COLOR_BLIND.UIFilter[f71_local2][f71_arg1][f71_arg2]
		end
	end
	f71_local2 = COLOR_BLIND.modes.none
end

COLOR_BLIND.UpdateAllSwatches = function ( f70_arg0 )
	local f70_local0, f70_local1 = Engine[0xCD8DFD5C958D2FF]( f70_arg0 )
	local f70_local2
	if f70_local1 then
		f70_local2 = Engine[0x7B17D94988FD5D0]( "colorCustomizationScreenFilterPalette", f70_arg0 ) + 1
		if not f70_local2 then
		
		else
			for f70_local9, f70_local10 in pairs( COLOR_BLIND.UIFilter[f70_local2] ) do
				for f70_local6, f70_local7 in pairs( f70_local10 ) do
					SWATCHES[f70_local9][f70_local6] = f70_local7
				end
			end
		end
	end
	f70_local2 = COLOR_BLIND.modes.none
end

COLOR_BLIND.UpdateSwatches = function ()
	for f69_local0 = 0, Engine[0xB686A0A723E6442]() - 1, 1 do
		if Engine[0x10A5732AB1DAE9F]( f69_local0 ) and Engine[0xCA404C71196D651]( f69_local0 ) then
			COLOR_BLIND.UpdateAllSwatches( f69_local0 )
		end
	end
end

COLOR_BLIND.ResetColorCustomizationOverlay = function ( f68_arg0, f68_arg1 )
	local f68_local0 = {}
	for f68_local9, f68_local10 in pairs( COLORBLIND_UTILS.ColorCustomizationScreenOptionsToShow ) do
		if f68_local10.optionsList then
			for f68_local7, f68_local8 in pairs( f68_local10.optionsList ) do
				table.insert( f68_local0, f68_local8 )
			end
		end
		if type( f68_local10 ) == "string" then
			table.insert( f68_local0, f68_local10 )
		end
	end
	COLOR_BLIND.InitColorPresetData( f68_arg1, OPTIONS_DATA_GENERATED.options.ColorCustomizationCustomColorMode )
	OPTIONS.CreateAndResetSettings( f68_arg0, f68_arg1, f68_local0 )
	if not Engine[0x12586A3F4FB490E]() then
		f68_arg0:dispatchEventToRoot( {
			name = "update_color_blind_colors"
		} )
	end
end

COLOR_BLIND.SetUpColorSelectionWidgetForColorCusto = function ( f65_arg0, f65_arg1, f65_arg2 )
	f65_arg0.SetCurrentValue = function ( f67_arg0, f67_arg1, f67_arg2, f67_arg3 )
		Engine[0x9694388D6DAC134]( f67_arg0.profileOption, f67_arg2 )
		f67_arg0.defaultValue = f67_arg2
		local f67_local0 = Enum[0x2244B87371BB8E4][0xEF63B46CD4570E6]
		for f67_local4, f67_local5 in pairs( COLORBLIND_UTILS.colorCustomizationData.ColorSelectionData ) do
			if f67_local5.SelectedIndexPlayerProfileSetting == f67_arg0.profileOption then
				f67_local0 = f67_local5.ColorType
			end
		end
		if f67_arg0:GetCurrentMenu() then
			f67_arg0:dispatchEventToCurrentMenu( {
				name = "color_picker_selected",
				colorRGB = COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType( f67_arg1, f67_local0 ),
				settingName = f67_arg0.colorIndexProfileSettingName
			} )
		end
		if f67_arg0.onRefresh then
			f67_arg0:onRefresh( f67_arg1, f67_arg2, f67_arg3 )
		end
	end
	
	f65_arg0.ResetFunction = function ( f66_arg0, f66_arg1 )
		f66_arg0:SetCurrentValue( f66_arg0._controllerIndex, f66_arg0.defaultValueGetter( f66_arg0._controllerIndex ) )
		f66_arg0:onReset( f66_arg0._controllerIndex )
		Color[0xC543E2DA1F25DD6]( f66_arg0._controllerIndex )
	end
	
	f65_arg0.colorIndexProfileSettingName = f65_arg2.SelectedIndexPlayerProfileSetting
	f65_arg0.ColorCutomizationIndex = f65_arg2.ColorCutomizationIndex
	f65_arg0.PreviewButton.ColorPreview:SetRGBFromTable( COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType( f65_arg1, f65_arg2.ColorCutomizationIndex ) )
	f65_arg0.PreviewButton.colorIndexProfileSettingName = f65_arg2.SelectedIndexPlayerProfileSetting
	f65_arg0.PreviewButton.ColorCutomizationIndex = f65_arg2.ColorCutomizationIndex
	f65_arg0.PreviewButton.colorType = f65_arg2.ColorType
end

COLOR_BLIND.SetupColorPickerGridForColorCusto = function ( f58_arg0, f58_arg1, f58_arg2 )
	local f58_local0 = function ( f61_arg0, f61_arg1 )
		f61_arg0._gridColorsData = {}
		local f61_local0 = 0
		for f61_local4 in pairs( SWATCHES[f61_arg0._swatchName] ) do
			f61_local0 = f61_local0 + 1
			f61_arg0._gridColorsData[#f61_arg0._gridColorsData + 1] = {
				colorRGB = SWATCHES[f61_arg0._swatchName]["color" .. f61_local0]
			}
		end
		f61_arg0.ColorsGrid:SetNumChildren( #f61_arg0._gridColorsData )
		f61_arg0.ColorsGrid:TouchMouseSetActiveToDefaultFocusMenuCreate( f61_arg1 )
		if Engine[0x7B17D94988FD5D0]( f61_arg0._colorIndexProfileSettingName, f61_arg1 ) ~= 0 then
			f61_arg0.ColorsGrid:SetDefaultFocus( f61_arg0.ColorsGrid:GetPositionForIndex( Engine[0x7B17D94988FD5D0]( f61_arg0._colorIndexProfileSettingName, f61_arg1 ) - 1 ) )
		end
		f61_arg0.ColorsGrid:SetRefreshChild( function ( f62_arg0, f62_arg1, f62_arg2 )
			local f62_local0 = f61_arg0.ColorsGrid:GetContentIndex( f62_arg1, f62_arg2 )
			local f62_local1 = f61_arg0._gridColorsData[f62_local0 + 1]
			f62_arg0.colorIndexProfileSettingName = f61_arg0._colorIndexProfileSettingName
			f62_arg0.colorType = f61_arg0._colorType
			f62_arg0.row = f62_arg2
			f62_arg0.column = f62_arg1
			f62_arg0.index = f62_local0
			f62_arg0.Color:SetRGBFromTable( f62_local1.colorRGB )
			f62_arg0.colorData = f62_local1
			if f61_arg0.ColorsGrid._defaultFocus and f62_arg0.column == f61_arg0.ColorsGrid._defaultFocus.x and f62_arg0.row == f61_arg0.ColorsGrid._defaultFocus.y then
				f62_arg0:SetColorPip()
			end
			f62_arg0:registerEventHandler( "button_action", function ( element, event )
				Color[0x24DEE0FA4F568C0]( element._controllerIndex, element.colorType, element.index + 1 )
				element:dispatchEventToCurrentMenu( {
					name = "color_picker_selected",
					colorRGB = element:GetButtonRGB(),
					settingName = element.colorIndexProfileSettingName
				} )
				element:dispatchEventToCurrentMenu( {
					name = "closeColorPicker"
				} )
			end )
			f62_arg0:registerEventHandler( "button_over", function ( element, event )
				element:dispatchEventToCurrentMenu( {
					name = "color_picker_selected",
					buttonOver = true,
					colorRGB = element:GetButtonRGB(),
					settingName = element.colorIndexProfileSettingName
				} )
				ACTIONS.AnimateSequence( element, "ButtonOver" )
			end )
		end )
	end
	
	local f58_local1 = function ( f60_arg0, f60_arg1 )
		Engine[0x9694388D6DAC134]( f60_arg0._colorIndexProfileSettingName, f60_arg0._defaultProfileDataSettingIndex, f60_arg0._controllerIndex )
		f60_arg0:dispatchEventToCurrentMenu( {
			name = "color_picker_selected"
		} )
		f60_arg0:dispatchEventToCurrentMenu( {
			name = "closeColorPicker"
		} )
	end
	
	f58_arg0._colorIndexProfileSettingName = f58_arg2.colorIndexProfileSettingName
	f58_arg0._colorType = f58_arg2.colorType
	f58_arg0._defaultProfileDataSettingIndex = Engine[0xF53C8F5D09C73F2]( f58_arg0._colorIndexProfileSettingName, f58_arg1 )
	f58_arg0._swatchName = COLORBLIND_UTILS.CustomColorModeToSwatchName[Engine[0x7B17D94988FD5D0]( "colorCustomizationPalette", f58_arg1 )]
	f58_arg0.CustomColorPickerButton:registerEventHandler( "button_action", function ( element, event )
		element:dispatchEventToCurrentMenu( {
			name = "changeColorPickerType"
		} )
	end )
	f58_arg0.DefaultColorPreview:SetRGBFromTable( SWATCHES[f58_arg0._swatchName]["color" .. f58_arg0._defaultProfileDataSettingIndex] )
	f58_local0( f58_arg0, f58_arg1 )
	f58_arg0.ResetToDefault = f58_local1
	f58_arg0.Set = f58_local1
end

COLOR_BLIND.SetUpPreviewButtonForColorCusto = function ( f41_arg0, f41_arg1 )
	local f41_local0 = function ( f57_arg0, f57_arg1, f57_arg2 )
		f57_arg0._isColorPickerOpened = false
		f57_arg0:dispatchEventToCurrentMenu( {
			allowCloseMenu = true,
			name = "allow_close"
		} )
		f57_arg0:dispatchEventToParent( {
			name = "request_active"
		} )
		local f57_local0 = LUI.FlowManager.GetScopedData( f57_arg0 )
		f57_local0._colorSelectionPreviousFocusedPosition = nil
		if f57_arg0.ColorPickerGrid then
			f57_arg0.ColorPickerGrid:closeTree()
			f57_arg0.ColorPickerGrid = nil
		end
		if f57_arg0.ClosingBackground and not f57_arg0._isCustomColorPickerOpened then
			f57_arg0.ClosingBackground:closeTree()
			f57_arg0.ClosingBackground = nil
		end
		f57_arg0.ColorPreview:SetRGBFromTable( COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType( f57_arg1, f57_arg0.colorType ) )
		f57_arg0:dispatchEventToParent( {
			name = "refresh_option",
			child = f57_arg0,
			controllerIndex = f57_arg1
		} )
	end
	
	local f41_local1 = function ( f56_arg0, f56_arg1, f56_arg2 )
		f56_arg0._isCustomColorPickerOpened = false
		f56_arg0:dispatchEventToCurrentMenu( {
			allowCloseMenu = true,
			name = "allow_close"
		} )
		f56_arg0:dispatchEventToParent( {
			name = "request_active"
		} )
		local f56_local0 = LUI.FlowManager.GetScopedData( f56_arg0 )
		f56_local0._colorSelectionPreviousFocusedPosition = nil
		if f56_arg0.CustomColorPicker then
			f56_arg0.CustomColorPicker:closeTree()
			f56_arg0.CustomColorPicker = nil
		end
		if f56_arg0.ClosingBackground and not f56_arg0._isColorPickerOpened then
			f56_arg0.ClosingBackground:closeTree()
			f56_arg0.ClosingBackground = nil
		end
		f56_arg0:dispatchEventToParent( {
			name = "refresh_option",
			child = f56_arg0,
			controllerIndex = f56_arg1
		} )
	end
	
	local f41_local2 = function ( f55_arg0, f55_arg1, f55_arg2, f55_arg3 )
		f41_arg0( f55_arg0, f55_arg1, f55_arg2 )
		local f55_local0 = f55_arg0:getParent()
		f55_local0:processEvent( {
			name = "arrow_close"
		} )
		local f55_local1, f55_local2, f55_local3, f55_local4 = f55_arg0.ColorPreview:getCurrentRGBA()
		f55_arg0:dispatchEventToCurrentMenu( {
			name = "color_picker_selected",
			colorRGB = {
				r = f55_local1,
				g = f55_local2,
				b = f55_local3
			},
			settingName = f55_arg0.colorIndexProfileSettingName
		} )
		if not f55_arg2.mouse and not f55_arg0._isCustomColorPickerOpened then
			local f55_local5 = f55_arg0:GetCurrentMenu()
			ACTIONS.GainFocus( f55_local5.OptionWindow, "buttonList", f55_arg1 )
		end
		if f55_arg0.onRefresh then
			f55_arg0:onRefresh( f55_arg1, f55_arg0.defaultValue, f55_arg3 )
		end
	end
	
	local f41_local3 = function ( f54_arg0, f54_arg1, f54_arg2, f54_arg3 )
		f41_arg0( f54_arg0, f54_arg1, f54_arg2 )
		local f54_local0 = f54_arg0:getParent()
		f54_local0:processEvent( {
			name = "arrow_close"
		} )
		local f54_local1, f54_local2, f54_local3, f54_local4 = f54_arg0.ColorPreview:getCurrentRGBA()
		f54_arg0:dispatchEventToCurrentMenu( {
			name = "color_picker_selected",
			colorRGB = {
				r = f54_local1,
				g = f54_local2,
				b = f54_local3
			},
			settingName = f54_arg0.colorIndexProfileSettingName
		} )
		if not f54_arg2.mouse and not f54_arg0._isColorPickerOpened then
			local f54_local5 = f54_arg0:GetCurrentMenu()
			ACTIONS.GainFocus( f54_local5.OptionWindow, "buttonList", f54_arg1 )
		end
		if f54_arg0.onRefresh then
			f54_arg0:onRefresh( f54_arg1, f54_arg0.defaultValue, f54_arg3 )
		end
	end
	
	local f41_local4 = function ( f52_arg0, f52_arg1, f52_arg2, f52_arg3 )
		local ClosingBackground = MenuBuilder.BuildRegisteredType( "MouseButtonArea", {
			controllerIndex = f52_arg2
		} )
		ClosingBackground.id = "closingBackground"
		ClosingBackground:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		ACTIONS.ScaleFullscreen( ClosingBackground )
		f52_arg1:addElement( ClosingBackground )
		f52_arg1.ClosingBackground = ClosingBackground
		
		f52_arg0.ClosingBackground = ClosingBackground
		ClosingBackground:registerEventHandler( "button_action", function ( element, event )
			if f52_arg0._isColorPickerOpened then
				f52_arg0( f52_arg0, f52_arg0, f52_arg0 )
			elseif f52_arg0._isCustomColorPickerOpened then
				f52_arg0( f52_arg0, f52_arg0, f52_arg0 )
			end
			return true
		end )
	end
	
	local f41_local5 = function ( f49_arg0, f49_arg1, f49_arg2 )
		local f49_local0 = f49_arg0:GetCurrentMenu()
		if not f49_arg0.ClosingBackground then
			f41_arg0( f49_arg0, f49_local0, f49_arg1, f49_arg2 )
		end
		local f49_local1 = 318
		local f49_local2 = 140
		local f49_local3 = 241
		local f49_local4 = 10
		local f49_local5, f49_local6, f49_local7, f49_local8 = f41_arg0._GetPreviewButtonLocalPosition( f49_arg0, f49_local0, f49_local2 )
		
		local ColorPickerGrid = MenuBuilder.BuildRegisteredType( "ColorPickerGrid", {
			buildCustomColorPickerButton = true,
			controllerIndex = f49_arg1,
			colorIndexProfileSettingName = f49_arg0.colorIndexProfileSettingName,
			colorType = f49_arg0.colorType
		} )
		ColorPickerGrid.id = "ColorPickerGrid"
		COLOR_BLIND.SetupColorPickerGridForColorCusto( ColorPickerGrid, f49_arg1, {
			buildCustomColorPickerButton = true,
			controllerIndex = f49_arg1,
			colorIndexProfileSettingName = f49_arg0.colorIndexProfileSettingName,
			colorType = f49_arg0.colorType
		} )
		ColorPickerGrid:SetAlpha( 1 )
		ColorPickerGrid:SetVisibility( LUI.Visibility.Visible )
		ColorPickerGrid:SetAnchorsAndPosition( 0, 1, 0, 1, f49_local5 + f49_local3, f49_local5 + f49_local3 + f49_local1, f49_local7 - f49_local4, f49_local7 - f49_local4 + f49_local2 )
		f49_local0:addElement( ColorPickerGrid )
		f49_arg0.ColorPickerGrid = ColorPickerGrid
		
		ColorPickerGrid:registerEventHandler( "gamepad_button", function ( element, event )
			if event.button == "secondary" then
				f49_arg0( f49_arg0, f49_arg0, f49_arg0 )
				Engine[0xC4146BA76D0F982]( CoD.SFX.MouseClick )
				return true
			else
				
			end
		end )
		ColorPickerGrid:registerEventHandler( "closeColorPicker", function ( element, event )
			f49_arg0( f49_arg0, f49_arg0, f49_arg0 )
			return true
		end )
	end
	
	local f41_local6 = function ( f46_arg0, f46_arg1, f46_arg2 )
		local f46_local0 = f46_arg0:GetCurrentMenu()
		if not f46_arg0.ClosingBackground then
			f41_arg0( f46_arg0, f46_local0, f46_arg1, f46_arg2 )
		end
		local f46_local1 = 318
		local f46_local2 = 208
		local f46_local3 = 241
		local f46_local4 = 10
		local f46_local5, f46_local6, f46_local7, f46_local8 = f41_arg0._GetPreviewButtonLocalPosition( f46_arg0, f46_local0, f46_local2 )
		
		local CustomColorPicker = MenuBuilder.BuildRegisteredType( "CustomColorPicker", {
			controllerIndex = f46_arg1,
			colorIndexProfileSettingName = f46_arg0.colorIndexProfileSettingName,
			colorType = f46_arg0.colorType
		} )
		CustomColorPicker.id = "CustomColorPicker"
		CustomColorPicker:SetAlpha( 1 )
		CustomColorPicker:SetVisibility( LUI.Visibility.Visible )
		CustomColorPicker:SetAnchorsAndPosition( 0, 1, 0, 1, f46_local5 + f46_local3, f46_local5 + f46_local3 + f46_local1, f46_local7 - f46_local4, f46_local7 - f46_local4 + f46_local2 )
		f46_local0:addElement( CustomColorPicker )
		f46_arg0.CustomColorPicker = CustomColorPicker
		
		CustomColorPicker:registerEventHandler( "gamepad_button", function ( element, event )
			if event.button == "secondary" then
				f46_arg0( f46_arg0, f46_arg0, f46_arg0 )
				Engine[0xC4146BA76D0F982]( CoD.SFX.MouseClick )
				return true
			else
				
			end
		end )
		CustomColorPicker:registerEventHandler( "closeColorPicker", function ( element, event )
			f46_arg0( f46_arg0, f46_arg0, f46_arg0 )
			return true
		end )
	end
	
	local f41_local7 = function ( f45_arg0, f45_arg1, f45_arg2 )
		f45_arg0._isCustomColorPickerOpened = true
		f45_arg0:dispatchEventToCurrentMenu( {
			allowCloseMenu = false,
			name = "allow_close"
		} )
		f45_arg0:dispatchEventToParent( {
			name = "request_active",
			target = f45_arg0:getParent()
		} )
		local f45_local0 = f45_arg0:GetCurrentMenu()
		if not f45_local0.customColorPicker then
			f41_arg0( f45_arg0, f45_arg1, f45_arg2 )
			local f45_local1 = f45_arg0:getParent()
			f45_local1:processEvent( {
				name = "arrow_open"
			} )
		end
		if not f45_arg2.mouse then
			local f45_local1 = f45_arg0:GetCurrentMenu()
			ACTIONS.LoseFocus( f45_local1.OptionWindow, "buttonList", f45_arg1 )
			ACTIONS.GainFocus( f45_arg0.CustomColorPicker.CustomColorPickerButtons, f45_arg0.CustomColorPicker.CustomColorPickerButtons.CustomColorPickerButton.id, f45_arg1 )
		end
	end
	
	local f41_local8 = function ( f44_arg0, f44_arg1, f44_arg2, f44_arg3 )
		if f44_arg0._isColorPickerOpened and Dvar[0x9E5BE3B4BBA4E0E]( 0xD2779DBADCD34FF ) then
			f41_arg0( f44_arg0, f44_arg2, f44_arg3 )
			f41_arg0( f44_arg1, f44_arg2, f44_arg3 )
			f44_arg0._isColorPickerOpened = false
		elseif f44_arg0._isCustomColorPickerOpened then
			f41_arg0( f44_arg0, f44_arg2, f44_arg3 )
			f41_arg0._ShowColorPickerGrid( f44_arg0, f44_arg2, f44_arg3 )
			f44_arg0._isCustomColorPickerOpened = false
		end
	end
	
	f41_arg0:registerEventHandler( "button_action", function ( element, event )
		local f43_local0 = Engine[0x7B17D94988FD5D0]( element.colorIndexProfileSettingName, element._controllerIndex )
		if not element._isColorPickerOpened and not element._isCustomColorPickerOpened then
			if f43_local0 == 0 then
				f41_arg0( element, element._controllerIndex, event )
			else
				f41_arg0._ShowColorPickerGrid( element, element._controllerIndex, event )
			end
			return true
		else
			
		end
	end )
	f41_arg0:registerEventHandler( "remove_overlays", function ( element, event )
		if f41_arg0._isColorPickerOpened then
			f41_arg0( element, f41_arg0 )
		elseif f41_arg0._isCustomColorPickerOpened then
			f41_arg0( element, f41_arg0 )
		end
	end )
	f41_arg0._CreateColorPickerGrid = f41_local5
	f41_arg0._ChangeColorPickerType = f41_local8
end

COLOR_BLIND.SetUpColorSelectionForColorCusto = function ( f40_arg0, f40_arg1, f40_arg2 )
	COLOR_BLIND.SetUpColorSelectionWidgetForColorCusto( f40_arg0, f40_arg1, f40_arg2 )
	COLOR_BLIND.SetUpPreviewButtonForColorCusto( f40_arg0.PreviewButton, f40_arg1 )
end

COLOR_BLIND.GetColorCustomizationMenuFromElement = function ( f39_arg0 )
	if f39_arg0 then
		
	else
		
	end
	assert( "Error getting first current menu. Most likely, the element has not been added to a menu yet." )
end

local f0_local0 = function ( f38_arg0, f38_arg1 )
	return Engine[0x7B17D94988FD5D0]( f38_arg0.profileOption or f38_arg0.colorIndexProfileSettingName, f38_arg1 )
end

local f0_local1 = function ( f37_arg0, f37_arg1 )
	return Engine[0x7B17D94988FD5D0]( COLORBLIND_UTILS.ColorOptionToAdvancedColorProfileSetting[f37_arg0], f37_arg1 )
end

local f0_local2 = function ( f36_arg0 )
	return COLORBLIND_UTILS.ColorOptionToAdvancedColorProfileSetting[f36_arg0]
end

local f0_local3 = function ( f35_arg0 )
	return COLORBLIND_UTILS.ColorOptionToAdvancedColor[f35_arg0]
end

local f0_local4 = function ( f34_arg0, f34_arg1 )
	Engine[0x9694388D6DAC134]( "colorCustomizationPalette", f34_arg0, f34_arg1 )
end

local f0_local5 = function ( f33_arg0 )
	local f33_local0 = "colorCustomizationPalette"
	Engine[0x9694388D6DAC134]( f33_local0, Engine[0xF53C8F5D09C73F2]( f33_local0, f33_arg0 ), f33_arg0 )
end

local f0_local6 = function ( f32_arg0 )
	return Engine[0x7B17D94988FD5D0]( "colorCustomizationPalette", f32_arg0 )
end

COLOR_BLIND.colorPresetIndex = {
	ADVANCED_COLORS = 3,
	COLORS_OPTIONS = 2,
	PALETTE = 1
}
local f0_local7 = function ( f29_arg0 )
	for f29_local4, f29_local5 in pairs( f29_arg0.colorPresetData[COLOR_BLIND.colorPresetIndex.COLORS_OPTIONS] ) do
		local f29_local6 = OPTIONS_DATA_GENERATED.options[f29_local4]
		if f29_local6 then
			local f29_local3 = nil
			if f29_local6.onRefresh then
				f29_local3 = f29_local6.onRefresh
			else
				f29_local3 = function ()
					
				end
				
			end
			f29_local6.onRefresh = function ( f30_arg0, f30_arg1, f30_arg2 )
				if f29_arg0.colorpresetlock ~= true then
					f29_arg0.colorpresetlock = true
					COLOR_BLIND.UpdateColorPresetValue( COLOR_BLIND.GetColorCustomizationMenuFromElement( f30_arg0 ), f29_arg0.id, f30_arg1 )
					f29_arg0.colorpresetlock = nil
					f29_arg0( f30_arg0, f30_arg1, f30_arg2 )
				end
			end
			
		end
	end
end

local f0_local8 = function ( f26_arg0 )
	local f26_local0 = nil
	if f26_arg0.onRefresh then
		f26_local0 = f26_arg0.onRefresh
	else
		f26_local0 = function ()
			
		end
		
	end
	f26_arg0.onRefresh = function ( f27_arg0, f27_arg1, f27_arg2 )
		COLOR_BLIND.UpdateDependentColorPresetSettings( COLOR_BLIND.GetColorCustomizationMenuFromElement( f27_arg0 ), f26_arg0, f27_arg2, f27_arg1 )
		f26_arg0( f27_arg0, f27_arg1, f27_arg2 )
	end
	
end

COLOR_BLIND.InitColorPresetData = function ( f21_arg0, f21_arg1 )
	if f21_arg1.colorPresetData ~= nil then
		local f21_local0 = Engine[0x825D835ED2A8E95]( f21_arg0 )
		f21_arg1.ddlData = f21_local0[f21_arg1.profileOption]
		f0_local0( f21_arg1 )
		f0_local0( f21_arg1 )
		f21_arg1.onReset = function ( f25_arg0, f25_arg1 )
			f21_arg0( f25_arg1 )
		end
		
		f21_arg1.value = function ( f24_arg0 )
			
		end
		
		f21_arg1.action = function ( f23_arg0, f23_arg1, f23_arg2 )
			
		end
		
		f21_arg1.defaultOptionValue = function ( f22_arg0, f22_arg1, f22_arg2 )
			
		end
		
	end
end

local f0_local9 = function ( f20_arg0, f20_arg1, f20_arg2 )
	local f20_local0 = {}
	local f20_local1 = #f20_arg2.colorPresetData[COLOR_BLIND.colorPresetIndex.PALETTE].Palette
	for f20_local2 = 0, f20_local1 - 1, 1 do
		f20_local0[f20_local2] = 1
	end
	for f20_local10, f20_local11 in pairs( f20_arg2.colorPresetData[COLOR_BLIND.colorPresetIndex.COLORS_OPTIONS] ) do
		for f20_local9 = 0, #f20_local0, 1 do
			local f20_local5 = OPTIONS.Menu.GetOptionWidget( f20_arg1, f20_local10 )
			if f20_local5 then
				local f20_local6 = f0_local0( f20_local5, f20_arg0 )
				if f20_local6 == 0 then
					local f20_local7 = f0_local0( f20_local10, f20_arg0 )
					local f20_local8 = f0_local0( f20_local10 )
					if f20_local0[f20_local9] ~= 0 and f20_local7 and f20_arg2.colorPresetData[COLOR_BLIND.colorPresetIndex.ADVANCED_COLORS][f0_local0( f20_local10 )][f20_local9 + 1] ~= f20_local7 then
						f20_local0[f20_local9] = 0
					end
				end
				if f20_local0[f20_local9] ~= 0 and f20_local6 and f20_arg2.colorPresetData[COLOR_BLIND.colorPresetIndex.COLORS_OPTIONS][f20_local10][f20_local9 + 1] ~= f20_local6 then
					f20_local0[f20_local9] = 0
				end
			end
		end
	end
	for f20_local2 = 0, #f20_local0, 1 do
		f20_local11 = f0_local0( f20_arg0 )
		if f20_local0[f20_local2] ~= 0 and f20_local11 and f20_arg2.colorPresetData[COLOR_BLIND.colorPresetIndex.PALETTE].Palette[f20_local2 + 1] ~= f20_local11 then
			f20_local0[f20_local2] = 0
		end
	end
	for f20_local2 = 0, #f20_local0, 1 do
		if f20_local0[f20_local2] ~= 0 then
			return f20_local2
		end
	end
	return #f20_arg2.colorPresetData[COLOR_BLIND.colorPresetIndex.PALETTE].Palette + 1
end

local f0_local10 = function ( f19_arg0, f19_arg1, f19_arg2 )
	for f19_local4, f19_local5 in pairs( f19_arg1.colorPresetData[COLOR_BLIND.colorPresetIndex.COLORS_OPTIONS] ) do
		local f19_local6 = OPTIONS.Menu.GetOptionWidget( f19_arg0, f19_local4 )
		if f19_local6 and f19_arg1.ddlData[f19_local4] ~= nil then
			local f19_local3 = f0_local0( f19_local6, f19_arg2 )
			if f19_local3 and f19_arg1.ddlData[f19_local4]:get() ~= f19_local3 then
				f19_arg1.ddlData[f19_local4]:set( f19_local3 )
			end
			if f19_local3 == 0 then
				f19_arg1.ddlData[f0_local0( f19_local4 )]:set( f0_local0( f19_local4, f19_arg2 ) )
			end
		end
	end
	f19_arg1.ddlData.Palette:set( f0_local0( f19_arg2 ) + 1 )
end

COLOR_BLIND.UpdateColorPresetValue = function ( f18_arg0, f18_arg1, f18_arg2 )
	if f18_arg0 then
		local f18_local0 = OPTIONS.Menu.GetOptionWidget( f18_arg0, f18_arg1 )
		if f18_local0 then
			local f18_local1 = OPTIONS_DATA_GENERATED.options[f18_arg1]
			local f18_local2 = f0_local0( f18_arg2, f18_arg0, f18_local1 )
			if f18_local2 == #f18_local1.colorPresetData[COLOR_BLIND.colorPresetIndex.PALETTE].Palette + 1 then
				f18_local1.ddlData.initialized:set( 1 )
				f0_local0( f18_arg0, f18_local1, f18_arg2 )
				f18_local2 = #f18_local0._labels
			else
				f18_local2 = f18_local2 + 1
			end
			f18_local0:SetCurrentIndexValue( f18_arg2, f18_local2 )
		end
	end
end

local f0_local11 = function ( f17_arg0, f17_arg1, f17_arg2, f17_arg3, f17_arg4 )
	local f17_local0 = #f17_arg0.colorPresetData[COLOR_BLIND.colorPresetIndex.PALETTE].Palette + 1
	local f17_local1
	if f17_arg4 then
		f17_local1 = f0_local0( f17_arg2.id )
		if not f17_local1 then
		
		else
			if f17_arg1 == f17_local0 then
				if f17_arg0.ddlData.initialized:get() == 1 then
					if f17_arg0.ddlData[f17_local1] ~= nil then
						return f17_arg0.ddlData[f17_local1]:get()
					end
				elseif not f17_arg4 then
					local f17_local2 = f17_arg2.defaultValueGetter
					if not f17_local2 then
						f17_local2 = f17_arg2._defaultValueGetter or f17_arg2.defaultOptionValue
					end
					local f17_local3
					if f17_local2 then
						f17_local3 = f17_local2
					else
						f17_local3 = f17_local2( f17_arg3 )
					end
					return f17_local3
				else
					return Engine[0xF53C8F5D09C73F2]( f0_local0( f17_local1 ), f17_arg3 )
				end
			else
				local f17_local2 = 0
				if not f17_arg4 then
					f17_local2 = f17_arg0.colorPresetData[COLOR_BLIND.colorPresetIndex.COLORS_OPTIONS][f17_local1][f17_arg1]
				else
					f17_local2 = f17_arg0.colorPresetData[COLOR_BLIND.colorPresetIndex.ADVANCED_COLORS][f17_local1][f17_arg1]
				end
				if f17_local2 ~= nil and f17_local2 ~= "" then
					return f17_local2
				end
			end
		end
	end
	f17_local1 = f17_arg2.id
end

COLOR_BLIND.UpdateDependentColorPresetSettings = function ( f16_arg0, f16_arg1, f16_arg2, f16_arg3 )
	if f16_arg1.colorpresetlock ~= true and f16_arg0 then
		f16_arg1.colorpresetlock = true
		local f16_local0 = #f16_arg1.colorPresetData[COLOR_BLIND.colorPresetIndex.PALETTE].Palette + 1
		for f16_local5, f16_local6 in pairs( f16_arg1.colorPresetData[COLOR_BLIND.colorPresetIndex.COLORS_OPTIONS] ) do
			local f16_local7 = OPTIONS.Menu.GetOptionWidget( f16_arg0, f16_local5 )
			if f16_local7 ~= nil then
				local f16_local4 = f0_local0( f16_arg1, f16_arg2, f16_local7, f16_arg3 )
				f16_local7:SetCurrentValue( f16_arg3, f16_local4 )
				if f16_local4 == 0 then
					Engine[0x9694388D6DAC134]( f0_local0( f16_local5 ), f0_local0( f16_arg1, f16_arg2, f16_local7, f16_arg3, true ), f16_arg3 )
				end
			end
		end
		f16_local1 = f16_arg2
		if f16_arg2 == f16_local0 then
			if f16_arg1.ddlData.initialized:get() == 1 then
				f16_local1 = f16_arg1.ddlData.Palette:get()
			else
				f0_local0( f16_arg3 )
				f16_arg1.colorpresetlock = nil
				return 
			end
		end
		f0_local0( f16_local1 - 1, f16_arg3 )
		f16_arg1.colorpresetlock = nil
	end
end

local f0_local12 = function ( f15_arg0, f15_arg1 )
	local f15_local0 = DataSources.alwaysLoaded.customColors
	local f15_local1 = next
	local f15_local2 = f15_local0
	local f15_local3 = nil
	goto basicblock_3:
	local f15_local4, f15_local5 = f15_local1( f15_local2, f15_local3 )
	while f15_local4 ~= nil do
		f15_local3 = f15_local4
		f15_arg0:UnsubscribeFromModel( f15_local5:GetModel( f15_arg1 ) )
		f15_local4 = f15_local1( f15_local2, f15_local3 )
	end
end

COLOR_BLIND.SetCustomColorDataSourceFromType = function ( f13_arg0, f13_arg1, f13_arg2 )
	local f13_local0 = Engine[0xEE6F69FEA944B13]()
	f13_local0 = f13_local0:GetControllerIndex()
	f0_local0( f13_arg0, f13_local0 )
	f13_arg0:SubscribeToModel( f13_arg1:GetModel( f13_local0 ), function ()
		local f14_local0 = f13_arg0:GetValue( f13_arg0 )
		if f14_local0 ~= nil then
			f13_arg0:SetRGBFromInt( f14_local0, 0 )
		end
	end )
end

COLOR_BLIND.SetCustomColorDataSourceYou = function ( f12_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f12_arg0, DataSources.alwaysLoaded.customColors.you )
end

COLOR_BLIND.SetCustomColorDataSourceAlly = function ( f11_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f11_arg0, DataSources.alwaysLoaded.customColors.ally )
end

COLOR_BLIND.SetCustomColorDataSourceEnemy = function ( f10_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f10_arg0, DataSources.alwaysLoaded.customColors.enemy )
end

COLOR_BLIND.SetCustomColorDataSourceParty = function ( f9_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f9_arg0, DataSources.alwaysLoaded.customColors.party )
end

COLOR_BLIND.SetCustomColorDataSourceNeutral = function ( f8_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f8_arg0, DataSources.alwaysLoaded.customColors.neutral )
end

COLOR_BLIND.SetCustomColorDataSourceContested = function ( f7_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f7_arg0, DataSources.alwaysLoaded.customColors.contested )
end

COLOR_BLIND.SetCustomColorDataSourceSquad1 = function ( f6_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f6_arg0, DataSources.alwaysLoaded.customColors.squad1 )
end

COLOR_BLIND.SetCustomColorDataSourceSquad2 = function ( f5_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f5_arg0, DataSources.alwaysLoaded.customColors.squad2 )
end

COLOR_BLIND.SetCustomColorDataSourceSquad3 = function ( f4_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f4_arg0, DataSources.alwaysLoaded.customColors.squad3 )
end

COLOR_BLIND.SetCustomColorDataSourceSquad4 = function ( f3_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f3_arg0, DataSources.alwaysLoaded.customColors.squad4 )
end

COLOR_BLIND.SetCustomColorDataSourceSquad5 = function ( f2_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f2_arg0, DataSources.alwaysLoaded.customColors.squad5 )
end

COLOR_BLIND.SetCustomColorDataSourceSquad6 = function ( f1_arg0 )
	COLOR_BLIND.SetCustomColorDataSourceFromType( f1_arg0, DataSources.alwaysLoaded.customColors.squad6 )
end

