-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
SPSharedUtils = SPSharedUtils or {}
SPSharedUtils.Difficulties = {
	nil,
	"MENU/RECRUIT",
	"MENU/REGULAR",
	"MENU/HARDENED",
	"MENU/VETERAN",
	"MENU/REALISM"
}
SPSharedUtils.FinalCampaignLevel = "lab"
SPSharedUtils.ShaderPreloadWrap = function ( f9_arg0 )
	local f9_local0 = Dvar.IBEGCHEFE( "killswitch_sp_shader_loading_block" )
	if not f9_local0 then
		f9_local0 = Dvar.IBEGCHEFE( "MQQOKSOPL" )
	end
	if f9_local0 then
		if Dvar.CFHDGABACF( "MPMOPMKPKN" ) == 1 then
			Lobby.TryNavigateToLobby( f9_arg0 )
		else
			f9_arg0()
		end
	else
		f9_arg0()
	end
end

SPSharedUtils.GetHighestDifficultyForLevel = function ( f8_arg0, f8_arg1 )
	assert( f8_arg1 )
	local f8_local0 = SPSharedUtils.Difficulties[Engine.EAIJDCADAJ( StringTable.DIFCHIGDFB( CSV.levels.file, CSV.levels.cols.name, f8_arg0, CSV.levels.cols.ref ), f8_arg1 )]
	if f8_local0 and f8_local0 ~= "" then
		return f8_local0
	else
		return ""
	end
end

SPSharedUtils.GetHighestCollateralRankForLevel = function ( f7_arg0, f7_arg1 )
	assert( f7_arg1 )
	local f7_local0 = PlayerData.BFFBGAJGD( f7_arg1, 0 )
	f7_local0 = f7_local0.spData.civiliansKilledGradeBest
	local f7_local1 = f7_local0[f7_arg0]
	if f7_local1 then
		f7_local1 = f7_local0[f7_arg0]:get()
	end
	local f7_local2 = {
		nil,
		"MENU_SP/RANK_F",
		"MENU_SP/RANK_D",
		"MENU_SP/RANK_C",
		"MENU_SP/RANK_B",
		"MENU_SP/RANK_A"
	}
	if f7_local1 and 0 <= f7_local1 and f7_local1 < #f7_local2 then
		return f7_local2[f7_local1 + 1]
	else
		return ""
	end
end

SPSharedUtils.GetMissionStateForLevel = function ( f6_arg0, f6_arg1 )
	local f6_local0 = PlayerData.BFFBGAJGD( f6_arg1, CoD.ProgressionBlob.Gold )
	f6_local0 = f6_local0.spData.missionStateData
	local f6_local1 = f6_local0[f6_arg0]
	if f6_local1 then
		f6_local1 = f6_local0[f6_arg0]:get()
	end
	return f6_local1
end

SPSharedUtils.HasCompletedCampaign = function ( f5_arg0 )
	return SPSharedUtils.GetHighestDifficultyForLevel( SPSharedUtils.FinalCampaignLevel, f5_arg0 ) ~= ""
end

SPSharedUtils.OpenAntiCheatWarningPopup = function ( f4_arg0 )
	local f4_local0 = 0
	local f4_local1 = StringTable.BFHCAIIDA( CSV.levels.file ) - 1
	for f4_local2 = 0, f4_local1, 1 do
		if SPSharedUtils.GetMissionStateForLevel( StringTable.CBGJCDIHCE( CSV.levels.file, f4_local2, CSV.levels.cols.name ), f4_arg0 ) == "locked" then
			break
		end
		f4_local0 = f4_local2
	end
	local f4_local2 = StringTable.CBGJCDIHCE( CSV.levels.file, f4_local0, CSV.levels.cols.string )
	if not Dvar.IBEGCHEFE( "unattended" ) then
		Engine.CFIECCHFCA( PauseReason.SAVE_DATA_ERROR )
		LUI.FlowManager.RequestPopupMenu( nil, "campaign_mode_anticheat_warning_popup", true, f4_arg0, false, {
			lastUnlockedMission = f4_local2
		} )
	end
end

SPSharedUtils.QuitSPGame = function ( f3_arg0, f3_arg1 )
	Dvar.DHEGHJJJHI( "NMMPTOSMKQ", true )
	Engine.EBIDFIDHIE( "disconnect" )
	PreGame.EndDuckAudio()
	Engine.JHFJAJIDC()
end

SPSharedUtils.UnlockAllMissions = function ( f2_arg0 )
	if CONDITIONS.IsDevelopmentBuild() then
		return true
	else
		return SPSharedUtils.IsMissionCheatEnabled( f2_arg0 )
	end
end

SPSharedUtils.IsMissionCheatEnabled = function ( f1_arg0 )
	local f1_local0 = LUI.DataSourceInGlobalModel.new( "frontend.sp.missionsCheat" )
	return f1_local0:GetValue( f1_arg0 )
end

