-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.lobby.lobbystartbutton" )
require( "ui.generated.widgets.frontend.lobby.lobbyinspectbutton" )
require( "ui.generated.widgets.frontend.challengeplaylistcontainer" )
require( "ui.generated.widgets.frontend.lfp.lfpfindercontextualmenu" )
require( "ui.generated.widgets.frontend.lfp.lfpfindpartybutton" )
local f0_local0 = "button_alt1"
local f0_local1 = function ( f17_arg0, f17_arg1 )
	f17_arg0.LobbyStartButton:addEventHandler( "button_action", function ( f18_arg0, f18_arg1 )
		PLAY_MENU.NavigateToQuickPlayLobby( f17_arg0, f18_arg0, PlaylistUtils.GetLastQuickPlayCategoryDataSource( f17_arg0 ) )
	end )
end

local f0_local2 = function ( f13_arg0, f13_arg1 )
	local f13_local0 = PLAY_MENU.GetBundleByRef( f13_arg0._playlistData.playlistRef )
	f13_arg0.LobbyStartButton:addEventHandler( "button_action", function ( f14_arg0, f14_arg1 )
		if f13_arg0._playlistData.playlistRef == "dmz" then
			Lobby.AttemptOpenDMZMenu( f14_arg1.controller, {
				isGLFlow = true
			}, "DMZMainMenu" )
		else
			local f14_local0 = f13_arg0._playlistData
			local f14_local1 = PLAY_MENU.GetBundleByRef( f14_local0.playlistRef )
			local f14_local2 = f14_local0.playlistCategory
			local f14_local3 = f14_local0.playlistID
			if f14_local3 == PlaylistUtils.USE_FILTERED_PLAYLIST_ID then
				PLAY_MENU.ValidatePromotedPlaylistSelection( f13_arg0, f14_arg0, PlaylistUtils.FindCategoryDataSourceFromID( f14_arg1.controller, f14_local2 ), function ()
					PLAY_MENU.NavigateToLobby( f14_arg0, f14_arg0, f14_arg0 )
				end )
			else
				PLAY_MENU.ValidateFeaturedPlaylistSelection( f13_arg0, f14_arg0, PlaylistUtils.FindPlaylistDataSourceFromID( f14_arg1.controller, f14_local3 ), function ()
					PLAY_MENU.NavigateToLobby( f14_arg0, f14_arg0, f14_arg0 )
				end )
			end
		end
	end )
end

local f0_local3 = function ( f12_arg0, f12_arg1 )
	if f12_arg0.LobbyStartButton:isInFocus() then
		if f12_arg0._playlistData.playlistRef == PlaylistUtils.QUICK_PLAY_REF then
			LUI.FlowManager.RequestAddMenu( "PlaylistFilterMenu", false, f12_arg1, false )
			if LUI.IsLastInputMouseNavigation( f12_arg1 ) then
				return true
			end
		end
		local f12_local0 = f12_arg0._playlistData.playlistCategory
		local f12_local1 = f12_arg0._playlistData.playlistID
		if f12_local1 == PlaylistUtils.USE_FILTERED_PLAYLIST_ID then
			LUI.FlowManager.RequestAddMenu( "GameModeInspect", true, f12_arg1, nil, {
				isGameDetails = true,
				playlistDataSource = PlaylistUtils.FindCategoryDataSourceFromID( f12_arg1, f12_local0 )
			}, true )
		else
			LUI.FlowManager.RequestAddMenu( "GameModeInspect", true, f12_arg1, nil, {
				isGameDetails = true,
				playlistDataSource = PlaylistUtils.FindPlaylistDataSourceFromID( f12_arg1, f12_local1 )
			}, true )
		end
	end
end

local f0_local4 = function ( f11_arg0 )
	if CONDITIONS.IsLFPEnabled() then
		f11_arg0.LFPFindPartyButton.navigation = {}
		f11_arg0.LobbyStartButton.navigation = {}
		f11_arg0.LobbyInspectButton.navigation = {}
		f11_arg0.LobbyStartButton.navigation.right = f11_arg0.LobbyInspectButton
		f11_arg0.LobbyStartButton.navigation.left = f11_arg0.LFPFindPartyButton
		f11_arg0.LobbyInspectButton.navigation.right = f11_arg0.LFPFindPartyButton
		f11_arg0.LobbyInspectButton.navigation.left = f11_arg0.LobbyStartButton
		f11_arg0.LFPFindPartyButton.navigation.left = f11_arg0.LobbyInspectButton
		f11_arg0.LFPFindPartyButton.navigation.right = f11_arg0.LFPFinderContextualMenu.ButtonGrid
		f11_arg0.LFPFinderContextualMenu:AddAdditionalNavigation( {
			leftSide = {
				parent = f11_arg0,
				element = f11_arg0.LFPFindPartyButton.id
			},
			rightSide = {
				parent = f11_arg0,
				element = f11_arg0.LobbyStartButton.id
			}
		} )
	end
end

local f0_local5 = function ( f9_arg0, f9_arg1, f9_arg2 )
	if not CONDITIONS.IsLFPEnabled() then
		
	else
		
	end
	ACTIONS.AnimateSequence( f9_arg0, "HideLFPContextMenu" )
	f9_arg0.LFPFindPartyButton:addEventHandler( "button_action", function ( f10_arg0, f10_arg1 )
		ACTIONS.AnimateSequence( f9_arg0, "ShowLFPContextMenu" )
		f9_arg0.LFPFinderContextualMenu:ActivateContextualMenu( f9_arg0, f9_arg0 )
		if Social[0x5038770483500CE]() then
			local f10_local0, f10_local1, f10_local2, f10_local3 = f9_arg0.LFPHostViewAnchor:getLocalRect()
			local f10_local4, f10_local5, f10_local6, f10_local7 = f9_arg0.LFPHostViewAnchor:GetAnchorData()
			f9_arg0.LFPFinderContextualMenu:SetAnchorsAndPosition( f10_local4, f10_local6, f10_local5, f10_local7, f10_local0, f10_local2, f10_local1, f10_local3 )
		else
			local f10_local0, f10_local1, f10_local2, f10_local3 = f9_arg0.LFPClientViewAnchor:getLocalRect()
			local f10_local4, f10_local5, f10_local6, f10_local7 = f9_arg0.LFPClientViewAnchor:GetAnchorData()
			f9_arg0.LFPFinderContextualMenu:SetAnchorsAndPosition( f10_local4, f10_local6, f10_local5, f10_local7, f10_local0, f10_local2, f10_local1, f10_local3 )
		end
	end )
end

local f0_local6 = function ( f6_arg0, f6_arg1, f6_arg2 )
	local f6_local0 = Lobby[0xB92DA1948EDB47D]( Lobby.PartyUIData.PLAYLIST_ID )
	if 0 < f6_local0 then
		f6_arg0._playlistData = PLAY_MENU.GetPlaylistDataFromId( f6_arg1, f6_local0, Lobby[0xB92DA1948EDB47D]( Lobby.PartyUIData.PLAYLIST_CATEGORY ) )
	else
		f6_arg0._playlistData = {
			playlistRef = PlaylistUtils.QUICK_PLAY_REF
		}
	end
	OPERATOR.UpdateFavoritePlayerCardCacheLoadout( f6_arg1 )
	FrontEndScene.HideAllCharacters()
	Engine[0x685AE31DEDA30A4]( "squad_lobby" )
	f6_arg0.ChallengePlaylistContainer.ChallengesDailyCore:Setup( f6_arg1 )
	local f6_local1 = PLAY_MENU.GetBundleByRef( f6_arg0._playlistData.playlistRef )
	f0_local0( f6_arg0, f6_arg1, f6_local0 )
	Lobby.CreateNewSquadFillWidget( f6_arg0, f6_arg0.SquadFillWidgetAnchor, f6_arg1 )
	local f6_local2 = {}
	if f6_arg0._playlistData.playlistRef == PlaylistUtils.QUICK_PLAY_REF then
		f6_local2 = {
			image = "icon_mp_mode_quickplay",
			name = Engine[0xED84C33EC5F01EA]( "LUA_MENU/QUICK_PLAY" )
		}
	else
		local f6_local3 = {}
		local f6_local4 = f6_arg0._playlistData.playlistIcon
		if not f6_local4 then
			f6_local4 = PLAY_MENU.GetIcon( f6_local1 )
		end
		f6_local3.image = f6_local4
		f6_local4 = f6_arg0._playlistData.playlistName
		if not f6_local4 then
			f6_local4 = PLAY_MENU.GetName( f6_local1 )
		end
		f6_local3.name = f6_local4
		f6_local2 = f6_local3
	end
	f6_arg0.LobbyStartButton:UpdateModeDetails( f6_local2 )
	f6_arg0.LobbyStartButton:SetButtonDisabled( CONDITIONS.InPrivatePartyAndNotHost() )
	Engine[0x685AE31DEDA30A4]( "squad_lobby" )
	LUI.DeferredFence.Attach( f6_arg0, f6_arg1, "CLIENT_CONNECT", LUI.DeferredFence.Criticality.LOW, LUI.DeferredFence.BackOutMethod.NONE, function ( f8_arg0, f8_arg1 )
		if f8_arg1.fenceState == LUI.Fence.FenceObjectState.PASSING then
			CLIENTCHARACTER.BuildContainerAndWidgets( f6_arg0, f6_arg0, {
				showDetailWidget = true,
				maxCharacterNum = FrontEndScene.MaxClientCharactersMPMainMenu
			} )
		end
	end )
	if f6_arg0._playlistData.playlistRef == PlaylistUtils.QUICK_PLAY_REF then
		f0_local0( f6_arg0, f6_arg1 )
		f6_arg0.ChallengePlaylistContainer.GameModesPanel:SetupGameModesPanel( PlaylistUtils.GetFilteredGameModeIcons( f6_arg1, PlaylistUtils.GetLastQuickPlayCategoryDataSource( f6_arg1 ) ) )
	else
		f0_local0( f6_arg0, f6_arg1 )
		f6_arg0.ChallengePlaylistContainer:Initialize( false )
		f6_arg0.ChallengePlaylistContainer.GameModesPanel:closeTree()
		f6_arg0.ChallengePlaylistContainer.GameModesPanel = nil
		f6_arg0.ChallengePlaylistContainer.ChallengesDailyCore.PlusIcon:SetVisible( false )
		f6_arg0.ChallengePlaylistContainer.ChallengesDailyCore.ButtonPrompt:closeTree()
		f6_arg0.ChallengePlaylistContainer.ChallengesDailyCore.ButtonPrompt = nil
	end
	if not f6_arg0.bindButton then
		f6_arg0.bindButton = LUI.UIBindButton.new()
		f6_arg0.bindButton.id = "selfBindButton"
		f6_arg0:addElement( f6_arg0.bindButton )
	end
	f6_arg0.bindButton:addEventHandler( f0_local0, function ( f7_arg0, f7_arg1 )
		f6_arg0( f6_arg0, f6_arg0 )
	end )
	if not CONDITIONS.IsLFPEnabled() then
		f6_arg0.LobbyInspectButton:SetupNavigation( {
			onLeft = f6_arg0.LobbyStartButton
		} )
	else
		f0_local0( f6_arg0 )
	end
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		local f2_local0 = function ( f5_arg0, f5_arg1 )
			
		end
		
		if f2_arg0.LFPFinderContextualMenu then
			f2_arg0.LFPFinderContextualMenu:RegisterAnimationSequence( "HideLFPContextMenu", {
				{
					value = 0,
					duration = 0,
					property = TWEEN_PROPERTY.Alpha
				}
			} )
		end
		local f2_local1 = function ( f4_arg0, f4_arg1 )
			if f4_arg0.LFPFinderContextualMenu then
				f4_arg0.LFPFinderContextualMenu:AnimateSequence( "HideLFPContextMenu" )
			end
		end
		
		if f2_arg0.LFPFinderContextualMenu then
			f2_arg0.LFPFinderContextualMenu:RegisterAnimationSequence( "ShowLFPContextMenu", {
				{
					value = 1,
					duration = 0,
					property = TWEEN_PROPERTY.Alpha
				}
			} )
		end
		f2_arg0._sequences = {
			DefaultSequence = f2_local0,
			HideLFPContextMenu = f2_local1,
			ShowLFPContextMenu = function ( f3_arg0, f3_arg1 )
				if f3_arg0.LFPFinderContextualMenu then
					f3_arg0.LFPFinderContextualMenu:AnimateSequence( "ShowLFPContextMenu" )
				end
			end
		}
		f2_arg0._sequenceLengths = {
			HideLFPContextMenu = 0,
			DefaultSequence = 0,
			ShowLFPContextMenu = 0
		}
	end
}
function PrelobbyMainTab( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "PrelobbyMainTab"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local LobbyStartButton = nil
	
	LobbyStartButton = MenuBuilder.BuildRegisteredType( "LobbyStartButton", {
		controllerIndex = f1_local1
	} )
	LobbyStartButton.id = "LobbyStartButton"
	LobbyStartButton:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 88, _1080p * 512, _1080p * -330, _1080p * -128 )
	self:addElement( LobbyStartButton )
	self.LobbyStartButton = LobbyStartButton
	
	local LobbyInspectButton = nil
	
	LobbyInspectButton = MenuBuilder.BuildRegisteredType( "LobbyInspectButton", {
		controllerIndex = f1_local1
	} )
	LobbyInspectButton.id = "LobbyInspectButton"
	LobbyInspectButton:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 528, _1080p * 732, _1080p * -328, _1080p * -124 )
	self:addElement( LobbyInspectButton )
	self.LobbyInspectButton = LobbyInspectButton
	
	local ChallengePlaylistContainer = nil
	
	ChallengePlaylistContainer = MenuBuilder.BuildRegisteredType( "ChallengePlaylistContainer", {
		controllerIndex = f1_local1
	} )
	ChallengePlaylistContainer.id = "ChallengePlaylistContainer"
	ChallengePlaylistContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 88, _1080p * 512, _1080p * 100, _1080p * 675 )
	self:addElement( ChallengePlaylistContainer )
	self.ChallengePlaylistContainer = ChallengePlaylistContainer
	
	local f1_local5 = nil
	if CONDITIONS.IsSquadFillEnabled() then
		f1_local5 = LUI.UIElement.new()
		f1_local5.id = "SquadFillWidgetAnchor"
		f1_local5:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 92, _1080p * 732, _1080p * -472, _1080p * -408 )
		self:addElement( f1_local5 )
		self.SquadFillWidgetAnchor = f1_local5
	end
	local f1_local6 = nil
	if CONDITIONS.IsLFPEnabled() then
		f1_local6 = LUI.UIElement.new()
		f1_local6.id = "LFPClientViewAnchor"
		f1_local6:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 988, _1080p * 1398, _1080p * 509, _1080p * 957 )
		self:addElement( f1_local6 )
		self.LFPClientViewAnchor = f1_local6
	end
	local f1_local7 = nil
	if CONDITIONS.IsLFPEnabled() then
		f1_local7 = LUI.UIElement.new()
		f1_local7.id = "LFPHostViewAnchor"
		f1_local7:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 986, _1080p * 1396, _1080p * 387, _1080p * 957 )
		self:addElement( f1_local7 )
		self.LFPHostViewAnchor = f1_local7
	end
	local f1_local8 = nil
	if CONDITIONS.IsLFPEnabled() then
		f1_local8 = MenuBuilder.BuildRegisteredType( "LFPFinderContextualMenu", {
			controllerIndex = f1_local1
		} )
		f1_local8.id = "LFPFinderContextualMenu"
		f1_local8:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 984, _1080p * 1394, _1080p * 384, _1080p * 954 )
		self:addElement( f1_local8 )
		self.LFPFinderContextualMenu = f1_local8
	end
	local f1_local9 = nil
	if CONDITIONS.IsLFPEnabled() then
		f1_local9 = MenuBuilder.BuildRegisteredType( "LFPFindPartyButton", {
			controllerIndex = f1_local1
		} )
		f1_local9.id = "LFPFindPartyButton"
		f1_local9:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 756, _1080p * 960, _1080p * -328, _1080p * -124 )
		self:addElement( f1_local9 )
		self.LFPFindPartyButton = f1_local9
	end
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "PrelobbyMainTab", PrelobbyMainTab )
LockTable( _M )
