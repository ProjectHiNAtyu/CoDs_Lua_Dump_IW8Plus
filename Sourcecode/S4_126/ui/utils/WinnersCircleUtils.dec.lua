-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
WINNERS_CIRCLE = WINNERS_CIRCLE or {}
WINNERS_CIRCLE.MAX_CHARACTER_COUNT = 6
local f0_local0 = {
	invalidForInfil = {}
}
f0_local0.invalidForInfil.s4_me_rindigo = true
WINNERS_CIRCLE.SpawnCharacter = function ( f3_arg0, f3_arg1, f3_arg2, f3_arg3 )
	local f3_local0 = DataModel[0x40E824FE270E174]( DataModel[0x8DF2E5447F384B9](), f3_arg1 )
	local f3_local1 = DataModel[0x614D394F6F9A18D]( DataModel[0x40E824FE270E174]( f3_local0, "shouldShow" ) )
	local f3_local2 = Game[0x28624DEF6F708C8]( f3_arg2, "ui_wc_anim_select" )
	local f3_local3 = Game[0x28624DEF6F708C8]( f3_arg2, "ui_wc_anim_type" )
	if f3_local1 then
		local f3_local4 = CSV.fatalities
		local f3_local5 = ""
		if f3_local3 == 1 then
			f3_local4 = CSV.operatorIntroTable
		end
		local f3_local6 = DataModel[0x40E824FE270E174]( f3_local0, "headIndex" )
		local f3_local7 = DataModel[0x40E824FE270E174]( f3_local0, "bodyIndex" )
		local f3_local8 = DataModel[0x614D394F6F9A18D]( f3_local6 )
		local f3_local9 = 0 <= f3_local8
		assert( f3_local9 )
		local f3_local10 = DataModel[0x614D394F6F9A18D]( f3_local7 )
		local f3_local11 = 0 <= f3_local10
		assert( f3_local11 )
		if not f3_local9 or not f3_local11 then
			f3_local8 = OPERATOR.DefaultHeadIndex
			f3_local10 = OPERATOR.DefaultBodyIndex
		end
		local f3_local12 = StringTable[0x2DCF0973239E909]( CSV.heads.file, CSV.heads.cols.index, f3_local8, CSV.heads.cols.model )
		local f3_local13 = StringTable[0x2DCF0973239E909]( CSV.bodies.file, CSV.bodies.cols.index, f3_local10, CSV.bodies.cols.model )
		local f3_local14 = DataModel[0x614D394F6F9A18D]( DataModel[0x40E824FE270E174]( f3_local0, "weapon" ) )
		if f3_local3 == 2 then
			f3_local4 = CSV.s4_introAnimations
			local f3_local15 = f3_arg0 * 2
			if Lobby.IsWeaponRiotShield( f3_local14 ) or Dvar[0x22EAAB59AA27E9B]( "#x3fd9699c98a1dc6ee" ) == 1 or Dvar[0x54084D7CA2317BB]( "#x3a30c33efc8281eb1" ) == "gun" then
				f3_local15 = f3_local15 + 1
				f3_local14 = "s4_me_fists"
			end
			f3_local5 = StringTable[0x2077452C28AB2FC]( f3_local4.file, f3_local15, f3_local4.cols.animName )
		else
			f3_arg0 = DataModel[0x614D394F6F9A18D]( DataModel[0x40E824FE270E174]( f3_local0, "clientCharacterNum" ) )
		end
		ClientCharacter[0xB6D1A33AC2622D0]( f3_arg0, 0, 0, 0 )
		ClientCharacter[0x1AEA65ACE3F1203]( f3_arg0, f3_local14, nil, nil, f3_arg2 )
		ClientCharacter[0xEEEB993ECC1588B]( f3_arg0, string.find( f3_local14, "akimbo" ) ~= nil )
		ClientCharacter[0xFB5C3935C674824]( f3_arg0, f3_local13, f3_local12, nil, nil, nil, nil, nil, nil, f3_arg2 )
		local f3_local15 = LOOT.GetItemID( LOOT.itemTypes.OPERATOR_SKIN, OPERATOR.GetOperatorSkinRef( f3_local13, f3_local12 ) )
		if f3_local15 then
			OPERATOR.UpdateCharacterReactiveStageSetDef( f3_arg0, f3_local15 )
			OPERATOR.UpdateCharacterReactiveCamoPreviewStageIndex( f3_arg0, f3_local15, f3_arg3 )
			OPERATOR.UpdateCharacterVFX( f3_arg0, f3_local15 )
		end
		if f3_local3 ~= 2 then
			f3_local5 = StringTable[0x2077452C28AB2FC]( f3_local4.file, f3_local2, f3_local4.cols.attackerAnim )
			if 0 < f3_arg0 and f3_arg0 % 2 == 0 then
				f3_local5 = StringTable[0x2077452C28AB2FC]( f3_local4.file, f3_local2, f3_local4.cols.victimAnim )
			end
		end
		if not ClientCharacter[0xA6309027523469F]( f3_arg0, f3_arg2 ) then
			DebugPrint( "ERROR: - Character Not Loaded for index " .. f3_arg0 )
		end
		if not f3_local5 or f3_local5 == "" then
			DebugPrint( "ERROR: - No animation for characterIndex " .. tostring( f3_arg0 ) .. " controllerIndex " .. tostring( f3_arg2 ) )
			ClientCharacter[0x9456E659F16F0A4]( f3_arg0, false, f3_arg2 )
		else
			ClientCharacter[0xAA614EB46957F3B]( f3_arg0, f3_local5, 0.2, 0, f3_arg2 )
			ClientCharacter[0x9456E659F16F0A4]( f3_arg0, true, f3_arg2 )
		end
	elseif f3_arg0 < 2 or f3_local3 == 2 then
		ClientCharacter[0x9456E659F16F0A4]( f3_arg0, false, f3_arg2 )
	end
end

WINNERS_CIRCLE.SpawnCharacters = function ( f2_arg0, f2_arg1 )
	for f2_local0 = 0, WINNERS_CIRCLE.MAX_CHARACTER_COUNT - 1, 1 do
		WINNERS_CIRCLE.SpawnCharacter( f2_local0, "cg.MP.winnersCircle.players." .. f2_local0, f2_arg1, f2_arg0 )
	end
end

WINNERS_CIRCLE.GetAspectCorrectUVs = function ()
	local f1_local0 = CoD.AspectRatioCompare() == LUI.COMPARE.higher
	local f1_local1 = 0.3333
	local f1_local2
	if f1_local0 then
		f1_local2 = LUI.AspectRatio.standardAR / Engine[0x51968F9BE4A326]()
		if not f1_local2 then
		
		else
			local f1_local3 = (f1_local1 - f1_local1 * f1_local2) / 2
			return {
				f1_local1 * 0 + f1_local3,
				f1_local1 * 1 + f1_local3,
				f1_local1 * 2 + f1_local3
			}, {
				f1_local1 * 1 - f1_local3,
				f1_local1 * 2 - f1_local3,
				f1_local1 * 3 - f1_local3
			}
		end
	end
	f1_local2 = Engine[0x51968F9BE4A326]() / LUI.AspectRatio.standardAR
end

