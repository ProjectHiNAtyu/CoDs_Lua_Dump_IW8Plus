-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
LUI.UIGrid = LUI.Class( LUI.UIElement )
LUI.UIDataSourceGrid = LUI.Class( LUI.UIGrid )
LUI.UIPeekingGrid = LUI.Class( LUI.UIGrid )
LUI.UICarouselGrid = LUI.Class( LUI.UIPeekingGrid )
LUI.UIGrid.ARROW_FOR = {
	next = 1,
	previous = 0
}
local f0_local0 = nil
LUI.UIGrid.GRID_EPSILON = 0.01
local f0_local1 = function ( f153_arg0 )
	f153_arg0.DebugBackground = LUI.UIImage.new()
	f153_arg0.DebugBackground.id = "DebugBackground"
	f153_arg0.DebugBackground:SetRGBFromTable( {
		g = -8.679223792368794E+209,
		b = 4.667261640415006E-62,
		r = -9.255965340288647E+61
	} )
	f153_arg0:addEventHandler( "layout_initialized", function ( f156_arg0, f156_arg1 )
		f156_arg0.DebugBackground:addElementBefore( f156_arg0 )
	end )
	f153_arg0.DebugBackground._updateDebugBackgroundTimer = LUI.UITimer.new( {
		event = "debug_update_pos_and_size",
		interval = 32,
		eventTarget = f153_arg0
	} )
	f153_arg0.DebugBackground:addElement( f153_arg0.DebugBackground._updateDebugBackgroundTimer )
	f153_arg0:registerEventHandler( "debug_update_pos_and_size", function ( element, event )
		local f155_local0 = element:GetCurrentAnchorsAndPositions()
		if element.DebugBackground and element.DebugBackground:getParent() then
			element.DebugBackground:SetAnchorsAndPosition( f155_local0.leftAnchor, f155_local0.rightAnchor, f155_local0.topAnchor, f155_local0.bottomAnchor, f155_local0.left, f155_local0.right, f155_local0.top, f155_local0.bottom )
			element.DebugBackground:SetAlpha( element:GetAlpha() )
			element.DebugBackground:SetScale( element:GetScale() )
		end
	end )
	local f153_local0 = f153_arg0.closeTree
	f153_arg0.closeTree = function ( f154_arg0 )
		f153_arg0( f154_arg0 )
		f154_arg0.DebugBackground:closeTree()
		f154_arg0.DebugBackground = nil
	end
	
end

LUI.UIGrid.init = function ( f141_arg0, f141_arg1 )
	Engine[0x20F70AE94873E0B]( "UIGrid", "widget" )
	assert( f141_arg1 )
	assert( type( f141_arg1.maxVisibleRows ) == "number" )
	assert( type( f141_arg1.maxVisibleColumns ) == "number" )
	local f141_local0 = assert
	local f141_local1
	if f141_arg1.buildChild ~= nil and type( f141_arg1.buildChild ) ~= "function" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.refreshChild ~= nil and type( f141_arg1.refreshChild ) ~= "function" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.measureRow ~= nil and type( f141_arg1.measureRow ) ~= "function" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.rowHeight ~= nil and type( f141_arg1.rowHeight ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	f141_local1 = f141_arg1.rowHeight
	if not f141_local1 then
		f141_local1 = f141_arg1.measureRow
		if not f141_local1 then
			f141_local1 = not f141_arg1.buildChild
		end
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.measureColumn ~= nil and type( f141_arg1.measureColumn ) ~= "function" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.columnWidth ~= nil and type( f141_arg1.columnWidth ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	f141_local1 = f141_arg1.columnWidth
	if not f141_local1 then
		f141_local1 = f141_arg1.measureColumn
		if not f141_local1 then
			f141_local1 = not f141_arg1.buildChild
		end
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.isPositionFocusable ~= nil and type( f141_arg1.isPositionFocusable ) ~= "function" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.wrapX ~= nil and type( f141_arg1.wrapX ) ~= "boolean" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.wrapY ~= nil and type( f141_arg1.wrapY ) ~= "boolean" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.spacingX ~= nil and type( f141_arg1.spacingX ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.spacingY ~= nil and type( f141_arg1.spacingY ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.horizontalAlignment ~= nil and type( f141_arg1.horizontalAlignment ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.verticalAlignment ~= nil and type( f141_arg1.verticalAlignment ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.defaultFocus ~= nil and type( f141_arg1.defaultFocus ) ~= "table" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.numRows ~= nil and type( f141_arg1.numRows ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.numColumns ~= nil and type( f141_arg1.numColumns ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.numChildren ~= nil and type( f141_arg1.numChildren ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.scrollingThresholdX ~= nil and type( f141_arg1.scrollingThresholdX ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.scrollingThresholdY ~= nil and type( f141_arg1.scrollingThresholdY ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.maxVelocity ~= nil and type( f141_arg1.maxVelocity ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.springCoefficient ~= nil and type( f141_arg1.springCoefficient ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.primaryAxis ~= nil and type( f141_arg1.primaryAxis ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.adjustSizeToContent ~= nil and type( f141_arg1.adjustSizeToContent ) ~= "boolean" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.alwaysSnap ~= nil and type( f141_arg1.alwaysSnap ) ~= "boolean" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.disableMouseWheel ~= nil and type( f141_arg1.disableMouseWheel ) ~= "boolean" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.arrowsEnabled ~= nil and type( f141_arg1.arrowsEnabled ) ~= "boolean" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.widgetsAlwaysVisible ~= nil and type( f141_arg1.widgetsAlwaysVisible ) ~= "boolean" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.directionalInputEnabled ~= nil and type( f141_arg1.directionalInputEnabled ) ~= "boolean" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.buildArrowsLabel ~= nil and type( f141_arg1.buildArrowsLabel ) ~= "boolean" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.arrowsVerticalOffset ~= nil and type( f141_arg1.arrowsVerticalOffset ) ~= "number" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.alwaysTrapMouseWheel ~= nil and type( f141_arg1.alwaysTrapMouseWheel ) ~= "boolean" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_local0 = assert
	if f141_arg1.countFunction ~= nil and type( f141_arg1.countFunction ) ~= "function" then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	f141_arg1.adjustSizeToContent = f141_arg1.adjustSizeToContent == true
	f141_arg1.spacingX = f141_arg1.spacingX or 0
	f141_arg1.spacingY = f141_arg1.spacingY or 0
	f141_arg1.maxVelocity = f141_arg1.maxVelocity or 5000
	f141_arg1.springCoefficient = f141_arg1.springCoefficient or 400
	f141_arg1.arrowsVerticalOffset = f141_arg1.arrowsVerticalOffset or f141_arg1.spacingY
	if not f141_arg1.primaryAxis then
		if f141_arg1.maxVisibleColumns == 1 and 1 < f141_arg1.maxVisibleRows then
			f141_arg1.primaryAxis = LUI.DIRECTION.vertical
		else
			f141_arg1.primaryAxis = LUI.DIRECTION.horizontal
		end
	end
	f141_local0 = assert
	if f141_arg1.primaryAxis ~= LUI.DIRECTION.horizontal and f141_arg1.primaryAxis ~= LUI.DIRECTION.vertical then
		f141_local1 = false
	else
		f141_local1 = true
	end
	f141_local0( f141_local1 )
	LUI.UIGrid.super.init( f141_arg0 )
	f141_arg0.id = "UIGrid"
	f141_arg0._controllerIndex = f141_arg1.controllerIndex
	f141_arg0._isPositionFocusable = f141_arg1.isPositionFocusable
	f141_arg0._rowHeight = f141_arg1.rowHeight
	f141_arg0._columnWidth = f141_arg1.columnWidth
	f141_arg0._spacingX = f141_arg1.spacingX
	f141_arg0._spacingY = f141_arg1.spacingY
	f141_arg0._wrapX = f141_arg1.wrapX ~= false
	f141_arg0._wrapY = f141_arg1.wrapY ~= false
	f141_arg0._defaultFocus = f141_arg1.defaultFocus or nil
	f141_arg0._scrollingThresholdX = f141_arg1.scrollingThresholdX or 1
	f141_arg0._scrollingThresholdY = f141_arg1.scrollingThresholdY or 1
	f141_arg0._scrollingThresholdPixelX = f141_arg1.scrollingThresholdPixelX or 0
	f141_arg0._scrollingThresholdPixelY = f141_arg1.scrollingThresholdPixelY or 0
	f141_arg0._permittedQualifiers = f141_arg1.permittedQualifiers or {}
	f141_arg0._horizontalAlignment = f141_arg1.horizontalAlignment
	f141_arg0._verticalAlignment = f141_arg1.verticalAlignment
	f141_arg0._alwaysSnap = f141_arg1.alwaysSnap == true
	f141_arg0._disableMouseWheel = f141_arg1.disableMouseWheel
	f141_arg0._arrowsEnabled = f141_arg1.arrowsEnabled ~= false
	f141_arg0._widgetsAlwaysVisible = f141_arg1.widgetsAlwaysVisible or false
	f141_arg0._directionalInputEnabled = f141_arg1.directionalInputEnabled ~= false
	f141_arg0._alwaysTrapMouseWheel = f141_arg1.alwaysTrapMouseWheel or false
	f141_arg0._buildChild = f141_arg1.buildChild
	f141_arg0._onNewTargetFocusPosition = f141_arg1.onNewTargetFocusPosition or nil
	f141_arg0._arrows = {}
	f141_arg0._itemNumbers = {}
	f141_arg0._scrollbars = {}
	f141_arg0._mouseWheelScrollingVerticalOffsetPx = f141_arg1.mouseWheelScrollingOffsetPx or 16
	f141_arg0._mouseWheelScrollingHorizontalOffsetPx = f141_arg1.mouseWheelScrollingOffsetPx or 56
	f141_arg0._showNumbersAndArrowsKBM = false
	f141_arg0._updateArrowVisibilityOnRefresh = true
	f141_arg0._countFunction = f141_arg1.countFunction or nil
	f141_arg0._adjustSizeToContent = f141_arg1.adjustSizeToContent
	f141_arg0._isGrid = true
	if Engine[0x2DA54CF5D6B7F02]() then
		f141_arg0._refreshChild = f141_arg1.refreshChild
	end
	f141_arg0:registerEventHandler( "position_visible", function ( element, event )
		assert( event.row and event.column )
		assert( event.child )
		if not element._overridePositionVisibleCallback then
			if element._targetPosition and event.child ~= event._childInFocus and element._shouldFocus and event.row == element._targetPosition.y and event.column == element._targetPosition.x then
				element:GiveFocusToChild( event.child, nil, element._nextFocusWrap, element._nextFocusShouldPlayButtonSound )
			end
		else
			element:_overridePositionVisibleCallback( event )
		end
	end )
	f141_arg0:registerEventHandler( "restore_focus", f141_arg0.restoreFocus )
	f141_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		return element:GamepadButton( event )
	end )
	f141_arg0:registerEventHandler( "update_input_type", LUI.UIGrid.UpdateNumbersArrowsAndScrolling )
	f141_arg0:registerEventHandler( "gain_focus", function ( element, event )
		for f150_local3, f150_local4 in ipairs( element._scrollbars ) do
			if f150_local4.GainFocusSource then
				f150_local4:GainFocusSource( event.controllerIndex )
			end
		end
		return element:GainFocus( event )
	end )
	f141_arg0:registerEventHandler( "lose_focus", function ( element, event )
		for f149_local3, f149_local4 in ipairs( element._scrollbars ) do
			if f149_local4.LoseFocusSource then
				f149_local4:LoseFocusSource( event.controllerIndex )
			end
		end
		return element:LoseFocus( event )
	end )
	f141_arg0:registerEventHandler( "grid_size_updated", function ( element, event )
		for f148_local3, f148_local4 in ipairs( element._scrollbars ) do
			if f148_local4.SizeUpdatedSource then
				f148_local4:SizeUpdatedSource()
			end
		end
		element:UpdateNumbersArrowsAndScrolling()
	end )
	f141_arg0:registerEventHandler( "mouseenter", function ( element, event )
		for f147_local3, f147_local4 in ipairs( f141_arg0._scrollbars ) do
			if f147_local4.MouseEnterSource then
				f147_local4:MouseEnterSource( event.controller )
			end
		end
	end )
	f141_arg0:registerEventHandler( "mouseleave", function ( element, event )
		for f146_local3, f146_local4 in ipairs( f141_arg0._scrollbars ) do
			if f146_local4.MouseLeaveSource then
				f146_local4:MouseLeaveSource( event.controller, event.x, event.y )
			end
		end
	end )
	f141_arg0:registerEventHandler( "ensure_line_visible", function ( element, event )
		element:EnsureLineVisible( event.direction, event.line, event.force )
	end )
	f141_local0 = Dvar[0x9E5BE3B4BBA4E0E]( "#x3a5b63b8c5fcd91ed" )
	if Engine[0x5EE05AD994388B6]() then
		f141_arg0:addEventHandler( "update_grid_list_focus_active", function ( f144_arg0, f144_arg1 )
			local f144_local0, f144_local1 = nil
			if f144_arg1.child then
				f144_local0, f144_local1 = f144_arg0:GetChildPosition( f144_arg1.child )
			end
			local f144_local2 = f144_arg1.focusType == FocusType.MouseOver
			if f144_local2 and f144_local0 and f144_local1 then
				local f144_local3, f144_local4 = f144_arg0:GetColumnBoundaries()
				local f144_local5, f144_local6 = f144_arg0:GetRowBoundaries()
				if f144_local3 and f144_local5 then
					f144_local0 = LUI.clamp( f144_local0, f144_local3, f144_local4 )
					f144_local1 = LUI.clamp( f144_local1, f144_local5, f144_local6 )
				end
			end
			local f144_local3 = nil
			if f144_local0 and f144_local1 then
				local f144_local4 = f144_arg0:IsAlreadyFocused( f144_local0, f144_local1 )
				f144_local3 = f144_arg0:GetElementAtPosition( f144_local0, f144_local1 )
				if not f144_local4 then
					f144_arg0._targetPosition = {
						x = f144_local0,
						y = f144_local1
					}
					f144_arg0._childInFocus = f144_local3
					f144_arg0:PositionChanged()
					if f141_arg0 then
						f144_arg0._shouldFocus = true
					end
					f144_arg0:FocusChanged( f144_arg1.focusType )
				end
			end
			if f144_arg0:IsUsingActiveOnMouseOverBehavior() and f144_local2 then
				f144_arg0:TryRequestActiveOnChildFocus( f144_local3 )
			end
		end )
		f141_arg0.neverSaveState = f141_local0
	end
	f141_arg0:SetHandleMouse( true )
	f141_arg0:OverrideMouseCursorType( MouseCursorType.CURSOR_TYPE_ARROW_NORMAL )
	f141_arg0:registerEventHandler( "mousedown", function ()
		return true
	end )
	f141_arg0:registerEventHandler( "mouseup", function ()
		return true
	end )
	f141_arg0:SetupUIGrid( f141_arg1 )
	if f141_arg1.buildArrowsLabel then
		f141_arg0:BuildGridCountArrows( f141_arg1.parentMenu, f141_arg1.arrowsVerticalOffset )
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x35e8b5c936d3b467d" ) then
		f0_local0( f141_arg0 )
	end
	Engine[0xFE34BB8C92CDBEE]( "UIGrid", "widget" )
end

LUI.UIGrid.IsAlreadyFocused = function ( f140_arg0, f140_arg1, f140_arg2 )
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x3a5b63b8c5fcd91ed" ) then
		local f140_local0 = f140_arg0.saveData
		if f140_local0 then
			f140_local0 = f140_arg0.saveData.targetPosition
			if f140_local0 then
				if f140_arg0.saveData.targetPosition.x ~= f140_arg1 or f140_arg0.saveData.targetPosition.y ~= f140_arg2 then
					f140_local0 = false
				else
					f140_local0 = true
				end
			end
		end
		return f140_local0
	end
	local f140_local0 = f140_arg0._targetPosition
	if f140_local0 then
		if f140_arg0._targetPosition.x ~= f140_arg1 or f140_arg0._targetPosition.y ~= f140_arg2 then
			f140_local0 = false
		else
			f140_local0 = true
		end
	end
	return f140_local0
end

LUI.UIGrid.GetSpacingX = function ( f139_arg0 )
	return f139_arg0._spacingX
end

LUI.UIGrid.GetSpacingY = function ( f138_arg0 )
	return f138_arg0._spacingY
end

LUI.UIGrid.GetRowHeight = function ( f137_arg0 )
	return f137_arg0._rowHeight
end

LUI.UIGrid.GetColumnWidth = function ( f136_arg0 )
	return f136_arg0._columnWidth
end

LUI.UIGrid.SetRefreshChild = function ( f134_arg0, f134_arg1 )
	if Engine[0x2DA54CF5D6B7F02]() then
		f134_arg0._refreshChild = f134_arg1
	end
	if f134_arg0._setActiveMouseOverBehavior and f134_arg0:HasActiveStateCorrectionHack() then
		f134_arg0._activeRefreshChild = function ( f135_arg0, f135_arg1, f135_arg2 )
			if f134_arg0._activeElement then
				local f135_local0 = f134_arg0._activeRowIndex == f135_arg2
				local f135_local1 = f134_arg0._activeElement == f135_arg0
				if not f135_local1 then
					f135_local1 = f134_arg0._activeElement:isChildOf( f135_arg0 )
				end
				if f135_local1 then
					if f135_local0 then
						f134_arg0.PlayActiveAnimations( f134_arg0._activeElement )
					else
						f134_arg0.PlayRemoveActiveAnimations( f134_arg0._activeElement )
					end
				end
			end
			f134_arg0( f135_arg0, f135_arg1, f135_arg2 )
		end
		
		f134_arg0:SetRefreshChildInC( f134_arg0._activeRefreshChild )
	else
		f134_arg0:SetRefreshChildInC( f134_arg1 )
	end
end

LUI.UIGrid.ColumnRowToPrimarySecondary = function ( f133_arg0, f133_arg1, f133_arg2 )
	if f133_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		return f133_arg1, f133_arg2
	else
		return f133_arg2, f133_arg1
	end
end

LUI.UIGrid.PrimarySecondaryToColumnRow = function ( f132_arg0, f132_arg1, f132_arg2 )
	if f132_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		return f132_arg1, f132_arg2
	else
		return f132_arg2, f132_arg1
	end
end

LUI.UIGrid.SetVerticalScrollingOffsetPx = function ( f131_arg0, f131_arg1 )
	assert( 0 < f131_arg1 )
	f131_arg0._mouseWheelScrollingVerticalOffsetPx = f131_arg1
end

LUI.UIGrid.SetSnapOnScrollBarMouseDrag = function ( f130_arg0, f130_arg1 )
	f130_arg0._snapOnScrollBarMouseDrag = f130_arg1
end

LUI.UIGrid.IsSnapOnScrollBarMouseDrag = function ( f129_arg0 )
	return f129_arg0._snapOnScrollBarMouseDrag
end

LUI.UIGrid.SetNumChildren = function ( f128_arg0, f128_arg1 )
	f128_arg0:SetNumChildrenInC( f128_arg1 )
	if f128_arg0._targetPosition then
		if f128_arg0._shouldFocus then
			f128_arg0:SetFocusedPosition( f128_arg0._targetPosition, true, nil, nil, false )
		else
			f128_arg0:SetPosition( f128_arg0._targetPosition, true )
		end
	else
		f128_arg0:SetTargetColumnToDefault()
		f128_arg0:SetTargetRowToDefault()
	end
	if f128_arg0:IsUsingActiveOnMouseOverBehavior() then
		f128_arg0:DispatchRegisterParentActiveMouseBehavior()
	end
end

LUI.UIGrid.SetNumColumns = function ( f127_arg0, f127_arg1 )
	f127_arg0:SetNumColumnsInC( f127_arg1 )
	if f127_arg0._targetPosition then
		if f127_arg0._shouldFocus then
			f127_arg0:SetFocusedPosition( f127_arg0._targetPosition, true )
		else
			f127_arg0:SetPosition( f127_arg0._targetPosition, true )
		end
	else
		f127_arg0:SetTargetColumnToDefault()
	end
end

LUI.UIGrid.SetNumRows = function ( f126_arg0, f126_arg1 )
	f126_arg0:SetNumRowsInC( f126_arg1 )
	if f126_arg0._targetPosition then
		if f126_arg0._shouldFocus then
			f126_arg0:SetFocusedPosition( f126_arg0._targetPosition, true )
		else
			f126_arg0:SetPosition( f126_arg0._targetPosition, true )
		end
	else
		f126_arg0:SetTargetRowToDefault()
	end
end

LUI.UIGrid.SetIsPositionFocusableFunc = function ( f125_arg0, f125_arg1 )
	f125_arg0._isPositionFocusable = f125_arg1
end

LUI.UIGrid.EnsureLineVisible = function ( f124_arg0, f124_arg1, f124_arg2, f124_arg3 )
	local f124_local0 = assert
	local f124_local1
	if (f124_arg1 ~= LUI.DIRECTION.vertical or f124_arg0._verticalAlignment ~= LUI.Alignment.Top and f124_arg0._verticalAlignment ~= nil) and (f124_arg1 ~= LUI.DIRECTION.horizontal or f124_arg0._horizontalAlignment ~= LUI.Alignment.Left and f124_arg0._horizontalAlignment ~= nil) then
		f124_local1 = false
	else
		f124_local1 = true
	end
	f124_local0( f124_local1 )
	f124_local0, f124_local2, f124_local1 = nil
	if f124_arg1 == LUI.DIRECTION.horizontal then
		f124_local0 = f124_arg0.SetTargetColumn
		f124_local2 = f124_arg0.GetColumnBoundaries
		f124_local1 = f124_arg0.ComputeColumnLeftFromRight
	else
		f124_local0 = f124_arg0.SetTargetRow
		f124_local2 = f124_arg0.GetRowBoundaries
		f124_local1 = f124_arg0.ComputeRowTopFromBottom
	end
	local f124_local3, f124_local4 = f124_local2( f124_arg0 )
	local f124_local5 = false
	if f124_arg2 < f124_local3 then
		f124_local0( f124_arg0, f124_arg2, true, false )
		f124_local5 = true
	elseif f124_local4 < f124_arg2 then
		f124_local0( f124_arg0, f124_local1( f124_arg0, f124_arg2 ), true, false )
		f124_local5 = true
	end
	if not f124_local5 and f124_arg3 then
		f124_local0( f124_arg0, f124_arg2, true, false )
		f124_local5 = true
	end
	if f124_local5 then
		f124_arg0:UpdateNumbersArrowsAndScrolling()
	end
end

LUI.UIGrid.HandleScrollbarDrag = function ( f123_arg0, f123_arg1 )
	local f123_local0 = f123_arg1.scrollbar
	if f123_arg1.dragStart or not f123_arg0._dragTargetRef then
		f123_arg0._dragTargetRef = {
			x = f123_arg1.targetX,
			y = f123_arg1.targetY
		}
	end
	local f123_local1 = f123_arg1.targetX - f123_arg0._dragTargetRef.x
	local f123_local2 = f123_arg1.targetY - f123_arg0._dragTargetRef.y
	if f123_local1 == 0 and f123_local2 == 0 then
		return false
	end
	local f123_local3 = f123_arg0:GetContentSize( f123_local0:GetDirection() )
	if f123_local3 and 0 < f123_local3 then
		local f123_local4 = {}
		if f123_local0:GetDirection() == LUI.DIRECTION.vertical then
			local f123_local5 = f123_local2 * f123_local3
			local f123_local6, f123_local7 = f123_arg0:GetRowBoundaries()
			local f123_local8 = f123_arg0
			local f123_local9 = f123_arg0.ConvertRowPixelToLine
			local f123_local10
			if 0 <= f123_local5 and not f123_local7 then
				f123_local10 = f123_local7
			else
				f123_local10 = f123_local6
			end
			f123_local9 = f123_local9( f123_local8, f123_local10, f123_local5 )
			f123_local4 = {
				x = f123_arg0:GetTargetColumn(),
				y = f123_local9,
				x = f123_arg0:GetTargetColumn(),
				y = f123_local9
			}
			f123_arg0:SetPositionInternal( f123_local4, true, false, false )
		else
			local f123_local5 = f123_local1 * f123_local3
			local f123_local6, f123_local7 = f123_arg0:GetColumnBoundaries()
			local f123_local8 = f123_arg0
			local f123_local9 = f123_arg0.ConvertColumnPixelToLine
			local f123_local10
			if 0 <= f123_local5 and not f123_local7 then
				f123_local10 = f123_local7
			else
				f123_local10 = f123_local6
			end
			f123_local9 = f123_local9( f123_local8, f123_local10, f123_local5 )
			f123_local4 = {
				x = f123_local9,
				y = f123_arg0:GetTargetRow(),
				x = f123_local9,
				y = f123_arg0:GetTargetRow()
			}
			f123_arg0:SetPositionInternal( f123_local4, true, false, false )
		end
		f123_arg0:UpdateScrolling()
		f123_arg0._dragTargetRef = {
			x = f123_arg1.targetX,
			y = f123_arg1.targetY
		}
		if f123_arg0:IsSnapOnScrollBarMouseDrag() then
			if not f123_arg0._mouseDragTargetPosition then
				f123_arg0._mouseDragTargetPosition = {}
			end
			f123_arg0._mouseDragTargetPosition.x = f123_local4.x
			f123_arg0._mouseDragTargetPosition.y = f123_local4.y
		end
	end
	return true
end

LUI.UIGrid.HandleScrollbarMouseUp = function ( f122_arg0, f122_arg1 )
	local f122_local0 = f122_arg1.scrollbar
	if f122_arg0:IsSnapOnScrollBarMouseDrag() and f122_arg1.scrollbarWasDragged and f122_arg0._mouseDragTargetPosition then
		f122_arg0:SetPositionInternal( {
			x = math.floor( f122_arg0._mouseDragTargetPosition.x + 0.5 ),
			y = math.floor( f122_arg0._mouseDragTargetPosition.y + 0.5 ),
			mouseDragForceSnap = true
		}, false, false, false )
	end
	return true
end

LUI.UIGrid.HandleScrollbarSet = function ( f121_arg0, f121_arg1 )
	if f121_arg1.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
		f121_arg0:SetPositionInternal( {
			x = f121_arg0:GetTargetColumn(),
			y = f121_arg0:ConvertRowPixelToLine( 0, (f121_arg0:GetContentSize( LUI.DIRECTION.vertical ) or 1) * f121_arg1.targetY )
		}, true )
	else
		f121_arg0:SetPositionInternal( {
			x = f121_arg0:ConvertColumnPixelToLine( 0, (f121_arg0:GetContentSize( LUI.DIRECTION.horizontal ) or 1) * f121_arg1.targetX ),
			y = f121_arg0:GetTargetRow()
		}, true )
	end
end

LUI.UIGrid.AddScrollbar = function ( f118_arg0, f118_arg1 )
	if f118_arg1._slider then
		f118_arg1._slider.mouseWheelTarget = f118_arg0
	elseif f118_arg1._fixedSizeSlider then
		f118_arg1._fixedSizeSlider.mouseWheelTarget = f118_arg0
	end
	f118_arg1:LinkTo( f118_arg0 )
	f118_arg0:SetHandleMouseMove( true )
	table.insert( f118_arg0._scrollbars, f118_arg1 )
	f118_arg0:SetNotifyOnLayoutInit( true )
	if not f118_arg1._customScrolling then
		f118_arg0:registerEventHandler( "scrollbar_previous", function ( element, event )
			if event.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
				element:Scroll( "up" )
			else
				element:Scroll( "left" )
			end
			return true
		end )
		f118_arg0:registerEventHandler( "scrollbar_next", function ( element, event )
			if event.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
				element:Scroll( "down" )
			else
				element:Scroll( "right" )
			end
			return true
		end )
		f118_arg0:registerEventHandler( "scrollbar_drag", f118_arg0.HandleScrollbarDrag )
		f118_arg0:registerEventHandler( "scrollbar_mouse_up", f118_arg0.HandleScrollbarMouseUp )
		f118_arg0:registerEventHandler( "scrollbar_set", f118_arg0.HandleScrollbarSet )
	end
end

LUI.UIGrid.RemoveScrollbar = function ( f117_arg0, f117_arg1 )
	local f117_local0 = LUI.IsItemInArray( f117_arg0._scrollbars, f117_arg1 )
	if f117_local0 then
		if f117_arg1._slider then
			f117_arg1._slider.mouseWheelTarget = nil
		elseif f117_arg1._fixedSizeSlider then
			f117_arg1._fixedSizeSlider.mouseWheelTarget = nil
		end
		f117_arg1:Unlink()
		table.remove( f117_arg0._scrollbars, f117_local0 )
		if #f117_arg0._scrollbars == 0 then
			f117_arg0:SetHandleMouseMove( false )
			f117_arg0:SetNotifyOnLayoutInit( false )
			if not f117_arg1._customScrolling then
				f117_arg0:registerEventHandler( "scrollbar_previous", nil )
				f117_arg0:registerEventHandler( "scrollbar_next", nil )
				f117_arg0:registerEventHandler( "scrollbar_drag", nil )
				f117_arg0:registerEventHandler( "scrollbar_set", nil )
			end
		end
	end
end

LUI.UIGrid.SetArrowsEnabled = function ( f116_arg0, f116_arg1 )
	f116_arg0._arrowsEnabled = f116_arg1
end

LUI.UIGrid.SetWidgetsAlwaysVisible = function ( f115_arg0, f115_arg1 )
	f115_arg0._widgetsAlwaysVisible = f115_arg1
end

LUI.UIGrid.SetWraps = function ( f114_arg0, f114_arg1, f114_arg2 )
	if f114_arg1 ~= nil then
		f114_arg0._wrapX = f114_arg1
	end
	if f114_arg2 ~= nil then
		f114_arg0._wrapY = f114_arg2
	end
end

LUI.UIGrid.AddArrow = function ( f112_arg0, f112_arg1, f112_arg2 )
	assert( type( f112_arg1 ) == "userdata" )
	local f112_local0
	if not f112_arg2 then
		f112_local0 = f112_arg2
	else
		f112_local0 = f112_arg1.id
	end
	f112_arg0._arrows[f112_local0] = f112_arg1
	if f112_arg1.id == "ArrowUp" or f112_arg1.id == "ArrowDown" or f112_arg1.id == "ArrowRight" or f112_arg1.id == "ArrowLeft" then
		f112_arg1:registerEventHandler( "button_action", function ( element, event )
			if f112_arg0._arrowsEnabled then
				local f113_local0 = "up"
				if f112_arg0.id == "ArrowDown" then
					f113_local0 = "down"
				elseif f112_arg0.id == "ArrowRight" then
					f113_local0 = "right"
				elseif f112_arg0.id == "ArrowLeft" then
					f113_local0 = "left"
				end
				f112_arg0:Scroll( f113_local0 )
			end
		end )
	end
end

LUI.UIGrid.AddItemNumbers = function ( f111_arg0, f111_arg1, f111_arg2 )
	assert( type( f111_arg1 ) == "userdata" )
	assert( f111_arg1.setText )
	local f111_local0
	if not f111_arg2 then
		f111_local0 = f111_arg2
	else
		f111_local0 = f111_arg1.id
	end
	local f111_local1 = assert
	local f111_local2
	if f111_local0 then
		f111_local2 = f111_local0
	else
		f111_local2 = 0 < #f111_local0
	end
	f111_local1( f111_local2 )
	f111_arg0._itemNumbers[f111_local0] = f111_arg1
end

LUI.UIGrid.SetLastFocusIndexDataSource = function ( f110_arg0, f110_arg1 )
	assert( type( f110_arg1 ) == "table" )
	f110_arg0._lastFocusIndexDataSource = f110_arg1
	f110_arg0:SetLastFocusIndex( f110_arg0._targetPosition )
end

LUI.UIGrid.SetLastFocusIndex = function ( f109_arg0, f109_arg1 )
	if f109_arg0._lastFocusIndexDataSource then
		f109_arg0._lastFocusIndexDataSource:SetValue( f109_arg0._controllerIndex, f109_arg1 )
	end
end

LUI.UIGrid.FocusFirstItem = function ( f108_arg0 )
	f108_arg0:SetFocusedPosition( {
		x = 0,
		y = 0
	}, true )
end

LUI.UIGrid.GetFocusPositionIndex = function ( f107_arg0, f107_arg1 )
	if not f107_arg0._targetPosition then
		return nil
	end
	local f107_local0 = f107_arg0:GetNumChildren()
	if f107_local0 <= 0 then
		return nil
	elseif not f107_arg1 then
		f107_arg1 = {}
	end
	if f107_arg1.relativePosition == nil then
		f107_arg1.relativePosition = true
	end
	local f107_local1 = nil
	local f107_local2 = f107_arg0:GetFocusPosition( LUI.DIRECTION.horizontal )
	local f107_local3 = f107_arg0:GetFocusPosition( LUI.DIRECTION.vertical )
	if f107_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f107_arg1.relativePosition then
			f107_local1 = f107_local2 + f107_local3 * f107_arg0:GetMaxVisibleColumns()
		else
			f107_local1 = f107_local2 + f107_local3 * f107_arg0:GetNumColumns()
		end
	elseif f107_arg1.relativePosition then
		f107_local1 = f107_local3 + f107_local2 * f107_arg0:GetMaxVisibleRows()
	else
		f107_local1 = f107_local3 + f107_local2 * f107_arg0:GetNumRows()
	end
	if f107_arg1.clampContentIndexToDatasetLength and f107_local0 <= f107_local1 then
		f107_local1 = f107_local0 - 1
	else
		f107_local1 = f107_local1 % f107_local0
	end
	return f107_local1
end

LUI.UIGrid.GetFocusPositionElement = function ( f106_arg0, f106_arg1 )
	local f106_local0 = nil
	local f106_local1 = f106_arg0:GetFocusPositionIndex()
	if f106_local1 then
		local f106_local2 = f106_arg0
		local f106_local3 = f106_arg0.GetPositionForIndex
		local f106_local4 = f106_local1
		local f106_local5 = {}
		local f106_local6
		if f106_arg1 then
			f106_local6 = f106_arg1
		else
			f106_local6 = f106_arg1.relativePosition
		end
		f106_local5.relativePosition = f106_local6
		f106_local3 = f106_local3( f106_local2, f106_local4, f106_local5 )
		f106_local0 = f106_arg0:GetElementAtPosition( f106_local3.x, f106_local3.y )
	end
	return f106_local0
end

LUI.UIGrid.SetSnapOnWrapEnabled = function ( f105_arg0, f105_arg1 )
	f105_arg0._snapOnWrap = f105_arg1
end

LUI.UIGrid.BuildGridCountArrows = function ( f101_arg0, f101_arg1, f101_arg2 )
	f101_arg0.GridCountArrows = MenuBuilder.BuildRegisteredType( "GridCountArrows", {
		controllerIndex = f101_arg0._controllerIndex
	} )
	f101_arg0.GridCountArrows.id = "GridCountArrows"
	local f101_local0 = function ()
		local f104_local0, f104_local1, f104_local2, f104_local3 = f101_arg0:getLocalRect()
		local f104_local4, f104_local5, f104_local6, f104_local7 = f101_arg0:GetAnchorData()
		local f104_local8 = f104_local0 + (f104_local2 - f104_local0) / 2
		local f104_local9, f104_local10, f104_local11, f104_local12 = f101_arg0.GridCountArrows:getLocalRect()
		local f104_local13 = f104_local11 - f104_local9
		local f104_local14 = f104_local12 - f104_local10
		f104_local9 = f104_local8 - f104_local13 / 2
		f104_local11 = f104_local9 + f104_local13
		f104_local10 = f104_local3 + f101_arg0
		f101_arg0.GridCountArrows:SetAnchorsAndPosition( f104_local4, f104_local6, f104_local5, f104_local7, f104_local9, f104_local11, f104_local10, f104_local10 + f104_local14 )
	end
	
	f101_arg0:SetNotifyOnLayoutInit( true )
	f101_arg0:addEventHandler( "layout_initialized", function ()
		f101_arg0()
		local f103_local0 = f101_arg0
		if not f103_local0 then
			f103_local0 = f101_arg0:getParent()
		end
		f101_arg0 = f103_local0
		f101_arg0:addElement( f101_arg0.GridCountArrows )
	end )
	f101_arg0:addEventHandler( "grid_size_updated", function ()
		f101_arg0()
	end )
	f101_arg0:AddItemNumbers( f101_arg0.GridCountArrows.ListCount )
	f101_arg0:AddArrow( f101_arg0.GridCountArrows.ArrowUp )
	f101_arg0:AddArrow( f101_arg0.GridCountArrows.ArrowDown )
	f101_arg0.GridCountArrows.ArrowUp:SetupArrow( LUI.BEARING.up )
	f101_arg0.GridCountArrows.ArrowDown:SetupArrow( LUI.BEARING.down )
end

LUI.UIGrid.SetHorizontalAlignment = function ( f100_arg0, f100_arg1 )
	f100_arg0._horizontalAlignment = f100_arg1
	f100_arg0:SetHorizontalAlignmentInC( f100_arg1 )
end

LUI.UIGrid.SetVerticalAlignment = function ( f99_arg0, f99_arg1 )
	f99_arg0._verticalAlignment = f99_arg1
	f99_arg0:SetVerticalAlignmentInC( f99_arg1 )
end

LUI.UIGrid.SetScrollThresholdX = function ( f98_arg0, f98_arg1 )
	local f98_local0
	if not f98_arg1 then
		f98_local0 = f98_arg1
	else
		f98_local0 = 1
	end
	f98_arg0._scrollingThresholdX = f98_local0
end

LUI.UIGrid.SetScrollThresholdY = function ( f97_arg0, f97_arg1 )
	local f97_local0
	if not f97_arg1 then
		f97_local0 = f97_arg1
	else
		f97_local0 = 1
	end
	f97_arg0._scrollingThresholdY = f97_local0
end

local f0_local2 = 0.05
local f0_local3 = 0.1
LUI.UIGrid.UpdateStickInputDirection_ButtonLess = function ( f96_arg0, f96_arg1 )
	if not LUI.IsLastInputGamepad( f96_arg1.controller ) then
		f96_arg0._scrollDirection = nil
		return 
	end
	local f96_local0 = f96_arg1.leftStickPitch or 0
	if math.abs( f96_local0 ) < f0_local0 then
		f96_arg0._scrollDirection = nil
		return 
	else
		local f96_local1
		if 0 < f96_local0 then
			f96_local1 = "up"
		else
			f96_local1 = "down"
		end
	end
	f96_arg0._scrollDirection = f96_local1
	return true
end

LUI.UIGrid.UpdateButtonInputDirection_ButtonLess = function ( f95_arg0, f95_arg1 )
	if f95_arg1.qualifier ~= "keyboard" then
		return 
	end
	f95_arg0._scrollDirection = nil
	if f95_arg1.down then
		if f95_arg1.button == "up" then
			f95_arg0._scrollDirection = "up"
		elseif f95_arg1.button == "down" then
			f95_arg0._scrollDirection = "down"
		end
	end
	return true
end

LUI.UIGrid.UpdateScroll_ButtonLess = function ( f94_arg0 )
	if f94_arg0._scrollDirection then
		f94_arg0:ScrollAmount( f94_arg0._scrollDirection, f0_local0 )
	end
end

LUI.UIGrid.GetChildPosition = function ( f93_arg0, f93_arg1 )
	for f93_local3, f93_local4 in ipairs( f93_arg0:GetBuiltChildren() ) do
		if f93_arg1:isDescendentOf( f93_local4 ) then
			return f93_local4._gridContentColumnIndex, f93_local4._gridContentRowIndex
		end
	end
	return nil, nil
end

LUI.UIGrid.FocusedOnLastElementHorizontally = function ( f92_arg0 )
	local f92_local0
	if not f92_arg0._targetPosition or not f92_arg0._targetPosition.x or f92_arg0._targetPosition.x ~= f92_arg0:GetNumColumns() - 1 then
		f92_local0 = false
	else
		f92_local0 = true
	end
	return f92_local0
end

LUI.UIGrid.FocusedOnFirstElementHorizontally = function ( f91_arg0 )
	local f91_local0
	if not f91_arg0._targetPosition or not f91_arg0._targetPosition.x or f91_arg0._targetPosition.x ~= 0 then
		f91_local0 = false
	else
		f91_local0 = true
	end
	return f91_local0
end

LUI.UIDataSourceGrid.init = function ( f89_arg0, f89_arg1 )
	Engine[0x20F70AE94873E0B]( "UIDataSourceGrid", "widget" )
	assert( f89_arg1 )
	assert( f89_arg1.controllerIndex )
	f89_arg1.numChildren = nil
	f89_arg1.numRows = nil
	f89_arg1.numColumns = nil
	f89_arg1.refreshChild = function ( f90_arg0, f90_arg1, f90_arg2 )
		f89_arg0:DefaultRefreshChildFunction( f90_arg0, f90_arg1, f90_arg2 )
	end
	
	LUI.UIDataSourceGrid.super.init( f89_arg0, f89_arg1 )
	if f89_arg1.dataSource then
		f89_arg0:SetGridDataSource( f89_arg1.dataSource )
	else
		f89_arg0:SetNumChildren( 0 )
	end
	Engine[0xFE34BB8C92CDBEE]( "UIDataSourceGrid", "widget" )
end

LUI.UIDataSourceGrid.DefaultRefreshChildFunction = function ( f88_arg0, f88_arg1, f88_arg2, f88_arg3 )
	f88_arg0:SetGridChildDataSource( f88_arg1, f88_arg2, f88_arg3 )
end

LUI.UIDataSourceGrid.SetGridChildDataSource = function ( f87_arg0, f87_arg1, f87_arg2, f87_arg3 )
	if f87_arg0._gridDataSource then
		f87_arg1:SetDataSource( f87_arg0._gridDataSource:GetDataSourceAtIndex( f87_arg0:GetContentIndex( f87_arg2, f87_arg3 ), f87_arg0._controllerIndex ), f87_arg0._controllerIndex )
	end
end

LUI.UIDataSourceGrid.SetGridDataSource = function ( f85_arg0, f85_arg1 )
	assert( type( f85_arg1 ) == "table" )
	assert( type( f85_arg1.GetDataSourceAtIndex ) == "function" )
	if f85_arg0._gridDataSource == f85_arg1 then
		
	else
		
	end
	for f85_local3, f85_local4 in ipairs( f85_arg0:GetBuiltChildren() ) do
		f85_local4:SetDataSource( nil, f85_arg0._controllerIndex )
	end
	f85_arg0._pendingRefresh = true
	f85_arg0._gridDataSource = f85_arg1
	if f85_arg0._countSubscription then
		f85_arg0:UnsubscribeFromModel( f85_arg0._countSubscription )
	end
	f85_local0 = f85_arg0._gridDataSource:GetCountModel( f85_arg0._controllerIndex )
	if f85_local0 then
		f85_arg0._countSubscription = f85_arg0:SubscribeToModel( f85_local0, function ( f86_arg0 )
			local f86_local0 = DataModel[0x614D394F6F9A18D]( f86_arg0 )
			if f86_local0 then
				f85_arg0:SetNumChildren( f86_local0 )
				f85_arg0:RefreshContent()
			end
		end )
	else
		f85_local1 = f85_arg0._gridDataSource:GetCountValue( f85_arg0._controllerIndex )
		assert( f85_local1 )
		f85_arg0:SetNumChildren( f85_local1 )
		f85_arg0:RefreshContent()
	end
	for f85_local4, f85_local5 in ipairs( f85_arg0._scrollbars ) do
		f85_local5:SetLinkedGridDataSource( f85_arg1 )
	end
	if f85_arg0._pendingRefresh then
		f85_arg0._pendingRefresh = nil
		f85_arg0:RefreshContent()
	end
end

LUI.UIDataSourceGrid.SetGridDataSourceThroughElement = function ( f84_arg0, f84_arg1, f84_arg2 )
	local f84_local0 = DataLink.new( {
		target = f84_arg0,
		source = f84_arg1,
		relativeDataSourcePath = f84_arg2,
		type = DataLink.TYPES.gridDataSource
	} )
	f84_local0:Link()
	f84_local0:Refresh()
	return f84_local0
end

LUI.UIDataSourceGrid.GetGridDataSource = function ( f83_arg0 )
	return f83_arg0._gridDataSource
end

LUI.UIDataSourceGrid.GetDefaultFocus = function ( f82_arg0 )
	if not f82_arg0._gridDataSource then
		return nil
	else
		local f82_local0 = f82_arg0._gridDataSource:GetDefaultFocusIndex( f82_arg0._controllerIndex )
		if f82_local0 then
			if type( f82_local0 ) == "table" then
				return f82_local0
			else
				return f82_arg0:GetPositionForIndex( f82_local0, {
					relativePosition = false
				} )
			end
		else
			return nil
		end
	end
end

LUI.UIGrid.addElement = function ( f81_arg0, f81_arg1 )
	assert( false, "Forbidden" )
end

LUI.UIGrid.closeChildren = function ( f80_arg0 )
	for f80_local3, f80_local4 in ipairs( f80_arg0:GetBuiltChildren() ) do
		f80_local4:closeTree()
	end
end

LUI.UIGrid.LoseFocus = function ( f79_arg0, f79_arg1 )
	if f79_arg0:ProcessEventToChildInFocus( f79_arg1 ) then
		f79_arg0._childInFocus = nil
	end
	f79_arg0._targetPosition = nil
	f79_arg0._shouldFocus = nil
end

LUI.UIGrid.ProcessEventToChildInFocus = function ( f78_arg0, f78_arg1 )
	if f78_arg0._childInFocus then
		return f78_arg0._childInFocus:processEvent( f78_arg1 )
	else
		return false
	end
end

LUI.UIGrid.GetVisibleChildInFocus = function ( f77_arg0 )
	assert( f77_arg0._childInFocus )
	return f77_arg0._childInFocus
end

LUI.UIGrid.GainFocus = function ( f76_arg0, f76_arg1 )
	if not f76_arg0._directionalInputEnabled and f76_arg1 ~= nil and f76_arg1.focusType ~= nil and f76_arg1.focusType == "gamepad_button" then
		return true
	end
	local f76_local0 = assert
	local f76_local1 = f76_arg0:GetNumColumns()
	if f76_local1 then
		f76_local1 = f76_arg0:GetNumRows()
	end
	f76_local0( f76_local1, "Either grid columns or rows are not set. Try calling grid:SetNumColumns() or grid:SetNumRows()" )
	if f76_arg0._navigateLikeUIList and f76_arg1.direction then
		if f76_arg1.direction == "down" then
			f76_arg0:SetFocusedPosition( {
				x = 0,
				y = 0
			}, true, nil, f76_arg1.isWrap )
		elseif f76_arg1.direction == "up" then
			f76_arg0:SetFocusedPosition( {
				x = 0,
				y = f76_arg0:GetNumRows()
			}, true, nil, f76_arg1.isWrap )
		elseif f76_arg1.direction == "left" then
			f76_arg0:SetFocusedPosition( {
				x = 0,
				y = 0
			}, true, nil, f76_arg1.isWrap )
		elseif f76_arg1.direction == "right" then
			f76_arg0:SetFocusedPosition( {
				y = 0,
				x = f76_arg0:GetNumColumns()
			}, true, nil, f76_arg1.isWrap )
		end
	else
		f76_local0 = f76_arg0:GetDefaultFocus()
		local f76_local2 = Dvar[0x9E5BE3B4BBA4E0E]( "#x3a5b63b8c5fcd91ed" )
		if f76_local2 then
			if f76_arg1 then
				f76_local2 = f76_arg1
			else
				f76_local2 = f76_arg1.fromEnsureFocus
			end
		end
		if f76_local0 and not f76_local2 then
			assert( f76_arg0:IsPositionFocusable( f76_local0 ), "defaultFocus is invalid, value is { x = " .. tostring( f76_local0.x ) .. ", y = " .. tostring( f76_local0.y ) .. " }" )
			f76_local1 = true
			if f76_arg1 then
				f76_local1 = f76_arg1.shouldPlayButtonSound
			end
			f76_arg0:SetFocusedPosition( f76_local0, true, nil, nil, f76_local1 )
		else
			local f76_local1, f76_local3 = f76_arg0:restoreState()
			if f76_local3 == 0 then
				local f76_local4 = f76_arg0._targetPosition
				if not f76_local4 then
					f76_local4 = f76_arg0:GetFirstFocusablePosition()
				end
				if f76_local4 then
					f76_arg0:SetFocusedPosition( f76_local4, true, nil, nil, f76_arg1.shouldPlayButtonSound )
				end
			end
		end
	end
	return f76_arg0._targetPosition ~= nil
end

LUI.UIGrid.restoreFocus = function ( f75_arg0, f75_arg1 )
	if f75_arg1.focusType == nil or not f75_arg0._directionalInputEnabled and f75_arg1.focusType ~= "gamepad_button" then
		if f75_arg0.id == f75_arg1.id and f75_arg0:GetNumColumns() ~= 0 and f75_arg0:GetNumRows() ~= 0 then
			assert( f75_arg1.data )
			f75_arg0:SetTargetRow( f75_arg1.data.targetRow, true, true )
			f75_arg0:SetTargetColumn( f75_arg1.data.targetColumn, true, true )
			f75_arg0:SetFocusedPosition( f75_arg1.data.targetPosition, true )
			if f75_arg1.controller and LUI.IsLastInputMouseNavigation( f75_arg1.controller ) then
				f75_arg0:processEvent( {
					name = "update_grid_list_focus_active",
					child = f75_arg0:GetElementAtPosition( f75_arg1.data.targetPosition.x, f75_arg1.data.targetPosition.y ),
					focusType = FocusType.MouseOver
				} )
			end
			return true
		else
			return f75_arg0:dispatchEventToChildren( f75_arg1 )
		end
	else
		
	end
end

LUI.UIGrid.getAllFocusedChildren = function ( f74_arg0, f74_arg1 )
	if not f74_arg1 then
		f74_arg1 = {}
	end
	if f74_arg0._targetPosition and f74_arg0._shouldFocus then
		f74_arg0.saveData = {
			targetPosition = LUI.ShallowCopy( f74_arg0._targetPosition ),
			targetRow = f74_arg0:GetTargetRow(),
			targetColumn = f74_arg0:GetTargetColumn()
		}
		table.insert( f74_arg1, f74_arg0 )
	end
	return f74_arg1
end

LUI.UIGrid.GetFocusableIndicesFromPosition = function ( f73_arg0, f73_arg1 )
	local f73_local0 = f73_arg0:GetNumColumns()
	local f73_local1 = f73_arg0:GetNumRows()
	if f73_local1 == 0 or f73_local0 == 0 then
		return nil
	end
	local f73_local2 = f73_arg1.x
	local f73_local3 = f73_arg1.y
	local f73_local4 = {}
	local f73_local5 = {
		x = f73_local2 - 1,
		y = f73_local3
	}
	local f73_local6 = {
		x = f73_local2 + 1,
		y = f73_local3
	}
	local f73_local7 = {
		x = f73_local2,
		y = f73_local3 - 1
	}
	local f73_local8 = {
		x = f73_local2,
		y = f73_local3 + 1
	}
	if f73_arg0._wrapX then
		if f73_local5.x < 0 then
			f73_local5.x = f73_local0 - 1
		end
		if f73_local0 - 1 < f73_local6.x then
			f73_local6.x = 0
		end
	end
	if f73_arg0._wrapY then
		if f73_local7.y < 0 then
			f73_local7.y = f73_local1 - 1
		end
		if f73_local1 - 1 < f73_local8.y then
			f73_local8.y = 0
		end
	end
	table.insert( f73_local4, {
		x = f73_local2,
		y = f73_local3
	} )
	table.insert( f73_local4, f73_local5 )
	table.insert( f73_local4, f73_local6 )
	table.insert( f73_local4, f73_local7 )
	table.insert( f73_local4, f73_local8 )
	if Engine[0x575E9C5B9AAB6F4]() then
		table.insert( f73_local4, {
			x = f73_local2 + 1,
			y = f73_local3 - 1
		} )
		table.insert( f73_local4, {
			x = f73_local2 - 1,
			y = f73_local3 + 1
		} )
		table.insert( f73_local4, {
			x = f73_local2 - 1,
			y = f73_local3 - 1
		} )
		table.insert( f73_local4, {
			x = f73_local2 + 1,
			y = f73_local3 + 1
		} )
	end
	local f73_local9 = {}
	for f73_local10 = 1, #f73_local4, 1 do
		local f73_local13 = {
			x = f73_local4[f73_local10].x,
			y = f73_local4[f73_local10].y
		}
		if f73_arg0:IsPositionInDataSet( f73_local13.x, f73_local13.y ) then
			local f73_local14 = f73_arg0:GetContentIndex( f73_local13.x, f73_local13.y, {
				relativePosition = false
			} ) + 1
			if not LUI.IsItemInArray( f73_local9, f73_local14 ) then
				table.insert( f73_local9, f73_local14 )
			end
		end
	end
	return f73_local9
end

LUI.UIGrid.GetFirstFocusableElement = function ( f72_arg0 )
	local f72_local0 = f72_arg0:GetFirstFocusablePosition()
	if f72_local0 then
		return f72_arg0:GetElementAtPosition( f72_local0.x, f72_local0.y )
	else
		return nil
	end
end

LUI.UIGrid.IsPositionFocusable = function ( f71_arg0, f71_arg1 )
	if not f71_arg0:IsPositionInDataSet( f71_arg1.x, f71_arg1.y ) then
		return false
	elseif f71_arg0._isPositionFocusable then
		return f71_arg0._isPositionFocusable( f71_arg1.x, f71_arg1.y )
	end
	local f71_local0 = nil
	if f71_arg0._buildChild then
		local f71_local1 = f71_arg0:GetBuiltChildren()
		f71_local0 = f71_local1[1]
	else
		f71_local0 = f71_arg0:GetElementAtPosition( f71_arg1.x, f71_arg1.y )
	end
	assert( f71_local0 )
	return f71_local0:TreeCanFocus( FocusType.ListSelection )
end

LUI.UIGrid.GetFirstFocusablePosition = function ( f70_arg0 )
	local f70_local0 = {
		x = 0,
		y = 0
	}
	if f70_arg0:IsPositionFocusable( f70_local0 ) then
		return f70_local0
	elseif f70_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		f70_local0 = {
			x = 1,
			y = 0
		}
	else
		f70_local0 = {
			x = 0,
			y = 1
		}
	end
	if f70_arg0:IsPositionFocusable( f70_local0 ) then
		return f70_local0
	elseif f70_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		f70_local0 = {
			x = 0,
			y = 1
		}
	else
		f70_local0 = {
			x = 1,
			y = 0
		}
	end
	if f70_arg0:IsPositionFocusable( f70_local0 ) then
		return f70_local0
	end
	f70_local0 = {
		x = 0,
		y = 0
	}
	local f70_local1 = f70_arg0:GetNumColumns()
	local f70_local2 = f70_arg0:GetNumRows()
	if f70_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f70_local0.y < f70_local2 then
			
		end
	elseif f70_local0.x < f70_local1 then
		
	end
	return nil
end

LUI.UIGrid.GetNextFocusablePosition = function ( f69_arg0, f69_arg1, f69_arg2 )
	assert( math.abs( f69_arg2 ) == 1 )
	local f69_local0 = f69_arg0:GetNumColumns()
	local f69_local1 = f69_arg0:GetNumRows()
	if f69_local1 == 0 or f69_local0 == 0 then
		return nil
	end
	local f69_local2, f69_local3, f69_local4, f69_local5, f69_local6 = nil
	if f69_arg1 == LUI.DIRECTION.horizontal then
		f69_local2 = "x"
		f69_local3 = "y"
		f69_local4 = f69_arg0._wrapX
		f69_local5 = f69_local0
		f69_local6 = f69_local1
	else
		f69_local2 = "y"
		f69_local3 = "x"
		f69_local4 = f69_arg0._wrapY
		f69_local5 = f69_local1
		f69_local6 = f69_local0
	end
	local f69_local7 = false
	local f69_local8 = LUI.ShallowCopy( f69_arg0._targetPosition )
	f69_local8.x = math.floor( f69_local8.x )
	f69_local8.y = math.floor( f69_local8.y )
	return f69_local8, f69_local7
end

LUI.UIGrid.PositionChanged = function ( f68_arg0 )
	if f68_arg0._onNewTargetFocusPosition then
		f68_arg0._onNewTargetFocusPosition()
	end
end

LUI.UIGrid.SetFocusedPosition = function ( f67_arg0, f67_arg1, f67_arg2, f67_arg3, f67_arg4, f67_arg5 )
	f67_arg0:SetPositionInternal( f67_arg1, f67_arg2, true, f67_arg3, f67_arg4, f67_arg5 )
	f67_arg0:FocusChanged()
	f67_arg0:PositionChanged()
end

LUI.UIGrid.SetPosition = function ( f66_arg0, f66_arg1, f66_arg2, f66_arg3 )
	f66_arg0:SetPositionInternal( f66_arg1, f66_arg2, false, f66_arg3 )
	f66_arg0:PositionChanged()
end

LUI.UIGrid.SetPositionInternal = function ( f65_arg0, f65_arg1, f65_arg2, f65_arg3, f65_arg4, f65_arg5, f65_arg6 )
	f65_arg4 = f65_arg4 ~= false
	f65_arg1 = LUI.ShallowCopy( f65_arg1 )
	assert( f65_arg1.x and f65_arg1.y )
	local f65_local0 = f65_arg0._targetPosition
	if f65_local0 then
		f65_local0 = LUI.ShallowCopy( f65_arg0._targetPosition )
	end
	local f65_local1 = f65_arg0:GetNumColumns()
	local f65_local2 = f65_arg0:GetNumRows()
	if f65_local1 == 0 or f65_local2 == 0 then
		f65_arg0:RemoveFocusFromChild( f65_arg2 )
		f65_arg0._shouldFocus = false
		f65_arg0._targetPosition = nil
		f65_arg0:SetLastFocusIndex( nil )
		f65_arg0:UpdateNumbersArrowsAndScrolling()
		return 
	end
	f65_arg0._shouldFocus = f65_arg3
	f65_arg0._nextFocusWrap = f65_arg5
	f65_arg0._nextFocusShouldPlayButtonSound = f65_arg6
	if f65_local1 then
		local f65_local3 = LUI.clamp
		local f65_local4 = f65_arg1.x
		local f65_local5 = 0
		local f65_local6
		if f65_arg3 and not f65_arg1.skipTargetColumnAdjustment then
			f65_local6 = f65_local1 - 1
			if not f65_local6 then
			
			else
				f65_arg1.x = f65_local3( f65_local4, f65_local5, f65_local6 )
			end
		end
		f65_local6 = f65_local1
	end
	if f65_local2 then
		local f65_local3 = LUI.clamp
		local f65_local4 = f65_arg1.y
		local f65_local5 = 0
		local f65_local6
		if f65_arg3 and not f65_arg1.skipTargetRowAdjustment then
			f65_local6 = f65_local2 - 1
			if not f65_local6 then
			
			else
				f65_arg1.y = f65_local3( f65_local4, f65_local5, f65_local6 )
			end
		end
		f65_local6 = f65_local2
	end
	if f65_arg3 and not f65_arg0:IsPositionInDataSet( f65_arg1.x, f65_arg1.y ) then
		local f65_local3, f65_local7 = f65_arg0:ColumnRowToPrimarySecondary( math.floor( f65_arg1.x ), math.floor( f65_arg1.y ) )
		local f65_local4, f65_local5 = f65_arg0:PrimarySecondaryToColumnRow( f65_local3, f65_local7 )
		if 0 < f65_local7 and not f65_arg0:IsPositionInDataSet( f65_local4, f65_local5 ) then
			
		else
			
		end
		if 0 < f65_local3 and not f65_arg0:IsPositionInDataSet( f65_local4, f65_local5 ) then
			
		else
			
		end
		f65_arg1.x = f65_local4
		f65_arg1.y = f65_local5
	end
	if f65_local0 and f65_local0.x == f65_arg1.x and f65_local0.y == f65_arg1.y then
		if not f65_arg3 then
			f65_arg0:RemoveFocusFromChild( f65_arg2 )
			return 
		end
		local f65_local3 = f65_arg0:GetElementAtPosition( f65_local0.x, f65_local0.y )
		if f65_local3 and (f65_local3:isInFocus() or 0 < #f65_local3:getAllFocusedChildren()) then
			return 
		end
	end
	local f65_local3 = f65_local0 == nil
	f65_arg0:RemoveFocusFromChild( f65_arg2 )
	if not f65_arg0._targetPosition then
		f65_arg0._targetPosition = {}
	end
	f65_arg0._targetPosition.x = f65_arg1.x
	f65_arg0._targetPosition.y = f65_arg1.y
	local f65_local7 = not f65_arg1.skipTargetRowAdjustment
	local f65_local4 = f65_arg1.y
	local f65_local5, f65_local6 = f65_arg0:GetRowBoundaries()
	local f65_local8 = LUI.clamp( f65_arg0._scrollingThresholdY, 0, f65_arg0:GetMaxVisibleRows() - 1 )
	local f65_local9 = f65_arg0._scrollingThresholdPixelY
	local f65_local10 = f65_local5
	local f65_local11 = f65_local6
	local f65_local12
	if not f65_local3 then
		f65_local12 = f65_local3
	else
		f65_local12 = f65_arg1.y < f65_local0.y
	end
	local f65_local13
	if not f65_local3 then
		f65_local13 = f65_local3
	else
		f65_local13 = f65_local0.y < f65_arg1.y
	end
	if not f65_arg4 then
		f65_local8 = 0
		f65_local9 = 0
	end
	if f65_arg3 and f65_local7 then
		if f65_local13 then
			f65_local4 = math.floor( f65_local4 + 1 )
			if f65_local2 and f65_local4 < f65_local2 - f65_local8 then
				local f65_local14 = f65_arg0:ConvertRowPixelToLine( f65_local4, -f65_arg0:GetRowSpacing() )
				if 0 < f65_local14 then
					f65_local4 = f65_local14
				end
			end
		elseif f65_local12 then
			f65_local4 = math.floor( f65_local4 )
		end
	end
	if 0 < f65_local9 then
		if f65_local12 then
			local f65_local14 = f65_arg0:ConvertRowPixelToLine( math.max( 0, f65_local4 ), -f65_local9 )
			if f65_local14 < f65_local5 then
				f65_local10 = f65_local14
				f65_local11 = f65_arg0:ComputeRowBottomFromTop( f65_local10 )
			end
		elseif f65_local13 then
			local f65_local14 = f65_arg0:ConvertRowPixelToLine( math.min( f65_local2, f65_local4 ), f65_local9 )
			if f65_local6 < f65_local14 then
				f65_local11 = f65_local14
				f65_local10 = f65_arg0:ComputeRowTopFromBottom( f65_local11 )
			end
		end
	else
		if f65_local12 and f65_local4 < f65_local5 + f65_local8 then
			f65_local10 = f65_local4 - f65_local8
			f65_local11 = f65_arg0:ComputeRowBottomFromTop( f65_local10 )
		elseif f65_local13 and f65_local6 - f65_local8 < f65_local4 then
			f65_local11 = f65_local4 + f65_local8
			f65_local10 = f65_arg0:ComputeRowTopFromBottom( f65_local11 )
		end
		if f65_arg1.mouseDragForceSnap then
			f65_local11 = math.floor( f65_local11 )
			f65_local10 = math.floor( f65_local10 )
		end
	end
	if f65_local10 ~= f65_local5 or f65_local11 ~= f65_local6 then
		if f65_arg0._verticalAlignment == LUI.Alignment.Middle then
			local f65_local14 = assert
			local f65_local15
			if not f65_local12 then
				f65_local15 = f65_local12
			else
				f65_local15 = f65_local13
			end
			f65_local14( f65_local15 )
			if f65_local12 then
				f65_local4 = f65_local4 + math.floor( f65_arg0:GetMaxVisibleRows() / 2 ) - f65_local8
			elseif f65_local13 then
				f65_local4 = f65_local4 - math.floor( f65_arg0:GetMaxVisibleRows() / 2 ) + f65_local8
			end
		elseif f65_arg0._verticalAlignment == LUI.Alignment.Bottom and not f65_local11 then
			f65_local4 = f65_local11
		else
			f65_local4 = f65_local10
		end
		f65_arg0:SetTargetRow( f65_local4, true, f65_arg2 )
	end
	local f65_local14 = not f65_arg1.skipTargetColumnAdjustment
	local f65_local16 = f65_arg1.x
	local f65_local15, f65_local17 = f65_arg0:GetColumnBoundaries()
	local f65_local18 = LUI.clamp( f65_arg0._scrollingThresholdX, 0, f65_arg0:GetMaxVisibleColumns() - 1 )
	local f65_local19 = f65_arg0._scrollingThresholdPixelX
	local f65_local20 = f65_local15
	local f65_local21 = f65_local17
	local f65_local22
	if not f65_local3 then
		f65_local22 = f65_local3
	else
		f65_local22 = f65_arg1.x < f65_local0.x
	end
	local f65_local23
	if not f65_local3 then
		f65_local23 = f65_local3
	else
		f65_local23 = f65_local0.x < f65_arg1.x
	end
	if not f65_arg4 then
		f65_local18 = 0
	end
	if f65_arg3 and f65_local14 then
		if f65_local23 then
			f65_local16 = math.floor( f65_local16 + 1 )
			if f65_local1 and f65_local16 < f65_local1 - f65_local18 then
				local f65_local24 = f65_arg0:ConvertColumnPixelToLine( f65_local16, -f65_arg0:GetColumnSpacing() )
				if 0 < f65_local24 then
					f65_local16 = f65_local24
				end
			end
		elseif f65_local22 then
			f65_local16 = math.floor( f65_local16 )
		end
	end
	if 0 < f65_local19 then
		if f65_local22 then
			local f65_local24 = f65_arg0:ConvertColumnPixelToLine( math.max( 0, f65_local16 ), -f65_local19 )
			if f65_local24 < f65_local15 then
				f65_local20 = f65_local24
				f65_local21 = f65_arg0:ComputeColumnRightFromLeft( f65_local20 )
			end
		elseif f65_local23 then
			local f65_local24 = f65_arg0:ConvertColumnPixelToLine( math.min( f65_local1, f65_local16 ), f65_local19 )
			if f65_local17 < f65_local24 then
				f65_local21 = f65_local24
				f65_local20 = f65_arg0:ComputeColumnLeftFromRight( f65_local21 )
			end
		end
	else
		if f65_local22 and f65_local16 < f65_local15 + f65_local18 then
			f65_local20 = f65_local16 - f65_local18
			f65_local21 = f65_arg0:ComputeColumnRightFromLeft( f65_local20 )
		elseif f65_local23 and f65_local17 - f65_local18 < f65_local16 then
			f65_local21 = f65_local16 + f65_local18
			f65_local20 = f65_arg0:ComputeColumnLeftFromRight( f65_local21 )
		end
		if f65_arg1.mouseDragForceSnap then
			f65_local20 = math.floor( f65_local20 )
			f65_local21 = math.floor( f65_local21 )
		end
	end
	if f65_local20 ~= f65_local15 or f65_local21 ~= f65_local17 then
		if f65_arg0._horizontalAlignment == LUI.Alignment.Center then
			local f65_local24 = assert
			local f65_local25
			if not f65_local22 then
				f65_local25 = f65_local22
			else
				f65_local25 = f65_local23
			end
			f65_local24( f65_local25 )
			if f65_local22 then
				f65_local16 = f65_local16 + math.floor( f65_arg0:GetMaxVisibleColumns() / 2 ) - f65_local18
			elseif f65_local23 then
				f65_local16 = f65_local16 - math.floor( f65_arg0:GetMaxVisibleColumns() / 2 ) + f65_local18
			end
		elseif f65_arg0._horizontalAlignment == LUI.Alignment.Right and not f65_local21 then
			f65_local16 = f65_local21
		else
			f65_local16 = f65_local20
		end
		f65_arg0:SetTargetColumn( f65_local16, true, f65_arg2 )
	end
	if f65_arg0._pendingRefresh then
		f65_arg0._pendingRefresh = nil
		f65_arg0:RefreshContent()
	end
	f65_arg0:UpdateNumbersAndArrows()
	if f65_arg0._overridePositionVisibleCallback then
		local f65_local24 = type( f65_arg0._overridePositionVisibleCallback ) == "function"
	end
	local f65_local26 = f65_arg0:GetElementAtPosition( f65_arg0._targetPosition.x, f65_arg0._targetPosition.y )
	if f65_arg3 then
		if f65_local26 then
			local f65_local25 = nil
			if f65_local13 then
				f65_local25 = "down"
			elseif f65_local12 then
				f65_local25 = "up"
			elseif f65_local23 then
				f65_local25 = "right"
			elseif f65_local22 then
				f65_local25 = "left"
			end
			f65_arg0:GiveFocusToChild( f65_local26, f65_local25, f65_arg5, f65_arg6 )
		else
			local f65_local24 = true
		end
	end
	if not f65_local26 and f65_local24 then
		f65_arg0:NotifyWhenPositionIsVisible( f65_arg0._targetPosition.x, f65_arg0._targetPosition.y )
	end
	f65_arg0:UpdateScrolling()
end

LUI.UIGrid.RemoveFocusFromChild = function ( f64_arg0, f64_arg1 )
	if f64_arg0._childInFocus then
		f64_arg0._childInFocus:processEvent( {
			name = "lose_focus",
			snap = f64_arg1
		} )
		f64_arg0._childInFocus = nil
	end
end

LUI.UIGrid.GiveFocusToChild = function ( f63_arg0, f63_arg1, f63_arg2, f63_arg3, f63_arg4 )
	f63_arg1:processEvent( {
		name = "gain_focus",
		direction = f63_arg2,
		isWrap = f63_arg3,
		shouldPlayButtonSound = f63_arg4
	} )
	f63_arg0._childInFocus = f63_arg1
end

LUI.UIGrid.AdjustFocusedTargetPosition = function ( f62_arg0, f62_arg1, f62_arg2 )
	local f62_local0 = f62_arg0:GetElementAtPosition( f62_arg1.x, f62_arg1.y )
	if f62_local0 and f62_local0.GetFocusTargetPositionOffset then
		local f62_local1 = f62_local0:GetFocusTargetPositionOffset( f62_arg1, f62_arg2 )
		if f62_local1 then
			f62_arg1.x = f62_arg1.x + f62_local1.x
			f62_arg1.y = f62_arg1.y + f62_local1.y
			f62_arg1.skipTargetColumnAdjustment = f62_local1.x ~= 0
			f62_arg1.skipTargetRowAdjustment = f62_local1.y ~= 0
		end
	end
end

LUI.UIGrid.SetScrollingToBoundsAllowed = function ( f61_arg0, f61_arg1 )
	f61_arg0._scrollingToBoundsAllowed = f61_arg1
end

LUI.UIGrid.FocusNextElement = function ( f60_arg0, f60_arg1, f60_arg2, f60_arg3, f60_arg4, f60_arg5 )
	if not f60_arg0._directionalInputEnabled then
		return false
	end
	local f60_local0, f60_local1, f60_local2, f60_local3 = nil
	if f60_arg2 == "up" then
		f60_local2 = LUI.DIRECTION.vertical
		f60_local3 = -1
	elseif f60_arg2 == "down" then
		f60_local2 = LUI.DIRECTION.vertical
		f60_local3 = 1
	elseif f60_arg2 == "left" then
		f60_local2 = LUI.DIRECTION.horizontal
		f60_local3 = -1
	elseif f60_arg2 == "right" then
		f60_local2 = LUI.DIRECTION.horizontal
		f60_local3 = 1
	end
	if f60_local2 and f60_local3 and f60_arg0._targetPosition then
		f60_local0, f60_local1 = f60_arg0:GetNextFocusablePosition( f60_local2, f60_local3 )
	end
	local f60_local4 = f60_arg0._alwaysSnap
	if not f60_local4 then
		if f60_local1 then
			f60_local4 = f60_local1
		else
			f60_local4 = f60_arg0._snapOnWrap
		end
	end
	if f60_local0 then
		f60_arg0:AdjustFocusedTargetPosition( f60_local0, f60_arg2, f60_local1 )
		if f60_local1 then
			f60_arg0._pendingRefresh = true
		end
		f60_arg0:SetFocusedPosition( f60_local0, f60_local4 == true, nil, f60_local1 )
		f60_arg0:FocusMoved( f60_arg2 )
		f60_arg0:saveState()
		return true
	end
	local f60_local5 = f60_arg0:getParent()
	if f60_local5 and f60_local5:FocusNextElement( f60_arg0, f60_arg2, f60_arg3, f60_arg4, f60_arg5 ) then
		return true
	elseif f60_arg0._scrollingToBoundsAllowed then
		local f60_local6 = LUI.ShallowCopy( f60_arg0._targetPosition )
		if f60_arg2 == "up" then
			f60_local6.y = 0
		elseif f60_arg2 == "down" then
			f60_local6.y = f60_arg0:GetNumRows() - 1
		elseif f60_arg2 == "left" then
			f60_local6.x = 0
		elseif f60_arg2 == "right" then
			f60_local6.x = f60_arg0:GetNumColumns() - 1
		end
		if f60_local6.x ~= f60_arg0._targetPosition.x or f60_local6.y ~= f60_arg0._targetPosition.y then
			f60_arg0:SetTargetRow( f60_local6.y, true, f60_local4 == true )
			f60_arg0:SetTargetColumn( f60_local6.x, true, f60_local4 == true )
			f60_arg0:UpdateScrolling()
		end
	end
	return false
end

LUI.UIGrid.ScrollAmount = function ( f59_arg0, f59_arg1, f59_arg2 )
	if f59_arg1 == "up" or f59_arg1 == "down" then
		local f59_local0, f59_local1 = f59_arg0:GetRowBoundaries()
		local f59_local2 = f59_arg0:GetNumRows()
		local f59_local3 = f59_local0
		if f59_arg1 == "up" and (not f59_local2 or 0 < f59_local0) then
			f59_local3 = f59_local3 - f59_arg2
		elseif f59_arg1 == "down" and (not f59_local2 or f59_local1 < f59_local2) then
			f59_local3 = f59_local3 + f59_local1 - f59_local0 + f59_arg2
		else
			return false
		end
		if f59_local3 ~= f59_local0 then
			f59_arg0:SetPositionInternal( {
				x = f59_arg0._targetPosition and f59_arg0._targetPosition.x or 0,
				y = f59_local3
			}, true, false, false )
		end
		return true
	elseif f59_arg1 == "left" or f59_arg1 == "right" then
		local f59_local0, f59_local1 = f59_arg0:GetColumnBoundaries()
		local f59_local2 = f59_arg0:GetNumColumns()
		local f59_local3 = f59_local0
		if f59_arg1 == "left" and (not f59_local2 or 0 < f59_local0) then
			f59_local3 = f59_local3 - f59_arg2
		elseif f59_arg1 == "right" and (not f59_local2 or f59_local1 < f59_local2) then
			f59_local3 = f59_local3 + f59_local1 - f59_local0 + f59_arg2
		else
			return false
		end
		if f59_local3 ~= f59_local0 then
			f59_arg0:SetPositionInternal( {
				x = f59_local3,
				y = f59_arg0._targetPosition and f59_arg0._targetPosition.y or 0
			}, true, false, false )
		end
		return true
	else
		return false
	end
end

LUI.UIGrid.Scroll = function ( f58_arg0, f58_arg1 )
	local f58_local0 = 0
	if f58_arg1 == "up" or f58_arg1 == "down" then
		local f58_local1, f58_local2 = f58_arg0:GetRowBoundaries()
		if not f58_local1 or not f58_local2 then
			return 
		elseif f58_arg1 == "up" then
			f58_local0 = f58_local1 - math.floor( f58_local1 )
		else
			f58_local0 = math.ceil( f58_local2 ) - f58_local2
		end
	else
		local f58_local1, f58_local2 = f58_arg0:GetColumnBoundaries()
		if not f58_local1 or not f58_local2 then
			return 
		elseif f58_arg1 == "left" then
			f58_local0 = f58_local1 - math.floor( f58_local1 )
		else
			f58_local0 = math.ceil( f58_local2 ) - f58_local2
		end
	end
	if f58_local0 < 0.01 then
		local f58_local1 = 1 + f58_local0
		if not f58_local1 then
			f58_local0 = f58_local1
		else
			
		end
	end
	f58_arg0:ScrollAmount( f58_arg1, f58_local0 )
end

LUI.UIGrid.SetDirectionalInputEnabled = function ( f57_arg0, f57_arg1 )
	f57_arg0._directionalInputEnabled = f57_arg1
end

LUI.UIGrid.SetMouseWheelEnabled = function ( f56_arg0, f56_arg1 )
	f56_arg0._disableMouseWheel = not f56_arg1
end

LUI.UIGrid.HandleMouseScroll = function ( f55_arg0, f55_arg1 )
	local f55_local0 = nil
	if f55_arg1 == "up" or f55_arg1 == "down" then
		local f55_local1, f55_local2 = f55_arg0:GetRowBoundaries()
		if f55_arg1 == "up" then
			f55_local0 = f55_local1 - f55_arg0:ConvertRowPixelToLine( f55_local1, -f55_arg0._mouseWheelScrollingVerticalOffsetPx )
		else
			f55_local0 = f55_arg0:ConvertRowPixelToLine( f55_local2, f55_arg0._mouseWheelScrollingVerticalOffsetPx ) - f55_local2
		end
	else
		local f55_local1, f55_local2 = f55_arg0:GetColumnBoundaries()
		if f55_arg1 == "left" then
			f55_local0 = f55_local1 - f55_arg0:ConvertColumnPixelToLine( f55_local1, -f55_arg0._mouseWheelScrollingHorizontalOffsetPx )
		else
			f55_local0 = f55_arg0:ConvertColumnPixelToLine( f55_local2, f55_arg0._mouseWheelScrollingHorizontalOffsetPx ) - f55_local2
		end
	end
	f55_arg0:ScrollAmount( f55_arg1, math.abs( f55_local0 ) )
end

LUI.UIGrid.GamepadButton = function ( f54_arg0, f54_arg1 )
	if f54_arg1.down then
		local f54_local0 = CoD.IsDirectionalInput( f54_arg1.button )
		if f54_local0 and not f54_arg0._directionalInputEnabled then
			return false
		elseif 0 < #f54_arg0._permittedQualifiers and f54_arg1.qualifier and f54_local0 and not LUI.IsItemInArray( f54_arg0._permittedQualifiers, f54_arg1.qualifier ) then
			return false
		elseif f54_arg1.qualifier == "mousewheel" and not f54_arg0._disableMouseWheel then
			local f54_local1 = f54_arg1.button
			local f54_local2 = false
			for f54_local6, f54_local7 in ipairs( f54_arg0._scrollbars ) do
				if f54_local7.isVisible and f54_local7:GetDirection() == LUI.DIRECTION.vertical then
					f54_local2 = false
					break
				elseif f54_local7.isVisible and f54_local7:GetDirection() ~= LUI.DIRECTION.vertical then
					f54_local2 = true
				end
			end
			if f54_arg0:GetNumRows() == 0 or f54_arg0:GetNumColumns() == 0 then
				return false
			elseif not (f54_arg0:GetNumRows() ~= 1 or 1 >= f54_arg0:GetNumColumns()) or f54_local2 then
				if f54_local1 == "up" then
					f54_local1 = "left"
				elseif f54_local1 == "down" then
					f54_local1 = "right"
				end
			end
			f54_local3 = true
			if f54_local1 == "up" or f54_local1 == "down" then
				f54_local4, f54_local5, f54_local6, f54_local7 = f54_arg0:getCurrentGlobalRect()
				local f54_local8 = f54_local7 - f54_local5
				local f54_local9 = f54_arg0:GetContentSize( LUI.DIRECTION.vertical )
				if f54_local9 and f54_local9 <= f54_local8 then
					f54_local3 = false
				end
			elseif f54_local1 == "left" or f54_local1 == "right" then
				f54_local4, f54_local5, f54_local6, f54_local7 = f54_arg0:getCurrentGlobalRect()
				local f54_local8 = f54_local6 - f54_local4
				local f54_local9 = f54_arg0:GetContentSize( LUI.DIRECTION.horizontal )
				if f54_local9 and f54_local9 <= f54_local8 then
					f54_local3 = false
				end
			end
			f54_local4, f54_local5 = ProjectRootCoordinate( f54_arg1.rootName, f54_arg1.x, f54_arg1.y )
			if f54_local4 == nil or f54_local5 == nil then
				return 
			end
			f54_local6 = f54_arg0:IsPositionInside( f54_local4, f54_local5 )
			if not f54_local6 then
				f54_local6 = f54_arg0._alwaysTrapMouseWheel
			end
			if not f54_local6 then
				for f54_local11, f54_local12 in ipairs( f54_arg0._scrollbars ) do
					if f54_local12.GetWidget then
						local f54_local10 = f54_local12:GetWidget()
						if not f54_local10._blockMouseMove then
							f54_local6 = f54_local10:IsPositionInside( f54_local4, f54_local5 )
						else
							f54_local6 = false
						end
					end
					if f54_local6 then
						break
					end
				end
			end
			if f54_local3 and (f54_local6 or f54_arg1.forceScrollMove) then
				f54_arg0:HandleMouseScroll( f54_local1 )
			end
		end
		if not LUI.IsLastInputMouseNavigation( f54_arg1.controller ) then
			for f54_local4, f54_local5 in ipairs( f54_arg0._scrollbars ) do
				local f54_local6 = nil
				if f54_local5.id then
					f54_local6 = f54_local5
				elseif f54_local5.GetWidget then
					f54_local6 = f54_local5:GetWidget()
				end
				if f54_local6 then
					f54_local6:processEvent( {
						name = "lose_focus"
					} )
				end
			end
			for f54_local4, f54_local5 in pairs( f54_arg0._arrows ) do
				f54_local5:processEvent( {
					name = "lose_focus"
				} )
			end
		end
		if f54_arg0._targetPosition then
			if not f54_arg0._childInFocus and f54_arg0._shouldFocus then
				return f54_arg0:FocusNextElement( f54_arg0, f54_arg1.button, FocusType.Gamepad, f54_arg1.qualifier, f54_arg1.controller )
			else
				return f54_arg0:dispatchEventToChildren( f54_arg1 )
			end
		end
	end
	return f54_arg0:dispatchEventToChildren( f54_arg1 )
end

LUI.UIGrid.SetDefaultFocus = function ( f53_arg0, f53_arg1 )
	f53_arg0._defaultFocus = f53_arg1
end

LUI.UIGrid.GetDefaultFocus = function ( f52_arg0 )
	if type( f52_arg0._defaultFocus ) == "function" then
		return f52_arg0._defaultFocus()
	else
		return f52_arg0._defaultFocus
	end
end

LUI.UIGrid.FocusMoved = function ( f51_arg0, f51_arg1 )
	local f51_local0 = "grid_focus_" .. f51_arg1 .. "_moved"
	for f51_local4, f51_local5 in pairs( f51_arg0._arrows ) do
		f51_local5:processEvent( {
			name = f51_local0
		} )
	end
end

LUI.UIGrid.SetCountFunction = function ( f50_arg0, f50_arg1 )
	if f50_arg1 then
		f50_arg0._countFunction = f50_arg1
	end
end

LUI.UIGrid.ShouldDisplayNumbersAndArrows = function ( f49_arg0 )
	if not f49_arg0._showNumbersAndArrowsKBM and not LUI.IsLastInputGamepad( f49_arg0._controllerIndex ) then
		return false
	else
		local f49_local0
		if f49_arg0:GetMaxVisibleRows() * f49_arg0:GetMaxVisibleColumns() >= f49_arg0:GetNumChildren() then
			f49_local0 = f49_arg0._widgetsAlwaysVisible
		else
			f49_local0 = true
		end
	end
	return f49_local0
end

local f0_local4 = function ( f48_arg0 )
	local f48_local0, f48_local1 = nil
	local f48_local2 = f48_arg0:ShouldDisplayNumbersAndArrows()
	if f48_arg0._countFunction then
		f48_local0, f48_local1 = f48_arg0._countFunction()
	else
		local f48_local3 = f48_arg0:GetNumRows()
		local f48_local4 = f48_arg0:GetNumColumns()
		local f48_local5 = f48_arg0:GetNumChildren()
		if f48_local5 < 0 then
			f48_local0 = 0
			f48_local1 = 0
		elseif f48_arg0._targetPosition then
			if f48_local4 == 1 then
				f48_local0 = 1 + f48_arg0._targetPosition.y
				f48_local1 = f48_local3
			elseif f48_local3 == 1 then
				f48_local0 = 1 + f48_arg0._targetPosition.x
				if not f48_local4 then
					f48_local1 = f48_local4
				else
					f48_local1 = f48_local5
				end
			else
				f48_local0 = 1 + f48_arg0._targetPosition.x + f48_arg0._targetPosition.y * f48_local4
				f48_local1 = f48_local5
			end
		else
			f48_local0 = 0
			f48_local1 = f48_local5
		end
		f48_local0 = LUI.clamp( math.floor( f48_local0 ), 0, f48_local1 )
	end
	for f48_local7, f48_local8 in pairs( f48_arg0._itemNumbers ) do
		local f48_local6 = ""
		if f48_local2 then
			f48_local6 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/X_OF_Y", f48_local0, f48_local1 )
		end
		f48_local8:setText( f48_local6 )
	end
end

f0_local0 = function ( f47_arg0 )
	local f47_local0 = {}
	local f47_local1 = f47_arg0:GetNumRows()
	local f47_local2 = f47_arg0:GetNumColumns()
	local f47_local3 = f47_arg0:GetNumChildren()
	local f47_local4 = f47_arg0:ShouldDisplayNumbersAndArrows()
	f47_arg0:SetArrowsEnabled( f47_local4 )
	local f47_local5, f47_local6, f47_local7, f47_local8 = nil
	if LUI.IsLastInputKeyboardMouse( Engine[0x45B054C920178E9]() ) then
		f47_local5, f47_local6 = f47_arg0:GetRowBoundaries()
		f47_local7, f47_local8 = f47_arg0:GetColumnBoundaries()
	elseif f47_arg0._targetPosition then
		f47_local5 = f47_arg0._targetPosition.y
		f47_local6 = f47_arg0._targetPosition.y + 1
		f47_local7 = f47_arg0._targetPosition.x
		f47_local8 = f47_arg0._targetPosition.x + 1
	end
	if 0 <= f47_local3 and f47_local5 and f47_local6 and f47_local7 and f47_local8 then
		if f47_local5 == 0 and f47_local1 and 0 <= f47_local1 and not f47_arg0._wrapY then
			table.insert( f47_local0, "grid_focus_up_blocked" )
		else
			table.insert( f47_local0, "grid_focus_up_not_blocked" )
		end
		if f47_local1 and f47_local1 <= f47_local6 and not f47_arg0._wrapY then
			table.insert( f47_local0, "grid_focus_down_blocked" )
		else
			table.insert( f47_local0, "grid_focus_down_not_blocked" )
		end
		if f47_local7 == 0 and f47_local2 and 0 <= f47_local2 and not f47_arg0._wrapX then
			table.insert( f47_local0, "grid_focus_left_blocked" )
		else
			table.insert( f47_local0, "grid_focus_left_not_blocked" )
		end
		if f47_local2 and f47_local2 <= f47_local8 and not f47_arg0._wrapX then
			table.insert( f47_local0, "grid_focus_right_blocked" )
		else
			table.insert( f47_local0, "grid_focus_right_not_blocked" )
		end
	else
		table.insert( f47_local0, "grid_focus_up_blocked" )
		table.insert( f47_local0, "grid_focus_down_blocked" )
		table.insert( f47_local0, "grid_focus_left_blocked" )
		table.insert( f47_local0, "grid_focus_right_blocked" )
	end
	for f47_local18, f47_local19 in pairs( f47_arg0._arrows ) do
		for f47_local15, f47_local16 in ipairs( f47_local0 ) do
			if f47_arg0._updateArrowVisibilityOnRefresh then
				local f47_local12 = f47_local19
				local f47_local13 = f47_local19.SetAlpha
				local f47_local14
				if f47_local4 then
					f47_local14 = 1
				else
					f47_local14 = 0
				end
				f47_local13( f47_local12, f47_local14 )
			end
			if f47_local4 then
				f47_local19:processEvent( {
					name = f47_local16
				} )
			end
		end
	end
end

LUI.UIGrid.UpdateScrolling = function ( f46_arg0 )
	for f46_local3, f46_local4 in ipairs( f46_arg0._scrollbars ) do
		f46_local4:UpdateScrolling()
	end
end

LUI.UIGrid.SetScrollbarKBMStyle = function ( f45_arg0, f45_arg1 )
	for f45_local3, f45_local4 in ipairs( f45_arg0._scrollbars ) do
		f45_local4:SetKBMStyle( f45_arg1 )
	end
end

LUI.UIGrid.UpdateNumbersAndArrows = function ( f44_arg0 )
	f0_local0( f44_arg0 )
	f0_local0( f44_arg0 )
end

LUI.UIGrid.SetActiveOnMouseEnterParentBehavior = function ( f42_arg0, f42_arg1 )
	LUI.UIElement.SetActiveOnMouseEnterParentBehavior( f42_arg0, f42_arg1 )
	f42_arg0:addEventHandler( "update_input_type", function ( f43_arg0, f43_arg1 )
		if LUI.IsLastInputMouseNavigation( f43_arg1.controllerIndex ) then
			if not f43_arg0._targetPosition then
				return 
			end
			f43_arg0:TryRequestActiveOnChildFocus( f43_arg0:GetElementAtPosition( f43_arg0._targetPosition.x, f43_arg0._targetPosition.y ) )
		end
	end, {
		controllerIndex = f42_arg1
	} )
end

LUI.UIGrid.SetActiveToDefaultFocus = function ( f41_arg0, f41_arg1 )
	local f41_local0 = f41_arg0:GetDefaultFocus()
	if not f41_local0 then
		f41_local0 = f41_arg0:GetFirstFocusablePosition()
	end
	if f41_local0 then
		local f41_local1 = f41_arg0:GetElementAtPosition( f41_local0.x, f41_local0.y )
		if f41_local1 then
			f41_local1:dispatchEventToParent( {
				name = "request_active"
			} )
			f41_arg0:processEvent( {
				name = "update_grid_list_focus_active",
				child = f41_local1,
				focusType = FocusType.MouseOver
			} )
		end
	end
end

LUI.UIGrid.MouseSetActiveToDefaultFocus = function ( f40_arg0, f40_arg1 )
	if not LUI.IsLastInputMouseNavigation( f40_arg1 ) then
		return 
	else
		LUI.UIGrid.SetActiveToDefaultFocus( f40_arg0, f40_arg1 )
	end
end

LUI.UIGrid.GetActiveElement = function ( f39_arg0 )
	return f39_arg0._activeElement
end

LUI.UIGrid.HasActiveStateCorrectionHack = function ( f38_arg0 )
	local f38_local0 = Dvar[0x9E5BE3B4BBA4E0E]( "#x3c3a6977d7543aded" )
	if f38_local0 then
		f38_local0 = f38_arg0._hasActiveStateCorrectionHack
	end
	return f38_local0
end

LUI.UIGrid.SetActiveStateCorrectionHack = function ( f37_arg0 )
	f37_arg0._hasActiveStateCorrectionHack = true
end

LUI.UIGrid.UpdateNumbersArrowsAndScrolling = function ( f36_arg0 )
	f36_arg0:UpdateNumbersAndArrows()
	f36_arg0:UpdateScrolling()
end

LUI.UIGrid.FocusChanged = function ( f35_arg0, f35_arg1 )
	if not f35_arg0._targetPosition then
		return 
	end
	f0_local0( f35_arg0 )
	f35_arg0:SetLastFocusIndex( f35_arg0:GetContentIndex( f35_arg0._targetPosition.x, f35_arg0._targetPosition.y ) )
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x3a5b63b8c5fcd91ed" ) then
		f35_arg0:saveState()
	end
end

LUI.UIGrid.GetPositionForIndex = function ( f34_arg0, f34_arg1, f34_arg2 )
	assert( f34_arg1 ~= nil )
	if not f34_arg2 then
		f34_arg2 = {}
	end
	if f34_arg2.relativePosition == nil then
		f34_arg2.relativePosition = true
	end
	local f34_local0 = f34_arg0:GetNumChildren()
	assert( 0 < f34_local0, "LUI.UIGrid.GetPositionForIndex requires self:GetNumChildren() > 0" )
	if 0 < f34_local0 then
		f34_arg1 = LUI.clamp( f34_arg1, 0, f34_local0 - 1 )
	end
	local f34_local1, f34_local2 = nil
	if f34_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f34_arg2.relativePosition then
			local f34_local3 = f34_arg0:GetMaxVisibleColumns()
			assert( 0 < f34_local3 )
			f34_local1 = f34_arg1 % f34_local3
			f34_local2 = math.floor( f34_arg1 / f34_local3 )
		else
			local f34_local3 = f34_arg0:GetNumColumns()
			assert( 0 < f34_local3 )
			f34_local2 = math.floor( f34_arg1 / f34_local3 )
			f34_local1 = f34_arg1 - f34_local2 * f34_local3
		end
	elseif f34_arg2.relativePosition then
		local f34_local3 = f34_arg0:GetMaxVisibleRows()
		assert( 0 < f34_local3 )
		f34_local2 = f34_arg1 % f34_local3
		f34_local1 = math.floor( f34_arg1 / f34_local3 )
	else
		local f34_local3 = f34_arg0:GetNumRows()
		assert( 0 < f34_local3 )
		f34_local1 = math.floor( f34_arg1 / f34_local3 )
		f34_local2 = f34_arg1 - f34_local1 * f34_local3
	end
	return {
		x = f34_local1,
		y = f34_local2
	}
end

LUI.UIGrid.GetContentIndex = function ( f33_arg0, f33_arg1, f33_arg2, f33_arg3 )
	local f33_local0 = f33_arg0:GetNumChildren()
	assert( 0 < f33_local0, "LUI.UIGrid.GetContentIndex requires self:GetNumChildren() > 0" )
	if not f33_arg3 then
		f33_arg3 = {}
	end
	if f33_arg3.relativePosition == nil then
		f33_arg3.relativePosition = true
	end
	local f33_local1 = nil
	if f33_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f33_arg3.relativePosition then
			f33_local1 = f33_arg1 + f33_arg2 * f33_arg0:GetMaxVisibleColumns()
		else
			f33_local1 = f33_arg1 + f33_arg2 * f33_arg0:GetNumColumns()
		end
	elseif f33_arg3.relativePosition then
		f33_local1 = f33_arg2 + f33_arg1 * f33_arg0:GetMaxVisibleRows()
	else
		f33_local1 = f33_arg2 + f33_arg1 * f33_arg0:GetNumRows()
	end
	return f33_local1 % f33_local0
end

LUI.UIGrid.GetContentSize = function ( f32_arg0, f32_arg1 )
	if f32_arg1 == LUI.DIRECTION.horizontal then
		return f32_arg0:GetHorizontalContentSize()
	else
		return f32_arg0:GetVerticalContentSize()
	end
end

LUI.UIGrid.GetContentCount = function ( f31_arg0, f31_arg1 )
	if f31_arg1 == LUI.DIRECTION.horizontal then
		return f31_arg0:GetNumColumns()
	else
		return f31_arg0:GetNumRows()
	end
end

LUI.UIGrid.GetContentVisibleSize = function ( f30_arg0, f30_arg1 )
	if f30_arg1 == LUI.DIRECTION.horizontal then
		return f30_arg0:GetColumnVisibleSize()
	else
		return f30_arg0:GetRowVisibleSize()
	end
end

LUI.UIGrid.GetContentOffset = function ( f29_arg0, f29_arg1 )
	local f29_local0, f29_local1 = f29_arg0:GetRowPixelBoundaries()
	local f29_local2, f29_local3 = f29_arg0:GetColumnPixelBoundaries()
	if f29_arg1 == LUI.DIRECTION.horizontal then
		return f29_local2
	else
		return f29_local0
	end
end

LUI.UIGrid.GetFocusPosition = function ( f28_arg0, f28_arg1 )
	if not f28_arg0._targetPosition then
		return nil
	elseif f28_arg1 == LUI.DIRECTION.horizontal then
		return LUI.clamp( math.floor( f28_arg0._targetPosition.x ), 0, f28_arg0:GetNumColumns() - 1 )
	else
		return LUI.clamp( math.floor( f28_arg0._targetPosition.y ), 0, f28_arg0:GetNumRows() - 1 )
	end
end

LUI.UIGrid.GetDefaultPosition = function ( f27_arg0, f27_arg1 )
	local f27_local0 = f27_arg0:GetDefaultFocus()
	if f27_local0 then
		if f27_arg1 == LUI.DIRECTION.horizontal then
			return f27_local0.x
		else
			return f27_local0.y
		end
	else
		return nil
	end
end

LUI.UIGrid.SetShouldFocus = function ( f26_arg0, f26_arg1 )
	f26_arg0._shouldFocus = f26_arg1
end

LUI.UIGrid.SetNavigateLikeUIList = function ( f25_arg0, f25_arg1 )
	f25_arg0._navigateLikeUIList = f25_arg1
end

LUI.UIDataSourceGrid.FocusChanged = function ( f24_arg0 )
	LUI.UIDataSourceGrid.super.FocusChanged( f24_arg0 )
	if f24_arg0._targetPosition then
		f24_arg0:SetDataSource( f24_arg0._gridDataSource:GetDataSourceAtIndex( f24_arg0:GetContentIndex( math.floor( f24_arg0._targetPosition.x ), math.floor( f24_arg0._targetPosition.y ) ), f24_arg0._controllerIndex ), f24_arg0._controllerIndex )
	end
end

LUI.UIPeekingGrid.init = function ( f23_arg0, f23_arg1 )
	f23_arg1.ensureClampedTargetLineOnDimensionsUpdate = false
	LUI.UIGrid.init( f23_arg0, f23_arg1 )
	assert( f23_arg1.buildChild, "Peeking Grid only works as an homogenous grid right now." )
	local f23_local0 = assert
	local f23_local1
	if f23_arg1.verticalAlignment and f23_arg1.verticalAlignment ~= LUI.Alignment.Top then
		f23_local1 = false
	else
		f23_local1 = true
	end
	f23_local0( f23_local1, "Peeking Grid only supports Top vertical alignment right now." )
end

LUI.UIPeekingGrid.SetPositionInternal = function ( f22_arg0, f22_arg1, f22_arg2, f22_arg3, f22_arg4, f22_arg5, f22_arg6 )
	f22_arg1 = LUI.ShallowCopy( f22_arg1 )
	assert( f22_arg1.x and f22_arg1.y )
	if f22_arg0:GetNumColumns() == 0 or f22_arg0:GetNumRows() == 0 then
		f22_arg0:RemoveFocusFromChild( f22_arg2 )
		f22_arg0._shouldFocus = false
		f22_arg0._targetPosition = nil
		f22_arg0:SetLastFocusIndex( nil )
		f22_arg0:UpdateNumbersArrowsAndScrolling()
		return 
	end
	f22_arg0._shouldFocus = f22_arg3
	if f22_arg3 and not f22_arg0:IsPositionInDataSet( f22_arg1.x, f22_arg1.y ) then
		local f22_local0, f22_local1 = f22_arg0:ColumnRowToPrimarySecondary( math.floor( f22_arg1.x ), math.floor( f22_arg1.y ) )
		local f22_local2, f22_local3 = f22_arg0:PrimarySecondaryToColumnRow( f22_local0, f22_local1 )
		if 0 < f22_local1 and not f22_arg0:IsPositionInDataSet( f22_local2, f22_local3 ) then
			
		else
			
		end
		if 0 < f22_local0 and not f22_arg0:IsPositionInDataSet( f22_local2, f22_local3 ) then
			
		else
			
		end
		f22_arg1.x = f22_local2
		f22_arg1.y = f22_local3
	end
	if f22_arg0._targetPosition and f22_arg0._targetPosition.x == f22_arg1.x and f22_arg0._targetPosition.y == f22_arg1.y then
		if not f22_arg3 then
			f22_arg0:RemoveFocusFromChild( f22_arg2 )
			return 
		end
		local f22_local0 = f22_arg0:GetElementAtPosition( f22_arg0._targetPosition.x, f22_arg0._targetPosition.y )
		if f22_local0 and (f22_local0:isInFocus() or 0 < #f22_local0:getAllFocusedChildren()) then
			return 
		end
	end
	local f22_local0 = f22_arg0._targetPosition == nil
	f22_arg0:RemoveFocusFromChild( f22_arg2 )
	f22_arg1.y = LUI.clamp( f22_arg1.y, 0, f22_arg0:GetNumRows() - 1 )
	if f22_arg3 then
		f22_arg1.y = math.floor( f22_arg1.y )
	end
	f22_arg0:SetTargetRow( f22_arg1.y, false, f22_arg2 )
	if f22_arg0._pendingRefresh then
		f22_arg0._pendingRefresh = nil
		f22_arg0:RefreshContent()
	end
	f22_arg0._targetPosition = f22_arg1
	f22_arg0._targetPosition.skipTargetRowAdjustment = nil
	f22_arg0._targetPosition.skipTargetColumnAdjustment = nil
	f22_arg0:UpdateNumbersAndArrows()
	if f22_arg3 then
		local f22_local1 = f22_arg0:GetElementAtPosition( f22_arg0._targetPosition.x, f22_arg0._targetPosition.y )
		if f22_local1 then
			local f22_local2 = nil
			if scrollDown then
				f22_local2 = "down"
			elseif scrollUp then
				f22_local2 = "up"
			elseif scrollRight then
				f22_local2 = "right"
			elseif scrollLeft then
				f22_local2 = "left"
			end
			f22_arg0:GiveFocusToChild( f22_local1, f22_local2, f22_arg5, f22_arg6 )
		else
			f22_arg0:NotifyWhenPositionIsVisible( f22_arg0._targetPosition.x, f22_arg0._targetPosition.y )
		end
	end
	f22_arg0:UpdateScrolling()
end

LUI.UIPeekingGrid.ScrollAmount = function ( f21_arg0, f21_arg1, f21_arg2 )
	if f21_arg1 == "up" or f21_arg1 == "down" then
		local f21_local0, f21_local1 = f21_arg0:GetRowBoundaries()
		local f21_local2 = f21_local0
		if f21_arg1 == "up" then
			f21_local2 = f21_local2 - f21_arg2
		elseif f21_arg1 == "down" then
			f21_local2 = f21_local2 + f21_arg2
			if f21_arg0._targetPosition and f21_arg0._targetPosition.y == f21_local2 then
				f21_arg0._targetPosition.y = f21_local0
			end
		else
			return false
		end
		if f21_local2 ~= f21_local0 then
			f21_arg0:SetPositionInternal( {
				x = f21_arg0._targetPosition and f21_arg0._targetPosition.x or 0,
				y = f21_local2
			}, false, false, false )
		end
		return true
	elseif f21_arg1 == "left" or f21_arg1 == "right" then
		local f21_local0, f21_local1 = f21_arg0:GetColumnBoundaries()
		local f21_local2 = f21_arg0:GetNumColumns()
		local f21_local3 = f21_local0
		if f21_arg1 == "left" and (not f21_local2 or 0 < f21_local0) then
			f21_local3 = f21_local3 - f21_arg2
		elseif f21_arg1 == "right" and (not f21_local2 or f21_local1 < f21_local2) then
			f21_local3 = f21_local3 + f21_local1 - f21_local0 + f21_arg2
		else
			return false
		end
		if f21_local3 ~= f21_local0 then
			f21_arg0:SetPositionInternal( {
				x = f21_local3,
				y = f21_arg0._targetPosition and f21_arg0._targetPosition.y or 0
			}, false, false, false )
		end
		return true
	else
		return false
	end
end

LUI.UIPeekingGrid.HandleMouseScroll = function ( f20_arg0, f20_arg1 )
	local f20_local0 = assert
	local f20_local1
	if f20_arg1 ~= "up" and f20_arg1 ~= "down" then
		f20_local1 = false
	else
		f20_local1 = true
	end
	f20_local0( f20_local1, "Peeking Grid only supports up and down scrolling right now." )
	f20_local0 = nil
	f20_local2, f20_local1 = f20_arg0:GetRowBoundaries()
	if f20_arg1 == "up" then
		f20_local0 = math.floor( f20_local2 )
	else
		f20_local0 = math.floor( f20_local2 + 1 )
	end
	if f20_local0 == f20_local2 then
		f20_local0 = 1
	else
		f20_local0 = f20_local0 - f20_local2
	end
	f20_arg0:ScrollAmount( f20_arg1, math.abs( f20_local0 ) )
end

LUI.UIPeekingGrid.HandleScrollbarDrag = function ( f19_arg0, f19_arg1 )
	local f19_local0 = f19_arg1.scrollbar
	if f19_arg1.dragStart or not f19_arg0._dragTargetRef then
		f19_arg0._dragTargetRef = {
			x = f19_arg1.targetX,
			y = f19_arg1.targetY
		}
	end
	local f19_local1 = f19_arg1.targetY - f19_arg0._dragTargetRef.y
	if f19_local1 == 0 then
		return false
	end
	f19_arg0._dragTargetRef = {
		x = f19_arg1.targetX,
		y = f19_arg1.targetY
	}
	local f19_local2 = f19_arg0:GetContentSize( f19_local0:GetDirection() )
	if f19_local2 and 0 < f19_local2 and f19_local0:GetDirection() == LUI.DIRECTION.vertical then
		local f19_local3 = f19_local1 * f19_local2
		local f19_local4, f19_local5 = f19_arg0:GetRowBoundaries()
		local f19_local6 = {
			x = f19_arg0:GetTargetColumn(),
			y = f19_arg0:ConvertRowPixelToLine( f19_local4, f19_local3 )
		}
		f19_arg0:SetPositionInternal( f19_local6, true, false, false )
		if f19_arg0:IsSnapOnScrollBarMouseDrag() then
			if not f19_arg0._mouseDragTargetPosition then
				f19_arg0._mouseDragTargetPosition = {}
			end
			f19_arg0._mouseDragTargetPosition.x = f19_local6.x
			f19_arg0._mouseDragTargetPosition.y = f19_local6.y
		end
	end
	return true
end

LUI.UIPeekingGrid.HandleScrollbarSet = function ( f18_arg0, f18_arg1 )
	if f18_arg1.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
		f18_arg0:SetPositionInternal( {
			x = f18_arg0:GetTargetColumn(),
			y = math.floor( f18_arg0:ConvertRowPixelToLine( 0, (f18_arg0:GetContentSize( LUI.DIRECTION.vertical ) or 1) * f18_arg1.targetY ) )
		}, false )
	end
end

LUI.UIPeekingGrid.GetContentSize = function ( f17_arg0, f17_arg1 )
	if f17_arg1 == LUI.DIRECTION.horizontal then
		return f17_arg0:GetHorizontalContentSize()
	else
		local f17_local0 = f17_arg0:GetVerticalContentSize()
		local f17_local1 = f17_arg0:GetContentVisibleSize( f17_arg1 )
		local f17_local2 = f17_arg0:GetRowHeight()
		if f17_local0 == nil or f17_local1 == nil or f17_local2 == nil then
			return nil
		else
			return f17_local0 + f17_local1 - f17_local2
		end
	end
end

LUI.UIPeekingGrid.restoreFocus = function ( f16_arg0, f16_arg1 )
	if f16_arg0.id == f16_arg1.id and f16_arg0:GetNumColumns() ~= 0 and f16_arg0:GetNumRows() ~= 0 then
		assert( f16_arg1.data )
		f16_arg0:SetTargetRow( f16_arg1.data.targetRow, false, true )
		f16_arg0:SetTargetColumn( f16_arg1.data.targetColumn, false, true )
		f16_arg0:SetFocusedPosition( f16_arg1.data.targetPosition, true, nil, nil, false )
		if f16_arg1.controller and LUI.IsLastInputMouseNavigation( f16_arg1.controller ) then
			f16_arg0:processEvent( {
				name = "update_grid_list_focus_active",
				child = f16_arg0:GetElementAtPosition( f16_arg1.data.targetPosition.x, f16_arg1.data.targetPosition.y ),
				focusType = FocusType.MouseOver
			} )
		end
		return true
	else
		return f16_arg0:dispatchEventToChildren( f16_arg1 )
	end
end

LUI.UICarouselGrid.init = function ( f15_arg0, f15_arg1 )
	f15_arg1.ensureClampedTargetLineOnDimensionsUpdate = false
	LUI.UIPeekingGrid.init( f15_arg0, f15_arg1 )
	f15_arg0._fixedTargetRow = 1
	f15_arg0._focusedContentPositionOffsetY = 1
	f15_arg0._contentStartPosition = {
		y = 0
	}
	assert( f15_arg1.buildChild, "Carousel Grid only works as an homogenous grid right now." )
	local f15_local0 = assert
	local f15_local1
	if f15_arg1.verticalAlignment and f15_arg1.verticalAlignment ~= LUI.Alignment.Top then
		f15_local1 = false
	else
		f15_local1 = true
	end
	f15_local0( f15_local1, "Carousel Grid only supports Top vertical alignment right now." )
end

LUI.UICarouselGrid.RefreshDisplayContentData = function ( f14_arg0 )
	local f14_local0 = f14_arg0._contentStartPosition.y
	f14_arg0._displayContentData = {}
	for f14_local1 = 1, f14_arg0:GetMaxVisibleRows() + 1, 1 do
		local f14_local4 = f14_local0 + 1
		if #f14_arg0._contentData < f14_local4 then
			f14_local4 = f14_local4 - #f14_arg0._contentData
		end
		f14_arg0._displayContentData[f14_local1] = f14_arg0._contentData[f14_local4]
		f14_local0 = f14_local0 + 1
	end
end

LUI.UICarouselGrid.SetContentData = function ( f12_arg0, f12_arg1 )
	local f12_local0 = assert
	local f12_local1
	if f12_arg1 then
		f12_local1 = f12_arg1
	else
		f12_local1 = type( f12_arg1 ) == "table"
	end
	f12_local0( f12_local1, "Carousel Grid data needs to be a lua table." )
	assert( f12_arg0:GetMaxVisibleRows() <= #f12_arg1 )
	assert( 4 <= #f12_arg1, "Do not use Carousel Grid for any content that is less than 4 items." )
	f12_arg0._contentStartPosition.y = #f12_arg1 - 2
	f12_arg0._contentData = LUI.DeepCopy( f12_arg1 )
	f12_arg0:RefreshDisplayContentData()
	f12_arg0:RefreshContent()
	f12_arg0:addEventHandler( "layout_initialized", function ( f13_arg0, f13_arg1 )
		if not LUI.IsLastInputGamepad( f12_arg0._controllerIndex ) and not f12_arg0._initCarousleGridContentPosition then
			f12_arg0:SetPositionInternal( {
				x = 0,
				y = f12_arg0._focusedContentPositionOffsetY + f12_arg0._fixedTargetRow
			}, true, true, nil, nil, true )
		end
	end )
end

LUI.UICarouselGrid.GetDisplayContentData = function ( f11_arg0 )
	return f11_arg0._displayContentData
end

LUI.UICarouselGrid.UpdateContentStartPosition = function ( f10_arg0, f10_arg1 )
	f10_arg1 = LUI.ShallowCopy( f10_arg1 )
	assert( f10_arg1.x and f10_arg1.y )
	local f10_local0 = f10_arg0._targetPosition
	if f10_local0 then
		f10_local0 = LUI.ShallowCopy( f10_arg0._targetPosition )
	end
	if f10_local0 == nil then
		return 
	end
	local f10_local1 = f10_arg0._fixedTargetRow - 1
	if f10_local1 < 0 then
		f10_local1 = f10_arg0:GetMaxVisibleRows() - 1
	end
	local f10_local2 = f10_arg0._fixedTargetRow + 1
	if f10_arg0:GetMaxVisibleRows() - 1 < f10_local1 then
		f10_local1 = 0
	end
	local f10_local3 = f10_arg1.y == f10_local1
	local f10_local4 = f10_arg1.y == f10_local2
	if f10_local3 then
		f10_arg0._contentStartPosition.y = f10_arg0._contentStartPosition.y - 1
		if f10_arg0._contentStartPosition.y < 0 then
			f10_arg0._contentStartPosition.y = #f10_arg0._contentData - 1
		end
	elseif f10_local4 then
		f10_arg0._contentStartPosition.y = f10_arg0._contentStartPosition.y + 1
		if #f10_arg0._contentData - 1 < f10_arg0._contentStartPosition.y then
			f10_arg0._contentStartPosition.y = 0
		end
	end
end

LUI.UICarouselGrid.ShouldDisplayNumbersAndArrows = function ( f9_arg0 )
	local f9_local0
	if f9_arg0:GetMaxVisibleRows() * f9_arg0:GetMaxVisibleColumns() >= f9_arg0:GetNumChildren() then
		f9_local0 = f9_arg0._widgetsAlwaysVisible
	else
		f9_local0 = true
	end
	return f9_local0
end

LUI.UICarouselGrid.BuildGridCountArrows = function ( f8_arg0, f8_arg1, f8_arg2 )
	LUI.UIPeekingGrid.BuildGridCountArrows( f8_arg0, f8_arg1, f8_arg2 )
	if f8_arg0.GridCountArrows and not LUI.IsLastInputGamepad( f8_arg0._controllerIndex ) then
		f8_arg0.GridCountArrows:BuildMouseWheelIcon( f8_arg0._controllerIndex )
	else
		f8_arg0.GridCountArrows:RemoveMouseWheelIcon( f8_arg0._controllerIndex )
	end
end

LUI.UICarouselGrid.UpdateNumbersAndArrows = function ( f7_arg0 )
	if not f7_arg0:ShouldDisplayNumbersAndArrows() then
		for f7_local3, f7_local4 in pairs( f7_arg0._itemNumbers ) do
			f7_local4:setText( "" )
		end
		return 
	else
		local f7_local0, f7_local1 = nil
		f7_local1 = #f7_arg0._contentData
		f7_local0 = f7_arg0._contentStartPosition.y + f7_arg0._fixedTargetRow + f7_arg0._focusedContentPositionOffsetY + 1
		if f7_local1 < f7_local0 then
			f7_local0 = f7_local0 - f7_local1
		elseif f7_local0 < 1 then
			f7_local0 = f7_local1
		end
		for f7_local5, f7_local6 in pairs( f7_arg0._itemNumbers ) do
			f7_local6:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/X_OF_Y", f7_local0, f7_local1 ) )
		end
	end
end

LUI.UICarouselGrid.Scroll = function ( f6_arg0, f6_arg1 )
	f6_arg0:ScrollAmount( f6_arg1, 1 )
end

LUI.UICarouselGrid.IsAlreadyFocused = function ( f5_arg0, f5_arg1, f5_arg2 )
	if f5_arg2 ~= f5_arg0._fixedTargetRow then
		return true
	end
	local f5_local0 = f5_arg0._targetPosition
	if f5_local0 then
		if f5_arg0._targetPosition.x ~= f5_arg1 or f5_arg0._targetPosition.y ~= f5_arg2 then
			f5_local0 = false
		else
			f5_local0 = true
		end
	end
	return f5_local0
end

LUI.UICarouselGrid.RefreshContentPositionInternal = function ( f2_arg0, f2_arg1, f2_arg2, f2_arg3, f2_arg4, f2_arg5, f2_arg6 )
	local f2_local0 = function ( f4_arg0, f4_arg1, f4_arg2, f4_arg3, f4_arg4, f4_arg5, f4_arg6 )
		f4_arg0:SetTargetRow( f4_arg0._fixedTargetRow, false, true )
		f4_arg0:SetTargetColumn( 0, false, true )
		f4_arg0:RefreshDisplayContentData()
		f4_arg0:RefreshContent()
		f4_arg0._targetPosition.x = 0
		f4_arg0._targetPosition.y = f4_arg0._fixedTargetRow
		if f4_arg3 then
			local f4_local0 = f4_arg0:GetElementAtPosition( f4_arg0._targetPosition.x, f4_arg0._targetPosition.y + f4_arg0._focusedContentPositionOffsetY )
			if f4_local0 then
				f4_arg0:GiveFocusToChild( f4_local0, nil, f4_arg5, f4_arg6 )
			else
				f4_arg0:NotifyWhenPositionIsVisible( f4_arg0._targetPosition.x, f4_arg0._targetPosition.y )
			end
		end
	end
	
	if f2_arg0._initCarousleGridContentPosition then
		f2_arg0._setPositionLocked = true
		local f2_local1 = f2_arg0:Wait( 200, true )
		f2_local1.onComplete = function ()
			f2_arg0( f2_arg0, f2_arg0, f2_arg0, f2_arg0, f2_arg0, f2_arg0, f2_arg0 )
			f2_arg0._setPositionLocked = false
		end
		
	else
		f2_arg0._initCarousleGridContentPosition = true
		f2_local0( f2_arg0, f2_arg1, f2_arg2, f2_arg3, f2_arg4, f2_arg5, f2_arg6 )
	end
end

LUI.UICarouselGrid.SetPositionInternal = function ( f1_arg0, f1_arg1, f1_arg2, f1_arg3, f1_arg4, f1_arg5, f1_arg6 )
	if f1_arg0._setPositionLocked then
		return 
	end
	f1_arg1 = LUI.ShallowCopy( f1_arg1 )
	assert( f1_arg1.x and f1_arg1.y )
	if f1_arg0:GetFocusPosition( LUI.DIRECTION.vertical ) then
		DebugPrint( "focused position: " .. f1_arg0:GetFocusPosition( LUI.DIRECTION.vertical ) )
	end
	local f1_local0 = f1_arg0._fixedTargetRow - 1
	if f1_local0 < 0 then
		f1_local0 = f1_arg0:GetMaxVisibleRows() - 1
	end
	local f1_local1 = f1_arg0._fixedTargetRow + 1
	if f1_arg0:GetMaxVisibleRows() - 1 < f1_local1 then
		f1_local1 = 0
	end
	f1_arg1.y = LUI.clamp( f1_arg1.y, f1_local0, f1_local1 )
	if f1_arg0:GetNumColumns() == 0 or f1_arg0:GetNumRows() == 0 then
		f1_arg0:RemoveFocusFromChild( f1_arg2 )
		f1_arg0._shouldFocus = false
		f1_arg0._targetPosition = nil
		f1_arg0:SetLastFocusIndex( nil )
		f1_arg0:UpdateNumbersAndArrows()
		return 
	end
	f1_arg0._shouldFocus = f1_arg3
	if f1_arg3 and not f1_arg0:IsPositionInDataSet( f1_arg1.x, f1_arg1.y ) then
		local f1_local2, f1_local3 = f1_arg0:ColumnRowToPrimarySecondary( math.floor( f1_arg1.x ), math.floor( f1_arg1.y ) )
		local f1_local4, f1_local5 = f1_arg0:PrimarySecondaryToColumnRow( f1_local2, f1_local3 )
		if 0 < f1_local3 and not f1_arg0:IsPositionInDataSet( f1_local4, f1_local5 ) then
			
		else
			
		end
		if 0 < f1_local2 and not f1_arg0:IsPositionInDataSet( f1_local4, f1_local5 ) then
			
		else
			
		end
		f1_arg1.x = f1_local4
		f1_arg1.y = f1_local5
	end
	if f1_arg0._targetPosition and f1_arg0._targetPosition.x == f1_arg1.x and f1_arg0._targetPosition.y == f1_arg1.y then
		if not f1_arg3 then
			f1_arg0:RemoveFocusFromChild( f1_arg2 )
			return 
		end
		local f1_local2 = f1_arg0:GetElementAtPosition( f1_arg0._targetPosition.x, f1_arg0._targetPosition.y )
		if f1_local2 and (f1_local2:isInFocus() or 0 < #f1_local2:getAllFocusedChildren()) then
			return 
		end
	end
	local f1_local2 = f1_arg0._targetPosition == nil
	f1_arg0:RemoveFocusFromChild( f1_arg2 )
	f1_arg1.y = LUI.clamp( f1_arg1.y, 0, f1_arg0:GetNumRows() - 1 )
	if f1_arg3 then
		f1_arg1.y = math.floor( f1_arg1.y )
	end
	f1_arg0:SetTargetRow( f1_arg1.y, false, f1_arg2 )
	f1_arg0:UpdateContentStartPosition( f1_arg1 )
	if f1_arg0._pendingRefresh then
		f1_arg0._pendingRefresh = nil
		f1_arg0:RefreshContent()
	end
	f1_arg0._targetPosition = f1_arg1
	f1_arg0._targetPosition.skipTargetRowAdjustment = nil
	f1_arg0._targetPosition.skipTargetColumnAdjustment = nil
	f1_arg0:UpdateNumbersAndArrows()
	f1_arg0:UpdateScrolling()
	f1_arg0:RefreshContentPositionInternal( f1_arg1, f1_arg2, f1_arg3, f1_arg4, f1_arg5, f1_arg6 )
end

LUI.UIGrid.id = "LUIGrid"
LUI.UIDataSourceGrid.id = "LUIDataSourceGrid"
LUI.UICarouselGrid.id = "LUICarouselGrid"
LUI.UIPeekingGrid.id = "LUIPeekingGrid"
