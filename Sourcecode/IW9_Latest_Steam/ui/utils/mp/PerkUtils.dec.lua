-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:51
PERK = PERK or {}
PERK.perkNoneValue = "specialty_null"
PERK.perkOverkill = "specialty_twoprimaries"
PERK.perkIncludesOverkill = "perkpackage_munitions"
PERK.perkMunitions = "specialty_munitions"
PERK.perkMunitions2 = "specialty_munitions_2"
PERK.perkPointman = "specialty_strategist"
PERK.perkKillchain = "specialty_heavy_metal"
PERK.perkDoubleTime = "specialty_hustle"
PERK.perkHardline = "specialty_hardline"
PERK.perkUnderkill = "specialty_underkill"
PERK.perkExtraTactical = "specialty_extra_tactical"
PERK.perkOverwatch = "specialty_overwatch"
PERK.restock = "specialty_restock"
PERK.extraclip = "specialty_extraclip"
PERK.surviorPerkMessage = "survivor_revive"
PERK.survivorPerkBeingRevived = "being_revived"
PERK.defaultExtraClipSize = 6
PERK.GenericPerkImage = "ui_dmz_exfil_streaks_perk_random"
PERK.customPerkPackageCount = 5
PERK.MaxPerkCountPerPackage = 4
PERK.PerkTypes = {
	SPECIAL_THREE = 6,
	PASSIVE = 3,
	SPECIAL_ONE = 4,
	CORE = 1,
	SPECIAL_TWO = 5,
	ACTIVE = 2,
	NONE = 0
}
PERK.PERK_PACKAGE_STATES = {
	NoPackage = 0,
	Upgrade1Selected = 3,
	SelectUpgrade = 2,
	Upgrade2Selected = 4,
	ReadyToUpgrade = 1
}
if not IsLanguageThai() then
	PERK.DEFAULT_PACKAGE_NAMES = {
		nil,
		0xD312D35A29D233,
		0xD313D35A29D3E6,
		0xD314D35A29D599,
		0xD315D35A29D74C,
		0xD316D35A29D8FF,
		0xD317D35A29DAB2
	}
else
	PERK.DEFAULT_PACKAGE_NAMES = {
		nil,
		0xF8D5649CF7A6A00,
		0xF8D5949CF7A6F19,
		0xF8D5849CF7A6D66,
		0xF8D5B49CF7A727F,
		0xF8D5A49CF7A70CC,
		0xF8D5D49CF7A75E5
	}
end
PERK.DEFAULT_CUSTOM_PERKS = {
	nil,
	"specialty_hustle",
	"specialty_grenade_expert",
	"specialty_hardline",
	"specialty_overcharge_field_upgrade"
}
PERK.DEFAULT_BR_CUSTOM_PERKS = {
	nil,
	"specialty_munitions_2",
	"specialty_grenade_expert",
	"specialty_tactical_recon",
	"specialty_survivor"
}
PERK._bundleByListByRef = {}
local f0_local0 = CONDITIONS.IsMobileOrMobileSim()
if f0_local0 then
	f0_local0 = Dvar[0x9E5BE3B4BBA4E0E]( 0xAC6FA7101A0723B )
end
local f0_local1 = CONDITIONS.IsMagellanJupiterPerkEnabled()
local f0_local2
if f0_local1 then
	f0_local2 = 0x4A22EA335D11F7B
	if not f0_local2 then
	
	else
		local f0_local3
		if f0_local1 then
			f0_local3 = 0xE685B64A0753A7C
			if not f0_local3 then
			
			else
				local f0_local4 = PERK
				local f0_local5
				if f0_local0 and not f0_local2 then
					f0_local5 = f0_local2
				else
					f0_local5 = 0xDE211FE0ADA8704
				end
				f0_local4.DEFAULT_PERK_PACKAGES_SCRIPT_BUNDLE = f0_local5
				f0_local4 = PERK
				if f0_local0 and not f0_local3 then
					f0_local5 = f0_local3
				else
					f0_local5 = 0x100117305D14C2F
				end
				f0_local4.BR_PERK_PACKAGES_SCRIPT_BUNDLE = f0_local5
				PERK.LEAGUE_PLAY_PERK_PACKAGES_SCRIPT_BUNDLE = 0xE8D1F323A2C62C4
				PERK.PERK_INDEX_VALUES = {
					BONUS = 3,
					BASIC = 2,
					INVALID = 4294967295
				}
				PERK.DEFAULT_PERK_REF = "none"
				PERK.NONE_PERK_PACKAGE_STRING = 0x4E35C523FAC993F
				PERK.CUSTOM_PERK_PACKAGE_STRING = 0x5736E33B83FF9E0
				PERK.PERK_PACKAGE_INDEX_DEFAULT = 0
				PERK.PERK_PACKAGE_INDEX_NONE = -1
				PERK.PERK_PACKAGE_INDEX_CUSTOM = -2
				PERK.GetDefaultPerkPackageCount = function ()
					local f65_local0 = PERK.GetDefaultPerkPackageBundle()
					return #f65_local0[0x89B53663B8119B8]
				end
				
				PERK.GetDefaultPerkPackageBundle = function ()
					if CONDITIONS.IsLeaguePlay() then
						if CONDITIONS.IsBRLeaguePlay() then
							return Engine[0x6093D047200548]( PERK.BR_PERK_PACKAGES_SCRIPT_BUNDLE )
						else
							return Engine[0x6093D047200548]( PERK.LEAGUE_PLAY_PERK_PACKAGES_SCRIPT_BUNDLE )
						end
					elseif CONDITIONS.IsMagmaGameMode() then
						return Engine[0x6093D047200548]( PERK.BR_PERK_PACKAGES_SCRIPT_BUNDLE )
					else
						return Engine[0x6093D047200548]( PERK.DEFAULT_PERK_PACKAGES_SCRIPT_BUNDLE )
					end
				end
				
				PERK.GetBundleByBundleName = function ( f63_arg0 )
					local f63_local0
					if f63_arg0 ~= nil then
						f63_local0 = Engine[0x6093D047200548]( 0x84B297186ABE3F4 .. f63_arg0 )
						if not f63_local0 then
						
						else
							return f63_local0
						end
					end
					f63_local0 = nil
				end
				
				f0_local4 = PERK
				if Engine[0x47E265B6CAD4442]() ~= Enum[0xFA786CCC4BE4587][0x8244119177F60D3] or not 0xA110FE2F72C71FA then
					f0_local5 = Engine[0x47E265B6CAD4442]()
					local f0_local6 = Enum[0xFA786CCC4BE4587][0x634801943BDFA92]
					local f0_local7 = 0x4119A8EE4917903
					local f0_local8 = 0x80035370645E20D
				end
				f0_local4.listBundle = REG8 and f0_local7 or f0_local8
				PERK.GetImage = function ( f62_arg0 )
					local f62_local0
					if f62_arg0 ~= nil then
						f62_local0 = f62_arg0[0xAB612888528489A]
						if not f62_local0 then
						
						else
							return f62_local0
						end
					end
					f62_local0 = "white"
				end
				
				PERK.GetProgressionImage = function ( f61_arg0 )
					local f61_local0
					if f61_arg0 ~= nil then
						f61_local0 = f61_arg0[0xBD538BB85256D75]
						if not f61_local0 then
						
						else
							return f61_local0
						end
					end
					f61_local0 = "white"
				end
				
				PERK.GetBWImage = function ( f60_arg0 )
					local f60_local0
					if f60_arg0 ~= nil then
						f60_local0 = f60_arg0[0xA141B4ABA47B77B]
						if not f60_local0 then
						
						else
							return f60_local0
						end
					end
					f60_local0 = "icon_generic_plus"
				end
				
				PERK.GetModel = function ( f59_arg0 )
					local f59_local0
					if f59_arg0 ~= nil then
						f59_local0 = f59_arg0[0xDE543933E6E703A]
						if not f59_local0 then
						
						else
							return f59_local0
						end
					end
					f59_local0 = nil
				end
				
				PERK.GetSpecialistModel = function ( f58_arg0 )
					local f58_local0
					if f58_arg0 ~= nil then
						f58_local0 = f58_arg0[0xC123C7B696268B1]
						if not f58_local0 then
						
						else
							return f58_local0
						end
					end
					f58_local0 = nil
				end
				
				PERK.GetMenuSlot = function ( f57_arg0 )
					if f57_arg0 == nil then
						return nil
					elseif f57_arg0[0x6022D0B66E8CB2E] == nil or f57_arg0[0x6022D0B66E8CB2E] == false then
						return nil
					end
					local f57_local0 = f57_arg0[0xED8D64299316E7E]
					if not f57_local0 then
						f57_local0 = nil
					end
					return f57_local0
				end
				
				PERK.GetNameByRef = function ( f56_arg0 )
					return PERK.GetName( PERK.GetBundleByRef( f56_arg0 ) )
				end
				
				PERK.GetIconByRef = function ( f55_arg0 )
					local f55_local0 = PERK.GetBWImage( PERK.GetBundleByRef( f55_arg0 ) )
					if 0 < #f55_local0 then
						return f55_local0
					else
						
					end
				end
				
				PERK.GetTypeByRef = function ( f54_arg0 )
					if f54_arg0 ~= nil then
						return PERK.GetMenuSlot( PERK.GetBundleByRef( f54_arg0 ) )
					else
						return nil
					end
				end
				
				PERK.GetShownInMenu = function ( f53_arg0 )
					local f53_local0
					if f53_arg0 ~= nil then
						f53_local0 = f53_arg0[0x6022D0B66E8CB2E]
						if not f53_local0 then
						
						else
							return f53_local0
						end
					end
					f53_local0 = nil
				end
				
				PERK.GetIsDownedUsingSurvivor = function ( f52_arg0 )
					local f52_local0
					if f52_arg0 ~= PERK.surviorPerkMessage and f52_arg0 ~= PERK.survivorPerkBeingRevived then
						f52_local0 = false
					else
						f52_local0 = true
					end
					local f52_local1
					if f52_local0 then
						f52_local1 = f52_local0
					else
						f52_local1 = CONDITIONS.IsMagellanMPGameType()
					end
					return f52_local1
				end
				
				PERK.IsPointmanActive = function ( f51_arg0 )
					if Engine[0x12586A3F4FB490E]() then
						return nil
					end
					local f51_local0 = #DataSources.inGame.player.perkListOmnvars
					for f51_local1 = 1, f51_local0, 1 do
						local f51_local4 = DataSources.inGame.player.perkListOmnvars[f51_local1]:GetValue( f51_arg0 )
						if f51_local4 and f51_local4 ~= "none" and f51_local4 == PERK.perkPointman then
							return true
						end
					end
					return false
				end
				
				PERK.IsRestockActive = function ( f50_arg0 )
					if Engine[0x12586A3F4FB490E]() then
						return nil
					end
					local f50_local0 = #DataSources.inGame.player.perkListOmnvars
					for f50_local1 = 1, f50_local0, 1 do
						local f50_local4 = DataSources.inGame.player.perkListOmnvars[f50_local1]:GetValue( f50_arg0 )
						if f50_local4 and f50_local4 ~= "none" and f50_local4 == PERK.restock then
							return true
						end
					end
					return false
				end
				
				PERK.SubscribeToChanges = function ( f49_arg0, f49_arg1, f49_arg2 )
					local f49_local0 = #DataSources.inGame.player.perkListOmnvars
					for f49_local1 = 1, f49_local0, 1 do
						f49_arg0:SubscribeToModel( DataSources.inGame.player.perkListOmnvars[f49_local1]:GetModel( f49_arg1 ), f49_arg2 )
					end
				end
				
				PERK.IsPerkOverkill = function ( f48_arg0 )
					local f48_local0
					if f48_arg0 ~= PERK.perkOverkill and f48_arg0 ~= PERK.perkIncludesOverkill and f48_arg0 ~= PERK.perkMunitions and f48_arg0 ~= PERK.perkMunitions2 then
						f48_local0 = false
					else
						f48_local0 = true
					end
					return f48_local0
				end
				
				PERK.IsPerkUnderkill = function ( f47_arg0 )
					return f47_arg0 == PERK.perkUnderkill
				end
				
				PERK.DoesPerkPackageContainOverkill = function ( f46_arg0 )
					for f46_local0 = 1, #f46_arg0.perks, 1 do
						if PERK.IsPerkOverkill( f46_arg0.perks[f46_local0] ) then
							return true
						end
					end
					return false
				end
				
				PERK.DoesPerkPackageContainUnderkill = function ( f45_arg0 )
					for f45_local0 = 1, #f45_arg0.perks, 1 do
						if PERK.IsPerkUnderkill( f45_arg0.perks[f45_local0] ) then
							return true
						end
					end
					return false
				end
				
				PERK.FixOverkillKillchainPerkSwap = function ( f44_arg0, f44_arg1, f44_arg2 )
					local f44_local0 = LOADOUT.GetLoadoutSquadMember( f44_arg0, CoD.PlayMode.Core, f44_arg2 )
					f44_local0 = f44_local0.loadouts
					for f44_local1 = 0, #f44_local0 - 1, 1 do
						local f44_local4 = f44_local0[f44_local1]
						local f44_local5 = f44_local4.loadoutPerks[0]:get()
						local f44_local6 = f44_local4.loadoutPerks[1]:get()
						local f44_local7 = PERK.IsPerkOverkill( f44_local5 )
						local f44_local8 = f44_local6 == PERK.perkKillchain
						if f44_local8 and f44_local7 then
							f44_local4.loadoutPerks[0]:set( PERK.perkKillchain )
							f44_local4.loadoutPerks[1]:set( PERK.perkMunitions2 )
						end
						if f44_local8 then
							f44_local4.loadoutPerks[1]:set( PERK.perkHardline )
						end
						if f44_local7 then
							f44_local4.loadoutPerks[0]:set( PERK.perkDoubleTime )
							f44_local4.loadoutPerks[1]:set( PERK.perkMunitions2 )
						end
					end
				end
				
				PERK.ValidatePlayerData = function ( f43_arg0, f43_arg1 )
					local f43_local0 = PLAYER_DATA.IO( f43_arg0, CoD.StatsGroup.NonGame, CoD.PlayMode.Core, f43_arg1 )
					local f43_local1 = MP_COMMON.postShipFlags.overkillSwap
					if f43_local0.postShipFlags and f43_local0.postShipFlags[f43_local1]:get() < 1 then
						PERK.FixOverkillKillchainPerkSwap( f43_arg0, CoD.StatsGroup.RankedLoadouts, f43_arg1 )
						PERK.FixOverkillKillchainPerkSwap( f43_arg0, CoD.StatsGroup.PrivateLoadouts, f43_arg1 )
						PERK.FixOverkillKillchainPerkSwap( f43_arg0, CoD.StatsGroup.CoopLoadouts, f43_arg1 )
						PERK.FixOverkillKillchainPerkSwap( f43_arg0, CoD.StatsGroup.WZRankedLoadouts, f43_arg1 )
						PERK.FixOverkillKillchainPerkSwap( f43_arg0, CoD.StatsGroup.WZPrivateLoadouts, f43_arg1 )
						f43_local0.postShipFlags[f43_local1]:set( 1 )
					end
				end
				
				PERK.GetName = function ( f42_arg0 )
					return Engine[0xED84C33EC5F01EA]( PERK.GetNameUnlocalized( f42_arg0 ) )
				end
				
				PERK.GetNameUnlocalized = function ( f41_arg0 )
					local f41_local0
					if f41_arg0 ~= nil then
						f41_local0 = f41_arg0[0x4BCADBA8E631B86]
						if not f41_local0 then
						
						else
							return f41_local0
						end
					end
					f41_local0 = ""
				end
				
				PERK.GetPerkPatchNotes = function ( f40_arg0 )
					return Engine[0xED84C33EC5F01EA]( PERK.GetPerkPatchNotesUnlocalized( f40_arg0 ) )
				end
				
				PERK.GetPerkPatchNotesUnlocalized = function ( f39_arg0 )
					local f39_local0
					if f39_arg0 ~= nil then
						f39_local0 = f39_arg0[0x6A9F5F8944036D6]
						if not f39_local0 then
						
						else
							return f39_local0
						end
					end
					f39_local0 = ""
				end
				
				PERK.GetPerkExtraInfo = function ( f38_arg0 )
					return Engine[0xED84C33EC5F01EA]( PERK.GetPerkExtraInfoUnlocalized( f38_arg0 ) )
				end
				
				PERK.GetPerkExtraInfoUnlocalized = function ( f37_arg0 )
					local f37_local0
					if f37_arg0 ~= nil then
						f37_local0 = f37_arg0[0x426F27290AF6831]
						if not f37_local0 then
						
						else
							return f37_local0
						end
					end
					f37_local0 = ""
				end
				
				PERK.GetDesc = function ( f36_arg0 )
					return Engine[0xED84C33EC5F01EA]( PERK.GetDescUnlocalized( f36_arg0 ) )
				end
				
				PERK.GetDescUnlocalized = function ( f35_arg0 )
					if f35_arg0 == nil then
						return ""
					else
						local f35_local0 = CONDITIONS.IsMobileOrMobileSim()
						if not (f35_local0 or not CONDITIONS.IsBRGameType()) or f35_local0 and CONDITIONS.IsMagmaGameMode() then
							return f35_arg0[0x49FE0DD904A0C90] or ""
						elseif not CONDITIONS.IsThirdGameMode() then
							return f35_arg0[0xCC44970C8397929] or ""
						else
							return f35_arg0[0x46265B0713ECFE7] or ""
						end
					end
				end
				
				PERK.GetIsPerkDisabledForBR = function ( f34_arg0 )
					local f34_local0
					if f34_arg0 ~= nil then
						f34_local0 = f34_arg0[0xDECC2BB1C84DF75]
						if not f34_local0 then
						
						else
							return f34_local0
						end
					end
					f34_local0 = false
				end
				
				PERK.GetIsSpecialist = function ( f33_arg0 )
					local f33_local0
					if f33_arg0 ~= nil then
						f33_local0 = f33_arg0[0x4F35AE761BD424]
						if not f33_local0 then
						
						else
							return f33_local0
						end
					end
					f33_local0 = false
				end
				
				PERK.IsValidPerkRef = function ( f32_arg0 )
					local f32_local0
					if String.IsNilOrEmpty( f32_arg0 ) or f32_arg0 == PERK.DEFAULT_PERK_REF then
						f32_local0 = false
					else
						f32_local0 = true
					end
					return f32_local0
				end
				
				PERK.IsValidPerk = function ( f31_arg0, f31_arg1 )
					local f31_local0
					if f31_arg0 == nil or f31_arg0.ref:GetValue( f31_arg1 ) == PERK.DEFAULT_PERK_REF then
						f31_local0 = false
					else
						f31_local0 = true
					end
					return f31_local0
				end
				
				PERK.GetPerkSlotNumber = function ( f30_arg0 )
					return PERK.GetMenuSlot( PERK.GetBundleByRef( f30_arg0 ) )
				end
				
				PERK.GetBundleByRef = function ( f29_arg0 )
					if PERK.listBundle == nil then
						return nil
					elseif PERK._bundleByListByRef[PERK.listBundle] ~= nil and PERK._bundleByListByRef[PERK.listBundle][f29_arg0] ~= nil then
						return PERK._bundleByListByRef[PERK.listBundle][f29_arg0]
					end
					local f29_local0 = Engine[0x6093D047200548]( PERK.listBundle )
					assert( f29_local0 )
					if PERK._bundleByListByRef[PERK.listBundle] == nil then
						PERK._bundleByListByRef[PERK.listBundle] = {}
					end
					for f29_local5, f29_local6 in ipairs( f29_local0[0xF7940AE85E7BDF2] ) do
						if (f29_local6[0x9E9C01960F4C582] or "") == f29_arg0 then
							local f29_local4
							if f29_local6[0x8B6F2336E5960E5] ~= nil then
								f29_local4 = Engine[0x6093D047200548]( 0x84B297186ABE3F4 .. f29_local6[0x8B6F2336E5960E5] )
								if not f29_local4 then
								
								else
									PERK._bundleByListByRef[PERK.listBundle][f29_arg0] = f29_local4
									return f29_local4
								end
							end
							f29_local4 = nil
						end
					end
					return nil
				end
				
				PERK.GetBundleByIndex = function ( f28_arg0 )
					local f28_local0 = Engine[0x6093D047200548]( PERK.listBundle )
					assert( f28_local0 )
					if f28_local0[0xF7940AE85E7BDF2] ~= nil then
						assert( f28_local0[0xF7940AE85E7BDF2][1][0x8B6F2336E5960E5] == "perk_none" )
						local f28_local1
						if not f28_arg0 then
							f28_local1 = f28_arg0
						else
							f28_local1 = 0
						end
						local f28_local2 = f28_local0[0xF7940AE85E7BDF2][f28_local1 + 1]
						if f28_local2 ~= nil then
							return Engine[0x6093D047200548]( 0x84B297186ABE3F4 .. (f28_local2[0x8B6F2336E5960E5] or "") )
						end
					end
					return nil
				end
				
				PERK.GetBundleRefForIndex = function ( f27_arg0 )
					local f27_local0 = Engine[0x6093D047200548]( PERK.listBundle )
					assert( f27_local0 )
					if f27_local0[0xF7940AE85E7BDF2] ~= nil then
						local f27_local1
						if not f27_arg0 then
							f27_local1 = f27_arg0
						else
							f27_local1 = 0
						end
						local f27_local2 = f27_local0[0xF7940AE85E7BDF2][f27_local1 + 1]
						local f27_local3
						if f27_local2 ~= nil then
							f27_local3 = f27_local2[0x9E9C01960F4C582]
							if not f27_local3 then
							
							else
								return f27_local3
							end
						end
						f27_local3 = ""
					else
						return ""
					end
				end
				
				PERK.GetDefaultPerkPackageForIndex = function ( f26_arg0, f26_arg1 )
					local f26_local0 = {}
					local f26_local1
					if not f26_arg1 then
						f26_local1 = f26_arg1
					else
						f26_local1 = PERK.GetDefaultPerkPackageBundle()
					end
					if f26_local1 then
						local f26_local2 = Engine[0x6093D047200548]( 0xC80545A9B2954B4 .. f26_local1[0x89B53663B8119B8][f26_arg0 + 1][0x3CF3EEC39CF731B] )
						if f26_local2 then
							f26_local0 = {
								name = f26_local2[0x4BCADBA8E631B86],
								description = f26_local2[0xCC44970C8397929],
								image = f26_local2[0xAB612888528489A],
								perks = {
									f26_local2[0xB06F5847096E54A][0x8339C3830B72127],
									f26_local2[0xB06F5847096E54A][0x8339D3830B722DA],
									f26_local2[0xB06F5847096E54A][0x55F74B3A018E360],
									f26_local2[0xB06F5847096E54A][0xFE364F7C785223A]
								}
							}
						end
					end
					return f26_local0
				end
				
				PERK.GetLoadoutCustomPerkPackages = function ( f25_arg0, f25_arg1 )
					if not f25_arg1 then
						local f25_local0 = f25_arg1
					else
						local f25_local0 = LOADOUT.GetLoadoutStatsGroup()
					end
					if CoD.IsDMZMatch() then
						local f25_local0 = CoD.StatsGroup.Ranked
					end
					local f25_local1 = PLAYER_DATA.IO( f25_arg0, f25_local0 )
					return f25_local1.customPerkPackage
				end
				
				PERK.SavePerkPackageToPlayerData = function ( f24_arg0, f24_arg1, f24_arg2, f24_arg3 )
					local f24_local0 = PERK.GetLoadoutCustomPerkPackages( f24_arg0 )
					local f24_local1 = f24_local0[f24_arg1]
					f24_local1.name:set( f24_arg2 )
					for f24_local2 = 0, #f24_arg3 - 1, 1 do
						f24_local1.perks[f24_local2]:set( f24_arg3[f24_local2 + 1] )
					end
				end
				
				PERK.ClearPerkPackageInPlayerData = function ( f23_arg0, f23_arg1 )
					PERK.SavePerkPackageToPlayerData( f23_arg0, f23_arg1, "", {
						nil,
						nil,
						nil,
						nil,
						nil
					} )
				end
				
				PERK.GetPerkPackageDataFromPlayerData = function ( f22_arg0, f22_arg1, f22_arg2 )
					local f22_local0 = {}
					local f22_local1 = PERK.GetLoadoutCustomPerkPackages( f22_arg0 )
					if f22_local1 then
						local f22_local2 = f22_local1[f22_arg1]
						if f22_local2 then
							f22_local0 = {
								name = GL_HACK.CheckSpecialArabicSave( f22_local2.name:get(), f22_arg1 ),
								perks = {
									f22_local2.perks[0]:get(),
									f22_local2.perks[1]:get(),
									f22_local2.perks[2]:get(),
									[1] = f22_local2.perks[3]:get()
								},
								isLocalized = true
							}
						end
					end
					return f22_local0
				end
				
				PERK.GetPerkPackageData = function ( f21_arg0, f21_arg1, f21_arg2, f21_arg3 )
					local f21_local0
					if f21_arg2 then
						f21_local0 = #f21_arg2[0x89B53663B8119B8]
						if not f21_local0 then
						
						else
							assert( f21_arg1 < f21_local0 + PERK.customPerkPackageCount )
							if CONDITIONS.IsMobileOrMobileSim() and f21_local0 <= f21_arg1 then
								LOADOUT.MobileValidatePerkPackage( f21_arg0 )
								return PERK.GetDefaultPerkPackageForIndex( PERK.PERK_PACKAGE_INDEX_DEFAULT, f21_arg2 )
							elseif f21_arg1 < f21_local0 then
								return PERK.GetDefaultPerkPackageForIndex( f21_arg1, f21_arg2 )
							else
								return PERK.GetPerkPackageDataFromPlayerData( f21_arg0, f21_arg1 - f21_local0, f21_arg3 )
							end
						end
					end
					f21_local0 = PERK.GetDefaultPerkPackageCount()
				end
				
				PERK.IsDefaultPerkPackage = function ( f20_arg0 )
					return f20_arg0 < PERK.GetDefaultPerkPackageCount()
				end
				
				PERK.SetDefaultPerkPackage = function ( f19_arg0, f19_arg1 )
					LOADOUT.EquipPerkPackage( f19_arg0, f19_arg1, PERK.PERK_PACKAGE_INDEX_DEFAULT )
				end
				
				PERK.IsPerkPackageSuperpower = function ( f18_arg0 )
					local f18_local0
					if (f18_arg0 == nil or f18_arg0 ~= "super_high_jump") and f18_arg0 ~= "super_electric_discharge" and f18_arg0 ~= "super_laser_charge" and f18_arg0 ~= "super_teleport_deploy" then
						f18_local0 = false
					else
						f18_local0 = true
					end
					return f18_local0
				end
				
				PERK.GetPerksDetailsFromPerkPackageData = function ( f17_arg0 )
					local f17_local0 = PERK.GetPerkPackageFormattedName( f17_arg0.name, f17_arg0.isLocalized )
					return {
						isNameAlreadyLocalized = true,
						name = f17_local0,
						title = f17_local0,
						desc = f17_arg0.desc,
						unlockCriteria = f17_arg0.unlockCriteria
					}
				end
				
				PERK.GetPerksDetails = function ( f16_arg0, f16_arg1 )
					return PERK.GetPerksDetailsFromPerkPackageData( PERK.GetPerkPackageData( f16_arg0, f16_arg1 ) )
				end
				
				PERK.GetPerkPackageFormattedName = function ( f15_arg0, f15_arg1 )
					local f15_local0 = Engine[0xED84C33EC5F01EA]
					local f15_local1 = 0x915D60B323E0670
					local f15_local2
					if f15_arg1 then
						f15_local2 = MarkLocalized( f15_arg0 )
						if not f15_local2 then
						
						else
							return f15_local0( f15_local1, f15_local2 )
						end
					end
					f15_local2 = f15_arg0
				end
				
				PERK.GetAvailablePerkPackageSlot = function ( f14_arg0 )
					local f14_local0 = PERK.GetLoadoutCustomPerkPackages( f14_arg0 )
					for f14_local1 = 0, PERK.customPerkPackageCount - 1, 1 do
						if #f14_local0[f14_local1].name:get() == 0 then
							return f14_local1
						end
					end
					return nil
				end
				
				PERK.GetValidPerkPackageSlots = function ( f13_arg0 )
					local f13_local0 = {}
					local f13_local1 = PERK.GetLoadoutCustomPerkPackages( f13_arg0 )
					for f13_local2 = 0, PERK.customPerkPackageCount - 1, 1 do
						if 0 < #f13_local1[f13_local2].name:get() then
							table.insert( f13_local0, f13_local2 )
						end
					end
					return f13_local0
				end
				
				PERK.IsPerkPackageEquippedInALoadout = function ( f12_arg0, f12_arg1 )
					for f12_local0 = 0, LOADOUT.DefaultClassCount - 1, 1 do
						local f12_local3 = LOADOUT.GetLoadoutPlayerData( f12_arg0, f12_local0 )
						local f12_local4 = f12_local3.equippedPerkPackageIndex:get()
						if f12_local4 and tonumber( f12_local4 ) and tonumber( f12_local4 ) == f12_arg1 then
							return true
						end
					end
					return false
				end
				
				PERK.GetPerkPackageTypeFromIndex = function ( f11_arg0 )
					if f11_arg0 == PERK.PERK_INDEX_VALUES.INVALID then
						return PERK.PerkTypes.NONE
					elseif f11_arg0 <= PERK.PERK_INDEX_VALUES.BASIC then
						return PERK.PerkTypes.CORE
					elseif f11_arg0 == PERK.PERK_INDEX_VALUES.BONUS then
						return PERK.PerkTypes.ACTIVE
					else
						return PERK.PerkTypes.PASSIVE
					end
				end
				
				PERK.GetPerkPackageColorFromType = function ( f10_arg0 )
					if f10_arg0 == PERK.PerkTypes.CORE or CONDITIONS.IsMagmaGameMode() then
						return SWATCHES.IW9StyleGuide.styleGuideCool02
					elseif f10_arg0 == PERK.PerkTypes.ACTIVE then
						return SWATCHES.IW9StyleGuide.styleGuideSideEast
					else
						return SWATCHES.IW9StyleGuide.styleGuideAccentMain
					end
				end
				
				PERK.GetPerkPackageTypeNameFromType = function ( f9_arg0 )
					if f9_arg0 == PERK.PerkTypes.NONE then
						return 0x5CB6BC731B8208C
					elseif f9_arg0 == PERK.PerkTypes.CORE then
						return 0xE83E554BF7739CB
					elseif f9_arg0 == PERK.PerkTypes.ACTIVE then
						return 0x9519FA8E9EE8284
					else
						return 0x6D0A13D6BA75AD4
					end
				end
				
				PERK.RenamePerkPackage = function ( f7_arg0, f7_arg1, f7_arg2 )
					local f7_local0 = {
						noDefaultTextOnCreate = true,
						allowEmpty = false,
						maxInputStringLength = 20,
						verifyString = true,
						title = Engine[0xED84C33EC5F01EA]( 0x19F50F69E65FC10 )
					}
					local f7_local1 = PERK.GetPerkPackageData( f7_arg1, f7_arg2 )
					f7_local0.defaultValue = f7_local1.name
					f7_local1 = CONDITIONS.IsUserSignedInDemonware( f7_arg1 )
					if not f7_local1 then
						f7_local1 = Engine[0xDABAA414ED6AABD]( f7_arg1 ) ~= CoD.StatsSource.OFFLINE
					end
					f7_local0.filterProfanity = f7_local1
					f7_local0.textEditCompleteFunc = function ( f8_arg0, f8_arg1 )
						local f8_local0 = f8_arg0._controllerIndex or f8_arg1.controllerIndex
						assert( f8_local0 )
						if not f8_arg1.cancelled then
							local f8_local1, f8_local2 = TEXT_EDIT.ValidateString( f8_local0, f8_arg1.text )
							if f8_local1 then
								local f8_local3 = PERK.SavePerkPackageToPlayerData
								local f8_local4 = f8_local0
								local f8_local5 = f7_arg0 - PERK.GetDefaultPerkPackageCount()
								local f8_local6 = Engine[0x7D3158A9539A355]( f8_arg1.text )
								local f8_local7 = PERK.GetPerkPackageData( f8_local0, f7_arg0 )
								f8_local3( f8_local4, f8_local5, f8_local6, f8_local7.perks )
								f7_arg0:processEvent( {
									name = "refresh_perkpackages"
								} )
							else
								LUI.FlowManager.RequestErrorPopup( f8_local0, Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ), f8_local2 )
							end
						end
					end
					
					ACTIONS.OpenGenericEditBoxPopup( f7_arg0, f7_arg1, f7_local0 )
				end
				
				PERK.GetPerkButtonConfig = function ( f6_arg0, f6_arg1 )
					local f6_local0 = {}
					local f6_local1
					if f6_arg1 and f6_arg1.hideHeader then
						f6_local1 = ""
					else
						f6_local1 = f6_arg0.name
					end
					f6_local0.header = f6_local1
					f6_local1 = false
					if type( f6_arg0.name ) == "xhash" then
						f6_local1 = true
					end
					return {
						buttonSize = "Large",
						removeTextBacker = true,
						loadoutEditGradientFocusStyle = true,
						removeEquipBanner = true,
						imageSize = "Image2x1",
						buttonData = f6_local0,
						localizeHeader = f6_local1
					}
				end
				
				PERK.GetPerkPreviewData = function ( f5_arg0, f5_arg1 )
					if f5_arg0 and 0 < #f5_arg0 then
						local f5_local0 = PERK.GetBundleByRef( f5_arg0 )
						local f5_local1
						if not f5_arg1 then
							f5_local1 = f5_arg1
						else
							f5_local1 = PERK.GetMenuSlot( f5_local0 )
						end
						local f5_local2 = ""
						local f5_local3 = ""
						local f5_local4 = ""
						local f5_local5 = false
						local f5_local6 = false
						if CONDITIONS.AreRestrictionsActive() and Restrictions.AreAllPerksInSlotRestricted( f5_local1 ) then
							if f5_local1 == PERK.PerkTypes.CORE then
								f5_local3 = 0x628182B7BC4F4F8
							elseif f5_local1 == PERK.PerkTypes.ACTIVE then
								f5_local3 = 0xBBAA8B3042CB18F
							elseif f5_local1 == PERK.PerkTypes.PASSIVE then
								f5_local3 = 0xA6B92B62E494BDE
							end
							f5_local5 = true
						else
							f5_local2 = PERK.GetName( f5_local0 )
							f5_local3 = PERK.GetDesc( f5_local0 )
							f5_local4 = PERK.GetImage( f5_local0 )
							if MatchRules[0x1C6C7F044453B4]( f5_arg0 ) then
								f5_local6 = true
							end
						end
						return {
							name = f5_local2,
							description = f5_local3,
							image = f5_local4,
							isLocked = f5_local5,
							isWarning = f5_local6
						}
					else
						
					end
				end
				
				PERK.GetPerkPackageUnlocalizedNameByIndex = function ( f4_arg0 )
					assert( f4_arg0 < PERK.GetDefaultPerkPackageCount(), "Trying to get an invalid perk package, index >= " .. PERK.GetDefaultPerkPackageCount() )
					if f4_arg0 == PERK.PERK_PACKAGE_INDEX_NONE then
						return PERK.NONE_PERK_PACKAGE_STRING
					elseif f4_arg0 == PERK.PERK_PACKAGE_INDEX_CUSTOM then
						return PERK.CUSTOM_PERK_PACKAGE_STRING
					else
						local f4_local0 = PERK.GetDefaultPerkPackageForIndex( f4_arg0 )
						return f4_local0.name
					end
				end
				
				PERK.HandleOverkillPerkWeapon = function ( f3_arg0, f3_arg1, f3_arg2, f3_arg3 )
					assert( f3_arg2 )
					local f3_local0 = PERK.DoesPerkPackageContainOverkill( PERK.GetPerkPackageData( f3_arg0, f3_arg1 ) )
					if f3_local0 and f3_arg3 then
						return 
					end
					local f3_local1 = LOADOUT.GetLoadoutSquadMember( f3_arg0 )
					f3_local1 = f3_local1.loadouts
					local f3_local2 = LOADOUT.GetMaxLoadoutCount()
					for f3_local3 = 0, f3_local2 - 1, 1 do
						local f3_local6 = f3_local1[f3_local3]
						if f3_local6.equippedPerkPackageIndex:get() == f3_arg1 then
							local f3_local7 = f3_local6.weaponSetups[0]
							local f3_local8 = f3_local6.weaponSetups[1]
							local f3_local9 = WEAPON.GenerateWeaponTable( f3_local7 )
							local f3_local10 = WEAPON.GenerateWeaponTable( f3_local8 )
							local f3_local11 = f3_local10.weaponClass
							if not f3_local11 then
								f3_local11 = WEAPON.GetWeaponClass( f3_local10.weapon )
							end
							if WEAPON.IsSecondaryWeaponType( f3_local11 ) ~= not f3_local0 then
								local f3_local12 = WEAPON.DefaultSecondary
								if f3_local0 and not f3_arg3 then
									if f3_local7.weapon:get() == WEAPON.OverkillDefaultPrimary then
										local f3_local13 = WEAPON.DefaultPrimary
										if not f3_local13 then
											f3_local12 = f3_local13
										else
											f3_local12 = WEAPON.OverkillDefaultPrimary
										end
									end
									f3_local12 = WEAPON.OverkillDefaultPrimary
								end
								LOOT.SendDlogLootEquipped( f3_arg0, LOOT.itemTypes.WEAPON, f3_local10, nil, nil, f3_local12 )
								WEAPON.EquipBaseWeapon( f3_local8, f3_local12 )
								GUNSMITH.EquipBaseWeaponPartsAttachment( f3_arg0, f3_local8 )
							end
						end
					end
				end
				
				PERK.MobileHandleOverkillPerkWeapon = function ( f2_arg0, f2_arg1, f2_arg2, f2_arg3 )
					assert( f2_arg2 )
					local f2_local0 = PERK.DoesPerkPackageContainOverkill( PERK.GetPerkPackageData( f2_arg0, f2_arg1 ) )
					if f2_local0 and f2_arg3 then
						return 
					end
					local f2_local1 = LOADOUT.GetLoadoutSquadMember( f2_arg0 )
					local f2_local2 = f2_local1.loadouts[f2_arg2]
					if f2_local2.equippedPerkPackageIndex:get() ~= f2_arg1 then
						local f2_local3 = f2_local2.weaponSetups[WEAPON.PrimarySlot]
						local f2_local4 = f2_local2.weaponSetups[WEAPON.SecondarySlot]
						local f2_local5 = WEAPON.GenerateWeaponTable( f2_local3 )
						local f2_local6 = WEAPON.GenerateWeaponTable( f2_local4 )
						local f2_local7 = f2_local6.weaponClass
						if not f2_local7 then
							f2_local7 = WEAPON.GetWeaponClass( f2_local6.weapon )
						end
						local f2_local8 = nil
						if not WEAPON.IsSecondaryWeaponType( f2_local7 ) and not f2_local0 then
							f2_local8 = WEAPON.DefaultSecondary
						elseif WEAPON.IsSecondaryWeaponType( f2_local7 ) and f2_local0 then
							if f2_local3.weapon:get() == WEAPON.OverkillDefaultPrimary then
								local f2_local9 = WEAPON.DefaultPrimary
								if not f2_local9 then
									f2_local8 = f2_local9
								else
									f2_local8 = WEAPON.OverkillDefaultPrimary
								end
							end
							f2_local8 = WEAPON.OverkillDefaultPrimary
						end
						if f2_local8 then
							LOOT.SendDlogLootEquipped( f2_arg0, LOOT.itemTypes.WEAPON, f2_local6, nil, nil, f2_local8 )
							WEAPON.EquipBaseWeapon( f2_local4, f2_local8 )
							GUNSMITH.EquipBaseWeaponPartsAttachment( f2_arg0, f2_local4 )
						end
					end
				end
				
				PERK.SetupPerksSelectDetailsDatasources = function ( f1_arg0, f1_arg1, f1_arg2 )
					if f1_arg2.query.loadoutIndex then
						f1_arg2.loadoutIndex = tonumber( f1_arg2.query.loadoutIndex )
						LOADOUT.SetLoadoutIndex( f1_arg1, f1_arg2.loadoutIndex )
					end
					if not CONDITIONS.IsMobileOrMobileSim() then
						return 
					else
						f1_arg0.detailsDataSource = LUI.SetupDataSourceUpdate( f1_arg0, f1_arg1, "UpdateDetailsDataSources", "alwaysLoaded.menu.perks.details", PERK.GetPerksDetails( f1_arg1, LOADOUT.GetSelectedLoadoutPerkPackage( f1_arg1, f1_arg2.loadoutIndex ) ), ItemDetailsUtils.FormatDetailsDataTable )
						ItemDetailsUtils.MobileSetMenuItemDetailsType( f1_arg0, ItemDetailsUtils[0x5ABE5FD362B0038][0x64C8E3116875FC4] )
					end
				end
				
			end
		end
		f0_local3 = 0x573E0731AF971CC
	end
end
f0_local2 = 0xE8382FE1CC3C507
