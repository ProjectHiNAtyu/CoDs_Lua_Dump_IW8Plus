-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
module( ..., package.seeall )
CoD.PrintModuleLoad( _NAME )
local f0_local0 = 10
local f0_local1 = 1
local f0_local2 = 40
local f0_local3 = 80
function OptimalVideoDisabledFunc( f13_arg0, f13_arg1 )
	local f13_local0
	if not Engine[0x12586A3F4FB490E]() then
		f13_local0 = Engine[0x9258F49F515F97B]()
	else
		f13_local0 = false
	end
	return f13_local0
end

function OptimalVideoNotice( f10_arg0, f10_arg1 )
	local f10_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", {
		headerText = Engine[0xED84C33EC5F01EA]( "MENU/RESET_SYSTEM_DEFAULTS" ),
		messageText = Engine[0xED84C33EC5F01EA]( "MENU/RESTORE_DEFAULTS" ),
		yesAction = function ( f12_arg0, f12_arg1 )
			Engine[0x9E03CDC709B38FE]( true )
			Dvar[0x14B6102841AB394]( "#x3c1e827cd7bbdd5fc", f10_arg0 )
			Dvar[0x14B6102841AB394]( "#x338ae71b71487312", 1 )
			Dvar[0x14B6102841AB394]( "#x3f6a1860a777a61c7", 0 )
			Engine[0xB81A5136C5503E4]( "profile_setFilmGrain " .. tostring( 1 ), f12_arg1 )
			Engine[0x7C75E608EA39B5C]( "profile_menuDvarsFinish " .. f12_arg1 )
			Engine[0x7C75E608EA39B5C]( "wait; wait; r_applyPicmip;" )
			f12_arg0:dispatchEventToRoot( {
				name = "optimal_video_update"
			} )
		end,
		noAction = function ()
			
		end
	} )
	f10_local0.id = "OptimalVideoNoticePopup"
	return f10_local0
end

function ResetControlsYesAction( f9_arg0, f9_arg1 )
	Engine[0xB81A5136C5503E4]( "profile_toggleLean 1", f9_arg1 )
	Engine[0xB81A5136C5503E4]( "profile_toggleholdSprint 0", f9_arg1 )
	if Engine[0x4F2A2C997DB66C9]() == 1 then
		Engine[0xB02A448C4130634]( "thumbstick_default", f9_arg1 )
		Engine[0x23F1D3C77CE5C6]( "buttons_default", f9_arg1, CONDITIONS.IsBRGameType() )
		Engine[0xB81A5136C5503E4]( "profile_toggleInvertedPitch 0", f9_arg1 )
		Engine[0xB81A5136C5503E4]( "profile_toggleRumble 1", f9_arg1 )
		Engine[0xB81A5136C5503E4]( "profile_toggleAutoAim 1", f9_arg1 )
		Engine[0xB81A5136C5503E4]( "profile_toggleTargetAssist 1", f9_arg1 )
		Engine[0xB81A5136C5503E4]( "profile_toggleSprintCancelsReload 0", f9_arg1 )
		Dvar[0x14B6102841AB394]( "#x33a2be620f88b8dfa", 4 )
		Dvar[0x14B6102841AB394]( "#x3c6803a2b1e6d2b20", 4 )
	else
		Engine[0x7C75E608EA39B5C]( "exec default_keys.cfg" )
		Dvar[0x14B6102841AB394]( "#x3f1dd8437c6adfbe9", f0_local0 )
		Dvar[0x14B6102841AB394]( "#x3466e2b8890eee5bf", f0_local0 )
		Dvar[0x14B6102841AB394]( "#x3ca438307be30eca7", f0_local0 )
		Dvar[0x14B6102841AB394]( "#x39ab2b70f03bfc781", f0_local0 )
		Dvar[0x8EA06EEDB58D872]( "#x3b45d88a25513259a", false )
	end
	Engine[0xB81A5136C5503E4]( "profile_toggleInvertedFlyPitch 0", f9_arg1 )
	Engine[0xB81A5136C5503E4]( "profile_menuDvarsFinish" )
end

function ResetControls()
	local f7_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", {
		headerText = Engine[0xED84C33EC5F01EA]( "LUA_MENU/SET_DEFAULT_CONTROLS" ),
		messageText = Engine[0xED84C33EC5F01EA]( "LUA_MENU/RESTORE_EACH_SETTING" ),
		yesAction = ResetControlsYesAction,
		noAction = function ()
			
		end
	} )
	f7_local0.id = "ResetControlsPopup"
	return f7_local0
end

function CopyKeysFromOtherModeAction( f6_arg0, f6_arg1 )
	if CoD.GetCurrentGameMode() == CoD.PlayMode.SP then
		Engine[0x250AD6AED9A152]( CoD.PlayMode.Core, f6_arg1 )
	else
		Engine[0x250AD6AED9A152]( CoD.PlayMode.SP, f6_arg1 )
	end
end

function CopyKeysFromOtherMode()
	local f4_local0 = {
		headerText = Engine[0xED84C33EC5F01EA]( "LUA_MENU_PC/COPY_KEYS_TITLE" )
	}
	if Engine[0x9258F49F515F97B]() then
		f4_local0.messageText = Engine[0xED84C33EC5F01EA]( "LUA_MENU_PC/COPY_KEYS_FROM_SP" )
	elseif Engine[0x74423E76DECE3E4]() then
		f4_local0.messageText = Engine[0xED84C33EC5F01EA]( "LUA_MENU_PC/COPY_KEYS_FROM_MP" )
	end
	f4_local0.yesAction = CopyKeysFromOtherModeAction
	f4_local0.noAction = function ()
		
	end
	
	local f4_local1 = MenuBuilder.BuildRegisteredType( "PopupYesNo", f4_local0 )
	f4_local1.id = "CopyKeysFromOtherModePopup"
	return f4_local1
end

function ShaderCacheDialog( f1_arg0, f1_arg1 )
	local f1_local0 = MenuBuilder.BuildRegisteredType( "MessagePopup", {
		headerText = Engine[0xED84C33EC5F01EA]( "PLATFORM/SHADER_PRECACHE_QUESTION_TITLE" ),
		messageText = Engine[0xED84C33EC5F01EA]( "PLATFORM/SHADER_PRECACHE_QUESTION" ),
		controllerIndex = f1_arg1.controllerIndex,
		buttons = {
			{
				label = Engine[0xED84C33EC5F01EA]( "PLATFORM/SHADER_PRECACHE_RESTART" ),
				action = function ( f3_arg0 )
					ShaderUpload[0x8D1634182CA3091]()
					Dvar[0x8EA06EEDB58D872]( "#x322865c6d5d0c5e51", false )
					LUI.FlowManager.RequestLeaveMenu( f3_arg0, true )
				end
			},
			{
				label = Engine[0xED84C33EC5F01EA]( "LUA_MENU/CANCEL" ),
				action = function ( f2_arg0 )
					LUI.FlowManager.RequestLeaveMenu( f2_arg0, true )
				end
			}
		}
	} )
	f1_local0.id = "ShaderCacheDialog"
	return f1_local0
end

MenuBuilder.registerType( "OptimalVideoNoticePopup", OptimalVideoNotice )
MenuBuilder.registerType( "ResetControlsPopup", ResetControls )
MenuBuilder.registerType( "CopyKeysFromOtherModePopup", CopyKeysFromOtherMode )
MenuBuilder.registerType( "ShaderCacheDialog", ShaderCacheDialog )
LockTable( _M )
