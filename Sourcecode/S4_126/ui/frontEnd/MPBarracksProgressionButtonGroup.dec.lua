-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
local f0_local0 = function ()
	local f4_local0 = SEASON.GetCurrentSeason()
	local f4_local1 = {
		progressionType = PROGRESSION.TYPE.Season,
		areSelectable = true
	}
	if f4_local0 == 0 then
		f4_local1.season = 0
	else
		f4_local1.season = 1
	end
	return f4_local1
end

local f0_local1 = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0._controllerIndex = f3_arg2
	if f3_arg0.ProgressionButtonGrid ~= nil then
		f3_arg0.ProgressionButtonGrid:closeTree()
	end
	f3_arg0.ProgressionButtonGrid = LUI.UIGrid.new( {
		scrollingThresholdX = 1,
		maxVisibleColumns = 5,
		wrapY = true,
		maxVisibleRows = 2,
		maxVelocity = 5000,
		adjustSizeToContent = true,
		scrollingThresholdY = 1,
		wrapX = true,
		springCoefficient = 400,
		controllerIndex = f3_arg0._controllerIndex,
		spacingX = _1080p * 10,
		spacingY = _1080p * 10,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	f3_arg0:addElement( f3_arg0.ProgressionButtonGrid )
	local f3_local0 = {
		[0] = {
			season = 4294967295,
			progressionType = PROGRESSION.TYPE.Player,
			areSelectable = f3_arg1
		},
		[1] = f0_local0(),
		[2] = {
			season = 2,
			progressionType = PROGRESSION.TYPE.Season,
			areSelectable = f3_arg1
		},
		[3] = {
			season = 3,
			progressionType = PROGRESSION.TYPE.Season,
			areSelectable = f3_arg1
		},
		[4] = {
			season = 4294967295,
			progressionType = PROGRESSION.TYPE.Clan,
			areSelectable = f3_arg1
		},
		[5] = {
			season = 4,
			progressionType = PROGRESSION.TYPE.Season,
			areSelectable = f3_arg1
		},
		[6] = {
			season = 5,
			progressionType = PROGRESSION.TYPE.Season,
			areSelectable = f3_arg1
		},
		[7] = {
			season = 6,
			areSelectable = false,
			progressionType = PROGRESSION.TYPE.Postseason
		}
	}
	for f3_local1 = 0, #f3_local0, 1 do
		local f3_local4 = MenuBuilder.BuildRegisteredType( "MPBarracksProgressionButton", {
			controllerIndex = f3_arg0._controllerIndex
		} )
		f3_local4:SetupButton( f3_local0[f3_local1], f3_local0[f3_local1].areSelectable, f3_arg0._controllerIndex )
		f3_local4.id = "ProgressionButton_" .. tostring( f3_local1 )
		f3_arg0.ProgressionButtonGrid:AddElement( f3_local4 )
		if f3_local0[f3_local1].season == -1 then
			local f3_local5 = LUI.UIElement.new()
			f3_local5:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1, 0, f3_local4:getHeight() )
			f3_local5.id = "Spacer"
			f3_arg0.ProgressionButtonGrid:AddElement( f3_local5 )
		end
		if f3_local0[f3_local1].season == 6 then
			f3_local4.GenericButtonBackground:SetVisibility( LUI.Visibility.Hidden )
		end
	end
end

local f0_local2 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0._controllerIndex = f2_arg1
	f2_arg0.SetupButtons = f0_local0
end

function MPBarracksProgressionButtonGroup( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1172 * _1080p, 0, 780 * _1080p )
	self.id = "MPBarracksProgressionButtonGroup"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Divider = nil
	
	Divider = LUI.UIImage.new()
	Divider.id = "Divider"
	Divider:SetRGBFromTable( SWATCHES.highlight.vDefaultHighlight, 0 )
	Divider:SetAlpha( 0.25, 0 )
	Divider:SetAnchorsAndPosition( 0, 1, 0, 0, _1080p * 290, _1080p * 292, 0, 0 )
	self:addElement( Divider )
	self.Divider = Divider
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "MPBarracksProgressionButtonGroup", MPBarracksProgressionButtonGroup )
LockTable( _M )
