-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
local f0_local0 = function ( f14_arg0 )
	local f14_local0 = f14_arg0.element
	if not f14_local0 then
		return 
	elseif f14_local0.score then
		f14_local0.TeamScore:setText( f14_local0.score )
	end
end

local f0_local1 = function ( f6_arg0, f6_arg1, f6_arg2 )
	f6_arg0:SubscribeToModelThroughElement( f6_arg0, "teamName", function ( f13_arg0 )
		f6_arg0.TeamName:setText( DataModel[0x614D394F6F9A18D]( f13_arg0 ) )
	end )
	f6_arg0:SubscribeToModelThroughElement( f6_arg0, "cityName", function ( f12_arg0 )
		f6_arg0.TeamRegion:setText( DataModel[0x614D394F6F9A18D]( f12_arg0 ) )
	end )
	f6_arg0:SubscribeToModelThroughElement( f6_arg0, "logoLargeColor", function ( f11_arg0 )
		local f11_local0 = DataModel[0x614D394F6F9A18D]( f11_arg0 )
		if f11_local0 then
			f6_arg0.TeamLogo:setImage( RegisterMaterial( f11_local0 ) )
		end
	end )
	f6_arg0:SubscribeToModelThroughElement( f6_arg0, "isFirst", function ( f9_arg0 )
		local f9_local0 = DataModel[0x614D394F6F9A18D]( f9_arg0 )
		local f9_local1 = ACTIONS.AnimateSequence
		local f9_local2 = f6_arg0
		local f9_local3
		if f9_local0 then
			f9_local3 = "IntroLeftTeam"
		else
			f9_local3 = "IntroRightTeam"
		end
		f9_local1( f9_local2, f9_local3, {
			onComplete = PackedFunctionWrapper( {
				parent = f6_arg0
			}, function ( f10_arg0 )
				local f10_local0 = f10_arg0.parent
				if f10_local0.score then
					ACTIONS.AnimateSequence( f10_local0, "AddScore" )
				end
			end
			 )
		} )
	end )
	f6_arg0:SubscribeToModelThroughElement( f6_arg0, "teamId", function ( f8_arg0 )
		local f8_local0 = DataModel[0x614D394F6F9A18D]( f8_arg0 )
		local f8_local1 = f6_arg0:GetDataSource( f6_arg0 )
		local f8_local2 = f8_local1.score:GetValue( f6_arg0 )
		local f8_local3 = DataSources.inGame.MP.roundEnd.roundEndWinner:GetValue( f6_arg0 )
		local f8_local4 = f8_local0 == f8_local3
		local f8_local5 = DataSources.inGame.MP.roundEnd.roundEndReasonIndex:GetValue( f6_arg0 ) == MP.RoundEndReasons.SWITCHING_SIDES
		local f8_local6 = MP.IsRoundBasedGameType( Game[0x58158428CFFFEF5]() )
		f6_arg0.TeamScore:setText( f8_local2 )
		if f8_local3 == Teams.free then
			return 
		elseif not f8_local5 and f8_local6 and f8_local4 then
			f6_arg0.TeamScore:setText( f8_local2 - 1 )
			f6_arg0.score = f8_local2
		elseif not f8_local6 and f8_local4 then
			f6_arg0.score = f8_local2
		end
	end )
	f6_arg0:SubscribeToModelThroughElement( f6_arg0, "colors.secondary", function ( f7_arg0 )
		if CODCASTER.CanColorTeamLogo( f6_arg0 ) then
			local f7_local0 = DataModel[0x614D394F6F9A18D]( f7_arg0 )
			if f7_local0 then
				f6_arg0.TeamLogo:SetRGBFromInt( f7_local0 )
			end
		end
	end )
end

function CodcasterRoundEndTeamInfo( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 850 * _1080p, 0, 600 * _1080p )
	self.id = "CodcasterRoundEndTeamInfo"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local TeamRegion = nil
	
	TeamRegion = LUI.UIText.new()
	TeamRegion.id = "TeamRegion"
	TeamRegion:setText( "", 0 )
	TeamRegion:SetFont( FONTS.GetFont( FONTS.Abolition.File ) )
	TeamRegion:SetFontSize( 48 * _PT )
	TeamRegion:SetMinFontSize( 48 * _PT )
	TeamRegion:SetWordWrap( false )
	TeamRegion:SetTracking( 2 * _1080p, 0 )
	TeamRegion:SetAlignment( LUI.Alignment.Center )
	TeamRegion:SetVerticalAlignment( LUI.Alignment.Bottom )
	TeamRegion:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -425, _1080p * 48, _1080p * 129, _1080p * 188 )
	self:addElement( TeamRegion )
	self.TeamRegion = TeamRegion
	
	local TeamName = nil
	
	TeamName = LUI.UIStyledText.new()
	TeamName.id = "TeamName"
	TeamName:setText( "", 0 )
	TeamName:SetFont( FONTS.GetFont( FONTS.Abolition.File ) )
	TeamName:SetFontSize( 80 * _PT )
	TeamName:SetMinFontSize( 80 * _PT )
	TeamName:SetWordWrap( false )
	TeamName:SetTracking( 2 * _1080p, 0 )
	TeamName:SetAlignment( LUI.Alignment.Center )
	TeamName:SetEllipsesEnabled( true )
	TeamName:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -425, _1080p * 48, _1080p * 170, _1080p * 280 )
	self:addElement( TeamName )
	self.TeamName = TeamName
	
	local TeamLogo = nil
	
	TeamLogo = LUI.UIImage.new()
	TeamLogo.id = "TeamLogo"
	TeamLogo:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -401, _1080p * 23, _1080p * -300, _1080p * 124 )
	self:addElement( TeamLogo )
	self.TeamLogo = TeamLogo
	
	local ScoreBG = nil
	
	ScoreBG = LUI.UIImage.new()
	ScoreBG.id = "ScoreBG"
	ScoreBG:SetAlpha( 0, 0 )
	ScoreBG:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 60, _1080p * 411, _1080p * -270, _1080p * 97 )
	self:addElement( ScoreBG )
	self.ScoreBG = ScoreBG
	
	local TeamScore = nil
	
	TeamScore = LUI.UIText.new()
	TeamScore.id = "TeamScore"
	TeamScore:setText( Engine[0xED84C33EC5F01EA]( "CODCASTER/AN_CALLED_A_SCORESTREAK" ), 0 )
	TeamScore:SetFont( FONTS.GetFont( FONTS.Abolition.File ) )
	TeamScore:SetFontSize( 275 * _PT )
	TeamScore:SetMinFontSize( 275 * _PT )
	TeamScore:SetWordWrap( false )
	TeamScore:SetAlignment( LUI.Alignment.Center )
	TeamScore:SetVerticalAlignment( LUI.Alignment.Center )
	TeamScore:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 60, _1080p * 411, _1080p * -276, _1080p * 102 )
	self:addElement( TeamScore )
	self.TeamScore = TeamScore
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local8 = nil
	ScoreBG:RegisterAnimationSequence( "AddScore", {
		{
			value = 0,
			duration = 1760,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 1770,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -88
		},
		{
			duration = 1770,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -85
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 97
		},
		{
			duration = 50,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -270
		}
	} )
	TeamScore:RegisterAnimationSequence( "AddScore", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 16777215,
			duration = 1500,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 1,
			duration = 1500,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 16777215,
			duration = 260,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = -58,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha,
			onComplete = PackedFunctionWrapper( {
				element = self
			}, f0_local0 )
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 1,
			duration = -58,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.AddScore = function ()
		menu:AnimateSequence( "AddScore" )
		menu:AnimateSequence( "AddScore" )
	end
	
	self._sequenceLengths.AddScore = 1840
	local f1_local9 = nil
	TeamRegion:RegisterAnimationSequence( "IntroLeftTeam", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -425
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 48
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 4030,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamName:RegisterAnimationSequence( "IntroLeftTeam", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -425
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 48
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 3790,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 240,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamLogo:RegisterAnimationSequence( "IntroLeftTeam", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -400
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 24
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 3870,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -300
		},
		{
			duration = 3870,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 124
		},
		{
			value = 0,
			duration = 3790,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 3870,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -400
		},
		{
			duration = 3870,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 24
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 60,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 30,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -470
		},
		{
			value = 0,
			duration = 30,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 30,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -46
		},
		{
			duration = 30,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -62
		},
		{
			duration = 30,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -486
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 60,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -46
		},
		{
			duration = 60,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -486
		},
		{
			duration = 60,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -62
		},
		{
			duration = 60,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -470
		},
		{
			duration = 10,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 24
		},
		{
			duration = 10,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -300
		},
		{
			duration = 10,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 124
		},
		{
			duration = 10,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -400
		}
	} )
	ScoreBG:RegisterAnimationSequence( "IntroLeftTeam", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 60
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 411
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -270
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 97
		}
	} )
	TeamScore:RegisterAnimationSequence( "IntroLeftTeam", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 60
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 411
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 0,
			duration = 3900,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 30,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.IntroLeftTeam = function ()
		menu:AnimateSequence( "IntroLeftTeam" )
		menu:AnimateSequence( "IntroLeftTeam" )
		menu:AnimateSequence( "IntroLeftTeam" )
		menu:AnimateSequence( "IntroLeftTeam" )
		menu:AnimateSequence( "IntroLeftTeam" )
	end
	
	self._sequenceLengths.IntroLeftTeam = 4050
	local f1_local10 = nil
	TeamRegion:RegisterAnimationSequence( "IntroRightTeam", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -48
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 425
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 4030,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamName:RegisterAnimationSequence( "IntroRightTeam", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -48
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 425
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 4030,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TeamLogo:RegisterAnimationSequence( "IntroRightTeam", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -24
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 400
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 3870,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 124
		},
		{
			duration = 3870,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -300
		},
		{
			value = 0,
			duration = 3790,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 3870,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 400
		},
		{
			duration = 3870,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -24
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 60,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 30,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 294
		},
		{
			duration = 30,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 482
		},
		{
			value = 0,
			duration = 30,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 30,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 58
		},
		{
			duration = 30,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -130
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 60,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 294
		},
		{
			duration = 60,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -130
		},
		{
			duration = 60,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 482
		},
		{
			duration = 60,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 58
		},
		{
			duration = 10,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 400
		},
		{
			duration = 10,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 124
		},
		{
			duration = 10,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -24
		},
		{
			duration = 10,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -300
		}
	} )
	ScoreBG:RegisterAnimationSequence( "IntroRightTeam", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -411
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -60
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 97
		}
	} )
	TeamScore:RegisterAnimationSequence( "IntroRightTeam", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -411
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -60
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 0,
			duration = 3900,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 50,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 30,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.IntroRightTeam = function ()
		menu:AnimateSequence( "IntroRightTeam" )
		menu:AnimateSequence( "IntroRightTeam" )
		menu:AnimateSequence( "IntroRightTeam" )
		menu:AnimateSequence( "IntroRightTeam" )
		menu:AnimateSequence( "IntroRightTeam" )
	end
	
	self._sequenceLengths.IntroRightTeam = 4050
	if not CODCASTER_CONDITIONS.IsCDLClient() then
		ACTIONS.SetFontSize( self.TeamScore, 180 )
		ACTIONS.SetFont( self.TeamScore, FONTS.MainBold )
	end
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "CodcasterRoundEndTeamInfo", CodcasterRoundEndTeamInfo )
LockTable( _M )
