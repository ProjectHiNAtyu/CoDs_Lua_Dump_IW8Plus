-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
module( ..., package.seeall )
local f0_local0 = function ( f9_arg0, f9_arg1, f9_arg2 )
	local f9_local0 = MenuBuilder.BuildRegisteredType( "BarracksChallengeItem", {
		controllerIndex = f9_arg1
	} )
	f9_local0:Setup( f9_arg0, f9_arg2, Challenge.ChallengeItemType.NORMAL )
	return f9_local0
end

local f0_local1 = function ( f8_arg0, f8_arg1 )
	if f8_arg0._displayGameMode then
		if f8_arg0._displayGameMode == "CP" then
			return Challenge.GetCPDailyChallenges( f8_arg1 )
		elseif f8_arg0._displayGameMode == "BR" then
			return Challenge.GetBRDailyChallenges( f8_arg1 )
		else
			return Challenge.GetDailyChallenges( f8_arg1 )
		end
	elseif CONDITIONS.IsThirdGameMode() then
		return Challenge.GetCPDailyChallenges( f8_arg1 )
	elseif CONDITIONS.IsMagmaGameMode() then
		return Challenge.GetBRDailyChallenges( f8_arg1 )
	else
		return Challenge.GetDailyChallenges( f8_arg1 )
	end
end

local f0_local2 = function ( f7_arg0 )
	if f7_arg0._displayGameMode then
		if f7_arg0._displayGameMode == "CP" then
			return Challenge.BonusType.CP
		elseif f7_arg0._displayGameMode == "BR" then
			return Challenge.BonusType.BR
		else
			return Challenge.BonusType.CORE
		end
	elseif CONDITIONS.IsThirdGameMode() then
		return Challenge.BonusType.CP
	elseif CONDITIONS.IsMagmaGameMode() then
		return Challenge.BonusType.BR
	else
		return Challenge.BonusType.CORE
	end
end

local f0_local3 = function ( f5_arg0, f5_arg1 )
	if not f5_arg0._coreChallenges or #f5_arg0._coreChallenges == 0 then
		
	end
	if not (not CONDITIONS.IsThirdGameMode() or f5_arg0._displayGameMode) or f5_arg0._displayGameMode == "CP" then
		table.sort( f5_arg0._coreChallenges, function ( f6_arg0, f6_arg1 )
			return tonumber( f6_arg0.category ) < tonumber( f6_arg1.category )
		end )
	end
	for f5_local3, f5_local4 in ipairs( f5_arg0._coreChallenges ) do
		f5_arg0:addElement( f0_local0( f5_arg0, f5_arg1, f5_local4 ) )
	end
	f5_local0 = f0_local0( f5_arg0 )
	f5_arg0.BonusItem = Challenge.CreateBonusChallengeButton( f5_arg0, f5_arg1, f5_local0, Challenge.ChallengeItemType.BONUS )
	f5_arg0.AdditionalBonusItem = Challenge.CreateBonusChallengeButton( f5_arg0, f5_arg1, f5_local0, Challenge.ChallengeItemType.ADDITIONAL_BONUS )
	if f5_arg0.BonusItem and (f5_arg0.AdditionalBonusItem or f5_arg0.BonusItem._challenge.isComplete) then
		if f5_arg0.BonusItem then
			f5_arg0:addElement( f5_arg0.BonusItem )
		end
		if f5_arg0.AdditionalBonusItem then
			f5_arg0:addElement( f5_arg0.AdditionalBonusItem )
		end
		f5_arg0:dispatchEventToRoot( {
			name = "bonus_challenge_setup_complete"
		} )
	else
		if f5_arg0.BonusItem then
			f5_arg0.BonusItem:closeTree()
			f5_arg0.BonusItem = nil
		end
		if f5_arg0.AdditionalBonusItem then
			f5_arg0.AdditionalBonusItem:closeTree()
			f5_arg0.AdditionalBonusItem = nil
		end
	end
end

local f0_local4 = function ( f4_arg0, f4_arg1, f4_arg2 )
	local f4_local0
	if f4_arg2 then
		f4_local0 = f4_arg2.displayGameMode
		if not f4_local0 then
		
		else
			f4_arg0._displayGameMode = f4_local0
			f4_arg0._coreChallenges = f0_local0( f4_arg0, f4_arg1 )
			local f4_local1 = {
				isComplete = true,
				amountNeeded = "10",
				progress = 1,
				unlocked = true,
				desc = 0xCA07A93FADF9E95,
				xp = "10400",
				ref = "ch_op_sniper_headshot",
				id = 4132,
				amountEarned = "0",
				type = AEKinds.IW9_AE_KIND_DAILY.ID
			}
			local f4_local2 = {
				isComplete = false,
				amountNeeded = "10",
				progress = 5.29462817E-315,
				unlocked = true,
				desc = 0xCA07A93FADF9E95,
				xp = "20500",
				ref = "ch_op_sniper_headshot",
				id = 4132,
				amountEarned = "5",
				type = AEKinds.IW9_AE_KIND_DAILY.ID
			}
			if f4_arg0._coreChallenges and 0 < #f4_arg0._coreChallenges then
				f0_local0( f4_arg0, f4_arg1 )
			end
		end
	end
	f4_local0 = nil
end

local f0_local5 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.Setup = f0_local0
	f2_arg0:addEventHandler( "new_daily_challenges", function ( f3_arg0, f3_arg1 )
		f2_arg0._coreChallenges = Challenge.GetDailyChallenges( f2_arg0 )
		f2_arg0( f3_arg0, f2_arg0 )
	end )
end

function ChallengesDailyLayout( menu, controller )
	local self = LUI.UIVerticalStackedLayout.new()
	self:SetVerticalAlignment( LUI.Alignment.Top )
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 424 * _1080p, 0, 384 * _1080p )
	self.id = "ChallengesDailyLayout"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f0_local0( self, LUI.ValidateControllerIndex( self, f1_local1 ), controller )
	return self
end

MenuBuilder.registerType( "ChallengesDailyLayout", ChallengesDailyLayout )
LockTable( _M )
