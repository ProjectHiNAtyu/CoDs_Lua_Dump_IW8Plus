-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
module( ..., package.seeall )
local f0_local0 = {
	{
		icon = "icon_mp_mode_ffa",
		name = "GAME/LAUNCH_PHASE_1",
		desc = "GAME/LAUNCH_PHASE_1_DESC"
	},
	{
		icon = "icon_mp_mode_arena",
		name = "GAME/LAUNCH_PHASE_2",
		desc = "GAME/LAUNCH_PHASE_2_DESC"
	},
	{
		icon = "icon_mp_mode_arena",
		name = "GAME/LAUNCH_PHASE_3",
		desc = "GAME/LAUNCH_PHASE_3_DESC"
	},
	{
		icon = "icon_mp_mode_conf",
		name = "GAME/LAUNCH_PHASE_4",
		desc = "GAME/LAUNCH_PHASE_4_DESC"
	}
}
local f0_local1 = function ( f11_arg0, f11_arg1 )
	assert( f11_arg1 )
	local f11_local0 = assert
	local f11_local1 = f11_arg0.Icon
	if f11_local1 then
		f11_local1 = f11_arg0.ModeText and f11_arg0.DescriptionText
	end
	f11_local0( f11_local1, "Warning: Elements missing from LaunchChunkNewPhasePopup..." )
	if f11_arg0._currentPhase ~= f11_arg1 then
		f11_arg0._currentPhase = f11_arg1
		if #f0_local0 < f11_arg1 then
			ACTIONS.AnimateSequence( f11_arg0, "ShowMessage" )
		elseif f11_arg1 ~= 0 then
			f11_local0 = f0_local0[f11_arg1]
			f11_arg0.ModeText:setText( Engine.CBBHFCGDIC( f11_local0.name ) )
			f11_arg0.DescriptionText:setText( Engine.CBBHFCGDIC( f11_local0.desc ) )
			f11_arg0.Icon:setImage( RegisterMaterial( f11_local0.icon ) )
		end
	end
end

local f0_local2 = function ( f7_arg0, f7_arg1, f7_arg2 )
	f7_arg0._currentPhase = nil
	f7_arg0.SetupPhase = f0_local0
	f7_arg0:registerOmnvarHandler( "ui_launch_chunk_phase", function ( f10_arg0, f10_arg1 )
		f10_arg0:SetupPhase( f10_arg1.value )
	end )
	f7_arg0:SetupPhase( Game.BFEEGCHICA( f7_arg1, "ui_launch_chunk_phase" ) )
	f7_arg0._allowInput = false
	local f7_local0 = f7_arg0:Wait( 3000 )
	f7_local0.onComplete = function ()
		f7_arg0._allowInput = true
	end
	
	f7_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		if event.button == "primary" and f7_arg0._allowInput then
			Engine.EBHIFJCGBH( "class_select", f7_arg0 )
			LUI.FlowManager.RequestLeaveMenu( element )
		end
	end )
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f7_arg0, "AR" )
	end
end

function LaunchChunkNewPhasePopup( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "LaunchChunkNewPhasePopup"
	self._animationSets = {}
	self._sequences = {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	Darkener:SetRGBFromInt( 0, 0 )
	Darkener:SetAlpha( 0.7, 0 )
	Darkener:SetScale( 1, 0 )
	Darkener:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * 480, _1080p * -480, _1080p * 269, _1080p * -270 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	local GenericPopupWindow = nil
	
	GenericPopupWindow = MenuBuilder.BuildRegisteredType( "GenericPopupWindow", {
		controllerIndex = f1_local1
	} )
	GenericPopupWindow.id = "GenericPopupWindow"
	GenericPopupWindow:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -870, _1080p * 870, _1080p * -200, _1080p * 200 )
	self:addElement( GenericPopupWindow )
	self.GenericPopupWindow = GenericPopupWindow
	
	local SelectButtonHint = nil
	
	SelectButtonHint = LUI.UIStyledText.new()
	SelectButtonHint.id = "SelectButtonHint"
	SelectButtonHint:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	SelectButtonHint:SetAlpha( 0, 0 )
	SelectButtonHint:setText( Engine.CBBHFCGDIC( "GAME/LAUNCH_START_MATCH" ), 0 )
	SelectButtonHint:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	SelectButtonHint:SetWordWrap( false )
	SelectButtonHint:SetAlignment( LUI.Alignment.Center )
	SelectButtonHint:SetTintFontIcons( true )
	SelectButtonHint:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -250, _1080p * 250, _1080p * 125, _1080p * 147 )
	self:addElement( SelectButtonHint )
	self.SelectButtonHint = SelectButtonHint
	
	local TitleText = nil
	
	TitleText = LUI.UIStyledText.new()
	TitleText.id = "TitleText"
	TitleText:SetRGBFromTable( SWATCHES.Popups.titleTxt, 0 )
	TitleText:setText( ToUpperCase( Engine.CBBHFCGDIC( "GAME/NEXT_MATCH" ) ), 0 )
	TitleText:SetFont( FONTS.GetFont( FONTS.MainLight.File ) )
	TitleText:SetAlignment( LUI.Alignment.Center )
	TitleText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -850, _1080p * 850, _1080p * -180, _1080p * -120 )
	self:addElement( TitleText )
	self.TitleText = TitleText
	
	local Icon = nil
	
	Icon = LUI.UIImage.new()
	Icon.id = "Icon"
	Icon:setImage( RegisterMaterial( "icon_mp_mode_conf" ), 0 )
	Icon:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -294, _1080p * -166, _1080p * -74, _1080p * 54 )
	self:addElement( Icon )
	self.Icon = Icon
	
	local OperationText = nil
	
	OperationText = LUI.UIStyledText.new()
	OperationText.id = "OperationText"
	OperationText:SetRGBFromTable( SWATCHES.Popups.headerTxt, 0 )
	OperationText:setText( Engine.CBBHFCGDIC( "GAME/OPERATION" ), 0 )
	OperationText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	OperationText:SetAlignment( LUI.Alignment.Left )
	OperationText:SetOptOutRightToLeftAlignmentFlip( true )
	OperationText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -144, _1080p * 356, _1080p * -78, _1080p * -50 )
	self:addElement( OperationText )
	self.OperationText = OperationText
	
	local DescriptionText = nil
	
	DescriptionText = LUI.UIStyledText.new()
	DescriptionText.id = "DescriptionText"
	DescriptionText:SetRGBFromTable( SWATCHES.Popups.bodyTxt, 0 )
	DescriptionText:setText( "", 0 )
	DescriptionText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	DescriptionText:SetAlignment( LUI.Alignment.Left )
	DescriptionText:SetOptOutRightToLeftAlignmentFlip( true )
	DescriptionText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -144, _1080p * 516, 0, _1080p * 28 )
	self:addElement( DescriptionText )
	self.DescriptionText = DescriptionText
	
	local ModeText = nil
	
	ModeText = LUI.UIStyledText.new()
	ModeText.id = "ModeText"
	ModeText:SetRGBFromTable( SWATCHES.Popups.subHeaderTxt2, 0 )
	ModeText:setText( "", 0 )
	ModeText:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	ModeText:SetWordWrap( false )
	ModeText:SetAlignment( LUI.Alignment.Left )
	ModeText:SetOptOutRightToLeftAlignmentFlip( true )
	ModeText:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollH )
	ModeText:SetStartupDelay( 1000 )
	ModeText:SetLineHoldTime( 400 )
	ModeText:SetAnimMoveTime( 150 )
	ModeText:SetAnimMoveSpeed( 50 )
	ModeText:SetEndDelay( 1000 )
	ModeText:SetCrossfadeTime( 400 )
	ModeText:SetFadeInTime( 300 )
	ModeText:SetFadeOutTime( 300 )
	ModeText:SetMaxVisibleLines( 1 )
	ModeText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -144, _1080p * 516, _1080p * -50, 0 )
	self:addElement( ModeText )
	self.ModeText = ModeText
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	SelectButtonHint:RegisterAnimationSequence( "ShowMessage", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 400,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.outQuadratic
		}
	} )
	self._sequences.ShowMessage = function ()
		menu:AnimateSequence( "ShowMessage" )
	end
	
	SelectButtonHint:RegisterAnimationSequence( "HideMessage", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideMessage = function ()
		menu:AnimateSequence( "HideMessage" )
	end
	
	OperationText:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -88
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -52
		}
	} )
	DescriptionText:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 4
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 40
		}
	} )
	self._sequences.AR = function ()
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
	end
	
	Darkener:addEventHandler( "menu_create", function ( f2_arg0, f2_arg1 )
		local f2_local0 = f2_arg1.controller or menu
		ACTIONS.ScaleFullscreen( menu )
	end )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "LaunchChunkNewPhasePopup", LaunchChunkNewPhasePopup )
LockTable( _M )
