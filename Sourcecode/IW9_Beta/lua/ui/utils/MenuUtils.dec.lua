-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
MenuUtils = MenuUtils or {}
MenuUtils.MenusBlockingConnectionPopups = {
	nil,
	"popup_leave_game",
	"leave_public_mp_lobby",
	"leave_private_mp_lobby",
	"MPPauseMenu",
	"splash_screens"
}
MenuUtils.FENCEDLCTIMER = 5000
MenuUtils.AddDismissPauseMenuKBMHandler = function ( f62_arg0 )
	f62_arg0:addEventHandler( "gamepad_button", function ( f63_arg0, f63_arg1 )
		if f63_arg1.down and f63_arg1.button == "menu_dismiss" and not Engine[0x12586A3F4FB490E]() then
			if Engine[0x74423E76DECE3E4]() then
				ACTIONS.ResumeGame( f63_arg0 )
			end
			local f63_local0 = Engine[0xEE6F69FEA944B13]()
			f63_local0 = f63_local0.flowManager:GetStackTop()
			LUI.FlowManager.RequestCloseAllMenus( f63_local0.name, true, f63_arg1.controller )
			return true
		else
			return false
		end
	end )
end

MenuUtils.CanShowConnectionPopups = function ()
	local f61_local0 = true
	local f61_local1 = Engine[0xEE6F69FEA944B13]()
	f61_local1 = f61_local1.flowManager:GetStackTop()
	if f61_local1 then
		for f61_local5, f61_local6 in ipairs( MenuUtils.MenusBlockingConnectionPopups ) do
			if f61_local6 == f61_local1.name then
				f61_local0 = false
				break
			end
		end
	end
	return f61_local0
end

MenuUtils.OrdinalText = {
	nil,
	0x73710B66909E4A,
	0xBC657A4FC8FCCB8,
	0x5085F3D8033024D,
	0xA827A6109355274
}
MenuUtils.OrdinalTextFem = {
	nil,
	0xFBD17B950703E5,
	0x92702C17B54165B,
	0x645C0CE45658406,
	0x8B54BB7C92EFEC7
}
MenuUtils.GetOrdinalPlacment = function ( f60_arg0 )
	local f60_local0 = ""
	if f60_arg0 % 100 == 11 or f60_arg0 % 100 == 12 or f60_arg0 % 100 == 13 then
		f60_local0 = 0xA827A6109355274
	else
		local f60_local1 = MenuUtils.OrdinalText[f60_arg0 % 10]
		if not f60_local1 then
			f60_local0 = f60_local1
		else
			f60_local0 = 0xA827A6109355274
		end
	end
	return Engine[0xED84C33EC5F01EA]( f60_local0, f60_arg0 )
end

MenuUtils.GetOrdinalNumber = function ( f59_arg0, f59_arg1 )
	local f59_local0
	if f59_arg1 then
		f59_local0 = MenuUtils.OrdinalTextFem
		if not f59_local0 then
		
		else
			local f59_local1 = f59_local0[f59_arg0]
			if not f59_local1 then
				f59_local1 = f59_local0[4]
			end
			return f59_local1
		end
	end
	f59_local0 = MenuUtils.OrdinalText
end

MenuUtils.SetupSceneChangeCallback = function ( f57_arg0, f57_arg1 )
	local f57_local0 = assert
	local f57_local1
	if f57_arg1 then
		f57_local1 = f57_arg1
	else
		f57_local1 = type( f57_arg1 ) == "function"
	end
	f57_local0( f57_local1 )
	f57_arg0._sceneTimer = LUI.UITimer.new( {
		interval = 50,
		event = "check_scene_transition"
	} )
	f57_arg0:addElement( f57_arg0._sceneTimer )
	f57_arg0:registerEventHandler( "check_scene_transition", function ( element, event )
		if #Dvar[0x54084D7CA2317BB]( 0x8CC749B90DD2705 ) == 0 and Engine[0x283B38F2501D924]() then
			element._sceneTimer:closeTree()
			element._sceneTimer = nil
			f57_arg0()
		end
		return true
	end )
end

MenuUtils.WaitForEntitySystem = function ( f55_arg0, f55_arg1 )
	local f55_local0 = assert
	local f55_local1
	if f55_arg1 then
		f55_local1 = f55_arg1
	else
		f55_local1 = type( f55_arg1 ) == "function"
	end
	f55_local0( f55_local1 )
	f55_arg0._entitySystemTimer = LUI.UITimer.new( {
		interval = -28,
		event = "check_entity_system_allocated"
	} )
	f55_arg0:addElement( f55_arg0._entitySystemTimer )
	f55_arg0:registerEventHandler( "check_entity_system_allocated", function ( element, event )
		if Engine[0x283B38F2501D924]() and element._entitySystemTimer then
			element._entitySystemTimer:closeTree()
			element._entitySystemTimer = nil
			f55_arg0()
		end
		return true
	end )
end

MenuUtils.GetMainMenu = function ()
	if Engine[0xCA085C21FCBD7CA]() then
		return "CPMainMenu"
	elseif Engine[0xD151EC5B41223B5]() then
		if Engine[0x220CB915CEFC1FE]() then
			return "BRMainMenu"
		else
			return "MPMainMenu"
		end
	else
		return "MainMeu"
	end
end

MenuUtils.SortViaFunctions = function ( f53_arg0, f53_arg1 )
	for f53_local3, f53_local4 in ipairs( MenuUtils._options ) do
		local f53_local5 = f53_local4.sortFunc( f53_arg0, f53_arg1, f53_local4.sortFuncParams )
		if f53_local5 ~= nil then
			return f53_local5
		end
	end
	return false
end

MenuUtils.SortNoneValue = function ( f52_arg0, f52_arg1, f52_arg2 )
	assert( f52_arg0.ref )
	assert( f52_arg1.ref )
	assert( type( f52_arg2 ) == "table" )
	assert( f52_arg2.noneValue )
	if f52_arg0.ref ~= f52_arg2.noneValue and f52_arg1.ref == f52_arg2.noneValue then
		return false
	elseif f52_arg0.ref == f52_arg2.noneValue and f52_arg1.ref ~= f52_arg2.noneValue then
		return true
	else
		return nil
	end
end

MenuUtils.SortFavorites = function ( f51_arg0, f51_arg1, f51_arg2 )
	assert( f51_arg0.ref )
	assert( f51_arg1.ref )
	assert( type( f51_arg2 ) == "table" )
	assert( type( f51_arg2.favoritesTable ) == "table" )
	if f51_arg2.favoritesTable[f51_arg0.ref] ~= f51_arg2.favoritesTable[f51_arg1.ref] then
		local f51_local0 = f51_arg2.favoritesTable[f51_arg0.ref]
		if f51_local0 then
			f51_local0 = not f51_arg2.favoritesTable[f51_arg1.ref]
		end
		return f51_local0
	else
		return nil
	end
end

MenuUtils.SortNew = function ( f50_arg0, f50_arg1, f50_arg2 )
	assert( f50_arg0.lootID )
	assert( f50_arg1.lootID )
	assert( type( f50_arg2 ) == "table" )
	assert( f50_arg2.controllerIndex )
	local f50_local0 = Loot[0xB853FAE9166621]( f50_arg2.controllerIndex, f50_arg0.lootID )
	local f50_local1 = Loot[0xB853FAE9166621]( f50_arg2.controllerIndex, f50_arg1.lootID )
	if f50_local0 ~= f50_local1 then
		local f50_local2
		if f50_local0 then
			f50_local2 = f50_local0
		else
			f50_local2 = not f50_local1
		end
		return f50_local2
	else
		return nil
	end
end

MenuUtils.SortUnlocks = function ( f49_arg0, f49_arg1 )
	assert( f49_arg0.isUnlocked )
	assert( f49_arg1.isUnlocked )
	if f49_arg0.isUnlocked ~= f49_arg1.isUnlocked then
		local f49_local0 = f49_arg0.isUnlocked
		if f49_local0 then
			f49_local0 = not f49_arg1.isUnlocked
		end
		return f49_local0
	else
		return nil
	end
end

MenuUtils.SortSeasons = function ( f48_arg0, f48_arg1, f48_arg2 )
	assert( f48_arg0.season )
	assert( f48_arg1.season )
	assert( type( f48_arg2 ) == "table" )
	assert( f48_arg2.seasonsSortingType )
	if f48_arg0.season ~= f48_arg1.season then
		if f48_arg2.seasonsSortingType == LOOT.seasonsSortingOptions.OLD_FIRST then
			return f48_arg0.season < f48_arg1.season
		elseif f48_arg2.seasonsSortingType == LOOT.seasonsSortingOptions.RECENT_FIRST then
			return f48_arg1.season < f48_arg0.season
		end
	end
	return nil
end

MenuUtils.SortRarity = function ( f47_arg0, f47_arg1, f47_arg2 )
	assert( f47_arg0.rarity )
	assert( f47_arg1.rarity )
	assert( type( f47_arg2 ) == "table" )
	assert( f47_arg2.raritySortingType )
	if f47_arg0.rarity ~= f47_arg1.rarity then
		if f47_arg2.raritySortingType == LOOT.raritySortingOptions.LOW_FIRST then
			return f47_arg0.rarity < f47_arg1.rarity
		elseif f47_arg2.raritySortingType == LOOT.raritySortingOptions.HIGH_FIRST then
			return f47_arg1.rarity < f47_arg0.rarity
		end
	end
	return nil
end

MenuUtils.SortName = function ( f46_arg0, f46_arg1 )
	assert( f46_arg0.name )
	assert( f46_arg1.name )
	local f46_local0 = Engine[0xED84C33EC5F01EA]( f46_arg0.name )
	local f46_local1 = Engine[0xED84C33EC5F01EA]( f46_arg1.name )
	if f46_local0 ~= f46_local1 then
		return f46_local0 < f46_local1
	else
		return nil
	end
end

MenuUtils.SortTableViaOptions = function ( f45_arg0, f45_arg1 )
	assert( type( f45_arg0 ) == "table" )
	assert( type( f45_arg1 ) == "table" )
	assert( MenuUtils._options == nil )
	MenuUtils._options = f45_arg1
	table.sort( f45_arg0, MenuUtils.SortViaFunctions )
	MenuUtils._options = nil
end

MenuUtils.SetupSubMenuTab = function ( f14_arg0, f14_arg1, f14_arg2 )
	local f14_local0 = function ( f44_arg0, f44_arg1 )
		local f44_local0 = f44_arg0._isRestricted or false
		local f44_local1 = f44_arg0.NewItemSmallIcon
		local f44_local2 = f44_local1
		f44_local1 = f44_local1.UpdateAlpha
		local f44_local3
		if f44_arg1 and not f44_local0 then
			f44_local3 = 1
		else
			f44_local3 = 0
		end
		f44_local1( f44_local2, f44_local3 )
	end
	
	local f14_local1 = function ( f43_arg0, f43_arg1 )
		if not f43_arg0.Banner then
			local f43_local0 = nil
			f43_local0 = MenuBuilder.BuildRegisteredType( "BattlePassFreeBanner", {
				controllerIndex = f43_arg0._controllerIndex
			} )
			f43_local0.id = "Banner"
			f43_local0:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, 0, _1080p * 24 )
			f43_local0:setPriority( -1 )
			f43_local0:SetAlpha( 1 )
			f43_arg0:addElement( f43_local0 )
			f43_arg0.Banner = f43_local0
		end
		f43_arg0.Banner:SetText( f43_arg1 )
	end
	
	local f14_local2 = nil
	f14_local2 = function ( f41_arg0, f41_arg1, f41_arg2 )
		if not f41_arg1 or #f41_arg1 <= 0 then
			
		end
		local f41_local0 = f41_arg0.Banner:Wait( 250, true )
		f41_local0.onComplete = function ()
			if LUI.FlowManager.IsMenuOnTop( f41_arg0 ) then
				f41_arg0()
			else
				f41_arg0( f41_arg0, f41_arg0, f41_arg0 )
			end
		end
		
	end
	
	local f14_local3 = function ( f38_arg0, f38_arg1 )
		f14_arg0( f38_arg0, Engine[0xED84C33EC5F01EA]( 0x1580AC0D78CF1C9 ) )
		f38_arg0.Banner.FreeText:SetTracking( 0 * _1080p, 0 )
		if f38_arg1 then
			f38_arg0.Banner:SetAlpha( 1 )
			ACTIONS.AnimateSequence( f38_arg0.Banner, "FreeBundleVariant" )
			if Dvar[0x9E5BE3B4BBA4E0E]( 0x21761462AFB421E ) then
				local f38_local0 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.storeTabFreeBundleVisibilitySeen" )
				if not f38_local0:GetValue( f38_arg0._controllerIndex ) then
					f38_arg0.Banner:SetAlpha( 0 )
					f38_arg0:addEventHandler( "menu_create", function ( f39_arg0, f39_arg1 )
						local f39_local0
						if f39_arg0:GetCurrentMenu() then
							f39_local0 = f39_arg0:GetCurrentMenu()
							f39_local0 = f39_local0.id
							if not f39_local0 then
							
							else
								f38_arg0( f38_arg0, f39_local0, function ()
									f39_arg0.Banner:SetAlpha( 1 )
									Engine[0xC4146BA76D0F982]( SOUND_SETS.mpMainMenu.freeBannerSplash )
									ACTIONS.AnimateSequence( f39_arg0.Banner, "Splash" )
									f39_arg0:SetValue( f39_arg0._controllerIndex, true )
								end )
							end
						end
						f39_local0 = ""
					end )
				end
				if not f38_arg0._isFreeItem then
					ACTIONS.AnimateSequence( f38_arg0, "FreeBundleTabUp" )
				end
				f38_arg0._isFreeItem = true
			end
		else
			f38_arg0.Banner:SetAlpha( 0 )
		end
	end
	
	local f14_local4 = function ( f36_arg0, f36_arg1 )
		f14_arg0( f36_arg0, "" )
		local f36_local0 = nil
		local f36_local1 = function ()
			local f37_local0, f37_local1, f37_local2 = STORE.GetCategoryTimeLeft( nil, f36_arg0 )
			if 0 < f37_local0 then
				f36_arg0.Banner:SetText( f37_local1, true )
				f36_arg0.Banner:SetAlpha( 1 )
				local f37_local3 = f36_arg0.Banner:Wait( 1000, true )
				f37_local3.onComplete = f36_arg0
				if f37_local0 < STORE.LimitedTimeWarningThreshold then
					ACTIONS.AnimateSequence( f36_arg0.Banner, "LimitedTimeWarningVariant" )
				else
					ACTIONS.AnimateSequence( f36_arg0.Banner, "LimitedTimeVariant" )
				end
			else
				f36_arg0.Banner:SetText( "" )
				f36_arg0.Banner:SetAlpha( 0 )
			end
		end
		
		f36_local1()
	end
	
	local f14_local5 = function ( f35_arg0 )
		f14_arg0( f35_arg0, Engine[0xED84C33EC5F01EA]( 0xAA9D4A70FC2AF79, SEASON.GetCurrentSeason() ) )
		ACTIONS.AnimateSequence( f35_arg0.Banner, "SeasonVariant" )
	end
	
	local f14_local6 = function ( f34_arg0 )
		f14_arg0( f34_arg0, Engine[0xED84C33EC5F01EA]( 0xBAFF02F27ED86CA ) )
		ACTIONS.AnimateSequence( f34_arg0.Banner, "Zeus" )
	end
	
	local f14_local7 = function ( f31_arg0, f31_arg1, f31_arg2 )
		assert( f31_arg1 )
		if not f31_arg1 then
			
		else
			
		end
		local f31_local0 = f31_arg1 - Engine[0xF16311E3FCA3DCF]()
		local f31_local1 = 86400
		local f31_local2 = "promo_tab_timer"
		if f31_local0 <= 0 then
			
		else
			
		end
		f14_arg0( f31_arg0, "" )
		f31_arg0._promoTimer = LUI.UITimer.new( {
			interval = 1000,
			event = f31_local2
		} )
		f31_arg0._promoTimer.id = "PromoTabTimer"
		f31_arg0:addElement( f31_arg0._promoTimer )
		f31_arg0.Banner.Shine:SetAlpha( 0.5 )
		ACTIONS.AnimateSequence( f31_arg0.Banner, "GlintSlow" )
		local f31_local3 = function ()
			if f31_arg0 then
				local f33_local0
				if CONDITIONS.IsTierSaleEnabled() then
					f33_local0 = not BATTLEPASS.IsOwned( f31_arg0._controllerIndex )
				else
					f33_local0 = true
				end
				return f33_local0
			else
				local f33_local0
				if BATTLEPASS.IsTierSkipGiftActive( f31_arg0._controllerIndex ) then
					f33_local0 = BATTLEPASS.IsOwned( f31_arg0._controllerIndex )
				else
					f33_local0 = true
				end
			end
			return f33_local0
		end
		
		f31_arg0:addAndCallEventHandler( f31_local2, function ( f32_arg0, f32_arg1 )
			f31_arg0 = Engine[0xF16311E3FCA3DCF]()
			f31_arg0 = f31_arg0 - f31_arg0
			if f31_arg0 <= 0 or f31_arg0() then
				if f31_arg0._promoTimer then
					f31_arg0._promoTimer:closeTree()
					f31_arg0._promoTimer = nil
				end
				if f31_arg0._isBattlePassTab then
					ACTIONS.AnimateSequence( f31_arg0.Banner, "StopGlint" )
					f31_arg0:SetSeasonBanner()
				else
					f31_arg0.Banner:SetAlpha( 0 )
				end
			else
				f31_arg0.Banner:SetText( Engine[0xED84C33EC5F01EA]( f31_arg0 and 0xE80981DD5B16084 or 0xC9C1C5B452AACCD ) )
				ACTIONS.AnimateSequence( f31_arg0.Banner, "TabSizeSetup" )
				if f31_arg0 < f31_arg0 then
					ACTIONS.AnimateSequence( f31_arg0.Banner, "TierSaleVariant" )
				else
					ACTIONS.AnimateSequence( f31_arg0.Banner, "TierSaleVariantEndSoon" )
				end
			end
		end )
	end
	
	f14_arg0.IsRestricted = function ( f30_arg0, f30_arg1 )
		return Restrictions.AreAnyRestrictionInUse( f30_arg1 )
	end
	
	f14_arg0._isBattlePassTab = false
	f14_arg0._controllerIndex = f14_arg1
	f14_arg0.Setup = function ( f27_arg0, f27_arg1 )
		f27_arg0.TabText:setText( ToUpperCase( f27_arg1.name ) )
		if f27_arg1.hasRestrictionIcon then
			f27_arg0:addEventHandler( "menu_create", function ( f29_arg0, f29_arg1 )
				f27_arg0._isRestricted = f27_arg0:IsRestricted( f27_arg0 )
				if f27_arg0._isRestricted then
					ACTIONS.AnimateSequence( f29_arg0, "RestrictionOn" )
				else
					ACTIONS.AnimateSequence( f29_arg0, "RestrictionOff" )
				end
				if f27_arg0.hasNewItem then
					local f29_local0 = f27_arg0.NewItemSmallIcon
					local f29_local1 = f29_local0
					f29_local0 = f29_local0.UpdateAlpha
					local f29_local2
					if f27_arg0.hasNewItem and not f27_arg0._isRestricted then
						f29_local2 = 1
					else
						f29_local2 = 0
					end
					f29_local0( f29_local1, f29_local2 )
				end
			end )
			f27_arg0:registerEventHandler( "matchrules_updated", function ( element, event )
				if MLG.IsCDLActive( f27_arg0 ) then
					ACTIONS.AnimateSequence( element, "RestrictionOn" )
				else
					ACTIONS.AnimateSequence( element, "RestrictionOff" )
				end
			end )
		end
		if f27_arg1.isStoreTab then
			ACTIONS.AnimateSequence( f27_arg0.NewItemSmallIcon, "Store" )
		end
		if f27_arg1.isBattlePassTab then
			f27_arg0._isBattlePassTab = true
			ACTIONS.AnimateSequence( f27_arg0, "BattlePassTabUp" )
		end
		if f27_arg1.hasFreeItem then
			f27_arg0._isFreeItem = true
			f14_arg0( f27_arg0, f27_arg1.hasFreeItem )
		end
		if f27_arg1.isStoreTab and not f27_arg0._isFreeItem and STORE.IsZeusOwned( f14_arg0 ) == false then
			f14_arg0( f27_arg0 )
		end
	end
	
	f14_arg0.Enable = function ( f26_arg0 )
		f26_arg0._disabled = false
		if CONDITIONS.IsWZWipFlowEnabled() then
			ACTIONS.AnimateSequence( f26_arg0, "WZWipUnFocused" )
		else
			ACTIONS.AnimateSequence( f26_arg0, "UnFocused" )
		end
	end
	
	f14_arg0.Disable = function ( f25_arg0 )
		f25_arg0._disabled = true
		ACTIONS.AnimateSequence( f25_arg0, "Disabled" )
	end
	
	f14_arg0.IsEnabled = function ( f24_arg0 )
		return not f24_arg0._disabled
	end
	
	f14_arg0.SetBreadcrumb = f14_local0
	f14_arg0.SetFreeBanner = f14_local3
	f14_arg0.SetLimitedTimeBanner = f14_local4
	f14_arg0.SetSeasonBanner = f14_local5
	f14_arg0.SetPromoBanner = f14_local7
	f14_arg0:registerEventHandler( "focus_tab", function ( element, event )
		if event.index == element.index then
			if event.playSound then
				if CONDITIONS.IsWZWipFlowEnabled() then
					element._sequences:WZWipWZFocused()
				elseif CONDITIONS.IsMagmaGameMode() then
					element._sequences:WZFocused()
				else
					element._sequences:Focused()
				end
			elseif CONDITIONS.IsWZWipFlowEnabled() then
				element._sequences:WZWipWZFocusedNoSound()
			elseif CONDITIONS.IsMagmaGameMode() then
				element._sequences:WZFocusedNoSound()
			else
				element._sequences:FocusedNoSound()
			end
			element.focused = true
		elseif element.focused then
			if CONDITIONS.IsWZWipFlowEnabled() then
				element._sequences:WZWipUnFocused()
			else
				element._sequences:UnFocused()
			end
			element.focused = false
		end
		if element._isBattlePassTab then
			if element.focused then
				ACTIONS.AnimateSequence( element, "BattlePassTabOver" )
			else
				ACTIONS.AnimateSequence( element, "BattlePassTabUp" )
			end
		end
		if element._isFreeItem then
			if element.focused then
				ACTIONS.AnimateSequence( element, "FreeBundleTabOver" )
			else
				ACTIONS.AnimateSequence( element, "FreeBundleTabUp" )
			end
		end
		element.TabText:SetParentHasFocus( element.focused )
	end )
	f14_arg0:registerEventHandler( LUI.TabManager.TAB_SWITCH_EVENT, function ( element, event )
		if event.index == f14_arg0.index then
			f14_arg0:dispatchEventToCurrentMenu( event )
		end
		return true
	end )
	f14_arg0:SetHandleMouse( true )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xD7862EAA83B3B27 ) then
		f14_arg0:registerEventHandler( "touchbegin", function ( element, event )
			if event.inside and not element._disabled then
				element:playSound( "menu_open" )
				if element:GetCurrentMenu() then
					element:dispatchEventToCurrentMenu( {
						name = "tab_mouse_select",
						index = element.index
					} )
				else
					element:dispatchEventToRoot( {
						name = "tab_mouse_select",
						index = element.index
					} )
				end
				if CONDITIONS.IsWZWipFlowEnabled() then
					element._sequences:WZWipWZHighlighted()
				elseif CONDITIONS.IsMagmaGameMode() then
					element._sequences:WZHighlighted()
				else
					element._sequences:Highlighted()
				end
				if element._isBattlePassTab then
					ACTIONS.AnimateSequence( element, "BattlePassTabOver" )
				end
				if element._isFreeItem then
					ACTIONS.AnimateSequence( element, "FreeBundleTabOver" )
				end
			end
		end )
	elseif Engine[0x5EE05AD994388B6]() then
		f14_arg0:registerEventHandler( "mouseenter", function ( element, event )
			Engine[0xC4146BA76D0F982]( CoD.SFX.MouseOver )
			if not element.focused then
				if not element._disabled then
					if CONDITIONS.IsWZWipFlowEnabled() then
						element._sequences:WZWipWZHighlighted()
					elseif CONDITIONS.IsMagmaGameMode() then
						element._sequences:WZHighlighted()
					else
						element._sequences:Highlighted()
					end
				elseif CONDITIONS.IsWZWipFlowEnabled() then
					element._sequences:WZWipWZFocused()
				elseif CONDITIONS.IsMagmaGameMode() then
					element._sequences:WZFocused()
				else
					element._sequences:Focused()
				end
			elseif CONDITIONS.IsWZWipFlowEnabled() then
				element._sequences:WZWipWZHighlighted()
			elseif CONDITIONS.IsMagmaGameMode() then
				element._sequences:WZHighlighted()
			else
				element._sequences:Highlighted()
			end
			if element._isBattlePassTab then
				ACTIONS.AnimateSequence( element, "BattlePassTabOver" )
			end
			if element._isFreeItem then
				ACTIONS.AnimateSequence( element, "FreeBundleTabOver" )
			end
		end )
		f14_arg0:registerEventHandler( "mouseleave", function ( element, event )
			if element.focused and not element._disabled then
				if CONDITIONS.IsWZWipFlowEnabled() then
					element._sequences:WZWipWZFocusedNoSound()
				elseif CONDITIONS.IsMagmaGameMode() then
					element._sequences:WZFocusedNoSound()
				else
					element._sequences:FocusedNoSound()
				end
			else
				if CONDITIONS.IsWZWipFlowEnabled() then
					element._sequences:WZWipUnFocused()
				else
					element._sequences:UnFocused()
				end
				if element._disabled then
					element._sequences:Disabled()
				end
			end
			if element._isBattlePassTab then
				if element.focused then
					ACTIONS.AnimateSequence( element, "BattlePassTabOver" )
				else
					ACTIONS.AnimateSequence( element, "BattlePassTabUp" )
				end
			end
			if element._isFreeItem then
				if element.focused then
					ACTIONS.AnimateSequence( element, "FreeBundleTabOver" )
				else
					ACTIONS.AnimateSequence( element, "FreeBundleTabUp" )
				end
			end
			element:setFocus( false )
		end )
		f14_arg0:registerEventHandler( "leftmousedown", function ( element, event )
			
		end )
		f14_arg0:registerEventHandler( "leftmouseup", function ( element, event )
			if event.inside and not element._disabled then
				element:playSound( "menu_open" )
				if element:GetCurrentMenu() then
					element:dispatchEventToCurrentMenu( {
						name = "tab_mouse_select",
						index = element.index
					} )
				else
					element:dispatchEventToRoot( {
						name = "tab_mouse_select",
						index = element.index
					} )
				end
				if CONDITIONS.IsWZWipFlowEnabled() then
					element._sequences:WZWipWZHighlighted()
				elseif CONDITIONS.IsMagmaGameMode() then
					element._sequences:WZHighlighted()
				else
					element._sequences:Highlighted()
				end
				if element._isBattlePassTab then
					ACTIONS.AnimateSequence( element, "BattlePassTabOver" )
				end
				if element._isFreeItem then
					ACTIONS.AnimateSequence( element, "FreeBundleTabOver" )
				end
			end
		end )
	end
	f14_arg0:registerEventHandler( "tab_disable_blur", function ( element, event )
		ACTIONS.AnimateSequence( element, "NoBlur" )
	end )
	f14_arg0:SubscribeToModelThroughElement( f14_arg0, "disabled", function ( f15_arg0 )
		if DataModel[0x614D394F6F9A18D]( f15_arg0 ) then
			f14_arg0:Disable()
		end
	end )
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f14_arg0, "AR" )
	elseif IsLanguageKorean() or IsLanguageChinese() then
		ACTIONS.AnimateSequence( f14_arg0, "KORZH" )
	elseif IsLanguageGerman() then
		ACTIONS.AnimateSequence( f14_arg0, "DE" )
	elseif IsLanguageRussian() then
		ACTIONS.AnimateSequence( f14_arg0, "RU" )
	elseif IsLanguageJapanese() then
		ACTIONS.AnimateSequence( f14_arg0, "JP" )
		f14_arg0.TabText:SetMaxVisibleLines( 1 )
	end
end

MenuUtils.GetContextualMenuGlobalBounds = function ( f13_arg0 )
	local f13_local0, f13_local1, f13_local2, f13_local3 = f13_arg0:getCurrentGlobalRect()
	if f13_arg0._contextualMenuBounds then
		local f13_local4 = f13_arg0._contextualMenuBounds
		return Lerp( f13_local4.leftAnchor, f13_local0, f13_local2 ) + f13_local4.left * _1080p, Lerp( f13_local4.topAnchor, f13_local1, f13_local3 ) + f13_local4.top * _1080p, Lerp( f13_local4.rightAnchor, f13_local2, f13_local0 ) + f13_local4.right * _1080p, Lerp( f13_local4.bottomAnchor, f13_local3, f13_local1 ) + f13_local4.bottom * _1080p
	else
		return f13_local0, f13_local1, f13_local2, f13_local3
	end
end

MenuUtils.HideBackButton = function ( f12_arg0 )
	assert( f12_arg0 )
	assert( f12_arg0.BackButtonArrow )
	f12_arg0.BackButtonArrow:Hide()
end

MenuUtils.ShowBackButton = function ( f11_arg0, f11_arg1 )
	assert( f11_arg0 )
	assert( f11_arg0.BackButtonArrow )
	f11_arg0.BackButtonArrow:Show( f11_arg1 )
end

MenuUtils.SetupBackButton = function ( f10_arg0, f10_arg1, f10_arg2, f10_arg3 )
	assert( f10_arg0 )
	assert( f10_arg1 )
	assert( f10_arg2 )
	if not f10_arg0.BackButtonArrow then
		local f10_local0 = "HeaderBackArrowLarge"
		local f10_local1 = 16
		local f10_local2 = 46
		local f10_local3
		if LUI.IsLastInputKeyboardMouse( f10_arg1 ) then
			f10_local3 = 36
		else
			f10_local3 = 48
		end
		local f10_local4 = 36
		local f10_local5
		if f10_arg3 then
			f10_local5 = f10_arg3.widgetName
			if not f10_local5 then
			
			else
				local f10_local6
				if f10_arg3 then
					f10_local6 = f10_arg3.horizontalOffset
					if not f10_local6 then
					
					else
						local f10_local7
						if f10_arg3 then
							f10_local7 = f10_arg3.verticalOffset
							if not f10_local7 then
							
							else
								local f10_local8
								if f10_arg3 then
									f10_local8 = f10_arg3.width
									if not f10_local8 then
									
									else
										local f10_local9
										if f10_arg3 then
											f10_local9 = f10_arg3.height
											if not f10_local9 then
											
											else
												local BackButtonArrow = nil
												
												BackButtonArrow = MenuBuilder.BuildRegisteredType( f10_local5, {
													controllerIndex = f10_arg1
												} )
												BackButtonArrow.id = "BackButtonArrow"
												BackButtonArrow:SetAnchorsAndPosition( f10_arg2.leftAnchor, f10_arg2.rightAnchor, f10_arg2.topAnchor, f10_arg2.bottomAnchor, f10_arg2.left - f10_local6 + f10_local8 * _1080p, f10_arg2.left - f10_local6 * _1080p, (f10_local7 - f10_local9 / 2) * _1080p, (f10_local7 + f10_local9 / 2) * _1080p )
												f10_arg0:addElement( BackButtonArrow )
												f10_arg0.BackButtonArrow = BackButtonArrow
												
											end
										end
										f10_local9 = f10_local4
									end
								end
								f10_local8 = f10_local3
							end
						end
						f10_local7 = f10_local2
					end
				end
				f10_local6 = f10_local1
			end
		end
		f10_local5 = f10_local0
	else
		MenuUtils.ShowBackButton( f10_arg0, f10_arg1 )
	end
end

MenuUtils.SetupActiveStateOnNonListButtons = function ( f4_arg0, f4_arg1, f4_arg2 )
	assert( f4_arg2.buttonList )
	local f4_local0 = f4_arg2.buttonList
	local f4_local1
	if f4_arg2.addGridListActiveBehavior == nil then
		f4_local1 = true
	else
		f4_local1 = f4_arg2.addGridListActiveBehavior
	end
	local f4_local2 = f4_arg2.defaultFocusButton or nil
	f4_arg0.buttonMap = {}
	if f4_local1 and f4_arg0.SetActiveParentBehaviorGridAndList then
		f4_arg0:SetActiveParentBehaviorGridAndList( f4_arg1 )
	end
	f4_arg0._currentFocusedButton = nil
	for f4_local6, f4_local7 in pairs( f4_local0 ) do
		if not f4_local7._handleChildFocus then
			f4_local7._handleChildFocus = true
		end
		f4_local7:addEventHandler( "gain_focus", function ( f9_arg0, f9_arg1 )
			if f4_arg0._currentFocusedButton ~= f9_arg0 and LUI.IsLastInputMouseNavigation( f4_arg0 ) then
				MenuUtils.RemoveCurrentActiveButton( f4_arg0, f9_arg1.controller or f4_arg0, true )
				f4_arg0._currentFocusedButton = f9_arg0
				if f9_arg0.SetActive then
					f9_arg0:SetActive()
				end
				f9_arg0:processEvent( {
					name = "parent_active"
				} )
			end
		end )
		f4_arg0.buttonMap[f4_local7.id] = f4_local7
	end
	if f4_local2 ~= nil then
		f4_arg0:addEventHandler( "menu_create", function ( f8_arg0, f8_arg1 )
			if LUI.IsLastInputMouseNavigation( f8_arg1.controller or f4_arg0 ) then
				f4_arg0:processEvent( {
					name = "gain_focus"
				} )
			end
		end )
		f4_arg0:addEventHandler( "tab_create", function ( f7_arg0, f7_arg1 )
			if LUI.IsLastInputMouseNavigation( f7_arg1.controller or f4_arg0 ) then
				f4_arg0:processEvent( {
					name = "gain_focus"
				} )
			end
		end )
		f4_arg0:addEventHandler( "restore_focus", function ( f6_arg0, f6_arg1 )
			if f6_arg1.id and LUI.IsLastInputMouseNavigation( f6_arg1.controller or f4_arg0 ) and f6_arg1.id ~= f4_arg0.id then
				local f6_local0 = f6_arg0.buttonMap[f6_arg1.id]
				if f6_local0 then
					f4_arg0:processEvent( {
						name = "lose_focus"
					} )
					f6_local0:processEvent( {
						name = "gain_focus"
					} )
				end
				return true
			else
				
			end
		end )
	end
	f4_arg0:addEventHandler( "update_input_type", function ( f5_arg0, f5_arg1 )
		local f5_local0 = f5_arg1.controller or f4_arg0
		if not LUI.IsLastInputMouseNavigation( f5_local0 ) then
			MenuUtils.RemoveCurrentActiveButton( f5_arg0, f5_local0, true )
		end
	end )
end

MenuUtils.RemoveCurrentActiveButton = function ( f3_arg0, f3_arg1, f3_arg2 )
	if f3_arg0._currentFocusedButton ~= nil then
		if f3_arg0._currentFocusedButton.RemoveActive then
			f3_arg0._currentFocusedButton:RemoveActive( {
				controller = f3_arg1
			} )
		end
		if LUI.IsLastInputMouseNavigation( f3_arg1 ) then
			f3_arg0._currentFocusedButton:processEvent( {
				name = "lose_focus"
			} )
		end
		f3_arg0._currentFocusedButton:processEvent( {
			name = "remove_parent_active",
			controller = f3_arg1
		} )
		if f3_arg2 then
			f3_arg0._currentFocusedButton = nil
		end
	end
end

MenuUtils.GetSortPromptText = function ( f2_arg0, f2_arg1, f2_arg2 )
	local f2_local0 = 0x0
	if f2_arg0.seasonsSortingType == LOOT.seasonsSortingOptions.RECENT_FIRST then
		f2_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PROMPT_TWO_PARTS", f2_local0, Engine[0xED84C33EC5F01EA]( 0x18D641B5CB4FE00 ) )
	elseif f2_arg0.seasonsSortingType == LOOT.seasonsSortingOptions.OLD_FIRST then
		f2_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PROMPT_TWO_PARTS", f2_local0, Engine[0xED84C33EC5F01EA]( 0x93F9C1B60CB9C83 ) )
	end
	if f2_arg0.raritySortingType == LOOT.raritySortingOptions.LOW_FIRST then
		if f2_local0 ~= 0x0 then
			f2_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PROMPT_TWO_PARTS", f2_local0, "/" )
		end
		f2_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PROMPT_TWO_PARTS", f2_local0, Engine[0xED84C33EC5F01EA]( 0x3E76FDAC69AD37A ) )
	elseif f2_arg0.raritySortingType == LOOT.raritySortingOptions.HIGH_FIRST then
		if f2_local0 ~= 0x0 then
			f2_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PROMPT_TWO_PARTS", f2_local0, "/" )
		end
		f2_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/PROMPT_TWO_PARTS", f2_local0, Engine[0xED84C33EC5F01EA]( 0x3E76CDAC69ACE61 ) )
	end
	if f2_local0 ~= 0x0 then
		f2_local0 = Engine[0xED84C33EC5F01EA]( 0xA9C7FDBA2ECD498, f2_local0 )
	else
		f2_local0 = Engine[0xED84C33EC5F01EA]( 0xC000A1B2EFA72A3, "[", Engine[0xED84C33EC5F01EA]( 0xFF806753942C879 ), "]" )
	end
	local f2_local1 = Engine[0xED84C33EC5F01EA]( 0xFFD50D7035EEA91, Engine[0x7D3158A9539A355]( f2_local0 ) )
	if f2_arg2 then
		f2_local1 = Engine[0xED84C33EC5F01EA]( 0x2BB55DAA4C3D2D5, Engine[0xED84C33EC5F01EA]( f2_arg2 ), Engine[0xED84C33EC5F01EA]( 0x5F5C4F0B9956D2B, Engine[0x7D3158A9539A355]( f2_local0 ) ) )
	end
	if f2_arg1 then
		f2_local1 = Engine[0xED84C33EC5F01EA]( 0x5F5C4F0B9956D2B, Engine[0x7D3158A9539A355]( f2_local0 ) )
	end
	return f2_local1
end

MenuUtils.CheckAndRunCodeOfConductFirstMatch = function ( f1_arg0 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x39AAC1F9A77505 ) then
		return 
	elseif not Engine[0x7B17D94988FD5D0]( "CodeOfConductAccepted", f1_arg0 ) then
		LUI.FlowManager.RequestPopupMenu( self, "codeconduct", true, f1_arg0 )
	end
end

