-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
BATTLEMAP = BATTLEMAP or {}
BATTLEMAP.NUM_BASE_SECTORS = 20
BATTLEMAP.NUM_SPECIAL_SECTORS = 4
BATTLEMAP.NUM_UNLOCKS_PER_SECTOR = 5
BATTLEMAP.CLAIM_SECTOR_ENABLED = true
BATTLEMAP.BONUS_SECTOR_INDEX = 1
BATTLEMAP.FIRST_SECTOR_INDEX = 2
BATTLEMAP.LIMITED_TIME_SECTOR_INDEX = 21
local f0_local0 = BATTLEMAP
local f0_local1
if CONDITIONS.IsMobileOrMobileSim() then
	f0_local1 = 22
else
	f0_local1 = 21
end
f0_local0.FINAL_SECTOR = f0_local1
f0_local0 = BATTLEMAP
if CONDITIONS.IsMobileOrMobileSim() then
	f0_local1 = 23
else
	f0_local1 = 22
end
f0_local0.BLACK_CELL = f0_local1
BATTLEMAP.LIMITED_TIME_SECTOR = 23
BATTLEMAP.BP_SECTOR_PREVIEW_REF = "BPSectorPreview"
BATTLEMAP.JUP_BP_SECTOR_PREVIEW_REF = "JUPBPSectorPreview"
BATTLEMAP.AUTO_TOGGLE_BLACKCELL_ON_MAP = false
BATTLEMAP.CLIENT_CHARACTER_ANIM_TREE = "client_character"
BATTLEMAP.POPUP_TOKEN_SPEND_EVENT = "trigger_token_claim"
BATTLEMAP.DLOG_MAX_ARRAY_COUNT = 15
BATTLEMAP.DLOG_INTERACTION_SESSION = nil
BATTLEMAP.DLOG_ENTER_TIME = 0
BATTLEMAP.DLOG_OLD_CP_BALANCE = 0
BATTLEMAP.DLOG_ACTIVE_SECTOR_INDEX = -1
BATTLEMAP.DLOG_FOCUSED_SECTOR_ARRAY = {}
BATTLEMAP.DLOG_FOCUSED_SECTOR_BROWSE_TIME_ARRAY = {}
BATTLEMAP.DLOG_INTERACTED_SECTORS_ARRAY = {}
BATTLEMAP.DLOG_HOVERED_ITEMS_IN_SECTOR_ARRAY = {}
BATTLEMAP.DLOG_PREVIEWED_ITEMS_ARRAY = {}
BATTLEMAP.DLOG_BLACKCELL_PREVIEWED_ITEMS_ARRAY = {}
BATTLEMAP.DLOG_SECTOR_PREVIEW_START_TIME = nil
BATTLEMAP.DLOG_SECTOR_PREVIEW_ITEM_HOVER_START_TIME = nil
BATTLEMAP.DLOG_SECTOR_PREVIEW_ITEM_DISPLAYED_SECTOR_ID = nil
BATTLEMAP.DLOG_SECTOR_PREVIEW_HOVERED_ITEMS_IN_SECTOR_ARRAY = {}
BATTLEMAP.DLOG_SECTOR_PREVIEW_HOVERED_ITEMS_IN_SECTOR_TIME_ARRAY = {}
BATTLEMAP.DLOG_SECTOR_PREVIEW_PREVIEWED_ITEMS_ARRAY = {}
BATTLEMAP.DLOG_SECTOR_PREVIEW_BLACKCELL_PREVIEWED_ITEMS_ARRAY = {}
f0_local0 = 23
f0_local1 = 6
local f0_local2 = 63
local f0_local3 = CONDITIONS.IsMobileOrMobileSim() and 0xC0552047B0D0B0E or 0x410C960010AEAE1
BATTLEMAP.IsBlackcellCompatibleWithAEUserStateSentinels = function ()
	local f206_local0 = Game[0x86FDEA70269BA0A]()
	return f206_local0[0x91614A92580CF17]
end

BATTLEMAP.GetListBundleName = function ()
	local f205_local0 = Game[0x86FDEA70269BA0A]()
	return f205_local0[0x741D224DDE8083A]
end

BATTLEMAP.GetBlackCellBundleGroup = function ()
	local f204_local0 = Game[0x86FDEA70269BA0A]()
	return f204_local0[0xBCB1F70B35717F3]
end

BATTLEMAP.NavigationMap = {
	Left_Bottom = "leftDown",
	Right_Bottom = "rightDown",
	Right_Top = "rightUp",
	Top = "up",
	Left_Top = "leftUp",
	Bottom = "down"
}
BATTLEMAP.SectorType = {
	FINAL = "Final",
	EVENT = "Event",
	START = "Start",
	BASE = "Base",
	LIMITED_TIME = "LimitedTime",
	INSTANT = "Instant",
	BLACK_CELL = "BlackCell",
	FACTION = "Faction"
}
BATTLEMAP.SectorState = {
	COMPLETED = 2,
	LOCKED = 3,
	UNKNOWN = 4,
	ACTIVE = 1
}
BATTLEMAP.FactionType = {
	TASK_FORCE_141 = "TaskForce141",
	SHADOW_COMPANY = "ShadowCompany",
	NONE = "None"
}
BATTLEMAP.FactionTypeByInt = {
	BATTLEMAP.FactionType.TASK_FORCE_141,
	BATTLEMAP.FactionType.SHADOW_COMPANY
}
BATTLEMAP.OnboardingStates = {
	TOOLTIPS = 4,
	MAP_BOOT = 2,
	SPEND_SELECTION = 5,
	END_ONBOARDING = 6,
	INITIAL_TRYPTICH = 3,
	MAP_TRYPTICH = 1
}
BATTLEMAP.ToolTipStates = {
	AUTO_SWITCH = 1
}
BATTLEMAP.SectorMapState = {
	CLOSE = 10,
	COMPLETE = 4,
	FIXING_UP = 9,
	UNLOCK_WAIT = 2,
	PREVIEW = 6,
	PURCHASE_PASS = 5,
	NORMAL = 0,
	TOKEN_UNLOCK = 8,
	ONBOARDING = 7,
	INTRO = 1,
	UNLOCK = 3
}
BATTLEMAP.SectorPreviewState = {
	UNLOCK_INDIVIDUAL_WAIT = 4,
	UNLOCK_HVT = 3,
	FIXING_UP = 5,
	UNLOCK_INDIVIDUAL = 2,
	PREVIEW_OUTRO = 1,
	UNLOCK_SECTOR_WAIT = 6,
	NORMAL = 0,
	UNLOCK_SECTOR = 7
}
BATTLEMAP.BattlePassStates = {
	UNLOCK_SINGLE_WAIT = 1,
	SPEND_SELECTION = 13,
	UNLOCK_SECTOR_WAIT = 4,
	CLOSE_MAP = 11,
	COMPLETE = 7,
	PURCHASE_PASS = 8,
	UNLOCK_SECTOR = 5,
	ONBOARDING = 12,
	UNLOCK_SECTOR_DELAY = 6,
	TOKEN_CELEBRATION = 16,
	MAP_SETUP = 17,
	JUMPSCARE = 20,
	BP_CHALLENGE_ONBOARDING = 19,
	TRANSITION_OUT = 20,
	UNLOCK_HVT = 3,
	ENTER_SECTOR = 15,
	NORMAL = 0,
	MAP_BOOT = 14,
	TOKEN_CELEBRATION_CER = 21,
	FIX_UP = 10,
	UNLOCK_SINGLE = 2,
	MAP_FORCE_SELECTION = 18,
	PURCHASE_BLACK_CELL = 9
}
BATTLEMAP.RewardStates = {
	LOCKED = 1,
	PROGRESSING = 3,
	COUNT = 4,
	UNLOCKED = 5,
	CLAIMED = 2,
	UNKNOWN = 0
}
BATTLEMAP.SectorTagState = {
	LOCKED = 4,
	COMPLETED_FREE = 3,
	BONUS = 5,
	OLYMPUS = 6,
	COMPLETED_PREMIUM = 2,
	ACTIVE = 1
}
BATTLEMAP.TokenMenuState = {
	PURCHASING = 2,
	CLAIMING = 1
}
BATTLEMAP.PurchaseButtonStates = {
	BUY_BLACK_CELL = 3,
	COMPLETE = 4,
	BUY_TOKENS = 1,
	FIX_UP = 0,
	BUY_BATTLE_PASS = 2
}
BATTLEMAP.EventSectorStates = {
	PRE_EVENT = 0,
	LIVE_EVENT = 1,
	POST_EVENT = 2
}
BATTLEMAP.BATTLEMAP_SCENES = {
	battle_pass_vehicle = 3,
	battle_pass_character = 1,
	battle_pass_items = 4,
	battle_pass_weapon = 2,
	none = 0
}
BATTLEMAP.GetTokenBalanceUserStates = function ()
	local f203_local0 = Game[0x86FDEA70269BA0A]()
	local f203_local1 = f203_local0[0x2E0FC2C8B003F45]
	return {
		f203_local1 .. "1",
		f203_local1 .. "2",
		f203_local1 .. "3",
		f203_local1 .. "4",
		f203_local1 .. "5",
		f203_local1 .. "6"
	}
end

BATTLEMAP.GetAutoSpendTokenBalanceUserStates = function ()
	local f202_local0 = Game[0x86FDEA70269BA0A]()
	local f202_local1 = f202_local0[0xA451EEC1C9796F4]
	return {
		f202_local1 .. "1",
		f202_local1 .. "2",
		f202_local1 .. "3",
		f202_local1 .. "4",
		f202_local1 .. "5",
		f202_local1 .. "6"
	}
end

BATTLEMAP.GetTokenMaxAvailableUserStates = function ()
	local f201_local0 = Game[0x86FDEA70269BA0A]()
	local f201_local1 = f201_local0[0x85B18E75759F73B]
	return {
		f201_local1 .. "1",
		f201_local1 .. "2",
		f201_local1 .. "3",
		f201_local1 .. "4",
		f201_local1 .. "5",
		f201_local1 .. "6"
	}
end

BATTLEMAP.GetTokenMaxUserStates = function ()
	local f200_local0 = Game[0x86FDEA70269BA0A]()
	local f200_local1 = f200_local0[0x3581214B07E190E]
	return {
		f200_local1 .. "1",
		f200_local1 .. "2",
		f200_local1 .. "3",
		f200_local1 .. "4",
		f200_local1 .. "5",
		f200_local1 .. "6"
	}
end

BATTLEMAP.GetSectorAEKindID = function ()
	local f199_local0 = Game[0x86FDEA70269BA0A]()
	return f199_local0[0xA7F9EEB0653FB1D]
end

BATTLEMAP.ButtonHighlightColors = {
	UNCLAIMED_FREE = SWATCHES[0xAE02465B3F418FB][0x524456DF57E10E6],
	UNCLAIMED_PREMIUM = SWATCHES[0xAE02465B3F418FB][0x524456DF57E10E6],
	CLAIMED_FREE = SWATCHES[0xAE02465B3F418FB][0xC5A1ED35FC8F0D5],
	CLAIMED_PREMIUM = SWATCHES[0xAE02465B3F418FB][0x5C8B82A2FF6FC21],
	LOCKED = SWATCHES[0xEAF2060ABE5269B][0x25ECEAC112DE079],
	INSTANT_BONUS = SWATCHES[0xAE02465B3F418FB][0xA735F974387D384],
	FINAL_BONUS = SWATCHES[0xAE02465B3F418FB][0x5C8B82A2FF6FC21]
}
BATTLEMAP.SpendTokenError = {
	NOT_ENOUGH_TOKENS = 11,
	REWARD_CLAIMED = 4,
	POST_UNEXPECTED_PROGRESS = 9,
	POST_UNEXPECTED_BALANCE = 8,
	USER_STATE_UPDATE_FAILED = 10,
	TIMEOUT_USER_STATE = 7,
	REWARD_HVT_LAST = 5,
	SECTOR_TYPE_INVALID = 3,
	BALANCE_ZERO = 1,
	TIMEOUT_CHALLENGE = 6,
	SECTOR_INACTIVE = 2,
	NONE = 0
}
BATTLEMAP.ToggleAutoSpendError = {
	AUTOSPEND_TIMEOUT = 1,
	USERSTATE_UPDATED_FAILED = 2,
	NONE = 0
}
local f0_local4 = function ( f198_arg0 )
	if not PROJECT[0x5A05E13AC947C99][0x317B81C19978F66] or not PROJECT[0x5A05E13AC947C99][0x317B81C19978F66][f198_arg0] then
		if not PROJECT[0x5A05E13AC947C99][0x317B81C19978F66] then
			PROJECT[0x5A05E13AC947C99][0x317B81C19978F66] = {}
		end
		if not PROJECT[0x5A05E13AC947C99][0x317B81C19978F66][f198_arg0] then
			PROJECT[0x5A05E13AC947C99][0x317B81C19978F66][f198_arg0] = {}
		end
		local f198_local0 = BATTLEMAP.GetSeasonBundle( f198_arg0 )
		if f198_local0 then
			for f198_local4, f198_local5 in ipairs( f198_local0[0x8C959E160CAD874] ) do
				local f198_local6 = Engine[0xCDBE573031E4389]( "battlemapsector:" .. f198_local5[0xE03357C933EFDCA] )
				if f198_local6 then
					table.insert( PROJECT[0x5A05E13AC947C99][0x317B81C19978F66][f198_arg0], f198_local6 )
				end
			end
		end
	end
	return PROJECT[0x5A05E13AC947C99][0x317B81C19978F66][f198_arg0]
end

BATTLEMAP.GetBattleMapSectorRewards = function ( f197_arg0 )
	if not PROJECT[0x5A05E13AC947C99][0xA17EF9745C5F4AF] then
		PROJECT[0x5A05E13AC947C99][0xA17EF9745C5F4AF] = {}
	end
	if not PROJECT[0x5A05E13AC947C99][0xA17EF9745C5F4AF][f197_arg0] then
		PROJECT[0x5A05E13AC947C99][0xA17EF9745C5F4AF][f197_arg0] = Engine[0xCDBE573031E4389]( "battlemapreward:" .. f197_arg0 )
	end
	return PROJECT[0x5A05E13AC947C99][0xA17EF9745C5F4AF][f197_arg0]
end

local f0_local5 = function ( f196_arg0, f196_arg1 )
	local f196_local0 = f0_local0( f196_arg1 )
	f196_local0 = f196_local0[f196_arg0]
	local f196_local1
	if f196_local0 then
		f196_local1 = f196_local0[0xACC083D56797E6]
		if not f196_local1 then
		
		else
			return tostring( f196_local1 )
		end
	end
	f196_local1 = 0
end

local f0_local6 = function ( f195_arg0, f195_arg1 )
	for f195_local3, f195_local4 in ipairs( f0_local0( f195_arg1 ) ) do
		if f195_local4[0xACC083D56797E6] == f195_arg0 then
			return f195_local3
		end
	end
	return -1
end

local f0_local7 = function ( f194_arg0, f194_arg1, f194_arg2 )
	local f194_local0
	if not f194_arg2 then
		f194_local0 = f194_arg2
	else
		f194_local0 = SEASON.GetCurrentSeason()
	end
	if f194_local0 <= 0 then
		return 0
	else
		local f194_local1 = f194_arg1[f194_local0]
		if f194_local1 then
			local f194_local2 = OnlineProgression[0x82011D283698AA4]( f194_arg0, {
				f194_local1
			} )
			return tonumber( f194_local2[f194_local1] )
		else
			return 0
		end
	end
end

local f0_local8 = function ( f193_arg0, f193_arg1, f193_arg2 )
	if BATTLEMAP.GetTokenBalance( f193_arg0 ) <= 0 then
		f193_arg2.errorCode = BATTLEPASS.SpendTokenError.BALANCE_ZERO
		return false
	else
		local f193_local0 = BATTLEMAP.GetSectorType( f193_arg1 )
		if f193_local0 == BATTLEMAP.SectorType.INSTANT or f193_local0 == BATTLEMAP.SectorType.FINAL then
			f193_arg2.errorCode = BATTLEPASS.SpendTokenError.SECTOR_TYPE_INVALID
			return false
		elseif BATTLEMAP.GetSectorState( f193_arg0, f193_arg1 ) ~= BATTLEMAP.SectorState.ACTIVE then
			f193_arg2.errorCode = BATTLEPASS.SpendTokenError.SECTOR_INACTIVE
			return false
		else
			return true
		end
	end
end

BATTLEMAP.GetNumRewardsRemainingInSector = function ( f192_arg0, f192_arg1, f192_arg2 )
	local f192_local0 = BATTLEMAP.GetSectorProgress( f192_arg0, f192_arg1, f192_arg2 )
	local f192_local1 = 0
	for f192_local5, f192_local6 in ipairs( f192_local0 ) do
		if not f192_local6 then
			f192_local1 = f192_local1 + 1
		end
	end
	return f192_local1
end

BATTLEMAP.CanSpendTokenMaxSector = function ( f191_arg0, f191_arg1, f191_arg2 )
	if not f0_local0( f191_arg0, f191_arg1, f191_arg2 ) then
		return false
	else
		local f191_local0 = BATTLEMAP.GetTokenBalance( f191_arg0 )
		local f191_local1 = BATTLEMAP.GetSectorProgress( f191_arg0, f191_arg1 )
		local f191_local2 = BATTLEMAP.GetNumRewardsRemainingInSector( f191_arg0, f191_arg1 )
		if f191_local0 < f191_local2 then
			f191_arg2.errorCode = BATTLEPASS.SpendTokenError.NOT_ENOUGH_TOKENS
			return false
		else
			f191_arg2.tokensRequired = f191_local2
			return true
		end
	end
end

local f0_local9 = function ( f190_arg0, f190_arg1, f190_arg2, f190_arg3 )
	if not f0_local0( f190_arg0, f190_arg1, f190_arg3 ) then
		return false
	end
	local f190_local0 = BATTLEMAP.GetSectorProgress( f190_arg0, f190_arg1 )
	if f190_local0[f190_arg2] then
		f190_arg3.errorCode = BATTLEPASS.SpendTokenError.REWARD_CLAIMED
		return false
	end
	local f190_local1 = BATTLEMAP.GetSectorRewards( SEASON.GetCurrentSeason(), f190_arg1 )
	local f190_local2
	if f190_local1 then
		f190_local2 = f190_local1
	else
		f190_local2 = f190_local1[f190_arg2]
	end
	local f190_local3
	if f190_local2 then
		f190_local3 = f190_local2
	else
		f190_local3 = Engine[0x6093D047200548]( "battlemapreward:" .. f190_local2[0x3E3665069C49994] )
	end
	if f190_local3 and BATTLEMAP.IsRewardHVT( f190_local3 ) then
		for f190_local7, f190_local8 in ipairs( f190_local1 ) do
			if f190_arg2 ~= f190_local7 and not f190_local0[f190_local7] then
				f190_arg3.errorCode = BATTLEPASS.SpendTokenError.REWARD_HVT_LAST
				return false
			end
		end
	end
	return true
end

local f0_local10 = function ( f189_arg0, f189_arg1 )
	local f189_local0
	if f189_arg0 then
		f189_local0 = f189_arg0
	else
		f189_local0 = f189_arg0.controllerIndex
	end
	if not f189_local0 then
		return 
	elseif f189_arg0 and f189_arg0.sectorProgress and f189_arg0.sectorIndex then
		local f189_local1 = BATTLEMAP.GetSectorProgress( f189_local0, f189_arg0.sectorIndex )
		for f189_local5, f189_local6 in ipairs( f189_local1 ) do
			if f189_arg0.sectorProgress[f189_local5] ~= f189_local1[f189_local5] then
				f189_arg1.errorCode = BATTLEPASS.SpendTokenError.POST_UNEXPECTED_PROGRESS
				return false
			end
		end
	end
	if f189_arg0 and f189_arg0.tokenBalance and f189_arg0.tokenBalance ~= BATTLEMAP.GetTokenBalance( f189_local0 ) then
		f189_arg1.errorCode = BATTLEPASS.SpendTokenError.POST_UNEXPECTED_BALANCE
		return false
	end
	return true
end

local f0_local11 = function ( f184_arg0, f184_arg1, f184_arg2, f184_arg3 )
	local f184_local0 = "battlemapTokenSpendTimer"
	f184_arg0.spendTokenTimer = f184_arg0:CreateEventTimer( "battlemap_token_spend_wait", 100, {
		callbackFunc = function ( f188_arg0, f188_arg1 )
			local f188_local0 = Dvar[0x22EAAB59AA27E9B]( 0xD7A740F8792A8CF ) or 5000
			if f188_arg0._challengeUpdated and f188_arg0._userStateUpdated then
				f188_arg0.spendTokenTimer.response.success = f184_arg0( f188_arg0.spendTokenTimer.postConditions, f188_arg0.spendTokenTimer.response )
				f188_arg0.spendTokenTimer:Respond()
			end
			if not f188_arg0._totalWaitTime then
				f188_arg0._totalWaitTime = 0
			else
				f188_arg0._totalWaitTime = f188_arg0._totalWaitTime + f188_arg0.spendTokenTimer.interval
			end
			if f188_arg0._fetchUserStateTime ~= 0 and f188_arg0._fetchUserStateTime <= f188_arg0._totalWaitTime then
				f188_arg0._fetchUserStateTime = 0
				OnlineProgression[0xE826BFCAE818EF0]( f188_arg0._controllerToFetchUserState )
			end
			if f188_local0 <= f188_arg0._totalWaitTime then
				f188_arg0.spendTokenTimer.response.success = false
				if not f188_arg0._challengeUpdated then
					f188_arg0.spendTokenTimer.response.errorCode = BATTLEMAP.SpendTokenError.TIMEOUT_CHALLENGE
				elseif not f188_arg0._userStateUpdated then
					f188_arg0.spendTokenTimer.response.errorCode = BATTLEMAP.SpendTokenError.TIMEOUT_USER_STATE
				end
				f188_arg0.spendTokenTimer:Respond()
			end
		end
	} )
	f184_arg0.spendTokenTimer.Respond = function ( f187_arg0 )
		local f187_local0 = f187_arg0:getParent()
		f187_local0:RemoveEventTimer( f184_arg0 )
		if f187_arg0.onComplete and f187_arg0.response then
			f187_arg0.onComplete( f187_arg0.response )
		end
		f187_arg0 = nil
	end
	
	f184_arg0.spendTokenTimer.postConditions = f184_arg1
	f184_arg0.spendTokenTimer.onComplete = f184_arg2
	f184_arg0.spendTokenTimer.response = f184_arg3
	f184_arg0._challengeUpdated = false
	f184_arg0._userStateUpdated = false
	f184_arg0._totalWaitTime = 0
	f184_arg0._fetchUserStateTime = 0
	f184_arg0._controllerToFetchUserState = 0
	f184_arg0:registerEventHandler( "updated_challenge", function ( element, event )
		if event.kind == BATTLEMAP.GetSectorAEKindID() then
			element._challengeUpdated = true
			element._fetchUserStateTime = element._totalWaitTime + (Dvar[0x22EAAB59AA27E9B]( 0x5FCDFFE6767FCA7 ) or 0)
			element._controllerToFetchUserState = event.controller
		end
	end )
	f184_arg0:registerEventHandler( "user_state_updated", function ( element, event )
		element._userStateUpdated = event.success
		if not element._userStateUpdated then
			element.spendTokenTimer.response.errorCode = BATTLEMAP.SpendTokenError.USER_STATE_UPDATE_FAILED
			element.spendTokenTimer.response.success = false
			element.spendTokenTimer:Respond()
		end
	end )
	f184_arg0:addElement( f184_arg0.spendTokenTimer )
	f184_arg0[f184_local0] = f184_arg0.spendTokenTimer
end

BATTLEMAP.SendBattlePassItemPurchaseDlog = function ( f183_arg0 )
	local f183_local0 = Engine[0x15D98DF5F61904B]
	local f183_local1 = f183_arg0.controllerIndex
	local f183_local2 = "dlog_event_battle_pass_item_purchase"
	local f183_local3 = {
		bp_session_id = BATTLEMAP.DLOG_INTERACTION_SESSION,
		sector_id = f183_arg0.battleMapSector,
		item_purchased = f183_arg0.itemID
	}
	local f183_local4
	if f183_arg0.isWholeSector then
		f183_local4 = "whole_sector"
	else
		f183_local4 = "individual_item"
	end
	f183_local3.purchase_type = f183_local4
	if f183_arg0.isMapView then
		f183_local4 = "map_view"
	else
		f183_local4 = "sector_view"
	end
	f183_local3.purchase_screen = f183_local4
	f183_local3.token_balance = f183_arg0.tokenBalance
	f183_local0( f183_local1, f183_local2, f183_local3 )
end

BATTLEMAP.SpendTokenSingle = function ( f182_arg0, f182_arg1, f182_arg2, f182_arg3, f182_arg4 )
	local f182_local0 = {
		errorCode = BATTLEPASS.SpendTokenError.NONE,
		success = f0_local0( f182_arg1, f182_arg2, f182_arg3, f182_local0 )
	}
	if not f182_local0.success then
		f182_arg4( f182_local0 )
		return 
	else
		local f182_local1 = BATTLEMAP.GetTokenBalance( f182_arg1 ) - 1
		local f182_local2 = BATTLEMAP.GetSectorProgress( f182_arg1, f182_arg2 )
		f182_local2[f182_arg3] = true
		f0_local0( f182_arg0, {
			sectorIndex = f182_arg2,
			controllerIndex = f182_arg1,
			sectorProgress = f182_local2,
			tokenBalance = f182_local1
		}, f182_arg4, f182_local0 )
		local f182_local3 = BATTLEMAP.GetSector( SEASON.GetCurrentSeason(), f182_arg2 )
		local f182_local4 = BATTLEMAP.GetSectorRewards( SEASON.GetCurrentSeason(), f182_arg2 )
		BATTLEMAP.SendBattlePassItemPurchaseDlog( {
			isMapView = false,
			isWholeSector = false,
			controllerIndex = f182_arg1,
			battleMapSector = f182_local3[0xE03357C933EFDCA],
			itemID = f182_local4[f182_arg3][0x3E3665069C49994],
			tokenBalance = f182_local1
		} )
		local f182_local5 = f0_local0( f182_arg2, SEASON.GetCurrentSeason() )
		local f182_local6 = 0xCB997D167B8A302
		Challenges[0x636D3BF423FD414]( f182_arg1, Challenge.GetAEEventID( f182_local6 ), 2, Challenge.GetAEEventKeyID( f182_local6, 0xF748739113C5B3B ), tonumber( f182_local5 ), Challenge.GetAEEventKeyID( f182_local6, 0xE7EC43D164BA50 ), f182_arg3 )
	end
end

BATTLEMAP.SpendTokenMaxSector = function ( f181_arg0, f181_arg1, f181_arg2, f181_arg3 )
	local f181_local0 = {
		errorCode = BATTLEPASS.SpendTokenError.NONE,
		success = f0_local0( f181_arg1, f181_arg2, f181_local0 )
	}
	if not f181_local0.success then
		f181_arg3( f181_local0 )
		return 
	end
	local f181_local1 = BATTLEMAP.GetTokenBalance( f181_arg1 )
	local f181_local2 = BATTLEMAP.GetSectorProgress( f181_arg1, f181_arg2 )
	local f181_local3 = BATTLEMAP.GetSectorRewards( SEASON.GetCurrentSeason(), f181_arg2 )
	local f181_local4 = 0
	local f181_local5 = {}
	local f181_local6 = {}
	for f181_local12, f181_local13 in ipairs( f181_local2 ) do
		if not f181_local13 then
			f181_local4 = f181_local4 + 1
			local f181_local10
			if f181_local3 then
				f181_local10 = f181_local3
			else
				f181_local10 = f181_local3[f181_local12]
			end
			local f181_local11
			if f181_local10 then
				f181_local11 = f181_local10
			else
				f181_local11 = Engine[0x6093D047200548]( "battlemapreward:" .. f181_local10[0x3E3665069C49994] )
			end
			if f181_local11 then
				if BATTLEMAP.IsRewardHVT( f181_local11 ) then
					table.insert( f181_local6, f181_local12 )
				else
					table.insert( f181_local5, f181_local12 )
				end
			end
		end
	end
	f181_local7 = {}
	f0_local0( f181_arg0, {
		sectorIndex = f181_arg2,
		controllerIndex = f181_arg1,
		sectorProgress = f181_local2,
		tokenBalance = f181_local1
	}, f181_arg3, f181_local0 )
	f181_local9 = BATTLEMAP.GetSector( SEASON.GetCurrentSeason(), f181_arg2 )
	for f181_local11, f181_local14 in ipairs( f181_local7 ) do
		BATTLEMAP.SendBattlePassItemPurchaseDlog( {
			isMapView = true,
			isWholeSector = true,
			controllerIndex = f181_arg1,
			battleMapSector = f181_local9[0xE03357C933EFDCA],
			itemID = f181_local14[0x3E3665069C49994],
			tokenBalance = f181_local1
		} )
	end
	f181_local12 = f0_local0( f181_arg2, SEASON.GetCurrentSeason() )
	f181_local13 = 0xCB997D167B8A302
	Challenges[0x636D3BF423FD414]( f181_arg1, Challenge.GetAEEventID( f181_local13 ), 2, Challenge.GetAEEventKeyID( f181_local13, 0xF748739113C5B3B ), tonumber( f181_local12 ), Challenge.GetAEEventKeyID( f181_local13, 0xD51D4E6BE89F5AC ), 1 )
end

BATTLEMAP.GetSpendTokenErrorMessage = function ( f180_arg0 )
	local f180_local0 = tostring( f180_arg0 )
	if Engine[0x2DA54CF5D6B7F02]() then
		for f180_local4, f180_local5 in pairs( BATTLEPASS.SpendTokenError ) do
			if f180_arg0 == f180_local5 then
				f180_local0 = Engine[0x7D3158A9539A355]( f180_local4 )
				break
			end
		end
	end
	return Engine[0xED84C33EC5F01EA]( 0x45ECECF34147ACF, f180_local0 )
end

BATTLEMAP.GetBattleMapTokenProduct = function ( f179_arg0, f179_arg1 )
	local f179_local0 = {}
	local f179_local1 = {}
	local f179_local2 = {
		type = MobileStoreUtils.AssetTypes.Icon
	}
	local f179_local3
	if BATTLEMAP.UseJUPBattleMapDesign() then
		f179_local3 = "ui_bp_aar_season_icon_gold"
	else
		f179_local3 = "ui_bp_aar_season_icon_gold"
	end
	f179_local2.uri = f179_local3
	f179_local1[1] = f179_local2
	f179_local0.assets = f179_local1
	f179_local0.prices = {
		{
			currencyId = LOOT.CurrencyIDs.COD_POINTS,
			displayText = tostring( f179_arg0 ),
			price = f179_arg0,
			storeId = Enum[0xDFBB3683680DB53][0xA8BDBD8E17B835C]
		}
	}
	f179_local0.title = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MOBILE/BATTLEPASS_TOKENS", f179_arg1 )
	return f179_local0
end

BATTLEMAP.GetToggleAutoSpendErrorMessage = function ( f178_arg0 )
	local f178_local0 = tostring( f178_arg0 )
	if Engine[0x2DA54CF5D6B7F02]() then
		for f178_local4, f178_local5 in pairs( BATTLEPASS.ToggleAutoSpendError ) do
			if f178_arg0 == f178_local5 then
				f178_local0 = Engine[0x7D3158A9539A355]( f178_local4 )
				break
			end
		end
	end
	return Engine[0xED84C33EC5F01EA]( 0x638BDC2788B3A19, f178_local0 )
end

BATTLEMAP.GetDebugStateMessage = function ( f177_arg0, f177_arg1 )
	local f177_local0 = tostring( f177_arg0 )
	if Engine[0x2DA54CF5D6B7F02]() then
		local f177_local1 = pairs
		local f177_local2
		if not f177_arg1 then
			f177_local2 = f177_arg1
		else
			f177_local2 = BATTLEMAP.BattlePassStates
		end
		for f177_local4, f177_local5 in f177_local1( f177_local2 ) do
			if f177_arg0 == f177_local5 then
				f177_local0 = f177_local4
				break
			end
		end
	end
	return f177_local0
end

local f0_local12 = false
BATTLEMAP.GetSeasonBundle = function ( f175_arg0 )
	local f175_local0 = f0_local0 and nil
	if not BATTLEMAP.LIST_SCRIPT_BUNDLE then
		BATTLEMAP.LIST_SCRIPT_BUNDLE = Engine[0xCDBE573031E4389]( BATTLEMAP.GetListBundleName() )
	end
	if BATTLEMAP.LIST_SCRIPT_BUNDLE then
		if not BATTLEMAP.BATTLEMAP_SECTOR_DATA then
			BATTLEMAP.BATTLEMAP_SECTOR_DATA = {}
			BATTLEMAP.BATTLEMAP_SECTOR_VISUALS = {}
		end
		if BATTLEMAP.BATTLEMAP_SECTOR_DATA[f175_arg0] then
			f175_local0 = BATTLEMAP.BATTLEMAP_SECTOR_DATA[f175_arg0]
		end
		for f175_local13, f175_local14 in ipairs( BATTLEMAP.LIST_SCRIPT_BUNDLE[0x4C7E5C07CB4DCC] ) do
			if f175_local14 and f175_local14[0xBFEEEA048FE1D77] then
				local f175_local3 = Engine[0xCDBE573031E4389]( "battlemap:" .. f175_local14[0xBFEEEA048FE1D77] )
				if f175_local3 and f175_local3[0x8DFD5E2759BA3F8] == f175_arg0 then
					f0_local0 = true
					BATTLEMAP.BATTLEMAP_SECTOR_DATA[f175_arg0] = f175_local3
					if not String.IsNilOrEmpty( f175_local3[0xAD34FB300180880] ) then
						local f175_local4 = Engine[0xCDBE573031E4389]( "battlemapsectorvisual:" .. f175_local3[0xAD34FB300180880] )
						BATTLEMAP.BATTLEMAP_SECTOR_VISUALS[f175_arg0] = f175_local4[0x456077499681A9E]
					end
					if f175_local3[0x15B7864EBBA94D] then
						local f175_local4 = {}
						local f175_local5 = {}
						for f175_local6 = 1, #f175_local3[0x8C959E160CAD874], 1 do
							local f175_local9 = f175_local3[0x8C959E160CAD874][f175_local6]
							local f175_local10 = f175_local6 - 1
							local f175_local11 = f175_local9[0x23299920B3EC3AF]
							f175_local4[f175_local11] = f175_local10
							f175_local5[f175_local10] = f175_local11
						end
						for f175_local6 = 1, #f175_local3[0x8C959E160CAD874], 1 do
							local f175_local9 = f175_local3[0x8C959E160CAD874][f175_local6]
							local f175_local10 = f175_local6 - 1
							local f175_local11 = f175_local9[0x23299920B3EC3AF]
							local f175_local12 = function ( f176_arg0, f176_arg1 )
								local f176_local0 = f176_arg0[0x6AF9B3B8AA0426D][f176_arg1]
								if f176_local0 ~= -1 then
									if f175_arg0[f176_local0] == nil then
										f176_arg0[0x6AF9B3B8AA0426D][f176_arg1] = -1
									else
										f176_arg0[0x6AF9B3B8AA0426D][f176_arg1] = f175_arg0[f176_local0]
									end
								end
							end
							
							f175_local12( f175_local9, 0x4B070ADA2041CB0 )
							f175_local12( f175_local9, 0x6AAAA535714D805 )
							f175_local12( f175_local9, 0x8C43A07B566D980 )
							f175_local12( f175_local9, 0xC04126761BB7455 )
							f175_local12( f175_local9, 0xF4CD480D1B565BD )
							f175_local12( f175_local9, 0x25E9D7D6B8E501C )
							f175_local12( f175_local9, 0x2904BBA1F21A860 )
							f175_local12( f175_local9, 0xD49EF3091AD4435 )
						end
					end
					f0_local0 = false
					return f175_local3
				end
			end
		end
	end
	return nil
end

BATTLEMAP.GetSector = function ( f174_arg0, f174_arg1 )
	local f174_local0 = BATTLEMAP.GetSeasonBundle( f174_arg0 )
	return f174_local0[0x8C959E160CAD874][f174_arg1]
end

BATTLEMAP.GetSectorUINavigation = function ( f173_arg0, f173_arg1 )
	local f173_local0 = BATTLEMAP.GetSector( f173_arg0, f173_arg1 )
	return f173_local0[0x6AF9B3B8AA0426D]
end

BATTLEMAP.GetSectorRewards = function ( f172_arg0, f172_arg1 )
	local f172_local0 = f0_local0( f172_arg0 )
	f172_local0 = f172_local0[f172_arg1]
	local f172_local1
	if f172_local0 then
		f172_local1 = f172_local0
	else
		f172_local1 = f172_local0[0xC1A3B9118385]
	end
	return f172_local1
end

BATTLEMAP.IsRewardHVT = function ( f171_arg0 )
	return f171_arg0[0x4A1C56BD037FC89]
end

BATTLEMAP.IsReward = function ( f170_arg0 )
	if BATTLEMAP.LootIdToSectorIndex then
		return BATTLEMAP.LootIdToSectorIndex[tonumber( f170_arg0 )] ~= nil
	end
	BATTLEMAP.LootIdToSectorIndex = {}
	if not SEASON.IsValidSeason() then
		return false
	end
	local f170_local0 = SEASON.GetCurrentSeason()
	local f170_local1 = BATTLEMAP.GetSeasonBundle( f170_local0 )
	for f170_local2 = 1, #f170_local1[0x8C959E160CAD874], 1 do
		local f170_local5 = BATTLEMAP.GetSectorRewards( f170_local0, f170_local2 )
		for f170_local6 = 1, BATTLEMAP.NUM_UNLOCKS_PER_SECTOR, 1 do
			if f170_local5[f170_local6] then
				local f170_local9 = BATTLEMAP.GetBattleMapSectorRewards( f170_local5[f170_local6][0x3E3665069C49994] )
				for f170_local13, f170_local14 in ipairs( f170_local9[0x43EB98C952E0F8B] ) do
					if f170_local14[0x28887F70BF5EBA] ~= nil then
						BATTLEMAP.LootIdToSectorIndex[f170_local14[0x28887F70BF5EBA]] = f170_local2
					end
				end
			end
		end
	end
	return BATTLEMAP.LootIdToSectorIndex[f170_arg0] ~= nil
end

BATTLEMAP.GetStickDirection = function ( f169_arg0 )
	if f169_arg0 < 60 and 0 <= f169_arg0 then
		return BATTLEMAP.NavigationMap.Right_Top
	elseif f169_arg0 < 120 and 60 <= f169_arg0 then
		return BATTLEMAP.NavigationMap.Top
	elseif f169_arg0 <= 180 and 120 <= f169_arg0 then
		return BATTLEMAP.NavigationMap.Left_Top
	elseif -180 <= f169_arg0 and f169_arg0 <= -120 then
		return BATTLEMAP.NavigationMap.Left_Bottom
	elseif -120 < f169_arg0 and f169_arg0 <= -60 then
		return BATTLEMAP.NavigationMap.Bottom
	elseif -60 < f169_arg0 and f169_arg0 <= 0 then
		return BATTLEMAP.NavigationMap.Right_Bottom
	else
		
	end
end

BATTLEMAP.GetSectorType = function ( f168_arg0, f168_arg1 )
	local f168_local0
	if not f168_arg1 then
		f168_local0 = f168_arg1
	else
		f168_local0 = SEASON.GetCurrentSeason()
	end
	local f168_local1 = f0_local0( f168_local0 )
	f168_local1 = f168_local1[f168_arg0]
	local f168_local2
	if f168_local1 then
		f168_local2 = f168_local1
	else
		f168_local2 = f168_local1[0x79439EF7BFA9C2D]
	end
	return f168_local2
end

BATTLEMAP.CanGetSectorState = function ( f167_arg0 )
	local f167_local0
	if f167_arg0 == BATTLEMAP.SectorType.INSTANT or f167_arg0 == BATTLEMAP.SectorType.FINAL or f167_arg0 == BATTLEMAP.SectorType.BLACK_CELL then
		f167_local0 = false
	else
		f167_local0 = true
	end
	return f167_local0
end

local f0_local13 = function ( f166_arg0, f166_arg1 )
	local f166_local0 = f0_local0( f166_arg1 )
	f166_local0 = f166_local0[f166_arg0]
	local f166_local1 = {}
	local f166_local2
	if f166_local0 then
		f166_local2 = f166_local0
	else
		f166_local2 = f166_local0[0x418C74CAAECCED3]
	end
	f166_local1.challengeID = f166_local2
	if f166_local0 then
		f166_local2 = f166_local0
	else
		f166_local2 = f166_local0[0xC4F27A0353771A0]
	end
	f166_local1.challengeKind = f166_local2
	return f166_local1
end

BATTLEMAP.GetSectorState = function ( f165_arg0, f165_arg1, f165_arg2 )
	local f165_local0
	if not f165_arg2 then
		f165_local0 = f165_arg2
	else
		f165_local0 = SEASON.GetCurrentSeason()
	end
	local f165_local1 = BATTLEMAP.GetSectorType( f165_arg1, f165_local0 )
	local f165_local2 = BATTLEMAP.SectorState.UNKNOWN
	if f165_local1 == BATTLEMAP.SectorType.INSTANT then
		return f165_local2
	end
	local f165_local3 = nil
	if f165_local1 == BATTLEMAP.SectorType.FACTION then
		local f165_local4 = f0_local0( f165_arg1, f165_local0 )
		f165_local3 = OnlineChallenges[0x1EEE6570EF4BB8B]( f165_arg0, f165_local4.challengeID )
	else
		f165_local3 = BATTLEMAP.GetSectorChallengeProgress( f165_arg0, f165_arg1, f165_local0 )
	end
	if f165_local3 then
		if f165_local1 == BATTLEMAP.SectorType.LIMITED_TIME then
			if f165_local3.progress then
				local f165_local4 = f165_local3.progress.state
				if f165_local4 == Challenge.State.INACTIVE then
					f165_local2 = BATTLEMAP.SectorState.LOCKED
				elseif f165_local4 == Challenge.State.IN_PROGRESS then
					f165_local2 = BATTLEMAP.SectorState.ACTIVE
				elseif f165_local4 == Challenge.State.FINISHED then
					f165_local2 = BATTLEMAP.SectorState.COMPLETED
				end
			end
		elseif f165_local3.status == Challenge.State.INACTIVE then
			f165_local2 = BATTLEMAP.SectorState.LOCKED
		elseif f165_local3.status == Challenge.State.IN_PROGRESS or f165_local3.status == Challenge.State.FINISHED then
			f165_local2 = BATTLEMAP.SectorState.ACTIVE
			if f165_local3.progress and f165_local3.progress.default and f165_local3.progress.default_target then
				local f165_local4 = f165_local3.progress.default
				local f165_local5 = f165_local3.progress.default_target
				if f165_local5 ~= 0 and f165_local4 == f165_local5 then
					f165_local2 = BATTLEMAP.SectorState.COMPLETED
				end
			end
		end
	end
	if f165_local1 == BATTLEMAP.SectorType.FACTION then
		local f165_local4
		if f165_local2 ~= BATTLEMAP.SectorState.COMPLETED then
			if CONDITIONS.IsSeasonalEventsTabEnabled() then
				f165_local4 = not SEASONAL_EVENT.IsBpEventAvailable()
			else
				f165_local4 = true
			end
		else
			f165_local4 = false
		end
		if f165_local4 then
			local f165_local5 = BATTLEMAP.SectorState.LOCKED
			if not f165_local5 then
				f165_local2 = f165_local5
			elseif f165_local2 == BATTLEMAP.SectorState.UNKNOWN then
				local f165_local5 = BATTLEMAP.SectorState.ACTIVE
				if not f165_local5 then
					f165_local2 = f165_local5
				else
					
				end
			end
		end
		elseif f165_local2 == BATTLEMAP.SectorState.UNKNOWN then
			local f165_local5 = BATTLEMAP.SectorState.ACTIVE
			if not f165_local5 then
				f165_local2 = f165_local5
			else
				
			end
	end
	return f165_local2
end

BATTLEMAP.GetBlackCellUniqueRewards = function ( f164_arg0 )
	if not BATTLEMAP.BLACK_CELL_UNIQUE_REWARDS then
		BATTLEMAP.BLACK_CELL_UNIQUE_REWARDS = {}
		local f164_local0 = SEASON.GetCurrentSeason()
		for f164_local1 = 1, BATTLEMAP.NUM_BASE_SECTORS + 1, 1 do
			for f164_local7, f164_local8 in ipairs( BATTLEMAP.GetSectorUnlockData( f164_arg0, f164_local0, f164_local1 ) ) do
				if f164_local8.blackCellLootID then
					table.insert( BATTLEMAP.BLACK_CELL_UNIQUE_REWARDS, f164_local8 )
				end
			end
		end
	end
	return BATTLEMAP.BLACK_CELL_UNIQUE_REWARDS
end

local f0_local14 = function ( f163_arg0, f163_arg1, f163_arg2 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x59F15DDED5895DE ) then
		return false
	else
		local f163_local0
		if f163_arg1 then
			f163_local0 = f163_arg1
		else
			f163_local0 = 0 <= f163_arg1
		end
	end
	if BATTLEMAP.AreAllBaseSectorsComplete( f163_arg0, f163_arg2 ) or not f163_local0 or (BATTLEMAP.GetSectorState( f163_arg0, f163_arg1, f163_arg2 ) ~= BATTLEMAP.SectorState.ACTIVE) or (f163_arg2 < Dvar[0x22EAAB59AA27E9B]( 0xECED89360812B14 )) or BATTLEMAP.IsSectorActive( f163_arg0, f163_arg1 ) then
		return 
	end
	local f163_local1 = Battlepass[0xD2A39FED2CEFEC7]( f163_arg0, f0_local0( f163_arg1, f163_arg2 ) )
	if not f163_local1 then
		local f163_local2 = debug.getInfo( 2 )
	end
	return f163_local1
end

BATTLEMAP.SetSectorActive = function ( f162_arg0, f162_arg1, f162_arg2 )
	if not f162_arg2 then
		f162_arg2 = SEASON.GetCurrentSeason()
	end
	local f162_local0 = BATTLEMAP.GetActiveSectorIndex( f162_arg0 )
	f0_local0( f162_arg0, f162_arg1, f162_arg2 )
end

BATTLEMAP.CanActivateCurrentSector = function ( f161_arg0, f161_arg1, f161_arg2 )
	if not f161_arg2 then
		f161_arg2 = SEASON.GetCurrentSeason()
	end
	local f161_local0 = BATTLEMAP.IsSectorActive( f161_arg0, f161_arg1, f161_arg2 )
	local f161_local1 = BATTLEMAP.GetSectorType( f161_arg1 )
	local f161_local2
	if f161_local0 or f161_local1 == BATTLEMAP.SectorType.BASE or f161_local1 == BATTLEMAP.SectorType.INSTANT or f161_local1 == BATTLEMAP.SectorType.FINAL or BATTLEMAP.GetSectorState( f161_arg0, f161_arg1, f161_arg2 ) ~= BATTLEMAP.SectorState.ACTIVE then
		f161_local2 = false
	else
		f161_local2 = true
	end
	return f161_local2
end

BATTLEMAP.IsSectorActive = function ( f160_arg0, f160_arg1, f160_arg2 )
	return BATTLEMAP.GetActiveSectorIndex( f160_arg0 ) == f160_arg1
end

BATTLEMAP.GetActiveSectorIndex = function ( f159_arg0 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x59F15DDED5895DE ) then
		return 2
	end
	local f159_local0 = Dvar[0x22EAAB59AA27E9B]( 0x1EF9B867531FEA1 )
	local f159_local1 = f0_local0( Battlepass[0x3BFDA647C1A763B]( f159_arg0 ), f159_local0 )
	if f159_local1 == -1 then
		if not BATTLEPASS.IsOwned( f159_arg0, f159_local0 ) then
			f159_local1 = 2
		elseif BATTLEMAP.GetSeasonProgressionPercent( f159_arg0, f159_local0 ) == 1 then
			f159_local1 = BATTLEMAP.FINAL_SECTOR + 1
		else
			f159_local1 = 2
		end
	end
	return f159_local1
end

BATTLEMAP.GetSectorProgressFromBitField = function ( f158_arg0, f158_arg1 )
	local f158_local0 = {}
	for f158_local1 = 1, f158_arg0, 1 do
		f158_local0[f158_local1] = 0 < BitwiseOperators.band( BitwiseOperators.lshift( 1, f158_local1 - 1 ), f158_arg1 )
	end
	return f158_local0
end

local f0_local15 = function ( f157_arg0, f157_arg1, f157_arg2, f157_arg3 )
	local f157_local0 = SEASON.GetCurrentSeason()
	if f157_arg1 == nil or f157_arg2 == nil then
		return nil
	end
	local f157_local1 = f157_arg1[f157_arg2]
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x278407261BE585C ) and f157_local1 == nil then
		return nil
	end
	local f157_local2 = f0_local0( f157_local1.sectorAEID, f157_local0 )
	local f157_local3 = f157_local1.progress
	local f157_local4 = BATTLEMAP.GetSectorProgressBitfield( f157_arg0, f157_local2, f157_local0 )
	local f157_local5 = BitwiseOperators.band( BitwiseOperators.bxor( f157_local3, f157_local4 ), f157_local4 )
	local f157_local6 = {}
	if not f157_arg3 or not (f157_arg3 + 1) then
		local f157_local7 = 1
	end
	for f157_local8 = 1, BATTLEMAP.NUM_UNLOCKS_PER_SECTOR, 1 do
		if 0 < BitwiseOperators.band( BitwiseOperators.lshift( 1, f157_local8 - 1 ), f157_local5 ) then
			f157_local6[f157_local7] = f157_local8
			local f157_local7 = f157_local7 + 1
		end
	end
	return f157_local6
end

local f0_local16 = function ( f156_arg0 )
	for f156_local3, f156_local4 in ipairs( f156_arg0 ) do
		if f156_local4 == false then
			return f156_local3
		end
	end
	return -1
end

local f0_local17 = function ( f155_arg0, f155_arg1, f155_arg2 )
	return f0_local0( BATTLEMAP.GetSectorProgress( f155_arg0, f155_arg1, f155_arg2 ) )
end

local f0_local18 = function ( f154_arg0, f154_arg1, f154_arg2, f154_arg3 )
	table.insert( f154_arg0, {
		sector = f154_arg1,
		reward = f154_arg2,
		progress = f154_arg3
	} )
end

BATTLEMAP.TranslateAutospendAARData = function ( f153_arg0, f153_arg1, f153_arg2, f153_arg3 )
	local f153_local0 = {}
	if f153_arg1 == nil then
		return {}
	end
	local f153_local1 = AAR.GetNumEarnedBattlepassTokens( f153_arg2, f153_arg3 )
	local f153_local2 = SEASON.GetCurrentSeason()
	local f153_local3 = f0_local0( f153_arg1[0].sectorAEID, f153_local2 )
	local f153_local4 = f0_local0( BATTLEMAP.GetSectorProgressFromBitField( BATTLEMAP.NUM_UNLOCKS_PER_SECTOR, f153_arg1[0].progress ) )
	f0_local0( f153_local0, f153_local3, f153_local4, BATTLEMAP.GetPercentToNextToken( f153_arg0, f153_arg2 ) )
	if f153_local1 == 0 then
		f0_local0( f153_local0, f153_local3, f153_local4, BATTLEMAP.GetPercentToNextToken( f153_arg0, f153_arg3 ) )
	else
		local f153_local5 = 0
		local f153_local6 = f0_local0( f153_arg0, f153_arg1, f153_local5 )
		if f153_local6 and not Table.IsEmpty( f153_local6 ) then
			for f153_local7 = 1, f153_local1, 1 do
				f0_local0( f153_local0, f0_local0( f153_arg1[f153_local5].sectorAEID, f153_local2 ), f153_local6[f153_local7], 1 )
				if f153_local6[f153_local7] == BATTLEMAP.NUM_UNLOCKS_PER_SECTOR then
					f153_local5 = f153_local5 + 1
					if not Dvar[0x9E5BE3B4BBA4E0E]( 0x278407261BE585C ) and not f0_local0( f153_arg0, f153_arg1, f153_local5, f153_local7 ) then
						return {}
					end
				end
			end
		end
		f0_local0( f153_local0, f0_local0( f153_arg1[f153_local5].sectorAEID, f153_local2 ), f0_local0( f153_arg0, BATTLEMAP.GetActiveSectorIndex( f153_arg0 ), f153_local2 ), BATTLEMAP.GetPercentToNextToken( f153_arg0, f153_arg3 ) )
	end
	return f153_local0
end

BATTLEMAP.CanUseNewBattlepassActivation = function ()
	return Dvar[0x9E5BE3B4BBA4E0E]( 0x59F15DDED5895DE )
end

BATTLEMAP.ShowSeasonProgression = function ()
	return Dvar[0x9E5BE3B4BBA4E0E]( 0x72B3D3629492B15 )
end

BATTLEMAP.GetNextRewardFromActiveSector = function ( f150_arg0 )
	local f150_local0 = BATTLEMAP.GetActiveSectorIndex( f150_arg0 )
	local f150_local1 = SEASON.GetCurrentSeason()
	for f150_local8, f150_local9 in ipairs( BATTLEMAP.GetSectorProgress( f150_arg0, f150_local0, f150_local1 ) ) do
		if f150_local9 == false then
			local f150_local5 = BATTLEMAP.GetSectorRewards( f150_local1, f150_local0 )
			local f150_local6
			if f150_local5 then
				f150_local6 = f150_local5
			else
				f150_local6 = f150_local5[f150_local8]
			end
			local f150_local7
			if f150_local6 then
				f150_local7 = f150_local6
			else
				f150_local7 = Engine[0x6093D047200548]( "battlemapreward:" .. f150_local6[0x3E3665069C49994] )
			end
			return f150_local7
		end
	end
	return nil
end

BATTLEMAP.GetSectorProgress = function ( f149_arg0, f149_arg1, f149_arg2 )
	local f149_local0
	if not f149_arg2 then
		f149_local0 = f149_arg2
	else
		f149_local0 = SEASON.GetCurrentSeason()
	end
	local f149_local1 = BATTLEMAP.GetSectorRewards( f149_local0, f149_arg1 )
	local f149_local2
	if f149_local1 then
		f149_local2 = #f149_local1
		if not f149_local2 then
		
		else
			return BATTLEMAP.GetSectorProgressFromBitField( f149_local2, BATTLEMAP.GetSectorProgressBitfield( f149_arg0, f149_arg1, f149_arg2 ) )
		end
	end
	f149_local2 = 0
end

BATTLEMAP.GetSectorProgressBitfield = function ( f148_arg0, f148_arg1, f148_arg2 )
	local f148_local0
	if not f148_arg2 then
		f148_local0 = f148_arg2
	else
		f148_local0 = SEASON.GetCurrentSeason()
	end
	local f148_local1 = BATTLEMAP.GetSectorChallengeProgress( f148_arg0, f148_arg1, f148_local0 )
	local f148_local2 = 0
	if not f148_local1 or not f148_local1.progress then
		return f148_local2
	end
	local f148_local3 = "default"
	if BATTLEMAP.GetSectorType( f148_arg1 ) == BATTLEMAP.SectorType.LIMITED_TIME then
		f148_local3 = "progress"
	end
	return f148_local1.progress[f148_local3]
end

BATTLEMAP.GetSectorChallengeProgress = function ( f147_arg0, f147_arg1, f147_arg2 )
	local f147_local0
	if not f147_arg2 then
		f147_local0 = f147_arg2
	else
		f147_local0 = SEASON.GetCurrentSeason()
	end
	local f147_local1 = OnlineChallenges[0x1EEE6570EF4BB8B]( f147_arg0, f0_local0( f147_arg1, f147_local0 ) )
	if not f147_local1 then
		
	else
		
	end
	local f147_local2
	if not f147_local1 then
		f147_local2 = f147_local1
	else
		f147_local2 = {}
	end
	return f147_local2
end

BATTLEMAP.GetLimitedTimeSectorChallengeDesc = function ( f146_arg0, f146_arg1, f146_arg2 )
	local f146_local0 = f146_arg1[f146_arg2].linkedChallengeID
	if not f146_local0 or f146_local0 == 0 then
		return ""
	else
		local f146_local1 = f146_arg1[f146_arg2].linkedChallengeKind
		if not f146_local1 or #f146_local1 == 0 then
			return ""
		else
			local f146_local2 = 0
			if not AEKinds[f146_local1] then
				return ""
			else
				return Challenge.GetDescLocalizedByID( f146_arg0, f146_local0, AEKinds[f146_local1].ID )
			end
		end
	end
end

BATTLEMAP.GetLimitedTimeSectorChallengeProgress = function ( f145_arg0, f145_arg1, f145_arg2 )
	local f145_local0 = f145_arg1[f145_arg2].linkedChallengeID
	if not f145_local0 or f145_local0 == 0 then
		return {}
	end
	local f145_local1 = OnlineChallenges[0x1EEE6570EF4BB8B]( f145_arg0, f145_local0 )
	if not f145_local1 then
		return {}
	end
	local f145_local2 = ""
	if f145_local1.progress and f145_local1.progress.default then
		f145_local2 = "default"
	elseif f145_local1.progress and f145_local1.progress.progress then
		f145_local2 = "progress"
	else
		return {}
	end
	return {
		amount = f145_local1.progress[f145_local2],
		target = f145_local1.progress[f145_local2 .. "_target"]
	}
end

BATTLEMAP.IsSectorComplete = function ( f144_arg0, f144_arg1, f144_arg2 )
	local f144_local0
	if not f144_arg2 then
		f144_local0 = f144_arg2
	else
		f144_local0 = SEASON.GetCurrentSeason()
	end
	for f144_local4, f144_local5 in ipairs( BATTLEMAP.GetSectorProgress( f144_arg0, f144_arg1, f144_local0 ) ) do
		if not f144_local5 then
			return false
		end
	end
	return true
end

BATTLEMAP.GetTokenBalance = function ( f143_arg0, f143_arg1 )
	local f143_local0 = f0_local0
	local f143_local1 = f143_arg0
	local f143_local2 = BATTLEMAP.GetTokenBalanceUserStates()
	local f143_local3
	if not f143_arg1 then
		f143_local3 = f143_arg1
	else
		f143_local3 = SEASON.GetCurrentSeason()
	end
	return f143_local0( f143_local1, f143_local2, f143_local3 )
end

BATTLEMAP.GetAutoSpendTokenBalance = function ( f142_arg0, f142_arg1 )
	local f142_local0
	if not f142_arg1 then
		f142_local0 = f142_arg1
	else
		f142_local0 = SEASON.GetCurrentSeason()
	end
	return f0_local0( f142_arg0, BATTLEMAP.GetAutoSpendTokenBalanceUserStates(), f142_local0 )
end

BATTLEMAP.GetTokenMaxAvailable = function ( f141_arg0, f141_arg1 )
	local f141_local0
	if not f141_arg1 then
		f141_local0 = f141_arg1
	else
		f141_local0 = SEASON.GetCurrentSeason()
	end
	return f0_local0( f141_arg0, BATTLEMAP.GetTokenMaxAvailableUserStates(), f141_local0 )
end

BATTLEMAP.GetTokenTotal = function ( f140_arg0, f140_arg1 )
	local f140_local0
	if not f140_arg1 then
		f140_local0 = f140_arg1
	else
		f140_local0 = SEASON.GetCurrentSeason()
	end
	return math.abs( f0_local0( f140_arg0, BATTLEMAP.GetTokenMaxUserStates(), f140_local0 ) - BATTLEMAP.GetTokenMaxAvailable( f140_arg0, f140_local0 ) )
end

BATTLEMAP.GetRewardMaxAvailable = function ( f139_arg0 )
	local f139_local0 = SEASON.GetCurrentSeason()
	local f139_local1 = BATTLEMAP.GetSeasonBundle( f139_local0 )
	local f139_local2 = 0
	for f139_local3 = 1, #f139_local1[0x8C959E160CAD874], 1 do
		for f139_local9, f139_local10 in ipairs( BATTLEMAP.GetSectorProgress( f139_arg0, f139_local3, f139_local0 ) ) do
			if f139_local10 == false then
				f139_local2 = f139_local2 + 1
			end
		end
	end
	return f139_local2
end

BATTLEMAP.GetTokenGrindBundle = function ( f138_arg0 )
	local f138_local0 = Dvar[0x54084D7CA2317BB]( 0xE41BE5FAA7CDCB3 )
	if f138_local0 then
		local f138_local1 = Engine[0x6093D047200548]( "battlemaptokengrind:" .. f138_local0 )
		if f138_local1 then
			return f138_local1
		end
	end
	local f138_local1 = BATTLEMAP.GetSeasonBundle( f138_arg0 )
	local f138_local2
	if f138_local1 then
		f138_local2 = f138_local1
	else
		f138_local2 = f138_local1[0xD6963D8E0CB76CD]
	end
	local f138_local3
	if f138_local2 then
		f138_local3 = f138_local2
	else
		f138_local3 = Engine[0x6093D047200548]( "battlemaptokengrind:" .. f138_local2 )
	end
	return f138_local3
end

BATTLEMAP.GetTokenGrindScale = function ( f137_arg0 )
	local f137_local0
	if not f137_arg0 then
		f137_local0 = f137_arg0
	else
		f137_local0 = SEASON.GetCurrentSeason()
	end
	if not BATTLEMAP.TOKEN_GRIND_SCALE then
		BATTLEMAP.TOKEN_GRIND_SCALE = {}
	end
	if BATTLEMAP.TOKEN_GRIND_SCALE[f137_local0] then
		return BATTLEMAP.TOKEN_GRIND_SCALE[f137_local0]
	else
		local f137_local1 = BATTLEMAP.GetTokenGrindBundle( f137_local0 )
		BATTLEMAP.TOKEN_GRIND_SCALE[f137_arg0] = f137_local1
		return f137_local1
	end
end

BATTLEMAP.GetRewardProgressGrindScale = function ( f136_arg0 )
	local f136_local0
	if not f136_arg0 then
		f136_local0 = f136_arg0
	else
		f136_local0 = SEASON.GetCurrentSeason()
	end
	if not BATTLEMAP.PROGRESS_GRIND_SCALE then
		BATTLEMAP.PROGRESS_GRIND_SCALE = {}
	end
	if BATTLEMAP.PROGRESS_GRIND_SCALE[f136_local0] then
		return BATTLEMAP.PROGRESS_GRIND_SCALE[f136_local0]
	else
		local f136_local1 = BATTLEMAP.GetTokenGrindBundle( f136_local0 )
		BATTLEMAP.PROGRESS_GRIND_SCALE[f136_arg0] = f136_local1
		return f136_local1
	end
end

BATTLEMAP.GetTokenIndexMax = function ()
	if not BATTLEMAP.TOKEN_INDEX_MAX then
		local f135_local0 = BATTLEMAP.GetTokenGrindScale( SEASON.GetCurrentSeason() )
		local f135_local1
		if f135_local0 then
			f135_local1 = f135_local0
		else
			f135_local1 = f135_local0[0x3933746819C1761]
			if f135_local1 then
				f135_local1 = #f135_local0[0x3933746819C1761]
			end
		end
		BATTLEMAP.TOKEN_INDEX_MAX = f135_local1
	end
	return BATTLEMAP.TOKEN_INDEX_MAX
end

BATTLEMAP.GetRewardProgressIndexMax = function ()
	if not BATTLEMAP.REWARD_INDEX_MAX then
		local f134_local0 = BATTLEMAP.GetRewardProgressGrindScale( SEASON.GetCurrentSeason() )
		local f134_local1
		if f134_local0 then
			f134_local1 = f134_local0
		else
			f134_local1 = f134_local0[0x3933746819C1761]
			if f134_local1 then
				f134_local1 = #f134_local0[0x3933746819C1761]
			end
		end
		BATTLEMAP.REWARD_INDEX_MAX = f134_local1
	end
	return BATTLEMAP.REWARD_INDEX_MAX
end

BATTLEMAP.GetTokenIndexForXP = function ( f133_arg0 )
	local f133_local0 = 0
	local f133_local1 = BATTLEMAP.GetTokenGrindScale( SEASON.GetCurrentSeason() )
	for f133_local5, f133_local6 in ipairs( f133_local1[0x3933746819C1761] ) do
		if f133_arg0 < tonumber( f133_local6[0x8F14807B58DDF35] ) then
			return f133_local0
		end
		f133_local0 = f133_local5
	end
	return f133_local0
end

BATTLEMAP.GetRewardProgressIndexForXP = function ( f132_arg0 )
	return BATTLEMAP.GetTokenIndexForXP( f132_arg0 )
end

BATTLEMAP.GetXPForTokenIndex = function ( f131_arg0 )
	local f131_local0 = BATTLEMAP.GetTokenGrindScale( SEASON.GetCurrentSeason() )
	if f131_local0 and f131_local0[0x3933746819C1761] then
		local f131_local1 = f131_local0[0x3933746819C1761][f131_arg0][0x8F14807B58DDF35]
		local f131_local2
		if f131_local1 then
			f131_local2 = f131_local1
		else
			f131_local2 = tonumber( f131_local1 ) or 0
		end
		return f131_local2
	else
		return 0
	end
end

BATTLEMAP.GetXPForRewardIndex = function ( f130_arg0 )
	return BATTLEMAP.GetXPForTokenIndex( f130_arg0 )
end

BATTLEMAP.GetPercentToNextToken = function ( f129_arg0, f129_arg1 )
	if BATTLEMAP.GetTokenMaxAvailable( f129_arg0 ) == 0 then
		return 0
	end
	local f129_local0 = BATTLEMAP.GetTokenIndexForXP( f129_arg1 )
	if f129_local0 >= BATTLEMAP.GetTokenIndexMax() then
		return 0
	end
	local f129_local1 = BATTLEMAP.GetXPForTokenIndex( f129_local0 )
	local f129_local2 = f129_local1
	if f129_local0 < BATTLEMAP.GetTokenIndexMax() then
		f129_local2 = BATTLEMAP.GetXPForTokenIndex( f129_local0 + 1 )
	end
	return (f129_arg1 - f129_local1) / (f129_local2 - f129_local1)
end

BATTLEMAP.GetPercentToNextReward = function ( f128_arg0, f128_arg1 )
	if BATTLEMAP.GetRewardMaxAvailable( f128_arg0 ) == 0 then
		return 0
	end
	local f128_local0 = BATTLEMAP.GetRewardProgressIndexForXP( f128_arg1 )
	if f128_local0 >= BATTLEMAP.GetRewardProgressIndexMax() then
		return 0
	end
	local f128_local1 = BATTLEMAP.GetXPForRewardIndex( f128_local0 )
	local f128_local2 = f128_local1
	if f128_local0 < BATTLEMAP.GetRewardProgressIndexMax() then
		f128_local2 = BATTLEMAP.GetXPForRewardIndex( f128_local0 + 1 )
	end
	return (f128_arg1 - f128_local1) / (f128_local2 - f128_local1)
end

BATTLEMAP.OnboardingGrantToken = function ( f122_arg0, f122_arg1, f122_arg2 )
	local f122_local0 = Game[0x86FDEA70269BA0A]()
	f122_local0 = f122_local0[0xA0EC1C329340188]
	local f122_local1 = function ()
		local f124_local0 = "bp_onboarding_user_state_timer"
		local f124_local1 = "bp_onboarding_user_state_timer_event"
		local self = LUI.UITimer.new( {
			interval = -28,
			event = f124_local1,
			eventTarget = f122_arg0
		} )
		self.id = "bp_onboarding_user_state_timer"
		self.onComplete = f122_arg0
		self.Close = function ( f127_arg0 )
			f124_local0[f124_local0] = nil
			f127_arg0:closeTree()
		end
		
		self:registerEventHandler( f124_local1, function ( self, event )
			if not self._totalWaitTime then
				self._totalWaitTime = 0
			else
				self._totalWaitTime = self._totalWaitTime + self.interval
			end
			if 10000 <= self._totalWaitTime then
				self:Close()
				f124_local0( false )
			end
		end )
		self:registerEventHandler( "user_state_updated", function ( self, event )
			self:Close()
			f124_local0( event.success )
		end )
		f122_arg0:addElement( self )
		f122_arg0[f124_local0] = self
	end
	
	local f122_local2 = 0xE985B2C8CE77489
	local f122_local3 = OnlineChallenges[0x6AE20EF4832FEF]( f122_arg1, f122_local0, Challenge.GetAEKindID( 0x79AE67E8F8A2FB4 ), Challenge.GetAEEventID( f122_local2 ), 1, Challenge.GetAEEventKeyID( f122_local2, 0x8DFD5E2759BA3F8 ), SEASON.GetCurrentSeason() )
	if f122_local3 then
		f122_arg0:registerEventHandler( "OnAchievementActivated", function ( element, event )
			if event.kind == Challenge.GetAEKindID( 0x79AE67E8F8A2FB4 ) and f122_arg0 == event.id then
				element:deregisterEventHandler( f122_arg0 )
				if event.success then
					OnlineProgression[0xE826BFCAE818EF0]( f122_arg0 )
					f122_arg0()
				end
			end
		end )
	end
	return f122_local3
end

BATTLEMAP.CheckRequestTokenBalance = function ( f120_arg0, f120_arg1, f120_arg2 )
	local f120_local0 = DataSources.alwaysLoaded.battlepassShouldRequestTokens
	if f120_local0 and f120_local0:GetValue( f120_arg1 ) then
		OnlineProgression[0xE826BFCAE818EF0]( f120_arg1 )
		f120_local0:SetValue( f120_arg1, false )
		f120_arg0:registerEventHandler( "user_state_updated", function ( element, event )
			if event.success then
				f120_arg0()
			end
			element:deregisterEventHandler( "user_state_updated" )
		end )
	end
end

BATTLEMAP.GetSectorDisplayName = function ( f119_arg0, f119_arg1, f119_arg2 )
	if f119_arg1 then
		if f119_arg0 == 0 then
			return Engine[0xED84C33EC5F01EA]( 0x3B55F90214BA52B )
		elseif f119_arg0 == BATTLEMAP.FINAL_SECTOR then
			return Engine[0xED84C33EC5F01EA]( 0xCCD8151440EC108 )
		elseif f119_arg0 == BATTLEMAP.BLACK_CELL then
			return Engine[0xED84C33EC5F01EA]( 0xA155DE722C18B7E )
		end
	end
	local f119_local0
	if f119_arg2 and not f119_arg2 then
		f119_local0 = f119_arg2
	else
		f119_local0 = SEASON.GetCurrentSeason()
	end
	local f119_local1 = BATTLEMAP.GetSeasonBundle( f119_local0 )
	local f119_local2 = nil
	if f119_local1[0x15B7864EBBA94D] then
		local f119_local3 = BATTLEMAP.GetSector( f119_local0, f119_arg0 + 1 )
		return Engine[0x7D3158A9539A355]( tostring( f119_local3[0x3E3024AE52A3143] ) )
	elseif f119_arg0 == BATTLEMAP.LIMITED_TIME_SECTOR then
		if BATTLEMAP.UseJUPBattleMapDesign() then
			local f119_local3 = BATTLEMAP.LIMITED_TIME_SECTOR_INDEX
			if not f119_local3 then
				f119_arg0 = f119_local3
			else
				f119_arg0 = 0
			end
		end
		f119_arg0 = 0
	end
	return Engine[0x7D3158A9539A355]( string.char( string.byte( "A" ) + f119_local0 - 1 ) .. f119_arg0 )
end

local f0_local19 = function ( f117_arg0, f117_arg1, f117_arg2 )
	if not BATTLEMAP.STREAMING_SECTOR_ASSETS then
		BATTLEMAP.STREAMING_SECTOR_ASSETS = {}
	end
	if not BATTLEMAP.STREAMING_SECTOR_ASSETS[f117_arg1] then
		BATTLEMAP.STREAMING_SECTOR_ASSETS[f117_arg1] = {}
	end
	local f117_local0 = BATTLEMAP.GetSectorRewards( f117_arg1, f117_arg2 )
	if not BATTLEMAP.STREAMING_SECTOR_ASSETS[f117_arg1][f117_arg2] then
		BATTLEMAP.STREAMING_SECTOR_ASSETS[f117_arg1][f117_arg2] = {}
		for f117_local1 = 1, BATTLEMAP.NUM_UNLOCKS_PER_SECTOR, 1 do
			if f117_local0[f117_local1] then
				local f117_local4 = BATTLEMAP.GetBattleMapSectorRewards( f117_local0[f117_local1][0x3E3665069C49994] )
				local f117_local5 = tonumber( f117_local4[0x43EB98C952E0F8B][1][0x28887F70BF5EBA] )
				local f117_local6 = LOOT.GetTypeForID( f117_local5 )
				local f117_local7 = LOOT.GetItemRef( f117_local5 )
				local f117_local8 = f117_local4[0x43EB98C952E0F8B][1][0x4E90D9E0484ACD2]
				if String.IsNilOrEmpty( f117_local8 ) and not String.IsNilOrEmpty( f117_local7 ) then
					local f117_local9 = function ()
						local f118_local0 = nil
						if Dvar[0x9E5BE3B4BBA4E0E]( 0x8E6C20FE1BA6370 ) then
							local f118_local1, f118_local2 = pcall( LOOT.GetItemImage, f117_arg0, f117_arg0, f117_arg0 )
							if not f118_local1 then
								
							else
								
							end
							f118_local0 = f118_local2
						elseif f117_arg0 == LOOT.itemTypes.CURRENCY_PACK then
							f118_local0 = 0xC4B3F0CF634EBF8
						else
							f118_local0 = LOOT.GetItemImage( f117_arg0, f117_arg0, f117_arg0 )
						end
						return f118_local0
					end
					
					if f117_local6 == LOOT.itemTypes.OPERATOR then
						local f117_local10 = OPERATOR.GetTorso( f117_local7 )
						if not f117_local10 then
							f117_local8 = f117_local10
						else
							f117_local8 = f117_local9()
						end
					end
					f117_local8 = f117_local9()
				end
				if String.IsNilOrEmpty( f117_local8 ) then
					f117_local8 = 0xC0A944FD8921418
					if not BATTLEMAP._hasShownLootImageError then
						BATTLEMAP._hasShownLootImageError = true
						LUI.FlowManager.RequestDevErrorPopup( "BattleMap", "Sector " .. f117_arg2 .. " is missing a loot image for reward " .. f117_local1 .. " (cannot find it on associated loot and no override specified)" )
					end
				end
				local f117_local9, f117_local10 = nil
				for f117_local15, f117_local16 in ipairs( f117_local4[0x43EB98C952E0F8B] ) do
					if f117_local16[0x298D7E844F0DE30] then
						local f117_local14 = f117_local16[0x4E90D9E0484ACD2]
						if not f117_local14 then
						
						else
							f117_local9 = LOOT.GetItemImageByID( f117_local16[0x28887F70BF5EBA] )
						end
						f117_local9 = f117_local14
					end
				end
				f117_local11 = f117_local4[0x43EB98C952E0F8B][1][0x6A7F6B5686DF581]
				f117_local12 = {
					lootImage = f117_local8,
					blackCellLootImage = f117_local9
				}
				if String.IsNilOrEmpty( f117_local11 ) and not f117_local8 then
					f117_local13 = f117_local8
				else
					f117_local13 = f117_local11
				end
				f117_local12.mapOverride = f117_local13
				if String.IsNilOrEmpty( f117_local10 ) and not f117_local9 then
					f117_local13 = f117_local9
				else
					f117_local13 = f117_local10
				end
				f117_local12.blackCellMapOverride = f117_local13
				f117_local12.modelXAnim = f117_local4[0x55F119793EAA4DF]
				BATTLEMAP.STREAMING_SECTOR_ASSETS[f117_arg1][f117_arg2][f117_local1] = f117_local12
			end
		end
	end
	return BATTLEMAP.STREAMING_SECTOR_ASSETS[f117_arg1][f117_arg2]
end

local f0_local20 = function ( f116_arg0 )
	local f116_local0 = 0
	for f116_local5, f116_local6 in ipairs( f116_arg0 ) do
		if not f116_local6[0x106D43E14B658EF] and LOOT.GetTypeForID( f116_local6[0x28887F70BF5EBA] ) == LOOT.itemTypes.CURRENCY_PACK then
			local f116_local4 = tonumber( CURRENCYPACK.GetCount( f116_local6[0x28887F70BF5EBA] ) )
			if f116_local4 then
				f116_local0 = f116_local0 + f116_local4
			end
		end
	end
	return f116_local0
end

BATTLEMAP.GetSectorUnlockData = function ( f113_arg0, f113_arg1, f113_arg2 )
	local f113_local0 = {}
	local f113_local1 = BATTLEMAP.GetSectorRewards( f113_arg1, f113_arg2 )
	local f113_local2 = BATTLEMAP.GetSectorProgress( f113_arg0, f113_arg2, f113_arg1 )
	local f113_local3 = BATTLEMAP.GetSectorType( f113_arg2, f113_arg1 )
	local f113_local4 = true
	if not BATTLEMAP.SECTOR_UNLOCK_DATA then
		BATTLEMAP.SECTOR_UNLOCK_DATA = {}
	end
	if not BATTLEMAP.SECTOR_UNLOCK_DATA[f113_arg1] then
		BATTLEMAP.SECTOR_UNLOCK_DATA[f113_arg1] = {}
	end
	if not BATTLEMAP.SECTOR_UNLOCK_DATA[f113_arg1][f113_arg2] then
		BATTLEMAP.SECTOR_UNLOCK_DATA[f113_arg1][f113_arg2] = {}
		for f113_local5 = 1, BATTLEMAP.NUM_UNLOCKS_PER_SECTOR, 1 do
			if f113_local1 and f113_local1[f113_local5] then
				local f113_local8 = BATTLEMAP.GetBattleMapSectorRewards( f113_local1[f113_local5][0x3E3665069C49994] )
				local f113_local9 = GL_HACK.GetCorrectLootID( f113_arg1, f113_arg2, tonumber( f113_local8[0x43EB98C952E0F8B][1][0x28887F70BF5EBA] ) )
				local f113_local10 = LOOT.GetTypeForID( f113_local9 )
				local f113_local11 = LOOT.GetItemRef( f113_local9 )
				local f113_local12 = f113_local8[0x43EB98C952E0F8B][1][0x4BF36E7EED39F1C]
				local f113_local13 = f113_local8[0x43EB98C952E0F8B][1][0x4E90D9E0484ACD2]
				if String.IsNilOrEmpty( f113_local13 ) and not String.IsNilOrEmpty( f113_local11 ) then
					local f113_local14 = function ()
						local f115_local0 = nil
						if Dvar[0x9E5BE3B4BBA4E0E]( 0x8E6C20FE1BA6370 ) then
							local f115_local1, f115_local2 = pcall( LOOT.GetItemImage, f113_arg0, f113_arg0, f113_arg0 )
							if not f115_local1 then
								
							else
								
							end
							f115_local0 = f115_local2
						elseif f113_arg0 == LOOT.itemTypes.CURRENCY_PACK then
							f115_local0 = 0xC4B3F0CF634EBF8
						elseif f113_arg0 == LOOT.itemTypes.WEAPON and WEAPON.IsBaseWeapon( f113_arg0 ) then
							f115_local0 = WEAPON.GetProgressionImage( f113_arg0 )
						else
							f115_local0 = LOOT.GetItemImage( f113_arg0, f113_arg0, f113_arg0 )
						end
						return f115_local0
					end
					
					if f113_local10 == LOOT.itemTypes.OPERATOR then
						local f113_local15 = OPERATOR.GetTorso( f113_local11 )
						if not f113_local15 then
							f113_local13 = f113_local15
						end
					end
					f113_local13 = f113_local14()
				end
				if String.IsNilOrEmpty( f113_local13 ) then
					f113_local13 = 0xC0A944FD8921418
					if not BATTLEMAP._hasShownLootImageError then
						BATTLEMAP._hasShownLootImageError = true
						LUI.FlowManager.RequestDevErrorPopup( "BattleMap", "Sector " .. f113_arg2 .. " is missing a loot image for reward " .. f113_local5 .. " (cannot find it on associated loot and no override specified)" )
					end
				end
				local f113_local14 = nil
				local f113_local15 = BATTLEMAP.GetSectorType( f113_arg2 )
				if f113_local15 == BATTLEMAP.SectorType.INSTANT then
					f113_local14 = BATTLEPASS.IsOwned( f113_arg0, f113_arg1 )
				elseif f113_local15 == BATTLEMAP.SectorType.FINAL then
					f113_local14 = BATTLEMAP.GetSectorState( f113_arg0, f113_arg2, f113_arg1 ) == BATTLEMAP.SectorState.COMPLETED
				elseif f113_local15 == BATTLEMAP.SectorType.BLACK_CELL then
					f113_local14 = BATTLEPASS.IsBlackCellOwned( f113_arg0, f113_arg1 )
				else
					f113_local14 = f113_local2[f113_local5]
				end
				if f113_local5 < BATTLEMAP.NUM_UNLOCKS_PER_SECTOR and not f113_local14 then
					f113_local4 = false
				end
				local f113_local16, f113_local17, f113_local18, f113_local19, f113_local20, f113_local21, f113_local22, f113_local23, f113_local24, f113_local25, f113_local26, f113_local27 = nil
				for f113_local28 = 2, #f113_local8[0x43EB98C952E0F8B], 1 do
					local f113_local31 = f113_local8[0x43EB98C952E0F8B][f113_local28]
					if not f113_local16 and f113_local31[0x298D7E844F0DE30] then
						f113_local16 = f113_local31[0x28887F70BF5EBA]
						local f113_local32 = f113_local31[0x4E90D9E0484ACD2]
						if not f113_local32 then
							f113_local17 = f113_local32
						else
							f113_local17 = LOOT.GetItemImageByID( f113_local16 )
						end
						f113_local18 = f113_local31[0x6A7F6B5686DF581]
						f113_local19 = f113_local31[0xB5AD805D44BBEF9]
						f113_local20 = f113_local31[0x4BF36E7EED39F1C]
						if not CONDITIONS.IsMobileOrMobileSim() then
							break
						end
					end
					if CONDITIONS.IsMobileOrMobileSim() then
						local f113_local32 = f113_local31[0x28887F70BF5EBA]
						local f113_local33 = LOOT.GetTypeForID( f113_local32 )
						local f113_local34 = LOOT.IsItemAvailableForCurrentProjectFromLootId( f113_local33, f113_local32 )
						local f113_local35 = LOOT.GetItemAvailableProjectsArrayFromLootId( f113_local33, f113_local32 )
						local f113_local36
						if f113_local35 then
							f113_local36 = f113_local35
						elseif #f113_local35 == 1 then
							f113_local36 = f113_local34
						else
							f113_local36 = false
						end
						if not f113_local21 and f113_local36 then
							local f113_local37 = LOOT.GetItemRef( f113_local32 )
							f113_local23 = f113_local37
							f113_local22 = f113_local33
							f113_local21 = f113_local32
							f113_local24 = LOOT.GetItemName( f113_local33, f113_local37, f113_local32 )
							local f113_local38 = f113_local31[0x4E90D9E0484ACD2]
							if not f113_local38 then
								f113_local25 = f113_local38
							else
								f113_local25 = LOOT.GetItemImageByID( f113_local21 )
							end
							f113_local26 = f113_local31[0x6A7F6B5686DF581]
							f113_local27 = f113_local31[0x4BF36E7EED39F1C]
						end
						if f113_local16 and f113_local21 then
							break
						end
					end
				end
				local f113_local28 = f113_local8[0x43EB98C952E0F8B][1][0x6A7F6B5686DF581]
				local f113_local29 = f113_local8[0x43EB98C952E0F8B][1][0xB5AD805D44BBEF9]
				local f113_local30 = f113_local8[0x43EB98C952E0F8B][1][0x154672176D36953]
				local f113_local39 = f113_local8[0x43EB98C952E0F8B][1][0x1875646949A66C7]
				local f113_local31 = f113_local8[0x43EB98C952E0F8B][1][0x3768BF56B809718]
				local f113_local32, f113_local33 = nil
				if f113_local15 == BATTLEMAP.SectorType.LIMITED_TIME then
					f113_local32 = f113_local8[0x237D708001D7846]
					f113_local33 = f113_local8[0x9314B8B6FD92AC1]
				end
				local f113_local34 = nil
				if Dvar[0x9E5BE3B4BBA4E0E]( 0x8E6C20FE1BA6370 ) then
					local f113_local35, f113_local36 = pcall( LOOT.GetItemName, f113_local10, f113_local11, f113_local9 )
					if not f113_local35 then
						f113_local36 = ""
					end
					f113_local34 = f113_local36
				else
					f113_local34 = LOOT.GetItemName( f113_local10, f113_local11, f113_local9 )
				end
				local f113_local35 = function ( f114_arg0, f114_arg1 )
					local f114_local0 = f114_arg0
					if String.IsNilOrEmpty( f114_arg0 ) then
						if String.IsNilOrEmpty( f114_arg1 ) then
							f114_local0 = 0xC0A944FD8921418
						else
							f114_local0 = f114_arg1
						end
					end
					return f114_local0
				end
				
				local f113_local36 = {
					lootID = f113_local9,
					lootType = f113_local10,
					lootRef = f113_local11,
					lootName = f113_local34,
					lootNameOverride = f113_local12,
					lootImage = f113_local13,
					isOwned = f113_local14,
					isFree = f113_local8[0xBEBFE18E2D7346B],
					rewardRef = f113_local1[f113_local5][0x3E3665069C49994]
				}
				local f113_local37
				if f113_local5 >= BATTLEMAP.NUM_UNLOCKS_PER_SECTOR then
					if f113_local5 == BATTLEMAP.NUM_UNLOCKS_PER_SECTOR then
						f113_local37 = f113_local4
					else
						f113_local37 = false
					end
				else
					f113_local37 = true
				end
				f113_local36.isUnlocked = f113_local37
				f113_local37 = f113_local8[0x4A1C56BD037FC89]
				if not f113_local37 then
					f113_local37 = f113_local5 == BATTLEMAP.NUM_UNLOCKS_PER_SECTOR
				end
				f113_local36.isHVT = f113_local37
				f113_local36.isChase = f113_local8[0x55EC55EBC7E91CD]
				f113_local36.modelName = f113_local8[0x2B9125D5FFE831F]
				f113_local36.bgModelName = f113_local8[0x6344311B59287BA]
				f113_local36.blackcellModelName = f113_local8[0x3083DDB85D3878E]
				f113_local36.blackcellbgModelName = f113_local8[0xD386F778F28CDE3]
				f113_local37 = f113_local8[0x1416E80A3F9F9F6]
				if not f113_local37 then
					f113_local37 = 0
				end
				f113_local36.rotationOffset = f113_local37
				f113_local37 = {}
				local f113_local38 = f113_local8[0x69C7ADAFC4640C4]
				if not f113_local38 then
					f113_local38 = 0
				end
				f113_local37.x = f113_local38
				f113_local38 = f113_local8[0xE1695DE4C7EE517]
				if not f113_local38 then
					f113_local38 = 0
				end
				f113_local37.y = f113_local38
				f113_local38 = f113_local8[0xC083CBD15FAC56A]
				if not f113_local38 then
					f113_local38 = 0
				end
				f113_local37.z = f113_local38
				f113_local36.bgOffset = f113_local37
				f113_local36.unlockVfx = f113_local8[0xCF604821145CB4F]
				f113_local36.unlockVfxFree = f113_local8[0xE062E56C14C3E6D]
				f113_local36.ambientVfx = f113_local8[0xC48FBF2096CCE91]
				f113_local36.visionSetLocked = f113_local8[0x8A06B1D25958159]
				f113_local36.visionSetUnlocked = f113_local8[0x61BCA5BDA28B656]
				f113_local36.rotationUpperLimit = f113_local8[0xBDF5C8CC0C37187]
				f113_local36.rotationLowerLimit = f113_local8[0xA4F9A4E9D855BC]
				f113_local36.sectorIndex = f113_arg2
				f113_local36.sectorRewardIndex = f113_local5
				f113_local36.hudOutline = f113_local8[0xAF718F456E0B383]
				f113_local36.blackCellLootID = f113_local16
				f113_local36.blackCellLootImage = String.IsNilOrEmpty( f113_local17 ) and 0xC0A944FD8921418 or f113_local17
				f113_local36.blackCellLootNameOverride = f113_local20
				f113_local36.mobileLootID = f113_local21
				f113_local36.mobileLootRef = f113_local23
				f113_local36.mobileLootType = f113_local22
				f113_local36.mobileLootName = f113_local24
				f113_local36.mobileLootImage = f113_local25
				f113_local36.mobileLootNameOverride = f113_local27
				if String.IsNilOrEmpty( f113_local26 ) and not f113_local25 then
					f113_local37 = f113_local25
				else
					f113_local37 = f113_local26
				end
				f113_local36.mobileMapOverride = f113_local37
				if String.IsNilOrEmpty( f113_local28 ) and not f113_local13 then
					f113_local37 = f113_local13
				else
					f113_local37 = f113_local28
				end
				f113_local36.mapOverride = f113_local37
				f113_local36.mapHoverOverride = f113_local29
				f113_local36.blackCellMapOverride = f113_local35( f113_local18, f113_local17 )
				f113_local36.blackCellMapHoverOverride = f113_local19
				f113_local36.aarRenderImage = String.IsNilOrEmpty( f113_local30 ) and 0xC0A944FD8921418 or f113_local30
				f113_local36.aarRenderMask = String.IsNilOrEmpty( f113_local39 ) and 0x8FE1BA59554C5AF or f113_local39
				f113_local36.quantity = f113_local31
				f113_local36.modelXAnim = f113_local8[0x55F119793EAA4DF]
				f113_local36.currencyPackAmount = f0_local0( f113_local8[0x43EB98C952E0F8B] )
				f113_local36.linkedChallengeID = f113_local32
				f113_local36.linkedChallengeKind = f113_local33
				BATTLEMAP.SECTOR_UNLOCK_DATA[f113_arg1][f113_arg2][f113_local5] = f113_local36
			end
		end
	else
		for f113_local5 = 1, BATTLEMAP.NUM_UNLOCKS_PER_SECTOR, 1 do
			local f113_local8 = nil
			local f113_local9 = BATTLEMAP.GetSectorType( f113_arg2 )
			if f113_local9 == BATTLEMAP.SectorType.INSTANT then
				f113_local8 = BATTLEPASS.IsOwned( f113_arg0, f113_arg1 )
			elseif f113_local9 == BATTLEMAP.SectorType.FINAL then
				f113_local8 = BATTLEMAP.GetSectorState( f113_arg0, f113_arg2, f113_arg1 ) == BATTLEMAP.SectorState.COMPLETED
			elseif f113_local9 == BATTLEMAP.SectorType.BLACK_CELL then
				f113_local8 = BATTLEPASS.IsBlackCellOwned( f113_arg0, f113_arg1 )
			else
				f113_local8 = f113_local2[f113_local5]
			end
			if f113_local5 < BATTLEMAP.NUM_UNLOCKS_PER_SECTOR and not f113_local8 then
				f113_local4 = false
			end
			if f113_local1[f113_local5] then
				local f113_local10 = BATTLEMAP.SECTOR_UNLOCK_DATA[f113_arg1][f113_arg2][f113_local5]
				if not f113_local10 then
					f113_local10 = {}
					BATTLEMAP.SECTOR_UNLOCK_DATA[f113_arg1][f113_arg2][f113_local5] = f113_local10
				end
				local f113_local11
				if f113_local5 >= BATTLEMAP.NUM_UNLOCKS_PER_SECTOR then
					if f113_local5 == BATTLEMAP.NUM_UNLOCKS_PER_SECTOR then
						f113_local11 = f113_local4
					else
						f113_local11 = false
					end
				else
					f113_local11 = true
				end
				f113_local10.isUnlocked = f113_local11
				f113_local10.isOwned = f113_local8
			end
		end
	end
	return BATTLEMAP.SECTOR_UNLOCK_DATA[f113_arg1][f113_arg2]
end

BATTLEMAP.GetUnlockableDataByRewardIndex = function ( f112_arg0, f112_arg1, f112_arg2, f112_arg3 )
	if not BATTLEMAP.SECTOR_UNLOCK_DATA then
		BATTLEMAP.SECTOR_UNLOCK_DATA = {}
	end
	if not BATTLEMAP.SECTOR_UNLOCK_DATA[f112_arg1] then
		BATTLEMAP.SECTOR_UNLOCK_DATA[f112_arg1] = {}
	end
	if not BATTLEMAP.SECTOR_UNLOCK_DATA[f112_arg1][f112_arg2] then
		local f112_local0 = BATTLEMAP.GetSectorUnlockData( f112_arg0, f112_arg1, f112_arg2 )
	end
	return BATTLEMAP.SECTOR_UNLOCK_DATA[f112_arg1][f112_arg2][f112_arg3]
end

local f0_local21 = function ( f111_arg0, f111_arg1, f111_arg2, f111_arg3 )
	local f111_local0 = SEASON.GetCurrentSeason()
	local f111_local1 = BATTLEMAP.CanGetSectorState( BATTLEMAP.GetSectorType( f111_arg1, f111_local0 ) )
	for f111_local7, f111_local8 in ipairs( BATTLEMAP.GetSectorUnlockData( f111_arg0, f111_local0, f111_arg1 ) ) do
		local f111_local9 = SEASON.GetCurrentSeason()
		local f111_local6 = 1
		if f111_local1 then
			f111_local8.tierIndex = f111_arg3
			f111_local8.tierPosition = f111_local6
			f111_local8.rewardType = BATTLEPASS.REWARD_TYPE.NORMAL
			f111_arg3 = f111_arg3 + 1
		end
		table.insert( f111_arg2, f111_local8 )
		if Dvar[0x9E5BE3B4BBA4E0E]( 0x49D6A9B706B9809 ) and f111_local8.blackCellLootID then
			local f111_local5 = Table.ShallowCopy( f111_local8 )
			f111_local6 = f111_local6 + 1
			f111_local5.tierPosition = f111_local6
			f111_local5.isChase = false
			f111_local5.lootID = f111_local8.blackCellLootID
			f111_local5.lootImage = f111_local8.blackCellLootImage
			f111_local5.modelName = f111_local8.blackcellModelName
			f111_local5.bgModelName = f111_local8.blackcellbgModelName
			f111_local5.mapOverride = f111_local8.blackCellMapOverride
			f111_local5.sectorRewardIndex = f111_local8.sectorRewardIndex
			f111_local5.rewardType = BATTLEPASS.REWARD_TYPE.BLACKCELL
			table.insert( f111_arg2, f111_local5 )
		end
		if Dvar[0x9E5BE3B4BBA4E0E]( 0x454713D8EF05419 ) and f111_local8.mobileLootID then
			local f111_local5 = Table.ShallowCopy( f111_local8 )
			f111_local5.tierPosition = f111_local6 + 1
			f111_local5.isChase = false
			f111_local5.lootID = f111_local8.mobileLootID
			f111_local5.lootType = f111_local8.mobileLootType
			f111_local5.lootImage = f111_local8.mobileLootImage
			f111_local5.mapOverride = f111_local8.mobileMapOverride
			f111_local5.sectorRewardIndex = f111_local8.sectorRewardIndex
			f111_local5.rewardType = BATTLEPASS.REWARD_TYPE.MOBILE
			table.insert( f111_arg2, f111_local5 )
		end
	end
	return f111_arg3
end

local f0_local22 = function ( f110_arg0, f110_arg1 )
	local f110_local0 = nil
	local f110_local1 = true
	local f110_local2 = false
	for f110_local6, f110_local7 in ipairs( f110_arg0 ) do
		if f110_local7 == f110_arg1 then
			f110_local0 = f110_local6
		end
	end
	f110_local3 = #f110_arg0
	f110_local4 = f110_local3 / 2
	if f110_local3 % 2 == 0 then
		if f110_arg1 == f110_arg0[f110_local4 + 1] then
			f110_local1 = false
			f110_local2 = true
		end
	elseif f110_arg1 == f110_arg0[math.ceil( f110_local4 )] then
		f110_local1 = false
		f110_local2 = false
	end
	return f110_local1, f110_local2, f110_local0
end

local f0_local23 = function ( f109_arg0 )
	local f109_local0 = {}
	local f109_local1 = {}
	for f109_local2 = 1, #f109_arg0, 1 do
		if f109_arg0[f109_local2].tierIndex then
			local f109_local5 = f109_arg0[f109_local2].tierIndex
			if f109_local1[f109_local5] == nil then
				f109_local1[f109_local5] = true
			end
			if f109_local1[f109_local5] == true then
				f109_local0[f109_local5] = {}
			end
		end
	end
	for f109_local2 = 1, #f109_arg0, 1 do
		if f109_arg0[f109_local2].tierIndex then
			local f109_local5 = f109_arg0[f109_local2].tierIndex
			if f109_local0[f109_local5] ~= nil then
				table.insert( f109_local0[f109_local5], f109_local2 )
			end
		end
	end
	return f109_local0
end

local f0_local24 = function ( f108_arg0 )
	local f108_local0 = f0_local0( f108_arg0 )
	for f108_local1 = 1, #f108_arg0, 1 do
		local f108_local4 = f108_arg0[f108_local1].tierIndex
		if f108_local0[f108_local4] then
			local f108_local5, f108_local6, f108_local7 = f0_local0( f108_local0[f108_local4], f108_local1 )
			f108_arg0[f108_local1].blackCellGroupData = {
				indexInGroup = f108_local7,
				groupLength = #f108_local0[f108_local4],
				hideTierNumber = f108_local5,
				alignLeft = f108_local6
			}
		end
	end
end

BATTLEMAP.MobileGetLinearRewardsData = function ( f107_arg0, f107_arg1 )
	local f107_local0
	if not f107_arg1 then
		f107_local0 = f107_arg1
	else
		f107_local0 = SEASON.GetCurrentSeason()
	end
	if not BATTLEMAP.LINEAR_UNLOCK_DATA then
		BATTLEMAP.LINEAR_UNLOCK_DATA = {}
	end
	if not BATTLEMAP.LINEAR_UNLOCK_DATA[f107_local0] then
		BATTLEMAP.LINEAR_UNLOCK_DATA[f107_local0] = {}
		local f107_local1 = 1
		if Dvar[0x9E5BE3B4BBA4E0E]( 0x49D6A9B706B9809 ) then
			f107_local1 = f0_local0( f107_arg0, BATTLEMAP.BLACK_CELL, BATTLEMAP.LINEAR_UNLOCK_DATA[f107_local0], f107_local1 )
		end
		for f107_local2 = BATTLEMAP.BONUS_SECTOR_INDEX, BATTLEMAP.FINAL_SECTOR, 1 do
			f107_local1 = f0_local0( f107_arg0, f107_local2, BATTLEMAP.LINEAR_UNLOCK_DATA[f107_local0], f107_local1 )
		end
		f0_local0( BATTLEMAP.LINEAR_UNLOCK_DATA[f107_local0] )
	end
	return BATTLEMAP.LINEAR_UNLOCK_DATA[f107_local0]
end

BATTLEMAP.MobileGetRewardDataAtPosition = function ( f106_arg0, f106_arg1, f106_arg2 )
	local f106_local0
	if not f106_arg1 then
		f106_local0 = f106_arg1
	else
		f106_local0 = SEASON.GetCurrentSeason()
	end
	if not BATTLEMAP.LINEAR_UNLOCK_DATA or not BATTLEMAP.LINEAR_UNLOCK_DATA[f106_local0] then
		BATTLEMAP.MobileGetLinearRewardsData( f106_arg0, f106_arg1 )
	end
	if not f106_arg2 or f106_arg2 < 0 or #BATTLEMAP.LINEAR_UNLOCK_DATA[f106_local0] < f106_arg2 then
		return nil
	else
		return BATTLEMAP.LINEAR_UNLOCK_DATA[f106_local0][f106_arg2]
	end
end

BATTLEMAP.MobileGetRewardDataAtTierIndex = function ( f105_arg0, f105_arg1, f105_arg2 )
	local f105_local0
	if not f105_arg1 then
		f105_local0 = f105_arg1
	else
		f105_local0 = SEASON.GetCurrentSeason()
	end
	if not BATTLEMAP.LINEAR_UNLOCK_DATA or not BATTLEMAP.LINEAR_UNLOCK_DATA[f105_local0] then
		BATTLEMAP.MobileGetLinearRewardsData( f105_arg0, f105_arg1 )
	end
	for f105_local4, f105_local5 in ipairs( BATTLEMAP.LINEAR_UNLOCK_DATA[f105_local0] ) do
		if f105_local5.tierIndex and f105_local5.tierIndex == f105_arg2 and f105_local5.tierPosition and f105_local5.tierPosition == 1 then
			return f105_local5
		end
	end
	return nil
end

BATTLEMAP.MobileGetLinearRewardCount = function ( f104_arg0, f104_arg1 )
	local f104_local0
	if not f104_arg1 then
		f104_local0 = f104_arg1
	else
		f104_local0 = SEASON.GetCurrentSeason()
	end
	if not BATTLEMAP.LINEAR_UNLOCK_DATA or not BATTLEMAP.LINEAR_UNLOCK_DATA[f104_local0] then
		BATTLEMAP.MobileGetLinearRewardsData( f104_arg0, f104_arg1 )
	end
	return #BATTLEMAP.LINEAR_UNLOCK_DATA[f104_local0]
end

local f0_local25 = function ( f103_arg0, f103_arg1, f103_arg2 )
	local f103_local0
	if not f103_arg1 then
		f103_local0 = f103_arg1
	else
		f103_local0 = SEASON.GetCurrentSeason()
	end
	if not BATTLEMAP.LINEAR_UNLOCK_DATA or not BATTLEMAP.LINEAR_UNLOCK_DATA[f103_local0] then
		BATTLEMAP.MobileGetLinearRewardsData( f103_arg0, f103_arg1 )
	end
	for f103_local4, f103_local5 in ipairs( BATTLEMAP.LINEAR_UNLOCK_DATA[f103_local0] ) do
		if f103_arg2( f103_local5 ) then
			return f103_local4
		end
	end
	return -1
end

BATTLEMAP.MobileGetRewardPositionByLegacyData = function ( f101_arg0, f101_arg1, f101_arg2, f101_arg3, f101_arg4 )
	return f0_local0( f101_arg0, f101_arg1, function ( f102_arg0 )
		local f102_local0
		if f102_arg0.lootID ~= f101_arg0 or f102_arg0.sectorIndex ~= f101_arg0 or f102_arg0.sectorRewardIndex ~= f101_arg0 then
			f102_local0 = false
		else
			f102_local0 = true
		end
		return f102_local0
	end
	 )
end

BATTLEMAP.MobileGetRewardPositionByTier = function ( f99_arg0, f99_arg1, f99_arg2, f99_arg3 )
	return f0_local0( f99_arg0, f99_arg1, function ( f100_arg0 )
		local f100_local0
		if f100_arg0.lootID ~= f99_arg0 or f100_arg0.tierIndex ~= f99_arg0 then
			f100_local0 = false
		else
			f100_local0 = true
		end
		return f100_local0
	end
	 )
end

BATTLEMAP.MobileGetProgressingRewardPosition = function ( f97_arg0, f97_arg1 )
	local f97_local0 = BATTLEMAP.GetProgressingRewardIndex( f97_arg0, f97_arg1 )
	local f97_local1 = BATTLEMAP.GetActiveSectorIndex( f97_arg0 )
	return f0_local0( f97_arg0, f97_arg1, function ( f98_arg0 )
		local f98_local0 = f98_arg0.tierPosition
		if f98_local0 then
			f98_local0 = f98_arg0.tierPosition == 1
		end
		local f98_local1
		if f98_arg0.sectorIndex ~= f97_arg0 or f98_arg0.sectorRewardIndex ~= f97_arg0 then
			f98_local1 = false
		else
			f98_local1 = true
		end
		local f98_local2
		if f98_local0 then
			f98_local2 = f98_local0
		else
			f98_local2 = f98_local1
		end
		return f98_local2
	end
	 )
end

BATTLEMAP.MobileGetProgressingTier = function ( f96_arg0, f96_arg1 )
	local f96_local0
	if not f96_arg1 then
		f96_local0 = f96_arg1
	else
		f96_local0 = SEASON.GetCurrentSeason()
	end
	local f96_local1 = BATTLEMAP.MobileGetProgressingRewardPosition( f96_arg0, f96_local0 )
	if f96_local1 == -1 then
		return 1
	else
		return BATTLEMAP.LINEAR_UNLOCK_DATA[f96_local0][f96_local1].tierIndex
	end
end

BATTLEMAP.MobileGetRewardedPositionsOnTier = function ( f95_arg0, f95_arg1, f95_arg2 )
	local f95_local0
	if not f95_arg1 then
		f95_local0 = f95_arg1
	else
		f95_local0 = SEASON.GetCurrentSeason()
	end
	if not BATTLEMAP.LINEAR_UNLOCK_DATA or not BATTLEMAP.LINEAR_UNLOCK_DATA[f95_local0] then
		BATTLEMAP.MobileGetLinearRewardsData( f95_arg0, f95_arg1 )
	end
	local f95_local1 = 0
	for f95_local5, f95_local6 in ipairs( BATTLEMAP.LINEAR_UNLOCK_DATA[f95_local0] ) do
		if f95_local6.tierIndex and f95_local6.tierIndex == f95_arg2 then
			f95_local1 = f95_local1 + 1
		end
	end
	return f95_local1
end

BATTLEMAP.MobileGetRewardState = function ( f94_arg0, f94_arg1, f94_arg2 )
	local f94_local0 = BATTLEPASS.IsOwned( f94_arg0, f94_arg1 )
	local f94_local1 = BATTLEPASS.IsBlackCellOwned( f94_arg0, f94_arg1 )
	local f94_local2 = BATTLEMAP.MobileGetRewardDataAtPosition( f94_arg0, f94_arg1, f94_arg2 )
	local f94_local3 = BATTLEMAP.GetSectorType( f94_local2.sectorIndex, f94_arg1 )
	local f94_local4 = f94_local2.rewardType
	if f94_local3 == BATTLEMAP.SectorType.INSTANT then
		if f94_local4 == BATTLEPASS.REWARD_TYPE.BLACKCELL then
			local f94_local5
			if f94_local1 then
				f94_local5 = BATTLEMAP.RewardStates.CLAIMED
				if not f94_local5 then
				
				else
					return f94_local5
				end
			end
			f94_local5 = BATTLEMAP.RewardStates.LOCKED
		else
			local f94_local5
			if f94_local0 then
				f94_local5 = BATTLEMAP.RewardStates.CLAIMED
				if not f94_local5 then
				
				else
					return f94_local5
				end
			end
			f94_local5 = BATTLEMAP.RewardStates.LOCKED
		end
	elseif f94_local3 == BATTLEMAP.SectorType.BLACK_CELL then
		local f94_local5
		if f94_local1 then
			f94_local5 = BATTLEMAP.RewardStates.CLAIMED
			if not f94_local5 then
			
			else
				return f94_local5
			end
		end
		f94_local5 = BATTLEMAP.RewardStates.LOCKED
	elseif f94_local3 == BATTLEMAP.SectorType.FINAL then
		local f94_local5 = BATTLEMAP.IsBattlemapComplete( f94_arg0, f94_arg1 )
		if f94_local5 then
			if f94_local4 == BATTLEPASS.REWARD_TYPE.BLACKCELL and f94_local5 then
				local f94_local6
				if f94_local1 then
					f94_local6 = BATTLEMAP.RewardStates.CLAIMED
					if not f94_local6 then
					
					else
						return f94_local6
					end
				end
				f94_local6 = BATTLEMAP.RewardStates.LOCKED
			else
				local f94_local6
				if f94_local0 then
					f94_local6 = BATTLEMAP.RewardStates.CLAIMED
					if not f94_local6 then
					
					else
						return f94_local6
					end
				end
				f94_local6 = BATTLEMAP.RewardStates.LOCKED
			end
		else
			return BATTLEMAP.RewardStates.LOCKED
		end
	elseif f94_local2.isOwned then
		if f94_local4 == BATTLEPASS.REWARD_TYPE.BLACKCELL then
			local f94_local5
			if f94_local1 then
				f94_local5 = BATTLEMAP.RewardStates.CLAIMED
				if not f94_local5 then
				
				else
					return f94_local5
				end
			end
			f94_local5 = BATTLEMAP.RewardStates.UNLOCKED
		else
			local f94_local5
			if f94_local0 then
				f94_local5 = BATTLEMAP.RewardStates.CLAIMED
				if not f94_local5 then
				
				else
					return f94_local5
				end
			end
			f94_local5 = BATTLEMAP.RewardStates.UNLOCKED
		end
	elseif BATTLEMAP.MobileGetProgressingTier( f94_arg0, f94_arg1 ) == f94_local2.tierIndex then
		return BATTLEMAP.RewardStates.PROGRESSING
	elseif BATTLEMAP.SectorState.ACTIVE == sectorState then
		if BATTLEMAP.MobileGetProgressingTier( f94_arg0, f94_arg1 ) == f94_local2.tierIndex then
			return BATTLEMAP.RewardStates.PROGRESSING
		else
			return BATTLEMAP.RewardStates.LOCKED
		end
	elseif BATTLEMAP.SectorState.LOCKED == sectorState or BATTLEMAP.SectorState.OPEN == sectorState then
		return BATTLEMAP.RewardStates.LOCKED
	else
		
	end
end

BATTLEMAP.GetProgressingRewardIndex = function ( f93_arg0, f93_arg1 )
	local f93_local0 = BATTLEMAP.GetActiveSectorIndex( f93_arg0 )
	for f93_local1 = 1, BATTLEMAP.NUM_UNLOCKS_PER_SECTOR, 1 do
		local f93_local4 = BATTLEMAP.GetUnlockableDataByRewardIndex( f93_arg0, f93_arg1, f93_local0, f93_local1 )
		if not f93_local4.isOwned then
			return f93_local1
		end
	end
end

BATTLEMAP.GetRewardDetailsName = function ( f92_arg0, f92_arg1 )
	local f92_local0 = BATTLEPASS.GetLootNameFromRewardData( f92_arg0, f92_arg1 )
	if f92_arg1.lootType == LOOT.itemTypes.FEATURE then
		f92_local0 = Engine[0xED84C33EC5F01EA]( 0xFEE8302484FE1FA )
	end
	return f92_local0
end

BATTLEMAP.GetDetailsTagData = function ( f91_arg0, f91_arg1, f91_arg2 )
	local f91_local0 = {}
	local f91_local1 = f91_arg1.lootID
	local f91_local2 = LOOT.GetTypeForID( f91_local1 )
	local f91_local3 = LOOT.GetItemRef( f91_local1 )
	local f91_local4
	if not f91_arg2 then
		f91_local4 = f91_arg2
	else
		f91_local4 = SEASON.GetCurrentSeason()
	end
	local f91_local5 = BATTLEMAP.GetSectorType( f91_arg1.sectorIndex, f91_local4 )
	local f91_local6 = f91_arg1.rewardType
	local f91_local7 = nil
	if f91_local5 == BATTLEMAP.SectorType.BLACK_CELL or f91_local6 == BATTLEPASS.REWARD_TYPE.BLACKCELL then
		f91_local7 = 0xA155DE722C18B7E
	elseif f91_local5 == BATTLEMAP.SectorType.INSTANT then
		f91_local7 = 0xE1C5115E961D1B5
	elseif f91_local5 == BATTLEMAP.SectorType.FINAL then
		f91_local7 = 0xD5023EB94B2A7CA
	elseif f91_arg1.isFree then
		f91_local7 = 0x2B343CB4509BF4
	end
	if f91_local7 then
		table.insert( f91_local0, Engine[0xED84C33EC5F01EA]( f91_local7 ) )
	end
	local f91_local8, f91_local9 = nil
	if f91_local2 == LOOT.itemTypes.WEAPON then
		if WEAPON.IsVariant( f91_arg0, f91_local1 ) then
			local f91_local10 = WEAPON.GetBlueprintBaseRefbyID( f91_local1 )
			local f91_local11 = WEAPON.GetName( f91_local10 )
			local f91_local12 = LOOT.GetItemClassName( f91_local2, f91_local10 )
			table.insert( f91_local0, Engine[0xED84C33EC5F01EA]( f0_local0 ) )
			table.insert( f91_local0, Engine[0xED84C33EC5F01EA]( 0x9037A5F1228B193, f91_local12, f91_local11 ) )
		else
			table.insert( f91_local0, Engine[0xED84C33EC5F01EA]( 0x1E3C92EA02F8324 ) )
			table.insert( f91_local0, LOOT.GetItemClassName( f91_local2, f91_local3 ) )
		end
	elseif f91_local2 == LOOT.itemTypes.OPERATOR_SKIN then
		table.insert( f91_local0, Engine[0xED84C33EC5F01EA]( 0xAF4CD69940F391F ) )
		table.insert( f91_local0, Engine[0xED84C33EC5F01EA]( OPERATOR.GetName( OPERATOR.GetSkinOwnerRef( f91_local3 ) ) ) )
	elseif f91_local2 == LOOT.itemTypes.CURRENCY_PACK then
		local f91_local13 = LOOT.GetCurrencyID( f91_local1 )
		if f91_local13 == LOOT.CurrencyIDs.TROPHY then
			table.insert( f91_local0, Engine[0xED84C33EC5F01EA]( 0x9C439B9AD406A79 ) )
		elseif f91_local13 == LOOT.CurrencyIDs.COD_POINTS then
			table.insert( f91_local0, Engine[0xED84C33EC5F01EA]( 0x6B9F57CFE16B2D9 ) )
		end
	elseif f91_local2 == LOOT.itemTypes.CONSUMABLE then
		if Dvar[0x9E5BE3B4BBA4E0E]( 0x8E6C20FE1BA6370 ) then
			local f91_local13, f91_local10 = pcall( LOOT.GetItemName, LOOT.itemTypes.CONSUMABLE, f91_local3, f91_local1, f91_arg0 )
			if not f91_local13 then
				f91_local10 = ""
			end
			table.insert( f91_local0, f91_local10 )
		else
			table.insert( f91_local0, LOOT.GetItemName( LOOT.itemTypes.CONSUMABLE, f91_local3, f91_local1, f91_arg0 ) )
		end
	elseif f91_local2 == LOOT.itemTypes.FEATURE then
		table.insert( f91_local0, Engine[0xED84C33EC5F01EA]( 0xC5C71CF4900A1F9 ) )
	elseif f91_local2 == LOOT.itemTypes.VEHICLE_CAMO then
		table.insert( f91_local0, LOOT.GetItemClassName( f91_local2, f91_local3 ) )
		local f91_local13 = VEHICLE.GetVehicleCamoByRef( f91_local3 )
		local f91_local10 = VEHICLE.GetVehicleByRef( f91_local13.vehicleRef )
		table.insert( f91_local0, Engine[0xED84C33EC5F01EA]( f91_local10.name ) )
	else
		table.insert( f91_local0, LOOT.GetItemClassName( f91_local2, f91_local3 ) )
	end
	return f91_local0
end

BATTLEMAP.MobileGetDetailsClaimRequirement = function ( f90_arg0, f90_arg1, f90_arg2 )
	local f90_local0 = {}
	local f90_local1 = BATTLEPASS.IsOwned( f90_arg0, f90_arg1 )
	local f90_local2 = BATTLEPASS.IsBlackCellOwned( f90_arg0, f90_arg1 )
	local f90_local3 = BATTLEMAP.MobileGetRewardDataAtPosition( f90_arg0, f90_arg1, f90_arg2 )
	local f90_local4 = f90_local3.rewardType
	local f90_local5 = f90_local3.isFree
	local f90_local6 = BATTLEMAP.GetSectorType( f90_local3.sectorIndex, f90_arg1 )
	local f90_local7 = BATTLEMAP.MobileGetRewardState( f90_arg0, f90_arg1, f90_arg2 )
	if f90_local7 == BATTLEMAP.RewardStates.CLAIMED and (f90_local1 or f90_local5) then
		table.insert( f90_local0, {
			claimed = true,
			text = Engine[0xED84C33EC5F01EA]( 0xA5197E422EF0A7F )
		} )
		return f90_local0
	elseif f90_local5 then
		table.insert( f90_local0, {
			text = Engine[0xED84C33EC5F01EA]( 0x1E2C5B39DF5055C ),
			achieved = f90_local7 == BATTLEMAP.RewardStates.PROGRESSING
		} )
		table.insert( f90_local0, {
			achieved = false,
			text = Engine[0xED84C33EC5F01EA]( 0xD516F92DD0AD2BE )
		} )
		return f90_local0
	elseif f90_local6 == BATTLEMAP.SectorType.BLACK_CELL or f90_local4 == BATTLEPASS.REWARD_TYPE.BLACKCELL then
		table.insert( f90_local0, {
			text = Engine[0xED84C33EC5F01EA]( 0xAD51387CCDDDE7E ),
			achieved = f90_local2
		} )
		if f90_local6 == BATTLEMAP.SectorType.BLACK_CELL or f90_local6 == BATTLEMAP.SectorType.INSTANT then
			return f90_local0
		end
	end
	if not f90_local1 then
		if f90_local4 ~= BATTLEPASS.REWARD_TYPE.BLACKCELL then
			table.insert( f90_local0, {
				achieved = false,
				text = Engine[0xED84C33EC5F01EA]( 0x2A95F5C834F1EF1 )
			} )
		end
		if f90_local6 == BATTLEMAP.SectorType.INSTANT then
			return f90_local0
		end
	end
	if f90_local6 == BATTLEMAP.SectorType.FINAL then
		table.insert( f90_local0, {
			text = Engine[0xED84C33EC5F01EA]( 0x8D3D690A02616ED ),
			achieved = BATTLEMAP.IsBattlemapComplete( f90_arg0, f90_arg1 )
		} )
		return f90_local0
	else
		local f90_local8
		if f90_local7 ~= BATTLEMAP.RewardStates.PROGRESSING and f90_local7 ~= BATTLEMAP.RewardStates.CLAIMED then
			f90_local8 = false
		else
			f90_local8 = true
		end
	end
	if f90_local3.sectorRewardIndex ~= 1 or f90_local3.sectorIndex ~= BATTLEMAP.FIRST_SECTOR_INDEX then
		table.insert( f90_local0, {
			text = Engine[0xED84C33EC5F01EA]( 0x1E2C5B39DF5055C ),
			achieved = f90_local8
		} )
	end
	table.insert( f90_local0, {
		text = Engine[0xED84C33EC5F01EA]( 0xD516F92DD0AD2BE ),
		achieved = f90_local3.isOwned
	} )
	return f90_local0
end

BATTLEMAP.IsRewardFree = function ( f89_arg0, f89_arg1, f89_arg2, f89_arg3 )
	local f89_local0 = BATTLEMAP.GetSectorRewards( f89_arg1, f89_arg2 )
	if not BATTLEMAP.SECTOR_UNLOCK_DATA then
		BATTLEMAP.SECTOR_UNLOCK_DATA = {}
	end
	if not BATTLEMAP.SECTOR_UNLOCK_DATA[f89_arg1] then
		BATTLEMAP.SECTOR_UNLOCK_DATA[f89_arg1] = {}
	end
	local f89_local1 = BATTLEMAP.SECTOR_UNLOCK_DATA[f89_arg1][f89_arg2]
	if f89_local1 and f89_local1[f89_arg3] then
		return f89_local1[f89_arg3].isFree
	elseif f89_local0[f89_arg3] then
		local f89_local2 = BATTLEMAP.GetBattleMapSectorRewards( f89_local0[f89_arg3][0x3E3665069C49994] )
		return f89_local2[0xBEBFE18E2D7346B]
	else
		
	end
end

BATTLEMAP.IsRewardFreeByLootID = function ( f88_arg0, f88_arg1, f88_arg2, f88_arg3 )
	for f88_local6, f88_local7 in ipairs( BATTLEMAP.GetSectorRewards( f88_arg1, f88_arg2 ) ) do
		local f88_local8 = BATTLEMAP.GetBattleMapSectorRewards( f88_local7[0x3E3665069C49994] )
		for f88_local3, f88_local4 in ipairs( f88_local8[0x43EB98C952E0F8B] ) do
			if f88_local4[0x28887F70BF5EBA] ~= nil and f88_local4[0x28887F70BF5EBA] == f88_arg3 then
				return f88_local8[0xBEBFE18E2D7346B]
			end
		end
	end
	return false
end

BATTLEMAP.IsRewardBlackCellExclusive = function ( f87_arg0, f87_arg1, f87_arg2, f87_arg3 )
	if BATTLEMAP.GetSectorType( f87_arg2, f87_arg1 ) == BATTLEMAP.SectorType.BLACK_CELL then
		return true
	end
	for f87_local6, f87_local7 in ipairs( BATTLEMAP.GetSectorRewards( f87_arg1, f87_arg2 ) ) do
		local f87_local8 = BATTLEMAP.GetBattleMapSectorRewards( f87_local7[0x3E3665069C49994] )
		for f87_local3, f87_local4 in ipairs( f87_local8[0x43EB98C952E0F8B] ) do
			if f87_local4[0x28887F70BF5EBA] ~= nil and f87_local4[0x28887F70BF5EBA] == f87_arg3 then
				return f87_local4[0x298D7E844F0DE30]
			end
		end
	end
	return false
end

BATTLEMAP.GetNumberOfCompleteSectorsAndRewards = function ( f86_arg0, f86_arg1 )
	local f86_local0 = 0
	local f86_local1 = 0
	for f86_local2 = 1, BATTLEMAP.NUM_BASE_SECTORS, 1 do
		local f86_local5 = BATTLEMAP.GetSectorProgress( f86_arg0, f86_local2 + 1, f86_arg1 )
		local f86_local6 = true
		for f86_local10, f86_local11 in ipairs( f86_local5 ) do
			if f86_local11 then
				f86_local1 = f86_local1 + 1
			else
				f86_local6 = false
			end
		end
		if f86_local6 then
			f86_local0 = f86_local0 + 1
		end
	end
	return f86_local0, f86_local1
end

local f0_local26 = function ( f85_arg0, f85_arg1 )
	local f85_local0
	if LOOT.GetTypeForID( f85_arg0 ) ~= LOOT.itemTypes.CURRENCY_PACK or LOOT.GetCurrencyID( f85_arg0 ) ~= LOOT.CurrencyIDs.COD_POINTS then
		f85_local0 = false
	else
		f85_local0 = true
	end
	local f85_local1
	if f85_local0 and not f85_arg1 then
		f85_local1 = f85_arg1
	else
		f85_local1 = 0
	end
	return f85_local1
end

BATTLEMAP.IsItemShownInSeasonRecap = function ( f84_arg0, f84_arg1 )
	local f84_local0
	if not f84_arg1 then
		f84_local0 = f84_arg1
	else
		f84_local0 = LOOT.GetTypeForID( f84_arg0 )
	end
	local f84_local1 = f84_local0 == LOOT.itemTypes.FEATURE
	local f84_local2
	if f84_local0 ~= LOOT.itemTypes.CURRENCY_PACK or LOOT.GetCurrencyID( f84_arg0 ) ~= LOOT.CurrencyIDs.TROPHY then
		f84_local2 = false
	else
		f84_local2 = true
	end
	local f84_local3
	if not f84_local1 then
		f84_local3 = not f84_local2
	else
		f84_local3 = false
	end
	return f84_local3
end

local f0_local27 = function ( f83_arg0, f83_arg1 )
	if not f83_arg0[f83_arg1] then
		f83_arg0[f83_arg1] = 0
	end
	f83_arg0[f83_arg1] = f83_arg0[f83_arg1] + 1
end

BATTLEMAP.GetUpsellRewardInfoForCurrentSeason = function ( f82_arg0, f82_arg1, f82_arg2 )
	return BATTLEMAP.GetUpsellRewardInfo( f82_arg0, SEASON.GetCurrentSeason(), f82_arg1, f82_arg2, 0, true, true )
end

BATTLEMAP.GetUpsellRewardInfo = function ( f81_arg0, f81_arg1, f81_arg2, f81_arg3, f81_arg4, f81_arg5, f81_arg6 )
	local f81_local0 = f81_arg1 < SEASON.GetCurrentSeason()
	local f81_local1 = BATTLEMAP.GetActiveSectorIndex( f81_arg0 )
	local f81_local2 = BATTLEMAP.GetNumRewardsRemainingInSector( f81_arg0, f81_local1, f81_arg1 )
	local f81_local3 = 0
	local f81_local4 = 0
	local f81_local5
	if not f81_arg4 then
		f81_local5 = f81_arg4
	else
		f81_local5 = 0
	end
	if f81_local2 < f81_local5 then
		f81_local4 = f81_local5 - f81_local2
		f81_local3 = f81_local2
	else
		f81_local3 = f81_local5
	end
	local f81_local6 = {
		unclaimedCoDPoints = 0,
		unclaimedBlackCellCodPointsThroughRefund = 0,
		freeRewards = 0,
		unclaimedBlackCellRewards = 0,
		unclaimedBlackCellCoDPoints = 0,
		unclaimedRewards = 0,
		unclaimedRewardsTable = {},
		unclaimedBlackCellRewardCountsByType = {},
		unclaimedBlackCellRewardsTable = {}
	}
	if not f81_arg5 then
		local f81_local7 = f81_arg5
	else
		local f81_local7 = BATTLEMAP.AreAllBaseSectorsComplete( f81_arg0, f81_arg1 )
	end
	local f81_local8 = BATTLEMAP.GetSeasonBundle( f81_arg1 )
	if not f81_local8 then
		return f81_local6
	end
	for f81_local9 = 1, #f81_local8[0x8C959E160CAD874], 1 do
		local f81_local12 = BATTLEMAP.GetSectorType( f81_local9, f81_arg1 )
		if f81_local12 ~= BATTLEMAP.SectorType.EVENT and f81_local12 ~= BATTLEMAP.SectorType.LIMITED_TIME then
			for f81_local21, f81_local22 in ipairs( BATTLEMAP.GetSectorUnlockData( f81_arg0, f81_arg1, f81_local9 ) ) do
				local f81_local17 = false
				local f81_local18 = false
				local f81_local23 = LOOT.GetTypeForID( f81_local22.lootID )
				if not f81_local0 or BATTLEMAP.IsItemShownInSeasonRecap( f81_local22.lootID, f81_local23 ) then
					local f81_local16 = LOOT.GetTypeForID( f81_local22.blackCellLootID )
					if f81_local12 == BATTLEMAP.SectorType.INSTANT then
						if not f81_arg2 then
							f81_local6.unclaimedCoDPoints = f81_local6.unclaimedCoDPoints + f0_local0( f81_local22.lootID, f81_local22.currencyPackAmount )
							f81_local6.unclaimedRewards = f81_local6.unclaimedRewards + 1
							f81_local17 = true
						end
						if not f81_arg3 and f81_local22.blackCellLootID then
							f0_local0( f81_local6.unclaimedBlackCellRewardCountsByType, f81_local16 )
							f81_local18 = true
						end
					elseif f81_local12 == BATTLEMAP.SectorType.FINAL then
						if f81_local7 then
							if not f81_arg3 and f81_local22.blackCellLootID then
								f0_local0( f81_local6.unclaimedBlackCellRewardCountsByType, f81_local16 )
								f81_local18 = true
							end
							if not f81_arg2 then
								f81_local6.unclaimedCoDPoints = f81_local6.unclaimedCoDPoints + f0_local0( f81_local22.lootID, f81_local22.currencyPackAmount )
								f81_local6.unclaimedRewards = f81_local6.unclaimedRewards + 1
								f81_local17 = true
							end
						end
					elseif f81_local12 == BATTLEMAP.SectorType.BLACK_CELL then
						if not f81_arg3 then
							local f81_local19 = f81_local22.lootType
							f81_local6.unclaimedBlackCellCoDPoints = f81_local6.unclaimedBlackCellCoDPoints + f0_local0( f81_local22.lootID, f81_local22.currencyPackAmount )
							if f81_local23 == LOOT.itemTypes.OPERATOR or f81_local23 == LOOT.itemTypes.OPERATOR_SKIN then
								f81_local19 = LOOT.itemTypes.OPERATOR
							end
							f81_local18 = true
							f0_local0( f81_local6.unclaimedBlackCellRewardCountsByType, f81_local19 )
						end
					else
						local f81_local19 = f81_local22.isUnlocked and f81_local22.isOwned or f81_arg6
						local f81_local20 = false
						if not f81_local22.isFree or not f81_local19 or f81_local22.isFree and f81_arg6 then
							if not f81_local19 then
								if f81_local9 == f81_local1 and 0 < f81_local3 then
									f81_local3 = f81_local3 - 1
									f81_local20 = true
								elseif 0 < f81_local4 then
									f81_local4 = f81_local4 - 1
									f81_local20 = true
								end
							end
							if f81_local20 and f81_local9 == BATTLEMAP.BONUS_SECTOR_INDEX + BATTLEMAP.NUM_BASE_SECTORS and f81_local22.isHVT then
								local f81_local7 = true
							end
							if f81_local19 or f81_local20 then
								if not f81_arg2 or f81_local20 then
									f81_local6.unclaimedCoDPoints = f81_local6.unclaimedCoDPoints + f0_local0( f81_local22.lootID, f81_local22.currencyPackAmount )
									f81_local6.unclaimedRewards = f81_local6.unclaimedRewards + 1
									f81_local17 = true
								end
								if not f81_arg3 and f81_local22.blackCellLootID then
									f81_local18 = true
									f0_local0( f81_local6.unclaimedBlackCellRewardCountsByType, f81_local16 )
								end
							end
						end
						if f81_local22.isFree and (f81_local19 or f81_local20) then
							f81_local6.freeRewards = f81_local6.freeRewards + 1
						end
					end
				end
				if f81_local17 then
					if not f81_local6.unclaimedRewardsTable[f81_local9] then
						f81_local6.unclaimedRewardsTable[f81_local9] = {}
					end
					f81_local6.unclaimedRewardsTable[f81_local9][f81_local22.sectorRewardIndex] = f81_local22
				end
				if f81_local18 then
					if not f81_local6.unclaimedBlackCellRewardsTable[f81_local9] then
						f81_local6.unclaimedBlackCellRewardsTable[f81_local9] = {}
					end
					f81_local6.unclaimedBlackCellRewardsTable[f81_local9][f81_local22.sectorRewardIndex] = f81_local22
				end
			end
		end
	end
	if f81_arg2 and not f81_arg3 then
		local f81_local10 = BATTLEPASS.GetBattlepassIDBundleForRef( BATTLEPASS.GetPurchaseRef() )
		f81_local6.unclaimedBlackCellCodPointsThroughRefund = f81_local10[0x7384DAB3F540BAA]
	end
	for f81_local24, f81_local12 in pairs( f81_local6.unclaimedBlackCellRewardsTable ) do
		for f81_local15, f81_local21 in pairs( f81_local12 ) do
			f81_local6.unclaimedBlackCellRewards = f81_local6.unclaimedBlackCellRewards + 1
		end
	end
	return f81_local6
end

BATTLEMAP.AreAllBaseSectorsComplete = function ( f80_arg0, f80_arg1 )
	if not f80_arg1 then
		f80_arg1 = SEASON.GetCurrentSeason()
	end
	local f80_local0, f80_local1 = BATTLEMAP.GetNumberOfCompleteSectorsAndRewards( f80_arg0, f80_arg1 )
	return f80_local0 == BATTLEMAP.NUM_BASE_SECTORS
end

BATTLEMAP.GetSeasonProgressionPercent = function ( f79_arg0, f79_arg1 )
	local f79_local0, f79_local1 = BATTLEMAP.GetNumberOfCompleteSectorsAndRewards( f79_arg0, f79_arg1 )
	return f79_local1 / BATTLEMAP.NUM_BASE_SECTORS * BATTLEMAP.NUM_UNLOCKS_PER_SECTOR
end

BATTLEMAP.IsBattlemapComplete = function ( f78_arg0, f78_arg1 )
	return BATTLEMAP.GetSeasonProgressionPercent( f78_arg0, f78_arg1 ) == 1
end

BATTLEMAP.GetBaseMenuScopedData = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return LUI.FlowManager.GetScopedData( "MobileBattlepassMenu" )
	else
		return LUI.FlowManager.GetMainScopedData()
	end
end

BATTLEMAP.GetBattlePassTabMenuName = function ()
	if BATTLEMAP.UseJUPBattleMapDesign() and BATTLEMAP.UseBattleMapLandingScreen() then
		return "JUPBattlePassLanding"
	elseif BATTLEMAP.UseBattleMapLandingScreen() then
		return "BattlePassLanding"
	else
		return BATTLEMAP.GetBattlePassMenuName()
	end
end

BATTLEMAP.GetBattlePassMenuName = function ()
	if BATTLEMAP.UseJUPBattleMapDesign() then
		return "JUPBPMap"
	elseif BATTLEMAP.UseV2BattleMapDesign() then
		return "BPMap"
	else
		return "BattleMapMenu"
	end
end

local f0_local28 = "BattlePassMenu"
BATTLEMAP.GetBattlePassMenuIndexAndTabMenu = function ( f74_arg0 )
	local f74_local0, f74_local1 = nil
	local f74_local2 = LUI.FlowManager.GetMenuStack()
	for f74_local3 = #f74_local2, 1, -1 do
		local f74_local6 = f74_local2[f74_local3]
		if MAINMENUTABS.Layouts[f74_local6.name] then
			f74_local0 = MAINMENUTABS.GetTabIndexFromName( f74_arg0, f74_local6, f0_local0 )
			if f74_local0 then
				f74_local1 = f74_local6
				break
			end
		end
	end
	return f74_local0, f74_local1
end

BATTLEMAP.RestoreFocusToBattlePassTab = function ( f73_arg0 )
	local f73_local0, f73_local1 = BATTLEMAP.GetBattlePassMenuIndexAndTabMenu( f73_arg0 )
	if f73_local1 then
		local f73_local2 = LUI.FlowManager.GetScopedData( f73_local1.name )
		f73_local2.activeTabIndex = f73_local0
		LUI.FlowManager.ClearSavedMenuStatesByControllerIndex( f73_arg0, f73_local1.name )
	end
end

BATTLEMAP.OpenBattleMap = function ( f72_arg0, f72_arg1 )
	local f72_local0, f72_local1 = BATTLEMAP.GetBattlePassMenuIndexAndTabMenu( f72_arg0 )
	if f72_local1 then
		local f72_local2 = LUI.FlowManager.IsMenuOnTop( f72_local1.name )
		local f72_local3 = LUI.FlowManager.GetMenuByName( f72_local1.name )
		local f72_local4
		if f72_local3 then
			f72_local4 = f72_local3
		else
			f72_local4 = f72_local3.menu ~= nil
		end
		local f72_local5
		if f72_local4 then
			f72_local5 = f72_local4
		elseif not GLOBAL_PANEL.IsOpen() or f72_arg1 then
			f72_local5 = LUI.FlowManager.IsInStack( SOCIAL.SOCIAL_MENU_FLYOUT_NAME )
		else
			f72_local5 = true
		end
		if not f72_local2 and not f72_local5 then
			LUI.FlowManager.RequestRestoreMenu( f72_local1.name, true, f72_arg0, true )
		end
		local f72_local6 = LUI.FlowManager.FindTabsAtElement( f72_local1.menu )
		if f72_local6 then
			local f72_local7 = FocusType.MenuFlow
			local f72_local8 = f72_local6
			local f72_local9 = f72_local6.FocusTab
			local f72_local10 = f72_arg0
			local f72_local11 = f72_local0
			local f72_local12 = f72_local7
			local f72_local13 = {}
			local f72_local14
			if f72_local4 then
				f72_local14 = f72_local4
			elseif not f72_local2 then
				f72_local14 = f72_local2
			else
				f72_local14 = f72_local5
			end
			f72_local13.rebuildWidget = f72_local14
			f72_local9( f72_local8, f72_local10, f72_local11, f72_local12, f72_local13 )
		end
	end
end

BATTLEMAP.OpenTokenPurchaseMenu = function ( f71_arg0, f71_arg1 )
	LUI.FlowManager.RequestAddMenu( BATTLEPASS.GetBattlePassTokenPurchaseMenuRef(), true, f71_arg1, false, {
		menuState = BATTLEMAP.TokenMenuState.PURCHASING,
		fromMapPopup = f71_arg0.id == "BPMap"
	}, true )
end

BATTLEMAP.IsChaseReward = function ( f70_arg0, f70_arg1 )
	local f70_local0
	if not f70_arg1.isOwned then
		f70_local0 = not f70_arg1.isUnlocked
	else
		f70_local0 = false
	end
	local f70_local1 = f70_arg1.isChase
	if f70_local1 then
		f70_local1 = f70_local0
	end
	return f70_local1
end

BATTLEMAP.SendBattleMapNavDlogEvent = function ( f69_arg0, f69_arg1, f69_arg2, f69_arg3 )
	local f69_local0 = CoD.GetUTC()
	local f69_local1 = Engine[0x15D98DF5F61904B]
	local f69_local2 = f69_arg1
	local f69_local3 = "dlog_event_bp_ui_nav_interaction"
	local f69_local4 = {
		season = SEASON.GetCurrentSeason()
	}
	local f69_local5
	if not CONDITIONS.IsMobileOrMobileSim() then
		f69_local5 = STORE.UI.DoesPlayerOwnsVaultEdition( f69_arg1 )
	else
		f69_local5 = false
	end
	f69_local4.blackcell_player_b = f69_local5
	f69_local4.old_cp_balance = f69_arg0._oldCPBalance or 0
	f69_local4.new_cp_balance = DataSources.frontEnd.MP.commerce.premiumCurrency:GetValue( f69_arg1 ) or 0
	f69_local4.screen_id = f69_arg0.id
	f69_local4.screen_name = f69_arg2
	f69_local4.time_spent = f69_local0 - f69_arg0.menuEnterTime
	f69_local4.action = f69_arg3
	f69_local1( f69_local2, f69_local3, f69_local4 )
end

BATTLEMAP.SendBattleMapTabEntryDlogEvent = function ( f68_arg0 )
	local f68_local0 = DataSources.frontEnd.MP.commerce.premiumCurrency:GetValue( f68_arg0 )
	local f68_local1 = CoD.GetUTC()
	local f68_local2 = SEASON.GetCurrentSeason()
	local f68_local3 = BATTLEPASS.GetAutoSpendState( f68_arg0 )
	local f68_local4 = nil
	if BATTLEMAP.DLOG_ACTIVE_SECTOR_INDEX ~= -1 then
		f68_local4 = BATTLEMAP.GetSector( f68_local2, BATTLEMAP.DLOG_ACTIVE_SECTOR_INDEX )
	end
	local f68_local5 = f68_local1 - BATTLEMAP.DLOG_ENTER_TIME
	local f68_local6 = Engine[0x15D98DF5F61904B]
	local f68_local7 = f68_arg0
	local f68_local8 = "dlog_event_battle_pass_tab_entry"
	local f68_local9 = {
		bp_session_id = BATTLEMAP.DLOG_INTERACTION_SESSION,
		blackcell_player_b = BATTLEPASS.IsBlackCellOwned( f68_arg0, f68_local2 )
	}
	local f68_local10
	if f68_local4 then
		f68_local10 = f68_local4[0xE03357C933EFDCA]
		if not f68_local10 then
		
		else
			f68_local9.active_sector = f68_local10
			f68_local9.sector_progression_auto_b = f68_local3
			f68_local9.old_cp_balance = BATTLEMAP.DLOG_OLD_CP_BALANCE or 0
			if not f68_local0 then
				f68_local10 = f68_local0
			else
				f68_local10 = 0
			end
			f68_local9.new_cp_balance = f68_local10
			f68_local9.time_spent_on_tab_sec = f68_local5
			f68_local6( f68_local7, f68_local8, f68_local9 )
		end
	end
	f68_local10 = "-1"
end

BATTLEMAP.SendBattleMapSectorBrowsingDlogEvent = function ( f67_arg0 )
	Engine[0x15D98DF5F61904B]( f67_arg0, "dlog_event_battle_pass_sector_browsing", {
		bp_session_id = BATTLEMAP.DLOG_INTERACTION_SESSION,
		hovered_sectors = BATTLEMAP.DLOG_FOCUSED_SECTOR_ARRAY,
		hovered_sector_browse_time_sec = BATTLEMAP.DLOG_FOCUSED_SECTOR_BROWSE_TIME_ARRAY,
		interacted_details_sectors = BATTLEMAP.DLOG_INTERACTED_SECTORS_ARRAY,
		hovered_items_in_sector = BATTLEMAP.DLOG_HOVERED_ITEMS_IN_SECTOR_ARRAY,
		previewed_items_in_sector = BATTLEMAP.DLOG_PREVIEWED_ITEMS_ARRAY,
		blackcell_previewed_items_in_sector = BATTLEMAP.DLOG_BLACKCELL_PREVIEWED_ITEMS_ARRAY
	} )
end

BATTLEMAP.SendBattleMapSectorItemDetailDlogEvent = function ( f66_arg0 )
	Engine[0x15D98DF5F61904B]( f66_arg0, "dlog_event_battle_pass_sector_item_detail_browsing", {
		bp_session_id = BATTLEMAP.DLOG_INTERACTION_SESSION,
		displayed_sector_id = BATTLEMAP.DLOG_SECTOR_PREVIEW_ITEM_DISPLAYED_SECTOR_ID,
		time_spent_sec = CoD.GetUTC() - BATTLEMAP.DLOG_SECTOR_PREVIEW_START_TIME,
		hovered_items_in_sector = BATTLEMAP.DLOG_SECTOR_PREVIEW_HOVERED_ITEMS_IN_SECTOR_ARRAY,
		browsing_item_time_spent = BATTLEMAP.DLOG_SECTOR_PREVIEW_HOVERED_ITEMS_IN_SECTOR_TIME_ARRAY,
		previewed_items_in_sector = BATTLEMAP.DLOG_SECTOR_PREVIEW_PREVIEWED_ITEMS_ARRAY,
		blackcell_previewed_items_in_sector = BATTLEMAP.DLOG_SECTOR_PREVIEW_BLACKCELL_PREVIEWED_ITEMS_ARRAY
	} )
	BATTLEMAP.DLOG_SECTOR_PREVIEW_START_TIME = nil
	BATTLEMAP.DLOG_SECTOR_PREVIEW_ITEM_HOVER_START_TIME = nil
	BATTLEMAP.DLOG_SECTOR_PREVIEW_ITEM_DISPLAYED_SECTOR_ID = nil
	BATTLEMAP.DLOG_SECTOR_PREVIEW_HOVERED_ITEMS_IN_SECTOR_ARRAY = {}
	BATTLEMAP.DLOG_SECTOR_PREVIEW_HOVERED_ITEMS_IN_SECTOR_TIME_ARRAY = {}
	BATTLEMAP.DLOG_SECTOR_PREVIEW_PREVIEWED_ITEMS_ARRAY = {}
	BATTLEMAP.DLOG_SECTOR_PREVIEW_BLACKCELL_PREVIEWED_ITEMS_ARRAY = {}
end

BATTLEMAP.TryStartBattleMapDlogSession = function ( f65_arg0 )
	if BATTLEMAP.DLOG_INTERACTION_SESSION == nil then
		local f65_local0 = CoD.GetUTC()
		BATTLEMAP.DLOG_INTERACTION_SESSION = Engine[0x863AA6457598928]()
		BATTLEMAP.DLOG_OLD_CP_BALANCE = DataSources.frontEnd.MP.commerce.premiumCurrency:GetValue( f65_arg0 ) or 0
		BATTLEMAP.DLOG_ENTER_TIME = f65_local0
	end
end

BATTLEMAP.EndBattleMapDlogSession = function ( f64_arg0 )
	if 3 <= CoD.GetUTC() - BATTLEMAP.DLOG_ENTER_TIME then
		BATTLEMAP.SendBattleMapTabEntryDlogEvent( f64_arg0 )
		BATTLEMAP.SendBattleMapSectorBrowsingDlogEvent( f64_arg0 )
	end
	BATTLEMAP.DLOG_INTERACTION_SESSION = nil
	BATTLEMAP.DLOG_ENTER_TIME = 0
	BATTLEMAP.DLOG_OLD_CP_BALANCE = 0
	BATTLEMAP.DLOG_ACTIVE_SECTOR_INDEX = -1
	BATTLEMAP.DLOG_FOCUSED_SECTOR_ARRAY = {}
	BATTLEMAP.DLOG_FOCUSED_SECTOR_BROWSE_TIME_ARRAY = {}
	BATTLEMAP.DLOG_INTERACTED_SECTORS_ARRAY = {}
	BATTLEMAP.DLOG_HOVERED_ITEMS_IN_SECTOR_ARRAY = {}
	BATTLEMAP.DLOG_PREVIEWED_ITEMS_ARRAY = {}
	BATTLEMAP.DLOG_BLACKCELL_PREVIEWED_ITEMS_ARRAY = {}
end

BATTLEMAP.GetBattleMapWidget = function ( f63_arg0 )
	return CONDITIONS.IsMobileOrMobileSim() and f63_arg0.BattleMapLayout or f63_arg0
end

BATTLEMAP.CurrentSectorState = {}
BATTLEMAP.SetLastSectorState = function ( f62_arg0, f62_arg1, f62_arg2, f62_arg3 )
	BATTLEMAP.CurrentSectorState[f62_arg0] = BATTLEMAP.CurrentSectorState[f62_arg0] or {}
	BATTLEMAP.CurrentSectorState[f62_arg0][f62_arg2] = BATTLEMAP.CurrentSectorState[f62_arg0][f62_arg2] or {}
	BATTLEMAP.CurrentSectorState[f62_arg0][f62_arg2][f62_arg1] = f62_arg3
end

BATTLEMAP.GetLastSectorState = function ( f61_arg0, f61_arg1, f61_arg2 )
	if not BATTLEMAP.CurrentSectorState[f61_arg0] then
		return nil
	elseif not BATTLEMAP.CurrentSectorState[f61_arg0][f61_arg2] then
		return nil
	else
		return BATTLEMAP.CurrentSectorState[f61_arg0][f61_arg2][f61_arg1]
	end
end

BATTLEMAP.GetBattlemapModels = function ( f60_arg0 )
	local f60_local0, f60_local1 = nil
	local f60_local2 = f60_arg0.lootRef
	local f60_local3 = f60_arg0.lootType
	if f60_local3 == LOOT.itemTypes.OPERATOR or f60_local3 == LOOT.itemTypes.OPERATOR_EXECUTION or f60_local3 == LOOT.itemTypes.OPERATOR_SKIN then
		f60_local0 = CLIENT_MODEL.battlePassModels.CHARACTER
		f60_local1 = CLIENT_MODEL.battlePassModels.CHARACTER_BG
	elseif f60_local3 == LOOT.itemTypes.WEAPON or f60_local3 == LOOT.itemTypes.CAMO then
		local f60_local4 = WEAPON.GetWeaponClass( f60_local2 )
		if f60_local4 == WEAPON.pistolClass or f60_local4 == WEAPON.MELEEClass2 then
			local f60_local5 = CLIENT_MODEL.battlePassModels.WEAPON_DETAIL
			if not f60_local5 then
				f60_local0 = f60_local5
			end
		end
		f60_local0 = CLIENT_MODEL.battlePassModels.WEAPON
	elseif f60_local3 == LOOT.itemTypes.VEHICLE_CAMO then
		f60_local0 = CLIENT_MODEL.battlePassModels.VEHICLE
		f60_local1 = CLIENT_MODEL.battlePassModels.ITEMS_BG
	else
		f60_local0 = CLIENT_MODEL.battlePassModels.ITEMS
		f60_local1 = CLIENT_MODEL.battlePassModels.ITEMS_BG
	end
	return f60_local0, f60_local1
end

BATTLEMAP.UseV2BattleMapDesign = function ()
	return Dvar[0x1FAB6D9A30481F8]( 0x1C28EB7741B27D2 ) and Dvar[0x9E5BE3B4BBA4E0E]( 0x1C28EB7741B27D2 ) or false
end

BATTLEMAP.UseBattleMapLandingScreen = function ()
	return Dvar[0x9E5BE3B4BBA4E0E]( 0x9C606F7567A0327 )
end

BATTLEMAP.UseJUPBattleMapDesign = function ()
	return BATTLEPASS.UseJUPBattleMapDesign()
end

BATTLEMAP.SendBattlemapSectorUpdateToServer = function ( f56_arg0, f56_arg1, f56_arg2, f56_arg3, f56_arg4, f56_arg5 )
	local f56_local0 = f56_arg0
	local f56_local1 = "+"
	local f56_local2 = tostring( f56_arg1 )
	local f56_local3 = "+"
	local f56_local4
	if f56_arg2 and not f56_arg2 then
		f56_local4 = f56_arg2
	else
		f56_local4 = "none"
	end
	f56_local0 = f56_local0 .. f56_local1 .. f56_local2 .. f56_local3 .. f56_local4
	if f56_arg3 then
		f56_local0 = f56_local0 .. "+" .. f56_arg3
	else
		f56_local0 = f56_local0 .. "+" .. "-1"
	end
	f56_local1 = f56_local0
	f56_local2 = "+"
	if f56_arg4 then
		f56_local3 = "1"
	else
		f56_local3 = "0"
	end
	f56_local0 = f56_local1 .. f56_local2 .. f56_local3
	if f56_arg5 then
		f56_local0 = f56_local0 .. "+" .. f56_arg5
	end
	Engine[0x90FF5F1FFE3CE9E]( "battlemap_sector_update", f56_local0 )
end

BATTLEMAP.SectionForLootType = function ( f55_arg0, f55_arg1 )
	if f55_arg1 == LOOT.itemTypes.OPERATOR or f55_arg1 == LOOT.itemTypes.OPERATOR_EXECUTION or f55_arg1 == LOOT.itemTypes.OPERATOR_SKIN then
		return "battle_pass_character"
	elseif f55_arg1 == LOOT.itemTypes.WEAPON or f55_arg1 == LOOT.itemTypes.CAMO then
		return "battle_pass_weapon"
	elseif f55_arg1 == LOOT.itemTypes.VEHICLE_CAMO then
		return "battle_pass_vehicle"
	else
		return "battle_pass_items"
	end
end

local f0_local29 = function ( f54_arg0, f54_arg1 )
	local f54_local0 = PLAYER_DATA.IO( f54_arg0, CoD.StatsGroup.NonGame )
	return f54_local0.battlePassBreadCrumbs[f54_arg1 - 1]
end

local f0_local30 = function ( f53_arg0, f53_arg1, f53_arg2 )
	local f53_local0 = f0_local0( f53_arg0, f53_arg1 )
	f53_local0:set( Bit.SetBit( f53_local0:get(), f53_arg2 ) )
	ACTIONS.UploadStats( nil, f53_arg0 )
end

local f0_local31 = function ( f52_arg0, f52_arg1, f52_arg2 )
	local f52_local0 = f0_local0( f52_arg0, f52_arg1 )
	f52_local0:set( Bit.ClearBit( f52_local0:get(), f52_arg2 ) )
	ACTIONS.UploadStats( nil, f52_arg0 )
end

BATTLEMAP.IsSectorRewardNew = function ( f51_arg0, f51_arg1, f51_arg2 )
	if f0_local0 < f51_arg1 then
		return false
	else
		local f51_local0 = f0_local0( f51_arg0, f51_arg1 )
		return Bit.GetBit( f51_local0:get(), f51_arg2 ) == 1
	end
end

BATTLEMAP.SetSectorRewardAsNew = function ( f50_arg0, f50_arg1, f50_arg2 )
	f0_local0( f50_arg0, f50_arg1, f50_arg2 )
end

BATTLEMAP.ClearSectorRewardNewStatus = function ( f49_arg0, f49_arg1, f49_arg2 )
	f0_local0( f49_arg0, f49_arg1, f49_arg2 )
end

BATTLEMAP.IsSectorNew = function ( f48_arg0, f48_arg1 )
	local f48_local0 = f0_local0( f48_arg0, f48_arg1 )
	return Bit.GetBit( f48_local0:get(), f0_local0 ) == 1
end

BATTLEMAP.SetSectorAsNew = function ( f47_arg0, f47_arg1 )
	f0_local0( f47_arg0, f47_arg1, f0_local0 )
end

BATTLEMAP.ClearSectorNewStatus = function ( f46_arg0, f46_arg1 )
	f0_local0( f46_arg0, f46_arg1, f0_local0 )
end

BATTLEMAP.ClearAllBattlePassBreadCrumbs = function ( f45_arg0 )
	for f45_local0 = 1, f0_local0, 1 do
		local f45_local3 = f0_local0( f45_arg0, f45_local0 )
		f45_local3:set( 0 )
	end
	ACTIONS.UploadStats( nil, f45_arg0 )
end

BATTLEMAP.SetAllBattlePassBreadCrumbs = function ( f44_arg0 )
	for f44_local0 = 1, f0_local0, 1 do
		local f44_local3 = f0_local0( f44_arg0, f44_local0 )
		f44_local3:set( f0_local0 )
	end
	ACTIONS.UploadStats( nil, f44_arg0 )
end

BATTLEMAP.UpdateClaimPips = function ( f43_arg0, f43_arg1 )
	if not f43_arg1 then
		f43_arg1 = 0
	end
	for f43_local3, f43_local4 in ipairs( f43_arg0 ) do
		f43_local4:SetVisible( f43_local3 <= f43_arg1 )
	end
end

BATTLEMAP.GetMinimapFocusColor = function ( f42_arg0, f42_arg1, f42_arg2, f42_arg3, f42_arg4 )
	local f42_local0
	if not f42_arg4 then
		f42_local0 = f42_arg4
	else
		f42_local0 = SEASON.GetCurrentSeason()
	end
	local f42_local1 = BATTLEMAP.GetSectorType( f42_arg1, f42_local0 )
	if f42_local1 == BATTLEMAP.SectorType.LIMITED_TIME and BATTLEMAP.IsLimitedTimeClassified() then
		return SWATCHES[0x59BC5FF94F06364][0x407C5AFB212560C]
	elseif f42_local1 == BATTLEMAP.SectorType.INSTANT then
		return SWATCHES[0x59BC5FF94F06364][0x5251443353BA88B]
	elseif f42_local1 == BATTLEMAP.SectorType.FINAL then
		return SWATCHES[0x59BC5FF94F06364][0xE5482EC88A2BEE0]
	elseif f42_local1 == BATTLEMAP.SectorType.BLACK_CELL then
		return SWATCHES[0x59BC5FF94F06364][0xE94AFE9960BC29]
	else
		local f42_local2 = BATTLEMAP.GetSectorState( f42_arg0, f42_arg1, f42_local0 )
		if f42_local2 == BATTLEMAP.SectorState.ACTIVE then
			return SWATCHES[0x59BC5FF94F06364][0x73D368DD7ADF118]
		elseif f42_local2 == BATTLEMAP.SectorState.COMPLETED then
			return SWATCHES[0x59BC5FF94F06364][0x3B3C0045554DB5B]
		else
			return SWATCHES[0x59BC5FF94F06364][0x407C5AFB212560C]
		end
	end
end

local f0_local32 = 200
local f0_local33 = function ( f41_arg0 )
	f41_arg0.BattlePassPurchaseButton:SetAlpha( 1 )
	f41_arg0.InspectPanel.BPTokenProgress:SetAlpha( 1 )
	f41_arg0.InspectPanel.AutoToggle:SetAlpha( 1 )
	f41_arg0.InspectPanel.SectorTagList:SetAlpha( 1 )
	f41_arg0.InspectPanel.MinimapTopo:setPriority( 0 )
	f41_arg0.InspectPanel.MinimapRadial:setPriority( 0 )
	f41_arg0.InspectPanel.SectorID:setPriority( 0 )
end

local f0_local34 = function ( f40_arg0 )
	f40_arg0.InspectPanel.BPTokenProgress:SetAlpha( 0.2 )
	f40_arg0.InspectPanel.AutoToggle:SetAlpha( 0.2 )
	f40_arg0.InspectPanel.SectorTagList:SetAlpha( 0.2 )
	f40_arg0.InspectPanel.BPTokenProgress:setPriority( 6 )
	f40_arg0.InspectPanel.BPTokenProgress:SetAlpha( 0.2 )
	f40_arg0.InspectPanel.MinimapTopo:setPriority( 99 )
	f40_arg0.InspectPanel.MinimapRadial:setPriority( 99 )
	f40_arg0.InspectPanel.SectorID:setPriority( 99 )
end

local f0_local35 = function ( f39_arg0 )
	f39_arg0.BattlePassPurchaseButton:SetAlpha( 0.2 )
	f39_arg0.InspectPanel.BPTokenProgress:setPriority( 99 )
end

local f0_local36 = function ( f37_arg0, f37_arg1 )
	local f37_local0 = {
		{
			tooltip = Onboarding.Tips.BattlePass.AUTO_SWITCH,
			widget = f37_arg0.InspectPanel.AutoToggle
		}
	}
	if f37_arg0._toolTipCount == BATTLEMAP.ToolTipStates.AUTO_SWITCH then
		f0_local0( f37_arg0 )
	end
	TIP.CreateTips( f37_local0[f37_arg0._toolTipCount].tooltip( f37_arg1, f37_local0[f37_arg0._toolTipCount].widget ) )
	f37_arg0:addEventHandler( "completed_onboarding_state", function ( f38_arg0, f38_arg1 )
		f37_arg0._toolTipCount = f37_arg0._toolTipCount + 1
		local f38_local0 = f37_arg0[f37_arg0._toolTipCount]
		if f38_local0 then
			TIP.CreateTips( f38_local0.tooltip( f37_arg0, f38_local0.widget ) )
		end
		if f37_arg0._toolTipCount == #f37_arg0 + 1 then
			f37_arg0( f37_arg0 )
			BATTLEMAP.DoOnboarding( f37_arg0, f37_arg0 )
		end
	end )
end

BATTLEMAP.DoOnboarding = function ( f34_arg0, f34_arg1 )
	f34_arg0.isOnboarding = not Onboarding.BattlePass.WasCompleted( f34_arg1 )
	local f34_local0 = function ()
		if not String.IsNilOrEmpty( f34_arg0._onboardingPopup ) then
			ACTIONS.LeaveMenuByName( f34_arg0._onboardingPopup )
			f34_arg0._onboardingPopup = nil
		end
		BATTLEMAP.DoOnboarding( f34_arg0, f34_arg0 )
	end
	
	local f34_local1 = nil
	f34_local1 = function ()
		if f34_arg0._onboardingState == BATTLEMAP.OnboardingStates.MAP_TRYPTICH then
			local f35_local0 = f34_arg0
			local f35_local1
			if BATTLEMAP.UseJUPBattleMapDesign() then
				f35_local1 = "JupBattlePassHelpPopup"
			else
				f35_local1 = "BattlePassHelpPopup"
			end
			f35_local0._onboardingPopup = f35_local1
			LUI.FlowManager.RequestPopupMenu( nil, f34_arg0._onboardingPopup, true, f34_arg0, false, {
				isOnboarding = true,
				onboardingState = f34_arg0._onboardingState,
				backButtonCallback = f34_arg0
			}, nil, false, true )
		elseif f34_arg0._onboardingState == BATTLEMAP.OnboardingStates.MAP_BOOT then
			f34_arg0:UpdateMapState( f34_arg0, BATTLEMAP.BattlePassStates.MAP_BOOT )
		elseif f34_arg0._onboardingState == BATTLEMAP.OnboardingStates.INITIAL_TRYPTICH then
			local f35_local0 = f34_arg0
			local f35_local1
			if BATTLEMAP.UseJUPBattleMapDesign() then
				f35_local1 = "JupBattlePassHelpPopup"
			else
				f35_local1 = "BattlePassHelpPopup"
			end
			f35_local0._onboardingPopup = f35_local1
			LUI.FlowManager.RequestPopupMenu( nil, f34_arg0._onboardingPopup, true, f34_arg0, false, {
				isOnboarding = true,
				onboardingState = f34_arg0._onboardingState,
				backButtonCallback = f34_arg0
			}, nil, nil, true )
		elseif f34_arg0._onboardingState == BATTLEMAP.OnboardingStates.TOOLTIPS then
			if not f34_arg0._toolTipCount or f34_arg0._toolTipCount <= 0 then
				f34_arg0._toolTipCount = 1
				f34_arg0( f34_arg0, f34_arg0 )
			end
		elseif f34_arg0._onboardingState == BATTLEMAP.OnboardingStates.SPEND_SELECTION then
			local f35_local0 = f34_arg0
			local f35_local1
			if BATTLEMAP.UseJUPBattleMapDesign() then
				f35_local1 = "JupBPAutoSwitchPopup"
			else
				f35_local1 = "BPAutoSwitchPopup"
			end
			f35_local0._onboardingPopup = f35_local1
			LUI.FlowManager.RequestPopupMenu( nil, f34_arg0._onboardingPopup, false, f34_arg0 or 0, false, {
				isAutoSpendOn = true,
				showTooltips = true,
				shouldSelectOption = true,
				backButtonCallBack = f34_arg0
			}, nil, nil, true )
			f34_arg0:UpdateMapState( f34_arg0, BATTLEMAP.BattlePassStates.SPEND_SELECTION )
		elseif f34_arg0._onboardingState == BATTLEMAP.OnboardingStates.END_ONBOARDING then
			f34_arg0._onboardingState = nil
			f34_arg0.isOnboarding = false
			Onboarding.BattlePass.MarkCompleted( f34_arg0 )
			f34_arg0:UpdateMapState( f34_arg0, BATTLEMAP.BattlePassStates.NORMAL )
			BATTLEMAP.CompleteBattlepassFlow( f34_arg0 )
		end
	end
	
	if not f34_arg0._onboardingState then
		local f34_local2
		if f34_arg0.isOnboarding then
			f34_local2 = 1
		else
			f34_local2 = BATTLEMAP.OnboardingStates.END_ONBOARDING
		end
		f34_arg0._onboardingState = f34_local2
	else
		f34_arg0._onboardingState = f34_arg0._onboardingState + 1
	end
	f34_local1()
end

BATTLEMAP.GetAdjacentSectorNames = function ( f33_arg0, f33_arg1 )
	if not f33_arg0 then
		return nil
	end
	local f33_local0 = BATTLEMAP.GetSeasonBundle( SEASON.GetCurrentSeason() )
	local f33_local1 = f33_local0[0x8C959E160CAD874][f33_arg0][0x334EF3B1FAF5F83]
	local f33_local2 = {}
	for f33_local6, f33_local7 in ipairs( f33_local1 ) do
		local f33_local8 = String.Split( f33_local7[0xE03357C933EFDCA], "_" )
		local f33_local9 = String.Split( f33_local8[#f33_local8], "sector" )
		local f33_local10 = f33_local9[1]
		if f33_arg1 then
			table.insert( f33_local2, tonumber( f33_local10 ) )
		else
			table.insert( f33_local2, BATTLEMAP.GetSectorDisplayName( tonumber( f33_local10 ) ) )
		end
	end
	return f33_local2
end

BATTLEMAP.GetBattleMapSectorVisuals = function ( f32_arg0, f32_arg1 )
	local f32_local0 = BATTLEMAP.GetSeasonBundle( f32_arg0 )
	if f32_local0[0x15B7864EBBA94D] then
		local f32_local1 = BATTLEMAP.GetSector( f32_arg0, f32_arg1 )
		return BATTLEMAP.BATTLEMAP_SECTOR_VISUALS[f32_arg0][f32_local1[0x23299920B3EC3AF] + 1]
	else
		local f32_local1 = f0_local0( f32_arg0 )
		return f32_local1[f32_arg1]
	end
end

BATTLEMAP.PreStreamBattleMapAssets = function ( f31_arg0, f31_arg1 )
	if not SEASON.IsValidSeason() then
		return 
	end
	FrontEndScene.EnableStreaming()
	BATTLEMAP.ClearBattleMapStreamedImages()
	if not BATTLEMAP.ImagesToStream then
		BATTLEMAP.ImagesToStream = {}
	end
	if BATTLEMAP.UseJUPBattleMapDesign() then
		table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0x14AFEE272DAAF36 ) )
		table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0x209F2E46066C210 ) )
		table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0xBB659A1D3AFFFC9 ) )
		if f31_arg1 then
			table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0xFBFBE34F9940C76 ) )
			table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0x42A6F4B50C2B502 ) )
		else
			table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0xF9A5AC0B53EC11D ) )
			table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0x32F2301E04327D5 ) )
		end
	else
		table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0xE192DC05AEE7FA6 ) )
		table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0x7341DC6E8A397B0 ) )
		table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0xB3077ADE012ED5D ) )
		if f31_arg1 then
			table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0xF1FF85D949AF4E6 ) )
			table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0x3FAE934FD696F22 ) )
		else
			table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0x404138C626111E1 ) )
			table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( 0xD7D09C0EA063999 ) )
		end
	end
	local f31_local0 = SEASON.GetCurrentSeason()
	local f31_local1 = f0_local0( f31_local0 )
	local f31_local2 = {}
	for f31_local12, f31_local13 in ipairs( f31_local1 ) do
		local f31_local14 = BATTLEMAP.GetBattleMapSectorVisuals( f31_local0, f31_local12 )
		if not String.IsNilOrEmpty( f31_local14[0x5565F5840C0FF4D] ) then
			table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( f31_local14[0x5565F5840C0FF4D] ) )
		end
		if not f31_arg1 then
			if not String.IsNilOrEmpty( f31_local14[0x8B19946AE405D35] ) then
				table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( f31_local14[0x8B19946AE405D35] ) )
			end
			if not String.IsNilOrEmpty( f31_local14[0xB53F31FB63AE14F] ) then
				table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( f31_local14[0xB53F31FB63AE14F] ) )
			end
		end
		if f31_local13[0x79439EF7BFA9C2D] ~= BATTLEMAP.SectorType.LIMITED_TIME or not BATTLEMAP.IsLimitedTimeClassified() then
			local f31_local6 = f0_local0( f31_arg0, f31_local0, f31_local12 )
			if f31_local6 then
				for f31_local10, f31_local11 in ipairs( f31_local6 ) do
					if not String.IsNilOrEmpty( f31_local11.mapOverride ) then
						table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( f31_local11.mapOverride ) )
					end
					if not String.IsNilOrEmpty( f31_local11.blackCellMapOverride ) then
						table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( f31_local11.blackCellMapOverride ) )
					end
					if not f31_arg1 then
						if not String.IsNilOrEmpty( f31_local11.lootImage ) then
							table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( f31_local11.lootImage ) )
						end
						if not String.IsNilOrEmpty( f31_local11.blackCellLootImage ) then
							table.insert( BATTLEMAP.ImagesToStream, RegisterMaterial( f31_local11.blackCellLootImage ) )
						end
					end
					if not String.IsNilOrEmpty( f31_local11.modelXAnim ) then
						table.insert( f31_local2, f31_local11.modelXAnim )
					end
				end
			end
		end
	end
	if 0 < #f31_local2 and not f31_arg1 then
		f31_local3 = Engine[0xEE6F69FEA944B13]()
		f31_local3 = f31_local3.flowManager:GetStackTop()
		f31_local3 = f31_local3.menu
		if f31_local3 then
			STREAMING.RequestModels( f31_arg0, {
				requesterWidget = f31_local3,
				modelType = STREAMING.ModelTypes.Animation,
				models = f31_local2
			} )
		end
	end
	Streaming[0x2D189901DAA9563]( BATTLEMAP.ImagesToStream )
end

BATTLEMAP.ClearBattleMapStreamedImages = function ()
	if BATTLEMAP.ImagesToStream and 0 < #BATTLEMAP.ImagesToStream then
		Streaming[0x6FFD2DD54385156]( BATTLEMAP.ImagesToStream )
		BATTLEMAP.ImagesToStream = {}
	end
end

BATTLEMAP.UpdateBackButton = function ( f29_arg0, f29_arg1 )
	f29_arg0:dispatchEventToRoot( {
		name = "update_menu_title_back_state",
		isDisabled = MAINMENUTABS.ShouldDisableBackingFromBPMenu()
	} )
end

BATTLEMAP.RestoreBackButton = function ( f28_arg0, f28_arg1 )
	f28_arg0:dispatchEventToRoot( {
		name = "restore_menu_title_back_state"
	} )
end

BATTLEMAP.OpenPreviewMenu = function ( f27_arg0, f27_arg1, f27_arg2 )
	local f27_local0 = LOOT.GetTypeForID( f27_arg1 )
	if f27_local0 == LOOT.itemTypes.OPERATOR_SKIN then
		if BATTLEMAP.UseJUPBattleMapDesign() then
			OPERATOR.OpenPreviewMenu( f27_arg0, f27_arg1, {
				sectorData = f27_arg2,
				callerMenuName = BATTLEMAP.JUP_BP_SECTOR_PREVIEW_REF
			} )
		else
			OPERATOR.OpenPreviewMenu( f27_arg0, f27_arg1, {
				sectorData = f27_arg2,
				callerMenuName = BATTLEMAP.BP_SECTOR_PREVIEW_REF
			} )
		end
	elseif f27_local0 == LOOT.itemTypes.WEAPON then
		local f27_local1 = WEAPON.GenerateWeaponTableFromID( f27_arg0, f27_arg1 )
		if 0 < tonumber( f27_local1.variantID ) then
			f27_local1.lootName = WEAPON.GetLootWeaponName( f27_local1.weapon, f27_local1.lootID )
		end
		LUI.FlowManager.RequestAddMenu( GUNSMITH.GetWeaponPreviewMenuRef(), true, f27_arg0, false, {
			storeBundlePreview = true,
			weaponTable = f27_local1,
			sectorData = f27_arg2
		}, true )
	elseif f27_local0 == LOOT.itemTypes.GUN_SCREEN and WEAPON.IsGunscreenVO( f27_arg1 ) then
		local f27_local1 = LUI.FlowManager.GetMainScopedData()
		if f27_local1.focusedButton and f27_local1.focusedButton.AudioIcon then
			WEAPON.PlayRandomGunscreenVOWithSprite( f27_local1.focusedButton, f27_local1.focusedButton.AudioIcon, f27_arg1, WEAPON.AliasVO.Audio_Preview )
		else
			WEAPON.PlayRandomGunscreenVO( f27_arg1, WEAPON.AliasVO.Audio_Preview )
		end
	end
end

BATTLEMAP.GetFirstWeaponInSector = function ( f26_arg0, f26_arg1 )
	for f26_local0 = 1, BATTLEMAP.NUM_UNLOCKS_PER_SECTOR, 1 do
		local f26_local3 = f26_arg1[f26_local0]
		if f26_local3.lootType == LOOT.itemTypes.WEAPON then
			local f26_local4 = WEAPON.GenerateWeaponTableFromID( f26_arg0, f26_local3.lootID )
			return WEAPON.GetWeaponModelName( f26_local4.weapon, f26_local4, {
				includeCamos = true,
				includeAttachments = true,
				includeStickers = true,
				controllerIndex = f26_arg0
			} )
		end
	end
end

BATTLEMAP.IsLimitedTimeEnabled = function ()
	return CONDITIONS.IsDvarBoolEnabled( 0x4F20A214F61ED96 )
end

BATTLEMAP.IsLimitedTimeClassified = function ()
	local f24_local0 = Dvar[0x22EAAB59AA27E9B]( 0x26552C414950A03 )
	local f24_local1
	if f24_local0 and f24_local0 > 0 and CoD.GetUTC() > f24_local0 then
		f24_local1 = false
	else
		f24_local1 = true
	end
	return f24_local1
end

BATTLEMAP.IsInPreEvent = function ()
	local f23_local0 = SEASONAL_EVENT.GetBPEvent()
	if not f23_local0 then
		return false
	end
	local f23_local1 = Engine[0xF16311E3FCA3DCF]()
	if f23_local1 then
		f23_local1 = tostring( f23_local1 )
	else
		f23_local1 = Engine[0x3B8CFB6758EF57C]()
	end
	if SEASONAL_EVENT.IsEpochTimeWithinRange( f23_local1, 0, f23_local0.timeData.startTime ) then
		return true
	end
	return false
end

BATTLEMAP.HasEventStarted = function ()
	local f22_local0 = SEASONAL_EVENT.GetBPEvent()
	if not f22_local0 then
		return false
	end
	local f22_local1 = Engine[0xF16311E3FCA3DCF]()
	local f22_local2 = f22_local0.timeData.startTime
	if f22_local2 then
		f22_local2 = tonumber( f22_local0.timeData.startTime )
	end
	local f22_local3
	if f22_local2 then
		f22_local3 = f22_local2
	elseif f22_local2 > 0 and f22_local2 > f22_local1 then
		f22_local3 = false
	else
		f22_local3 = true
	end
	return f22_local3
end

BATTLEMAP.HasEventEnded = function ()
	local f21_local0 = SEASONAL_EVENT.GetBPEvent()
	if not f21_local0 then
		return true
	end
	local f21_local1 = CoD.GetUTC()
	local f21_local2 = f21_local0.timeData.endTime
	if f21_local2 then
		f21_local2 = tonumber( f21_local0.timeData.endTime )
	end
	local f21_local3
	if f21_local2 then
		f21_local3 = f21_local2
	elseif f21_local2 > 0 and f21_local2 > f21_local1 then
		f21_local3 = false
	else
		f21_local3 = true
	end
	return f21_local3
end

BATTLEMAP.CheckIfBattlePassBreadCrumbsNeedSetting = function ( f20_arg0 )
	local f20_local0 = SEASON.GetCurrentSeason()
	if Engine[0x603A26F08AB3858]( f20_arg0 ) and not Onboarding.BattlePass.DoesPlayerHaveBattlePassBreadCrumbsSet( f20_arg0, f20_local0 ) then
		BATTLEMAP.SetAllBattlePassBreadCrumbs( f20_arg0 )
		Onboarding.BattlePass.MarkBattlePassBreadCrumbsSet( f20_arg0, f20_local0 )
	end
end

BATTLEMAP.HasLimitedTimeSector = function ( f19_arg0 )
	local f19_local0
	if not f19_arg0 then
		f19_local0 = f19_arg0
	else
		f19_local0 = SEASON.GetCurrentSeason()
	end
	local f19_local1 = BATTLEMAP.GetSectorRewards( f19_local0, BATTLEMAP.LIMITED_TIME_SECTOR + 1 )
	local f19_local2
	if f19_local1 then
		f19_local2 = f19_local1
	else
		f19_local2 = f19_local1[BATTLEMAP.NUM_UNLOCKS_PER_SECTOR] ~= nil
	end
	return f19_local2
end

BATTLEMAP.UpdateBattleMapModel = function ( f16_arg0, f16_arg1, f16_arg2 )
	local f16_local0
	if f16_arg2 then
		f16_local0 = f16_arg1.blackcellModelName
		if not f16_local0 then
		
		else
			if not f16_arg2 or not f16_arg1.blackcellbgModelName then
				local f16_local1 = f16_arg1.bgModelName
			end
			local f16_local2, f16_local3 = BATTLEMAP.GetBattlemapModels( f16_arg1, f16_arg2 )
			if not String.IsNilOrEmpty( f16_local0 ) and not String.IsNilOrEmpty( f16_local0 ) and f16_local2 and f16_local3 then
				if f16_arg0.KillCurrentVFX then
					f16_arg0:KillCurrentVFX()
				end
				f16_arg0._currentModel = f16_local2
				CLIENT_MODEL.HideAllBattlePassModels()
				local f16_local4
				if not String.IsNilOrEmpty( f16_arg1.modelXAnim ) then
					f16_local4 = f16_local2.index
				else
					f16_local4 = false
				end
				if f16_local4 then
					STREAMING.RequestModels( f16_arg0._controllerIndex, {
						requesterWidget = f16_arg0,
						modelType = STREAMING.ModelTypes.Animation,
						models = {
							f16_arg1.modelXAnim
						}
					} )
				end
				local f16_local5 = function ()
					if f16_arg0 then
						ClientModel[0x2EF393F1650E09B]( f16_arg0.index, BATTLEMAP.CLIENT_CHARACTER_ANIM_TREE, f16_arg0.modelXAnim )
					end
					CLIENT_MODEL.SetAssetType( f16_arg0, Enum[0x4D1082DFC9AF660][0x912D6AEFE9657E7] )
					CLIENT_MODEL.SetAssetType( f16_arg0, Enum[0x4D1082DFC9AF660][0x912D6AEFE9657E7] )
					local f18_local0
					if f16_arg0.lootType ~= LOOT.itemTypes.OPERATOR and f16_arg0.lootType ~= LOOT.itemTypes.OPERATOR_SKIN and f16_arg0.lootType ~= LOOT.itemTypes.OPERATOR_EXECUTION then
						f18_local0 = false
					else
						f18_local0 = true
					end
					CLIENT_MODEL.SetModel( f16_arg0, f16_arg0, f18_local0 )
					CLIENT_MODEL.SetModel( f16_arg0, f16_arg0 )
					if f16_arg0.angles then
						ClientModel[0xEFA1738E096A743]( f16_arg0.index, {
							xAngle = f16_arg0.angles.xAngle,
							yAngle = f16_arg0.angles.yAngle + f16_arg0.rotationOffset,
							zAngle = f16_arg0.angles.xAngle
						} )
					end
					if f16_arg0.origin then
						ClientModel[0x9C89C00DF9B85ED]( f16_arg0.index, {
							xPosition = f16_arg0.origin.xPosition + f16_arg0.bgOffset.x,
							yPosition = f16_arg0.origin.yPosition + f16_arg0.bgOffset.y,
							zPosition = f16_arg0.origin.zPosition + f16_arg0.bgOffset.z
						} )
					end
				end
				
				if f16_local4 then
					local f16_local6 = "bp_update_battlemapmodel_state_timer"
					f16_arg0:RemoveEventTimer( f16_local6 )
					f16_arg0:CreateEventTimer( f16_local6, 100, {
						immediate = true,
						callbackFunc = function ()
							if Engine[0xBD71010D9F2BF04]( f16_arg0._controllerIndex, {
								f16_arg0.modelXAnim
							} ) then
								f16_arg0()
								f16_arg0:RemoveEventTimer( f16_arg0 )
							end
						end
					} )
				end
				f16_local5()
			end
		end
	end
	f16_local0 = f16_arg1.modelName
end

local f0_local37 = function ()
	local f15_local0 = SEASON.GetCurrentSeason()
	local f15_local1 = PROJECT[0x5A05E13AC947C99][0xAF5E190D2F6E709]
	local f15_local2 = PROJECT[0x5A05E13AC947C99]
	local f15_local3 = f15_local2[0xA0F084E059E6B2B]
	local f15_local4 = PROJECT
	f15_local2[0x5A05E13AC947C99][0xAF5E190D2F6E709] = {}
	f15_local4 = PROJECT
	f15_local4 = f15_local2[0x5A05E13AC947C99]
	f15_local4[0xA0F084E059E6B2B] = {}
	f15_local2 = f15_local1 and f15_local3 or f15_local4
	f15_local4 = PROJECT
	if not f15_local2[0x5A05E13AC947C99][0xAF5E190D2F6E709][f15_local0] or not PROJECT[0x5A05E13AC947C99][0xA0F084E059E6B2B][f15_local0] then
		f15_local2 = f0_local0( f15_local0 )
		if f15_local2 then
			local f15_local5 = {}
			local f15_local6 = {}
			for f15_local10, f15_local11 in ipairs( f15_local2 ) do
				if f15_local11[0x3FC9CB265DD4023] then
					f15_local5[f15_local10 - 1] = true
				end
				if f15_local11[0xB11A70319CB4719] then
					f15_local6[f15_local10 - 1] = true
				end
			end
			PROJECT[0x5A05E13AC947C99][0xAF5E190D2F6E709][f15_local0] = f15_local5
			PROJECT[0x5A05E13AC947C99][0xA0F084E059E6B2B][f15_local0] = f15_local6
		end
	end
	return PROJECT[0x5A05E13AC947C99][0xAF5E190D2F6E709][f15_local0], PROJECT[0x5A05E13AC947C99][0xA0F084E059E6B2B][f15_local0]
end

BATTLEMAP.GetMetadataSectorsToFlip = function ()
	local f14_local0, f14_local1 = f0_local0()
	return f14_local0
end

BATTLEMAP.GetMetadataSectorsToReduceHeight = function ()
	local f13_local0, f13_local1 = f0_local0()
	return f13_local1
end

BATTLEMAP.SetTokenDisclaimer = function ( f12_arg0, f12_arg1, f12_arg2 )
	if CODACCOUNT.GetCountryCode( f12_arg1 ) ~= "US" then
		return 
	elseif f12_arg0 then
		f12_arg0:SetVisible( true )
		f12_arg0:setText( ToUpperCase( f12_arg2 ) )
	end
end

BATTLEMAP.SetPurchaseBladeButton = function ( f11_arg0, f11_arg1, f11_arg2, f11_arg3 )
	if f11_arg2 then
		f11_arg2:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x56BD1A71F8FD6FB, f11_arg3 ) ) )
	end
	if f11_arg0 then
		local f11_local0 = nil
		if BATTLEPASS.IsOwned( f11_arg1 ) then
			f11_local0 = Engine[0xED84C33EC5F01EA]( LUI.IsLastInputKeyboardMouse( f11_arg1 ) and 0x92C2B624B6539BD or 0xE5919AF1C39F8D3 )
		else
			f11_local0 = Engine[0xED84C33EC5F01EA]( LUI.IsLastInputKeyboardMouse( f11_arg1 ) and 0xB837BA12AEFBE55 or 0xF4238B7164AD969 )
		end
		f11_arg0:SetPurchaseTitleText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x6E9DDE77CEDA8C0, f11_local0, f11_arg3 ) ) )
		f11_arg0:AddCPIcon()
	end
end

BATTLEMAP.LogNilUnlockData = function ( f10_arg0, f10_arg1, f10_arg2, f10_arg3, f10_arg4, f10_arg5 )
	Engine[0x15D98DF5F61904B]( f10_arg0, "dlog_event_bp_reward_button_nil_data", {
		sector_index = f10_arg1,
		sector_state = f10_arg2,
		button_index = f10_arg3,
		is_premium = f10_arg4,
		is_complete = f10_arg5
	} )
end

BATTLEMAP.RemapFullGridSectors = function ( f9_arg0, f9_arg1, f9_arg2 )
	local f9_local0 = 35
	local f9_local1 = BATTLEMAP.GetSeasonBundle( f9_arg1 )
	if not f9_local1[0x15B7864EBBA94D] then
		return 
	end
	local f9_local2 = {}
	local f9_local3 = f9_local1[0x8C959E160CAD874]
	local f9_local4 = {}
	for f9_local5 = 1, #f9_local3, 1 do
		local f9_local8 = f9_local3[f9_local5]
		local f9_local9 = f9_local5 - 1
		local f9_local10 = f9_local8[0x23299920B3EC3AF]
		local f9_local11 = f9_arg0[f9_arg2( f9_local10 )]
		if f9_local11 then
			f9_local11._gridSectorIndex = f9_local10
			f9_local11._linearSectorIndex = f9_local9
			f9_local4[f9_local11] = true
			f9_local2[f9_local9] = f9_local11
		end
	end
	for f9_local5 = 0, f9_local0, 1 do
		local f9_local8 = f9_arg2( f9_local5 )
		local f9_local9 = f9_arg0[f9_local8]
		if f9_local9 and f9_local4[f9_local9] == nil then
			f9_local9:closeTree()
		end
		f9_arg0[f9_local8] = nil
	end
	for f9_local5 = 1, #f9_local3, 1 do
		local f9_local8 = f9_local5 - 1
		local f9_local9 = f9_local2[f9_local8]
		if f9_local9 then
			f9_local9[0x8B72E07B55C3AC0] = f9_arg2( f9_local8 )
			f9_arg0[f9_local9[0x8B72E07B55C3AC0]] = f9_local9
		end
	end
end

local f0_local38 = function ( f8_arg0, f8_arg1, f8_arg2 )
	local f8_local0 = MenuBuilder.BuildRegisteredType( 0x0 .. f8_arg1, {
		controllerIndex = f8_arg0._controllerIndex
	} )
	for f8_local4, f8_local5 in ipairs( f8_local0:getAllChildren() ) do
		f8_local5:RemoveFromParent()
		if f8_arg2 then
			f8_local5:addElementBefore( f8_arg2 )
		else
			f8_arg0:addElement( f8_local5 )
		end
		f8_arg0[f8_local5.id] = f8_local5
	end
	f8_local0:closeTree()
	f8_local0 = nil
end

BATTLEMAP.ImportSpecialMapSectorsOntoBattlemap = function ( f7_arg0, f7_arg1, f7_arg2 )
	local f7_local0 = BATTLEMAP.GetSeasonBundle( f7_arg1 )
	if not f7_local0[0x15B7864EBBA94D] then
		return 
	else
		f0_local0( f7_arg0, f7_local0[0xC073E4C8E01E7B1], f7_arg2 )
	end
end

BATTLEMAP.ImportSpecialMapSectorsOntoMinimap = function ( f6_arg0, f6_arg1 )
	local f6_local0 = BATTLEMAP.GetSeasonBundle( f6_arg1 )
	if not f6_local0 then
		return 
	elseif not f6_local0[0x15B7864EBBA94D] then
		return 
	else
		f0_local0( f6_arg0, f6_local0[0x49057F7DBDEA702] )
	end
end

BATTLEMAP.CompleteBattlepassFlow = function ( f5_arg0 )
	DataSources.alwaysLoaded.showingBattlepassFlow:SetValue( f5_arg0, false )
end

BATTLEMAP.IsLimitedTimeSectorLockedReward = function ( f4_arg0, f4_arg1 )
	f4_arg1 = tonumber( f4_arg1 )
	if BATTLEMAP.IsReward( f4_arg1 ) and BATTLEMAP.GetSectorType( BATTLEMAP.LootIdToSectorIndex[f4_arg1] ) == BATTLEMAP.SectorType.LIMITED_TIME and (not BATTLEMAP.IsLimitedTimeEnabled() or BATTLEMAP.IsLimitedTimeClassified()) then
		return true
	else
		return false
	end
end

BATTLEMAP.GetRandomJumpscare = function ()
	local f3_local0 = Engine[0x6093D047200548]( "jumpscare:jumpscare_list" )
	if f3_local0 and f3_local0[0xE920B4B0361C94E] then
		return f3_local0[0xE920B4B0361C94E][math.random( 1, #f3_local0[0xE920B4B0361C94E] )]
	else
		
	end
end

BATTLEMAP.AreBattlePassJumpScaresEnabled = function ( f2_arg0 )
	local f2_local0 = PLAYER_DATA.IO( f2_arg0, CoD.StatsGroup.NonGame )
	return f2_local0.bpJumpScaresDisabled:get() == 0
end

BATTLEMAP.AddAnalyticsData = function ( f1_arg0, f1_arg1 )
	table.insert( f1_arg0, f1_arg1 )
	if #f1_arg0 > BATTLEMAP.DLOG_MAX_ARRAY_COUNT then
		table.remove( f1_arg0, 1 )
	end
end

