-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
module( ..., package.seeall )
require( "ui.generated.widgets.buttons.buttonxlarge" )
require( "ui.generated.widgets.buttons.buttonsmalltall" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbpminimapbutton" )
local f0_local0 = function ( f14_arg0, f14_arg1, f14_arg2 )
	local f14_local0 = f14_arg0.modelName
	local f14_local1 = f14_arg0.bgModelName
	local f14_local2, f14_local3 = BATTLEMAP.GetBattlemapModels( f14_arg0, f14_arg2 )
	if f14_local2 and f14_local3 then
		f14_arg1._currentModel = f14_local2
		CLIENT_MODEL.HideAllBattlePassModels()
		CLIENT_MODEL.SetAssetType( f14_local2, Enum[0x4D1082DFC9AF660][0x912D6AEFE9657E7] )
		CLIENT_MODEL.SetAssetType( f14_local3, Enum[0x4D1082DFC9AF660][0x912D6AEFE9657E7] )
		CLIENT_MODEL.SetModel( f14_local2, f14_local0 )
		CLIENT_MODEL.SetModel( f14_local3, f14_local1 )
		if f14_local2.angles then
			ClientModel[0xEFA1738E096A743]( f14_local2.index, {
				xAngle = f14_local2.angles.xAngle,
				yAngle = f14_local2.angles.yAngle + f14_arg0.rotationOffset,
				zAngle = f14_local2.angles.xAngle
			} )
		end
		if f14_local3.origin then
			ClientModel[0x9C89C00DF9B85ED]( f14_local3.index, {
				xPosition = f14_local3.origin.xPosition + f14_arg0.bgOffset.x,
				yPosition = f14_local3.origin.yPosition + f14_arg0.bgOffset.y,
				zPosition = f14_local3.origin.zPosition + f14_arg0.bgOffset.z
			} )
		end
	end
end

local f0_local1 = function ( f11_arg0, f11_arg1 )
	f11_arg0.BattleMapButton:SetupButton( {
		removeTextBacker = true,
		removeEquipBanner = true,
		imageSize = "Empty",
		buttonData = {
			header = 0x8F548A987649918
		},
		primaryActionText = Engine[0xED84C33EC5F01EA]( 0x7D9DC9E3291E103 )
	} )
	f11_arg0.BattleMapButton:addEventHandler( "button_action", function ( f13_arg0, f13_arg1 )
		LUI.FlowManager.RequestAddMenu( BATTLEPASS.GetBattlePassSectorPreviewMenuRef(), true, f11_arg0, false, {
			isOnboarding = false,
			sectorIndex = BATTLEMAP.GetActiveSectorIndex( f11_arg0 )
		}, true )
	end )
	f11_arg0.BattleMapButton:addEventHandler( "button_over", function ( f12_arg0, f12_arg1 )
		local f12_local0 = BATTLEMAP.GetSectorUnlockData( f11_arg0, SEASON.GetCurrentSeason(), BATTLEMAP.GetActiveSectorIndex( f11_arg0 ) )
		f12_local0 = f12_local0[5]
		local f12_local1 = BATTLEMAP.SectionForLootType( f12_local0.lootRef, f12_local0.lootType, false )
		Engine[0x685AE31DEDA30A4]( f12_local1 )
		BATTLEMAP.SendBattlemapSectorUpdateToServer( f12_local0.rewardRef, BATTLEMAP.BATTLEMAP_SCENES[f12_local1] )
		f11_arg0( f12_local0, f11_arg0, false )
	end )
end

local f0_local2 = function ( f7_arg0, f7_arg1 )
	f7_arg0.UpsellButton:SetupButton( {
		removeTextBacker = true,
		removeEquipBanner = true,
		imageSize = "Empty",
		buttonData = {
			header = 0xA155DE722C18B7E
		},
		primaryActionText = Engine[0xED84C33EC5F01EA]( 0x7D9DC9E3291E103 )
	} )
	f7_arg0.UpsellButton:addEventHandler( "button_action", function ( f8_arg0, f8_arg1 )
		STORE.Popups.OpenGenericFetchPopup( f7_arg0 )
		STORE.AsyncFetchCatalogue( f7_arg0, f7_arg0, {
			useCache = false,
			showEmptyStoreDialog = true,
			onFetchSuccess = function ()
				STORE.Popups.CloseGenericFetchPopup()
				LUI.FlowManager.RequestAddMenu( BATTLEPASS.GetBattlePassPurchaseMenuRef(), true, f8_arg0, false, {
					storeFetchSuccess = true
				}, true )
			end,
			onFetchError = function ( f9_arg0, f9_arg1 )
				STORE.Popups.CloseGenericFetchPopup()
				LUI.FlowManager.RequestAddMenu( BATTLEPASS.GetBattlePassPurchaseMenuRef(), true, f8_arg0, false, {
					storeFetchSuccess = false
				}, true )
			end
		} )
	end )
end

local f0_local3 = function ( f4_arg0, f4_arg1 )
	f4_arg0.CompletionRewardsButton:SetupButton( {
		removeTextBacker = true,
		removeEquipBanner = true,
		imageSize = "Empty",
		buttonData = {
			header = 0x1D4C24DAB92FF5B
		},
		primaryActionText = Engine[0xED84C33EC5F01EA]( 0x7D9DC9E3291E103 )
	} )
	f4_arg0.CompletionRewardsButton:addEventHandler( "button_action", function ( f6_arg0, f6_arg1 )
		LUI.FlowManager.RequestAddMenu( BATTLEPASS.GetBattlePassSectorPreviewMenuRef(), true, f4_arg0, false, {
			isOnboarding = false,
			sectorIndex = BATTLEMAP.FINAL_SECTOR + 1
		}, true )
	end )
	f4_arg0.CompletionRewardsButton:addEventHandler( "button_over", function ( f5_arg0, f5_arg1 )
		local f5_local0 = BATTLEMAP.GetSectorUnlockData( f4_arg0, SEASON.GetCurrentSeason(), BATTLEMAP.FINAL_SECTOR )
		f5_local0 = f5_local0[5]
		local f5_local1 = BATTLEMAP.SectionForLootType( f5_local0.lootRef, f5_local0.lootType, false )
		Engine[0x685AE31DEDA30A4]( f5_local1 )
		BATTLEMAP.SendBattlemapSectorUpdateToServer( f5_local0.rewardRef, BATTLEMAP.BATTLEMAP_SCENES[f5_local1] )
		f4_arg0( f5_local0, f4_arg0, false )
	end )
end

local f0_local4 = function ( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0, f3_arg1 )
	f0_local0( f3_arg0, f3_arg1 )
end

local f0_local5 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f0_local0( f2_arg0, f2_arg1 )
	f2_arg0.BPMinimap:SetupWithFrame( f2_arg1 )
	f2_arg0.BPMinimap:SetupWithPrompt( f2_arg1 )
end

function JupBattlePassLandingButtons( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = f1_local0.UIHorizontalNavigator.new()
	f1_local2:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1744, 0, 204 )
	f1_local2.id = "JupBattlePassLandingButtons"
	local f1_local3
	if f1_arg1 then
		f1_local3 = f1_arg1
	else
		f1_local3 = f1_arg1.controllerIndex
	end
	f1_local3 = f1_local0.ValidateControllerIndex( f1_local2, f1_local3 )
	f1_local2:SetSpacing( 16 )
	local f1_local4 = nil
	f1_local4 = f1_local1.BuildRegisteredType( 0x3B6F7ECC4733506, {
		controllerIndex = f1_local3
	} )
	f1_local4[0x8B72E07B55C3AC0] = "BattleMapButton"
	f1_local4:SetAnchorsAndPosition( 0, 1, 1, 0, 0, 424, -204, 0 )
	f1_local2:addElement( f1_local4 )
	f1_local2[0xAE589CC36320B07] = f1_local4
	local f1_local5 = nil
	f1_local5 = f1_local1.BuildRegisteredType( 0x3B6F7ECC4733506, {
		controllerIndex = f1_local3
	} )
	f1_local5[0x8B72E07B55C3AC0] = "UpsellButton"
	f1_local5:SetAnchorsAndPosition( 0, 1, 1, 0, 440, 864, -204, 0 )
	f1_local2:addElement( f1_local5 )
	f1_local2[0x5BB77582B499B58] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local1.BuildRegisteredType( 0xBFBF3A1663F76AF, {
		controllerIndex = f1_local3
	} )
	f1_local6[0x8B72E07B55C3AC0] = "CompletionRewardsButton"
	f1_local6:SetAnchorsAndPosition( 1, 0, 1, 0, -496, -336, -204, 0 )
	f1_local2:addElement( f1_local6 )
	f1_local2[0xE64F3241EC6497D] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local1.BuildRegisteredType( 0x9FB02E7828A0805, {
		controllerIndex = f1_local3
	} )
	f1_local7[0x8B72E07B55C3AC0] = "BPMinimap"
	f1_local7:SetAnchorsAndPosition( 1, 0, 1, 0, -320, 0, -204, 0 )
	f1_local2:addElement( f1_local7 )
	f1_local2[0xAF4F36F205D2B6] = f1_local7
	f0_local0( f1_local2, f1_local3, f1_arg1 )
	return f1_local2
end

MenuBuilder.registerType( 0xF3662172A4F93B, JupBattlePassLandingButtons )
LockTable( _M )
