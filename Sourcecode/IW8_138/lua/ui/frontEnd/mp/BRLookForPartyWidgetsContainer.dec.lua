-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
module( ..., package.seeall )
local f0_local0 = function ( f9_arg0 )
	f9_arg0.PlayersGrid:SetRefreshChild( FRIENDS.GetRefreshPlayerChildFunc( f9_arg0, f9_arg0._tabID, 1 ) )
end

local f0_local1 = function ( f8_arg0, f8_arg1 )
	local f8_local0 = f8_arg0.PlayersGrid
	f8_local0.playersData = Friends.BJDEIGDDCD()
	local f8_local1 = f8_local0:GetNumChildren()
	local f8_local2 = #f8_local0.playersData
	if f8_local1 ~= f8_local2 then
		f8_local0:SetNumChildren( f8_local2 )
	end
	f8_local0:RefreshContent()
end

local f0_local2 = function ( f4_arg0, f4_arg1, f4_arg2 )
	Engine.DHFCHIIJCA( "squad_lobby" )
	f4_arg0.SetRefreshChildFunc = f0_local0
	f4_arg0.SetNotificationDataSource = SetNotificationDataSource
	f4_arg0.PlayersGrid:SetNumChildren( 0 )
	local self = LUI.UITimer.new( {
		interval = 1000,
		event = "update_social_party"
	} )
	self.id = "socialPartyTimer"
	f4_arg0:addElement( self )
	f4_arg0:addAndCallEventHandler( "update_social_party", f0_local0 )
	f4_arg0._tabID = FRIENDS.TabIDs.PRIVATE_PARTY
	Engine.BJDBIAGIDA( SOUND_SETS.mpMainMenu.matchSearch )
	f4_arg0.StartLookingButton:setActionSFX( SOUND_SETS.default.action )
	f4_arg0.StartLookingButton:addEventHandler( "button_action", function ( f7_arg0, f7_arg1 )
		Engine.EBIDFIDHIE( "lfg_start_search playlists:75" )
	end )
	f4_arg0:SetRefreshChildFunc()
	local f4_local1 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.privateParty.count" )
	local f4_local2 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.privateParty.maxCount" )
	local f4_local3 = function ()
		FRIENDS.SetPlayerGridHeader( f4_arg0, Engine.CBBHFCGDIC( "LUA_MENU/PARTY_COUNT_WITH_ICON", f4_arg0:GetValue( f4_arg0 ) or 0, f4_arg0:GetValue( f4_arg0 ) or 0 ), nil, true )
	end
	
	f4_arg0:SubscribeToModel( f4_local1:GetModel( f4_arg1 ), f4_local3 )
	f4_arg0:SubscribeToModel( f4_local2:GetModel( f4_arg1 ), f4_local3 )
	f4_arg0:addAndCallEventHandler( "onVideoChange", function ()
		local f5_local0 = CoD.GetAspectRatioScaleAdjust( 0.5 )
		f4_arg0.Vignette:SetScale( f5_local0 )
		f4_arg0.GradientRight:SetScale( f5_local0 )
	end )
end

function BRLookForPartyWidgetsContainer( menu, controller )
	local self = LUI.UIVerticalNavigator.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "BRLookForPartyWidgetsContainer"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local PlayersGrid = nil
	
	PlayersGrid = LUI.UIGrid.new( {
		scrollingThresholdX = 1,
		maxVelocity = 5000,
		adjustSizeToContent = false,
		scrollingThresholdY = 1,
		wrapX = false,
		maxVisibleColumns = 1,
		wrapY = false,
		arrowsVerticalOffset = 5,
		forcePrimaryAxisScrolling = true,
		buildArrowsLabel = true,
		springCoefficient = 400,
		maxVisibleRows = SubtractForSplitscreen( 4, 6 ),
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "SocialFriendCard", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.vertical,
		spacingX = _1080p * 4,
		spacingY = _1080p * 4,
		columnWidth = _1080p * 510,
		rowHeight = _1080p * 80,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	PlayersGrid.id = "PlayersGrid"
	PlayersGrid:setUseStencil( false )
	PlayersGrid:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 608, _1080p * 257, _1080p * 598 )
	self:addElement( PlayersGrid )
	self.PlayersGrid = PlayersGrid
	
	local Vignette = nil
	
	Vignette = LUI.UIImage.new()
	Vignette.id = "Vignette"
	Vignette:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Vignette:SetAlpha( 0.5, 0 )
	Vignette:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	Vignette:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 900, _1080p * 160, _1080p * -70 )
	self:addElement( Vignette )
	self.Vignette = Vignette
	
	local GradientRight = nil
	
	GradientRight = LUI.UIImage.new()
	GradientRight.id = "GradientRight"
	GradientRight:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	GradientRight:SetAlpha( 0.5, 0 )
	GradientRight:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	GradientRight:SetAnchorsAndPosition( 1, 0, 0, 0, 0, _1080p * -900, _1080p * 160, _1080p * -70 )
	self:addElement( GradientRight )
	self.GradientRight = GradientRight
	
	local VerticalScrollbar = nil
	
	VerticalScrollbar = MenuBuilder.BuildRegisteredType( "VerticalMinimalScrollbar", {
		controllerIndex = f1_local1
	} )
	VerticalScrollbar.id = "VerticalScrollbar"
	VerticalScrollbar:SetAlpha( 0, 0 )
	VerticalScrollbar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 618, _1080p * 630, _1080p * 257, _1080p * 502 )
	self:addElement( VerticalScrollbar )
	self.VerticalScrollbar = VerticalScrollbar
	
	local StartLookingButton = nil
	
	StartLookingButton = MenuBuilder.BuildRegisteredType( "GenericButton", {
		controllerIndex = f1_local1
	} )
	StartLookingButton.id = "StartLookingButton"
	StartLookingButton.Text:SetLeft( _1080p * 20, 0 )
	StartLookingButton.Text:setText( ToUpperCase( Engine.CBBHFCGDIC( "LUA_MENU_MP/START_LOOKING_FOR_PARTY" ) ), 0 )
	StartLookingButton.Text:SetAlignment( LUI.Alignment.Left )
	StartLookingButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 608, _1080p * 659, _1080p * 697 )
	self:addElement( StartLookingButton )
	self.StartLookingButton = StartLookingButton
	
	local HeadText = nil
	
	HeadText = LUI.UIStyledText.new()
	HeadText.id = "HeadText"
	HeadText:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	HeadText:SetAlpha( 0, 0 )
	HeadText:setText( Engine.CBBHFCGDIC( "LUA_MENU/RECEIVED_REQUESTS" ), 0 )
	HeadText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	HeadText:SetWordWrap( false )
	HeadText:SetAlignment( LUI.Alignment.Left )
	HeadText:SetOptOutRightToLeftAlignmentFlip( true )
	HeadText:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollH )
	HeadText:SetStartupDelay( 2000 )
	HeadText:SetLineHoldTime( 400 )
	HeadText:SetAnimMoveTime( 2000 )
	HeadText:SetAnimMoveSpeed( 150 )
	HeadText:SetEndDelay( 2000 )
	HeadText:SetCrossfadeTime( 400 )
	HeadText:SetFadeInTime( 300 )
	HeadText:SetFadeOutTime( 300 )
	HeadText:SetMaxVisibleLines( 2 )
	HeadText:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 96, _1080p * -803, _1080p * 225, _1080p * 249 )
	self:addElement( HeadText )
	self.HeadText = HeadText
	
	local HeadLine = nil
	
	HeadLine = LUI.UIImage.new()
	HeadLine.id = "HeadLine"
	HeadLine:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	HeadLine:SetAlpha( 0, 0 )
	HeadLine:setImage( RegisterMaterial( "widg_gradient_center_out" ), 0 )
	HeadLine:Setup3SliceHorizontalImage( _1080p * 10, 0.3 )
	HeadLine:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 92, _1080p * 1123, _1080p * 250, _1080p * 251 )
	self:addElement( HeadLine )
	self.HeadLine = HeadLine
	
	local PlayerNumText = nil
	
	PlayerNumText = LUI.UIText.new()
	PlayerNumText.id = "PlayerNumText"
	PlayerNumText:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	PlayerNumText:SetAlpha( 0, 0 )
	PlayerNumText:setText( "LUA_MENU/RECEIVED_REQUES", 0 )
	PlayerNumText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	PlayerNumText:SetAlignment( LUI.Alignment.Right )
	PlayerNumText:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 422, _1080p * -1312, _1080p * 225, _1080p * 249 )
	self:addElement( PlayerNumText )
	self.PlayerNumText = PlayerNumText
	
	local f1_local11 = LUI.UIScrollbar.new
	local f1_local12 = {
		direction = LUI.DIRECTION.vertical,
		eventListener = VerticalScrollbar,
		startCap = VerticalScrollbar.startCap,
		endCap = VerticalScrollbar.endCap,
		sliderArea = VerticalScrollbar.sliderArea
	}
	local f1_local13 = VerticalScrollbar.sliderArea
	if f1_local13 then
		f1_local13 = VerticalScrollbar.sliderArea.slider
	end
	f1_local12.slider = f1_local13
	f1_local13 = VerticalScrollbar.sliderArea
	if f1_local13 then
		f1_local13 = VerticalScrollbar.sliderArea.fixedSizeSlider
	end
	f1_local12.fixedSizeSlider = f1_local13
	PlayersGrid:AddScrollbar( f1_local11( f1_local12 ) )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "BRLookForPartyWidgetsContainer", BRLookForPartyWidgetsContainer )
LockTable( _M )
