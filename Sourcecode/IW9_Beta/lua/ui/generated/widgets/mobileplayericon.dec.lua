-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:01
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.social.socialplayerstatus" )
local f0_local0 = function ( f10_arg0, f10_arg1 )
	if f10_arg1 then
		f10_arg0._playerData = f10_arg1
		local f10_local0 = nil
		if f10_arg1.emblem and f10_arg1.emblem ~= "" then
			f10_local0 = f10_arg1.emblem
		elseif f10_arg1.emblemIndex then
			f10_local0 = EmblemEditorUtils.GetEmblemImageFromID( f10_arg1.emblemIndex )
		end
		if f10_local0 then
			f10_arg0.Emblem:setImage( RegisterMaterial( f10_local0 ) )
		end
		if f10_arg1.onlineStatus then
			f10_arg0.PlayerStatus:SetOnlineStatus( f10_arg1.onlineStatus )
		end
		if f10_arg1.xuid and 0 < #f10_arg1.xuid and not Engine[0x73231DEDA97B69A]( f10_arg1.xuid ) then
			local f10_local1 = Lobby[0x5C9B6F91862D56D]( Friends[0x7E6685E08C0BB92]( f10_arg1.xuid ) )
			local f10_local2 = Lobby[0x7E39F37FBC8EFC4]( Friends[0x7E6685E08C0BB92]( f10_arg1.xuid ) )
			if f10_local1 then
				ACTIONS.AnimateSequence( f10_arg0, "PartyMember" )
			elseif f10_local2 then
				ACTIONS.AnimateSequence( f10_arg0, "SquadMember" )
			else
				ACTIONS.AnimateSequence( f10_arg0, "NotMember" )
			end
		else
			ACTIONS.AnimateSequence( f10_arg0, "NotMember" )
		end
	end
end

local f0_local1 = function ( f9_arg0, f9_arg1 )
	local f9_local0
	if f9_arg1 then
		f9_local0 = "Muted"
	else
		f9_local0 = "NotMuted"
	end
	ACTIONS.AnimateSequence( f9_arg0, f9_local0 )
end

local f0_local2 = function ( f8_arg0, f8_arg1, f8_arg2 )
	f8_arg0.UpdateData = f0_local0
	f8_arg0.SetMute = f0_local0
end

function MobilePlayerIcon( menu, controller )
	local self = LUI.UIButton.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 100 * _1080p, 0, 100 * _1080p )
	self.id = "MobilePlayerIcon"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Background:setImage( RegisterMaterial( "mgl_ui_general_circle" ), 0 )
	Background:SetAnchorsAndPosition( 0.05, 0.05, 0.05, 0.05, 0, 0, 0, 0 )
	self:addElement( Background )
	self.Background = Background
	
	local BackgroundRing = nil
	
	BackgroundRing = LUI.UIImage.new()
	BackgroundRing.id = "BackgroundRing"
	BackgroundRing:SetRGBFromTable( SWATCHES.genericMenu.border, 0 )
	BackgroundRing:setImage( RegisterMaterial( "mgl_ui_general_audioring2" ), 0 )
	BackgroundRing:SetAnchorsAndPosition( -0.025, -0.025, -0.025, -0.025, 0, 0, 0, 0 )
	self:addElement( BackgroundRing )
	self.BackgroundRing = BackgroundRing
	
	local MemberRing = nil
	
	MemberRing = LUI.UIImage.new()
	MemberRing.id = "MemberRing"
	MemberRing:SetRGBFromTable( SWATCHES.BattleNetChat.onlineStatusAvailable, 0 )
	MemberRing:setImage( RegisterMaterial( "mgl_ui_general_audioring2" ), 0 )
	MemberRing:SetAnchorsAndPosition( -0.05, -0.05, -0.05, -0.05, 0, 0, 0, 0 )
	self:addElement( MemberRing )
	self.MemberRing = MemberRing
	
	local Emblem = nil
	
	Emblem = LUI.UIImage.new()
	Emblem.id = "Emblem"
	Emblem:setImage( RegisterMaterial( "mgl_ui_emblem_placeholder" ), 0 )
	Emblem:SetAnchorsAndPosition( 0.075, 0.075, 0.075, 0.075, 0, 0, 0, 0 )
	self:addElement( Emblem )
	self.Emblem = Emblem
	
	local PlayerStatus = nil
	
	PlayerStatus = MenuBuilder.BuildRegisteredType( "SocialPlayerStatus", {
		controllerIndex = f1_local1
	} )
	PlayerStatus.id = "PlayerStatus"
	PlayerStatus:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -29, _1080p * -5, _1080p * -29, _1080p * -5 )
	self:addElement( PlayerStatus )
	self.PlayerStatus = PlayerStatus
	
	local f1_local8 = nil
	Emblem:RegisterAnimationSequence( "DefaultSequence", {
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		}
	} )
	self._sequences.DefaultSequence = function ()
		menu:AnimateSequence( "DefaultSequence" )
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local9 = nil
	MemberRing:RegisterAnimationSequence( "PartyMember", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.BattleNetChat.onlineStatusAvailable
		}
	} )
	self._sequences.PartyMember = function ()
		menu:AnimateSequence( "PartyMember" )
	end
	
	self._sequenceLengths.PartyMember = 0
	local f1_local10 = nil
	MemberRing:RegisterAnimationSequence( "SquadMember", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.Reticles.Blue
		}
	} )
	self._sequences.SquadMember = function ()
		menu:AnimateSequence( "SquadMember" )
	end
	
	self._sequenceLengths.SquadMember = 0
	local f1_local11 = nil
	MemberRing:RegisterAnimationSequence( "NotMember", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Hidden
		}
	} )
	self._sequences.NotMember = function ()
		menu:AnimateSequence( "NotMember" )
	end
	
	self._sequenceLengths.NotMember = 0
	local f1_local12 = nil
	Emblem:RegisterAnimationSequence( "Muted", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.CAC.ItemBtn_Disabled
		}
	} )
	self._sequences.Muted = function ()
		menu:AnimateSequence( "Muted" )
	end
	
	self._sequenceLengths.Muted = 0
	local f1_local13 = nil
	Emblem:RegisterAnimationSequence( "NotMuted", {
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		}
	} )
	self._sequences.NotMuted = function ()
		menu:AnimateSequence( "NotMuted" )
	end
	
	self._sequenceLengths.NotMuted = 0
	f0_local0( self, f1_local1, controller )
	ACTIONS.AnimateSequence( self, "DefaultSequence" )
	return self
end

MenuBuilder.registerType( "MobilePlayerIcon", MobilePlayerIcon )
LockTable( _M )
