-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
function setPlayerList( f11_arg0, f11_arg1 )
	f11_arg0._playerList = f11_arg1
end

local f0_local0 = {
	{
		name = "Visible",
		animations = {
			nil,
			"Show"
		},
		visibilityEnum = LUI.Visibility.Visible,
		condition = function ( f10_arg0, f10_arg1, f10_arg2 )
			if not f10_arg0._imageSet or f10_arg2.sourceName == "codcaster_sponsor_timer_reached" then
				return false
			end
			local f10_local0 = f10_arg0:GetDataSource( f10_arg1 )
			local f10_local1
			if f10_arg0._playerList then
				f10_local1 = true
			else
				f10_local1 = f10_local0.count:GetValue( f10_arg1 ) == CODCASTER.MAX_PORTRAIT_DATA_VIEW_LIST_COUNT
			end
			local f10_local2 = f10_arg2.dataSources.matchInProgress:GetValue( f10_arg1 )
			local f10_local3 = f10_local0.sponsor.mode:GetValue( f10_arg1 )
			local f10_local4 = DataSources.inGame.MP.match.currentRound:GetValue( f10_arg1 )
			local f10_local5 = false
			if f10_local3 == CODCASTER.TEAM_SPONSOR_MODES.EVERY_ROUND then
				f10_local5 = true
			elseif f10_local3 == CODCASTER.TEAM_SPONSOR_MODES.MATCH_START then
				f10_local5 = CODCASTER.IsFirstRound( f10_arg1 )
			elseif f10_local3 == CODCASTER.TEAM_SPONSOR_MODES.EVERY_OTHER_ROUND then
				if f10_local4 ~= 0 and math.fmod( f10_local4, 2 ) == 0 then
					f10_local5 = false
				else
					f10_local5 = true
				end
			end
			local f10_local6
			if f10_local2 then
				f10_local6 = f10_local2
			elseif f10_local5 then
				f10_local6 = f10_local5
			else
				f10_local6 = f10_local1
			end
			return f10_local6
		end,
		stateHandler = function ( f9_arg0, f9_arg1, f9_arg2 )
			local f9_local0 = f9_arg0:GetDataSource( f9_arg1 )
			f9_arg0:addElement( LUI.UITimer.new( {
				interval = f9_local0.sponsor.time:GetValue( f9_arg1 ) * 1000,
				event = {
					name = "codcaster_sponsor_timer_reached",
					disposable = true,
					eventTarget = f9_arg0
				}
			} ) )
		end
	},
	{
		visibilityLast = true,
		name = "Hidden",
		animations = {
			nil,
			"Hide"
		},
		visibilityEnum = LUI.Visibility.Hidden,
		condition = function ( f8_arg0, f8_arg1, f8_arg2 )
			return true
		end
	}
}
local f0_local1 = function ( f6_arg0, f6_arg1, f6_arg2 )
	if Engine[0x12586A3F4FB490E]() then
		f6_arg0:closeTree()
	end
	f6_arg0.setPlayerList = setPlayerList
	f6_arg0._imageSet = false
	f6_arg0._playerList = false
	f6_arg0:SubscribeToModelThroughElement( f6_arg0, "sponsor.name", function ( f7_arg0 )
		local f7_local0 = DataModel[0x614D394F6F9A18D]( f7_arg0 )
		if f7_local0 and f7_local0 ~= "" then
			f6_arg0.SponsorTeamList:setImage( RegisterMaterial( f7_local0 ) )
			f6_arg0._imageSet = true
		end
	end )
	CODCASTER.SetupVisualStateHandler( f6_arg0, f6_arg1, f0_local0, {
		dataSources = {
			matchInProgress = DataSources.inGame.MP.isMatchInProgress
		},
		events = {
			nil,
			"codcaster_sponsor_timer_reached"
		}
	} )
end

function CodcasterSponsorsTeamListBanner( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 610 * _1080p, 0, 40 * _1080p )
	self.id = "CodcasterSponsorsTeamListBanner"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromTable( SWATCHES.codcasterColors.codcasterNeutral, 0 )
	Background:SetAnchorsAndPosition( 0, 0, 0.5, 0.5, 0, 0, _1080p * -20, _1080p * 20 )
	self:addElement( Background )
	self.Background = Background
	
	local SponsorText = nil
	
	SponsorText = LUI.UIText.new()
	SponsorText.id = "SponsorText"
	SponsorText:setText( Engine[0xED84C33EC5F01EA]( "CODCASTER/SPONSORS_TEAMLIST" ), 0 )
	SponsorText:SetFont( FONTS.GetFont( FONTS.Abolition.File ) )
	SponsorText:SetFontSize( 28 * _PT )
	SponsorText:SetMinFontSize( 28 * _PT )
	SponsorText:SetWordWrap( false )
	SponsorText:SetAlignment( LUI.Alignment.Right )
	SponsorText:SetVerticalAlignment( LUI.Alignment.Center )
	SponsorText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -259, _1080p * -25, _1080p * -20, _1080p * 20 )
	self:addElement( SponsorText )
	self.SponsorText = SponsorText
	
	local SponsorTeamList = nil
	
	SponsorTeamList = LUI.UIImage.new()
	SponsorTeamList.id = "SponsorTeamList"
	SponsorTeamList:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 285, _1080p * 561, 0, _1080p * 40 )
	self:addElement( SponsorTeamList )
	self.SponsorTeamList = SponsorTeamList
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local6 = nil
	Background:RegisterAnimationSequence( "Hide", {
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 20
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -20
		},
		{
			value = 1,
			duration = 290,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = -18,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -20
		},
		{
			value = 0,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SponsorText:RegisterAnimationSequence( "Hide", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SponsorTeamList:RegisterAnimationSequence( "Hide", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Hide = function ()
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
		menu:AnimateSequence( "Hide" )
	end
	
	self._sequenceLengths.Hide = 310
	local f1_local7 = nil
	Background:RegisterAnimationSequence( "HideRoundBasedMode", {
		{
			duration = 200,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 20
		},
		{
			duration = 200,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -20
		},
		{
			value = 1,
			duration = 290,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = -38,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 10
		},
		{
			value = 0,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SponsorText:RegisterAnimationSequence( "HideRoundBasedMode", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SponsorTeamList:RegisterAnimationSequence( "HideRoundBasedMode", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 150,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideRoundBasedMode = function ()
		menu:AnimateSequence( "HideRoundBasedMode" )
		menu:AnimateSequence( "HideRoundBasedMode" )
		menu:AnimateSequence( "HideRoundBasedMode" )
	end
	
	self._sequenceLengths.HideRoundBasedMode = 310
	local f1_local8 = nil
	Background:RegisterAnimationSequence( "Show", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -20
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 20
		}
	} )
	SponsorText:RegisterAnimationSequence( "Show", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SponsorTeamList:RegisterAnimationSequence( "Show", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Show = function ()
		menu:AnimateSequence( "Show" )
		menu:AnimateSequence( "Show" )
		menu:AnimateSequence( "Show" )
	end
	
	self._sequenceLengths.Show = 0
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "CodcasterSponsorsTeamListBanner", CodcasterSponsorsTeamListBanner )
LockTable( _M )
