-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
MobileFlyInPopupUtils = MobileFlyInPopupUtils or {}
MobileFlyInPopupUtils.PopupsEnum = {
	LFP_PANEL = 11,
	DAILYCHALLENGE_PANEL = 10,
	PLAYER_INFO_TOOLTIP = 5,
	INBOX_SUMMARY_PANEL = 8,
	REQUESTS_PANEL = 6,
	SOCIAL_PANEL = 1,
	PLAYER_PANEL = 2,
	FRIENDS_AND_PARTY = 12,
	ADD_PARTY_PANEL = 3,
	XPTOKENS_PANEL = 13,
	CHAT_CHANNEL_PANEL = 4,
	INBOX_PANEL = 7,
	PARTY_PANEL = 9,
	NONE = 0
}
MobileFlyInPopupUtils.Popups = {
	[MobileFlyInPopupUtils.PopupsEnum.PLAYER_PANEL] = "MobilePlayerPanel",
	[MobileFlyInPopupUtils.PopupsEnum.ADD_PARTY_PANEL] = "MobileAddPartyPanel",
	[MobileFlyInPopupUtils.PopupsEnum.CHAT_CHANNEL_PANEL] = "MobileFlyInChat",
	[MobileFlyInPopupUtils.PopupsEnum.PLAYER_INFO_TOOLTIP] = "MobilePlayerInfoTooltip",
	[MobileFlyInPopupUtils.PopupsEnum.REQUESTS_PANEL] = "MobileRequestsPanel",
	[MobileFlyInPopupUtils.PopupsEnum.INBOX_PANEL] = "MobileInboxMenuContainer",
	[MobileFlyInPopupUtils.PopupsEnum.INBOX_SUMMARY_PANEL] = "MobileInboxSummaryMenuContainer",
	[MobileFlyInPopupUtils.PopupsEnum.DAILYCHALLENGE_PANEL] = "MobileDailyChallengesPanel",
	[MobileFlyInPopupUtils.PopupsEnum.FRIENDS_AND_PARTY] = "MobileFlyInFriendsAndParty",
	[MobileFlyInPopupUtils.PopupsEnum.XPTOKENS_PANEL] = "MobileXpTokensPanel"
}
MobileFlyInPopupUtils.SocialPanelTabsEnum = {
	FRIENDS = 1,
	ADD_FRIENDS = 3,
	RECENTS = 2
}
MobileFlyInPopupUtils.NarrowPopups = hashset( {
	MobileFlyInPopupUtils.Popups[MobileFlyInPopupUtils.PopupsEnum.CHAT_CHANNEL_PANEL]
} )
MobileFlyInPopupUtils.PopupButtonsEnumData = {
	AddPartyMemberButton = MobileFlyInPopupUtils.PopupsEnum.ADD_PARTY_PANEL,
	SocialButton = MobileFlyInPopupUtils.PopupsEnum.FRIENDS_AND_PARTY,
	ChatButton = MobileFlyInPopupUtils.PopupsEnum.CHAT_CHANNEL_PANEL,
	RequestsButton = MobileFlyInPopupUtils.PopupsEnum.REQUESTS_PANEL,
	InboxButton = {
		MobileFlyInPopupUtils.PopupsEnum.INBOX_PANEL,
		MobileFlyInPopupUtils.PopupsEnum.INBOX_SUMMARY_PANEL
	}
}
MobileFlyInPopupUtils._currentFlyInPopup = MobileFlyInPopupUtils.PopupsEnum.NONE
MobileFlyInPopupUtils.GetCurrentFlyInPopup = function ()
	return MobileFlyInPopupUtils._currentFlyInPopup
end

MobileFlyInPopupUtils.IsCurrentFlyInPopup = function ( f5_arg0 )
	return MobileFlyInPopupUtils.GetCurrentFlyInPopup() == f5_arg0
end

MobileFlyInPopupUtils.SetCurrentFlyInPopup = function ( f4_arg0 )
	local f4_local0 = MobileFlyInPopupUtils._currentFlyInPopup
	MobileFlyInPopupUtils._currentFlyInPopup = f4_arg0
	local f4_local1 = Engine[0xEE6F69FEA944B13]()
	local f4_local2 = {
		name = "social_fly_in_popup_changed",
		newPopup = MobileFlyInPopupUtils._currentFlyInPopup
	}
	if f4_local1 then
		f4_local1:processEvent( f4_local2 )
		if 0 < f4_local0 and f4_local0 ~= f4_arg0 then
			local f4_local3 = DataSources.alwaysLoaded.uri.mobileMenusInStack[MobileFlyInPopupUtils.Popups[f4_local0]]
			if f4_local3 ~= nil then
				f4_local3:SetValue( f4_local1._controllerIndex, false )
			end
		end
		if 0 < f4_arg0 and f4_local0 ~= f4_arg0 then
			local f4_local3 = DataSources.alwaysLoaded.uri.mobileMenusInStack[MobileFlyInPopupUtils.Popups[f4_arg0]]
			if f4_local3 ~= nil then
				f4_local3:SetValue( f4_local1._controllerIndex, true )
			end
		end
	end
	if f4_local0 == MobileFlyInPopupUtils.PopupsEnum.CHAT_CHANNEL_PANEL and f4_local0 ~= f4_arg0 then
		TEXTCHAT.CloseOpenChannel( f4_local1._controllerIndex )
	end
end

MobileFlyInPopupUtils.ResetCurrentFlyInPopup = function ()
	MobileFlyInPopupUtils.SetCurrentFlyInPopup( MobileFlyInPopupUtils.PopupsEnum.NONE )
end

MobileFlyInPopupUtils.MobileOpenFlyInPopup = function ( f1_arg0, f1_arg1, f1_arg2, f1_arg3, f1_arg4 )
	if not f1_arg4 then
		f1_arg4 = {}
	end
	f1_arg4.controllerIndex = f1_arg1
	f1_arg4.menu = f1_arg0
	local f1_local0 = MenuBuilder.BuildRegisteredType( f1_arg2, f1_arg4 )
	f1_local0:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	local f1_local1 = function ( f2_arg0 )
		if f2_arg0 then
			ACTIONS.LeaveMenu( f2_arg0 )
		end
		local f2_local0 = MobileFlyInPopupUtils.NarrowPopups[f1_arg0]
		local f2_local1 = {
			FlyInPopupName = f1_arg0 or f1_arg0,
			widget = f1_arg0
		}
		local f2_local2
		if not f2_local0 then
			f2_local2 = not f1_arg0.MobileFlyInRight
		else
			f2_local2 = false
		end
		f2_local1.MobileFlyInLeft = f2_local2
		if f2_local0 then
			f2_local2 = f2_local0
		else
			f2_local2 = not f1_arg0.MobileFlyInRight
		end
		f2_local1.MobileFlyInLeftNarrow = f2_local2
		if not f2_local0 then
			f2_local2 = f1_arg0.MobileFlyInRight
		else
			f2_local2 = false
		end
		f2_local1.MobileFlyInRight = f2_local2
		if f2_local0 then
			f2_local2 = f2_local0
		else
			f2_local2 = f1_arg0.MobileFlyInRight
		end
		f2_local1.MobileFlyInRightNarrow = f2_local2
		f2_local1.hideBackground = f1_arg0.hideBackground or false
		f2_local1.defaultTabId = f1_arg0.defaultTabId
		f2_local1.queryParameters = f1_arg0.queryParameters
		f2_local1.closePopupOverride = f1_arg0.closePopupOverride
		LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", false, f1_arg0, false, f2_local1 )
	end
	
	local f1_local2 = LUI.FlowManager.closeFlyInPopup( true )
	if f1_local2 then
		f1_local2:SetExitAnimationDoneCallback( f1_local1 )
	else
		f1_local1()
	end
	return f1_local0
end

