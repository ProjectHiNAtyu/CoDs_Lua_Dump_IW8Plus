-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:01
BINDING = BINDING or {}
local f0_local0 = 6000
local f0_local1 = function ( f59_arg0, f59_arg1 )
	local f59_local0 = {}
	for f59_local6, f59_local7 in ipairs( f59_arg1 ) do
		local f59_local5 = f59_arg0[f59_local7]
		if f59_local5 then
			if type( f59_local5 ) == "function" then
				local f59_local4 = f59_local5()
				if not f59_local4 then
					f59_local5 = f59_local4
				end
			end
			f59_local5 = Engine[0xED84C33EC5F01EA]( f59_local5 )
		end
	end
	f59_local1 = ", "
	if IsLanguageArabic() then
		f59_local0 = LUI.ReverseTable( f59_local0 )
		f59_local1 = " , "
	end
	return table.concat( f59_local0, f59_local1 )
end

BINDING.BuildKeybindBanner = function ( f55_arg0, f55_arg1 )
	f55_arg0:addEventHandler( "key_bound_banner", function ( f58_arg0, f58_arg1 )
		if f58_arg0.OptionsKeyBindingBanner and not f58_arg0._isTabReset then
			if LUI.StringIsNilOrEmpty( f58_arg1.binding ) then
				local f58_local0 = LUI.StringIsNilOrEmpty( f58_arg1.linkedOptionName )
				local f58_local1 = 0x292ADF5D18036A9
			end
			local f58_local2 = Engine[0xED84C33EC5F01EA]( f58_local0 and f58_local1 or 0xDCF2D77722F0D57, f58_arg1.linkedOptionName and Engine[0xEB2A2834B76AEA4]( f58_arg1.linkedOptionName ) or Engine[0x7D3158A9539A355]( f58_arg1.binding ), Engine[0xEB2A2834B76AEA4]( f58_arg1.optionName ) )
			local f58_local3 = "Success"
			local f58_local4 = f58_arg1.unboundCommands
			if f58_local4 then
				f58_local4 = 1 < #f58_arg1.unboundCommands
			end
			if f58_arg1.invalidBinding then
				f58_local2 = Engine[0xED84C33EC5F01EA]( 0x127FF8B8103A1EF, Engine[0x7D3158A9539A355]( f58_arg1.binding ), Engine[0xEB2A2834B76AEA4]( f58_arg1.optionName ) )
				f58_local3 = "Error"
			elseif f58_local4 then
				local f58_local5 = f55_arg0( f58_arg0._keybindActionList, f58_arg1.unboundCommands )
				if f58_local5 then
					f58_local2 = Engine[0xED84C33EC5F01EA]( 0x5A78C9E2FB730F9, Engine[0x7D3158A9539A355]( f58_arg1.binding ), Engine[0xEB2A2834B76AEA4]( f58_arg1.optionName ), Engine[0xEB2A2834B76AEA4]( f58_local5 ) )
					f58_local3 = "Warning"
				end
			elseif f58_arg1.isDeleted then
				if f58_arg1.optionName then
					f58_local2 = Engine[0xED84C33EC5F01EA]( 0x2C3F2C75796B30D, Engine[0x7D3158A9539A355]( f58_arg1.optionName ) )
					f58_local3 = "Warning"
				end
			elseif f58_arg1.unboundCommands[1] ~= "" and f58_arg1.currentCmd ~= f58_arg1.unboundCommands[1] then
				local f58_local5 = f58_arg0._keybindActionList[f58_arg1.unboundCommands[1]]
				if f58_local5 then
					if type( f58_local5 ) == "function" then
						local f58_local6 = f58_local5()
						if not f58_local6 then
							f58_local5 = f58_local6
						end
					end
					f58_local5 = Engine[0xED84C33EC5F01EA]( f58_local5 )
				end
			end
			f58_arg0.OptionsKeyBindingBanner.Text:setText( f58_local2 )
			ACTIONS.AnimateSequence( f58_arg0.OptionsKeyBindingBanner, f58_local3 )
			if f58_arg0._timer then
				f58_arg0._timer:closeTree()
				f58_arg0._timer = nil
			end
			f58_arg0._timer = LUI.UITimer.new( {
				event = "hide_banner",
				interval = f55_arg0
			} )
			f58_arg0:addElement( f58_arg0._timer )
		end
	end )
	f55_arg0:addEventHandler( "binding_key", function ( f57_arg0, f57_arg1 )
		if f57_arg0.OptionsKeyBindingBanner then
			if f57_arg0._timer then
				f57_arg0._timer:closeTree()
				f57_arg0._timer = nil
			end
			TOAST_NOTIF.UpdateToastButtonDisableState( true )
			f57_arg0.OptionsKeyBindingBanner.Text:setText( Engine[0xED84C33EC5F01EA]( 0x843FE1660697854 ) )
			ACTIONS.AnimateSequence( f57_arg0.OptionsKeyBindingBanner, "Binding" )
		end
	end )
	f55_arg0:addEventHandler( "hide_banner", function ( f56_arg0, f56_arg1 )
		if f56_arg0.OptionsKeyBindingBanner then
			ACTIONS.AnimateSequence( f56_arg0.OptionsKeyBindingBanner, "BackToDefault" )
		end
		return true
	end )
end

local f0_local2 = function ( f53_arg0, f53_arg1 )
	f53_arg1.LinkButton:addEventHandler( "button_action", function ( f54_arg0, f54_arg1 )
		local f54_local0 = f54_arg0:getParent()
		if f54_local0 then
			if Engine[0xC3A90504A32DE5D]( f53_arg0, f54_local0.inputContext, f54_local0.actionName ) then
				Engine[0xD131AFE5A6C2ED9]( f53_arg0, f54_local0.inputContext, f54_local0.actionName )
				ACTIONS.AnimateSequence( f54_arg0, "UnlinkKeybind" )
			else
				Engine[0xCCB79FDDB412740]( f53_arg0, f54_local0.inputContext, f54_local0.actionName )
				ACTIONS.AnimateSequence( f54_arg0, "LinkKeybind" )
				local f54_local1 = Engine[0x3C3B6822A98A4BC]( f53_arg0, f54_local0.inputContext, f54_local0.actionName, 0 )
				local f54_local2 = Engine[0x3C3B6822A98A4BC]( f53_arg0, f54_local0.inputContext, f54_local0.actionName, 1 )
				f54_local0.PrimaryKey.Text:setText( Engine[0x7D3158A9539A355]( f54_local1 ) )
				f54_local0.SecondaryKey.Text:setText( Engine[0x7D3158A9539A355]( f54_local2 ) )
			end
			f54_arg0:dispatchEventToRoot( {
				name = "options_window_refresh",
				controller = f53_arg0
			} )
		end
	end )
	if Engine[0xC3A90504A32DE5D]( f53_arg0, f53_arg1.inputContext, f53_arg1.actionName ) then
		ACTIONS.AnimateSequence( f53_arg1.LinkButton, "LinkKeybind" )
	else
		ACTIONS.AnimateSequence( f53_arg1.LinkButton, "UnlinkKeybind" )
	end
end

local f0_local3 = function ( f52_arg0, f52_arg1, f52_arg2, f52_arg3 )
	local f52_local0, f52_local1, f52_local2, f52_local3 = nil
	if f52_arg3 then
		f52_local0, f52_local1, f52_local2, f52_local3 = f52_arg0.GenericButtonBackground:getCurrentGlobalRect()
	else
		f52_local0, f52_local1, f52_local2, f52_local3 = f52_arg0.GenericInnerButtonBackground.Background:getCurrentGlobalRect()
	end
	local f52_local4, f52_local5, f52_local6, f52_local7 = f52_arg1:getCurrentGlobalRect()
	local f52_local8, f52_local9, f52_local10, f52_local11 = nil
	if f52_arg1.OptionWindow then
		f52_local8, f52_local9, f52_local10, f52_local11 = f52_arg1.OptionWindow:getCurrentGlobalRect()
	end
	local f52_local12 = LAYOUT.GetElementHeight( f52_arg2 )
	local f52_local13 = f52_local1 - f52_local12
	local f52_local14
	if not f52_local9 then
		f52_local14 = f52_local9
	else
		f52_local14 = 0
	end
	if f52_local13 < f52_local14 then
		f52_local1 = f52_local3
		f52_local3 = f52_local3 + f52_local12
	else
		f52_local3 = f52_local1
		f52_local1 = f52_local1 - f52_local12
	end
	return f52_local0 - f52_local4, f52_local2 - f52_local4, f52_local1 - f52_local5, f52_local3 - f52_local5
end

local f0_local4 = function ( f51_arg0, f51_arg1, f51_arg2, f51_arg3 )
	local BindingLabel = nil
	
	BindingLabel = MenuBuilder.BuildRegisteredType( "BindingLabel", {
		controllerIndex = f51_arg2
	} )
	BindingLabel.id = "BindingLabel"
	local f51_local1, f51_local2, f51_local3, f51_local4 = f0_local0( f51_arg0, f51_arg1, BindingLabel, f51_arg3 )
	BindingLabel:SetAnchorsAndPosition( 0, 1, 0, 1, f51_local1, f51_local2, f51_local3, f51_local4 )
	f51_arg1:addElement( BindingLabel )
	f51_arg1.BindingLabel = BindingLabel
	
end

local f0_local5 = function ( f50_arg0, f50_arg1, f50_arg2, f50_arg3 )
	assert( f50_arg1.Text )
	assert( f50_arg1.actionName )
	local f50_local0 = Engine[0x3C3B6822A98A4BC]
	local f50_local1 = f50_arg0
	local f50_local2 = f50_arg1.inputContext
	local f50_local3 = f50_arg1.actionName
	local f50_local4
	if f50_arg2 then
		f50_local4 = 0
	else
		f50_local4 = 1
	end
	f50_local0 = f50_local0( f50_local1, f50_local2, f50_local3, f50_local4 )
	local f50_local5 = Engine[0xA79C63520FCD69F]
	f50_local2 = f50_arg0
	f50_local3 = f50_arg1.inputContext
	f50_local4 = f50_arg1.actionName
	local f50_local6
	if f50_arg2 then
		f50_local6 = 0
	else
		f50_local6 = 1
	end
	if f50_local0 ~= f50_local5( f50_local2, f50_local3, f50_local4, f50_local6 ) then
		f50_local1 = not f50_arg3
	else
		f50_local1 = false
	end
	f50_arg1.isChanged = f50_local1
	f50_arg1:SetChanged( f50_arg1.isChanged )
	if f50_arg3 and f50_local0 == "" then
		f50_local0 = "..."
		ACTIONS.AnimateSequence( f50_arg1, "Empty" )
	else
		ACTIONS.AnimateSequence( f50_arg1, "ResetText" )
	end
	f50_arg1.Text:setText( Engine[0x7D3158A9539A355]( f50_local0 ) )
end

local f0_local6 = function ( f49_arg0, f49_arg1, f49_arg2 )
	assert( f49_arg1.ButtonBind )
	assert( f49_arg1.actionName )
	local f49_local0 = Engine[0x3C3B6822A98A4BC]( f49_arg0, f49_arg1.inputContext, f49_arg1.actionName, 0 )
	if f49_local0 ~= Engine[0xA79C63520FCD69F]( f49_arg0, f49_arg1.inputContext, f49_arg1.actionName, 0 ) and not f49_arg2 then
		ACTIONS.AnimateSequence( f49_arg1, "Changed" )
	else
		ACTIONS.AnimateSequence( f49_arg1, "Unchanged" )
	end
	if f49_arg2 and f49_local0 == "" then
		f49_local0 = Engine[0xED84C33EC5F01EA]( 0x74E5312ECA20F51 )
	else
		ACTIONS.AnimateSequence( f49_arg1, "ResetText" )
		ACTIONS.AnimateSequence( f49_arg1, "Unchanged" )
	end
	f49_arg1.ButtonBind:setText( Engine[0x7D3158A9539A355]( f49_local0 ) )
end

local f0_local7 = function ( f47_arg0, f47_arg1, f47_arg2 )
	f47_arg0:addEventHandler( "gamepad_button", function ( f48_arg0, f48_arg1 )
		if not f48_arg1.down then
			return false
		elseif f48_arg1.button == "unbind" and f48_arg0:isInFocus() and (not f48_arg0.IsDisabled or not f48_arg0:IsDisabled()) then
			local f48_local0 = Engine[0xDDE1DAEF1E62E50]
			local f48_local1 = f47_arg0
			local f48_local2 = f48_arg0.inputContext
			local f48_local3 = f48_arg0.actionName
			local f48_local4
			if f47_arg0 then
				f48_local4 = 0
			else
				f48_local4 = 1
			end
			f48_local0( f48_local1, f48_local2, f48_local3, f48_local4 )
			f48_local0 = f48_arg0:getParent()
			f48_arg0:dispatchEventToCurrentMenu( {
				name = "key_bound_banner",
				isDeleted = true,
				binding = f48_local0.buttonName,
				optionName = f48_local0.buttonName,
				currentCmd = f48_local0.actionName
			} )
			f48_arg0.Text:setText( "" )
			f47_arg0( f47_arg0, f48_arg0, f47_arg0 )
			LUI.MouseCursorTooltipLayer.RefreshTooltip( f47_arg0 )
			if f48_arg0:getParent() then
				local f48_local5 = f48_arg0:getParent()
				if f48_local5.LinkButton then
					f48_local5 = ACTIONS.AnimateSequence
					f48_local2 = f48_arg0:getParent()
					f48_local5( f48_local2.LinkButton, "UnlinkKeybind" )
				end
			end
			return true
		else
			return false
		end
	end )
end

local f0_local8 = function ( f46_arg0, f46_arg1, f46_arg2 )
	local f46_local0 = f46_arg0:GetCurrentMenu()
	local f46_local1 = f46_arg0:getParent()
	if f46_local1 then
		local f46_local2 = Engine[0x9EEC76BD7DE3B55]
		local f46_local3 = f46_arg1
		local f46_local4 = f46_arg0.inputContext
		local f46_local5 = f46_arg0.actionName
		local f46_local6
		if f46_arg2 then
			f46_local6 = 0
		else
			f46_local6 = 1
		end
		f46_local2( f46_local3, f46_local4, f46_local5, f46_local6 )
		f0_local0( f46_arg1, f46_arg0, f46_arg2, true )
		f46_local1._isBindingPrimary = f46_arg2
		f0_local0( f46_arg0, f46_local0, f46_arg1, false )
		f46_local1:dispatchEventToParent( {
			name = "request_active",
			target = f46_local1
		} )
		ACTIONS.AnimateSequence( f46_local1, "Binding" )
		ACTIONS.AnimateSequence( f46_arg0, "Binding" )
		ACTIONS.AnimateSequence( f46_arg0, "BindingLoop" )
		f46_local1:processEvent( {
			name = "binding"
		} )
		ACTIONS.AnimateSequence( f46_local0.BindingLabel, "Binding" )
		f46_arg0:dispatchEventToCurrentMenu( {
			name = "binding_key"
		} )
		f46_local2 = LUI.UIRoot.GetRootForControllerIndex( f46_arg1 )
		f46_local2:RemoveMouseCursor()
		f46_local2.lockedMouseFocusStack = true
	end
end

local f0_local9 = function ( f45_arg0, f45_arg1, f45_arg2 )
	if f45_arg0.isChanged then
		local f45_local0 = Engine[0x2C8BA979AEB4C3F]
		local f45_local1 = f45_arg1
		local f45_local2 = f45_arg0.inputContext
		local f45_local3 = f45_arg0.actionName
		local f45_local4
		if f45_arg2 then
			f45_local4 = 0
		else
			f45_local4 = 1
		end
		f45_local0( f45_local1, f45_local2, f45_local3, f45_local4 )
		f45_local0 = Engine[0x3C3B6822A98A4BC]
		f45_local1 = f45_arg1
		f45_local2 = f45_arg0.inputContext
		f45_local3 = f45_arg0.actionName
		if f45_arg2 then
			f45_local4 = 0
		else
			f45_local4 = 1
		end
		f45_arg0.Text:setText( Engine[0x7D3158A9539A355]( f45_local0( f45_local1, f45_local2, f45_local3, f45_local4 ) ) )
		f0_local0( f45_arg1, f45_arg0, f45_arg2 )
		if f45_arg0:getParent() then
			local f45_local5 = f45_arg0:getParent()
			if f45_local5.LinkButton then
				f45_local5 = ACTIONS.AnimateSequence
				f45_local2 = f45_arg0:getParent()
				f45_local5( f45_local2.LinkButton, "LinkKeybind" )
			end
		end
	end
end

local f0_local10 = function ( f44_arg0, f44_arg1 )
	Engine[0x2C8BA979AEB4C3F]( f44_arg1, f44_arg0.inputContext, f44_arg0.actionName, 0 )
	f44_arg0.ButtonBind:setText( Engine[0x7D3158A9539A355]( Engine[0x3C3B6822A98A4BC]( f44_arg1, f44_arg0.inputContext, f44_arg0.actionName, 0 ) ) )
	f0_local0( f44_arg1, f44_arg0, false )
end

local f0_local11 = function ( f43_arg0, f43_arg1, f43_arg2 )
	if f43_arg2 then
		f0_local0( f43_arg0, f43_arg1.controllerIndex )
	else
		f0_local0( f43_arg0.PrimaryKey, f43_arg1.controllerIndex, true )
		f0_local0( f43_arg0.SecondaryKey, f43_arg1.controllerIndex, false )
	end
end

local f0_local12 = function ( f42_arg0, f42_arg1 )
	if Engine[0x44BF3C00A8C8D31]( f42_arg0.inputContext, f42_arg0.actionName ) then
		return not Engine[0xC3A90504A32DE5D]( f42_arg1, f42_arg0.inputContext, f42_arg0.actionName )
	end
	local f42_local0
	if Engine[0x3C3B6822A98A4BC]( f42_arg1, f42_arg0.inputContext, f42_arg0.actionName, 0 ) == Engine[0xA79C63520FCD69F]( f42_arg1, f42_arg0.inputContext, f42_arg0.actionName, 0 ) and Engine[0x3C3B6822A98A4BC]( f42_arg1, f42_arg0.inputContext, f42_arg0.actionName, 1 ) == Engine[0xA79C63520FCD69F]( f42_arg1, f42_arg0.inputContext, f42_arg0.actionName, 1 ) then
		f42_local0 = false
	else
		f42_local0 = true
	end
	return f42_local0
end

BINDING.SetupKeybindTooltip = function ( f37_arg0, f37_arg1 )
	local f37_local0 = {
		{
			kbmTooltipPromptOverload = "button_option_reset",
			button_ref = "button_option_reset",
			helper_text = Engine[0xED84C33EC5F01EA]( 0xB2E7F79066B2B52 ),
			disabledFunction = function ()
				return not f37_arg0( f37_arg0, f37_arg0 )
			end
		},
		{
			kbmTooltipPromptOverload = "button_keybind_unbind",
			button_ref = "button_keybind_unbind",
			helper_text = Engine[0xED84C33EC5F01EA]( 0xF8F2643648B8935 ),
			disabledFunction = function ()
				if f37_arg0.IsDisabled and f37_arg0:IsDisabled() then
					return true
				elseif f37_arg0.PrimaryKey:isInFocus() then
					return Engine[0x3C3B6822A98A4BC]( f37_arg0, f37_arg0.inputContext, f37_arg0.actionName, 0 ) == ""
				elseif f37_arg0.SecondaryKey:isInFocus() then
					return Engine[0x3C3B6822A98A4BC]( f37_arg0, f37_arg0.inputContext, f37_arg0.actionName, 1 ) == ""
				else
					return true
				end
			end
		},
		{
			button_ref = "button_alt1",
			helper_text = Engine[0xED84C33EC5F01EA]( 0xB449A012A9BBA10 ),
			disabledFunction = function ()
				local f39_local0
				if f37_arg0.LinkButton and f37_arg0.LinkButton:isInFocus() then
					f39_local0 = f37_arg0.IsDisabled
					if f39_local0 then
						f39_local0 = f37_arg0:IsDisabled()
					end
				else
					f39_local0 = true
				end
				return f39_local0
			end
		}
	}
	local f37_local1 = function ()
		return not OPTIONS.ShowFavoritePrompt( f37_arg0, f37_arg0 )
	end
	
	local f37_local2 = OPTIONS.GetSizeFavoriteList( f37_arg1 )
	local f37_local3 = nil
	if OPTIONS.IsOptionFavorite( f37_arg1, f37_arg0.id ) then
		f37_local3 = Engine[0xED84C33EC5F01EA]( 0x94B2B455C6DCE06, f37_local2, OPTIONS.MAX_FAVORITE_SETTINGS )
	elseif f37_local2 == OPTIONS.MAX_FAVORITE_SETTINGS then
		f37_local3 = Engine[0xED84C33EC5F01EA]( 0x9710058F1065975, OPTIONS.MAX_FAVORITE_SETTINGS, OPTIONS.MAX_FAVORITE_SETTINGS )
	else
		f37_local3 = Engine[0xED84C33EC5F01EA]( 0x3D441014BE983ED, f37_local2, OPTIONS.MAX_FAVORITE_SETTINGS )
	end
	table.insert( f37_local0, {
		button_ref = "button_alt2",
		keyprompt_text = "[{menu_action2}]",
		helper_text = f37_local3,
		disabledFunction = f37_local1
	} )
	f37_arg0:AddTooltipData( f37_arg1, {
		focusableChildrenRefresh = true,
		promptsData = f37_local0
	} )
end

BINDING.SetupKeybindContextualMenuActions = function ( f20_arg0, f20_arg1 )
	local f20_local0 = function ()
		return OPTIONS.ShowFavoritePrompt( f20_arg0, f20_arg0 )
	end
	
	local f20_local1 = function ()
		OPTIONS.OnTriggerFavoritePrompt( f20_arg0:GetCurrentMenu(), f20_arg0 )
	end
	
	f20_arg0:SetupContextualMenu()
	f20_arg0:AddContextualMenuAction( {
		button = "button_option_reset",
		id = "resetOption",
		actionName = Engine[0xED84C33EC5F01EA]( 0xB2E7F79066B2B52 ),
		actionFunction = function ()
			f20_arg0( f20_arg0, {
				controllerIndex = f20_arg0
			}, false )
		end,
		conditionFunction = function ()
			return f20_arg0( f20_arg0, f20_arg0 )
		end
	} )
	local f20_local2 = {
		button = "button_alt2",
		id = "favoritesOption",
		actionName = OPTIONS.GetFavoritePromptString( OPTIONS.IsOptionFavorite( f20_arg1, f20_arg0.id ), f20_arg1 ),
		actionFunction = f20_local1,
		conditionFunction = f20_local0
	}
	f20_arg0:AddContextualMenuAction( f20_local2 )
	local f20_local3 = function ( f32_arg0 )
		local f32_local0 = Engine[0x3C3B6822A98A4BC]
		local f32_local1 = f20_arg0
		local f32_local2 = f20_arg0.inputContext
		local f32_local3 = f20_arg0.actionName
		local f32_local4
		if f32_arg0 then
			f32_local4 = 0
		else
			f32_local4 = 1
		end
		return f32_local0( f32_local1, f32_local2, f32_local3, f32_local4 ) ~= ""
	end
	
	local f20_local4 = function ( f31_arg0 )
		local f31_local0 = Engine[0xDDE1DAEF1E62E50]
		local f31_local1 = f20_arg0
		local f31_local2 = f20_arg0.inputContext
		local f31_local3 = f20_arg0.actionName
		local f31_local4
		if f31_arg0 then
			f31_local4 = 0
		else
			f31_local4 = 1
		end
		f31_local0( f31_local1, f31_local2, f31_local3, f31_local4 )
		f20_arg0:dispatchEventToCurrentMenu( {
			name = "key_bound_banner",
			isDeleted = true,
			binding = f20_arg0.buttonName,
			optionName = f20_arg0.buttonName,
			currentCmd = f20_arg0.actionName
		} )
		if f31_arg0 then
			f20_arg0.PrimaryKey.Text:setText( "" )
			f20_arg0( f20_arg0, f20_arg0.PrimaryKey, true )
		else
			f20_arg0.SecondaryKey.Text:setText( "" )
			f20_arg0( f20_arg0, f20_arg0.SecondaryKey, false )
		end
		LUI.MouseCursorTooltipLayer.RefreshTooltip( f20_arg0 )
		if f20_arg0.LinkButton then
			ACTIONS.AnimateSequence( f20_arg0.LinkButton, "UnlinkKeybind" )
		end
	end
	
	local f20_local5 = function ( f30_arg0 )
		local f30_local0 = Engine[0x3C3B6822A98A4BC]
		local f30_local1 = f20_arg0
		local f30_local2 = f20_arg0.inputContext
		local f30_local3 = f20_arg0.actionName
		local f30_local4
		if f30_arg0 then
			f30_local4 = 0
		else
			f30_local4 = 1
		end
		f30_local0 = f30_local0( f30_local1, f30_local2, f30_local3, f30_local4 )
		local f30_local5 = Engine[0xA79C63520FCD69F]
		f30_local2 = f20_arg0
		f30_local3 = f20_arg0.inputContext
		f30_local4 = f20_arg0.actionName
		local f30_local6
		if f30_arg0 then
			f30_local6 = 0
		else
			f30_local6 = 1
		end
		return f30_local0 ~= f30_local5( f30_local2, f30_local3, f30_local4, f30_local6 )
	end
	
	local f20_local6 = function ()
		local f29_local0
		if f20_arg0.IsDisabled then
			f29_local0 = not f20_arg0:IsDisabled()
		else
			f29_local0 = true
		end
		return f29_local0
	end
	
	f20_arg0.PrimaryKey:SetupContextualMenu()
	f20_arg0.PrimaryKey:AddContextualMenuAction( {
		button = "button_keybind_unbind",
		id = "unbind",
		actionName = Engine[0xED84C33EC5F01EA]( 0xF8F2643648B8935 ),
		actionFunction = function ()
			f20_arg0( true )
		end,
		conditionFunction = function ()
			local f27_local0 = f20_arg0( true )
			if f27_local0 then
				f27_local0 = f20_arg0()
			end
			return f27_local0
		end
	} )
	f20_arg0.PrimaryKey:AddContextualMenuAction( {
		button = "button_option_reset",
		id = "resetOption",
		actionName = Engine[0xED84C33EC5F01EA]( 0xB2E7F79066B2B52 ),
		actionFunction = function ()
			f20_arg0( f20_arg0.PrimaryKey, f20_arg0, true )
		end,
		conditionFunction = function ()
			local f25_local0 = f20_arg0( true )
			if f25_local0 then
				f25_local0 = f20_arg0()
			end
			return f25_local0
		end
	} )
	f20_arg0.PrimaryKey:AddContextualMenuAction( f20_local2 )
	f20_arg0.SecondaryKey:SetupContextualMenu()
	f20_arg0.SecondaryKey:AddContextualMenuAction( {
		button = "button_keybind_unbind",
		id = "unbind",
		actionName = Engine[0xED84C33EC5F01EA]( 0xF8F2643648B8935 ),
		actionFunction = function ()
			f20_arg0( false )
		end,
		conditionFunction = function ()
			local f23_local0 = f20_arg0( false )
			if f23_local0 then
				f23_local0 = f20_arg0()
			end
			return f23_local0
		end
	} )
	f20_arg0.SecondaryKey:AddContextualMenuAction( {
		button = "button_option_reset",
		id = "resetOption",
		actionName = Engine[0xED84C33EC5F01EA]( 0xB2E7F79066B2B52 ),
		actionFunction = function ()
			f20_arg0( f20_arg0.SecondaryKey, f20_arg0, false )
		end,
		conditionFunction = function ()
			local f21_local0 = f20_arg0( false )
			if f21_local0 then
				f21_local0 = f20_arg0()
			end
			return f21_local0
		end
	} )
	f20_arg0.SecondaryKey:AddContextualMenuAction( f20_local2 )
end

BINDING.SetupKeybindingEvents = function ( f9_arg0, f9_arg1, f9_arg2, f9_arg3 )
	f9_arg0:addEventHandler( "button_action", function ( f19_arg0, f19_arg1 )
		if f19_arg1.keyboard then
			if f9_arg0.PrimaryKey:isInFocus() then
				f9_arg0( f9_arg0.PrimaryKey, f9_arg0, true )
			end
			if f9_arg0.SecondaryKey:isInFocus() then
				f9_arg0( f9_arg0.SecondaryKey, f9_arg0, false )
			end
		end
		return true
	end )
	f9_arg0.navigation = {
		right = f9_arg0.PrimaryKey
	}
	f9_arg0.PrimaryKey.navigation = {
		right = f9_arg0.SecondaryKey,
		left = f9_arg0
	}
	f9_arg0.SecondaryKey.navigation = {
		left = f9_arg0.PrimaryKey
	}
	f9_arg0:addEventHandler( "key_bound", function ( f18_arg0, f18_arg1 )
		if f18_arg0:IsActive() then
			local f18_local0 = f18_arg0._isBindingPrimary and f18_arg0.PrimaryKey or f18_arg0.SecondaryKey
			local f18_local1 = "BindingSuccess"
			local f18_local2 = f18_arg0:GetCurrentMenu()
			f18_arg0:dispatchEventToRoot( {
				name = "options_window_refresh",
				controller = f9_arg0,
				invalidBinding = f18_arg1.invalidBinding
			} )
			if f18_arg1.invalidBinding then
				f18_arg0:dispatchEventToCurrentMenu( {
					name = "key_bound_banner",
					optionName = f18_arg0.buttonName,
					binding = f18_arg1.buttonName,
					unboundCommands = f18_arg1.unboundCommands,
					inputContext = f18_arg0.inputContext,
					currentCmd = f18_arg0.actionName,
					invalidBinding = f18_arg1.invalidBinding
				} )
				return 
			elseif not f18_arg1.cancelBinding then
				if f18_arg0._isBindingPrimary then
					local f18_local3 = 0
				else
					local f18_local3 = 1
				end
				if f18_arg1.isReset then
					local f18_local3 = 0
				end
				local f18_local4 = Engine[0x3C3B6822A98A4BC]( f9_arg0, f18_arg0.inputContext, f18_arg0.actionName, f18_local3 )
				f9_arg0( f9_arg0, f18_local0, f18_arg0._isBindingPrimary, true )
				local f18_local5 = Engine[0xC3A90504A32DE5D]( f9_arg0, f18_arg0.inputContext, f18_arg0.actionName )
				local f18_local6 = nil
				if f18_local5 then
					local f18_local7 = Engine[0x5CF095FD8E1C332]( f18_arg0.actionName )
					local f18_local8 = OPTIONS:GetOptionsDataByIdentifier( f9_arg0, OPTIONS_DATA_GENERATED.keyBindingsOptions, f18_local7 )
					if f18_local7 and f18_local8 then
						f18_local6 = OPTIONS.ReturnOrCallFunction( f18_local8.name, f9_arg0 )
					end
				end
				f18_arg0:dispatchEventToCurrentMenu( {
					name = "key_bound_banner",
					optionName = f18_arg0.buttonName,
					binding = f18_local4,
					linkedOptionName = f18_local6,
					unboundCommands = f18_arg1.unboundCommands,
					inputContext = f18_arg0.inputContext,
					currentCmd = f18_arg0.actionName
				} )
				if f18_arg0.LinkButton and not f18_local5 then
					ACTIONS.AnimateSequence( f18_arg0.LinkButton, "UnlinkKeybind" )
				end
			else
				f18_local1 = "GainFocus"
				ACTIONS.AnimateSequence( f18_local0, "ResetText" )
				f18_arg0:dispatchEventToCurrentMenu( {
					name = "hide_banner"
				} )
			end
			ACTIONS.AnimateSequence( f18_local0, f18_local1 )
			if f18_local2.BindingLabel then
				f18_local2.BindingLabel:AnimateSequence( f18_local1 )
				f18_local2.BindingLabel:closeTree()
				f18_local2.BindingLabel = nil
			end
			f18_arg0:processEvent( {
				name = "button_over_active"
			} )
			if not f18_arg1.isReset then
				Engine[0xC4146BA76D0F982]( CoD.SFX.OtherAdjust )
			end
			OPTIONS.SetMatchEndDLogProfileSetting( f9_arg0, METRICS.EndMatchDLog.KEYBINDS_GAMEPLAY )
			local f18_local3 = LUI.UIRoot.GetRootForControllerIndex( f18_arg1.controller )
			f18_local3:TryAddMouseCursor()
			f18_local3.lockedMouseFocusStack = false
			Engine[0xA1DAA3E8650282A]( f18_arg1.controller )
			TOAST_NOTIF.UpdateToastButtonDisableState( false )
		end
	end )
	if f9_arg2 then
		f0_local0( f9_arg1, f9_arg0 )
		if IsLanguageArabic() then
			ACTIONS.AnimateSequence( f9_arg0, "ShorterTitleAR" )
		else
			ACTIONS.AnimateSequence( f9_arg0, "ShorterTitle" )
		end
	end
	f9_arg0.PrimaryKey:addEventHandler( "button_action", function ( f17_arg0, f17_arg1 )
		if LUI.IsLastInputKeyboardMouse( f9_arg0 ) then
			f9_arg0( f17_arg0, f9_arg0, true )
		end
		return true
	end )
	f9_arg0.SecondaryKey:addEventHandler( "button_action", function ( f16_arg0, f16_arg1 )
		if LUI.IsLastInputKeyboardMouse( f9_arg0 ) then
			f9_arg0( f16_arg0, f9_arg0, false )
		end
		return true
	end )
	f9_arg0.PrimaryKey:addEventHandler( "refresh", function ( f15_arg0, f15_arg1 )
		local f15_local0
		if f15_arg1 then
			f15_local0 = f15_arg1
		else
			f15_local0 = f15_arg1.invalidBinding
		end
		if not f15_local0 then
			f9_arg0( f9_arg0, f15_arg0, true, false )
		end
	end )
	f9_arg0.SecondaryKey:addEventHandler( "refresh", function ( f14_arg0, f14_arg1 )
		local f14_local0
		if f14_arg1 then
			f14_local0 = f14_arg1
		else
			f14_local0 = f14_arg1.invalidBinding
		end
		if not f14_local0 then
			f9_arg0( f9_arg0, f14_arg0, false, false )
		end
	end )
	if f9_arg3.disabled then
		f9_arg0:SetButtonDisabled( f9_arg3.disabled() )
	end
	f9_arg0:addEventHandler( "refresh", function ( f13_arg0, f13_arg1 )
		if f13_arg0.LinkButton then
			if Engine[0xC3A90504A32DE5D]( f9_arg0, f13_arg0.inputContext, f13_arg0.actionName ) then
				ACTIONS.AnimateSequence( f13_arg0.LinkButton, "LinkKeybind" )
			else
				ACTIONS.AnimateSequence( f13_arg0.LinkButton, "UnlinkKeybind" )
			end
		end
		if f9_arg0.disabled then
			f9_arg0:SetButtonDisabled( f9_arg0.disabled() )
		end
	end )
	f9_arg0:registerEventHandler( "reset_value", function ( element, event )
		f9_arg0( element, event, false )
	end )
	f9_arg0.disableSources = {}
	f9_arg0:addEventHandler( "request_disable", function ( f11_arg0, f11_arg1 )
		local f11_local0 = f11_arg1.disableSource
		if not f11_arg1.disableSource then
			f11_arg1.disableSource = "PERMANENT"
		end
		local f11_local1 = false
		for f11_local5, f11_local6 in ipairs( f11_arg0.disableSources ) do
			if f11_local6 == f11_arg1.disableSource then
				if f11_arg1.disable == false then
				
				else
					f11_local1 = true
					break
				end
				table.remove( f11_arg0.disableSources, f11_local5 )
			end
		end
		if not f11_local1 and f11_arg1.disable then
			table.insert( f11_arg0.disableSources, f11_arg1.disableSource )
		end
		f11_arg0:SetButtonDisabled( 0 < #f11_arg0.disableSources )
		TOAST_NOTIF.UpdateToastButtonDisableState( false )
	end )
	OPTIONS.SetActiveEventHandler( f9_arg0, f9_arg3 )
	f0_local0( f9_arg0.PrimaryKey, f9_arg1, true )
	f0_local0( f9_arg1, f9_arg0.PrimaryKey, true )
	f0_local0( f9_arg0.SecondaryKey, f9_arg1, false )
	f0_local0( f9_arg1, f9_arg0.SecondaryKey, false )
	BINDING.SetupKeybindTooltip( f9_arg0, f9_arg1 )
	BINDING.SetupKeybindContextualMenuActions( f9_arg0, f9_arg1 )
	f9_arg0.ShouldAddResetButton = function ()
		return f9_arg0( f9_arg0, f9_arg0 )
	end
	
end

local f0_local13 = function ( f8_arg0, f8_arg1 )
	local f8_local0 = f8_arg0:GetCurrentMenu()
	Engine[0x9EEC76BD7DE3B55]( f8_arg1, f8_arg0.inputContext, f8_arg0.actionName, 0 )
	f0_local0( f8_arg1, f8_arg0, true )
	f0_local0( f8_arg0, f8_local0, f8_arg1, true )
	ACTIONS.AnimateSequence( f8_arg0, "Binding" )
	f8_arg0:processEvent( {
		name = "binding"
	} )
	ACTIONS.AnimateSequence( f8_local0.BindingLabel, "Binding" )
	f8_arg0:dispatchEventToCurrentMenu( {
		name = "binding_key"
	} )
end

BINDING.SetupGamepadSwapEvents = function ( f1_arg0, f1_arg1, f1_arg2 )
	f1_arg0:addEventHandler( "button_action", function ( f7_arg0, f7_arg1 )
		if LUI.IsLastInputGamepad( f7_arg1.controller ) then
			f1_arg0( f1_arg0, f1_arg0 )
		end
		return true
	end )
	f1_arg0:addEventHandler( "key_bound", function ( f6_arg0, f6_arg1 )
		if f6_arg0:IsActive() then
			local f6_local0 = f6_arg0.ButtonBind
			local f6_local1 = "BindingSuccess"
			local f6_local2 = f6_arg0:GetCurrentMenu()
			f6_arg0:dispatchEventToRoot( {
				name = "options_window_refresh",
				controller = f1_arg0,
				invalidBinding = f6_arg1.invalidBinding
			} )
			if f6_arg1.invalidBinding then
				f6_arg0:dispatchEventToCurrentMenu( {
					name = "key_bound_banner",
					optionName = f6_arg0.buttonName,
					binding = f6_arg1.buttonName,
					unboundCommands = f6_arg1.unboundCommands,
					currentCmd = f6_arg0.actionName,
					invalidBinding = f6_arg1.invalidBinding
				} )
				return 
			elseif not f6_arg1.cancelBinding then
				local f6_local3 = Engine[0x3C3B6822A98A4BC]( f1_arg0, f6_arg0.inputContext, f6_arg0.actionName, 0 )
				f1_arg0( f1_arg0, f6_local0, true )
				f6_arg0:dispatchEventToCurrentMenu( {
					name = "key_bound_banner",
					optionName = f6_arg0.buttonName,
					binding = f6_local3,
					unboundCommands = f6_arg1.unboundCommands,
					currentCmd = f6_arg0.actionName
				} )
			else
				f6_local1 = "GainFocus"
				ACTIONS.AnimateSequence( f6_local0, "ResetText" )
				f6_arg0:dispatchEventToCurrentMenu( {
					name = "hide_banner"
				} )
			end
			ACTIONS.AnimateSequence( f6_local0, f6_local1 )
			if f6_local2.BindingLabel then
				f6_local2.BindingLabel:AnimateSequence( f6_local1 )
				f6_local2.BindingLabel:closeTree()
				f6_local2.BindingLabel = nil
			end
			f6_arg0:processEvent( {
				name = "button_over_active"
			} )
			if not f6_arg1.isReset then
				Engine[0xC4146BA76D0F982]( CoD.SFX.OtherAdjust )
			end
			OPTIONS.SetMatchEndDLogProfileSetting( f1_arg0, METRICS.EndMatchDLog.KEYBINDS_GAMEPLAY )
		end
	end )
	if f1_arg2.disabled then
		f1_arg0:SetButtonDisabled( f1_arg2.disabled() )
	end
	f1_arg0:addEventHandler( "refresh", function ( f5_arg0, f5_arg1 )
		if f1_arg0.disabled then
			f1_arg0:SetButtonDisabled( f1_arg0.disabled() )
		end
	end )
	f1_arg0:registerEventHandler( "reset_value", function ( element, event )
		f1_arg0( element, event, true )
	end )
	f1_arg0.disableSources = {}
	f1_arg0:addEventHandler( "request_disable", function ( f3_arg0, f3_arg1 )
		local f3_local0 = f3_arg1.disableSource
		if not f3_arg1.disableSource then
			f3_arg1.disableSource = "PERMANENT"
		end
		local f3_local1 = false
		for f3_local5, f3_local6 in ipairs( f3_arg0.disableSources ) do
			if f3_local6 == f3_arg1.disableSource then
				if f3_arg1.disable == false then
				
				else
					f3_local1 = true
					break
				end
				table.remove( f3_arg0.disableSources, f3_local5 )
			end
		end
		if not f3_local1 and f3_arg1.disable then
			table.insert( f3_arg0.disableSources, f3_arg1.disableSource )
		end
		f3_arg0:SetButtonDisabled( 0 < #f3_arg0.disableSources )
	end )
	OPTIONS.SetActiveEventHandler( f1_arg0, f1_arg2 )
	f1_arg0.ShouldAddResetButton = function ()
		return f1_arg0( f1_arg0, f1_arg0 )
	end
	
end

