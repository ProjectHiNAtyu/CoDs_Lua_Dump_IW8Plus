-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
GAMEBATTLES = GAMEBATTLES or {}
GAMEBATTLES.INVALID_MATCH_ID = "0"
GAMEBATTLES.MATCH_LOBBY_BUTTON_COOLDOWN = 2000
GAMEBATTLES.INPUT_CHANGE_DEBOUNCE_TIME = 1000
GAMEBATTLES.shouldShowAllCharacters = Dvar.IBEGCHEFE( "gamebattles_show_all_characters" )
GAMEBATTLES.shouldShowFenceToRefreshSchedule = false
GAMEBATTLES.confirmedExpiredMatches = {}
GAMEBATTLES.expiredMatchesToConfirm = {}
GAMEBATTLES.FENCES_FORCING_LEAVE_MENU = hashset( {
	nil,
	"AcceptingInvite",
	"AcceptingInviteWithoutCancel"
} )
GAMEBATTLES.GAMEBATTLES_LOBBY_CHARACTERS_POSITION = {
	nil,
	1,
	0,
	3,
	2,
	4,
	5,
	7,
	6,
	9,
	8,
	10,
	11
}
GAMEBATTLES.MAX_LOBBY_CHARACTERS_POSITIONS = #GAMEBATTLES.GAMEBATTLES_LOBBY_CHARACTERS_POSITION
GAMEBATTLES.URL = {
	MLG_TERMS_OF_SERVICE = "https://accounts.majorleaguegaming.com/terms_of_service",
	MLG_PRIVACY_POLICY = "https://accounts.majorleaguegaming.com/privacy_policy"
}
MLG.ResetGameBattleMatchId = function ( f51_arg0 )
	MLG.DEHBFHFDFJ( GAMEBATTLES.INVALID_MATCH_ID )
end

GAMEBATTLES.MLG_ACCOUNT_STATE = {
	ACCOUNT_ERROR = 4,
	NO_ACCOUNT = 3,
	UNAVAILABLE = 0,
	HAS_ACCOUNT = 2,
	RETRIEVING = 1
}
GAMEBATTLES.MLG_RECIPE_PRESET = {
	RECIPE_CWL = 1,
	RECIPE_MAX = 3,
	RECIPE_GB = 2,
	RECIPE_DEFAULT = 0
}
GAMEBATTLES.MLG_INPUT_TYPE_PRESET = {
	KBM = 0,
	GPad = 1,
	KBM_GPad = 2
}
GAMEBATTLES.MLG_SCHEDULE_STATE = {
	AVAILABLE = 2,
	RETRIEVAL_ERROR = 3,
	RETRIEVING = 1,
	UNAVAILABLE = 0
}
GAMEBATTLES.MLG_CODE_STATE = {
	AVAILABLE = 2,
	RETRIEVAL_ERROR = 3,
	RETRIEVING = 1,
	UNAVAILABLE = 0
}
GAMEBATTLES.MLG_ERR_CODE = {
	MATCH_HISTORY_RETRIEVAL_ERROR = 3,
	NO_SOCIAL_PRIVILEGES = 4,
	FIRST_TIME_ENTRY = 2,
	USER_NOT_REGISTERED = 1,
	CANNOT_CONNECT = 0
}
GAMEBATTLES.MLG_REPORT_STATE = {
	SEND_SUCCESS = 3,
	IDLE = 0,
	SEND_ERROR = 4,
	DS_SENDING = 2,
	SENDING = 1
}
GAMEBATTLES.MLG_GAME_STATUS = {
	WON_AWAY = 2,
	UNPLAYED = 0,
	WON_HOME = 1,
	NO_SHOW = 3
}
GAMEBATTLES.MLG_MATCH_JOIN_STATE = {
	JOIN_ERROR = 4,
	CANT_HOST = 5,
	IDLE = 0,
	CLIENT = 3,
	TRY_CREATE = 1,
	HOST = 2
}
GAMEBATTLES.MLG_MATCH_CHECK_STATE = {
	MATCH_EXPIRED = 2,
	CHECK_IN_PROGRESS = 1,
	FAILED = 0,
	MATCH_VALID = 3
}
GAMEBATTLES.MLG_MATCH_HISTORY_STATE = {
	AVAILABLE = 2,
	RETRIEVAL_ERROR = 3,
	RETRIEVING = 1,
	UNAVAILABLE = 0
}
GAMEBATTLES.LOBBY_ANIMATION_STATE = {
	HAS_LEFT_MATCH = 2,
	HAS_NOT_JOINED = 0,
	HAS_JOINED = 1
}
GAMEBATTLES.TELEMETRY = {}
GAMEBATTLES.TELEMETRY.ACTION = {
	REFRESH_SCHEDULE = "refresh_schedule",
	MATCH_START = "match_start",
	LEAVE_MATCH = "leave_match",
	JOIN_MATCH = "join_match",
	LEAVE_MENU = "leave_menu",
	FENCE_CLOSED = "fence_close",
	FORFEIT = "forfeit"
}
GAMEBATTLES.ApplyGameSettings = function ( f50_arg0, f50_arg1 )
	Dvar.BDEHAEGHAF( "MOLPOSLOMO", f50_arg0.gametype )
	Dvar.BDEHAEGHAF( "NSQLTTMRMP", f50_arg0.map )
	MLG.DHDGADDDII( f50_arg1 )
end

GAMEBATTLES.GetCodcastersCount = function ( f49_arg0 )
	assert( f49_arg0 ~= nil )
	return f49_arg0.totalPlayerCount - f49_arg0.teams[1].playerCount + f49_arg0.teams[2].playerCount
end

GAMEBATTLES.GetNoshowTime = function ()
	local f48_local0 = Dvar.CFHDGABACF( "NTNOSQRROL" )
	if f48_local0 ~= nil and f48_local0 ~= 0 then
		return f48_local0
	else
		return 600
	end
end

GAMEBATTLES.GetNoBackOutTime = function ()
	return 30
end

GAMEBATTLES.GetIntermissionTime = function ()
	local f46_local0 = Dvar.CFHDGABACF( "NRMTLLNQKR" )
	if f46_local0 ~= nil and f46_local0 ~= 0 then
		return f46_local0
	else
		return 300
	end
end

GAMEBATTLES.GetScheduleRefreshInterval = function ()
	return Dvar.CFHDGABACF( "NRNNMRTSMP" ) * 1000
end

GAMEBATTLES.SetScheduleRefreshInterval = function ( f44_arg0 )
	Dvar.DFIJDJFIFD( "NRNNMRTSMP", f44_arg0 / 1000 )
end

GAMEBATTLES.GetMatchHistoryRefreshInterval = function ()
	return Dvar.CFHDGABACF( "LRTRNSRPML" ) * 1000
end

GAMEBATTLES.SetMatchHistoryRefreshInterval = function ( f42_arg0 )
	Dvar.DFIJDJFIFD( "LRTRNSRPML", f42_arg0 / 1000 )
end

GAMEBATTLES.GetMatchProgressInfo = function ( f41_arg0 )
	local f41_local0 = GAMEBATTLES.GetSecondsUntilNoShow( f41_arg0 ) <= 0
	local f41_local1 = false
	local f41_local2, f41_local3, f41_local4 = GAMEBATTLES.GetMatchVictoryInfo( f41_arg0 )
	if f41_local2 ~= 0 or f41_local3 ~= 0 then
		f41_local0 = true
		local f41_local5 = f41_arg0.gameCount / 2
		if f41_local5 < f41_local2 or f41_local5 < f41_local3 then
			f41_local1 = true
		end
	end
	local f41_local5 = f41_local0
	local f41_local6
	if not f41_local1 then
		f41_local6 = f41_local1
	else
		f41_local6 = f41_local4
	end
	return f41_local5, f41_local6
end

GAMEBATTLES.GetMatchVictoryInfo = function ( f40_arg0 )
	local f40_local0 = 0
	local f40_local1 = 0
	local f40_local2 = false
	for f40_local6, f40_local7 in ipairs( f40_arg0.games ) do
		if f40_local7.status == GAMEBATTLES.MLG_GAME_STATUS.WON_AWAY then
			f40_local0 = f40_local0 + 1
		end
		if f40_local7.status == GAMEBATTLES.MLG_GAME_STATUS.WON_HOME then
			f40_local1 = f40_local1 + 1
		end
		if f40_local7.status == GAMEBATTLES.MLG_GAME_STATUS.NO_SHOW then
			f40_local2 = true
		end
	end
	return f40_local0, f40_local1, f40_local2
end

GAMEBATTLES.GetFirstActiveMatch = function ( f39_arg0 )
	local f39_local0 = MLG.DFJDECFDHI( f39_arg0 )
	for f39_local1 = 0, f39_local0 - 1, 1 do
		local f39_local4 = MLG.EBJFHEJBC( f39_arg0, f39_local1 )
		local f39_local5, f39_local6 = GAMEBATTLES.GetMatchProgressInfo( f39_local4 )
		if not f39_local6 and not GAMEBATTLES.IsMatchExpired( f39_arg0, f39_local4 ) then
			return f39_local4
		end
	end
	return nil
end

GAMEBATTLES.GetLastCompletedMatch = function ( f38_arg0 )
	for f38_local0 = MLG.DFJDECFDHI( f38_arg0 ) - 1, 0, -1 do
		local f38_local3 = MLG.EBJFHEJBC( f38_arg0, f38_local0 )
		local f38_local4, f38_local5 = GAMEBATTLES.GetMatchProgressInfo( f38_local3 )
		if f38_local5 then
			return f38_local3
		end
	end
	return nil
end

GAMEBATTLES.GetMatchByMatchID = function ( f37_arg0, f37_arg1 )
	local f37_local0 = MLG.DFJDECFDHI( f37_arg0 )
	for f37_local1 = 0, f37_local0 - 1, 1 do
		local f37_local4 = MLG.EBJFHEJBC( f37_arg0, f37_local1 )
		if f37_local4.matchId == f37_arg1 then
			return f37_local4
		end
	end
	return nil
end

GAMEBATTLES.GetCurrentMatch = function ( f36_arg0 )
	if MLG.DEFJAJGIJH( f36_arg0 ) ~= GAMEBATTLES.MLG_SCHEDULE_STATE.AVAILABLE then
		return nil
	else
		local f36_local0 = MLG.DBHIJDDIFH( f36_arg0 )
		if f36_local0 < 0 then
			return nil
		else
			return MLG.EBJFHEJBC( f36_arg0, f36_local0 )
		end
	end
end

GAMEBATTLES.IsCurrentMatchCompleted = function ( f35_arg0 )
	local f35_local0 = GAMEBATTLES.GetCurrentMatch( f35_arg0 )
	if f35_local0 ~= nil then
		local f35_local1, f35_local2 = GAMEBATTLES.GetMatchProgressInfo( f35_local0 )
		return f35_local2
	else
		return false
	end
end

GAMEBATTLES.IsMatchExpired = function ( f34_arg0, f34_arg1 )
	if not (GAMEBATTLES.GetSecondsUntilNoShow( f34_arg1 ) <= 0) then
		return false
	end
	local f34_local0 = f34_arg1.matchId
	if MLG.BIHFEHBCFB( f34_arg0 ) == f34_local0 and GAMEBATTLES.HasJoinedMatch( f34_arg0 ) then
		return false
	end
	for f34_local4, f34_local5 in ipairs( f34_arg1.games ) do
		if f34_local5.status ~= GAMEBATTLES.MLG_GAME_STATUS.UNPLAYED then
			return false
		end
	end
	if Dvar.IBEGCHEFE( "OLTPPRMMKT" ) then
		f34_local1 = GAMEBATTLES.confirmedExpiredMatches[f34_local0]
		if f34_local1 ~= nil then
			return f34_local1
		end
		GAMEBATTLES.expiredMatchesToConfirm[f34_local0] = true
	end
	return true
end

GAMEBATTLES.ShowMatchForfeitPopup = function ( f33_arg0, f33_arg1, f33_arg2 )
	local f33_local0
	if f33_arg2 == 1 then
		f33_local0 = 2
	else
		f33_local0 = 1
	end
	LUI.FlowManager.RequestPopupMenu( self, "MLGGamebattlesMatchForfeitPopup", false, f33_arg0, false, {
		currentDateTime = Engine.BEDAHJJBFJ(),
		forfeitTeamName = f33_arg1.teams[f33_local0].teamName,
		forfeitTeamId = f33_arg1.teams[f33_local0].teamId,
		winningTeamName = f33_arg1.teams[f33_arg2].teamName,
		winningTeamId = f33_arg1.teams[f33_arg2].teamId,
		matchID = f33_arg1.matchId
	} )
end

GAMEBATTLES.GetClientCharacterData = function ( f32_arg0, f32_arg1, f32_arg2, f32_arg3 )
	local f32_local0 = {}
	local f32_local1 = {}
	local f32_local2 = {}
	local f32_local3 = {}
	local f32_local4 = GAMEBATTLES.shouldShowAllCharacters
	if 0 < f32_arg3 then
		local f32_local5
		if f32_arg2 == 1 then
			f32_local5 = OPERATOR.SuperFaction.EAST
			if not f32_local5 then
			
			else
				for f32_local6 = 0, f32_arg3 - 1, 1 do
					local f32_local9 = f32_arg1:GetDataSourceAtIndex( f32_local6, f32_arg0 )
					if not (not f32_local9 or f32_local9.isPlaceHolderPlayer:GetValue( f32_arg0 )) or f32_local4 then
						local f32_local10 = f32_local9.memberIndex:GetValue( f32_arg0 )
						if f32_local4 then
							if f32_arg2 == 1 and not f32_local6 then
								f32_local10 = f32_local6
							else
								f32_local10 = GAMEBATTLES.MAX_LOBBY_CHARACTERS_POSITIONS / 2 + f32_local6
							end
						end
						local f32_local11
						if f32_arg2 == 1 then
							f32_local11 = "default_eastern"
						else
							f32_local11 = "default_western"
						end
						local f32_local12, f32_local13 = OPERATOR.GetWeaponClassDefaultOperatorSkin( f32_arg0, f32_local11 )
						local f32_local14 = WEAPON.GetWeaponModelNameFromRef( WEAPON.DefaultPrimary, {
							includeStickers = true,
							includeCamos = true,
							includeAttachments = true
						} )
						local f32_local15 = WEAPON.GetWeaponModelNameFromRef( WEAPON.DefaultSecondary, {
							includeStickers = true,
							includeCamos = true,
							includeAttachments = true
						} )
						table.insert( f32_local1, f32_local13 )
						table.insert( f32_local2, f32_local12 )
						table.insert( f32_local3, f32_local14 )
						table.insert( f32_local3, f32_local15 )
						table.insert( f32_local0, {
							memberIndex = f32_local10,
							primaryWeaponModel = f32_local14,
							secondaryWeaponModel = f32_local15,
							bodyModel = f32_local13,
							headModel = f32_local12,
							superfactionIndex = f32_local5
						} )
					end
				end
			end
		end
		f32_local5 = OPERATOR.SuperFaction.WEST
	end
	return f32_local0, f32_local1, f32_local2, f32_local3
end

GAMEBATTLES.RequestClientCharacterData = function ( f31_arg0, f31_arg1, f31_arg2 )
	if f31_arg0 then
		FrontEndScene.RequestBodyModels( f31_arg0 )
	end
	if f31_arg1 then
		FrontEndScene.RequestHeadModels( f31_arg1 )
	end
	if f31_arg2 then
		FrontEndScene.RequestWeaponWorldModels( f31_arg2 )
	end
end

GAMEBATTLES.UpdateClientCharacters = function ( f30_arg0, f30_arg1, f30_arg2, f30_arg3 )
	for f30_local11, f30_local12 in ipairs( f30_arg1 ) do
		for f30_local3, f30_local4 in ipairs( f30_local12 ) do
			local f30_local6 = f30_local4.memberIndex + 1
			local f30_local7 = f30_arg3[f30_local6]
			local f30_local8 = f30_local4.bodyModel
			local f30_local9 = f30_local4.headModel
			local f30_local10 = f30_local4.primaryWeaponModel
			OPERATOR.UpdateClientCharacter( f30_local7, f30_local8, f30_local9, {
				showCharacter = true,
				operatorPose = Lobby.GetWalkAnimationForIndex( f30_local8, f30_local9, f30_local6, f30_local10 ),
				element = f30_arg2,
				weaponModel = f30_local10,
				secondaryModel = f30_local4.secondaryWeaponModel
			} )
			FrontEndScene.SetCharacterVisible( f30_local7, true )
		end
	end
end

GAMEBATTLES.HasJoinedMatch = function ( f29_arg0 )
	local f29_local0 = MLG.CIGIDJACJB( f29_arg0 )
	local f29_local1
	if f29_local0 ~= GAMEBATTLES.MLG_MATCH_JOIN_STATE.HOST and f29_local0 ~= GAMEBATTLES.MLG_MATCH_JOIN_STATE.CLIENT then
		f29_local1 = false
	else
		f29_local1 = true
	end
	return f29_local1
end

GAMEBATTLES.IsMatchAvailable = function ( f28_arg0 )
	return MLG.DEFJAJGIJH( f28_arg0 ) == GAMEBATTLES.MLG_SCHEDULE_STATE.AVAILABLE
end

GAMEBATTLES.GetSecondsUntilNoShow = function ( f27_arg0 )
	local f27_local0 = nil
	if f27_arg0 then
		f27_local0 = Engine.CCEJJCCDEG( Engine.BAHGDJFBEF( f27_arg0.matchTime, GAMEBATTLES.GetNoshowTime() ) )
	end
	return f27_local0
end

GAMEBATTLES.IsMatchStarted = function ( f26_arg0 )
	local f26_local0 = false
	if f26_arg0 then
		local f26_local1, f26_local2 = GAMEBATTLES.GetMatchProgressInfo( f26_arg0 )
		f26_local0 = f26_local1
	end
	return f26_local0
end

GAMEBATTLES.IsMatchInProgress = function ( f25_arg0 )
	local f25_local0 = LUI.DataSourceInGlobalModel.new( "frontEnd.mlg.gameInProgress" )
	if f25_local0:GetValue( f25_arg0 ) then
		return true
	else
		return false
	end
end

GAMEBATTLES.IsInNoShowInterval = function ( f24_arg0 )
	local f24_local0 = false
	if f24_arg0 then
		if Engine.CCEJJCCDEG( f24_arg0.matchTime ) > 0 or 0 >= GAMEBATTLES.GetSecondsUntilNoShow( f24_arg0 ) then
			f24_local0 = false
		else
			f24_local0 = true
		end
	end
	return f24_local0
end

GAMEBATTLES.IsInIntermissionInterval = function ( f23_arg0 )
	if f23_arg0 then
		local f23_local0, f23_local1 = GAMEBATTLES.GetMatchProgressInfo( f23_arg0 )
		local f23_local2, f23_local3, f23_local4 = GAMEBATTLES.GetMatchVictoryInfo( f23_arg0 )
		local f23_local5 = f23_local2 + f23_local3
		local f23_local6
		if f23_local0 then
			f23_local6 = f23_local0
		elseif f23_local1 or 0 >= f23_local5 then
			f23_local6 = false
		else
			f23_local6 = true
		end
		return f23_local6
	else
		return false
	end
end

GAMEBATTLES.IsWhitelistedForGameBattles = function ( f22_arg0 )
	return MLG.BGGFEEDBGA( f22_arg0 )
end

GAMEBATTLES.AreAllPlayersReady = function ( f21_arg0 )
	local f21_local0 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.areAllPlayersCommitReady" )
	local f21_local1 = f21_local0:GetValue( f21_arg0 )
	local f21_local2
	if not f21_local1 then
		f21_local2 = f21_local1
	else
		f21_local2 = false
	end
	return f21_local2
end

GAMEBATTLES.HandleInputTypeSelected = function ( f20_arg0, f20_arg1 )
	local f20_local0 = Engine.BECCFCBIAA( "gpadEnabled", f20_arg1 )
	local f20_local1
	if f20_local0 then
		f20_local1 = GAMEBATTLES.MLG_INPUT_TYPE_PRESET.GPad
		if not f20_local1 then
		
		else
			if f20_arg0 == GAMEBATTLES.MLG_INPUT_TYPE_PRESET.KBM_GPad then
				return true
			elseif f20_arg0 == f20_local1 then
				Dvar.DHEGHJJJHI( "MQMQRMLRQP", true )
				Dvar.DHEGHJJJHI( "NNPMRQSQN", false )
				return true
			elseif OPTIONS.DualInputConnected( f20_arg1 ) then
				Dvar.DHEGHJJJHI( "MQMQRMLRQP", true )
				Dvar.DHEGHJJJHI( "NNPMRQSQN", false )
				Engine.CIGGHDDHGJ( f20_arg1, not f20_local0 )
				return true
			else
				LUI.FlowManager.RequestPopupMenu( self, "PopupOK", true, f20_arg1, false, {
					message = Engine.CBBHFCGDIC( "MLG_GAMEBATTLES/POPUP_PLUG_INPUT" )
				} )
				return false
			end
		end
	end
	f20_local1 = GAMEBATTLES.MLG_INPUT_TYPE_PRESET.KBM
end

GAMEBATTLES.LeaveGameBattleMatchLobby = function ( f19_arg0 )
	MLG.JAIGJGGF( f19_arg0 )
end

GAMEBATTLES.LeaveGameBattlesMenu = function ( f18_arg0 )
	if not LUI.FlowManager.IsInStack( "GameBattlesMatchLobby" ) then
		return 
	else
		local f18_local0 = LUI.FlowManager.GetScopedData( "GameBattlesMatchLobby" )
		f18_local0.matchLobby:LeaveMenu( f18_arg0 )
	end
end

GAMEBATTLES.SetLastSeenResultsMatchId = function ( f17_arg0, f17_arg1 )
	if f17_arg1 then
		local f17_local0 = PlayerData.BFFBGAJGD( f17_arg0, CoD.StatsGroup.NonGame )
		f17_local0.gamebattlesResultsMatchId:set( f17_arg1 )
	end
end

GAMEBATTLES.GetLastSeenResultsMatchId = function ( f16_arg0 )
	local f16_local0 = PlayerData.BFFBGAJGD( f16_arg0, CoD.StatsGroup.NonGame )
	f16_local0 = f16_local0.gamebattlesResultsMatchId:get()
	local f16_local1
	if not f16_local0 then
		f16_local1 = f16_local0
	else
		f16_local1 = 0
	end
	return f16_local1
end

GAMEBATTLES.SetLastResultsRound = function ( f15_arg0, f15_arg1 )
	if f15_arg1 then
		local f15_local0 = PlayerData.BFFBGAJGD( f15_arg0, CoD.StatsGroup.NonGame )
		f15_local0.gamebattlesResultsRound:set( f15_arg1 )
	end
end

GAMEBATTLES.GetLastResultsRound = function ( f14_arg0 )
	local f14_local0 = PlayerData.BFFBGAJGD( f14_arg0, CoD.StatsGroup.NonGame )
	f14_local0 = f14_local0.gamebattlesResultsRound:get()
	local f14_local1
	if not f14_local0 then
		f14_local1 = f14_local0
	else
		f14_local1 = 0
	end
	return f14_local1
end

GAMEBATTLES.ExecutionDebounce = function ( f11_arg0, f11_arg1, f11_arg2, f11_arg3 )
	if f11_arg0[f11_arg1] then
		f11_arg0[f11_arg1].onComplete = function ()
			
		end
		
		f11_arg0[f11_arg1] = nil
	end
	f11_arg0[f11_arg1] = f11_arg0:Wait( f11_arg2 )
	f11_arg0[f11_arg1].onComplete = function ()
		f11_arg0()
		f11_arg0[f11_arg0] = nil
	end
	
end

GAMEBATTLES.ExecutionCooldown = function ( f9_arg0, f9_arg1, f9_arg2, f9_arg3 )
	local f9_local0 = f9_arg0[f9_arg1] and false
	f9_arg3()
	f9_arg0[f9_arg1] = f9_arg0:Wait( f9_arg2 )
	f9_arg0[f9_arg1].onComplete = function ()
		f9_arg0[f9_arg0] = nil
	end
	
	return true
end

GAMEBATTLES.ShowFenceToRefreshSchedule = function ()
	GAMEBATTLES.ResetConfirmedExpiredMatches()
	GAMEBATTLES.shouldShowFenceToRefreshSchedule = true
end

GAMEBATTLES.WaitForConditionToExecute = function ( f5_arg0, f5_arg1, f5_arg2, f5_arg3, f5_arg4, f5_arg5, f5_arg6 )
	local f5_local0 = Engine.BFBIDEGDFB()
	local f5_local1 = function ()
		if f5_arg0 then
			f5_arg0()
		end
	end
	
	local f5_local2 = nil
	local f5_local3 = function ()
		if f5_arg0 < Engine.BFBIDEGDFB() - f5_arg0 then
			if f5_arg0 then
				f5_arg0()
			end
			f5_arg0()
		elseif f5_arg0() then
			f5_arg0()
			f5_arg0()
		else
			local f6_local0 = f5_arg0:Wait( f5_arg0 )
			f6_local0.onComplete = f5_arg0
		end
	end
	
	f5_local3()
end

GAMEBATTLES.RemoveSubscriptions = function ( f4_arg0 )
	local f4_local0 = Engine.DBFFAEEFGJ()
	local f4_local1 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.areAllPlayersCommitReady" )
	local f4_local2 = LUI.DataSourceInGlobalModel.new( "frontEnd.mlg.isLocalCommitReady" )
	f4_local0:UnsubscribeFromModel( f4_local1:GetModel( f4_arg0 ) )
	f4_local0:UnsubscribeFromModel( f4_local2:GetModel( f4_arg0 ) )
	f4_local0:registerEventHandler( "gamebattles_timer_stop", nil )
	f4_local0:registerEventHandler( "input_method_changed", nil )
	f4_local0:registerEventHandler( "gamebattles_social_leave_menu", nil )
	f4_local0:registerEventHandler( "update_gamebattles_timer", nil )
	if f4_local0.gamebattlesTimer then
		f4_local0.gamebattlesTimer:closeTree()
		f4_local0.gamebattlesTimer = nil
	end
end

GAMEBATTLES.JSON = {}
GAMEBATTLES.JSON.NULL = {}
GAMEBATTLES.JSON.Stringify = function ( f3_arg0 )
	local f3_local0 = {}
	local f3_local1, f3_local2 = nil
	local f3_local3 = false
	local f3_local4 = #f3_arg0 == 0
	if f3_local4 then
		local f3_local5 = CountTableKeys( f3_arg0 )
		f3_local1 = "{"
		f3_local2 = "}"
	else
		f3_local1 = "["
		f3_local2 = "]"
	end
	table.insert( f3_local0, f3_local1 )
	for f3_local11, f3_local12 in pairs( f3_arg0 ) do
		local f3_local13 = type( f3_local12 )
		local f3_local9
		if f3_local4 then
			f3_local9 = "\"" .. f3_local11 .. "\":"
			if not f3_local9 then
			
			else
				local f3_local10 = nil
				if f3_local12 == GAMEBATTLES.JSON.NULL then
					f3_local10 = "null"
				elseif f3_local13 == "table" then
					f3_local10 = GAMEBATTLES.JSON.Stringify( f3_local12 )
				elseif f3_local13 == "string" then
					f3_local10 = "\"" .. f3_local12 .. "\""
				elseif f3_local13 == "number" or f3_local13 == "boolean" then
					f3_local10 = tostring( f3_local12 )
				end
				if f3_local10 then
					f3_local3 = true
					table.insert( f3_local0, f3_local9 )
					table.insert( f3_local0, f3_local10 )
					table.insert( f3_local0, "," )
				end
			end
		end
		f3_local9 = nil
	end
	if f3_local3 then
		table.remove( f3_local0, #f3_local0 )
	end
	table.insert( f3_local0, f3_local2 )
	return table.concat( f3_local0 )
end

GAMEBATTLES.RecordTelemetryEvent = function ( f2_arg0, f2_arg1, f2_arg2 )
	if Dvar.IBEGCHEFE( "OKRQOSSLTM" ) then
		local f2_local0
		if f2_arg2 then
			f2_local0 = GAMEBATTLES.JSON.Stringify( f2_arg2 )
			if not f2_local0 then
			
			else
				MLG.CHHGCCAEHH( f2_arg0, f2_arg1, f2_local0 )
			end
		end
		f2_local0 = ""
	end
end

GAMEBATTLES.ResetConfirmedExpiredMatches = function ()
	GAMEBATTLES.confirmedExpiredMatches = {}
end

