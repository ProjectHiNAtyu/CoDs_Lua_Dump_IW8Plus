-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
PlayercardUtils = PlayercardUtils or {}
PlayercardUtils.PlayerCardModelPath = "social.playerCard"
PlayercardUtils.GetDataSources = function ( f3_arg0 )
	local f3_local0 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".fullName" )
	local f3_local1 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".crossplayName" )
	local f3_local2 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".crossplayNameWithHash" )
	local f3_local3 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".platformName" )
	local f3_local4 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".platformNameWithHash" )
	local f3_local5 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".clanTag" )
	local f3_local6 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".clanTagType" )
	local f3_local7 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".prestige" )
	local f3_local8 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".rank" )
	local f3_local9 = LUI.AggregateDataSource.new( f3_local8, {
		f3_local8,
		f3_local7
	}, "rankIcon", Rank.MakeRankIconAggregateFunction( f3_local8, f3_local7 ) )
	local f3_local10 = LUI.AggregateDataSource.new( f3_local8, {
		f3_local8,
		f3_local7
	}, "display", Rank.MakeRankDisplayAggregateFunction( f3_local8, f3_local7, true ) )
	local f3_local11 = f3_local7:Filter( "isMasterPrestige", Rank.IsMasterPrestige )
	local f3_local12 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".customEmblemEquipped" )
	local f3_local13 = LUI.FilteredDataSource.new( LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".emblemIndex" ), "emblem", function ( f4_arg0, f4_arg1 )
		return EmblemEditorUtils.GetEmblemImageFromID( f4_arg0 )
	end )
	local f3_local14 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".backgroundIndex" )
	local f3_local15 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".platformId" )
	local f3_local16 = Engine[0x29DFACECF20DE0E]( f3_arg0 )
	local f3_local17 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".xuid", f3_local16 )
	f3_local17:SetValue( f3_arg0, f3_local16 )
	return {
		xuid = f3_local17,
		platformId = f3_local15,
		fullName = f3_local0,
		crossplayName = f3_local1,
		crossplayNameWithHash = f3_local2,
		platformName = f3_local3,
		platformNameWithHash = f3_local4,
		clanTag = f3_local5,
		clanTagType = f3_local6,
		displayRank = f3_local10,
		rankIcon = f3_local9,
		rank = f3_local8,
		isMasterPrestige = f3_local11,
		emblem = f3_local13,
		customEmblemEquipped = f3_local12,
		prestige = f3_local7,
		background = f3_local14
	}
end

PlayercardUtils.PlayerDataFromDataSource = function ( f2_arg0 )
	local f2_local0 = PlayercardUtils.GetDataSources( f2_arg0 )
	local f2_local1 = {
		xuid = f2_local0.xuid:GetValue( f2_arg0 ),
		fullName = f2_local0.fullName:GetValue( f2_arg0 ),
		crossplayName = f2_local0.crossplayName:GetValue( f2_arg0 ),
		crossplayNameWithHash = f2_local0.crossplayNameWithHash:GetValue( f2_arg0 ),
		platformName = f2_local0.platformName:GetValue( f2_arg0 ),
		platformNameWithHash = f2_local0.platformNameWithHash:GetValue( f2_arg0 ),
		clanTag = f2_local0.clanTag:GetValue( f2_arg0 ),
		clanTagType = f2_local0.clanTagType:GetValue( f2_arg0 ),
		background = f2_local0.background:GetValue( f2_arg0 ),
		emblemMaterial = f2_local0.emblem:GetValue( f2_arg0 ),
		rank = f2_local0.rank:GetValue( f2_arg0 ),
		prestige = f2_local0.prestige:GetValue( f2_arg0 ),
		clientPlatform = Engine[0x5AE97B58D7132F3](),
		presencePlatform = ClientPlatformToPresencePlatform[f2_local1.clientPlatform],
		platformId = f2_local0.platformId:GetValue( f2_arg0 )
	}
	if CONDITIONS.IsBattleNetSocial() then
		f2_local1.onlineStatus = Social[0x39B234FB70C04DA]( 0, true )
	else
		f2_local1.onlineStatus = BattleNetOnlineStatus.ONLINE
	end
	f2_local1.cardType = FRIENDS.ProfileCardType.YOU_TYPE
	f2_local1.isMyPlayer = true
	f2_local1.controllerIndex = f2_arg0
	return f2_local1
end

PlayercardUtils.SaveChanges = function ( f1_arg0 )
	Playercard[0xE7F7308D27872C9]( f1_arg0 )
end

