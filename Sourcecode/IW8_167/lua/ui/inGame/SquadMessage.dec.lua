-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = function ( f23_arg0 )
	return true
end

local f0_local1 = function ( f22_arg0 )
	local f22_local0 = nil
	local f22_local1 = CONDITIONS.IsMagmaGameMode()
	if f22_local1 then
		f22_local0 = Game.BAJBBACHFB( f22_arg0 )
	end
	if f22_local0 == nil then
		if f22_arg0 == Game.DBACJGFHDD() then
			return SWATCHES.BattleRoyale.BRPlayer
		elseif f22_local1 then
			return SWATCHES.HUD.friendlyTeam
		else
			return SWATCHES.groundWar.squadmate
		end
	else
		return f22_local0
	end
end

local f0_local2 = function ( f21_arg0 )
	local f21_local0 = ""
	local f21_local1 = BRLOOT.GetLootDataByRowIndex( f21_arg0 )
	if f21_local1 then
		f21_local0 = f21_local1.title
	end
	local f21_local2 = nil
	if f21_local0 and 0 < #f21_local0 then
		if f21_local1.type == BRLOOT.itemTypes.AMMO then
			f21_local2 = Engine.CBBHFCGDIC( "MP_PING_INGAME/MSG_SQUAD_PINGED_AMMO", f21_local0 )
		else
			f21_local2 = Engine.CBBHFCGDIC( f21_local0 )
		end
	else
		f21_local2 = ""
	end
	return f21_local2
end

local f0_local3 = function ( f20_arg0 )
	local f20_local0 = ""
	local f20_local1 = BRLOOT.GetLootDataByRowIndex( f20_arg0 )
	if f20_local1 and f20_local1.rarityNum and BRLOOT.itemRarityData[f20_local1.rarityNum] and BRLOOT.itemRarityData[f20_local1.rarityNum].swatch then
		return BRLOOT.itemRarityData[f20_local1.rarityNum].swatch
	else
		return BRLOOT.itemRarityData[BRLOOT.itemRarities.PLAYER].swatch
	end
end

local f0_local4 = function ()
	return "ui_mp_br_ping_main_squad_feed"
end

local f0_local5 = function ( f18_arg0 )
	local f18_local0 = nil
	if 0 < f18_arg0 then
		f18_local0 = StringTable.DIFCHIGDFB( CSV.BRMissions.file, CSV.BRMissions.cols.index, f18_arg0, CSV.BRMissions.cols.icon )
	end
	if f18_local0 or 0 < #f18_local0 then
		return f18_local0
	else
		return f0_local0()
	end
end

local f0_local6 = function ( f17_arg0 )
	if f17_arg0 == BR_MESSAGE_STATE_MISSION_START or f17_arg0 == BR_MESSAGE_STATE_MISSION_OBJECTIVE_COMPLETE or f17_arg0 == BR_MESSAGE_STATE_MISSION_COMPLETE then
		return SWATCHES.Objective.objectiveBackgroundMission
	else
		return SWATCHES.HUD.HUDMain
	end
end

local f0_local7 = {
	[1] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		param2Display = function ()
			return Engine.CBBHFCGDIC( "MP_PING_INGAME/MSG_SQUAD_PINGED_LOCATION" )
		end
	},
	[2] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		param2Display = f0_local2,
		param2Color = f0_local3
	},
	[3] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		param2Display = function ()
			return Engine.CBBHFCGDIC( "MP_PING_INGAME/MSG_SQUAD_PINGED_ENEMY" )
		end
	},
	[4] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		param2Display = function ()
			return Engine.CBBHFCGDIC( "MP_PING_INGAME/MSG_SQUAD_PINGED_DANGER" )
		end
	},
	[5] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		param2Display = function ()
			return Engine.CBBHFCGDIC( "MP_PING_INGAME/MSG_SQUAD_PINGED_VEHICLE" )
		end
	},
	[6] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		getIcon = f0_local5,
		param2Display = function ()
			return Engine.CBBHFCGDIC( "MP_BR_INGAME/MSG_MISSION_MISSION_STARTED" )
		end
	},
	[7] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		getIcon = f0_local5,
		param2Display = function ()
			return Engine.CBBHFCGDIC( "MP_BR_INGAME/MSG_MISSION_OBJECTIVE_COMPLETE" )
		end
	},
	[8] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		getIcon = f0_local5,
		param2Display = function ()
			return Engine.CBBHFCGDIC( "MP_BR_INGAME/MSG_MISSION_MISSION_COMPLETE" )
		end
	},
	[9] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		param2Display = function ()
			return Engine.CBBHFCGDIC( "MP_PING_INGAME/MSG_SQUAD_PINGED_CAUTION" )
		end
	},
	[10] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		param2Display = function ()
			return Engine.CBBHFCGDIC( "MP_BR_INGAME/MSG_SQUAD_INVENTORY_REQUEST" )
		end
	},
	[11] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		param2Display = function ()
			return Engine.CBBHFCGDIC( "MP_BR_INGAME/DROPBAG" )
		end
	},
	[12] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		getIcon = function ()
			return "icon_obit_respawn"
		end,
		param2Display = function ()
			return Engine.CBBHFCGDIC( "MP_BR_INGAME/OBIT_REBIRTH" )
		end
	},
	[13] = {
		param1Display = Game.DEAIDCJCEH,
		param1Color = f0_local1,
		param2Display = Game.DEAIDCJCEH,
		param2Color = f0_local1,
		getIcon = function ()
			return "icon_obit_vengeance"
		end
	}
}
local f0_local8 = function ( f3_arg0, f3_arg1 )
	local f3_local0 = f3_arg1.state
	local f3_local1 = f0_local0[f3_local0]
	local f3_local2 = f3_arg1.param1
	local f3_local3 = f3_local1.param1Display and f3_local1.param1Display( f3_local2 ) or nil
	if f3_local3 and 0 < #f3_local3 then
		if not f3_arg0.Param1:getParent() then
			if f3_arg0.Icon:getParent() then
				f3_arg0.Param1:addElementBefore( f3_arg0.Icon )
			elseif f3_arg0.Param2:getParent() then
				f3_arg0.Param1:addElementBefore( f3_arg0.Param2 )
			else
				f3_arg0:addElement( f3_arg0.Param1 )
			end
		end
		f3_arg0.Param1:setText( f3_local3 )
		f3_arg0.Param1:SetRGBFromTable( f3_local1.param1Color and f3_local1.param1Color( f3_local2 ) or SWATCHES.HUD.HUDMain )
	elseif f3_arg0.Param1:getParent() then
		f3_arg0:RemoveElement( f3_arg0.Param1 )
	end
	local f3_local4 = f3_arg1.param2
	if f0_local0( f3_local0 ) then
		if not f3_arg0.Icon:getParent() then
			if f3_arg0.Param2:getParent() then
				f3_arg0.Icon:addElementBefore( f3_arg0.Param2 )
			else
				f3_arg0:addElement( f3_arg0.Icon )
			end
		end
		if f3_arg1.icon and 0 < #f3_arg1.icon then
			f3_arg0.Icon:setImage( RegisterMaterial( f3_arg1.icon ) )
			f3_arg0.Icon:SetRGBFromTable( f0_local0( f3_local0 ) )
		elseif f3_arg1.ownerClientNum ~= nil then
			f3_arg0.Icon:setImage( RegisterMaterial( "ui_mp_br_ping_main_squad_feed_confirm" ) )
			f3_arg0.Icon:SetRGBFromTable( f0_local0( f3_arg1.ownerClientNum ) )
		else
			f3_arg0.Icon:setImage( RegisterMaterial( f3_local1.getIcon and f3_local1.getIcon( f3_local4 ) or f0_local0() ) )
			f3_arg0.Icon:SetRGBFromTable( f0_local0( f3_local0 ) )
		end
	elseif f3_arg0.Icon:getParent() then
		f3_arg0:RemoveElement( f3_arg0.Icon )
	end
	local f3_local5 = nil
	if f3_arg1.string and 0 < #f3_arg1.string then
		f3_local5 = Engine.CBBHFCGDIC( f3_arg1.string )
	else
		if f3_local1.param2Display then
			local f3_local6 = f3_local1.param2Display( f3_local4 )
			if not f3_local6 then
				f3_local5 = f3_local6
			else
				f3_local5 = nil
			end
		end
		f3_local5 = nil
	end
	if f3_local5 and 0 < #f3_local5 then
		if not f3_arg0.Param2:getParent() then
			f3_arg0:addElement( f3_arg0.Param2 )
		end
		f3_arg0.Param2:setText( f3_local5 )
		f3_arg0.Param2:SetRGBFromTable( f3_local1.param2Color and f3_local1.param2Color( f3_local4 ) or SWATCHES.HUD.HUDMain )
	elseif f3_arg0.Param2:getParent() then
		f3_arg0:RemoveElement( f3_arg0.Param2 )
	end
end

local f0_local9 = function ( f2_arg0, f2_arg1 )
	f2_arg0._controllerIndex = f2_arg1
	f2_arg0.Update = f0_local0
	f2_arg0.messageIconWidth = 0
end

function SquadMessage( menu, controller )
	local self = LUI.UIHorizontalStackedLayout.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 600 * _1080p, 0, 22 * _1080p )
	self.id = "SquadMessage"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	self:SetSpacing( 10 * _1080p )
	local Param1 = nil
	
	Param1 = LUI.UIStyledText.new()
	Param1.id = "Param1"
	Param1:setText( "", 0 )
	Param1:SetFont( FONTS.GetFont( FONTS.BattleNetRegular.File ) )
	Param1:SetWordWrap( false )
	Param1:SetAlignment( LUI.Alignment.Left )
	Param1:SetShadowRGBFromTable( SWATCHES.HUD.HUDShadow, 0 )
	Param1:SetAnchorsAndPosition( 0, 1, 1, 0, 0, _1080p * 120, _1080p * -22, 0 )
	self:addElement( Param1 )
	self.Param1 = Param1
	
	local Icon = nil
	
	Icon = LUI.UIImage.new()
	Icon.id = "Icon"
	Icon:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	Icon:setImage( RegisterMaterial( "ui_mp_br_inventory_quick_icon_equipped" ), 0 )
	Icon:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 130, _1080p * 154, _1080p * -23, _1080p * 1 )
	self:addElement( Icon )
	self.Icon = Icon
	
	local Param2 = nil
	
	Param2 = LUI.UIStyledText.new()
	Param2.id = "Param2"
	Param2:setText( "", 0 )
	Param2:SetFont( FONTS.GetFont( FONTS.BattleNetRegular.File ) )
	Param2:SetWordWrap( false )
	Param2:SetAlignment( LUI.Alignment.Left )
	Param2:SetShadowRGBFromTable( SWATCHES.HUD.HUDShadow, 0 )
	Param2:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 164, _1080p * 284, _1080p * -22, 0 )
	self:addElement( Param2 )
	self.Param2 = Param2
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "SquadMessage", SquadMessage )
LockTable( _M )
