-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.weapons.loadout.loadoutitemweaponbutton_flc" )
require( "ui.generated.widgets.frontend.weapons.loadout.loadoutitembutton_flc" )
local f0_local0 = function ( f14_arg0, f14_arg1, f14_arg2 )
	f14_arg0.PrimaryWeapon.navigation = {}
	f14_arg0.PrimaryWeapon.navigation.right = f14_arg0.SecondaryWeapon
	f14_arg0.PrimaryWeapon.navigation.down = f14_arg0.PerkItem1
	f14_arg0.PrimaryWeapon.navigation.left = f14_arg0.FieldUpgradeItem
	f14_arg0.SecondaryWeapon.navigation = {}
	f14_arg0.SecondaryWeapon.navigation.right = f14_arg0.LethalItem
	f14_arg0.SecondaryWeapon.navigation.down = f14_arg0.PerkItem3
	f14_arg0.SecondaryWeapon.navigation.left = f14_arg0.PrimaryWeapon
	f14_arg0.LethalItem.navigation = {}
	f14_arg0.LethalItem.navigation.right = f14_arg0.TacticalItem
	f14_arg0.LethalItem.navigation.down = f14_arg0.PerkItem5
	f14_arg0.LethalItem.navigation.left = f14_arg0.SecondaryWeapon
	f14_arg0.TacticalItem.navigation = {}
	f14_arg0.TacticalItem.navigation.right = f14_arg0.FieldUpgradeItem
	f14_arg0.TacticalItem.navigation.down = f14_arg0.PerkItem5
	f14_arg0.TacticalItem.navigation.left = f14_arg0.LethalItem
	f14_arg0.FieldUpgradeItem.navigation = {}
	f14_arg0.FieldUpgradeItem.navigation.right = f14_arg0.KillstreakItem
	f14_arg0.FieldUpgradeItem.navigation.down = f14_arg0.PerkItem5
	f14_arg0.FieldUpgradeItem.navigation.left = f14_arg0.TacticalItem
	f14_arg0.KillstreakItem.navigation = {}
	f14_arg0.KillstreakItem.navigation.right = f14_arg0.PrimaryWeapon
	f14_arg0.KillstreakItem.navigation.down = f14_arg0.PerkItem5
	f14_arg0.KillstreakItem.navigation.left = f14_arg0.FieldUpgradeItem
	f14_arg0.PerkItem1.navigation = {}
	f14_arg0.PerkItem1.navigation.right = f14_arg0.PerkItem2
	f14_arg0.PerkItem1.navigation.up = f14_arg0.PrimaryWeapon
	f14_arg0.PerkItem1.navigation.left = f14_arg0.PerkItem5
	f14_arg0.PerkItem2.navigation = {}
	f14_arg0.PerkItem2.navigation.right = f14_arg0.PerkItem3
	f14_arg0.PerkItem2.navigation.up = f14_arg0.PrimaryWeapon
	f14_arg0.PerkItem2.navigation.left = f14_arg0.PerkItem1
	f14_arg0.PerkItem3.navigation = {}
	f14_arg0.PerkItem3.navigation.right = f14_arg0.PerkItem4
	f14_arg0.PerkItem3.navigation.up = f14_arg0.SecondaryWeapon
	f14_arg0.PerkItem3.navigation.left = f14_arg0.PerkItem2
	f14_arg0.PerkItem4.navigation = {}
	f14_arg0.PerkItem4.navigation.right = f14_arg0.PerkItem5
	f14_arg0.PerkItem4.navigation.up = f14_arg0.SecondaryWeapon
	f14_arg0.PerkItem4.navigation.left = f14_arg0.PerkItem3
	f14_arg0.PerkItem5.navigation = {}
	f14_arg0.PerkItem5.navigation.right = f14_arg0.PerkItem1
	f14_arg0.PerkItem5.navigation.up = f14_arg0.LethalItem
	f14_arg0.PerkItem5.navigation.left = f14_arg0.PerkItem4
end

local f0_local1 = function ( f11_arg0, f11_arg1, f11_arg2 )
	f11_arg0.PrimaryWeapon:addEventHandler( "button_action", LOADOUT.OpenEXGMInventoryMenu( f11_arg0, WEAPON.PrimarySlot ) )
	f11_arg0.SecondaryWeapon:addEventHandler( "button_action", LOADOUT.OpenEXGMInventoryMenu( f11_arg0, WEAPON.SecondarySlot ) )
	local f11_local0 = function ( f12_arg0, f12_arg1, f12_arg2 )
		return function ( f13_arg0, f13_arg1 )
			LUI.FlowManager.RequestAddMenu( "LoadoutItemSelection", false, f12_arg0, false, {
				itemTables = EXGM_UTILS.GetStashItemsTable( {
					[f12_arg0] = true
				} ),
				title = f12_arg0,
				callbackFunc = EXGM_UTILS.CreateEquipSelectedItemToSlotFunc( DMZ.InventoryLocations.LOADOUT, f12_arg0 ),
				altClicks = {
					button_alt1 = {
						callback = EXGM_UTILS.PopupToDestroyInstanceItemFunc( f12_arg0 ),
						helperText = Engine[0xED84C33EC5F01EA]( 0xDA61D26C228D8A8 )
					}
				}
			} )
		end
		
	end
	
	f11_arg0.LethalItem:addEventHandler( "button_action", f11_local0( EXGM_UTILS.STASH_CATEGORIES.lethal, 0xE295473B54D48CF, DMZ.LoadoutSubLocations.EQUIPMENT_LETHAL ) )
	f11_arg0.TacticalItem:addEventHandler( "button_action", f11_local0( EXGM_UTILS.STASH_CATEGORIES.tactical, 0x47F610628BD37ED, DMZ.LoadoutSubLocations.EQUIPMENT_TACTICAL ) )
	f11_arg0.FieldUpgradeItem:addEventHandler( "button_action", f11_local0( EXGM_UTILS.STASH_CATEGORIES.fieldupgrade, 0xF98235B7098F848, DMZ.LoadoutSubLocations.FIELD_UPGRADE ) )
	f11_arg0.KillstreakItem:addEventHandler( "button_action", f11_local0( EXGM_UTILS.STASH_CATEGORIES.killstreak, 0x3CD29E65F09F047, DMZ.LoadoutSubLocations.KILLSTREAK ) )
	for f11_local4, f11_local5 in ipairs( f11_arg0._perkWidgets ) do
		f11_local5:addEventHandler( "button_action", f11_local0( EXGM_UTILS.STASH_CATEGORIES[f11_local4], PERK.FLC_CATEGORY_NAMES[f11_local4], DMZ.GetFlcPerkSubLocation( f11_local4 ) ) )
	end
end

local f0_local2 = function ( f6_arg0, f6_arg1, f6_arg2 )
	f6_arg0.PrimaryWeapon:AddGamepadEventCallback( "button_alt1", function ( f10_arg0, f10_arg1 )
		if not f10_arg0.Button._isFocused then
			return false
		else
			EXGM_UTILS.FrontendUnequipWeapon( f6_arg0, f6_arg0.PrimaryWeapon, WEAPON.PrimarySlot, true )
		end
	end )
	f6_arg0.SecondaryWeapon:AddGamepadEventCallback( "button_alt1", function ( f9_arg0, f9_arg1 )
		if not f9_arg0.Button._isFocused then
			return false
		else
			EXGM_UTILS.FrontendUnequipWeapon( f6_arg0, f6_arg0.SecondaryWeapon, WEAPON.SecondarySlot, true )
		end
	end )
	local f6_local0 = function ( f7_arg0, f7_arg1 )
		return function ( f8_arg0, f8_arg1 )
			if not f8_arg0.Button._isFocused then
				return false
			else
				local f8_local0 = DMZInventory[0x62BC1029DCFE464]( DMZ.InventoryLocations.LOADOUT, f7_arg0 )
				if f8_local0 == nil or f8_local0.lootID == LOOT.emptyID then
					return true
				else
					DMZInventory[0xCAFE937A69C306F]( f8_local0.instanceID, DMZ.InventoryLocations.STASH, DMZ.GenericSubLocations.FIRST_AVAILABLE )
					f7_arg0:SetEmpty()
					DMZ.InstanceInventoryDirty = true
					return true
				end
			end
		end
		
	end
	
	f6_arg0.LethalItem:AddGamepadEventCallback( "button_alt1", f6_local0( f6_arg0.LethalItem, DMZ.LoadoutSubLocations.EQUIPMENT_LETHAL ) )
	f6_arg0.TacticalItem:AddGamepadEventCallback( "button_alt1", f6_local0( f6_arg0.TacticalItem, DMZ.LoadoutSubLocations.EQUIPMENT_TACTICAL ) )
	f6_arg0.FieldUpgradeItem:AddGamepadEventCallback( "button_alt1", f6_local0( f6_arg0.FieldUpgradeItem, DMZ.LoadoutSubLocations.FIELD_UPGRADE ) )
	f6_arg0.KillstreakItem:AddGamepadEventCallback( "button_alt1", f6_local0( f6_arg0.KillstreakItem, DMZ.LoadoutSubLocations.KILLSTREAK ) )
	for f6_local4, f6_local5 in ipairs( f6_arg0._perkWidgets ) do
		f6_local5:AddGamepadEventCallback( "button_alt1", f6_local0( f6_local5, DMZ.GetFlcPerkSubLocation( f6_local4 ) ) )
	end
end

local f0_local3 = function ( f5_arg0 )
	local f5_local0 = DMZInventory[0x62BC1029DCFE464]( DMZ.GetWeaponLocation( f5_arg0 ), DMZ.GetWeaponSubLocation( f5_arg0 ) )
	local f5_local1 = f5_local0.lootID
	if WEAPON.IsWeaponNoneValue( LOOT.GetItemRefFromID( f5_local1 ) ) then
		f5_local1 = LOOT.GetItemIDFromRef( WEAPON.FistsValue )
	end
	return {
		categoryText = 0x35CAFB03AFA9274,
		weaponIndex = f5_arg0,
		lootID = f5_local1
	}
end

local f0_local4 = function ( f4_arg0, f4_arg1, f4_arg2 )
	for f4_local3, f4_local4 in ipairs( f4_arg0._perkWidgets ) do
		f4_local4:InitializeButton( f4_arg1, {
			lootID = DMZ.GetEquippedInstanceFlcPerk( f4_local3 ),
			categoryText = PERK.FLC_CATEGORY_NAMES[f4_local3]
		} )
	end
	f4_arg0.PrimaryWeapon:InitializeWeaponButton( f4_arg1, f0_local0( WEAPON.PrimarySlot ) )
	f4_arg0.SecondaryWeapon:InitializeWeaponButton( f4_arg1, f0_local0( WEAPON.SecondarySlot ) )
	f4_arg0.TacticalItem:InitializeButton( f4_arg1, {
		categoryText = 0x5697A9175B26F79,
		lootID = DMZ.GetEquippedInstanceEquipment( EQUIPMENT.tacticalSlot - 1 )
	} )
	f4_arg0.LethalItem:InitializeButton( f4_arg1, {
		categoryText = 0xCCC460329644DD6,
		lootID = DMZ.GetEquippedInstanceEquipment( EQUIPMENT.lethalSlot - 1 )
	} )
	f4_arg0.FieldUpgradeItem:InitializeButton( f4_arg1, {
		categoryText = 0xF98235B7098F848,
		lootID = DMZ.GetEquippedInstanceFieldUpgrade()
	} )
	f4_arg0.KillstreakItem:InitializeButton( f4_arg1, {
		categoryText = 0x3CD29E65F09F047,
		lootID = DMZ.GetEquippedInstanceKillstreak()
	} )
end

local f0_local5 = function ( f3_arg0 )
	local f3_local0 = {}
	if f3_arg0:getFirstChild() then
		
	else
		
	end
	return f3_local0
end

local f0_local6 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.GetButtonList = f0_local0
	f2_arg0._perkWidgets = {}
	for f2_local0 = 1, #PERK.FLC_CATEGORY_NAMES, 1 do
		local f2_local3 = f2_arg0["PerkItem" .. f2_local0]
		if f2_local3 then
			table.insert( f2_arg0._perkWidgets, f2_local3 )
		end
	end
	f0_local0( f2_arg0, f2_arg1, f2_arg2 )
	f0_local0( f2_arg0, f2_arg1, f2_arg2 )
	f0_local0( f2_arg0, f2_arg1, f2_arg2 )
	f0_local0( f2_arg0, f2_arg1, f2_arg2 )
end

function EXGMLoadoutButtons( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = f1_local0.UIElement.new()
	f1_local2:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 992, 0, 282 )
	f1_local2.id = "EXGMLoadoutButtons"
	local f1_local3
	if f1_arg1 then
		f1_local3 = f1_arg1
	else
		f1_local3 = f1_arg1.controllerIndex
	end
	f1_local3 = f1_local0.ValidateControllerIndex( f1_local2, f1_local3 )
	local f1_local4 = nil
	if CONDITIONS.IsJup() then
		f1_local4 = f1_local1.BuildRegisteredType( 0xD20C39F59839310, {
			controllerIndex = f1_local3
		} )
		f1_local4[0x8B72E07B55C3AC0] = "PrimaryWeapon"
		f1_local4:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 244, 0, 105 )
		f1_local2:addElement( f1_local4 )
		f1_local2[0xFFE6B31B90089D5] = f1_local4
	end
	local f1_local5 = nil
	if CONDITIONS.IsJup() then
		f1_local5 = f1_local1.BuildRegisteredType( 0xD20C39F59839310, {
			controllerIndex = f1_local3
		} )
		f1_local5[0x8B72E07B55C3AC0] = "SecondaryWeapon"
		f1_local5:SetAnchorsAndPosition( 0, 1, 0, 1, 260, 504, 0, 105 )
		f1_local2:addElement( f1_local5 )
		f1_local2[0x1DA8A893167522D] = f1_local5
	end
	local f1_local6 = nil
	if CONDITIONS.IsJup() then
		f1_local6 = f1_local1.BuildRegisteredType( 0x4A51D22E797BB0C, {
			controllerIndex = f1_local3
		} )
		f1_local6[0x8B72E07B55C3AC0] = "LethalItem"
		f1_local6:SetAnchorsAndPosition( 0, 1, 0, 1, 520, 626, 0, 105 )
		f1_local2:addElement( f1_local6 )
		f1_local2[0x16A739F1A26CDFC] = f1_local6
	end
	local f1_local7 = nil
	if CONDITIONS.IsJup() then
		f1_local7 = f1_local1.BuildRegisteredType( 0x4A51D22E797BB0C, {
			controllerIndex = f1_local3
		} )
		f1_local7[0x8B72E07B55C3AC0] = "TacticalItem"
		f1_local7:SetAnchorsAndPosition( 0, 1, 0, 1, 642, 748, 0, 105 )
		f1_local2:addElement( f1_local7 )
		f1_local2[0xB1770345CEEBC0B] = f1_local7
	end
	local f1_local8 = nil
	if CONDITIONS.IsJup() then
		f1_local8 = f1_local1.BuildRegisteredType( 0x4A51D22E797BB0C, {
			controllerIndex = f1_local3
		} )
		f1_local8[0x8B72E07B55C3AC0] = "FieldUpgradeItem"
		f1_local8:SetAnchorsAndPosition( 0, 1, 0, 1, 764, 870, 0, 105 )
		f1_local2:addElement( f1_local8 )
		f1_local2[0x118467BEE30E606] = f1_local8
	end
	local f1_local9 = nil
	if CONDITIONS.IsJup() then
		f1_local9 = f1_local1.BuildRegisteredType( 0x4A51D22E797BB0C, {
			controllerIndex = f1_local3
		} )
		f1_local9[0x8B72E07B55C3AC0] = "KillstreakItem"
		f1_local9:SetAnchorsAndPosition( 0, 1, 0, 1, 886, 992, 0, 105 )
		f1_local2:addElement( f1_local9 )
		f1_local2[0x3A6653F40472F80] = f1_local9
	end
	local f1_local10 = nil
	if CONDITIONS.IsJup() then
		f1_local10 = f1_local1.BuildRegisteredType( 0x4A51D22E797BB0C, {
			controllerIndex = f1_local3
		} )
		f1_local10[0x8B72E07B55C3AC0] = "PerkItem1"
		f1_local10:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 106, 149, 254 )
		f1_local2:addElement( f1_local10 )
		f1_local2[0xCA9DE80B829E73D] = f1_local10
	end
	local f1_local11 = nil
	if CONDITIONS.IsJup() then
		f1_local11 = f1_local1.BuildRegisteredType( 0x4A51D22E797BB0C, {
			controllerIndex = f1_local3
		} )
		f1_local11[0x8B72E07B55C3AC0] = "PerkItem2"
		f1_local11:SetAnchorsAndPosition( 0, 1, 0, 1, 122, 228, 149, 254 )
		f1_local2:addElement( f1_local11 )
		f1_local2[0xCA9DB80B829E224] = f1_local11
	end
	local f1_local12 = nil
	if CONDITIONS.IsJup() then
		f1_local12 = f1_local1.BuildRegisteredType( 0x4A51D22E797BB0C, {
			controllerIndex = f1_local3
		} )
		f1_local12[0x8B72E07B55C3AC0] = "PerkItem3"
		f1_local12:SetAnchorsAndPosition( 0, 1, 0, 1, 244, 350, 149, 254 )
		f1_local2:addElement( f1_local12 )
		f1_local2[0xCA9DC80B829E3D7] = f1_local12
	end
	local f1_local13 = nil
	if CONDITIONS.IsJup() then
		f1_local13 = f1_local1.BuildRegisteredType( 0x4A51D22E797BB0C, {
			controllerIndex = f1_local3
		} )
		f1_local13[0x8B72E07B55C3AC0] = "PerkItem4"
		f1_local13:SetAnchorsAndPosition( 0, 1, 0, 1, 366, 472, 149, 254 )
		f1_local2:addElement( f1_local13 )
		f1_local2[0xCA9D980B829DEBE] = f1_local13
	end
	local f1_local14 = nil
	if CONDITIONS.IsJup() then
		f1_local14 = f1_local1.BuildRegisteredType( 0x4A51D22E797BB0C, {
			controllerIndex = f1_local3
		} )
		f1_local14[0x8B72E07B55C3AC0] = "PerkItem5"
		f1_local14:SetAnchorsAndPosition( 0, 1, 0, 1, 488, 594, 149, 254 )
		f1_local2:addElement( f1_local14 )
		f1_local2[0xCA9DA80B829E071] = f1_local14
	end
	f0_local0( f1_local2, f1_local3, f1_arg1 )
	return f1_local2
end

MenuBuilder.registerType( 0x9E67A7CF0DE7E95, EXGMLoadoutButtons )
LockTable( _M )
