-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
module( ..., package.seeall )
require( "ui.generated.widgets.scrollbar.verticalscrollbar" )
require( "ui.generated.widgets.frontend.social.socialgroupsbrowserrow" )
require( "ui.generated.widgets.frontend.social.socialgroupinfo" )
require( "ui.generated.widgets.frontend.groups.socialgroupidentitywidget" )
require( "ui.generated.widgets.genericeditbox" )
require( "ui.generated.widgets.frontend.groups.socialgrouplabelgridwidget" )
require( "ui.generated.widgets.buttonhelperbar" )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.frontend.groups.socialgrouplistheader" )
local f0_local0 = 5000
local f0_local1 = 50
local f0_local2 = function ( f52_arg0 )
	f52_arg0.MenuTitle:SetupBackButton( f52_arg0._controllerIndex )
	f52_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0x820B453321A4F2C ) )
	f52_arg0.MenuTitle:DisableLine()
end

local f0_local3 = function ( f51_arg0 )
	f51_arg0.SelectedGroupBadge:SetVisible( false )
	f51_arg0.SelectedGroupDetails:SetVisible( false )
	f51_arg0.GroupsList:SetNumChildren( 0 )
	f51_arg0.GroupsList:RefreshContent()
end

local f0_local4 = function ( f49_arg0, f49_arg1 )
	assert( f49_arg1 ~= 0 )
	f49_arg0.SelectedGroupBadge:SetVisible( true )
	f49_arg0.SelectedGroupDetails:SetVisible( true )
	f49_arg0._dataProvider:Get( f49_arg1, function ( f50_arg0, f50_arg1 )
		if f50_arg1 == nil then
			assert( false )
			return 
		else
			f50_arg0.SelectedGroupBadge:UpdateGroupDetails( f50_arg1 )
			f50_arg0.SelectedGroupDetails:UpdateGroupDetails( f50_arg1 )
			f50_arg0.SelectedGroupDetails:UpdateGroupOwnerName( f50_arg1.username )
		end
	end )
end

local f0_local5 = function ( f47_arg0, f47_arg1, f47_arg2 )
	f47_arg0._dataProvider:Get( f47_arg2, function ( f48_arg0, f48_arg1 )
		if f48_arg1 == nil then
			assert( false )
			return 
		else
			local f48_local0 = LUI.Split( f48_arg1.groupName, "#" )
			f48_arg1.nameOnly = f48_local0[1]
			f48_arg1.tag = f48_local0[2]
			f47_arg0.Name:setText( f48_arg1.nameOnly )
			f47_arg0.MembersText:setText( f48_arg1.numGroupMembers )
			f47_arg0.Icon:SetFromGroupData( f48_arg1.emblem )
			f47_arg0.PrivacyText:setText( GROUPS.GetPrivacyDisplayText( f48_arg1.groupPrivacyMode ) )
			f47_arg0.PrivacyIcon:SetVisible( f48_arg1.groupPrivacyMode ~= GROUPS.PrivacyTypes.Public )
			f47_arg0.CreationDateText:setText( Engine[0xD52EDA08B43D341]( f48_arg1.createdTimestamp ) )
		end
	end )
end

local f0_local6 = function ( f43_arg0, f43_arg1, f43_arg2 )
	f43_arg1:addEventHandler( "gain_focus", function ( f46_arg0, f46_arg1 )
		if f43_arg0._selectedRowId ~= f46_arg0.id then
			f43_arg0._selectedRowId = f46_arg0.id
			f43_arg0( f43_arg0, f46_arg0.id )
		end
	end )
	f43_arg1:addEventHandler( "button_action", function ( f44_arg0, f44_arg1 )
		f43_arg0._dataProvider:Get( f44_arg0.id, function ( f45_arg0, f45_arg1 )
			LUI.FlowManager.RequestAddMenu( "SocialGroupProfile", true, f44_arg0.controller, false, {
				nonLocalGroup = true,
				groupProfileTabId = FRIENDS.SocialGroupTabIDs.DASHBOARD,
				playerData = f45_arg1
			}, nil )
		end )
	end )
end

local f0_local7 = function ( f42_arg0 )
	local f42_local0 = f42_arg0._dataProvider:GetLastAvailableItemIndex()
	f42_arg0.NothingFound:SetVisible( f42_local0 == 0 )
	f42_arg0.GroupsList:SetNumChildren( f42_local0 )
	f42_arg0.GroupsList:RefreshContent()
	if f42_local0 == 0 then
		f0_local0( f42_arg0 )
		if LUI.StringIsNilOrEmpty( f42_arg0._searchNameInput ) then
			f42_arg0.NothingFound:setText( Engine[0xED84C33EC5F01EA]( 0x69473A98971DF92 ) )
		else
			f42_arg0.NothingFound:setText( Engine[0xED84C33EC5F01EA]( 0xF68362038133373, Engine[0x7D3158A9539A355]( f42_arg0._searchNameInput ) ) )
		end
	else
		ACTIONS.GainFocus( f42_arg0, "GroupsList", f42_arg0._controllerIndex )
		f0_local0( f42_arg0, 1 )
	end
end

local f0_local8 = function ( f41_arg0 )
	f41_arg0.SelectedLabels:SetGroupLabels( f41_arg0._labels )
	local f41_local0 = #f41_arg0._labels == 0
	f41_arg0.EmptyLabelsHint:SetVisible( f41_local0 )
	local f41_local1
	if f41_local0 then
		f41_local1 = 0x9BAC75244B35077
		if not f41_local1 then
		
		else
			f41_arg0.SortFilterBar.ButtonHelperText:PopButtonPrompt( {
				button_ref = "button_left_trigger"
			} )
			f41_arg0.SortFilterBar.ButtonHelperText:PushButtonPrompt( {
				side = "left",
				priority = 1,
				ignoreTooltipPrompt = true,
				useTextButtons = true,
				button_ref = "button_left_trigger",
				helper_text = Engine[0xED84C33EC5F01EA]( f41_local1 )
			} )
		end
	end
	f41_local1 = 0x8D6FF818EC4E65A
end

local f0_local9 = function ( f40_arg0 )
	f40_arg0._labels = {}
	local f40_local0 = Engine[0x7B17D94988FD5D0]( "groupBrowserLabels", f40_arg0._controllerIndex )
	if 0 < f40_local0 then
		for f40_local1 = 1, 3, 1 do
			local f40_local4 = Bit.Unpack( f40_local0, 8, 8 * (f40_local1 - 1) )
			if 0 < f40_local4 then
				f40_arg0._labels[#f40_arg0._labels + 1] = f40_local4
			end
		end
	end
	f0_local0( f40_arg0 )
end

local f0_local10 = function ( f39_arg0 )
	local f39_local0 = 0
	if 0 < #f39_arg0._labels then
		f39_local0 = Bit.Pack( f39_arg0._labels[3] or 0, Bit.Pack( f39_arg0._labels[2] or 0, Bit.Pack( f39_arg0._labels[1] or 0, f39_local0, 0 ), 8 ), 16 )
	end
	Engine[0x9694388D6DAC134]( "groupBrowserLabels", f39_local0, f39_arg0._controllerIndex )
end

local f0_local11 = function ( f38_arg0, f38_arg1 )
	if not LUI.AreTableContentsEqual( f38_arg0._labels, f38_arg1 ) then
		f38_arg0._labels = f38_arg1
		f0_local0( f38_arg0 )
		f0_local0( f38_arg0 )
		f0_local0( f38_arg0 )
		f38_arg0._dataProvider:ResetData( f0_local0, f0_local0 )
	end
	if f38_arg0._showFTUETip ~= nil then
		Engine[0x15D98DF5F61904B]( f38_arg0._controllerIndex, "dlog_event_social_group_browser_ftue", {
			search_preferences = f38_arg1
		} )
	end
end

local f0_local12 = function ( f37_arg0 )
	local f37_local0 = false
	local f37_local1 = false
	for f37_local5, f37_local6 in pairs( GROUPS.GroupBrowserFilters ) do
		local f37_local7 = GROUPS.GroupBrowserFiltersDataSources[f37_local6]:GetValue( f37_arg0._controllerIndex )
		if f37_arg0._filtersList[f37_local6] ~= f37_local7 then
			f37_arg0._filtersList[f37_local6] = f37_local7
			if f37_local6 == GROUPS.GroupBrowserFilters.SORT or f37_local6 == GROUPS.GroupBrowserFilters.SORTDIRECTION then
				f37_local1 = true
			else
				f37_local0 = true
			end
		end
	end
	return f37_local0, f37_local1
end

local f0_local13 = function ( f36_arg0 )
	local f36_local0 = {}
	for f36_local9, f36_local10 in pairs( GROUPS.GroupBrowserOnlyFiltersOrdered ) do
		local f36_local11 = GROUPS.GroupBrowserFiltersDataSources[f36_local10]:GetValue( f36_arg0._controllerIndex )
		if f36_local11 ~= GROUPS.GroupBrowserFiltersDataSources[f36_local10]._defaultValue then
			if f36_local10 == GROUPS.GroupBrowserFilters.LANGUAGE then
				for f36_local7, f36_local8 in pairs( GROUPS.GetAllPackedValuesFromDataSource( f36_arg0._controllerIndex, GROUPS.GroupBrowserFiltersDataSources[f36_local10] ) ) do
					f36_local0[#f36_local0 + 1] = GROUPS.GroupBrowserFiltersStringValues[f36_local10][f36_local8]
				end
			end
			f36_local0[#f36_local0 + 1] = GROUPS.GroupBrowserFiltersStringValues[f36_local10][f36_local11]
		end
	end
	f36_local1 = Engine[0xED84C33EC5F01EA]( 0xB2121020707CB79 )
	f36_local2 = #f36_local0
	if f36_local2 == 1 then
		f36_local1 = Engine[0xED84C33EC5F01EA]( 0xD3E9748D6E5B889, f36_local0[1] )
	elseif f36_local2 == 2 then
		f36_local1 = Engine[0xED84C33EC5F01EA]( 0xD3E9448D6E5B370, f36_local0[1], f36_local0[2] )
	elseif f36_local2 == 3 then
		f36_local1 = Engine[0xED84C33EC5F01EA]( 0xD3E9548D6E5B523, f36_local0[1], f36_local0[2], f36_local0[3] )
	elseif 3 < f36_local2 then
		f36_local1 = Engine[0xED84C33EC5F01EA]( 0xF4C0085C5525A94, f36_local0[1], f36_local0[2], f36_local0[3], f36_local2 - 3 )
	end
	f36_arg0.SortFilterBar.ButtonHelperText:PopButtonPrompt( {
		button_ref = "button_right_trigger"
	} )
	f36_arg0.SortFilterBar.ButtonHelperText:PushButtonPrompt( {
		side = "right",
		priority = 2,
		ignoreTooltipPrompt = true,
		useTextButtons = true,
		button_ref = "button_right_trigger",
		helper_text = f36_local1
	} )
end

local f0_local14 = function ( f34_arg0 )
	local f34_local0 = {
		[GROUPS.GroupBrowserSortType.MEMBERS] = "numGroupMembers",
		[GROUPS.GroupBrowserSortType.NAME] = "groupName"
	}
	local f34_local1 = f34_local0[f34_arg0._filtersList[GROUPS.GroupBrowserFilters.SORT]]
	local f34_local2 = f34_arg0._filtersList[GROUPS.GroupBrowserFilters.SORTDIRECTION]
	f34_arg0._dataProvider:SetSortFunc( function ( f35_arg0, f35_arg1, f35_arg2 )
		local f35_local0 = f35_arg1[f34_arg0]
		local f35_local1 = f35_arg2[f34_arg0]
		if type( f35_local0 ) == "string" then
			f35_local0 = string.lower( f35_local0 )
			f35_local1 = string.lower( f35_local1 )
		end
		if f34_arg0 == GROUPS.GroupBrowserSortOrder.ASCENDANT then
			return f35_local0 < f35_local1
		else
			return f35_local1 < f35_local0
		end
	end )
	f34_arg0._dataProvider:UpdateDataSorting()
end

local f0_local15 = function ( f33_arg0 )
	local f33_local0, f33_local1 = f0_local0( f33_arg0 )
	if f33_local0 then
		DataSources.frontEnd.social.saveGroupBrowserFiltersToProfile( f33_arg0._controllerIndex )
		f0_local0( f33_arg0 )
		f0_local0( f33_arg0 )
		f33_arg0._dataProvider:ResetData( f0_local0, f0_local0 )
	elseif f33_local1 then
		f0_local0( f33_arg0 )
		f33_arg0.GroupsList:RefreshContent()
		if f33_arg0.GroupsList:GetFocusPositionIndex() ~= nil then
			f0_local0( f33_arg0, f33_arg0.GroupsList:GetFocusPositionIndex() + 1 )
		end
		f0_local0( f33_arg0 )
	end
end

local f0_local16 = function ( f32_arg0, f32_arg1, f32_arg2 )
	f32_arg0.SearchBoxBar.ButtonHelperText:PopButtonPrompt( {
		button_ref = "button_alt2"
	} )
	if LUI.StringIsNilOrEmpty( f32_arg2 ) then
		f32_arg0.SearchBoxBar.ButtonHelperText:PushButtonPrompt( {
			side = "right",
			priority = 0,
			ignoreTooltipPrompt = true,
			useTextButtons = true,
			gamepad_only = true,
			button_ref = "button_alt2",
			helper_text = Engine[0xED84C33EC5F01EA]( 0x9D72007065F1730 )
		} )
	end
end

local f0_local17 = function ( f29_arg0, f29_arg1 )
	local f29_local0 = {
		alwaysSendTypingEvents = true,
		autoConfirmOnOutsideClick = true,
		gamepadIcon = "icon_search",
		autoConfirmOnTab = true,
		scaleTextEditToFullSize = true,
		icon = "icon_search",
		useAutoAlign = true,
		focusType = FocusType.MouseOver,
		font = FONTS.GetFont( FONTS.PrimaryRegular.File ),
		defaultValue = Engine[0xED84C33EC5F01EA]( 0x426B2E3FE663AF9 ),
		textSelectionColor = COLORS.styleGuideCool03,
		maxInputStringLength = GROUPS.SEARCH_EDIT_BOX_MAX_CHARACTER,
		name = Engine[0xED84C33EC5F01EA]( 0x13F6235A2C62A82 )
	}
	f29_arg0._searchNameInput = ""
	f29_arg0.SearchBox:SetupGenericEditBox( f29_arg1, f29_local0 )
	f29_arg0.SearchBox:SetIsTypingCallback( function ( f31_arg0, f31_arg1 )
		f29_arg0( f29_arg0, f29_arg0, f31_arg1 )
	end )
	local f29_local1 = function ( f30_arg0, f30_arg1 )
		ACTIONS.LoseFocus( f29_arg0, "SearchBox", f29_arg0 )
		if f30_arg1.text and f30_arg1.text ~= f29_arg0._searchNameInput then
			local f30_local0, f30_local1 = TEXT_EDIT.ValidateString( f29_arg0, f30_arg1.text, {
				validateMaxDigits = true,
				allowEmpty = true
			} )
			if f30_local0 then
				f29_arg0._searchNameInput = f30_arg1.text
				f29_arg0( f29_arg0 )
				f29_arg0._dataProvider:ResetData( f29_arg0, f29_arg0 )
			else
				LUI.FlowManager.RequestErrorPopup( f29_arg0, Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ), f30_local1 )
			end
		end
		f29_arg0( f29_arg0, f29_arg0, f30_arg1.text )
	end
	
	f29_arg0._textEditCallBack = f29_local1
	f29_arg0.SearchBox:SetTextEditCompleteCallback( f29_local1 )
	f0_local0( f29_arg0, f29_arg1, f29_arg0._searchNameInput )
end

local f0_local18 = function ( f28_arg0 )
	if DataSources.frontEnd.social.groupBrowserLanguageFilter:GetValue( f28_arg0._controllerIndex ) < 0 then
		f28_arg0._showFTUETip = true
		DataSources.frontEnd.social.groupBrowserLanguageFilter:SetValue( f28_arg0._controllerIndex, 0 )
		Engine[0x9694388D6DAC134]( "groupBrowserFilterLanguage", 0, f28_arg0._controllerIndex )
		f28_arg0:processEvent( {
			down = true,
			name = "gamepad_button",
			button = "button_left_trigger",
			controller = f28_arg0._controllerIndex
		} )
	end
end

local f0_local19 = function ( f26_arg0, f26_arg1, f26_arg2, f26_arg3, f26_arg4, f26_arg5, f26_arg6, f26_arg7 )
	local f26_local0 = function ( f27_arg0 )
		local f27_local0 = {
			result_group_names = {},
			result_group_ids = {},
			result_members_count = {}
		}
		for f27_local4, f27_local5 in ipairs( f27_arg0 ) do
			f27_local0.result_group_names[f27_local4] = f27_local5.groupName or ""
			f27_local0.result_group_ids[f27_local4] = tonumber( f27_local5.groupId or "0" )
			f27_local0.result_members_count[f27_local4] = f27_local5.numGroupMembers or 0
		end
		f27_local0.labels = f26_arg0
		f27_local0.search_text = f26_arg0
		f27_local0.filters_privacylevel = f26_arg0
		f27_local0.filters_groupstate = f26_arg0
		f27_local0.filters_verifiedstate = f26_arg0
		f27_local0.filters_languages = f26_arg0
		Engine[0x15D98DF5F61904B]( f26_arg0, "dlog_event_social_group_browser_search", f27_local0 )
	end
	
	if f26_arg7 == nil then
		return 
	end
	local f26_local1 = {}
	local f26_local2 = 0
	for f26_local6, f26_local7 in ipairs( f26_arg7 ) do
		table.insert( f26_local1, f26_local7 )
		f26_local2 = f26_local2 + 1
		if f26_local2 == 20 then
			f26_local0( f26_local1 )
			f26_local1 = {}
			f26_local2 = 0
		end
	end
	if 0 < f26_local2 then
		f26_local0( f26_local1 )
	end
end

local f0_local20 = function ( f16_arg0, f16_arg1 )
	f16_arg0._dataProvider = LUI.AsyncPagedDataProviderWithFilter.new( f16_arg0, "main" )
	f16_arg0._dataProvider:SetFetchRequest( function ( f24_arg0, f24_arg1, f24_arg2 )
		return GROUPS.SearchForGroups( f24_arg0, f16_arg0, f24_arg1, f24_arg0._searchNameInput, f24_arg0._filtersList[GROUPS.GroupBrowserFilters.PRIVACY], f24_arg0._filtersList[GROUPS.GroupBrowserFilters.NOTFULL] == GROUPS.GroupBrowserFilterNotFull.ALL, f24_arg0._filtersList[GROUPS.GroupBrowserFilters.VERIFIED], f24_arg0._labels, false, 0, GROUPS.GetAllPackedValuesFromDataSource( f16_arg0, GROUPS.GroupBrowserFiltersDataSources[GROUPS.GroupBrowserFilters.LANGUAGE] ), nil, function ( f25_arg0, f25_arg1 )
			f24_arg0( f24_arg0, f24_arg0, f24_arg0, f24_arg0, f24_arg0, f24_arg0, f24_arg0, f25_arg1 )
			f24_arg0( f25_arg0._dataProvider, f25_arg1 )
		end
		 )
	end )
	f16_arg0._dataProvider:AddFetchAdditionalDataRequest( "groupId", "groupId", function ( f22_arg0, f22_arg1, f22_arg2 )
		f22_arg0:registerEventHandler( GROUPS.GroupEvents.LUI_EVENT_GROUP_PROFILE_RESOLVED, function ( element, event )
			if event == nil or event.success == false then
				f22_arg0( element._dataProvider, nil )
			end
			f22_arg0( element._dataProvider, event.groupProfiles )
		end )
		return true
	end )
	f16_arg0._dataProvider:AddFetchAdditionalDataRequest( "groupOwner", "xuid", function ( f20_arg0, f20_arg1, f20_arg2 )
		local f20_local0 = "groupOwnersNameResolved"
		f20_arg0:registerEventHandler( f20_local0, function ( element, event )
			if event == nil or event.results.success == false then
				f20_arg0( element._dataProvider, nil )
			end
			f20_arg0( element._dataProvider, event.results.usernames )
		end )
		return Social[0xDD960BD52361ECE]( f16_arg0, f20_arg1, f20_local0 )
	end )
	f16_arg0._dataProvider:SetMinimumWaitBetweenFetchCallsMs( Dvar[0x22EAAB59AA27E9B]( 0xB13DDD8C00F2F40 ) )
	f16_arg0._dataProvider:SetSpinner( function ( f19_arg0, f19_arg1 )
		if f19_arg1 then
			ACTIONS.AnimateSequence( f19_arg0, "Searching" )
		else
			ACTIONS.AnimateSequence( f19_arg0, "NotSearching" )
		end
	end )
	f16_arg0._dataProvider:SetErrorHandler( function ( f18_arg0, f18_arg1 )
		ACTIONS.AnimateSequence( f18_arg0, "NotSearching" )
		f16_arg0( f18_arg0 )
	end )
	f16_arg0:addEventHandler( "on_close", function ( f17_arg0, f17_arg1 )
		Social[0xFF51D6ACE708BD0]()
	end )
end

local f0_local21 = function ( f8_arg0, f8_arg1, f8_arg2 )
	f8_arg0._controllerIndex = f8_arg1
	f8_arg0._filtersList = {}
	if SOCIAL.CanUseOperatorsInBackground() then
		FrontEndScene.HideAllCharacters()
	end
	f0_local0( f8_arg0 )
	f0_local0( f8_arg0, f8_arg1 )
	f0_local0( f8_arg0 )
	f8_arg0.SelectedGroupDetails:SetOnlineCounterVisible( false )
	f8_arg0.GroupsList:SetMask( f8_arg0.GroupsListMask )
	f8_arg0.GroupsList:SetActiveParentBehavior()
	f8_arg0.GroupsList:SetMouseScrollStep( 3 )
	f8_arg0.GroupsList:SetRefreshChild( function ( f15_arg0, f15_arg1, f15_arg2 )
		local f15_local0 = f8_arg0.GroupsList:GetContentIndex( f15_arg1, f15_arg2 ) + 1
		f15_arg0.id = f15_local0
		f8_arg0( f8_arg0, f15_arg0, f15_local0 )
		ACTIONS.AnimateSequence( f15_arg0, "DefaultSequence" )
		if not f15_arg0._eventHandlersSet then
			f8_arg0( f8_arg0, f15_arg0, f8_arg0 )
			f15_arg0._eventHandlersSet = true
		end
		if f8_arg0._selectedRowId == f15_local0 then
			ACTIONS.AnimateSequence( f15_arg0, "ButtonOver" )
		end
	end )
	f0_local0( f8_arg0, f8_arg1 )
	f0_local0( f8_arg0 )
	f8_arg0:AddGamepadEventCallback( "button_secondary", function ( f14_arg0, f14_arg1 )
		ACTIONS.LeaveMenu( f14_arg0 )
	end )
	f8_arg0:AddGamepadEventCallback( "button_left_trigger", function ( f12_arg0, f12_arg1 )
		local f12_local0 = f12_arg1.controller or f8_arg0
		LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", true, f12_local0, false, {
			flyInRightNarrow = true,
			widget = MenuBuilder.BuildRegisteredType( "SocialGroupLabelsEditPanel", {
				insideFlyIn = true,
				controllerIndex = f12_local0,
				labels = f8_arg0._labels
			} )
		} )
		local f12_local1 = LUI.FlowManager.GetMenuByName( "FlyInPopup" )
		f12_local1.menu:SetExitAnimationDoneCallback( function ( f13_arg0 )
			ACTIONS.LeaveMenu( f13_arg0 )
			MobileFlyInPopupUtils.ResetCurrentFlyInPopup()
			f12_arg0( f12_arg0, f13_arg0._scoped.widget:GetLabels() )
		end )
		if f12_arg0._showFTUETip then
			f12_arg0._showFTUETip = false
			TIP.CreateTips( {
				{
					description = 0x19E8670A77BC6AC,
					horizontalPadding = 700,
					verticalPadding = 250,
					title = 0x1A80F176B31B3F6,
					pointRight = true,
					controllerIndex = f12_local0,
					highlightedWidget = f12_local1.menu.Container,
					drawLineData = {
						targetPos = {
							x = 940,
							y = 135
						}
					}
				}
			} )
		end
	end )
	f8_arg0:AddGamepadEventCallback( "button_right_trigger", function ( f10_arg0, f10_arg1 )
		local f10_local0 = f10_arg1.controller or f8_arg0
		LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", true, f10_local0, false, {
			flyInRightNarrow = true,
			widget = MenuBuilder.BuildRegisteredType( "SocialGroupsSearchFilter", {
				controllerIndex = f10_local0
			} )
		} )
		local f10_local1 = LUI.FlowManager.GetMenuByName( "FlyInPopup" )
		f10_local1.menu:SetExitAnimationDoneCallback( function ( f11_arg0 )
			ACTIONS.LeaveMenu( f11_arg0 )
			MobileFlyInPopupUtils.ResetCurrentFlyInPopup()
			f10_arg0( f10_arg0 )
		end )
	end )
	f8_arg0:AddGamepadEventCallback( "button_alt2", function ( f9_arg0, f9_arg1 )
		if LUI.StringIsNilOrEmpty( f9_arg0._searchNameInput ) and LUI.IsLastInputGamepad( f9_arg0._controllerIndex ) then
			f9_arg0.SearchBox:processEvent( {
				name = "button_action",
				controller = f9_arg1.controller
			} )
		else
			f9_arg0.SearchBox:SetText( "" )
			f9_arg0:_textEditCallBack( {
				text = nil
			} )
		end
	end )
	DataSources.frontEnd.social.loadGroupBrowserFiltersFromProfile( f8_arg1 )
	f0_local0( f8_arg0 )
	f0_local0( f8_arg0 )
	f0_local0( f8_arg0 )
	f0_local0( f8_arg0 )
	f8_arg0._dataProvider:FetchRange( 1, f0_local0, f0_local0 )
end

States = {
	[0xAD14C6E7156B923] = function ( f4_arg0, f4_arg1 )
		local f4_local0 = function ( f7_arg0, f7_arg1 )
			
		end
		
		f4_arg0.SearchingFade:RegisterAnimationSequence( "Searching", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Visible
			}
		} )
		f4_arg0.SearchingLbl:RegisterAnimationSequence( "Searching", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Visible
			}
		} )
		local f4_local1 = function ( f6_arg0, f6_arg1 )
			f6_arg0.SearchingFade:AnimateSequence( "Searching" )
			f6_arg0.SearchingLbl:AnimateSequence( "Searching" )
		end
		
		f4_arg0.SearchingFade:RegisterAnimationSequence( "NotSearching", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			}
		} )
		f4_arg0.SearchingLbl:RegisterAnimationSequence( "NotSearching", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			}
		} )
		f4_arg0._sequences = {
			DefaultSequence = f4_local0,
			Searching = f4_local1,
			NotSearching = function ( f5_arg0, f5_arg1 )
				f5_arg0.SearchingFade:AnimateSequence( "NotSearching" )
				f5_arg0.SearchingLbl:AnimateSequence( "NotSearching" )
			end
		}
		f4_arg0._sequenceLengths = {
			Searching = 0,
			DefaultSequence = 0,
			NotSearching = 0
		}
	end
}
function SocialGroupBrowserMenu( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "SocialGroupBrowserMenu"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	ACTIONS.ScaleFullscreen( Darkener )
	Darkener:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Darkener:SetAlpha( 0.7, 0 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	local GroupsListMask = nil
	
	GroupsListMask = LUI.UIImage.new()
	GroupsListMask.id = "GroupsListMask"
	GroupsListMask:setImage( RegisterMaterial( 0xF718FC1BD1FE7E0 ), 0 )
	GroupsListMask:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 86, _1080p * 1134, _1080p * 378, _1080p * 982 )
	self:addElement( GroupsListMask )
	self.GroupsListMask = GroupsListMask
	
	local GroupsListScroll = nil
	
	GroupsListScroll = MenuBuilder.BuildRegisteredType( "VerticalScrollbar", {
		controllerIndex = f1_local1
	} )
	GroupsListScroll.id = "GroupsListScroll"
	GroupsListScroll:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1138, _1080p * 1149, _1080p * 380, _1080p * 980 )
	self:addElement( GroupsListScroll )
	self.GroupsListScroll = GroupsListScroll
	
	local GroupsList = nil
	
	GroupsList = LUI.UIGrid.new( {
		maxVisibleColumns = 1,
		maxVisibleRows = 10,
		wrapY = false,
		wrapX = false,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "SocialGroupsBrowserRow", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		spacingY = _1080p * 8,
		columnWidth = _1080p * 1040,
		rowHeight = _1080p * 56,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1]
	} )
	GroupsList.id = "GroupsList"
	GroupsList:setUseStencil( true )
	GroupsList:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 88, _1080p * 1128, _1080p * 380, _1080p * 980 )
	self:addElement( GroupsList )
	self.GroupsList = GroupsList
	
	local NothingFound = nil
	
	NothingFound = LUI.UIText.new()
	NothingFound.id = "NothingFound"
	NothingFound:setText( "", 0 )
	NothingFound:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	NothingFound:SetFontSize( 24 * _PT )
	NothingFound:SetMinFontSize( 24 * _PT )
	NothingFound:SetWordWrap( true )
	NothingFound:SetAlignment( LUI.Alignment.Center )
	NothingFound:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 88, _1080p * 1128, _1080p * 540, _1080p * 620 )
	self:addElement( NothingFound )
	self.NothingFound = NothingFound
	
	local SearchingFade = nil
	
	SearchingFade = LUI.UIImage.new()
	SearchingFade.id = "SearchingFade"
	SearchingFade:SetVisible( false )
	SearchingFade:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	SearchingFade:SetAlpha( 0.8, 0 )
	SearchingFade:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 88, _1080p * 1128, _1080p * 380, _1080p * 980 )
	self:addElement( SearchingFade )
	self.SearchingFade = SearchingFade
	
	local SearchingLbl = nil
	
	SearchingLbl = LUI.UIText.new()
	SearchingLbl.id = "SearchingLbl"
	SearchingLbl:SetVisible( false )
	SearchingLbl:setText( Engine[0xED84C33EC5F01EA]( 0x61CA70CAC11C779 ), 0 )
	SearchingLbl:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	SearchingLbl:SetFontSize( 36 * _PT )
	SearchingLbl:SetMinFontSize( 36 * _PT )
	SearchingLbl:SetWordWrap( true )
	SearchingLbl:SetAlignment( LUI.Alignment.Center )
	SearchingLbl:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 88, _1080p * 1128, _1080p * 630, _1080p * 687 )
	self:addElement( SearchingLbl )
	self.SearchingLbl = SearchingLbl
	
	local SelectedGroupDetails = nil
	
	SelectedGroupDetails = MenuBuilder.BuildRegisteredType( "SocialGroupInfo", {
		controllerIndex = f1_local1
	} )
	SelectedGroupDetails.id = "SelectedGroupDetails"
	SelectedGroupDetails:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1178, _1080p * 1864, _1080p * 380, _1080p * 892 )
	self:addElement( SelectedGroupDetails )
	self.SelectedGroupDetails = SelectedGroupDetails
	
	local SelectedGroupBadge = nil
	
	SelectedGroupBadge = MenuBuilder.BuildRegisteredType( "SocialGroupIdentityWidget", {
		controllerIndex = f1_local1
	} )
	SelectedGroupBadge.id = "SelectedGroupBadge"
	SelectedGroupBadge:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1156, _1080p * 1911, _1080p * 110, _1080p * 375 )
	self:addElement( SelectedGroupBadge )
	self.SelectedGroupBadge = SelectedGroupBadge
	
	local SearchBox = nil
	
	SearchBox = MenuBuilder.BuildRegisteredType( "GenericEditBox", {
		controllerIndex = f1_local1
	} )
	SearchBox.id = "SearchBox"
	SearchBox.Text:SetLeft( _1080p * 51, 0 )
	SearchBox.Text:setText( "", 0 )
	SearchBox.Text:SetVerticalAlignment( LUI.Alignment.Middle )
	SearchBox:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 709, _1080p * 1129, _1080p * 256, _1080p * 304 )
	self:addElement( SearchBox )
	self.SearchBox = SearchBox
	
	local SelectedLabels = nil
	
	SelectedLabels = MenuBuilder.BuildRegisteredType( "SocialGroupLabelGridWidget", {
		controllerIndex = f1_local1
	} )
	SelectedLabels.id = "SelectedLabels"
	SelectedLabels:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 88, _1080p * 568, _1080p * 260, _1080p * 315 )
	self:addElement( SelectedLabels )
	self.SelectedLabels = SelectedLabels
	
	local EmptyLabelsHint = nil
	
	EmptyLabelsHint = LUI.UIText.new()
	EmptyLabelsHint.id = "EmptyLabelsHint"
	EmptyLabelsHint:setText( Engine[0xED84C33EC5F01EA]( 0xDB4224EDEA1265C ), 0 )
	EmptyLabelsHint:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	EmptyLabelsHint:SetFontSize( 20 * _PT )
	EmptyLabelsHint:SetMinFontSize( 20 * _PT )
	EmptyLabelsHint:SetWordWrap( false )
	EmptyLabelsHint:SetAlignment( LUI.Alignment.Left )
	EmptyLabelsHint:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 88, _1080p * 594, _1080p * 260, _1080p * 290 )
	self:addElement( EmptyLabelsHint )
	self.EmptyLabelsHint = EmptyLabelsHint
	
	local ScreenTitle = nil
	
	ScreenTitle = LUI.UIText.new()
	ScreenTitle.id = "ScreenTitle"
	ScreenTitle:setText( Engine[0xED84C33EC5F01EA]( 0xBEFCA6BA3AD4261 ), 0 )
	ScreenTitle:setCaseStyle( LUI.CaseStyle.Uppercase )
	ScreenTitle:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	ScreenTitle:SetFontSize( 48 * _PT )
	ScreenTitle:SetMinFontSize( 48 * _PT )
	ScreenTitle:SetWordWrap( false )
	ScreenTitle:SetAlignment( LUI.Alignment.Left )
	ScreenTitle:SetOptOutRightToLeftAlignmentFlip( true )
	ScreenTitle:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 88, _1080p * 1128, _1080p * 110, _1080p * 160 )
	self:addElement( ScreenTitle )
	self.ScreenTitle = ScreenTitle
	
	local SortFilterBar = nil
	
	SortFilterBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	SortFilterBar.id = "SortFilterBar"
	SortFilterBar.Background:SetAlpha( 0, 0 )
	SortFilterBar.DividerLine:SetAlpha( 0, 0 )
	SortFilterBar:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1215, _1080p * 190, _1080p * 260 )
	self:addElement( SortFilterBar )
	self.SortFilterBar = SortFilterBar
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( "", 0 )
	MenuTitle.ModeTitle:setText( "", 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1920, 0, _1080p * 80 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local GroupsListHeader = nil
	
	GroupsListHeader = MenuBuilder.BuildRegisteredType( "SocialGroupListHeader", {
		controllerIndex = f1_local1
	} )
	GroupsListHeader.id = "GroupsListHeader"
	GroupsListHeader:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 88, _1080p * 1128, _1080p * 335, _1080p * 371 )
	self:addElement( GroupsListHeader )
	self.GroupsListHeader = GroupsListHeader
	
	local SearchBoxBar = nil
	
	SearchBoxBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	SearchBoxBar.id = "SearchBoxBar"
	SearchBoxBar.Background:SetAlpha( 0, 0 )
	SearchBoxBar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 781, _1080p * 1197, _1080p * 250, _1080p * 315 )
	self:addElement( SearchBoxBar )
	self.SearchBoxBar = SearchBoxBar
	
	local f1_local20 = LUI.UIScrollbar.new
	local f1_local21 = {
		direction = LUI.DIRECTION.vertical,
		eventListener = GroupsListScroll,
		startCap = GroupsListScroll.startCap,
		endCap = GroupsListScroll.endCap,
		sliderArea = GroupsListScroll.sliderArea
	}
	local f1_local22 = GroupsListScroll.sliderArea
	if f1_local22 then
		f1_local22 = GroupsListScroll.sliderArea.slider
	end
	f1_local21.slider = f1_local22
	f1_local22 = GroupsListScroll.sliderArea
	if f1_local22 then
		f1_local22 = GroupsListScroll.sliderArea.fixedSizeSlider
	end
	f1_local21.fixedSizeSlider = f1_local22
	GroupsList:AddScrollbar( f1_local20( f1_local21 ) )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "SocialGroupBrowserMenu", SocialGroupBrowserMenu )
LockTable( _M )
