-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
module( ..., package.seeall )
FenceFNF = LUI.Class( LUI.Fence )
FenceFNF.init = function ( f5_arg0 )
	FenceFNF.super.init( f5_arg0 )
end

FenceFNF.Start = function ( f4_arg0 )
	DebugPrint( "FenceFNF.Start" )
end

FenceFNF.Stop = function ( f3_arg0 )
	DebugPrint( "FenceFNF.Stop" )
end

FenceFNF.UpdateState = function ( f1_arg0 )
	assert( f1_arg0._state ~= LUI.Fence.STATE.fail )
	local f1_local0 = Dvar[0x9E5BE3B4BBA4E0E]( "#x37a03a11930dee5c3" ) == true
	f1_arg0._packageType = Dvar[0x54084D7CA2317BB]( "#x3b0fd0a9cca905569" )
	if f1_local0 or f1_arg0._packageType ~= "autobuild_mp" and f1_arg0._packageType ~= "current_mp_fnf" then
		f1_arg0._state = LUI.Fence.STATE.pass
	end
	f1_arg0._buildNumber = Engine[0x438C878716995F8]()
	f1_arg0._expectedBuildNumber = Dvar[0x22EAAB59AA27E9B]( "#x310a965068ab99e2b" )
	if f1_arg0._expectedBuildNumber == 0 or f1_arg0._buildNumber == f1_arg0._expectedBuildNumber then
		f1_arg0._state = LUI.Fence.STATE.pass
	end
	if not LUI.FlowManager.IsInStack( "MessagePopup" ) then
		LUI.FlowManager.RequestPopupMenu( nil, "MessagePopup", false, nil, false, {
			headerText = Engine[0xED84C33EC5F01EA]( "MENU/ERROR" ),
			messageText = string.format( format, tostring( f1_arg0._buildNumber ), tostring( f1_arg0._expectedBuildNumber ), tostring( f1_arg0._packageType ) ),
			label = "Play Anyway",
			action = function ()
				Dvar[0x8EA06EEDB58D872]( "#x37a03a11930dee5c3", true )
			end
		}, nil, true, false )
	end
	f1_arg0._state = LUI.Fence.STATE.block
end

LUI.Fence.Register( "fnf", FenceFNF )
LockTable( _M )
