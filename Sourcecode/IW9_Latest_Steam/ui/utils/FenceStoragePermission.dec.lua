-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
module( ..., package.seeall )
CoD.PrintModuleLoad( _NAME )
FenceStoragePermission = LUI.Class( LUI.Fence )
FenceStoragePermission.init = function ( f8_arg0 )
	LUI.Fence.init( f8_arg0 )
end

FenceStoragePermission.Start = function ( f7_arg0 )
	DebugPrint( "FenceStoragePermission.Start" )
end

FenceStoragePermission.Stop = function ( f6_arg0 )
	DebugPrint( "FenceStoragePermission.Stop" )
end

FenceStoragePermission.UpdateState = function ( f5_arg0 )
	f5_arg0._state = LUI.Fence.STATE.block
	if Mobile[0xB6FB614E3701F23]() then
		f5_arg0._state = LUI.Fence.STATE.pass
	elseif not LUI.FlowManager.IsInStack( "mobile_storage_permission" ) then
		LUI.FlowManager.RequestPopupMenu( nil, "mobile_storage_permission", false, nil, false, {}, nil, true, true )
	end
end

function mobile_storage_permission()
	local f1_local0 = {}
	local f1_local1 = "PopupYesNo"
	f1_local0.title = Engine[0xED84C33EC5F01EA]( 0xEECEFFD04C59653 )
	f1_local0.message = Engine[0xED84C33EC5F01EA]( 0xA1BCA4A12F9348 )
	f1_local0.yesLabel = Engine[0xED84C33EC5F01EA]( 0xD0FAE1882F3E336 )
	f1_local0.yesAction = function ()
		Mobile[0x4D01F59FC49DC88]()
	end
	
	f1_local0.noAction = function ()
		Engine[0xDEE6107B26F8BB6]()
	end
	
	f1_local0.noLabel = Engine[0xED84C33EC5F01EA]( 0x4D7DD3F62FF12CE )
	f1_local0.noBackButton = true
	f1_local0.buttonsClosePopup = true
	local f1_local2 = MenuBuilder.BuildRegisteredType( f1_local1, f1_local0 )
	f1_local2.id = "mobile_storage_permission"
	return f1_local2
end

MenuBuilder.registerType( "mobile_storage_permission", mobile_storage_permission )
LUI.Fence.Register( "storagePermission", FenceStoragePermission )
LockTable( _M )
