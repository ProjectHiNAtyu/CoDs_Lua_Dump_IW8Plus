-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.widgets.SubMenuTab" )
require( "ui.widgets.MenuTitle" )
require( "ui.frontEnd.PlayerSocialDetails" )
local f0_local0 = function ( f10_arg0, f10_arg1 )
	local f10_local0 = {
		[RECORDS.Types.WEAPON] = {
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/COMBAT_RECORD_WEAPONS" ) )
		},
		[RECORDS.Types.LETHAL] = {
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/COMBAT_RECORD_LETHALS" ) )
		},
		[RECORDS.Types.TACTICAL] = {
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/COMBAT_RECORD_TACTICALS" ) )
		},
		[RECORDS.Types.SUPER] = {
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/FIELD_UPGRADES" ) )
		},
		[RECORDS.Types.MODE] = {
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/COMBAT_RECORD_GAME_MODES" ) )
		},
		[RECORDS.Types.STREAK] = {
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/COMBAT_RECORD_KILLSTREAKS" ) )
		}
	}
	local f10_local1 = "CombatRecordWeapons"
	f10_arg0._isHardcore = false
	local f10_local2 = {}
	for f10_local3 = 0, RECORDS.Types.COUNT - 1, 1 do
		local f10_local6 = f10_local0[f10_local3]
		table.insert( f10_local2, {
			name = f10_local6.name,
			disabled = f10_local6.disabled,
			hasDefaultFocus = f10_local3 == f10_arg1.index,
			focusFunction = function ( f13_arg0, f13_arg1, f13_arg2, f13_arg3 )
				if not f10_arg0._activeTabWidget then
					f10_arg0._activeTabWidget = MenuBuilder.BuildRegisteredType( f10_arg0, {
						controllerIndex = f13_arg1
					} )
					f10_arg0:addElement( f10_arg0._activeTabWidget )
					if Engine[0xFB1B6E36ABE59B8]() then
						if f10_arg0._activeTabWidget.HelperBar then
							f10_arg0._activeTabWidget.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -120, _1080p * -35 )
						elseif f10_arg0._activeTabWidget.ButtonHelperBar then
							f10_arg0._activeTabWidget.ButtonHelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -120, _1080p * -35 )
						end
						ACTIONS.AnimateSequence( f10_arg0._activeTabWidget, "SafeAreaAdjustment" )
					end
				end
				f10_arg0._activeTabWidget:UpdateTab( f10_arg0, f10_arg0._isHardcore, f13_arg3 )
				f10_arg0._activeTabIndex = f10_arg0
				if f10_arg0._activeTabIndex == RECORDS.Types.MODE then
					f10_arg0:AddButtonHelperTextToElement( f10_arg0, {
						side = "left",
						button_ref = "button_alt1",
						priority = 2,
						helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/FILTER" )
					} )
				else
					f10_arg0:RemoveButtonHelperTextFromElement( f10_arg0, "button_alt1", "left" )
				end
				local f13_local0 = LUI.FlowManager.GetScopedData( "BarracksRecords" )
				f13_local0.activeRecordIndex = f10_arg0
				if f13_arg3 ~= FocusType.MenuFlow then
					Engine[0xC4146BA76D0F982]( SOUND_SETS.default.tabHighlight )
				end
			end
		} )
	end
	f10_arg0.bindButton:addEventHandler( "button_alt1", function ( f11_arg0, f11_arg1 )
		if f10_arg0._activeTabIndex == RECORDS.Types.MODE then
			local f11_local0 = f11_arg1.controller or controllerIndex
			local f11_local1 = {
				showOnlyPlaylistFilter = true,
				showPlaylistFilter = true,
				controllerIndex = f11_local0,
				playlistFilter = f10_arg0._isHardcore,
				setFilterOptions = function ( f12_arg0, f12_arg1, f12_arg2 )
					f11_arg0._isHardcore = f12_arg2
					if f11_arg0._activeTabWidget and f11_arg0._activeTabIndex then
						f11_arg0._activeTabWidget:UpdateTab( f11_arg0._activeTabIndex, f11_arg0._isHardcore, FocusType.MenuFlow )
					end
				end
			}
			LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", true, f11_local0, false, {
				widget = MenuBuilder.BuildRegisteredType( "LeaderboardFilterPopup", f11_local1 ),
				backButtonOverride = f11_local1.backButtonOverride
			} )
		end
	end )
	f10_arg0.Tabs:SetTabs( f10_local2 )
end

local f0_local1 = function ( f8_arg0, f8_arg1, f8_arg2 )
	f8_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( "LUA_MENU/COMBAT_RECORD" ) )
	f0_local0( f8_arg0, f8_arg2 )
	FrontEndScene.HideAllCharacters()
	Engine[0x685AE31DEDA30A4]( "squad_lobby" )
	SEQUENCEPRESETS.RegisterAnimation( f8_arg0, LUI.Transition.TransTo, "InDepthForward", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f8_arg0, LUI.Transition.TransBackFrom, "OutDepthBack", 0 )
	f8_arg0:addAndCallEventHandler( "update_input_type", function ( f9_arg0, f9_arg1 )
		if LUI.IsLastInputGamepad( f8_arg0 ) then
			ACTIONS.AnimateSequence( f9_arg0, "Gamepad" )
		else
			ACTIONS.AnimateSequence( f9_arg0, "KBM" )
		end
	end )
end

function CombatRecordTabsMenu( menu, controller )
	local self = LUI.UIVerticalNavigator.new()
	self.id = "CombatRecordTabsMenu"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Tabs = nil
	
	Tabs = LUI.TabManager.new( {
		spacing = 4,
		wrap = true,
		tabHeight = _1080p * 45,
		buildTab = function ()
			return MenuBuilder.BuildRegisteredType( "SubMenuTab", {
				controllerIndex = menu
			} )
		end,
		controllerIndex = f1_local1
	} )
	Tabs.id = "Tabs"
	Tabs:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 1000, _1080p * 108, _1080p * 160 )
	self:addElement( Tabs )
	self.Tabs = Tabs
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/COMBAT_RECORD" ), 0 )
	MenuTitle.Line:SetLeft( 0, 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1020, 0, _1080p * 100 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local PlayerSocialDetails = nil
	
	PlayerSocialDetails = MenuBuilder.BuildRegisteredType( "PlayerSocialDetails", {
		controllerIndex = f1_local1
	} )
	PlayerSocialDetails.id = "PlayerSocialDetails"
	PlayerSocialDetails:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1224, _1080p * 1824, _1080p * 54, _1080p * 278 )
	self:addElement( PlayerSocialDetails )
	self.PlayerSocialDetails = PlayerSocialDetails
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local6 = nil
	Tabs:RegisterAnimationSequence( "Gamepad", {
		{
			duration = -28,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 96
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1000
		}
	} )
	self._sequences.Gamepad = function ()
		menu:AnimateSequence( "Gamepad" )
	end
	
	self._sequenceLengths.Gamepad = 100
	local f1_local7 = nil
	Tabs:RegisterAnimationSequence( "KBM", {
		{
			duration = -28,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 55
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 959
		}
	} )
	self._sequences.KBM = function ()
		menu:AnimateSequence( "KBM" )
	end
	
	self._sequenceLengths.KBM = 100
	self.addButtonHelperFunction = function ( f3_arg0, f3_arg1 )
		f3_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine[0xED84C33EC5F01EA]( "MENU/BACK" )
		} )
	end
	
	self:addEventHandler( "menu_create", self.addButtonHelperFunction )
	if not self.bindButton then
		local f1_local8 = LUI.UIBindButton.new()
		f1_local8.id = "selfBindButton"
		self:addElement( f1_local8 )
		self.bindButton = f1_local8
	end
	self.bindButton:addEventHandler( "button_secondary", function ( f2_arg0, f2_arg1 )
		local f2_local0 = f2_arg1.controller or menu
		ACTIONS.LeaveMenu( menu )
	end )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "CombatRecordTabsMenu", CombatRecordTabsMenu )
LockTable( _M )
