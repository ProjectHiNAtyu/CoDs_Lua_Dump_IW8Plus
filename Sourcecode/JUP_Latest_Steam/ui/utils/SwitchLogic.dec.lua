-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
SWITCH = SWITCH or {}
SWITCH.STATES = {
	ON = 2,
	OFF = 1
}
local f0_local0 = function ( f10_arg0, f10_arg1 )
	f10_arg0:_action( f10_arg1, f10_arg0._currentValue )
end

local f0_local1 = function ( f9_arg0, f9_arg1 )
	if CONDITIONS.IsMobileOrMobileSim() and f9_arg0._expanderIndex and not f9_arg0._alwaysExpanded then
		if f9_arg0._expanderIndex == f9_arg1 - 1 then
			f9_arg0:dispatchEventToParent( {
				name = "expander_expand"
			} )
		else
			f9_arg0:dispatchEventToParent( {
				name = "expander_collapse"
			} )
		end
	end
end

local f0_local2 = function ( f8_arg0, f8_arg1, f8_arg2, f8_arg3 )
	local f8_local0 = f8_arg0._currentValue
	f8_arg0._currentValue = f8_arg2
	f0_local0( f8_arg0, f8_arg0._currentValue )
	if not f8_arg0._applyable and f8_local0 ~= f8_arg2 then
		f8_arg0:_action( f8_arg1, f8_arg0._currentValue )
	end
	local f8_local1 = "switch"
	local f8_local2
	if f8_arg3 then
		f8_local2 = "_init"
	else
		f8_local2 = ""
	end
	f8_local1 = f8_local1 .. f8_local2
	if f8_arg0:isOn() then
		f8_local2 = "_on"
	else
		f8_local2 = "_off"
	end
	f8_arg0:processEvent( {
		name = f8_local1 .. f8_local2
	} )
	if f8_arg0._onRefresh then
		f8_arg0:_onRefresh( f8_arg1, f8_arg0._currentValue, true )
	end
end

local f0_local3 = function ( f7_arg0 )
	return f7_arg0:isOn() and SWITCH.STATES.OFF or SWITCH.STATES.ON
end

local f0_local4 = function ( f6_arg0, f6_arg1 )
	f6_arg0:SetCurrentValue( f6_arg1, f0_local0( f6_arg0 ) )
end

local f0_local5 = function ( f5_arg0 )
	return f5_arg0._currentValue == SWITCH.STATES.ON
end

local f0_local6 = function ( f4_arg0, f4_arg1 )
	f4_arg0._onDependencyParentRefresh = f4_arg1.onDependencyParentRefresh
	f4_arg0._defaultValueGetter = f4_arg1.defaultValueGetter
	f4_arg0._valueGetter = f4_arg1.valueGetter
	f4_arg0._onRefresh = f4_arg1.onRefresh
	f4_arg0._onReset = f4_arg1.onReset
	f4_arg0._action = f4_arg1.valueSetter
	f4_arg0._willAction = f4_arg1.willAction
	f4_arg0._applyable = f4_arg1.applyable
	f4_arg0._expanderIndex = f4_arg1.expanderIndex
	f4_arg0._alwaysExpanded = f4_arg1.alwaysExpanded
end

LUI.AddSwitchLogic = function ( f1_arg0, f1_arg1, f1_arg2 )
	f0_local0( f1_arg0, f1_arg2 )
	f1_arg0.SetCurrentValue = f0_local0
	f1_arg0._switchState = f0_local0
	f1_arg0.ApplyValue = f0_local0
	f1_arg0.isOn = f0_local0
	f1_arg0._currentValue = f1_arg0._valueGetter( f1_arg1 )
	f1_arg0.SwitchButton:registerEventHandler( "button_action", function ( element, event )
		local f2_local0 = function ( f3_arg0, f3_arg1, f3_arg2 )
			f3_arg0:_switchState( f3_arg1 )
		end
		
		local f2_local1 = element:getParent()
		if f2_local1._willAction and not f2_local1:_willAction( f1_arg0, f2_local1._currentValue, f1_arg0( f2_local1 ), f2_local0 ) then
			return true
		else
			f2_local0( f2_local1, event.controllerIndex or f1_arg0 )
			return true
		end
	end )
	OPTIONS.AddGenericSettingEventHandler( f1_arg0, f1_arg1 )
	if f1_arg0._valueGetter then
		f1_arg0:SetCurrentValue( f1_arg1, f1_arg0._valueGetter( f1_arg1 ), true )
	end
	if Engine[0x84287BE93239E99]() then
		f1_arg0:SetHandleHold( true )
	end
end

