-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = 0
local f0_local1 = 2
local f0_local2 = "Hide"
local f0_local3 = "ContractAcceptedTracker"
local f0_local4 = "ContractFailTracker"
local f0_local5 = "ContractCompleteIntroTracker"
local f0_local6 = "ContractCompleteOutroTracker"
local f0_local7 = "ShowTracked"
local f0_local8 = "HideTracked"
local f0_local9 = function ( f31_arg0, f31_arg1 )
	f31_arg0.UpdateMission()
	f31_arg0.updateTracked( DataSources.inGame.player.BRData.PlayerStatusAssassinationTarget:GetModel( f31_arg1 ) )
	f31_arg0.updateThreatLevel( DataSources.inGame.player.BRData.PlayerAssassinationThreatLevel:GetModel( f31_arg1 ) )
end

local f0_local10 = function ( f30_arg0 )
	f30_arg0:dispatchEventToParent( {
		immediate = true,
		name = "check_for_new_mission"
	} )
end

function PostLoadFunc( f18_arg0, f18_arg1 )
	f18_arg0.UpdateDataAndView = f0_local0
	f18_arg0._checkForNewMissionCallback = f0_local0
	ACTIONS.AnimateSequence( f18_arg0, f0_local0 )
	f18_arg0._currentAnimState = f0_local0
	local f18_local0 = nil
	f18_local0 = DataSources.inGame.player.BRData.missions.missionId
	local f18_local1 = nil
	f18_local1 = DataSources.inGame.player.BRData.missions.param
	local f18_local2 = function ()
		local f29_local0 = DataModel.JJEHAEBDF( f18_arg0:GetModel( f18_arg0 ) )
		f18_arg0.missionData = {}
		if f29_local0 ~= nil and 0 < f29_local0 then
			f18_arg0.missionData.ID = f29_local0
			f18_arg0.missionData.ref = StringTable.DIFCHIGDFB( CSV.BRMissions.file, CSV.BRMissions.cols.index, f29_local0, CSV.BRMissions.cols.ref )
			f18_arg0.missionData.title = StringTable.DIFCHIGDFB( CSV.BRMissions.file, CSV.BRMissions.cols.index, f29_local0, CSV.BRMissions.cols.title )
			f18_arg0.missionData.description = StringTable.DIFCHIGDFB( CSV.BRMissions.file, CSV.BRMissions.cols.index, f29_local0, CSV.BRMissions.cols.description )
			f18_arg0.missionData.descriptionParam = StringTable.DIFCHIGDFB( CSV.BRMissions.file, CSV.BRMissions.cols.index, f29_local0, CSV.BRMissions.cols.descriptionParam )
			f18_arg0.missionData.paramText = StringTable.DIFCHIGDFB( CSV.BRMissions.file, CSV.BRMissions.cols.index, f29_local0, CSV.BRMissions.cols.paramText )
			f18_arg0.missionData.icon = StringTable.DIFCHIGDFB( CSV.BRMissions.file, CSV.BRMissions.cols.index, f29_local0, CSV.BRMissions.cols.icon )
			local f29_local1 = StringTable.DIFCHIGDFB( CSV.BRMissions.file, CSV.BRMissions.cols.index, f29_local0, CSV.BRMissions.cols.reward )
			local f29_local2 = BRCONTRACTS.DEFAULT_TIER
			if DataSources.inGame.player.BRData.missions.rewardTier then
				f29_local2 = DataSources.inGame.player.BRData.missions.rewardTier:GetValue( f18_arg0 )
			end
			local f29_local3 = BRCONTRACTS.GetMissionRewardData( f29_local1, f29_local2 )
			local f29_local4 = BRCONTRACTS.GetMissionRewardCash( f29_local1, f29_local2 )
			if not f29_local4 or f29_local4 == "" then
				f29_local4 = 0
			end
			if CONDITIONS.IsUsingOvertimeGameplayTimer() then
				local f29_local5 = DataSources.inGame.MP.showOvertimeGameplayTimer:GetValue( f18_arg0 )
			end
			f18_arg0.missionData.rewardCash = f29_local4
			if 0 < #f29_local3 then
				f18_arg0.missionData.rewardData = f29_local3
			end
			f18_arg0.missionData.hasTimer = StringTable.DIFCHIGDFB( CSV.BRMissions.file, CSV.BRMissions.cols.index, f29_local0, CSV.BRMissions.cols.hasTimer )
			f18_arg0.missionData.paramKey = StringTable.DIFCHIGDFB( CSV.BRMissions.file, CSV.BRMissions.cols.index, f29_local0, CSV.BRMissions.cols.paramKey )
			f18_arg0.missionData.useDescParamInParamText = StringTable.DIFCHIGDFB( CSV.BRMissions.file, CSV.BRMissions.cols.index, f29_local0, CSV.BRMissions.cols.useDescParamInParamText )
			if f18_arg0.missionData.paramKey ~= nil and f18_arg0.missionData.paramKey ~= "" then
				f18_arg0.missionData.currentParam = f18_arg0:GetValue( f18_arg0 )
			end
			if f18_arg0._currentAnimState and f18_arg0._currentAnimState ~= f18_arg0 then
				ACTIONS.AnimateSequence( f18_arg0, f18_arg0 )
				f18_arg0._currentAnimState = f18_arg0
			end
		else
			ACTIONS.AnimateSequence( f18_arg0, f18_arg0 )
			f18_arg0._currentAnimState = f18_arg0
		end
	end
	
	f18_arg0.UpdateMission = f18_local2
	f18_arg0:SubscribeToModel( f18_local0:GetModel( f18_arg1 ), f18_local2 )
	f18_arg0:SubscribeToModel( DataSources.inGame.player.BRData.missions.rewardTier:GetModel( f18_arg1 ), f18_local2 )
	if CONDITIONS.IsUsingOvertimeGameplayTimer() then
		f18_arg0:SubscribeToModel( DataSources.inGame.MP.showOvertimeGameplayTimer:GetModel( f18_arg1 ), f18_local2 )
	end
	local f18_local3 = function ( f28_arg0 )
		local f28_local0 = DataModel.JJEHAEBDF( f28_arg0 )
		if f28_local0 ~= nil and -1 < f28_local0 then
			ACTIONS.AnimateSequence( f18_arg0, f18_arg0 )
		else
			ACTIONS.AnimateSequence( f18_arg0, f18_arg0 )
		end
	end
	
	f18_arg0.updateTracked = f18_local3
	f18_arg0:SubscribeToModel( DataSources.inGame.player.BRData.PlayerStatusAssassinationTarget:GetModel( f18_arg1 ), f18_local3 )
	local f18_local4 = function ( f27_arg0 )
		local f27_local0 = DataModel.JJEHAEBDF( f27_arg0 ) or 0
		if f27_local0 < f18_arg0 then
			f27_local0 = f18_arg0
		elseif f18_arg0 < f27_local0 then
			f27_local0 = f18_arg0
		end
		local f27_local1 = "ThreatLevel" .. f27_local0
		ACTIONS.AnimateSequence( f18_arg0, f27_local1 )
		f18_arg0._currentAnimState = f27_local1
	end
	
	f18_arg0.updateThreatLevel = f18_local4
	f18_arg0:SubscribeToModel( DataSources.inGame.player.BRData.PlayerAssassinationThreatLevel:GetModel( f18_arg1 ), f18_local4 )
	f18_arg0:registerEventHandler( "tracker_contract_accept", function ( element, event )
		ACTIONS.AnimateSequence( element, f18_arg0 )
		element._currentAnimState = f18_arg0
	end )
	f18_arg0:registerEventHandler( "tracker_contract_success", function ( element, event )
		ACTIONS.AnimateSequence( element, f18_arg0 )
		element._currentAnimState = f18_arg0
	end )
	f18_arg0:registerEventHandler( "tracker_contract_hide_anim_completed", function ( element, event )
		ACTIONS.AnimateSequence( element, f18_arg0 )
		element._currentAnimState = f18_arg0
		local f24_local0 = "ContractCompleteOutroTier"
		if CONDITIONS.IsBloodMoney() or CONDITIONS.IsRiskGametype() or CONDITIONS.IsBRKingSlayer() or CONDITIONS.IsWZRatRace() then
			f24_local0 = "Hide"
		end
	end )
	f18_arg0:registerEventHandler( "tracker_contract_fail", function ( element, event )
		ACTIONS.AnimateSequence( element, f18_arg0 )
		element._currentAnimState = f18_arg0
	end )
	f18_arg0:registerEventHandler( "check_for_new_mission", function ( element, event )
		element:UpdateDataAndView( f18_arg0 )
	end )
	f18_arg0:registerOmnvarHandler( "ui_session_state", function ( f21_arg0, f21_arg1 )
		f21_arg0:UpdateDataAndView( f18_arg0 )
	end )
	f18_arg0:registerOmnvarHandler( "playerstate_client_changed", function ( f20_arg0, f20_arg1 )
		f20_arg0:UpdateDataAndView( f18_arg0 )
	end )
	f18_arg0:SubscribeToModel( DataSources.inGame.player.BRData.PlayerStatusIsInGulag:GetModel( f18_arg1 ), function ()
		f18_arg0:UpdateDataAndView( f18_arg0 )
	end )
	if IsLanguageRussian() or IsLanguagePortuguese() or IsLanguageSpanish() or IsLanguageJapanese() or IsLanguageItalian() then
		ACTIONS.AnimateSequence( f18_arg0, "RUPTESJPIT" )
	end
end

function BRRMissionTracker( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 400 * _1080p, 0, 300 * _1080p )
	self.id = "BRRMissionTracker"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local TrackedBackerBase = nil
	
	TrackedBackerBase = LUI.UIImage.new()
	TrackedBackerBase.id = "TrackedBackerBase"
	TrackedBackerBase:SetRGBFromTable( SWATCHES.HUD.HUDShadow, 0 )
	TrackedBackerBase:SetAlpha( 0.3, 0 )
	TrackedBackerBase:SetUMin( 1, 0 )
	TrackedBackerBase:SetUMax( 0, 0 )
	TrackedBackerBase:SetVMin( 1, 0 )
	TrackedBackerBase:SetVMax( 0, 0 )
	TrackedBackerBase:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 270, _1080p * 134, _1080p * 100 )
	self:addElement( TrackedBackerBase )
	self.TrackedBackerBase = TrackedBackerBase
	
	local TrackedBackerGlow = nil
	
	TrackedBackerGlow = LUI.UIImage.new()
	TrackedBackerGlow.id = "TrackedBackerGlow"
	TrackedBackerGlow:SetRGBFromTable( SWATCHES.HUD.normal, 0 )
	TrackedBackerGlow:SetAlpha( 0.3, 0 )
	TrackedBackerGlow:setImage( RegisterMaterial( "compass_backing_gradient" ), 0 )
	TrackedBackerGlow:SetVMin( 1, 0 )
	TrackedBackerGlow:SetVMax( 0, 0 )
	TrackedBackerGlow:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 270, _1080p * 134, _1080p * 100 )
	self:addElement( TrackedBackerGlow )
	self.TrackedBackerGlow = TrackedBackerGlow
	
	local TrackedIcon = nil
	
	TrackedIcon = LUI.UIImage.new()
	TrackedIcon.id = "TrackedIcon"
	TrackedIcon:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	TrackedIcon:setImage( RegisterMaterial( "ui_mp_br_splash_mission_obj_assassin" ), 0 )
	TrackedIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * -1, _1080p * 35, _1080p * 98, _1080p * 134 )
	self:addElement( TrackedIcon )
	self.TrackedIcon = TrackedIcon
	
	local TrackedTimer = nil
	
	TrackedTimer = MenuBuilder.BuildRegisteredType( "UICountdown", {
		controllerIndex = f1_local1
	} )
	TrackedTimer.id = "TrackedTimer"
	TrackedTimer:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	TrackedTimer:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	TrackedTimer:setTextStyle( CoD.TextStyle.Shadowed )
	TrackedTimer:SetAlignment( LUI.Alignment.Right )
	TrackedTimer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 160, _1080p * 260, _1080p * 104, _1080p * 128 )
	TrackedTimer:SubscribeToModel( DataSources.inGame.player.BRData.missions.trackedTimer:GetModel( f1_local1 ), function ()
		local f17_local0 = DataSources.inGame.player.BRData.missions.trackedTimer:GetValue( menu )
		if f17_local0 ~= nil then
			menu:setEndTime( f17_local0 )
		end
	end )
	self:addElement( TrackedTimer )
	self.TrackedTimer = TrackedTimer
	
	local HeaderSquadTracked = nil
	
	HeaderSquadTracked = LUI.UIStyledText.new()
	HeaderSquadTracked.id = "HeaderSquadTracked"
	HeaderSquadTracked:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	HeaderSquadTracked:setText( Engine.CBBHFCGDIC( "MP_BR_INGAME/HUNTED" ), 0 )
	HeaderSquadTracked:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	HeaderSquadTracked:SetWordWrap( false )
	HeaderSquadTracked:SetAlignment( LUI.Alignment.Left )
	HeaderSquadTracked:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	HeaderSquadTracked:SetStartupDelay( 1000 )
	HeaderSquadTracked:SetLineHoldTime( 400 )
	HeaderSquadTracked:SetAnimMoveTime( 150 )
	HeaderSquadTracked:SetAnimMoveSpeed( 50 )
	HeaderSquadTracked:SetEndDelay( 1000 )
	HeaderSquadTracked:SetCrossfadeTime( 400 )
	HeaderSquadTracked:SetFadeInTime( 300 )
	HeaderSquadTracked:SetFadeOutTime( 300 )
	HeaderSquadTracked:SetMaxVisibleLines( 1 )
	HeaderSquadTracked:SetShadowMinDistance( -0.2, 0 )
	HeaderSquadTracked:SetShadowMaxDistance( 0.2, 0 )
	HeaderSquadTracked:SetShadowUOffset( -0.002, 0 )
	HeaderSquadTracked:SetShadowVOffset( -0.002, 0 )
	HeaderSquadTracked:SetShadowRGBFromTable( SWATCHES.HUD.HUDShadow, 0 )
	HeaderSquadTracked:SetOutlineMinDistance( 1, 0 )
	HeaderSquadTracked:SetOutlineMaxDistance( 1, 0 )
	HeaderSquadTracked:SetOutlineRGBFromInt( 0, 0 )
	HeaderSquadTracked:SetDecodeLetterLength( 25 )
	HeaderSquadTracked:SetDecodeMaxRandChars( 7 )
	HeaderSquadTracked:SetDecodeUpdatesPerLetter( 7 )
	HeaderSquadTracked:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 32, _1080p * 180, _1080p * 104, _1080p * 128 )
	self:addElement( HeaderSquadTracked )
	self.HeaderSquadTracked = HeaderSquadTracked
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequences.Hide = function ()
		
	end
	
	self._sequences.Show = function ()
		
	end
	
	local f1_local8 = nil
	TrackedBackerBase:RegisterAnimationSequence( "ShowTracked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 4.6672616413205735E-62,
			duration = 500,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TrackedBackerGlow:RegisterAnimationSequence( "ShowTracked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 5.29462817E-315,
			duration = 500,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TrackedIcon:RegisterAnimationSequence( "ShowTracked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 500,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TrackedTimer:RegisterAnimationSequence( "ShowTracked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 500,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	HeaderSquadTracked:RegisterAnimationSequence( "ShowTracked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 500,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ShowTracked = function ()
		menu:AnimateSequence( "ShowTracked" )
		menu:AnimateSequence( "ShowTracked" )
		menu:AnimateSequence( "ShowTracked" )
		menu:AnimateSequence( "ShowTracked" )
		menu:AnimateSequence( "ShowTracked" )
	end
	
	local f1_local9 = nil
	TrackedBackerBase:RegisterAnimationSequence( "HideTracked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TrackedBackerGlow:RegisterAnimationSequence( "HideTracked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TrackedIcon:RegisterAnimationSequence( "HideTracked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TrackedTimer:RegisterAnimationSequence( "HideTracked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	HeaderSquadTracked:RegisterAnimationSequence( "HideTracked", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideTracked = function ()
		menu:AnimateSequence( "HideTracked" )
		menu:AnimateSequence( "HideTracked" )
		menu:AnimateSequence( "HideTracked" )
		menu:AnimateSequence( "HideTracked" )
		menu:AnimateSequence( "HideTracked" )
	end
	
	local f1_local10 = nil
	TrackedBackerGlow:RegisterAnimationSequence( "ThreatLevel0", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.HUD.caution
		}
	} )
	self._sequences.ThreatLevel0 = function ()
		menu:AnimateSequence( "ThreatLevel0" )
	end
	
	local f1_local11 = nil
	TrackedBackerGlow:RegisterAnimationSequence( "ThreatLevel1", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.HUD.sixthSense
		}
	} )
	self._sequences.ThreatLevel1 = function ()
		menu:AnimateSequence( "ThreatLevel1" )
	end
	
	local f1_local12 = nil
	TrackedBackerBase:RegisterAnimationSequence( "ThreatLevel2", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.HUD.HUDShadow
		}
	} )
	TrackedBackerGlow:RegisterAnimationSequence( "ThreatLevel2", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.HUD.enemyTeam
		}
	} )
	self._sequences.ThreatLevel2 = function ()
		menu:AnimateSequence( "ThreatLevel2" )
		menu:AnimateSequence( "ThreatLevel2" )
	end
	
	self._sequences.ContractAcceptedTracker = function ()
		
	end
	
	self._sequences.ContractFailTracker = function ()
		
	end
	
	self._sequences.ContractCompleteIntroTracker = function ()
		
	end
	
	self._sequences.ContractCompleteOutroTracker = function ()
		
	end
	
	self._sequences.RUPTESJPIT = function ()
		
	end
	
	self._sequences.OverrideColorDisabled = function ()
		
	end
	
	self._sequences.OverrideColorEnabled = function ()
		
	end
	
	PostLoadFunc( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "BRRMissionTracker", BRRMissionTracker )
LockTable( _M )
