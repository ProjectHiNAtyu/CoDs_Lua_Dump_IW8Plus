-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
LUI.CodCasterAnnouncementsManager = LUI.Class( LUI.UIElement )
local f0_local0 = function ( f6_arg0, f6_arg1, f6_arg2 )
	f6_arg0.id = "CodCasterAnnouncementsManager"
	f6_arg0.queuedAnnouncement = nil
	f6_arg0.displayedAnnouncement = nil
	f6_arg0.displayAvailable = true
	f6_arg0.showAnnouncement = f6_arg1
	f6_arg0.hideAnnouncement = f6_arg2
end

local f0_local1 = function ( f5_arg0, f5_arg1, f5_arg2, f5_arg3 )
	if f5_arg1 == -1 then
		return 
	end
	local f5_local0 = CodCasterAnnouncement.new( f5_arg1, f5_arg2, f5_arg3 )
	if f5_arg3 then
		f5_arg0.queuedAnnouncement = f5_local0
		return 
	elseif f5_local0.announcementID == -1 then
		error( "LUI Error: invalid codcaster announcement ID " .. f5_local0.announcementId .. " eventValue " .. f5_arg1 )
		return 
	elseif not f5_arg0.displayedAnnouncement then
		if not f5_arg0.queuedAnnouncement then
			f5_arg0.displayedAnnouncement = f5_local0
		elseif f5_local0.priority <= f5_arg0.queuedAnnouncement.priority then
			f5_arg0.displayedAnnouncement = f5_arg0.queuedAnnouncement
			f5_arg0.queuedAnnouncement = f5_local0
		else
			f5_arg0.displayedAnnouncement = f5_local0
			f5_arg0.queuedAnnouncement = nil
		end
	elseif not f5_arg0.queuedAnnouncement or f5_arg0.queuedAnnouncement.priority < f5_local0.priority then
		f5_arg0.queuedAnnouncement = f5_local0
	else
		return 
	end
	f5_local0 = nil
	if f5_arg0.displayAvailable then
		f5_arg0.displayAvailable = false
		f5_arg0:ShowAnnouncement( f5_arg0.displayedAnnouncement )
	end
end

local f0_local2 = function ( f3_arg0, f3_arg1 )
	f3_arg0.showAnnouncement( f3_arg1 )
	if f3_arg1.lines == 2 then
		f3_arg0:QueueAnnouncement( f3_arg1.announcementID, f3_arg1.controllerIndex, true )
	end
	local f3_local0 = f3_arg0:Wait( f3_arg1.displayTime )
	f3_local0.onComplete = function ()
		f3_arg0.hideAnnouncement()
		f3_arg0:UpdateAnnouncements()
	end
	
end

local f0_local3 = function ( f2_arg0 )
	if f2_arg0.queuedAnnouncement ~= nil then
		f2_arg0.displayedAnnouncement = f2_arg0.queuedAnnouncement
		f2_arg0.queuedAnnouncement = nil
		f2_arg0:ShowAnnouncement( f2_arg0.displayedAnnouncement )
	else
		f2_arg0.displayAvailable = true
		f2_arg0.displayedAnnouncement = nil
	end
end

LUI.CodCasterAnnouncementsManager = function ()
	local self = LUI.UIElement.new()
	self.init = f0_local0
	self.QueueAnnouncement = f0_local0
	self.ShowAnnouncement = f0_local0
	self.UpdateAnnouncements = f0_local0
	return self
end

