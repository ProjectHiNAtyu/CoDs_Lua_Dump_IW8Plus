-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.inGame.mp.TrialStatLineTop" )
require( "ui.inGame.mp.TrialStatLine" )
require( "ui.inGame.mp.TrialStatLineBottom" )
local f0_local0 = function ( f2_arg0, f2_arg1, f2_arg2 )
	local f2_local0 = DataSources.inGame.MP.trialStatsRow1StatIndex
	local f2_local1 = DataSources.inGame.MP.trialStatsRow2StatIndex
	local f2_local2 = DataSources.inGame.MP.trialStatsRow3StatIndex
	local f2_local3 = DataSources.inGame.MP.trialStatsRow4StatIndex
	local f2_local4 = DataSources.inGame.MP.trialStatsRow5StatIndex
	local f2_local5 = DataSources.inGame.MP.trialStatsRow1Stat
	local f2_local6 = DataSources.inGame.MP.trialStatsRow2Stat
	local f2_local7 = DataSources.inGame.MP.trialStatsRow3Stat
	local f2_local8 = DataSources.inGame.MP.trialStatsRow4Stat
	local f2_local9 = DataSources.inGame.MP.trialStatsRow5Stat
	local f2_local10 = DataSources.inGame.MP.trialStatsRow1BonusScore
	local f2_local11 = DataSources.inGame.MP.trialStatsRow2BonusScore
	local f2_local12 = DataSources.inGame.MP.trialStatsRow3BonusScore
	local f2_local13 = DataSources.inGame.MP.trialStatsRow4BonusScore
	local f2_local14 = DataSources.inGame.MP.trialStatsRow5BonusScore
	local f2_local15 = DataSources.inGame.MP.trialStatsRow1BonusTime
	local f2_local16 = DataSources.inGame.MP.trialStatsRow2BonusTime
	local f2_local17 = DataSources.inGame.MP.trialStatsRow3BonusTime
	local f2_local18 = DataSources.inGame.MP.trialStatsRow4BonusTime
	local f2_local19 = DataSources.inGame.MP.trialStatsRow5BonusTime
	local f2_local20 = DataSources.inGame.MP.trialObjectiveTotal
	local f2_local21 = function ( f19_arg0, f19_arg1, f19_arg2 )
		local f19_local0 = StringTable[0x2DCF0973239E909]( CSV.trialStatLines.file, CSV.trialStatLines.cols.index, f19_arg1, CSV.trialStatLines.cols.type )
		local f19_local1 = StringTable[0x2DCF0973239E909]( CSV.trialStatLines.file, CSV.trialStatLines.cols.index, f19_arg1, CSV.trialStatLines.cols.string )
		if f19_local0 == "stat_simple" then
			f19_arg0.StatLineL:setText( Engine[0xED84C33EC5F01EA]( f19_local1, f19_arg2 ) )
		elseif f19_local0 == "stat_over_objective_total" then
			f19_arg0.StatLineL:setText( Engine[0xED84C33EC5F01EA]( f19_local1, f19_arg2, f2_arg0:GetValue( f2_arg0 ) ) )
		elseif f19_local0 == "time" then
			local f19_local2 = f19_arg2 % 60000
			local f19_local3 = (f19_arg2 - f19_local2) / 1000 / 60
			local f19_local4 = (f19_local2 - f19_local2 % 1000) / 1000
			local f19_local5 = (f19_arg2 % 1000 - f19_arg2 % 100) / 100
			if f19_local4 < 10 then
				f19_local4 = "0" .. f19_local4
			end
			f19_arg0.StatLineL:setText( Engine[0xED84C33EC5F01EA]( f19_local1, f19_local3, f19_local4, f19_local5 ) )
		end
	end
	
	local f2_local22 = function ()
		if f2_arg0.TrialStatRow1 ~= nil then
			f2_arg0( f2_arg0.TrialStatRow1, f2_arg0:GetValue( f2_arg0 ), f2_arg0:GetValue( f2_arg0 ) )
		end
	end
	
	local f2_local23 = function ()
		if f2_arg0.TrialStatRow2 ~= nil then
			f2_arg0( f2_arg0.TrialStatRow2, f2_arg0:GetValue( f2_arg0 ), f2_arg0:GetValue( f2_arg0 ) )
		end
	end
	
	local f2_local24 = function ()
		if f2_arg0.TrialStatRow3 ~= nil then
			f2_arg0( f2_arg0.TrialStatRow3, f2_arg0:GetValue( f2_arg0 ), f2_arg0:GetValue( f2_arg0 ) )
		end
	end
	
	local f2_local25 = function ()
		if f2_arg0.TrialStatRow4 ~= nil then
			f2_arg0( f2_arg0.TrialStatRow4, f2_arg0:GetValue( f2_arg0 ), f2_arg0:GetValue( f2_arg0 ) )
		end
	end
	
	local f2_local26 = function ()
		if f2_arg0.TrialStatRow5 ~= nil then
			f2_arg0( f2_arg0.TrialStatRow5, f2_arg0:GetValue( f2_arg0 ), f2_arg0:GetValue( f2_arg0 ) )
		end
	end
	
	local f2_local27 = function ( f13_arg0, f13_arg1, f13_arg2, f13_arg3 )
		local f13_local0 = SWATCHES.Callouts.teamAllies
		local f13_local1 = SWATCHES.Callouts.teamAxis
		local f13_local2 = ""
		if f13_arg2 ~= nil then
			f13_local2 = f13_arg2
			if 0 < f13_arg2 then
				f13_arg0.StatLineR:SetAlpha( 1 )
				f13_arg0.StatLineR:SetRGBFromTable( f13_local0, 0 )
				f13_local2 = "+" .. f13_local2
			elseif f13_arg2 < 0 then
				f13_arg0.StatLineR:SetAlpha( 1 )
				f13_arg0.StatLineR:SetRGBFromTable( f13_local1, 0 )
			elseif f13_arg2 == 0 then
				f13_arg0.StatLineR:SetAlpha( 0 )
			end
		elseif f13_arg3 ~= nil then
			f13_local2 = f13_arg3 / 1000 .. Engine[0xED84C33EC5F01EA]( "LUA_MENU/S_FOR_SECONDS" )
			if 0 < f13_arg3 then
				f13_arg0.StatLineR:SetAlpha( 1 )
				f13_arg0.StatLineR:SetRGBFromTable( f13_local1, 0 )
				f13_local2 = "+" .. f13_local2
			elseif f13_arg3 < 0 then
				f13_arg0.StatLineR:SetAlpha( 1 )
				f13_arg0.StatLineR:SetRGBFromTable( f13_local0, 0 )
			elseif f13_arg3 == 0 then
				f13_arg0.StatLineR:SetAlpha( 0 )
			end
		end
		f13_arg0.StatLineR:setText( f13_local2 )
	end
	
	local f2_local28 = function ()
		local f12_local0 = f2_arg0:GetValue( f2_arg0 )
		if f2_arg0.TrialStatRow1 and f2_arg0.TrialStatRow1.StatLineR and f12_local0 ~= 0 then
			f2_arg0( f2_arg0.TrialStatRow1, 1, f12_local0, nil )
		end
	end
	
	local f2_local29 = function ()
		local f11_local0 = f2_arg0:GetValue( f2_arg0 )
		if f2_arg0.TrialStatRow2 and f2_arg0.TrialStatRow2.StatLineR and f11_local0 ~= 0 then
			f2_arg0( f2_arg0.TrialStatRow2, 2, f11_local0, nil )
		end
	end
	
	local f2_local30 = function ()
		local f10_local0 = f2_arg0:GetValue( f2_arg0 )
		if f2_arg0.TrialStatRow3 and f2_arg0.TrialStatRow3.StatLineR and f10_local0 ~= 0 then
			f2_arg0( f2_arg0.TrialStatRow3, 3, f10_local0, nil )
		end
	end
	
	local f2_local31 = function ()
		local f9_local0 = f2_arg0:GetValue( f2_arg0 )
		if f2_arg0.TrialStatRow4 and f2_arg0.TrialStatRow4.StatLineR and f9_local0 ~= 0 then
			f2_arg0( f2_arg0.TrialStatRow4, 4, f9_local0, nil )
		end
	end
	
	local f2_local32 = function ()
		local f8_local0 = f2_arg0:GetValue( f2_arg0 )
		if f2_arg0.TrialStatRow5 and f2_arg0.TrialStatRow5.StatLineR and f8_local0 ~= 0 then
			f2_arg0( f2_arg0.TrialStatRow5, 5, f8_local0, nil )
		end
	end
	
	local f2_local33 = function ()
		local f7_local0 = f2_arg0:GetValue( f2_arg0 )
		if f2_arg0.TrialStatRow1 and f2_arg0.TrialStatRow1.StatLineR and f7_local0 ~= 0 then
			f2_arg0( f2_arg0.TrialStatRow1, 1, nil, f7_local0 )
		end
	end
	
	local f2_local34 = function ()
		local f6_local0 = f2_arg0:GetValue( f2_arg0 )
		if f2_arg0.TrialStatRow2 and f2_arg0.TrialStatRow2.StatLineR and f6_local0 ~= 0 then
			f2_arg0( f2_arg0.TrialStatRow2, 2, nil, f6_local0 )
		end
	end
	
	local f2_local35 = function ()
		local f5_local0 = f2_arg0:GetValue( f2_arg0 )
		if f2_arg0.TrialStatRow3 and f2_arg0.TrialStatRow3.StatLineR and f5_local0 ~= 0 then
			f2_arg0( f2_arg0.TrialStatRow3, 3, nil, f5_local0 )
		end
	end
	
	local f2_local36 = function ()
		local f4_local0 = f2_arg0:GetValue( f2_arg0 )
		if f2_arg0.TrialStatRow4 and f2_arg0.TrialStatRow4.StatLineR and f4_local0 ~= 0 then
			f2_arg0( f2_arg0.TrialStatRow4, 4, nil, f4_local0 )
		end
	end
	
	local f2_local37 = function ()
		local f3_local0 = f2_arg0:GetValue( f2_arg0 )
		if f2_arg0.TrialStatRow5 and f2_arg0.TrialStatRow5.StatLineR and f3_local0 ~= 0 then
			f2_arg0( f2_arg0.TrialStatRow5, 5, nil, f3_local0 )
		end
	end
	
	f2_arg0:SubscribeToModel( f2_local5:GetModel( f2_arg1 ), f2_local22 )
	f2_arg0:SubscribeToModel( f2_local6:GetModel( f2_arg1 ), f2_local23 )
	f2_arg0:SubscribeToModel( f2_local7:GetModel( f2_arg1 ), f2_local24 )
	f2_arg0:SubscribeToModel( f2_local8:GetModel( f2_arg1 ), f2_local25 )
	f2_arg0:SubscribeToModel( f2_local9:GetModel( f2_arg1 ), f2_local26 )
	if CONDITIONS.IsMenuInStack( "TrialResults" ) then
		f2_arg0:SubscribeToModel( f2_local10:GetModel( f2_arg1 ), f2_local28 )
		f2_arg0:SubscribeToModel( f2_local11:GetModel( f2_arg1 ), f2_local29 )
		f2_arg0:SubscribeToModel( f2_local12:GetModel( f2_arg1 ), f2_local30 )
		f2_arg0:SubscribeToModel( f2_local13:GetModel( f2_arg1 ), f2_local31 )
		f2_arg0:SubscribeToModel( f2_local14:GetModel( f2_arg1 ), f2_local32 )
		f2_arg0:SubscribeToModel( f2_local15:GetModel( f2_arg1 ), f2_local33 )
		f2_arg0:SubscribeToModel( f2_local16:GetModel( f2_arg1 ), f2_local34 )
		f2_arg0:SubscribeToModel( f2_local17:GetModel( f2_arg1 ), f2_local35 )
		f2_arg0:SubscribeToModel( f2_local18:GetModel( f2_arg1 ), f2_local36 )
		f2_arg0:SubscribeToModel( f2_local19:GetModel( f2_arg1 ), f2_local37 )
	end
end

function TrialStatsBreakdown( menu, controller )
	local self = LUI.UIVerticalStackedLayout.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 600 * _1080p, 0, 420 * _1080p )
	self.id = "TrialStatsBreakdown"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine[0x12586A3F4FB490E]() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1, "Missing controllerIndex!" )
	local f1_local2 = self
	self:SetSpacing( 10 * _1080p )
	local TrialStatLineTop = nil
	
	TrialStatLineTop = MenuBuilder.BuildRegisteredType( "TrialStatLineTop", {
		controllerIndex = f1_local1
	} )
	TrialStatLineTop.id = "TrialStatLineTop"
	TrialStatLineTop:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 35 )
	self:addElement( TrialStatLineTop )
	self.TrialStatLineTop = TrialStatLineTop
	
	local f1_local4 = nil
	if DataSources.inGame.MP.trialStatsRows:GetValue( f1_local1 ) ~= nil and 1 <= DataSources.inGame.MP.trialStatsRows:GetValue( f1_local1 ) then
		f1_local4 = MenuBuilder.BuildRegisteredType( "TrialStatLine", {
			controllerIndex = f1_local1
		} )
		f1_local4.id = "TrialStatRow1"
		f1_local4.StatLineL:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/TARGETS_KILLED_RATIO" ), 0 )
		if CONDITIONS.IsMenuInStack( "TrialResults" ) then
			f1_local4.StatLineR:setText( "", 0 )
		end
		f1_local4:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 45, _1080p * 85 )
		self:addElement( f1_local4 )
		self.TrialStatRow1 = f1_local4
	end
	local f1_local5 = nil
	if DataSources.inGame.MP.trialStatsRows:GetValue( f1_local1 ) ~= nil and 2 <= DataSources.inGame.MP.trialStatsRows:GetValue( f1_local1 ) then
		f1_local5 = MenuBuilder.BuildRegisteredType( "TrialStatLine", {
			controllerIndex = f1_local1
		} )
		f1_local5.id = "TrialStatRow2"
		f1_local5.StatLineL:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/CIVILIANS_KILLED_COUNT" ), 0 )
		if CONDITIONS.IsMenuInStack( "TrialResults" ) then
			f1_local5.StatLineR:setText( "", 0 )
		end
		f1_local5:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 95, _1080p * 135 )
		self:addElement( f1_local5 )
		self.TrialStatRow2 = f1_local5
	end
	local f1_local6 = nil
	if DataSources.inGame.MP.trialStatsRows:GetValue( f1_local1 ) ~= nil and 3 <= DataSources.inGame.MP.trialStatsRows:GetValue( f1_local1 ) then
		f1_local6 = MenuBuilder.BuildRegisteredType( "TrialStatLine", {
			controllerIndex = f1_local1
		} )
		f1_local6.id = "TrialStatRow3"
		f1_local6.StatLineL:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/ACCURACY_PERCENT" ), 0 )
		if CONDITIONS.IsMenuInStack( "TrialResults" ) then
			f1_local6.StatLineR:setText( "", 0 )
		end
		f1_local6:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 145, _1080p * 185 )
		self:addElement( f1_local6 )
		self.TrialStatRow3 = f1_local6
	end
	local f1_local7 = nil
	if DataSources.inGame.MP.trialStatsRows:GetValue( f1_local1 ) ~= nil and 4 <= DataSources.inGame.MP.trialStatsRows:GetValue( f1_local1 ) then
		f1_local7 = MenuBuilder.BuildRegisteredType( "TrialStatLine", {
			controllerIndex = f1_local1
		} )
		f1_local7.id = "TrialStatRow4"
		f1_local7.StatLineL:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/TARGETS_KILLED_RATIO" ), 0 )
		if CONDITIONS.IsMenuInStack( "TrialResults" ) then
			f1_local7.StatLineR:setText( "", 0 )
		end
		f1_local7:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 195, _1080p * 235 )
		self:addElement( f1_local7 )
		self.TrialStatRow4 = f1_local7
	end
	local f1_local8 = nil
	if DataSources.inGame.MP.trialStatsRows:GetValue( f1_local1 ) ~= nil and 5 <= DataSources.inGame.MP.trialStatsRows:GetValue( f1_local1 ) then
		f1_local8 = MenuBuilder.BuildRegisteredType( "TrialStatLine", {
			controllerIndex = f1_local1
		} )
		f1_local8.id = "TrialStatRow5"
		f1_local8.StatLineL:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/ACCURACY_PERCENT" ), 0 )
		if CONDITIONS.IsMenuInStack( "TrialResults" ) then
			f1_local8.StatLineR:setText( "", 0 )
		end
		f1_local8:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 245, _1080p * 284 )
		self:addElement( f1_local8 )
		self.TrialStatRow5 = f1_local8
	end
	local f1_local9 = nil
	if CONDITIONS.IsMenuInStack( "TrialResults" ) then
		f1_local9 = MenuBuilder.BuildRegisteredType( "TrialStatLineBottom", {
			controllerIndex = f1_local1
		} )
		f1_local9.id = "TrialStatLineBottom"
		f1_local9:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 294, _1080p * 344 )
		self:addElement( f1_local9 )
		self.TrialStatLineBottom = f1_local9
	end
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "TrialStatsBreakdown", TrialStatsBreakdown )
LockTable( _M )
