-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
module( ..., package.seeall )
require( "ui.generated.widgets.options.buttonlayoutprompts" )
require( "ui.generated.widgets.controllerlayout.controllerimage" )
local f0_local0 = function ()
	WipeGlobalModelsAtPath( menuModelPath )
end

local f0_local1 = function ( f5_arg0, f5_arg1, f5_arg2 )
	f5_arg0:processEvent( {
		name = "buttonLayout_updated",
		controller = f5_arg1,
		gameMode = f5_arg2.gameMode
	} )
end

local f0_local2 = function ( f3_arg0, f3_arg1, f3_arg2 )
	LUI.AddButtonLayoutLogic( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0.UpdateButtonLayout = f0_local0
	f3_arg0.ControllerImage:SubscribeButtonLayout( f3_arg1 )
	f3_arg0._showLogoAndTitle = true
	f3_arg0:registerAndCallEventHandler( "input_connection", function ( f4_arg0, f4_arg1 )
		f4_arg0.ControllerImage:UpdateAnimationState()
	end, {
		name = "input_connection",
		controllerIndex = f3_arg1
	} )
end

function ButtonLayoutOptionsMenu( f1_arg0, f1_arg1 )
	local f1_local0 = ACTIONS
	local f1_local1 = LUI
	local f1_local2 = MenuBuilder
	local f1_local3 = f1_local1.UIElement.new()
	f1_local3:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 820, 0, 605 )
	f1_local3.id = "ButtonLayoutOptionsMenu"
	local f1_local4
	if f1_arg1 then
		f1_local4 = f1_arg1
	else
		f1_local4 = f1_arg1.controllerIndex
	end
	f1_local4 = f1_local1.ValidateControllerIndex( f1_local3, f1_local4 )
	local f1_local5 = nil
	f1_local5 = f1_local2.BuildRegisteredType( 0x583238B4EBB1A0E, {
		controllerIndex = f1_local4
	} )
	f1_local5[0x8B72E07B55C3AC0] = "ButtonLayoutLeftPrompts"
	f1_local5:SetDataSourceThroughElement( f1_local3, nil )
	f1_local5:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -410, -14, 205, 615 )
	f1_local3:addElement( f1_local5 )
	f1_local3[0xB0CD356BDED9EA9] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local2.BuildRegisteredType( 0x583238B4EBB1A0E, {
		controllerIndex = f1_local4
	} )
	f1_local6[0x8B72E07B55C3AC0] = "ButtonLayoutRightPrompts"
	f1_local6:SetDataSourceThroughElement( f1_local3, nil )
	f1_local6:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, 14, 410, 205, 615 )
	f1_local3:addElement( f1_local6 )
	f1_local3[0x954346E60087C12] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local1.UIImage.new()
	f1_local7[0x8B72E07B55C3AC0] = "Line"
	f1_local7:SetRGB( SWATCHES[0x3E789DB0A12E313][0xF046B6ADEBDABE2], 0 )
	f1_local7:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -1, 1, 202, 519 )
	f1_local3:addElement( f1_local7 )
	f1_local3[0xF4BA5AD694F5907] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local2.BuildRegisteredType( 0x9B799E0499B2A36, {
		controllerIndex = f1_local4
	} )
	f1_local8[0x8B72E07B55C3AC0] = "ControllerImage"
	f1_local8:SetDataSourceThroughElement( f1_local3, nil )
	f1_local8:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -330, 330, 0, 200 )
	f1_local3:addElement( f1_local8 )
	f1_local3[0x9B799E0499B2A36] = f1_local8
	f1_local6:addEventHandler( 0xC462F90231FE727, function ( f2_arg0, f2_arg1 )
		local f2_local0 = f2_arg1.controller or f1_arg0
		f1_arg0:AnimateSequenceByElement( {
			elementPath = "ButtonLayoutLeftPrompts",
			sequenceName = "ButtonLeftPrompts",
			elementName = "ButtonLayoutLeftPrompts"
		} )
		f1_arg0:AnimateSequenceByElement( {
			elementPath = "ButtonLayoutRightPrompts",
			sequenceName = "ButtonRightPrompts",
			elementName = "ButtonLayoutRightPrompts"
		} )
	end )
	f1_local5:SetDataSourceThroughElement( f1_local3, nil )
	f1_local6:SetDataSourceThroughElement( f1_local3, nil )
	f1_local8:SetDataSourceThroughElement( f1_local3, nil )
	f0_local0( f1_local3, f1_local4, f1_arg1 )
	return f1_local3
end

MenuBuilder.registerType( 0x6D96FB6C63C4D20, ButtonLayoutOptionsMenu )
LUI.FlowManager.RegisterStackPopBehaviour( 0x6D96FB6C63C4D20, f0_local0 )
LockTable( _M )
