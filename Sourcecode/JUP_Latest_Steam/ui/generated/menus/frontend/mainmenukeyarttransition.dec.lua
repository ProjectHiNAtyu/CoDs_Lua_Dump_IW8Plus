-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.mp.playmenu.playmenukeyart" )
local f0_local0 = 500
MenuBuilder.registerType( "MainMenuKeyartTransitionIn", function ()
	local f37_local0 = MainMenuKeyartTransition
	...
	return f37_local0()
end )
LUI.FlowManager.RequestSetStack( "MainMenuKeyartTransitionIn", {
	{
		name = "MainLockoutMenu"
	},
	{
		name = "MainMenu"
	}
} )
LUI.FlowManager.RegisterMainMenuKeyArtTransitionMenu( "MainMenuKeyartTransitionIn" )
LUI.Fence.HideNonCriticalPopupsForMenu( "MainMenuKeyartTransitionIn" )
MenuBuilder.registerType( "MPMainMenuKeyartTransitionOut", function ()
	local f36_local0 = MainMenuKeyartTransition
	...
	return f36_local0()
end )
LUI.FlowManager.RequestSetStack( "MPMainMenuKeyartTransitionOut", {
	{
		name = "MainLockoutMenu"
	},
	{
		name = "MainMenu"
	},
	{
		name = "MPMainMenu"
	}
} )
LUI.FlowManager.RegisterMainMenuKeyArtTransitionMenu( "MPMainMenuKeyartTransitionOut" )
LUI.Fence.HideNonCriticalPopupsForMenu( "MPMainMenuKeyartTransitionOut" )
MenuBuilder.registerType( "MPLPMainMenuKeyartTransitionOut", function ()
	local f35_local0 = MainMenuKeyartTransition
	...
	return f35_local0()
end )
LUI.FlowManager.RequestSetStack( "MPLPMainMenuKeyartTransitionOut", {
	{
		name = "MainLockoutMenu"
	},
	{
		name = "MainMenu"
	},
	{
		name = "LPMainMenu"
	}
} )
LUI.FlowManager.RegisterMainMenuKeyArtTransitionMenu( "MPLPMainMenuKeyartTransitionOut" )
LUI.Fence.HideNonCriticalPopupsForMenu( "MPLPMainMenuKeyartTransitionOut" )
MenuBuilder.registerType( "BRMainMenuKeyartTransitionOut", function ()
	local f34_local0 = MainMenuKeyartTransition
	...
	return f34_local0()
end )
LUI.FlowManager.RequestSetStack( "BRMainMenuKeyartTransitionOut", {
	{
		name = "MainLockoutMenu"
	},
	{
		name = "MainMenu"
	},
	{
		name = "BRMainMenu"
	}
} )
LUI.FlowManager.RegisterMainMenuKeyArtTransitionMenu( "BRMainMenuKeyartTransitionOut" )
LUI.Fence.HideNonCriticalPopupsForMenu( "BRMainMenuKeyartTransitionOut" )
MenuBuilder.registerType( "DMZMainMenuKeyartTransitionOut", function ()
	local f33_local0 = MainMenuKeyartTransition
	...
	return f33_local0()
end )
LUI.FlowManager.RequestSetStack( "DMZMainMenuKeyartTransitionOut", {
	{
		name = "MainLockoutMenu"
	},
	{
		name = "MainMenu"
	},
	{
		name = "DMZMainMenu"
	}
} )
LUI.FlowManager.RegisterMainMenuKeyArtTransitionMenu( "DMZMainMenuKeyartTransitionOut" )
LUI.Fence.HideNonCriticalPopupsForMenu( "DMZMainMenuKeyartTransitionOut" )
MenuBuilder.registerType( "MainMenuKeyartTransitionOut", function ()
	local f32_local0 = MainMenuKeyartTransition
	...
	return f32_local0()
end )
LUI.FlowManager.RegisterMainMenuKeyArtTransitionMenu( "MainMenuKeyartTransitionOut" )
LUI.Fence.HideNonCriticalPopupsForMenu( "MainMenuKeyartTransitionOut" )
local f0_local1 = function ( f31_arg0 )
	if f31_arg0._targetMenu == PartyUIRoot.MP_MAIN_MENU then
		return "MPMainMenuKeyartTransitionOut"
	elseif f31_arg0._targetMenu == PartyUIRoot.LP_MAIN_MENU then
		return "MPLPMainMenuKeyartTransitionOut"
	elseif f31_arg0._targetMenu == PartyUIRoot.BR_MAIN_MENU then
		return "BRMainMenuKeyartTransitionOut"
	elseif f31_arg0._targetMenu == PartyUIRoot.DMZ_MAIN_MENU then
		return "DMZMainMenuKeyartTransitionOut"
	else
		return "MainMenuKeyartTransitionOut"
	end
end

local f0_local2 = function ( f30_arg0 )
	return {
		animateLogo = false,
		forMainMenuKeyartTransition = true,
		logo = f30_arg0[0xE07F1AD70EC5BBA],
		keyart00 = f30_arg0[0x233721E68022539],
		keyart01 = f30_arg0[0x233711E68022386],
		keyart02 = f30_arg0[0x233701E680221D3],
		video = f30_arg0[0x36A8B51A75FC34C],
		videoPlaybackFlags = VideoPlaybackFlags.PAUSE_LAST_FRAME
	}
end

local f0_local3 = function ( f29_arg0 )
	if f29_arg0._isInTransitionInPhase then
		return {
			keyartData = f0_local0( f29_arg0._scriptBundle[0x5D0AF08F958CA2A] ),
			waitTime = f29_arg0._scriptBundle[0x5D0AF08F958CA2A][0xF87BDA3A2603019],
			blendIn = f29_arg0._scriptBundle[0x2333BB8752C8697]
		}
	elseif f29_arg0._isInTransitionMidPhase then
		return {
			keyartData = f0_local0( f29_arg0._scriptBundle[0xC5A1C50CB6A2BF1] ),
			waitTime = f29_arg0._scriptBundle[0xC5A1C50CB6A2BF1][0xF87BDA3A2603019]
		}
	elseif f29_arg0._isInTransitionOutPhase then
		return {
			keyartData = f0_local0( f29_arg0._scriptBundle[0x86C5E312B9D3453] ),
			waitTime = f29_arg0._scriptBundle[0x86C5E312B9D3453][0xF87BDA3A2603019],
			blendOut = f29_arg0._scriptBundle[0xFB14D6F39E9DFBC]
		}
	else
		
	end
end

local f0_local4 = function ( f24_arg0, f24_arg1, f24_arg2, f24_arg3 )
	local f24_local0 = f24_arg2.keyartData.video
	local f24_local1 = function ( f28_arg0 )
		f28_arg0._binkPlaybackStarted = false
		f28_arg0[0x669A59579B99B3]:SetVisible( false )
		if f28_arg0._binkFrameNumSubscription then
			f28_arg0:UnsubscribeFromModel( f28_arg0._binkFrameNumSubscription )
			f28_arg0._binkFrameNumSubscription = nil
		end
		if f28_arg0._binkNameSubscription then
			f28_arg0:UnsubscribeFromModel( f28_arg0._binkNameSubscription )
			f28_arg0._binkNameSubscription = nil
		end
		f24_arg0:RemoveEventTimer( "lastVideoFrameTimer" )
		f24_arg0( f28_arg0 )
	end
	
	f24_arg0._binkFrameNumSubscription = f24_arg0:SubscribeToModel( DataSources.frontEnd.binkFrameNum:GetModel( f24_arg1 ), function ( f27_arg0, f27_arg1 )
		local f27_local0 = DataModel[0x614D394F6F9A18D]( f27_arg0 )
		local f27_local1 = Engine[0x5976DAF0A9078FE]()
		local f27_local2 = Engine[0x364D8F42A41F6E0]()
		if BitwiseOperators.band( f24_arg0.keyartData.videoPlaybackFlags, VideoPlaybackFlags.PAUSE_LAST_FRAME ) ~= 0 then
			if f24_arg0._isBinkLastFrame then
				Engine[0x3DACD106DDC0D71]()
				f24_arg0._isBinkLastFrame = false
				f24_arg0( f27_arg1 )
				return 
			elseif f27_arg1._binkPlaybackStarted and f27_local0 >= Engine[0x20AF4C8B2FDD1DF]() - 1 then
				f24_arg0._isBinkLastFrame = true
				f24_arg0[0x90B1FA96032B9DD]( f24_arg0 )
				return 
			end
		end
		if f27_arg1._binkPlaybackStarted and (f27_local0 == 0 or f27_local0 >= Engine[0x20AF4C8B2FDD1DF]()) then
			f24_arg0( f27_arg1 )
		elseif Table.IsItemIndexInArray( {
			f27_local1,
			f27_local2,
			Engine[0x54D7F1A3B04D68A]()
		}, f24_arg0 ) then
			if f27_local1 == f24_arg0 then
				f27_arg1[0x5A51A33CD5CABD1].Cinematic:SetVisible( true )
				f27_arg1[0x669A59579B99B3]:SetVisible( false )
				f27_arg1._binkPlaybackStarted = true
				if f27_local0 >= Engine[0x20AF4C8B2FDD1DF]() then
					f24_arg0( f27_arg1 )
				end
			elseif f27_local2 == f24_arg0 then
				if f27_local0 == 0 and Engine[0x6BF6AAF98B8A22A]() then
					f24_arg0( f27_arg1 )
				end
			else
				f27_arg1[0x5A51A33CD5CABD1].Cinematic:SetVisible( false )
			end
		else
			f24_arg0( f27_arg1 )
		end
	end )
	f24_arg0._binkNameSubscription = f24_arg0:SubscribeToModel( DataSources.frontEnd.currentBink:GetModel( f24_arg1 ), function ( f26_arg0, f26_arg1 )
		if f26_arg1._binkPlaybackStarted and DataModel[0x614D394F6F9A18D]( f26_arg0 ) ~= f24_arg0 then
			f24_arg0( f26_arg1 )
		end
	end )
	if BitwiseOperators.band( f24_arg2.keyartData.videoPlaybackFlags, VideoPlaybackFlags.PAUSE_LAST_FRAME ) ~= 0 then
		f24_arg0:CreateEventTimer( "lastVideoFrameTimer", 100, {
			immediate = false,
			callbackFunc = function ( f25_arg0, f25_arg1 )
				if f24_arg0 == Engine[0x5976DAF0A9078FE]() and Engine[0x2D1FA870E271AC3]() then
					f24_arg0( f25_arg0 )
				end
			end
		} )
	end
end

local f0_local5 = function ( f22_arg0, f22_arg1, f22_arg2 )
	local f22_local0 = LUI.FlowManager.GetMenuByName( "InstanceInventoryUpdatingPopup" )
	if f22_local0 and f22_local0.menu then
		f22_local0.menu:addEventHandler( "menu_close", function ()
			f22_arg0( f22_arg0 )
		end )
	else
		f22_arg2( f22_arg0 )
	end
end

local f0_local6 = function ( f18_arg0, f18_arg1, f18_arg2, f18_arg3 )
	local f18_local0 = f18_arg2.waitTime or 0
	f18_arg0._startWaitTime = nil
	f18_arg0._nextFrameTimerElement = nil
	local f18_local1 = function ( f20_arg0 )
		local f20_local0 = function ( f21_arg0 )
			f20_arg0( f21_arg0, f20_arg0, f20_arg0 )
		end
		
		if f20_arg0._startWaitTime then
			if not f20_arg0._nextFrameTimerElement._nextFrameTime then
				local f20_local1 = f20_arg0:Wait( f18_arg0 )
				f20_local1.onComplete = f20_local0
			else
				local f20_local1 = f20_arg0:Wait( math.min( f20_arg0._nextFrameTimerElement._nextFrameTime - f20_arg0._startWaitTime, f18_arg0 ) )
				f20_local1.onComplete = f20_local0
			end
			f20_arg0._nextFrameTimerElement:closeTree()
			f20_arg0._nextFrameTimerElement = nil
			f20_arg0._startWaitTime = nil
		else
			f20_local0( f20_arg0 )
		end
	end
	
	if not String.IsNilOrEmpty( f18_arg2.keyartData.video ) then
		f0_local0( f18_arg0, f18_arg1, f18_arg2, f18_local1 )
	elseif 0 < f18_local0 then
		if f18_arg2.blendIn then
			f18_arg0:SetAlpha( 0 )
			local f18_local2 = f18_arg0:SetAlpha( 1, f18_local0 )
			f18_local2.onComplete = f18_local1
		elseif f18_arg2.blendOut then
			f18_arg0:SetAlpha( 1 )
			local f18_local2 = f18_arg0:SetAlpha( 0, f18_local0 )
			f18_local2.onComplete = f18_local1
		else
			local f18_local2 = f18_arg0:Wait( f18_local0 )
			f18_local2.onComplete = f18_local1
		end
		if f18_arg0._isInTransitionMidPhase and CONDITIONS.IsDelayMenuMidTransitionEnabled() then
			f18_arg0._startWaitTime = Engine[0x6991337AE950F99]()
			f18_arg0._nextFrameTimerElement = LUI.UIElement.new()
			local f18_local2 = f18_arg0._nextFrameTimerElement:Wait( 1 )
			f18_local2.onComplete = function ( f19_arg0 )
				f19_arg0._nextFrameTime = Engine[0x6991337AE950F99]()
			end
			
		end
	else
		f18_local1( f18_arg0 )
	end
end

local f0_local7 = function ()
	LUI.UIRoot.ProcessEvent( Engine[0xEE6F69FEA944B13](), {
		name = "showKeyArtVideo",
		immediate = true
	} )
end

local f0_local8 = function ()
	LUI.UIRoot.ProcessEvent( Engine[0xEE6F69FEA944B13](), {
		name = "hideKeyArtVideo",
		immediate = true
	} )
end

local f0_local9 = function ( f13_arg0, f13_arg1, f13_arg2 )
	if not String.IsNilOrEmpty( f13_arg2.keyartData.video ) then
		f13_arg0:registerEventHandler( "showKeyArtVideo", function ()
			return true
		end )
		f13_arg0:registerEventHandler( "hideKeyArtVideo", function ()
			return true
		end )
		LUI.FlowManager.SetShouldHideNonMainMenuTransitionVideos( true )
		f0_local0()
	else
		LUI.FlowManager.SetShouldHideNonMainMenuTransitionVideos( false )
		f0_local0()
	end
	f13_arg0[0x5A51A33CD5CABD1]:UpdateKeyArtByTable( f13_arg2.keyartData )
end

local f0_local10 = function ( f11_arg0, f11_arg1, f11_arg2 )
	local f11_local0 = function ( f12_arg0 )
		if not String.IsNilOrEmpty( f12_arg0._scriptBundle[0xC5A1C50CB6A2BF1][0x233721E68022539] ) then
			Streaming[0x6FFD2DD54385156]( {}, RegisterMaterial( f12_arg0._scriptBundle[0xC5A1C50CB6A2BF1][0x233721E68022539] ) )
		end
		if not String.IsNilOrEmpty( f12_arg0._scriptBundle[0x86C5E312B9D3453][0x233721E68022539] ) then
			Streaming[0x6FFD2DD54385156]( {}, RegisterMaterial( f12_arg0._scriptBundle[0x86C5E312B9D3453][0x233721E68022539] ) )
		end
		if f11_arg0.targetGameId then
			CROSS_LAUNCH.AttemptCrossLaunch( f11_arg0, f11_arg0.targetGameId, f11_arg0.targetDeepLink, {
				failCallback = f11_arg0.targetCrosslaunchFailCallback
			} )
			LUI.FlowManager.RequestLeaveMenuByName( f11_arg0.menuName, false, true )
		else
			LUI.FlowManager.RequestLeaveMenuByName( f11_arg0.menuName, false, true )
			Engine[0x3DACD106DDC0D71]()
			f12_arg0:dispatchEventToRoot( {
				name = "restore_playmenu_focus"
			} )
			f11_arg0()
		end
	end
	
	f11_arg0._isInTransitionOutPhase = true
	local f11_local1 = f0_local0( f11_arg0 )
	f0_local0( f11_arg0, f11_arg1, f11_local1 )
	local f11_local2 = f11_arg0[0xFAEF0FC718624AE]
	local f11_local3 = f11_local2
	f11_local2 = f11_local2.setText
	local f11_local4 = f11_arg2.messaging
	if f11_local4 then
		f11_local4 = f11_arg2.messaging[3]
	end
	f11_local2( f11_local3, f11_local4 )
	if not String.IsNilOrEmpty( f11_local1.keyartData.video ) and not String.IsNilOrEmpty( f11_arg0._scriptBundle[0xC5A1C50CB6A2BF1][0x233721E68022539] ) then
		f11_arg0[0x669A59579B99B3]:setImage( RegisterMaterial( f11_arg0._scriptBundle[0xC5A1C50CB6A2BF1][0x233721E68022539] ) )
		f11_arg0[0x669A59579B99B3]:SetVisible( true )
	end
	f0_local0( f11_arg0, f11_arg1, f11_local1, f11_local0 )
end

local f0_local11 = function ( f9_arg0, f9_arg1, f9_arg2 )
	local f9_local0 = function ( f10_arg0 )
		f10_arg0._isInTransitionMidPhase = false
		f9_arg0( f10_arg0, f9_arg0, f9_arg0 )
	end
	
	f9_arg0._isInTransitionMidPhase = true
	local f9_local1 = f0_local0( f9_arg0 )
	f0_local0( f9_arg0, f9_arg1, f9_local1 )
	if not String.IsNilOrEmpty( f9_local1.keyartData.video ) and not String.IsNilOrEmpty( f9_arg0._scriptBundle[0x5D0AF08F958CA2A][0x233721E68022539] ) then
		f9_arg0[0x669A59579B99B3]:setImage( RegisterMaterial( f9_arg0._scriptBundle[0x5D0AF08F958CA2A][0x233721E68022539] ) )
		f9_arg0[0x669A59579B99B3]:SetVisible( true )
	end
	local f9_local2 = f9_arg0[0xFAEF0FC718624AE]
	local f9_local3 = f9_local2
	f9_local2 = f9_local2.setText
	local f9_local4 = f9_arg2.messaging
	if f9_local4 then
		f9_local4 = f9_arg2.messaging[2]
	end
	f9_local2( f9_local3, f9_local4 )
	if f9_arg2.waitUntil and not f9_arg2.waitUntil() then
		MenuUtils.WaitUntilCondition( f9_arg0, f9_arg2.waitUntil, f9_local0, Dvar[0x22EAAB59AA27E9B]( 0x723B1083815F5E5 ) )
	else
		f0_local0( f9_arg0, f9_arg1, f9_local1, f9_local0 )
	end
	if not String.IsNilOrEmpty( f9_arg0._scriptBundle[0x86C5E312B9D3453][0x233721E68022539] ) then
		Streaming[0x2D189901DAA9563]( {}, RegisterMaterial( f9_arg0._scriptBundle[0x86C5E312B9D3453][0x233721E68022539] ) )
	end
end

local f0_local12 = function ( f7_arg0, f7_arg1, f7_arg2 )
	local f7_local0 = function ( f8_arg0 )
		LUI.Fence.ShouldForceHideNonCriticalPopups( true )
		if f8_arg0._targetMenu then
			LUI.FlowManager.RequestAddMenu( LUI.FlowManager.FlowMenus[f8_arg0._targetMenu], false, f7_arg0, false, f7_arg0, true )
		end
		LUI.FlowManager.RequestPopupMenu( nil, f7_arg0( f8_arg0 ), false, f7_arg0, false, f7_arg0, nil, true, true )
		LUI.FlowManager.RequestLeaveMenuByName( f7_arg0.menuName, true, true )
		LUI.Fence.ShouldForceHideNonCriticalPopups( false )
	end
	
	f7_arg0._isInTransitionInPhase = true
	local f7_local1 = f7_arg0[0xFAEF0FC718624AE]
	local f7_local2 = f7_local1
	f7_local1 = f7_local1.setText
	local f7_local3 = f7_arg2.messaging
	if f7_local3 then
		f7_local3 = f7_arg2.messaging[1]
	end
	f7_local1( f7_local2, f7_local3 )
	f7_local1 = f0_local0( f7_arg0 )
	f0_local0( f7_arg0, f7_arg1, f7_local1 )
	f0_local0( f7_arg0, f7_arg1, f7_local1, f7_local0 )
	if f7_local1.keyartData.video ~= "jup_hq_dive_intro" then
		Engine[0xCFD2C5E2E3C4014]()
	end
	if f7_arg2.canCancel then
		f7_arg0[0xB95EBA055F16AD9]:SetAlpha( 0 )
		f7_arg0[0xB95EBA055F16AD9]:SetAlpha( 1, f0_local0 )
	end
	if f7_arg2.messaging then
		f7_arg0[0xFAEF0FC718624AE]:SetAlpha( 0 )
		f7_arg0[0xFAEF0FC718624AE]:SetAlpha( 1, f0_local0 )
	end
	if f7_arg2.targetGameId then
		f7_arg0[0x39944FC4A40476]:SetAlpha( 0 )
		f7_arg0[0x39944FC4A40476]:SetAlpha( 1, f0_local0 )
	end
	if not String.IsNilOrEmpty( f7_arg0._scriptBundle[0xC5A1C50CB6A2BF1][0x233721E68022539] ) then
		Streaming[0x2D189901DAA9563]( {}, RegisterMaterial( f7_arg0._scriptBundle[0xC5A1C50CB6A2BF1][0x233721E68022539] ) )
	end
end

local f0_local13 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.Keyart.Cinematic:SetVisible( false )
	if f2_arg2.targetGameId then
		f2_arg2.waitUntil = function ()
			local f6_local0
			if Engine[0x1A7135C278E324D]() and Engine[0xCB578C27DDB9EC0]( f2_arg0.targetGameId ) then
				f6_local0 = Engine[0xD52EFF7BDBE18B0]( f2_arg0.targetGameId )
			else
				f6_local0 = true
			end
			return f6_local0
		end
		
		local f2_local0 = true
		f2_arg0[0x39944FC4A40476]:SetVisible( true )
		f2_arg2.canCancel = f2_local0
	else
		f2_arg0._targetMenu = f2_arg2.mainMenuKeyartTransitionOptions.targetMenu
	end
	if CONDITIONS.UseFallbackMainMenuTransitions() then
		f2_arg0._scriptBundle = f2_arg2.mainMenuKeyartTransitionOptions.scriptBundle[0xF923DD7FFC6EBC]
	else
		f2_arg0._scriptBundle = f2_arg2.mainMenuKeyartTransitionOptions.scriptBundle[0xC416BF12B9BE9D2]
	end
	if f2_arg2.menuName == "MainMenuKeyartTransitionIn" then
		f0_local0( f2_arg0, f2_arg1, f2_arg2 )
	elseif f2_arg2.menuName == f0_local0( f2_arg0 ) then
		f0_local0( f2_arg0, f2_arg1, f2_arg2 )
	end
	f2_arg0:addEventHandler( "menu_close", function ( f5_arg0, f5_arg1 )
		Engine[0x3DACD106DDC0D71]( true )
	end )
	if f2_arg2.canCancel then
		f2_arg0[0xB95EBA055F16AD9]:SetVisible( true )
		f2_arg0[0xB95EBA055F16AD9]:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xFB7ED563F01465F ) ), 0 )
		f2_arg0:AddGamepadEventCallback( "button_secondary", function ( f4_arg0, f4_arg1 )
			LUI.FlowManager.RequestLeaveMenuByName( f2_arg0.menuName, false, true )
			Engine[0x3DACD106DDC0D71]( true )
		end )
	end
	if f2_arg2.mainMenuKeyartTransitionOptions.cancelFTUE then
		f2_arg0[0xB95EBA055F16AD9]:SetVisible( false )
		f2_arg0.binkSkipPrompt = MenuBuilder.BuildRegisteredType( "BinkSkipPrompt", {
			skipImmediate = false,
			onSkipInput = function ()
				Engine[0x3DACD106DDC0D71]( true )
				Engine[0x433043D1F47DE58]()
			end
		} )
		f2_arg0.binkSkipPrompt.owner = f2_arg0
		f2_arg0:addElement( f2_arg0.binkSkipPrompt )
	end
	if f2_arg2.messaging then
		f2_arg0[0xFAEF0FC718624AE]:SetVisible( true )
	end
end

function MainMenuKeyartTransition( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = f1_local0.UIMenu.new()
	f1_local2.id = "MainMenuKeyartTransition"
	local f1_local3
	if f1_arg1 then
		f1_local3 = f1_arg1
	else
		f1_local3 = f1_arg1.controllerIndex
	end
	f1_local3 = f1_local0.ValidateControllerIndex( f1_local2, f1_local3 )
	local f1_local4 = f1_local2
	local f1_local5 = nil
	f1_local5 = f1_local0.UIImage.new()
	f1_local5[0x8B72E07B55C3AC0] = "ImageToShowWhileWaitingForBink"
	ACTIONS.AspectRatioScaleAdjustment( f1_local2, f1_local5, LAYOUT.AspectRatioImageScalePct.FADEFRAME_STANDARD )
	f1_local5:SetVisible( false )
	f1_local5:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -960, 960, -540, 540 )
	f1_local2:addElement( f1_local5 )
	f1_local2[0x669A59579B99B3] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local1.BuildRegisteredType( 0x2B92A33A2A4BC8, {
		controllerIndex = f1_local3
	} )
	f1_local6[0x8B72E07B55C3AC0] = "Keyart"
	ACTIONS.AspectRatioScaleAdjustment( f1_local2, f1_local6, LAYOUT.AspectRatioImageScalePct.FADEFRAME_STANDARD )
	f1_local6:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	f1_local2:addElement( f1_local6 )
	f1_local2[0x5A51A33CD5CABD1] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local0.UIStyledText.new()
	f1_local7[0x8B72E07B55C3AC0] = "StatusMessage"
	f1_local7:SetVisible( false )
	f1_local7:SetRGB( SWATCHES[0x3E789DB0A12E313][0xF046A6ADEBDAA2F], 0 )
	f1_local7:SetAlpha( 0.8, 0 )
	f1_local7:setText( ToUpperCase( "" ), 0 )
	f1_local7:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	f1_local7:SetFontSize( 28 * _PT )
	f1_local7:SetMinFontSize( 28 * _PT )
	f1_local7:SetWordWrap( false )
	f1_local7:SetAlignment( f1_local0.Alignment.Center )
	f1_local7:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local7:SetTintFontIcons( true )
	f1_local7:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -211, 211, -174.5, -123.5 )
	f1_local2:addElement( f1_local7 )
	f1_local2[0xFAEF0FC718624AE] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local0.UIStyledText.new()
	f1_local8[0x8B72E07B55C3AC0] = "LoadingMessage"
	f1_local8:SetVisible( false )
	f1_local8:SetRGB( SWATCHES[0x3E789DB0A12E313][0xF046B6ADEBDABE2], 0 )
	f1_local8:SetAlpha( 0.8, 0 )
	f1_local8:setText( Engine[0xED84C33EC5F01EA]( 0xB284F0A4579034B ), 0 )
	f1_local8:SetFont( FONTS.GetFont( FONTS.SecondaryRegular.File ) )
	f1_local8:SetFontSize( 18 * _PT )
	f1_local8:SetMinFontSize( 18 * _PT )
	f1_local8:SetWordWrap( false )
	f1_local8:SetAlignment( f1_local0.Alignment.Center )
	f1_local8:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local8:SetTintFontIcons( true )
	f1_local8:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -211, 211, -116.5, -92.5 )
	f1_local2:addElement( f1_local8 )
	f1_local2[0x39944FC4A40476] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local0.UIStyledText.new()
	f1_local9[0x8B72E07B55C3AC0] = "CancelPrompt"
	f1_local9:SetVisible( false )
	f1_local9:SetRGB( SWATCHES[0x3E789DB0A12E313][0xF046B6ADEBDABE2], 0 )
	f1_local9:SetAlpha( 0.9, 0 )
	f1_local9:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xFB7ED563F01465F ) ), 0 )
	f1_local9:SetFont( FONTS.GetFont( FONTS.SecondaryUltraLight.File ) )
	f1_local9:SetFontSize( 18 * _PT )
	f1_local9:SetMinFontSize( 18 * _PT )
	f1_local9:SetWordWrap( false )
	f1_local9:SetAlignment( f1_local0.Alignment.Center )
	f1_local9:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local9:SetTintFontIcons( true )
	f1_local9:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -211, 211, -86.5, -48.5 )
	f1_local2:addElement( f1_local9 )
	f1_local2[0xB95EBA055F16AD9] = f1_local9
	f0_local0( f1_local2, f1_local3, f1_arg1 )
	return f1_local2
end

MenuBuilder.registerType( 0x7AA8BEC284FD4EC, MainMenuKeyartTransition )
LockTable( _M )
