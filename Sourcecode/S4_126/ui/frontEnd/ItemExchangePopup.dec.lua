-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.widgets.GenericPopupWindow" )
require( "ui.frontEnd.GenericContentPanel" )
require( "ui.frontEnd.ItemExchangeLabel" )
require( "ui.frontEnd.PriceButtonSmall" )
require( "ui.widgets.VerticalMinimalScrollbar" )
require( "ui.widgets.ButtonHelperBar" )
require( "ui.frontEnd.BattlePassButton" )
require( "ui.widgets.GenericHoldButton" )
require( "ui.widgets.ButtonPromptContainer" )
local f0_local0 = {
	{
		class = Engine[0xED84C33EC5F01EA]( "MENU/CAMPAIGN" ),
		name = Engine[0xED84C33EC5F01EA]( "MENU/CAMPAIGN_DESC" )
	},
	{
		class = Engine[0xED84C33EC5F01EA]( "MENU/MULTIPLAYER" ),
		name = Engine[0xED84C33EC5F01EA]( "MENU/MULTIPLAYER_DESC" )
	},
	{
		class = Engine[0xED84C33EC5F01EA]( "MENU/COOP" ),
		name = Engine[0xED84C33EC5F01EA]( "LUA_MENU/COOP_DESC" )
	}
}
local f0_local1 = function ( f26_arg0 )
	f26_arg0.TitleIDItemGrid._scrollbars[1]:SetKBMStyle( true )
	f26_arg0:registerEventHandler( "gamepad_sticks", function ( element, event )
		f26_arg0._lastRightStickPitch = event.rightStickPitch
		return true
	end )
	f26_arg0:registerEventHandler( "update_grid_scroll", function ( element, event )
		local f27_local0 = element._lastRightStickPitch or 0
		local f27_local1 = 10
		local f27_local2 = element.TitleIDItemGrid
		local f27_local3 = f27_local2
		f27_local2 = f27_local2.ScrollAmount
		local f27_local4
		if 0 < f27_local0 then
			f27_local4 = "up"
		else
			f27_local4 = "down"
		end
		f27_local2( f27_local3, f27_local4, math.abs( f27_local0 * f27_local1 * 0.016 ) )
		return true
	end )
	f26_arg0._pitchUpdateTimer = LUI.UITimer.new( {
		interval = 16,
		event = {
			name = "update_grid_scroll"
		}
	} )
	f26_arg0._pitchUpdateTimer.id = "_pitchUpdateTimer"
	f26_arg0:addElement( f26_arg0._pitchUpdateTimer )
	f26_arg0:AddButtonHelperTextToElement( f26_arg0.ButtonHelperBar, {
		priority = 2,
		side = "left",
		gamepad_only = true,
		button_ref = "button_right_stick",
		helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/SCROLL" ),
		container = f26_arg0.GridScrollPrompt
	} )
end

local f0_local2 = function ( f23_arg0, f23_arg1, f23_arg2, f23_arg3 )
	local f23_local0 = LUI.Split( f23_arg2.itemIDs, "|", true )
	for f23_local1 = 1, #f23_local0, 1 do
		local f23_local4 = f23_local0[f23_local1]
		if 0 < #f23_local4 then
			f23_local4 = tonumber( f23_local4 )
			local f23_local5 = LOOT.GetTypeForID( f23_local4 )
			if f23_local5 and f23_local5 ~= LOOT.itemTypes.INVALID and f23_local5 ~= LOOT.itemTypes.FIRST_PARTY_LICENCE and f23_local5 ~= LOOT.itemTypes.SENTINEL then
				local f23_local6 = LOOT.GetItemRef( f23_local5, f23_local4 )
				table.insert( f23_arg0._additionalItems, {
					name = LOOT.GetItemName( f23_local5, f23_local6, f23_local4 ),
					class = LOOT.GetItemClassName( f23_local5, f23_local6 ),
					image = LOOT.GetItemImage( f23_local5, f23_local6, f23_local4 )
				} )
			end
		end
	end
	if 0 < #f23_arg2.CPAmount then
		table.insert( f23_arg0._additionalItems, {
			image = "v_ui_icon_currency_codpoints01",
			name = Engine[0xED84C33EC5F01EA]( "LUA_MENU/COD_POINTS", f23_arg2.CPAmount ),
			class = Engine[0xED84C33EC5F01EA]( "LUA_MENU/COD_POINTS_CLASS" )
		} )
	end
	if f23_arg3 then
		f23_arg0.TitleIDItemGrid:SetNumChildren( #f23_arg0._additionalItems )
		f23_arg0.TitleIDItemGrid:RefreshContent()
		f23_arg0.TitleIDItemGrid:SetRefreshChild( function ( f25_arg0, f25_arg1, f25_arg2 )
			local f25_local0 = f23_arg0._additionalItems[f25_arg1 + f25_arg2 * f23_arg0.TitleIDItemGrid:GetNumColumns() + 1]
			f25_arg0.Name:setText( f25_local0.name )
			f25_arg0.Class:setText( f25_local0.class )
		end )
	else
		f23_arg0.ItemGrid:SetNumChildren( #f23_arg0._additionalItems )
		f23_arg0.ItemGrid:RefreshContent()
		f23_arg0.ItemGrid:SetRefreshChild( function ( f24_arg0, f24_arg1, f24_arg2 )
			local f24_local0 = f23_arg0._additionalItems[f24_arg1 + f24_arg2 * f23_arg0.ItemGrid:GetNumColumns() + 1]
			f24_arg0.Name:setText( f24_local0.name )
			f24_arg0.Class:setText( f24_local0.class )
		end )
	end
end

local f0_local3 = function ( f22_arg0 )
	f22_arg0.TitleIDGrid:SetNumChildren( #f0_local0 )
	for f22_local3, f22_local4 in ipairs( f0_local0 ) do
		local f22_local5 = f22_arg0.TitleIDGrid:GetElementAtPosition( 0, f22_local3 - 1 )
		f22_local5.Name:setText( f22_local4.name )
		f22_local5.Class:setText( f22_local4.class )
	end
end

local f0_local4 = function ( f20_arg0, f20_arg1, f20_arg2 )
	local f20_local0 = StringTable[0x8073B436CDE1BF]( CSV.dlcIDs.file, CSV.dlcIDs.cols.id, f20_arg2 )
	if f20_local0 == -1 then
		
	else
		
	end
	local f20_local1 = CSV.ReadRow( CSV.dlcIDs, f20_local0 )
	f20_arg0.Image:setImage( RegisterMaterial( f20_local1.image ) )
	if tonumber( StringTable[0x2DCF0973239E909]( CSV.dlcIDs.file, CSV.dlcIDs.cols.id, f20_arg2, CSV.dlcIDs.cols.isCODPoints ) ) == 1 then
		ACTIONS.AnimateSequence( f20_arg0, "CODPoints" )
		f20_arg0.Title:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/PURCHASE_COMPLETED", f20_local1.title ) ) )
		local f20_local2 = StringTable[0x2DCF0973239E909]( CSV.dlcIDs.file, CSV.dlcIDs.cols.id, f20_arg2, CSV.dlcIDs.cols.CPAmount )
		LUI.FlowManager.RequestLeaveMenuByName( "PurchaseCODPointsPopup" )
		LUI.FlowManager.RequestLeaveMenuByName( "ItemExchangeFencePopup" )
		assert( f20_arg0.Price )
		f20_arg0.Price.Amount:setText( f20_local2 )
		ACTIONS.AnimateSequence( f20_arg0.Price, "HideBacker" )
	else
		f20_arg0._additionalItems = {}
		local f20_local2 = false
		if f20_arg0._purchaseData then
			local f20_local3 = ACTIONS.AnimateSequence
			local f20_local4 = f20_arg0
			local f20_local5
			if IsLanguageArabic() then
				f20_local5 = "PreviewAR"
			else
				f20_local5 = "Preview"
			end
			f20_local3( f20_local4, f20_local5 )
			if STORE.IsBattlePassTitleID( f20_arg2 ) then
				f0_local0( f20_arg0 )
			end
			f20_arg0:FillGameModesGrid()
			f20_arg0.Title:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/PREVIEW_TITLE", f20_local1.title ) ) )
			f20_arg0.ButtonHelperBar.ButtonHelperText:PushButtonPrompt( {
				side = "left",
				button_ref = "button_secondary",
				priority = 0,
				helper_text = Engine[0xED84C33EC5F01EA]( "MENU/BACK" )
			} )
			f20_arg0.bindButton:addEventHandler( "button_secondary", function ( f21_arg0, f21_arg1 )
				local f21_local0 = f21_arg1.controller or f20_arg0
				ACTIONS.LeaveMenu( f20_arg0 )
			end )
			f20_local2 = true
			f20_arg0.PurchaseButton:SetHandleMouse( true )
			f20_arg0.PurchaseButton:SetFocusable( true )
			f20_arg0.ConfirmButton:SetHandleMouse( false )
			f20_arg0.ConfirmButton:SetFocusable( false )
		elseif STORE.IsTitleID( f20_arg2 ) then
			ACTIONS.AnimateSequence( f20_arg0, "TitleID" )
			if STORE.IsBattlePassTitleID( f20_arg2 ) then
				f0_local0( f20_arg0 )
			end
			f20_arg0:FillGameModesGrid()
			f20_arg0.Title:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/PURCHASED_TITLE", f20_local1.title ) ) )
			f20_local2 = true
		else
			ACTIONS.AnimateSequence( f20_arg0, "ItemList" )
			if IsLanguageArabic() then
				ACTIONS.AnimateSequence( f20_arg0, "AR" )
			end
			f20_arg0.Title:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( f20_local1.title ) ) )
		end
		f0_local0( f20_arg0, f20_arg2, f20_local1, f20_local2 )
		if Engine[0x5575DCFF312365A]() then
			if f20_arg2 == 340021 or f20_arg2 == STORE.TitleIDs.BNET_BATTLE_PASS then
				local f20_local3 = StringTable[0x8073B436CDE1BF]( CSV.dlcIDs.file, CSV.dlcIDs.cols.id, STORE.TitleIDs.BNET_STANDARD )
				if 0 <= f20_local3 then
					local f20_local6 = CSV.ReadRow( CSV.dlcIDs, f20_local3 )
					if f20_local6 ~= nil then
						f0_local0( f20_arg0, STORE.TitleIDs.BNET_STANDARD, f20_local6, f20_local2 )
					end
				end
			end
			if f20_arg2 == STORE.TitleIDs.BNET_BATTLE_PASS then
				local f20_local3 = StringTable[0x8073B436CDE1BF]( CSV.dlcIDs.file, CSV.dlcIDs.cols.id, 340021 )
				if 0 < f20_local3 then
					local f20_local6 = CSV.ReadRow( CSV.dlcIDs, f20_local3 )
					if f20_local6 ~= nil then
						f0_local0( f20_arg0, 340021, f20_local6, f20_local2 )
					end
				end
				local f20_local6 = StringTable[0x8073B436CDE1BF]( CSV.dlcIDs.file, CSV.dlcIDs.cols.id, 340024 )
				if 0 < f20_local6 then
					local f20_local4 = CSV.ReadRow( CSV.dlcIDs, f20_local6 )
					if f20_local4 ~= nil then
						f0_local0( f20_arg0, 340024, f20_local4, f20_local2 )
					end
				end
			end
		end
		f20_arg0.AlertMessage:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/LOCKED_ITEMS_CAC_MSG", PROGRESSION.GetRankDisplay( PROGRESSION.GetUnlockRank( LOOT.GetItemID( LOOT.itemTypes.FEATURE, LOOT.createAClassRef ) ) ) ) )
	end
end

local f0_local5 = function ( f17_arg0, f17_arg1, f17_arg2 )
	assert( f17_arg2.markerItemID )
	f17_arg0.FillGameModesGrid = f0_local0
	f17_arg0.currentMarkerItemID = f17_arg2.markerItemID
	f17_arg0._purchaseData = f17_arg2.purchaseData
	f17_arg0._fromSignIn = f17_arg2.fromSignIn
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "selfBindButton"
	f17_arg0:addElement( bindButton )
	f17_arg0.bindButton = bindButton
	
	local f17_local1 = LUI.FlowManager.GetScopedData( "ItemExchangePopup" )
	if not f17_local1.itemQueue then
		f17_local1.itemQueue = LUI.CreateQueue()
	end
	f17_arg0.PurchaseButton:SetHandleMouse( false )
	f17_arg0.PurchaseButton:SetFocusable( false )
	f17_arg0.TitleIDItemGrid:SetNumChildren( 0 )
	f17_arg0.TitleIDGrid:SetNumChildren( 0 )
	f17_arg0.ItemGrid:SetNumChildren( 0 )
	f0_local0( f17_arg0, f17_arg1, f17_arg2.markerItemID )
	if f17_arg2.leavePartyAndLobbyOnPurchase then
		f17_arg0.DisbandDisclaimer:SetAlpha( 1 )
	end
	LUI.AddUIHoldButtonLogic( f17_arg0.ConfirmButton, f17_arg1, {
		clickKeyboardAndMouse = true,
		requireFocus = true,
		duration = 1000,
		buttons = {
			primary = true
		},
		fill = f17_arg0.ConfirmButton.GenericProgressBar,
		onFill = function ()
			local f19_local0 = f17_arg0.itemQueue:Pop()
			if f19_local0 and f19_local0 ~= f17_arg0.currentMarkerItemID then
				f17_arg0( f17_arg0, f17_arg0, f19_local0 )
				f17_arg0.currentMarkerItemID = f19_local0
			else
				if Engine[0x5575DCFF312365A]() and Dvar[0x9E5BE3B4BBA4E0E]( "#x3b2b45e2e904c13d9" ) then
					LUI.FlowManager.RequestPopupMenu( f17_arg0, "RestartUpsellPopup", true, f17_arg0, false, {
						controllerIndex = f17_arg0
					} )
				end
				LUI.FlowManager.RequestLeaveMenu( f17_arg0, true )
			end
		end
	} )
	ACTIONS.ScaleFullscreen( f17_arg0.Background )
	f17_arg0.PurchaseButton:addEventHandler( "button_action", function ( f18_arg0, f18_arg1 )
		if not f17_arg0._purchaseData or f17_arg0._purchaseData.owned then
			return true
		elseif Engine[0x836C8AD984F14F6]() then
			InGameStore.ShowStoreIcon( false )
		end
		LUI.FlowManager.RequestPopupMenu( nil, "MagmaUpsellFullScreenPopup", true, f18_arg1.controller, false, {
			controllerIndex = f17_arg0
		} )
		InGameStore.SelectProduct( f17_arg0, f17_arg0._purchaseData.productId, InGameStorePurchaseType.BROWSE )
		LUI.FlowManager.RequestLeaveMenu( f18_arg0 )
		if f17_arg0.leavePartyAndLobbyOnPurchase and Lobby[0xF1D2956B0C99DF6]() then
			Lobby.LeavePublicLobby()
			if LUI.FlowManager.IsInStack( "BRPublicLobby" ) then
				LUI.FlowManager.RequestLeaveMenuByName( "BRPublicLobby", true, true )
			elseif LUI.FlowManager.IsInStack( "MPPublicLobby" ) then
				LUI.FlowManager.RequestLeaveMenuByName( "MPPublicLobby", true, true )
			end
		end
	end )
end

function ItemExchangePopup( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "ItemExchangePopup"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	ACTIONS.ScaleFullscreen( Background )
	Background:setImage( RegisterMaterial( "v_ui_bg_generic" ), 0 )
	Background:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 1920, 0, 0 )
	self:addElement( Background )
	self.Background = Background
	
	local GenericPopupWindow = nil
	
	GenericPopupWindow = MenuBuilder.BuildRegisteredType( "GenericPopupWindow", {
		controllerIndex = f1_local1
	} )
	GenericPopupWindow.id = "GenericPopupWindow"
	GenericPopupWindow:SetVisibility( LUI.Visibility.Hidden )
	GenericPopupWindow.PopupBackground:SetRGBFromTable( SWATCHES.highlight.vDefaultDarken, 0 )
	GenericPopupWindow:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -860, _1080p * 860, _1080p * -486, _1080p * 456 )
	self:addElement( GenericPopupWindow )
	self.GenericPopupWindow = GenericPopupWindow
	
	local Image = nil
	Image = LUI.UIImage.new()
	Image.id = "Image"
	if Engine[0x575E9C5B9AAB6F4]() then
		LAYOUT.AddHandlerAspectRatioScaleAdjustment( self, Image, LAYOUT.AspectRatioImageScalePct.STANDARD )
	end
	self:addElement( Image )
	self.Image = Image
	
	local BottomGradient = nil
	
	BottomGradient = LUI.UIImage.new()
	BottomGradient.id = "BottomGradient"
	ACTIONS.ScaleStretchAnchorFullscreen( BottomGradient )
	BottomGradient:SetRGBFromInt( 0, 0 )
	BottomGradient:SetAlpha( 0.9, 0 )
	BottomGradient:setImage( RegisterMaterial( "widg_gradient_bottom_to_top" ), 0 )
	BottomGradient:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -1080, 0 )
	self:addElement( BottomGradient )
	self.BottomGradient = BottomGradient
	
	local ItemGridBackground = nil
	
	ItemGridBackground = MenuBuilder.BuildRegisteredType( "GenericContentPanel", {
		controllerIndex = f1_local1
	} )
	ItemGridBackground.id = "ItemGridBackground"
	ItemGridBackground.Text:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/NEW_REWARDS" ), 0 )
	ItemGridBackground:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -724, _1080p * 736, _1080p * 85, _1080p * 365 )
	self:addElement( ItemGridBackground )
	self.ItemGridBackground = ItemGridBackground
	
	local ItemGrid = nil
	
	ItemGrid = LUI.UIGrid.new( {
		maxVisibleRows = 4,
		maxVisibleColumns = 5,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "ItemExchangeLabel", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f15_arg0, f15_arg1, f15_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.horizontal,
		spacingX = _1080p * 10,
		spacingY = _1080p * 10,
		columnWidth = _1080p * 265,
		rowHeight = _1080p * 46
	} )
	ItemGrid.id = "ItemGrid"
	ItemGrid:SetMaxVisibleColumns( 5 )
	ItemGrid:SetMaxVisibleRows( 4 )
	ItemGrid:SetRowSpacing( 10 )
	ItemGrid:setUseStencil( true )
	ItemGrid:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -698, _1080p * 714, _1080p * 143, _1080p * 355 )
	self:addElement( ItemGrid )
	self.ItemGrid = ItemGrid
	
	local AlertMessage = nil
	
	AlertMessage = LUI.UIText.new()
	AlertMessage.id = "AlertMessage"
	AlertMessage:SetRGBFromTable( SWATCHES.HUDWarnings.warning, 0 )
	AlertMessage:SetAlpha( 0.75, 0 )
	AlertMessage:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/LOCKED_ITEMS_CAC_MSG" ), 0 )
	AlertMessage:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_MBodyText.font.File ) )
	AlertMessage:SetFontSize( FONT_STYLES.fontStyle_MBodyText.size )
	AlertMessage:SetMinFontSize( FONT_STYLES.fontStyle_MBodyText.minSize )
	AlertMessage:SetWordWrap( true )
	AlertMessage:SetTracking( FONT_STYLES.fontStyle_MBodyText.tracking * _1080p, 0 )
	AlertMessage:SetLeading( FONT_STYLES.fontStyle_MBodyText.leading * _1080p, 0 )
	AlertMessage:SetAlignment( LUI.Alignment.Left )
	AlertMessage:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -698, _1080p * -249, _1080p * 385, _1080p * 428 )
	self:addElement( AlertMessage )
	self.AlertMessage = AlertMessage
	
	local Price = nil
	
	Price = MenuBuilder.BuildRegisteredType( "PriceButtonSmall", {
		controllerIndex = f1_local1
	} )
	Price.id = "Price"
	Price:SetAlpha( 0, 0 )
	Price:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 515, _1080p * 715, _1080p * 85, _1080p * 135 )
	self:addElement( Price )
	self.Price = Price
	
	local Title = nil
	
	Title = LUI.UIText.new()
	Title.id = "Title"
	Title:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	Title:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/PURCHASE_COMPLETED" ) ), 0 )
	Title:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_LHeaderBold.font.File ) )
	Title:SetFontSize( FONT_STYLES.fontStyle_LHeaderBold.size )
	Title:SetMinFontSize( FONT_STYLES.fontStyle_LHeaderBold.minSize )
	Title:SetWordWrap( true )
	Title:SetAlignment( LUI.Alignment.Left )
	Title:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -698, _1080p * 680, _1080p * -463, _1080p * -403 )
	self:addElement( Title )
	self.Title = Title
	
	local TitleIDGridBackground = nil
	
	TitleIDGridBackground = MenuBuilder.BuildRegisteredType( "GenericContentPanel", {
		controllerIndex = f1_local1
	} )
	TitleIDGridBackground.id = "TitleIDGridBackground"
	TitleIDGridBackground:SetAlpha( 0, 0 )
	TitleIDGridBackground.Text:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/ALL_MODES_UNLOCKED" ), 0 )
	TitleIDGridBackground:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -768, _1080p * -294, _1080p * 18, _1080p * 298 )
	self:addElement( TitleIDGridBackground )
	self.TitleIDGridBackground = TitleIDGridBackground
	
	local TitleIDGrid = nil
	
	TitleIDGrid = LUI.UIGrid.new( {
		maxVisibleRows = 3,
		maxVisibleColumns = 1,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "ItemExchangeLabel", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f13_arg0, f13_arg1, f13_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.horizontal,
		spacingX = _1080p * 20,
		spacingY = _1080p * 20,
		columnWidth = _1080p * 265,
		rowHeight = _1080p * 46
	} )
	TitleIDGrid.id = "TitleIDGrid"
	TitleIDGrid:SetAlpha( 0, 0 )
	TitleIDGrid:SetMaxVisibleRows( 3 )
	TitleIDGrid:SetRowSpacing( 20 )
	TitleIDGrid:setUseStencil( true )
	TitleIDGrid:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -736, _1080p * -330, _1080p * 86, _1080p * 277 )
	self:addElement( TitleIDGrid )
	self.TitleIDGrid = TitleIDGrid
	
	local TitleIDItemGrid = nil
	
	TitleIDItemGrid = LUI.UIGrid.new( {
		maxVisibleRows = 3,
		maxVisibleColumns = 3,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "ItemExchangeLabel", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f11_arg0, f11_arg1, f11_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.horizontal,
		spacingX = _1080p * 20,
		spacingY = _1080p * 20,
		columnWidth = _1080p * 265,
		rowHeight = _1080p * 46
	} )
	TitleIDItemGrid.id = "TitleIDItemGrid"
	TitleIDItemGrid:SetAlpha( 0, 0 )
	TitleIDItemGrid:SetMaxVisibleColumns( 3 )
	TitleIDItemGrid:SetMaxVisibleRows( 3 )
	TitleIDItemGrid:SetRowSpacing( 20 )
	TitleIDItemGrid:setUseStencil( true )
	TitleIDItemGrid:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -221, _1080p * 730, _1080p * 86, _1080p * 277 )
	self:addElement( TitleIDItemGrid )
	self.TitleIDItemGrid = TitleIDItemGrid
	
	local TitleIDGridScrollbar = nil
	
	TitleIDGridScrollbar = MenuBuilder.BuildRegisteredType( "VerticalMinimalScrollbar", {
		controllerIndex = f1_local1
	} )
	TitleIDGridScrollbar.id = "TitleIDGridScrollbar"
	TitleIDGridScrollbar:SetAlpha( 0, 0 )
	TitleIDGridScrollbar:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 730, _1080p * 741, _1080p * 86, _1080p * 277 )
	self:addElement( TitleIDGridScrollbar )
	self.TitleIDGridScrollbar = TitleIDGridScrollbar
	
	local ButtonHelperBar = nil
	
	ButtonHelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	ButtonHelperBar.id = "ButtonHelperBar"
	ButtonHelperBar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 1824, _1080p * 966, _1080p * 1026 )
	self:addElement( ButtonHelperBar )
	self.ButtonHelperBar = ButtonHelperBar
	
	local PurchaseButton = nil
	
	PurchaseButton = MenuBuilder.BuildRegisteredType( "BattlePassButton", {
		controllerIndex = f1_local1
	} )
	PurchaseButton.id = "PurchaseButton"
	PurchaseButton:SetAlpha( 0, 0 )
	PurchaseButton.Text:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/BUY_NOW" ), 0 )
	PurchaseButton.Text:SetAlignment( LUI.Alignment.Center )
	PurchaseButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 749, _1080p * 1171, _1080p * 923, _1080p * 979 )
	self:addElement( PurchaseButton )
	self.PurchaseButton = PurchaseButton
	
	local ConfirmButton = nil
	
	ConfirmButton = MenuBuilder.BuildRegisteredType( "GenericHoldButton", {
		controllerIndex = f1_local1
	} )
	ConfirmButton.id = "ConfirmButton"
	ConfirmButton.GenericProgressBar.DialogueBackground:SetAlpha( 0.2, 0 )
	ConfirmButton.Text:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/OK" ) ), 0 )
	ConfirmButton.Text:SetAlignment( LUI.Alignment.Center )
	ConfirmButton:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -210, _1080p * 210, _1080p * 383, _1080p * 439 )
	self:addElement( ConfirmButton )
	self.ConfirmButton = ConfirmButton
	
	local DisbandDisclaimer = nil
	
	DisbandDisclaimer = LUI.UIText.new()
	DisbandDisclaimer.id = "DisbandDisclaimer"
	DisbandDisclaimer:SetRGBFromTable( SWATCHES.genericMenu.warning, 0 )
	DisbandDisclaimer:SetAlpha( 0, 0 )
	DisbandDisclaimer:setText( Engine[0xED84C33EC5F01EA]( "STORE/UPSELL_PURCHASE_DISBAND_DISCLAIMER" ), 0 )
	DisbandDisclaimer:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	DisbandDisclaimer:SetFontSize( 24 * _PT )
	DisbandDisclaimer:SetMinFontSize( 16 * _PT )
	DisbandDisclaimer:SetWordWrap( true )
	DisbandDisclaimer:SetAlignment( LUI.Alignment.Center )
	DisbandDisclaimer:SetVerticalAlignment( LUI.Alignment.Center )
	DisbandDisclaimer:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -768, _1080p * 768, _1080p * 320, _1080p * 344 )
	self:addElement( DisbandDisclaimer )
	self.DisbandDisclaimer = DisbandDisclaimer
	
	local GridScrollPrompt = nil
	GridScrollPrompt = MenuBuilder.BuildRegisteredType( "ButtonPromptContainer", {
		controllerIndex = f1_local1
	} )
	GridScrollPrompt.id = "GridScrollPrompt"
	GridScrollPrompt:SetAlpha( 0, 0 )
	if CONDITIONS.AlwaysFalse() then
		GridScrollPrompt.Label:setText( "ButtonPrompt", 0 )
	end
	if CONDITIONS.AlwaysFalse() then
		GridScrollPrompt.Label:SetAlignment( LUI.Alignment.Center )
	end
	GridScrollPrompt:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 630, _1080p * 730, _1080p * 355, _1080p * 395 )
	self:addElement( GridScrollPrompt )
	self.GridScrollPrompt = GridScrollPrompt
	
	local TitleMask = nil
	
	TitleMask = LUI.UIImage.new()
	TitleMask.id = "TitleMask"
	TitleMask:SetAlpha( 0, 0 )
	TitleMask:setImage( RegisterMaterial( "stencil_mask" ), 0 )
	TitleMask:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 128, _1080p * 642, _1080p * 170, _1080p * 397 )
	self:addElement( TitleMask )
	self.TitleMask = TitleMask
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	self._sequences.AR = function ()
		
	end
	
	self._sequenceLengths.AR = 0
	local f1_local22 = nil
	GenericPopupWindow:RegisterAnimationSequence( "TitleID", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha,
			child = self.GenericPopupWindow.PopupBackground
		}
	} )
	ItemGridBackground:RegisterAnimationSequence( "TitleID", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -254
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine[0xED84C33EC5F01EA]( "LUA_MENU/BONUS_REWARDS" ),
			child = self.ItemGridBackground.Text
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 100
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 380
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 782
		}
	} )
	ItemGrid:RegisterAnimationSequence( "TitleID", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	AlertMessage:RegisterAnimationSequence( "TitleID", {
		{
			value = 5.297218497E-315,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -736
		}
	} )
	Price:RegisterAnimationSequence( "TitleID", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Title:RegisterAnimationSequence( "TitleID", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -736
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 642
		}
	} )
	TitleIDGridBackground:RegisterAnimationSequence( "TitleID", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 100
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 380
		}
	} )
	TitleIDGrid:RegisterAnimationSequence( "TitleID", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 153
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 344
		}
	} )
	TitleIDItemGrid:RegisterAnimationSequence( "TitleID", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 153
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 344
		}
	} )
	TitleIDGridScrollbar:RegisterAnimationSequence( "TitleID", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 153
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 344
		}
	} )
	GridScrollPrompt:RegisterAnimationSequence( "TitleID", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.TitleID = function ()
		menu:AnimateSequence( "TitleID" )
		menu:AnimateSequence( "TitleID" )
		menu:AnimateSequence( "TitleID" )
		menu:AnimateSequence( "TitleID" )
		menu:AnimateSequence( "TitleID" )
		menu:AnimateSequence( "TitleID" )
		menu:AnimateSequence( "TitleID" )
		menu:AnimateSequence( "TitleID" )
		menu:AnimateSequence( "TitleID" )
		menu:AnimateSequence( "TitleID" )
		menu:AnimateSequence( "TitleID" )
	end
	
	self._sequenceLengths.TitleID = 0
	local f1_local23 = nil
	GenericPopupWindow:RegisterAnimationSequence( "CODPoints", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 151
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -151
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -719
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 719
		}
	} )
	Image:RegisterAnimationSequence( "CODPoints", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 245
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 389
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -1201
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -389
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Material,
			value = RegisterMaterial( "mw_cod_points_9500_large" )
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	BottomGradient:RegisterAnimationSequence( "CODPoints", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Hidden
		}
	} )
	ItemGridBackground:RegisterAnimationSequence( "CODPoints", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ItemGrid:RegisterAnimationSequence( "CODPoints", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	AlertMessage:RegisterAnimationSequence( "CODPoints", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Price:RegisterAnimationSequence( "CODPoints", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -210
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -10
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -80
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -30
		}
	} )
	Title:RegisterAnimationSequence( "CODPoints", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text_Style_Horizontal_Alignment,
			value = LUI.Alignment.Left
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -140
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -80
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -211
		}
	} )
	TitleIDGridBackground:RegisterAnimationSequence( "CODPoints", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TitleIDGrid:RegisterAnimationSequence( "CODPoints", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ConfirmButton:RegisterAnimationSequence( "CODPoints", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 87
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 143
		}
	} )
	self._sequences.CODPoints = function ()
		menu:AnimateSequence( "CODPoints" )
		menu:AnimateSequence( "CODPoints" )
		menu:AnimateSequence( "CODPoints" )
		menu:AnimateSequence( "CODPoints" )
		menu:AnimateSequence( "CODPoints" )
		menu:AnimateSequence( "CODPoints" )
		menu:AnimateSequence( "CODPoints" )
		menu:AnimateSequence( "CODPoints" )
		menu:AnimateSequence( "CODPoints" )
		menu:AnimateSequence( "CODPoints" )
		menu:AnimateSequence( "CODPoints" )
	end
	
	self._sequenceLengths.CODPoints = 0
	local f1_local24 = nil
	GenericPopupWindow:RegisterAnimationSequence( "ItemList", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -860
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 860
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -486
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 456
		}
	} )
	ItemGridBackground:RegisterAnimationSequence( "ItemList", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine[0xED84C33EC5F01EA]( "LUA_MENU/NEW_REWARDS" ),
			child = self.ItemGridBackground.Text
		}
	} )
	ItemGrid:RegisterAnimationSequence( "ItemList", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	AlertMessage:RegisterAnimationSequence( "ItemList", {
		{
			value = 5.297218497E-315,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Price:RegisterAnimationSequence( "ItemList", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TitleIDGridBackground:RegisterAnimationSequence( "ItemList", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TitleIDGrid:RegisterAnimationSequence( "ItemList", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ItemList = function ()
		menu:AnimateSequence( "ItemList" )
		menu:AnimateSequence( "ItemList" )
		menu:AnimateSequence( "ItemList" )
		menu:AnimateSequence( "ItemList" )
		menu:AnimateSequence( "ItemList" )
		menu:AnimateSequence( "ItemList" )
		menu:AnimateSequence( "ItemList" )
	end
	
	self._sequenceLengths.ItemList = 0
	local f1_local25 = nil
	GenericPopupWindow:RegisterAnimationSequence( "SingleItem", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 230
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -230
		}
	} )
	Image:RegisterAnimationSequence( "SingleItem", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -128
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -122
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 128
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 134
		}
	} )
	ItemGridBackground:RegisterAnimationSequence( "SingleItem", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ItemGrid:RegisterAnimationSequence( "SingleItem", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	AlertMessage:RegisterAnimationSequence( "SingleItem", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Price:RegisterAnimationSequence( "SingleItem", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -100
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 100
		}
	} )
	Title:RegisterAnimationSequence( "SingleItem", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text_Style_Horizontal_Alignment,
			value = LUI.Alignment.Center
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -195
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -135
		}
	} )
	TitleIDGridBackground:RegisterAnimationSequence( "SingleItem", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TitleIDGrid:RegisterAnimationSequence( "SingleItem", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ConfirmButton:RegisterAnimationSequence( "SingleItem", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 148
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 204
		}
	} )
	self._sequences.SingleItem = function ()
		menu:AnimateSequence( "SingleItem" )
		menu:AnimateSequence( "SingleItem" )
		menu:AnimateSequence( "SingleItem" )
		menu:AnimateSequence( "SingleItem" )
		menu:AnimateSequence( "SingleItem" )
		menu:AnimateSequence( "SingleItem" )
		menu:AnimateSequence( "SingleItem" )
		menu:AnimateSequence( "SingleItem" )
		menu:AnimateSequence( "SingleItem" )
		menu:AnimateSequence( "SingleItem" )
	end
	
	self._sequenceLengths.SingleItem = 0
	local f1_local26 = nil
	GenericPopupWindow:RegisterAnimationSequence( "Preview", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 425
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 864
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -867
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -410
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha,
			child = self.GenericPopupWindow.PopupBackground
		}
	} )
	ItemGridBackground:RegisterAnimationSequence( "Preview", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -254
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine[0xED84C33EC5F01EA]( "LUA_MENU/BONUS_REWARDS" ),
			child = self.ItemGridBackground.Text
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 95
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 375
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 782
		}
	} )
	ItemGrid:RegisterAnimationSequence( "Preview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	AlertMessage:RegisterAnimationSequence( "Preview", {
		{
			value = 5.297218497E-315,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -736
		}
	} )
	Price:RegisterAnimationSequence( "Preview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TitleIDGridBackground:RegisterAnimationSequence( "Preview", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 95
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 375
		}
	} )
	TitleIDGrid:RegisterAnimationSequence( "Preview", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 148
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 339
		}
	} )
	TitleIDItemGrid:RegisterAnimationSequence( "Preview", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 148
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 339
		}
	} )
	TitleIDGridScrollbar:RegisterAnimationSequence( "Preview", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 738
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 147
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 339
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 730
		}
	} )
	PurchaseButton:RegisterAnimationSequence( "Preview", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ConfirmButton:RegisterAnimationSequence( "Preview", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	GridScrollPrompt:RegisterAnimationSequence( "Preview", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Preview = function ()
		menu:AnimateSequence( "Preview" )
		menu:AnimateSequence( "Preview" )
		menu:AnimateSequence( "Preview" )
		menu:AnimateSequence( "Preview" )
		menu:AnimateSequence( "Preview" )
		menu:AnimateSequence( "Preview" )
		menu:AnimateSequence( "Preview" )
		menu:AnimateSequence( "Preview" )
		menu:AnimateSequence( "Preview" )
		menu:AnimateSequence( "Preview" )
		menu:AnimateSequence( "Preview" )
		menu:AnimateSequence( "Preview" )
	end
	
	self._sequenceLengths.Preview = 0
	local f1_local27 = nil
	GenericPopupWindow:RegisterAnimationSequence( "PreviewAR", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 425
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 864
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -867
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -410
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha,
			child = self.GenericPopupWindow.PopupBackground
		}
	} )
	ItemGridBackground:RegisterAnimationSequence( "PreviewAR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -254
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine[0xED84C33EC5F01EA]( "LUA_MENU/BONUS_REWARDS" ),
			child = self.ItemGridBackground.Text
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 95
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 375
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 782
		}
	} )
	ItemGrid:RegisterAnimationSequence( "PreviewAR", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	AlertMessage:RegisterAnimationSequence( "PreviewAR", {
		{
			value = 5.297218497E-315,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -736
		}
	} )
	Price:RegisterAnimationSequence( "PreviewAR", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	TitleIDGridBackground:RegisterAnimationSequence( "PreviewAR", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 95
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 375
		}
	} )
	TitleIDGrid:RegisterAnimationSequence( "PreviewAR", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 148
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 339
		}
	} )
	TitleIDItemGrid:RegisterAnimationSequence( "PreviewAR", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 148
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 339
		}
	} )
	TitleIDGridScrollbar:RegisterAnimationSequence( "PreviewAR", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 738
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 147
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 339
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 730
		}
	} )
	PurchaseButton:RegisterAnimationSequence( "PreviewAR", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	ConfirmButton:RegisterAnimationSequence( "PreviewAR", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.PreviewAR = function ()
		menu:AnimateSequence( "PreviewAR" )
		menu:AnimateSequence( "PreviewAR" )
		menu:AnimateSequence( "PreviewAR" )
		menu:AnimateSequence( "PreviewAR" )
		menu:AnimateSequence( "PreviewAR" )
		menu:AnimateSequence( "PreviewAR" )
		menu:AnimateSequence( "PreviewAR" )
		menu:AnimateSequence( "PreviewAR" )
		menu:AnimateSequence( "PreviewAR" )
		menu:AnimateSequence( "PreviewAR" )
		menu:AnimateSequence( "PreviewAR" )
	end
	
	self._sequenceLengths.PreviewAR = 0
	PurchaseButton:addEventHandler( "button_action", function ( f2_arg0, f2_arg1 )
		ACTIONS.OpenPopupMenu( menu, "StoreGameUpsellPopup", true, f2_arg1.controller or menu )
		ACTIONS.LeaveMenu( menu, true )
	end )
	local f1_local28 = LUI.UIScrollbar.new
	local f1_local29 = {
		direction = LUI.DIRECTION.vertical,
		eventListener = TitleIDGridScrollbar,
		startCap = TitleIDGridScrollbar.startCap,
		endCap = TitleIDGridScrollbar.endCap,
		sliderArea = TitleIDGridScrollbar.sliderArea
	}
	local f1_local30 = TitleIDGridScrollbar.sliderArea
	if f1_local30 then
		f1_local30 = TitleIDGridScrollbar.sliderArea.slider
	end
	f1_local29.slider = f1_local30
	f1_local30 = TitleIDGridScrollbar.sliderArea
	if f1_local30 then
		f1_local30 = TitleIDGridScrollbar.sliderArea.fixedSizeSlider
	end
	f1_local29.fixedSizeSlider = f1_local30
	TitleIDItemGrid:AddScrollbar( f1_local28( f1_local29 ) )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "ItemExchangePopup", ItemExchangePopup )
LockTable( _M )
