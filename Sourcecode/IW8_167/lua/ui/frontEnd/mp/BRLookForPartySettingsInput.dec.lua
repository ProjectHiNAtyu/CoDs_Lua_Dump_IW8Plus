-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:52
module( ..., package.seeall )
local f0_local0 = function ( f7_arg0, f7_arg1, f7_arg2, f7_arg3 )
	local f7_local0 = Lobby.LOOK_FOR_PARTY_METADATA
	for f7_local4, f7_local5 in ipairs( f7_arg1 ) do
		f7_arg0.SideOptionPopUp:CreateHeader( f7_local5[f7_local0.HEADER_TEXT_REF] )
		local f7_local6 = f7_arg0.SideOptionPopUp:CreateSelectAllButton()
		f7_local6.buttonsList = f7_arg0.SideOptionPopUp:CreateButtons( f7_local5[f7_local0.BUTTON_DATA_REF], f7_arg2, f7_arg3, f7_arg0, f7_local5[f7_local0.EXEC_CAT_CODE_REF] )
		f7_arg0.SideOptionPopUp:SetSelectAllButtonHandler( f7_local6, f7_arg2, f7_arg0 )
	end
end

local f0_local1 = function ( f6_arg0, f6_arg1 )
	local f6_local0 = f6_arg0.buttonData
	local f6_local1 = Lobby.PrepLookForPartyPanelData( f6_local0 )
	if f6_local1.desc ~= nil and f6_local1.desc ~= "" then
		f6_arg1.description:setText( f6_local1.desc )
	else
		f6_arg1.description:setText( "" )
	end
	if f6_arg1.Icon:GetAlpha() == 0 then
		f6_arg1.Icon:SetAlpha( 1 )
	end
	f6_arg1.Icon:setImage( RegisterMaterial( f6_local0.icon ) )
end

local f0_local2 = function ( f5_arg0, f5_arg1 )
	local f5_local0 = f5_arg0.parentData
	local f5_local1 = f5_arg0.buttonData
	local f5_local2 = f5_local1[Lobby.LOOK_FOR_PARTY_METADATA.MAX_PARTY_SIZE_REF]
	local f5_local3 = f5_local1[Lobby.LOOK_FOR_PARTY_METADATA.EXEC_CODE_REF]
	Lobby.LOOK_FOR_PARTY_EXEC_INTERACTED = true
	if f5_arg0.selectedState == nil then
		f5_arg0.selectedState = false
	end
	if Lobby.LOOK_FOR_PARTY_EXEC_CODES[f5_local0] == nil then
		Lobby.LOOK_FOR_PARTY_EXEC_CODES[f5_local0] = {}
	end
	local f5_local4 = Lobby.LOOK_FOR_PARTY_EXEC_CODES[f5_local0].count
	local f5_local5 = false
	if f5_arg0.selectedState and 1 < f5_local4 then
		f5_arg0.selectedState = false
		f5_arg0.Selected:SetEquipped( f5_arg0.selectedState )
		Lobby.LOOK_FOR_PARTY_EXEC_CODES[f5_local0][f5_local3] = nil
		local f5_local6 = true
		Lobby.LOOK_FOR_PARTY_EXEC_CODES[f5_local0].count = Lobby.LOOK_FOR_PARTY_EXEC_CODES[f5_local0].count - 1
		Lobby.LookForPartySetMaxParty( f5_local3, f5_local2, {
			delete = true
		} )
		Lobby.AffectLocalLookForPartyBinaryData( f5_local1.btnIdx, 0 )
	elseif f5_arg0.selectedState == false then
		f5_arg0.selectedState = true
		Lobby.LOOK_FOR_PARTY_EXEC_CODES[f5_local0][f5_local3] = f5_local3
		f5_arg0.Selected:SetEquipped( f5_arg0.selectedState )
		Lobby.LOOK_FOR_PARTY_EXEC_CODES[f5_local0].count = Lobby.LOOK_FOR_PARTY_EXEC_CODES[f5_local0].count + 1
		Lobby.LookForPartySetMaxParty( f5_local3, f5_local2 )
		Lobby.AffectLocalLookForPartyBinaryData( f5_local1.btnIdx, 1 )
	end
	Lobby.SetLookForPartyStatusPanelData( Lobby.PrepLookForPartyPanelData( f5_local1 ), f5_arg0.selectedState )
	f5_arg0:dispatchEventToRoot( {
		immediate = true,
		name = "update_lfp_status_panel"
	} )
	Lobby.BuildLookForPartyExecString( Lobby.LOOK_FOR_PARTY_EXEC_CODES )
end

local f0_local3 = function ( f4_arg0, f4_arg1 )
	Lobby.lfpSideOptionsBtnCount = 1
	f0_local0( f4_arg0, Lobby.LOOK_FOR_PARTY_FLYOUT_DATA[Lobby.LOOK_FOR_PARTY_METADATA.GAME_MODE_DATA_REF], f0_local0, f0_local0 )
	f0_local0( f4_arg0, Lobby.LOOK_FOR_PARTY_FLYOUT_DATA[Lobby.LOOK_FOR_PARTY_METADATA.MISC_PARTY_DATA_REF], f0_local0, f0_local0 )
end

local f0_local4 = function ( f3_arg0 )
	local f3_local0 = "playlists"
	local f3_local1 = "play_styles"
	local f3_local2 = "communications"
	Lobby.LOOK_FOR_PARTY_EXEC_CODES[f3_local0].count = 0
	Lobby.LOOK_FOR_PARTY_EXEC_CODES[f3_local2].count = 0
	Lobby.LOOK_FOR_PARTY_EXEC_CODES[f3_local1].count = 0
	local f3_local3 = false
	local f3_local4 = false
	local f3_local5 = f3_arg0.SideOptionPopUp:GetButtons()
	for f3_local6 = 1, #f3_local5, 1 do
		local f3_local9 = f3_local5[f3_local6]
		local f3_local10 = Lobby.LOOK_FOR_PARTY_EXEC_CODES[f3_local9.parentData]
		if f3_local10 ~= nil then
			local f3_local11 = f3_local10[f3_local9.buttonData[Lobby.LOOK_FOR_PARTY_METADATA.EXEC_CODE_REF]] ~= nil
			if f3_local11 == true then
				f3_local9.selectedState = f3_local11
				f3_local9.Selected:SetEquipped( f3_local11 )
				if Lobby.LOOK_FOR_PARTY_EXEC_CODES[f3_local9.parentData].count == nil then
					Lobby.LOOK_FOR_PARTY_EXEC_CODES[f3_local9.parentData].count = 0
				end
				Lobby.LOOK_FOR_PARTY_EXEC_CODES[f3_local9.parentData].count = Lobby.LOOK_FOR_PARTY_EXEC_CODES[f3_local9.parentData].count + 1
			end
		end
	end
end

local f0_local5 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.ButtonHandler = f0_local0
	f2_arg0.description:setText( "" )
	f2_arg0.Icon:SetAlpha( 0 )
	f2_arg0.SideOptionPopUp.WidgetTitle:SetTitle( Engine.CBBHFCGDIC( "MENU/MY_PARTY_SETTINGS_BLADETITLE" ) )
	f0_local0( f2_arg0, f2_arg1 )
	f0_local0( f2_arg0 )
end

function BRLookForPartySettingsInput( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 700 * _1080p, 0, 1080 * _1080p )
	self.id = "BRLookForPartySettingsInput"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local SideOptionPopUp = nil
	
	SideOptionPopUp = MenuBuilder.BuildRegisteredType( "WZDataDrivenSideOptionPopUp", {
		controllerIndex = f1_local1
	} )
	SideOptionPopUp.id = "SideOptionPopUp"
	SideOptionPopUp.WidgetTitle.MenuTitle:setText( ToUpperCase( Engine.CBBHFCGDIC( "LUA_MENU/PARTY_SETTINGS" ) ), 0 )
	SideOptionPopUp.WidgetDescription:setText( Engine.CBBHFCGDIC( "MENU/PARTY_SETTINGS_DESC" ), 0 )
	SideOptionPopUp:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	self:addElement( SideOptionPopUp )
	self.SideOptionPopUp = SideOptionPopUp
	
	local Icon = nil
	
	Icon = LUI.UIImage.new()
	Icon.id = "Icon"
	Icon:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 100, _1080p * 157, _1080p * -143, _1080p * -85 )
	self:addElement( Icon )
	self.Icon = Icon
	
	local description = nil
	
	description = LUI.UIText.new()
	description.id = "description"
	description:setText( "Hello there, curious how this will wrap, so I'm going to keep this going.", 0 )
	description:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	description:SetAlignment( LUI.Alignment.Left )
	description:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 164, _1080p * 536, _1080p * 937, _1080p * 961 )
	self:addElement( description )
	self.description = description
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "BRLookForPartySettingsInput", BRLookForPartySettingsInput )
LockTable( _M )
