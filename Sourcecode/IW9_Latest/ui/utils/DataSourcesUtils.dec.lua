-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
DatasourceUtils = DatasourceUtils or {}
DatasourceUtils.BIT_ALLOCATE = {
	nil,
	1,
	3,
	7,
	15,
	31,
	63,
	-1,
	255,
	511,
	1023,
	2047,
	4095,
	8191,
	-1,
	32767,
	65535,
	131071,
	262143,
	524287,
	1048575,
	-1,
	4194303,
	8388607,
	16777215,
	33554431,
	67108863,
	134217727,
	-1,
	536870911,
	1073741823,
	2147483647,
	-8.98846788220529E+307
}
local f0_local0 = function ( f106_arg0, f106_arg1, f106_arg2 )
	local f106_local0 = tonumber( f106_arg1 )
	if not f106_local0 then
		f106_arg1 = f106_local0
	else
		
	end
	if type( f106_arg1 ) == "number" then
		return f106_arg0:GetDataSourceAtIndex( f106_arg1 )
	else
		return f106_arg2[f106_arg1]
	end
end

LUI.DataSourceFromModel = LUI.Class()
LUI.DataSourceFromModel.init = function ( f105_arg0, f105_arg1 )
	f105_arg0._defaultValue = f105_arg1
end

LUI.DataSourceFromModel.GetModel = function ( f104_arg0, f104_arg1 )
	local f104_local0 = f104_arg0:FindModel( f104_arg1 )
	if not f104_local0 then
		f104_local0 = f104_arg0:CreateModel( f104_arg1 )
		if f104_arg0._defaultValue ~= nil then
			DataModel[0x83C9B5DE1D9371]( f104_local0, f104_arg0._defaultValue )
		end
	end
	assert( f104_local0 )
	return f104_local0
end

LUI.DataSourceFromModel.GetValue = function ( f103_arg0, f103_arg1, f103_arg2 )
	return LUI.DataSourceFromModel.GetValueFromModel( f103_arg0:GetModel( f103_arg1 ), f103_arg2 )
end

LUI.DataSourceFromModel.GetValueFromModel = function ( f102_arg0, f102_arg1 )
	local f102_local0 = DataModel[0x614D394F6F9A18D]( f102_arg0 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xE9F837F031BEBBE ) and f102_arg1 and f102_arg1.defaultValue ~= nil and f102_local0 == nil then
		return f102_arg1.defaultValue
	else
		return f102_local0
	end
end

LUI.DataSourceFromModel.SetValue = function ( f101_arg0, f101_arg1, f101_arg2 )
	return DataModel[0x83C9B5DE1D9371]( f101_arg0:GetModel( f101_arg1 ), f101_arg2 )
end

LUI.DataSourceFromModel.GetDataSourceForSubmodel = function ( f100_arg0, f100_arg1, f100_arg2 )
	return LUI.DataSourceForSubmodel.new( f100_arg0, f100_arg1, f100_arg2 )
end

LUI.DataSourceFromModel.DataSourceForSubmodelUserdata = function ( f99_arg0, f99_arg1, f99_arg2 )
	return LUI.DataSourceForSubmodelUserdata.new( f99_arg0, f99_arg1, f99_arg2 )
end

LUI.DataSourceFromModel.Filter = function ( f98_arg0, f98_arg1, f98_arg2 )
	return LUI.FilteredDataSource.new( f98_arg0, f98_arg1, f98_arg2 )
end

LUI.DataSourceFromModel.FilterTo = function ( f97_arg0, f97_arg1, f97_arg2, f97_arg3 )
	return LUI.FilterToDataSource.new( f97_arg0, f97_arg1, f97_arg2, f97_arg3 )
end

LUI.DataSourceFromModel.IsPerController = function ( f96_arg0 )
	assert( false )
end

LUI.DataSourceInGlobalModel = LUI.Class( LUI.DataSourceFromModel )
LUI.DataSourceInGlobalModel.init = function ( f95_arg0, f95_arg1, f95_arg2 )
	LUI.DataSourceInGlobalModel.super.init( f95_arg0, f95_arg2 )
	f95_arg0._modelPath = f95_arg1
end

LUI.DataSourceInGlobalModel.FindModel = function ( f94_arg0, f94_arg1 )
	return DataModel[0x40E824FE270E174]( DataModel[0x8DF2E5447F384B9](), f94_arg0._modelPath )
end

LUI.DataSourceInGlobalModel.CreateModel = function ( f93_arg0, f93_arg1 )
	return DataModel[0xA798E4552F5E872]( DataModel[0x8DF2E5447F384B9](), f93_arg0._modelPath )
end

LUI.DataSourceInGlobalModel.IsPerController = function ( f92_arg0 )
	return false
end

LUI.DataSourceInControllerModel = LUI.Class( LUI.DataSourceFromModel )
LUI.DataSourceInControllerModel.init = function ( f91_arg0, f91_arg1, f91_arg2 )
	LUI.DataSourceInControllerModel.super.init( f91_arg0, f91_arg2 )
	f91_arg0._modelPath = f91_arg1
end

LUI.DataSourceInControllerModel.FindModel = function ( f90_arg0, f90_arg1 )
	return DataModel[0x40E824FE270E174]( DataModel[0x4DF5CFBC1771947]( f90_arg1 ), f90_arg0._modelPath )
end

LUI.DataSourceInControllerModel.CreateModel = function ( f89_arg0, f89_arg1 )
	return DataModel[0xA798E4552F5E872]( DataModel[0x4DF5CFBC1771947]( f89_arg1 ), f89_arg0._modelPath )
end

LUI.DataSourceInControllerModel.IsPerController = function ( f88_arg0 )
	return true
end

LUI.DataSourceFromOmnvar = LUI.Class( LUI.DataSourceFromModel )
LUI.DataSourceFromOmnvar.init = function ( f87_arg0, f87_arg1 )
	LUI.DataSourceFromOmnvar.super.init( f87_arg0 )
	local f87_local0 = assert
	local f87_local1
	if type( f87_arg1 ) ~= "string" or 0 >= #f87_arg1 then
		f87_local1 = false
	else
		f87_local1 = true
	end
	f87_local0( f87_local1 )
	f87_arg0._omnvarName = f87_arg1
end

LUI.DataSourceFromOmnvar.FindModel = function ( f86_arg0, f86_arg1 )
	local f86_local0 = DataModel[0x240BC8B7F2A32FC]( f86_arg0._omnvarName, f86_arg1 )
	assert( f86_local0, "Could not find a model for omnvar '" .. tostring( f86_arg0._omnvarName ) .. "'. It is most likely missing from omnvars.csv." )
	return f86_local0
end

LUI.DataSourceFromOmnvar.CreateModel = function ( f85_arg0, f85_arg1 )
	assert( false )
end

LUI.DataSourceFromOmnvar.IsPerController = function ( f84_arg0 )
	if CONDITIONS.InGame() then
		return Game[0x9CDFFBC21EFFCB6]( f84_arg0._omnvarName )
	else
		return Engine[0x9CDFFBC21EFFCB6]( f84_arg0._omnvarName )
	end
end

LUI.DataSourceForSubmodel = LUI.Class( LUI.DataSourceFromModel )
LUI.DataSourceForSubmodel.init = function ( f83_arg0, f83_arg1, f83_arg2, f83_arg3 )
	LUI.DataSourceForSubmodel.super.init( f83_arg0, f83_arg3 )
	f83_arg0._baseDataSource = f83_arg1
	f83_arg0._modelPath = f83_arg2
end

LUI.DataSourceForSubmodel.FindModel = function ( f82_arg0, f82_arg1 )
	local f82_local0 = f82_arg0._baseDataSource:GetModel( f82_arg1 )
	if f82_local0 then
		return DataModel[0x40E824FE270E174]( f82_local0, f82_arg0._modelPath )
	else
		
	end
end

LUI.DataSourceForSubmodel.CreateModel = function ( f81_arg0, f81_arg1 )
	return DataModel[0xA798E4552F5E872]( f81_arg0._baseDataSource:GetModel( f81_arg1 ), f81_arg0._modelPath )
end

LUI.DataSourceForSubmodel.IsPerController = function ( f80_arg0 )
	return f80_arg0._baseDataSource:IsPerController()
end

LUI.DataSourceForSubmodelUserdata = LUI.Class( LUI.DataSourceFromModel )
LUI.DataSourceForSubmodelUserdata.init = function ( f79_arg0, f79_arg1, f79_arg2, f79_arg3 )
	LUI.DataSourceForSubmodelUserdata.super.init( f79_arg0, f79_arg3 )
	f79_arg0._baseUserData = f79_arg1
	f79_arg0._modelPath = f79_arg2
end

LUI.DataSourceForSubmodelUserdata.FindModel = function ( f78_arg0, f78_arg1 )
	return DataModel[0x40E824FE270E174]( f78_arg0._baseUserData, f78_arg0._modelPath )
end

LUI.DataSourceForSubmodelUserdata.CreateModel = function ( f77_arg0, f77_arg1 )
	return DataModel[0xA798E4552F5E872]( f77_arg0._baseUserData, f77_arg0._modelPath )
end

LUI.DataSourceForSubmodelUserdata.IsPerController = function ( f76_arg0 )
	return false
end

LUI.DataSourceFromList = LUI.Class( nil, f0_local0 )
LUI.DataSourceFromList.init = function ( f75_arg0, f75_arg1 )
	if type( f75_arg1 ) == "table" then
		assert( f75_arg1.GetModel )
		f75_arg0._countDataSource = f75_arg1
	else
		assert( 0 <= f75_arg1 )
		f75_arg0._countValue = f75_arg1
	end
end

LUI.DataSourceFromList.GetDataSourceAtIndex = function ( f74_arg0, f74_arg1, f74_arg2 )
	local f74_local0 = nil
	if f74_arg0._cache then
		f74_local0 = LUI.DataSourceFromList.FetchDataSourceAtIndexFromCache( f74_arg0, f74_arg1, f74_arg2 )
		if not f74_local0 then
			f74_local0 = f74_arg0:MakeDataSourceAtIndex( f74_arg1, f74_arg2 )
			LUI.DataSourceFromList.CacheDataSourceAtIndex( f74_arg0, f74_local0, f74_arg1, f74_arg2 )
		end
	else
		f74_local0 = f74_arg0:MakeDataSourceAtIndex( f74_arg1, f74_arg2 )
	end
	return f74_local0
end

LUI.DataSourceFromList.FetchDataSourceAtIndexFromCache = function ( f73_arg0, f73_arg1, f73_arg2 )
	assert( f73_arg0._cache )
	if not f73_arg2 then
		f73_arg2 = -1
	end
	if not f73_arg0._cache[f73_arg2] then
		f73_arg0._cache[f73_arg2] = {}
		setmetatable( f73_arg0._cache[f73_arg2], {
			__mode = "v"
		} )
	end
	return f73_arg0._cache[f73_arg2][f73_arg1]
end

LUI.DataSourceFromList.CacheDataSourceAtIndex = function ( f72_arg0, f72_arg1, f72_arg2, f72_arg3 )
	assert( f72_arg0._cache )
	if not f72_arg3 then
		f72_arg3 = -1
	end
	f72_arg0._cache[f72_arg3][f72_arg2] = f72_arg1
end

LUI.DataSourceFromList.GetCountModel = function ( f71_arg0, f71_arg1 )
	if f71_arg0._countDataSource then
		return f71_arg0._countDataSource:GetModel( f71_arg1 )
	else
		return nil
	end
end

LUI.DataSourceFromList.GetCountValue = function ( f70_arg0, f70_arg1 )
	if f70_arg0._countValue then
		return f70_arg0._countValue
	else
		return DataModel[0x614D394F6F9A18D]( f70_arg0:GetCountModel( f70_arg1 ) )
	end
end

LUI.DataSourceFromList.GetDefaultFocusIndex = function ( f69_arg0, f69_arg1 )
	return nil
end

LUI.DataSourceFromList.Decorate = function ( f66_arg0, f66_arg1 )
	assert( type( f66_arg1 ) == "function" )
	local f66_local0 = LUI.DataSourceFromList.new( f66_arg0._countDataSource or f66_arg0._countValue )
	f66_local0.GetDataSourceAtIndex = function ( f67_arg0, f67_arg1, f67_arg2 )
		local f67_local0 = nil
		local f67_local1 = function ()
			local f68_local0 = f67_arg0:GetDataSourceAtIndex( f67_arg0, f67_arg0 )
			assert( f68_local0 )
			f67_arg0 = f67_arg0( f67_arg0, f68_local0, f67_arg0 )
			setmetatable( f67_arg0, {
				__index = f68_local0
			} )
		end
		
		if f66_arg0._cache then
			f67_local0 = LUI.DataSourceFromList.FetchDataSourceAtIndexFromCache( f66_arg0, f67_arg1, f67_arg2 )
			if not f67_local0 then
				f67_local1()
				LUI.DataSourceFromList.CacheDataSourceAtIndex( f66_arg0, f67_local0, f67_arg1, f67_arg2 )
			end
		else
			f67_local1()
		end
		return f67_local0
	end
	
	return f66_local0
end

LUI.DataSourceFromList.SetCachingEnabled = function ( f65_arg0, f65_arg1 )
	if f65_arg1 then
		f65_arg0._cache = f65_arg0._cache or {}
	else
		f65_arg0._cache = nil
	end
end

LUI.DataSourceFromList.ClearCache = function ( f64_arg0 )
	if f64_arg0._cache then
		f64_arg0._cache = {}
	end
end

LUI.FeedDataSource = LUI.Class( LUI.DataSourceFromList )
LUI.FeedDataSource.init = function ( f61_arg0, f61_arg1, f61_arg2, f61_arg3 )
	assert( 0 < f61_arg2 )
	assert( type( f61_arg3 ) == "table" )
	LUI.FeedDataSource.super.init( f61_arg0, f61_arg2 )
	f61_arg0._bufferSize = f61_arg2
	f61_arg0._defaults = {}
	f61_arg0._dataSources = {}
	f61_arg0._baseDataSource = f61_arg1
	f61_arg0._lifetime = LUI.SubscriptionsHolder.new()
	if f61_arg1:IsPerController() then
		for f61_local0 = 0, Engine[0xB686A0A723E6442]() - 1, 1 do
			if Engine[0x10A5732AB1DAE9F]( f61_local0 ) then
				f61_arg0:InitModels( f61_local0, f61_arg3 )
				f61_arg0._lifetime:SubscribeToModelInC( f61_arg0:GetPushModel( f61_local0 ), function ( f63_arg0 )
					if DataModel[0x614D394F6F9A18D]( f63_arg0 ) == true then
						f61_arg0:PushData( f61_arg0 )
					end
				end, nil )
			end
		end
	else
		f61_arg0:InitModels( 0, f61_arg3 )
		f61_arg0._lifetime:SubscribeToModelInC( dataSource:GetModel( 0 ), function ( f62_arg0 )
			if DataModel[0x614D394F6F9A18D]( f62_arg0 ) == true then
				f61_arg0:PushData( 0 )
			end
		end, nil )
	end
	f61_arg0:InitBufferDataSources()
end

LUI.FeedDataSource.GetDataSourceAtIndex = function ( f60_arg0, f60_arg1, f60_arg2 )
	local f60_local0 = f60_arg1 % f60_arg0._bufferSize
	assert( type( f60_arg0._dataSources[f60_local0] ) == "table" )
	return f60_arg0._dataSources[f60_local0]
end

LUI.FeedDataSource.GetPushModel = function ( f59_arg0, f59_arg1 )
	return DataModel[0xA798E4552F5E872]( f59_arg0._baseDataSource:GetModel( f59_arg1 ), "push" )
end

LUI.FeedDataSource.GetTTLModel = function ( f58_arg0, f58_arg1 )
	return DataModel[0xA798E4552F5E872]( f58_arg0:GetPushModel( f58_arg1 ), "TTL" )
end

LUI.FeedDataSource.ClearContent = function ( f57_arg0, f57_arg1 )
	DataModel[0x83C9B5DE1D9371]( f57_arg0:GetNextWriteBufferIndexModel( f57_arg1 ), 0 )
end

LUI.FeedDataSource.InitModels = function ( f56_arg0, f56_arg1, f56_arg2 )
	local f56_local0 = f56_arg0._baseDataSource:GetModel( f56_arg1 )
	local f56_local1 = DataModel[0xA798E4552F5E872]( f56_local0, "push" )
	local f56_local2 = DataModel[0xA798E4552F5E872]( f56_local0, "buffer" )
	DataModel[0x83C9B5DE1D9371]( DataModel[0xA798E4552F5E872]( f56_local2, "next" ), 0 )
	for f56_local3 = 0, f56_arg0._bufferSize - 1, 1 do
		DataModel[0xA798E4552F5E872]( f56_local2, tostring( f56_local3 ) )
	end
	f56_arg0:InitBufferModels( f56_arg1, f56_arg2, "" )
end

LUI.FeedDataSource.InitBufferModels = function ( f55_arg0, f55_arg1, f55_arg2, f55_arg3 )
	local f55_local0 = DataModel[0xA798E4552F5E872]( f55_arg0._baseDataSource:GetModel( f55_arg1 ), "push" )
	for f55_local7, f55_local8 in pairs( f55_arg2 ) do
		local f55_local9 = f55_arg3 .. f55_local7
		assert( type( f55_local7 ) == "string" )
		if type( f55_local8 ) == "table" then
			f55_arg0:InitBufferModels( f55_arg1, f55_local8, f55_local9 .. "." )
		end
		DataModel[0xA798E4552F5E872]( f55_local0, f55_local9 )
		f55_arg0._defaults[f55_local9] = f55_local8
		for f55_local4 = 0, f55_arg0._bufferSize - 1, 1 do
			DataModel[0x83C9B5DE1D9371]( DataModel[0xA798E4552F5E872]( f55_arg0:GetBufferModel( f55_local4, f55_arg1 ), f55_local9 ), f55_local8 )
		end
	end
end

LUI.FeedDataSource.InitBufferDataSources = function ( f54_arg0 )
	for f54_local0 = 0, f54_arg0._bufferSize - 1, 1 do
		f54_arg0._dataSources[f54_local0] = {}
		for f54_local10, f54_local11 in pairs( f54_arg0._defaults ) do
			local f54_local12 = LUI.Split( f54_local10, "\\." )
			local f54_local6 = f54_arg0._dataSources[f54_local0]
			for f54_local7, f54_local8 in ipairs( f54_local12 ) do
				if f54_local7 < #f54_local12 then
					f54_local6[f54_local8] = f54_local6[f54_local8] or {}
					f54_local6 = f54_local6[f54_local8]
				else
					f54_local6[f54_local8] = f54_arg0._baseDataSource:GetDataSourceForSubmodel( "buffer." .. tostring( f54_local0 ) .. "." .. f54_local10 )
				end
			end
		end
	end
end

LUI.FeedDataSource.PushData = function ( f53_arg0, f53_arg1 )
	local f53_local0 = f53_arg0:GetPushModel( f53_arg1 )
	assert( DataModel[0x614D394F6F9A18D]( f53_local0 ) == true )
	local f53_local1 = {}
	for f53_local5, f53_local6 in pairs( f53_arg0._defaults ) do
		assert( type( f53_local5 ) == "string" )
		f53_local1[f53_local5] = f53_local6
		local f53_local7 = DataModel[0x614D394F6F9A18D]( DataModel[0x40E824FE270E174]( f53_local0, f53_local5 ) )
		if f53_local7 ~= nil then
			f53_local1[f53_local5] = f53_local7
		end
	end
	f53_local3 = f53_arg0:GetBufferModel( f53_arg0:GetNextWriteBufferIndex( f53_arg1 ), f53_arg1 )
	for f53_local7, f53_local8 in pairs( f53_local1 ) do
		assert( type( f53_local7 ) == "string" )
		DataModel[0x83C9B5DE1D9371]( DataModel[0x40E824FE270E174]( f53_local3, f53_local7 ), f53_local8 )
	end
	f53_arg0:IncrementNextWriteBufferIndex( f53_arg1 )
	DataModel[0x83C9B5DE1D9371]( f53_local0, false )
end

LUI.FeedDataSource.GetNextWriteBufferIndexModel = function ( f52_arg0, f52_arg1 )
	return DataModel[0x40E824FE270E174]( f52_arg0._baseDataSource:GetModel( f52_arg1 ), "buffer.next" )
end

LUI.FeedDataSource.GetNextWriteBufferIndex = function ( f51_arg0, f51_arg1 )
	return DataModel[0x614D394F6F9A18D]( f51_arg0:GetNextWriteBufferIndexModel( f51_arg1 ) )
end

LUI.FeedDataSource.IncrementNextWriteBufferIndex = function ( f50_arg0, f50_arg1 )
	DataModel[0x83C9B5DE1D9371]( f50_arg0:GetNextWriteBufferIndexModel( f50_arg1 ), (f50_arg0:GetNextWriteBufferIndex( f50_arg1 ) + 1) % f50_arg0._bufferSize )
end

LUI.FeedDataSource.GetBufferModel = function ( f49_arg0, f49_arg1, f49_arg2 )
	local f49_local0 = DataModel[0x40E824FE270E174]( f49_arg0._baseDataSource:GetModel( f49_arg2 ), "buffer." .. tostring( f49_arg1 ) )
	assert( type( f49_local0 ) == "userdata" )
	return f49_local0
end

LUI.BaseAggregateDataSource = LUI.Class( LUI.DataSourceForSubmodel )
LUI.BaseAggregateDataSource.init = function ( f48_arg0, f48_arg1, f48_arg2, f48_arg3, f48_arg4 )
	LUI.BaseAggregateDataSource.super.init( f48_arg0, f48_arg1, f48_arg2 )
	assert( type( f48_arg3 ) == "table" )
	assert( type( f48_arg4 ) == "function" )
	assert( 0 < #f48_arg3 )
	f48_arg0._inControllerModel = f48_arg1:IsPerController()
	f48_arg0._lifetime = LUI.SubscriptionsHolder.new()
	f48_arg0._aggregateFunction = f48_arg4
	f48_arg0._controllersSubscribed = {}
	f48_arg0._inputDataSources = f48_arg3
end

LUI.BaseAggregateDataSource.UpdateAggregateValue = function ( f47_arg0, f47_arg1 )
	local f47_local0 = f47_arg0._aggregateFunction( f47_arg1 )
	if f47_local0 ~= nil then
		DataModel[0x83C9B5DE1D9371]( f47_arg0:GetModel( f47_arg1 ), f47_local0 )
	end
end

LUI.BaseAggregateDataSource.SubscribeForController = function ( f45_arg0, f45_arg1 )
	if not f45_arg0._controllersSubscribed[f45_arg1] then
		f45_arg0._controllersSubscribed[f45_arg1] = true
		for f45_local3, f45_local4 in ipairs( f45_arg0._inputDataSources ) do
			f45_arg0._lifetime:SubscribeToModelInC( f45_local4:GetModel( f45_arg1 ), function ( f46_arg0 )
				f45_arg0:UpdateAggregateValue( f45_arg0 )
			end, nil, true )
		end
		f45_arg0:UpdateAggregateValue( f45_arg1 )
	end
end

LUI.BaseAggregateDataSource.IsPerController = function ( f44_arg0 )
	return f44_arg0._inControllerModel
end

LUI.BaseAggregateDataSource.FindModel = function ( f43_arg0, f43_arg1 )
	f43_arg0:SubscribeForController( f43_arg1 )
	return LUI.BaseAggregateDataSource.super.FindModel( f43_arg0, f43_arg1 )
end

LUI.AggregateDataSource = LUI.Class( LUI.BaseAggregateDataSource )
LUI.AggregateDataSource.init = function ( f42_arg0, f42_arg1, f42_arg2, f42_arg3, f42_arg4 )
	assert( type( f42_arg1 ) == "table" )
	assert( type( f42_arg2 ) == "table" )
	assert( type( f42_arg3 ) == "string" )
	assert( type( f42_arg4 ) == "function" )
	LUI.AggregateDataSource.super.init( f42_arg0, f42_arg1, f42_arg3, f42_arg2, f42_arg4 )
end

LUI.FilteredDataSource = LUI.Class( LUI.BaseAggregateDataSource )
LUI.FilteredDataSource.init = function ( f40_arg0, f40_arg1, f40_arg2, f40_arg3 )
	assert( type( f40_arg1 ) == "table" )
	assert( type( f40_arg2 ) == "string" )
	assert( type( f40_arg3 ) == "function" )
	LUI.FilteredDataSource.super.init( f40_arg0, f40_arg1, f40_arg2, {
		f40_arg1
	}, function ( f41_arg0 )
		local f41_local0 = f40_arg0:GetValue( f41_arg0 )
		if f41_local0 ~= nil then
			return f40_arg0( f41_local0, f41_arg0 )
		else
			
		end
	end )
end

LUI.FilterToDataSource = LUI.Class( LUI.BaseAggregateDataSource )
LUI.FilterToDataSource.init = function ( f38_arg0, f38_arg1, f38_arg2, f38_arg3, f38_arg4 )
	assert( type( f38_arg1 ) == "table" )
	assert( type( f38_arg2 ) == "table" )
	assert( type( f38_arg3 ) == "string" )
	assert( type( f38_arg4 ) == "function" )
	LUI.FilterToDataSource.super.init( f38_arg0, f38_arg2, f38_arg3, {
		f38_arg1
	}, function ( f39_arg0 )
		local f39_local0 = f38_arg0:GetValue( f39_arg0 )
		if f39_local0 ~= nil then
			return f38_arg0( f39_local0, f39_arg0 )
		else
			
		end
	end )
end

local f0_local1 = {
	GetDataSourceForField = function ( f37_arg0, f37_arg1 )
		assert( f37_arg0._statsGroup )
		assert( f37_arg0._gameMode )
		assert( f37_arg0._DDLState )
		assert( f37_arg0._cachedSubDataSources )
		local f37_local0 = f37_arg0._cachedSubDataSources[f37_arg1]
		if not f37_local0 then
			local f37_local1 = f37_arg0._DDLState[f37_arg1]
			assert( f37_local1, "Error navigating playerdata, from field " .. tostring( f37_arg0._DDLState ) .. " with key " .. tostring( f37_arg1 ) )
			if PlayerData[0x7391753D2D9AC96]( f37_local1 ) then
				f37_local0 = LUI.ListDataSourceFromPlayerDataArray.new( f37_arg0._statsGroup, f37_arg0._gameMode, f37_local1 )
			else
				f37_local0 = LUI.DataSourceFromPlayerData.new( f37_arg0._statsGroup, f37_arg0._gameMode, f37_local1 )
			end
			f37_arg0._cachedSubDataSources[f37_arg1] = f37_local0
		end
		return f37_local0
	end
}
LUI.DataSourceFromPlayerData = LUI.Class( LUI.DataSourceInControllerModel, function ( f36_arg0, f36_arg1, f36_arg2 )
	if f36_arg2[f36_arg1] ~= nil then
		return f36_arg2[f36_arg1]
	else
		return f36_arg0:GetDataSourceForField( f36_arg1 )
	end
end )
LUI.DataSourceFromPlayerData.GetDataSourceForField = f0_local1.GetDataSourceForField
LUI.DataSourceFromPlayerData.init = function ( f35_arg0, f35_arg1, f35_arg2, f35_arg3 )
	LUI.DataSourceFromPlayerData.super.init( f35_arg0, modelPath )
	f35_arg0._statsGroup = f35_arg1
	f35_arg0._gameMode = f35_arg2
	if not f35_arg3 then
		f35_arg0._DDLState = PlayerData[0x938D933E19C1676]( f35_arg1, f35_arg2 )
	else
		f35_arg0._DDLState = f35_arg3
	end
	assert( f35_arg0._statsGroup )
	assert( f35_arg0._gameMode )
	assert( f35_arg0._DDLState )
	f35_arg0._cachedSubDataSources = setmetatable( {}, {
		__mode = "v"
	} )
end

LUI.DataSourceFromPlayerData.FindModel = function ( f34_arg0, f34_arg1 )
	local f34_local0 = PlayerData[0x1C1A54657E0DB5]( f34_arg0._statsGroup, f34_arg0._gameMode, f34_arg0._DDLState, f34_arg1 )
	assert( f34_local0 )
	return f34_local0
end

LUI.DataSourceFromPlayerData.CreateModel = function ( f33_arg0, f33_arg1 )
	assert( false )
end

LUI.DataSourceFromPlayerData.SetValue = function ( f32_arg0, f32_arg1, f32_arg2 )
	assert( f32_arg1 )
	assert( f32_arg2 ~= nil )
	PlayerData[0xB0640CF188F8120]( f32_arg0._statsGroup, f32_arg0._gameMode, f32_arg0._DDLState, f32_arg1, f32_arg2 )
end

LUI.ListDataSourceFromPlayerDataArray = LUI.Class( LUI.DataSourceFromList, f0_local0 )
LUI.ListDataSourceFromPlayerDataArray.GetDataSourceForField = f0_local1.GetDataSourceForField
LUI.ListDataSourceFromPlayerDataArray.init = function ( f31_arg0, f31_arg1, f31_arg2, f31_arg3 )
	LUI.ListDataSourceFromPlayerDataArray.super.init( f31_arg0, #f31_arg3 )
	assert( f31_arg1 )
	assert( f31_arg3 )
	f31_arg0._statsGroup = f31_arg1
	f31_arg0._gameMode = f31_arg2
	f31_arg0._DDLState = f31_arg3
	f31_arg0._cachedSubDataSources = setmetatable( {}, {
		__mode = "v"
	} )
end

LUI.ListDataSourceFromPlayerDataArray.GetDataSourceAtIndex = function ( f30_arg0, f30_arg1, f30_arg2 )
	return f30_arg0:GetDataSourceForField( f30_arg1 )
end

LUI.ListDataSourceFromPlayerDataArray.length = function ( f29_arg0 )
	return #f29_arg0._DDLState
end

LUI.LazyDataSource = LUI.Class( LUI.DataSourceFromModel, function ( f28_arg0, f28_arg1, f28_arg2 )
	if f28_arg2[f28_arg1] ~= nil then
		return f28_arg2[f28_arg1]
	else
		self:SetupLazyDataSource()
		return self._lazyDataSource[f28_arg1]
	end
end )
LUI.LazyDataSource.init = function ( f27_arg0, f27_arg1 )
	LUI.LazyDataSource.super.init( f27_arg0 )
	f27_arg0._lazyFunction = f27_arg1
	f27_arg0._lazyDataSource = false
end

LUI.LazyDataSource.FindModel = function ( f26_arg0, f26_arg1 )
	f26_arg0:SetupLazyDataSource()
	return f26_arg0._lazyDataSource:GetModel( f26_arg1 )
end

LUI.LazyDataSource.CreateModel = function ( f25_arg0, f25_arg1 )
	assert( false, "Cannot create the model of a lazy data source." )
end

LUI.LazyDataSource.IsPerController = function ( f24_arg0 )
	f24_arg0:SetupLazyDataSource()
	return f24_arg0._lazyDataSource:IsPerController()
end

LUI.LazyDataSource.SetupLazyDataSource = function ( f23_arg0 )
	if not f23_arg0._lazyDataSource then
		f23_arg0._lazyDataSource = f23_arg0._lazyFunction()
	end
end

LUI.LazyDataSource.SetValue = function ( f22_arg0, f22_arg1, f22_arg2 )
	f22_arg0:SetupLazyDataSource()
	return f22_arg0._lazyDataSource:SetValue( f22_arg1, f22_arg2 )
end

LUI.LazyDataSource.Filter = function ( f20_arg0, f20_arg1, f20_arg2 )
	return LUI.LazyDataSource.new( function ()
		f20_arg0:SetupLazyDataSource()
		return f20_arg0._lazyDataSource:Filter( f20_arg0, f20_arg0 )
	end
	 )
end

LUI.LazyDataSource.FilterTo = function ( f18_arg0, f18_arg1, f18_arg2, f18_arg3 )
	return LUI.LazyDataSource.new( function ()
		f18_arg0:SetupLazyDataSource()
		return f18_arg0._lazyDataSource:FilterTo( f18_arg0, f18_arg0, f18_arg0 )
	end
	 )
end

LUI.LazyDataSource.ClearLazyDataSource = function ( f17_arg0 )
	f17_arg0._lazyDataSource = false
end

LUI.GetDataSourceWithAppendPath = function ( f16_arg0, f16_arg1 )
	LUI.AssertDescriptive( {
		expectedType = "string",
		element = f16_arg1
	} )
	assert( f16_arg1 ~= "", "Datasource 'appendPath', empty string not allowed" )
	if not f16_arg0 then
		return nil
	end
	local f16_local0 = LUI.Split( f16_arg1, "." )
	LUI.AssertDescriptive( {
		expectedType = "table",
		element = f16_local0
	} )
	for f16_local4, f16_local5 in ipairs( f16_local0 ) do
		LUI.AssertDescriptive( {
			expectedType = "string",
			element = f16_local5
		} )
		local f16_local6 = f16_arg0[f16_local5]
		if not f16_local6 then
			return nil
		end
		f16_arg0 = f16_local6
	end
	return f16_arg0
end

LUI.UpdateDataSourcesFromDataTable = function ( f15_arg0, f15_arg1, f15_arg2, f15_arg3, f15_arg4 )
	if not f15_arg4 then
		f15_arg4 = {}
	end
	local f15_local0 = f15_arg4.dataSourcesRoot
	if not f15_local0 then
		f15_local0 = f15_arg3( f15_arg1 )
	end
	local f15_local1 = f15_arg4.dataTableFormatHandler
	local f15_local2 = f15_arg4.listHandlersData or {}
	local f15_local3
	if f15_local1 then
		f15_local3 = f15_local1( f15_arg0, f15_arg2 )
		if not f15_local3 then
		
		else
			local f15_local4 = f15_local3.__orderedFields
			if not f15_local4 then
				f15_local4 = Table.GetKeys( f15_local3 )
			end
			for f15_local9, f15_local10 in ipairs( f15_local4 ) do
				local f15_local11 = f15_local3[f15_local10]
				local f15_local12 = f15_arg1 .. "." .. f15_local10
				if type( f15_local11 ) == "table" then
					local f15_local8 = f15_local2[f15_local10]
					if f15_local8 then
						f15_local0[f15_local10] = LUI.ConvertDataTableToDataSourcesList( f15_local12, f15_local11, f15_local8 )
					else
						f15_local0[f15_local10] = LUI.UpdateDataSourcesFromDataTable( f15_arg0, f15_local12, f15_local11, f15_arg3, {
							listHandlersData = f15_local2
						} )
						goto basicblock_16:
					end
				end
				local f15_local8 = f15_arg3( f15_local12 )
				f15_local8:SetValue( f15_arg0, f15_local11 )
				f15_local0[f15_local10] = f15_local8
			end
			return f15_local0
		end
	end
	f15_local3 = f15_arg2
end

LUI.ConvertDataTableToDataSourcesList = function ( f14_arg0, f14_arg1, f14_arg2 )
	local f14_local0 = LUI.DataSourceFromList.new( Table.CountKeys( f14_arg1 ) )
	f14_local0.MakeDataSourceAtIndex = f14_arg2.getFunction( f14_arg0, f14_arg1 )
	return f14_local0
end

LUI.UpdateGlobalDataSourcesFromDataTable = function ( f13_arg0, f13_arg1, f13_arg2, f13_arg3 )
	return LUI.UpdateDataSourcesFromDataTable( f13_arg0, f13_arg1, f13_arg2, LUI.DataSourceInGlobalModel.new, f13_arg3 )
end

LUI.UpdateControllerDataSourcesFromDataTable = function ( f12_arg0, f12_arg1, f12_arg2, f12_arg3 )
	return LUI.UpdateDataSourcesFromDataTable( f12_arg0, f12_arg1, f12_arg2, LUI.DataSourceInControllerModel.new, f12_arg3 )
end

LUI.ConvertDataSourceTreeToDataTable = function ( f11_arg0, f11_arg1 )
	local f11_local0 = {}
	for f11_local4, f11_local5 in pairs( f11_arg1 ) do
		if type( f11_local4 ) ~= "string" or not String.BeginsWith( f11_local4, "_" ) then
			if f11_local5.MakeDataSourceAtIndex then
				f11_local0[f11_local4] = LUI.ConvertDataSourcesListToDataTable( f11_arg0, f11_local5 )
			end
			if 1 < Table.CountKeys( f11_local5 ) then
				f11_local0[f11_local4] = LUI.ConvertDataSourceTreeToDataTable( f11_arg0, f11_local5 )
			else
				f11_local0[f11_local4] = f11_local5:GetValue( f11_arg0 )
			end
		end
	end
	return f11_local0
end

LUI.ConvertDataSourcesListToDataTable = function ( f10_arg0, f10_arg1 )
	local f10_local0 = {}
	local f10_local1 = f10_arg1:GetCountValue( f10_arg0 )
	for f10_local2 = 0, f10_local1 - 1, 1 do
		table.insert( f10_local0, LUI.ConvertDataSourceTreeToDataTable( f10_arg0, f10_arg1:GetDataSourceAtIndex( f10_local2, f10_arg0 ) ) )
	end
	return f10_local0
end

LUI.SetupDataSourceUpdate = function ( f7_arg0, f7_arg1, f7_arg2, f7_arg3, f7_arg4, f7_arg5, f7_arg6 )
	if not f7_arg6 then
		f7_arg6 = {}
	end
	local f7_local0 = f7_arg6.isGlobal
	local f7_local1 = f7_arg6.rootField
	local f7_local2 = f7_arg6.listHandlersData
	f7_arg0:addEventHandler( "on_close", function ( f9_arg0, f9_arg1 )
		WipeAllModelsAtPath( f7_arg0 )
	end )
	if not f7_local0 or not LUI.UpdateGlobalDataSourcesFromDataTable then
		local f7_local3 = LUI.UpdateControllerDataSourcesFromDataTable
	end
	local f7_local4 = function ( f8_arg0, f8_arg1, f8_arg2 )
		return f7_arg0( f8_arg1, f7_arg0, f8_arg2, {
			dataSourcesRoot = f8_arg0[f7_arg0],
			dataTableFormatHandler = f7_arg0,
			listHandlersData = f7_arg0
		} )
	end
	
	f7_arg0[f7_arg2] = f7_local4
	return f7_local4( f7_arg0, f7_arg1, f7_arg4 )
end

DatasourceUtils.WipeAllModelsAtPath = function ( f6_arg0 )
	WipeAllModelsAtPath( f6_arg0 )
end

DatasourceUtils.AnimateSequenceFromDatasourceValue = function ( f5_arg0, f5_arg1, f5_arg2 )
	ACTIONS.AnimateSequence( f5_arg0, f5_arg2:GetValue( f5_arg1 ) )
end

function WipeGlobalModelsAtPath( f4_arg0 )
	local f4_local0 = DataModel[0x40E824FE270E174]( DataModel[0x8DF2E5447F384B9](), f4_arg0 )
	if f4_local0 then
		DataModel[0x8C7A8C4C5FD9892]( f4_local0 )
	end
end

function WipeControllerModelsAtPath( f3_arg0 )
	for f3_local0 = 0, Engine[0xB686A0A723E6442]() - 1, 1 do
		local f3_local3 = DataModel[0x40E824FE270E174]( DataModel[0x4DF5CFBC1771947]( f3_local0 ), f3_arg0 )
		if f3_local3 then
			DataModel[0x8C7A8C4C5FD9892]( f3_local3 )
		end
	end
end

function WipeAllModelsAtPath( f2_arg0 )
	WipeGlobalModelsAtPath( f2_arg0 )
	WipeControllerModelsAtPath( f2_arg0 )
end

function UpdateDataSourcesByMode( f1_arg0, f1_arg1 )
	if f1_arg0 == f1_arg1 then
		return 
	end
	local f1_local0 = {
		[CoD.PlayMode.SP] = {
			modelPath = "frontEnd.SP",
			initFunction = InitSPFrontEndDataSources
		},
		[CoD.PlayMode.Core] = {
			modelPath = "frontEnd.MP",
			initFunction = InitCoreMPFrontEndDataSources
		},
		[CoD.PlayMode.Aliens] = {
			modelPath = "frontEnd.CP",
			initFunction = InitCPFrontEndDataSources
		}
	}
	if Engine[0x12586A3F4FB490E]() then
		for f1_local4, f1_local5 in ipairs( f1_local0 ) do
			if f1_local4 == f1_arg0 then
				assert( f1_local5.initFunction )
				f1_local5.initFunction()
			else
				assert( f1_local5.modelPath )
				WipeAllModelsAtPath( f1_local5.modelPath )
			end
		end
	end
end

