-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
module( ..., package.seeall )
local f0_local0 = function ( f19_arg0, f19_arg1 )
	f19_arg0._introVideo = f19_arg1
	if f19_arg0._introVideo and 0 < #f19_arg0._introVideo then
		ACTIONS.AnimateSequence( f19_arg0, "ShowIntroVideo" )
		f19_arg0.TutorialVideo.Mask:SetAlpha( 1 )
		f19_arg0._endFlag = false
		f19_arg0.TutorialVideo:AnimateSequence( "MaskFadeOut" )
		Engine.DFCGFCGBFD( f19_arg1, VideoPlaybackFlags.MUTE )
		f19_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
			gamepad_only = true,
			button_ref = "button_r3",
			side = "left",
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU/MODE_FULLSCREEN" )
		} )
	else
		ACTIONS.AnimateSequence( f19_arg0, "HideIntroVideo" )
		f19_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
			gamepad_only = true,
			button_ref = "button_r3",
			helper_text = nil,
			side = "left"
		} )
	end
end

local f0_local1 = function ( f18_arg0, f18_arg1 )
	local f18_local0 = OPERATOR.IsUnlocked( f18_arg0._controllerIndex, f18_arg1.ref )
	f0_local0( f18_arg0, f18_arg1.introVideo )
	f18_arg0.OperatorCard:SetupCardDetails( f18_arg1 )
	f18_arg0.SquadName:setText( ToUpperCase( Engine.CBBHFCGDIC( "LUA_MENU/BREADCRUMB_2_ITEMS", OPERATOR.GetFactionName( f18_arg1.ref ), f18_arg1.name ) ) )
	f18_arg0.Bloodtype:SetupBloodDetails( f18_arg1.bloodType )
	f18_arg0.Thumbprint:setImage( RegisterMaterial( f18_arg1.thumbprint ) )
	f18_arg0.FactionIcon:setImage( RegisterMaterial( f18_arg1.factionIcon ) )
	f18_arg0._currentFocusedOperatorData = f18_arg1
end

local f0_local2 = function ( f17_arg0, f17_arg1 )
	if not f17_arg0._activeButton or f17_arg0._activeButton ~= f17_arg1 then
		if f17_arg0._activeButton then
			f17_arg0._activeButton:LoseButtonFocus()
		end
		f17_arg0._activeButton = f17_arg1
		f0_local0( f17_arg0, f17_arg1._operatorData )
	end
end

local f0_local3 = function ( f15_arg0 )
	f15_arg0.OperatorGrid:SetRefreshChild( function ( f16_arg0, f16_arg1, f16_arg2 )
		local f16_local0 = f16_arg1 + f16_arg2 * f15_arg0.OperatorGrid:GetNumColumns()
		if f16_local0 == nil then
			return 
		elseif not f15_arg0._operatorList then
			return 
		else
			f16_arg0:Setup( f15_arg0._controllerIndex, f15_arg0._operatorList[f16_local0 + 1], f15_arg0 )
		end
	end )
end

local f0_local4 = function ( f9_arg0, f9_arg1, f9_arg2 )
	assert( f9_arg0.OperatorCard )
	assert( f9_arg2.operatorRef )
	assert( f9_arg2.operatorList )
	f9_arg0._controllerIndex = f9_arg1
	f9_arg0.OnChildFocused = f0_local0
	f9_arg0._initialSelectedOperatorRef = f9_arg2.operatorRef
	f9_arg0._operatorList = f9_arg2.operatorList
	f0_local0( f9_arg0 )
	f9_arg0.OperatorGrid:SetNumChildren( #f9_arg0._operatorList )
	f9_arg0.OperatorGrid:RefreshContent()
	f9_arg0:addAndCallEventHandler( "onVideoChange", function ()
		local f14_local0 = CoD.GetAspectRatioScaleAdjust( 0.2 )
		f9_arg0.Darkener:SetScale( f14_local0 )
		f9_arg0.Blur:SetScale( f14_local0 )
	end )
	LAYOUT.AddAspectRatioFadeFrame( f9_arg0, f9_arg1 )
	f9_arg0.bindButton = LUI.UIBindButton.new()
	f9_arg0.bindButton.id = "bindButton"
	f9_arg0:addElement( f9_arg0.bindButton )
	f9_arg0.bindButton:addEventHandler( "button_secondary", function ( f13_arg0, f13_arg1 )
		Engine.EBCGADABJ()
		ACTIONS.LeaveMenu( f9_arg0 )
	end )
	f9_arg0.bindButton:addEventHandler( "button_right_stick", function ( f12_arg0, f12_arg1 )
		if not f9_arg0._introVideo or 0 >= #f9_arg0._introVideo then
			return 
		elseif not f9_arg0._currentFocusedOperatorData then
			return 
		else
			f9_arg0._currentFocusedOperatorData.useSelectedOperatorIndexForFocus = true
			OPERATOR.PlayFullscreenIntroVideo( f9_arg0, f9_arg0._introVideo, f12_arg1.controller )
		end
	end )
	f9_arg0.TutorialVideo.FullscreenVideoButton:addEventHandler( "button_action", function ( f11_arg0, f11_arg1 )
		if f9_arg0._introVideo and 0 < #f9_arg0._introVideo then
			OPERATOR.PlayFullscreenIntroVideo( f9_arg0, f9_arg0._introVideo, f11_arg1.controller )
		end
	end )
	local f9_local0 = function ()
		local f10_local0 = 0
		for f10_local1 = 1, #f9_arg0._operatorList, 1 do
			if f9_arg0._initialSelectedOperatorRef == f9_arg0._operatorList[f10_local1].ref then
				f10_local0 = f10_local1 - 1
				break
			end
		end
		return f9_arg0.OperatorGrid:GetPositionForIndex( f10_local0 )
	end
	
	if IsLanguageChinese() or IsLanguageArabic() then
		ACTIONS.AnimateSequence( f9_arg0, "LargeText" )
	end
	if CONDITIONS.IsWZWipFlowEnabled() then
		ACTIONS.AnimateSequence( f9_arg0, "WZWipSetup" )
	end
	f9_arg0.OperatorGrid:SetDefaultFocus( f9_local0 )
	f9_arg0.OperatorGrid:GainFocus()
end

function OperatorBio( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "OperatorBio"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	self.HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	self.HelperBar.id = "HelperBar"
	self.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	self.HelperBar:setPriority( 10 )
	self:addElement( self.HelperBar )
	local f1_local2 = self
	local Blur = nil
	
	Blur = LUI.UIBlur.new()
	Blur.id = "Blur"
	Blur:SetBlurStrength( 0.75, 0 )
	self:addElement( Blur )
	self.Blur = Blur
	
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	Darkener:SetRGBFromInt( 0, 0 )
	Darkener:SetAlpha( 0.8, 0 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	local GenericPopupWindow = nil
	
	GenericPopupWindow = MenuBuilder.BuildRegisteredType( "GenericPopupWindow", {
		controllerIndex = f1_local1
	} )
	GenericPopupWindow.id = "GenericPopupWindow"
	GenericPopupWindow:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -854, _1080p * 854, _1080p * -440, _1080p * 452 )
	self:addElement( GenericPopupWindow )
	self.GenericPopupWindow = GenericPopupWindow
	
	local Header = nil
	
	Header = LUI.UIImage.new()
	Header.id = "Header"
	Header:SetRGBFromTable( SWATCHES.Global.keyColorDark, 0 )
	Header:SetAlpha( 0.25, 0 )
	Header:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -855, _1080p * 855, _1080p * -442, _1080p * -402 )
	self:addElement( Header )
	self.Header = Header
	
	local f1_local7 = nil
	if CONDITIONS.IsWZWipDvarEnabled() then
		f1_local7 = LUI.UIImage.new()
		f1_local7.id = "WZWipHeader"
		f1_local7:setImage( RegisterMaterial( "ui_mp_br_shared_button_generic_background_ch2" ), 0 )
		f1_local7:Setup3SliceHorizontalImage( _1080p * 200, 0.29 )
		f1_local7:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -856, _1080p * 861, _1080p * -439, _1080p * -402 )
		self:addElement( f1_local7 )
		self.WZWipHeader = f1_local7
	end
	local ButtonHelperBar = nil
	
	ButtonHelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	ButtonHelperBar.id = "ButtonHelperBar"
	ButtonHelperBar:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	ButtonHelperBar.Background:SetAlpha( 0, 0 )
	ButtonHelperBar:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -855, _1080p * 142, _1080p * 486, _1080p * 540 )
	self:addElement( ButtonHelperBar )
	self.ButtonHelperBar = ButtonHelperBar
	
	local OperatorCard = nil
	
	OperatorCard = MenuBuilder.BuildRegisteredType( "OperatorCard", {
		controllerIndex = f1_local1
	} )
	OperatorCard.id = "OperatorCard"
	OperatorCard:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -813, _1080p * 815, _1080p * -386, _1080p * -138 )
	self:addElement( OperatorCard )
	self.OperatorCard = OperatorCard
	
	local SquadName = nil
	
	SquadName = LUI.UIText.new()
	SquadName.id = "SquadName"
	SquadName:SetRGBFromTable( SWATCHES.genericButton.textFocus, 0 )
	SquadName:SetAlpha( 0.5, 0 )
	SquadName:setText( "", 0 )
	SquadName:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	SquadName:SetTracking( 1 * _1080p, 0 )
	SquadName:SetAlignment( LUI.Alignment.Left )
	SquadName:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -830, _1080p * 93, _1080p * -434, _1080p * -410 )
	self:addElement( SquadName )
	self.SquadName = SquadName
	
	local TutorialVideo = nil
	
	TutorialVideo = MenuBuilder.BuildRegisteredType( "TutorialVideo", {
		controllerIndex = f1_local1
	} )
	TutorialVideo.id = "TutorialVideo"
	TutorialVideo:SetAlpha( 0.8, 0 )
	TutorialVideo:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 106, _1080p * 814, _1080p * -78, _1080p * 342 )
	self:addElement( TutorialVideo )
	self.TutorialVideo = TutorialVideo
	
	local LobbyMembersFooter = nil
	
	LobbyMembersFooter = MenuBuilder.BuildRegisteredType( "LobbyMembersFooter", {
		controllerIndex = f1_local1
	} )
	LobbyMembersFooter.id = "LobbyMembersFooter"
	LobbyMembersFooter:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 150 )
	self:addElement( LobbyMembersFooter )
	self.LobbyMembersFooter = LobbyMembersFooter
	
	local Thumbprint = nil
	
	Thumbprint = LUI.UIImage.new()
	Thumbprint.id = "Thumbprint"
	Thumbprint:setImage( RegisterMaterial( "ui_operator_bio_thumbprint_5" ), 0 )
	Thumbprint:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -789, _1080p * -637, _1080p * -78, _1080p * 74 )
	self:addElement( Thumbprint )
	self.Thumbprint = Thumbprint
	
	local FactionIcon = nil
	
	FactionIcon = LUI.UIImage.new()
	FactionIcon.id = "FactionIcon"
	FactionIcon:SetAlpha( 0.4, 0 )
	FactionIcon:SetColorOp( COLOR_OP.saturation, 0 )
	FactionIcon:SetColorOpParam( 1, 0 )
	FactionIcon:setImage( RegisterMaterial( "icon_faction_sas_large" ), 0 )
	FactionIcon:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -805, _1080p * -621, _1080p * 92, _1080p * 276 )
	self:addElement( FactionIcon )
	self.FactionIcon = FactionIcon
	
	local Banner = nil
	
	Banner = LUI.UIImage.new()
	Banner.id = "Banner"
	Banner:SetRGBFromTable( SWATCHES.CAC.weaponMeterDark, 0 )
	Banner:SetAlpha( 0.3, 0 )
	Banner:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -813, _1080p * 815, _1080p * -128, _1080p * -96 )
	self:addElement( Banner )
	self.Banner = Banner
	
	local Identity = nil
	
	Identity = LUI.UIText.new()
	Identity.id = "Identity"
	Identity:SetRGBFromTable( SWATCHES.genericButton.textDefault, 0 )
	Identity:setText( ToUpperCase( Engine.CBBHFCGDIC( "LUA_MENU/OPERATOR_BIO_IDENTITY" ) ), 0 )
	Identity:SetFont( FONTS.GetFont( FONTS.BodyRegular.File ) )
	Identity:SetAlignment( LUI.Alignment.Left )
	Identity:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -805, _1080p * 53, _1080p * -121, _1080p * -99 )
	self:addElement( Identity )
	self.Identity = Identity
	
	local Bloodtype = nil
	
	Bloodtype = MenuBuilder.BuildRegisteredType( "OperatorBloodtype", {
		controllerIndex = f1_local1
	} )
	Bloodtype.id = "Bloodtype"
	Bloodtype:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -583, _1080p * 53, _1080p * -71, _1080p * 69 )
	self:addElement( Bloodtype )
	self.Bloodtype = Bloodtype
	
	local OperatorGrid = nil
	
	OperatorGrid = LUI.UIGrid.new( {
		scrollingThresholdX = 1,
		maxVisibleRows = 2,
		maxVelocity = 5000,
		adjustSizeToContent = false,
		scrollingThresholdY = 1,
		wrapX = true,
		maxVisibleColumns = 4,
		wrapY = false,
		arrowsVerticalOffset = 0,
		buildArrowsLabel = true,
		springCoefficient = 400,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "OperatorBioButton", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f7_arg0, f7_arg1, f7_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.horizontal,
		spacingX = _1080p * 19,
		spacingY = _1080p * 19,
		columnWidth = _1080p * 144,
		rowHeight = _1080p * 146,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	OperatorGrid.id = "OperatorGrid"
	OperatorGrid:setUseStencil( true )
	OperatorGrid:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -583, _1080p * 51, _1080p * 92, _1080p * 404 )
	self:addElement( OperatorGrid )
	self.OperatorGrid = OperatorGrid
	
	local OperatorGridScrollbar = nil
	
	OperatorGridScrollbar = MenuBuilder.BuildRegisteredType( "VerticalScrollbar", {
		controllerIndex = f1_local1
	} )
	OperatorGridScrollbar.id = "OperatorGridScrollbar"
	OperatorGridScrollbar:SetScale( 1, 0 )
	OperatorGridScrollbar:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 56, _1080p * 66, _1080p * 170, _1080p * 324 )
	self:addElement( OperatorGridScrollbar )
	self.OperatorGridScrollbar = OperatorGridScrollbar
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local20 = nil
	GenericPopupWindow:RegisterAnimationSequence( "LargeText", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -855
		}
	} )
	SquadName:RegisterAnimationSequence( "LargeText", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -435
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -405
		}
	} )
	Banner:RegisterAnimationSequence( "LargeText", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -127
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -87
		}
	} )
	Identity:RegisterAnimationSequence( "LargeText", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -122
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -92
		}
	} )
	self._sequences.LargeText = function ()
		menu:AnimateSequence( "LargeText" )
		menu:AnimateSequence( "LargeText" )
		menu:AnimateSequence( "LargeText" )
		menu:AnimateSequence( "LargeText" )
	end
	
	local f1_local21 = nil
	TutorialVideo:RegisterAnimationSequence( "HideIntroVideo", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideIntroVideo = function ()
		menu:AnimateSequence( "HideIntroVideo" )
	end
	
	local f1_local22 = nil
	TutorialVideo:RegisterAnimationSequence( "ShowIntroVideo", {
		{
			value = -2.353438279577766E-185,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ShowIntroVideo = function ()
		menu:AnimateSequence( "ShowIntroVideo" )
	end
	
	local f1_local23 = nil
	Header:RegisterAnimationSequence( "WZWipSetup", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	if CONDITIONS.IsWZWipDvarEnabled() then
		f1_local7:RegisterAnimationSequence( "WZWipSetup", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * -855
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * -440
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 862
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * -403
			},
			{
				value = 5.29462817E-315,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	SquadName:RegisterAnimationSequence( "WZWipSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.CH2.WZGenericText
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Identity:RegisterAnimationSequence( "WZWipSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.CH2.WZGenericText
		}
	} )
	self._sequences.WZWipSetup = function ()
		menu:AnimateSequence( "WZWipSetup" )
		if CONDITIONS.IsWZWipDvarEnabled() then
			menu:AnimateSequence( "WZWipSetup" )
		end
		menu:AnimateSequence( "WZWipSetup" )
		menu:AnimateSequence( "WZWipSetup" )
	end
	
	local f1_local24 = LUI.UIScrollbar.new
	local f1_local25 = {
		direction = LUI.DIRECTION.vertical,
		eventListener = OperatorGridScrollbar,
		startCap = OperatorGridScrollbar.startCap,
		endCap = OperatorGridScrollbar.endCap,
		sliderArea = OperatorGridScrollbar.sliderArea
	}
	local f1_local26 = OperatorGridScrollbar.sliderArea
	if f1_local26 then
		f1_local26 = OperatorGridScrollbar.sliderArea.slider
	end
	f1_local25.slider = f1_local26
	f1_local26 = OperatorGridScrollbar.sliderArea
	if f1_local26 then
		f1_local26 = OperatorGridScrollbar.sliderArea.fixedSizeSlider
	end
	f1_local25.fixedSizeSlider = f1_local26
	OperatorGrid:AddScrollbar( f1_local24( f1_local25 ) )
	self.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_secondary",
		priority = 4294967286,
		helper_text = Engine.CBBHFCGDIC( "LUA_MENU/BACK" )
	} )
	self.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_r3",
		helper_text = Engine.CBBHFCGDIC( "LUA_MENU/MODE_FULLSCREEN" )
	} )
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "selfBindButton"
	self:addElement( bindButton )
	self.bindButton = bindButton
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "OperatorBio", OperatorBio )
LockTable( _M )
