-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
module( ..., package.seeall )
local f0_local0 = function ( f5_arg0, f5_arg1, f5_arg2, f5_arg3, f5_arg4, f5_arg5, f5_arg6, f5_arg7 )
	f5_arg0._equipment = f5_arg2
	local f5_local0 = CONDITIONS.IsMobileOrMobileSim()
	local f5_local1 = {
		header = LOOT.GetItemName( f5_arg3, f5_arg2 )
	}
	local f5_local2 = LOOT.GetItemImage( f5_arg3, f5_arg2 )
	local f5_local3
	if f5_local2 == nil or f5_local2 == "" then
		f5_local3 = "ui_shared_transparent"
	else
		f5_local3 = f5_local2
	end
	f5_local1.image = f5_local3
	f5_local3 = {
		removeTextBacker = true,
		removeEquipBanner = true,
		localizeHeader = false,
		imageSize = "1x1",
		buttonData = f5_local1
	}
	local f5_local4
	if CONDITIONS.IsOutbreakGametype() or CONDITIONS.IsDMZMatch() and f5_arg6 ~= false then
		f5_local4 = false
	else
		f5_local4 = true
	end
	f5_local3.loadoutEditGradientFocusStyle = f5_local4
	if CONDITIONS.IsWZ2() and f5_arg7.useWZ2ButtonStyle then
		f5_arg0.Button:SetupHighlight( f5_local3 )
		f5_arg0.Button:SetPrimaryPrompt( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x1ED143947CE721B ) ), false )
		if f5_arg0.ItemName then
			f5_arg0.ItemName:setText( f5_local1.header )
		end
		if f5_arg0.Icon then
			f5_arg0.Icon:setImage( RegisterMaterial( f5_local1.image ) )
		end
	else
		f5_arg0.Button:SetupButton( f5_local3 )
		f5_arg0.Button:SetPrimaryPromptText( 0x1ED143947CE721B )
		if not f5_local0 and f5_arg5 then
			f5_arg0.Button.Header:SetWordWrap( true )
			f5_arg0:SetupSkinButton( f5_arg1, f5_arg7[0x5F6A8A5DA7C0919], f5_arg5 )
		end
	end
	local f5_local5
	if GL_HACK.ShouldCheckEquipmentRestriction() then
		f5_local5 = Restrictions.IsEquiupmentRestricted( f5_arg2 )
		if not f5_local5 then
		
		else
			f5_arg0._isRestricted = f5_local5
			f5_local5 = ACTIONS.AnimateSequence
			local f5_local6 = f5_arg0
			local f5_local7
			if f5_arg0._isRestricted then
				f5_local7 = "RestrictionOn"
			else
				f5_local7 = "RestrictionOff"
			end
			f5_local5( f5_local6, f5_local7 )
			if not f5_local0 then
				f5_local6 = f5_arg0
				f5_local5 = f5_arg0.setActionSFX
				if f5_arg5 then
					f5_local7 = SOUND_SETS.loadout.equipmentEdit
					if not f5_local7 then
					
					else
						f5_local5( f5_local6, f5_local7 )
					end
				end
				f5_local7 = SOUND_SETS.loadout.fieldUpgradeEdit
			end
			if f5_arg0.ItemTitle then
				f5_arg0.ItemTitle:setText( Engine[0xED84C33EC5F01EA]( f5_arg4 ) )
			end
			if f5_arg0.Tooltip then
				f5_arg0:ResizeToolTip( f5_arg0 )
			end
			f5_arg0:UpdateEquipmentCount( f5_arg1, f5_arg7[0x5F6A8A5DA7C0919] )
		end
	end
	f5_local5 = false
end

local f0_local1 = function ( f4_arg0, f4_arg1, f4_arg2 )
	if f4_arg0.Count and f4_arg2 then
		if WildcardUtility[0xEFE3404A072C0C0]( f4_arg1, f4_arg2 ) == WildcardUtility[0x166FEEF2B41989A] then
			f4_arg0.Count:setText( Engine[0xED84C33EC5F01EA]( 0x17BF7E9D5B0508A, 1 ) )
		else
			f4_arg0.Count:setText( "" )
		end
	end
end

local f0_local2 = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0.SetupButton = f0_local0
	f3_arg0.DisplayIcon = f3_arg0.Button.Image
	f3_arg0.UpdateEquipmentCount = f0_local0
end

local f0_local3 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.PostLoadShared = f0_local0
end

function LoadoutItemEquipmentButtonBase( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = f1_local0.UIButton.new()
	f1_local1:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 160, 0, 204 )
	f1_local1.id = "LoadoutItemEquipmentButtonBase"
	local f1_local2
	if f1_arg1 then
		f1_local2 = f1_arg1
	else
		f1_local2 = f1_arg1.controllerIndex
	end
	f0_local0( f1_local1, f1_local0.ValidateControllerIndex( f1_local1, f1_local2 ), f1_arg1 )
	return f1_local1
end

MenuBuilder.registerType( 0xF6BF0453F84ECE5, LoadoutItemEquipmentButtonBase )
LockTable( _M )
