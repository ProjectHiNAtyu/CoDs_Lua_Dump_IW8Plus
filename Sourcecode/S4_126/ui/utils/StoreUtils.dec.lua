-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
STORE = STORE or {}
STORE.CODPointsCategory = "codpoints"
STORE.TitlesCategory = "titles"
STORE.CortezCategory = "cortez"
STORE.GameDLCCategory = "dlc"
STORE.CDLCategory = "CDL"
STORE.MiscCategory = "misc"
STORE.CrossLaunchCategory = "crosslaunch"
STORE.maxButtonsPerCategoryRow = 5
STORE.GameUpsellStandardID = "title_s4_preorder_standard"
STORE.GameUpsellCrossGenID = "title_s4_preorder_crossgen"
STORE.GameUpsellUltimateID = "title_s4_preorder_ultimate"
STORE.GameUpsellIGSUltimateID = "title_s4_preorder_igs_ultimate"
STORE.GameUpsellCortezStandard = "title_cortez_standard"
STORE.GameUpsellCortezCrossGen = "title_cortez_crossgen"
STORE.GameUpsellCortezUltimate = "title_cortez_ultimate"
STORE.GameUpsellCortezUltimateUpgrade = "title_cortez_upgrade_standard_to_ultimate"
STORE.GameUpsellCortezCrossGenImage = "v_ui_img_bundle_cortez_crossgen_small"
STORE.GameUpsellCortezUltimateImage = "v_ui_img_bundle_cortez_vault_small"
STORE.GameUpsellIDs = {
	[STORE.GameUpsellCortezStandard] = 1,
	[STORE.GameUpsellCortezCrossGen] = 2,
	[STORE.GameUpsellCortezUltimate] = 3,
	[STORE.GameUpsellCortezUltimateUpgrade] = 4,
	[STORE.GameUpsellStandardID] = 5,
	[STORE.GameUpsellCrossGenID] = 6,
	[STORE.GameUpsellUltimateID] = 7,
	[STORE.GameUpsellIGSUltimateID] = 8
}
STORE.VanguardGameUpsellIDs = {
	[STORE.GameUpsellStandardID] = 1,
	[STORE.GameUpsellCrossGenID] = 2,
	[STORE.GameUpsellUltimateID] = 3,
	[STORE.GameUpsellIGSUltimateID] = 4
}
STORE.MW2RProductID = "franchise_mw2r"
STORE.CODEID = "codepack"
STORE.HeadStartID = "headstartpack"
STORE.BundleIDBattlePass = 400049
STORE.BundleIDBattlePassBundle = 400050
STORE.KoreanTermsOfUseURL = "https://support.activision.com/vanguard-eula-ko"
STORE.KoreanRefundPolicyURL = "https://support.activision.com/ko/vanguard/articles/call-of-duty-vanguard-purchases"
STORE.ItemSaleIdOffset = 20000
STORE.SmartBundleIdOffset = 60000
STORE.PS4DLCOffset = 0
STORE.XB3DLCOffset = 1000
STORE.PCDLCOffset = 2000
STORE.LimitedTimeWarningThreshold = 86400
STORE.ProductNoLongerAvailableError = 8003
STORE.ScheduleData = nil
STORE.NextScheduleUpdate = 0
STORE.ActiveScheduledBundles = {}
STORE.CachedBundles = nil
STORE.CategoryType = {
	weapon = 4,
	featured = 2,
	operator = 3,
	franchise_store = 5,
	just_for_you = 1
}
STORE.TransactionResult = {
	TRANSACTION_FAILED = 3,
	TRANSACTION_CANCELLED = 2,
	TRANSACTION_SUCCEEDED = 1,
	TRANSACTION_UNKNOWN = 0
}
STORE.CratePopupType = {
	OPEN = 2,
	OPEN_FAIL = 3,
	PURCHASE_FAIL = 1,
	PURCHASE = 0
}
STORE.BundleUnavailableReason = {
	BUNDLE_OWNED = 5,
	GAME_UPSELL = 4,
	INVALID_BUNDLE_ID = 2,
	FIRST_PARTY_IGNORED = 6,
	CATALOGUE_NOT_READY = 1,
	BATTLEPASS = 7,
	BUNDLE_NOT_SCHEDULED = 3
}
STORE.CratePopupInfo = {
	[STORE.CratePopupType.PURCHASE] = {
		title = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/PURCHASE_TITLE" ),
		message = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/PURCHASE" )
	},
	[STORE.CratePopupType.PURCHASE_FAIL] = {
		title = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/PURCHASE_FAIL_TITLE" ),
		message = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/PERCHASE_FAIL" )
	},
	[STORE.CratePopupType.OPEN] = {
		title = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/OPEN_TITLE" ),
		message = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/OPEN" )
	},
	[STORE.CratePopupType.OPEN_FAIL] = {
		title = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/OPEN_FAIL_TITLE" ),
		message = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/OPEN_FAIL" )
	}
}
STORE.GetStoreMenu = function ( f97_arg0 )
	if f97_arg0 then
		return "MainMenuStore"
	else
		local f97_local0
		if Engine[0xCA085C21FCBD7CA]() then
			f97_local0 = "CPStore"
		else
			f97_local0 = "MPStore"
		end
	end
	return f97_local0
end

STORE.CODPointBonuses = {
	s4_cod_points_500 = 0,
	s4_cod_points_200 = 0,
	s4_cod_points_5000 = 1000,
	s4_cod_points_9500 = 2000,
	s4_cod_points_1100 = -28,
	s4_cod_points_13000 = 3000,
	s4_cod_points_2400 = 400,
	s4_cod_points_21000 = 6000
}
STORE.CODPointBtnImages = {
	codpoints9500 = "purchase_cod_points_button_bg_large",
	codpoints1100 = "purchase_cod_points_button_bg_large",
	codpoints13000 = "purchase_cod_points_button_bg_large",
	codpoints5000 = "purchase_cod_points_button_bg_med",
	codpoints500 = "purchase_cod_points_button_bg",
	codpoints2400 = "purchase_cod_points_button_bg_med",
	codpoints200 = "purchase_cod_points_button_bg"
}
STORE.TitleIDs = {
	BNET_BATTLE_PASS = 340023,
	BNET_STANDARD = 33894490,
	XB3_BATTLE_PASS = 340036,
	CORTEZ_BNET_ULTIMATE = 33895110,
	PS4_STANDARD = 33894525,
	CORTEZ_BNET_STANDARD = 33895105,
	XB3_CROSSGEN = 33894605,
	XB3_STANDARD = 33894540,
	XB3_ULTIMATE = 33894550,
	PS4_BATTLE_PASS = 340033
}
STORE.BaseGameIDs = {
	BNET_BASEGAME = 33926432,
	XBL_BASEGAME = 33925432,
	PSN_BASEGAME = 33924432
}
STORE.CortezBetaPhase = {
	SHUTDOWN = 4,
	PREORDERSONLY = 3,
	PREPROMOTION = 2,
	OPENTOALL = 5,
	POSTBETA = 6,
	PREPROMOTION_UPSELL = 1,
	NONE = 0
}
STORE.CortezBundleID = {
	STANDARD = 33954682,
	ULTIMATE = 33954684,
	CROSSGEN = 33954683,
	UPGRADE = 33954741
}
STORE.EnterStore = function ( f96_arg0, f96_arg1, f96_arg2, f96_arg3, f96_arg4, f96_arg5 )
	if not CONDITIONS.IsStoreAllowed() then
		return 
	elseif Engine[0x3CE55FFE2E82102]( f96_arg0 ) then
		LUI.FlowManager.RequestPopupMenu( nil, "ErrorNoticePopup", false, f96_arg0, false, {
			message = Engine[0xED84C33EC5F01EA]( "PATCH_MENU/NO_GUEST" )
		}, nil, false, true )
	elseif Engine[0x6CF257D8B88A5C8]( f96_arg0 ) then
		LUI.FlowManager.RequestPopupMenu( nil, "ErrorNoticePopup", false, f96_arg0, false, {
			message = Engine[0xED84C33EC5F01EA]( "XBOXLIVE/MPNOTALLOWED" )
		}, nil, false, true )
	elseif not Engine[0x2DE6F7A69111B92]( f96_arg0 ) then
		LUI.FlowManager.RequestPopupMenu( nil, "ErrorNoticePopup", false, f96_arg0, false, {
			message = Engine[0xED84C33EC5F01EA]( "PLATFORM/COMMERCE_NO_ONLINE_ERROR" )
		}, nil, false, true )
	elseif CONDITIONS.IsTrialLicense() then
		if CONDITIONS.IsSony() then
			Commerce[0x9C849E6DC6CC02F]( f96_arg0 )
		elseif CONDITIONS.IsXboxOne() then
			LUI.FlowManager.RequestPopupMenu( nil, "ShowUpsellXboxStorePopup", false, nil, false, {}, nil, false, true )
		end
	else
		InGameStore.FetchCatalog( f96_arg0, true, true )
		if f96_arg5 then
			LUI.FlowManager.RequestPopupMenu( nil, f96_arg4, true, f96_arg0, false, f96_arg3 )
		else
			LUI.FlowManager.RequestAddMenu( f96_arg4, true, f96_arg0, false, f96_arg3 )
		end
		local f96_local0 = Engine[0x779B78D51A8ED4F]
		local f96_local1 = f96_arg0
		local f96_local2
		if not f96_arg1 then
			f96_local2 = f96_arg1
		else
			f96_local2 = "None"
		end
		local f96_local3
		if not f96_arg2 then
			f96_local3 = f96_arg2
		else
			f96_local3 = "None"
		end
		f96_local0( f96_local1, f96_local2, f96_local3 )
	end
end

STORE.RefreshActiveRecommendations = function ( f95_arg0 )
	STORE.ActiveRecommendations = nil
	STORE.CheckForPersonalRecommendations( f95_arg0 )
end

STORE.CheckForPersonalRecommendations = function ( f90_arg0 )
	if STORE.ActiveRecommendations then
		local f90_local0 = STORE.ActiveRecommendations.asString
	end
	local f90_local0 = function ( f94_arg0 )
		if Dvar[0x9E5BE3B4BBA4E0E]( "#x34c2e8d1ffbfd902" ) then
			local f94_local0 = Store[0x82A6816240364A0]( f90_arg0 )
			local f94_local1 = f94_arg0
			local f94_local2 = {}
			for f94_local3 = 1, #f94_local1, 1 do
				local f94_local6 = f94_local1[f94_local3]
				local f94_local7 = os.time( os.date( "!*t" ) )
				if f94_local0[f94_local6] and f94_local0[f94_local6].saleStart < f94_local7 and f94_local7 < f94_local0[f94_local6].saleEnd then
					table.insert( f94_local2, f94_local6 )
				end
			end
			return f94_local2
		else
			return f94_arg0
		end
	end
	
	local f90_local1 = function ( f93_arg0 )
		local f93_local0 = f93_arg0
		local f93_local1 = {}
		for f93_local2 = 1, #f93_local0, 1 do
			if Loot[0xB7D304F1F31158E]( f90_arg0, tonumber( f93_local0[f93_local2] ) ) <= 0 then
				table.insert( f93_local1, f93_local0[f93_local2] )
			end
		end
		return f93_local1
	end
	
	local f90_local2 = function ( f92_arg0 )
		local f92_local0 = nil
		if Engine[0x8B495DC361731F7]( f90_arg0 ) then
			local f92_local1 = Dvar[0x54084D7CA2317BB]( "#x3b4dce39e5f187728" )
			if not f92_local1 then
				f92_local0 = f92_local1
			else
				f92_local0 = ""
			end
		else
			local f92_local1 = Dvar[0x54084D7CA2317BB]( "#x37c2d402a164c677" )
			if not f92_local1 then
				f92_local0 = f92_local1
			else
				f92_local0 = ""
			end
		end
		local f92_local1 = split( f92_local0, "," )
		local f92_local2 = {}
		if f92_local1 and 0 < #f92_local1 then
			for f92_local3 = 1, #f92_local1, 1 do
				local f92_local6 = f92_local1[f92_local3]
				f92_local2[f92_local6] = f92_local6
			end
			local f92_local3 = f92_arg0
			local f92_local4 = {}
			for f92_local5 = 1, #f92_local3, 1 do
				local f92_local8 = f92_local3[f92_local5]
				if not f92_local2[f92_local8] then
					table.insert( f92_local4, f92_local8 )
				end
			end
			return f92_local4
		else
			return f92_arg0
		end
	end
	
	local f90_local3 = function ( f91_arg0 )
		local f91_local0 = {}
		local f91_local1 = Dvar[0xEDCFC612B39E0C0]( "#x3e7cdbe9de072647f" )
		local f91_local2 = Engine[0x4ED60E081A551EA]()
		math.randomseed( f91_local2.day )
		for f91_local3 = 1, #f91_arg0, 1 do
			if f91_local1 < math.random() then
				table.insert( f91_local0, f91_arg0[f91_local3] )
			end
		end
		return f91_local0
	end
	
	local f90_local4 = Store[0x94CB7F460215E81]( f90_arg0 )
	local f90_local5 = {}
	if f90_local4 and 1 < #f90_local4 then
		local f90_local6 = nil
		if Engine[0x8B495DC361731F7]( f90_arg0 ) then
			local f90_local7 = Dvar[0x54084D7CA2317BB]( "#x35ec73a3150c874d" )
			if not f90_local7 then
				f90_local6 = f90_local7
			else
				f90_local6 = ""
			end
		else
			local f90_local7 = Dvar[0x54084D7CA2317BB]( "#x39fc9f2ec9f9892fa" )
			if not f90_local7 then
				f90_local6 = f90_local7
			else
				f90_local6 = ""
			end
		end
		f90_local5 = f90_local1( f90_local2( f90_local0( split( table.concat( f90_local3( split( f90_local6, "," ) ), "," ) .. "," .. f90_local4, "," ) ) ) )
	end
	if f90_local5 and 0 < #f90_local5 then
		local f90_local6 = table.concat( f90_local5, "," )
		local f90_local7 = {}
		for f90_local11, f90_local12 in pairs( f90_local5 ) do
			f90_local7[f90_local12] = true
		end
		STORE.ActiveRecommendations = {
			asString = f90_local6,
			asArray = f90_local5,
			asSet = f90_local7
		}
		return f90_local6
	else
		
	end
end

STORE.IsCatalogReady = function ( f89_arg0 )
	return InGameStore.GetCatalogStatus( f89_arg0 ) == InGameStoreCatalogStatus.READY
end

STORE.FormatRecommendationItems = function ( f88_arg0 )
	assert( f88_arg0 )
	if not f88_arg0 then
		f88_arg0 = ""
	end
	local f88_local0 = split( f88_arg0, "," )
	local f88_local1 = {}
	local f88_local2 = {}
	for f88_local3 = 1, #f88_local0, 1 do
		local f88_local6 = f88_local0[f88_local3]
		if not f88_local1[f88_local6] then
			f88_local1[f88_local6] = f88_local6
			table.insert( f88_local2, f88_local6 )
		end
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x39dbd7b8c48b391ec" ) then
		local f88_local4 = Engine[0x4ED60E081A551EA]()
		math.randomseed( f88_local4.day )
		if 0 < #f88_local2 then
			
		else
			
		end
	end
	return table.concat( f88_local2, "," )
end

STORE.IsGameUpsellProduct = function ( f87_arg0 )
	return STORE.GameUpsellIDs[f87_arg0] ~= nil
end

STORE.IsVanguardGameUpsellProduct = function ( f86_arg0 )
	return STORE.VanguardGameUpsellIDs[f86_arg0] ~= nil
end

STORE.GetGameUpsellProducts = function ( f85_arg0, f85_arg1 )
	local f85_local0 = {}
	if STORE.IsCatalogReady( f85_arg0 ) then
		local f85_local1 = InGameStore.GetCategoryProducts( f85_arg0, f85_arg1 )
		if f85_local1 and 0 < #f85_local1 then
			for f85_local5, f85_local6 in ipairs( f85_local1 ) do
				if STORE.IsGameUpsellProduct( f85_local6.productId ) then
					table.insert( f85_local0, f85_local6 )
				end
			end
		end
		if CONDITIONS.IsSony() and (not f85_local1 or #f85_local1 == 1) and f85_arg1 == STORE.CortezCategory then
			local f85_local2 = nil
			for f85_local6, f85_local7 in ipairs( f85_local0 ) do
				if f85_local7.productId == STORE.GameUpsellCortezCrossGen then
					f85_local2 = true
				end
			end
			if not f85_local2 then
				table.insert( f85_local0, {
					price = nil,
					productId = STORE.GameUpsellCortezCrossGen,
					image = STORE.GameUpsellCortezCrossGenImage
				} )
			end
			if CONDITIONS.HasCZVaultEdition( f85_arg0 ) then
				table.insert( f85_local0, {
					price = nil,
					productId = STORE.GameUpsellCortezUltimate,
					image = STORE.GameUpsellCortezVaultImage
				} )
			end
		end
	end
	return f85_local0
end

STORE.IsCortezPreorderAvailable = function ( f84_arg0 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( "#x3d4e44a9e96fe422e" ) then
		return false
	end
	local f84_local0 = false
	for f84_local4, f84_local5 in ipairs( STORE.GetGameUpsellProducts( f84_arg0, STORE.CortezCategory ) ) do
		if f84_local0 then
			f84_local0 = f84_local5.status ~= InGameStoreProductStatus.NOT_OWNED
		end
	end
	return not f84_local0
end

STORE.GetCortezBetaPlaylistStringId = function ( f83_arg0 )
	local f83_local0 = Engine[0x836C8AD984F14F6]() and Dvar[0x22EAAB59AA27E9B]( "#x31129515a8eb9623" ) or Dvar[0x22EAAB59AA27E9B]( "#x337fa3d1d7644ed9b" )
	if CONDITIONS.IsCortezFreeTrialEnabled() then
		return "LUA_MENU_MP_TUJULIET/CORTEZ_FREE_TRIAL"
	elseif CONDITIONS.IsCortezCampaignEarlyAccessEnabled() and LOOT.IsLootVisible( "cortez_juliet_bundle_2" ) then
		local f83_local1
		if Engine[0x575E9C5B9AAB6F4]() then
			f83_local1 = "STORE_TUJULIET/PLAYLISTBUTTON_CAMPAIGN_ACCESS_PC"
		else
			f83_local1 = "STORE_TUJULIET/PLAYLISTBUTTON_CAMPAIGN_ACCESS_CONSOLE"
		end
		return f83_local1
	elseif f83_local0 == STORE.CortezBetaPhase.PREPROMOTION and (Engine[0x575E9C5B9AAB6F4]() or Engine[0x9D348E40740E9A8]()) then
		return "STORE_TUINDIA/CORTEZ_BETA_EARLY_ACCESS_PC"
	elseif f83_local0 == STORE.CortezBetaPhase.PREORDERSONLY then
		local f83_local1
		if Engine[0x575E9C5B9AAB6F4]() then
			f83_local1 = "STORE_TUINDIA/CORTEZ_BETA_EARLY_ACCESS_LIVE_NOW_PC"
		else
			f83_local1 = "STORE_TUINDIA/CORTEZ_BETA_EARLY_ACCESS_LIVE_NOW"
		end
		return f83_local1
	elseif f83_local0 == STORE.CortezBetaPhase.SHUTDOWN and Engine[0x836C8AD984F14F6]() then
		return "STORE_TUINDIA/CORTEZ_BETA_SHUTDOWN_PS"
	elseif f83_local0 == STORE.CortezBetaPhase.OPENTOALL and Engine[0x836C8AD984F14F6]() then
		return "STORE_TUINDIA/CORTEZ_BETA_LIVE_NOW"
	elseif f83_local0 == STORE.CortezBetaPhase.POSTBETA then
		return "STORE_TUINDIA/CORTEZ_BETA_LIVE_NOW"
	else
		
	end
end

STORE.GetSentinelItemForBundle = function ( f82_arg0 )
	local f82_local0 = STORE.GetCachedBundle( f82_arg0 )
	if f82_local0 then
		local f82_local1 = f82_local0.hiddenItemsIDs
		if f82_local1 then
			for f82_local5, f82_local6 in ipairs( f82_local1 ) do
				if LOOT.GetTypeForID( f82_local6 ) == LOOT.itemTypes.SENTINEL then
					return f82_local6
				end
			end
		end
	end
end

STORE.HasSeenItem = function ( f81_arg0, f81_arg1 )
	local f81_local0 = STORE.GetSentinelItemForBundle( f81_arg1 )
	if f81_local0 then
		return Loot[0xB853FAE9166621]( f81_arg0, f81_local0 )
	else
		return true
	end
end

STORE.MarkItemSeen = function ( f80_arg0, f80_arg1 )
	local f80_local0 = STORE.GetSentinelItemForBundle( f80_arg1 )
	if f80_local0 then
		return Loot[0x5648756DE446DEF]( f80_arg0, f80_local0 )
	else
		
	end
end

STORE.GetSmartBundleID = function ( f79_arg0 )
	return tonumber( StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f79_arg0, CSV.bundleIDs.cols.smartID ) )
end

STORE.GetBundlePurchaseID = function ( f78_arg0, f78_arg1 )
	local f78_local0 = STORE.GetSmartBundleID( f78_arg1 )
	if STORE.IsItemOnSale( f78_arg1, f78_arg0 ) then
		return f78_arg1 + STORE.ItemSaleIdOffset
	elseif f78_local0 and 0 < Loot[0xB7D304F1F31158E]( f78_arg0, f78_local0 ) then
		return f78_arg1 + STORE.SmartBundleIdOffset
	else
		return f78_arg1
	end
end

STORE.GetBundleCost = function ( f77_arg0, f77_arg1 )
	local f77_local0 = tonumber( StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f77_arg1, CSV.bundleIDs.cols.currencyAmount ) )
	local f77_local1 = nil
	local f77_local2 = STORE.GetSmartBundleID( f77_arg1 )
	if STORE.IsItemOnSale( f77_arg1, f77_arg0 ) then
		f77_local1 = tonumber( StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f77_arg1, CSV.bundleIDs.cols.saleCurrencyAmount ) )
	elseif f77_local2 and 0 < Loot[0xB7D304F1F31158E]( f77_arg0, f77_local2 ) then
		f77_local1 = tonumber( StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f77_arg1, CSV.bundleIDs.cols.smartCost ) )
	end
	return f77_local0, f77_local1
end

STORE.CategoryHasNewItems = function ( f76_arg0, f76_arg1 )
	assert( f76_arg0 )
	assert( f76_arg1 )
	f76_arg1.items = f76_arg1.items or {}
	local f76_local0 = f76_arg1.items and f76_arg1.items[1] or {}
	if f76_local0.emptyCategory then
		return false
	end
	local f76_local1 = STORE.GetSchedule()
	if f76_arg1.idPubVar and f76_local0.layoutOnlyItem then
		local f76_local2 = Dvar[0x54084D7CA2317BB]( f76_arg1.idPubVar ) or ""
		if f76_arg1.justForYou then
			local f76_local3 = STORE.CheckForPersonalRecommendations( f76_arg0 )
			if f76_local3 then
				f76_local2 = STORE.FormatRecommendationItems( f76_local3 .. "," .. f76_local2 )
			end
		elseif STORE.CategoryType[f76_arg1.id] == STORE.CategoryType.featured and STORE.ShouldModifyFeaturedItems( f76_arg0 ) then
			f76_local2 = STORE.GetPriorityFeaturedItems() .. "," .. f76_local2
		end
		if f76_local1 and not Dvar[0x9E5BE3B4BBA4E0E]( "#x3256f9a703f3494a7" ) then
			f76_local2 = STORE.FormatRecommendationItems( f76_local2 .. "," .. STORE.GetScheduledProductsForCategory( f76_arg1, f76_local1 ) )
		end
		local f76_local3 = split( f76_local2, "," )
		local f76_local4 = 0
		for f76_local5 = 1, #f76_local3, 1 do
			local f76_local8 = tonumber( f76_local3[f76_local5] )
			if STORE.BundleAvailable( f76_arg0, f76_local8 ) then
				f76_local4 = f76_local4 + 1
				if not STORE.HasSeenItem( f76_arg0, f76_local8 ) then
					return true
				end
			end
			if f76_local4 == f76_arg1.numItemsShown then
				break
			end
		end
	end
	return false
end

STORE.CategoryHasLimitedTimeItems = function ( f75_arg0, f75_arg1 )
	assert( f75_arg0 )
	assert( f75_arg1 )
	f75_arg1.items = f75_arg1.items or {}
	local f75_local0 = f75_arg1.items and f75_arg1.items[1] or {}
	if f75_local0.emptyCategory then
		return nil
	elseif f75_arg1.idPubVar and f75_local0.layoutOnlyItem then
		local f75_local1 = Dvar[0x54084D7CA2317BB]( f75_arg1.idPubVar ) or ""
		if f75_arg1.justForYou then
			local f75_local2 = STORE.CheckForPersonalRecommendations( f75_arg0 )
			if f75_local2 then
				f75_local1 = STORE.FormatRecommendationItems( f75_local2 .. "," .. f75_local1 )
			end
		elseif STORE.CategoryType[f75_arg1.id] == STORE.CategoryType.featured and STORE.ShouldModifyFeaturedItems( f75_arg0 ) then
			f75_local1 = STORE.GetPriorityFeaturedItems() .. "," .. f75_local1
		end
		local f75_local2 = split( f75_local1, "," )
		local f75_local3 = 0
		for f75_local4 = 1, #f75_local2, 1 do
			local f75_local7 = tonumber( f75_local2[f75_local4] )
			if STORE.BundleAvailable( f75_arg0, f75_local7 ) then
				local f75_local8 = {
					file = CSV.bundleIDs.file,
					cols = CSV.bundleIDs.cols
				}
				local f75_local9 = StringTable[0x8073B436CDE1BF]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f75_local2[f75_local4] )
				if f75_local9 and -1 < f75_local9 then
					local f75_local10 = CSV.ReadRow( f75_local8, f75_local9 )
					if f75_local10.isBattlePassBundle ~= "1" then
						local f75_local11 = f75_local10.purchaseEnd and f75_local10.purchaseEnd or nil
						if f75_local7 == tonumber( BATTLEPASS.GetTierSkipGiftID() ) and BATTLEPASS.IsTierSkipGiftActive( f75_arg0 ) then
							f75_local11 = BATTLEPASS.GetTierSkipGiftTimer()
						end
						local f75_local12, f75_local13, f75_local14 = STORE.GetCategoryTimeLeft( nil, f75_local11 )
						if not f75_local11 then
							f75_local3 = f75_local3 + 1
						elseif 0 < f75_local12 then
							return f75_local11
						end
					end
				end
			end
			if f75_local3 == f75_arg1.numItemsShown then
				break
			end
		end
	end
	return nil
end

STORE.HasNewAndFreeAndSaleAndLimitedTimeItems = function ( f74_arg0 )
	assert( f74_arg0 )
	local f74_local0 = Engine[0x5CA33565A117BF3]( Store[0x5CA33565A117BF3]() )
	local f74_local1 = false
	local f74_local2 = false
	local f74_local3 = false
	local f74_local4 = nil
	for f74_local5 = 1, #f74_local0, 1 do
		local f74_local8 = f74_local0[f74_local5]
		f74_local8.items = f74_local8.items or {}
		if not f74_local1 then
			f74_local1 = STORE.CategoryHasNewItems( f74_arg0, f74_local8 )
		end
		if not f74_local4 then
			f74_local4 = STORE.CategoryHasLimitedTimeItems( f74_arg0, f74_local8 )
		end
		local f74_local9, f74_local10 = STORE.CategoryHasFreeOrSaleItems( f74_arg0, f74_local8 )
		if not f74_local2 then
			f74_local2 = f74_local9
		end
		if not f74_local3 then
			f74_local3 = f74_local10
		end
	end
	return f74_local1, f74_local2, f74_local3, f74_local4
end

STORE.HasFreeItems = function ( f73_arg0 )
	assert( f73_arg0 )
	local f73_local0 = Engine[0x5CA33565A117BF3]( Store[0x5CA33565A117BF3]() )
	for f73_local1 = 1, #f73_local0, 1 do
		local f73_local4 = f73_local0[f73_local1]
		f73_local4.items = f73_local4.items or {}
		local f73_local5, f73_local6 = STORE.CategoryHasFreeOrSaleItems( f73_arg0, f73_local4 )
		if f73_local5 then
			return true
		end
	end
	return false
end

STORE.CategoryHasFreeOrSaleItems = function ( f72_arg0, f72_arg1 )
	assert( f72_arg0 )
	assert( f72_arg1 )
	local f72_local0 = false
	local f72_local1 = false
	f72_arg1.items = f72_arg1.items or {}
	local f72_local2 = f72_arg1.items and f72_arg1.items[1] or {}
	if f72_local2.emptyCategory then
		return false, false
	end
	local f72_local3 = STORE.GetSchedule()
	if f72_arg1.idPubVar and f72_local2.layoutOnlyItem then
		local f72_local4 = Dvar[0x54084D7CA2317BB]( f72_arg1.idPubVar ) or ""
		if f72_arg1.justForYou then
			local f72_local5 = STORE.CheckForPersonalRecommendations( f72_arg0 )
			if f72_local5 then
				f72_local4 = STORE.FormatRecommendationItems( f72_local5 .. "," .. f72_local4 )
			end
		elseif STORE.CategoryType[f72_arg1.id] == STORE.CategoryType.featured and STORE.ShouldModifyFeaturedItems( f72_arg0 ) then
			f72_local4 = STORE.GetPriorityFeaturedItems() .. "," .. f72_local4
		end
		if f72_local3 and not Dvar[0x9E5BE3B4BBA4E0E]( "#x3256f9a703f3494a7" ) then
			f72_local4 = STORE.FormatRecommendationItems( f72_local4 .. "," .. STORE.GetScheduledProductsForCategory( f72_arg1, f72_local3 ) )
		end
		local f72_local5 = split( f72_local4, "," )
		local f72_local6 = 0
		for f72_local7 = 1, #f72_local5, 1 do
			local f72_local10 = tonumber( f72_local5[f72_local7] )
			if STORE.BundleAvailable( f72_arg0, f72_local10 ) then
				f72_local6 = f72_local6 + 1
				if tonumber( StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f72_local10, CSV.bundleIDs.cols.currencyAmount ) ) == 0 then
					f72_local0 = true
				elseif STORE.IsItemOnSale( f72_local10, f72_arg0 ) then
					local f72_local11 = tonumber( StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f72_local10, CSV.bundleIDs.cols.saleCurrencyAmount ) ) or -1
					if f72_local11 == 0 then
						f72_local0 = true
					elseif 0 < f72_local11 then
						f72_local1 = true
					end
				end
			end
			if f72_local6 == f72_arg1.numItemsShown then
				break
			end
		end
	end
	return f72_local0, f72_local1
end

STORE.HasNewItems = function ( f71_arg0 )
	assert( f71_arg0 )
	local f71_local0 = Engine[0x5CA33565A117BF3]( Store[0x5CA33565A117BF3]() )
	for f71_local1 = 1, #f71_local0, 1 do
		local f71_local4 = f71_local0[f71_local1]
		f71_local4.items = f71_local4.items or {}
		if STORE.CategoryHasNewItems( f71_arg0, f71_local4 ) then
			return true
		end
	end
	return false
end

STORE.GetCategoryIndex = function ( f70_arg0 )
	local f70_local0 = Engine[0x5CA33565A117BF3]( Store[0x5CA33565A117BF3]() )
	local f70_local1 = 1
	for f70_local2 = 1, #f70_local0, 1 do
		local f70_local5 = f70_local0[f70_local2]
		if f70_local5.id and 0 < #f70_local5.id then
			assert( STORE.CategoryType[f70_local5.id] ~= nil, "The category ID \"" .. f70_local5.id .. "\" in the store_config JSON file for category name \"" .. Engine[0xED84C33EC5F01EA]( f70_local5.name ) .. "\" is undefined. Make sure the ID is included in the STORE.CategoryType enum in StoreUtils.lua." )
			if f70_local5.id == f70_arg0 or f70_arg0 == "" then
				if Dvar[0x9E5BE3B4BBA4E0E]( "#x36c6c217d980bbc44" ) then
					return f70_local1
				else
					return f70_local2
				end
			elseif 1 < #f70_local5.items and not f70_local5.items[1].layoutOnlyItem then
				f70_local1 = f70_local1 + 1
			end
		end
	end
end

STORE.GetIndexForBundle = function ( f69_arg0, f69_arg1, f69_arg2 )
	if not f69_arg2 then
		f69_arg2 = Engine[0x5CA33565A117BF3]( Store[0x5CA33565A117BF3]() )
	end
	local f69_local0 = STORE.GetSchedule()
	local f69_local1 = 1
	for f69_local2 = 1, #f69_arg2, 1 do
		local f69_local5 = f69_arg2[f69_local2]
		if f69_local5.idPubVar then
			local f69_local6 = ""
			if f69_local0 and not Dvar[0x9E5BE3B4BBA4E0E]( "#x3256f9a703f3494a7" ) then
				local f69_local7 = STORE.GetScheduledProductsForCategory( f69_local5, f69_local0 )
				if f69_local7 and f69_local7 ~= "" then
					f69_local6 = STORE.FormatRecommendationItems( f69_local7 )
				else
					f69_local6 = STORE.FormatRecommendationItems( f69_local6 .. "," .. (Dvar[0x54084D7CA2317BB]( f69_local5.idPubVar ) or "") )
				end
			end
			if f69_local5.justForYou then
				local f69_local7 = STORE.CheckForPersonalRecommendations( f69_arg1 )
				if f69_local7 then
					f69_local6 = f69_local7 .. "," .. f69_local6
				end
			elseif STORE.CategoryType[f69_local5.id] == STORE.CategoryType.featured and STORE.ShouldModifyFeaturedItems( f69_arg1 ) then
				f69_local6 = STORE.GetPriorityFeaturedItems() .. "," .. f69_local6
			end
			local f69_local7 = split( f69_local6, "," )
			local f69_local8 = 0
			for f69_local9 = 1, #f69_local7, 1 do
				local f69_local12 = tonumber( f69_local7[f69_local9] )
				if STORE.BundleAvailable( f69_arg1, f69_local12 ) then
					f69_local8 = f69_local8 + 1
					if f69_local12 == tonumber( f69_arg0 ) then
						if Dvar[0x9E5BE3B4BBA4E0E]( "#x36c6c217d980bbc44" ) then
							return f69_local1, f69_local8
						else
							return f69_local2, f69_local8
						end
					end
				end
				if f69_local8 == f69_local5.numItemsShown then
					break
				end
			end
			if 1 < #f69_local5.items and not f69_local5.items[1].layoutOnlyItem then
				f69_local1 = f69_local1 + 1
			end
		end
	end
	return nil
end

STORE.GetDLCID = function ( f68_arg0 )
	local f68_local0 = StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f68_arg0, CSV.bundleIDs.cols.dlcRef )
	if #f68_local0 == 0 then
		return 
	else
		local f68_local1 = tonumber( StringTable[0x2DCF0973239E909]( CSV.dlcIDs.file, CSV.dlcIDs.cols.name, f68_local0, CSV.dlcIDs.cols.id ) )
		if not f68_local1 then
			return 
		elseif CONDITIONS.IsSony() then
			return f68_local1 + STORE.PS4DLCOffset
		elseif CONDITIONS.IsXbox() then
			return f68_local1 + STORE.XB3DLCOffset
		elseif CONDITIONS.IsPC() then
			return f68_local1 + STORE.PCDLCOffset
		else
			
		end
	end
end

STORE.GetNumItemsInBundle = function ( f67_arg0 )
	return tonumber( StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f67_arg0, CSV.bundleIDs.cols.numItems ) )
end

STORE.RemoveWarzoneSuffix = function ( f66_arg0 )
	if not f66_arg0 or #f66_arg0 == 0 then
		return 
	elseif string.find( f66_arg0, "_wz" ) ~= nil then
		return string.sub( f66_arg0, 0, string.len( f66_arg0 ) - 3 )
	else
		
	end
end

STORE.RemoveFirstPartySuffix = function ( f65_arg0 )
	if not f65_arg0 or #f65_arg0 == 0 then
		return 
	elseif Engine[0x575E9C5B9AAB6F4]() and string.find( f65_arg0, "_bnet" ) ~= nil then
		return string.sub( f65_arg0, 0, string.len( f65_arg0 ) - 5 )
	elseif Engine[0x836C8AD984F14F6]() and string.find( f65_arg0, "_psn" ) ~= nil then
		return string.sub( f65_arg0, 0, string.len( f65_arg0 ) - 4 )
	elseif Engine[0x9D348E40740E9A8]() and string.find( f65_arg0, "_xbl" ) ~= nil then
		return string.sub( f65_arg0, 0, string.len( f65_arg0 ) - 4 )
	else
		
	end
end

STORE.GetFirstPartyBundleData = function ( f63_arg0, f63_arg1, f63_arg2 )
	if not f63_arg1 or not f63_arg2 then
		assert( f63_arg1 )
		assert( f63_arg2 )
	end
	if not STORE.IsCatalogReady( f63_arg0 ) then
		assert( false, "Catalog has not been fetched." )
	end
	local f63_local0 = nil
	local f63_local1 = InGameStore.GetProduct( f63_arg0, f63_arg2 )
	if not f63_local1 then
		f63_local0 = STORE.RemoveWarzoneSuffix( f63_arg2 )
		if f63_local0 then
			f63_arg2 = f63_local0
			f63_local1 = InGameStore.GetProduct( f63_arg0, f63_arg2 )
		end
	end
	if not f63_local1 then
		f63_local0 = STORE.RemoveFirstPartySuffix( f63_arg2 )
		if f63_local0 then
			f63_arg2 = f63_local0
			f63_local1 = InGameStore.GetProduct( f63_arg0, f63_arg2 )
		end
	end
	if not f63_local1 then
		assert( f63_local1, "No data found for product ID, " .. f63_arg2 )
	end
	return {
		isFirstParty = true,
		bundleID = tonumber( f63_arg1 ),
		price = f63_local1.price,
		owned = f63_local1.owned,
		firstPartyPurchase = function ()
			LUI.FlowManager.RequestPopupMenu( nil, "ItemExchangeFencePopup", true, f63_arg0, false, {
				controllerIndex = f63_arg0,
				message = Engine[0xED84C33EC5F01EA]( "LUA_MENU_MP/PURCHASING_DLC" )
			} )
			InGameStore.SelectProduct( f63_arg0, f63_arg0, InGameStorePurchaseType.BROWSE )
		end
		
	}
end

STORE.GetCachedBundle = function ( f62_arg0 )
	STORE.CacheBundles()
	for f62_local3, f62_local4 in ipairs( STORE.CachedBundles ) do
		if tonumber( f62_local4.id ) == f62_arg0 then
			return f62_local4
		end
	end
end

STORE.GetFirstPartyProductID = function ( f61_arg0 )
	local f61_local0 = STORE.GetCachedBundle( f61_arg0 )
	local f61_local1
	if f61_local0 then
		f61_local1 = f61_local0
	else
		f61_local1 = f61_local0.firstPartyProductID
	end
	return f61_local1
end

STORE.IsFirstPartyBundle = function ( f60_arg0 )
	assert( f60_arg0 )
	if not f60_arg0 then
		return 
	end
	local f60_local0 = STORE.GetFirstPartyProductID( f60_arg0 )
	local f60_local1
	if f60_local0 then
		f60_local1 = f60_local0
	else
		f60_local1 = 0 < #f60_local0
	end
	return f60_local1
end

STORE.IsGameUpsellBundle = function ( f59_arg0 )
	assert( f59_arg0 )
	if not f59_arg0 then
		return 
	else
		return STORE.IsGameUpsellProduct( STORE.GetFirstPartyProductID( f59_arg0 ) )
	end
end

STORE.BundleAvailableInSchedule = function ( f58_arg0 )
	local f58_local0 = Engine[0xD27CF0247301BFB]()
	local f58_local1 = STORE.GetCachedScheduledBundles( nil, f58_local0 )
	if f58_local1 and not Dvar[0x9E5BE3B4BBA4E0E]( "#x3256f9a703f3494a7" ) and not Dvar[0x9E5BE3B4BBA4E0E]( "#x3e18487f3c2aa939a" ) then
		local f58_local2 = ""
		for f58_local6, f58_local7 in ipairs( f58_local1 ) do
			if f58_local7.startDate <= f58_local0 and f58_local0 < f58_local7.endDate and string.find( f58_local7.productList, f58_arg0 ) then
				return true
			end
		end
		return false
	else
		return true
	end
end

local f0_local0 = function ( f57_arg0, f57_arg1 )
	if STORE.BundleAvailableInSchedule( f57_arg1 ) then
		return true
	end
	STORE.CheckForPersonalRecommendations( f57_arg0 )
	local f57_local0 = STORE.ActiveRecommendations
	local f57_local1
	if f57_local0 then
		f57_local1 = f57_local0
	else
		f57_local1 = f57_local0.asSet
	end
	local f57_local2
	if f57_local1 then
		f57_local2 = f57_local1
	else
		f57_local2 = f57_local1[tostring( f57_arg1 )]
	end
	return f57_local2
end

STORE.BundleAvailable = function ( f56_arg0, f56_arg1, f56_arg2 )
	if STORE.GetFirstPartyProductID( f56_arg1 ) ~= nil and InGameStore.GetCatalogStatus( f56_arg0 ) ~= InGameStoreCatalogStatus.READY then
		return false, STORE.BundleUnavailableReason.CATALOGUE_NOT_READY
	end
	f56_arg1 = tonumber( f56_arg1 )
	if not f56_arg1 then
		return false, STORE.BundleUnavailableReason.INVALID_BUNDLE_ID
	elseif not STORE.BundleAvailableInSchedule( f56_arg1 ) and not f56_arg2 then
		return false, STORE.BundleUnavailableReason.BUNDLE_NOT_SCHEDULED
	elseif STORE.IsGameUpsellBundle( f56_arg1 ) then
		if Dvar[0x9E5BE3B4BBA4E0E]( "#x3e18487f3c2aa939a" ) then
			return false, STORE.BundleUnavailableReason.FIRST_PARTY_IGNORED
		end
		local f56_local0 = InGameStore.GetProduct( f56_arg0, STORE.GetFirstPartyProductID( f56_arg1 ) )
		if f56_arg1 == STORE.CortezBundleID.STANDARD or f56_arg1 == STORE.CortezBundleID.CROSSGEN then
			if CONDITIONS.HasCZVStandardOrCrossgenEdition( f56_arg0 ) then
				return false, STORE.BundleUnavailableReason.BUNDLE_OWNED
			end
		elseif (f56_arg1 == STORE.CortezBundleID.ULTIMATE or f56_arg1 == STORE.CortezBundleID.UPGRADE) and CONDITIONS.HasCZVaultEdition( f56_arg0 ) then
			return false, STORE.BundleUnavailableReason.BUNDLE_OWNED
		end
		local f56_local1
		if f56_local0 then
			f56_local1 = f56_local0
		else
			f56_local1 = f56_local0.status == InGameStoreProductStatus.NOT_OWNED
		end
		return f56_local1, STORE.BundleUnavailableReason.GAME_UPSELL
	elseif 0 < Loot[0xB7D304F1F31158E]( f56_arg0, f56_arg1 ) then
		return false, STORE.BundleUnavailableReason.BUNDLE_OWNED
	end
	local f56_local2 = STORE.GetSentinelItemForBundle( f56_arg1 )
	if f56_local2 and 0 < Loot[0xB7D304F1F31158E]( f56_arg0, f56_local2 ) then
		return false, STORE.BundleUnavailableReason.BUNDLE_OWNED
	end
	local f56_local0 = STORE.GetFirstPartyProductID( f56_arg1 )
	if f56_local0 and 0 < #f56_local0 then
		if string.find( f56_local0, "_bnet" ) ~= nil then
			if not Engine[0x575E9C5B9AAB6F4]() then
				return false, STORE.BundleUnavailableReason.FIRST_PARTY_IGNORED
			end
		elseif string.find( f56_local0, "_psn" ) ~= nil then
			if not Engine[0x836C8AD984F14F6]() then
				return false, STORE.BundleUnavailableReason.FIRST_PARTY_IGNORED
			end
		elseif string.find( f56_local0, "_xbl" ) ~= nil and not Engine[0x9D348E40740E9A8]() then
			return false, STORE.BundleUnavailableReason.FIRST_PARTY_IGNORED
		end
		if STORE.IsCatalogReady( f56_arg0 ) then
			local f56_local1 = InGameStore.GetProduct( f56_arg0, f56_local0 )
			if not f56_local1 and not string.find( f56_local0, "_wz" ) then
				local f56_local3 = STORE.RemoveFirstPartySuffix( f56_local0 )
				if f56_local3 then
					f56_local1 = InGameStore.GetProduct( f56_arg0, f56_local3 )
				end
			end
			if not f56_local1 or f56_local1.status ~= InGameStoreProductStatus.NOT_OWNED then
				return false, STORE.BundleUnavailableReason.FIRST_PARTY_IGNORED
			end
		else
			return false, STORE.BundleUnavailableReason.FIRST_PARTY_IGNORED
		end
	end
	local f56_local1 = STORE.GetCachedBundle( f56_arg1 )
	local f56_local3
	if f56_local1 then
		f56_local3 = f56_local1
	else
		f56_local3 = f56_local1.isBattlePassBundle == "1"
	end
	if f56_local3 then
		if not CONDITIONS.IsBattlePassEnabled() then
			return false, STORE.BundleUnavailableReason.BATTLEPASS
		end
		local f56_local4 = tonumber( BATTLEPASS.GetTierSkipGiftID() )
		local f56_local5 = BATTLEPASS.IsOwned( f56_arg0 )
		local f56_local6 = LOOT.GetBundleItemsMappedByType( f56_arg1 )
		local f56_local7 = f56_local6[LOOT.itemTypes.BATTLE_PASS]
		local f56_local8 = 0
		local f56_local9 = false
		if f56_arg1 == f56_local4 and not BATTLEPASS.IsTierSkipGiftActive( f56_arg0 ) then
			return false, STORE.BundleUnavailableReason.BATTLEPASS
		elseif f56_local7 then
			for f56_local10 = 1, #f56_local7, 1 do
				local f56_local13 = LOOT.GetItemRef( LOOT.itemTypes.BATTLE_PASS, f56_local7[f56_local10] )
				local f56_local14 = tonumber( BATTLEPASS.GetItemType( f56_local13 ) )
				if f56_local14 == BATTLEPASS.ItemTypes.PREMIUM or f56_local14 == BATTLEPASS.ItemTypes.BUNDLE then
					f56_local9 = true
					if f56_local5 then
						return false, STORE.BundleUnavailableReason.BATTLEPASS
					end
				end
				if f56_local14 == BATTLEPASS.ItemTypes.TIER_SKIP or f56_local14 == BATTLEPASS.ItemTypes.BUNDLE then
					f56_local8 = f56_local8 + BATTLEPASS.GetNumSkipsInBundle( f56_local13 )
				end
			end
		end
		if not f56_local5 and not f56_local9 then
			return false, STORE.BundleUnavailableReason.BATTLEPASS
		elseif BATTLEPASS.GetMaxTier() - BATTLEPASS.GetTier( f56_arg0 ) < f56_local8 then
			return false, STORE.BundleUnavailableReason.BATTLEPASS
		end
	end
	return true
end

STORE.BundleForceAvailable = function ( f55_arg0, f55_arg1 )
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x3e18487f3c2aa939a" ) then
		if STORE.IsGameUpsellBundle( f55_arg1 ) then
			return false
		end
		local f55_local0 = STORE.GetFirstPartyProductID( f55_arg1 )
		if f55_local0 and 0 < #f55_local0 then
			if string.find( f55_local0, "_bnet" ) ~= nil then
				if not Engine[0x575E9C5B9AAB6F4]() then
					return false
				end
			elseif string.find( f55_local0, "_psn" ) ~= nil then
				if not Engine[0x836C8AD984F14F6]() then
					return false
				end
			elseif string.find( f55_local0, "_xbl" ) ~= nil and not Engine[0x9D348E40740E9A8]() then
				return false
			end
		end
		return true
	else
		return false
	end
end

STORE.GetBundleIDFromFirstPartyProductID = function ( f54_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.firstPartyProductID, f54_arg0, CSV.bundleIDs.cols.id )
end

STORE.GoToStore = function ( f53_arg0, f53_arg1, f53_arg2, f53_arg3, f53_arg4 )
	local f53_local0 = nil
	if f53_arg3 then
		f53_local0 = {
			defaultItem = f53_arg3,
			andPurchase = f53_arg4
		}
	end
	STORE.EnterStore( f53_arg0, f53_arg1, f53_arg2, f53_local0, STORE.GetStoreMenu( false ), false )
end

STORE.GoToStoreFromMainMenu = function ( f52_arg0, f52_arg1, f52_arg2 )
	STORE.EnterStore( f52_arg0, f52_arg1, f52_arg2, {
		fromMainMenu = true
	}, STORE.GetStoreMenu( true ), false )
end

STORE.GoToCODPointsOnlyStore = function ( f51_arg0, f51_arg1, f51_arg2 )
	STORE.EnterStore( f51_arg0, f51_arg1, f51_arg2, {
		onlyCODPoints = true
	}, STORE.GetStoreMenu( false ), false )
end

STORE.GetStoreDescription = function ()
	return CONDITIONS.AreCODPointsEnabled() and Engine[0xED84C33EC5F01EA]( "STORE/STORE_DESC" ) or Engine[0xED84C33EC5F01EA]( "STORE/STORE_DESC_NO_COD_POINTS" )
end

STORE.GetBundleDescription = function ( f49_arg0 )
	local f49_local0 = Engine[0xED84C33EC5F01EA]( StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f49_arg0, CSV.bundleIDs.cols.description ) )
	local f49_local1 = Engine[0x836C8AD984F14F6]() and Dvar[0x22EAAB59AA27E9B]( "#x31129515a8eb9623" ) or Dvar[0x22EAAB59AA27E9B]( "#x337fa3d1d7644ed9b" )
	if not Engine[0x54F2E859F96A9DB]() and STORE.BundleContainsDismemberment( f49_arg0 ) then
		f49_local0 = f49_local0 .. " " .. Engine[0xED84C33EC5F01EA]( "LUA_MENU/DISMEMBERMENT_REGION_LOCK_WARNING" )
	end
	if LOOT.IsLootVisible( "cortez_juliet_bundle_3" ) then
		if f49_arg0 == STORE.CortezBundleID.STANDARD or f49_arg0 == STORE.CortezBundleID.CROSSGEN then
			f49_local0 = Engine[0xED84C33EC5F01EA]( "STORE_TUJULIET/CORTEZ_BUNDLE_DESC_CROSS_GEN" )
		elseif f49_arg0 == STORE.CortezBundleID.ULTIMATE or f49_arg0 == STORE.CortezBundleID.UPGRADE then
			f49_local0 = Engine[0xED84C33EC5F01EA]( "STORE_TUJULIET/CORTEZ_BUNDLE_DESC_VALUT" )
		end
	elseif LOOT.IsLootVisible( "cortez_juliet_bundle_2" ) and (f49_arg0 == STORE.CortezBundleID.STANDARD or f49_arg0 == STORE.CortezBundleID.CROSSGEN or f49_arg0 == STORE.CortezBundleID.ULTIMATE or f49_arg0 == STORE.CortezBundleID.UPGRADE) then
		if Engine[0xFB1B6E36ABE59B8] then
			local f49_local2 = Engine[0xED84C33EC5F01EA]( "STORE_TUJULIET/CORTEZ_BILLBOARD_DESCRIPTION_CONSOLE_1" )
			if not f49_local2 then
				f49_local0 = f49_local2
			end
		end
		f49_local0 = Engine[0xED84C33EC5F01EA]( "STORE_TUJULIET/CORTEZ_BILLBOARD_DESCRIPTION_PC_1" )
	elseif Engine[0x836C8AD984F14F6]() and LOOT.IsLootVisible( "season5_bundles_live_sony" ) and (f49_arg0 == STORE.CortezBundleID.STANDARD or f49_arg0 == STORE.CortezBundleID.CROSSGEN or f49_arg0 == STORE.CortezBundleID.ULTIMATE or f49_arg0 == STORE.CortezBundleID.UPGRADE) then
		f49_local0 = Engine[0xED84C33EC5F01EA]( "PLATFORM_UI_TUINDIA/POST_BETA_BILLBOARD_DESC" )
	elseif f49_local1 == STORE.CortezBetaPhase.POSTBETA and (f49_arg0 == STORE.CortezBundleID.STANDARD or f49_arg0 == STORE.CortezBundleID.CROSSGEN or f49_arg0 == STORE.CortezBundleID.ULTIMATE or f49_arg0 == STORE.CortezBundleID.UPGRADE) then
		f49_local0 = Engine[0xED84C33EC5F01EA]( "PLATFORM_UI_TUINDIA/POST_BETA_BILLBOARD_DESC" )
	elseif f49_local1 == STORE.CortezBetaPhase.NONE and LOOT.IsLootVisible( "season5_bundles_live_sony" ) and (f49_arg0 == STORE.CortezBundleID.STANDARD or f49_arg0 == STORE.CortezBundleID.CROSSGEN or f49_arg0 == STORE.CortezBundleID.ULTIMATE or f49_arg0 == STORE.CortezBundleID.UPGRADE) then
		f49_local0 = Engine[0xED84C33EC5F01EA]( "PLATFORM_UI_TUINDIA/POST_BETA_BILLBOARD_DESC" )
	end
	return f49_local0
end

STORE.GetBundleName = function ( f48_arg0 )
	local f48_local0 = StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f48_arg0, CSV.bundleIDs.cols.name )
	if f48_local0 and 0 < #f48_local0 then
		local f48_local1 = Engine[0xED84C33EC5F01EA]( f48_local0 )
		if not Engine[0x54F2E859F96A9DB]() and STORE.BundleContainsDismemberment( f48_arg0 ) then
			f48_local1 = f48_local1 .. " " .. Engine[0xED84C33EC5F01EA]( "LUA_MENU/DISMEMBERMENT_REGION_LOCK_WARNING" )
		end
		return f48_local1
	else
		return ""
	end
end

STORE.GetBundle = function ( f47_arg0 )
	local f47_local0 = CSV.bundleIDs.cols
	local f47_local1 = {
		id = f47_local0.id,
		name = f47_local0.name,
		description = f47_local0.description,
		numItems = f47_local0.numItems,
		numHiddenItems = f47_local0.numHiddenItems,
		bundleType = f47_local0.bundleType,
		image = f47_local0.image,
		rarity = f47_local0.rarity,
		titleImage = f47_local0.titleImage,
		currencyID = f47_local0.currencyID,
		currencyAmount = f47_local0.currencyAmount
	}
	local f47_local2 = {}
	local f47_local3 = "item" .. 1
	table.insert( f47_local2, f47_local3 )
	if f47_local0[f47_local3] then
		
	else
		
	end
	local f47_local4 = StringTable[0x8073B436CDE1BF]( CSV.bundleIDs.file, f47_local0.id, f47_arg0 )
	if f47_local4 then
		return CSV.ReadRowWithColumns( CSV.bundleIDs, f47_local4, f47_local1 )
	else
		return nil
	end
end

STORE.CacheBundles = function ()
	if STORE.CachedBundles then
		return 
	end
	local f46_local0 = {}
	local f46_local1 = StringTable[0xFD4E49A34DD43AE]( CSV.bundleIDs.file )
	local f46_local2 = CSV.bundleIDs.cols
	local f46_local3 = {
		id = f46_local2.id,
		name = f46_local2.name,
		description = f46_local2.description,
		numItems = f46_local2.numItems,
		numHiddenItems = f46_local2.numHiddenItems,
		bundleType = f46_local2.bundleType,
		image = f46_local2.image,
		rarity = f46_local2.rarity,
		titleImage = f46_local2.titleImage,
		currencyID = f46_local2.currencyID,
		currencyAmount = f46_local2.currencyAmount,
		visibleItemsList = f46_local2.visibleItemsList,
		hiddenItemsList = f46_local2.hiddenItemsList,
		firstPartyProductID = f46_local2.firstPartyProductID,
		isBattlePassBundle = f46_local2.isBattlePassBundle
	}
	if f46_local2["item" .. 1] then
		
	else
		
	end
	if f46_local2["hiddenItem" .. 1] then
		
	else
		
	end
	for f46_local4 = 0, f46_local1 - 1, 1 do
		local f46_local7 = CSV.ReadRowWithColumns( CSV.bundleIDs, f46_local4, f46_local3 )
		local f46_local8 = LOOT.StripDuplicateTierSkips( LUI.Split( f46_local7.visibleItemsList, "|" ) )
		f46_local7.visibleItemsIDs = {}
		for f46_local12, f46_local13 in ipairs( f46_local8 ) do
			table.insert( f46_local7.visibleItemsIDs, tonumber( f46_local13 ) )
		end
		f46_local9 = LOOT.StripDuplicateTierSkips( LUI.Split( f46_local7.hiddenItemsList, "|" ) )
		f46_local7.hiddenItemsIDs = {}
		for f46_local13, f46_local14 in ipairs( f46_local9 ) do
			table.insert( f46_local7.hiddenItemsIDs, tonumber( f46_local14 ) )
		end
		table.insert( f46_local0, f46_local7 )
	end
	STORE.CachedBundles = f46_local0
end

STORE.GetAllBundles = function ()
	STORE.CacheBundles()
	return STORE.CachedBundles
end

STORE.BundleContainsDismemberment = function ( f44_arg0 )
	local f44_local0 = LOOT.GetBundleItemsMappedByType( f44_arg0 )
	f44_local0 = f44_local0[LOOT.itemTypes.WEAPON]
	if f44_local0 and 0 < #f44_local0 then
		for f44_local1 = 1, #f44_local0, 1 do
			if WEAPON.HasDismemberment( f44_local0[f44_local1] ) then
				return true
			end
		end
	end
	return false
end

STORE.BundleContainsLoot = function ( f43_arg0, f43_arg1 )
	STORE.CacheBundles()
	local f43_local0 = #STORE.CachedBundles
	for f43_local1 = 1, f43_local0, 1 do
		local f43_local4 = STORE.CachedBundles[f43_local1].id
		for f43_local8, f43_local9 in ipairs( STORE.CachedBundles[f43_local1].visibleItemsIDs ) do
			if f43_local9 == f43_arg1 and STORE.BundleAvailable( f43_arg0, f43_local4 ) then
				return true, f43_local4
			end
		end
	end
	return false
end

STORE.GetCategoryTimeLeft = function ( f42_arg0, f42_arg1 )
	local f42_local0 = ""
	local f42_local1 = 0
	local f42_local2 = Engine[0xF16311E3FCA3DCF]()
	if f42_arg1 and 0 < f42_arg1 then
		f42_local2 = f42_arg1
	elseif f42_arg0 and 0 < #f42_arg0 then
		f42_local2 = Dvar[0x54084D7CA2317BB]( f42_arg0 )
	end
	if f42_local2 ~= nil then
		f42_local2 = tostring( f42_local2 )
		if 0 < #f42_local2 then
			f42_local1 = tonumber( f42_local2 ) - Engine[0xD27CF0247301BFB]()
			if 0 < f42_local1 then
				f42_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/DAYS_HOURS_MINUTES_SECONDS", math.floor( f42_local1 % 604800 / 86400 ), math.floor( f42_local1 % 86400 / 3600 ), math.floor( f42_local1 % 3600 / 60 ), math.floor( f42_local1 % 60 ) )
			else
				f42_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/DAYS_HOURS_MINUTES_SECONDS", 0, 0, 0, 0 )
			end
		end
	else
		f42_local2 = "0"
	end
	return f42_local1, f42_local0, f42_local2
end

STORE.RunTimer = function ( f40_arg0, f40_arg1, f40_arg2, f40_arg3, f40_arg4, f40_arg5, f40_arg6 )
	assert( f40_arg0 )
	if not f40_arg1 and not f40_arg4 then
		f40_arg0:Wait( 1, true )
		f40_arg0:SetAlpha( 0 )
	end
	local f40_local0 = f40_arg0:Wait( 1000, true )
	f40_local0.onComplete = function ()
		return STORE.RunTimer( f40_arg0, f40_arg0, f40_arg0, f40_arg0, f40_arg0, f40_arg0, f40_arg0 )
	end
	
	local f40_local1, f40_local2, f40_local3 = STORE.GetCategoryTimeLeft( f40_arg1, f40_arg4 )
	if not f40_arg0.timerValue and f40_local3 ~= "" then
		f40_arg0.timerValue = f40_local3
	end
	if f40_arg6 then
		f40_arg6( f40_local1 )
	end
	if f40_arg2 then
		if not f40_arg3 or f40_local1 <= f40_arg3 then
			f40_arg0:SetAlpha( 1 )
		else
			f40_arg0:SetAlpha( 0 )
		end
		f40_arg2:setText( f40_local2 )
	end
	if f40_local1 <= 0 and f40_arg5 then
		LUI.FlowManager.RequestLeaveMenu( f40_arg0 )
	end
end

STORE.GetBundlePreviewWeapon = function ( f37_arg0, f37_arg1, f37_arg2, f37_arg3 )
	assert( f37_arg0 )
	assert( f37_arg1 )
	assert( f37_arg2 )
	assert( f37_arg3 )
	local f37_local0 = {}
	local f37_local1 = LOOT.GetBundleItemsMappedByType( f37_arg3 )
	if f37_arg1 == LOOT.itemTypes.WEAPON then
		local f37_local2 = WEAPON.GenerateWeaponTableFromID( f37_arg2 )
		if f37_local2 then
			table.insert( f37_local0, f37_local2 )
		else
			assert( false, "Unable to build weapon table for ID " .. f37_arg2 )
		end
	elseif f37_local1[LOOT.itemTypes.WEAPON] ~= nil then
		local f37_local2 = {}
		for f37_local3 = 1, #f37_local1[LOOT.itemTypes.WEAPON], 1 do
			local f37_local6 = tonumber( f37_local1[LOOT.itemTypes.WEAPON][f37_local3] )
			table.insert( f37_local2, {
				weaponID = f37_local6,
				slot = WEAPON.GetSlotFromRef( LOOT.GetItemRef( LOOT.itemTypes.WEAPON, f37_local6 ) ),
				rarity = tonumber( LOOT.GetItemQualityWithID( LOOT.itemTypes.WEAPON, f37_local6 ) ) or 0
			} )
		end
		table.sort( f37_local2, function ( f39_arg0, f39_arg1 )
			if (f37_arg0 == LOOT.itemTypes.OPERATOR or f37_arg0 == LOOT.itemTypes.OPERATOR_SKIN) and f39_arg0.slot ~= f39_arg1.slot then
				return f39_arg0.slot < f39_arg1.slot
			elseif f39_arg0.rarity ~= f39_arg1.rarity then
				return f39_arg1.rarity < f39_arg0.rarity
			else
				
			end
		end )
		for f37_local3 = 1, #f37_local2, 1 do
			local f37_local7 = WEAPON.GenerateWeaponTableFromID( f37_local2[f37_local3].weaponID )
			if f37_local7 then
				table.insert( f37_local0, f37_local7 )
			end
		end
	end
	local f37_local3 = LOADOUT.GetLoadoutPlayerData( f37_arg0, LOADOUT.GetFavoriteLoadoutIndex( f37_arg0 ) or 0 )
	if f37_local3 then
		local f37_local4 = WEAPON.GenerateWeaponTable( f37_local3.weaponSetups[0] )
		if f37_local4 then
			table.insert( f37_local0, f37_local4 )
		end
	end
	for f37_local4 = 1, LOADOUT.DefaultClassCount, 1 do
		if f37_local4 ~= favoriteLoadoutIndex then
			local f37_local7 = LOADOUT.GetLoadoutPlayerData( f37_arg0, f37_local4 )
			if f37_local7 then
				local f37_local9 = WEAPON.GenerateWeaponTable( f37_local7.weaponSetups[0] )
				if f37_local9 then
					table.insert( f37_local0, f37_local9 )
				end
			end
		end
	end
	local f37_local5 = WEAPON.GenerateWeaponTableFromID( WEAPON.DefaultPrimaryID )
	if f37_local5 then
		table.insert( f37_local0, f37_local5 )
	end
	local f37_local8 = function ( f38_arg0, f38_arg1, f38_arg2, f38_arg3 )
		if f38_arg0 == LOOT.itemTypes.WEAPON then
			return true
		elseif f38_arg0 == LOOT.itemTypes.OPERATOR or f38_arg0 == LOOT.itemTypes.OPERATOR_SKIN then
			return true
		elseif f38_arg0 == LOOT.itemTypes.CHARM then
			return f38_arg1
		elseif f38_arg0 == LOOT.itemTypes.STICKER then
			return f38_arg2
		elseif f38_arg0 == LOOT.itemTypes.CAMO then
			return f38_arg3
		else
			
		end
	end
	
	local f37_local6 = f37_local1[LOOT.itemTypes.CHARM] ~= nil
	local f37_local7 = f37_local1[LOOT.itemTypes.STICKER] ~= nil
	local f37_local9 = f37_local1[LOOT.itemTypes.CAMO] ~= nil
	for f37_local22, f37_local23 in ipairs( f37_local0 ) do
		local f37_local14 = false
		local f37_local20 = false
		local f37_local21 = false
		if f37_local6 and WEAPON.SupportsCosmetics( f37_local23.weapon ) and f37_arg1 ~= LOOT.itemTypes.STICKER and f37_arg1 ~= LOOT.itemTypes.CAMO and (f37_arg1 == LOOT.itemTypes.CHARM or Dvar[0x9E5BE3B4BBA4E0E]( "#x36c442864731047ae" )) then
			local f37_local13 = nil
			if f37_arg1 == LOOT.itemTypes.CHARM then
				f37_local13 = f37_arg2
			else
				f37_local13 = tonumber( f37_local1[LOOT.itemTypes.CHARM][1] )
			end
			f37_local23.cosmeticAttachment = LOOT.GetItemRef( LOOT.itemTypes.CHARM, f37_local13 )
			f37_local14 = true
		end
		local f37_local13 = WEAPON.GetMaxStickerSlotsForWeapon( f37_local23.weapon )
		if f37_local7 and 0 < f37_local13 and f37_arg1 ~= LOOT.itemTypes.CHARM and f37_arg1 ~= LOOT.itemTypes.CAMO and (f37_arg1 == LOOT.itemTypes.STICKER or Dvar[0x9E5BE3B4BBA4E0E]( "#x36c442864731047ae" )) then
			local f37_local15 = 0
			if f37_arg1 == LOOT.itemTypes.STICKER then
				f37_local15 = f37_local13
			else
				f37_local15 = math.min( f37_local13, #f37_local1[LOOT.itemTypes.STICKER] )
			end
			f37_local23.stickers = {}
			for f37_local16 = 1, f37_local15, 1 do
				local f37_local19 = nil
				if f37_arg1 == LOOT.itemTypes.STICKER then
					f37_local19 = f37_arg2
				else
					f37_local19 = tonumber( f37_local1[LOOT.itemTypes.STICKER][f37_local16] )
				end
				table.insert( f37_local23.stickers, LOOT.GetItemRef( LOOT.itemTypes.STICKER, f37_local19 ) )
			end
			f37_local20 = true
		end
		if f37_local9 and f37_arg1 ~= LOOT.itemTypes.CHARM and f37_arg1 ~= LOOT.itemTypes.STICKER and (f37_arg1 == LOOT.itemTypes.CAMO or Dvar[0x9E5BE3B4BBA4E0E]( "#x36c442864731047ae" )) then
			local f37_local15 = nil
			if f37_arg1 == LOOT.itemTypes.CAMO then
				f37_local15 = f37_arg2
			else
				f37_local15 = tonumber( f37_local1[LOOT.itemTypes.CAMO][1] )
			end
			f37_local23.camo = WEAPON.GetCamoRef( f37_local15 )
			f37_local21 = true
		end
		if f37_local8( f37_arg1, f37_local14, f37_local20, f37_local9 ) then
			return f37_local23
		end
	end
end

STORE.PreviewSupported = function ( f36_arg0 )
	local f36_local0
	if f36_arg0 ~= LOOT.itemTypes.WEAPON and f36_arg0 ~= LOOT.itemTypes.CHARM and f36_arg0 ~= LOOT.itemTypes.STICKER and f36_arg0 ~= LOOT.itemTypes.WATCH and f36_arg0 ~= LOOT.itemTypes.OPERATOR and f36_arg0 ~= LOOT.itemTypes.OPERATOR_SKIN and f36_arg0 ~= LOOT.itemTypes.PLAYERCARD and f36_arg0 ~= LOOT.itemTypes.FRAMES and f36_arg0 ~= LOOT.itemTypes.TITLES and f36_arg0 ~= LOOT.itemTypes.EMBLEM and f36_arg0 ~= LOOT.itemTypes.CAMO and f36_arg0 ~= LOOT.itemTypes.RETICLE and f36_arg0 ~= LOOT.itemTypes.SPRAYS and f36_arg0 ~= LOOT.itemTypes.OPERATOR_QUIP and f36_arg0 ~= LOOT.itemTypes.OPERATOR_EXECUTION and f36_arg0 ~= LOOT.itemTypes.OPERATOR_INTRO and f36_arg0 ~= LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT and f36_arg0 ~= LOOT.itemTypes.GESTURES and f36_arg0 ~= LOOT.itemTypes.BATTLE_PASS and f36_arg0 ~= LOOT.itemTypes.KILLCAM_VANITY then
		f36_local0 = false
	else
		f36_local0 = true
	end
	return f36_local0
end

STORE.GetOperatorAndSkinForPreview = function ( f35_arg0, f35_arg1, f35_arg2, f35_arg3 )
	local f35_local0, f35_local1 = nil
	local f35_local2 = false
	local f35_local3 = LOOT.GetItemsInBundle( f35_arg3 )
	for f35_local4 = 1, #f35_local3, 1 do
		local f35_local7 = f35_local3[f35_local4]
		if LOOT.GetTypeForID( f35_local7 ) == LOOT.itemTypes.OPERATOR_SKIN then
			f35_local1 = OPERATOR.GetOperatorSkinByRef( f35_arg0, LOOT.GetItemRef( LOOT.itemTypes.OPERATOR_SKIN, f35_local7 ), OPERATOR.GetOperatorRefByLootTypeAndID( LOOT.itemTypes.OPERATOR_SKIN, f35_local7, f35_arg0 ) )
			f35_local2 = true
			break
		end
	end
	if not f35_local2 then
		local f35_local4 = LOOT.GetItemRef( f35_arg1, f35_arg2 )
		local f35_local5 = ""
		local f35_local6 = ""
		if f35_arg1 == LOOT.itemTypes.OPERATOR_INTRO then
			f35_local0 = OPERATOR.GetHighlightIntroOwnerRef( f35_local4 )
			f35_local5 = "No highlight intro found"
			f35_local6 = "generic"
		elseif f35_arg1 == LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT then
			f35_local0 = OPERATOR.GetMVPHighlightOwnerRef( f35_local4 )
			f35_local5 = "No mvp highlight found"
			f35_local6 = "generic"
		elseif f35_arg1 == LOOT.itemTypes.OPERATOR_EXECUTION then
			f35_local0 = OPERATOR.GetExecutionOwnerRef( f35_local4 )
			f35_local5 = "No execution found"
			f35_local6 = "universal_ref"
		end
		if #f35_local0 == 0 then
			if CONDITIONS.IsDemoBuildOrDevBuild() then
				LUI.FlowManager.RequestErrorPopup( "Error", f35_local5 .. " " .. f35_local4 .. ". Please check postMatchFlowAnimationsIntros.csv." )
			end
		else
			if f35_local0 == f35_local6 then
				f35_local0 = OPERATOR.GetFavoriteOperatorRef( f35_arg0 )
			end
			f35_local1 = OPERATOR.GetEquippedSkinForOperator( f35_arg0, f35_local0 )
		end
	end
	return {
		operatorRef = f35_local0,
		skinInfo = f35_local1
	}
end

STORE.PreviewItem = function ( f26_arg0, f26_arg1, f26_arg2, f26_arg3, f26_arg4, f26_arg5, f26_arg6, f26_arg7, f26_arg8 )
	local f26_local0 = function ()
		if f26_arg0 then
			return STORE.GetBundlePreviewWeapon( f26_arg0, f26_arg0, f26_arg0, f26_arg0 )
		else
			return BATTLEPASS.GetPreviewWeapon( f26_arg0, f26_arg0, f26_arg0, f26_arg0 )
		end
	end
	
	local f26_local1 = function ()
		local f33_local0 = nil
		if f26_arg0 ~= LOOT.itemTypes.WATCH then
			f33_local0 = f26_arg0()
			if not f33_local0 then
				return 
			end
		end
		local f33_local1 = LOOT.GetItemRef( f26_arg0, f26_arg0 )
		if f26_arg0 == LOOT.itemTypes.WEAPON then
			local f33_local2 = {
				isStorePreview = true,
				storePreviewItemType = f26_arg0,
				timerValue = f26_arg0,
				weaponTable = f33_local0,
				itemRef = f33_local1,
				isVariant = WEAPON.IsVariant( f26_arg0, f26_arg0 ),
				bundleData = f26_arg0
			}
			local f33_local3 = f26_arg0
			if f33_local3 then
				f33_local3 = not STORE.IsFirstPartyBundle( f26_arg0 )
			end
			f33_local2.quickPurchaseEnabled = f33_local3
			LUI.FlowManager.RequestAddMenu( "ModificationPreview", true, f26_arg0, f26_arg0, f33_local2, true, true )
		else
			local f33_local2 = {
				isStorePreview = true,
				storePreviewItemType = f26_arg0,
				titleOverride = LOOT.GetItemName( f26_arg0, f33_local1 ),
				timerValue = f26_arg0,
				weaponTable = f33_local0
			}
			local f33_local3
			if f26_arg0 == LOOT.itemTypes.WATCH and not f33_local1 then
				f33_local3 = f33_local1
			else
				f33_local3 = nil
			end
			f33_local2.watchRef = f33_local3
			f33_local2.itemRef = f33_local1
			f33_local2.bundleData = f26_arg0
			f33_local3 = f26_arg0
			if f33_local3 then
				f33_local3 = not STORE.IsFirstPartyBundle( f26_arg0 )
			end
			f33_local2.quickPurchaseEnabled = f33_local3
			if CONDITIONS.IsMenuInStack( "WeaponProgression" ) then
				f33_local3 = LUI.FlowManager.GetScopedData( "WeaponProgression" )
				if f33_local3 then
					f33_local3._fromWeaponPreview = true
				end
			end
			LUI.FlowManager.RequestAddMenu( "WeaponPreview", true, f26_arg0, f26_arg0, f33_local2, true, true )
		end
	end
	
	local f26_local2 = function ()
		local f32_local0 = {
			isStorePreview = true,
			lootID = f26_arg0,
			timerValue = f26_arg0,
			bundleData = f26_arg0
		}
		local f32_local1 = f26_arg0
		if f32_local1 then
			f32_local1 = not STORE.IsFirstPartyBundle( f26_arg0 )
		end
		f32_local0.quickPurchaseEnabled = f32_local1
		LUI.FlowManager.RequestAddMenu( "ReticleSelect", true, f26_arg0, f26_arg0, f32_local0, true )
	end
	
	local f26_local3 = function ()
		local f31_local0, f31_local1, f31_local2 = nil
		if f26_arg0 == LOOT.itemTypes.OPERATOR then
			f31_local0 = LOOT.GetItemRef( f26_arg0, f26_arg0 )
			f31_local1 = OPERATOR.GetEquippedSkinForOperator( f26_arg0, f31_local0 )
			f31_local2 = OPERATOR.GetName( f31_local0 )
		else
			f31_local0 = OPERATOR.GetOperatorRefByLootTypeAndID( f26_arg0, f26_arg0, f26_arg0 )
			local f31_local3 = LOOT.GetItemRef( f26_arg0, f26_arg0 )
			f31_local1 = OPERATOR.GetOperatorSkinByRef( f26_arg0, f31_local3, f31_local0 )
			f31_local2 = OPERATOR.GetSkinName( f31_local3 )
		end
		local f31_local3 = nil
		local f31_local4 = OPERATOR.GetFavoriteWeaponAsTable( f31_local0 )
		if f31_local4 then
			local f31_local5, f31_local6 = OPERATOR.GetWeaponDataFromLoadout( f26_arg0 )
			f31_local3 = {
				primaryModel = WEAPON.GetWeaponModelName( f31_local4.weapon, f31_local4, {
					includeStickers = true,
					includeAttachments = true,
					useOperatorOverride = true,
					includeCamos = true,
					controllerIndex = f26_arg0
				} ),
				secondaryModel = f31_local6
			}
		end
		local f31_local5 = {
			isStorePreview = true,
			operatorData = {
				previewOperatorRef = f31_local0,
				skinInfo = f31_local1
			},
			storePreviewItemType = f26_arg0,
			titleOverride = f31_local2,
			timerValue = f26_arg0,
			weaponData = f31_local3,
			itemRef = LOOT.GetItemRef( f26_arg0, f26_arg0 ),
			isBattlePass = f26_arg0,
			bundleData = f26_arg0
		}
		local f31_local6 = f26_arg0
		if f31_local6 then
			f31_local6 = not STORE.IsFirstPartyBundle( f26_arg0 )
		end
		f31_local5.quickPurchaseEnabled = f31_local6
		LUI.FlowManager.RequestAddMenu( "OperatorShowcase", true, f26_arg0, f26_arg0, f31_local5, true, true )
	end
	
	local f26_local4 = function ()
		local f30_local0, f30_local1 = nil
		local f30_local2 = LOOT.GetItemRef( f26_arg0, f26_arg0 )
		if f26_arg0 == LOOT.itemTypes.OPERATOR_INTRO or f26_arg0 == LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT or f26_arg0 == LOOT.itemTypes.OPERATOR_EXECUTION then
			local f30_local3 = STORE.GetOperatorAndSkinForPreview( f26_arg0, f26_arg0, f26_arg0, f26_arg0 )
			f30_local0 = f30_local3.operatorRef
			f30_local1 = f30_local3.skinInfo
			if not f30_local0 or not f30_local1 then
				return 
			end
		else
			assert( false )
		end
		local f30_local3 = {
			isStorePreview = true,
			operatorData = {
				previewOperatorRef = f30_local0,
				skinInfo = f30_local1
			},
			lootType = f26_arg0,
			itemRef = f30_local2,
			rowIndex = OPERATOR.GetRowIndex( f26_arg0, f30_local2 )
		}
		if 0 <= f30_local3.rowIndex then
			LUI.FlowManager.RequestAddMenu( "OperatorCustomizationPreview", true, f26_arg0, f26_arg0, f30_local3, true, true )
		end
	end
	
	local f26_local5 = function ()
		local f29_local0 = {
			lootID = f26_arg0,
			lootType = f26_arg0,
			timerValue = f26_arg0,
			isBattlePass = f26_arg0,
			bundleData = f26_arg0
		}
		local f29_local1 = f26_arg0
		if f29_local1 then
			f29_local1 = not STORE.IsFirstPartyBundle( f26_arg0 )
		end
		f29_local0.quickPurchaseEnabled = f29_local1
		LUI.FlowManager.RequestPopupMenu( nil, "StorePreviewItemPopup", true, f26_arg0, f26_arg0, f29_local0, nil, false, false )
	end
	
	local f26_local6 = function ()
		local f28_local0 = {
			isStorePreview = true,
			storePreviewItemType = f26_arg0,
			lootID = f26_arg0,
			lootType = f26_arg0,
			timerValue = f26_arg0,
			itemRef = LOOT.GetItemRef( f26_arg0, f26_arg0 ),
			bundleData = f26_arg0
		}
		local f28_local1 = f26_arg0
		if f28_local1 then
			f28_local1 = not STORE.IsFirstPartyBundle( f26_arg0 )
		end
		f28_local0.quickPurchaseEnabled = f28_local1
		LUI.FlowManager.RequestPopupMenu( nil, "VehiclePreview", true, f26_arg0, f26_arg0, f28_local0, true )
	end
	
	local f26_local7 = function ()
		local f27_local0 = {
			isStorePreview = true,
			storePreviewItemType = f26_arg0,
			lootID = f26_arg0,
			lootType = f26_arg0,
			timerValue = f26_arg0,
			itemRef = LOOT.GetItemRef( f26_arg0, f26_arg0 ),
			bundleData = f26_arg0
		}
		local f27_local1 = f26_arg0
		if f27_local1 then
			f27_local1 = not STORE.IsFirstPartyBundle( f26_arg0 )
		end
		f27_local0.quickPurchaseEnabled = f27_local1
		LUI.FlowManager.RequestAddMenu( "KillcamVanityPreview", true, f26_arg0, f26_arg0, f27_local0, true, true )
	end
	
	if f26_arg1 == LOOT.itemTypes.WEAPON or f26_arg1 == LOOT.itemTypes.CHARM or f26_arg1 == LOOT.itemTypes.STICKER or f26_arg1 == LOOT.itemTypes.CAMO or f26_arg1 == LOOT.itemTypes.WATCH then
		f26_local1( f26_arg0, f26_arg1, f26_arg2, f26_arg3, f26_arg4 )
	elseif f26_arg1 == LOOT.itemTypes.RETICLE then
		f26_local2( f26_arg0, f26_arg1, f26_arg2, f26_arg3, f26_arg4 )
	elseif f26_arg1 == LOOT.itemTypes.OPERATOR or f26_arg1 == LOOT.itemTypes.OPERATOR_SKIN then
		f26_local3( f26_arg0, f26_arg1, f26_arg2, f26_arg3, f26_arg4 )
	elseif f26_arg1 == LOOT.itemTypes.OPERATOR_INTRO or f26_arg1 == LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT or f26_arg1 == LOOT.itemTypes.OPERATOR_EXECUTION then
		f26_local4( f26_arg0, f26_arg1, f26_arg2, f26_arg3, f26_arg4 )
	elseif f26_arg1 == LOOT.itemTypes.VEHICLE_CAMO then
		f26_local6( f26_arg0, f26_arg1, f26_arg2, f26_arg3, f26_arg4 )
	elseif f26_arg1 == LOOT.itemTypes.PLAYERCARD or f26_arg1 == LOOT.itemTypes.FRAMES or f26_arg1 == LOOT.itemTypes.TITLES or f26_arg1 == LOOT.itemTypes.EMBLEM or f26_arg1 == LOOT.itemTypes.SPRAYS or f26_arg1 == LOOT.itemTypes.OPERATOR_QUIP or f26_arg1 == LOOT.itemTypes.OPERATOR_EXECUTION or f26_arg1 == LOOT.itemTypes.GESTURES or f26_arg1 == LOOT.itemTypes.BATTLE_PASS then
		f26_local5( f26_arg0, f26_arg1, f26_arg2, f26_arg3, f26_arg4 )
	elseif f26_arg1 == LOOT.itemTypes.KILLCAM_VANITY then
		f26_local7( f26_arg0, f26_arg1, f26_arg2, f26_arg3, f26_arg4 )
	end
end

STORE.ParseSalesItems = function ( f25_arg0 )
	local f25_local0 = nil
	if Engine[0x8B495DC361731F7]( f25_arg0 ) then
		f25_local0 = Dvar[0x54084D7CA2317BB]( "#x330e0020116bb237d" )
	else
		f25_local0 = Dvar[0x54084D7CA2317BB]( "#x31be248cfe268542a" )
	end
	return LUI.Split( f25_local0, "," )
end

STORE.ParsePromotedItems = function ( f24_arg0 )
	local f24_local0 = nil
	if Engine[0x8B495DC361731F7]( f24_arg0 ) then
		f24_local0 = Dvar[0x54084D7CA2317BB]( "#x3b204d9960008824d" )
	else
		f24_local0 = Dvar[0x54084D7CA2317BB]( "#x3416892e22185edfa" )
	end
	return LUI.KeyValueSplit( f24_local0, "," )
end

STORE.IsItemOnSale = function ( f23_arg0, f23_arg1 )
	local f23_local0 = STORE.ParseSalesItems( f23_arg1 )
	if f23_local0 ~= nil then
		for f23_local4, f23_local5 in ipairs( f23_local0 ) do
			if tonumber( f23_local5 ) == f23_arg0 then
				return true
			end
		end
	end
	return false
end

STORE.ParseCountDownTime = function ( f22_arg0 )
	local f22_local0 = nil
	if f22_arg0 and 0 < #f22_arg0 and 0 < tonumber( f22_arg0 ) then
		local f22_local1 = Engine[0x81B9C166599CE22]( tostring( f22_arg0 ) )
		if 0 < f22_local1 then
			f22_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/DAYS_HOURS_MINUTES_SECONDS", math.floor( f22_local1 % 604800 / 86400 ), math.floor( f22_local1 % 86400 / 3600 ), math.floor( f22_local1 % 3600 / 60 ), math.floor( f22_local1 % 60 ) )
		else
			f22_local0 = Engine[0xED84C33EC5F01EA]( "LUA_MENU/DAYS_HOURS_MINUTES_SECONDS", 0, 0, 0, 0 )
		end
	end
	return f22_local0
end

STORE.OwnsItemInCategory = function ( f21_arg0, f21_arg1 )
	if STORE.IsCatalogReady( f21_arg0 ) then
		for f21_local3, f21_local4 in ipairs( InGameStore.GetCategoryProducts( f21_arg0, f21_arg1 ) ) do
			if f21_local4.status ~= InGameStoreProductStatus.NOT_OWNED then
				return true
			end
		end
	end
	return false
end

STORE.IsTitleID = function ( f20_arg0 )
	for f20_local3, f20_local4 in pairs( STORE.TitleIDs ) do
		if f20_arg0 == f20_local4 then
			return true
		end
	end
	f20_local0 = StringTable[0x8073B436CDE1BF]( CSV.dlcIDs.file, CSV.dlcIDs.cols.id, f20_arg0 )
	if f20_local0 == -1 then
		return 
	end
	f20_local1 = nil
	if CONDITIONS.IsSony() then
		f20_local1 = STORE.BaseGameIDs.PSN_BASEGAME
	elseif CONDITIONS.IsXbox() then
		f20_local1 = STORE.BaseGameIDs.XBL_BASEGAME
	elseif CONDITIONS.IsBattleNet() then
		f20_local1 = STORE.BaseGameIDs.BNET_BASEGAME
	else
		DebugPrint( "STORE UI - Couldn't find BaseGameID for platform" )
		return false
	end
	f20_local2 = CSV.ReadRow( CSV.dlcIDs, f20_local0 )
	f20_local3 = LUI.Split( f20_local2.itemIDs, "|", true )
	for f20_local4 = 1, #f20_local3, 1 do
		local f20_local7 = f20_local3[f20_local4]
		if 0 < #f20_local7 and tonumber( f20_local7 ) == f20_local1 then
			return true
		end
	end
	return false
end

STORE.IsStandardTitleID = function ( f19_arg0 )
	local f19_local0
	if f19_arg0 ~= STORE.TitleIDs.BNET_STANDARD and f19_arg0 ~= STORE.TitleIDs.PS4_STANDARD and f19_arg0 ~= STORE.TitleIDs.XB3_STANDARD then
		f19_local0 = false
	else
		f19_local0 = true
	end
	return f19_local0
end

STORE.IsBattlePassTitleID = function ( f18_arg0 )
	local f18_local0
	if f18_arg0 ~= STORE.TitleIDs.BNET_BATTLE_PASS and f18_arg0 ~= STORE.TitleIDs.PS4_BATTLE_PASS and f18_arg0 ~= STORE.TitleIDs.XB3_BATTLE_PASS then
		f18_local0 = false
	else
		f18_local0 = true
	end
	return f18_local0
end

STORE.GetTitleIDsForCurrentPlatform = function ()
	local f17_local0 = {}
	if Engine[0x5575DCFF312365A]() then
		f17_local0 = {
			STORE.TitleIDs.BNET_STANDARD,
			STORE.TitleIDs.BNET_BATTLE_PASS
		}
	elseif Engine[0x836C8AD984F14F6]() then
		f17_local0 = {
			STORE.TitleIDs.PS4_STANDARD,
			STORE.TitleIDs.PS4_BATTLE_PASS
		}
	elseif Engine[0x9D348E40740E9A8]() then
		f17_local0 = {
			STORE.TitleIDs.XB3_STANDARD,
			STORE.TitleIDs.XB3_CROSSGEN,
			STORE.TitleIDs.XB3_ULTIMATE,
			STORE.TitleIDs.XB3_BATTLE_PASS
		}
	end
	return f17_local0
end

STORE.OpenQuickPurchasePopupInPreview = function ( f15_arg0, f15_arg1, f15_arg2 )
	if f15_arg0 then
		if Commerce[0xFCE51EA6B7B00CC]( f15_arg2, f15_arg0.itemCurrencyID ) < f15_arg0.itemCurrencyAmount then
			STORE.EnterStore( f15_arg2, f15_arg1, nil, {
				showBalance = true,
				controllerIndex = f15_arg2,
				currencyID = f15_arg0.itemCurrencyID,
				currencyAmount = f15_arg0.itemCurrencyAmount
			}, "PurchaseCODPointsPopup", true )
		else
			local f15_local0 = {
				itemName = StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f15_arg0.bundleID, CSV.bundleIDs.cols.name ),
				itemImage = StringTable[0x2DCF0973239E909]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f15_arg0.bundleID, CSV.bundleIDs.cols.titleImage ),
				itemCurrencyID = f15_arg0.itemCurrencyID,
				itemCurrencyAmount = f15_arg0.itemCurrencyAmount,
				timerPubVar = f15_arg0.timerPubVar,
				showDisclaimer = f15_arg0.showDisclaimer,
				startPurchaseImmediately = f15_arg0.startPurchaseImmediately,
				confirmAction = function ()
					local f16_local0 = LUI.FlowManager.GetScopedData( "StoreBundlePreview" )
					f16_local0.isQuickPurchasePopupInPreview = true
					ACTIONS.RestoreMenu( "StoreBundlePreview", true, f15_arg0 )
				end
			}
			Engine[0xC4146BA76D0F982]( SOUND_SETS.storefront.purchaseBundle )
			LUI.FlowManager.RequestPopupMenu( nil, "StoreConfirmPurchasePopup", true, f15_arg2, false, f15_local0, nil, false, true )
		end
	end
end

local f0_local1 = 3
STORE.GetUpsellBundleList = function ( f14_arg0 )
	local f14_local0 = {}
	local f14_local1 = Engine[0x5CA33565A117BF3]( Store[0x5CA33565A117BF3]() )
	local f14_local2 = STORE.CheckForPersonalRecommendations( f14_arg0 )
	for f14_local16, f14_local17 in ipairs( f14_local1 ) do
		local f14_local6 = Dvar[0x54084D7CA2317BB]( f14_local17.idPubVar ) or ""
		if f14_local17.justForYou and f14_local2 then
			f14_local6 = STORE.FormatRecommendationItems( f14_local2 .. "," .. f14_local6 )
		end
		for f14_local13, f14_local14 in ipairs( split( f14_local6, "," ) ) do
			local f14_local15 = tonumber( f14_local14 )
			if STORE.BundleAvailable( f14_arg0, f14_local15 ) then
				local f14_local10 = {
					id = f14_local15
				}
				local f14_local11 = CSV.ReadRow( {
					file = CSV.bundleIDs.file,
					cols = CSV.bundleIDs.cols
				}, StringTable[0x8073B436CDE1BF]( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f14_local14 ) )
				f14_local10.name = f14_local11.name
				f14_local10.image = f14_local11.image
				f14_local10.description = f14_local11.description
				f14_local10.rarity = f14_local11.rarity
				f14_local10.bundleType = f14_local11.bundleType
				f14_local10.titleImage = f14_local11.titleImage
				f14_local10.currencyID = tonumber( f14_local11.currencyID )
				f14_local10.currencyAmount = tonumber( f14_local11.currencyAmount )
				local f14_local12
				if 0 < #f14_local11.video then
					f14_local12 = f14_local11.video
					if not f14_local12 then
					
					else
						f14_local10.video = f14_local12
						f14_local10.itemIndex = f14_local13
						f14_local10.owned = false
						f14_local10.isFirstParty = false
						f14_local10.openedFromPopup = true
						table.insert( f14_local0, f14_local10 )
						if f0_local0 <= #f14_local0 then
							return f14_local0
						end
					end
				end
				f14_local12 = nil
			end
		end
	end
	return f14_local0
end

STORE.OpenBundleUpsellPopup = function ( f13_arg0 )
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x3cccbdf6731d62c92" ) then
		local f13_local0 = STORE.GetUpsellBundleList( f13_arg0 )
		if 0 < #f13_local0 then
			LUI.FlowManager.RequestPopupMenu( nil, "BundlePurchaseUpsellPopup", true, f13_arg0, false, {
				items = f13_local0
			} )
		end
	end
end

STORE.ShouldModifyFeaturedItems = function ( f12_arg0 )
	local f12_local0 = Dvar[0x22EAAB59AA27E9B]( "#x3a3d3e09c84ee0765" )
	if not f12_local0 or f12_local0 <= 0 then
		return false
	else
		local f12_local1 = AccountRegistration[0x290EF31EE6A8D5D]( f12_arg0 )
		if f12_local1 and 0 < f12_local1 then
			return f12_local1 / 60 / 60 / 24 < f12_local0
		else
			return false
		end
	end
end

STORE.GetPriorityFeaturedItems = function ()
	local f11_local0 = Dvar[0x54084D7CA2317BB]( "#x38d61b99758294c69" )
	if not f11_local0 then
		f11_local0 = ""
	end
	return f11_local0
end

STORE.GetSchedule = function ()
	if not STORE.ScheduleData then
		local f10_local0 = Engine[0xB6B0898C7795778]( Store[0xB6B0898C7795778]() )
		if f10_local0.scheduleFilename then
			STORE.ScheduleData = Engine[0x8327159C82123B6]( f10_local0.scheduleFilename )
		end
	end
	return STORE.ScheduleData
end

STORE.UpdateCachedScheduledBundles = function ( f9_arg0, f9_arg1 )
	if not f9_arg1 then
		f9_arg1 = Engine[0xD27CF0247301BFB]()
	end
	if not f9_arg0 then
		f9_arg0 = STORE.GetSchedule()
	end
	if f9_arg0 then
		STORE.NextScheduleUpdate = math.huge
		STORE.ActiveScheduledBundles = {}
		for f9_local0 = 1, #f9_arg0, 1 do
			local f9_local3 = f9_arg0[f9_local0].startDate
			local f9_local4 = f9_arg0[f9_local0].endDate
			if f9_local3 <= f9_arg1 and f9_arg1 < f9_local4 then
				STORE.NextScheduleUpdate = math.min( STORE.NextScheduleUpdate, f9_local4 )
				table.insert( STORE.ActiveScheduledBundles, f9_arg0[f9_local0] )
			end
		end
	end
end

STORE.GetCachedScheduledBundles = function ( f8_arg0, f8_arg1 )
	if not f8_arg1 then
		f8_arg1 = Engine[0xD27CF0247301BFB]()
	end
	if f8_arg1 and f8_arg1 >= STORE.NextScheduleUpdate then
		if not f8_arg0 then
			f8_arg0 = STORE.GetSchedule()
		end
		STORE.UpdateCachedScheduledBundles( f8_arg0, f8_arg1 )
	end
	return STORE.ActiveScheduledBundles
end

STORE.GetAllScheduledProducts = function ( f7_arg0 )
	local f7_local0 = Engine[0xD27CF0247301BFB]()
	local f7_local1 = STORE.GetCachedScheduledBundles( f7_arg0, f7_local0 )
	local f7_local2 = ""
	for f7_local6, f7_local7 in ipairs( f7_local1 ) do
		if f7_local7.startDate <= f7_local0 and f7_local0 < f7_local7.endDate then
			f7_local2 = f7_local2 .. f7_local7.productList .. ","
		end
	end
	return f7_local2
end

STORE.GetScheduledProductsForCategory = function ( f6_arg0, f6_arg1 )
	local f6_local0 = Engine[0xD27CF0247301BFB]()
	local f6_local1 = f6_arg0.id
	for f6_local5, f6_local6 in ipairs( STORE.GetCachedScheduledBundles( f6_arg1, f6_local0 ) ) do
		if f6_local6.startDate <= f6_local0 and f6_local0 < f6_local6.endDate and f6_local6.categoryId == f6_local1 then
			return f6_local6.productList
		end
	end
	return ""
end

STORE.GetCategoryData = function ( f5_arg0, f5_arg1 )
	assert( f5_arg0 )
	local f5_local0 = f5_arg1
	if not f5_arg1 then
		f5_local0 = Engine[0x5CA33565A117BF3]( Store[0x5CA33565A117BF3]() )
	end
	return f5_local0
end

STORE.GetCategoryDataForAllBundles = function ( f4_arg0 )
	local f4_local0 = {}
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x3e18487f3c2aa939a" ) then
		local f4_local1 = STORE.maxButtonsPerCategoryRow
		local f4_local2 = STORE.GetAllBundles( f4_arg0 )
		local f4_local3 = math.ceil( #f4_local2 / f4_local1 )
		for f4_local4 = 1, f4_local3, 1 do
			local f4_local7 = {
				firstBundleIndex = f4_local4 * f4_local1 - f4_local1 + 1,
				lastBundleIndex = f4_local4 * f4_local1,
				itemIDsString = ""
			}
			for f4_local8 = f4_local7.firstBundleIndex, f4_local7.lastBundleIndex, 1 do
				if #f4_local2 < f4_local8 then
					break
				end
				if f4_local8 == f4_local7.firstBundleIndex then
					f4_local7.itemIDsString = f4_local2[f4_local8].id
				else
					f4_local7.itemIDsString = f4_local7.itemIDsString .. "," .. f4_local2[f4_local8].id
				end
			end
			f4_local7.id = "featured"
			f4_local7.name = "STORE/STORE_CAT_BUNDLE_RANGE"
			f4_local7.numItemsShown = f4_local1
			table.insert( f4_local0, f4_local7 )
		end
	end
	return f4_local0
end

STORE.HasNewBundlesFromUpdate = function ( f3_arg0, f3_arg1 )
	assert( f3_arg0 )
	local f3_local0 = Engine[0x5CA33565A117BF3]( Store[0x5CA33565A117BF3]() )
	local f3_local1 = ""
	for f3_local2 = 1, #f3_local0, 1 do
		local f3_local5 = f3_local0[f3_local2]
		f3_local5.items = f3_local5.items or {}
		local f3_local6 = STORE.GetNewBundlesFromUpdate( f3_arg0, f3_local5 )
		if f3_local6 then
			f3_local1 = STORE.FormatRecommendationItems( f3_local1 .. "," .. f3_local6 )
		end
	end
	local f3_local2 = false
	if f3_arg1 == nil and f3_local1 == "" then
		return f3_local2, f3_local1
	end
	local f3_local3, f3_local4 = nil
	local f3_local7 = {}
	if f3_arg1 ~= nil then
		f3_local3 = split( f3_arg1, "," )
		for f3_local5 = 1, #f3_local3, 1 do
			f3_local7[f3_local3[f3_local5]] = 1
		end
	end
	if f3_local1 ~= "" then
		f3_local4 = split( f3_local1, "," )
		for f3_local5 = 1, #f3_local4, 1 do
			if f3_local7[f3_local4[f3_local5]] == nil then
				f3_local2 = true
				break
			end
		end
	end
	return f3_local2, f3_local1
end

STORE.GetNewBundlesFromUpdate = function ( f2_arg0, f2_arg1 )
	assert( f2_arg0 )
	assert( f2_arg1 )
	f2_arg1.items = f2_arg1.items or {}
	local f2_local0 = f2_arg1.items and f2_arg1.items[1] or {}
	if f2_local0.emptyCategory then
		return ""
	end
	local f2_local1 = STORE.GetSchedule()
	local f2_local2 = ""
	local f2_local3 = ""
	if f2_arg1.idPubVar then
		local f2_local4 = Dvar[0x54084D7CA2317BB]( f2_arg1.idPubVar )
		if not f2_local4 then
			f2_local2 = f2_local4
		else
			f2_local2 = ""
		end
		if f2_arg1.justForYou then
			f2_local4 = STORE.CheckForPersonalRecommendations( f2_arg0 )
			if f2_local4 then
				f2_local2 = STORE.FormatRecommendationItems( f2_local4 .. "," .. f2_local2 )
			end
		elseif STORE.CategoryType[f2_arg1.id] == STORE.CategoryType.featured and STORE.ShouldModifyFeaturedItems( f2_arg0 ) then
			f2_local2 = STORE.FormatRecommendationItems( STORE.GetPriorityFeaturedItems() .. "," .. f2_local2 )
		end
		if f2_local1 and not Dvar[0x9E5BE3B4BBA4E0E]( "#x3256f9a703f3494a7" ) then
			f2_local2 = STORE.FormatRecommendationItems( f2_local2 .. "," .. STORE.GetScheduledProductsForCategory( f2_arg1, f2_local1 ) )
		end
		f2_local4 = split( f2_local2, "," )
		local f2_local5 = 0
		for f2_local6 = 1, #f2_local4, 1 do
			if STORE.BundleAvailable( f2_arg0, tonumber( f2_local4[f2_local6] ) ) then
				f2_local5 = f2_local5 + 1
				f2_local3 = STORE.FormatRecommendationItems( f2_local3 .. "," .. f2_local4[f2_local6] )
			end
			if f2_local5 == f2_arg1.numItemsShown then
				break
			end
		end
	end
	return f2_local3
end

STORE.GetAvailableBundlesContainingLoot = function ( f1_arg0, f1_arg1 )
	local f1_local0 = STORE.GetAllBundles()
	local f1_local1 = {}
	for f1_local8, f1_local9 in ipairs( f1_local0 ) do
		local f1_local5
		if LUI.IsItemInArray( f1_local9.hiddenItemsIDs, f1_arg1 ) == nil and LUI.IsItemInArray( f1_local9.visibleItemsIDs, f1_arg1 ) == nil then
			f1_local5 = false
		else
			f1_local5 = true
		end
		local f1_local6 = f1_local9.id
		local f1_local7
		if f1_local5 then
			f1_local7 = f1_local5
		else
			f1_local7 = STORE.BundleAvailable( f1_arg0, f1_local6 )
		end
		if f1_local7 then
			table.insert( f1_local1, f1_local9 )
		end
	end
	return f1_local1
end

