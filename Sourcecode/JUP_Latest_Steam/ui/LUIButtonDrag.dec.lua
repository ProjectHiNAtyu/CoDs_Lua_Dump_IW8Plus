-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
require( "ui.LUITimer" )

LUI.UIButtonDrag = LUI.Class( LUI.UIElement )
LUI.UIButtonDrag.init = function ( f4_arg0, f4_arg1 )
	LUI.UIElement.init( f4_arg0 )
	f4_arg0.id = "LUIButtonDrag"
	if not f4_arg1 then
		f4_arg1 = {}
	end
	f4_arg0.dragCallback = f4_arg1.dragCallback
	if f4_arg1.addHandle then
		local f4_local0 = f4_arg1.handleSize
		if not f4_local0 then
			f4_local0 = 10
		end
		f4_local0 = f4_local0 / 2
		local self = LUI.UIImage.new()
		self:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -f4_local0, f4_local0, -f4_local0, f4_local0 )
		f4_arg0:addElement( self )
		f4_arg0.Handle = self
	end
	if Engine[0x5EE05AD994388B6]() then
		f4_arg0:registerEventHandler( "leftmousedown", LUI.UIButtonDrag.LeftMouseDown )
		f4_arg0:registerEventHandler( "leftmouseup", LUI.UIButtonDrag.LeftMouseUp )
		f4_arg0:registerEventHandler( "mouse_capture_lost", LUI.UIButtonDrag.LeftMouseUp )
		f4_arg0:registerEventHandler( "mousedrag", LUI.UIButtonDrag.HandleMouseDrag )
		f4_arg0:SetHandleMouse( true )
	end
end

LUI.UIButtonDrag.LeftMouseDown = function ( f3_arg0, f3_arg1 )
	if f3_arg0._mouseDown then
		return 
	else
		f3_arg0._mouseDown = true
		local f3_local0 = f3_arg1.x
		f3_arg0._mouseYPrev = f3_arg1.y
		f3_arg0._mouseXPrev = f3_local0
	end
end

LUI.UIButtonDrag.HandleMouseDrag = function ( f2_arg0, f2_arg1 )
	if not f2_arg0._mouseDown then
		return 
	end
	local f2_local0 = f2_arg1.x
	local f2_local1 = f2_arg1.y
	local f2_local2 = f2_local0 - f2_arg0._mouseXPrev
	local f2_local3 = f2_local1 - f2_arg0._mouseYPrev
	f2_arg0._mouseXPrev = f2_local0
	f2_arg0._mouseYPrev = f2_local1
	if f2_arg0.dragCallback ~= nil then
		f2_arg0:dragCallback( f2_local2, f2_local3 )
	end
	return f2_local2, f2_local3
end

LUI.UIButtonDrag.LeftMouseUp = function ( f1_arg0, f1_arg1 )
	f1_arg0._mouseDown = false
end

