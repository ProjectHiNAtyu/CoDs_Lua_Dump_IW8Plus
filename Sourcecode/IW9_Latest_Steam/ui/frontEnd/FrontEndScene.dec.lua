-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
FrontEndScene = FrontEndScene or {}
FrontEndScene.ClientCharacters = {
	Social6 = 5,
	LobbyPet6 = 13,
	Lobby6 = 6,
	OperatorEast = 1,
	ArenaLeft3 = 2,
	ArenaLeft2 = 1,
	ArenaLeft4 = 3,
	LobbyPet3 = 10,
	Lobby7 = 7,
	Lobby2 = 2,
	ArenaRight2 = 5,
	LobbyPet5 = 12,
	Lobby5 = 5,
	WestGoodBoy = 8,
	MTXPreview = 17,
	ArenaLeft1 = 0,
	ArenaRight1 = 4,
	LobbyPet8 = 15,
	EastGoodGirl = 9,
	ArenaRight4 = 7,
	MainMenuEast = 15,
	Lobby4 = 4,
	Ghost = 16,
	LobbyPet7 = 14,
	LobbyPet2 = 9,
	ArenaRight3 = 6,
	Social3 = 2,
	Social2 = 1,
	OperatorWest = 0,
	LocalSquadMember = 0,
	LobbyPet1 = 8,
	MainMenuWest = 14,
	Social5 = 4,
	Lobby1 = 1,
	Social4 = 3,
	Lobby3 = 3,
	MainOperator = 0,
	Social1 = 0,
	LobbyPet4 = 11
}
FrontEndScene.LobbyCharacters = {
	FrontEndScene.ClientCharacters.LocalSquadMember,
	FrontEndScene.ClientCharacters.Lobby1,
	FrontEndScene.ClientCharacters.Lobby2,
	FrontEndScene.ClientCharacters.Lobby3,
	FrontEndScene.ClientCharacters.Lobby4,
	FrontEndScene.ClientCharacters.Lobby5,
	FrontEndScene.ClientCharacters.Lobby6,
	FrontEndScene.ClientCharacters.Lobby7
}
FrontEndScene.MaxLobbyCharacters = #FrontEndScene.LobbyCharacters
FrontEndScene.Pets = {
	FrontEndScene.ClientCharacters.LobbyPet1,
	FrontEndScene.ClientCharacters.LobbyPet2,
	FrontEndScene.ClientCharacters.LobbyPet3,
	FrontEndScene.ClientCharacters.LobbyPet4
}
FrontEndScene.MaxPets = #FrontEndScene.Pets
FrontEndScene.ArenaCharacters = {
	FrontEndScene.ClientCharacters.ArenaLeft1,
	FrontEndScene.ClientCharacters.ArenaLeft2,
	FrontEndScene.ClientCharacters.ArenaLeft3,
	FrontEndScene.ClientCharacters.ArenaLeft4,
	FrontEndScene.ClientCharacters.ArenaRight1,
	FrontEndScene.ClientCharacters.ArenaRight2,
	FrontEndScene.ClientCharacters.ArenaRight3,
	FrontEndScene.ClientCharacters.ArenaRight4
}
FrontEndScene.QuartermasterCharacters = {
	FrontEndScene.ClientCharacters.QuartermasterCrate,
	FrontEndScene.ClientCharacters.QuartermasterTarget1,
	FrontEndScene.ClientCharacters.QuartermasterTarget2,
	FrontEndScene.ClientCharacters.QuartermasterTarget3
}
FrontEndScene.SocialCharacters = {
	FrontEndScene.ClientCharacters.Social1,
	FrontEndScene.ClientCharacters.Social2,
	FrontEndScene.ClientCharacters.Social3,
	FrontEndScene.ClientCharacters.Social4,
	FrontEndScene.ClientCharacters.Social5,
	FrontEndScene.ClientCharacters.Social6
}
FrontEndScene.MaxSocialCharacters = #FrontEndScene.SocialCharacters
FrontEndScene.ClientWeapons = {
	Preview = 2,
	MTXPreview = 4,
	GunTableSecondary = 1,
	Watch = 3,
	GunTablePrimary = 0
}
FrontEndScene.CurrentScene = ""
FrontEndScene.RequestedSceneStack = {}
FrontEndScene.NumWeaponModels = 5
FrontEndScene.MaxClientCharactersMPMainMenu = 6
FrontEndScene.MaxClientCharacters = 20
FrontEndScene.RegisterScene = function ( f35_arg0, f35_arg1 )
	LUI.FlowManager.RegisterStackPushBehaviour( f35_arg0, function ()
		table.insert( FrontEndScene.RequestedSceneStack, f35_arg0 )
		FrontEndScene.UpdateScene()
	end )
	LUI.FlowManager.RegisterStackPopBehaviour( f35_arg0, function ()
		table.remove( FrontEndScene.RequestedSceneStack )
		FrontEndScene.UpdateScene()
	end )
end

FrontEndScene.UpdateScene = function ()
	local f34_local0 = FrontEndScene.RequestedSceneStack[#FrontEndScene.RequestedSceneStack]
	if f34_local0 and f34_local0 ~= FrontEndScene.CurrentScene then
		Engine[0x685AE31DEDA30A4]( f34_local0 )
	end
end

FrontEndScene.SetGameModeLobbyScene = function ()
	if CONDITIONS.UsePerGameTypeLobby() then
		if CONDITIONS.IsDMZGametype() then
			Engine[0x685AE31DEDA30A4]( "squad_lobby_dmz" )
		elseif CONDITIONS.IsBRGameType() then
			Engine[0x685AE31DEDA30A4]( "squad_lobby_br" )
		else
			Engine[0x685AE31DEDA30A4]( "squad_lobby" )
		end
	else
		Engine[0x685AE31DEDA30A4]( "squad_lobby" )
	end
end

FrontEndScene.HideAllCharacters = function ()
	for f32_local3, f32_local4 in pairs( FrontEndScene.ClientCharacters ) do
		FrontEndScene.SetCharacterVisible( f32_local4, false )
	end
end

FrontEndScene.IsCharacterFullyLoaded = function ( f31_arg0 )
	local f31_local0 = Engine[0x283B38F2501D924]()
	if f31_local0 then
		f31_local0 = ClientCharacter[0xA6309027523469F]( f31_arg0 )
		if f31_local0 then
			f31_local0 = ClientCharacter[0x735D43355F4981F]( f31_arg0 )
		end
	end
	return f31_local0
end

FrontEndScene.IsSceneFadeComplete = function ( f30_arg0 )
	local f30_local0 = DataSources.frontEnd.isUIFadingOut:GetValue( f30_arg0 )
	local f30_local1 = LUI.DataSourceInGlobalModel.new( "cg.frontendscene.opacity" )
	local f30_local2
	if f30_local0 or f30_local1:GetValue( f30_arg0 ) > 0 or #Dvar[0x54084D7CA2317BB]( 0x8CC749B90DD2705 ) ~= 0 then
		f30_local2 = false
	else
		f30_local2 = true
	end
	return f30_local2
end

FrontEndScene.HideAllLobbyCharactersPastIndex = function ( f29_arg0 )
	if f29_arg0 <= FrontEndScene.MaxLobbyCharacters then
		
	else
		
	end
end

FrontEndScene.HideAllSocialCharactersPastIndex = function ( f28_arg0 )
	if f28_arg0 <= FrontEndScene.MaxSocialCharacters then
		
	else
		
	end
end

FrontEndScene.SetupCharacters = function ( f27_arg0 )
	FrontEndScene.HideAllCharacters()
	for f27_local3, f27_local4 in ipairs( f27_arg0 ) do
		FrontEndScene.SetCharacterVisible( f27_local4, true )
	end
end

FrontEndScene.SetCharacterModels = function ( f26_arg0, f26_arg1, f26_arg2 )
	if f26_arg2 and f26_arg2 ~= "" then
		ClientCharacter[0xFB5C3935C674824]( f26_arg0, f26_arg1, f26_arg2 )
		FrontEndScene.PlayFacialIdleAnim( f26_arg0 )
	else
		ClientCharacter[0xFB5C3935C674824]( f26_arg0, f26_arg1 )
	end
end

FrontEndScene.SetCharacterModelsByIndex = function ( f25_arg0, f25_arg1, f25_arg2 )
	FrontEndScene.SetCharacterModels( f25_arg0, StringTable[0x2DCF0973239E909]( CSV.bodies.file, CSV.bodies.cols.index, f25_arg1, CSV.bodies.cols.model ), StringTable[0x2DCF0973239E909]( CSV.heads.file, CSV.heads.cols.index, f25_arg2, CSV.heads.cols.model ) )
end

FrontEndScene.SetCharacterVisible = function ( f24_arg0, f24_arg1, f24_arg2 )
	if CONDITIONS.IsMobileOrMobileSim() and Dvar[0x9E5BE3B4BBA4E0E]( 0x8C4E924CEA78C7 ) and LUI.FlowManager.IsInStack( "MobileOperatorSelectMenu" ) then
		ClientCharacter[0x9456E659F16F0A4]( f24_arg0, false )
		return 
	end
	ClientCharacter[0x9456E659F16F0A4]( f24_arg0, f24_arg1 )
	if not f24_arg1 and not f24_arg2 then
		local f24_local0 = GL_HACK.GetMatchMakingAnimationForIndex( f24_arg0 + 1 )
		if f24_local0 and f24_local0 ~= "" then
			ClientCharacter[0xAA614EB46957F3B]( f24_arg0, f24_local0 )
		end
	end
end

FrontEndScene.IsCategoryAttachmentForWeaponOffset = function ( f23_arg0 )
	if #f23_arg0 == 0 or f23_arg0 == "rec" or f23_arg0 == "front" or f23_arg0 == "back" or f23_arg0 == "mag" or f23_arg0 == "guard" or f23_arg0 == "gunperk" then
		return false
	else
		return true
	end
end

FrontEndScene.GetAttachModelOverrideData = function ( f22_arg0, f22_arg1, f22_arg2, f22_arg3 )
	local f22_local0 = LUI.Split( f22_arg1, "+" )
	local f22_local1 = nil
	local f22_local2 = -1
	for f22_local3 = 2, #f22_local0, 1 do
		local f22_local6 = LUI.Split( f22_local0[f22_local3], "_" )
		if FrontEndScene.IsCategoryAttachmentForWeaponOffset( f22_local6[1] ) then
			local f22_local7 = LUI.Split( f22_local0[f22_local3], "|" )
			local f22_local8 = StringTable[0xF6B0CC3002991DB]( f22_arg2, {
				{
					col = CSV.weaponOffsets.cols.modelName,
					key = f22_local7[1]
				},
				{
					col = CSV.weaponOffsets.cols.weaponBaseModel,
					key = f22_arg0
				}
			} )
			if f22_local8 and -1 < f22_local8 then
				local f22_local9 = CSV.ReadRowWithFileAndColumns( f22_arg2, f22_local8, f22_arg3 )
				if 0 < #f22_local9.priority and f22_local2 < tonumber( f22_local9.priority ) then
					f22_local1 = f22_local9
					f22_local2 = tonumber( f22_local9.priority )
				end
			end
		end
	end
	return f22_local1
end

local f0_local0 = {
	[WEAPON.FrontEndRiotShield] = true,
	[WEAPON.FrontEndRiotShield_V2] = true,
	[WEAPON.FrontEndRiotShield_V3] = true,
	[WEAPON.FrontEndRiotShield_V4] = true,
	[WEAPON.FrontEndRiotShield_V5] = true,
	[WEAPON.FrontEndRiotShield_V6] = true,
	[WEAPON.FrontEndRiotShield_V7] = true
}
local f0_local1 = function ( f21_arg0 )
	return f0_local0[f21_arg0]
end

FrontEndScene.GetWeaponModelOffset = function ( f20_arg0, f20_arg1 )
	local f20_local0 = LUI.Split( f20_arg0, "+" )
	local f20_local1 = LUI.Split( f20_local0[1] and f20_local0[1] or "", "|" )
	local f20_local2 = f20_local1[1]
	if not WATCH.IsWeaponWatch( f20_local2 ) and not f0_local0( f20_local2 ) then
		f20_local2 = WEAPON.GetBaseRef( f20_local2, true )
	end
	local f20_local3 = CSV.weaponOffsets
	local f20_local4 = {
		xOffset = f20_local3.cols.xOffset,
		yOffset = f20_local3.cols.yOffset,
		zOffset = f20_local3.cols.zOffset,
		xRotationCenter = f20_local3.cols.xRotationCenter,
		yRotationCenter = f20_local3.cols.yRotationCenter,
		zRotationCenter = f20_local3.cols.zRotationCenter,
		pitch = f20_local3.cols.pitch,
		yaw = f20_local3.cols.yaw,
		roll = f20_local3.cols.roll,
		priority = f20_local3.cols.priority
	}
	local f20_local5 = FrontEndScene.GetAttachModelOverrideData( f20_local2, f20_arg0, f20_arg1, f20_local4 )
	if not f20_local5 then
		local f20_local6 = StringTable[0x8073B436CDE1BF]( f20_arg1, CSV.weaponOffsets.cols.modelName, f20_local2 )
		if f20_local6 and -1 < f20_local6 then
			f20_local5 = CSV.ReadRowWithFileAndColumns( f20_arg1, f20_local6, f20_local4 )
		end
	end
	if f20_local5 then
		for f20_local9, f20_local10 in pairs( f20_local5 ) do
			local f20_local11 = tonumber( f20_local10 )
			if f20_local11 ~= nil then
				f20_local5[f20_local9] = f20_local11
			else
				f20_local5[f20_local9] = 0
			end
		end
		if Engine[0x2DA54CF5D6B7F02]() then
			f20_local6 = Dvar[0xEDCFC612B39E0C0]( 0x546948E4831E317 )
			f20_local7 = Dvar[0xEDCFC612B39E0C0]( 0xCBB77F3E912ED44 )
			f20_local8 = Dvar[0xEDCFC612B39E0C0]( 0xE8FF9FC303C1435 )
			f20_local5.xRotationCenter = tonumber( f20_local5.xRotationCenter ) + f20_local6
			f20_local5.yRotationCenter = tonumber( f20_local5.yRotationCenter ) + f20_local7
			f20_local5.zRotationCenter = tonumber( f20_local5.zRotationCenter ) + f20_local8
		end
		return f20_local5
	else
		return {
			xOffset = 0,
			zOffset = 0,
			zRotationCenter = 0,
			roll = 0,
			yaw = 0,
			xRotationCenter = 0,
			yRotationCenter = 0,
			pitch = 0,
			yOffset = 0
		}
	end
end

FrontEndScene.SetWeaponModel = function ( f19_arg0, f19_arg1 )
	if String.IsNilOrEmpty( f19_arg1 ) then
		assert( false, "Warning, trying to set weapon model with empty or nil weaponModelName" )
		return 
	else
		ClientWeapon[0xA3A4ADD436F6EB0]( f19_arg0, f19_arg1 )
	end
end

FrontEndScene.HideWeaponModels = function ()
	for f18_local0 = 0, FrontEndScene.NumWeaponModels - 1, 1 do
		ClientWeapon[0x59B77D6F41ED417]( f18_local0, false )
	end
end

FrontEndScene.SetExclusiveWeaponModels = function ( f17_arg0 )
	FrontEndScene.HideWeaponModels()
	for f17_local3, f17_local4 in ipairs( f17_arg0 ) do
		ClientWeapon[0x59B77D6F41ED417]( f17_local4, true )
		ClientWeapon[0x9ABB180A64F1EFC]( f17_local4, true )
	end
end

FrontEndScene.GetWeaponAnimFromClass = function ( f16_arg0 )
	local f16_local0 = f16_arg0
	if f16_local0 == 0 then
		return "assault_rifle"
	elseif f16_local0 == 1 then
		return "smg"
	elseif f16_local0 == 2 then
		return "lmg"
	elseif f16_local0 == 3 then
		return "sniper"
	elseif f16_local0 == 4 then
		return "shotgun"
	else
		return "not_primary"
	end
end

FrontEndScene.GetCharacterEntityNum = function ( f15_arg0 )
	return ClientCharacter[0xAB49E1B2150A83B]( f15_arg0 )
end

FrontEndScene.PlayFacialIdleAnim = function ( f14_arg0 )
	local f14_local0 = "iw7_mp_frontend_facial_loop01"
	if ClientCharacter[0x6342B7DDEEDA5F4]( f14_arg0, "mp_synaptic_ethan_body" ) then
		f14_local0 = f14_local0 .. "_eth3n"
	end
	if f14_local0 and f14_local0 ~= "" then
		ClientCharacter[0xB41705F60F1586B]( f14_arg0, f14_local0 )
	else
		DebugPrint( "ERROR: FrontEndScene.PlayFacialIdle - Unable to find idle anim for face " )
	end
end

FrontEndScene.PlayQuarterMasterAnim = function ( f12_arg0, f12_arg1, f12_arg2, f12_arg3, f12_arg4 )
	assert( f12_arg0 )
	if f12_arg2 and f12_arg2 ~= "" then
		ClientCharacter[0xAA614EB46957F3B]( FrontEndScene.ClientCharacters.quarterMaster, f12_arg2, 0.2 )
		ClientCharacter[0x524D4D5B140E36E]( FrontEndScene.ClientCharacters.quarterMaster, "iw7_mp_quartermaster_idle_01", 0.2 )
	end
	if f12_arg3 and f12_arg3 ~= 0x0 then
		if f12_arg4 and 0 < f12_arg4 then
			local f12_local0 = f12_arg0:Wait( f12_arg4 )
			f12_local0.onComplete = function ()
				f12_arg0.lastQuartermasterSoundID = Engine[0xC4146BA76D0F982]( f12_arg0 )
			end
			
		else
			f12_arg0.lastQuartermasterSoundID = Engine[0xC4146BA76D0F982]( f12_arg3 )
		end
	end
end

FrontEndScene.PlayQuarterMasterRandomAnim = function ( f11_arg0, f11_arg1 )
	local f11_local0 = StringTable[0xFD4E49A34DD43AE]( f11_arg1 )
	if 0 < f11_local0 then
		local f11_local1 = math.random( 0, f11_local0 - 1 )
		FrontEndScene.PlayQuarterMasterAnim( f11_arg0, FrontEndScene.ClientCharacters.quarterMaster, StringTable[0x2077452C28AB2FC]( f11_arg1, f11_local1, CSV.quartermasterAnims.cols.anim ), StringTable[0x2077452C28AB2FC]( f11_arg1, f11_local1, CSV.quartermasterAnims.cols.audio ), tonumber( StringTable[0x2077452C28AB2FC]( f11_arg1, f11_local1, CSV.quartermasterAnims.cols.audioDelay ) ) )
	end
end

FrontEndScene.PlayQuarterMasterQualityReaction = function ( f10_arg0, f10_arg1 )
	
end

FrontEndScene.EnableStreaming = function ()
	if not Streaming[0x19E17A0E38F313A]() then
		Streaming[0xE493C1B436663F6]( true )
	end
end

FrontEndScene.RequestCharacterModels = function ( f8_arg0, f8_arg1 )
	FrontEndScene.EnableStreaming()
	Streaming[0x2692B1B59144830]( f8_arg0 )
	Streaming[0x18B8E5AB5004CAE]( f8_arg1 )
end

FrontEndScene.RequestBodyModels = function ( f7_arg0 )
	FrontEndScene.EnableStreaming()
	Streaming[0x2692B1B59144830]( f7_arg0 )
end

FrontEndScene.RequestHeadModels = function ( f6_arg0 )
	FrontEndScene.EnableStreaming()
	Streaming[0x18B8E5AB5004CAE]( f6_arg0 )
end

FrontEndScene.RequestHandViewModels = function ( f5_arg0, f5_arg1 )
	FrontEndScene.EnableStreaming()
	Streaming[0x7668EB1A3FE3FB4]( f5_arg0, f5_arg1 )
end

FrontEndScene.RequestWeaponWorldModels = function ( f4_arg0 )
	assert( type( f4_arg0 ) == "table", "Weapon models should be put into a lua table" )
	FrontEndScene.EnableStreaming()
	Streaming[0x4E036CF79BBA158]( f4_arg0 )
end

FrontEndScene.RequestWeaponViewModels = function ( f3_arg0, f3_arg1 )
	assert( type( f3_arg0 ) == "table", "Weapon models should be put into a lua table" )
	FrontEndScene.EnableStreaming()
	Streaming[0x74B584089FA8531]( f3_arg0, f3_arg1 )
end

FrontEndScene.SetupStagedTransitionCallback = function ( f1_arg0, f1_arg1, f1_arg2, f1_arg3 )
	local f1_local0 = function ()
		Engine[0x685AE31DEDA30A4]( f1_arg0 )
		MenuUtils.SetupSceneChangeCallback( f1_arg0, f1_arg0 )
	end
	
	Engine[0x685AE31DEDA30A4]( f1_arg2 )
	MenuUtils.SetupSceneChangeCallback( f1_arg0, f1_local0 )
end

