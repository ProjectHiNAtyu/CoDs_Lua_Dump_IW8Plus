-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
HUDUtils = HUDUtils or {}
SplashTable = {
	File = "mp/splashTable.csv",
	Cols = {
		Ref = 0,
		Red = 5,
		XP = 12,
		Sound = 9,
		SplashType = 11,
		DontKnow = 10,
		Image = 3,
		Alpha = 8,
		Blue = 7,
		Name = 1,
		Green = 6,
		Duration = 4,
		Desc = 2
	}
}
KillCamAbilitiesBitMaskTable = {
	File = "mp/killCamAbilitiesBitMaskTable.csv",
	Cols = {
		Index = 0,
		BitMask = 2,
		Ref = 1
	}
}
ScoreEventTable = {
	File = "mp/score_event_table.csv",
	Cols = {
		XPValueWar = 4,
		XPValueAliens = 17,
		XPValueCranked = 12,
		Name = 1,
		Ref = 0,
		XPValueBlitz = 11,
		XPValueInfect = 13,
		XPValueBnty = 9,
		XPValueSD = 5,
		XPValueMugger = 16,
		XPValueGrind = 10,
		XPValueSR = 8,
		XPValueConf = 7,
		Sound = 2,
		XPValueHorde = 15,
		XPValueDom = 6,
		XPValueDM = 3,
		XPValueSOTF = 14
	}
}
HordeIconsTable = {
	File = "mp/hordeIcons.csv",
	Cols = {
		Name = 2,
		Image = 3,
		Misc = 4,
		Ref = 1,
		Index = 0
	}
}
BattleTrackPromptState = {
	ON = 2,
	OFF = 1,
	HIDE = 0
}
HUDUtils.MendotaKS = {
	KENOSHA = 1,
	GREENBAY = 2,
	NONE = 0
}
HUDUtils.GetAvailableMendotaKS = function ( f23_arg0 )
	if not DataSources.inGame.MP.KSMendotaAvailability then
		return {}, false
	end
	local f23_local0 = DataSources.inGame.MP.KSMendotaAvailability:GetValue( f23_arg0 )
	local f23_local1 = {}
	if f23_local0 == 0 then
		table.insert( f23_local1, HUDUtils.MendotaKS.KENOSHA )
		table.insert( f23_local1, HUDUtils.MendotaKS.GREENBAY )
	elseif f23_local0 == 1 then
		table.insert( f23_local1, HUDUtils.MendotaKS.KENOSHA )
	elseif f23_local0 == 2 then
		table.insert( f23_local1, HUDUtils.MendotaKS.GREENBAY )
	end
	return f23_local1, 0 < #f23_local1
end

HUDUtils.CorruptSaveDataRepairForSP = function ( f22_arg0 )
	Engine.EBHEBCCBFD( f22_arg0 )
	Engine.CCBBGABHEH( f22_arg0 )
	Engine.EBIDFIDHIE( "savegame_writelastcommittedsave" )
end

HUDUtils.GetVehiclePlayerNumBoxColor = function ( f21_arg0, f21_arg1 )
	local f21_local0 = nil
	if CONDITIONS.IsMagmaGameMode() then
		f21_local0 = Game.BAJBBACHFB( f21_arg1 )
	end
	if f21_local0 == nil then
		local f21_local1 = Game.DBACJGFHDD( f21_arg0 )
		local f21_local2 = Game.DHEDEIHGF( f21_local1 )
		local f21_local3 = Game.DHEDEIHGF( f21_arg1 )
		if f21_local1 == f21_arg1 then
			f21_local0 = SWATCHES.HUD.playerIndicator
		elseif f21_local2 == f21_local3 then
			f21_local0 = SWATCHES.HUD.friendlyTeam
		else
			f21_local0 = SWATCHES.HUD.enemyTeam
		end
	end
	return f21_local0
end

HUDUtils.GetEnemyTeamColor = function ( f20_arg0, f20_arg1, f20_arg2 )
	local f20_local0 = SWATCHES.HUD.enemyTeam
	if MLG.FBFGBEC() then
		if GameX.gameModeIsFFA( GameX.GetGameMode() ) then
			f20_local0 = GetColorTableFromIntColor( GetIntForColor( SWATCHES.HUD.enemyTeam ) )
		elseif f20_arg0 == (MLG.DIJEHAFJDJ() and Teams.axis or Teams.allies) then
			local f20_local1 = nil
			if f20_arg2 then
				f20_local1 = CODCASTER.GetTeam2LightColor( f20_arg1 )
			else
				f20_local1 = CODCASTER.GetTeam2Color( f20_arg1 )
			end
			f20_local0 = GetColorTableFromIntColor( f20_local1 )
		else
			local f20_local1 = nil
			if f20_arg2 then
				f20_local1 = CODCASTER.GetTeam1LightColor( f20_arg1 )
			else
				f20_local1 = CODCASTER.GetTeam1Color( f20_arg1 )
			end
			f20_local0 = GetColorTableFromIntColor( f20_local1 )
		end
	end
	return f20_local0
end

HUDUtils.GetFriendlyTeamColor = function ( f19_arg0, f19_arg1, f19_arg2, f19_arg3 )
	local f19_local0 = SWATCHES.Global.keyColor
	local f19_local1 = CONDITIONS.IsBRGameType( self )
	if not f19_local1 then
		f19_local1 = CONDITIONS.IsBRTDMGameType( self )
	end
	if f19_local1 and Game.DCJAGIEFIG( f19_arg1, f19_arg3 ) then
		f19_local0 = Game.BAJBBACHFB( f19_arg3 )
	end
	if MLG.FBFGBEC() then
		if GameX.gameModeIsFFA( GameX.GetGameMode() ) then
			f19_local0 = GetColorTableFromIntColor( GetIntForColor( SWATCHES.HUD.enemyTeam ) )
		elseif f19_arg0 == (MLG.DIJEHAFJDJ() and Teams.axis or Teams.allies) then
			local f19_local2 = nil
			if f19_arg2 then
				f19_local2 = CODCASTER.GetTeam1LightColor( f19_arg1 )
			else
				f19_local2 = CODCASTER.GetTeam1Color( f19_arg1 )
			end
			f19_local0 = GetColorTableFromIntColor( f19_local2 )
		else
			local f19_local2 = nil
			if f19_arg2 then
				f19_local2 = CODCASTER.GetTeam2LightColor( f19_arg1 )
			else
				f19_local2 = CODCASTER.GetTeam2Color( f19_arg1 )
			end
			f19_local0 = GetColorTableFromIntColor( f19_local2 )
		end
	end
	return f19_local0
end

HUDUtils.GetLocalTeam = function ()
	local f18_local0 = Game.DHEDEIHGF()
	if f18_local0 == Teams.spectator or f18_local0 == Teams.follower then
		f18_local0 = Game.DHEDEIHGF( Game.CJDDHJBCCI() )
		if f18_local0 == Teams.spectator or f18_local0 == Teams.follower then
			f18_local0 = Teams.allies
		end
	end
	return f18_local0
end

HUDUtils.GetPlayerColor = function ( f17_arg0, f17_arg1, f17_arg2 )
	if f17_arg0 == Game.DBACJGFHDD() and not CONDITIONS.IsMagmaGameMode() then
		return COLORS.yellowGolden3
	end
	local f17_local0 = HUDUtils.GetLocalTeam()
	local f17_local1 = Game.DHEDEIHGF( f17_arg0 ) == f17_local0
	local f17_local2
	if f17_local1 then
		f17_local2 = f17_local1
	else
		f17_local2 = not GameX.gameModeIsFFA()
	end
	if f17_local2 then
		return HUDUtils.GetFriendlyTeamColor( f17_local0, f17_arg1, f17_arg2, f17_arg0 )
	end
	return HUDUtils.GetEnemyTeamColor( f17_local0, f17_arg1, f17_arg2 )
end

HUDUtils.GetBrColorForClientTeamCheck = function ( f16_arg0, f16_arg1 )
	local f16_local0 = Game.DHEDEIHGF( f16_arg0 )
	local f16_local1 = Game.DHEDEIHGF( f16_arg1 )
	local f16_local2 = nil
	if f16_local0 == f16_local1 then
		f16_local2 = Game.BAJBBACHFB( f16_arg1 )
	end
	return f16_local2
end

HUDUtils.SquadIndexHasAcknowledgedPing = function ( f15_arg0, f15_arg1 )
	local f15_local0 = BitwiseOperators.lshift( 1, f15_arg1 )
	if f15_local0 and f15_arg0 then
		return BitwiseOperators.band( f15_arg0, f15_local0 ) == f15_local0
	else
		
	end
end

HUDUtils.VehicleType = {
	Ground = "VEHICLE_GROUND:",
	Airplane = "VEHICLE_AIRPLANE:",
	Flying = "VEHICLE_FLYING:",
	None = nil
}
HUDUtils.UpdateInstructionPrompts = function ( f14_arg0, f14_arg1, f14_arg2, f14_arg3 )
	local f14_local0 = CONDITIONS.IsGamepadEnabled()
	local f14_local1
	if f14_arg2 == HUDUtils.VehicleType.Flying then
		f14_local1 = f14_local0
	else
		f14_local1 = false
	end
	local f14_local2 = ""
	if f14_arg3 == true and f14_arg2 ~= nil and f14_local0 and CONDITIONS.IsMagmaGameMode() then
		f14_local2 = f14_arg2
	end
	local f14_local3 = "[{" .. f14_local2 .. "!+attack}]"
	local f14_local4
	if f14_local0 then
		f14_local4 = Engine.CBBHFCGDIC( "KILLSTREAKS/BUTTON_AIM" )
		if not f14_local4 then
		
		else
			local f14_local5 = "[{" .. f14_local2 .. "+forward}]"
			local f14_local6 = "[{" .. f14_local2 .. "+back}]"
			local f14_local7 = "[{" .. f14_local2 .. "+activate}]"
			local f14_local8 = "[{" .. f14_local2 .. "+stance}]"
			local f14_local9 = "[{" .. f14_local2 .. "+gostand;+movedown,+stance,+stancedown}]"
			local f14_local10 = "[{" .. f14_local2 .. "+stance;nightvision}]"
			local f14_local11 = "[{" .. f14_local2 .. "+frag;+gostand}]"
			local f14_local12 = "[{" .. f14_local2 .. "+smoke;+prone}]"
			local f14_local13 = "[{" .. f14_local2 .. "+speed_throw}]"
			local f14_local14 = "[{" .. f14_local2 .. "+attack}]"
			local f14_local15 = "[{" .. f14_local2 .. "!+attack;+gostand}]"
			local f14_local16
			if f14_local0 then
				f14_local16 = "[{" .. f14_local2 .. "+stance}]"
				if not f14_local16 then
				
				else
					local f14_local17 = "[{+special}]"
					local f14_local18 = "[{+breath_sprint}]"
					local f14_local19 = "[{" .. f14_local2 .. "+moveleft}]/[{" .. f14_local2 .. "+moveright}]"
					local f14_local20 = "[{" .. f14_local2 .. "+frag}]"
					local f14_local21
					if f14_local1 then
						f14_local21 = "[{" .. f14_local2 .. "+melee}]"
						if not f14_local21 then
						
						else
							local f14_local22 = "[{" .. f14_local2 .. "+stance;nightvision}]"
							local f14_local23
							if f14_local0 then
								f14_local23 = "[{" .. f14_local2 .. "+gostand;+movedown,+stance,+stancedown}]"
								if not f14_local23 then
								
								else
									local f14_local24 = "[{" .. f14_local2 .. "+smoke}]"
									local f14_local25 = "[{" .. f14_local2 .. "+activate}]"
									local f14_local26 = "[{" .. f14_local2 .. "+melee_zoom}]"
									local f14_local27 = Engine.BECCFCBIAA( "gpadSticksConfig", f14_arg0 )
									local f14_local28
									if f14_local27 ~= "thumbstick_legacy" and f14_local27 ~= "thumbstick_legacysouthpaw" and f14_local27 ~= "thumbstick_legacysouthpaw_ns" then
										f14_local28 = false
									else
										f14_local28 = true
									end
									local f14_local29
									if not f14_local28 then
										f14_local29 = f14_local0
									else
										f14_local29 = false
									end
									local f14_local30
									if f14_local28 then
										f14_local30 = f14_local28
									else
										f14_local30 = f14_local0
									end
									if f14_arg1.AccelInstruction then
										f14_arg1.AccelInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_ACCELERATE" ), f14_local5 )
										f14_arg1.AccelInstruction:SetVisibilityPrompt( f14_local0 )
									end
									if f14_arg1.ReverseInstruction then
										f14_arg1.ReverseInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_REVERSE" ), f14_local6 )
										f14_arg1.ReverseInstruction:SetVisibilityPrompt( f14_local0 )
									end
									if f14_arg1.FireInstruction then
										f14_arg1.FireInstruction:UpdateInstructionWithMultiplePrompts( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_FIRE" ), f14_local3 )
										f14_arg1.FireInstruction:SetVisibilityPrompt( f14_local0 )
									end
									if f14_arg1.AimInstruction then
										f14_arg1.AimInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_AIM" ), f14_local4 )
										f14_arg1.AimInstruction:SetVisibilityPrompt( f14_local29 )
									end
									if f14_arg1.SteerInstruction then
										f14_arg1.SteerInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_STEER" ), Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/STEER_BUTTON_TEXT_GAMEPAD" ) )
										f14_arg1.SteerInstruction:SetVisibilityPrompt( f14_local29 )
									end
									if f14_arg1.ZoomInstruction then
										f14_arg1.ZoomInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_ZOOM" ), f14_local13 )
										f14_arg1.ZoomInstruction:SetVisibilityPrompt( f14_local0 )
									end
									if f14_arg1.LeanForwardInstruction then
										f14_arg1.LeanForwardInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_LEAN_FORWARD" ), f14_local17 )
										f14_arg1.LeanForwardInstruction:SetVisibilityPrompt( not f14_local0 )
									end
									if f14_arg1.LeanBackwardInstruction then
										f14_arg1.LeanBackwardInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_LEAN_BACKWARD" ), f14_local18 )
										f14_arg1.LeanBackwardInstruction:SetVisibilityPrompt( not f14_local0 )
									end
									if f14_arg1.RollInstruction then
										if not f14_local0 then
											f14_arg1.RollInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "MP_WZ_ISLAND/INSTRUCTION_CONTROL_6" ), f14_local19 )
										end
										f14_arg1.RollInstruction:SetVisibilityPrompt( not f14_local0 )
									end
									if f14_arg1.LegacyAimInstruction then
										if f14_local27 == "thumbstick_legacy" then
											f14_arg1.LegacyAimInstruction.Icon1:setImage( RegisterMaterial( "button_stick_horizontal_l" ), 0 )
											f14_arg1.LegacyAimInstruction.Icon2:setImage( RegisterMaterial( "button_stick_vertical_r" ), 0 )
										elseif f14_local27 == "thumbstick_legacysouthpaw" or f14_local27 == "thumbstick_legacysouthpaw_ns" then
											f14_arg1.LegacyAimInstruction.Icon1:setImage( RegisterMaterial( "button_stick_vertical_l" ), 0 )
											f14_arg1.LegacyAimInstruction.Icon2:setImage( RegisterMaterial( "button_stick_horizontal_r" ), 0 )
										end
										f14_arg1.LegacyAimInstruction:SetVisibilityPrompt( f14_local30 )
									end
									if f14_arg1.LegacySteerInstruction then
										if f14_arg1.LegacySteerInstruction.isGroundVehicle then
											if f14_local27 == "thumbstick_legacy" then
												f14_arg1.LegacySteerInstruction.Icon2:setImage( RegisterMaterial( "button_stick_horizontal_r" ), 0 )
											elseif f14_local27 == "thumbstick_legacysouthpaw" or f14_local27 == "thumbstick_legacysouthpaw_ns" then
												f14_arg1.LegacySteerInstruction.Icon2:setImage( RegisterMaterial( "button_stick_horizontal_l" ), 0 )
											end
										elseif f14_local27 == "thumbstick_legacy" then
											f14_arg1.LegacySteerInstruction.Icon1:setImage( RegisterMaterial( "button_stick_vertical_l" ), 0 )
											f14_arg1.LegacySteerInstruction.Icon2:setImage( RegisterMaterial( "button_stick_horizontal_r" ), 0 )
										elseif f14_local27 == "thumbstick_legacysouthpaw" or f14_local27 == "thumbstick_legacysouthpaw_ns" then
											f14_arg1.LegacySteerInstruction.Icon1:setImage( RegisterMaterial( "button_stick_horizontal_l" ), 0 )
											f14_arg1.LegacySteerInstruction.Icon2:setImage( RegisterMaterial( "button_stick_vertical_r" ), 0 )
										end
										f14_arg1.LegacySteerInstruction:SetVisibilityPrompt( f14_local30 )
									end
									if f14_arg1.CenterCameraInstruction then
										f14_arg1.CenterCameraInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "MENU/CENTER_VEHICLE_CAMERA" ), f14_local26 )
										HUDUtils.UpdateInstructionAnimation( f14_arg0, f14_arg1.ExitInstruction )
									end
									if f14_arg1.ExitInstruction then
										f14_arg1.ExitInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_EXIT" ), f14_local7 )
										HUDUtils.UpdateInstructionAnimation( f14_arg0, f14_arg1.ExitInstruction )
									end
									if f14_arg1.ExitHumveeInstruction then
										f14_arg1.ExitHumveeInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_EXIT" ), f14_local8 )
										HUDUtils.UpdateInstructionAnimation( f14_arg0, f14_arg1.ExitHumveeInstruction )
									end
									if f14_arg1.ExitHumveeDriverInstruction then
										f14_arg1.ExitHumveeDriverInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_EXIT" ), f14_local7 )
										HUDUtils.UpdateInstructionAnimation( f14_arg0, f14_arg1.ExitHumveeDriverInstruction )
									end
									if f14_arg1.ExitTurretInstruction then
										f14_arg1.ExitTurretInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_EXIT" ), f14_local7 )
									end
									if f14_arg1.DetonateInstruction then
										f14_arg1.DetonateInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_DETONATE" ), f14_local7 )
										HUDUtils.UpdateInstructionAnimation( f14_arg0, f14_arg1.DetonateInstruction )
									end
									if f14_arg1.SwitchInstruction then
										f14_arg1.SwitchInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_SWITCH_SEATS" ), f14_local9 )
									end
									if f14_arg1.ThermalInstruction then
										f14_arg1.ThermalInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_THERMAL" ), f14_local10 )
									end
									if f14_arg1.AscendInstruction then
										f14_arg1.AscendInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_ASCEND" ), f14_local11 )
									end
									if f14_arg1.DescendInstruction then
										f14_arg1.DescendInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_DESCEND" ), f14_local12 )
									end
									if f14_arg1.HandbrakeInstruction then
										f14_arg1.HandbrakeInstruction:UpdateInstructionWithMultiplePrompts( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_HANDBRAKE" ), f14_local15 )
									end
									if f14_arg1.HornInstruction then
										if f14_arg1.HornInstruction:GetVehicleRef() then
											f14_arg1.HornInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "VEHICLES/EQUIPPED_HORN", VEHICLE.GetEquippedHornName( f14_arg0, f14_arg1.HornInstruction:GetVehicleRef() ) ), f14_local21 )
										else
											f14_arg1.HornInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_HORN" ), f14_local21 )
										end
									end
									if f14_arg1.BattleTrackInstruction then
										HUDUtils.UpdateBattleTrackInstruction( f14_arg1.BattleTrackInstruction, Game.BFEEGCHICA( f14_arg0, "ui_veh_battle_tracks_toggle_state" ), f14_local22 )
									end
									if f14_arg1.FlareInstruction then
										if f14_local0 then
											f14_arg1.FlareInstruction:UpdateInstructionWithMultiplePrompts( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_FLARE" ), f14_local3 )
										else
											f14_arg1.FlareInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_FLARE" ), f14_local14 )
										end
									end
									if f14_arg1.MissilesInstruction then
										f14_arg1.MissilesInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_MISSILES" ), f14_local20 )
									end
									if f14_arg1.BoostInstruction then
										f14_arg1.BoostInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_BOOST" ), f14_local14 )
									end
									if f14_arg1.RCXDBoostInstruction then
										if f14_local0 then
											f14_arg1.RCXDBoostInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_BOOST" ), f14_local24 )
										else
											f14_arg1.RCXDBoostInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_BOOST" ), f14_local18 )
										end
									end
									if f14_arg1.GunnerFireInstruction then
										if f14_local0 then
											f14_arg1.GunnerFireInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/GUNNER_FIRE" ), f14_local14 )
										elseif f14_arg1.GunnerAimInstruction then
											f14_arg1.GunnerAimInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/GUNNER_FIRE" ), f14_local14 )
										end
									end
									if f14_arg1.GunnerAimInstruction then
										if f14_local0 then
											f14_arg1.GunnerAimInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/GUNNER_AIM" ), f14_local13 )
										elseif f14_arg1.GunnerFireInstruction then
											f14_arg1.GunnerFireInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/GUNNER_AIM" ), f14_local13 )
										end
									end
									if f14_arg1.JumpInstruction then
										f14_arg1.JumpInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_JUMP" ), f14_local23 )
									end
									if f14_arg1.DetonateInstruction then
										f14_arg1.DetonateInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_DETONATE" ), f14_local25 )
									end
									if f14_arg1.CarpocBoostInstruction then
										f14_arg1.CarpocBoostInstruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_BOOST" ), f14_local16 )
									end
									if f14_arg1.Control1Instruction then
										f14_arg1.Control1Instruction:UpdateInstruction( Engine.CBBHFCGDIC( "MP_WZ_ISLAND/INSTRUCTION_CONTROL_1" ), "[{" .. f14_local2 .. "+smoke}]" )
									end
									if f14_arg1.Control2Instruction then
										f14_arg1.Control2Instruction:UpdateInstruction( Engine.CBBHFCGDIC( "MP_WZ_ISLAND/INSTRUCTION_CONTROL_2" ), "[{" .. f14_local2 .. "+speed_throw}]" )
									end
									if f14_arg1.Control3Instruction then
										local f14_local31
										if f14_local0 then
											f14_local31 = "[{" .. f14_local2 .. "button_stick_left_vertical}]"
											if not f14_local31 then
											
											else
												f14_arg1.Control3Instruction:UpdateInstruction( Engine.CBBHFCGDIC( "MP_WZ_ISLAND/INSTRUCTION_CONTROL_3" ), f14_local31 )
											end
										end
										f14_local31 = "[{" .. f14_local2 .. "+forward}]/[{" .. f14_local2 .. "+back}]"
									end
									if f14_arg1.Control4Instruction then
										local f14_local31
										if f14_local0 then
											f14_local31 = "[{" .. f14_local2 .. "+frag}]"
											if not f14_local31 then
											
											else
												f14_arg1.Control4Instruction:UpdateInstruction( Engine.CBBHFCGDIC( "MP_WZ_ISLAND/INSTRUCTION_CONTROL_4" ), f14_local31 )
											end
										end
										f14_local31 = "[{" .. f14_local2 .. "+gostand}]"
									end
									if f14_arg1.Control5Instruction then
										local f14_local31 = "[{" .. f14_local2 .. "+attack}]"
										if f14_local0 then
											f14_arg1.Control5Instruction:UpdateInstructionWithMultiplePrompts( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_FIRE" ), f14_local31 )
										else
											f14_arg1.Control5Instruction:UpdateInstruction( Engine.CBBHFCGDIC( "KILLSTREAKS_HINTS/INSTRUCTION_FIRE" ), f14_local31 )
										end
									end
									if f14_arg1.Control6Instruction then
										local f14_local31
										if f14_local0 then
											f14_local31 = "[{" .. f14_local2 .. "button_stick_right_horizontal}]"
											if not f14_local31 then
											
											else
												local f14_local32
												if f14_local0 then
													f14_local32 = "MP_WZ_ISLAND/INSTRUCTION_CONTROL_6"
												else
													f14_local32 = "MP_WZ_ISLAND/PITCH"
												end
												f14_arg1.Control6Instruction:UpdateInstruction( Engine.CBBHFCGDIC( f14_local32 ), f14_local31 )
											end
										end
										f14_local31 = "[{" .. f14_local2 .. "ui_mouseupdown}]"
									end
									if f14_arg1.AdvancedAirplaneControlInstruction then
										local f14_local31
										if f14_local0 then
											f14_local31 = "[{" .. f14_local2 .. "+melee_zoom}]"
											if not f14_local31 then
											
											else
												local f14_local32
												if f14_arg1.AdvancedControlsEnabled then
													f14_local32 = "MP_WZ_ISLAND/ADVANCED_CONTROL_DISABLE"
												else
													f14_local32 = "MP_WZ_ISLAND/ADVANCED_CONTROL_ENABLE"
												end
												f14_arg1.AdvancedAirplaneControlInstruction.InstructionAlternateKbm:SetRGBFromTable( f14_arg1.AdvancedControlsEnabled and SWATCHES.HUD.caution or SWATCHES.HUD.HUDMain )
												f14_arg1.AdvancedAirplaneControlInstruction.Instruction:SetRGBFromTable( f14_arg1.AdvancedControlsEnabled and SWATCHES.HUD.caution or SWATCHES.HUD.HUDMain )
												f14_arg1.AdvancedAirplaneControlInstruction:UpdateInstruction( Engine.CBBHFCGDIC( f14_local32 ), f14_local31 )
											end
										end
										f14_local31 = "[{" .. f14_local2 .. "+special}]"
									end
								end
							end
							f14_local23 = "[{" .. f14_local2 .. "+gostand}]"
						end
					end
					f14_local21 = "[{" .. f14_local2 .. "+frag;+smoke}]"
				end
			end
			f14_local16 = "[{" .. f14_local2 .. "+breath_sprint}]"
		end
	end
	f14_local4 = Engine.CBBHFCGDIC( "KEY/MOUSE" )
end

HUDUtils.UpdateInstructionAnimation = function ( f13_arg0, f13_arg1 )
	if DataModel.JJEHAEBDF( DataSources.inGame.player.holdKBMEnabled:GetModel( f13_arg0 ) ) then
		f13_arg1:SetButtonPromptToHold()
	else
		f13_arg1:SetButtonPromptToPress()
	end
end

HUDUtils.UpdateJuggOverlayInVehicle = function ( f12_arg0, f12_arg1, f12_arg2 )
	local f12_local0 = LUI.DataSourceFromOmnvar.new( "ui_gas_mask_juggernaut" )
	if 0 < f12_local0:GetValue( f12_arg1 ) and f12_arg0.JuggernautOverlay then
		if f12_arg2 == 0 then
			f12_arg0.JuggernautOverlay:SetAlpha( 0, 0 )
		else
			f12_arg0.JuggernautOverlay:SetAlpha( 1, 0 )
		end
	end
end

HUDUtils.UpdateBattleTrackName = function ( f11_arg0, f11_arg1 )
	local f11_local0 = Game.IIBEFHFHI()
	if f11_local0 then
		local f11_local1 = CSV.vehicleTracks
		local f11_local2 = StringTable.DIFCHIGDFB( f11_local1.file, f11_local1.cols.inGameSFXAlias, f11_local0, f11_local1.cols.name )
		if f11_local2 then
			if f11_arg1 then
				f11_arg0:UpdateInstruction( Engine.CBBHFCGDIC( "VEHICLES/TOGGLE_OFF_TRACK_NAME", f11_local2 ), f11_arg1 )
			else
				f11_arg0:UpdateInstructionText( Engine.CBBHFCGDIC( "VEHICLES/TOGGLE_OFF_TRACK_NAME", f11_local2 ) )
			end
		elseif f11_arg1 then
			f11_arg0:UpdateInstruction( Engine.CBBHFCGDIC( "VEHICLES/TOGGLE_OFF_TRACK" ), f11_arg1 )
		else
			f11_arg0:UpdateInstructionText( Engine.CBBHFCGDIC( "VEHICLES/TOGGLE_OFF_TRACK" ) )
		end
	end
end

HUDUtils.SetupBattleTrackInstruction = function ( f8_arg0 )
	f8_arg0:registerOmnvarHandler( "ui_veh_battle_tracks_toggle_state", function ( f10_arg0, f10_arg1 )
		HUDUtils.UpdateBattleTrackInstruction( f10_arg0, f10_arg1.value, nil )
	end )
	f8_arg0:addEventHandler( "play_battle_track", function ( f9_arg0 )
		HUDUtils.UpdateBattleTrackName( f9_arg0, nil )
	end )
end

HUDUtils.UpdateBattleTrackInstruction = function ( f7_arg0, f7_arg1, f7_arg2 )
	if f7_arg1 == BattleTrackPromptState.HIDE then
		f7_arg0:SetAlpha( 0 )
	elseif f7_arg1 == BattleTrackPromptState.OFF then
		f7_arg0:SetAlpha( 1 )
		HUDUtils.UpdateBattleTrackName( f7_arg0, f7_arg2 )
	elseif f7_arg1 == BattleTrackPromptState.ON then
		f7_arg0:SetAlpha( 1 )
		if f7_arg2 then
			f7_arg0:UpdateInstruction( Engine.CBBHFCGDIC( "VEHICLES/TOGGLE_ON_TRACK" ), f7_arg2 )
		else
			f7_arg0:UpdateInstructionText( Engine.CBBHFCGDIC( "VEHICLES/TOGGLE_ON_TRACK" ) )
		end
	else
		assert( "Invalid battle track state" )
	end
end

HUDUtils.IsCurrentSeatDriver = function ( f6_arg0 )
	local f6_local0 = Game.BFEEGCHICA( f6_arg0, "ui_veh_current_seat" )
	local f6_local1
	if f6_local0 then
		f6_local1 = f6_local0
	else
		f6_local1 = f6_local0 == 0
	end
	return f6_local1
end

HUDUtils.UpdateShowControlsPrompts = function ( f5_arg0, f5_arg1 )
	assert( f5_arg0.FadeControlsPrompt, "An FadeControlsPrompt widget is required to update" )
	if LUI.IsLastInputGamepad( f5_arg1 ) then
		f5_arg0.FadeControlsPrompt:setText( Engine.CBBHFCGDIC( "LUA_MENU_MP/SHOW_CONTROLS" ) )
	else
		f5_arg0.FadeControlsPrompt:setText( Engine.CBBHFCGDIC( "LUA_MENU_MP/SHOW_CONTROLS_KBM" ) )
	end
end

HUDUtils.FadeControlPrompts = function ( f1_arg0, f1_arg1, f1_arg2 )
	assert( f1_arg0.elementsToFade, "A list of elementsToFade is required before called" )
	assert( f1_arg2 )
	local f1_local0 = function ( f4_arg0, f4_arg1 )
		if f4_arg0.UpdateInstructionVisibility then
			f4_arg0:UpdateInstructionVisibility( f4_arg1 )
		else
			for f4_local3, f4_local4 in ipairs( f4_arg0.elemetsToFade ) do
				f4_local4:SetAlpha( 1 )
			end
		end
	end
	
	if Dvar.IBEGCHEFE( "NSSQNMQKLM" ) then
		f1_local0( f1_arg0, f1_arg1 )
		return 
	end
	f1_arg0.showControls = f1_arg2.show
	f1_arg0.controlsShown = true
	if not HUDUtils.IsCurrentSeatDriver( f1_arg1 ) or not CONDITIONS.IsBRGameType( f1_arg0 ) then
		f1_arg0.showControls = true
	else
		local f1_local1 = {
			MP.Vehicles.LITTLEBIRD,
			MP.Vehicles.FD,
			MP.Vehicles.BT
		}
		local f1_local2 = "alwaysShowGroundVehicleControls"
		local f1_local3 = DataSources.inGame.MP.currentVehicle:GetValue( f1_arg1 )
		for f1_local7, f1_local8 in ipairs( f1_local1 ) do
			if f1_local3 and f1_local8 == f1_local3 then
				f1_local2 = "alwaysShowAirVehicleControls"
			end
		end
		if Engine.BECCFCBIAA( f1_local2 ) then
			f1_arg0.showControls = true
		end
	end
	if f1_arg2.forceHide then
		f1_arg0.controlsShown = false
		for f1_local4, f1_local5 in ipairs( f1_arg0.elementsToFade ) do
			f1_local5:SetAlpha( 0 )
			if f1_arg0.FadeControlsPrompt and not f1_arg0.controlsShown then
				f1_arg0.FadeControlsPrompt:SetAlpha( 1 )
				DataSources.inGame.HUD.hideHUDActive.active = true
			end
		end
	else
		if not f1_arg0.showControls then
			local f1_local1 = Dvar.CFHDGABACF( "LLTKLQOPLP" ) or 2000
			local f1_local2 = Dvar.CFHDGABACF( "OKLSSKSLQS" ) or 5000
			if f1_arg0.FadeControlsPrompt then
				f1_arg0.FadeControlsPrompt:SetAlpha( 0 )
				DataSources.inGame.HUD.hideHUDActive.active = false
			end
			f1_arg0.controlsShown = true
			f1_local0( f1_arg0, f1_arg1 )
			local f1_local3 = f1_arg0:Wait( f1_local2 )
			f1_local3.onComplete = function ()
				if not f1_arg0.showControls then
					f1_arg0.controlsShown = false
					for f2_local3, f2_local4 in ipairs( f1_arg0.elementsToFade ) do
						f2_local4:SetAlpha( 0, f1_arg0 )
					end
					f2_local0 = f1_arg0:Wait( f1_arg0 )
					f2_local0.onComplete = function ()
						if f2_local0.FadeControlsPrompt and not f2_local0.controlsShown then
							f2_local0.FadeControlsPrompt:SetAlpha( 1 )
							DataSources.inGame.HUD.hideHUDActive.active = true
						end
					end
					
				end
			end
			
		end
		if f1_arg0.FadeControlsPrompt then
			f1_arg0.FadeControlsPrompt:SetAlpha( 0 )
			DataSources.inGame.HUD.hideHUDActive.active = false
		end
		f1_local0( f1_arg0, f1_arg1 )
	end
end

