-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = "frontEnd.MP.privateLobby.buttons"
local f0_local1 = function ( f22_arg0, f22_arg1, f22_arg2, f22_arg3 )
	if f22_arg2.PlayMenuButton then
		f22_arg2 = f22_arg2.PlayMenuButton
	end
	if f22_arg3 == true then
		f22_arg2:AddTooltipData( f22_arg1, {
			tooltipDescription = f22_arg2.Description:getText() .. "\n\n^3" .. f22_arg2.DisabledText:getText() .. "^7"
		} )
	else
		f22_arg2:AddTooltipData( f22_arg1, {
			tooltipDescription = f22_arg2.Description:getText()
		} )
	end
end

local f0_local2 = function ( f21_arg0, f21_arg1, f21_arg2 )
	if f21_arg0.StartMatch then
		f0_local0( f21_arg0, f21_arg1, f21_arg0.StartMatch, f21_arg2 )
	end
	if f21_arg0.StartMatchDS then
		f0_local0( f21_arg0, f21_arg1, f21_arg0.StartMatchDS, f21_arg2 )
	end
	if f21_arg0.GameSetup then
		f0_local0( f21_arg0, f21_arg1, f21_arg0.GameSetup, f21_arg2 )
	end
	if f21_arg0.CPMapsButton then
		f0_local0( f21_arg0, f21_arg1, f21_arg0.CPMapsButton, f21_arg2 )
	end
	if f21_arg0.CPModesButton then
		f0_local0( f21_arg0, f21_arg1, f21_arg0.CPModesButton, f21_arg2 )
	end
end

local f0_local3 = function ( f19_arg0, f19_arg1 )
	if not PRIVATE_MATCH.ValidateGameSetup() then
		
	else
		
	end
	local f19_local0 = function ()
		if CONDITIONS.IsArenaGameType() then
			local f20_local0 = Engine.CGEFDFCIJA()
			local f20_local1 = Lobby.MaxPlayerLimitForGunfight
			local f20_local2 = Lobby.BEAJCIDDGF( Lobby.BotTeams.Friendly ) + Lobby.BEAJCIDDGF( Lobby.BotTeams.Enemy )
			local f20_local3 = Lobby.GetMaxBotLimit()
			if f20_local3 < f20_local2 then
				f20_local3 = math.floor( f20_local3 / 2 )
				Lobby.DGDIGJDHH( Lobby.BotTeams.Friendly, f20_local3 )
				Lobby.DGDIGJDHH( Lobby.BotTeams.Enemy, f20_local3 + 1 )
			end
			if f20_local1 < f20_local0 then
				LUI.FlowManager.RequestPopupMenu( f19_arg0, "EnteringGameModeWithHighPrivatePartyMemberCountWarning", true, event.controller, false, {
					currentCount = f20_local0,
					maxCount = f20_local1
				} )
			end
		end
		local f20_local0 = Lobby.DoesCurrentGameTypeSupportCrossplay()
		if not f20_local0 then
			f20_local0 = not Engine.BEAJHICIEF()
		end
		if f20_local0 then
			if Lobby.CAEJIEEEDF() == 0 then
				Lobby.CJBHJEAFGH( 2 )
			end
			Engine.EBIDFIDHIE( "xpartygo" )
			local f20_local1 = LUI.FlowManager.GetScopedData( f19_arg0 )
			if not f20_local1.isTournament then
				CODCASTER.SetCODCastingEnabled( MP_COMMON.IsMatchRulesCODCastingEnabled( true ) )
			end
		end
	end
	
	if LOADOUT.MATCHRULES.ShouldShowLoadoutRestrictedPopup( f19_arg1 ) then
		LUI.FlowManager.RequestPopupMenu( nil, "CDLInvalidLoadout", true, f19_arg1, false, {
			confirmAction = f19_local0
		} )
	else
		f19_local0()
	end
end

local f0_local4 = function ( f18_arg0, f18_arg1, f18_arg2 )
	if f18_arg1 and f18_arg1.DisabledText then
		if f18_arg0._disableStartForCrossplay then
			f18_arg1.DisabledText:setText( Engine.CBBHFCGDIC( "LUA_MENU_CP/MODE_DISABLED_CROSSPLAY" ) )
			f18_arg1.DisabledText:SetAnimMoveTime( 8000 )
		else
			f18_arg1.DisabledText:setText( f18_arg2 )
			f18_arg1.DisabledText:SetAnimMoveTime( 2000 )
		end
	end
end

local f0_local5 = function ( f4_arg0, f4_arg1, f4_arg2 )
	local f4_local0 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.areWeGameHost" )
	local f4_local1 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.isHostWaitingOnMembers" )
	local f4_local2 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.partyClientsUpToDate" )
	local f4_local3 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.isGameStartRequested" )
	local f4_local4 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.isMatchmaking" )
	f4_arg0.widgetModelPath = f0_local0
	if CONDITIONS.IsThirdGameMode then
		local f4_local5 = function ()
			if f4_arg0.CPMapsButton then
				local f17_local0 = Lobby.GetCurrentGameType()
				local f17_local1 = f4_arg0.CPMapsButton.PlayMenuButton.Text
				local f17_local2 = f17_local1
				f17_local1 = f17_local1.setText
				local f17_local3 = ToUpperCase
				local f17_local4 = Engine.CBBHFCGDIC
				local f17_local5
				if f17_local0 == "cp_specops" then
					f17_local5 = "LUA_MENU/CP_SO_MISSION"
				else
					f17_local5 = "LUA_MENU/MAP_CAPS"
				end
				f17_local1( f17_local2, f17_local3( f17_local4( f17_local5 ) ) )
				f17_local1 = f4_arg0.CPMapsButton.PlayMenuButton.Description
				f17_local2 = f17_local1
				f17_local1 = f17_local1.setText
				f17_local3 = Engine.CBBHFCGDIC
				if f17_local0 == "cp_specops" then
					f17_local4 = "LUA_MENU/DESC_MISSION"
				else
					f17_local4 = "LUA_MENU/DESC_MAP"
				end
				f17_local1( f17_local2, f17_local3( f17_local4 ) )
				f4_arg0.CPMapsButton.DynamicText:setText( ToUpperCase( Lobby.ECIFCJJJIA() ) )
			end
			if f4_arg0.CPModesButton then
				f4_arg0.CPModesButton.DynamicText:setText( ToUpperCase( Lobby.GetCurrentGameTypeName() ) )
			end
		end
		
		f4_local5()
		f4_arg0:addEventHandler( "menu_create", f4_local5 )
	end
	if f4_arg0.GameSetup then
		f4_arg0.GameSetup:addEventHandler( "button_action", function ( f16_arg0, f16_arg1 )
			if not PRIVATE_MATCH.ValidateGameSetup() then
				return 
			elseif CONDITIONS.IsCoreMultiplayer( f4_arg0 ) then
				local f16_local0 = LUI.FlowManager.GetScopedData( f4_arg0 )
				LUI.FlowManager.RequestAddMenu( "GameSetup", true, f16_arg1.controller, false, {
					isSoloMode = false,
					isTournament = f16_local0.isTournament,
					matchmakerSettings = f16_local0.matchmakerSettings
				} )
			elseif CONDITIONS.IsThirdGameMode( f4_arg0 ) then
				LUI.FlowManager.RequestAddMenu( "CPGameSetup", true, f16_arg1.controller, false, {
					isSoloMode = false
				} )
			end
		end )
	end
	if f4_arg0.StartMatchDS and not f4_arg0.StartMatch then
		f4_arg0.StartMatchDS.Description:setText( Engine.CBBHFCGDIC( "LUA_MENU/DESC_START_MATCH" ), 0 )
	end
	if f4_arg0.StartMatch then
		f4_arg0.StartMatch:addEventHandler( "button_action", function ( f15_arg0, f15_arg1 )
			f4_arg0( f4_arg0, f4_arg0 )
		end )
	end
	if f4_arg0.StartMatchDS then
		f4_arg0.StartMatchDS:addEventHandler( "button_action", function ( f14_arg0, f14_arg1 )
			if CONDITIONS.PrivateDsAllowed( f4_arg0 ) and (Lobby.GetTotalNumBots() == 0 or not f4_arg0.StartMatch) then
				if Lobby.GetTotalNumBots() ~= 0 and Lobby.CAEJIEEEDF() == 0 then
					Lobby.CJBHJEAFGH( 2 )
				end
				Lobby.StartPrivateMatchDS( f4_arg0 )
			end
		end )
	end
	if f4_arg0.StartMatchDS and f4_arg0.StartMatch then
		local f4_local5 = f4_arg0.StartMatchDS.Description:getText() .. "\n"
		local f4_local6 = nil
		local f4_local7 = 0 < Lobby.GetTotalNumBots()
		if f4_local7 then
			f4_local6 = "LUA_MENU_MP/PRIVATE_MATCH_DEDI_DISABLED"
		else
			f4_local6 = "LUA_MENU_MP/PRIVATE_MATCH_DEDI_ENABLED"
		end
		f4_arg0.StartMatchDS:SetButtonDisabled( f4_local7 )
		f4_arg0.StartMatchDS.Description:setText( f4_local5 .. Engine.CBBHFCGDIC( f4_local6 ) )
	end
	local f4_local5 = LUI.DataSourceInGlobalModel.new( f0_local0 .. ".disableButton" )
	local f4_local7 = LUI.AggregateDataSource.new( f4_local5, {
		f4_local0,
		f4_local3,
		f4_local4
	}, "gameSetupDisabled", function ( f13_arg0 )
		local f13_local0 = f4_arg0:GetValue( f13_arg0 )
		local f13_local1 = f4_arg0:GetValue( f13_arg0 )
		local f13_local2 = CONDITIONS.PrivateDsAllowed( f4_arg0 )
		if f13_local2 then
			f13_local2 = f4_arg0:GetValue( f13_arg0 )
		end
		local f13_local3
		if f13_local0 then
			if not f13_local1 then
				f13_local3 = f13_local1
			else
				f13_local3 = f13_local2
			end
		else
			f13_local3 = true
		end
		return f13_local3
	end )
	f4_arg0:SubscribeToModel( f4_local7:GetModel( f4_arg1 ), function ()
		local f12_local0 = f4_arg0:GetValue( f4_arg0 )
		if f4_arg0.GameSetup then
			f4_arg0.GameSetup:SetButtonDisabled( f12_local0 )
		end
		if f4_arg0.CPMapsButton then
			f4_arg0.CPMapsButton:SetButtonDisabled( f12_local0 )
		end
		if f4_arg0.CPModesButton then
			f4_arg0.CPModesButton:SetButtonDisabled( f12_local0 )
		end
	end )
	local f4_local8 = LUI.AggregateDataSource.new( f4_local5, {
		f4_local0,
		f4_local1,
		f4_local2,
		f4_local3,
		f4_local4
	}, "startButtonDisabled", function ( f11_arg0 )
		local f11_local0 = f4_arg0:GetValue( f11_arg0 )
		local f11_local1 = f4_arg0:GetValue( f11_arg0 )
		local f11_local2 = f4_arg0:GetValue( f11_arg0 )
		local f11_local3 = f4_arg0:GetValue( f11_arg0 )
		local f11_local4 = CONDITIONS.PrivateDsAllowed( f4_arg0 )
		if f11_local4 then
			f11_local4 = f4_arg0:GetValue( f11_arg0 )
		end
		local f11_local5
		if f11_local0 then
			if not f11_local1 then
				f11_local5 = f11_local1
			elseif f11_local2 then
				if not f11_local3 then
					f11_local5 = f11_local3
				else
					f11_local5 = f11_local4
				end
			else
				f11_local5 = true
			end
		else
			f11_local5 = true
		end
		return f11_local5
	end )
	f4_arg0:SubscribeToModel( f4_local8:GetModel( f4_arg1 ), function ()
		local f10_local0 = f4_arg0._disableStartForCrossplay
		if not f10_local0 then
			f10_local0 = f4_arg0:GetValue( f4_arg0 )
		end
		if f4_arg0.StartMatch then
			f4_arg0.StartMatch:SetButtonDisabled( f10_local0 )
		end
		if f4_arg0.StartMatchDS then
			local f10_local1
			if not f10_local0 then
				f10_local1 = f10_local0
			elseif 0 < Lobby.GetTotalNumBots() then
				f10_local1 = f4_arg0.StartMatch
			else
				f10_local1 = false
			end
			f4_arg0.StartMatchDS:SetButtonDisabled( f10_local1 )
		end
	end )
	f4_arg0:SubscribeToModel( f4_local0:GetModel( f4_arg1 ), function ( f9_arg0 )
		local f9_local0 = Engine.CBBHFCGDIC( "MENU/LOCKED" )
		if not f4_arg0:GetValue( f9_arg0 ) then
			f9_local0 = Engine.CBBHFCGDIC( "LUA_MENU_MP/BUTTON_DISABLED_NOT_HOST" )
		end
		f4_arg0( f4_arg0, f4_arg0.StartMatch, f9_local0 )
		f4_arg0( f4_arg0, f4_arg0.StartMatchDS, f9_local0 )
		if f4_arg0.GameSetup then
			f4_arg0.GameSetup.DisabledText:setText( f9_local0 )
		end
		if f4_arg0.CPMapsButton then
			f4_arg0.CPMapsButton.PlayMenuButton.DisabledText:setText( f9_local0 )
		end
		if f4_arg0.CPModesButton then
			f4_arg0.CPModesButton.PlayMenuButton.DisabledText:setText( f9_local0 )
		end
	end )
	if Engine.CIEGIACHAE() then
		local f4_local9 = function ( f8_arg0 )
			local f8_local0
			if not Lobby.DoesCurrentGameTypeSupportCrossplay() then
				f8_local0 = Engine.BEAJHICIEF()
			else
				f8_local0 = false
			end
			if f8_arg0._disableStartForCrossplay ~= f8_local0 then
				f8_arg0._disableStartForCrossplay = f8_local0
				f4_arg0()
				f4_arg0( f4_arg0 )
			end
		end
		
		local self = LUI.UITimer.new( {
			interval = 500,
			event = "check_party"
		} )
		self.id = "checkPartyTimer"
		self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 0, 0, 0 )
		f4_arg0:addElement( self )
		f4_arg0:registerEventHandler( "check_party", function ( element, event )
			f4_arg0( f4_arg0 )
		end )
	end
	local f4_local9 = function ( f6_arg0 )
		local f6_local0 = f4_arg0:GetValue( f6_arg0 )
		local f6_local1 = f4_arg0:GetValue( f6_arg0 )
		local f6_local2 = f4_arg0:GetValue( f6_arg0 )
		if f6_local0 then
			if f4_arg0.StartMatch then
				f4_arg0.StartMatch.Text:setText( Engine.CBBHFCGDIC( "LUA_MENU/STARTING_GAME_CAPS" ) )
			end
			f4_arg0( f4_arg0, f6_arg0, true )
		elseif f6_local2 and f4_arg0.StartMatchDS then
			f4_arg0.StartMatchDS.Text:setText( Engine.CBBHFCGDIC( "LUA_MENU/STARTING_GAME_CAPS" ) )
			f4_arg0( f4_arg0, f6_arg0, true )
		elseif f6_local1 then
			if f4_arg0.StartMatch then
				f4_arg0.StartMatch.Text:setText( Engine.CBBHFCGDIC( "LUA_MENU/START_GAME_CAPS" ) )
			end
			if f4_arg0.StartMatchDS then
				if not f4_arg0.StartMatch then
					f4_arg0.StartMatchDS.Text:setText( Engine.CBBHFCGDIC( "LUA_MENU/START_GAME_CAPS" ) )
				else
					f4_arg0.StartMatchDS.Text:setText( Engine.CBBHFCGDIC( "LUA_MENU/START_PRIVATE_DS_CAPS" ) )
				end
			end
			f4_arg0( f4_arg0, f6_arg0, false )
		else
			if f4_arg0.StartMatch then
				f4_arg0.StartMatch.Text:setText( Engine.CBBHFCGDIC( "LUA_MENU/WAITING_FOR_HOST_CAPS" ) )
			end
			if f4_arg0.StartMatchDS then
				f4_arg0.StartMatchDS.Text:setText( Engine.CBBHFCGDIC( "LUA_MENU/WAITING_FOR_HOST_CAPS" ) )
			end
			f4_arg0( f4_arg0, f6_arg0, true )
		end
	end
	
	f4_arg0:SubscribeToModel( f4_local0:GetModel( f4_arg1 ), f4_local9 )
	f4_arg0:SubscribeToModel( f4_local3:GetModel( f4_arg1 ), f4_local9 )
	f4_arg0:SubscribeToModel( f4_local4:GetModel( f4_arg1 ), f4_local9 )
	local self = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.isCodCastingEnabled" )
	f4_arg0:SubscribeToModel( self:GetModel( f4_arg1 ), function ()
		local f5_local0 = f4_arg0:GetValue( f4_arg0 )
		if f5_local0 then
			f5_local0 = CODCASTER.CanCODCast()
		end
		local f5_local1 = LUI.FlowManager.GetScopedData( f4_arg0 )
		if f5_local0 and not f5_local1.isTournament then
			CODCASTER.CreateCODCasterSettingsButton( f4_arg0, f4_arg0 )
		else
			CODCASTER.DestroyCODCasterSettingsButton( f4_arg0, f4_arg0 )
		end
	end, true )
end

function PrivateMatchLobbyButtons( menu, controller )
	local self = LUI.UIVerticalList.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 430 * _1080p, 0, 400 * _1080p )
	self.id = "PrivateMatchLobbyButtons"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	self:SetSpacing( 10 * _1080p )
	local f1_local3 = nil
	if CONDITIONS.PrivateListenAllowed( self ) then
		f1_local3 = MenuBuilder.BuildRegisteredType( "PlayMenuButton", {
			controllerIndex = f1_local1
		} )
		f1_local3.id = "StartMatch"
		f1_local3.Text:setText( ToUpperCase( Engine.CBBHFCGDIC( "MENU/START_MATCH" ) ), 0 )
		f1_local3.Description:setText( Engine.CBBHFCGDIC( "LUA_MENU/DESC_START_MATCH" ), 0 )
		f1_local3.DisabledText:setText( Engine.CBBHFCGDIC( "MENU/LOCKED" ), 0 )
		f1_local3.DisabledText:SetAnimMoveTime( 2000 )
		f1_local3:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 430, 0, _1080p * 50 )
		self:addElement( f1_local3 )
		self.StartMatch = f1_local3
	end
	local f1_local4 = nil
	if CONDITIONS.PrivateDsAllowed( self ) then
		f1_local4 = MenuBuilder.BuildRegisteredType( "PlayMenuButton", {
			controllerIndex = f1_local1
		} )
		f1_local4.id = "StartMatchDS"
		f1_local4.Text:setText( Engine.CBBHFCGDIC( "LUA_MENU/START_PRIVATE_DS_CAPS" ), 0 )
		f1_local4.Description:setText( Engine.CBBHFCGDIC( "LUA_MENU/DESC_START_PRIVATE_DS" ), 0 )
		f1_local4.DisabledText:setText( Engine.CBBHFCGDIC( "MENU/LOCKED" ), 0 )
		f1_local4.DisabledText:SetAnimMoveTime( 2000 )
		f1_local4:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 430, _1080p * 60, _1080p * 110 )
		self:addElement( f1_local4 )
		self.StartMatchDS = f1_local4
	end
	local f1_local5 = nil
	if CONDITIONS.IsThirdGameMode( self ) then
		f1_local5 = MenuBuilder.BuildRegisteredType( "DualMenuButton", {
			controllerIndex = f1_local1
		} )
		f1_local5.id = "CPMapsButton"
		f1_local5.PlayMenuButton.Text:setText( Engine.CBBHFCGDIC( "LUA_MENU/MAP_CAPS" ), 0 )
		f1_local5.PlayMenuButton.Description:setText( Engine.CBBHFCGDIC( "LUA_MENU/DESC_MAP" ), 0 )
		f1_local5.DynamicText:setText( "", 0 )
		f1_local5:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 430, _1080p * 120, _1080p * 170 )
		self:addElement( f1_local5 )
		self.CPMapsButton = f1_local5
	end
	local f1_local6 = nil
	if CONDITIONS.IsThirdGameModeAndSurvivalModeAllowed( self ) then
		f1_local6 = MenuBuilder.BuildRegisteredType( "DualMenuButton", {
			controllerIndex = f1_local1
		} )
		f1_local6.id = "CPModesButton"
		f1_local6.PlayMenuButton.Text:setText( Engine.CBBHFCGDIC( "LUA_MENU/MODE_CAPS" ), 0 )
		f1_local6.PlayMenuButton.Description:setText( Engine.CBBHFCGDIC( "LUA_MENU/DESC_GAMEMODE" ), 0 )
		f1_local6.DynamicText:setText( "", 0 )
		f1_local6:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 430, _1080p * 180, _1080p * 230 )
		self:addElement( f1_local6 )
		self.CPModesButton = f1_local6
	end
	local f1_local7 = nil
	if CONDITIONS.IsGameSetupEnabledAndCPDevMode( self ) then
		f1_local7 = MenuBuilder.BuildRegisteredType( "PlayMenuButton", {
			controllerIndex = f1_local1
		} )
		f1_local7.id = "GameSetup"
		f1_local7.Text:setText( ToUpperCase( Engine.CBBHFCGDIC( "LUA_MENU/GAME_SETUP_CAPS" ) ), 0 )
		f1_local7.Description:setText( Engine.CBBHFCGDIC( "LUA_MENU/DESC_GAME_SETUP" ), 0 )
		f1_local7.DisabledText:setText( Engine.CBBHFCGDIC( "MENU/LOCKED" ), 0 )
		f1_local7.DisabledText:SetAnimMoveTime( 2000 )
		f1_local7:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 430, _1080p * 240, _1080p * 290 )
		self:addElement( f1_local7 )
		self.GameSetup = f1_local7
	end
	if CONDITIONS.IsThirdGameMode( self ) then
		f1_local5:addEventHandler( "button_action", function ( f3_arg0, f3_arg1 )
			ACTIONS.OpenMenu( "CPMaps", true, f3_arg1.controller or menu )
		end )
	end
	if CONDITIONS.IsThirdGameModeAndSurvivalModeAllowed( self ) then
		f1_local6:addEventHandler( "button_action", function ( f2_arg0, f2_arg1 )
			ACTIONS.OpenMenu( "CPGameModes", true, f2_arg1.controller or menu )
		end )
	end
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "PrivateMatchLobbyButtons", PrivateMatchLobbyButtons )
LockTable( _M )
