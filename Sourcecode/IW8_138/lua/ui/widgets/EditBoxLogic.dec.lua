-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
LUI.AddEditBoxLogic = function ( f1_arg0, f1_arg1, f1_arg2 )
	assert( f1_arg2.alignment )
	assert( f1_arg2.font )
	assert( f1_arg2.focusType )
	assert( f1_arg2.defaultValue )
	assert( f1_arg2.textSelectionColor )
	local f1_local0 = f1_arg2.maxInputStringLength or 255
	local f1_local1 = f1_arg2.disableAfterEdit or true
	local f1_local2 = f1_arg2.useAutoAlign or false
	local f1_local3 = f1_arg2.isNumeric
	if not f1_local3 then
		f1_local3 = f1_arg2.isNumericEmpty or false
	end
	local f1_local4 = f1_arg2.isNumericEmpty or false
	local f1_local5 = f1_arg2.focusable or true
	local f1_local6 = f1_arg2.isPassword or false
	local f1_local7 = f1_arg2.isEmail or false
	local f1_local8 = f1_arg2.autoConfirmOnTab or false
	local f1_local9 = f1_arg2.autoConfirmOnOutsideClick or false
	local f1_local10 = f1_arg2.autoSelectAllOnActive or false
	if not f1_arg2.name then
		local f1_local11 = tostring( f1_arg2.defaultValue )
	end
	local f1_local12 = f1_arg2.min or 0
	local f1_local13 = f1_arg2.max or 1
	local f1_local14 = assert
	local f1_local15
	if f1_local3 then
		f1_local15 = f1_arg2.max
	else
		f1_local15 = true
	end
	f1_local14( f1_local15, "No maximum value set for numeric EditBox" )
	f1_local14 = assert
	if f1_local3 and f1_arg2.min >= f1_arg2.max then
		f1_local15 = false
	else
		f1_local15 = true
	end
	f1_local14( f1_local15, "Min > Max for numeric EditBox." )
	f1_local14 = CoD.KeyboardInputTypes.Normal
	if f1_local4 then
		f1_local14 = CoD.KeyboardInputTypes.NumberEmpty
	elseif f1_local3 then
		f1_local14 = CoD.KeyboardInputTypes.Number
	elseif f1_local6 then
		f1_local14 = CoD.KeyboardInputTypes.Password
	elseif f1_local7 then
		f1_local14 = CoD.KeyboardInputTypes.Email
	end
	f1_arg0:setText( "" )
	f1_arg0._textEditingActive = false
	f1_arg0._firstInteraction = true
	f1_arg0.isDefault = true
	f1_local15 = function ( f10_arg0 )
		return function ()
			if f10_arg0._textEditingActive then
				f10_arg0.textEdit:setTextEditActive( false )
				f10_arg0._textEditingActive = false
				if f10_arg0.textEdit:getText() == "" then
					f10_arg0.isDefault = true
					f10_arg0._firstInteraction = true
					f10_arg0.textEdit:setTextEditText( f10_arg0.defaultValue )
					if f10_arg0 then
						f10_arg0.textEdit:setShowPassword( true )
					end
				end
			end
		end
		
	end
	
	f1_arg0.TextEditOff = f1_local15( f1_arg0 )
	f1_arg0._requireFocusType = f1_arg2.focusType
	local f1_local16 = MenuBuilder.BuildRegisteredType( "UITextEdit", {
		controllerIndex = f1_arg1,
		maxLength = f1_local0,
		useAutoAlign = f1_local2,
		disableAfterEdit = f1_local1,
		isNumeric = f1_local3,
		isPassword = f1_local6,
		autoConfirmOnTab = f1_local8,
		autoConfirmOnOutsideClick = f1_local9,
		autoSelectAllOnActive = f1_local10
	} )
	f1_local16:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	f1_local16.id = "textEdit"
	f1_arg0.textEdit = f1_local16
	f1_arg0:addElement( f1_local16 )
	f1_arg0.textEdit:SetFont( f1_arg2.font )
	f1_arg0.textEdit:SetAlignment( f1_arg2.alignment )
	f1_arg0.textEdit:setTextSelectionHighlightColor( f1_arg2.textSelectionColor.r, f1_arg2.textSelectionColor.g, f1_arg2.textSelectionColor.b, f1_arg2.textSelectionColor.a )
	f1_arg0.textEdit:addEventHandler( "menu_create", function ( f9_arg0, f9_arg1 )
		f9_arg0:setTextEditText( f1_arg0.defaultValue )
	end )
	f1_arg0.SetButtonActionCallbackFunc = function ( f8_arg0, f8_arg1 )
		f8_arg0._buttonActionCallbackFunc = f8_arg1
	end
	
	f1_arg0.SetIsTypingCallbackFunc = function ( f7_arg0, f7_arg1 )
		f7_arg0._isTypingCallbackFunc = f7_arg1
	end
	
	f1_arg0.SetTextEditCompleteCallbackFunc = function ( f6_arg0, f6_arg1 )
		f6_arg0._textEditCompleteCallbackFunc = f6_arg1
	end
	
	f1_arg0:addEventHandler( "button_action", function ( f4_arg0, f4_arg1 )
		if not f4_arg0._textEditingActive then
			local f4_local0 = f4_arg0.textEdit:getText()
			if f1_arg0 then
				f4_local0 = ""
			end
			if f1_arg0._firstInteraction then
				if not f1_arg0 then
					f4_local0 = ""
				end
				f1_arg0._firstInteraction = false
			end
			if Engine.HDGDBCJFG() and LUI.IsLastInputGamepad( f4_arg1.controller ) then
				LUI.UIRoot.BlockButtonInput( Engine.DBFFAEEFGJ(), true )
				OSK.CBJGJDGFC( f4_arg1.controller, f1_arg0, f4_local0, f1_arg0.maxLength, false, false, true, function ( f5_arg0, f5_arg1, f5_arg2 )
					LUI.UIRoot.BlockButtonInput( f4_arg0, false )
					local f5_local0 = f4_arg0
					local f5_local1
					if f5_arg1 ~= "" and (f5_arg1 ~= nil or f4_arg0 ~= "") then
						f5_local1 = false
					else
						f5_local1 = true
					end
					f5_local0.isDefault = f5_local1
					if f4_arg0 then
						if tonumber( f5_arg1 ) ~= nil then
							f5_arg1 = tostring( LUI.clamp( tonumber( f5_arg1 ), f4_arg0, f4_arg0 ) )
						else
							f5_arg1 = f4_arg0
						end
					end
					if f4_arg0.isDefault then
						f5_arg1 = f4_arg0.defaultValue
						f4_arg0._firstInteraction = true
					elseif not f5_arg1 or not f5_arg1 then
						f5_arg1 = f4_arg0
					end
					if f4_arg0._textEditCompleteCallbackFunc then
						f4_arg0.text = f5_arg1
						f4_arg0.isDefault = f4_arg0.isDefault
						f4_arg0:_textEditCompleteCallbackFunc( f4_arg0 )
					end
					f4_arg0.textEdit:setTextEditText( f5_arg1 )
					if f4_arg0 then
						f4_arg0.textEdit:setShowPassword( f4_arg0.isDefault )
					end
					f4_arg0._textEditingActive = false
				end, f1_arg0 )
			end
			f4_arg0.textEdit:setTextEditActive()
			f4_arg0._textEditingActive = true
			if f4_arg0._buttonActionCallbackFunc then
				f4_arg0._buttonActionCallbackFunc()
			end
			return true
		else
			
		end
	end )
	f1_arg0:addEventHandler( "text_edit_complete", function ( f3_arg0, f3_arg1 )
		if f3_arg0._textEditingActive and f3_arg1.active then
			f3_arg0:TextEditOff()
			if f3_arg0._textEditCompleteCallbackFunc then
				f3_arg1.text = f3_arg0.textEdit:getText()
				f3_arg1.isDefault = f3_arg0.isDefault
				f3_arg0:_textEditCompleteCallbackFunc( f3_arg1 )
			end
		end
	end )
	f1_arg0:addEventHandler( "text_edit_is_typing", function ( f2_arg0, f2_arg1 )
		if f2_arg0._textEditingActive then
			f2_arg0.isDefault = false
			if f2_arg0._isTypingCallbackFunc then
				f2_arg0._isTypingCallbackFunc( f2_arg1.isTyping )
			end
		end
	end )
end

