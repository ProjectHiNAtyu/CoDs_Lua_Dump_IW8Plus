-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.widgets.GenericPopupWindow" )
local f0_local0 = {
	{
		icon = "icon_mp_mode_ffa",
		name = "GAME/LAUNCH_PHASE_1",
		desc = "GAME/LAUNCH_PHASE_1_DESC"
	},
	{
		icon = "icon_mp_mode_arena",
		name = "GAME/LAUNCH_PHASE_2",
		desc = "GAME/LAUNCH_PHASE_2_DESC"
	},
	{
		icon = "icon_mp_mode_arena",
		name = "GAME/LAUNCH_PHASE_3",
		desc = "GAME/LAUNCH_PHASE_3_DESC"
	},
	{
		icon = "icon_mp_mode_conf",
		name = "GAME/LAUNCH_PHASE_4",
		desc = "GAME/LAUNCH_PHASE_4_DESC"
	}
}
local f0_local1 = function ( f10_arg0, f10_arg1 )
	assert( f10_arg1 )
	local f10_local0 = assert
	local f10_local1 = f10_arg0.Icon
	if f10_local1 then
		f10_local1 = f10_arg0.ModeText and f10_arg0.DescriptionText
	end
	f10_local0( f10_local1, "Warning: Elements missing from LaunchChunkNewPhasePopup..." )
	if f10_arg0._currentPhase ~= f10_arg1 then
		f10_arg0._currentPhase = f10_arg1
		if #f0_local0 < f10_arg1 then
			ACTIONS.AnimateSequence( f10_arg0, "ShowMessage" )
		elseif f10_arg1 ~= 0 then
			f10_local0 = f0_local0[f10_arg1]
			f10_arg0.ModeText:setText( Engine[0xED84C33EC5F01EA]( f10_local0.name ) )
			f10_arg0.DescriptionText:setText( Engine[0xED84C33EC5F01EA]( f10_local0.desc ) )
			f10_arg0.Icon:setImage( RegisterMaterial( f10_local0.icon ) )
		end
	end
end

local f0_local2 = function ( f6_arg0, f6_arg1, f6_arg2 )
	f6_arg0._currentPhase = nil
	f6_arg0.SetupPhase = f0_local0
	f6_arg0:registerOmnvarHandler( "ui_launch_chunk_phase", function ( f9_arg0, f9_arg1 )
		f9_arg0:SetupPhase( f9_arg1.value )
	end )
	f6_arg0:SetupPhase( Game[0x28624DEF6F708C8]( f6_arg1, "ui_launch_chunk_phase" ) )
	f6_arg0._allowInput = false
	local f6_local0 = f6_arg0:Wait( 3000 )
	f6_local0.onComplete = function ()
		f6_arg0._allowInput = true
	end
	
	f6_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		if event.button == "primary" and f6_arg0._allowInput then
			Engine[0x6055C55456F05DF]( "class_select", f6_arg0 )
			LUI.FlowManager.RequestLeaveMenu( element )
		end
	end )
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f6_arg0, "AR" )
	end
end

function LaunchChunkNewPhasePopup( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "LaunchChunkNewPhasePopup"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine[0x12586A3F4FB490E]() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1, "Missing controllerIndex!" )
	local f1_local2 = self
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	ACTIONS.ScaleFullscreen( Darkener )
	Darkener:SetRGBFromInt( 0, 0 )
	Darkener:SetAlpha( 0.7, 0 )
	Darkener:SetScale( 1, 0 )
	Darkener:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * 480, _1080p * -480, _1080p * 269, _1080p * -270 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	local GenericPopupWindow = nil
	
	GenericPopupWindow = MenuBuilder.BuildRegisteredType( "GenericPopupWindow", {
		controllerIndex = f1_local1
	} )
	GenericPopupWindow.id = "GenericPopupWindow"
	GenericPopupWindow:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -870, _1080p * 870, _1080p * -200, _1080p * 200 )
	self:addElement( GenericPopupWindow )
	self.GenericPopupWindow = GenericPopupWindow
	
	local SelectButtonHint = nil
	
	SelectButtonHint = LUI.UIStyledText.new()
	SelectButtonHint.id = "SelectButtonHint"
	SelectButtonHint:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	SelectButtonHint:SetAlpha( 0, 0 )
	SelectButtonHint:setText( Engine[0xED84C33EC5F01EA]( "GAME/LAUNCH_START_MATCH" ), 0 )
	SelectButtonHint:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	SelectButtonHint:SetFontSize( 22 * _PT )
	SelectButtonHint:SetMinFontSize( 16 * _PT )
	SelectButtonHint:SetWordWrap( false )
	SelectButtonHint:SetAlignment( LUI.Alignment.Center )
	SelectButtonHint:SetTintFontIcons( true )
	SelectButtonHint:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -250, _1080p * 250, _1080p * 125, _1080p * 147 )
	self:addElement( SelectButtonHint )
	self.SelectButtonHint = SelectButtonHint
	
	local TitleText = nil
	
	TitleText = LUI.UIStyledText.new()
	TitleText.id = "TitleText"
	TitleText:SetRGBFromTable( SWATCHES.Popups.titleTxt, 0 )
	TitleText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "GAME/NEXT_MATCH" ) ), 0 )
	TitleText:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	TitleText:SetFontSize( 54 * _PT )
	TitleText:SetMinFontSize( 16 * _PT )
	TitleText:SetAlignment( LUI.Alignment.Center )
	TitleText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -850, _1080p * 850, _1080p * -180, _1080p * -120 )
	self:addElement( TitleText )
	self.TitleText = TitleText
	
	local Icon = nil
	
	Icon = LUI.UIImage.new()
	Icon.id = "Icon"
	Icon:setImage( RegisterMaterial( "icon_mp_mode_conf" ), 0 )
	Icon:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -294, _1080p * -166, _1080p * -74, _1080p * 54 )
	self:addElement( Icon )
	self.Icon = Icon
	
	local OperationText = nil
	
	OperationText = LUI.UIStyledText.new()
	OperationText.id = "OperationText"
	OperationText:SetRGBFromTable( SWATCHES.Popups.headerTxt, 0 )
	OperationText:setText( Engine[0xED84C33EC5F01EA]( "GAME/OPERATION" ), 0 )
	OperationText:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	OperationText:SetFontSize( 30 * _PT )
	OperationText:SetMinFontSize( 16 * _PT )
	OperationText:SetAlignment( LUI.Alignment.Left )
	OperationText:SetOptOutRightToLeftAlignmentFlip( true )
	OperationText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -144, _1080p * 356, _1080p * -78, _1080p * -50 )
	self:addElement( OperationText )
	self.OperationText = OperationText
	
	local DescriptionText = nil
	
	DescriptionText = LUI.UIStyledText.new()
	DescriptionText.id = "DescriptionText"
	DescriptionText:SetRGBFromTable( SWATCHES.Popups.bodyTxt, 0 )
	DescriptionText:setText( "", 0 )
	DescriptionText:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	DescriptionText:SetFontSize( 30 * _PT )
	DescriptionText:SetMinFontSize( 16 * _PT )
	DescriptionText:SetAlignment( LUI.Alignment.Left )
	DescriptionText:SetOptOutRightToLeftAlignmentFlip( true )
	DescriptionText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -144, _1080p * 516, 0, _1080p * 28 )
	self:addElement( DescriptionText )
	self.DescriptionText = DescriptionText
	
	local ModeText = nil
	
	ModeText = LUI.UIStyledText.new()
	ModeText.id = "ModeText"
	ModeText:SetRGBFromTable( SWATCHES.Popups.subHeaderTxt2, 0 )
	ModeText:setText( "", 0 )
	ModeText:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	ModeText:SetFontSize( 42 * _PT )
	ModeText:SetMinFontSize( 16 * _PT )
	ModeText:SetWordWrap( false )
	ModeText:SetAlignment( LUI.Alignment.Left )
	ModeText:SetOptOutRightToLeftAlignmentFlip( true )
	ModeText:SetEllipsesEnabled( true )
	ModeText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -144, _1080p * 516, _1080p * -50, 0 )
	self:addElement( ModeText )
	self.ModeText = ModeText
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local11 = nil
	SelectButtonHint:RegisterAnimationSequence( "ShowMessage", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 400,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.outQuadratic
		}
	} )
	self._sequences.ShowMessage = function ()
		menu:AnimateSequence( "ShowMessage" )
	end
	
	self._sequenceLengths.ShowMessage = 400
	local f1_local12 = nil
	SelectButtonHint:RegisterAnimationSequence( "HideMessage", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideMessage = function ()
		menu:AnimateSequence( "HideMessage" )
	end
	
	self._sequenceLengths.HideMessage = 0
	local f1_local13 = nil
	OperationText:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -88
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -52
		}
	} )
	DescriptionText:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 4
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 40
		}
	} )
	self._sequences.AR = function ()
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
	end
	
	self._sequenceLengths.AR = 0
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "LaunchChunkNewPhasePopup", LaunchChunkNewPhasePopup )
LockTable( _M )
