-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
module( ..., package.seeall )
require( "ui.generated.widgets.buttons.buttonlargetall" )
require( "ui.generated.widgets.togglebutton" )
require( "ui.generated.widgets.frontend.social.socialplatformpresence" )
require( "ui.generated.widgets.frontend.social.socialinputtypeicon" )
require( "ui.generated.widgets.frontend.social.socialplayeremblem" )
local f0_local0 = function ( f13_arg0, f13_arg1 )
	f13_arg1.onlineStatus = BattleNetOnlineStatus.ONLINE
	f13_arg1.inVoiceChat = CONDITIONS.IsVoiceChatEnabled()
	f13_arg1.isMicEnabled = Social[0xB74F196EE36B11]( f13_arg1.controllerIndex )
	f13_arg1.isMuted = f13_arg1.micStatus == Mic.states.micMuted
	f13_arg1.isTalking = f13_arg1.micStatus == Mic.states.micTalking
	f13_arg1.hasMicrophone = f13_arg1.micStatus ~= Mic.states.noMic
	local f13_local0
	if f13_arg1.isMicEnabled then
		f13_local0 = not f13_arg1.hasMicrophone
	else
		f13_local0 = true
	end
	f13_arg1.isSelfMuted = f13_local0
	if f13_arg1.presencePlatform then
		f13_arg1.presencePlatform = ClientPlatformToPresencePlatform[f13_arg1.presencePlatform]
	else
		f13_arg1.presencePlatform = PresencePlatform.NONE
	end
	f13_arg0.PlayerEmblem:SetFromPlayerData( f13_arg1 )
	f13_arg0.PlayerEmblem.PlayerMicDisplay:SetSelfMutedState( f13_arg1.isSelfMuted )
	f13_arg0.PlayerEmblem.PlayerMicDisplay:SetForceHideState( false )
	f13_arg0.ButtonHighlight.SecondaryAction:setTextAndUpdateIfChanged( ToUpperCase( Engine[0xED84C33EC5F01EA]( f13_arg1.isMuted and 0xE33926385E1EF8D or 0xF53874D18F267CA ) ) )
	if f13_arg1.backgroundIndex then
		f13_arg0:SetImage( CallingCardUtils.GetCardTexture( f13_arg1.backgroundIndex ) )
	end
	f13_arg0:SetImage( CallingCardUtils.GetCardTexture( f13_arg1.backgroundIndex ) )
	f13_arg0:SetHeaderText( f13_arg1.fullName )
	f13_arg0:SetSubHeaderText( f13_arg1.memberType )
	f13_arg0.InputTypeIcon:SetInputType( f13_arg1.usingGamepad and Enum[0xA85371598809961][0xD15B33F9D01BDA8] or Enum[0xA85371598809961][0xF2521E290692D68] )
	if f13_arg0.PlatformPresence then
		f13_arg0.PlatformPresence:SetPlatformPresence( f13_arg1.presencePlatform )
	end
end

local f0_local1 = function ( f8_arg0 )
	if not f8_arg0._memberData then
		
	else
		
	end
	local f8_local0 = {
		specialLayout = "SocialCardLayout",
		noAction = false,
		removeEquipBanner = true,
		localizeHeader = false,
		localizeSubHeader = false,
		buttonData = {
			image = CallingCardUtils.GetCardTexture( f8_arg0._memberData.backgroundIndex ),
			header = f8_arg0._memberData.fullName,
			subHeader = f8_arg0._memberData.memberType,
			headerCaseStyle = LUI.CaseStyle.Regular,
			headerFontStyle = FONTS.BattleNetRegular.File
		}
	}
	if f8_arg0._memberData.isMyPlayer then
		ACTIONS.AnimateSequence( f8_arg0, "MyPlayerEmblem" )
		f8_local0.primaryActionText = Engine[0xED84C33EC5F01EA]( 0xCF9AB4CFB68DDED )
		f8_arg0:registerEventHandler( "button_action", function ( element, event )
			ACTIONS.OpenMenu( "SocialShowcaseEditSelf", true, event.controller )
		end )
	else
		ACTIONS.AnimateSequence( f8_arg0, "DefaultPlayerEmblem" )
		f8_local0.primaryActionText = Engine[0xED84C33EC5F01EA]( 0x9C79272B244247C )
		f8_arg0:registerEventHandler( "button_action", function ( element, event )
			local f11_local0 = event.controller
			if not f11_local0 then
				f11_local0 = f8_arg0._memberData.controllerIndex
			end
			local f11_local1 = SOCIAL_ACTIONS.GenerateOptionsForPlayer( f11_local0, f8_arg0._memberData.xuidString, f8_arg0._memberData.platformID, {
				isContextualMenu = true
			} )
			if f11_local1.playerData and f11_local1.playerData.cardType == nil then
				f11_local1.playerData.cardType = FRIENDS.ProfileCardType.RECENT_TYPE
			end
			local f11_local2 = SOCIAL_ACTIONS.ViewProfile( f11_local1 )
			f11_local2:action()
		end )
		f8_local0.doubleAction = {
			text = 0x0,
			prompt = 0x5B538031580B6D,
			callback = function ( f10_arg0 )
				Lobby.TogglePlayerMute( f8_arg0, f8_arg0._memberData )
			end
		}
		f8_arg0.ButtonHighlight.SecondaryButton:registerEventHandler( "gamepad_button", function ( element, event )
			if event.down and event.button == "alt1" and f8_arg0._isFocused and f8_arg0._config.doubleAction then
				f8_arg0._config.doubleAction:callback( element, event )
				return true
			else
				
			end
		end )
	end
	f8_arg0:SetupButton( f8_local0 )
end

local f0_local2 = function ( f7_arg0, f7_arg1 )
	local f7_local0 = f7_arg0._memberData
	f7_arg0._memberData = f7_arg1
	if not f7_local0 or f7_local0.xuidString ~= f7_arg1.xuidString then
		f0_local0( f7_arg0 )
	end
	f0_local0( f7_arg0, f7_arg1 )
	if f7_arg0.Header and f7_arg1.localControllerIndex and 0 <= f7_arg1.localControllerIndex then
		f7_arg0.Header:SetRGBFromTable( Lobby.GetSplitScreenHighlightStyle( f7_arg1.localControllerIndex ), 0 )
	elseif f7_arg1.isMyPlayer then
		f7_arg0.Header:SetRGBFromTable( COLORS.yellow )
	elseif f7_arg1.isPartyMember then
		f7_arg0.Header:SetRGBFromTable( COLORS.green )
	else
		f7_arg0.Header:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01 )
	end
end

local f0_local3 = function ( f6_arg0, f6_arg1, f6_arg2 )
	f6_arg0.UpdateMemberData = f0_local0
	f6_arg0.Header:setPriority( 10 )
	f6_arg0.SubHeader:setPriority( 10 )
	f6_arg0.Header:SetAnchorsAndPosition( 0, 0, 1, 0, _1080p * 16, _1080p * -16, _1080p * -40, _1080p * -16 )
	f6_arg0.SubHeader:SetAnchorsAndPosition( 0, 0, 1, 0, _1080p * 16, _1080p * -16, _1080p * -62, _1080p * -44 )
	if IsLanguageArabic() then
		f6_arg0.ToggleButton:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -172, _1080p * -125, _1080p * 3, _1080p * 27 )
	end
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		f2_arg0._sequences.DefaultSequence = function ( f5_arg0, f5_arg1 )
			
		end
		
		f2_arg0._sequenceLengths.DefaultSequence = 0
		f2_arg0.PlayerEmblem:RegisterAnimationSequence( "DefaultPlayerEmblem", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 16
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 116
			}
		} )
		f2_arg0._sequences.DefaultPlayerEmblem = function ( f4_arg0, f4_arg1 )
			f4_arg0.PlayerEmblem:AnimateSequence( "DefaultPlayerEmblem" )
		end
		
		f2_arg0._sequenceLengths.DefaultPlayerEmblem = 0
		f2_arg0.PlayerEmblem:RegisterAnimationSequence( "MyPlayerEmblem", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 162
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 262
			}
		} )
		f2_arg0._sequences.MyPlayerEmblem = function ( f3_arg0, f3_arg1 )
			f3_arg0.PlayerEmblem:AnimateSequence( "MyPlayerEmblem" )
		end
		
		f2_arg0._sequenceLengths.MyPlayerEmblem = 0
	end
}
function LobbyInspectMemberButton( f1_arg0, f1_arg1 )
	local f1_local0 = MenuBuilder.BuildRegisteredType( "ButtonLargeTall", f1_arg1 )
	f1_local0:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 424 * _1080p, 0, 204 * _1080p )
	f1_local0.id = "LobbyInspectMemberButton"
	f1_local0.__states = States
	f1_local0.__revalidateAnimationState = true
	local f1_local1
	if f1_arg1 then
		f1_local1 = f1_arg1
	else
		f1_local1 = f1_arg1.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( f1_local0, f1_local1 )
	local ToggleButton = nil
	
	ToggleButton = MenuBuilder.BuildRegisteredType( "ToggleButton", {
		controllerIndex = f1_local1
	} )
	ToggleButton.id = "ToggleButton"
	ToggleButton:SetAlpha( 0, 0 )
	ToggleButton:setPriority( 10 )
	ToggleButton:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -64, _1080p * -16, _1080p * 3, _1080p * 27 )
	f1_local0:addElement( ToggleButton )
	f1_local0.ToggleButton = ToggleButton
	
	local PlayerInfoDarkener = nil
	
	PlayerInfoDarkener = LUI.UIImage.new()
	PlayerInfoDarkener.id = "PlayerInfoDarkener"
	PlayerInfoDarkener:SetRGBFromInt( 1381653, 0 )
	PlayerInfoDarkener:SetAlpha( 0.5, 0 )
	PlayerInfoDarkener:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 422, _1080p * 132, _1080p * 204 )
	f1_local0:addElement( PlayerInfoDarkener )
	f1_local0.PlayerInfoDarkener = PlayerInfoDarkener
	
	local PlatformPresence = nil
	
	PlatformPresence = MenuBuilder.BuildRegisteredType( "SocialPlatformPresence", {
		controllerIndex = f1_local1
	} )
	PlatformPresence.id = "PlatformPresence"
	PlatformPresence:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -46, _1080p * -16, _1080p * -151, _1080p * -121 )
	f1_local0:addElement( PlatformPresence )
	f1_local0.PlatformPresence = PlatformPresence
	
	local InputTypeIcon = nil
	
	InputTypeIcon = MenuBuilder.BuildRegisteredType( "SocialInputTypeIcon", {
		controllerIndex = f1_local1
	} )
	InputTypeIcon.id = "InputTypeIcon"
	InputTypeIcon:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -46, _1080p * -16, _1080p * -185, _1080p * -155 )
	f1_local0:addElement( InputTypeIcon )
	f1_local0.InputTypeIcon = InputTypeIcon
	
	local PlayerEmblem = nil
	
	PlayerEmblem = MenuBuilder.BuildRegisteredType( "SocialPlayerEmblem", {
		controllerIndex = f1_local1
	} )
	PlayerEmblem.id = "PlayerEmblem"
	PlayerEmblem:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 16, _1080p * 116, _1080p * 16, _1080p * 116 )
	f1_local0:addElement( PlayerEmblem )
	f1_local0.PlayerEmblem = PlayerEmblem
	
	f0_local0( f1_local0, f1_local1, f1_arg1 )
	LUI.UIElement.ValidateAnimationState( f1_local0 )
	return f1_local0
end

MenuBuilder.registerType( "LobbyInspectMemberButton", LobbyInspectMemberButton )
LockTable( _M )
