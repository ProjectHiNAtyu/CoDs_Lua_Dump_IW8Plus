-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
module( ..., package.seeall )
require( "ui.frontEnd.BarracksChallengeItemMission" )
require( "ui.frontEnd.BarracksChallengeMissionDetails" )
require( "ui.widgets.VerticalMinimalScrollbar" )
local f0_local0 = function ( f27_arg0, f27_arg1 )
	local f27_local0 = {}
	local f27_local1 = {}
	local f27_local2 = StringTable[0xFD4E49A34DD43AE]( CSV.questChallenges.file )
	for f27_local3 = 0, f27_local2 - 1, 1 do
		local f27_local6 = split( StringTable[0x2077452C28AB2FC]( CSV.questChallenges.file, f27_local3, CSV.questChallenges.cols.ref ), "_" )
		local f27_local7 = split( f27_local6[2], "quest" )
		f27_local7 = f27_local7[1]
		local f27_local8 = tonumber
		local f27_local9 = split( f27_local6[3], "stage" )
		f27_local8 = f27_local8( f27_local9[1] )
		local f27_local10 = CSV.ReadRow( CSV.questChallenges, f27_local3 )
		if f27_local10.category ~= Challenge.BRCategory then
			f27_local9 = Engine[0x8B495DC361731F7]( f27_arg1 )
		else
			f27_local9 = true
		end
		f27_local10.unlocked = f27_local9
		if not f27_arg0._challengeWhitelist or f27_arg0._challengeWhitelist[f27_local10.category] then
			if not f27_local0[f27_local7] then
				f27_local0[f27_local7] = {}
				table.insert( f27_local1, f27_local7 )
			end
			table.insert( f27_local0[f27_local7], f27_local8, f27_local10 )
		end
	end
	for f27_local12, f27_local13 in ipairs( f27_local1 ) do
		local f27_local6 = f27_local0[f27_local13]
		local f27_local7 = #f27_local6
		for f27_local8 = 1, f27_local7, 1 do
			if not f27_local6[f27_local8] then
				table.remove( f27_local6, f27_local8 )
				local f27_local11 = f27_local8 - 1
				f27_local7 = f27_local7 - 1
			end
		end
	end
	f27_local3 = {}
	f27_local4 = OnlineChallenges[0x8DE2A0DB5D3434A]( f27_arg1, f27_arg0._activationCategory )
	for f27_local6, f27_local7 in ipairs( f27_local1 ) do
		local f27_local8 = #f27_local0[f27_local7]
		local f27_local10 = f27_local0[f27_local7][f27_local8]
		f27_local10.id = tonumber( f27_local10.id )
		f27_local10.rewards = Challenge.GetRewards( f27_local10, AEKinds.S4_AE_KIND_QUEST.ID )
		f27_local10.isPS4Exclusive = f27_local0[f27_local7][1].category == "PS4"
		if f27_local0[f27_local7][1].category == "BP" then
			local f27_local11 = BATTLEPASS.GetMissionLevel( f27_local0[f27_local7][1].ref )
			local f27_local14
			if BATTLEPASS.GetTier( f27_arg1 ) >= f27_local11 then
				f27_local14 = not BATTLEPASS.IsOwned( f27_arg1 )
			else
				f27_local14 = true
			end
			if f27_local14 then
				f27_local10.isBattlePassLocked = true
				f27_local10.battlePassLevelToUnlock = f27_local11
			else
				f27_local10.isBattlePassLocked = false
			end
		end
		if f27_local8 == 1 then
			local f27_local11 = f27_local0[f27_local7][1].id
			f27_local10.firstIncompleteQuestID = f27_local11
			f27_local10.amountEarned = OnlineChallenges[0x77167A1140D536]( f27_arg1, f27_local11 )
			f27_local10.amountNeeded = tonumber( f27_local0[f27_local7][1].amount )
			f27_local10.amountEarned = math.min( f27_local10.amountEarned, f27_local10.amountNeeded )
			f27_local10.progress = f27_local10.amountEarned / f27_local10.amountNeeded
			f27_local10.complete = f27_local10.amountEarned == f27_local10.amountNeeded
			f27_local10.isActive = f27_local4 == f27_local0[f27_local7][1].id
		else
			local f27_local11 = {}
			local f27_local14 = false
			local f27_local15 = false
			local f27_local16 = 0
			for f27_local17 = f27_local8, 1, -1 do
				local f27_local20 = OnlineChallenges[0x77167A1140D536]( f27_arg1, f27_local0[f27_local7][f27_local17].id )
				local f27_local21 = tonumber( f27_local0[f27_local7][f27_local17].amount )
				f27_local20 = math.min( f27_local20, f27_local21 )
				if not f27_local14 and not f27_local15 and f27_local20 < f27_local21 then
					f27_local10.firstIncompleteQuestID = f27_local0[f27_local7][f27_local17].id
				else
					if f27_local17 == f27_local8 then
						f27_local14 = true
						f27_local16 = f27_local8
					elseif not f27_local14 then
						f27_local16 = f27_local16 + 1
					end
					f27_local20 = f27_local21
					f27_local15 = true
				end
				local f27_local22 = f27_local0[f27_local7][f27_local17]
				f27_local22.id = tonumber( f27_local22.id )
				f27_local22.amountEarned = f27_local20
				f27_local22.amountNeeded = f27_local21
				f27_local22.progress = f27_local22.amountEarned / f27_local22.amountNeeded
				f27_local22.rewards = Challenge.GetRewards( f27_local22, AEKinds.S4_AE_KIND_QUEST.ID )
				if f27_local4 == f27_local22.id then
					f27_local10.isActive = true
				end
				f27_local11[f27_local17] = f27_local22
			end
			f27_local10.progress = f27_local16 / f27_local8
			f27_local10.complete = f27_local14
			f27_local10.objectives = f27_local11
			f27_local10.numObjectivesComplete = f27_local16
		end
		if not f27_local10.isPS4Exclusive or Engine[0x1DCFAFA7CE6F8D0]() then
			table.insert( f27_local3, f27_local10 )
		end
	end
	Challenge.SortMissionChallenges( f27_local3 )
	f27_arg0._activeIndex = nil
	for f27_local6, f27_local7 in ipairs( f27_local3 ) do
		if f27_local7.isActive then
			f27_arg0._activeIndex = f27_local6
			break
		end
	end
	return f27_local3
end

local f0_local1 = function ( f26_arg0, f26_arg1 )
	local f26_local0 = ""
	if not f26_arg0._challenges[f26_arg1].complete and f26_arg1 ~= f26_arg0._activeIndex and not f26_arg0._challenges[f26_arg1].isBattlePassLocked then
		f26_local0 = Engine[0xED84C33EC5F01EA]( "CHALLENGE/ACTIVATE" )
	end
	f26_arg0:AddButtonHelperText( {
		side = "left",
		button_ref = "button_primary",
		priority = 2,
		helper_text = f26_local0
	} )
end

local f0_local2 = function ( f18_arg0, f18_arg1 )
	local f18_local0 = function ( f25_arg0, f25_arg1 )
		f25_arg0._challenges = f18_arg0( f25_arg0, f18_arg0 )
		f25_arg0.Grid:RefreshContent()
		f18_arg0( f25_arg0, f25_arg0._buttonOverIndex )
		f25_arg0._missionActivated = true
		f25_arg0._pendingActivationIndex = nil
		LUI.FlowManager.RequestLeaveMenuByName( "MissionActivationSpinnerPopup" )
	end
	
	f18_arg0:registerEventHandler( "OnAchievementActivated", function ( element, event )
		if event.success == true and event.kind == AEKinds.S4_AE_KIND_QUEST.ID then
			f18_arg0( element, true )
		end
	end )
	local f18_local1 = function ( f22_arg0 )
		local f22_local0 = ""
		if CONDITIONS.IsDemoBuildOrDevBuildOrAreDevFeaturesEnabled() then
			f22_local0 = Engine[0xED84C33EC5F01EA]( "CHALLENGE/DEV_ERROR_ACTIVATION", "CHALLENGE/ACTIVATE", f22_arg0 )
		else
			f22_local0 = Engine[0xED84C33EC5F01EA]( "CHALLENGE/ERROR_ACTIVATION", "CHALLENGE/ACTIVATE" )
		end
		LUI.FlowManager.RequestPopupMenu( nil, "MessagePopup", true, f18_arg0, true, {
			controllerIndex = f18_arg0,
			messageText = f22_local0,
			label = Engine[0xED84C33EC5F01EA]( "LUA_MENU/OK" ),
			action = function ( f23_arg0, f23_arg1 )
				LUI.FlowManager.RequestLeaveMenu( f23_arg0 )
			end
		}, nil, false, true )
	end
	
	local f18_local2 = function ( f21_arg0, f21_arg1 )
		local f21_local0 = f21_arg0._challenges[f21_arg0._pendingActivationIndex].firstIncompleteQuestID
		f21_arg0._challenges = f18_arg0( f21_arg0, f18_arg0 )
		f21_arg0.Grid:RefreshContent()
		f18_arg0( f21_local0 )
		f21_arg0._pendingActivationIndex = nil
	end
	
	f18_arg0:registerEventHandler( "OnAchievementActivated", function ( element, event )
		if event.success == false and event.kind == AEKinds.S4_AE_KIND_QUEST.ID then
			f18_arg0( element, event )
		end
	end )
	f18_arg0:registerEventHandler( "OnAchievementDeactivated", function ()
		if event.success == false and event.kind == AEKinds.S4_AE_KIND_QUEST.ID then
			f18_arg0( element, event )
		end
	end )
end

local f0_local3 = function ( f15_arg0, f15_arg1, f15_arg2, f15_arg3 )
	if not f15_arg0._pendingActivationIndex then
		f15_arg0._pendingActivationIndex = f15_arg2
		local f15_local0 = f15_arg0._challenges[f15_arg2].firstIncompleteQuestID
		local f15_local1 = function ()
			f15_arg0._pendingActivationIndex = nil
		end
		
		local f15_local2 = function ()
			LUI.FlowManager.RequestPopupMenu( nil, "MissionActivationSpinnerPopup", true, f15_arg0, false, {
				controllerIndex = f15_arg0,
				message = Engine[0xED84C33EC5F01EA]( "CHALLENGE/ACTIVATING_MISSION" )
			}, nil, false, true )
			OnlineChallenges[0x6AE20EF4832FEF]( f15_arg0, f15_arg0, AEKinds.S4_AE_KIND_QUEST.ID, AEGameEvents.INVALID.eventID )
			f15_arg0:dispatchEventToRoot( {
				name = "send_toast_notification",
				immediate = true,
				options = {
					iconScale = -2.3534389802718172E-185,
					displayTime = 3000,
					icon = "icon_playlist_trophy",
					iconColor = SWATCHES.genericMenu.notificationHighlight,
					header = Engine[0xED84C33EC5F01EA]( "CHALLENGE/MISSION_ACTIVATED" ),
					description = Engine[0xED84C33EC5F01EA]( f15_arg0._challenges[f15_arg0].name ),
					type = LUI.ToastManager.NotificationType.MissionChallenges,
					controllerIndex = f15_arg0
				}
			} )
		end
		
		if f15_arg0._activeIndex ~= nil then
			local f15_local3 = f15_arg0._challenges[f15_arg0._activeIndex].name
			local f15_local4 = f15_arg0._challenges[f15_arg2].name
			local f15_local5 = {}
			local f15_local6
			if f15_local3 then
				f15_local6 = Engine[0xED84C33EC5F01EA]( f15_local3 )
				if not f15_local6 then
				
				else
					f15_local5.activeMissionName = f15_local6
					if f15_local4 then
						f15_local6 = Engine[0xED84C33EC5F01EA]( f15_local4 )
						if not f15_local6 then
						
						else
							f15_local5.newMissionName = f15_local6
							f15_local5.onAccept = f15_local2
							f15_local5.onDecline = f15_local1
							LUI.FlowManager.RequestPopupMenu( nil, "ActivateMissionPopup", true, f15_arg1, false, f15_local5, nil, false, true )
						end
					end
					f15_local6 = ""
				end
			end
			f15_local6 = ""
		else
			f15_local2()
		end
	end
end

local f0_local4 = function ( f8_arg0, f8_arg1, f8_arg2 )
	f8_arg0._challengeWhitelist = f8_arg2.challengeWhitelist
	f8_arg0._activationCategory = f8_arg2.activationCategory
	f8_arg0._challenges = f0_local0( f8_arg0, f8_arg1 )
	if not f8_arg0._challenges or #f8_arg0._challenges <= 0 then
		ACTIONS.AnimateSequence( f8_arg0, "HideChallenges" )
		f8_arg0.Grid:SetNumChildren( 1 )
	end
	f0_local0( f8_arg0, f8_arg1 )
	f8_arg0:registerEventHandler( "challenges_update_mission_details", function ( element, event )
		if event.index and f8_arg0._challenges[event.index] and element:GetCurrentMenu() then
			element._buttonOverIndex = event.index
			element.MissionDetails:SetData( f8_arg0._challenges[event.index] )
			f8_arg0( element, event.index )
		end
	end )
	f8_arg0:registerEventHandler( "challenges_mission_activation", function ( element, event )
		if event.index and element._challenges[event.index] then
			f8_arg0( element, f8_arg0, event.index )
		end
	end )
	f8_arg0.Grid:SetNumChildren( #f8_arg0._challenges )
	f8_arg0.Grid:SetRefreshChild( function ( f12_arg0, f12_arg1, f12_arg2 )
		local f12_local0 = f12_arg2 + 1
		local f12_local1 = f8_arg0._challenges[f12_local0]
		f12_arg0:Setup( f8_arg0, f12_local1, f12_local0 )
		if f12_local1 == f8_arg0.Grid.lastMissionFocused then
			f12_arg0:processEvent( {
				name = "gain_focus"
			} )
		end
	end )
	f8_arg0.Grid:SetUseDelayedFocus( true )
	local f8_local0 = f8_arg0._activeIndex and f8_arg0._activeIndex - 1 or 0
	if f8_arg2.challengeID and f8_arg2.challengeID ~= "" then
		for f8_local1 = 1, #f8_arg0._challenges, 1 do
			if f8_arg0._challenges[f8_local1].objectives[1].ref == f8_arg2.challengeID then
				f8_local0 = f8_local1 - 1
				break
			end
		end
	end
	f8_arg0.Grid:SetDefaultFocus( {
		x = 0,
		y = f8_local0
	} )
	f8_arg0.Grid:SetPosition( {
		x = 0,
		y = f8_local0
	}, true )
	f8_arg0.Grid:addEventHandler( "new_mission_focused", function ( f11_arg0, f11_arg1 )
		if f11_arg0.lastMissionElementFocused and f11_arg0.lastMissionElementFocused ~= f11_arg1.newFocusedElement then
			f11_arg0.lastMissionElementFocused:CustomLoseFocus()
		end
		f11_arg0.lastMissionElementFocused = f11_arg1.newFocusedElement
		f11_arg0.lastMissionFocused = f11_arg1.newFocusedElement._challenge
	end )
	f8_arg0:addEventHandler( "tab_create", function ( f10_arg0, f10_arg1 )
		f8_arg0:processEvent( {
			shouldPlayButtonSound = false,
			name = "gain_focus"
		} )
	end )
	f8_arg0.MissionDetails:SetData( f8_arg0._challenges[f8_local0 + 1] )
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x31a889c4f6f58c18d" ) then
		local f8_local1 = SEASON.GetName( SEASON.GetCurrentSeason() )
		if f8_local1 and 0 < #f8_local1 then
			f8_arg0.SeasonText:setText( Engine[0xED84C33EC5F01EA]( "CHALLENGE/SEASON_MISSIONS", Engine[0xED84C33EC5F01EA]( f8_local1 ) ) )
		end
		Challenge.SetupSeasonEndsTimer( f8_arg0, f8_arg0.SeasonEnd, "CHALLENGE/SEASON_ENDS" )
	end
	f8_arg0:registerEventHandler( "restore_focus", function ( element, event )
		if element._missionActivated then
			f8_arg0.Grid:SetFocusedPosition( {
				x = 0,
				y = f8_arg0._activeIndex - 1
			}, false, nil, false )
			f8_arg0.Grid:dispatchEventToChildren( event )
			return true
		else
			
		end
	end )
end

function BarracksChallengesMissions( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "BarracksChallengesMissions"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1 = 0
	local f1_local2
	if controller then
		f1_local2 = controller
	else
		f1_local2 = controller.controllerIndex
	end
	if not f1_local2 and not Engine[0x12586A3F4FB490E]() then
		f1_local2 = self:getRootController()
	end
	assert( f1_local2, "Missing controllerIndex!" )
	local f1_local3 = self
	local Grid = nil
	
	Grid = LUI.UIGrid.new( {
		maxVisibleRows = 5,
		maxVisibleColumns = 1,
		adjustSizeToContent = true,
		buildArrowsLabel = true,
		controllerIndex = f1_local2,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "BarracksChallengeItemMission", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f6_arg0, f6_arg1, f6_arg2 )
			
		end,
		spacingX = _1080p * 10,
		spacingY = _1080p * 10,
		columnWidth = _1080p * 600,
		rowHeight = _1080p * 128
	} )
	Grid.id = "Grid"
	Grid:SetMaxVisibleRows( 5 )
	Grid:SetRowSpacing( 10 )
	Grid:setUseStencil( true )
	Grid:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 896, _1080p * 216, _1080p * 946 )
	self:addElement( Grid )
	self.Grid = Grid
	
	local MissionDetails = nil
	
	MissionDetails = MenuBuilder.BuildRegisteredType( "BarracksChallengeMissionDetails", {
		controllerIndex = f1_local2
	} )
	MissionDetails.id = "MissionDetails"
	MissionDetails:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 767, _1080p * 1767, _1080p * 216, _1080p * 991 )
	self:addElement( MissionDetails )
	self.MissionDetails = MissionDetails
	
	local VerticalMinimalScrollbar = nil
	
	VerticalMinimalScrollbar = MenuBuilder.BuildRegisteredType( "VerticalMinimalScrollbar", {
		controllerIndex = f1_local2
	} )
	VerticalMinimalScrollbar.id = "VerticalMinimalScrollbar"
	VerticalMinimalScrollbar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 702, _1080p * 713, _1080p * 216, _1080p * 896 )
	self:addElement( VerticalMinimalScrollbar )
	self.VerticalMinimalScrollbar = VerticalMinimalScrollbar
	
	local Line1 = nil
	
	Line1 = LUI.UIImage.new()
	Line1.id = "Line1"
	Line1:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	Line1:SetAlpha( 0.4, 0 )
	Line1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 696, _1080p * 208, _1080p * 209 )
	self:addElement( Line1 )
	self.Line1 = Line1
	
	local SeasonText = nil
	
	SeasonText = LUI.UIStyledText.new()
	SeasonText.id = "SeasonText"
	SeasonText:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	SeasonText:setText( "", 0 )
	SeasonText:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	SeasonText:SetFontSize( 22 * _PT )
	SeasonText:SetMinFontSize( 16 * _PT )
	SeasonText:SetWordWrap( false )
	SeasonText:SetAlignment( LUI.Alignment.Left )
	SeasonText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 386, _1080p * 182, _1080p * 204 )
	self:addElement( SeasonText )
	self.SeasonText = SeasonText
	
	local SeasonEnd = nil
	
	SeasonEnd = LUI.UIStyledText.new()
	SeasonEnd.id = "SeasonEnd"
	SeasonEnd:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	SeasonEnd:setText( "", 0 )
	SeasonEnd:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	SeasonEnd:SetFontSize( 22 * _PT )
	SeasonEnd:SetMinFontSize( 16 * _PT )
	SeasonEnd:SetWordWrap( false )
	SeasonEnd:SetAlignment( LUI.Alignment.Right )
	SeasonEnd:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 532, _1080p * 696, _1080p * 182, _1080p * 204 )
	self:addElement( SeasonEnd )
	self.SeasonEnd = SeasonEnd
	
	local NoChallengesLabel = nil
	
	NoChallengesLabel = LUI.UIText.new()
	NoChallengesLabel.id = "NoChallengesLabel"
	NoChallengesLabel:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	NoChallengesLabel:SetAlpha( 0, 0 )
	NoChallengesLabel:setText( Engine[0xED84C33EC5F01EA]( "CHALLENGE/NONE_AVAILABLE" ), 0 )
	NoChallengesLabel:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	NoChallengesLabel:SetFontSize( 24 * _PT )
	NoChallengesLabel:SetMinFontSize( 16 * _PT )
	NoChallengesLabel:SetWordWrap( true )
	NoChallengesLabel:SetAlignment( LUI.Alignment.Center )
	NoChallengesLabel:SetVerticalAlignment( LUI.Alignment.Center )
	NoChallengesLabel:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -864, _1080p * 864, _1080p * -12, _1080p * 12 )
	self:addElement( NoChallengesLabel )
	self.NoChallengesLabel = NoChallengesLabel
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local11 = nil
	Grid:RegisterAnimationSequence( "HideChallenges", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MissionDetails:RegisterAnimationSequence( "HideChallenges", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	VerticalMinimalScrollbar:RegisterAnimationSequence( "HideChallenges", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Line1:RegisterAnimationSequence( "HideChallenges", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SeasonText:RegisterAnimationSequence( "HideChallenges", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SeasonEnd:RegisterAnimationSequence( "HideChallenges", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	NoChallengesLabel:RegisterAnimationSequence( "HideChallenges", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideChallenges = function ()
		menu:AnimateSequence( "HideChallenges" )
		menu:AnimateSequence( "HideChallenges" )
		menu:AnimateSequence( "HideChallenges" )
		menu:AnimateSequence( "HideChallenges" )
		menu:AnimateSequence( "HideChallenges" )
		menu:AnimateSequence( "HideChallenges" )
		menu:AnimateSequence( "HideChallenges" )
	end
	
	self._sequenceLengths.HideChallenges = 0
	local f1_local12 = nil
	f1_local1 = math.max( math.max( math.max( math.max( math.max( math.max( f1_local1, SEQUENCEPRESETS.RegisterAnimation( Grid, "TransTo", "InDepthForward", 0 ) ), SEQUENCEPRESETS.RegisterAnimation( MissionDetails, "TransTo", "InDepthForward", 0 ) ), SEQUENCEPRESETS.RegisterAnimation( VerticalMinimalScrollbar, "TransTo", "InDepthForward", 0 ) ), SEQUENCEPRESETS.RegisterAnimation( Line1, "TransTo", "InDepthForward", 0 ) ), SEQUENCEPRESETS.RegisterAnimation( SeasonText, "TransTo", "InDepthForward", 0 ) ), SEQUENCEPRESETS.RegisterAnimation( SeasonEnd, "TransTo", "InDepthForward", 0 ) )
	self._sequences.TransTo = function ()
		menu:AnimateSequence( "TransTo" )
		menu:AnimateSequence( "TransTo" )
		menu:AnimateSequence( "TransTo" )
		menu:AnimateSequence( "TransTo" )
		menu:AnimateSequence( "TransTo" )
		menu:AnimateSequence( "TransTo" )
	end
	
	self._sequenceLengths.TransTo = f1_local1
	local f1_local13 = nil
	f1_local1 = math.max( math.max( math.max( math.max( math.max( math.max( f1_local1, SEQUENCEPRESETS.RegisterAnimation( Grid, "TransBackFrom", "OutDepthBack", 0 ) ), SEQUENCEPRESETS.RegisterAnimation( MissionDetails, "TransBackFrom", "OutDepthBack", 0 ) ), SEQUENCEPRESETS.RegisterAnimation( VerticalMinimalScrollbar, "TransBackFrom", "OutDepthBack", 0 ) ), SEQUENCEPRESETS.RegisterAnimation( Line1, "TransBackFrom", "OutDepthBack", 0 ) ), SEQUENCEPRESETS.RegisterAnimation( SeasonText, "TransBackFrom", "OutDepthBack", 0 ) ), SEQUENCEPRESETS.RegisterAnimation( SeasonEnd, "TransBackFrom", "OutDepthBack", 0 ) )
	self._sequences.TransBackFrom = function ()
		menu:AnimateSequence( "TransBackFrom" )
		menu:AnimateSequence( "TransBackFrom" )
		menu:AnimateSequence( "TransBackFrom" )
		menu:AnimateSequence( "TransBackFrom" )
		menu:AnimateSequence( "TransBackFrom" )
		menu:AnimateSequence( "TransBackFrom" )
	end
	
	self._sequenceLengths.TransBackFrom = f1_local1
	local f1_local14 = LUI.UIScrollbar.new
	local f1_local15 = {
		direction = LUI.DIRECTION.vertical,
		eventListener = VerticalMinimalScrollbar,
		startCap = VerticalMinimalScrollbar.startCap,
		endCap = VerticalMinimalScrollbar.endCap,
		sliderArea = VerticalMinimalScrollbar.sliderArea
	}
	local f1_local16 = VerticalMinimalScrollbar.sliderArea
	if f1_local16 then
		f1_local16 = VerticalMinimalScrollbar.sliderArea.slider
	end
	f1_local15.slider = f1_local16
	f1_local16 = VerticalMinimalScrollbar.sliderArea
	if f1_local16 then
		f1_local16 = VerticalMinimalScrollbar.sliderArea.fixedSizeSlider
	end
	f1_local15.fixedSizeSlider = f1_local16
	Grid:AddScrollbar( f1_local14( f1_local15 ) )
	f0_local0( self, f1_local2, controller )
	return self
end

MenuBuilder.registerType( "BarracksChallengesMissions", BarracksChallengesMissions )
LockTable( _M )
