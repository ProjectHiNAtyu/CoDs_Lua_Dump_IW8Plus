-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.widgets.DoubleNotchedBacker" )
require( "ui.widgets.MenuTitle" )
require( "ui.widgets.ButtonHelperBar" )
require( "ui.frontEnd.mp.CharacterRotator" )
require( "ui.widgets.SubMenuTab" )
require( "ui.widgets.LobbyMembersFooter" )
require( "ui.frontEnd.OperatorLootDetailsLayout" )
require( "ui.widgets.VerticalMinimalScrollbar" )
require( "ui.frontEnd.GenericProgression" )
require( "ui.frontEnd.GenericUnlockChallenge" )
require( "ui.frontEnd.BundleUpsellButton" )
local f0_local0 = 300
local f0_local1 = 15
local f0_local2 = 1500
local f0_local3 = 4
local f0_local4 = {
	HEAD = "c_s4_head_sc_m_orlovszki",
	BODY = "c_s4_mp_victim_char_01"
}
local f0_local5 = {}
local f0_local6 = false
local f0_local7 = {
	[LOOT.itemTypes.OPERATOR_SKIN] = "LUA_MENU/SKIN_SELECTED",
	[LOOT.itemTypes.OPERATOR_EXECUTION] = "LUA_MENU/EXECUTION_SELECTED",
	[LOOT.itemTypes.OPERATOR_INTRO] = "LUA_MENU/INTRO_SELECTED",
	[LOOT.itemTypes.OPERATOR_QUIP] = "LUA_MENU/QUIP_SELECTED",
	[LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT] = "LUA_MENU/MVP_SELECTED"
}
local f0_local8 = {
	[LOOT.itemTypes.OPERATOR_SKIN] = LUI.ToastManager.NotificationType.SkinEquipped,
	[LOOT.itemTypes.OPERATOR_EXECUTION] = LUI.ToastManager.NotificationType.ExecutionEquipped,
	[LOOT.itemTypes.OPERATOR_QUIP] = LUI.ToastManager.NotificationType.QuipEquipped,
	[LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT] = LUI.ToastManager.NotificationType.MVPHighlightEquipped
}
local f0_local9 = {
	[LOOT.itemTypes.OPERATOR_QUIP_TRIGGER] = "LUA_MENU/CUSTOMIZE_NO_UNLOCKS_QUIP_TRIGGERS",
	[LOOT.itemTypes.OPERATOR_QUIP] = "LUA_MENU/CUSTOMIZE_NO_UNLOCKS_QUIPS",
	[LOOT.itemTypes.OPERATOR_INTRO] = "LUA_MENU/CUSTOMIZE_NO_UNLOCKS_INTROS",
	[LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT] = "LUA_MENU/CUSTOMIZE_NO_UNLOCKS_MVP_HIGHLIGHTS"
}
local f0_local10 = {
	MISSION_DETAILS = 3,
	OPERATOR = 2,
	DELETED = 0,
	SKIN_OPERATOR = 1
}
local f0_local11 = function ( f96_arg0 )
	local f96_local0 = nil
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x3d26e55a89fd9c8fd" ) then
		f96_local0 = f96_arg0.id
	else
		f96_local0 = f96_arg0.lootIndex
	end
	return f96_local0
end

local f0_local12 = function ( f95_arg0 )
	return f95_arg0._lootData[f95_arg0.OperatorLootGrid:GetFocusPositionIndex( {
		relativePosition = false
	} ) + 1]
end

local f0_local13 = function ( f94_arg0 )
	local f94_local0 = f0_local0( f94_arg0 )
	return f94_local0.isUnlocked
end

local f0_local14 = function ( f93_arg0, f93_arg1, f93_arg2 )
	if f93_arg0._currentLootType == LOOT.itemTypes.OPERATOR_QUIP then
		return OPERATOR.GetEquippedQuipForTrigger( f93_arg1, f93_arg2, f93_arg0._currentQuipTrigger )
	else
		return OPERATOR.GetEquippedItemForLootType( f93_arg1, f93_arg2, f93_arg0._currentLootType )
	end
end

local f0_local15 = function ( f92_arg0, f92_arg1, f92_arg2 )
	for f92_local0 = 1, #f92_arg1, 1 do
		if f92_arg1[f92_local0].ref == f92_arg2 then
			return f92_local0
		end
	end
	return 1
end

local f0_local16 = function ( f91_arg0, f91_arg1, f91_arg2 )
	local f91_local0 = f0_local0( f91_arg0 )
	local f91_local1
	if f0_local0( f91_arg0, f91_arg1, f91_arg2 ) ~= f91_local0.ref then
		f91_local1 = f91_local0.isUnlocked
	else
		f91_local1 = false
	end
	return f91_local1
end

local f0_local17 = function ( f90_arg0, f90_arg1, f90_arg2 )
	local f90_local0 = f0_local0( f90_arg0 )
	local f90_local1
	if f0_local0( f90_arg0, f90_arg1, f90_arg2 ) ~= f90_local0.ref then
		f90_local1 = f90_local0.isUnlocked
	else
		f90_local1 = false
	end
	return f90_local1
end

local f0_local18 = function ( f89_arg0, f89_arg1 )
	return OPERATOR.GetEquippedOperator( f89_arg1 ) ~= f89_arg0.operatorRef
end

local f0_local19 = function ( f88_arg0, f88_arg1 )
	local f88_local0 = f0_local0( f88_arg0 )
	return f88_local0.challengeData
end

local f0_local20 = function ( f87_arg0 )
	for f87_local0 = 1, #f87_arg0._lootData, 1 do
		local f87_local3 = f87_arg0._lootData[f87_local0]
		if f87_local3 and f87_local3.isUnlocked then
			return f87_local0
		end
	end
	return -1
end

local f0_local21 = function ( f86_arg0, f86_arg1 )
	local f86_local0 = f0_local0( f86_arg0 )
	if 0 <= f86_local0 and f86_arg0._lootData[f86_local0].ref ~= f86_arg1 then
		return true
	else
		return false
	end
end

local f0_local22 = function ( f85_arg0 )
	return f85_arg0._currentLootType == LOOT.itemTypes.OPERATOR_QUIP_TRIGGER
end

local f0_local23 = function ( f84_arg0, f84_arg1, f84_arg2, f84_arg3, f84_arg4 )
	local f84_local0 = f0_local0( f84_arg0 )
	if not f84_local0 then
		f84_local0 = f0_local0( f84_arg0, f84_arg2, f84_arg3 )
	end
	local f84_local1 = f0_local0( f84_arg0, f84_arg2 )
	local f84_local2 = f84_arg0.HelperBar.ButtonHelperText
	local f84_local3 = f84_arg0.OperatorLootDetailsLayout.OperatorLootDetails.SelectPromptContainer
	local f84_local4 = false
	f84_local2:PopButtonPrompt( {
		button_ref = "button_primary"
	} )
	if f84_local0 or f84_arg4 then
		f84_local2:PushButtonPrompt( {
			side = "left",
			button_ref = "button_primary",
			priority = 1,
			helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/SELECT" )
		} )
		if f84_local1 and f84_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN then
			f84_local4 = true
			if f84_arg0.selectPromptState ~= f0_local0.SKIN_OPERATOR then
				f84_arg0:RemoveButtonHelperText( "button_alt1", "left" )
				f84_arg0:AddButtonHelperText( {
					side = "left",
					priority = 4,
					ignoreTooltipPrompt = true,
					button_ref = "button_alt1",
					helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/SELECT_SKIN_OPERATOR_PROMPT" ),
					container = f84_local3
				} )
				f84_arg0.selectPromptState = f0_local0.SKIN_OPERATOR
			end
		else
			f84_local4 = false
			f84_arg0:RemoveButtonHelperText( "button_alt1", "left" )
			f84_arg0.selectPromptState = f0_local0.DELETED
		end
	elseif f84_arg1 and f84_arg1.isUnlocked then
		if f0_local0( f84_arg0, f84_arg1.ref ) then
			f84_local2:PushButtonPrompt( {
				side = "left",
				button_ref = "button_primary",
				priority = 1,
				helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/DESELECT" )
			} )
		end
		if f84_local1 and f84_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN then
			f84_local4 = true
			if f84_arg0.selectPromptState ~= f0_local0.OPERATOR then
				f84_arg0:RemoveButtonHelperText( "button_alt1", "left" )
				f84_arg0:AddButtonHelperText( {
					side = "left",
					priority = 4,
					ignoreTooltipPrompt = true,
					button_ref = "button_alt1",
					helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/SELECT_OPERATOR_PROMPT" ),
					container = f84_local3
				} )
				f84_arg0.selectPromptState = f0_local0.OPERATOR
			end
		end
	elseif f84_arg1 and f84_arg1.challengeData then
		f84_local4 = true
		if f84_arg0.selectPromptState ~= f0_local0.MISSION_DETAILS then
			f84_arg0:RemoveButtonHelperText( "button_alt1", "left" )
			f84_arg0:AddButtonHelperText( {
				side = "left",
				priority = 4,
				ignoreTooltipPrompt = true,
				button_ref = "button_alt1",
				helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/VIEW_MISSION_DETAILS_PROMPT" ),
				container = f84_local3
			} )
			f84_arg0.selectPromptState = f0_local0.MISSION_DETAILS
		end
	elseif f84_local1 and f84_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN then
		f84_local4 = true
		if f84_arg0.selectPromptState ~= f0_local0.OPERATOR then
			f84_arg0:RemoveButtonHelperText( "button_alt1", "left" )
			f84_arg0:AddButtonHelperText( {
				side = "left",
				priority = 4,
				ignoreTooltipPrompt = true,
				button_ref = "button_alt1",
				helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/SELECT_OPERATOR_PROMPT" ),
				container = f84_local3
			} )
			f84_arg0.selectPromptState = f0_local0.OPERATOR
		end
	end
	if f84_arg0._currentLootType ~= LOOT.itemTypes.OPERATOR_SKIN then
		f84_local4 = false
		f84_arg0:RemoveButtonHelperText( "button_alt1", "left" )
		f84_arg0.selectPromptState = "deleted"
	end
	f84_arg0.OperatorLootDetailsLayout.OperatorLootDetails.hasSelectPrompt = f84_local4
end

local f0_local24 = function ( f83_arg0, f83_arg1, f83_arg2, f83_arg3 )
	if f83_arg2.ref == OPERATOR.NoneRef or not LOOT.IsValidItemType( f83_arg3 ) or not LOOT.IsRealItemType( f83_arg3 ) then
		return false
	end
	local f83_local0 = f83_arg2.lootID
	if not f83_local0 then
		f83_local0 = LOOT.GetItemID( f83_arg3, f83_arg2.ref )
	end
	return LOOT.IsNew( f83_arg1, f83_local0 )
end

local f0_local25 = function ( f82_arg0, f82_arg1, f82_arg2, f82_arg3, f82_arg4 )
	for f82_local3, f82_local4 in ipairs( f82_arg2 ) do
		if f0_local0( f82_arg0, f82_arg1, f82_local4, f82_arg3 ) or f82_arg4 and f82_arg4[f82_local4.ref] then
			return true
		end
	end
	return false
end

local f0_local26 = function ( f81_arg0, f81_arg1, f81_arg2 )
	local f81_local0 = nil
	if CONDITIONS.IsGetMockNewItemsEnabled() then
		f81_local0 = {}
		for f81_local4, f81_local5 in ipairs( f81_arg1 ) do
			if f81_local4 % 2 == 0 and f81_local4 ~= f81_arg2 and f81_local5.isUnlocked then
				f81_local0[f81_local5.ref] = true
			end
		end
	end
	return f81_local0
end

local f0_local27 = function ( f80_arg0, f80_arg1 )
	local f80_local0 = f80_arg0.tabsData[f80_arg1]
	local f80_local1 = nil
	if CONDITIONS.IsGetMockNewItemsEnabled() and f80_local0.lootType ~= LOOT.itemTypes.OPERATOR_QUIP_TRIGGER then
		f80_local1 = f0_local0( f80_arg0, f80_local0.lootData, f0_local0( f80_arg0, f80_local0.lootData, OPERATOR.GetEquippedItemForLootType( f80_arg0._controllerIndex, f80_arg0.operatorRef, f80_local0.lootType ) ) )
	end
	if f80_local0.lootType == LOOT.itemTypes.OPERATOR_QUIP_TRIGGER then
		local f80_local2 = f0_local0( f80_arg0, f80_arg0._controllerIndex, OPERATOR.GetQuipsForOperator( f80_arg0, f80_arg0.operatorRef, f80_arg0._controllerIndex ), LOOT.itemTypes.OPERATOR_QUIP, f80_local1 )
		local f80_local3 = f80_arg0.CustomizationTabs:GetTabAtIndex( f80_arg1 )
		f80_local3:SetBreadcrumb( f80_local2 )
	else
		local f80_local4 = f0_local0( f80_arg0, f80_arg0._controllerIndex, f80_local0.lootData, f80_local0.lootType, f80_local1 )
		local f80_local2 = f80_arg0.CustomizationTabs:GetTabAtIndex( f80_arg1 )
		f80_local2:SetBreadcrumb( f80_local4 )
	end
end

local f0_local28 = function ( f79_arg0, f79_arg1, f79_arg2 )
	local f79_local0 = {}
	local f79_local1 = {}
	local f79_local2 = OPERATOR.GetOperatorSkinByRef( f79_arg1, OPERATOR.GetEquippedItemForLootType( f79_arg1, f79_arg2, LOOT.itemTypes.OPERATOR_SKIN ), f79_arg2 )
	if f79_local2.bodyModel and 0 < #f79_local2.bodyModel then
		table.insert( f79_local0, f79_local2.bodyModel )
	end
	if f79_local2.headModel and 0 < #f79_local2.headModel then
		table.insert( f79_local1, f79_local2.headModel )
	end
	local f79_local3 = OPERATOR.GetPetForOperator( f79_arg1, f79_arg2 )
	if f79_local3 and 0 < #f79_local3 then
		table.insert( f79_local0, OPERATOR.GetPetModel( f79_local3 ) )
	end
	table.insert( f79_local0, OPERATOR.DefaultVictimBody )
	table.insert( f79_local1, OPERATOR.DefaultVictimHead )
	return f79_local0, f79_local1
end

local f0_local29 = function ( f78_arg0, f78_arg1, f78_arg2, f78_arg3, f78_arg4 )
	local f78_local0 = {}
	local f78_local1 = {}
	for f78_local6, f78_local7 in ipairs( f78_arg4 ) do
		if f78_arg3 == LOOT.itemTypes.OPERATOR_SKIN then
			local f78_local5 = OPERATOR.GetOperatorSkin( f78_arg1, f0_local0( f78_local7 ), f78_arg2 )
			if f78_local5.bodyModel and 0 < #f78_local5.bodyModel then
				table.insert( f78_local0, f78_local5.bodyModel )
			end
			if f78_local5.headModel and 0 < #f78_local5.headModel then
				table.insert( f78_local1, f78_local5.headModel )
			end
		end
		if f78_arg3 == LOOT.itemTypes.OPERATOR_EXECUTION then
			
		end
	end
	return f78_local0, f78_local1
end

local f0_local30 = function ( f77_arg0, f77_arg1, f77_arg2, f77_arg3, f77_arg4 )
	local f77_local0, f77_local1 = f0_local0( f77_arg0, f77_arg1, f77_arg2, f77_arg3, {
		f77_arg4
	} )
	local f77_local2, f77_local3 = f0_local0( f77_arg0, f77_arg1, f77_arg2 )
	LUI.ConcatenateToTable( f77_local0, f77_local2 )
	LUI.ConcatenateToTable( f77_local1, f77_local3 )
	if 0 < #f77_local0 and 0 < #f77_local1 then
		FrontEndScene.RequestBodyModels( f77_local0 )
		FrontEndScene.RequestHeadModels( f77_local1 )
	end
end

local f0_local31 = function ( f76_arg0, f76_arg1 )
	local f76_local0 = OPERATOR.GetTurnAnimationByColumn( f76_arg0.operatorRef, CSV.operatorTurnAnimations.cols.idleFront )
	local f76_local1 = assert
	local f76_local2
	if f76_local0 then
		f76_local2 = f76_local0
	else
		f76_local2 = f76_local0 ~= ""
	end
	f76_local1( f76_local2 )
	ClientCharacter[0xAA614EB46957F3B]( OPERATOR.GetClientCharacter(), f76_local0 )
end

local f0_local32 = function ( f75_arg0, f75_arg1 )
	local f75_local0 = OPERATOR.GetClientCharacter()
	local f75_local1 = OPERATOR.GetOperatorSkinByRef( f75_arg1, OPERATOR.GetEquippedItemForLootType( f75_arg1, f75_arg0.operatorRef, LOOT.itemTypes.OPERATOR_SKIN ), f75_arg0.operatorRef )
	ClientCharacter[0xFB5C3935C674824]( f75_local0, f75_local1.bodyModel, f75_local1.headModel )
end

local f0_local33 = function ( f74_arg0 )
	local f74_local0 = f74_arg0.OperatorLootGrid:GetFocusPositionIndex( {
		relativePosition = false
	} )
	if f74_local0 then
		return f74_arg0._lootData[f74_local0 + 1]
	else
		
	end
end

local f0_local34 = function ( f73_arg0 )
	if f73_arg0._thumbnailTransitionTimer then
		f73_arg0._thumbnailTransitionTimer._tick = 0
		f73_arg0._thumbnailTransitionTimer._ticks = 0
	end
end

local f0_local35 = function ( f70_arg0 )
	local f70_local0 = function ( f72_arg0 )
		local f72_local0
		if 1 <= f72_arg0 then
			f72_local0 = 1
		else
			f72_local0 = 1 - math.pow( 2, -10 * f72_arg0 )
		end
		return f72_local0
	end
	
	if not f70_arg0._thumbnailTransitionTimer then
		local _thumbnailTransitionTimer = LUI.UITimer.new( {
			event = "rotate_tick",
			interval = f0_local0
		} )
		_thumbnailTransitionTimer.id = "_thumbnailTransitionTimer"
		f70_arg0:addElement( _thumbnailTransitionTimer )
		f70_arg0._thumbnailTransitionTimer = _thumbnailTransitionTimer
		
		f70_arg0:registerEventHandler( "rotate_tick", function ( element, event )
			local f71_local0 = element._thumbnailTransitionTimer
			if 0 < f71_local0._ticks and f71_local0._tick <= f71_local0._ticks then
				f71_local0._tick = f71_local0._tick + 1
				local f71_local1 = LUI.Lerp( element._thumbnailTransitionTimer._initialRotation, element._thumbnailTransitionTimer._targetRotation, f70_arg0( f71_local0._tick / f71_local0._ticks ) )
				ClientCharacter[0xB6D1A33AC2622D0]( OPERATOR.GetClientCharacter(), 0, f71_local1, 0 )
				ClientCharacter[0xB6D1A33AC2622D0]( FrontEndScene.ClientCharacters.Victim, 0, f71_local1, 0 )
				if f71_local0._ticks < f71_local0._tick then
					f71_local0:Dispose()
					element._thumbnailTransitionTimer = nil
				end
			end
		end )
	end
	f70_arg0._thumbnailTransitionTimer._initialRotation = f0_local0
	f70_arg0._thumbnailTransitionTimer._targetRotation = 0
	f70_arg0._thumbnailTransitionTimer._tick = 0
	f70_arg0._thumbnailTransitionTimer._ticks = math.ceil( f0_local0 / f0_local0 )
	ClientCharacter[0xB6D1A33AC2622D0]( OPERATOR.GetClientCharacter(), 0, f70_arg0._thumbnailTransitionTimer._initialRotation, 0 )
	ClientCharacter[0xB6D1A33AC2622D0]( FrontEndScene.ClientCharacters.Victim, 0, f70_arg0._thumbnailTransitionTimer._initialRotation, 0 )
end

local f0_local36 = function ( f69_arg0, f69_arg1, f69_arg2 )
	local f69_local0 = false
	local f69_local1 = f69_arg0._operatorMasteryChallenges
	local f69_local2 = f69_arg0._clanChallenges
	local f69_local3 = nil
	local f69_local4 = false
	if f69_arg2.lootID and LOOT.GetTypeForID( f69_arg2.lootID ) == LOOT.itemTypes.OPERATOR_SKIN then
		local f69_local5 = nil
		if f69_arg0._operatorUnlockChallenge then
			if 0 < Challenge.GetRewardIndexFromTierForLoot( f69_arg0._operatorUnlockChallenge, 1, tostring( f69_arg2.lootID ) ) then
				local f69_local6 = f69_arg0._operatorUnlockChallenge
				if not f69_local6 then
					f69_local5 = f69_local6
				else
					f69_local5 = nil
				end
			end
			f69_local5 = nil
		end
		if not f69_local5 then
			for f69_local10, f69_local11 in pairs( f69_local2 ) do
				if f69_local10 == tostring( f69_arg2.lootID ) then
					f69_local5 = f69_local11
					local f69_local9 = Challenge.GetTierIndexForReward( f69_local11, tostring( f69_arg2.lootID ) )
					if 0 < f69_local9 then
						f69_local3 = f69_local9
						f69_local4 = true
					end
				end
			end
		end
		if not f69_local5 then
			for f69_local10, f69_local11 in ipairs( f69_local1 ) do
				if 0 < Challenge.GetRewardIndexFromTierForLoot( f69_local11, 1, tostring( f69_arg2.lootID ) ) then
					f69_local5 = f69_local11
					break
				end
			end
		end
		if f69_local5 then
			local f69_local7 = Challenge.GetChallengeItemDisplayDataForTier
			local f69_local8 = f69_local5
			local f69_local10
			if not f69_local3 then
				f69_local10 = f69_local3
			else
				f69_local10 = f69_local5.activeTier
			end
			f69_arg0.GenericUnlockChallenge:SetupChallenge( f69_local7( f69_local8, f69_local10 ) )
			local f69_local6 = f69_arg0.GenericUnlockChallenge
			f69_local10 = f69_local6
			f69_local6 = f69_local6.SetTitlePreLocalized
			local f69_local11
			if f69_local4 then
				f69_local11 = Engine[0xED84C33EC5F01EA]( "LOOT_MP/UNLOCK_CLAN_CHALLENGE" )
				if not f69_local11 then
				
				else
					f69_local6( f69_local10, f69_local11 )
					f69_local0 = true
				end
			end
			f69_local11 = Engine[0xED84C33EC5F01EA]( "CHALLENGE/COMPLETE_CHALLENGE" )
		end
	end
	f69_arg0.GenericUnlockChallenge:SetMouseFocusBlocker( not f69_local0 )
	f69_arg0.GenericUnlockChallenge.Challenge:SetButtonDisabled( true )
	local f69_local5 = ACTIONS.AnimateSequence
	local f69_local6 = f69_arg0
	local f69_local8
	if f69_local0 then
		f69_local8 = "ShowUnlockChallenge"
	else
		f69_local8 = "HideUnlockChallenge"
	end
	f69_local5( f69_local6, f69_local8 )
end

local f0_local37 = function ( f68_arg0, f68_arg1 )
	return OPERATOR.GetEquippedOperator( f68_arg1 ) == f68_arg0.operatorRef
end

local f0_local38 = function ( f67_arg0, f67_arg1 )
	local f67_local0 = f0_local0( f67_arg0 )
	local f67_local1 = f67_arg0.BundleUpsellButton
	local f67_local2 = f67_local1
	f67_local1 = f67_local1.SetButtonAlt
	local f67_local3
	if not f67_local0 then
		f67_local3 = "left_trigger"
	else
		f67_local3 = false
	end
	local f67_local4
	if not f67_local0 then
		f67_local4 = "[{ui_trigger_left}]"
	else
		f67_local4 = false
	end
	f67_local1( f67_local2, f67_local3, f67_local4 )
end

local f0_local39 = function ( f62_arg0, f62_arg1, f62_arg2 )
	f62_arg0.OperatorLootDetailsLayout.OperatorLootDetails:SetAlpha( 1 )
	f62_arg0:Wait( 0, true )
	local f62_local0 = f0_local0( f62_arg0 )
	if not f62_local0 then
		
	else
		
	end
	Engine[0x433043D1F47DE58]( SOUNDS.STOP_SOUNDS_ARG.SND_KEEP_MUSIC_AND_AMBIENT )
	f62_arg0._previewAnimWaiter:Wait( 0, true )
	f0_local0( f62_arg0, f62_arg1, f62_arg0.operatorRef, f62_arg0._currentLootType, f62_local0 )
	f0_local0( f62_arg0, f62_arg1, f62_local0 )
	local f62_local1 = OPERATOR.GetClientCharacter()
	if f62_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN then
		local f62_local2 = OPERATOR.GetOperatorSkin( f62_arg1, f0_local0( f62_local0 ), f62_arg0.operatorRef )
		OPERATOR.UpdateClientCharacter( f62_local1, f62_arg1, f62_local2.bodyModel, f62_local2.headModel, nil, f62_arg0, nil, nil, false, nil, f62_local0.lootID )
		ClientCharacter[0xB6D1A33AC2622D0]( f62_local1, 0, 10, 0 )
		ClientCharacter[0x9456E659F16F0A4]( f62_local1, false )
		OPERATOR.UpdatePet( f62_arg1, FrontEndScene.ClientCharacters.GoodBoy, {
			idle = true,
			execution = OPERATOR.GetExecutionForOperator( f62_arg1, f62_arg0.operatorRef ),
			element = f62_arg0
		} )
		local f62_local3 = f62_arg0:Wait( f0_local0 )
		f62_local3.onComplete = function ()
			ClientCharacter[0x9456E659F16F0A4]( f62_arg0, true )
		end
		
	else
		local f62_local4 = OPERATOR.GetOperatorSkinByRef( f62_arg1, OPERATOR.GetEquippedItemForLootType( f62_arg1, f62_arg0.operatorRef, LOOT.itemTypes.OPERATOR_SKIN ), f62_arg0.operatorRef )
		if f62_arg0._currentLootType == LOOT.itemTypes.OPERATOR_QUIP_TRIGGER or f62_arg0._currentLootType == LOOT.itemTypes.OPERATOR_QUIP then
			OPERATOR.UpdateClientCharacter( f62_local1, f62_arg1, f62_local4.bodyModel, f62_local4.headModel, nil, f62_arg0, nil, nil, true, nil )
			if f62_arg0._isFirstFocusEventForThisTab then
				ClientCharacter[0xB6D1A33AC2622D0]( f62_local1, 0, 15, 0 )
				ClientCharacter[0x9456E659F16F0A4]( f62_local1, false )
				OPERATOR.UpdatePet( f62_arg1, FrontEndScene.ClientCharacters.GoodBoy, {
					idle = true,
					execution = OPERATOR.GetExecutionForOperator( f62_arg1, f62_arg0.operatorRef ),
					element = f62_arg0
				} )
				local f62_local5 = f62_arg0:Wait( f0_local0 )
				f62_local5.onComplete = function ()
					ClientCharacter[0x9456E659F16F0A4]( f62_arg0, true )
				end
				
			end
		elseif f62_arg0._currentLootType == LOOT.itemTypes.OPERATOR_EXECUTION or f62_arg0._currentLootType == LOOT.itemTypes.OPERATOR_INTRO or f62_arg0._currentLootType == LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT then
			OPERATOR.UpdateClientCharacter( f62_local1, f62_arg1, f62_local4.bodyModel, f62_local4.headModel, nil, f62_arg0, nil, nil, false, nil )
			local f62_local6 = nil
			if f62_arg0._currentLootType == LOOT.itemTypes.OPERATOR_EXECUTION then
				f62_local6 = "execution_pose"
			elseif f62_arg0._currentLootType == LOOT.itemTypes.OPERATOR_INTRO then
				f62_local6 = "intro_pose"
			elseif f62_arg0._currentLootType == LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT then
				f62_local6 = "mvp_highlight_pose"
			end
			local f62_local3 = OPERATOR.GetLootPreviewPose( f62_arg0._currentLootType, f62_local0.rowIndex )
			if f62_local3 then
				OPERATOR.ClearPreviewAnim()
				OPERATOR.RequestWeaponWorldModels( f62_local3 )
				OPERATOR.OnPreviewAnimReady( f62_arg0._previewAnimWaiter, f62_local3, function ()
					Engine[0x6055C55456F05DF]( f62_arg0, f62_arg0.rowIndex )
					OPERATOR.SetupPreviewAnim( f62_arg0 )
					OPERATOR.StartPreviewAnim( f62_arg0 )
					local f63_local0 = f62_arg0:Wait( f62_arg0 )
					f63_local0.onComplete = function ()
						f63_local0( f63_local0 )
						OPERATOR.ShowPreviewAnimCharacters( f63_local0 )
					end
					
				end )
			end
			OPERATOR.ClearOperatorCharacterCache()
		end
	end
	f0_local0( f62_arg0, f62_local0, f62_arg1, f62_arg0.operatorRef )
	f62_arg0.OperatorLootDetailsLayout.OperatorLootDetails:SetEquipped( f62_arg2.isSelected, true )
	f62_arg0.OperatorLootDetailsLayout.OperatorLootDetails:SetInfo( f62_arg1, f62_arg0._currentLootType, f62_local0 )
	if not f62_local0.isUnlocked then
		f0_local0( f62_arg0, f62_arg1 )
		f62_arg0.BundleUpsellButton:SetupUpsellButton( f62_arg1, f62_arg0._currentLootType, f62_local0.ref )
		f62_arg0._isUpSellBundles = true
	else
		f62_arg0.BundleUpsellButton:HideButton()
		f62_arg0._isUpSellBundles = false
	end
	f62_arg0._currentFocusedButton = f62_arg2
	f62_arg0._isFirstFocusEventForThisTab = false
end

local f0_local40 = function ( f61_arg0, f61_arg1, f61_arg2 )
	if f61_arg2 and f61_arg2.isNew then
		f61_arg2:ClearNew( f61_arg1 )
		local f61_local0 = f61_arg0.CustomizationTabs:GetCurrentTabIndex() + 1
		f0_local0( f61_arg0, f61_local0 )
		if f61_arg0._lastTabIndex ~= f61_local0 then
			f0_local0( f61_arg0, f61_arg0._lastTabIndex )
		end
	end
end

local f0_local41 = function ( f60_arg0, f60_arg1 )
	local f60_local0 = f0_local0( f60_arg0 )
	if not f60_local0 then
		return 
	end
	local f60_local1 = LUI.FlowManager.GetScopedData( f60_arg0 )
	f60_local1.operatorCustomization = f60_local1.operatorCustomization or {}
	f60_local1.operatorCustomization.isPreviewing = true
	FrontEndScene.HideAllCharacters()
	if f60_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN then
		local f60_local2 = OPERATOR.GetOperatorSkin( f60_arg1, f0_local0( f60_local0 ), f60_arg0.operatorRef )
		local f60_local3 = LUI.FlowManager.GetScopedData( f60_arg0 )
		f60_local3.operatorData = f60_local3.operatorData or {}
		f60_local3.operatorData.skinInfo = {
			bodyModel = f60_local2.bodyModel,
			headModel = f60_local2.headModel,
			lootID = f60_local0.lootID
		}
		local f60_local4 = {
			initialTurnCounter = 0,
			operatorData = f60_local3.operatorData,
			selectedOperator = f60_local3.selectedOperator
		}
		Engine[0x685AE31DEDA30A4]( "character_faction_preview" )
		LUI.FlowManager.RequestAddMenu( "OperatorShowcase", true, f60_arg1, false, f60_local4, true, true )
	else
		LUI.FlowManager.RequestAddMenu( "OperatorCustomizationPreview", true, f60_arg1, false, {
			lootType = f60_arg0._currentLootType,
			rowIndex = f60_local0.rowIndex
		}, true, true )
	end
end

local f0_local42 = function ( f57_arg0, f57_arg1, f57_arg2 )
	return function ( f58_arg0, f58_arg1, f58_arg2 )
		if f57_arg0.OperatorLootGrid and f58_arg0 then
			local f58_local0 = f57_arg0.OperatorLootGrid:GetContentIndex( f58_arg1, f58_arg2 ) + 1
			local f58_local1 = f57_arg0._lootData[f58_local0]
			f58_arg0._index = f58_local0
			f58_arg0:Setup( f58_local1, f57_arg0, f57_arg0.operatorRef, f57_arg0._currentLootType, f58_arg0._index == f57_arg0._equippedLootIndex )
			if f57_arg0( f57_arg0 ) and f58_local1.isUnlocked then
				if f58_local1.equippedQuipRef and f58_local1.equippedQuipRef ~= OPERATOR.NoneRef then
					f58_arg0:SetQuipName( Engine[0xED84C33EC5F01EA]( OPERATOR.GetQuipName( f58_local1.equippedQuipRef ) ) )
				else
					f58_arg0:SetQuipName( "" )
				end
			end
			if f57_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN then
				f57_arg0:SetupOperatorButtonContextualMenu( f57_arg0, f58_arg0, f58_local1 )
			elseif f58_arg0._contextualMenuData then
				f58_arg0._contextualMenuData = nil
			end
			f58_arg0:registerEventHandler( "update_buttons", function ( element, event )
				element:SetSelected( element._index == f58_arg0._equippedLootIndex )
			end )
			if f57_arg0 then
				f58_arg0:SetNewItemNotificationVisible( f57_arg0[f58_local1.ref] or false )
			end
		end
	end
	
end

local f0_local43 = function ( f56_arg0, f56_arg1 )
	local f56_local0 = nil
	if CONDITIONS.IsGetMockNewItemsEnabled() and not f0_local0( f56_arg0 ) then
		f56_arg0._equippedLootIndex = f0_local0( f56_arg0, f56_arg0._lootData, f0_local0( f56_arg0, f56_arg1, f56_arg0.operatorRef ) )
		f56_local0 = f0_local0( f56_arg0, f56_arg0._lootData, f56_arg0._equippedLootIndex )
	end
	f56_arg0._hasNewItems = f0_local0( f56_arg0, f56_arg1, f56_arg0._lootData, f56_arg0._currentLootType, f56_local0 )
	if f56_arg0._hasNewItems and not f56_arg0._newItemsActionVisible then
		NewUnlockIndicatorUtils.PushButtonPrompt( f56_arg0.HelperBar )
		f56_arg0._newItemsActionVisible = true
	elseif not f56_arg0._hasNewItems and f56_arg0._newItemsActionVisible then
		NewUnlockIndicatorUtils.PopButtonPrompt( f56_arg0.HelperBar )
		f56_arg0._newItemsActionVisible = false
	end
end

local f0_local44 = function ( f52_arg0, f52_arg1 )
	if 0 < #f52_arg0._lootData and f52_arg0._currentTabIndex == 1 then
		table.sort( f52_arg0._lootData, function ( f55_arg0, f55_arg1 )
			if f55_arg0.rarity == f55_arg1.rarity and f55_arg0.unlockLevel and f55_arg1.unlockLevel then
				return f55_arg0.unlockLevel < f55_arg1.unlockLevel
			else
				return f55_arg0.rarity < f55_arg1.rarity
			end
		end )
	end
	local f52_local0 = nil
	local f52_local1
	if not f0_local0( f52_arg0 ) then
		f52_local1 = f0_local0( f52_arg0, f52_arg1, f52_arg0.operatorRef )
	else
		f52_local1 = false
	end
	if not f52_local1 then
		f52_arg0._equippedLootIndex = nil
	else
		f52_arg0._equippedLootIndex = f0_local0( f52_arg0, f52_arg0._lootData, f52_local1 )
		f52_local0 = f0_local0( f52_arg0, f52_arg0._lootData, f52_arg0._equippedLootIndex )
	end
	f52_arg0.OperatorLootGrid:RemoveFocusFromChild()
	f52_arg0.OperatorLootGrid:SetNumChildren( 0 )
	f52_arg0.OperatorLootGrid:SetRefreshChild( f0_local0( f52_arg0, f52_arg1, f52_local0 ) )
	local f52_local2 = f52_arg0._equippedLootIndex and f52_arg0._equippedLootIndex - 1 or 0
	if f52_arg0._currentLootType == LOOT.itemTypes.OPERATOR_QUIP_TRIGGER and f52_arg0._currentQuipTriggerIndex then
		f52_local2 = f52_arg0._currentQuipTriggerIndex
	end
	if LUI.HasHideableItemsLogic( f52_arg0.OperatorLootGrid, f52_arg1 ) then
		LUI.RemoveHideableItemsLogic( f52_arg0.OperatorLootGrid, f52_arg1 )
	end
	if 0 < #f52_arg0._lootData then
		local f52_local3 = LUI.AddHideableItemsLogicToGrid
		local f52_local4 = f52_arg0.OperatorLootGrid
		local f52_local5 = f52_arg1
		local f52_local6 = {
			animated = true,
			items = f52_arg0._lootData,
			IsHideableItem = function ( f54_arg0 )
				if f52_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN and f52_arg0._lootData[1].ref == f54_arg0.ref then
					return false
				else
					local f54_local0
					if not f52_arg0( f52_arg0, f52_arg0, f54_arg0, f52_arg0._currentLootType ) then
						if f52_arg0 then
							f54_local0 = not f52_arg0[f54_arg0.ref]
						else
							f54_local0 = true
						end
					else
						f54_local0 = false
					end
				end
				return f54_local0
			end,
			hidden = NewUnlockIndicatorUtils.InNewItemsMode( f52_arg1 )
		}
		local f52_local7
		if not f52_local2 then
			f52_local7 = f52_local2
		else
			f52_local7 = 0
		end
		f52_local6.defaultFocusIndex = f52_local7
		f52_local3( f52_local4, f52_local5, f52_local6 )
	end
	if f0_local0 then
		f52_arg0.OperatorLootGrid:SetFocusedPosition( f0_local0, true )
		f52_arg0.OperatorLootGrid:processEvent( {
			name = "update_grid_list_focus_active",
			child = f52_arg0.OperatorLootGrid._childInFocus,
			focusType = FocusType.Gamepad
		} )
		local f52_local3 = f52_arg0.OperatorLootGrid:Wait( 100 )
		f52_local3.onComplete = function ()
			f52_arg0 = false
		end
		
	else
		f52_arg0.OperatorLootGrid:MouseSetActiveToDefaultFocus( f52_arg1 )
	end
end

local f0_local45 = function ( f51_arg0, f51_arg1, f51_arg2 )
	f51_arg0._currentQuipTrigger = f51_arg2
	f51_arg0._currentQuipTriggerIndex = f51_arg0.OperatorLootGrid:GetFocusPositionIndex( {
		relativePosition = false
	} )
	f51_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( "LUA_MENU/SELECT_QUIP_FOR", OPERATOR.GetQuipTriggerName( f51_arg0._currentQuipTrigger ) ) )
	f51_arg0.DetailsBacker:SetBottom( 610 * _1080p )
	f51_arg0._currentLootType = LOOT.itemTypes.OPERATOR_QUIP
	f51_arg0._lootData = OPERATOR.GetQuipsForOperator( f51_arg0, f51_arg0.operatorRef, f51_arg1 )
	f51_arg0:UpdateGrid( f51_arg1 )
	f0_local0( f51_arg0, f51_arg1 )
	f51_arg0.CustomizationTabs:SetVisibility( LUI.Visibility.Hidden )
	f51_arg0.CustomizationTabs:SetDisabled( true )
end

local f0_local46 = function ( f50_arg0, f50_arg1 )
	f50_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( "LUA_MENU/CUSTOMIZE_NAME", Engine[0xED84C33EC5F01EA]( f50_arg0._operatorName ) ) )
	f50_arg0.DetailsBacker:SetBottom( 525 * _1080p )
	local f50_local0 = f50_arg0.tabsData[f50_arg0._currentTabIndex]
	f50_arg0._currentLootType = f50_local0.lootType
	f50_arg0._lootData = f50_local0.lootData
	local f50_local1 = OPERATOR.GetEquippedQuipForTrigger( f50_arg1, f50_arg0.operatorRef, f50_arg0._currentQuipTrigger )
	for f50_local5, f50_local6 in ipairs( f50_arg0._lootData ) do
		if f50_local6.ref == f50_arg0._currentQuipTrigger then
			f50_local6.equippedQuipRef = f50_local1
		end
	end
	f50_arg0._currentQuipTrigger = nil
	f50_arg0:UpdateGrid( f50_arg1 )
	f50_arg0._currentQuipTriggerIndex = nil
	f0_local0( f50_arg0, f50_arg1 )
	f50_arg0.CustomizationTabs:SetVisibility( LUI.Visibility.Visible )
	f50_arg0.CustomizationTabs:SetDisabled( false )
end

local f0_local47 = function ( f49_arg0, f49_arg1 )
	local f49_local0 = f0_local0( f49_arg0 )
	assert( f49_local0 )
	if not f49_local0.isUnlocked then
		return 
	elseif f0_local0( f49_arg0 ) then
		f0_local0( f49_arg0, f49_arg1, f49_local0.ref )
	else
		local f49_local1 = f0_local0( f49_arg0, f49_arg1, f49_arg0.operatorRef ) ~= f49_local0.ref
		local f49_local2
		if not f49_local1 then
			f49_local2 = f0_local0( f49_arg0, f49_local0.ref )
		else
			f49_local2 = false
		end
		if f49_local1 then
			if f49_arg0._currentLootType == LOOT.itemTypes.OPERATOR_QUIP then
				OPERATOR.SetEquippedQuipForTrigger( f49_arg1, f49_arg0.operatorRef, f49_arg0._currentQuipTrigger, f49_local0.ref )
			else
				OPERATOR.SetEquippedItemForLootType( f49_arg1, f49_arg0.operatorRef, f49_arg0._currentLootType, f49_local0.ref )
			end
			f49_arg0.OperatorLootDetailsLayout.OperatorLootDetails:SetEquipped( true )
			f49_arg0.OperatorLootDetailsLayout.OperatorLootDetails:SetInfo( f49_arg1, f49_arg0._currentLootType, f49_local0 )
			if f49_arg0._currentLootType == LOOT.itemTypes.OPERATOR_QUIP and f49_arg0.OperatorLootDetailsLayout.OperatorLootDetails.PreviewQuip then
				f49_arg0.OperatorLootDetailsLayout.OperatorLootDetails:PreviewQuip()
			end
			f49_arg0._equippedLootIndex = f0_local0( f49_arg0, f49_arg0._lootData, f49_local0.ref )
		elseif f49_local2 then
			f49_local0 = f49_arg0._lootData[f0_local0( f49_arg0 )]
			if f49_arg0._currentLootType == LOOT.itemTypes.OPERATOR_QUIP then
				OPERATOR.SetEquippedQuipForTrigger( f49_arg1, f49_arg0.operatorRef, f49_arg0._currentQuipTrigger, f49_local0.ref )
			else
				OPERATOR.SetEquippedItemForLootType( f49_arg1, f49_arg0.operatorRef, f49_arg0._currentLootType, f49_local0.ref )
			end
			f49_arg0.OperatorLootDetailsLayout.OperatorLootDetails:SetEquipped( false )
			f49_arg0.OperatorLootDetailsLayout.OperatorLootDetails:SetInfo( f49_arg1, f49_arg0._currentLootType, f49_local0 )
			f49_arg0._equippedLootIndex = f0_local0( f49_arg0, f49_arg0._lootData, f49_local0.ref )
		end
		if f49_local1 or f49_local2 then
			local f49_local3 = nil
			if f49_arg0._currentLootType == LOOT.itemTypes.OPERATOR_QUIP then
				local f49_local4 = Engine[0xED84C33EC5F01EA]( OPERATOR.GetQuipTriggerName( f49_arg0._currentQuipTrigger ) )
				f49_local3 = Engine[0xED84C33EC5F01EA]( f49_local0.name ) .. " ( " .. f49_local4 .. " )"
				if IsLanguageArabic() then
					f49_local3 = "( " .. f49_local4 .. " ) " .. Engine[0xED84C33EC5F01EA]( f49_local0.name )
				end
			else
				f49_local3 = Engine[0xED84C33EC5F01EA]( f49_local0.name )
			end
			f49_arg0:dispatchEventToRoot( {
				name = "send_toast_notification",
				immediate = true,
				options = {
					iconScale = 4.667263495923649E-62,
					displayTime = 3000,
					icon = "cac_equip_fill",
					iconColor = SWATCHES.genericMenu.title,
					header = Engine[0xED84C33EC5F01EA]( f0_local0[f49_arg0._currentLootType] ),
					description = f49_local3,
					type = f0_local0[f49_arg0._currentLootType],
					controllerIndex = f49_arg1
				}
			} )
			if f49_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN then
				Lobby.PreloadViewHandsForLocalPlayer( f49_arg1 )
			end
		end
		f0_local0( f49_arg0, f49_local0, f49_arg1, f49_arg0.operatorRef, f49_local2 )
		for f49_local7, f49_local8 in ipairs( f49_arg0.OperatorLootGrid:GetBuiltChildren() ) do
			f49_local8:processEvent( {
				name = "update_buttons"
			} )
		end
	end
end

local f0_local48 = function ( f48_arg0, f48_arg1 )
	if not f0_local0( f48_arg0, f48_arg1 ) then
		OPERATOR.SetEquippedOperator( f48_arg1, f48_arg0.operatorRef )
		f48_arg0:dispatchEventToRoot( {
			name = "send_toast_notification",
			immediate = true,
			options = {
				displayTime = 3000,
				icon = "cac_equip_fill",
				header = Engine[0xED84C33EC5F01EA]( "LUA_MENU/OPERATOR_SELECTED" ),
				description = Engine[0xED84C33EC5F01EA]( OPERATOR.GetName( f48_arg0.operatorRef ) ),
				type = LUI.ToastManager.NotificationType.OperatorEquipped,
				controllerIndex = f48_arg1
			}
		} )
	end
end

local f0_local49 = function ( f43_arg0, f43_arg1, f43_arg2, f43_arg3 )
	f43_arg2:SetupContextualMenu( {
		title = Engine[0xED84C33EC5F01EA]( f43_arg3.name )
	} )
	f43_arg2:AddContextualMenuAction( {
		id = "equipLoot",
		actionName = Engine[0xED84C33EC5F01EA]( "LUA_MENU/SELECT_OPERATOR" ),
		actionFunction = function ()
			f43_arg0( f43_arg0, f43_arg0 )
			f43_arg0( f43_arg0, f43_arg0 )
			f43_arg0.OperatorLootDetailsLayout.OperatorLootDetails.hasSelectPrompt = false
			f43_arg0:RemoveButtonHelperText( "button_alt1", "left" )
			f43_arg0( f43_arg0, f43_arg0 )
		end,
		button = LUI.MouseCursorContextualMenuLayer.BUTTON_NONE,
		conditionFunction = function ()
			local f46_local0 = f43_arg0( f43_arg0, f43_arg0 )
			if f46_local0 then
				f46_local0 = not f43_arg0( f43_arg0, f43_arg0, f43_arg0.operatorRef )
			end
			return f46_local0
		end
	} )
	f43_arg2:AddContextualMenuAction( {
		button = "button_alt1",
		id = "equipLoot",
		actionName = Engine[0xED84C33EC5F01EA]( "LUA_MENU/SELECT_SKIN_OPERATOR" ),
		actionFunction = function ()
			f43_arg0( f43_arg0, f43_arg0 )
			f43_arg0( f43_arg0, f43_arg0 )
			f43_arg0.OperatorLootDetailsLayout.OperatorLootDetails.hasSelectPrompt = false
			f43_arg0:RemoveButtonHelperText( "button_alt1", "left" )
			f43_arg0( f43_arg0, f43_arg0 )
		end,
		conditionFunction = function ()
			local f44_local0 = f43_arg0( f43_arg0, f43_arg0 )
			if f44_local0 then
				f44_local0 = f43_arg0( f43_arg0, f43_arg0, f43_arg0.operatorRef )
			end
			return f44_local0
		end
	} )
end

local f0_local50 = function ( menu, controller )
	local self = LUI.UIGrid.new( {
		scrollingThresholdX = 1,
		maxVelocity = 5000,
		wrapX = false,
		adjustSizeToContent = true,
		buildArrowsLabel = true,
		scrollingThresholdY = 1,
		maxVisibleColumns = 1,
		maxVisibleRows = 11,
		wrapY = true,
		springCoefficient = 400,
		controllerIndex = controller,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "OperatorLootButton", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f41_arg0, f41_arg1, f41_arg2 )
			
		end,
		spacingX = _1080p * 6,
		spacingY = _1080p * 4,
		columnWidth = _1080p * 420,
		rowHeight = _1080p * 60,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top,
		primaryAxis = LUI.DIRECTION.vertical
	} )
	self.id = "OperatorLootGrid"
	self:setUseStencil( true )
	self:SetActiveOnMouseOverBehavior( controller )
	local f40_local1, f40_local2, f40_local3, f40_local4 = menu.GridLayoutGuide:getLocalRect()
	local f40_local5, f40_local6, f40_local7, f40_local8 = menu.GridLayoutGuide:GetAnchorData()
	self:SetAnchorsAndPosition( f40_local5, f40_local7, f40_local6, f40_local8, f40_local1, f40_local3, f40_local2, f40_local4 )
	menu:addElement( self )
	local f40_local9 = LUI.UIScrollbar.new
	local f40_local10 = {
		direction = LUI.DIRECTION.vertical,
		eventListener = menu.VerticalMinimalScrollbar,
		startCap = menu.VerticalMinimalScrollbar.startCap,
		endCap = menu.VerticalMinimalScrollbar.endCap,
		sliderArea = menu.VerticalMinimalScrollbar.sliderArea
	}
	local f40_local11 = menu.VerticalMinimalScrollbar.sliderArea
	if f40_local11 then
		f40_local11 = menu.VerticalMinimalScrollbar.sliderArea.slider
	end
	f40_local10.slider = f40_local11
	f40_local11 = menu.VerticalMinimalScrollbar.sliderArea
	if f40_local11 then
		f40_local11 = menu.VerticalMinimalScrollbar.sliderArea.fixedSizeSlider
	end
	f40_local10.fixedSizeSlider = f40_local11
	self:AddScrollbar( f40_local9( f40_local10 ) )
	return self
end

local f0_local51 = function ( f38_arg0, f38_arg1 )
	if #f38_arg0._lootData <= 0 then
		f38_arg0.OperatorLootDetailsLayout.OperatorLootDetails:SetAlpha( 0 )
		f38_arg0.OperatorLootGrid:processEvent( {
			name = "lose_focus"
		} )
		f0_local0( f38_arg0, f38_arg1 )
		f38_arg0.OperatorLootGrid:RefreshContent()
		f38_arg0.OperatorLootGrid:SetVisibility( LUI.Visibility.Hidden )
		f38_arg0.ItemsCollected:SetVisibility( LUI.Visibility.Hidden )
		f38_arg0.UnlockLabel:SetVisibility( LUI.Visibility.Visible )
		f38_arg0.UnlockLabel:setText( Engine[0xED84C33EC5F01EA]( f0_local0[f38_arg0._currentLootType] or "" ) )
	end
	f38_arg0.OperatorLootGrid:SetVisibility( LUI.Visibility.Visible )
	f38_arg0.ItemsCollected:SetVisibility( LUI.Visibility.Visible )
	f38_arg0.UnlockLabel:SetVisibility( LUI.Visibility.Hidden )
	if 0 < #f38_arg0._lootData and not f38_arg0._lootData[1]._originalIndex then
		for f38_local3, f38_local4 in ipairs( f38_arg0._lootData ) do
			f38_local4._originalIndex = f38_local3
		end
	end
	table.sort( f38_arg0._lootData, function ( f39_arg0, f39_arg1 )
		if f39_arg0.ref == OPERATOR.NoneRef and f39_arg1.ref ~= OPERATOR.NoneRef then
			return true
		elseif f39_arg1.ref == OPERATOR.NoneRef then
			return false
		elseif f39_arg0.rarity ~= f39_arg1.rarity then
			return f39_arg0.rarity < f39_arg1.rarity
		elseif f39_arg0.uiPriority ~= f39_arg1.uiPriority then
			return tonumber( f39_arg0.uiPriority ) < tonumber( f39_arg1.uiPriority )
		else
			local f39_local0 = Engine[0xED84C33EC5F01EA]( f39_arg0.name )
			local f39_local1 = Engine[0xED84C33EC5F01EA]( f39_arg1.name )
			if f39_local0 ~= f39_local1 then
				return f39_local0 < f39_local1
			else
				return f39_arg0._originalIndex < f39_arg1._originalIndex
			end
		end
	end )
	f38_arg0.OperatorLootGrid:processEvent( {
		name = "lose_focus"
	} )
	f0_local0( f38_arg0, f38_arg1 )
	f38_arg0.OperatorLootGrid:RefreshContent()
	f38_arg0.OperatorLootGrid:processEvent( {
		name = "gain_focus"
	} )
	local f38_local0 = 0
	for f38_local1 = 1, #f38_arg0._lootData, 1 do
		if f38_arg0._lootData[f38_local1].isUnlocked then
			f38_local0 = f38_local0 + 1
		end
	end
	f38_arg0.ItemsCollected:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/COLLECTED_X_OF_Y", f38_local0, #f38_arg0._lootData ) )
end

local f0_local52 = function ( f37_arg0 )
	local f37_local0 = OPERATOR.GetFavoriteWeaponModel( f37_arg0 )
	local f37_local1 = WEAPON.NoneValue
	FrontEndScene.RequestWeaponWorldModels( {
		f37_local0
	} )
	ClientCharacter[0x1AEA65ACE3F1203]( OPERATOR.GetClientCharacter(), f37_local0, WEAPON.NoneValue, nil )
end

local f0_local53 = function ( f36_arg0, f36_arg1 )
	f36_arg0.CharacterRotator:SetClientCharacterInfo( OPERATOR.GetClientCharacter(), f36_arg1 )
	f0_local0( f36_arg1 )
end

local f0_local54 = function ( f35_arg0 )
	FrontEndScene.RequestBodyModels( {
		OPERATOR.DefaultVictimBody
	} )
	FrontEndScene.RequestHeadModels( {
		OPERATOR.DefaultVictimHead
	} )
	ClientCharacter[0xFB5C3935C674824]( FrontEndScene.ClientCharacters.Victim, OPERATOR.DefaultVictimBody, OPERATOR.DefaultVictimHead )
end

local f0_local55 = function ( f34_arg0 )
	local f34_local0
	if f34_arg0 ~= LOOT.itemTypes.OPERATOR_INTRO and f34_arg0 ~= LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT and f34_arg0 ~= LOOT.itemTypes.OPERATOR_EXECUTION then
		f34_local0 = false
	else
		f34_local0 = true
	end
	return f34_local0
end

local f0_local56 = function ( f33_arg0, f33_arg1, f33_arg2, f33_arg3 )
	local f33_local0 = LUI.FlowManager.GetScopedData( f33_arg0 )
	f33_local0.operatorCustomization = f33_local0.operatorCustomization or {}
	local f33_local1 = f33_local0.operatorCustomization
	if f33_local1 then
		f33_local1 = f33_local0.operatorCustomization.isPreviewing
	end
	Engine[0x433043D1F47DE58]( SOUNDS.STOP_SOUNDS_ARG.SND_KEEP_MUSIC_AND_AMBIENT )
	f0_local0( f33_arg0 )
	f33_arg0._previewAnimWaiter:Wait( 0, true )
	if not f33_local1 then
		ClientCharacter[0x893FBEFA2ED31EF]( OPERATOR.GetClientCharacter() )
		if not f33_arg3 then
			ClientCharacter[0x9456E659F16F0A4]( OPERATOR.GetClientCharacter(), false )
		end
		if f33_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN then
			f0_local0( f33_arg0, f33_arg1 )
		end
		if f33_arg0._currentLootType == LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT then
			f0_local0( f33_arg0.selectedOperator )
			ClientCharacter[0x893FBEFA2ED31EF]( FrontEndScene.ClientCharacters.Victim )
			ClientCharacter[0x9456E659F16F0A4]( FrontEndScene.ClientCharacters.Victim, false )
		elseif f33_arg0._currentLootType == LOOT.itemTypes.OPERATOR_INTRO then
			f0_local0( f33_arg0.selectedOperator )
		elseif f33_arg0._currentLootType == LOOT.itemTypes.OPERATOR_EXECUTION then
			f0_local0( f33_arg0.selectedOperator )
		end
	end
	if not f33_local1 and f33_arg3 and f0_local0( f33_arg0._currentLootType ) then
		Engine[0x6055C55456F05DF]( "operator_animation_preview_exited", 0 )
	end
end

local f0_local57 = function ( f32_arg0, f32_arg1 )
	local f32_local0 = f0_local0( f32_arg0._prevLootType )
	local f32_local1 = f0_local0( f32_arg0._currentLootType )
	f32_arg0._isFirstFocusEventForThisTab = true
	if f32_local0 and not f32_local1 then
		Engine[0x6055C55456F05DF]( "operator_animation_preview_exited", 0 )
	end
	if f32_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN then
		f0_local0( f32_arg0, f32_arg1 )
		Engine[0x685AE31DEDA30A4]( "character_faction_select_detail" )
	elseif f0_local0( f32_arg0 ) then
		f0_local0( f32_arg0, f32_arg1 )
		Engine[0x685AE31DEDA30A4]( "character_faction_select_quips" )
	elseif f32_arg0._currentLootType == LOOT.itemTypes.OPERATOR_EXECUTION then
		Engine[0x685AE31DEDA30A4]( "character_faction_select_animation_preview" )
	elseif f32_arg0._currentLootType == LOOT.itemTypes.OPERATOR_INTRO then
		Engine[0x685AE31DEDA30A4]( "character_faction_select_animation_preview" )
	elseif f32_arg0._currentLootType == LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT then
		Engine[0x685AE31DEDA30A4]( "character_faction_select_animation_preview" )
	end
end

local f0_local58 = function ( f31_arg0 )
	if f31_arg0:GetCurrentMenu() == nil then
		return 
	end
	f31_arg0:RemoveButtonHelperText( "button_right_stick", "left" )
	if f31_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN then
		f31_arg0:AddButtonHelperText( {
			side = "left",
			priority = 1,
			gamepad_only = true,
			button_ref = "button_right_stick",
			helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/ROTATE" )
		} )
		f31_arg0.CharacterRotator:SetEnabled( true )
	else
		f31_arg0.CharacterRotator:SetEnabled( false )
	end
end

local f0_local59 = function ( f27_arg0, f27_arg1, f27_arg2 )
	if not f27_arg2 then
		
	else
		
	end
	f27_arg0.tabsData = {}
	if f27_arg2.showSkins then
		f27_arg0.tabsData[#f27_arg0.tabsData + 1] = {
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/SKINS" ) ),
			lootType = LOOT.itemTypes.OPERATOR_SKIN,
			lootData = OPERATOR.GetSkinsForOperator( f27_arg0.operatorRef, f27_arg1 )
		}
	end
	if f27_arg2.showTaunts then
		f27_arg0.tabsData[#f27_arg0.tabsData + 1] = {
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/QUIPS" ) ),
			lootType = LOOT.itemTypes.OPERATOR_QUIP_TRIGGER,
			lootData = OPERATOR.GetQuipTriggersForOperator( f27_arg0, f27_arg0.operatorRef, f27_arg1, true )
		}
	end
	if f27_arg2.showExecutions then
		f27_arg0.tabsData[#f27_arg0.tabsData + 1] = {
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/EXECUTIONS" ) ),
			lootType = LOOT.itemTypes.OPERATOR_EXECUTION,
			lootData = OPERATOR.GetExecutionsForOperator( f27_arg0, f27_arg0.operatorRef, f27_arg1 )
		}
	end
	if f27_arg2.showHighlightIntro then
		f27_arg0.tabsData[#f27_arg0.tabsData + 1] = {
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/HIGHLIGHT_INTRO" ) ),
			lootType = LOOT.itemTypes.OPERATOR_INTRO,
			lootData = OPERATOR.GetMVPHighlightIntrosForOperator( f27_arg0, f27_arg0.operatorRef, f27_arg1 )
		}
	end
	if f27_arg2.showMVPHighlights then
		f27_arg0.tabsData[#f27_arg0.tabsData + 1] = {
			name = ToUpperCase( Engine[0xED84C33EC5F01EA]( "LUA_MENU/MVP_HIGHLIGHTS" ) ),
			lootType = LOOT.itemTypes.OPERATOR_MVP_HIGHLIGHT,
			lootData = OPERATOR.GetMVPHighlightsForOperator( f27_arg0.operatorRef, f27_arg1 )
		}
	end
	f27_arg0._tabLootType = {}
	local f27_local0 = {}
	local f27_local1 = true
	for f27_local6, f27_local7 in ipairs( f27_arg0.tabsData ) do
		local f27_local8 = false
		local f27_local5
		if f27_local1 then
			f27_local5 = f27_local1
		else
			f27_local5 = not f27_local8
		end
		if f27_local1 then
			f27_local1 = not f27_local5
		end
		table.insert( f27_local0, {
			name = f27_local7.name,
			disabled = f27_local8,
			hasDefaultFocus = f27_local5,
			loseFocusFunction = function ( f30_arg0, f30_arg1, f30_arg2, f30_arg3 )
				f27_arg0._prevLootType = f27_arg0.lootType
				f27_arg0( f27_arg0, f30_arg1, f27_arg0.lootType )
			end,
			focusFunction = function ( f28_arg0, f28_arg1, f28_arg2, f28_arg3 )
				f27_arg0._currentLootType = f27_arg0.lootType
				f27_arg0._lootData = f27_arg0.lootData
				f27_arg0._lastTabIndex = f27_arg0._currentTabIndex
				f27_arg0._currentTabIndex = f28_arg2 + 1
				if not f27_arg0._lastTabIndex then
					f27_arg0._lastTabIndex = f27_arg0._currentTabIndex
				end
				f27_arg0( f27_arg0, f28_arg1, f27_arg0._currentFocusedButton )
				f27_arg0:UpdateGrid( f28_arg1 )
				f27_arg0( f27_arg0 )
				f27_arg0( f27_arg0, f28_arg1 )
				f27_arg0( f27_arg0, f28_arg1 )
				f27_arg0.OperatorLootDetailsLayout:SetAlpha( 0 )
				f27_arg0.GenericUnlockChallenge:SetAlpha( 0 )
				local f28_local0 = f27_arg0.OperatorLootDetailsLayout:Wait( 100 )
				f28_local0.onComplete = function ()
					f28_arg0.OperatorLootDetailsLayout:SetAlpha( 1, 200 )
					f28_arg0.GenericUnlockChallenge:SetAlpha( 1, 200 )
				end
				
			end
		} )
		f27_arg0._tabLootType[f27_local6] = f27_local7.lootType
	end
	f27_arg0.CustomizationTabs:SetTabs( f27_local0 )
	for f27_local2 = 1, #f27_arg0.tabsData, 1 do
		f0_local0( f27_arg0, f27_local2 )
	end
end

local f0_local60 = function ( f25_arg0, f25_arg1 )
	return function ()
		ClientCharacter[0x9456E659F16F0A4]( OPERATOR.GetClientCharacter(), true )
		f25_arg0._sceneInitialized = true
	end
	
end

local f0_local61 = function ( f8_arg0, f8_arg1, f8_arg2 )
	f8_arg0._controllerIndex = f8_arg1
	f8_arg0._outfitMissionQuests = f8_arg2.operatorData.operatorInfo.outfitMissionQuests or {}
	f8_arg0._operatorName = f8_arg2.operatorData.operatorInfo.name or ""
	f8_arg0._operatorUnlockChallenge = f8_arg2.operatorData.operatorInfo.unlockChallenge
	f8_arg0._operatorMasteryChallenges = f8_arg2.operatorData.operatorInfo.masteryChallenges
	f8_arg0._clanChallenges = f8_arg2.operatorData.operatorInfo.clanChallenges
	f8_arg0._currentLootType = nil
	f8_arg0._currentQuipTrigger = nil
	f8_arg0._prevLootType = nil
	f8_arg0._lootData = nil
	f8_arg0._sceneInitialized = false
	f8_arg0._isFirstFocusEventForThisTab = true
	f8_arg0._isUpSellBundles = false
	f8_arg0._previewAnimWaiter = LUI.UIElement.new()
	f8_arg0:addElement( f8_arg0._previewAnimWaiter )
	f8_arg0.UpdateGrid = f0_local0
	f8_arg0.SetupOperatorButtonContextualMenu = f0_local0
	f8_arg0.OperatorLootDetailsLayout.OperatorLootDetails:SetAlpha( 0 )
	f8_arg0.OperatorLootDetailsLayout.OperatorLootDetails:InitializeDimensions( f8_arg0.OperatorLootDetailsLayout.OperatorLootDetails:GetCurrentAnchorsAndPositions() )
	f8_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( "LUA_MENU/CUSTOMIZE_NAME", Engine[0xED84C33EC5F01EA]( f8_arg0._operatorName ) ) )
	local f8_local0 = Engine[0x3B8CFB6758EF57C]()
	f8_arg0.selectedOperator = f8_arg2.operatorData.selectedOperator
	local f8_local1 = nil
	local f8_local2 = LUI.FlowManager.GetScopedData( f8_arg0 )
	local bindButton = f8_local2.operatorCustomization
	if bindButton then
		f8_local1 = bindButton
	else
		f8_local1 = f8_local2.operatorCustomization.isPreviewing
	end
	if f8_local1 then
		f8_local2.operatorCustomization.isPreviewing = false
	end
	FrontEndScene.HideAllCharacters()
	if not f8_local1 then
		Engine[0x685AE31DEDA30A4]( "character_faction_select_detail" )
		f0_local0( f8_arg0 )
		MenuUtils.SetupSceneChangeCallback( f8_arg0, f0_local0( f8_arg0, f8_arg1 ) )
	else
		f8_arg0._sceneInitialized = true
	end
	f0_local0( f8_arg0, f8_arg0.selectedOperator )
	f8_local2 = OPERATOR.GetCosmeticConfigString( f8_arg0.selectedOperator, f8_arg1 )
	PROGRESSION.SetupOperatorProgressionWidget( f8_arg1, f8_arg0.OperatorProgression, f8_arg0.selectedOperator, PROGRESSION.GENERIC_WIDGET_MODE.HEADER )
	f8_arg0._currentLootType = LOOT.itemTypes.OPERATOR_SKIN
	f8_arg0.OperatorLootGrid = f0_local0( f8_arg0, f8_arg1 )
	f8_arg0.OperatorLootGrid:SetUseDelayedFocus( true )
	bindButton = f8_arg0.selectedOperator
	if not bindButton then
		bindButton = OPERATOR.GetEquippedOperator( f8_arg1 )
	end
	f8_arg0.operatorRef = bindButton
	f0_local0( f8_arg0, f8_arg1, f8_arg2.menuOptions )
	f8_arg0.UnlockLabel:SetVisibility( LUI.Visibility.Hidden )
	f8_arg0.GridLayoutGuide:SetVisibility( LUI.Visibility.Hidden )
	f8_arg0.addButtonHelperFunction = function ( f24_arg0, f24_arg1 )
		f24_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_secondary",
			priority = 0,
			helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/BACK" )
		} )
		f8_arg0( f24_arg0 )
	end
	
	f8_arg0:addEventHandler( "menu_create", f8_arg0.addButtonHelperFunction )
	
	bindButton = LUI.UIBindButton.new()
	bindButton.id = "bindButton"
	f8_arg0:addElement( bindButton )
	f8_arg0.bindButton = bindButton
	
	local f8_local4 = function ( f23_arg0, f23_arg1 )
		Engine[0xB81A5136C5503E4]( "uploadstats", f8_arg0 )
		METRICS.LootUsageSendDLogEvent( f8_arg0, {
			controllerIndex = f8_arg0,
			startTime = f8_arg0,
			previousItemIDs = f8_arg0,
			newItemIDs = OPERATOR.GetCosmeticConfigString( f8_arg0.selectedOperator, f8_arg0 )
		} )
		LAYOUT.FadeInAspectRatioFadeFrame( f8_arg0, 300 )
		local f23_local0 = LUI.FlowManager.GetScopedData( f8_arg0 )
		f23_local0.operatorData.selectedOperator = f8_arg0.operatorRef
		ACTIONS.LeaveMenu( f8_arg0 )
	end
	
	local f8_local5 = function ( f22_arg0, f22_arg1 )
		local f22_local0 = f22_arg0.selectedOperator
		local f22_local1 = f8_arg0( f22_arg0 )
		local f22_local2 = f8_arg0( f22_arg0, f8_arg0 )
		local f22_local3 = f8_arg0( f22_arg0, f8_arg0 )
		if not f22_local1 and f22_local3 then
			LUI.FlowManager.RequestAddMenu( "OperatorMissions", true, f22_arg0._controllerIndex, false, {
				challengeID = f22_local3.id,
				skinLootId = f22_local3.loot,
				outfitMissionQuests = f22_arg0._outfitMissionQuests
			} )
		elseif f22_local2 and f22_arg0._currentLootType == LOOT.itemTypes.OPERATOR_SKIN then
			if f22_local1 then
				local f22_local4 = f8_arg0( f22_arg0 )
				if f8_arg0( f22_arg0, f8_arg0, f22_arg0.operatorRef ) ~= f22_local4.ref then
					f8_arg0( f22_arg0, f8_arg0 )
				end
			end
			f8_arg0( f22_arg0, f8_arg0 )
			f22_arg0.OperatorLootDetailsLayout.OperatorLootDetails.hasSelectPrompt = false
			f22_arg0:RemoveButtonHelperText( "button_alt1", "left" )
			if not f22_local1 then
				f8_arg0( f22_arg0, f8_arg0 )
				f22_arg0.BundleUpsellButton:RefreshUpsellButton( f8_arg0 )
				f22_arg0._isUpSellBundles = true
			end
			Engine[0xC4146BA76D0F982]( CoD.SFX.MouseClick )
		end
	end
	
	f8_arg0.bindButton:addEventHandler( "button_alt1", function ( f21_arg0, f21_arg1 )
		if f8_arg0( f8_arg0, f21_arg1.controller ) then
			if not f8_arg0( f8_arg0 ) then
				f21_arg0:dispatchEventToRoot( {
					immediate = true,
					name = "view_bundle"
				} )
			end
		else
			f8_arg0( f8_arg0, f21_arg1 )
		end
	end )
	f8_arg0.bindButton:addEventHandler( "button_left_trigger", function ( f20_arg0, f20_arg1 )
		if not f8_arg0( f8_arg0, f20_arg1.controller ) then
			f20_arg0:dispatchEventToRoot( {
				immediate = true,
				name = "view_bundle"
			} )
		end
	end )
	LAYOUT.AddHandlerAspectRatioScaleAdjustment( f8_arg0, f8_arg0.Darkener, LAYOUT.AspectRatioImageScalePct.LARGE )
	LAYOUT.FadeOutAspectRatioFadeFrame( f8_arg0, 500, 1.15 )
	ACTIONS.ScaleStretchAnchorFullscreen( f8_arg0.Vignette )
	f8_arg0:registerEventHandler( "operator_loot_button_up", function ( element, event )
		f8_arg0( element, f8_arg0, event.child )
		return true
	end )
	f8_arg0:registerEventHandler( "operator_loot_button_focused", function ( element, event )
		f8_arg0( element, f8_arg0, event.child )
		return true
	end )
	f8_arg0:registerEventHandler( "operator_loot_button_action", function ( element, event )
		f8_arg0( element, f8_arg0 )
		return true
	end )
	f8_arg0:registerEventHandler( "operator_loot_preview", function ( element, event )
		f8_arg0 = {
			x = f8_arg0.OperatorLootGrid:GetFocusPosition( LUI.DIRECTION.horizontal ),
			y = f8_arg0.OperatorLootGrid:GetFocusPosition()
		}
		f8_arg0 = true
		f8_arg0( element, f8_arg0 )
		return true
	end )
	f8_arg0:addEventHandler( "menu_close", function ( f15_arg0, f15_arg1 )
		f8_arg0( f15_arg0, f8_arg0, f15_arg0._currentLootType, true )
		return true
	end )
	f8_arg0:addEventHandler( "menu_close_all", function ( f14_arg0, f14_arg1 )
		f8_arg0( f14_arg0, f8_arg0, f14_arg0._currentLootType, true )
		return true
	end )
	f8_arg0.bindButton:addEventHandler( "button_right_trigger", function ( f13_arg0, f13_arg1 )
		OPERATOR.RequestOpenOperatorProgression( f8_arg0, f13_arg0, f13_arg1 )
	end )
	f8_arg0.OperatorLootGrid:registerEventHandler( "toggle_new_items_mode", function ( element, event )
		element:SetItemsHidden( event.enabled, event.controllerIndex, event.instantly )
		f8_arg0.CustomizationTabs:processEvent( {
			canDisable = true,
			name = "toggle_tab_display",
			enabled = event.enabled
		} )
		return true
	end )
	f8_arg0.bindButton:addEventHandler( "button_secondary", function ( f11_arg0, f11_arg1 )
		local f11_local0 = f11_arg1.controller or f8_arg0
		if CONDITIONS.InNewItemsMode( f11_local0 ) then
			ACTIONS.TurnOffNewItemsMode( f8_arg0, f11_local0 )
		elseif f8_arg0._currentLootType == LOOT.itemTypes.OPERATOR_QUIP then
			f8_arg0( f8_arg0, f11_local0 )
		else
			f8_arg0()
		end
	end )
	f0_local0( f8_arg0, f8_arg1 )
	NewUnlockIndicatorUtils.SetupButtonHandler( f8_arg0, f8_arg0.bindButton, f8_arg1, function ( f10_arg0, f10_arg1 )
		if f8_arg0._hasNewItems then
			ACTIONS.ToggleNewItemsMode( f10_arg0, f10_arg1 )
		end
	end )
	SEQUENCEPRESETS.RegisterAnimation( f8_arg0, LUI.Transition.TransFrom, "OutDepthForward", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f8_arg0, LUI.Transition.TransTo, "InDepthForward", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f8_arg0, LUI.Transition.TransBackFrom, "OutDepthBack", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f8_arg0, LUI.Transition.TransBackTo, "InDepthBack", 0 )
	f8_arg0:addAndCallEventHandler( "update_input_type", function ( f9_arg0, f9_arg1 )
		if LUI.IsLastInputGamepad( f8_arg0 ) then
			ACTIONS.AnimateSequence( f9_arg0, "Gamepad" )
			if f9_arg0.OperatorLootGrid then
				f9_arg0.OperatorLootGrid:processEvent( {
					name = "gain_focus",
					controller = f8_arg0
				} )
			end
		else
			ACTIONS.AnimateSequence( f9_arg0, "KBM" )
		end
	end )
	f8_arg0.DetailsBacker:SetVisibility( SEASON.DarkOrLightTheme() and LUI.Visibility.Visible or LUI.Visibility.Hidden )
end

function OperatorCustomization( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "OperatorCustomization"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Vignette = nil
	
	Vignette = LUI.UIImage.new()
	Vignette.id = "Vignette"
	Vignette:SetAlpha( 0, 0 )
	Vignette:setImage( RegisterMaterial( "menu_vignette" ), 0 )
	Vignette:SetBlendMode( BLEND_MODE.multiply )
	Vignette:Setup9SliceImage( _1080p * 382, _1080p * 353, 0.21, 0.3 )
	self:addElement( Vignette )
	self.Vignette = Vignette
	
	local DetailsBacker = nil
	
	DetailsBacker = MenuBuilder.BuildRegisteredType( "DoubleNotchedBacker", {
		controllerIndex = f1_local1
	} )
	DetailsBacker.id = "DetailsBacker"
	DetailsBacker:SetVisibility( LUI.Visibility.Hidden )
	DetailsBacker:SetRGBFromTable( SWATCHES.highlight.vDefaultDarken, 0 )
	DetailsBacker.Background:SetRGBFromTable( SWATCHES.highlight.vDefaultDarken, 0 )
	DetailsBacker.Background:SetAlpha( 0.3, 0 )
	DetailsBacker:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 581, _1080p * 1156, _1080p * 200, _1080p * 552 )
	self:addElement( DetailsBacker )
	self.DetailsBacker = DetailsBacker
	
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	Darkener:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Darkener:SetAlpha( 0, 0 )
	Darkener:setImage( RegisterMaterial( "widg_gradient_left_to_right" ), 0 )
	Darkener:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 1198, 0, 0 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	local GridLayoutGuide = nil
	
	GridLayoutGuide = LUI.UIImage.new()
	GridLayoutGuide.id = "GridLayoutGuide"
	GridLayoutGuide:SetAlpha( 0.1, 0 )
	GridLayoutGuide:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 546, _1080p * 216, _1080p * 943 )
	self:addElement( GridLayoutGuide )
	self.GridLayoutGuide = GridLayoutGuide
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:SetAlpha( 0.15, 0 )
	MenuTitle.MenuTitle:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/CUSTOMIZE_OPERATOR_CAPS" ), 0 )
	MenuTitle.Line:SetLeft( 0, 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1024, 0, _1080p * 100 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local HelperBar = nil
	
	HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	HelperBar.id = "HelperBar"
	HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	self:addElement( HelperBar )
	self.HelperBar = HelperBar
	
	local CharacterRotator = nil
	
	CharacterRotator = MenuBuilder.BuildRegisteredType( "CharacterRotator", {
		controllerIndex = f1_local1
	} )
	CharacterRotator.id = "CharacterRotator"
	CharacterRotator:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, _1080p * -72 )
	self:addElement( CharacterRotator )
	self.CharacterRotator = CharacterRotator
	
	local CustomizationTabs = nil
	
	CustomizationTabs = LUI.TabManager.new( {
		spacing = 4,
		wrap = true,
		tabHeight = _1080p * 45,
		buildTab = function ()
			return MenuBuilder.BuildRegisteredType( "SubMenuTab", {
				controllerIndex = menu
			} )
		end,
		controllerIndex = f1_local1
	} )
	CustomizationTabs.id = "CustomizationTabs"
	CustomizationTabs:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 993, _1080p * 108, _1080p * 160 )
	self:addElement( CustomizationTabs )
	self.CustomizationTabs = CustomizationTabs
	
	local LobbyMembersFooter = nil
	
	LobbyMembersFooter = MenuBuilder.BuildRegisteredType( "LobbyMembersFooter", {
		controllerIndex = f1_local1
	} )
	LobbyMembersFooter.id = "LobbyMembersFooter"
	LobbyMembersFooter:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 150 )
	self:addElement( LobbyMembersFooter )
	self.LobbyMembersFooter = LobbyMembersFooter
	
	local ItemsCollected = nil
	
	ItemsCollected = LUI.UIStyledText.new()
	ItemsCollected.id = "ItemsCollected"
	ItemsCollected:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	ItemsCollected:SetAlpha( 0, 0 )
	ItemsCollected:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/COLLECTED_X_OF_Y" ), 0 )
	ItemsCollected:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	ItemsCollected:SetFontSize( 20 * _PT )
	ItemsCollected:SetMinFontSize( 16 * _PT )
	ItemsCollected:SetWordWrap( false )
	ItemsCollected:SetAlignment( LUI.Alignment.Left )
	ItemsCollected:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 315, _1080p * 178, _1080p * 200 )
	self:addElement( ItemsCollected )
	self.ItemsCollected = ItemsCollected
	
	local OperatorLootDetailsLayout = nil
	
	OperatorLootDetailsLayout = MenuBuilder.BuildRegisteredType( "OperatorLootDetailsLayout", {
		controllerIndex = f1_local1
	} )
	OperatorLootDetailsLayout.id = "OperatorLootDetailsLayout"
	OperatorLootDetailsLayout:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 600, _1080p * 1056, _1080p * 200, _1080p * 335 )
	self:addElement( OperatorLootDetailsLayout )
	self.OperatorLootDetailsLayout = OperatorLootDetailsLayout
	
	local VerticalMinimalScrollbar = nil
	
	VerticalMinimalScrollbar = MenuBuilder.BuildRegisteredType( "VerticalMinimalScrollbar", {
		controllerIndex = f1_local1
	} )
	VerticalMinimalScrollbar.id = "VerticalMinimalScrollbar"
	VerticalMinimalScrollbar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 525, _1080p * 535, _1080p * 216, _1080p * 914 )
	self:addElement( VerticalMinimalScrollbar )
	self.VerticalMinimalScrollbar = VerticalMinimalScrollbar
	
	local UnlockLabel = nil
	
	UnlockLabel = LUI.UIStyledText.new()
	UnlockLabel.id = "UnlockLabel"
	UnlockLabel:SetAlpha( 0.75, 0 )
	UnlockLabel:setText( "UNLOCKS WHEN YOU OBTAIN ANY QUIP", 0 )
	UnlockLabel:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_MBodyText.font.File ) )
	UnlockLabel:SetFontSize( FONT_STYLES.fontStyle_MBodyText.size )
	UnlockLabel:SetMinFontSize( FONT_STYLES.fontStyle_MBodyText.minSize )
	UnlockLabel:SetWordWrap( true )
	UnlockLabel:SetTracking( FONT_STYLES.fontStyle_MBodyText.tracking * _1080p, 0 )
	UnlockLabel:SetLeading( FONT_STYLES.fontStyle_MBodyText.leading * _1080p, 0 )
	UnlockLabel:SetAlignment( LUI.Alignment.Left )
	UnlockLabel:SetVerticalAlignment( LUI.Alignment.Center )
	UnlockLabel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 746, _1080p * 216, _1080p * 248 )
	self:addElement( UnlockLabel )
	self.UnlockLabel = UnlockLabel
	
	local OperatorProgression = nil
	
	OperatorProgression = MenuBuilder.BuildRegisteredType( "GenericProgression", {
		controllerIndex = f1_local1
	} )
	OperatorProgression.id = "OperatorProgression"
	OperatorProgression:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1326, _1080p * 1790, _1080p * 50, _1080p * 150 )
	self:addElement( OperatorProgression )
	self.OperatorProgression = OperatorProgression
	
	local GenericUnlockChallenge = nil
	
	GenericUnlockChallenge = MenuBuilder.BuildRegisteredType( "GenericUnlockChallenge", {
		controllerIndex = f1_local1
	} )
	GenericUnlockChallenge.id = "GenericUnlockChallenge"
	GenericUnlockChallenge:SetVisibility( LUI.Visibility.Hidden )
	GenericUnlockChallenge.Title:setText( "", 0 )
	GenericUnlockChallenge:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 600, _1080p * 1070, _1080p * 620, _1080p * 740 )
	self:addElement( GenericUnlockChallenge )
	self.GenericUnlockChallenge = GenericUnlockChallenge
	
	local BundleUpsellButton = nil
	
	BundleUpsellButton = MenuBuilder.BuildRegisteredType( "BundleUpsellButton", {
		controllerIndex = f1_local1
	} )
	BundleUpsellButton.id = "BundleUpsellButton"
	BundleUpsellButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 602, _1080p * 1052, _1080p * 651, _1080p * 855 )
	self:addElement( BundleUpsellButton )
	self.BundleUpsellButton = BundleUpsellButton
	
	local f1_local19 = nil
	Vignette:RegisterAnimationSequence( "DefaultSequence", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Darkener:RegisterAnimationSequence( "DefaultSequence", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.DefaultSequence = function ()
		menu:AnimateSequence( "DefaultSequence" )
		menu:AnimateSequence( "DefaultSequence" )
	end
	
	self._sequenceLengths.DefaultSequence = 400
	local f1_local20 = nil
	CustomizationTabs:RegisterAnimationSequence( "Gamepad", {
		{
			duration = -28,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 96
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 993
		}
	} )
	self._sequences.Gamepad = function ()
		menu:AnimateSequence( "Gamepad" )
	end
	
	self._sequenceLengths.Gamepad = 100
	local f1_local21 = nil
	CustomizationTabs:RegisterAnimationSequence( "KBM", {
		{
			duration = -28,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 55
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 952
		}
	} )
	self._sequences.KBM = function ()
		menu:AnimateSequence( "KBM" )
	end
	
	self._sequenceLengths.KBM = 100
	local f1_local22 = nil
	GenericUnlockChallenge:RegisterAnimationSequence( "ShowUnlockChallenge", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Visible
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 620
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 740
		}
	} )
	BundleUpsellButton:RegisterAnimationSequence( "ShowUnlockChallenge", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 661
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 865
		}
	} )
	self._sequences.ShowUnlockChallenge = function ()
		menu:AnimateSequence( "ShowUnlockChallenge" )
		menu:AnimateSequence( "ShowUnlockChallenge" )
	end
	
	self._sequenceLengths.ShowUnlockChallenge = 0
	local f1_local23 = nil
	GenericUnlockChallenge:RegisterAnimationSequence( "HideUnlockChallenge", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Hidden
		}
	} )
	BundleUpsellButton:RegisterAnimationSequence( "HideUnlockChallenge", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 630
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 834
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 600
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1050
		}
	} )
	self._sequences.HideUnlockChallenge = function ()
		menu:AnimateSequence( "HideUnlockChallenge" )
		menu:AnimateSequence( "HideUnlockChallenge" )
	end
	
	self._sequenceLengths.HideUnlockChallenge = 0
	f0_local0( self, f1_local1, controller )
	ACTIONS.AnimateSequence( self, "DefaultSequence" )
	return self
end

MenuBuilder.registerType( "OperatorCustomization", OperatorCustomization )
LockTable( _M )
