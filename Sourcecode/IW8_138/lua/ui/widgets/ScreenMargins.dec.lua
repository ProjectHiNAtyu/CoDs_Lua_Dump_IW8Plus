-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
module( ..., package.seeall )
local f0_local0 = function ( f15_arg0, f15_arg1, f15_arg2, f15_arg3, f15_arg4 )
	return function ( f16_arg0, f16_arg1 )
		local f16_local0 = math.min( f15_arg0, math.max( f15_arg0, Dvar.BJJCJHDBII( f15_arg0 ) + f15_arg0 ) )
		Dvar.IICIFEEDC( f15_arg0, f16_local0 )
		Engine.DAGFFDGFII( "profile_menuDvarsFinish " .. f16_arg1.controller )
		f15_arg0.MarginsGuide:AnimateMarginArrows()
		if f16_local0 <= f15_arg0 or f15_arg0 <= f16_local0 then
			Engine.BJDBIAGIDA( CoD.SFX.DenyAdjustSafeArea )
		else
			Engine.BJDBIAGIDA( CoD.SFX.AdjustSafeArea )
		end
	end
	
end

local f0_local1 = function ( f12_arg0, f12_arg1 )
	LUI.FlowManager.RequestPopupMenu( nil, "PopupYesNo", true, f12_arg1, false, {
		controllerIndex = f12_arg1,
		message = Engine.CBBHFCGDIC( "LUA_MENU/SAFE_AREA_CANCEL_MSG" ),
		yesAction = function ()
			LUI.FlowManager.RequestLeaveMenu( f12_arg0, true )
		end,
		noAction = function ( f13_arg0 )
			Dvar.IICIFEEDC( "MKOOLLQRPS", f12_arg0.originalVertMargin )
			Dvar.IICIFEEDC( "NNLRMRKOTM", f12_arg0.originalHorzMargin )
			Engine.DAGFFDGFII( "profile_menuDvarsFinish " .. f12_arg0 )
			Engine.BHBDBCEHC()
			LUI.FlowManager.RequestLeaveMenu( f12_arg0, true )
		end
	}, true, true )
end

local f0_local2 = function ( f6_arg0, f6_arg1, f6_arg2 )
	assert( f6_arg0.MarginsGuide )
	assert( f6_arg0.ContinueButton )
	f6_arg0.isBootOptions = f6_arg2.isBootOption or false
	Engine.DAGFFDGFII( "profile_updateSafeareaDvars" )
	f6_arg0:addEventHandler( "menu_create", function ( f11_arg0, f11_arg1 )
		f11_arg0.originalVertMargin = Dvar.BJJCJHDBII( "MKOOLLQRPS" )
		f11_arg0.originalHorzMargin = Dvar.BJJCJHDBII( "NNLRMRKOTM" )
		if f11_arg0.isBootOptions then
			f11_arg0.isQuickAccessShortcutsDisabled = true
		end
		if f11_arg0.originalVertMargin < SliderBounds.VertMargin.Min or f11_arg0.originalVertMargin > SliderBounds.VertMargin.Max then
			f11_arg0.originalVertMargin = LUI.clamp( f11_arg0.originalVertMargin, SliderBounds.VertMargin.Min, SliderBounds.VertMargin.Max )
			Dvar.IICIFEEDC( "MKOOLLQRPS", f11_arg0.originalVertMargin )
			Engine.DAGFFDGFII( "profile_menuDvarsFinish " .. f6_arg0 )
		end
		if f11_arg0.originalHorzMargin < SliderBounds.HorzMargin.Min or f11_arg0.originalHorzMargin > SliderBounds.HorzMargin.Max then
			f11_arg0.originalHorzMargin = LUI.clamp( f11_arg0.originalHorzMargin, SliderBounds.HorzMargin.Min, SliderBounds.HorzMargin.Max )
			Dvar.IICIFEEDC( "NNLRMRKOTM", f11_arg0.originalHorzMargin )
			Engine.DAGFFDGFII( "profile_menuDvarsFinish " .. f6_arg0 )
		end
		f11_arg0.MarginsGuide:AnimateMarginArrows()
	end )
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "bindButton"
	f6_arg0:addElement( bindButton )
	f6_arg0.bindButton = bindButton
	
	f6_arg0.ContinueButton:addEventHandler( "button_action", function ()
		Engine.BHBDBCEHC()
		LUI.FlowManager.RequestLeaveMenu( f6_arg0, true )
	end )
	bindButton:addEventHandler( "button_secondary", function ( f9_arg0, f9_arg1 )
		local f9_local0 = 0.001
		if f9_local0 <= math.abs( f6_arg0.originalHorzMargin - Dvar.BJJCJHDBII( "NNLRMRKOTM" ) ) or f9_local0 <= math.abs( f6_arg0.originalVertMargin - Dvar.BJJCJHDBII( "MKOOLLQRPS" ) ) then
			f6_arg0( f6_arg0, f9_arg1.controller )
		else
			LUI.FlowManager.RequestLeaveMenu( f6_arg0, true )
		end
	end )
	bindButton:addEventHandler( "button_up", f0_local0( f6_arg0, SliderBounds.VertMargin.Min, SliderBounds.VertMargin.Max, SliderBounds.VertMargin.Step, "MKOOLLQRPS" ) )
	bindButton:addEventHandler( "button_down", f0_local0( f6_arg0, SliderBounds.VertMargin.Min, SliderBounds.VertMargin.Max, -SliderBounds.VertMargin.Step, "MKOOLLQRPS" ) )
	bindButton:addEventHandler( "button_left", f0_local0( f6_arg0, SliderBounds.HorzMargin.Min, SliderBounds.HorzMargin.Max, -SliderBounds.HorzMargin.Step, "NNLRMRKOTM" ) )
	bindButton:addEventHandler( "button_right", f0_local0( f6_arg0, SliderBounds.HorzMargin.Min, SliderBounds.HorzMargin.Max, SliderBounds.HorzMargin.Step, "NNLRMRKOTM" ) )
	f6_arg0:addAndCallEventHandler( "update_input_type", function ( f8_arg0, f8_arg1 )
		f8_arg0.AdjustRightButton:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_RIGHT_BUTTON" ) )
		f8_arg0.AdjustRightText:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_RIGHT_TEXT" ) )
		f8_arg0.AdjustLeftButton:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_LEFT_BUTTON" ) )
		f8_arg0.AdjustLeftText:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_LEFT_TEXT" ) )
		f8_arg0.AdjustTopButton:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_UP_BUTTON" ) )
		f8_arg0.AdjustTopText:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_UP_TEXT" ) )
		f8_arg0.AdjustBottomButton:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_DOWN_BUTTON" ) )
		f8_arg0.AdjustBottomText:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_DOWN_TEXT" ) )
	end, {
		controllerIndex = f6_arg1
	} )
	if IsLanguageArabic() or IsLanguageChinese() then
		ACTIONS.AnimateSequence( f6_arg0, "AR" )
	end
	LUI.TextChat.SetupMenuForNoChat( f6_arg0 )
	f6_arg0:addAndCallEventHandler( "update_input_type", function ( f7_arg0, f7_arg1 )
		if LUI.IsLastInputGamepad( f6_arg0 ) then
			ACTIONS.AnimateSequence( f7_arg0, "Gamepad" )
		else
			ACTIONS.AnimateSequence( f7_arg0, "KBM" )
		end
	end, {
		controllerIndex = f6_arg1
	} )
end

function ScreenMargins( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "ScreenMargins"
	self._animationSets = {}
	self._sequences = {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromInt( 3355443, 0 )
	self:addElement( Background )
	self.Background = Background
	
	local MarginsGuide = nil
	
	MarginsGuide = MenuBuilder.BuildRegisteredType( "MarginsGuide", {
		controllerIndex = f1_local1
	} )
	MarginsGuide.id = "MarginsGuide"
	MarginsGuide:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	self:addElement( MarginsGuide )
	self.MarginsGuide = MarginsGuide
	
	local Title = nil
	
	Title = LUI.UIText.new()
	Title.id = "Title"
	Title:SetRGBFromTable( SWATCHES.genericMenu.title, 0 )
	Title:setText( ToUpperCase( Engine.CBBHFCGDIC( "MENU/SAFE_AREA" ) ), 0 )
	Title:SetFont( FONTS.GetFont( FONTS.MainLight.File ) )
	Title:SetAlignment( LUI.Alignment.Center )
	Title:SetVerticalAlignment( LUI.Alignment.Center )
	Title:SetOptOutRightToLeftAlignmentFlip( true )
	Title:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -825, _1080p * 830, _1080p * 154, _1080p * 214 )
	self:addElement( Title )
	self.Title = Title
	
	local Instructions = nil
	
	Instructions = LUI.UIText.new()
	Instructions.id = "Instructions"
	Instructions:SetRGBFromTable( SWATCHES.genericMenu.bodycopy, 0 )
	Instructions:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_INSTRUCTIONS" ), 0 )
	Instructions:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	Instructions:SetAlignment( LUI.Alignment.Center )
	Instructions:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 130, _1080p * -130, _1080p * 299, _1080p * 323 )
	self:addElement( Instructions )
	self.Instructions = Instructions
	
	local InstructionsHorz = nil
	
	InstructionsHorz = LUI.UIText.new()
	InstructionsHorz.id = "InstructionsHorz"
	InstructionsHorz:SetRGBFromTable( SWATCHES.genericMenu.mainTitle, 0 )
	InstructionsHorz:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_HORZ" ), 0 )
	InstructionsHorz:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	InstructionsHorz:SetAlignment( LUI.Alignment.Center )
	InstructionsHorz:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 429, _1080p * 465 )
	self:addElement( InstructionsHorz )
	self.InstructionsHorz = InstructionsHorz
	
	local AdjustLeftButton = nil
	
	AdjustLeftButton = LUI.UIText.new()
	AdjustLeftButton.id = "AdjustLeftButton"
	AdjustLeftButton:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_LEFT_BUTTON" ), 0 )
	AdjustLeftButton:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	AdjustLeftButton:SetAlignment( LUI.Alignment.Center )
	AdjustLeftButton:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -250, _1080p * -2, _1080p * -47, _1080p * 13 )
	self:addElement( AdjustLeftButton )
	self.AdjustLeftButton = AdjustLeftButton
	
	local AdjustLeftText = nil
	
	AdjustLeftText = LUI.UIText.new()
	AdjustLeftText.id = "AdjustLeftText"
	AdjustLeftText:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_LEFT_TEXT" ), 0 )
	AdjustLeftText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	AdjustLeftText:SetAlignment( LUI.Alignment.Center )
	AdjustLeftText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -250, _1080p * -2, _1080p * 21, _1080p * 41 )
	self:addElement( AdjustLeftText )
	self.AdjustLeftText = AdjustLeftText
	
	local AdjustRightButton = nil
	
	AdjustRightButton = LUI.UIText.new()
	AdjustRightButton.id = "AdjustRightButton"
	AdjustRightButton:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_RIGHT_BUTTON" ), 0 )
	AdjustRightButton:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	AdjustRightButton:SetAlignment( LUI.Alignment.Center )
	AdjustRightButton:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 2, _1080p * 250, _1080p * -47, _1080p * 13 )
	self:addElement( AdjustRightButton )
	self.AdjustRightButton = AdjustRightButton
	
	local AdjustRightText = nil
	
	AdjustRightText = LUI.UIText.new()
	AdjustRightText.id = "AdjustRightText"
	AdjustRightText:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_RIGHT_TEXT" ), 0 )
	AdjustRightText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	AdjustRightText:SetAlignment( LUI.Alignment.Center )
	AdjustRightText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 2, _1080p * 250, _1080p * 21, _1080p * 41 )
	self:addElement( AdjustRightText )
	self.AdjustRightText = AdjustRightText
	
	local InstructionsVert = nil
	
	InstructionsVert = LUI.UIText.new()
	InstructionsVert.id = "InstructionsVert"
	InstructionsVert:SetRGBFromTable( SWATCHES.genericMenu.mainTitle, 0 )
	InstructionsVert:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_VERT" ), 0 )
	InstructionsVert:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	InstructionsVert:SetAlignment( LUI.Alignment.Center )
	InstructionsVert:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 654, _1080p * 690 )
	self:addElement( InstructionsVert )
	self.InstructionsVert = InstructionsVert
	
	local AdjustTopButton = nil
	
	AdjustTopButton = LUI.UIText.new()
	AdjustTopButton.id = "AdjustTopButton"
	AdjustTopButton:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_UP_BUTTON" ), 0 )
	AdjustTopButton:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	AdjustTopButton:SetAlignment( LUI.Alignment.Center )
	AdjustTopButton:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -250, _1080p * -2, _1080p * 167, _1080p * 227 )
	self:addElement( AdjustTopButton )
	self.AdjustTopButton = AdjustTopButton
	
	local AdjustTopText = nil
	
	AdjustTopText = LUI.UIText.new()
	AdjustTopText.id = "AdjustTopText"
	AdjustTopText:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_UP_TEXT" ), 0 )
	AdjustTopText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	AdjustTopText:SetAlignment( LUI.Alignment.Center )
	AdjustTopText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -250, _1080p * -2, _1080p * 234, _1080p * 254 )
	self:addElement( AdjustTopText )
	self.AdjustTopText = AdjustTopText
	
	local AdjustBottomButton = nil
	
	AdjustBottomButton = LUI.UIText.new()
	AdjustBottomButton.id = "AdjustBottomButton"
	AdjustBottomButton:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_DOWN_BUTTON" ), 0 )
	AdjustBottomButton:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	AdjustBottomButton:SetAlignment( LUI.Alignment.Center )
	AdjustBottomButton:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 2, _1080p * 250, _1080p * 167, _1080p * 227 )
	self:addElement( AdjustBottomButton )
	self.AdjustBottomButton = AdjustBottomButton
	
	local AdjustBottomText = nil
	
	AdjustBottomText = LUI.UIText.new()
	AdjustBottomText.id = "AdjustBottomText"
	AdjustBottomText:setText( Engine.CBBHFCGDIC( "MENU/ADJUST_SAFE_AREA_DOWN_TEXT" ), 0 )
	AdjustBottomText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	AdjustBottomText:SetAlignment( LUI.Alignment.Center )
	AdjustBottomText:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 2, _1080p * 250, _1080p * 234, _1080p * 254 )
	self:addElement( AdjustBottomText )
	self.AdjustBottomText = AdjustBottomText
	
	local ContinueButton = nil
	
	ContinueButton = MenuBuilder.BuildRegisteredType( "GenericButton", {
		controllerIndex = f1_local1
	} )
	ContinueButton.id = "ContinueButton"
	ContinueButton.Text:SetLeft( _1080p * 20, 0 )
	ContinueButton.Text:setText( Engine.CBBHFCGDIC( "MENU/APPLY" ), 0 )
	ContinueButton.Text:SetAlignment( LUI.Alignment.Center )
	ContinueButton:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -210, _1080p * 210, _1080p * 866, _1080p * 904 )
	self:addElement( ContinueButton )
	self.ContinueButton = ContinueButton
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	Instructions:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 299
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 329
		}
	} )
	AdjustLeftButton:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -38
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -8
		}
	} )
	AdjustRightButton:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * -38
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * -8
		}
	} )
	AdjustTopButton:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 175
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 205
		}
	} )
	AdjustBottomButton:RegisterAnimationSequence( "AR", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 175
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 205
		}
	} )
	self._sequences.AR = function ()
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
		menu:AnimateSequence( "AR" )
	end
	
	AdjustLeftButton:RegisterAnimationSequence( "KBM", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -230
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 18
		}
	} )
	AdjustRightButton:RegisterAnimationSequence( "KBM", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 22
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 270
		}
	} )
	AdjustTopButton:RegisterAnimationSequence( "KBM", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -230
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 18
		}
	} )
	AdjustBottomButton:RegisterAnimationSequence( "KBM", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 22
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 270
		}
	} )
	self._sequences.KBM = function ()
		menu:AnimateSequence( "KBM" )
		menu:AnimateSequence( "KBM" )
		menu:AnimateSequence( "KBM" )
		menu:AnimateSequence( "KBM" )
	end
	
	AdjustLeftButton:RegisterAnimationSequence( "Gamepad", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -2
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -250
		}
	} )
	AdjustRightButton:RegisterAnimationSequence( "Gamepad", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 250
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 2
		}
	} )
	AdjustTopButton:RegisterAnimationSequence( "Gamepad", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -2
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -250
		}
	} )
	AdjustBottomButton:RegisterAnimationSequence( "Gamepad", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 250
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 2
		}
	} )
	self._sequences.Gamepad = function ()
		menu:AnimateSequence( "Gamepad" )
		menu:AnimateSequence( "Gamepad" )
		menu:AnimateSequence( "Gamepad" )
		menu:AnimateSequence( "Gamepad" )
	end
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "ScreenMargins", ScreenMargins )
LockTable( _M )
