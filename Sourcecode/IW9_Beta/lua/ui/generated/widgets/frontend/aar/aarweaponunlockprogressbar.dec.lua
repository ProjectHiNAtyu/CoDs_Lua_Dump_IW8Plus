-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
module( ..., package.seeall )
local f0_local0 = 0
local f0_local1 = 610
local f0_local2 = -13
local f0_local3 = 0
local f0_local4 = 28
local f0_local5 = -20
local f0_local6 = 8
local f0_local7 = function ( f14_arg0 )
	local f14_local0 = PROGRESSION.GetWeaponLevelMinXP( f14_arg0._controllerIndex, f14_arg0.weaponRef, f14_arg0.startLevel )
	local f14_local1 = (f0_local0 - f0_local0) * (f14_arg0.startXP - f14_local0) / (PROGRESSION.GetWeaponLevelMinXP( f14_arg0._controllerIndex, f14_arg0.weaponRef, f14_arg0.startLevel + 1 ) - f14_local0) + f0_local0
	f14_arg0.ProgressionGrayBar:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * f14_local1, _1080p * f14_local1, _1080p * f0_local0, _1080p * f0_local0 )
	f14_arg0.ProgressionGreenBar:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * f0_local0, _1080p * f14_local1, _1080p * f0_local0, _1080p * f0_local0 )
	f14_arg0.ProgressionChevron:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * (f14_local1 - f0_local0 * 0.5), _1080p * (f14_local1 + f0_local0 * 0.5), _1080p * f0_local0, _1080p * f0_local0 )
end

local f0_local8 = function ( f13_arg0, f13_arg1 )
	f13_arg0.ProgressionGrayBar:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * f0_local0, _1080p * f0_local0, _1080p * f0_local0, _1080p * f0_local0 )
	f13_arg0.ProgressionGreenBar:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * f0_local0, _1080p * f0_local0, _1080p * f0_local0, _1080p * f0_local0, f13_arg1 )
	f13_arg0.ProgressionChevron:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * (f0_local0 - f0_local0 * 0.5), _1080p * (f0_local0 + f0_local0 * 0.5), _1080p * f0_local0, _1080p * f0_local0, f13_arg1 )
end

local f0_local9 = function ( f12_arg0, f12_arg1 )
	local f12_local0 = PROGRESSION.GetWeaponLevelMinXP( f12_arg0._controllerIndex, f12_arg0.weaponRef, f12_arg0.startLevel )
	local f12_local1 = (f0_local0 - f0_local0) * (f12_arg0.currentXP - f12_local0) / (PROGRESSION.GetWeaponLevelMinXP( f12_arg0._controllerIndex, f12_arg0.weaponRef, f12_arg0.startLevel + 1 ) - f12_local0) + f0_local0
	f12_arg0.ProgressionGrayBar:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * f12_local1, _1080p * f12_local1, _1080p * f0_local0, _1080p * f0_local0, f12_arg1 )
	f12_arg0.ProgressionGreenBar:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * f0_local0, _1080p * f12_local1, _1080p * f0_local0, _1080p * f0_local0, f12_arg1 )
	f12_arg0.ProgressionChevron:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * (f12_local1 - f0_local0 * 0.5), _1080p * (f12_local1 + f0_local0 * 0.5), _1080p * f0_local0, _1080p * f0_local0, f12_arg1 )
end

local f0_local10 = function ( f11_arg0, f11_arg1 )
	f11_arg0.weaponRef = f11_arg1.weaponRef
	f11_arg0.startLevel = f11_arg1.startLevel
	f11_arg0.currentLevel = f11_arg1.currentLevel
	f11_arg0.startXP = f11_arg1.startXP
	f11_arg0.earnedXP = f11_arg1.currentXP - f11_arg1.startXP
	f11_arg0.currentXP = f11_arg1.currentXP
	f11_arg0.CurrentLevelLabel:setText( tostring( f11_arg1.startLevel + 1 ) )
	f11_arg0.NextLevelLabel:setText( tostring( f11_arg1.startLevel + 2 ) )
	if PROGRESSION.GetMaxWeaponLevel( f11_arg0.weaponRef ) == f11_arg1.startLevel then
		ACTIONS.AnimateSequence( f11_arg0, "MaxRank" )
	end
	f0_local0( f11_arg0, f11_arg1.weaponRef, f11_arg1.startLevel, f11_arg1.startXP )
end

local f0_local11 = function ( f10_arg0, f10_arg1 )
	f10_arg0.SparksGFX:Play( {
		reset = true
	} )
	ACTIONS.AnimateSequence( f10_arg0, "HideThenFadeIn" )
	local f10_local0 = PROGRESSION.GetMaxWeaponLevel( f10_arg0.weaponRef )
	local f10_local1 = 1
	if f10_arg1 < f10_local0 then
		local f10_local2 = PROGRESSION.GetWeaponLevelMinXP( f10_arg0._controllerIndex, f10_arg0.weaponRef, f10_arg1 )
		f10_local1 = (f10_arg0.currentXP - f10_local2) / (PROGRESSION.GetWeaponLevelMinXP( f10_arg0._controllerIndex, f10_arg0.weaponRef, f10_arg1 + 1 ) - f10_local2)
	else
		ACTIONS.AnimateSequence( f10_arg0, "MaxRank" )
	end
	local f10_local2 = (f0_local0 - f0_local0) * f10_local1 + f0_local0
	f10_arg0.CurrentLevelLabel:setText( tostring( f10_arg1 + 1 ) )
	f10_arg0.NextLevelLabel:setText( tostring( f10_arg1 + 2 ) )
	f10_arg0.ProgressionGrayBar:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * f10_local2, _1080p * f10_local2, _1080p * f0_local0, _1080p * f0_local0 )
	f10_arg0.ProgressionGreenBar:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * f0_local0, _1080p * f10_local2, _1080p * f0_local0, _1080p * f0_local0 )
	f10_arg0.ProgressionChevron:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * (f10_local2 - f0_local0 * 0.5), _1080p * (f10_local2 + f0_local0 * 0.5), _1080p * f0_local0, _1080p * f0_local0 )
end

local f0_local12 = function ( f9_arg0, f9_arg1 )
	local f9_local0 = PROGRESSION.GetWeaponLevelMinXP( f9_arg0._controllerIndex, f9_arg0.weaponRef, f9_arg0.startLevel )
	local f9_local1 = PROGRESSION.GetWeaponLevelMinXP( f9_arg0._controllerIndex, f9_arg0.weaponRef, f9_arg0.startLevel + 1 )
	local f9_local2 = (f9_arg0.startXP - f9_local0) / (f9_local1 - f9_local0)
	local f9_local3 = (f9_arg0.startXP + f9_arg0.earnedXP - f9_local0) / (f9_local1 - f9_local0)
	if 1 < f9_local3 then
		f9_local3 = 1
	end
	f9_arg0.ProgressionGrayBar:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * ((f0_local0 - f0_local0) * f9_local2 + f0_local0), _1080p * ((f0_local0 - f0_local0) * f9_local3 + f0_local0), _1080p * f0_local0, _1080p * f0_local0, f9_arg1 )
end

local f0_local13 = function ( f8_arg0, f8_arg1 )
	local f8_local0 = PROGRESSION.GetMaxWeaponLevel( f8_arg0.weaponRef ) == f8_arg1
	if f8_arg1 == f8_arg0.currentLevel then
		f8_arg0:ResetProgressBar( f8_arg1 )
	else
		ACTIONS.AnimateSequence( f8_arg0, "Reset" )
	end
	f8_arg0.CurrentLevelLabel:setText( tostring( f8_arg1 + 1 ) )
	f8_arg0.NextLevelLabel:setText( tostring( f8_arg1 + 2 ) )
	if f8_local0 then
		ACTIONS.AnimateSequence( f8_arg0, "MaxRank" )
	end
end

local f0_local14 = function ( f7_arg0, f7_arg1 )
	f7_arg0._controllerIndex = f7_arg1
	f7_arg0.SetupProgressBar = f0_local0
	f7_arg0.MoveGrayBar = f0_local0
	f7_arg0.MoveProgressLineToEnd = f0_local0
	f7_arg0.ResetProgressBar = f0_local0
	f7_arg0.MoveProgressLineToGrayBar = f0_local0
	f7_arg0.ResetToZeroAndLevel = f0_local0
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		local f2_local0 = function ( f6_arg0, f6_arg1 )
			
		end
		
		f2_arg0.ProgressionChevron:RegisterAnimationSequence( "MaxRank", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			}
		} )
		f2_arg0.NextLevelLabel:RegisterAnimationSequence( "MaxRank", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Text,
				value = Engine[0xED84C33EC5F01EA]( 0x64E6E0E7ACCF493 )
			}
		} )
		f2_arg0.MaxIcon:RegisterAnimationSequence( "MaxRank", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Visible
			}
		} )
		local f2_local1 = function ( f5_arg0, f5_arg1 )
			f5_arg0.ProgressionChevron:AnimateSequence( "MaxRank" )
			f5_arg0.NextLevelLabel:AnimateSequence( "MaxRank" )
			f5_arg0.MaxIcon:AnimateSequence( "MaxRank" )
		end
		
		f2_arg0.ProgressionGreenBar:RegisterAnimationSequence( "Reset", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 610
			},
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 0,
				duration = -28,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 0,
				duration = -18,
				property = TWEEN_PROPERTY.Right,
				easing = LUI.EASING.snap
			},
			{
				value = 1,
				duration = -28,
				property = TWEEN_PROPERTY.Alpha,
				easing = LUI.EASING.snap
			}
		} )
		f2_arg0.ProgressionChevron:RegisterAnimationSequence( "Reset", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 598
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 626
			},
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 0,
				duration = -28,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				duration = -18,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * -14,
				easing = LUI.EASING.snap
			},
			{
				duration = -18,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 14,
				easing = LUI.EASING.snap
			},
			{
				value = 1,
				duration = -28,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		local f2_local2 = function ( f4_arg0, f4_arg1 )
			f4_arg0.ProgressionGreenBar:AnimateSequence( "Reset" )
			f4_arg0.ProgressionChevron:AnimateSequence( "Reset" )
		end
		
		f2_arg0.ProgressionChevron:RegisterAnimationSequence( "HideThenFadeIn", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			},
			{
				duration = 2000,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Visible,
				easing = LUI.EASING.snap
			}
		} )
		f2_arg0.Overlay:RegisterAnimationSequence( "HideThenFadeIn", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Visible
			},
			{
				value = 1,
				duration = 2000,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 0,
				duration = 500,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f2_arg0._sequences = {
			DefaultSequence = f2_local0,
			MaxRank = f2_local1,
			Reset = f2_local2,
			HideThenFadeIn = function ( f3_arg0, f3_arg1 )
				f3_arg0.ProgressionChevron:AnimateSequence( "HideThenFadeIn" )
				f3_arg0.Overlay:AnimateSequence( "HideThenFadeIn" )
			end
		}
		f2_arg0._sequenceLengths = {
			DefaultSequence = 0,
			Reset = 200,
			MaxRank = 0,
			HideThenFadeIn = 2500
		}
	end
}
function AARWeaponUnlockProgressBar( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 610 * _1080p, 0, 36 * _1080p )
	self.id = "AARWeaponUnlockProgressBar"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local ProgressionBackground = nil
	
	ProgressionBackground = LUI.UIImage.new()
	ProgressionBackground.id = "ProgressionBackground"
	ProgressionBackground:SetRGBFromInt( 9015702, 0 )
	ProgressionBackground:SetAlpha( 0.2, 0 )
	ProgressionBackground:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -13, 0 )
	self:addElement( ProgressionBackground )
	self.ProgressionBackground = ProgressionBackground
	
	local Dashes = nil
	
	Dashes = LUI.UIImage.new()
	Dashes.id = "Dashes"
	Dashes:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	Dashes:SetAlpha( 0.15, 0 )
	Dashes:setImage( RegisterMaterial( 0x23A2CB0500CA2AD ), 0 )
	Dashes:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -288, _1080p * 288, _1080p * -15, _1080p * 1 )
	self:addElement( Dashes )
	self.Dashes = Dashes
	
	local ProgressionGrayBar = nil
	
	ProgressionGrayBar = LUI.UIImage.new()
	ProgressionGrayBar.id = "ProgressionGrayBar"
	ProgressionGrayBar:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	ProgressionGrayBar:SetAlpha( 0.3, 0 )
	ProgressionGrayBar:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 200, _1080p * 400, _1080p * -13, 0 )
	self:addElement( ProgressionGrayBar )
	self.ProgressionGrayBar = ProgressionGrayBar
	
	local ProgressionGreenBar = nil
	
	ProgressionGreenBar = LUI.UIImage.new()
	ProgressionGreenBar.id = "ProgressionGreenBar"
	ProgressionGreenBar:SetRGBFromInt( 3574088, 0 )
	ProgressionGreenBar:setImage( RegisterMaterial( 0x783430DC3C95F21 ), 0 )
	ProgressionGreenBar:SetUMin( 1, 0 )
	ProgressionGreenBar:SetUMax( 0, 0 )
	ProgressionGreenBar:SetAnchorsAndPosition( 0, 1, 1, 0, 0, _1080p * 200, _1080p * -13, 0 )
	self:addElement( ProgressionGreenBar )
	self.ProgressionGreenBar = ProgressionGreenBar
	
	local ProgressionChevron = nil
	
	ProgressionChevron = LUI.UIImage.new()
	ProgressionChevron.id = "ProgressionChevron"
	ProgressionChevron:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideAccentMain, 0 )
	ProgressionChevron:setImage( RegisterMaterial( 0xEC0A53BEF583262 ), 0 )
	ProgressionChevron:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 186, _1080p * 214, _1080p * -20, _1080p * 8 )
	self:addElement( ProgressionChevron )
	self.ProgressionChevron = ProgressionChevron
	
	local CurrentLevelLabel = nil
	
	CurrentLevelLabel = LUI.UIStyledText.new()
	CurrentLevelLabel.id = "CurrentLevelLabel"
	CurrentLevelLabel:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideAccentSupport, 0 )
	CurrentLevelLabel:setText( "00", 0 )
	CurrentLevelLabel:SetFont( FONTS.GetFont( FONTS.SecondaryRegular.File ) )
	CurrentLevelLabel:SetFontSize( 24 * _PT )
	CurrentLevelLabel:SetMinFontSize( 24 * _PT )
	CurrentLevelLabel:SetWordWrap( false )
	CurrentLevelLabel:SetAlignment( LUI.Alignment.Right )
	CurrentLevelLabel:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * -70, _1080p * -20, _1080p * -19, _1080p * 5 )
	self:addElement( CurrentLevelLabel )
	self.CurrentLevelLabel = CurrentLevelLabel
	
	local NextLevelLabel = nil
	
	NextLevelLabel = LUI.UIStyledText.new()
	NextLevelLabel.id = "NextLevelLabel"
	NextLevelLabel:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideAccentSupport, 0 )
	NextLevelLabel:setText( "01", 0 )
	NextLevelLabel:SetFont( FONTS.GetFont( FONTS.SecondaryRegular.File ) )
	NextLevelLabel:SetFontSize( 24 * _PT )
	NextLevelLabel:SetMinFontSize( 24 * _PT )
	NextLevelLabel:SetWordWrap( false )
	NextLevelLabel:SetAlignment( LUI.Alignment.Left )
	NextLevelLabel:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * 20, _1080p * 70, _1080p * -19, _1080p * 5 )
	self:addElement( NextLevelLabel )
	self.NextLevelLabel = NextLevelLabel
	
	local Digits = nil
	
	Digits = LUI.UIImage.new()
	Digits.id = "Digits"
	Digits:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideAccentMain, 0 )
	Digits:SetAlpha( 0.25, 0 )
	Digits:setImage( RegisterMaterial( 0x5E942EDED23F775 ), 0 )
	Digits:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -288, _1080p * 288, 0, _1080p * 16 )
	self:addElement( Digits )
	self.Digits = Digits
	
	local MaxIcon = nil
	
	MaxIcon = LUI.UIImage.new()
	MaxIcon.id = "MaxIcon"
	MaxIcon:SetVisibility( LUI.Visibility.Hidden )
	MaxIcon:setImage( RegisterMaterial( 0x218DD512A1DCB69 ), 0 )
	MaxIcon:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -18, _1080p * 18, _1080p * -24, _1080p * 12 )
	self:addElement( MaxIcon )
	self.MaxIcon = MaxIcon
	
	local SparksGFX = nil
	
	SparksGFX = MenuBuilder.BuildRegisteredType( "Sprite", {
		columns = 8,
		playMode = 1,
		playbackRate = 30,
		endingFrame = 0,
		rows = 8,
		material = "aar_gfx_unlocks_sparks",
		startingFrame = 1,
		controllerIndex = f1_local1
	} )
	SparksGFX.id = "SparksGFX"
	SparksGFX:SetBlendMode( BLEND_MODE.addWithAlpha )
	SparksGFX:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -277, _1080p * 323, _1080p * -70, _1080p * 30 )
	self:addElement( SparksGFX )
	self.SparksGFX = SparksGFX
	
	local Overlay = nil
	
	Overlay = LUI.UIImage.new()
	Overlay.id = "Overlay"
	Overlay:SetVisibility( LUI.Visibility.Hidden )
	Overlay:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -13, 0 )
	self:addElement( Overlay )
	self.Overlay = Overlay
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "AARWeaponUnlockProgressBar", AARWeaponUnlockProgressBar )
LockTable( _M )
