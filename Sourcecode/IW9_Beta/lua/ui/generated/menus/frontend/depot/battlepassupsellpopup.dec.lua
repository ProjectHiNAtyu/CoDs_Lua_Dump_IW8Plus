-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
module( ..., package.seeall )
require( "ui.generated.widgets.genericpopupwindow" )
require( "ui.generated.widgets.frontend.mp.mpplayerdetails" )
require( "ui.generated.widgets.frontend.depot.battlepassbutton" )
require( "ui.generated.widgets.labelwithlock" )
require( "ui.generated.widgets.buttonhelperbar" )
local f0_local0 = function ( f6_arg0, f6_arg1, f6_arg2 )
	assert( f6_arg0.PurchaseButton )
	assert( f6_arg0.LeaveButton )
	f6_arg0._currentSeason = SEASON.GetCurrentSeason()
	if f6_arg0._currentSeason and f6_arg0._currentSeason == 5 then
		ACTIONS.AnimateSequence( f6_arg0, "S5" )
	end
	BATTLEPASS.MarkPassSeenForSeason( f6_arg1, f6_arg0._currentSeason )
	f6_arg0.Title:setText( Engine[0xED84C33EC5F01EA]( 0x319AD9977E62E02, SEASON.GetName( f6_arg0._currentSeason ) ) )
	local f6_local0 = {
		{
			tier = 18,
			isTopAligned = false,
			element = f6_arg0.LabelLeft1,
			alignment = LUI.Alignment.Right
		},
		{
			tier = 38,
			isTopAligned = false,
			element = f6_arg0.LabelLeft2,
			alignment = LUI.Alignment.Right
		},
		{
			tier = 51,
			isTopAligned = false,
			element = f6_arg0.LabelLeft3,
			alignment = LUI.Alignment.Right
		},
		{
			tier = 59,
			isTopAligned = false,
			element = f6_arg0.LabelRight1,
			alignment = LUI.Alignment.Left
		},
		{
			tier = -47,
			isTopAligned = false,
			element = f6_arg0.LabelRight2,
			alignment = LUI.Alignment.Left
		},
		{
			tier = -39,
			isTopAligned = false,
			element = f6_arg0.LabelRight3,
			alignment = LUI.Alignment.Left
		},
		{
			isSpecial = true,
			tier = -43,
			element = f6_arg0.SpecialLeft,
			alignment = LUI.Alignment.Right
		},
		{
			subTier = 2,
			tier = -28,
			isSpecial = true,
			element = f6_arg0.SpecialRight,
			alignment = LUI.Alignment.Left
		}
	}
	for f6_local1 = 1, #f6_local0, 1 do
		f6_local0[f6_local1].element:SetupTier( f6_arg1, f6_local0[f6_local1] )
	end
	assert( f6_arg2.sourceMenu )
	if f6_arg2.sourceMenu.GetPurchaseAction and not BATTLEPASS.IsOwned( f6_arg1 ) then
		f6_arg0.PurchaseButton:addEventHandler( "button_action", function ( f11_arg0, f11_arg1 )
			LUI.FlowManager.RequestPopupMenu( f6_arg0, "BattlePassPurchasePopup", false, f11_arg1.controller, true, {
				sourceMenu = f6_arg0,
				purchaseAction = f6_arg0:GetPurchaseAction( BATTLEPASS.GetPurchaseRef() ),
				backLeavesBPMenuPopup = f6_arg0.backLeavesBPMenuPopup
			} )
		end )
		f6_arg0.PurchaseButton:addEventHandler( "button_over", function ( f10_arg0, f10_arg1 )
			ACTIONS.AnimateSequence( f6_arg0.PurchaseButton, "ButtonOverGlint" )
			ACTIONS.AnimateSequence( f6_arg0.PurchaseButton, "AnimateGlow" )
		end )
		f6_arg0.PurchaseButton:addEventHandler( "button_up", function ( f9_arg0, f9_arg1 )
			ACTIONS.AnimateSequence( f6_arg0.PurchaseButton, "ButtonUpGlint" )
			ACTIONS.AnimateSequence( f6_arg0.PurchaseButton, "StopGlow" )
		end )
		ACTIONS.AnimateSequence( f6_arg0.PurchaseButton, "Glint" )
	else
		f6_arg0.PurchaseButton:closeTree()
		f6_arg0.PurchaseButton = nil
	end
	local f6_local2 = function ( f8_arg0, f8_arg1 )
		if f6_arg0.AnimateXPEarned then
			f6_arg0:AnimateXPEarned()
		end
		ACTIONS.LeaveMenu( f6_arg0 )
		if f6_arg0.backLeavesBPMenuPopup and CONDITIONS.IsMenuInStack( "BattlePassMenuPopup" ) then
			LUI.FlowManager.RequestLeaveMenuByName( "BattlePassMenuPopup", true )
		end
	end
	
	f6_arg0.LeaveButton:addEventHandler( "button_action", f6_local2 )
	f6_arg0.bindButton:addEventHandler( "button_secondary", f6_local2 )
	if BATTLEPASS.SHOW_TRAILER_PROMPT then
		f6_arg0.bindButton:addEventHandler( "button_alt1", function ( f7_arg0, f7_arg1 )
			BATTLEPASS.ShowBPTrailer( f6_arg0 )
		end )
		f6_arg0.ButtonHelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "left",
			button_ref = "button_alt1",
			priority = 2,
			helper_text = Engine[0xED84C33EC5F01EA]( 0xFB9CE0912D89487, f6_arg0._currentSeason )
		} )
	end
	ACTIONS.ScaleFullscreen( f6_arg0.Background )
end

States = {
	[0xAD14C6E7156B923] = function ( f3_arg0, f3_arg1 )
		local f3_local0 = function ( f5_arg0, f5_arg1 )
			
		end
		
		f3_arg0.SparksLeft:RegisterAnimationSequence( "S5", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Material,
				value = RegisterMaterial( "battlepass_sparks_s5" )
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Blend_Mode,
				value = BLEND_MODE.blend
			}
		} )
		f3_arg0.SparksRight:RegisterAnimationSequence( "S5", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Material,
				value = RegisterMaterial( "battlepass_sparks_s5" )
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Blend_Mode,
				value = BLEND_MODE.blend
			}
		} )
		f3_arg0._sequences = {
			DefaultSequence = f3_local0,
			S5 = function ( f4_arg0, f4_arg1 )
				f4_arg0.SparksLeft:AnimateSequence( "S5" )
				f4_arg0.SparksRight:AnimateSequence( "S5" )
			end
		}
		f3_arg0._sequenceLengths = {
			DefaultSequence = 0,
			S5 = 0
		}
	end
}
function BattlePassUpsellPopup( menu, controller )
	local self = LUI.UIVerticalNavigator.new()
	self.id = "BattlePassUpsellPopup"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromInt( 0, 0 )
	Background:SetAlpha( 0.9, 0 )
	self:addElement( Background )
	self.Background = Background
	
	local GenericPopupWindow = nil
	
	GenericPopupWindow = MenuBuilder.BuildRegisteredType( "GenericPopupWindow", {
		controllerIndex = f1_local1
	} )
	GenericPopupWindow.id = "GenericPopupWindow"
	GenericPopupWindow.PopupBackground:SetRGBFromTable( SWATCHES.BattlePass.ShadowDark, 0 )
	GenericPopupWindow:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -856, _1080p * 856, _1080p * -361, _1080p * 433 )
	self:addElement( GenericPopupWindow )
	self.GenericPopupWindow = GenericPopupWindow
	
	local PreviewImage = nil
	
	PreviewImage = LUI.UIImage.new()
	PreviewImage.id = "PreviewImage"
	PreviewImage:setImage( RegisterMaterial( 0xBDAF2B83C7A838E ), 0 )
	PreviewImage:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -854, _1080p * 854, _1080p * -359, _1080p * 431 )
	self:addElement( PreviewImage )
	self.PreviewImage = PreviewImage
	
	local Title = nil
	
	Title = LUI.UIText.new()
	Title.id = "Title"
	Title:SetRGBFromTable( SWATCHES.BattlePass.PopupTitle, 0 )
	Title:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x1335B8FCD34C968 ) ), 0 )
	Title:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	Title:SetFontSize( 70 * _PT )
	Title:SetMinFontSize( 18 * _PT )
	Title:SetWordWrap( false )
	Title:SetAlignment( LUI.Alignment.Left )
	Title:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -855, _1080p * -235, _1080p * -440, _1080p * -370 )
	self:addElement( Title )
	self.Title = Title
	
	local f1_local7 = nil
	if CONDITIONS.IsUserSignedInDemonware( f1_local1 ) then
		f1_local7 = MenuBuilder.BuildRegisteredType( "MPPlayerDetails", {
			controllerIndex = f1_local1
		} )
		f1_local7.id = "MPPlayerDetails"
		f1_local7:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -596, _1080p * -96, _1080p * 54, _1080p * 114 )
		self:addElement( f1_local7 )
		self.MPPlayerDetails = f1_local7
	end
	local SparksLeft = nil
	
	SparksLeft = LUI.UIImage.new()
	SparksLeft.id = "SparksLeft"
	SparksLeft:setImage( RegisterMaterial( 0x100EBB28F079434 ), 0 )
	SparksLeft:SetBlendMode( BLEND_MODE.addWithAlpha )
	SparksLeft:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1171, _1080p * 1361, _1080p * 706, _1080p * 894 )
	self:addElement( SparksLeft )
	self.SparksLeft = SparksLeft
	
	local SparksRight = nil
	
	SparksRight = LUI.UIImage.new()
	SparksRight.id = "SparksRight"
	SparksRight:setImage( RegisterMaterial( 0x100EBB28F079434 ), 0 )
	SparksRight:SetBlendMode( BLEND_MODE.addWithAlpha )
	SparksRight:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 753, _1080p * 565, _1080p * 712, _1080p * 900 )
	self:addElement( SparksRight )
	self.SparksRight = SparksRight
	
	local PurchaseButton = nil
	
	PurchaseButton = MenuBuilder.BuildRegisteredType( "BattlePassButton", {
		controllerIndex = f1_local1
	} )
	PurchaseButton.id = "PurchaseButton"
	PurchaseButton.Text:setText( Engine[0xED84C33EC5F01EA]( 0xCF746F3A16519AC ), 0 )
	PurchaseButton.Text:SetAlignment( LUI.Alignment.Center )
	PurchaseButton:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, _1080p * 749, _1080p * 1171, _1080p * 216, _1080p * 266 )
	self:addElement( PurchaseButton )
	self.PurchaseButton = PurchaseButton
	
	local LeaveButton = nil
	
	LeaveButton = MenuBuilder.BuildRegisteredType( "BattlePassButton", {
		controllerIndex = f1_local1
	} )
	LeaveButton.id = "LeaveButton"
	LeaveButton.Text:setText( Engine[0xED84C33EC5F01EA]( 0x3FCC40EAAED1B0F ), 0 )
	LeaveButton.Text:SetAlignment( LUI.Alignment.Center )
	LeaveButton:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, _1080p * 749, _1080p * 1171, _1080p * 279, _1080p * 329 )
	self:addElement( LeaveButton )
	self.LeaveButton = LeaveButton
	
	local LabelLeft1 = nil
	
	LabelLeft1 = MenuBuilder.BuildRegisteredType( "LabelWithLock", {
		controllerIndex = f1_local1
	} )
	LabelLeft1.id = "LabelLeft1"
	LabelLeft1.Tier:setText( Engine[0xED84C33EC5F01EA]( 0x7C65E38BE8395F4 ), 0 )
	LabelLeft1.ItemName:setText( Engine[0xED84C33EC5F01EA]( 0xC4532F284DD87C6 ), 0 )
	LabelLeft1:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -806, _1080p * -510, _1080p * -210, _1080p * -172 )
	self:addElement( LabelLeft1 )
	self.LabelLeft1 = LabelLeft1
	
	local LabelLeft2 = nil
	
	LabelLeft2 = MenuBuilder.BuildRegisteredType( "LabelWithLock", {
		controllerIndex = f1_local1
	} )
	LabelLeft2.id = "LabelLeft2"
	LabelLeft2.Tier:setText( Engine[0xED84C33EC5F01EA]( 0x7C65E38BE8395F4 ), 0 )
	LabelLeft2.ItemName:setText( Engine[0xED84C33EC5F01EA]( 0xC4532F284DD87C6 ), 0 )
	LabelLeft2:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -755, _1080p * -459, _1080p * -100, _1080p * -62 )
	self:addElement( LabelLeft2 )
	self.LabelLeft2 = LabelLeft2
	
	local LabelLeft3 = nil
	
	LabelLeft3 = MenuBuilder.BuildRegisteredType( "LabelWithLock", {
		controllerIndex = f1_local1
	} )
	LabelLeft3.id = "LabelLeft3"
	LabelLeft3.Tier:setText( Engine[0xED84C33EC5F01EA]( 0x7C65E38BE8395F4 ), 0 )
	LabelLeft3.ItemName:setText( Engine[0xED84C33EC5F01EA]( 0xC4532F284DD87C6 ), 0 )
	LabelLeft3:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -708, _1080p * -412, _1080p * 11, _1080p * 49 )
	self:addElement( LabelLeft3 )
	self.LabelLeft3 = LabelLeft3
	
	local LabelRight1 = nil
	
	LabelRight1 = MenuBuilder.BuildRegisteredType( "LabelWithLock", {
		controllerIndex = f1_local1
	} )
	LabelRight1.id = "LabelRight1"
	LabelRight1.Tier:setText( Engine[0xED84C33EC5F01EA]( 0x7C65E38BE8395F4 ), 0 )
	LabelRight1.ItemName:setText( Engine[0xED84C33EC5F01EA]( 0xC4532F284DD87C6 ), 0 )
	LabelRight1:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 506, _1080p * 802, _1080p * -210, _1080p * -172 )
	self:addElement( LabelRight1 )
	self.LabelRight1 = LabelRight1
	
	local LabelRight2 = nil
	
	LabelRight2 = MenuBuilder.BuildRegisteredType( "LabelWithLock", {
		controllerIndex = f1_local1
	} )
	LabelRight2.id = "LabelRight2"
	LabelRight2.Tier:setText( Engine[0xED84C33EC5F01EA]( 0x7C65E38BE8395F4 ), 0 )
	LabelRight2.ItemName:setText( Engine[0xED84C33EC5F01EA]( 0xC4532F284DD87C6 ), 0 )
	LabelRight2:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 457, _1080p * 753, _1080p * -100, _1080p * -62 )
	self:addElement( LabelRight2 )
	self.LabelRight2 = LabelRight2
	
	local LabelRight3 = nil
	
	LabelRight3 = MenuBuilder.BuildRegisteredType( "LabelWithLock", {
		controllerIndex = f1_local1
	} )
	LabelRight3.id = "LabelRight3"
	LabelRight3.Tier:setText( Engine[0xED84C33EC5F01EA]( 0x7C65E38BE8395F4 ), 0 )
	LabelRight3.ItemName:setText( Engine[0xED84C33EC5F01EA]( 0xC4532F284DD87C6 ), 0 )
	LabelRight3:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 408, _1080p * 704, _1080p * 11, _1080p * 49 )
	self:addElement( LabelRight3 )
	self.LabelRight3 = LabelRight3
	
	local SpecialLeft = nil
	
	SpecialLeft = MenuBuilder.BuildRegisteredType( "LabelWithLock", {
		controllerIndex = f1_local1
	} )
	SpecialLeft.id = "SpecialLeft"
	SpecialLeft.Tier:setText( Engine[0xED84C33EC5F01EA]( 0x7C65E38BE8395F4 ), 0 )
	SpecialLeft.ItemName:setText( Engine[0xED84C33EC5F01EA]( 0xC4532F284DD87C6 ), 0 )
	SpecialLeft:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -665, _1080p * -361, _1080p * 135, _1080p * 156 )
	self:addElement( SpecialLeft )
	self.SpecialLeft = SpecialLeft
	
	local SpecialRight = nil
	
	SpecialRight = MenuBuilder.BuildRegisteredType( "LabelWithLock", {
		controllerIndex = f1_local1
	} )
	SpecialRight.id = "SpecialRight"
	SpecialRight.Tier:setText( Engine[0xED84C33EC5F01EA]( 0x7C65E38BE8395F4 ), 0 )
	SpecialRight.ItemName:setText( Engine[0xED84C33EC5F01EA]( 0xC4532F284DD87C6 ), 0 )
	SpecialRight:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * 359, _1080p * 667, _1080p * 135, _1080p * 156 )
	self:addElement( SpecialRight )
	self.SpecialRight = SpecialRight
	
	local ButtonHelperBar = nil
	
	ButtonHelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	ButtonHelperBar.id = "ButtonHelperBar"
	ButtonHelperBar.Background:SetAlpha( 0, 0 )
	ButtonHelperBar:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -864, _1080p * 864, _1080p * 433, _1080p * 493 )
	self:addElement( ButtonHelperBar )
	self.ButtonHelperBar = ButtonHelperBar
	
	self.addButtonHelperFunction = function ( f2_arg0, f2_arg1 )
		f2_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine[0xED84C33EC5F01EA]( 0x678DCE0E97FD19C )
		} )
		f2_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_primary",
			priority = 1,
			helper_text = Engine[0xED84C33EC5F01EA]( 0x7D9DC9E3291E103 )
		} )
	end
	
	self:addEventHandler( "menu_create", self.addButtonHelperFunction )
	if not self.bindButton then
		local f1_local21 = LUI.UIBindButton.new()
		f1_local21.id = "selfBindButton"
		self:addElement( f1_local21 )
		self.bindButton = f1_local21
	end
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "BattlePassUpsellPopup", BattlePassUpsellPopup )
LockTable( _M )
