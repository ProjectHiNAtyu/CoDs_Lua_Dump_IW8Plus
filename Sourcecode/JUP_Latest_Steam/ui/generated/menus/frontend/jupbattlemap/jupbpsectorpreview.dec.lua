-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbattlemapdioramarotationsetupwidget" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbpitemdetails" )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbpinspectpanel" )
require( "ui.generated.widgets.frontend.mp.cas.previewweaponprompt" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbpstatus" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbppurchasebutton" )
require( "ui.generated.widgets.frontend.jupbattlemap.jupbattlemapcinematicframe" )
local f0_local0 = function ()
	BATTLEMAP.SendBattleMapSectorItemDetailDlogEvent( Engine[0x45B054C920178E9]() )
end

local f0_local1 = {
	GAMEPAD = 2,
	MOUSE = 1
}
local f0_local2 = {
	AMBIENT = 1,
	UNLOCK = 2
}
local f0_local3 = {
	RIGHT = 2,
	LEFT = 1,
	NONE = 0
}
local f0_local4 = 500
local f0_local5 = 50
local f0_local6 = "button_l3"
local f0_local7 = "ui_bp_rewards_popup_topo_bg_jup"
local f0_local8 = 300
local f0_local9 = 1500
local f0_local10 = 800
local f0_local11 = 700
local f0_local12 = 500
local f0_local13 = 1000
local f0_local14 = "mp_frontend_iw9_bundle"
local f0_local15 = "snapshotgrenade"
local f0_local16 = 2000
local f0_local17 = 255
local f0_local18 = "150 Trophies"
local f0_local19 = function ( f78_arg0 )
	return BATTLEMAP.GetBaseMenuScopedData( f78_arg0 )
end

local f0_local20 = function ( f77_arg0 )
	local f77_local0 = f0_local0( f77_arg0 )
	if f77_local0.lastFocusedRewardIndex then
		for f77_local4, f77_local5 in ipairs( f77_arg0.InspectPanel._rewardButtons ) do
			f77_local5:processEvent( {
				name = "lose_focus"
			} )
		end
		f77_arg0.InspectPanel._rewardButtons[f77_local0.lastFocusedRewardIndex]:processEvent( {
			name = "gain_focus"
		} )
	end
end

local f0_local21 = function ( f75_arg0, f75_arg1, f75_arg2, f75_arg3, f75_arg4, f75_arg5 )
	local f75_local0 = {}
	if f75_arg2 == f0_local0.UNLOCK then
		local f75_local1 = table.insert
		local f75_local2 = f75_local0
		local f75_local3
		if f75_arg3 then
			f75_local3 = f75_arg1.unlockVfx
			if not f75_local3 then
			
			else
				f75_local1( f75_local2, f75_local3 )
				table.insert( f75_local0, f75_arg1.ambientVfx )
			end
		end
		f75_local3 = f75_arg1.unlockVfxFree
	end
	if f75_arg2 == f0_local0.AMBIENT then
		table.insert( f75_local0, f75_arg1.ambientVfx )
	end
	local f75_local4 = function ()
		if f75_arg0 and 0 < #f75_arg0 then
			local f76_local0, f76_local1 = BATTLEMAP.GetBattlemapModels( f75_arg0 )
			if f76_local0.index then
				for f76_local6, f76_local7 in ipairs( f75_arg0 ) do
					local f76_local8 = String.Split( f76_local7, "." )
					f76_local8 = f76_local8[1]
					if String.IsNilOrEmpty( f76_local8 ) then
						LUI.FlowManager.RequestDevErrorPopup( "BattleMap", "Sector [" .. tostring( f75_arg0._sectorIndex ) .. "] has an invalid unlock/ambient VFX to play, skipping for now" )
					end
					local f76_local5 = ClientModel[0xDDB34362F51CE30]( f76_local0.index, f76_local8, CLIENT_MODEL.defaultTags.TAG_ORIGIN )
					if f76_local5 and 0 < f76_local5 then
						table.insert( f75_arg0._currentVfx, f76_local5 )
					end
				end
			end
		end
	end
	
	f75_local4()
end

local f0_local22 = function ( f74_arg0 )
	if f74_arg0._currentModel and 0 < #f74_arg0._currentVfx then
		for f74_local3, f74_local4 in ipairs( f74_arg0._currentVfx ) do
			ClientModel[0xC9A8C32357F9F52]( f74_arg0._currentModel.index, f74_local4 )
			f74_arg0._currentVfx[f74_local3] = nil
		end
	end
end

local f0_local23 = function ( f73_arg0, f73_arg1, f73_arg2 )
	local f73_local0, f73_local1 = BATTLEMAP.GetBattlemapModels( f73_arg2 )
	local f73_local2 = ""
	local f73_local3 = ""
	local f73_local4 = false
	local f73_local5 = f73_arg2.isBlackCellToggled and LOOT.GetItemRef( f73_arg2.blackCellLootID ) or f73_arg2.lootRef
	local f73_local6 = f73_arg2.isBlackCellToggled and f73_arg2.blackCellLootID or f73_arg2.lootID
	if f73_arg2.lootType == LOOT.itemTypes.OPERATOR_SKIN then
		local f73_local7 = OPERATOR.GetSkinByRef( f73_local5 )
		f73_local2 = f73_local7[0x474931F3A449B2A]
		f73_local4 = not String.IsNilOrEmpty( f73_local2 )
	elseif f73_arg2.lootType == LOOT.itemTypes.WEAPON then
		local f73_local7 = WEAPON.GenerateWeaponTableFromID( f73_arg1, f73_local6 )
		f73_local3 = WEAPON.GetWeaponModelName( f73_local7.weapon, f73_local7, {
			includeStickers = true,
			includeCamos = true,
			includeAttachments = true
		} )
		f73_local4 = not String.IsNilOrEmpty( f73_local3 )
	end
	if f73_local4 then
		local f73_local7 = f73_local0.index
		if f73_local7 then
			f73_local7 = CLIENT_MODEL.IsInitialized()
			if f73_local7 then
				f73_local7 = ClientModel[0x29E992BBC0F43DF]( f73_local0.index )
			end
		end
		if f73_local7 then
			LOOT.SetModelVFX( f73_arg0, f73_local0.index, f73_local2, f73_local3, false, f73_arg2.rewardRef )
		end
	end
end

local f0_local24 = function ( f71_arg0, f71_arg1 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x183A57531A6DDB0 ) then
		CLIENT_MODEL.SetModelHUDOutline( f71_arg0._currentModel, f71_arg1.hudOutline or f0_local0 )
		local f71_local0 = f71_arg0:Wait( f0_local0 )
		f71_local0.onComplete = function ()
			CLIENT_MODEL.DisableHUDOutline( f71_arg0 )
		end
		
	end
end

local f0_local25 = function ( f70_arg0 )
	if not f70_arg0._isBlackCellOwned and (f70_arg0._isBlackcell or f70_arg0._focusedButton and f70_arg0._focusedButton._isBlackCellToggled) then
		ACTIONS.AnimateSequence( f70_arg0.BPStatus, 0xCDFC476E48790C0 )
	elseif not f70_arg0._isPremium and not f70_arg0._isComplete then
		ACTIONS.AnimateSequence( f70_arg0.BPStatus, 0xE214143521A8B4F )
		f70_arg0.BPStatus.StatusText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x533C1EC2ACDE098 ) ), 0 )
	elseif f70_arg0._isPremium and not f70_arg0._isComplete then
		ACTIONS.AnimateSequence( f70_arg0.BPStatus, 0x401D7A2DC706A6C )
		f70_arg0.BPStatus.StatusText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x57D231F21BBBDBB ) ), 0 )
	elseif not f70_arg0._isPremium and f70_arg0._isComplete then
		ACTIONS.AnimateSequence( f70_arg0.BPStatus, 0xE214143521A8B4F )
		f70_arg0.BPStatus.StatusText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x533C1EC2ACDE098 ) ), 0 )
	else
		ACTIONS.AnimateSequence( f70_arg0.BPStatus, 0x4B6BDA855C6FDD1 )
		f70_arg0.BPStatus.StatusText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x3F884854D3D32B9 ) ), 0 )
	end
end

local f0_local26 = function ( f69_arg0, f69_arg1, f69_arg2 )
	if f69_arg0.RotationSetupWidget then
		f69_arg0.RotationSetupWidget:UpdateCameraDefaultPosition( f69_arg1, f69_arg2 )
	end
end

local f0_local27 = function ( f68_arg0, f68_arg1, f68_arg2 )
	if not f68_arg0._focusedButton then
		return 
	else
		local f68_local0
		if f68_arg2 == f0_local0.GAMEPAD then
			f68_local0 = Dvar[0xEDCFC612B39E0C0]( 0x7A7A6A53F7EEA9E )
			if not f68_local0 then
				f68_local0 = 2
			end
		else
			f68_local0 = Dvar[0xEDCFC612B39E0C0]( 0xBA5C25747DBF5A9 ) or 100
		end
	end
	f68_arg1 = f68_local0 * f68_arg1
	local f68_local1 = f68_arg0._focusedButton.unlockData
	local f68_local2 = f68_local1.rotationUpperLimit
	if not f68_local2 then
		f68_local2 = Dvar[0xEDCFC612B39E0C0]( 0x7C0AEE6B0263F12 ) or 70
	end
	local f68_local3 = f68_local1.rotationLowerLimit
	if not f68_local3 then
		f68_local3 = Dvar[0xEDCFC612B39E0C0]( 0x89CC896DB6C6D33 ) or -60
	end
	local f68_local4 = BATTLEMAP.GetBattlemapModels( f68_arg0._focusedButton.unlockData )
	if f68_local4 and f68_local4.index and f68_local4.angles then
		local f68_local5 = ClientModel[0x7FE4C5AFE1F4377]( f68_local4.index, CLIENT_MODEL.defaultTags.INVALID )
		f68_local5.yAngle = LUI.clamp( f68_local5.yAngle + f68_arg1, f68_local4.angles.yAngle + f68_local3, f68_local4.angles.yAngle + f68_local2 )
		ClientModel[0xEFA1738E096A743]( f68_local4.index, f68_local5 )
		if Dvar[0x9E5BE3B4BBA4E0E]( 0x57FF8665C534F4E ) and (f68_local5.yAngle <= f68_local3 or f68_local2 <= f68_local5.yAngle) then
			f68_arg0._directionModifier = f68_arg0._directionModifier * -1
		end
	end
end

local f0_local28 = function ( f66_arg0 )
	f66_arg0.rotationTimer = LUI.UITimer.new( {
		interval = 20,
		event = "modelRotateEvent"
	} )
	f66_arg0.rotationTimer.id = "rotationTimer"
	f66_arg0:addElement( f66_arg0.rotationTimer )
	f66_arg0._directionModifier = 1
	f66_arg0:addEventHandler( "modelRotateEvent", function ( f67_arg0, f67_arg1 )
		if f67_arg0._isRotationPaused and f67_arg0._waitTimer and f67_arg0._waitTimer < 100 then
			f67_arg0._waitTimer = f67_arg0._waitTimer + 20
		else
			f67_arg0._isRotationPaused = false
			if f66_arg0._reachedLimit then
				f66_arg0._directionModifier = f66_arg0._directionModifier * -1
			end
			f67_arg0:RotateDiorama( 0.1 * f66_arg0._directionModifier, f66_arg0.GAMEPAD )
		end
	end )
end

local f0_local29 = function ( f59_arg0 )
	if CONDITIONS[0x2F9F94DF6F92292]() and CONDITIONS.EnableDioramaUpdatePosition() then
		
	else
		
	end
	f59_arg0._lastMouseX = nil
	if not f59_arg0.KbmRotatorZone then
		local f59_local0 = Engine[0x8B8310D828196D1]()
		local DebugMouseRotateZone = LUI.UIButton.new()
		DebugMouseRotateZone.id = "kbmRotatorZone"
		DebugMouseRotateZone:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f59_local0, 147, 797 )
		DebugMouseRotateZone:SetFocusable( false )
		DebugMouseRotateZone:setActionSFX( nil )
		DebugMouseRotateZone:setPriority( -1 )
		f59_arg0:addElement( DebugMouseRotateZone )
		f59_arg0.KbmRotatorZone = DebugMouseRotateZone
		
		LUI.UIMouseCursor.SetAndUpdateEventMouseCursorTypes( DebugMouseRotateZone, f59_arg0._controllerIndex, MouseCursorType.CURSOR_TYPE_MOVE_HOVER, MouseCursorType.CURSOR_TYPE_MOVE_CLICK )
		DebugMouseRotateZone:addEventHandler( "button_action", function ( f65_arg0, f65_arg1 )
			f59_arg0._lastMouseX = nil
		end )
		DebugMouseRotateZone:registerEventHandler( "mousedrag", function ( self, event )
			if f59_arg0._state ~= BATTLEMAP.SectorPreviewState.NORMAL then
				return true
			end
			event.x = event.x
			local f64_local0 = f59_arg0.KbmRotatorZone:GetAnchorsAndPosition()
			if not f59_arg0._lastMouseX or f59_arg0._lastMouseX < f64_local0.left or f64_local0.right < f59_arg0._lastMouseX then
				f59_arg0._lastMouseX = event.x
			end
			f59_arg0._isRotationPaused = true
			f59_arg0._waitTimer = 0
			f59_arg0( f59_arg0, (event.x - f59_arg0._lastMouseX) / f59_arg0, f59_arg0.MOUSE )
			f59_arg0._lastMouseX = event.x
			f59_arg0._isDraggingMouse = true
			return true
		end )
		local f59_local2 = function ( f63_arg0 )
			if f63_arg0 and f63_arg0._isDraggingMouse then
				f63_arg0.KbmRotatorZone:RemoveMouseDrag()
				f63_arg0._isDraggingMouse = false
				f63_arg0._lastMouseX = nil
				return true
			else
				return false
			end
		end
		
		DebugMouseRotateZone:registerEventHandler( "rightmouseup", function ( self, event )
			if f59_arg0( self:getParent() ) then
				return true
			else
				
			end
		end )
		f59_arg0:addEventHandler( "gamepad_button", function ( f61_arg0, f61_arg1 )
			if f59_arg0( f61_arg0 ) then
				return true
			else
				
			end
		end )
		DebugMouseRotateZone:registerEventHandler( "leftmouseup", function ( self, event )
			local f60_local0 = self:getParent()
			if f60_local0 then
				f60_local0._isDraggingMouse = false
				f60_local0._lastMouseX = nil
				return true
			else
				return false
			end
		end )
	end
	if CONDITIONS[0x2F9F94DF6F92292]() and Dvar[0x9E5BE3B4BBA4E0E]( 0x8F1D7C30B0A8807 ) then
		if not f59_arg0.DebugMouseRotateZone then
			local f59_local0 = f59_arg0.KbmRotatorZone:GetAnchorsAndPosition()
			
			local DebugMouseRotateZone = LUI.UIImage.new()
			DebugMouseRotateZone:SetRGB( COLORS[0xF40F029637FECBC] )
			DebugMouseRotateZone:SetAnchorsAndPosition( f59_local0.leftAnchor, f59_local0.rightAnchor, f59_local0.topAnchor, f59_local0.bottomAnchor, f59_local0.left, f59_local0.right, f59_local0.top, f59_local0.bottom )
			DebugMouseRotateZone:SetAlpha( 0.5, 0 )
			f59_arg0:addElement( DebugMouseRotateZone )
			f59_arg0.DebugMouseRotateZone = DebugMouseRotateZone
			
		end
	elseif f59_arg0.DebugMouseRotateZone then
		f59_arg0.DebugMouseRotateZone:closeTree()
		f59_arg0.DebugMouseRotateZone = nil
	end
end

local f0_local30 = function ( f58_arg0 )
	local f58_local0
	if not f58_arg0._needFixUp then
		if f58_arg0._isPremium and f58_arg0._isBlackCellOwned then
			f58_local0 = f58_arg0._isPremium
			if f58_local0 then
				if 0 >= BATTLEMAP.GetTokenMaxAvailable( f58_arg0._controllerIndex, f58_arg0._season ) then
					f58_local0 = false
				end
			else
				f58_arg0._showPurchaseButton = f58_local0
				ACTIONS.AnimateSequence( f58_arg0, f58_arg0._showPurchaseButton and 0x57CE7A3C260217 or 0xC0A83E6107A33A2 )
				f0_local0( f58_arg0 )
			end
		end
		f58_local0 = true
	else
		f58_local0 = false
	end
	f58_arg0._showPurchaseButton = f58_local0
	ACTIONS.AnimateSequence( f58_arg0, f58_arg0._showPurchaseButton and 0x57CE7A3C260217 or 0xC0A83E6107A33A2 )
	f0_local0( f58_arg0 )
end

local f0_local31 = function ( f57_arg0, f57_arg1, f57_arg2 )
	local f57_local0 = f57_arg0._focusedButton
	local f57_local1 = f57_local0._isBlackCellToggled or f57_arg0._isBlackcell
	f57_arg0.DetailPanel:UpdateDetails( f57_arg1, f57_arg2, f57_arg0._sectorType, f57_arg0._sectorState, f57_arg0._isPremium, f57_arg0._isBlackCellOwned, false, false, f57_local0._isActive, f57_local1 )
	f57_arg0.TrophyDisclaimer:SetVisible( f57_arg2.lootRef == f0_local0 )
	local f57_local2 = f57_arg0.BlackcellWatermark
	local f57_local3 = f57_local2
	f57_local2 = f57_local2.SetAlpha
	local f57_local4
	if f57_local1 then
		f57_local4 = 0.8
	else
		f57_local4 = 0
	end
	f57_local2( f57_local3, f57_local4, 250 )
end

local f0_local32 = function ( f54_arg0 )
	f54_arg0._isTransitioningScene = false
	local f54_local0 = f54_arg0._focusedButton
	local f54_local1 = f54_arg0._controllerIndex
	local f54_local2 = f0_local0( f54_arg0 )
	f54_local2.lastFocusedRewardIndex = f54_local0.unlockData.sectorRewardIndex
	local f54_local3 = f54_arg0._focusedButtonRewardIndex
	f54_arg0._focusedButtonRewardIndex = f54_local0.unlockData.sectorIndex * BATTLEMAP.NUM_UNLOCKS_PER_SECTOR + f54_local0.unlockData.sectorRewardIndex
	if f54_local0._isBlackCellToggled then
		local f54_local4
		if f54_local3 and f54_local3 == f0_local0 then
			f54_local4 = 0
		else
			f54_local4 = f0_local0
		end
		f54_arg0._focusedButtonRewardIndex = f54_local4
	end
	f0_local0( f54_arg0, f54_local1, f54_local0.unlockData )
	local f54_local4 = BATTLEMAP.SectionForLootType( f54_local0.unlockData.lootRef, f54_local0.unlockData.lootType )
	local f54_local5 = nil
	if f54_local0.unlockData.lootType == LOOT.itemTypes.EMBLEM then
		f54_local5 = LUI.DataSourceInGlobalModel.new( "cg.frontendscene.rttemblemmaterial" )
	elseif f54_local0.unlockData.lootType == LOOT.itemTypes.PLAYERCARD then
		f54_local5 = LUI.DataSourceInGlobalModel.new( "cg.frontendscene.rttplayercardmaterial" )
	elseif f54_local0.unlockData.lootType == LOOT.itemTypes.LOAD_SCREEN then
		f54_local5 = LUI.DataSourceInGlobalModel.new( "cg.frontendscene.rttloadingscreenmaterial" )
	end
	if f54_local5 then
		DataModel[0x83C9B5DE1D9371]( f54_local5:GetModel(), f54_local0.unlockData.lootImage )
	end
	local f54_local6 = function ( f56_arg0 )
		local f56_local0 = f56_arg0._focusedButton
		f56_local0.unlockData.isBlackCellToggled = f56_local0._isBlackCellToggled
		BATTLEMAP.UpdateBattleMapModel( f56_arg0, f56_local0.unlockData, f56_local0._isBlackCellToggled )
		f54_arg0( f56_arg0, f56_local0.unlockData, f54_arg0.AMBIENT, f56_arg0._isPremium )
		f54_arg0( f56_arg0, f56_arg0._controllerIndex, f56_local0.unlockData )
	end
	
	if f54_arg0._isFromMap and not f54_arg0._hasInitModels then
		f54_local6( f54_arg0 )
		f54_arg0._hasInitModels = true
	else
		if not f54_arg0._prevSection or f54_arg0._prevSection and f54_arg0._prevSection ~= f54_local4 then
			f54_arg0._isTransitioningScene = true
			Engine[0x685AE31DEDA30A4]( f54_local4 )
			MenuUtils.SetupSceneChangeCallback( f54_arg0, f54_local6 )
			BATTLEMAP.SendBattlemapSectorUpdateToServer( f54_local0.unlockData.rewardRef, BATTLEMAP.BATTLEMAP_SCENES[f54_local4], nil, f54_arg0._focusedButtonRewardIndex, true, f54_local0.unlockData.lootType )
		else
			local f54_local7 = f54_local4
			if f54_local2.fromWeaponPreview or f54_local2.fromOperatorPreview then
				f54_local7 = nil
				f54_local2.fromWeaponPreview = nil
				f54_local2.fromOperatorPreview = nil
				Engine[0x685AE31DEDA30A4]( f54_local4 )
			end
			BATTLEMAP.SendBattlemapSectorUpdateToServer( f54_local0.unlockData.rewardRef, BATTLEMAP.BATTLEMAP_SCENES[f54_local4], f54_local7, f54_arg0._focusedButtonRewardIndex, false, f54_local0.unlockData.lootType )
		end
		if not f54_arg0._eventHandlerAdded then
			f54_arg0:registerOmnvarHandler( "ui_battlepass_camera_changed", function ( f55_arg0, f55_arg1 )
				if 0 <= f55_arg1.value and f55_arg1.value == f55_arg0._focusedButtonRewardIndex and not f55_arg0._isTransitioningScene then
					f54_arg0( f55_arg0 )
				end
			end )
			f54_arg0._eventHandlerAdded = true
		end
	end
	f54_arg0._prevBlackCell = f54_local0._isBlackCellToggled
	f54_arg0._prevSection = f54_local4
	f54_arg0._currentRewardRef = f54_local0.unlockData.rewardRef
	f0_local0( f54_arg0, f54_local0.unlockData, f54_local4 )
	f54_arg0:UpdateRewardPreviewPrompt( f54_local0.unlockData.lootType, f54_local0.unlockData.lootID, WEAPON.IsEquipmentBlueprint( f54_local0.unlockData.lootID ) )
	if (f54_local0._isBlackCellToggled or f54_arg0._isBlackcell) and not f54_arg0._ownsBlackCell then
		ACTIONS.AnimateSequence( f54_arg0, 0x57CE7A3C260217 )
		f54_arg0.BattlePassPurchaseButton:ForceBlackCellState( f54_local1, true )
		f54_arg0._showPurchaseButton = true
		f0_local0( f54_arg0 )
	elseif not f54_arg0._isBlackcell then
		f0_local0( f54_arg0 )
		f54_arg0.BattlePassPurchaseButton:ForceBlackCellState( f54_local1, false )
		if f54_arg0._isPremium or f54_local0.unlockData.isFree or f54_arg0._sectorType == BATTLEMAP.SectorType.INSTANT then
			f54_arg0.InspectPanel:ResetSectorTags( f54_local1 )
		end
	end
end

local f0_local33 = function ( f53_arg0, f53_arg1 )
	local f53_local0 = f53_arg0:getParent()
	f53_local0 = f53_local0:getParent()
	if not f53_local0._changingSectors and f53_local0._focusedButton and f53_local0._focusedButton.unlockData.lootRef == f53_arg0.unlockData.lootRef and f53_local0._focusedButton.unlockData.sectorRewardIndex == f53_arg0.unlockData.sectorRewardIndex and f53_local0._prevBlackCell == f53_arg0._isBlackCellToggled then
		return 
	else
		f53_local0._focusedButton = f53_arg0
		f0_local0( f53_local0 )
	end
end

local f0_local34 = function ( f52_arg0, f52_arg1 )
	local f52_local0 = BATTLEMAP.GetSeasonBundle( f52_arg0._season )
	f52_arg0._maxSectorCount = #f52_local0[0x8C959E160CAD874]
	f52_arg0._isBlackCellOwned = BATTLEPASS.IsBlackCellOwned( f52_arg1, f52_arg0._season )
	f52_arg0._isPremium = BATTLEPASS.IsOwned( f52_arg1, f52_arg0._season ) or f52_arg0._isBlackCellOwned
	f52_arg0._needFixUp = BATTLEPASS.NeedFixUp( f52_arg1 )
end

local f0_local35 = function ( f51_arg0, f51_arg1 )
	f51_arg0._allUnlockData = BATTLEMAP.GetSectorUnlockData( f51_arg1, f51_arg0._season, f51_arg0._sectorIndex )
	f51_arg0._sectorType = BATTLEMAP.GetSectorType( f51_arg0._sectorIndex, f51_arg0._season )
	f51_arg0._isBlackcell = f51_arg0._sectorType == BATTLEMAP.SectorType.BLACK_CELL
	if f51_arg0._sectorType == BATTLEMAP.SectorType.INSTANT then
		f51_arg0._sectorState = f51_arg0._isPremium and BATTLEMAP.SectorState.COMPLETED or BATTLEMAP.SectorState.LOCKED
	elseif f51_arg0._sectorType == BATTLEMAP.SectorType.FINAL then
		f51_arg0._sectorState = BATTLEMAP.AreAllBaseSectorsComplete( f51_arg1, f51_arg0._season ) and BATTLEMAP.SectorState.COMPLETED or BATTLEMAP.SectorState.LOCKED
	elseif f51_arg0._sectorType == BATTLEMAP.SectorType.BLACK_CELL then
		f51_arg0._sectorState = f51_arg0._isBlackCellOwned and BATTLEMAP.SectorState.COMPLETED or BATTLEMAP.SectorState.LOCKED
	else
		f51_arg0._sectorState = BATTLEMAP.GetSectorState( f51_arg1, f51_arg0._sectorIndex, f51_arg0._season )
	end
end

local f0_local36 = function ( f50_arg0, f50_arg1, f50_arg2, f50_arg3 )
	f50_arg0._sectorIndex = f50_arg2
	local f50_local0 = BATTLEMAP.GetSector( f50_arg0._season, f50_arg2 )
	if f50_local0[0xE03357C933EFDCA] ~= BATTLEMAP.DLOG_SECTOR_PREVIEW_ITEM_DISPLAYED_SECTOR_ID then
		if BATTLEMAP.DLOG_SECTOR_PREVIEW_ITEM_DISPLAYED_SECTOR_ID then
			BATTLEMAP.SendBattleMapSectorItemDetailDlogEvent( f50_arg1 )
		end
		BATTLEMAP.DLOG_SECTOR_PREVIEW_START_TIME = CoD.GetUTC()
	end
	BATTLEMAP.DLOG_SECTOR_PREVIEW_ITEM_DISPLAYED_SECTOR_ID = f50_local0[0xE03357C933EFDCA]
	f0_local0( f50_arg0, f50_arg1 )
	f50_arg0.InspectPanel.SectorMainUnlock:SetSectorChangedWhileTransitioning()
	f50_arg0.InspectPanel:RemoveAllBlackCellToggles( f50_arg1 )
	f50_arg0.InspectPanel:UpdateSectorState( f50_arg1, f50_arg0._sectorIndex, f50_arg0._sectorType, f50_arg0._sectorState )
	f50_arg0.InspectPanel:SetupRewardButtons( f50_arg1, f50_arg0._allUnlockData, f50_arg0._sectorType, f50_arg0._isPremium, f50_arg0._isComplete, f0_local0 )
	if not BATTLEMAP.AUTO_TOGGLE_BLACKCELL_ON_MAP or f50_arg0._state ~= BATTLEMAP.BattlePassStates.NORMAL then
		f50_arg0.InspectPanel:SetAutoBlackCellToggleForAllRewards( f50_arg1, true, not f50_arg0._isBlackCellOwned )
	end
	f50_arg0.BattlePassPurchaseButton:SetupButtonState( f50_arg1, f50_arg0._isPremium, f50_arg0._isBlackCellOwned, f50_arg0._isComplete, f50_arg0._needFixUp, f50_arg0._season )
	f0_local0( f50_arg0 )
	if f50_arg0._focusedButton then
		f50_arg0._focusedButton:processEvent( {
			name = "lose_focus"
		} )
	end
	if f50_arg3 then
		f50_arg0.InspectPanel._rewardButtons[f50_arg3]:processEvent( {
			name = "gain_focus",
			controller = f50_arg1
		} )
	end
	local f50_local1 = f0_local0( f50_arg0 )
	f50_local1.previousFocusedSectorIndex = f50_arg0._sectorIndex
	if f50_arg0._isBlackcell and not f50_arg0._ownsBlackCell then
		f50_arg0.BattlePassPurchaseButton:ForceBlackCellState( f50_arg1, true )
	else
		f50_arg0.BattlePassPurchaseButton:ForceBlackCellState( f50_arg1, false )
	end
	f50_arg0._changingSectors = false
	f50_arg0.InspectPanel:SetIsChangingSectors( false )
end

local f0_local37 = function ( f48_arg0, f48_arg1, f48_arg2, f48_arg3 )
	if not f48_arg0._changingSectors then
		f48_arg0._changingSectors = true
		f48_arg0.InspectPanel:SetIsChangingSectors( true )
		local f48_local0, f48_local1 = nil
		local f48_local2 = false
		if f48_arg3 == f0_local0.LEFT then
			f48_local0 = 0x8A2BAB6DABE6341
			f48_local1 = 0x3392650C5565C25
			f48_local2 = true
		elseif f48_arg3 == f0_local0.RIGHT then
			f48_local0 = 0x2FC7C01CC6C97A2
			f48_local1 = 0xB8627C49426EB50
		end
		if not String.IsNilOrEmpty( f48_local1 ) then
			Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpSectorSwitch )
			ACTIONS.AnimateSequence( f48_arg0.InspectPanel, f48_local1, {
				onComplete = function ()
					f48_arg0:ChangeSector( f48_arg0, f48_arg0, f48_arg0 and BATTLEMAP.NUM_UNLOCKS_PER_SECTOR or 1 )
					if not String.IsNilOrEmpty( f48_arg0 ) then
						ACTIONS.AnimateSequence( f48_arg0.InspectPanel, f48_arg0 )
					end
				end
			} )
		end
	end
end

local f0_local38 = function ( f47_arg0 )
	if f47_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_SINGLE_WAIT then
		if f47_arg0._focusedButton and f47_arg0._focusedButton._isMainReward then
			f47_arg0:UpdateSectorPreviewState( f47_arg0._controllerIndex, BATTLEMAP.BattlePassStates.UNLOCK_HVT )
		else
			Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpPurchaseIndividual )
			f47_arg0:UpdateSectorPreviewState( f47_arg0._controllerIndex, BATTLEMAP.BattlePassStates.UNLOCK_SINGLE )
		end
	end
end

local f0_local39 = function ( f46_arg0 )
	if CONDITIONS.IsMobileOrMobileSim() then
		return 
	else
		Engine[0x671C74695E20482]( Engine[0x45B054C920178E9](), f0_local0, 300 )
	end
end

local f0_local40 = function ( f45_arg0, f45_arg1 )
	if CONDITIONS.IsMobileOrMobileSim() then
		return 
	end
	local f45_local0 = Engine[0x45B054C920178E9]()
	if f45_arg1.isOwned and f45_arg1.visionSetUnlocked then
		Engine[0x671C74695E20482]( f45_local0, f45_arg1.visionSetUnlocked, 300 )
	elseif not f45_arg1.isOwned and f45_arg1.visionSetLocked then
		Engine[0x671C74695E20482]( f45_local0, f45_arg1.visionSetLocked, 300 )
	else
		f45_arg0:ResetVision()
	end
end

local f0_local41 = function ( f44_arg0, f44_arg1 )
	if CONDITIONS.IsMobileOrMobileSim() then
		return 
	elseif f44_arg1 then
		if f44_arg0._isPremium or not f44_arg0._isPremium and f44_arg1.isFree then
			BATTLEMAP.SendBattlemapSectorUpdateToServer( f44_arg1.rewardRef, BATTLEMAP.BATTLEMAP_SCENES[BATTLEMAP.SectionForLootType( f44_arg1.lootRef, f44_arg1.lootType )], nil, f44_arg0._focusedButtonRewardIndex, false, f44_arg1.lootType )
			BATTLEMAP.UpdateBattleMapModel( f44_arg0, f44_arg1, f44_arg0._focusedButton._isBlackCellToggled )
			f0_local0( f44_arg0, f44_arg1, f0_local0.UNLOCK, f44_arg0._isPremium, false, f44_arg1.isOwned )
			f0_local0( f44_arg0, f44_arg1 )
		end
		f44_arg0:UpdateBPComplete( f44_arg0._controllerIndex )
		f44_arg0.DetailPanel:PlayUnlockCelebration( f44_arg0._controllerIndex )
		f44_arg0:UpdateVision( f44_arg1 )
	end
end

local f0_local42 = function ( f36_arg0, f36_arg1, f36_arg2 )
	f36_arg0._state = f36_arg2
	f36_arg0:SetMouseFocusBlocker( f36_arg0._state ~= BATTLEMAP.BattlePassStates.NORMAL )
	f36_arg0.InspectPanel:SetInputLock( f36_arg0._state ~= BATTLEMAP.BattlePassStates.NORMAL )
	local f36_local0 = function ( f43_arg0, f43_arg1, f43_arg2 )
		local f43_local0 = f36_arg0( f43_arg0 )
		f43_local0.state = f43_arg1
		f43_local0.forceFocusIndex = f43_arg2
		if f43_arg0._isFromMap then
			ACTIONS.LeaveMenu( f43_arg0 )
		else
			BATTLEMAP.OpenBattleMap( f36_arg0 )
		end
	end
	
	if f36_arg0._state == BATTLEMAP.BattlePassStates.ONBOARDING then
		f36_arg0:UpdateSectorPreviewState( f36_arg1, BATTLEMAP.BattlePassStates.NORMAL )
	elseif f36_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_SINGLE_WAIT then
		if f36_arg0._focusedButton then
			f36_arg0._focusedButton:SetAutoBlackCellToggle( f36_arg1, false, not f36_arg0._isBlackCellOwned )
			ACTIONS.AnimateSequence( f36_arg0._focusedButton, 0x9D02CA31A6E6FC1 )
		end
	elseif f36_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_SINGLE then
		Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpUnlockSingle )
		if f36_arg0._focusedButton then
			ACTIONS.AnimateSequence( f36_arg0._focusedButton, 0x8833714AFD2C1CE )
			f0_local0( f36_arg0, f36_arg0._focusedButton.unlockData )
		end
		local f36_local1 = f36_arg0:Wait( f0_local0 )
		f36_local1.onComplete = function ()
			f36_arg0:UpdateSectorPreviewState( f36_arg0, BATTLEMAP.BattlePassStates.NORMAL )
		end
		
	elseif f36_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_HVT then
		Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpUnlockSingle )
		if f36_arg0._focusedButton then
			ACTIONS.AnimateSequence( f36_arg0._focusedButton, 0x8833714AFD2C1CE )
			f0_local0( f36_arg0, f36_arg0._focusedButton.unlockData )
		end
		local f36_local1 = f36_arg0:Wait( f0_local0 )
		f36_local1.onComplete = function ()
			f36_arg0:UpdateSectorPreviewState( f36_arg0, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR )
		end
		
	elseif f36_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_SECTOR_WAIT then
		
	elseif f36_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_SECTOR then
		Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpUnlockSector )
		if f36_arg0.CinematicFrame then
			f36_arg0.CinematicFrame:StartCinematic( "bp_aar_unlock_single_reward_jup" )
			f36_arg0.InspectPanel:SetVisible( false )
		end
		f36_arg0.InspectPanel.Minimap:UpdateMiniMap( f36_arg1 )
		local f36_local1 = f36_arg0:Wait( f0_local0 )
		f36_local1.onComplete = function ()
			if f36_arg0.CinematicFrame then
				f36_arg0.CinematicFrame:PlayRewardUnlocked( false, true )
			end
			local f39_local0 = f36_arg0:Wait( f36_arg0 )
			f39_local0.onComplete = function ()
				if f39_local0.CinematicFrame then
					f39_local0.CinematicFrame:StopCinematic()
				end
				if f39_local0._isFromMap then
					f39_local0( f39_local0, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR_DELAY, f39_local0._sectorIndex - 1 )
				else
					f39_local0.InspectPanel:SetVisible( true )
					f39_local0:UpdateSectorPreviewState( f39_local0, BATTLEMAP.BattlePassStates.NORMAL )
				end
			end
			
		end
		
	elseif f36_arg0._state == BATTLEMAP.BattlePassStates.PURCHASE_PASS then
		local f36_local1 = f36_arg0:Wait( 1 )
		f36_local1.onComplete = function ()
			f36_arg0( f36_arg0, BATTLEMAP.BattlePassStates.PURCHASE_PASS, 1 )
		end
		
		f36_arg0.Darkener:SetVisible( true )
	elseif f36_arg0._state == BATTLEMAP.BattlePassStates.PURCHASE_BLACK_CELL then
		local f36_local1 = f36_arg0:Wait( 1 )
		f36_local1.onComplete = function ()
			f36_arg0( f36_arg0, BATTLEMAP.BattlePassStates.PURCHASE_BLACK_CELL, BATTLEMAP.BLACK_CELL + 1 )
		end
		
		f36_arg0.Darkener:SetVisible( true )
	elseif f36_arg0._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING then
		if not Onboarding.BattlePassChallenges.WasCompleted( f36_arg1 ) then
			TIP.CreateTips( Onboarding.Tips.BattlePass.JUP_CHALLENGE_UNLOCK_REWARDS( f36_arg1, f36_arg0.DetailPanel ) )
		end
		f36_arg0:UpdateSectorPreviewState( f36_arg1, BATTLEMAP.BattlePassStates.NORMAL )
	elseif f36_arg0._focusedButton then
		ACTIONS.AnimateSequence( f36_arg0._focusedButton, 0x8833714AFD2C1CE )
	end
end

local f0_local43 = function ( f35_arg0 )
	if f35_arg0._focusedButton.unlockData.lootType == LOOT.itemTypes.WEAPON then
		local f35_local0 = DataSources.frontEnd.scene.rttStoreItemMaterial
		if f35_local0 then
			DataModel[0x83C9B5DE1D9371]( f35_local0:GetModel(), f0_local0 )
		end
	end
end

local f0_local44 = function ( f34_arg0, f34_arg1 )
	local f34_local0 = f0_local0( f34_arg0 )
	f34_local0.previousFocusedSectorIndex = f34_arg0._sectorIndex
	f34_local0.focusedButton = f34_arg0._focusedButton
	f0_local0( f34_arg0 )
	local f34_local1 = f34_arg0._focusedButton._isBlackCellToggled and f34_arg0._focusedButton.unlockData.blackCellLootID or f34_arg0._focusedButton.unlockData.lootID
	local f34_local2 = f34_arg0._focusedButton._isBlackCellToggled
	if f34_local2 then
		f34_local2 = f34_arg0._focusedButton.unlockData.blackCellLootID
	end
	if f34_local2 then
		BATTLEMAP.AddAnalyticsData( BATTLEMAP.DLOG_BLACKCELL_PREVIEWED_ITEMS_ARRAY, f34_local1 )
		table.insert( BATTLEMAP.DLOG_SECTOR_PREVIEW_BLACKCELL_PREVIEWED_ITEMS_ARRAY, f34_local1 )
	else
		BATTLEMAP.AddAnalyticsData( BATTLEMAP.DLOG_PREVIEWED_ITEMS_ARRAY, f34_local1 )
		table.insert( BATTLEMAP.DLOG_SECTOR_PREVIEW_PREVIEWED_ITEMS_ARRAY, f34_local1 )
	end
	BATTLEMAP.OpenPreviewMenu( f34_arg1, f34_local1, BATTLEMAP.GetSectorUnlockData( f34_arg1, f34_arg0._season, f34_arg0._sectorIndex ) )
end

local f0_local45 = function ( f33_arg0, f33_arg1, f33_arg2 )
	local f33_local0
	if (f33_arg0 ~= LOOT.itemTypes.WEAPON or f33_arg2) and f33_arg0 ~= LOOT.itemTypes.OPERATOR_SKIN and f33_arg0 ~= LOOT.itemTypes.MISSION then
		if f33_arg0 == LOOT.itemTypes.GUN_SCREEN then
			f33_local0 = WEAPON.IsGunscreenVO( f33_arg1 )
		else
			f33_local0 = false
		end
	else
		f33_local0 = true
	end
	return f33_local0
end

local f0_local46 = function ( f32_arg0, f32_arg1, f32_arg2, f32_arg3 )
	f32_arg0._showPreview = f0_local0( f32_arg1, f32_arg2, f32_arg3 )
	f32_arg0.PreviewPrompt:SetVisible( f32_arg0._showPreview )
	if CONDITIONS.IsTryAGunEnabled() and CONDITIONS.IsFrontendFiringRangeEnabled() then
		local f32_local0 = LUI.IsGamepadActiveInputMethodForPrompts( f32_arg0._controllerIndex )
		local f32_local1 = f32_arg0.PreviewPrompt.ButtonHelperBar.ButtonHelperText
		local f32_local2 = f32_local1
		f32_local1 = f32_local1.GetPromptByButtonRef
		local f32_local3
		if f32_local0 then
			f32_local3 = STORE.TryAGunPrompt.GAMEPAD
			if not f32_local3 then
			
			else
				f32_local1 = f32_local1( f32_local2, f32_local3 )
				if f32_local1 then
					f32_local1:SetVisible( f32_arg1 == LOOT.itemTypes.WEAPON )
				end
			end
		end
		f32_local3 = STORE.TryAGunPrompt.KBM
	end
end

local f0_local47 = function ( f31_arg0, f31_arg1, f31_arg2 )
	f0_local0( f31_arg0, f31_arg1.controllerIndex )
	f0_local0( f31_arg0, f31_arg1.controllerIndex or f31_arg0._controllerIndex )
	f0_local0( f31_arg0 )
	f31_arg0.InspectPanel:SetupRewardButtons( f31_arg1.controllerIndex, f31_arg0._allUnlockData, f31_arg0._sectorType, f31_arg0._isPremium, f31_arg0._isComplete, f0_local0 )
	f31_arg0.BattlePassPurchaseButton:SetupButtonState( f31_arg1.controllerIndex, f31_arg0._isPremium, f31_arg0._isBlackCellOwned, f31_arg0._isComplete, f31_arg0._needFixUp, f31_arg0._season )
	BATTLEPASS.UpdateBattlePassStatusMenuTabLabel( f31_arg0._controllerIndex )
	f31_arg0.InspectPanel.BPTokenProgress:UpdateAmount( f31_arg0._controllerIndex )
	STORE.Popups.CloseGenericFetchPopup( f31_arg1.controllerIndex )
	if f31_arg2 == BATTLEPASS.PurchaseCallbackKeys.FAILURE then
		local f31_local0 = BATTLEPASS.GetErrorMessage( f31_arg1.errorCode, f31_arg1.itemID )
		LUI.ToastManager.CreateToast( f31_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xD09E09A43DE9B80 ), Engine[0xED84C33EC5F01EA]( 0x1535E9C7C234B06 ), LUI.ToastManager.ToastNotificationType.Warnings ) )
	elseif BATTLEPASS.PurchaseCallbackKeys.SUCCESS then
		BATTLEPASS.BuildUnownedBlackCellLootIDs( f31_arg0._controllerIndex, true )
		LUI.ToastManager.CreateToast( f31_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xCCE79999F4C1E08 ), Engine[0xED84C33EC5F01EA]( 0x8A652B104F95343 ), LUI.ToastManager.ToastNotificationType.Warnings ) )
	end
end

local f0_local48 = function ( f28_arg0, f28_arg1 )
	f28_arg0._needFixUp = BATTLEPASS.NeedFixUp( f28_arg1 )
	if not f28_arg0._needFixUp then
		
	else
		
	end
	BATTLEPASS.RegisterPurchaseCallbacks( f28_arg0, f28_arg1, {
		[BATTLEPASS.PurchaseCallbackKeys.SUCCESS] = function ( f30_arg0, f30_arg1 )
			f28_arg0( f30_arg0, f30_arg1, BATTLEPASS.PurchaseCallbackKeys.SUCCESS )
		end,
		[BATTLEPASS.PurchaseCallbackKeys.FAILURE] = function ( f29_arg0, f29_arg1 )
			f28_arg0( f29_arg0, f29_arg1, BATTLEPASS.PurchaseCallbackKeys.FAILURE )
		end
	} )
	BATTLEPASS.FixUp( f28_arg1 )
	LUI.ToastManager.CreateToast( f28_arg1, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xCBAAD4E81DD6968 ), Engine[0xED84C33EC5F01EA]( 0x24482DFF76E8C3F ), LUI.ToastManager.ToastNotificationType.Warnings ) )
end

local f0_local49 = function ( f27_arg0, f27_arg1 )
	local f27_local0, f27_local1 = BATTLEMAP.GetNumberOfCompleteSectorsAndRewards( f27_arg1, f27_arg0._season )
	f27_arg0._isComplete = f27_local0 == BATTLEMAP.NUM_BASE_SECTORS
	f27_arg0.BPStatus.MapPercent:setText( Engine[0xED84C33EC5F01EA]( "CAS/PERCENT", f27_local1 / BATTLEMAP.NUM_BASE_SECTORS * BATTLEMAP.NUM_UNLOCKS_PER_SECTOR * 100 ) )
end

local f0_local50 = function ( menu, controller )
	menu[0xA029615E8D3DE6] = LUI.UITimer.new( {
		interval = 17,
		event = "update_model_rotation"
	} )
	menu.modelRotateTimer.id = "modelRotateTimer"
	menu:addElement( menu.modelRotateTimer )
	local f25_local0 = LUI.DataSourceInControllerModel.new( "stick.r.x" )
	menu:addEventHandler( "update_model_rotation", function ( f26_arg0, f26_arg1 )
		local f26_local0 = menu:GetValue( menu )
		if f26_local0 ~= 0 then
			f26_arg0._isRotationPaused = true
			f26_arg0._waitTimer = 0
			menu( f26_arg0, f26_local0, menu.GAMEPAD )
		end
	end )
end

local f0_local51 = function ( f19_arg0, f19_arg1, f19_arg2 )
	f0_local0( f19_arg0, f19_arg1 )
	f19_arg0._season = SEASON.GetCurrentSeason()
	f19_arg0._switchingSectorsEnabled = f19_arg2.switchingSectorsEnabled or true
	f19_arg0._ownsBlackCell = STORE.UI.DoesPlayerOwnBlackCellBundle( f19_arg1 )
	f0_local0( f19_arg0, f19_arg1 )
	f19_arg0:UpdateBPComplete( f19_arg1 )
	f19_arg0.PreviewPrompt:Setup( f19_arg1, Engine[0xED84C33EC5F01EA]( 0xF2880F25066F1C5 ), f0_local0 )
	BATTLEMAP.UpdateBackButton( f19_arg0, f19_arg1 )
	local f19_local0 = f0_local0( f19_arg0 )
	local f19_local1 = f19_arg2.state
	if not f19_local1 then
		f19_local1 = f19_local0.state
		if not f19_local1 then
			f19_local1 = BATTLEMAP.BattlePassStates.NORMAL
		end
	end
	f19_arg0._state = f19_local1
	f19_local0.state = nil
	if not f19_arg2.sectorIndex and not f19_local0.previousFocusedSectorIndex then
		local f19_local2 = f19_arg0._isComplete
		local f19_local3 = BATTLEMAP.FINAL_SECTOR + 1
		local f19_local4 = BATTLEMAP.GetActiveSectorIndex( f19_arg1 )
	end
	f19_local1 = f19_local2 and f19_local3 or f19_local4
	f19_arg2.sectorIndex = nil
	local f19_local5 = f19_arg0
	local f19_local6 = f19_arg0.ChangeSector
	local f19_local7 = f19_arg1
	local f19_local8 = f19_local1
	local f19_local9 = f19_local0.lastFocusedRewardIndex
	if not f19_local9 then
		f19_local9 = BATTLEMAP.NUM_UNLOCKS_PER_SECTOR
	end
	f19_local6( f19_local5, f19_local7, f19_local8, f19_local9 )
	f19_arg0.BattlePassPurchaseButton:SetupButtonState( f19_arg1, f19_arg0._isPremium, f19_arg0._isBlackCellOwned, f19_arg0._isComplete, f19_arg0._needFixUp, f19_arg0._season )
	f19_arg0.BattlePassPurchaseButton:setPriority( 1 )
	f19_arg0.InspectPanel.BPTokenProgress:SetupInputs()
	if f19_arg0._switchingSectorsEnabled then
		f19_local6 = LUI.IsLastInputKeyboardMouse( f19_arg1 )
		f19_arg0.InspectPanel.KBMRightSectorArrow:SetVisible( f19_local6 )
		f19_arg0.InspectPanel.KBMLeftSectorArrow:SetVisible( f19_local6 )
		f19_arg0.InspectPanel.RightSectorArrow:SetVisible( not f19_local6 )
		f19_arg0.InspectPanel.LeftSectorArrow:SetVisible( not f19_local6 )
	end
	f19_local6 = function ()
		local f24_local0 = nil
		for f24_local1 = f19_arg0._sectorIndex + 1, f19_arg0._maxSectorCount, 1 do
			local f24_local4 = BATTLEMAP.GetSectorType( f24_local1, f19_arg0._season )
			if f24_local4 ~= BATTLEMAP.SectorType.EVENT and f24_local4 ~= BATTLEMAP.SectorType.FACTION and (f24_local4 ~= BATTLEMAP.SectorType.LIMITED_TIME or BATTLEMAP.IsLimitedTimeEnabled()) then
				f24_local0 = f24_local1
				break
			end
		end
		if not f24_local0 then
			f24_local0 = 1
		end
		f19_arg0:TransitionToSector( f19_arg0, f24_local0, f19_arg0.RIGHT )
	end
	
	local f19_local10 = function ()
		local f23_local0 = f19_arg0._sectorIndex - 1
		if f23_local0 < 1 then
			f23_local0 = f19_arg0._maxSectorCount
		end
		for f23_local1 = f23_local0, 1, -1 do
			local f23_local4 = BATTLEMAP.GetSectorType( f23_local1, f19_arg0._season )
			if f23_local4 ~= BATTLEMAP.SectorType.EVENT and f23_local4 ~= BATTLEMAP.SectorType.FACTION and (f23_local4 ~= BATTLEMAP.SectorType.LIMITED_TIME or BATTLEMAP.IsLimitedTimeEnabled()) then
				f23_local0 = f23_local1
				break
			end
		end
		f19_arg0:TransitionToSector( f19_arg0, f23_local0, f19_arg0.LEFT )
	end
	
	f19_arg0.InspectPanel.RightSectorArrow:addEventHandler( "button_action", f19_local6 )
	f19_arg0.InspectPanel.LeftSectorArrow:addEventHandler( "button_action", f19_local10 )
	f19_arg0.InspectPanel.KBMRightSectorArrow:addEventHandler( "button_action", f19_local6 )
	f19_arg0.InspectPanel.KBMLeftSectorArrow:addEventHandler( "button_action", f19_local10 )
	f19_arg0:SubscribeToInputTypeModel( f19_arg1, function ( f22_arg0, f22_arg1 )
		if f22_arg1._state ~= BATTLEMAP.BattlePassStates.NORMAL then
			return 
		else
			local f22_local0 = LUI.IsLastInputKeyboardMouse( f22_arg1._controllerIndex )
			f22_arg1.InspectPanel.KBMRightSectorArrow:SetVisible( f22_local0 )
			f22_arg1.InspectPanel.KBMLeftSectorArrow:SetVisible( f22_local0 )
			f22_arg1.InspectPanel.RightSectorArrow:SetVisible( not f22_local0 )
			f22_arg1.InspectPanel.LeftSectorArrow:SetVisible( not f22_local0 )
		end
	end )
	f19_arg0:addEventHandler( "bp_update_current_sector", function ( f21_arg0, f21_arg1 )
		if f19_arg0._sectorIndex then
			f19_arg0( f19_arg0, f19_arg0, f19_arg0._sectorIndex )
			BATTLEPASS.BuildUnownedBlackCellLootIDs( f19_arg0, true )
			if f19_arg0._focusedButton then
				f19_arg0._focusedButton:processEvent( {
					name = "gain_focus"
				} )
			end
		end
	end )
	f19_arg0:addEventHandler( "gamepad_button", function ( f20_arg0, f20_arg1 )
		if f19_arg0._state ~= BATTLEMAP.BattlePassStates.NORMAL then
			return true
		elseif not f20_arg1.down then
			return 
		elseif f20_arg1.button == "secondary" then
			if f19_arg0.InspectPanel._autoSwitchOpen then
				f19_arg0.InspectPanel:processEvent( {
					name = "close_auto_switch"
				} )
			else
				f19_arg0.lastFocusedRewardIndex = nil
				if WEAPON.StopGunscreenVOWithSprite and WEAPON.StopGunscreenVO then
					if f20_arg0._focusedButton and f20_arg0._focusedButton.AudioIcon then
						WEAPON.StopGunscreenVOWithSprite( f20_arg0._focusedButton.AudioIcon )
					else
						WEAPON.StopGunscreenVO()
					end
				end
				ACTIONS.LeaveMenu( f20_arg0 )
			end
		end
		if f20_arg1.button == "alt1" and f19_arg0._showPurchaseButton then
			if f20_arg0.BattlePassPurchaseButton:GetState() == BATTLEMAP.PurchaseButtonStates.BUY_TOKENS then
				BATTLEMAP.OpenTokenPurchaseMenu( f20_arg0, f20_arg0._controllerIndex )
			else
				f20_arg0.BattlePassPurchaseButton:ShowPurchasePopup( f20_arg1.controller )
			end
			return true
		end
		local f20_local0 = CONDITIONS.IsMouseWheelEvent( f20_arg1 )
		if f20_arg1.button == "up" and not f20_local0 and f20_arg0._focusedButton and f20_arg0._focusedButton:isInFocus() then
			f20_arg0._focusedButton:ToggleBlackCellReward( f20_arg1.controller )
			return true
		elseif f20_arg1.button == "left_stick" and f19_arg0._showPreview then
			f19_arg0( f19_arg0, f20_arg1.controller )
		end
		if f20_arg1.button == "select" and f20_arg0.InspectPanel:CanOpenAutoSwitchPanel() then
			f20_arg0.InspectPanel:OpenAutoSwitchPanel()
		end
		if f19_arg0._switchingSectorsEnabled and not f19_arg0.InspectPanel._autoSwitchOpen then
			local f20_local1 = f20_arg1.button
			local f20_local2
			if BATTLEMAP.UseBattleMapLandingScreen() then
				f20_local2 = "shoulderr"
			else
				f20_local2 = "right_trigger"
			end
			if not (f20_local1 ~= f20_local2 and (f20_arg1.button ~= "right" or f19_arg0._focusedButton ~= f19_arg0.InspectPanel.SectorMainUnlock)) or f20_local0 and f20_arg1.button == "down" then
				f19_arg0()
			else
				f20_local1 = f20_arg1.button
				if BATTLEMAP.UseBattleMapLandingScreen() then
					f20_local2 = "shoulderl"
				else
					f20_local2 = "left_trigger"
				end
				if not (f20_local1 ~= f20_local2 and (f20_arg1.button ~= "left" or f19_arg0._focusedButton ~= f19_arg0.InspectPanel.Reward1)) or f20_local0 and f20_arg1.button == "up" then
					f19_arg0()
				end
			end
		end
	end )
	f0_local0( f19_arg0 )
	f0_local0( f19_arg0, f19_arg1 )
	f19_arg0:SetHandleMouseMove( true )
	f19_arg0:SetHandleMouseButton( true )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x57FF8665C534F4E ) then
		f0_local0( f19_arg0 )
	end
	if not f19_arg0._needFixUp then
		STORE.Popups.CloseGenericFetchPopup( f19_arg1 )
	end
	f19_arg0:UpdateSectorPreviewState( f19_arg1, f19_arg0._state )
end

local f0_local52 = function ( f18_arg0 )
	return f18_arg0._state
end

local f0_local53 = function ( f11_arg0, f11_arg1, f11_arg2 )
	f11_arg0.RotateDiorama = f0_local0
	f11_arg0.ChangeSector = f0_local0
	f11_arg0.TransitionToSector = f0_local0
	f11_arg0.UpdateSectorPreviewState = f0_local0
	f11_arg0.UpdateRewardPreviewPrompt = f0_local0
	f11_arg0.CelebrateSpendToken = f0_local0
	f11_arg0.UpdateVision = f0_local0
	f11_arg0.ResetVision = f0_local0
	f11_arg0.UpdateBPComplete = f0_local0
	f11_arg0.GetState = f0_local0
	f11_arg0.KillCurrentVFX = f0_local0
	f11_arg0._controllerIndex = f11_arg1
	f11_arg0._currentVfx = {}
	f11_arg0._isFromMap = f11_arg2.isFromMap
	f11_arg2.isFromMap = nil
	BATTLEMAP.TryStartBattleMapDlogSession( f11_arg1 )
	CLIENT_MODEL.InitBattlePassModels()
	local f11_local0 = LUI.FlowManager.GetScopedData( f11_arg0 )
	if f11_local0.lootType then
		Engine[0x685AE31DEDA30A4]( BATTLEMAP.SectionForLootType( nil, f11_local0.lootType ) )
	end
	ACTIONS.AnimateSequence( f11_arg0, 0x401D7A2DC706A6C )
	f11_arg0:addEventHandler( "update_battlepass_model", function ( f17_arg0, f17_arg1 )
		f11_arg0( f11_arg0 )
	end )
	f11_arg0:addEventHandler( "gain_focus", function ( f16_arg0, f16_arg1 )
		f11_arg0( f11_arg0 )
		return true
	end )
	f11_arg0:addEventHandler( "restore_focus", function ( f15_arg0, f15_arg1 )
		f11_arg0( f11_arg0 )
	end )
	f11_arg0:addEventHandler( "menu_close", function ( f14_arg0, f14_arg1 )
		f14_arg0._prevSection = nil
		f11_arg0( f14_arg0 )
		BATTLEMAP.SendBattlemapSectorUpdateToServer( f14_arg0._currentRewardRef, BATTLEMAP.BATTLEMAP_SCENES.none, nil, -1, true, LOOT.itemTypes.INVALID )
		CLIENT_MODEL.HideAllBattlePassModels()
	end )
	f0_local0( f11_arg0, f11_arg1, f11_arg2 )
	f11_arg0:addEventHandler( "purchase_bp_or_blackcell", function ( f13_arg0, f13_arg1 )
		if f13_arg0._showPurchaseButton then
			f13_arg0.BattlePassPurchaseButton:ShowPurchasePopup( f11_arg0._controllerIndex )
		end
	end )
	if f11_arg0.MenuTitle then
		f11_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0x1E9A9BBD932CBF1 ) )
		f11_arg0.MenuTitle:SetupBackButton( f11_arg1 )
		f11_arg0.MenuTitle:DisableLine()
	end
	local self = LUI.UITimer.new( {
		interval = 500,
		event = "update_lobby_status"
	} )
	self.id = "lobbyStatusTimer"
	f11_arg0:addElement( self )
	f11_arg0:addAndCallEventHandler( "update_lobby_status", function ( f12_arg0, f12_arg1 )
		local f12_local0 = Lobby[0x61016770AE2BCA7]()
		if not f12_local0 then
			f12_local0 = Engine[0xCBCF315DE9B8AC6]()
			if not f12_local0 then
				f12_local0 = PARTY.IsLocalPlayerPartyQueuing()
			end
		end
		if f12_arg0._isMatchmaking ~= f12_local0 then
			local f12_local1 = ACTIONS.AnimateSequence
			local f12_local2 = f12_arg0
			local f12_local3
			if f12_local0 then
				f12_local3 = 0x83BE8D87D11E2AF
				if not f12_local3 then
				
				else
					f12_local1( f12_local2, f12_local3 )
					f12_arg0._isMatchmaking = f12_local0
				end
			end
			f12_local3 = 0x2424C47409D8FA
		end
	end )
	f11_arg0.PreviewPrompt:SetupMultipleButtons( f11_arg1, {
		{
			buttonText = Engine[0xED84C33EC5F01EA]( 0xF2880F25066F1C5 ),
			buttonRef = f0_local0,
			kbmButtonRef = f0_local0
		}
	} )
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		local f2_local0 = function ( f10_arg0, f10_arg1 )
			
		end
		
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0xC0A83E6107A33A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f2_local1 = function ( f9_arg0, f9_arg1 )
			f9_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0xC0A83E6107A33A2 )
		end
		
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0x57CE7A3C260217, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f2_local2 = function ( f8_arg0, f8_arg1 )
			f8_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0x57CE7A3C260217 )
		end
		
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0x67B893A709AB37, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f2_local3 = function ( f7_arg0, f7_arg1 )
			f7_arg0[0x789F59964A52CEF]:AnimateSequence( 0x67B893A709AB37 )
		end
		
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0x853294F5A21A65E, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f2_local4 = function ( f6_arg0, f6_arg1 )
			f6_arg0[0x789F59964A52CEF]:AnimateSequence( 0x853294F5A21A65E )
		end
		
		f2_arg0[0xB138A194A0705C2]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		if f2_arg0[0x6F997271340BAEC] then
			f2_arg0[0x6F997271340BAEC]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Hidden
			} )
		end
		f2_arg0[0xE20A601E9EA59E2]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x12C175C24AEEACD]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0xB6603800BE27E59]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0xC0EF5A29215DF40]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f2_local5 = function ( f5_arg0, f5_arg1 )
			f5_arg0[0xB138A194A0705C2]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
			if f5_arg0[0x6F997271340BAEC] then
				f5_arg0[0x6F997271340BAEC]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
			end
			f5_arg0[0xE20A601E9EA59E2]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
			f5_arg0[0x789F59964A52CEF]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
			f5_arg0[0x12C175C24AEEACD]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
			f5_arg0[0xB6603800BE27E59]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
			f5_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
			f5_arg0[0xC0EF5A29215DF40]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
		end
		
		f2_arg0[0xB6603800BE27E59]:RegisterAnimationSequence( 0x83BE8D87D11E2AF, {
			nil,
			nil,
			300,
			0,
			nil,
			329,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[4] = TWEEN_PROPERTY.Bottom
		} )
		local f2_local6 = function ( f4_arg0, f4_arg1 )
			f4_arg0[0xB6603800BE27E59]:AnimateSequence( 0x83BE8D87D11E2AF )
		end
		
		f2_arg0[0xB6603800BE27E59]:RegisterAnimationSequence( 0x2424C47409D8FA, {
			nil,
			nil,
			150,
			0,
			nil,
			179,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[4] = TWEEN_PROPERTY.Bottom
		} )
		f2_arg0[0x49D85F0EF1CEC84] = {
			[0xEF6C3AB55C07BEF] = f2_local0,
			[0xC0A83E6107A33A2] = f2_local1,
			[0x57CE7A3C260217] = f2_local2,
			[0x67B893A709AB37] = f2_local3,
			[0x853294F5A21A65E] = f2_local4,
			[0xD8E0C3D2CAE13A2] = f2_local5,
			[0x83BE8D87D11E2AF] = f2_local6,
			[0x2424C47409D8FA] = function ( f3_arg0, f3_arg1 )
				f3_arg0[0xB6603800BE27E59]:AnimateSequence( 0x2424C47409D8FA )
			end
		}
		f2_arg0[0xD97E59A206E4A54] = {
			[0x83BE8D87D11E2AF] = 0,
			[0x67B893A709AB37] = 0,
			[0xC0A83E6107A33A2] = 0,
			[0x57CE7A3C260217] = 0,
			[0x853294F5A21A65E] = 0,
			[0x2424C47409D8FA] = 0,
			[0xD8E0C3D2CAE13A2] = 0,
			[0xEF6C3AB55C07BEF] = 0
		}
	end
}
function JupBPSectorPreview( f1_arg0, f1_arg1 )
	local f1_local0 = CONDITIONS
	local f1_local1 = LUI
	local f1_local2 = MenuBuilder
	local f1_local3 = TWEEN_PROPERTY
	local f1_local4 = f1_local1.UIMenu.new()
	f1_local4.id = "JupBPSectorPreview"
	f1_local4[0xBD5D934D3CD91E5] = States
	local f1_local5
	if f1_arg1 then
		f1_local5 = f1_arg1
	else
		f1_local5 = f1_arg1.controllerIndex
	end
	f1_local5 = f1_local1.ValidateControllerIndex( f1_local4, f1_local5 )
	local f1_local6 = f1_local4
	local f1_local7 = nil
	f1_local7 = f1_local1.UIImage.new()
	f1_local7[0x8B72E07B55C3AC0] = "Vignette"
	ACTIONS.ScaleStretchAnchorFullscreen( f1_local7 )
	f1_local7:SetRGB( 0, 0 )
	f1_local7:setImage( RegisterMaterial( 0x3A8F29C0EC8E46E ), 0 )
	f1_local7:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, -623, 0 )
	f1_local4:addElement( f1_local7 )
	f1_local4[0xC004DDB3E0372D3] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local1.UIImage.new()
	f1_local8[0x8B72E07B55C3AC0] = "CornerVignette"
	ACTIONS.AspectRatioScaleAdjustment( f1_local4, f1_local8, LAYOUT.AspectRatioImageScalePct.FADEFRAME_LARGE )
	f1_local8:SetAlpha( 0.2, 0 )
	f1_local8:setImage( RegisterMaterial( 0x7AE498E2479C0BC ), 0 )
	f1_local8:SetAnchorsAndPosition( 0, 1, 0, 0, 0, 765, 0, 0 )
	f1_local4:addElement( f1_local8 )
	f1_local4[0x26AAB065288B982] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local1.UIImage.new()
	f1_local9[0x8B72E07B55C3AC0] = "BlackcellWatermark"
	f1_local9:SetAlpha( 0, 0 )
	f1_local9:setImage( RegisterMaterial( 0x77948C0692EA59A ), 0 )
	f1_local9:SetAnchorsAndPosition( 0, 1, 0, 1, -33.27, 214.73, -20, 228 )
	f1_local4:addElement( f1_local9 )
	f1_local4[0xB138A194A0705C2] = f1_local9
	local f1_local10 = nil
	if f1_local0[0x2F9F94DF6F92292]() and f1_local0.EnableDioramaUpdatePosition() then
		f1_local10 = f1_local2.BuildRegisteredType( 0xCD68D114506CB86, {
			controllerIndex = f1_local5
		} )
		f1_local10[0x8B72E07B55C3AC0] = "RotationSetupWidget"
		f1_local10:SetAnchorsAndPosition( 0, 1, 0, 1, 1356.89, 1856.89, 170, 670 )
		f1_local4:addElement( f1_local10 )
		f1_local4[0x6F997271340BAEC] = f1_local10
	end
	local f1_local11 = nil
	f1_local11 = f1_local2.BuildRegisteredType( 0x39662616CCC6889, {
		controllerIndex = f1_local5
	} )
	f1_local11[0x8B72E07B55C3AC0] = "DetailPanel"
	f1_local11:SetAnchorsAndPosition( 0, 1, 0, 1, 39, 1039, 86.39, 586.39 )
	f1_local4:addElement( f1_local11 )
	f1_local4[0xE20A601E9EA59E2] = f1_local11
	local f1_local12 = nil
	f1_local12 = f1_local2.BuildRegisteredType( 0x93CC4E91B38D10C, {
		controllerIndex = f1_local5
	} )
	f1_local12[0x8B72E07B55C3AC0] = "MenuTitle"
	f1_local12:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 80 )
	f1_local4:addElement( f1_local12 )
	f1_local4[0x93CC4E91B38D10C] = f1_local12
	local f1_local13 = nil
	f1_local13 = f1_local2.BuildRegisteredType( 0xCEF5D7F448F349C, {
		controllerIndex = f1_local5
	} )
	f1_local13[0x8B72E07B55C3AC0] = "InspectPanel"
	f1_local13:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -960, 960, -375, 0 )
	f1_local4:addElement( f1_local13 )
	f1_local4[0x789F59964A52CEF] = f1_local13
	local f1_local14 = nil
	f1_local14 = f1_local2.BuildRegisteredType( 0x8832697BA98770D, {
		controllerIndex = f1_local5
	} )
	f1_local14[0x8B72E07B55C3AC0] = "PreviewPrompt"
	f1_local14:SetAnchorsAndPosition( 0, 1, 0, 1, 1056.89, 1656.89, 436.39, 736.39 )
	f1_local4:addElement( f1_local14 )
	f1_local4[0x12C175C24AEEACD] = f1_local14
	local f1_local15 = nil
	f1_local15 = f1_local2.BuildRegisteredType( 0x21C8DF2CAD51684, {
		controllerIndex = f1_local5
	} )
	f1_local15[0x8B72E07B55C3AC0] = "BPStatus"
	f1_local15:SetAnchorsAndPosition( 1, 0, 0, 1, -400, 0, 300, 329 )
	f1_local4:addElement( f1_local15 )
	f1_local4[0xB6603800BE27E59] = f1_local15
	local f1_local16 = nil
	f1_local16 = f1_local2.BuildRegisteredType( 0xCDAB602AE77EC65, {
		controllerIndex = f1_local5
	} )
	f1_local16[0x8B72E07B55C3AC0] = "BattlePassPurchaseButton"
	f1_local16:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, 586, 908, -387, -321 )
	f1_local4:addElement( f1_local16 )
	f1_local4[0x6E52D9244E6FE65] = f1_local16
	local f1_local17 = nil
	f1_local17 = f1_local1.UIStyledText.new()
	f1_local17[0x8B72E07B55C3AC0] = "TrophyDisclaimer"
	f1_local17:SetVisible( false )
	f1_local17:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECBAC112DDB60], 0 )
	f1_local17:SetAlpha( 0.15, 0 )
	f1_local17:setText( Engine[0xED84C33EC5F01EA]( 0xFE26C2B300ECBA ), 0 )
	f1_local17:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local17:SetFontSize( 18 * _PT )
	f1_local17:SetMinFontSize( 18 * _PT )
	f1_local17:SetWordWrap( true )
	f1_local17:SetAlignment( f1_local1.Alignment.Left )
	f1_local17:SetAnchorsAndPosition( 0, 1, 0, 1, 84.73, 584.73, 381, 405 )
	f1_local4:addElement( f1_local17 )
	f1_local4[0xC0EF5A29215DF40] = f1_local17
	local f1_local18 = nil
	f1_local18 = f1_local1.UIImage.new()
	f1_local18[0x8B72E07B55C3AC0] = "Darkener"
	ACTIONS.ScaleFullscreen( f1_local18 )
	f1_local18:SetVisible( false )
	f1_local18:SetRGB( SWATCHES[0x1F5A9ABAC207F9D][0x8088E72737CAC80], 0 )
	f1_local18:setPriority( 23 )
	f1_local4:addElement( f1_local18 )
	f1_local4[0x67F203F7FCD6A7D] = f1_local18
	local f1_local19 = nil
	f1_local19 = f1_local2.BuildRegisteredType( 0xDA72A46C671357A, {
		controllerIndex = f1_local5
	} )
	f1_local19[0x8B72E07B55C3AC0] = "CinematicFrame"
	f1_local19:SetAlpha( 0, 0 )
	f1_local19:setPriority( 24 )
	f1_local19:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -960, 960, -1080, 0 )
	f1_local4:addElement( f1_local19 )
	f1_local4[0x7C35992B346089F] = f1_local19
	f0_local0( f1_local4, f1_local5, f1_arg1 )
	return f1_local4
end

MenuBuilder.registerType( 0x2120FD5D5EAB538, JupBPSectorPreview )
LUI.FlowManager.RegisterStackPopBehaviour( 0x2120FD5D5EAB538, f0_local0 )
LockTable( _M )
