-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
LUI.LoadingScreenManager = LUI.Class( LUI.UIElement )
LUI.LoadingScreenManager.FadeOutTime = 2000
LUI.LoadingScreenManager.init = function ( f13_arg0, f13_arg1 )
	LUI.UIElement.init( f13_arg0 )
	f13_arg0.id = "LoadingScreenManager"
	f13_arg0._controllerIndex = f13_arg1
end

local f0_local0 = function ( f12_arg0 )
	if CONDITIONS.IsBRGameType( f12_arg0 ) and 0 < Game[0x28624DEF6F708C8]( f12_arg0._controllerIndex, "ui_br_extended_load_screen" ) then
		return true
	elseif Engine[0x9258F49F515F97B]() and 0 < Game[0x28624DEF6F708C8]( f12_arg0._controllerIndex, "ui_mp_extended_load_screen" ) then
		return true
	else
		return false
	end
end

local f0_local1 = function ( f11_arg0 )
	local f11_local0 = Engine[0x9258F49F515F97B]()
	if f11_local0 then
		if not Game[0xA988866C889EAAD]() then
			f11_local0 = not LUI.PostGameManager.IsPostGame( f11_arg0._controllerIndex )
		else
			f11_local0 = false
		end
	end
	return f11_local0
end

LUI.LoadingScreenManager.GetLoadingScreen = function ( f10_arg0 )
	return f10_arg0._loadingScreen
end

LUI.LoadingScreenManager.ShouldBeVisible = function ( f9_arg0 )
	local f9_local0 = f0_local0( f9_arg0 )
	if not f9_local0 then
		f9_local0 = f9_arg0._waitForFadeOut
		if not f9_local0 then
			f9_local0 = f0_local0( f9_arg0 )
		end
	end
	return f9_local0
end

LUI.LoadingScreenManager.Frame = function ( f7_arg0 )
	if not f0_local0( f7_arg0 ) and not f0_local0( f7_arg0 ) and not f7_arg0._fadeOutTimer then
		ACTIONS.AnimateSequence( f7_arg0._loadingScreen, "FadeOut" )
		f7_arg0._fadeOutTimer = f7_arg0:Wait( LUI.LoadingScreenManager.FadeOutTime )
		f7_arg0._fadeOutTimer.onComplete = function ()
			f7_arg0._waitForFadeOut = false
		end
		
	end
end

LUI.LoadingScreenManager.InitLayer = function ( f6_arg0 )
	if CONDITIONS.IsSplitscreen() then
		Engine[0xA69A39DDDA14452]()
	end
	local f6_local0 = LUI.GetDefaultController( f6_arg0 )
	if CONDITIONS.IsThirdGameMode() then
		f6_arg0._loadingScreen = MenuBuilder.BuildRegisteredType( "LoadingStatic", {
			controllerIndex = f6_local0
		} )
	else
		f6_arg0._loadingScreen = MenuBuilder.BuildRegisteredType( "LoadingParallax", {
			controllerIndex = f6_local0
		} )
	end
	f6_arg0:addElement( f6_arg0._loadingScreen )
	if Engine[0x575E9C5B9AAB6F4]() then
		LAYOUT.UpdateFadeFrameForCurrentMenu( f6_arg0._loadingScreen, f6_local0 )
	end
	f6_arg0._waitForFadeOut = true
end

LUI.LoadingScreenManager.ClearLayer = function ( f5_arg0, f5_arg1 )
	if CONDITIONS.IsCoreMultiplayer() then
		BR.SetPlayAgainChoice( BR.PlayAgainChoice.NONE )
	end
	if CONDITIONS.IsSplitscreen() then
		Engine[0xCAABC9F901CB90D]()
	end
	Engine[0x6055C55456F05DF]( "versus_done", 1 )
	f5_arg0:closeChildren()
	f5_arg0._loadingScreen = nil
	local f5_local0 = f5_arg0:getParent()
	if Engine[0x3ECA657EE4C6C9]() and not f5_local0.cursor then
		Engine[0x5F965FF5540EAC8]( false )
	end
end

LUI.LoadingScreenManager.processEvent = function ( f4_arg0, f4_arg1 )
	if not IsInputEvent( f4_arg1.name ) then
		return LUI.LoadingScreenManager.super.processEvent( f4_arg0, f4_arg1 )
	else
		
	end
end

LUI.LoadingScreenManager.TrapsInput = function ( f3_arg0, f3_arg1 )
	if CONDITIONS.IsCoreMultiplayer() and BR.PlayAgainChoice.NONE ~= BR.GetPlayAgainChoice() then
		return true
	else
		return false
	end
end

LUI.LoadingScreenManager.ProcessInputEvent = function ( f2_arg0, f2_arg1 )
	local f2_local0 = false
	local f2_local1 = f2_arg0.m_eventHandlers[f2_arg1.name]
	if f2_local1 then
		f2_local0 = f2_local1( f2_arg0, f2_arg1 )
	end
	if f2_arg0:TrapsInput( f2_arg1 ) and not f2_local0 then
		f2_local0 = LUI.ScoreboardLayer.super.processEvent( f2_arg0, f2_arg1 )
	end
	return f2_local0
end

LUI.LoadingScreenManager.processEvent = function ( f1_arg0, f1_arg1 )
	if f1_arg1.name == "gamepad_button" and not f1_arg1.down then
		return 
	elseif IsInputEvent( f1_arg1.name ) then
		return f1_arg0:ProcessInputEvent( f1_arg1 )
	else
		return LUI.LoadingScreenManager.super.processEvent( f1_arg0, f1_arg1 )
	end
end

