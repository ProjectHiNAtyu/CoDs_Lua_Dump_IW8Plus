-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
LUI.UIWeaponModel = LUI.Class( LUI.UIElement )
LUI.UIWeaponModel.init = function ( f10_arg0, f10_arg1 )
	LUI.UIWeaponModel.super.init( f10_arg0 )
	assert( f10_arg1 )
	assert( f10_arg1.controllerIndex )
	assert( f10_arg1.clientWeaponIndex )
	assert( f10_arg1.basePosition )
	f10_arg0._clientWeaponIndex = f10_arg1.clientWeaponIndex
	local f10_local0 = f10_arg1.dataCSVFile
	if not f10_local0 then
		f10_local0 = CSV.weaponOffsets.file
	end
	f10_arg0._dataCSVFile = f10_local0
	f10_local0 = {
		base2DPosition = f10_arg1.basePosition
	}
	f10_arg0._baseOffsets = f10_arg1.baseOffsets
	f10_arg0:SetupWeaponModel( f10_local0 )
	f10_arg0:SetWeaponIndex( f10_arg0._clientWeaponIndex )
end

LUI.UIWeaponModel.GetDebugOffsets = function ( f9_arg0, f9_arg1, f9_arg2, f9_arg3 )
	local f9_local0 = Dvar[0xEDCFC612B39E0C0]( 0x71F1567332DCCA8 )
	local f9_local1 = Dvar[0xEDCFC612B39E0C0]( 0x774613F8B3B55AB )
	local f9_local2 = Dvar[0xEDCFC612B39E0C0]( 0x4DCCE6EE05480CE )
	local f9_local3 = Dvar[0xEDCFC612B39E0C0]( 0xC836E6DD0FFD64D )
	local f9_local4 = Dvar[0xEDCFC612B39E0C0]( 0xF447F54B5E3C7E2 )
	local f9_local5 = Dvar[0xEDCFC612B39E0C0]( 0x5A83214D3BDC00F )
	if f9_local0 ~= f9_arg1 then
		f9_arg1 = f9_local0
	end
	if f9_local1 ~= f9_arg2 then
		f9_arg2 = f9_local1
	end
	if f9_local2 ~= f9_arg3 then
		f9_arg3 = f9_local2
	end
	return f9_arg1 + f9_local3, f9_arg2 + f9_local4, f9_arg3 + f9_local5
end

LUI.UIWeaponModel.GetDebugRotations = function ( f8_arg0, f8_arg1, f8_arg2, f8_arg3 )
	local f8_local0 = Dvar[0xEDCFC612B39E0C0]( 0xB3467C1D298866D )
	local f8_local1 = Dvar[0xEDCFC612B39E0C0]( 0xCC3BF6F84F16064 )
	local f8_local2 = Dvar[0xEDCFC612B39E0C0]( 0xE97BBCC3E9A7592 )
	if f8_local0 ~= f8_arg1 then
		f8_arg1 = f8_local0
	end
	if f8_local1 ~= f8_arg2 then
		f8_arg2 = f8_local1
	end
	if f8_local2 ~= f8_arg3 then
		f8_arg3 = f8_local2
	end
	return f8_arg1, f8_arg2, f8_arg3
end

LUI.UIWeaponModel.ApplyBaseOffsets = function ( f7_arg0, f7_arg1 )
	if f7_arg0._baseOffsets then
		local f7_local0 = f7_arg0._baseOffsets
		if f7_local0.xOffset then
			f7_arg1.xOffset = f7_arg1.xOffset + f7_local0.xOffset
		end
		if f7_local0.yOffset then
			f7_arg1.yOffset = f7_arg1.yOffset + f7_local0.yOffset
		end
		if f7_local0.zOffset then
			f7_arg1.zOffset = f7_arg1.zOffset + f7_local0.zOffset
		end
	end
end

LUI.UIWeaponModel.SetOffsetsAndRotations = function ( f5_arg0, f5_arg1 )
	assert( f5_arg0._clientWeaponIndex )
	local f5_local0 = f5_arg0._clientWeaponIndex
	local f5_local1 = FrontEndScene.GetWeaponModelOffset( f5_arg1, f5_arg0._dataCSVFile )
	if Engine[0x2DA54CF5D6B7F02]() and Dvar[0x9E5BE3B4BBA4E0E]( 0x207212EF5C79A3A ) then
		f5_local1.xOffset, f5_local1.yOffset, f5_local1.zOffset = f5_arg0:GetDebugOffsets( f5_local1.xOffset, f5_local1.yOffset, f5_local1.zOffset )
	end
	f5_arg0:ApplyBaseOffsets( f5_local1 )
	if LUI.FlowManager.IsUsingWeaponOriginOffset() then
		local f5_local2 = f5_arg0:Wait( 5, true )
		f5_local2.onComplete = function ()
			local f6_local0 = CLIENT_MODEL.GetGunCaseModelSize()
			local f6_local1 = 0
			if f5_arg0 == FrontEndScene.ClientWeapons.GunTableSecondary and f6_local0 == CLIENT_MODEL.gunCaseSizes.SMALL_GUN_CASE then
				f6_local1 = 10
			end
			f5_arg0:SetWeaponOffset( f5_arg0.xOffset, f5_arg0.yOffset + f6_local1, f5_arg0.zOffset )
		end
		
	end
	ClientWeapon[0xD45C6A2FD89FDDC]( f5_local0, f5_local1.xRotationCenter, f5_local1.yRotationCenter, f5_local1.zRotationCenter )
	if Engine[0x2DA54CF5D6B7F02]() and Dvar[0x9E5BE3B4BBA4E0E]( 0x207212EF5C79A3A ) then
		f5_local1.pitch, f5_local1.yaw, f5_local1.roll = f5_arg0:GetDebugRotations( f5_local1.pitch, f5_local1.yaw, f5_local1.roll )
	end
	ClientWeapon[0x2F28F9BE6EE7D2D]( f5_local0, f5_local1.pitch, f5_local1.yaw, f5_local1.roll )
	f5_arg0._currentOffsetData = f5_local1
end

LUI.UIWeaponModel.GetCurrentOffsetsAndRotations = function ( f4_arg0 )
	return f4_arg0._currentOffsetData
end

LUI.UIWeaponModel.GetOffsetsAndRotations = function ( f3_arg0, f3_arg1 )
	assert( f3_arg0._clientWeaponIndex )
	local f3_local0 = f3_arg0._clientWeaponIndex
	local f3_local1 = FrontEndScene.GetWeaponModelOffset( f3_arg1, f3_arg0._dataCSVFile )
	if Engine[0x2DA54CF5D6B7F02]() and Dvar[0x9E5BE3B4BBA4E0E]( 0x207212EF5C79A3A ) then
		f3_local1.xOffset, f3_local1.yOffset, f3_local1.zOffset = f3_arg0:GetDebugOffsets( f3_local1.xOffset, f3_local1.yOffset, f3_local1.zOffset )
	end
	if Engine[0x2DA54CF5D6B7F02]() and Dvar[0x9E5BE3B4BBA4E0E]( 0x207212EF5C79A3A ) then
		f3_local1.pitch, f3_local1.yaw, f3_local1.roll = f3_arg0:GetDebugRotations( f3_local1.pitch, f3_local1.yaw, f3_local1.roll )
	end
	return f3_local1
end

LUI.UIWeaponModel.SetWeaponModel = function ( f2_arg0, f2_arg1 )
	assert( f2_arg0._clientWeaponIndex )
	local f2_local0 = f2_arg0._clientWeaponIndex
	FrontEndScene.SetWeaponModel( f2_local0, f2_arg1 )
	f2_arg0:SetOffsetsAndRotations( f2_arg1 )
	ClientWeapon[0x59B77D6F41ED417]( f2_local0, true )
	ClientWeapon[0x9ABB180A64F1EFC]( f2_local0, true )
end

LUI.UIWeaponModel.GetEntityNum = function ( f1_arg0 )
	assert( f1_arg0._clientWeaponIndex )
	return ClientWeapon[0x5DD69014A9C290]( f1_arg0._clientWeaponIndex )
end

LUI.UIWeaponModel.id = "UIWeaponModel"
