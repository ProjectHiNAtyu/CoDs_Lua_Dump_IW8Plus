-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
LUI.UIButtonCombination = LUI.Class( LUI.UIElement )
LUI.UIButtonCombination.init = function ( f4_arg0, f4_arg1 )
	LUI.UIElement.init( f4_arg0 )
	f4_arg0.id = "ButtonCombination"
	assert( f4_arg1 )
	assert( type( f4_arg1.interval ) == "number" )
	assert( type( f4_arg1.callback ) == "function" )
	assert( type( f4_arg1.onButtonPress ) == "function" )
	local f4_local0 = assert
	local f4_local1
	if f4_arg1.closeOnSuccess ~= nil and type( f4_arg1.closeOnSuccess ) ~= "boolean" then
		f4_local1 = false
	else
		f4_local1 = true
	end
	f4_local0( f4_local1 )
	f4_arg0._interval = f4_arg1.interval
	f4_arg0._callback = f4_arg1.callback
	f4_arg0._onButtonPress = f4_arg1.onButtonPress
	f4_arg0._closeOnSuccess = f4_arg1.closeOnSuccess or false
	f4_arg0:Reset()
end

LUI.UIButtonCombination.Reset = function ( f3_arg0 )
	f3_arg0._currentButtonIndex = 0
	f3_arg0._lastButtonPressTime = 0
end

LUI.UIButtonCombination.SetButtonTable = function ( f2_arg0, f2_arg1 )
	assert( type( f2_arg1 ) == "table" )
	f2_arg0._buttonTable = f2_arg1
end

LUI.UIButtonCombination.HandleButtonPress = function ( f1_arg0, f1_arg1 )
	f1_arg0._currentButtonIndex = f1_arg0._currentButtonIndex + 1
	local f1_local0 = f1_arg0._buttonTable[f1_arg0._currentButtonIndex]
	if f1_arg0._onButtonPress then
		f1_arg0._onButtonPress( f1_local0 == f1_arg1.button, f1_arg0._currentButtonIndex, f1_arg0._lastInputType )
	end
	if f1_local0 == f1_arg1.button then
		local f1_local1 = Engine[0x6991337AE950F99]()
		if f1_arg0._currentButtonIndex == 1 then
			f1_arg0._lastButtonPressTime = f1_local1
		elseif f1_arg0._interval == 0 or f1_local1 - f1_arg0._lastButtonPressTime <= f1_arg0._interval then
			f1_arg0._lastButtonPressTime = f1_local1
			if f1_arg0._currentButtonIndex == #f1_arg0._buttonTable then
				f1_arg0:_callback( f1_arg1.controller )
				f1_arg0:Reset()
				if f1_arg0._closeOnSuccess then
					f1_arg0:closeTree()
				end
			end
		else
			f1_arg0:Reset()
		end
	else
		f1_arg0:Reset()
	end
	return true
end

