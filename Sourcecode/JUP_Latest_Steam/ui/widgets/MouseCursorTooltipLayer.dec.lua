-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
LUI.MouseCursorTooltipLayer = LUI.Class( LUI.UIElement )
local f0_local0 = 500
local f0_local1 = 300
local f0_local2 = 150
local f0_local3 = 150
local f0_local4 = 4
local f0_local5 = -1.5
local f0_local6 = 1
local f0_local7 = 5
local f0_local8 = 10
local f0_local9 = 770
local f0_local10 = 850
LUI.MouseCursorTooltipLayer.init = function ( f44_arg0, f44_arg1 )
	LUI.MouseCursorTooltipLayer.super.init( f44_arg0 )
	f44_arg0.id = "MouseCursorTooltip"
	f44_arg0._controllerIndex = f44_arg1.controllerIndex
end

LUI.MouseCursorTooltipLayer.InitLayer = function ( f40_arg0 )
	local f40_local0
	if CONDITIONS.IsMobileOrMobileSim() then
		f40_local0 = "TouchTooltip"
	else
		f40_local0 = "MouseCursorTooltip"
	end
	local f40_local1 = MenuBuilder.BuildRegisteredType( f40_local0, {
		controllerIndex = f40_arg0._controllerIndex
	} )
	local f40_local2 = CONDITIONS.IsMobileOrMobileSim() and f0_local0 or f0_local0
	f40_local1.id = "tooltip"
	f40_local1._defaultWidth = f40_local2
	f40_local1:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f40_local1._defaultWidth, 0, 200 )
	f40_arg0:addElement( f40_local1 )
	if CONDITIONS.IsMobileOrMobileSim() then
		f40_arg0:SetHandleTouchInput( false )
		LUI.UIRoot.SubscribeToAllTouchEvents( Engine[0xEE6F69FEA944B13](), f40_arg0, function ( f43_arg0, f43_arg1 )
			if not f43_arg0.handleTouchInput and f43_arg1.name ~= "touchbegin" then
				return 
			else
				LUI.MouseCursorTooltipLayer.ForceCloseTooltip( f43_arg1.controllerIndex )
			end
		end )
		f0_local0 = 0
	end
	if not CONDITIONS.IsMobileOrMobileSim() then
		local foreground = MenuBuilder.BuildRegisteredType( "MouseCursorTooltipDetails", {
			controllerIndex = f40_arg0._controllerIndex
		} )
		foreground.id = "foreground"
		f40_arg0:addElement( foreground )
		f40_arg0.foreground = foreground
		
		f40_arg0.foreground:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	end
	f40_arg0.tooltip = f40_local1
	f40_arg0._tooltipIsActive = f40_arg0._tooltipIsActive or false
	f40_arg0._tooltipPositionSet = false
	f40_arg0._clearButtonList = {}
	LUI.MouseCursorTooltipLayer.RefreshTooltip( f40_arg0._controllerIndex )
	f40_arg0._inputTypeSubscription = f40_arg0:SubscribeToInputTypeModel( f40_arg0._controllerIndex, function ( f42_arg0, f42_arg1 )
		local f42_local0 = f42_arg1._controllerIndex
		if not LUI.IsLastInputMouseNavigation( f42_local0 ) and f42_arg1._tooltipData and f42_arg1._tooltipData.isMouseOnly then
			LUI.MouseCursorTooltipLayer.ForceCloseTooltip( f42_local0, 0 )
		end
	end )
	f40_arg0:registerEventHandler( "closeallmenus", function ( element, event )
		if element.tooltip then
			local f41_local0 = LUI.MouseCursorTooltipLayer.ForceCloseTooltip
			local f41_local1 = event.controller
			if not f41_local1 then
				f41_local1 = Engine[0x45B054C920178E9]()
			end
			f41_local0( f41_local1 )
		end
	end )
	f40_arg0:SetAlpha( 0 )
end

LUI.MouseCursorTooltipLayer.ClearLayer = function ( f39_arg0 )
	f39_arg0:deregisterEventHandler( "closeallmenus" )
	if f39_arg0.tooltip then
		f39_arg0.tooltip:closeTree()
		f39_arg0.tooltip = nil
	end
	if f39_arg0.foreground then
		f39_arg0.foreground:closeTree()
		f39_arg0.foreground = nil
	end
	if f39_arg0.__tooltipToggleTimer then
		f39_arg0:deregisterEventHandler( "toggle_tooltip_timer" )
		f39_arg0.__tooltipToggleTimer:closeTree()
		f39_arg0.__tooltipToggleTimer = nil
	end
	if f39_arg0._inputTypeSubscription then
		f39_arg0:UnsubscribeFromModel( f39_arg0._inputTypeSubscription )
		f39_arg0._inputTypeSubscription = nil
	end
end

LUI.MouseCursorTooltipLayer.GetLayer = function ()
	local f38_local0 = Engine[0xEE6F69FEA944B13]()
	return f38_local0.mouseCursorTooltipLayer
end

LUI.MouseCursorTooltipLayer.ShouldBeVisible = function ( f37_arg0 )
	local f37_local0 = Engine[0xEE6F69FEA944B13]()
	local f37_local1 = f37_local0.cursor
	local f37_local2 = false
	local f37_local3
	if f37_local1 == nil then
		f37_local3 = CONDITIONS.IsMobileOrMobileSim()
	else
		f37_local3 = true
	end
	if f37_local3 then
		if Engine[0x12586A3F4FB490E]() then
			for f37_local4 = 0, Engine[0xB686A0A723E6442]() - 1, 1 do
				if Engine[0x10A5732AB1DAE9F]( f37_local4 ) and Engine[0x7B17D94988FD5D0]( "toggleTooltipEnable", f37_local4 ) then
					f37_local2 = true
				end
			end
		else
			f37_local2 = Engine[0x7B17D94988FD5D0]( "toggleTooltipEnable", f37_arg0._controllerIndex )
		end
	end
	local f37_local4
	if f37_local3 then
		f37_local4 = f37_local3
	else
		f37_local4 = f37_local2
	end
	return f37_local4
end

local f0_local11 = function ( f36_arg0, f36_arg1, f36_arg2 )
	local f36_local0 = f36_arg2._tooltipWidth * 0.5
	local f36_local1 = f36_arg2._tooltipHeight * 0.5
	if not CONDITIONS.IsMobileOrMobileSim() then
		f36_arg0:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -f36_local0, f36_local0, -f36_local1, f36_local1 )
	else
		f36_arg0.tooltip:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -f36_local0, f36_local0, -f36_local1, f36_local1 )
	end
end

local f0_local12 = function ( f35_arg0, f35_arg1, f35_arg2, f35_arg3, f35_arg4 )
	local f35_local0 = f35_arg4.horizontalAlignment
	local f35_local1 = f35_arg4.verticalAlignment
	local f35_local2 = f35_arg4.disabledCondition
	local f35_local3, f35_local4, f35_local5, f35_local6 = nil
	if CONDITIONS.IsMobileOrMobileSim() then
		local f35_local7, f35_local8 = Engine[0xCD733A4551A297D]( f35_arg1 )
		f35_local5, f35_local6 = ProjectRootCoordinate( f35_arg2.name, f35_local7, f35_local8 )
	else
		f35_local3 = DataModel[0x614D394F6F9A18D]( f35_arg2.mouseX )
		f35_local4 = DataModel[0x614D394F6F9A18D]( f35_arg2.mouseY )
		local f35_local7 = f35_local3
		f35_local6 = f35_local4
		f35_local5 = f35_local7
	end
	local f35_local7, f35_local8 = f35_arg2:PixelsToUnits( f35_local5, f35_local6 )
	if f35_local0 then
		f35_arg3._initialHorizontalAlignment = f35_local0
	else
		local f35_local9
		if LAYOUT.GetHorizontalOutOfScreenOffset( f35_arg2, f35_local7 + f35_arg3._tooltipWidth ) == 0 then
			f35_local9 = "right"
		else
			f35_local9 = "left"
		end
		f35_arg3._initialHorizontalAlignment = f35_local9
	end
	if f35_local1 then
		f35_arg3._initialVerticalAlignment = f35_local1
	else
		local f35_local10
		if LAYOUT.GetVerticalOutOfScreenOffset( f35_arg2, f35_local8 + f35_arg3._tooltipHeight, 0.95 ) == 0 then
			f35_local10 = "bottom"
		else
			f35_local10 = "top"
		end
		f35_arg3._initialVerticalAlignment = f35_local10
	end
	local f35_local11
	if f35_arg3._initialHorizontalAlignment == "right" then
		f35_local11 = 0
	else
		f35_local11 = f35_arg3._tooltipWidth
	end
	local f35_local9
	if f35_arg3._initialVerticalAlignment == "bottom" then
		f35_local9 = 0
	else
		f35_local9 = f35_arg3._tooltipHeight
	end
	local f35_local10 = 0
	if f35_arg3._initialVerticalAlignment == "bottom" then
		if f35_arg3._initialHorizontalAlignment == "left" then
			f35_local10 = -90
		end
	elseif f35_arg3._initialHorizontalAlignment == "left" then
		f35_local10 = 180
	else
		f35_local10 = 90
	end
	if f35_arg0.foreground and f35_arg0.foreground.SetCrosshairPosition then
		f35_arg0.foreground:SetCrosshairPosition( f35_local11, f35_local9, f35_local10 )
	end
	local f35_local12, f35_local13 = f35_arg3:ComputeTooltipPosition( f35_arg2, f35_local7, f35_local8 )
	f35_arg0._tooltipPosition = {
		x = f35_local12,
		y = f35_local13
	}
	local f35_local14 = f35_arg0._tooltipPosition
	local f35_local15 = f35_local14.x + f35_arg3._tooltipWidth
	local f35_local16 = f35_local14.y + f35_arg3._tooltipHeight
	if not CONDITIONS.IsMobileOrMobileSim() then
		f35_arg0:SetAnchorsAndPosition( 0, 1, 0, 1, f35_local14.x, f35_local15, f35_local14.y, f35_local16 )
	else
		f35_arg0.tooltip:SetAnchorsAndPosition( 0, 1, 0, 1, f35_local14.x, f35_local15, f35_local14.y, f35_local16 )
	end
end

local f0_local13 = function ( f34_arg0, f34_arg1, f34_arg2, f34_arg3, f34_arg4, f34_arg5 )
	local f34_local0 = f34_arg2._tooltipWidth
	local f34_local1 = f34_arg2._tooltipHeight
	local f34_local2 = 0
	local f34_local3 = 0
	local f34_local4 = 0
	local f34_local5
	if not f34_arg4 then
		f34_local5 = f34_arg4
	else
		f34_local5 = 0
	end
	local f34_local6
	if not f34_arg5 then
		f34_local6 = f34_arg5
	else
		f34_local6 = 0
	end
	if f34_arg3 == LUI.ORIENTATION.left then
		f34_local2 = f34_local0 - f0_local0 + f34_local5
		f34_local3 = f34_local1 / 2 + f34_local6
		f34_local4 = 90
	elseif f34_arg3 == LUI.ORIENTATION.right then
		f34_local2 = f0_local0 + f34_local5
		f34_local3 = f34_local1 / 2 + f34_local6
		f34_local4 = 270
	elseif f34_arg3 == LUI.ORIENTATION.down then
		f34_local2 = f34_local0 / 2 + f34_local5
		f34_local3 = f0_local0 + f34_local6
	else
		f34_local2 = f34_local0 / 2 + f34_local5
		f34_local3 = f34_local1 - f0_local0 + f34_local6
	end
	if f34_arg0.foreground and f34_arg0.foreground.SetCrosshairPositionFocusedElement then
		f34_arg0.foreground:SetCrosshairPositionFocusedElement( f34_arg3, f34_local2, f34_local3, f34_local4, f34_local0 )
	end
end

local f0_local14 = function ( f32_arg0, f32_arg1, f32_arg2, f32_arg3, f32_arg4 )
	local f32_local0, f32_local1, f32_local2, f32_local3 = REG5.getCurrentGlobalRect( f32_arg3._customElementToCenterTo or f32_arg0.focusedElem )
	if f32_local0 and f32_local1 and f32_local2 and f32_local3 then
		local f32_local4 = f32_local0 + f32_local2
		local f32_local5 = f32_local1 + f32_local3
		local f32_local6 = 0
		local f32_local7 = 0
		local f32_local8 = 0
		local f32_local9 = 0
		local f32_local10 = f32_arg3._tooltipWidth
		local f32_local11 = f32_arg3._tooltipHeight
		local f32_local12 = f32_local5 / 2 - f32_local11 / 2
		local f32_local13 = f32_local4 / 2 - f32_local10 / 2
		local f32_local14 = f32_arg0.foreground and LAYOUT.GetElementHeight( f32_arg0.foreground.TooltipCrosshair ) or 0
		local f32_local15 = 0.05
		if f32_arg4 == LUI.ORIENTATION.left then
			f32_local6 = f32_local0 - f32_local10 - f32_local14
			f32_local7 = f32_local6 + f32_local10
			f32_local8 = f32_local12
			f32_local9 = f32_local8 + f32_local11
		elseif f32_arg4 == LUI.ORIENTATION.right then
			f32_local7 = f32_local2 + f32_local10 + f32_local14
			f32_local6 = f32_local7 - f32_local10
			f32_local8 = f32_local12
			f32_local9 = f32_local8 + f32_local11
		elseif f32_arg4 == LUI.ORIENTATION.down then
			f32_local6 = f32_local13
			f32_local7 = f32_local6 + f32_local10
			f32_local9 = f32_local3 + f32_local11 + f32_local14
			f32_local8 = f32_local9 - f32_local11
		else
			f32_local6 = f32_local13
			f32_local7 = f32_local6 + f32_local10
			f32_local8 = f32_local1 - f32_local11 - f0_local0 - f32_local14
			f32_local9 = f32_local8 + f32_local11
			if LAYOUT.GetVerticalOutOfScreenOffset( f32_arg2, f32_local8, f32_local15 ) ~= 0 then
				f0_local0( f32_arg0, f32_arg1, f32_arg3, LUI.ORIENTATION.down )
				f32_local9 = f32_local3 + f32_local11 + f32_local14
				f32_local8 = f32_local9 - f32_local11
				f32_arg4 = LUI.ORIENTATION.down
			end
		end
		if f32_arg4 == LUI.ORIENTATION.down or f32_arg4 == LUI.ORIENTATION.up then
			local f32_local16 = function ( f33_arg0 )
				f32_arg0 = f32_arg0 - f33_arg0
				f32_arg0( f32_arg0, f32_arg0, f32_arg0, f32_arg0, f33_arg0 )
			end
			
			local f32_local17 = LAYOUT.GetHorizontalOutOfScreenOffset( f32_arg2, f32_local7 )
			if f32_local17 ~= 0 then
				f32_local16( f32_local17 )
			else
				local f32_local18 = LAYOUT.GetHorizontalOutOfScreenOffset( f32_arg2, f32_local6 )
				if f32_local18 ~= 0 then
					f32_local16( -f32_local18 )
				end
			end
		end
		if f32_arg4 == LUI.ORIENTATION.left or f32_arg4 == LUI.ORIENTATION.right then
			f32_arg0:SetAnchorsAndPosition( 0, 0, 0, 0, f32_local6, f32_local7, f32_local8, f32_local9 )
		else
			f32_arg0:SetAnchorsAndPosition( 0, 0, 0, 0, f32_local6 - f0_local0, f32_local7 + f0_local0, f32_local8 + f0_local0, f32_local9 - f0_local0 )
		end
	end
end

local f0_local15 = function ( f31_arg0, f31_arg1, f31_arg2 )
	local f31_local0 = f31_arg0.tooltip
	if f31_local0 then
		local f31_local1 = Engine[0xEE6F69FEA944B13]()
		f31_local0._customElementToCenterTo = f31_arg2.customElementToCenterTo
		f31_local0._tooltipHeight = f31_local0:ComputeTotalHeightToChildrenHeight()
		f31_local0._tooltipWidth = f31_local0:ComputeTotalWidthToMaxChildrenWidth()
		f31_local0:SetBottom( f31_local0._tooltipHeight )
		f31_local0:SetRight( f31_local0._tooltipWidth )
		if f31_arg0.mobileOptionChanged then
			f0_local0( f31_arg0, f31_arg1, f31_local0 )
		elseif Dvar[0x9E5BE3B4BBA4E0E]( 0x3B747F6BF2502AF ) or CONDITIONS.IsMobileOrMobileSim() then
			f0_local0( f31_arg0, f31_arg1, f31_local1, f31_local0, f31_arg2 )
		else
			f0_local0( f31_arg0, f31_arg1, f31_local0, f31_arg2.orientation )
			f0_local0( f31_arg0, f31_arg1, f31_local1, f31_local0, f31_arg2.orientation )
		end
	end
end

local f0_local16 = function ( f28_arg0, f28_arg1, f28_arg2, f28_arg3 )
	local f28_local0 = f28_arg0.tooltip
	if f28_local0 then
		f28_arg0.focusedElem = f28_arg2
		f28_arg0:UpdateTooltipData( f28_arg1, f28_arg3 )
		if f28_arg0.tooltip then
			local f28_local1 = f28_arg0.tooltip._customElementToCenterTo
			local f28_local2 = f28_arg0.focusedElem
			if f28_local1 and not f28_local1.handlerAdded then
				f28_local1:addEventHandler( "on_close", function ( f30_arg0, f30_arg1 )
					f28_arg0 = nil
				end )
				f28_local1.handlerAdded = true
			end
			if f28_local2 and not f28_local2.closeTooltipHandlerAdded then
				f28_local2:addEventHandler( "on_close", function ( f29_arg0, f29_arg1 )
					if f28_arg0.tooltip then
						f28_arg0.tooltip:OnCloseTooltip()
					end
				end )
				f28_local2.closeTooltipHandlerAdded = true
			end
		end
		if f28_local0._hasPrompts or f28_local0._hasTitle or f28_local0._hasDescription or f28_local0._hasLockedDescription then
			f28_arg0:SetAlpha( 1, f0_local0 )
			f28_arg0._tooltipPositionSet = true
			f28_arg0._tooltipIsActive = true
			f28_arg0._tooltipData = f28_arg3
		end
		if f28_arg0.__tooltipToggleTimer then
			f28_arg0:deregisterEventHandler( "toggle_tooltip_timer" )
			f28_arg0.__tooltipToggleTimer:closeTree()
			f28_arg0.__tooltipToggleTimer = nil
		end
		if CONDITIONS.IsMobileOrMobileSim() then
			f28_arg0:SetHandleTouchInput( true )
		end
	end
end

local f0_local17 = function ( f27_arg0, f27_arg1, f27_arg2 )
	local f27_local0 = f27_arg1._clearDataIndex and f27_arg0._clearButtonList
	if f27_local0 and f27_local0[f27_arg1._clearDataIndex] then
		table.remove( f27_local0, f27_arg1._clearDataIndex )
		f27_arg1._clearDataIndex = nil
		return true
	else
		return false
	end
end

local f0_local18 = function ( f26_arg0, f26_arg1, f26_arg2 )
	local f26_local0 = f26_arg0.tooltip
	local f26_local1
	if not f26_arg2 then
		f26_local1 = f26_arg2
	else
		f26_local1 = f0_local0
	end
	f26_arg0:SetAlpha( 0, f26_local1 )
	if f26_arg0.focusedElem then
		f0_local0( f26_arg0, f26_arg0.focusedElem, f26_arg1 )
		f26_arg0.focusedElem._isChildSelected = nil
		f26_arg0.focusedElem = nil
	end
	f26_arg0._tooltipIsActive = false
	f26_arg0._tooltipPositionSet = false
	f26_arg0._tooltipData = nil
	if f26_arg0.__tooltipToggleTimer then
		f26_arg0:deregisterEventHandler( "toggle_tooltip_timer" )
		f26_arg0.__tooltipToggleTimer:closeTree()
		f26_arg0.__tooltipToggleTimer = nil
	end
	if CONDITIONS.IsMobileOrMobileSim() then
		f26_arg0:SetHandleTouchInput( false )
	end
end

local f0_local19 = function ( f25_arg0, f25_arg1 )
	if LUI.IsLastInputMouseNavigation( f25_arg0 ) or CONDITIONS.IsMobileOrMobileSim() then
		return f0_local0
	else
		local f25_local0
		if not f25_arg1 then
			f25_local0 = f25_arg1
		else
			f25_local0 = f0_local0
		end
	end
	return f25_local0
end

local f0_local20 = function ( f23_arg0, f23_arg1, f23_arg2, f23_arg3 )
	if f23_arg0.tooltip then
		local f23_local0 = f0_local0( f23_arg1, f23_arg3.customGpadToggleTimer )
		if f23_arg0.__tooltipToggleTimer == nil then
			f23_arg0.__tooltipToggleTimer = LUI.UITimer.new( {
				interval = f23_local0,
				event = {
					name = "toggle_tooltip_timer",
					controllerIndex = f23_arg1,
					focusedButton = f23_arg2,
					tooltipData = f23_arg3
				}
			} )
			f23_arg0.__tooltipToggleTimer.id = "timer"
			f23_arg0:addElement( f23_arg0.__tooltipToggleTimer )
			f23_arg0:registerEventHandler( "toggle_tooltip_timer", function ( element, event )
				local f24_local0 = event.focusedButton
				if f24_local0 then
					f24_local0 = event.focusedButton:GetCurrentMenu()
				end
				if f24_local0 then
					f23_arg0( element, event.controllerIndex, event.focusedButton, event.tooltipData )
				end
			end )
		else
			f23_arg0:deregisterEventHandler( "toggle_tooltip_timer" )
			f23_arg0.__tooltipToggleTimer:closeTree()
			f23_arg0.__tooltipToggleTimer = nil
		end
	end
end

local f0_local21 = function ( f22_arg0 )
	if f22_arg0 then
		
	else
		
	end
	return nil, f22_arg0
end

local f0_local22 = function ( f21_arg0, f21_arg1 )
	local f21_local0 = LUI.MouseCursorTooltipLayer.GetLayer()
	if f21_local0 ~= nil and (f21_local0.focusedElem == nil or f21_local0.focusedElem ~= f21_arg0) then
		local f21_local1 = {
			AUTOMATIONMOBILE_2 = "LUA_MENU_MOBILE/AUTOMATION_OPTION_CUSTOM_HINT",
			AUTOFIREMOBILE_2 = "LUA_MENU_MOBILE/AUTOFIRE_OPTION_CUSTOM_HINT"
		}
		local f21_local2 = nil
		local f21_local3 = UI_CUSTOMIZATION.GetOptionData( f21_arg1.controllerIndex, f21_arg1.optionId )
		if f21_local3.getTooltipText == nil then
			local f21_local4 = ToUpperCase( f21_arg1.optionId .. "_" .. f21_arg1.currentValue )
			local f21_local5 = f21_local1[f21_local4]
			if not f21_local5 then
				f21_local5 = ToUpperCase( "LUA_MENU_MOBILE/OPTION_TOOLTIP_" .. f21_local4 )
			end
			if f21_local3 and f21_local3.type == "SliderBarWithEditBox" then
				return 
			end
			f21_local2 = Engine[0xED84C33EC5F01EA]( f21_local5 )
			if f21_local2 == f21_local5 then
				return 
			end
		else
			f21_local2 = f21_local3:getTooltipText( f21_arg1.controllerIndex, f21_arg1.currentValue )
		end
		local f21_local4 = OPTIONS.GetAvailableSettingDataFromId( f21_arg1.optionId, f21_arg1.controllerIndex )
		if f21_local4 and f21_local4.type == "SliderBarWithEditBox" then
			return 
		end
		f21_local0.mobileOptionChanged = true
		local f21_local5 = {
			title = f21_arg1.optionName,
			description = f21_local2,
			orientation = LUI.ORIENTATION.up
		}
		LUI.MouseCursorTooltipLayer.ForceCloseTooltip( f21_arg1.controllerIndex, 0 )
		LUI.MouseCursorTooltipLayer.TryOpenTooltip( f21_local0, f21_arg1.controllerIndex, f21_arg0, f21_local5 )
	end
end

LUI.MouseCursorTooltipLayer.AddTooltipMouseHandlerToElement = function ( f15_arg0 )
	if not f15_arg0.tooltipMouseHandlersAdded then
		local f15_local0 = function ( f20_arg0, f20_arg1 )
			local f20_local0 = Engine[0xEE6F69FEA944B13]()
			f20_local0 = f20_local0.cursor
			if f20_arg0._tooltipData and (f20_local0 or CONDITIONS.IsMobileOrMobileSim()) then
				local f20_local1 = f20_arg1.controller or f20_local0._controllerIndex
				local f20_local2 = CONDITIONS.IsGamepadActiveInputMethodForPrompts( f20_local1 )
				local f20_local3 = LUI.IsLastInputMouseNavigation( f20_local1 )
				if f20_local3 then
					f20_local3 = CONDITIONS.IsKbmActiveInputMethodForPrompts( f20_local1 )
				end
				if f20_local1 and (not (not f20_local2 or not f20_arg0._tooltipData.promptsData or f20_arg0._tooltipData.gamepadDescription) or f20_arg0._tooltipData.isMouseOnly and not f20_local3) then
					return 
				elseif f20_local1 then
					local f20_local4 = f20_arg1.focusType
					local f20_local5
					if f20_local4 then
						f20_local5 = f20_local4
					else
						f20_local5 = f20_arg0.AcceptsFocusType
						if f20_local5 then
							f20_local5 = f20_arg0:AcceptsFocusType( f20_local4 )
						end
					end
					if (not f20_local4 or f20_local5) and not f20_arg1.fromQuickSelect then
						LUI.MouseCursorTooltipLayer.MouseEnterTooltipUpdate( f20_local1, f20_arg0 )
					end
				end
			end
		end
		
		local f15_local1 = function ( f19_arg0, f19_arg1 )
			local f19_local0 = Engine[0xEE6F69FEA944B13]()
			f19_local0 = f19_local0.cursor
			if f19_local0 or CONDITIONS.IsMobileOrMobileSim() then
				local f19_local1 = CONDITIONS.IsMobileOrMobileSim() and f19_arg1.controller or f19_local0._controllerIndex
				if f19_local1 then
					LUI.MouseCursorTooltipLayer.MouseLeaveTooltipUpdate( f19_local1, f19_arg0 )
				end
			end
		end
		
		if CONDITIONS.IsMobileOrMobileSim() then
			local f15_local2 = nil
			f15_arg0:addEventHandler( "touchbegin", function ( f18_arg0, f18_arg1 )
				if f18_arg0.PositionInTooltipArea ~= nil and f18_arg0:PositionInTooltipArea( f18_arg1 ) then
					f15_arg0 = {
						x = f18_arg1.unitsX,
						y = f18_arg1.unitsY
					}
				else
					f15_arg0 = {
						x = 0,
						y = 0
					}
				end
			end )
			f15_arg0:addEventHandler( "on_option_changed", function ( f17_arg0, f17_arg1 )
				if f17_arg0.id == f17_arg1.optionId then
					f15_arg0( f17_arg0, f17_arg1 )
				end
			end )
			f15_arg0:addEventHandler( "touchend", function ( f16_arg0, f16_arg1 )
				local f16_local0 = LUI.MouseCursorTooltipLayer.GetLayer()
				if f16_local0 ~= nil and f16_arg0.PositionInTooltipArea ~= nil and f16_arg0:PositionInTooltipArea( f16_arg1 ) then
					if f16_local0.focusedElem ~= nil then
						f16_local0.focusedElem:processEvent( {
							name = "close_tooltip"
						} )
					end
					if f16_local0.focusedElem == f16_arg0 then
						f15_arg0( f16_arg0, f16_arg1 )
					else
						LUI.MouseCursorTooltipLayer.ForceCloseTooltip( f16_arg1.controllerIndex, 0 )
					end
					local f16_local1 = false
					if f15_arg0 then
						local f16_local2 = Math.GetDistance2DSq( f15_arg0, {
							x = f16_arg1.unitsX,
							y = f16_arg1.unitsY
						} )
						local f16_local3 = Dvar[0x22EAAB59AA27E9B]( 0x97B4C9863C980A ) or 0
						f16_local1 = f16_local3 * f16_local3 < f16_local2
					end
					local f16_local2 = f16_arg0._tooltipData
					if f16_local2 then
						f16_local2 = f16_arg0._tooltipData.title
						if not f16_local2 then
							f16_local2 = f16_arg0._tooltipData.description
						end
					end
					if f16_arg1.inside and not f16_local1 and f16_local2 then
						f16_local0.mobileOptionChanged = false
						f15_arg0( f16_arg0, f16_arg1 )
						f16_arg0:processEvent( {
							name = "show_tooltip"
						} )
					end
				end
			end )
		end
		f15_arg0:addEventHandler( "gain_focus", f15_local0 )
		f15_arg0:addEventHandler( "lose_focus", f15_local1 )
		f15_arg0.tooltipMouseHandlersAdded = true
	end
end

LUI.MouseCursorTooltipLayer.AddTootlipMouseHandlerToFocusableChildren = function ( f14_arg0 )
	if f14_arg0:getFirstChild() then
		
	else
		
	end
end

LUI.MouseCursorTooltipLayer.SetupTooltipEventHandlersOnElement = function ( f12_arg0, f12_arg1, f12_arg2 )
	LUI.MouseCursorTooltipLayer.AddTooltipMouseHandlerToElement( f12_arg0 )
	if f12_arg2.focusableChildrenRefresh then
		LUI.MouseCursorTooltipLayer.AddTootlipMouseHandlerToFocusableChildren( f12_arg0 )
	end
	local f12_local0 = function ( f13_arg0 )
		if f13_arg0._tooltipData then
			local f13_local0 = Engine[0xEE6F69FEA944B13]()
			f13_local0 = f13_local0.cursor
			if f13_local0 then
				local f13_local1 = f13_local0._controllerIndex
				if f13_local1 then
					LUI.MouseCursorTooltipLayer.TooltipElementClosed( f13_local1, f13_arg0 )
				end
			end
		end
	end
	
	f12_arg0:registerEventHandler( "on_close", f12_local0 )
	f12_arg0:registerEventHandler( "on_remove_tooltip_data", f12_local0 )
end

LUI.MouseCursorTooltipLayer.MouseEnterTooltipUpdate = function ( f10_arg0, f10_arg1 )
	local f10_local0 = LUI.MouseCursorTooltipLayer.GetLayer()
	if f10_local0 and f10_local0.tooltip then
		local f10_local1, f10_local2 = f0_local0( f10_arg1 )
		if f10_local2 and f10_local1 then
			local f10_local3 = nil
			if f10_arg1 ~= nil then
				local f10_local4 = f10_arg1:getParent()
				if f10_local4 ~= nil and f10_local4._tooltipData then
					f10_local3 = f10_arg1
				end
			end
			local f10_local4 = f10_local3 ~= nil
			if f10_local4 then
				f10_local2 = f10_local3
			end
			local f10_local5 = f10_local0.focusedElem == f10_local2
			f10_local2._isChildSelected = f10_local4
			if f10_local0.focusedElem == nil or not f10_local5 then
				LUI.MouseCursorTooltipLayer.TryOpenTooltip( f10_local0, f10_arg0, f10_local2, f10_local1 )
				local f10_local6 = #f10_local0._clearButtonList
				f10_arg1._clearDataIndex = f10_local6
				f10_local0._clearButtonList[f10_local6] = f10_arg1
				if f10_arg1 and not f10_arg1.clearButtonsHandlerAdded then
					f10_arg1:addEventHandler( "on_close", function ( f11_arg0, f11_arg1 )
						if f10_arg0._clearButtonList[f10_arg0] == f11_arg0 then
							f10_arg0._clearButtonList[f10_arg0] = nil
						end
					end )
					f10_arg1.clearButtonsHandlerAdded = true
				end
			end
			if f10_local0._tooltipIsActive and f10_local5 then
				LUI.MouseCursorTooltipLayer.RefreshTooltip( f10_arg0 )
			end
		end
	end
end

LUI.MouseCursorTooltipLayer.MouseLeaveTooltipUpdate = function ( f9_arg0, f9_arg1 )
	local f9_local0 = LUI.MouseCursorTooltipLayer.GetLayer()
	if f9_local0 and f9_local0.tooltip then
		local f9_local1, f9_local2 = f0_local0( f9_arg1 )
		if f0_local0( f9_local0, f9_arg1, f9_arg0 ) then
			LUI.MouseCursorTooltipLayer.ClearTooltipData( f9_local0, f9_arg0, f9_arg1 )
		elseif f9_local1 then
			LUI.MouseCursorTooltipLayer.RefreshTooltip( f9_arg0 )
		end
	end
end

LUI.MouseCursorTooltipLayer.TooltipElementClosed = function ( f8_arg0, f8_arg1 )
	local f8_local0 = LUI.MouseCursorTooltipLayer.GetLayer()
	if f8_local0 and f8_local0.tooltip and f8_local0.focusedElem == f8_arg1 and f0_local0( f8_local0, f8_arg1, f8_arg0 ) then
		LUI.MouseCursorTooltipLayer.ClearTooltipData( f8_local0, f8_arg0, f8_arg1 )
	end
end

LUI.MouseCursorTooltipLayer.TryOpenTooltip = function ( f7_arg0, f7_arg1, f7_arg2, f7_arg3 )
	f7_arg0:ClearTooltipData( f7_arg1, nil )
	if f7_arg0.tooltip and Engine[0x7B17D94988FD5D0]( "toggleTooltipEnable", f7_arg1 ) then
		f0_local0( f7_arg0, f7_arg1, f7_arg2, f7_arg3 )
	end
end

LUI.MouseCursorTooltipLayer.RefreshTooltip = function ( f5_arg0, f5_arg1 )
	local f5_local0 = LUI.MouseCursorTooltipLayer.GetLayer()
	if f5_local0 then
		local f5_local1 = f5_local0.tooltip
		local f5_local2 = nil
		if f5_arg1 then
			f5_local2 = f5_arg1
		else
			f5_local2 = f5_local0._tooltipData
		end
		if f5_local1 then
			if f5_local2 then
				f5_local0:UpdateTooltipData( f5_arg0, f5_local2 )
				local f5_local3 = f0_local0( f5_arg0 )
				local f5_local4 = f5_local1._hasPrompts
				if not f5_local4 then
					f5_local4 = f5_local1._hasTitle
					if not f5_local4 then
						f5_local4 = f5_local1._hasDescription or f5_local1._haslockedDescription
					end
				end
				if not f5_local4 then
					f5_local0:SetAlpha( 0, f0_local0 )
					f5_local0.hiddenFromRefresh = true
				elseif f5_local0.hiddenFromRefresh then
					if f5_local0.__tooltipRefreshTimer == nil then
						f5_local0.__tooltipRefreshTimer = LUI.UITimer.new( {
							event = "refresh_tooltip_timer",
							interval = f5_local3
						} )
						f5_local0.__tooltipRefreshTimer.id = "timer"
						f5_local0:addElement( f5_local0.__tooltipRefreshTimer )
						f5_local0.__tooltipRefreshTimer:registerEventHandler( "refresh_tooltip_timer", function ( element, event )
							f5_arg0:SetAlpha( 1, f5_arg0 )
							f5_arg0.hiddenFromRefresh = nil
							if f5_arg0.__tooltipRefreshTimer then
								f5_arg0.__tooltipRefreshTimer:closeTree()
								f5_arg0.__tooltipRefreshTimer = nil
							end
						end )
					else
						f5_local0.__tooltipRefreshTimer:closeTree()
						f5_local0.__tooltipRefreshTimer = nil
					end
				end
			else
				local f5_local3 = f5_local0.focusedElem
				if f5_local3 then
					f5_local0.focusedElem = nil
					f5_local0.MouseEnterTooltipUpdate( f5_arg0, f5_local3 )
				end
			end
		end
	end
end

LUI.MouseCursorTooltipLayer.UpdateTooltipData = function ( f4_arg0, f4_arg1, f4_arg2 )
	local f4_local0 = f4_arg2.title
	local f4_local1 = f4_arg2.description
	local f4_local2 = f4_arg2.disabledGamepadDescription
	if f4_local2 then
		f4_local2 = f4_arg2.disabledGamepadDescription( f4_arg0.focusedElem )
	end
	local f4_local3 = f4_arg2.gamepadDescription
	local f4_local4 = f4_arg2.promptsData
	local f4_local5 = f4_arg2.lockedDescription
	local f4_local6 = f4_arg0.tooltip
	local f4_local7 = CONDITIONS.IsGamepadActiveInputMethodForPrompts( f4_arg1 )
	if f4_local7 then
		if not f4_local2 then
			f4_local7 = f4_local3
		else
			f4_local7 = false
		end
	end
	if f4_local6 then
		f4_local6:SetTitle( f4_local0, f4_arg1 )
		local f4_local8 = f4_local6
		local f4_local9 = f4_local6.SetDescription
		local f4_local10
		if f4_local7 and not f4_local3 then
			f4_local10 = f4_local3
		else
			f4_local10 = f4_local1
		end
		f4_local9( f4_local8, f4_local10, f4_arg1 )
		f4_local6:SetLockedDescription( f4_local5, f4_arg1 )
		f4_local6:SetKeyPrompts( f4_local4, f4_arg1 )
		f0_local0( f4_arg0, f4_arg1, f4_arg2 )
	end
end

LUI.MouseCursorTooltipLayer.ForceCloseTooltip = function ( f3_arg0, f3_arg1 )
	local f3_local0 = LUI.MouseCursorTooltipLayer.GetLayer()
	if f3_local0 then
		if CONDITIONS.IsMobileOrMobileSim() and f3_local0 ~= nil then
			f3_local0:Wait( 0, true )
			if f3_local0.focusedElem ~= nil then
				f3_local0.focusedElem:processEvent( {
					name = "close_tooltip"
				} )
			end
		end
		f0_local0( f3_local0, f3_arg0, f3_arg1 )
	end
end

LUI.MouseCursorTooltipLayer.ClearTooltipData = function ( f2_arg0, f2_arg1, f2_arg2 )
	if f2_arg0.tooltip then
		if f2_arg2 and f2_arg2._isChildSelected then
			f0_local0( f2_arg0 )
			local f2_local0 = f2_arg2:getParent()
			if f2_local0 and f2_local0:isInFocus() then
				local f2_local1 = f2_local0:getAllFocusedChildren()
				local f2_local2
				if #f2_local1 == 0 and not f2_local0 then
					f2_local2 = f2_local0
				else
					f2_local2 = f2_local1[#f2_local1]
				end
				f2_arg0.MouseEnterTooltipUpdate( f2_arg1, f2_local2 )
			end
		else
			f0_local0( f2_arg0 )
		end
	end
end

LUI.MouseCursorTooltipLayer.UpdateTootlipDisplayedData = function ( f1_arg0, f1_arg1 )
	local f1_local0 = LUI.MouseCursorTooltipLayer.GetLayer()
	if f1_local0 and f1_local0.focusedElem then
		return f1_local0.RefreshTooltip( f1_arg0, f1_arg1 )
	else
		
	end
end

