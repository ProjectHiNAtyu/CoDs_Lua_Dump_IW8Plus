-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
PROMPT = PROMPT or {}
PROMPT.MIN_WIDGET_SIZE = 40 * _1080p
PROMPT.OFFSET_PADDING = 5 * _1080p
PROMPT.AddKBMResizeLogic = function ( f1_arg0, f1_arg1, f1_arg2 )
	assert( f1_arg2.kbmPromptWidget )
	assert( f1_arg2.prompt )
	assert( f1_arg2.label )
	f1_arg0._offsetLeft = f1_arg2.offsetLeft
	f1_arg0.options = f1_arg2
	f1_arg0.AdjustLabelToPromptSize = function ( f8_arg0, f8_arg1 )
		local f8_local0 = f8_arg0:GetCurrentAnchorsAndPositions()
		local f8_local1 = f8_arg1:GetCurrentAnchorsAndPositions()
		f8_arg1:SetAnchorsAndPosition( f8_local1.leftAnchor, f8_local1.rightAnchor, f8_local1.topAnchor, f8_local1.bottomAnchor, f8_local0.right + PROMPT.OFFSET_PADDING, f8_local1.right, f8_local1.top, f8_local1.bottom, 0 )
	end
	
	f1_arg0.GetScaledWidth = function ( f7_arg0, f7_arg1 )
		return f7_arg1 + f7_arg1 * f7_arg0:GetScale()
	end
	
	f1_arg0.GetMinimumWidth = function ( f6_arg0 )
		return f6_arg0:GetScaledWidth( PROMPT.MIN_WIDGET_SIZE )
	end
	
	f1_arg0.ResizeToWidthKBM = function ( f5_arg0, f5_arg1, f5_arg2 )
		local f5_local0 = f5_arg0:GetScaledWidth( f5_arg2 )
		local f5_local1 = f5_arg0.options.label:GetCurrentAnchorsAndPositions()
		local f5_local2 = f5_local1.right - LAYOUT.GetTextWidth( f5_arg0.options.label ) - PROMPT.OFFSET_PADDING
		local f5_local3 = f5_arg0
		local f5_local4 = f5_arg0.SetAnchorsAndPosition
		local f5_local5 = f5_arg1.leftAnchor
		local f5_local6 = f5_arg1.rightAnchor
		local f5_local7 = f5_arg1.topAnchor
		local f5_local8 = f5_arg1.bottomAnchor
		local f5_local9 = f5_arg0._offsetLeft and f5_local2 - f5_local0 or f5_arg1.left
		local f5_local10
		if f5_arg0._offsetLeft and not f5_local2 then
			f5_local10 = f5_local2
		else
			f5_local10 = f5_arg1.left + f5_local0
		end
		f5_local4( f5_local3, f5_local5, f5_local6, f5_local7, f5_local8, f5_local9, f5_local10, f5_arg1.top, f5_arg1.bottom, 0 )
		if not f5_arg0._offsetLeft then
			f5_arg0.AdjustLabelToPromptSize( f5_arg0.options.prompt, f5_arg0.options.label )
		end
	end
	
	f1_arg0.ResizeForGamepad = function ( f4_arg0, f4_arg1 )
		f4_arg0:SetAnchorsAndPosition( f4_arg1.leftAnchor, f4_arg1.rightAnchor, f4_arg1.topAnchor, f4_arg1.bottomAnchor, 0, f4_arg0:GetMinimumWidth(), f4_arg1.top, f4_arg1.bottom, 0 )
	end
	
	f1_arg0.ResizeToWidth = function ( f3_arg0, f3_arg1, f3_arg2 )
		local f3_local0 = f3_arg0:GetCurrentAnchorsAndPositions()
		if Engine.BGGJFFFAFG( f3_arg1 ) then
			f3_arg0:ResizeForGamepad( f3_local0 )
		else
			f3_arg0:ResizeToWidthKBM( f3_local0, math.max( f3_arg2, f3_arg0:GetMinimumWidth() ) )
		end
	end
	
	f1_arg0.options.kbmPromptWidget._notifyOnResize = true
	local f1_local0 = f1_arg0.options.kbmPromptWidget:GetCurrentAnchorsAndPositions()
	f1_arg0:registerAndCallEventHandler( "resized_kbm_prompt", function ( f2_arg0, f2_arg1 )
		f2_arg0:ResizeToWidth( f2_arg1.controllerIndex, f2_arg1.width )
	end, {
		controllerIndex = f1_arg1,
		width = math.abs( f1_local0.right - f1_local0.left )
	} )
end

