-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
RenderTargetManager = RenderTargetManager or {}
RenderTargetManager.RenderToTextureSlot = {
	Slot00 = Enum[0xED23F1B1636DBC5][0x68C6C6BB1EEBFA0],
	Slot01 = Enum[0xED23F1B1636DBC5][0x68C6F6BB1EEC4B9],
	Slot02 = Enum[0xED23F1B1636DBC5][0x68C6E6BB1EEC306],
	Slot03 = Enum[0xED23F1B1636DBC5][0x68C716BB1EEC81F],
	Slot04 = Enum[0xED23F1B1636DBC5][0x68C706BB1EEC66C],
	Slot05 = Enum[0xED23F1B1636DBC5][0x68C736BB1EECB85],
	Slot06 = Enum[0xED23F1B1636DBC5][0x68C726BB1EEC9D2],
	Slot07 = Enum[0xED23F1B1636DBC5][0x68C756BB1EECEEB]
}
RenderTargetManager.MAX_RTT_SLOTS = 8
local f0_local0 = {}
RenderTargetManager.FrontendSnapshotTexture = RenderTargetManager.RenderToTextureSlot.Slot07
local f0_local1 = function ()
	local f11_local0 = ""
	for f11_local9, f11_local10 in pairs( f0_local0 ) do
		for f11_local8 = 1, RenderTargetManager.MAX_RTT_SLOTS, 1 do
			local f11_local4 = f11_local8
			local f11_local5 = rttSlotDebugNames and rttSlotDebugNames[f11_local4] or "?"
			local f11_local6 = f11_local10[f11_local4]
			local f11_local7
			if f11_local6 == nil then
				f11_local7 = "EMPTY"
			else
				f11_local7 = f11_local6.widget.id
			end
			f11_local0 = f11_local0 .. "[Slot" .. tostring( f11_local4 ) .. "/" .. f11_local5 .. "][" .. f11_local7 .. "]\n"
		end
	end
end

RenderTargetManager.SetupElement = function ( f9_arg0, f9_arg1, f9_arg2, f9_arg3, f9_arg4 )
	RenderTargetManager.SetupRenderTarget( f9_arg0, f9_arg2, f9_arg3, f9_arg4, 1, 0, 0, 0, 0, f9_arg1 )
	f9_arg0:registerEventHandler( "on_close", function ( element )
		RenderTargetManager.ReleaseRenderTarget( element, f9_arg0, f9_arg0 )
	end )
end

RenderTargetManager.SetupRenderTarget = function ( f7_arg0, f7_arg1, f7_arg2, f7_arg3, f7_arg4, f7_arg5, f7_arg6, f7_arg7, f7_arg8, f7_arg9, f7_arg10, f7_arg11 )
	local f7_local0 = Dvar[0x9E5BE3B4BBA4E0E]( 0x4051B513F806999 ) and false
	if not f0_local0[f7_arg9] then
		f0_local0[f7_arg9] = {}
	end
	local f7_local1 = f0_local0[f7_arg9][f7_arg1]
	if not f7_arg10 then
		f7_arg10 = 0
	end
	if f7_local1 ~= nil and f7_local1.priority <= f7_arg10 then
		f7_local1.widget:SetAlpha( 0 )
		RenderTargetManager.ReleaseRenderTarget( f7_local1.widget, f7_arg1, f7_local1.controllerIndex, true )
	elseif f7_local1 and f7_arg10 < f7_local1.priority then
		local f7_local2 = false
	end
	f7_arg0:SetVisibility( LUI.Visibility.Hidden )
	local f7_local2 = f7_arg0:Wait( 1 )
	f7_local2.onComplete = function ()
		f7_arg0:SetupRenderTarget( f7_arg0, f7_arg0, f7_arg0, f7_arg0, f7_arg0, f7_arg0, f7_arg0, f7_arg0, f7_arg0 )
		f7_arg0[f7_arg0] = {
			widget = f7_arg0,
			controllerIndex = f7_arg0,
			priority = f7_arg0
		}
		f7_arg0:SetVisibility( LUI.Visibility.Visible )
		f7_arg0 = f7_arg0 or false
		if f7_arg0 then
			f7_arg0:ActivateDirtyCheck( false )
		elseif f7_arg0 ~= RenderTargetManager.RenderToTextureSlot.Slot01 and f7_arg0 ~= RenderTargetManager.RenderToTextureSlot.Slot02 then
			f7_arg0:ActivateDirtyCheck( false )
		end
		f7_arg0()
	end
	
	return true
end

RenderTargetManager.ReleaseRenderTarget = function ( f6_arg0, f6_arg1, f6_arg2, f6_arg3 )
	local f6_local0 = f0_local0[f6_arg2]
	if f6_local0 then
		f6_local0 = f0_local0[f6_arg2][f6_arg1]
	end
	if not f6_local0 then
		return 
	else
		local f6_local1
		if f6_arg3 or f6_arg0.id == f6_local0.widget.id then
			f6_local1 = false
		else
			f6_local1 = true
		end
	end
	if f6_local1 then
		return 
	end
	f6_local0.widget:ReleaseRenderTarget( f6_arg2 )
	f0_local0[f6_arg2][f6_arg1] = nil
	f0_local0()
end

local f0_local2 = function ( f5_arg0, f5_arg1 )
	local f5_local0 = {
		nil,
		0x4FA25E30DCC51DD,
		0x4E31027F6346C3B,
		0x91B71AF9DD99126,
		0x22E8D3201AA0FAC,
		0x75CB2612E806D2A,
		0x5B9B2C02327E161,
		0x276217BBCCC5324,
		0xD6243C6D01478AB
	}
	if f5_arg0._rttElements[f5_arg1] == nil then
		local f5_local1 = rttSlotDebugNames and rttSlotDebugNames[f5_arg1] or "?"
		local f5_local2 = 768
		local f5_local3 = 384
		local self = LUI.UIElement.new()
		self.id = f5_local1
		RenderTargetManager.SetupRenderTarget( self, f5_arg1, f5_local2, f5_local3, 1, 0, 0, 0, 0, 0 )
		local Image = nil
		
		Image = LUI.UIImage.new()
		Image.id = f5_local0[f5_arg1]
		Image:setImage( RegisterMaterial( f5_local0[f5_arg1] ), 0 )
		Image:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f5_local2, 0, f5_local3 )
		self:addElement( Image )
		self.Image = Image
		
		f5_arg0:addElement( self )
		f5_arg0._rttElements[f5_arg1] = self
	end
end

local f0_local3 = function ( f4_arg0, f4_arg1 )
	if f4_arg0._rttElements[f4_arg1] ~= nil then
		f4_arg0._rttElements[f4_arg1]:ReleaseRenderTarget()
		f4_arg0._rttElements[f4_arg1]:closeTree()
		f4_arg0._rttElements[f4_arg1] = nil
	end
end

local f0_local4 = function ( f3_arg0 )
	local f3_local0 = Dvar[0x22EAAB59AA27E9B]( 0x7E2B8E952AC2951 )
	if 0 < f3_local0 then
		f0_local0( f3_arg0, f3_local0 )
	elseif f3_local0 < 0 then
		f0_local0( f3_arg0, -f3_local0 )
	end
end

RenderTargetManager.InitRttDebug = function ( f1_arg0 )
	local self = LUI.UITimer.new( {
		event = "rtt_debug_timer",
		interval = -28,
		disposable = false
	} )
	f1_arg0.rttDebugTimer = self
	f1_arg0:addElement( self )
	f1_arg0._rttElements = {}
	f1_arg0:registerEventHandler( "rtt_debug_timer", function ( element, event )
		f1_arg0( element )
	end )
end

