-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
module( ..., package.seeall )
require( "ui.generated.widgets.scrollbar.verticalminimalscrollbar" )
local f0_local0 = function ( f15_arg0, f15_arg1 )
	f15_arg0.Scoreboard._grid:RefreshContent()
end

local f0_local1 = function ( f14_arg0, f14_arg1 )
	if f14_arg0.Scoreboard and f14_arg0.Scoreboard._grid then
		f14_arg0.Scoreboard._grid:SetVisible( f14_arg1 )
	end
end

local f0_local2 = function ( f5_arg0, f5_arg1, f5_arg2 )
	f5_arg0.RefreshContent = f0_local0
	f5_arg0.SetGridVisibility = f0_local0
	f5_arg0._controllerIndex = f5_arg1
	local f5_local0 = math.min( SCOREBOARD.GetMaxTeamSize(), SCOREBOARD.maxVisibleTeamSizeLarge )
	local f5_local1 = f5_local0
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x4E0123AAA145104 ) then
		f5_local1 = math.max( f5_local1, SCOREBOARD.GetMaxTeamSize() )
	end
	f5_arg2.scrollbar = f5_arg0.VerticalScrollbar
	if CONDITIONS.IsLeaguePlay() then
		local f5_local2 = "LPScoreboardRow"
	else
		local f5_local2 = "ScoreboardRow"
	end
	local f5_local3 = CONDITIONS.IsLeaguePlay() and LeaguePlayUtils.GetTunable( LeaguePlayUtils.Tunables.scoreboardRowScale ) or 1
	f5_arg0.Scoreboard = LUI.Scoreboard.new( f5_arg2, {
		scrollingThresholdX = 1,
		maxVelocity = 5000,
		alwaysSnap = true,
		scrollingThresholdY = 1,
		columnWidth = 818,
		wrapX = false,
		maxVisibleColumns = 1,
		spacingX = 0,
		wrapY = false,
		numColumns = 1,
		spacingY = 0,
		springCoefficient = 5000,
		maxVisibleRows = f5_local0,
		controllerIndex = f5_arg1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( f5_arg0, {
				controllerIndex = f5_arg0,
				scoreboard = f5_arg0,
				rowScale = f5_arg0
			} )
		end,
		refreshChild = function ( f12_arg0, f12_arg1, f12_arg2 )
			if f5_arg0.Scoreboard then
				if SCOREBOARD.IsAARScoreboard() then
					f12_arg0:RefreshRowContent( f5_arg0.Scoreboard:GetTeamIndex(), f12_arg2 )
				else
					local f12_local0 = f5_arg0.Scoreboard:GetTeamIndex()
					local f12_local1 = Engine[0x5339EF52227398F]()
					if f12_local0 then
						local f12_local2 = f12_arg2
						if f12_local1 == f12_local0 and not Dvar[0x9E5BE3B4BBA4E0E]( 0x4E0123AAA145104 ) then
							f12_local2 = SCOREBOARD.GetRowDataIndex( Game[0xC22F90682BB5BF5]( f12_local0 ), Game[0xF379A45B007B1A6](), f12_arg2, f5_arg0 )
						end
						f12_arg0:RefreshRowContent( f12_local0, f12_local2 )
					end
					f12_arg0:SetRight( LAYOUT.GetElementWidth( f5_arg0 ), 0 )
				end
			end
		end,
		numRows = f5_local1,
		rowHeight = 40 * f5_local3,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1],
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	f5_arg0.Scoreboard.id = "Scoreboard"
	f5_arg0:addElement( f5_arg0.Scoreboard )
	f5_arg0.Scoreboard:SetNumberOfPlayersFunction( function ( f11_arg0, f11_arg1 )
		local f11_local0 = SCOREBOARD.GetTeamSize( f5_arg0, f5_arg0.Scoreboard:GetTeamIndex() )
		local f11_local1
		if f11_arg1 then
			f11_local1 = f11_arg1
		else
			f11_local1 = f11_arg1.ignoreScrollLimits
		end
		if not f11_local1 then
			if Dvar[0x9E5BE3B4BBA4E0E]( 0x4E0123AAA145104 ) then
				f11_local0 = math.min( f11_local0, SCOREBOARD.GetMaxTeamSize() )
			else
				f11_local0 = math.min( f11_local0, SCOREBOARD.GetMaxVisibleTeamSize( f5_arg0 ) )
			end
		end
		return f11_local0
	end )
	f5_arg0.Scoreboard:SetMaxVisiblePlayersFunction( function ( f10_arg0, f10_arg1 )
		return SCOREBOARD.GetMaxVisibleTeamSize( f5_arg0 )
	end )
	if CONDITIONS.IsSpookyUI() then
		f5_arg0.ColumnHeaderBacker:setImage( RegisterMaterial( 0xAC252658F1C393 ) )
		f5_arg0.ColumnHeaderBacker:SetAlpha( 0.3 )
	end
	f5_arg0:addEventHandler( "open_scoreboard", function ( f7_arg0, f7_arg1 )
		local f7_local0 = SCOREBOARD.GetCurrentScoreBoardMenu( f7_arg0, f5_arg0 )
		if f7_local0 ~= nil and f7_local0.ButtonHelperBar ~= nil then
			local f7_local1 = "left"
			if CONDITIONS.InGame() and CONDITIONS.IsCoreMultiplayer() then
				local f7_local2 = DataSources.inGame.MP.match.matchOver
				if CONDITIONS.IsGamepadEnabled() then
					f7_local0:AddButtonHelperTextToElement( f7_local0.ButtonHelperBar, {
						priority = 0,
						gamepad_only = true,
						button_ref = "button_select",
						helper_text = Engine[0xED84C33EC5F01EA]( 0x8E9604004261969 ),
						side = f7_local1
					} )
				else
					f7_local0:RemoveButtonHelperTextFromElement( f7_local0.ButtonHelperBar, "button_select", f7_local1 )
				end
				f5_arg0:SubscribeToModel( f7_local2:GetModel( f5_arg0 ), function ()
					if f7_arg0:GetValue( f7_arg0 ) then
						f7_arg0:RemoveButtonHelperTextFromElement( f7_arg0.ButtonHelperBar, "button_select", f7_arg0 )
					end
				end )
			end
			local f7_local2 = DataSources.inGame.MP.match.postGameState:GetValue( f5_arg0 )
			local f7_local3 = LUI.ScoreboardLayer.GetInstance()
			local f7_local4
			if f7_local3 then
				f7_local4 = f7_local3
			else
				f7_local4 = f7_local3:IsMouseHandled()
			end
			if not f7_local4 and LUI.IsLastInputKeyboardMouse( f5_arg0 ) and not CONDITIONS.IsGamepadEnabled() and f7_local2 ~= Enum[0x305CFCC105DB3CE][0x1E2212D3A893678] then
				f7_local0:AddButtonHelperTextToElement( f7_local0.ButtonHelperBar, {
					priority = 0,
					kbm_only = true,
					button_ref = "button_secondary",
					clickable = false,
					ignoreTooltip = true,
					ignoreButtonBackground = true,
					helper_text = Engine[0xED84C33EC5F01EA]( 0x70C4E37E86AD072 ),
					side = f7_local1,
					overrideTextUpColor = SWATCHES[0x31408192FB5B5C6][0xCF1189E929E8135]
				} )
			else
				f7_local0:RemoveButtonHelperTextFromElement( f7_local0.ButtonHelperBar, "button_secondary" )
			end
		end
		f5_arg0:registerEventHandler( "lui_layer_keycatch_notify", function ( element, event )
			if LUI.IsLastInputKeyboardMouse( event.controller ) then
				local f8_local0 = LUI.ScoreboardLayer.GetScoreboardMenu( f7_arg0 )
				if f8_local0 and f8_local0.ButtonHelperBar then
					f8_local0:RemoveButtonHelperTextFromElement( f8_local0.ButtonHelperBar, "button_secondary", "right" )
				end
			end
		end )
	end )
	f5_arg0:addEventHandler( "close_scoreboard", function ( f6_arg0, f6_arg1 )
		f5_arg0:RemoveButtonHelperTextFromElement( f5_arg0.ButtonHelperBar, "button_secondary", "right" )
		f5_arg0:RemoveButtonHelperTextFromElement( f5_arg0.ButtonHelperBar, "button_r3", "right" )
		f5_arg0:RemoveButtonHelperTextFromElement( f5_arg0.ButtonHelperBar, "button_select", "right" )
		LUI.MouseCursorContextualMenuLayer.ForceCloseContextualMenu()
	end )
	if CONDITIONS.IsLeaguePlay() then
		local f5_local4 = f5_arg0.Rows:GetAnchorsAndPosition()
		f5_arg0.Rows:SetBottom( f5_local4.bottom * f5_local3 )
	end
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		local f2_local0 = function ( f4_arg0, f4_arg1 )
			
		end
		
		if f2_arg0[0xF2A8A0EA2E2ECA2] then
			f2_arg0[0xF2A8A0EA2E2ECA2]:RegisterAnimationSequence( 0x2812D939AAD2AEC, {
				nil,
				nil,
				0,
				0,
				nil,
				4294967256,
				0,
				[1] = TWEEN_PROPERTY.Bottom,
				[4] = TWEEN_PROPERTY.Top
			} )
		end
		f2_arg0[0x132B673961626FE]:RegisterAnimationSequence( 0x2812D939AAD2AEC, {
			nil,
			nil,
			0,
			0,
			nil,
			4294967256,
			0,
			[1] = TWEEN_PROPERTY.Bottom,
			[4] = TWEEN_PROPERTY.Top
		} )
		f2_arg0[0x49D85F0EF1CEC84] = {
			[0xEF6C3AB55C07BEF] = f2_local0,
			[0x2812D939AAD2AEC] = function ( f3_arg0, f3_arg1 )
				if f3_arg0[0xF2A8A0EA2E2ECA2] then
					f3_arg0[0xF2A8A0EA2E2ECA2]:AnimateSequence( 0x2812D939AAD2AEC )
				end
				f3_arg0[0x132B673961626FE]:AnimateSequence( 0x2812D939AAD2AEC )
			end
		}
		f2_arg0[0xD97E59A206E4A54] = {
			[0x2812D939AAD2AEC] = 0,
			[0xEF6C3AB55C07BEF] = 0
		}
	end
}
function TeamScores( f1_arg0, f1_arg1 )
	local f1_local0 = CONDITIONS
	local f1_local1 = ACTIONS
	local f1_local2 = LUI
	local f1_local3 = MenuBuilder
	local f1_local4 = TWEEN_PROPERTY
	local f1_local5 = f1_local2.UIElement.new()
	f1_local5:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 890, 0, 280 )
	f1_local5.id = "TeamScores"
	f1_local5[0xBD5D934D3CD91E5] = States
	local f1_local6
	if f1_arg1 then
		f1_local6 = f1_arg1
	else
		f1_local6 = f1_arg1.controllerIndex
	end
	f1_local6 = f1_local2.ValidateControllerIndex( f1_local5, f1_local6 )
	local f1_local7 = nil
	if not f1_local0.IsSpookyUI() then
		f1_local7 = f1_local2.UIImage.new()
		f1_local7[0x8B72E07B55C3AC0] = "ColumnHeaderBackerDark"
		f1_local7:SetRGB( 3026478, 0 )
		f1_local7:SetAlpha( 0.6, 0 )
		f1_local7:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, -60, 0 )
		f1_local5:addElement( f1_local7 )
		f1_local5[0xF2A8A0EA2E2ECA2] = f1_local7
	end
	local f1_local8 = nil
	f1_local8 = f1_local2.UIImage.new()
	f1_local8[0x8B72E07B55C3AC0] = "ColumnHeaderBacker"
	f1_local8:SetAlpha( 0.25, 0 )
	f1_local8:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, -60, 0 )
	f1_local5:addElement( f1_local8 )
	f1_local5[0x132B673961626FE] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local2.UIImage.new()
	f1_local9[0x8B72E07B55C3AC0] = "Backer"
	f1_local9:SetRGB( 3026478, 0 )
	f1_local9:SetAlpha( 0.6, 0 )
	f1_local5:addElement( f1_local9 )
	f1_local5[0xF3FC81DFCEB7D35] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local2.UIImage.new()
	f1_local10[0x8B72E07B55C3AC0] = "Rows"
	f1_local10:SetRGB( SWATCHES[0x2B125210C0B2BB1][0x85BDB34EB15445F], 0 )
	f1_local10:SetAlpha( 0.15, 0 )
	f1_local10:setImage( RegisterMaterial( 0x90434F63B5001DE ), 0 )
	f1_local10:SetVMin( -1, 0 )
	f1_local10:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 800 )
	f1_local5:addElement( f1_local10 )
	f1_local5[0x3A7061FF10A8138] = f1_local10
	local f1_local11 = nil
	f1_local11 = f1_local3.BuildRegisteredType( 0x12A2D6C64C313D0, {
		controllerIndex = f1_local6
	} )
	f1_local11[0x8B72E07B55C3AC0] = "VerticalScrollbar"
	f1_local11:SetAnchorsAndPosition( 1, 0, 0, 0, 10, 25, 0, 0 )
	f1_local5:addElement( f1_local11 )
	f1_local5[0x24844C1913DAD73] = f1_local11
	f0_local0( f1_local5, f1_local6, f1_arg1 )
	if f1_local0.IsSplitscreen() then
		f1_local1.AnimateSequence( f1_local5, "Splitscreen" )
	end
	return f1_local5
end

MenuBuilder.registerType( 0x52680049BFD681F, TeamScores )
LockTable( _M )
