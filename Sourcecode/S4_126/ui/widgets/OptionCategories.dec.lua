-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
module( ..., package.seeall )
local f0_local0 = function ( f8_arg0 )
	LAYOUT.ScaleWidgetToHorizontalListContentLeftAligned( f8_arg0.SecondaryTabsContainer.buttonList, f8_arg0.SecondaryTabsContainer.buttonList, nil, true )
	LAYOUT.ScaleWidgetToHorizontalListContentLeftAligned( f8_arg0.SecondaryTabsContainer, f8_arg0.SecondaryTabsContainer, nil, true )
	LAYOUT.ScaleWidgetToHorizontalListContentLeftAligned( f8_arg0, f8_arg0.SecondaryTabsContainer, nil, true )
end

local f0_local1 = function ( f7_arg0 )
	if f7_arg0.options and 0 < #f7_arg0.options then
		for f7_local0 = 1, #f7_arg0.options, 1 do
			f7_arg0.options[f7_local0]:processEvent( {
				name = "refresh_values"
			} )
		end
	end
end

local f0_local2 = function ( f6_arg0 )
	if f6_arg0.options and 0 < #f6_arg0.options and type( f6_arg0.options[1] ) == "userdata" then
		for f6_local0 = 1, #f6_arg0.options, 1 do
			f6_arg0.SecondaryTabsContainer.buttonList:RemoveElement( f6_arg0.options[f6_local0] )
		end
	end
	f6_arg0.options = {}
end

local f0_local3 = function ( f3_arg0, f3_arg1, f3_arg2, f3_arg3, f3_arg4, f3_arg5 )
	assert( f3_arg2 )
	if not f3_arg5 then
		f3_arg5 = 1
	end
	if f3_arg0.currCategory == f3_arg4 and f3_arg4 ~= nil then
		f3_arg0:RefreshCurrentOptions()
	end
	local f3_local0 = 0
	f3_arg0:ClearCurrentOptions()
	f3_arg0.options = f3_arg2( f3_arg0, f3_arg1, f3_arg3 )
	if f3_arg0.options and 0 < #f3_arg0.options and type( f3_arg0.options[1] ) == "userdata" then
		for f3_local1 = 1, #f3_arg0.options, 1 do
			f3_arg0.options[f3_local1]:addEventHandler( "button_over", function ( f5_arg0, f5_arg1 )
				f3_arg0:processEvent( {
					name = "optionwindow_button_over"
				} )
			end )
			f3_arg0.options[f3_local1]:addEventHandler( "button_over_disable", function ( f4_arg0, f4_arg1 )
				f3_arg0:processEvent( {
					name = "optionwindow_button_over"
				} )
			end )
			f3_arg0.SecondaryTabsContainer.buttonList:addElement( f3_arg0.options[f3_local1] )
		end
		f3_arg0:UpdateHorizontalLayoutToContent()
	end
	local f3_local1 = f3_arg0.options[f3_arg5]
	if f3_local1 then
		if f3_local1._innerWidget then
			f3_local1 = f3_local1._innerWidget
		end
		if f3_local1.Text then
			f3_arg0.subCategoryName = f3_local1.Text:getText()
		end
		f3_local1:dispatchEventToParent( {
			name = "request_active",
			target = f3_local1
		} )
	end
	f3_arg0.currCategory = f3_arg4
end

local f0_local4 = function ( f2_arg0, f2_arg1, f2_arg2 )
	local SecondaryTabsContainer = LUI.UIHorizontalStackedLayout.new()
	SecondaryTabsContainer:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 320 * _1080p, 0, 800 * _1080p )
	SecondaryTabsContainer:SetSpacing( 14 * _1080p )
	SecondaryTabsContainer:SetAdjustSizeToContent( true )
	SecondaryTabsContainer:SetIgnoreInvisibleChildren( true )
	f2_arg0:addElement( SecondaryTabsContainer )
	f2_arg0.SecondaryTabsContainer = SecondaryTabsContainer
	
	local f2_local1 = LUI.UIHorizontalStackedLayout.new()
	f2_local1:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 366 * _1080p )
	f2_local1:setPriority( 1 )
	f2_local1.id = "buttonListId"
	f2_local1:SetAlignment( LUI.Alignment.Top )
	f2_local1:SetIgnoreStretchingChildren( true )
	f2_local1:SetAdjustSizeToContent( true )
	f2_local1:SetSpacing( 4 )
	f2_local1:SetForceDefaultFocus( true )
	f2_arg0.SecondaryTabsContainer:addElement( f2_local1 )
	f2_arg0.SecondaryTabsContainer.buttonList = f2_local1
	f2_arg0.SecondaryTabsContainer.buttonList:SetActiveParentBehavior()
	local f2_local2 = 26 * _1080p
	local f2_local3 = 26 * _1080p
	local f2_local4 = MenuBuilder.BuildRegisteredType( "SecondaryTab", {
		controllerIndex = f2_arg1
	} )
	local f2_local5, f2_local6, f2_local7, f2_local8 = f2_local4:getLocalRect()
	local f2_local9 = f2_local8 - f2_local6
	f2_local4:closeTree()
	f2_local4 = nil
	local f2_local10 = (f2_local9 - f2_local2) / 2
	local f2_local11 = ButtonMap.button_left_trigger.string
	local f2_local12 = ButtonMap.button_right_trigger.string
	local f2_local13 = nil
	f2_local13 = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = f2_local11
	} )
	f2_local13:SetAnchorsAndPosition( 1, 0, 0, 1, -f2_local3, 0, f2_local10, f2_local10 + f2_local2 )
	f2_local13:SetRGBFromTable( SWATCHES.tabManager.tabText )
	f2_local13:setPriority( 0 )
	f2_local13:SetAlpha( 0 )
	f2_local13.id = "leftTriggerButton"
	f2_arg0.SecondaryTabsContainer:addElement( f2_local13 )
	f2_arg0.SecondaryTabsContainer.leftTriggerButton = f2_local13
	local f2_local14 = nil
	f2_local14 = MenuBuilder.BuildRegisteredType( "IconImage", {
		iconString = f2_local12
	} )
	f2_local14:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f2_local3, f2_local10, f2_local10 + f2_local2 )
	f2_local14:SetRGBFromTable( SWATCHES.tabManager.tabText )
	f2_local14:setPriority( 2 )
	f2_local14:SetAlpha( 0 )
	f2_local14.id = "rightTriggerButton"
	f2_arg0.SecondaryTabsContainer:addElement( f2_local14 )
	f2_arg0.SecondaryTabsContainer.rightTriggerButton = f2_local14
	f2_arg0.RefreshCurrentOptions = f0_local0
	f2_arg0.ClearCurrentOptions = f0_local0
	f2_arg0.UpdateHorizontalLayoutToContent = f0_local0
	f2_arg0.UpdateOptions = f0_local0
	f2_arg0.options = {}
end

function OptionCategories( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 320 * _1080p, 0, 800 * _1080p )
	self.id = "OptionCategories"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Line = nil
	
	Line = LUI.UIImage.new()
	Line.id = "Line"
	Line:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	Line:SetAlpha( 0.25, 0 )
	Line:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 47, _1080p * 49 )
	self:addElement( Line )
	self.Line = Line
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "OptionCategories", OptionCategories )
LockTable( _M )
