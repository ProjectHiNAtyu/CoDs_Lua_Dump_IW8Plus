-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
module( ..., package.seeall )
local f0_local0 = "button_alt1"
local f0_local1 = 200
local f0_local2 = function ( f61_arg0 )
	if f61_arg0._isItemGiftable and f61_arg0._previewsEnabled then
		f61_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "left",
			button_ref = "button_alt2",
			priority = 2,
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU_MP/GIFT_BUNDLE" )
		} )
	else
		f61_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
			side = "left",
			button_ref = "button_alt2"
		} )
	end
end

local f0_local3 = function ()
	if Engine.CIEGIACHAE() then
		InGameStore.ShowStoreIcon( false )
	end
end

MenuBuilder.registerType( "PurchaseCODPointsPopup", function ( f59_arg0, f59_arg1 )
	local f59_local0 = MenuBuilder.BuildRegisteredType( "FlyInPopup", {
		primaryButtonText = "LUA_MENU/PURCHASE",
		controllerIndex = f59_arg1.controllerIndex,
		widget = MenuBuilder.BuildRegisteredType( "PurchaseCPPopup", f59_arg1 )
	} )
	f59_local0.id = "PurchaseCODPointsPopup"
	return f59_local0
end )
LUI.FlowManager.RegisterStackPopBehaviour( "PurchaseCODPointsPopup", f0_local3 )
local f0_local4 = function ( f49_arg0, f49_arg1, f49_arg2 )
	local f49_local0, f49_local1, f49_local2, f49_local3 = f49_arg1.Card:getLocalRect()
	ACTIONS.AnimateSequence( f49_arg1.Card, "ShowPurchasedFrame" )
	local f49_local4 = function ()
		local f55_local0 = LOOT.GetBundleItemsMappedByType( f49_arg0._bundleID )
		if f55_local0[LOOT.itemTypes.BATTLE_PASS] and CONDITIONS.IsBattlePassEnabled() then
			local f55_local1 = f49_arg0:Wait( 3000 )
			f55_local1.onComplete = function ()
				if BATTLEPASS.GetTier( f55_local0._controllerIndex ) < BATTLEPASS.GetMaxTier() then
					local f57_local0 = {
						tierSkipID = f55_local0[LOOT.itemTypes.BATTLE_PASS][1]
					}
					Engine.BJDBIAGIDA( SOUND_SETS.storefront.smokeCardSlam )
					LUI.FlowManager.RequestPopupMenu( nil, "BattlePassPurchaseProgressPopup", true, f55_local0._controllerIndex, false, f57_local0 )
					local f57_local1 = f55_local0:Wait( 1500 )
					f57_local1.onComplete = function ()
						f57_local0._purchasedAnimation = false
						f57_local0._previewsEnabled = true
						LUI.FlowManager.RequestLeaveMenuByName( "BattlePassPurchaseProgressPopup", true, true )
						f57_local0.displayUpsellPopup = f57_local0._displayUpsellPopup
						f57_local0.allowTierBank = f57_local0._bundleID == BATTLEPASS.WarzoneTierSkipBundleID
						if f57_local0._bundleID == tonumber( BATTLEPASS.GetTierSkipGiftID() ) then
							local f58_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
							if f58_local0.returnToMainMenu then
								f57_local0.returnToMainMenu = f58_local0.returnToMainMenu
								f58_local0.returnToMainMenu = nil
							end
						end
						LUI.FlowManager.RequestAddMenu( "BattlePassMenuPopup", true, f57_local0._controllerIndex, false, f57_local0, true )
						f57_local0.isQuickAccessShortcutsDisabled = false
					end
					
				end
				f55_local0._purchasedAnimation = false
				f55_local0._previewsEnabled = true
				f55_local0.ItemsGrid:RefreshContent()
			end
			
		else
			if f49_arg0._displayUpsellPopup then
				local f55_local1 = f49_arg0:Wait( 3000 )
				f55_local1.onComplete = function ()
					STORE.OpenBundleUpsellPopup( f55_local0._controllerIndex )
				end
				
			end
			f49_arg0._purchasedAnimation = false
			f49_arg0._previewsEnabled = true
			f49_arg0.ItemsGrid:RefreshContent()
			f49_arg0.isQuickAccessShortcutsDisabled = false
		end
		f49_arg0( f49_arg0 )
	end
	
	local f49_local5 = nil
	f49_local5 = function ()
		local f53_local0 = math.random( -10, 10 ) * _1080p
		local f53_local1 = math.random( -10, 10 ) * _1080p
		local f53_local2 = LUI.EASING.linear
		local f53_local3 = math.random( 10, 30 )
		local f53_local4 = math.random( -4, 4 )
		local f53_local5 = f49_arg0.Card:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, f49_arg0 + f53_local1, f49_arg0 + f53_local1, f49_arg0 + f53_local0, f49_arg0 + f53_local0, f53_local3, f53_local2 )
		f53_local5.onComplete = function ()
			if f53_local0.shake then
				f53_local0()
			else
				f53_local0.Card:SetZRotation( 0, f53_local0, f53_local0 )
				f53_local0.Card:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, f53_local0, f53_local0, f53_local0, f53_local0, f53_local0, f53_local0 )
				if f53_local0 then
					f53_local0()
				end
			end
		end
		
	end
	
	local f49_local6 = 100
	f49_arg1:SetScale( 1 )
	f49_arg1:SetAlpha( 1, f49_local6, LUI.EASING.outBack )
	f49_arg1:SetScale( 0, f49_local6, LUI.EASING.outBack )
	local f49_local7 = f49_arg1:Wait( f49_local6 )
	f49_local7.onComplete = function ()
		f49_arg0.shake = true
		f49_arg0( f49_arg0 )
		if f49_arg0._lootType == LOOT.itemTypes.BATTLE_PASS and CONDITIONS.IsBattlePassEnabled() then
			f49_arg0.Flare:PlayFlareSprite( "BattlePassPurchased" )
			local f50_local0 = f49_arg0:Wait( 1500 )
			f50_local0.onComplete = function ()
				Engine.BJDBIAGIDA( SOUND_SETS.storefront.smokePoof )
				f50_local0.Flare:PlayFlareSprite( "Smoke" )
				f50_local0:SetAlpha( 0.3, 1500 )
			end
			
		else
			f49_arg0.Flare:PlayFlareSprite( LOOT.RarityEffects[f49_arg0._rarity] and LOOT.RarityEffects[f49_arg0._rarity].flareRef or "Base" )
		end
		local f50_local0 = f49_arg0:Wait( 50 )
		f50_local0.onComplete = function ()
			f50_local0.shake = false
		end
		
	end
	
end

local f0_local5 = function ( f46_arg0, f46_arg1 )
	local f46_local0 = function ()
		f46_arg0:addElement( LOOT.GetLootFlareMaterialStreamer() )
		f46_arg0:processEvent( {
			name = "bundle_purchase_complete"
		} )
		Loot.HAJHHFGJJ( f46_arg0, STORE.GetBundlePurchaseID( f46_arg0, f46_arg0._bundleID ), false )
		LUI.FlowManager.RequestPopupMenu( nil, "LootPurchasingPopup", true, f46_arg0, false, {
			message = "LUA_MENU_MP/PURCHASE"
		} )
		f46_arg0.HelperBar:SetAlpha( 0 )
		local f48_local0 = LUI.FlowManager.GetScopedData( f46_arg0 )
		if f48_local0.oneModBlueprintStore then
			LUI.FlowManager.RequestLeaveMenuByName( "WeaponLocker" )
		end
		if f46_arg0._upsellMenu then
			Engine.CEJJDJJHIJ( f46_arg0, "dlog_event_purchase_bundle_through_upsell", {
				bundle_id = tostring( f46_arg0._bundleID ),
				upsell_menu = f46_arg0._upsellMenu
			} )
		end
	end
	
	if Engine.DBFCJBDJEC() and Engine.DDHFCGHJEA() then
		LUI.FlowManager.RequestPopupMenu( nil, "StoreConfirmPurchaseKoreaLegalPupup", true, f46_arg1, false, {
			itemName = f46_arg0._itemName,
			itemImage = f46_arg0._itemImage,
			itemCurrencyID = f46_arg0._currencyID,
			itemCurrencyAmount = f46_arg0._currencyAmount,
			confirmAction = function ()
				f46_arg0()
			end
		}, nil, false, true )
	else
		f46_local0()
	end
end

local f0_local6 = function ( f44_arg0, f44_arg1, f44_arg2, f44_arg3, f44_arg4 )
	if f44_arg0._isOwned then
		
	else
		
	end
	if QUARTERMASTER.itemData then
		QUARTERMASTER.RecordItemBrowseEvent( f44_arg0._controllerIndex, false, f44_arg0._sourceMenu )
	end
	if f44_arg0._isFirstParty and f44_arg0._firstPartyPurchase then
		f44_arg0._firstPartyPurchase()
	end
	if Commerce.CEDDCGHIGA( f44_arg3, f44_arg0._currencyID ) < f44_arg0._currencyAmount then
		STORE.EnterStore( f44_arg3, f44_arg1, f44_arg2.id, {
			showBalance = true,
			controllerIndex = f44_arg3,
			currencyID = f44_arg0._currencyID,
			currencyAmount = f44_arg0._currencyAmount
		}, "PurchaseCODPointsPopup", true )
	else
		local f44_local0 = {
			itemName = f44_arg0._itemName,
			itemImage = f44_arg0._itemImage,
			itemCurrencyID = f44_arg0._currencyID,
			itemCurrencyAmount = f44_arg0._currencyAmount,
			showDisclaimer = f44_arg0._showDisclaimer,
			startPurchaseImmediately = f44_arg4,
			alreadyOwnedCount = f44_arg0._alreadyOwnedCount,
			consumablesCount = f44_arg0._consumablesCount,
			confirmAction = function ()
				f44_arg0( f44_arg0, f44_arg0 )
			end
		}
		local f44_local1 = LUI.FlowManager.GetScopedData( f44_arg0 )
		f44_local0.bundleExclusivity = f44_local1.bundleExclusivity
		f44_local0.doesBundleHave1ExclusiveItem = f44_local1.doesBundleHave1ExclusiveItem
		Engine.BJDBIAGIDA( SOUND_SETS.storefront.purchaseBundle )
		LUI.FlowManager.RequestPopupMenu( nil, "StoreConfirmPurchasePopup", true, f44_arg3, false, f44_local0, nil, false, true )
	end
end

local f0_local7 = function ( f43_arg0, f43_arg1, f43_arg2, f43_arg3 )
	STORE.EnterStore( f43_arg3, f43_arg1, f43_arg2.id, {
		showBalance = true,
		controllerIndex = f43_arg3,
		currencyID = f43_arg0._currencyID,
		currencyAmount = f43_arg0._currencyAmount
	}, "PurchaseCODPointsPopup", true )
end

local f0_local8 = function ( f41_arg0 )
	return function ( f42_arg0, f42_arg1 )
		if f42_arg1.name == f41_arg0 and LUI.IsLastInputKeyboardMouse( f42_arg1.controller ) then
			return 
		else
			local f42_local0 = f41_arg0
			local f42_local1 = f41_arg0
			local f42_local2 = f41_arg0:GetCurrentMenu()
			f42_local0( f42_local1, f42_local2.id, f42_arg0, f42_arg1.controller, false )
		end
	end
	
end

local f0_local9 = function ( f40_arg0, f40_arg1 )
	if f40_arg1.name == f0_local0 and LUI.IsLastInputKeyboardMouse( f40_arg1.controller ) then
		return 
	end
	local f40_local0 = f40_arg0:getParent()
	local f40_local1 = tonumber( f40_local0._items[f40_local0.ItemsGrid:GetFocusPositionIndex() + 1] )
	local f40_local2 = LOOT.GetTypeForID( f40_local1 )
	local f40_local3 = LOOT.GetItemName( f40_local2, LOOT.GetItemRef( f40_local2, f40_local1 ), f40_local1 )
	local f40_local4 = nil
	if LOOT.IsItemTypeQuickEquipable( f40_local2 ) and f40_local0._isOwned then
		if f40_local2 == LOOT.itemTypes.OPERATOR_SKIN then
			local f40_local5 = StringTable.DIFCHIGDFB( CSV.operatorSkinIDs.file, CSV.operatorSkinIDs.cols.id, f40_local1, CSV.operatorSkinIDs.cols.ref )
			if f40_local5 and 0 < #f40_local5 then
				local f40_local6 = StringTable.DIFCHIGDFB( CSV.operatorSkins.file, CSV.operatorSkins.cols.ref, f40_local5, CSV.operatorSkins.cols.lootIndex )
				local f40_local7 = StringTable.DIFCHIGDFB( CSV.operatorSkins.file, CSV.operatorSkins.cols.ref, f40_local5, CSV.operatorSkins.cols.operatorRef )
				local f40_local8 = OPERATOR.GetSuperFactionIndexForPlayerData( f40_local7 )
				local f40_local9 = {
					operatorFaction = f40_local8,
					operatorRef = f40_local7
				}
				RANDOM.SetEnabled( f40_local0._controllerIndex, LOOT.itemTypes.OPERATOR_SKIN, false, f40_local9 )
				OPERATOR.SetEquippedItemForLootType( f40_local0._controllerIndex, f40_local7, f40_local2, f40_local6 )
				Lobby.PreloadViewHandsForLocalPlayer( f40_local0._controllerIndex )
				f40_local4 = {
					iconScale = 4.667263495923649E-62,
					displayTime = 3000,
					icon = "cac_equip_fill",
					iconColor = SWATCHES.genericMenu.notificationHighlight,
					header = Engine.CBBHFCGDIC( "LUA_MENU/SKIN_SELECTED" ),
					description = f40_local3,
					type = LUI.ToastManager.NotificationType.SkinEquipped,
					controllerIndex = f40_local0._controllerIndex
				}
				local f40_local10 = PlayerData.BFFBGAJGD( f40_local0._controllerIndex, LOADOUT.GetLoadoutStatsGroup() )
				f40_local10 = f40_local10.customizationSetup
				local f40_local11 = f40_local10.operators[f40_local8]:get()
				RANDOM.SetEnabled( f40_local0._controllerIndex, LOOT.itemTypes.OPERATOR, false, f40_local9 )
				f40_local10.operators[f40_local8]:set( f40_local7 )
				f40_local10.selectedOperatorIndex:set( f40_local8 )
				f40_local0:dispatchEventToRoot( {
					name = "send_toast_notification",
					immediate = true,
					options = {
						iconScale = 4.667263495923649E-62,
						displayTime = 3000,
						icon = "cac_equip_fill",
						iconColor = SWATCHES.genericMenu.notificationHighlight,
						header = Engine.CBBHFCGDIC( "LUA_MENU/OPERATOR_SELECTED" ),
						description = Engine.CBBHFCGDIC( OPERATOR.GetName( f40_local7 ) ),
						type = LUI.ToastManager.NotificationType.OperatorEquipped,
						controllerIndex = f40_local0._controllerIndex
					}
				} )
				Engine.DAGFFDGFII( "uploadstats", f40_local0._controllerIndex )
			end
		elseif f40_local2 == LOOT.itemTypes.OPERATOR_EXECUTION then
			local f40_local5 = StringTable.DIFCHIGDFB( CSV.executionsIds.file, CSV.executionsIds.cols.id, f40_local1, CSV.executionsIds.cols.ref )
			if f40_local5 and 0 < #f40_local5 then
				OPERATOR.SetEquippedItemForLootType( f40_local0._controllerIndex, OPERATOR.GetOperatorRefByLootTypeAndID( f40_local2, f40_local1, f40_local0._controllerIndex ), f40_local2, StringTable.DIFCHIGDFB( CSV.operatorExecutions.file, CSV.operatorExecutions.cols.ref, f40_local5, CSV.operatorExecutions.cols.lootIndex ) )
				Lobby.PreloadViewHandsForLocalPlayer( f40_local0._controllerIndex )
				f40_local4 = {
					iconScale = 4.667263495923649E-62,
					displayTime = 3000,
					icon = "cac_equip_fill",
					iconColor = SWATCHES.genericMenu.notificationHighlight,
					header = Engine.CBBHFCGDIC( "LUA_MENU/EXECUTION_SELECTED" ),
					description = f40_local3,
					type = LUI.ToastManager.NotificationType.ExecutionEquipped,
					controllerIndex = f40_local0._controllerIndex
				}
			end
		elseif f40_local2 == LOOT.itemTypes.WATCH then
			local f40_local5 = WATCH.GetEquippedWatch( f40_local0._controllerIndex )
			local f40_local6 = StringTable.DIFCHIGDFB( CSV.accessoryIds.file, CSV.accessoryIds.cols.id, f40_local1, CSV.accessoryIds.cols.ref )
			if f40_local6 and 0 < #f40_local6 then
				WATCH.SetEquippedWatch( f40_local0._controllerIndex, f40_local6, f40_local5 )
			end
		elseif f40_local2 == LOOT.itemTypes.PLAYERCARD then
			local f40_local5 = StringTable.DIFCHIGDFB( CSV.playercardsIds.file, CSV.playercardsIds.cols.id, f40_local1, CSV.playercardsIds.cols.ref )
			if f40_local5 and 0 < #f40_local5 then
				local f40_local6 = StringTable.DIFCHIGDFB( CSV.callingCards.file, CSV.callingCards.cols.ref, f40_local5, CSV.callingCards.cols.index )
				Playercard.DAHDCGCDEC( f40_local0._controllerIndex )
				Playercard.CGGBAHFGAF( f40_local0._controllerIndex, f40_local6 )
				Playercard.FCBJJBFBJ( f40_local0._controllerIndex )
				f40_local4 = {
					displayTime = 2000,
					icon = CallingCardUtils.GetCardTexture( f40_local6 ) or "hud_cmd_active_backer",
					header = Engine.CBBHFCGDIC( "LUA_MENU/PLAYERCARD_EQUIPPED" ),
					description = f40_local3,
					type = LUI.ToastManager.NotificationType.PlayerCardEquipped,
					controllerIndex = f40_local0._controllerIndex
				}
				RANDOM.SetEnabled( f40_local0._controllerIndex, LOOT.itemTypes.PLAYERCARD, false )
			end
		elseif f40_local2 == LOOT.itemTypes.EMBLEM then
			local f40_local5 = StringTable.DIFCHIGDFB( CSV.emblemsIds.file, CSV.emblemsIds.cols.id, f40_local1, CSV.emblemsIds.cols.ref )
			if f40_local5 and 0 < #f40_local5 then
				local f40_local6 = StringTable.DIFCHIGDFB( CSV.emblems.file, CSV.emblems.cols.ref, f40_local5, CSV.emblems.cols.index )
				Playercard.DAHDCGCDEC( f40_local0._controllerIndex )
				Playercard.DBBICFEAGH( f40_local0._controllerIndex, f40_local6 )
				Playercard.FCBJJBFBJ( f40_local0._controllerIndex )
				f40_local4 = {
					displayTime = 2000,
					icon = EmblemEditorUtils.GetEmblemImageFromID( f40_local6 ) or "hud_cmd_active_backer",
					header = Engine.CBBHFCGDIC( "LUA_MENU/EMBLEM_EQUIPPED" ),
					description = f40_local3,
					type = LUI.ToastManager.NotificationType.EmblemEquipped,
					controllerIndex = f40_local0._controllerIndex
				}
				RANDOM.SetEnabled( f40_local0._controllerIndex, LOOT.itemTypes.EMBLEM, false )
			end
		elseif f40_local2 == LOOT.itemTypes.VEHICLE_CAMO then
			local f40_local5 = StringTable.DIFCHIGDFB( CSV.vehicleCamos.file, CSV.vehicleCamos.cols.lootID, f40_local1, CSV.vehicleCamos.cols.vehicleRef )
			if f40_local5 and 0 < #f40_local5 then
				local f40_local6 = VEHICLE.GetPlayerData( f40_local0._controllerIndex, f40_local5 )
				f40_local6.camo:set( f40_local1 )
				f40_local4 = {
					iconScale = 4.667263495923649E-62,
					displayTime = 1500,
					icon = "cac_equip_fill",
					iconColor = SWATCHES.genericMenu.notificationHighlight,
					header = Engine.CBBHFCGDIC( "LUA_MENU/EQUIPPED_VEH_CAMO" ),
					description = f40_local3,
					controllerIndex = f40_local0._controllerIndex
				}
				RANDOM.SetEnabled( f40_local0._controllerIndex, LOOT.itemTypes.VEHICLE_CAMO, false, {
					vehicleRef = f40_local5
				} )
			end
		elseif f40_local2 == LOOT.itemTypes.VEHICLE_HORN then
			local f40_local5 = StringTable.DIFCHIGDFB( CSV.vehicleHornIds.file, CSV.vehicleHornIds.cols.id, f40_local1, CSV.vehicleHornIds.cols.ref )
			if f40_local5 and 0 < #f40_local5 then
				local f40_local6 = StringTable.DIFCHIGDFB( CSV.vehicleHorns.file, CSV.vehicleHorns.cols.ref, f40_local5, CSV.vehicleHorns.cols.index )
				local f40_local7 = VEHICLE.GetAllVehicles( f40_local0._controllerIndex )
				for f40_local8 = 1, #f40_local7, 1 do
					local f40_local12 = f40_local7[f40_local8]
					local f40_local13 = VEHICLE.GetPlayerData( f40_local0._controllerIndex, f40_local12.ref )
					f40_local13.horn:set( f40_local6 )
					RANDOM.SetEnabled( f40_local0._controllerIndex, LOOT.itemTypes.VEHICLE_HORN, false, {
						vehicleRef = f40_local12.ref
					} )
				end
				f40_local4 = {
					iconScale = 4.667263495923649E-62,
					displayTime = 1500,
					icon = "cac_equip_fill",
					iconColor = SWATCHES.genericMenu.notificationHighlight,
					header = Engine.CBBHFCGDIC( "LUA_MENU/EQUIPPED_VEH_HORN" ),
					description = f40_local3,
					controllerIndex = f40_local0._controllerIndex
				}
			end
		end
		Engine.BJDBIAGIDA( SOUND_SETS.default.action )
	end
	if f40_local4 then
		f40_local0:dispatchEventToRoot( {
			name = "send_toast_notification",
			immediate = true,
			options = f40_local4
		} )
	end
end

local f0_local10 = function ( f39_arg0 )
	local f39_local0 = f39_arg0._isOwned and f0_local0 or f0_local0( f39_arg0 )
	f39_arg0.bindButton:registerEventHandler( "button_alt1", f39_local0 )
	f39_arg0.bindButton:addEventHandler( "button_start", f39_local0 )
end

local f0_local11 = function ( f37_arg0 )
	return function ( f38_arg0, f38_arg1 )
		local f38_local0 = f37_arg0
		local f38_local1 = f37_arg0
		local f38_local2 = f37_arg0:GetCurrentMenu()
		f38_local0( f38_local1, f38_local2.id, f38_arg0, f38_arg1.controller )
	end
	
end

local f0_local12 = function ( f36_arg0, f36_arg1 )
	local f36_local0 = LUI.FlowManager.GetScopedData( f36_arg0 )
	STORE.SetupGameExclusiveStatusOfBundle( f36_arg1, f36_local0 )
	ACTIONS.AnimateSequence( f36_arg0, "Setup" )
	local f36_local1 = {}
	local f36_local2 = LOOT.itemSourceExclusivity.MW_WZ
	local f36_local3 = {}
	local f36_local4
	if f36_local0.doesBundleHave1ExclusiveItem then
		f36_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_W_EXCLUSIVE_ITEM_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU/TEXTCHAT_GAMENAME_MW" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
		if not f36_local4 then
		
		else
			f36_local3.exclusivityText = f36_local4
			f36_local1[f36_local2] = f36_local3
			f36_local1[LOOT.itemSourceExclusivity.MW_EXCLUSIVE] = {
				exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU/TEXTCHAT_GAMENAME_MW" ) ) )
			}
			f36_local2 = LOOT.itemSourceExclusivity.CW_WZ
			f36_local3 = {}
			if f36_local0.doesBundleHave1ExclusiveItem then
				f36_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_W_EXCLUSIVE_ITEM_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
				if not f36_local4 then
				
				else
					f36_local3.exclusivityText = f36_local4
					f36_local1[f36_local2] = f36_local3
					f36_local1[LOOT.itemSourceExclusivity.CW_EXCLUSIVE] = {
						exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ) )
					}
					f36_local1[LOOT.itemSourceExclusivity.CW_ZOMBIES_EXCLUSIVE] = {
						exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ) )
					}
					f36_local2 = LOOT.itemSourceExclusivity.VG_WZ
					f36_local3 = {}
					if f36_local0.doesBundleHave1ExclusiveItem then
						f36_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_W_EXCLUSIVE_ITEM_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "MENU/STORE_CAT_X2" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
						if not f36_local4 then
						
						else
							f36_local3.exclusivityText = f36_local4
							f36_local1[f36_local2] = f36_local3
							f36_local1[LOOT.itemSourceExclusivity.VG_EXCLUSIVE] = {
								exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "MENU/STORE_CAT_X2" ) ) )
							}
							f36_local1[LOOT.itemSourceExclusivity.CW_MW_EXCLUSIVE] = {
								exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/TWO_GAME_EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU/TEXTCHAT_GAMENAME_MW" ) ) )
							}
							f36_local1[LOOT.itemSourceExclusivity.CW_VG_EXCLUSIVE] = {
								exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/TWO_GAME_EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "MENU/STORE_CAT_X2" ) ) )
							}
							f36_local1[LOOT.itemSourceExclusivity.MW_VG_EXCLUSIVE] = {
								exclusivityText = Engine.CBBHFCGDIC( "WZ_TU_TANGO/TWO_GAME_EXCLUSIVE_BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU/TEXTCHAT_GAMENAME_MW" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "MENU/STORE_CAT_X2" ) ) )
							}
							f36_arg0.SnipeIcon:UpdateSnipeIcon( {
								selected = true,
								gameSourceExclusivityID = f36_local0.bundleExclusivity,
								alignment = LUI.Alignment.Left
							} )
							if f36_local1[f36_local0.bundleExclusivity] then
								f36_arg0.EquippabilityText:setText( f36_local1[f36_local0.bundleExclusivity].exclusivityText )
							end
						end
					end
					f36_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "MENU/STORE_CAT_X2" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
				end
			end
			f36_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "WZ_TU_TANGO/BLACK_OPS" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
		end
	end
	f36_local4 = Engine.CBBHFCGDIC( "WZ_TU_TANGO/BUNDLE_TEXT", Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU/TEXTCHAT_GAMENAME_MW" ) ), Engine.JCBDICCAH( Engine.CBBHFCGDIC( "LUA_MENU_MP/WARZONE" ) ) )
end

local f0_local13 = function ( f13_arg0, f13_arg1, f13_arg2 )
	assert( f13_arg2.bundleID )
	Engine.BJDBIAGIDA( SOUND_SETS.storefront.windowAppear )
	f13_arg0:addElement( LOOT.GetLootSmokeMaterialStreamer() )
	f13_arg0._bundleID = f13_arg2.bundleID
	f13_arg0._timerValue = f13_arg2.timerValue
	local f13_local0
	if not f13_arg1 then
		f13_local0 = f13_arg1
	else
		f13_local0 = Engine.IJEBHJIJF()
	end
	f13_arg0._controllerIndex = f13_local0
	f13_arg0._previewsEnabled = true
	f13_arg0._promotedItems = STORE.ParsePromotedItems( f13_arg1 )
	f13_arg0._showDisclaimer = false
	f13_arg0._alreadyOwnedCount = 0
	f13_arg0._consumablesCount = 0
	f13_arg0._totalTierSkips = 0
	f13_arg0._curBattlePassTier = BATTLEPASS.GetTier( f13_arg1 )
	f13_arg0._displayUpsellPopup = f13_arg2.displayUpsellPopup
	f13_arg0._itemName = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f13_arg0._bundleID, CSV.bundleIDs.cols.name )
	f13_arg0._itemImage = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f13_arg0._bundleID, CSV.bundleIDs.cols.titleImage )
	f13_arg0._positionInGrid = f13_arg2.positionInGrid
	f13_arg0._categoryIndex = f13_arg2.categoryIndex
	f13_arg0._categoryName = f13_arg2.categoryName
	f13_arg0._storeLayout = f13_arg2.storeLayout
	f13_arg0._sourceMenu = f13_arg2.sourceMenu
	f13_arg0._recommendationData = f13_arg2.recommendationData
	f13_arg0._upsellMenu = f13_arg2.upsellMenu
	f13_arg0._hasSelectPrompt = true
	f13_arg0._isItemGiftable = GIFT.IsItemGiftable( f13_arg0._bundleID )
	f13_arg0.RefreshAltAction = f0_local0
	f13_local0 = {
		itemID = f13_arg0._bundleID,
		itemName = f13_arg0._itemName,
		positionInGrid = f13_arg0._positionInGrid,
		categoryIndex = f13_arg0._categoryIndex,
		categoryName = f13_arg0._categoryName,
		storeLayout = f13_arg0._storeLayout,
		sourceMenu = f13_arg0._sourceMenu,
		recommendationData = f13_arg0._recommendationData
	}
	local f13_local1 = LUI.FlowManager.GetScopedData( f13_arg0 )
	if f13_arg2.isFirstParty then
		f13_arg0._isFirstParty = f13_arg2.isFirstParty
		f13_arg0._isOwned = f13_local1.firstPartyOwned or f13_arg2.owned
		f13_arg0._firstPartyPurchase = f13_arg2.firstPartyPurchase
		if Engine.CIEGIACHAE() then
			InGameStore.ShowStoreIcon( true, InGameStoreStoreIconPosition.CENTER )
		end
		f13_arg0.PurchaseButton:SetPrice( f13_arg2.price, nil, f13_arg2.bundleID )
	else
		local f13_local2, f13_local3 = STORE.GetBundleCost( f13_arg0._controllerIndex, f13_arg2.bundleID )
		if f13_local3 and f13_local3 < f13_local2 then
			f13_arg0._currencyAmount = f13_local3
		else
			f13_arg0._currencyAmount = f13_local2
		end
		f13_arg0._currencyID = f13_arg2.currencyID
		f13_arg0._isOwned = 0 < Loot.DEBEIFJEEG( f13_arg0._controllerIndex, f13_arg0._bundleID )
		f13_arg0.PurchaseButton:SetPrice( f13_local2, f13_local3, f13_arg2.bundleID )
	end
	local f13_local2 = LUI.FlowManager.GetMenuNameAtIndex( -1 )
	if f13_arg2.currencyID == LOOT.CurrencyIDs.COD_POINTS then
		f13_arg0.PurchaseButton.CurrencyIcon:setImage( RegisterMaterial( "icon_currency_codpoints" ) )
	elseif f13_arg2.currencyID == LOOT.CurrencyIDs.KEYS then
		f13_arg0.PurchaseButton.CurrencyIcon:setImage( RegisterMaterial( "icon_currency_key" ) )
	elseif not f13_arg0._isFirstParty then
		assert( false, "Unsupported currency!" )
	end
	local f13_local3 = function ( f35_arg0 )
		if f35_arg0._isOwned then
			local f35_local0
			if LOOT.IsItemTypeQuickEquipable( LOOT.GetTypeForID( tonumber( f35_arg0._items[f35_arg0.ItemsGrid:GetFocusPositionIndex() + 1] ) ) ) then
				f35_local0 = "ShowQuickEquip"
			else
				f35_local0 = "HideQuickEquip"
			end
			ACTIONS.AnimateSequence( f35_arg0, "Purchased" )
			ACTIONS.AnimateSequence( f35_arg0, f35_local0 )
			f35_arg0.PurchaseButton:SetButtonDisabled( true )
			f35_arg0.PurchaseButton:processEvent( {
				name = "Purchased"
			} )
			f35_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
				side = "left",
				button_ref = "button_alt1"
			} )
		else
			ACTIONS.AnimateSequence( f35_arg0, "HideQuickEquip" )
		end
	end
	
	Engine.DHFCHIIJCA( "loadout_showcase_preview" )
	FrontEndScene.HideWeaponModels()
	f13_arg0.MenuTitle:SetTitle( ToUpperCase( Engine.CBBHFCGDIC( "MENU/BUNDLE_PREVIEW" ) ), true )
	f13_arg0._items = LOOT.GetItemsInBundle( f13_arg0._bundleID )
	local f13_local4 = f13_arg0._items
	assert( #f13_local4 <= 10, "A maximum of 10 bundle items are supported!" )
	local f13_local5 = function ( f31_arg0, f31_arg1, f31_arg2 )
		f13_arg0.bundleData = {
			startPurchaseImmediately = false,
			controllerIndex = f13_arg0,
			bundleID = f13_arg0._bundleID,
			itemCurrencyID = f13_arg0._currencyID,
			itemCurrencyAmount = f13_arg0._currencyAmount,
			timerValue = f13_arg0._timerValue,
			showDisclaimer = f13_arg0._showDisclaimer,
			alreadyOwnedCount = f13_arg0._alreadyOwnedCount,
			consumablesCount = f13_arg0._consumablesCount,
			isBundlePurchased = f13_arg0._isOwned
		}
		local f31_local0 = f13_arg0.ItemsGrid:GetContentIndex( f31_arg1, f31_arg2 ) + 1
		local f31_local1 = tonumber( f13_arg0[f31_local0] )
		local f31_local2 = {}
		local f31_local3 = LOOT.GetTypeForID( f31_local1 )
		local f31_local4 = LOOT.GetItemRef( f31_local3, f31_local1 )
		if f31_local3 == LOOT.itemTypes.T9_MISC and LOOT.IsItemIDEquippableByWZ( f31_local1 ) and StringTable.DIFCHIGDFB( CSV.itemSourceTable.file, CSV.itemSourceTable.cols.marketPlaceID, f31_local1, CSV.itemSourceTable.cols.refType ) == "vehicleskin" then
			f31_local3 = LOOT.itemTypes.VEHICLE_CAMO
		end
		if f31_local4 and 0 < #f31_local4 then
			local f31_local5 = LOOT.GetItemQuality( f31_local3, f31_local4, f31_local1 )
			local f31_local6 = LOOT.GetRarityColor( f31_local5 )
			local f31_local7 = LOOT.GetDarkRarityColor( f31_local5 )
			f31_arg0._previewsEnabled = f13_arg0._previewsEnabled
			f31_arg0.Card._previewsEnabled = f13_arg0._previewsEnabled
			f31_arg0.Card:SetHandleMouse( f13_arg0._previewsEnabled )
			f31_arg0.Card:SetFocusable( f13_arg0._previewsEnabled )
			f31_arg0._rarity = f31_local5
			f31_arg0.Card.RarityBG:SetRGBFromTable( f31_local7 )
			f31_arg0.Card.Border:setImage( RegisterMaterial( LOOT.GetRarityBorder( f31_local5 ) ) )
			f31_arg0.Card:UpdateRarityImage( f31_local5, f31_local6 )
			f31_arg0.Card.BlueprintIcon:SetRGBFromTable( f31_local6 )
			f31_arg0.Card:UpdateOperatorMissionBorder( f31_local5 )
			f31_arg0.Card:UpdateOperatorMissionBanner( f13_arg0, f31_local5, f31_local4 )
			f31_arg0._lootType = f31_local3
			if f31_local5 >= LOOT.Rarity.LEGENDARY then
				ACTIONS.AnimateSequence( f31_arg0.Card, "GlintAnime" )
			end
			if f31_local3 == LOOT.itemTypes.SPECIAL then
				ACTIONS.AnimateSequence( f31_arg0.Flare, "SpecialItemHighlight" )
			end
			if Engine.FABABBDBA() and f31_local4 == "gesture049" then
				f31_arg0.Card._previewsEnabled = false
				f31_arg0.Card:SetFocusable( false )
				f31_arg0.Card:SetHandleMouse( false )
				ACTIONS.AnimateSequence( f31_arg0, "Disabled" )
			end
			if f31_local3 == LOOT.itemTypes.WEAPON then
				if WEAPON.IsVariant( f13_arg0, f31_local1 ) then
					f31_arg0.Card.BlueprintIcon:SetAlpha( 0.7 )
				end
				if WEAPON.GetTracerType( f31_local1 ) then
					f31_arg0.Card:SetupTracer( f13_arg0, f31_local1 )
				end
			end
			local f31_local8 = LOOT.GetItemImage( f31_local3, f31_local4, f31_local1 )
			if f31_local8 and 0 < #f31_local8 then
				f31_arg0.Card.Foreground:setImage( RegisterMaterial( f31_local8 ) )
				f31_arg0.Card:UpdateCardConfig( f31_local3, f31_local8 )
				f31_arg0.Card:UpdateWZCardConfig( f31_local1 )
			else
				DebugPrint( "Could not find image asset for type: " .. f31_local3 .. ", and ref: " .. f31_local4 )
			end
			local f31_local9 = nil
			if f31_local4 == "battlepass" or f31_local4 == "t9_battlepass_purchase_s1" then
				f31_local9 = Engine.CBBHFCGDIC( "BATTLEPASS/SEASON_X_BATTLEPASS", SEASON.GetLocalizedName() )
			else
				f31_local9 = LOOT.GetItemName( f31_local3, f31_local4, f31_local1 )
			end
			if f31_local9 and 0 < #f31_local9 then
				f31_arg0.Card.ItemName:setText( ToUpperCase( f31_local9 ) )
			else
				DebugPrint( "Could not find item name for type: " .. f31_local3 .. ", and ref: " .. f31_local4 )
			end
			local f31_local10 = LOOT.GetItemClassName( f31_local3, f31_local4, f31_local1 )
			if f31_local10 and 0 < #f31_local10 then
				f31_arg0.Card.ItemType:setText( f31_local10 )
			else
				DebugPrint( "Could not find item class name for type: " .. f31_local3 .. ", and ref: " .. f31_local4 )
			end
			f31_local2.id = f31_local1
			f31_local2.rarity = f31_local5
			f31_local2.type = f31_local3
			f31_local2.image = f31_local8
			f31_local2.name = f31_local9
			f31_local2.className = f31_local10
			f31_local2.bundleID = f13_arg0.bundleID
			f31_local2.positionInGrid = f13_arg0.bundleIndex
			f31_local2.isOwned = 0 < Loot.DEBEIFJEEG( f13_arg0, f31_local1 )
			if f31_local2.isOwned and not f31_arg0._alreadyOwned then
				if f31_local2.type ~= LOOT.itemTypes.SPECIAL and (f31_local2.type ~= LOOT.itemTypes.BATTLE_PASS or CONDITIONS.IsBattlePassEnabled()) then
					f31_arg0._alreadyOwned = true
					f13_arg0._alreadyOwnedCount = f13_arg0._alreadyOwnedCount + 1
					if f31_local2.type == LOOT.itemTypes.CONSUMABLE then
						f13_arg0._consumablesCount = f13_arg0._consumablesCount + 1
					end
				else
					f31_local2.isOwned = false
				end
			end
			if not f31_arg0._buttonHandlerAdded then
				f31_arg0.Card:addEventHandler( "button_action", function ( f34_arg0, f34_arg1 )
					local f34_local0 = STORE.PreviewSupported( f31_arg0 )
					if f31_arg0._previewsEnabled then
						if f34_local0 then
							if f31_arg0._isFirstParty and Engine.CIEGIACHAE() then
								InGameStore.ShowStoreIcon( false )
							end
							STORE.PreviewItem( f31_arg0, f31_arg0, f31_arg0, f31_arg0._bundleID, f31_arg0._timerValue, false, false, f31_arg0.bundleData )
							QUARTERMASTER.RecordItemBrowseEvent( f31_arg0, true, f31_arg0._sourceMenu )
						else
							local f34_local1 = LUI.FlowManager.GetScopedData( f31_arg0 )
							local f34_local2
							if f34_local1.bundleExclusivity ~= LOOT.itemSourceExclusivity.CW_EXCLUSIVE and f34_local1.bundleExclusivity ~= LOOT.itemSourceExclusivity.CW_WZ then
								f34_local2 = false
							else
								f34_local2 = true
							end
							if f34_local2 and not (0 < Loot.DEBEIFJEEG( f31_arg0, f31_arg0 )) then
								LUI.FlowManager.RequestPopupMenu( f31_arg0, "WZCWUpsellPopup", true, f31_arg0, false )
							end
						end
					end
				end )
				f31_arg0.Card:addEventHandler( "button_over", function ( f33_arg0, f33_arg1 )
					if f31_arg0._previewsEnabled then
						if QUARTERMASTER.itemData then
							QUARTERMASTER.RecordItemBrowseEvent( f31_arg0, false, f31_arg0._sourceMenu )
						end
						QUARTERMASTER.BeginItemBrowseEvent( f31_arg0, f31_arg0, f31_arg0._storeLayout, f31_arg0._recommendationData )
					end
				end )
				if f13_arg0._showDisclaimer == false and f31_local3 == LOOT.itemTypes.BATTLE_PASS then
					f13_arg0._totalTierSkips = f13_arg0._totalTierSkips + LOOT.GetBattlePassLootSkips( f31_local2.id )
					if f13_arg0._curBattlePassTier + f13_arg0._totalTierSkips > BATTLEPASS.GetMaxTier() then
						f13_arg0._showDisclaimer = true
					end
				end
				f31_arg0._buttonHandlerAdded = true
			end
			if f13_arg0._purchasedAnimation or f13_arg0._isOwned then
				ACTIONS.AnimateSequence( f13_arg0, "Purchased" )
			elseif (f13_arg0._showDisclaimer or f31_local2.isOwned) and f31_local2.type ~= LOOT.itemTypes.CONSUMABLE then
				ACTIONS.AnimateSequence( f13_arg0, "TierDisclaimer" )
				if f13_arg0._showDisclaimer and f31_local2.isOwned then
					f13_arg0.Disclaimer:setText( Engine.CBBHFCGDIC( "MENU/BUNDLE_TIER_OWNED_DISCLAIMER", f13_arg0._alreadyOwnedCount ) )
				elseif f13_arg0._showDisclaimer then
					f13_arg0.Disclaimer:setText( Engine.CBBHFCGDIC( "MENU/BUNDLE_TIER_DISCLAIMER" ) )
				elseif f31_local2.isOwned then
					f13_arg0.Disclaimer:setText( Engine.CBBHFCGDIC( "MENU/BUNDLE_OWNED_DISCLAIMER", f13_arg0._alreadyOwnedCount ) )
				end
			end
		end
		if f13_arg0._purchasedAnimation then
			ACTIONS.AnimateSequence( f31_arg0.Card, "HideAlreadyOwned" )
			f31_arg0:SetAlpha( 0 )
			local f31_local5 = f31_arg0:Wait( f13_arg0 * f31_local0 )
			f31_local5.onComplete = function ()
				if f31_arg0 == 1 then
					Engine.BJDBIAGIDA( SOUND_SETS.storefront.cardFlipFirst )
				end
				Engine.BJDBIAGIDA( SOUND_SETS.storefront.cardFlipMiddle )
				if f31_arg0 == #f31_arg0 then
					Engine.BJDBIAGIDA( SOUND_SETS.storefront.cardFlipLast )
				end
				f31_arg0( f31_arg0, f31_arg0, f31_arg0 == #f31_arg0 )
			end
			
		elseif f13_arg0._isOwned then
			ACTIONS.AnimateSequence( f31_arg0.Card, "ShowPurchasedFrame" )
			ACTIONS.AnimateSequence( f31_arg0.Card, "HideAlreadyOwned" )
			if f31_local2.type == LOOT.itemTypes.BATTLE_PASS and CONDITIONS.IsBattlePassEnabled() then
				f31_arg0:SetAlpha( 0.3 )
				f31_arg0.Card.Border:SetAlpha( 0 )
				f31_arg0.Card.ItemType:setText( Engine.CBBHFCGDIC( "BATTLEPASS/REDEEMED" ) )
			end
		elseif f31_local2.isOwned and f31_local2.type ~= LOOT.itemTypes.CONSUMABLE and (f31_local2.type ~= LOOT.itemTypes.BATTLE_PASS or CONDITIONS.IsBattlePassEnabled()) then
			ACTIONS.AnimateSequence( f31_arg0.Card, "ShowPurchasedFrame" )
			ACTIONS.AnimateSequence( f31_arg0.Card, "ShowAlreadyOwned" )
		end
	end
	
	local f13_local6 = function ()
		local f30_local0 = LOOT.GetTypeForID( tonumber( f13_arg0[f13_arg0.ItemsGrid:GetFocusPositionIndex() + 1] ) )
		if f30_local0 == LOOT.itemTypes.OPERATOR_EXECUTION then
			f13_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
				side = "left",
				button_ref = "button_primary"
			} )
			f13_arg0._hasSelectPrompt = false
		elseif f13_arg0._hasSelectPrompt == false then
			f13_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
				side = "left",
				button_ref = "button_primary",
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU/SELECT" )
			} )
			f13_arg0._hasSelectPrompt = true
		end
		local f30_local1 = LOOT.IsItemTypeQuickEquipable( f30_local0 )
		if f30_local1 then
			f30_local1 = f13_arg0._isOwned
		end
		local f30_local2
		if f30_local1 then
			f30_local2 = "ShowQuickEquip"
		else
			f30_local2 = "HideQuickEquip"
		end
		ACTIONS.AnimateSequence( f13_arg0, f30_local2 )
		local f30_local3 = LOOT.quickEquipDesc[f30_local0]
		if f30_local3 then
			f30_local3 = Engine.CBBHFCGDIC( f30_local3 )
		else
			f30_local3 = ""
		end
		f13_arg0.QuickEquipDesc:setText( f30_local3 )
		f13_arg0( f13_arg0 )
	end
	
	f13_arg0.ItemsGrid:SetRefreshChild( f13_local5 )
	local f13_local7 = f13_arg0.ItemsGrid
	local f13_local8 = f13_local7
	f13_local7 = f13_local7.SetNumRows
	local f13_local9
	if 5 < #f13_local4 then
		f13_local9 = 2
	else
		f13_local9 = 1
	end
	f13_local7( f13_local8, f13_local9 )
	f13_local7 = f13_arg0.ItemsGrid
	f13_local8 = f13_local7
	f13_local7 = f13_local7.SetNumColumns
	if 5 < #f13_local4 then
		f13_local9 = 5
	else
		f13_local9 = #f13_local4
	end
	f13_local7( f13_local8, f13_local9 )
	f13_arg0.ItemsGrid:SetNumChildren( math.min( #f13_local4, 10 ) )
	f13_arg0.ItemsGrid:RefreshContent()
	f13_arg0.ItemsGrid._onNewTargetFocusPosition = f13_local6
	f13_arg0.PurchaseButton:addEventHandler( "button_action", f0_local0( f13_arg0 ) )
	f13_arg0.QuickEquipButton:addEventHandler( "button_action", f0_local0 )
	f13_arg0.QuickEquipButton:addAndCallEventHandler( "update_input_type", function ( f29_arg0, f29_arg1 )
		local f29_local0
		if LUI.IsLastInputKeyboardMouse( f13_arg0 ) then
			f29_local0 = "MENU/QUICK_EQUIP_KBM"
		else
			f29_local0 = "MENU/QUICK_EQUIP"
		end
		f29_arg0.Text:setText( ToUpperCase( Engine.CBBHFCGDIC( f29_local0 ) ), 0 )
	end )
	f13_arg0:addEventHandler( "bundle_purchase_complete", function ( f28_arg0, f28_arg1 )
		f13_arg0.isQuickAccessShortcutsDisabled = true
		f13_arg0._previewsEnabled = false
		f28_arg0.ItemsGrid:RefreshContent()
		Engine.BJDBIAGIDA( SOUND_SETS.storefront.purchaseBundleComplete )
		Engine.DFCGFCGBFD( "mp_store_bundle_purchase" )
		ACTIONS.AnimateSequence( f28_arg0, "BundlePurchaseShow" )
		local f28_local0 = Dvar.CFHDGABACF( "QKKMRRLRR" )
		local f28_local1
		if f28_local0 ~= 5 and f28_local0 ~= 6 then
			f28_local1 = false
		else
			f28_local1 = true
		end
		if Engine.CGABICJHAI() and f28_local1 == true then
			ACTIONS.AnimateSequence( f13_arg0, "WideAspectRatioFrame" )
		end
		f13_arg0( f13_arg0 )
	end )
	f13_local7 = function ()
		QUARTERMASTER.RecordPurchaseConfirmEvent( f13_arg0, f13_arg0, true, false, f13_arg0 )
		f13_arg0._purchasedAnimation = 0 < f13_arg0.ItemsGrid:GetNumChildren()
		if f13_arg0._isFirstParty then
			f13_arg0._isOwned = true
		else
			f13_arg0._isOwned = 0 < Loot.DEBEIFJEEG( f13_arg0._controllerIndex, f13_arg0._bundleID )
		end
		LUI.FlowManager.RequestLeaveMenuByName( "LootPurchasingPopup", true )
		Engine.BJDBIAGIDA( SOUND_SETS.storefront.selectionConfirmed )
		local f26_local0 = f13_arg0:Wait( 3000 )
		f26_local0.onComplete = function ()
			Engine.EBCGADABJ()
			ACTIONS.AnimateSequence( f26_local0, "BundlePurchaseHide" )
			f26_local0.ItemsGrid:RefreshContent()
			f26_local0.HelperBar:SetAlpha( 1 )
		end
		
		f13_arg0:RefreshAltAction( f13_arg0 )
	end
	
	if f13_arg0._isFirstParty then
		f13_arg0:addEventHandler( "exchanged_item", function ( f25_arg0, f25_arg1 )
			if not f25_arg1.fromSignIn then
				f25_arg0._firstPartyPurchaseSuccess = true
				f13_arg0.firstPartyOwned = true
				return true
			else
				
			end
		end )
		f13_arg0:addEventHandler( "exchanged_item_failed", function ( f24_arg0, f24_arg1 )
			if not f24_arg1.fromSignIn then
				QUARTERMASTER.RecordPurchaseConfirmEvent( f13_arg0, f13_arg0, false, true, f13_arg0 )
				f13_arg0._previewsEnabled = true
				f13_arg0( f13_arg0 )
			end
		end )
		f13_arg0:addEventHandler( "ingamestore_purchased_product", function ( f23_arg0, f23_arg1 )
			if f23_arg1.transactionResult == STORE.TransactionResult.TRANSACTION_SUCCEEDED then
				f23_arg0._firstPartyPurchaseSuccess = true
				f13_arg0.firstPartyOwned = true
				LUI.FlowManager.RequestLeaveMenuByName( "ItemExchangeFencePopup" )
			end
		end )
	else
		f13_arg0:addEventHandler( "loot_item_transaction_complete", f13_local7 )
		f13_arg0:addEventHandler( "loot_item_transaction_error", function ( f22_arg0, f22_arg1 )
			if f22_arg1.errorCode == STORE.ProductNoLongerAvailableError then
				LUI.FlowManager.RequestPopupMenu( nil, "ProductNoLongerAvailableErrorPopup", true, f13_arg0, false )
			end
			QUARTERMASTER.RecordPurchaseConfirmEvent( f13_arg0, f13_arg0, false, true, f13_arg0 )
			LUI.FlowManager.RequestLeaveMenuByName( "LootPurchasingPopup", true )
			LUI.FlowManager.RequestPopupMenu( nil, "popup_handle_lootcrate", true, f13_arg0, false, {
				cratePopupType = STORE.CratePopupType.PURCHASE_FAIL
			} )
			Engine.EBCGADABJ()
			ACTIONS.AnimateSequence( f13_arg0, "BundlePurchaseHide" )
			f13_arg0._previewsEnabled = true
			f13_arg0.ItemsGrid:RefreshContent()
			f13_arg0.HelperBar:SetAlpha( 1 )
			f13_arg0( f13_arg0 )
		end )
	end
	f13_arg0:addEventHandler( "restore_focus", function ( f21_arg0, f21_arg1 )
		if f13_arg0._isFirstParty then
			if Engine.CIEGIACHAE() then
				InGameStore.ShowStoreIcon( true, InGameStoreStoreIconPosition.CENTER )
			end
			if f13_arg0._firstPartyPurchaseSuccess and not f13_arg0.hasPlayedPurchaseAnimation then
				f13_arg0._firstPartyPurchaseSuccess = nil
				f13_arg0:processEvent( {
					name = "bundle_purchase_complete"
				} )
				f13_arg0.hasPlayedPurchaseAnimation = true
				f13_arg0()
			end
		end
	end )
	f13_arg0:RefreshAltAction( f13_arg0 )
	local f13_local10 = function ( f20_arg0 )
		assert( f20_arg0 )
		LUI.FlowManager.RequestPopupMenu( nil, "GiftBundlePurchaseConfirmationPopup", true, f13_arg0, false, {
			bundleGiftInfo = {
				currencyAmount = f13_arg0._currencyAmount,
				id = f13_arg0._bundleID,
				name = f13_arg0._itemName,
				titleImage = f13_arg0._itemImage
			},
			recipientXuidString = f20_arg0
		} )
	end
	
	if CONDITIONS.IsGiftingEnabled() then
		f0_local0( f13_arg0 )
		f13_arg0.bindButton:registerEventHandler( "button_alt2", function ( element, event )
			if f13_arg0._isItemGiftable and f13_arg0._previewsEnabled then
				GIFT.StartFTUEFlow( f13_arg0, function ()
					LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", true, element, false, {
						flyInLeftNarrow = true,
						widget = MenuBuilder.BuildRegisteredType( "GiftingFriendSelectPopup", {
							controllerIndex = element,
							bundleSKU = element._bundleID,
							selectedGifteeCallback = element
						} )
					} )
				end )
			end
		end )
	elseif not f13_arg0._isFirstParty and CONDITIONS.AreCODPointsEnabled( f13_arg0 ) then
		f13_arg0.bindButton:registerEventHandler( "button_alt2", f0_local0( f13_arg0 ) )
		f13_arg0.PlayerDetails.Wallet.CoDPoints.Btn:SetAlpha( 1 )
	end
	f13_local9 = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f13_arg0._bundleID, CSV.bundleIDs.cols.titleImage )
	if f13_local9 and 0 < #f13_local9 then
		f13_arg0.TitleImage:setImage( RegisterMaterial( f13_local9 ) )
	else
		f13_arg0.TitleImage:SetAlpha( 0 )
	end
	local f13_local11 = BATTLEPASS.GetCurrentCPRewards( f13_arg1 )
	local f13_local12 = STORE.GetBundleDescription( f13_arg0._bundleID, f13_local11.totalCP )
	if f13_local12 then
		f13_arg0.DescriptionText:setText( f13_local12 )
	end
	local f13_local13 = StringTable.DIFCHIGDFB( CSV.bundleIDs.file, CSV.bundleIDs.cols.id, f13_arg0._bundleID, CSV.bundleIDs.cols.name )
	if f13_local13 then
		local f13_local14 = Engine.DGAIDIEIAC()
		local f13_local15
		if f13_local14 ~= 0 and f13_local14 ~= 1 then
			f13_local15 = false
		else
			f13_local15 = true
		end
		if not f13_local15 then
			f13_arg0.LocalizedTitle:setText( Engine.CBBHFCGDIC( f13_local13 ) )
		end
	end
	if f13_arg0._isOwned then
		ACTIONS.AnimateSequence( f13_arg0, "Purchased" )
		f13_arg0.PurchaseButton:SetButtonDisabled( true )
		f13_arg0.PurchaseButton:processEvent( {
			name = "Purchased"
		} )
		f13_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
			side = "left",
			button_ref = "button_alt1"
		} )
	elseif LUI.IsLastInputKeyboardMouse( f13_arg1 ) then
		f13_arg0.PurchaseButton:processEvent( {
			name = "button_up"
		} )
	else
		f13_arg0.PurchaseButton:processEvent( {
			name = "button_over"
		} )
	end
	f13_arg0:registerEventHandler( "menu_close", function ( element, event )
		LUI.FlowManager.RequestLeaveMenuByName( "LootPurchasingPopup" )
		if f13_arg0._bundleID == tonumber( BATTLEPASS.GetTierSkipGiftID() ) then
			local f17_local0 = LUI.FlowManager.GetScopedData( "MainMenu" )
			if f17_local0.returnToMainMenu then
				f17_local0.returnToMainMenu = nil
			end
		end
	end )
	f13_arg0.bindButton:addEventHandler( "button_secondary", function ( f16_arg0, f16_arg1 )
		if not f13_arg0._purchasedAnimation then
			if LUI.FlowManager.IsInStack( "OperatorSelect" ) and f13_arg0._isOwned then
				local f16_local0 = LUI.FlowManager.GetScopedData( "OperatorSelect" )
				f16_local0.operatorData.useDefaultOperatorForFocus = true
				f16_local0.operatorData.useEquippedOperatorFocusIndex = false
				LUI.FlowManager.RequestRestoreMenu( "OperatorSelect" )
			else
				LUI.FlowManager.RequestLeaveMenu( f16_arg0 )
			end
		end
	end )
	f0_local0( f13_arg0, f13_local4 )
	ACTIONS.ScaleFullscreen( f13_arg0.Darkener )
	ACTIONS.ScaleFullscreen( f13_arg0.Transition )
	LAYOUT.AddAspectRatioFadeFrame( f13_arg0, f13_arg1 )
	local f13_local14 = function ()
		f13_arg0( f13_arg0, f13_arg0.id, f13_arg0.PurchaseButton, f13_arg0, f13_arg0.startPurchaseImmediately )
		f13_arg0.startPurchaseImmediately = false
		f13_arg0.startPurchaseImmediately = false
	end
	
	if f13_arg2.startPurchaseImmediately or f13_local1.startPurchaseImmediately then
		f13_local14()
	end
	if not f13_arg2.isQuickPurchasePopupInPreview then
		if f13_arg0.ItemsGrid then
			f13_arg0.ItemsGrid:FocusFirstItem()
		end
		f13_arg0:saveState()
	end
	f13_arg0:addEventHandler( "restore_focus", function ( f14_arg0, f14_arg1 )
		if f13_arg0.startPurchaseImmediately or f13_arg0.startPurchaseImmediately then
			f13_arg0()
		elseif f13_arg0.isQuickPurchasePopupInPreview then
			f13_arg0.isQuickPurchasePopupInPreview = false
			f13_arg0( f14_arg0, f14_arg1.controller )
		end
	end )
	if f13_arg0._timerValue then
		f13_arg0.LimitedTimeItem:SetupTimeLimit( nil, nil, f13_arg0._timerValue, true, true )
	else
		f13_arg0.LimitedTimeItem:SetAlpha( 0 )
	end
	local f13_local15 = LUI.FlowManager.GetScopedData( "MainMenu" )
	if f13_local15 and f13_local15.ShouldHandleGiftBundle then
		f13_local15.ShouldHandleGiftBundle = nil
		f13_arg0:processEvent( {
			name = "bundle_purchase_complete"
		} )
		f13_local7()
	end
	f13_arg0.PurchaseButton:SetDisableHoldToPurchase( {
		controllerIndex = f13_arg1
	} )
	if f13_arg2.openGiftingPopup then
		f13_arg0.bindButton:processEvent( {
			name = "button_alt2"
		} )
	end
end

function StoreBundlePreview( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "StoreBundlePreview"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	self.HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	self.HelperBar.id = "HelperBar"
	self.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	self.HelperBar:setPriority( 10 )
	self:addElement( self.HelperBar )
	local f1_local2 = self
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	Darkener:SetRGBFromInt( 0, 0 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:setImage( RegisterMaterial( "mw_store_billboard_preview_blur" ), 0 )
	Background:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -960, _1080p * 960, _1080p * 170, _1080p * 922 )
	self:addElement( Background )
	self.Background = Background
	
	local DescriptionText = nil
	
	DescriptionText = LUI.UIStyledText.new()
	DescriptionText.id = "DescriptionText"
	DescriptionText:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	DescriptionText:setText( "", 0 )
	DescriptionText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	DescriptionText:SetAlignment( LUI.Alignment.Left )
	DescriptionText:SetOptOutRightToLeftAlignmentFlip( true )
	DescriptionText:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	DescriptionText:SetStartupDelay( 2000 )
	DescriptionText:SetLineHoldTime( 400 )
	DescriptionText:SetAnimMoveTime( 2000 )
	DescriptionText:SetAnimMoveSpeed( 150 )
	DescriptionText:SetEndDelay( 2000 )
	DescriptionText:SetCrossfadeTime( 250 )
	DescriptionText:SetFadeInTime( 300 )
	DescriptionText:SetFadeOutTime( 300 )
	DescriptionText:SetMaxVisibleLines( 4 )
	DescriptionText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 608, _1080p * 631, _1080p * 655 )
	self:addElement( DescriptionText )
	self.DescriptionText = DescriptionText
	
	local EquippabilityText = nil
	
	EquippabilityText = LUI.UIStyledText.new()
	EquippabilityText.id = "EquippabilityText"
	EquippabilityText:SetRGBFromTable( SWATCHES.CH2.NeutralGray, 0 )
	EquippabilityText:setText( "", 0 )
	EquippabilityText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	EquippabilityText:SetAlignment( LUI.Alignment.Left )
	EquippabilityText:SetOptOutRightToLeftAlignmentFlip( true )
	EquippabilityText:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	EquippabilityText:SetStartupDelay( 2000 )
	EquippabilityText:SetLineHoldTime( 400 )
	EquippabilityText:SetAnimMoveTime( 2000 )
	EquippabilityText:SetAnimMoveSpeed( 150 )
	EquippabilityText:SetEndDelay( 2000 )
	EquippabilityText:SetCrossfadeTime( 250 )
	EquippabilityText:SetFadeInTime( 300 )
	EquippabilityText:SetFadeOutTime( 300 )
	EquippabilityText:SetMaxVisibleLines( 4 )
	EquippabilityText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 608, _1080p * 571, _1080p * 591 )
	self:addElement( EquippabilityText )
	self.EquippabilityText = EquippabilityText
	
	local f1_local7 = nil
	if CONDITIONS.InFrontend() then
		f1_local7 = MenuBuilder.BuildRegisteredType( "LobbyMembersFooter", {
			controllerIndex = f1_local1
		} )
		f1_local7.id = "LobbyMembersFooter"
		f1_local7:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 150 )
		self:addElement( f1_local7 )
		self.LobbyMembersFooter = f1_local7
	end
	local ItemsGrid = nil
	
	ItemsGrid = LUI.UIGrid.new( {
		scrollingThresholdX = 1,
		buildArrowsLabel = false,
		maxVelocity = 5000,
		adjustSizeToContent = true,
		scrollingThresholdY = 1,
		wrapX = false,
		maxVisibleColumns = 5,
		maxVisibleRows = 2,
		wrapY = false,
		arrowsVerticalOffset = 0,
		springCoefficient = 400,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "LootItemCardWrapper", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f11_arg0, f11_arg1, f11_arg2 )
			
		end,
		spacingX = _1080p * 30,
		spacingY = _1080p * 30,
		columnWidth = _1080p * 210,
		rowHeight = _1080p * 310,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	ItemsGrid.id = "ItemsGrid"
	ItemsGrid:setUseStencil( false )
	ItemsGrid:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -1266, _1080p * -96, _1080p * 215, _1080p * 865 )
	self:addElement( ItemsGrid )
	self.ItemsGrid = ItemsGrid
	
	local QuickEquipButton = nil
	
	QuickEquipButton = MenuBuilder.BuildRegisteredType( "GenericButton", {
		controllerIndex = f1_local1
	} )
	QuickEquipButton.id = "QuickEquipButton"
	QuickEquipButton:SetAlpha( 0, 0 )
	QuickEquipButton.Text:SetLeft( _1080p * 20, 0 )
	QuickEquipButton.Text:setText( ToUpperCase( Engine.CBBHFCGDIC( "MENU/QUICK_EQUIP" ) ), 0 )
	QuickEquipButton.Text:SetAlignment( LUI.Alignment.Left )
	QuickEquipButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 496, _1080p * 774, _1080p * 840 )
	self:addElement( QuickEquipButton )
	self.QuickEquipButton = QuickEquipButton
	
	local PurchaseButton = nil
	
	PurchaseButton = MenuBuilder.BuildRegisteredType( "PurchaseBundleButton", {
		controllerIndex = f1_local1
	} )
	PurchaseButton.id = "PurchaseButton"
	PurchaseButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 496, _1080p * 745, _1080p * 865 )
	self:addElement( PurchaseButton )
	self.PurchaseButton = PurchaseButton
	
	local QuickEquipDesc = nil
	
	QuickEquipDesc = LUI.UIStyledText.new()
	QuickEquipDesc.id = "QuickEquipDesc"
	QuickEquipDesc:SetRGBFromTable( SWATCHES.CH2.NeutralGray, 0 )
	QuickEquipDesc:setText( "", 0 )
	QuickEquipDesc:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	QuickEquipDesc:SetAlignment( LUI.Alignment.Left )
	QuickEquipDesc:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 100, _1080p * 600, _1080p * 868, _1080p * 892 )
	self:addElement( QuickEquipDesc )
	self.QuickEquipDesc = QuickEquipDesc
	
	local PlayerDetails = nil
	
	PlayerDetails = MenuBuilder.BuildRegisteredType( "MPPlayerDetails", {
		controllerIndex = f1_local1
	} )
	PlayerDetails.id = "PlayerDetails"
	PlayerDetails:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -596, _1080p * -96, _1080p * 54, _1080p * 114 )
	self:addElement( PlayerDetails )
	self.PlayerDetails = PlayerDetails
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( Engine.CBBHFCGDIC( "MENU/BUNDLE_PREVIEW" ), 0 )
	MenuTitle.Line:SetLeft( 0, 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1020, 0, _1080p * 100 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local TitleImage = nil
	
	TitleImage = LUI.UIImage.new()
	TitleImage.id = "TitleImage"
	TitleImage:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 608, _1080p * 240, _1080p * 496 )
	self:addElement( TitleImage )
	self.TitleImage = TitleImage
	
	local LocalizedTitle = nil
	
	LocalizedTitle = LUI.UIStyledText.new()
	LocalizedTitle.id = "LocalizedTitle"
	LocalizedTitle:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	LocalizedTitle:setText( "", 0 )
	LocalizedTitle:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	LocalizedTitle:SetWordWrap( false )
	LocalizedTitle:SetAlignment( LUI.Alignment.Left )
	LocalizedTitle:SetOptOutRightToLeftAlignmentFlip( true )
	LocalizedTitle:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollH )
	LocalizedTitle:SetStartupDelay( 2000 )
	LocalizedTitle:SetLineHoldTime( 400 )
	LocalizedTitle:SetAnimMoveTime( 2000 )
	LocalizedTitle:SetAnimMoveSpeed( 150 )
	LocalizedTitle:SetEndDelay( 2000 )
	LocalizedTitle:SetCrossfadeTime( 250 )
	LocalizedTitle:SetFadeInTime( 300 )
	LocalizedTitle:SetFadeOutTime( 300 )
	LocalizedTitle:SetMaxVisibleLines( 1 )
	LocalizedTitle:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 608, _1080p * 498, _1080p * 528 )
	self:addElement( LocalizedTitle )
	self.LocalizedTitle = LocalizedTitle
	
	local Disclaimer = nil
	
	Disclaimer = LUI.UIStyledText.new()
	Disclaimer.id = "Disclaimer"
	Disclaimer:SetRGBFromTable( SWATCHES.genericButton.description, 0 )
	Disclaimer:SetAlpha( 0, 0 )
	Disclaimer:setText( Engine.CBBHFCGDIC( "MENU/BUNDLE_TIER_DISCLAIMER" ), 0 )
	Disclaimer:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	Disclaimer:SetAlignment( LUI.Alignment.Left )
	Disclaimer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 496, _1080p * 845, _1080p * 863 )
	self:addElement( Disclaimer )
	self.Disclaimer = Disclaimer
	
	local Lock = nil
	
	Lock = LUI.UIImage.new()
	Lock.id = "Lock"
	Lock:SetAlpha( 0, 0 )
	Lock:setImage( RegisterMaterial( "ui_streak_warning" ), 0 )
	Lock:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 128, _1080p * 838, _1080p * 870 )
	self:addElement( Lock )
	self.Lock = Lock
	
	local LimitedTimeItem = nil
	
	LimitedTimeItem = MenuBuilder.BuildRegisteredType( "LimitedTimeItem", {
		controllerIndex = f1_local1
	} )
	LimitedTimeItem.id = "LimitedTimeItem"
	LimitedTimeItem:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 396, _1080p * 185, _1080p * 215 )
	self:addElement( LimitedTimeItem )
	self.LimitedTimeItem = LimitedTimeItem
	
	local SnipeIcon = nil
	
	SnipeIcon = MenuBuilder.BuildRegisteredType( "WZSnipeIcon", {
		controllerIndex = f1_local1
	} )
	SnipeIcon.id = "SnipeIcon"
	SnipeIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 496, _1080p * 530, _1080p * 571 )
	self:addElement( SnipeIcon )
	self.SnipeIcon = SnipeIcon
	
	local Cinematic = nil
	
	Cinematic = MenuBuilder.BuildRegisteredType( "Cinematic", {
		controllerIndex = f1_local1
	} )
	Cinematic.id = "Cinematic"
	Cinematic:SetAlpha( 0, 0 )
	self:addElement( Cinematic )
	self.Cinematic = Cinematic
	
	local VignetteRight = nil
	
	VignetteRight = LUI.UIImage.new()
	VignetteRight.id = "VignetteRight"
	VignetteRight:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteRight:SetAlpha( 0, 0 )
	VignetteRight:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	VignetteRight:SetAnchorsAndPosition( 1, 0, 0, 0, _1080p * 72, _1080p * -395, 0, 0 )
	self:addElement( VignetteRight )
	self.VignetteRight = VignetteRight
	
	local VignetteLeft = nil
	
	VignetteLeft = LUI.UIImage.new()
	VignetteLeft.id = "VignetteLeft"
	VignetteLeft:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	VignetteLeft:SetAlpha( 0, 0 )
	VignetteLeft:SetYRotation( 180, 0 )
	VignetteLeft:setImage( RegisterMaterial( "gradient_curve" ), 0 )
	VignetteLeft:SetAnchorsAndPosition( 0, 1, 0, 0, _1080p * 395, _1080p * -72, 0, 0 )
	self:addElement( VignetteLeft )
	self.VignetteLeft = VignetteLeft
	
	local PurchasedMessage = nil
	
	PurchasedMessage = LUI.UIStyledText.new()
	PurchasedMessage.id = "PurchasedMessage"
	PurchasedMessage:SetRGBFromTable( SWATCHES.BattlePass.Free, 0 )
	PurchasedMessage:SetAlpha( 0, 0 )
	PurchasedMessage:setText( ToUpperCase( Engine.CBBHFCGDIC( "MENU/BUNDLE_PURCHASED" ) ), 0 )
	PurchasedMessage:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	PurchasedMessage:SetAlignment( LUI.Alignment.Center )
	PurchasedMessage:SetAnchorsAndPosition( 0, 0, 0.5, 0.5, 0, 0, _1080p * -35, _1080p * 35 )
	self:addElement( PurchasedMessage )
	self.PurchasedMessage = PurchasedMessage
	
	local Transition = nil
	
	Transition = LUI.UIImage.new()
	Transition.id = "Transition"
	Transition:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Transition:SetAlpha( 0, 0 )
	self:addElement( Transition )
	self.Transition = Transition
	
	local f1_local25 = nil
	ItemsGrid:RegisterAnimationSequence( "DefaultSequence", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * -1266
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -96
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 215
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 865
		}
	} )
	Transition:RegisterAnimationSequence( "DefaultSequence", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.DefaultSequence = function ()
		menu:AnimateSequence( "DefaultSequence" )
		menu:AnimateSequence( "DefaultSequence" )
	end
	
	local f1_local26 = nil
	Cinematic:RegisterAnimationSequence( "BundlePurchaseShow", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PurchasedMessage:RegisterAnimationSequence( "BundlePurchaseShow", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.BundlePurchaseShow = function ()
		menu:AnimateSequence( "BundlePurchaseShow" )
		menu:AnimateSequence( "BundlePurchaseShow" )
	end
	
	local f1_local27 = nil
	Cinematic:RegisterAnimationSequence( "BundlePurchaseHide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	VignetteRight:RegisterAnimationSequence( "BundlePurchaseHide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	VignetteLeft:RegisterAnimationSequence( "BundlePurchaseHide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PurchasedMessage:RegisterAnimationSequence( "BundlePurchaseHide", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.BundlePurchaseHide = function ()
		menu:AnimateSequence( "BundlePurchaseHide" )
		menu:AnimateSequence( "BundlePurchaseHide" )
		menu:AnimateSequence( "BundlePurchaseHide" )
		menu:AnimateSequence( "BundlePurchaseHide" )
	end
	
	local f1_local28 = nil
	Disclaimer:RegisterAnimationSequence( "TierDisclaimer", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine.CBBHFCGDIC( "MENU/BUNDLE_TIER_DISCLAIMER" )
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 496
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 130
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 959
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 977
		}
	} )
	Lock:RegisterAnimationSequence( "TierDisclaimer", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.TierDisclaimer = function ()
		menu:AnimateSequence( "TierDisclaimer" )
		menu:AnimateSequence( "TierDisclaimer" )
	end
	
	local f1_local29 = nil
	QuickEquipDesc:RegisterAnimationSequence( "Purchased", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 841
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 865
		}
	} )
	Disclaimer:RegisterAnimationSequence( "Purchased", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Text,
			value = Engine.CBBHFCGDIC( "MENU/BUNDLE_ADDED_TO_INVENTORY" )
		}
	} )
	Lock:RegisterAnimationSequence( "Purchased", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Purchased = function ()
		menu:AnimateSequence( "Purchased" )
		menu:AnimateSequence( "Purchased" )
		menu:AnimateSequence( "Purchased" )
	end
	
	local f1_local30 = nil
	VignetteRight:RegisterAnimationSequence( "WideAspectRatioFrame", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	VignetteLeft:RegisterAnimationSequence( "WideAspectRatioFrame", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.WideAspectRatioFrame = function ()
		menu:AnimateSequence( "WideAspectRatioFrame" )
		menu:AnimateSequence( "WideAspectRatioFrame" )
	end
	
	local f1_local31 = nil
	DescriptionText:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 631
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 655
		}
	} )
	EquippabilityText:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 571
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 591
		}
	} )
	QuickEquipButton:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 772
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 838
		}
	} )
	PurchaseButton:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 745
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 865
		}
	} )
	QuickEquipDesc:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 868
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 892
		}
	} )
	Disclaimer:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 959
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 977
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 130
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 496
		}
	} )
	Lock:RegisterAnimationSequence( "Setup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 952
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 984
		}
	} )
	self._sequences.Setup = function ()
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
		menu:AnimateSequence( "Setup" )
	end
	
	local f1_local32 = nil
	QuickEquipButton:RegisterAnimationSequence( "ShowQuickEquip", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PurchaseButton:RegisterAnimationSequence( "ShowQuickEquip", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	QuickEquipDesc:RegisterAnimationSequence( "ShowQuickEquip", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 100
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 841
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 600
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 865
		}
	} )
	self._sequences.ShowQuickEquip = function ()
		menu:AnimateSequence( "ShowQuickEquip" )
		menu:AnimateSequence( "ShowQuickEquip" )
		menu:AnimateSequence( "ShowQuickEquip" )
	end
	
	local f1_local33 = nil
	QuickEquipButton:RegisterAnimationSequence( "HideQuickEquip", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PurchaseButton:RegisterAnimationSequence( "HideQuickEquip", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideQuickEquip = function ()
		menu:AnimateSequence( "HideQuickEquip" )
		menu:AnimateSequence( "HideQuickEquip" )
	end
	
	self.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_secondary",
		helper_text = Engine.CBBHFCGDIC( "LUA_MENU/BACK" )
	} )
	self.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_primary",
		helper_text = Engine.CBBHFCGDIC( "LUA_MENU/SELECT" )
	} )
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "selfBindButton"
	self:addElement( bindButton )
	self.bindButton = bindButton
	
	f0_local0( self, f1_local1, controller )
	ACTIONS.AnimateSequence( self, "DefaultSequence" )
	return self
end

MenuBuilder.registerType( "StoreBundlePreview", StoreBundlePreview )
LockTable( _M )
