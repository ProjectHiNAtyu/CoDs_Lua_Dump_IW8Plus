-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
BINDING = BINDING or {}
local f0_local0 = 6000
local f0_local1 = 2
local f0_local2 = 1
BINDING.GAME_MODE = {
	OB = 3,
	BR = 4,
	DMZ = 5,
	SP = CoD.PlayMode.SP,
	MP = CoD.PlayMode.Core
}
BINDING.PRESET = {
	CUSTOM = 4294967295,
	DEFAULT = 0,
	CLASSIC = 1,
	LOW_MOTOR_STRAIN = 4,
	LEFT_HANDED = 3,
	SIMPLIFIED = 2
}
BINDING.PRESET_LABELS = {
	[BINDING.PRESET.CUSTOM] = 0x5736E33B83FF9E0,
	[BINDING.PRESET.DEFAULT] = 0x6A15536053866B2,
	[BINDING.PRESET.CLASSIC] = 0x21ECE84A89EE1F,
	[BINDING.PRESET.SIMPLIFIED] = 0x8B736DBA1120CAF,
	[BINDING.PRESET.LEFT_HANDED] = 0x64A4AA25D4B0D75,
	[BINDING.PRESET.LOW_MOTOR_STRAIN] = 0x67155777F6EF45D
}
local f0_local3 = 0xF52A472949C5E5E
BINDING.ShouldAddWarningIcon = function ( f76_arg0 )
	return f76_arg0._needWarningIcon
end

local f0_local4 = function ( f75_arg0, f75_arg1 )
	local f75_local0 = {}
	for f75_local5, f75_local6 in ipairs( f75_arg1 ) do
		local f75_local7 = f75_arg0[f75_local6]
		if f75_local7 then
			local f75_local4 = OPTIONS.GetSettingDataFromId( f75_local7 )
			table.insert( f75_local0, Engine[0xED84C33EC5F01EA]( OPTIONS.ReturnOrCallFunction( f75_local4.name ) ) )
		end
	end
	f75_local1 = ", "
	if IsLanguageArabic() then
		f75_local0 = LUI.ReverseTable( f75_local0 )
		f75_local1 = " , "
	end
	return table.concat( f75_local0, f75_local1 )
end

BINDING.GetUnboundBannerMessageAndState = function ( f74_arg0, f74_arg1, f74_arg2, f74_arg3, f74_arg4 )
	local f74_local0 = OPTIONS_DATA._keybindNameToOptionId[f74_arg2]
	local f74_local1 = f74_arg3
	local f74_local2 = f74_arg4
	if f74_local0 then
		local f74_local3 = OPTIONS.GetSettingDataFromId( f74_local0 )
		local f74_local4 = OPTIONS.ReturnOrCallFunction( f74_local3.name, f74_arg1.controllerIndex or f74_arg0._controllerIndex )
		if f74_local4 and f74_arg1.optionName ~= f74_local4 then
			local f74_local5 = OPTIONS.IsImportantKey( f74_local0 )
			local f74_local6 = Engine[0xED84C33EC5F01EA]
			local f74_local7
			if f74_local5 then
				f74_local7 = 0x940F5053A3EA042
				if not f74_local7 then
				
				else
					f74_local1 = f74_local6( f74_local7, Engine[0x7D3158A9539A355]( f74_arg1.binding ), Engine[0xEB2A2834B76AEA4]( f74_local4 ), Engine[0xEB2A2834B76AEA4]( f74_arg1.optionName ) )
					if f74_local5 then
						f74_local2 = "Error"
					else
						f74_local2 = "Warning"
					end
				end
			end
			f74_local7 = 0x5A78C9E2FB730F9
		end
	end
	return f74_local1, f74_local2
end

local f0_local5 = function ( f73_arg0, f73_arg1 )
	local f73_local0 = {}
	for f73_local5, f73_local6 in pairs( f73_arg1 ) do
		local f73_local7 = OPTIONS_DATA._keybindNameToOptionId[f73_local6]
		if f73_local7 then
			local f73_local4 = OPTIONS.GetSettingDataFromId( f73_local7 )
			if not f73_local4.buildCondition or f73_local4.buildCondition( f73_arg0 ) then
				table.insert( f73_local0, f73_local6 )
			end
		end
	end
	return f73_local0
end

BINDING.BuildKeybindBanner = function ( f68_arg0, f68_arg1 )
	f68_arg0:addEventHandler( "key_bound_banner", function ( f72_arg0, f72_arg1 )
		if f72_arg0.OptionsKeyBindingBanner and not f72_arg0._isTabReset then
			if LUI.StringIsNilOrEmpty( f72_arg1.binding ) then
				local f72_local0 = LUI.StringIsNilOrEmpty( f72_arg1.linkedOptionName )
				local f72_local1 = 0x292ADF5D18036A9
			end
			local f72_local2 = f72_local0 and f72_local1 or 0xDCF2D77722F0D57
			local f72_local3 = f72_arg1.linkedOptionName and Engine[0xEB2A2834B76AEA4]( f72_arg1.linkedOptionName ) or Engine[0x7D3158A9539A355]( f72_arg1.binding )
			local f72_local4 = Engine[0xED84C33EC5F01EA]( f72_local2, Engine[0xEB2A2834B76AEA4]( f72_arg1.optionName ), f72_local3 )
			local f72_local5 = "Success"
			local f72_local6 = f72_arg1.unboundCommands
			local f72_local7
			if f72_local6 then
				f72_local7 = f72_local6
			else
				f72_local7 = 1 < #f72_arg1.unboundCommands
			end
			if f72_arg1.invalidBinding then
				f72_local4 = Engine[0xED84C33EC5F01EA]( 0x127FF8B8103A1EF, Engine[0x7D3158A9539A355]( f72_arg1.binding ), Engine[0xEB2A2834B76AEA4]( f72_arg1.optionName ) )
				f72_local5 = "Error"
			elseif f72_local7 then
				local f72_local8 = f68_arg0( OPTIONS_DATA._keybindNameToOptionId, f72_arg1.unboundCommands )
				if f72_local8 then
					f72_local4 = Engine[0xED84C33EC5F01EA]( 0x5A78C9E2FB730F9, Engine[0x7D3158A9539A355]( f72_arg1.binding ), Engine[0xEB2A2834B76AEA4]( f72_local8 ), Engine[0xEB2A2834B76AEA4]( f72_arg1.optionName ) )
					f72_local5 = "Warning"
				end
			elseif f72_arg1.isDeleted then
				if f72_arg1.optionName then
					f72_local4 = Engine[0xED84C33EC5F01EA]( 0x2C3F2C75796B30D, Engine[0xEB2A2834B76AEA4]( f72_arg1.optionName ) )
					local f72_local8 = nil
					local f72_local9 = f72_arg1.currentCmd
					if f72_local9 then
						f72_local9 = OPTIONS_DATA._keybindNameToOptionId[f72_arg1.currentCmd]
					end
					if f72_local9 then
						f72_local8 = OPTIONS.IsImportantKey( f72_local9 )
					end
					if f72_local8 then
						f72_local5 = "Error"
					else
						f72_local5 = "Warning"
					end
				end
			elseif f72_arg1.isReset then
				if f72_arg1.optionName then
					f72_local4 = Engine[0xED84C33EC5F01EA]( 0x292ADF5D18036A9, Engine[0xEB2A2834B76AEA4]( f72_arg1.optionName ), f72_local3 )
				end
			elseif f72_local3 and f72_arg1.optionName and f72_arg1.isUnlinked then
				f72_local4 = Engine[0xED84C33EC5F01EA]( 0x13AB19F7DB8340D, f72_local3, Engine[0xEB2A2834B76AEA4]( f72_arg1.optionName ) )
				f72_local5 = "Warning"
			elseif f72_local6[1] ~= "" and f72_arg1.currentCmd ~= f72_local6[1] then
				f72_local4, f72_local5 = BINDING.GetUnboundBannerMessageAndState( f72_arg0, f72_arg1, f72_local6[1], f72_local4, f72_local5 )
			end
			f72_arg0.OptionsKeyBindingBanner.Text:setText( f72_local4 )
			ACTIONS.AnimateSequence( f72_arg0.OptionsKeyBindingBanner, f72_local5 )
			if f72_arg0._timer then
				f72_arg0._timer:closeTree()
				f72_arg0._timer = nil
			end
			f72_arg0._timer = LUI.UITimer.new( {
				event = "hide_banner",
				interval = f68_arg0
			} )
			f72_arg0:addElement( f72_arg0._timer )
			return true
		else
			
		end
	end )
	f68_arg0:addEventHandler( "binding_key", function ( f71_arg0, f71_arg1 )
		if f71_arg0.OptionsKeyBindingBanner then
			if f71_arg0._timer then
				f71_arg0._timer:closeTree()
				f71_arg0._timer = nil
			end
			TOAST_NOTIF.UpdateToastButtonDisableState( true )
			f71_arg0.OptionsKeyBindingBanner.Text:setText( Engine[0xED84C33EC5F01EA]( 0x843FE1660697854 ) )
			ACTIONS.AnimateSequence( f71_arg0.OptionsKeyBindingBanner, "Binding" )
		end
	end )
	f68_arg0:addEventHandler( "hide_banner", function ( f70_arg0, f70_arg1 )
		if f70_arg0.OptionsKeyBindingBanner then
			ACTIONS.AnimateSequence( f70_arg0.OptionsKeyBindingBanner, "BackToDefault" )
		end
		return true
	end )
	f68_arg0:addEventHandler( "create_preset_warning_banner", function ( f69_arg0, f69_arg1 )
		local f69_local0 = f69_arg0.OptionsKeyBindingBanner
		local f69_local1 = f69_arg1.controllerIndex or f69_arg0._controllerIndex
		local f69_local2 = OPTIONS.GetSettingDataFromId( f69_arg1.settingId )
		f69_local0.Text:setText( Engine[0xED84C33EC5F01EA]( 0x92BA098A86ABB2E, OPTIONS.ReturnOrCallFunction( f69_local2.name, f69_local1 ), OPTIONS.ReturnOrCallFunction( f69_arg1.presetName, f69_local1 ), f69_arg1.presetLabels[f69_arg1.presetValue] ) )
		ACTIONS.AnimateSequence( f69_local0, "Warning" )
		if f69_arg0._timer then
			f69_arg0._timer:closeTree()
			f69_arg0._timer = nil
		end
		f69_arg0._timer = LUI.UITimer.new( {
			event = "hide_banner",
			interval = f68_arg0
		} )
		f69_arg0:addElement( f69_arg0._timer )
	end )
end

local f0_local6 = function ( f67_arg0, f67_arg1, f67_arg2 )
	local f67_local0 = nil
	local f67_local1 = Engine[0x5CF095FD8E1C332]( f67_arg0.actionName )
	local f67_local2 = OPTIONS.GetAvailableSettingDataFromId( f67_local1, f67_arg1 )
	if f67_local1 and f67_local2 then
		return OPTIONS.ReturnOrCallFunction( f67_local2.name, f67_arg1 )
	else
		return nil
	end
end

local f0_local7 = function ( f65_arg0, f65_arg1 )
	f65_arg1.LinkButton._controllerIndex = f65_arg0
	f65_arg1.LinkButton:addEventHandler( "button_action", function ( f66_arg0, f66_arg1 )
		local f66_local0 = f66_arg0._controllerIndex
		local f66_local1 = f66_arg0:getParent()
		if f66_local1 then
			local f66_local2 = f66_local1.inputContext
			local f66_local3 = f66_local1.actionName
			local f66_local4 = nil
			if Engine[0xC3A90504A32DE5D]( f66_local0, f66_local2, f66_local3 ) then
				Engine[0xD131AFE5A6C2ED9]( f66_local0, f66_local2, f66_local3 )
				f66_local4 = true
			else
				Engine[0xCCB79FDDB412740]( f66_local0, f66_local2, f66_local3 )
				f66_local4 = false
			end
			local f66_local5
			if f66_local1._isBindingPrimary then
				f66_local5 = 0
			else
				f66_local5 = 1
			end
			local f66_local6 = Engine[0x3C3B6822A98A4BC]( f66_local0, f66_local2, f66_local3, f66_local5, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] )
			f66_arg0:dispatchEventToCurrentMenu( {
				name = "key_bound_banner",
				optionName = f66_local1.buttonName,
				binding = f66_local6,
				linkedOptionName = f65_arg0( f66_local1, f66_local0, f66_local6 ),
				inputContext = f66_local2,
				currentCmd = f66_local3,
				isUnlinked = f66_local4,
				unboundCommands = {}
			} )
			LUI.MouseCursorTooltipLayer.RefreshTooltip( f66_local0 )
		end
	end )
end

local f0_local8 = function ( f64_arg0, f64_arg1, f64_arg2, f64_arg3 )
	local f64_local0, f64_local1, f64_local2, f64_local3 = nil
	if f64_arg3 then
		f64_local0, f64_local1, f64_local2, f64_local3 = f64_arg0.PrimaryKey.Background:getCurrentGlobalRect()
	else
		f64_local0, f64_local1, f64_local2, f64_local3 = f64_arg0.Background:getCurrentGlobalRect()
	end
	local f64_local4, f64_local5, f64_local6, f64_local7 = f64_arg1:getCurrentGlobalRect()
	local f64_local8, f64_local9, f64_local10, f64_local11 = nil
	if f64_arg1.OptionWindow then
		f64_local8, f64_local9, f64_local10, f64_local11 = f64_arg1.OptionWindow:getCurrentGlobalRect()
	end
	local f64_local12 = LAYOUT.GetElementHeight( f64_arg2 )
	local f64_local13 = f64_local1 - f64_local12
	local f64_local14
	if not f64_local9 then
		f64_local14 = f64_local9
	else
		f64_local14 = 0
	end
	if f64_local13 < f64_local14 then
		f64_local1 = f64_local3
		f64_local3 = f64_local3 + f64_local12
	else
		f64_local3 = f64_local1
		f64_local1 = f64_local1 - f64_local12
	end
	return f64_local0 - f64_local4, f64_local2 - f64_local4, f64_local1 - f64_local5, f64_local3 - f64_local5
end

local f0_local9 = function ( f63_arg0, f63_arg1, f63_arg2, f63_arg3 )
	local BindingLabel = nil
	
	BindingLabel = MenuBuilder.BuildRegisteredType( "BindingLabel", {
		controllerIndex = f63_arg2
	} )
	BindingLabel.id = "BindingLabel"
	local f63_local1, f63_local2, f63_local3, f63_local4 = f0_local0( f63_arg0, f63_arg1, BindingLabel, f63_arg3 )
	BindingLabel:SetAnchorsAndPosition( 0, 1, 0, 1, f63_local1, f63_local2, f63_local3, f63_local4 )
	f63_arg1:addElement( BindingLabel )
	f63_arg1.BindingLabel = BindingLabel
	
end

local f0_local10 = function ( f62_arg0, f62_arg1, f62_arg2, f62_arg3 )
	local f62_local0 = Engine[0x3C3B6822A98A4BC]
	local f62_local1 = f62_arg0
	local f62_local2 = f62_arg1.inputContext
	local f62_local3 = f62_arg1.actionName
	local f62_local4
	if f62_arg2 then
		f62_local4 = 0
	else
		f62_local4 = 1
	end
	f62_local0 = f62_local0( f62_local1, f62_local2, f62_local3, f62_local4, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] )
	local f62_local5 = Engine[0xA79C63520FCD69F]
	f62_local2 = f62_arg0
	f62_local3 = f62_arg1.inputContext
	f62_local4 = f62_arg1.actionName
	local f62_local6
	if f62_arg2 then
		f62_local6 = 0
	else
		f62_local6 = 1
	end
	if f62_local0 ~= f62_local5( f62_local2, f62_local3, f62_local4, f62_local6, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] ) then
		f62_local1 = not f62_arg3
	else
		f62_local1 = false
	end
	f62_arg1.isChanged = f62_local1
	f62_arg1:SetChanged( f62_arg1.isChanged )
	if not f62_arg3 then
		f62_local1 = f62_arg1:getParent()
		if f62_local1 and f62_local1.importantKey then
			f62_local2 = false
			if f62_local0 == "" then
				f62_local3 = Engine[0x3C3B6822A98A4BC]
				f62_local6 = f62_arg0
				local f62_local7 = f62_arg1.inputContext
				local f62_local8 = f62_arg1.actionName
				local f62_local9
				if f62_arg2 then
					f62_local9 = 1
				else
					f62_local9 = 0
				end
				if f62_local3( f62_local6, f62_local7, f62_local8, f62_local9, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] ) == "" then
					f62_local1:SetWarningMode( true )
					f62_local2 = true
				end
			else
				f62_local1:SetWarningMode( false )
				f62_local1.skipImportantKey = nil
			end
			f62_local1.needsToShowWarning = f62_local2
			if not f62_local1.skipImportantKey then
				f62_local3 = LUI.FlowManager.GetMenuByName( "OptionsMenuLayout" )
				f62_local4 = LUI.FlowManager.GetMenuByName( "OptionsLayoutPopup" )
				f62_local6 = nil
				if f62_local3 and f62_local3.menu then
					f62_local6 = f62_local3.menu
				elseif f62_local4 and f62_local4.menu then
					f62_local6 = f62_local4.menu
				end
				if f62_local6 then
					f62_local6:processEvent( {
						name = "Update_Warning_option",
						target = f62_local1,
						empty = f62_local2,
						controllerIndex = f62_arg0
					} )
				end
			end
		end
	end
	if f62_arg3 and f62_local0 == "" then
		f62_local0 = "..."
		ACTIONS.AnimateSequence( f62_arg1, "Empty" )
	else
		ACTIONS.AnimateSequence( f62_arg1, "ResetText" )
	end
	f62_arg1.Text:setText( Engine[0x7D3158A9539A355]( f62_local0 ) )
end

local f0_local11 = function ( f61_arg0, f61_arg1, f61_arg2 )
	local f61_local0 = Engine[0x3C3B6822A98A4BC]( f61_arg0, f61_arg1.inputContext, f61_arg1.actionName, 0, Enum[0xBE2AEDCA764E49A][0xD15B33F9D01BDA8] )
	local f61_local1
	if f61_local0 ~= Engine[0xA79C63520FCD69F]( f61_arg0, f61_arg1.inputContext, f61_arg1.actionName, 0, Enum[0xBE2AEDCA764E49A][0xD15B33F9D01BDA8] ) then
		f61_local1 = not f61_arg2
	else
		f61_local1 = false
	end
	f61_arg1.isChanged = f61_local1
	f61_arg1.PrimaryKey:SetChanged( f61_arg1.isChanged )
	if f61_arg2 and f61_local0 == "" then
		f61_local0 = Engine[0xED84C33EC5F01EA]( 0x74E5312ECA20F51 )
		ACTIONS.AnimateSequence( f61_arg1, "Empty" )
	else
		ACTIONS.AnimateSequence( f61_arg1, "ResetText" )
		ACTIONS.AnimateSequence( f61_arg1, "Unchanged" )
	end
	f61_arg1.PrimaryKey.Text:setText( Engine[0x7D3158A9539A355]( f61_local0 ) )
end

local f0_local12 = function ( f59_arg0, f59_arg1, f59_arg2 )
	f59_arg0:addEventHandler( "gamepad_button", function ( f60_arg0, f60_arg1 )
		if not f60_arg1.down then
			return false
		elseif f60_arg1.button == "unbind" and f60_arg0:isInFocus() and (not f60_arg0.IsDisabled or not f60_arg0:IsDisabled()) then
			BINDING.CustomBindingPopupCheck( f60_arg0, f59_arg0, f59_arg0, true )
			local f60_local0 = f60_arg0:getParent()
			f60_arg0:dispatchEventToCurrentMenu( {
				name = "key_bound_banner",
				isDeleted = true,
				binding = f60_local0.buttonName,
				optionName = f60_local0.buttonName,
				currentCmd = f60_local0.actionName
			} )
			LUI.MouseCursorTooltipLayer.RefreshTooltip( f59_arg0 )
			return true
		else
			return false
		end
	end )
end

local f0_local13 = function ( f58_arg0, f58_arg1, f58_arg2 )
	local f58_local0 = f58_arg0:GetCurrentMenu()
	local f58_local1 = f58_arg0:getParent()
	if f58_local1 then
		local f58_local2 = Engine[0x9EEC76BD7DE3B55]
		local f58_local3 = f58_arg1
		local f58_local4 = f58_arg0.inputContext
		local f58_local5 = f58_arg0.actionName
		local f58_local6
		if f58_arg2 then
			f58_local6 = 0
		else
			f58_local6 = 1
		end
		f58_local2( f58_local3, f58_local4, f58_local5, f58_local6, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] )
		f0_local0( f58_arg1, f58_arg0, f58_arg2, true )
		f58_local1._isBindingPrimary = f58_arg2
		f0_local0( f58_arg0, f58_local0, f58_arg1, false )
		f58_local1:dispatchEventToParent( {
			name = "request_active",
			target = f58_local1
		} )
		ACTIONS.AnimateSequence( f58_local1, "Binding" )
		ACTIONS.AnimateSequence( f58_arg0, "Binding" )
		ACTIONS.AnimateSequence( f58_arg0, "BindingLoop" )
		f58_local1:processEvent( {
			name = "binding"
		} )
		ACTIONS.AnimateSequence( f58_local0.BindingLabel, "Binding" )
		f58_arg0:dispatchEventToCurrentMenu( {
			name = "binding_key"
		} )
		f58_local2 = LUI.UIRoot.GetRootForControllerIndex( f58_arg1 )
		f58_local2:RemoveMouseCursor()
		f58_local2.lockedMouseFocusStack = true
	end
end

local f0_local14 = function ( f57_arg0, f57_arg1, f57_arg2 )
	local f57_local0 = Engine[0x2C8BA979AEB4C3F]
	local f57_local1 = f57_arg1
	local f57_local2 = f57_arg0.actionName
	local f57_local3
	if f57_arg2 then
		f57_local3 = 0
	else
		f57_local3 = 1
	end
	f57_local0( f57_local1, f57_local2, f57_local3, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] )
end

local f0_local15 = function ( f56_arg0, f56_arg1 )
	Engine[0x2C8BA979AEB4C3F]( f56_arg1, f56_arg0.actionName, 0, Enum[0xBE2AEDCA764E49A][0xD15B33F9D01BDA8] )
	f56_arg0.ButtonBind:setText( Engine[0x7D3158A9539A355]( Engine[0x3C3B6822A98A4BC]( f56_arg1, f56_arg0.inputContext, f56_arg0.actionName, 0, Enum[0xBE2AEDCA764E49A][0xD15B33F9D01BDA8] ) ) )
	f56_arg0:dispatchEventToCurrentMenu( {
		name = "options_window_refresh",
		controller = f56_arg1
	} )
end

local f0_local16 = function ( f55_arg0, f55_arg1, f55_arg2 )
	if f55_arg2 then
		f0_local0( f55_arg0, f55_arg1.controllerIndex )
	else
		f0_local0( f55_arg0.PrimaryKey, f55_arg1.controllerIndex, true )
		f0_local0( f55_arg0.SecondaryKey, f55_arg1.controllerIndex, false )
	end
end

local f0_local17 = function ( f54_arg0, f54_arg1 )
	if Engine[0x44BF3C00A8C8D31]( f54_arg0.actionName ) then
		return not Engine[0xC3A90504A32DE5D]( f54_arg1, f54_arg0.inputContext, f54_arg0.actionName )
	end
	local f54_local0
	if Engine[0x3C3B6822A98A4BC]( f54_arg1, f54_arg0.inputContext, f54_arg0.actionName, 0, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] ) == Engine[0xA79C63520FCD69F]( f54_arg1, f54_arg0.inputContext, f54_arg0.actionName, 0, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] ) and Engine[0x3C3B6822A98A4BC]( f54_arg1, f54_arg0.inputContext, f54_arg0.actionName, 1, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] ) == Engine[0xA79C63520FCD69F]( f54_arg1, f54_arg0.inputContext, f54_arg0.actionName, 1, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] ) then
		f54_local0 = false
	else
		f54_local0 = true
	end
	return f54_local0
end

local f0_local18 = function ( f53_arg0, f53_arg1 )
	return Engine[0x3C3B6822A98A4BC]( f53_arg1, f53_arg0.inputContext, f53_arg0.actionName, 0, Enum[0xBE2AEDCA764E49A][0xD15B33F9D01BDA8] ) ~= Engine[0xA79C63520FCD69F]( f53_arg1, f53_arg0.inputContext, f53_arg0.actionName, 0, Enum[0xBE2AEDCA764E49A][0xD15B33F9D01BDA8] )
end

BINDING.SetupKeybindTooltip = function ( f48_arg0, f48_arg1 )
	f48_arg0:RemoveToolTipData()
	local f48_local0 = function ( f52_arg0 )
		if f52_arg0.IsDisabled and f52_arg0:IsDisabled() then
			return true
		elseif f52_arg0.PrimaryKey:isInFocus() then
			return Engine[0x3C3B6822A98A4BC]( f48_arg0, f52_arg0.inputContext, f52_arg0.actionName, 0, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] ) == ""
		elseif f52_arg0.SecondaryKey:isInFocus() then
			return Engine[0x3C3B6822A98A4BC]( f48_arg0, f52_arg0.inputContext, f52_arg0.actionName, 1, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] ) == ""
		else
			return true
		end
	end
	
	local f48_local1 = function ( f51_arg0 )
		local f51_local0 = f51_arg0.PrimaryKey:isInFocus()
		if not f51_local0 then
			f51_local0 = f51_arg0.SecondaryKey:isInFocus()
		end
		local f51_local1
		if not f51_local0 then
			f51_local1 = f51_local0
		else
			f51_local1 = not f48_arg0( f51_arg0, f48_arg0 )
		end
		return f51_local1
	end
	
	local f48_local2 = function ( f50_arg0 )
		local f50_local0
		if f50_arg0.LinkButton and f50_arg0.LinkButton:isInFocus() then
			f50_local0 = f50_arg0.IsDisabled
			if f50_local0 then
				f50_local0 = f50_arg0:IsDisabled()
			end
		else
			f50_local0 = true
		end
		return f50_local0
	end
	
	local f48_local3 = function ( f49_arg0 )
		local f49_local0 = f49_arg0.LinkButton
		if f49_local0 then
			f49_local0 = f49_arg0.LinkButton:isInFocus()
		end
		local f49_local1 = f49_arg0.PrimaryKey:isInFocus()
		if not f49_local1 then
			f49_local1 = f49_arg0.SecondaryKey:isInFocus()
		end
		local f49_local2
		if not f49_local0 then
			f49_local2 = f49_local0
		else
			f49_local2 = f49_local1
		end
		return f49_local2
	end
	
	local f48_local4 = {
		{
			kbmTooltipPromptOverload = "button_option_reset",
			button_ref = "button_option_reset",
			helper_text = Engine[0xED84C33EC5F01EA]( 0xD96786EDEF4C8D7, BINDING.GetDefaultKeybind( f48_arg0, f48_arg1, true ), BINDING.GetDefaultKeybind( f48_arg0, f48_arg1, false ) ),
			disabledFunction = f48_local1,
			disabledFunctionParams = f48_arg0
		},
		{
			kbmTooltipPromptOverload = "button_keybind_unbind",
			button_ref = "button_keybind_unbind",
			helper_text = Engine[0xED84C33EC5F01EA]( 0xF8F2643648B8935 ),
			disabledFunction = f48_local0,
			disabledFunctionParams = f48_arg0
		},
		{
			button_ref = "button_alt1",
			helper_text = Engine[0xED84C33EC5F01EA]( 0xB449A012A9BBA10 ),
			disabledFunction = f48_local2,
			disabledFunctionParams = f48_arg0
		}
	}
	table.insert( f48_local4, OPTIONS.GetFavoriteTooltipData( f48_arg0, f48_arg1, f48_local3 ) )
	f48_arg0:AddTooltipData( f48_arg1, {
		focusableChildrenRefresh = true,
		promptsData = f48_local4,
		customGpadToggleTimer = OPTIONS.GPAD_TOGGLE_TIMER
	} )
end

BINDING.SetupKeybindContextualMenuActions = function ( f30_arg0, f30_arg1 )
	f30_arg0:RemoveAllContextualMenuActionsFromElement()
	local f30_local0 = function ()
		return OPTIONS.ShowFavoritePrompt( f30_arg0, f30_arg0 )
	end
	
	local f30_local1 = function ()
		OPTIONS.OnTriggerFavoritePrompt( f30_arg0, f30_arg0 )
	end
	
	local f30_local2 = function ( f45_arg0, f45_arg1 )
		local f45_local0 = BINDING.GetDefaultKeybind( f45_arg0, f45_arg1, true )
		local f45_local1 = BINDING.GetDefaultKeybind( f45_arg0, f45_arg1, false )
		if f45_local1 ~= Engine[0xED84C33EC5F01EA]( f30_arg0 ) then
			return Engine[0xED84C33EC5F01EA]( 0xD96786EDEF4C8D7, f45_local0, f45_local1 )
		else
			return Engine[0xED84C33EC5F01EA]( 0xDB5292114521758, f45_local0 )
		end
	end
	
	f30_arg0:AddContextualMenuAction( {
		button = "button_option_reset",
		id = "resetOption",
		actionName = f30_local2( f30_arg0, f30_arg1 ),
		actionFunction = function ()
			f30_arg0( f30_arg0, {
				controllerIndex = f30_arg0
			}, false )
		end,
		conditionFunction = function ()
			return f30_arg0( f30_arg0, f30_arg0 )
		end
	} )
	local f30_local3 = {
		button = "button_option_favorite",
		actionName = OPTIONS.GetFavoritePromptString( OPTIONS.IsOptionFavorite( f30_arg1, f30_arg0.id ), f30_arg1 ),
		actionFunction = f30_local1,
		conditionFunction = f30_local0,
		id = OPTIONS.Favorites.CONTEXTUAL_MENU_ID
	}
	f30_arg0:AddContextualMenuAction( f30_local3 )
	local f30_local4 = f30_arg0.PrimaryKey
	local f30_local5 = f30_arg0.SecondaryKey
	f30_local4:RemoveAllContextualMenuActionsFromElement()
	f30_local5:RemoveAllContextualMenuActionsFromElement()
	local f30_local6 = function ( f42_arg0 )
		local f42_local0 = Engine[0x3C3B6822A98A4BC]
		local f42_local1 = f30_arg0
		local f42_local2 = f30_arg0.inputContext
		local f42_local3 = f30_arg0.actionName
		local f42_local4
		if f42_arg0 then
			f42_local4 = 0
		else
			f42_local4 = 1
		end
		return f42_local0( f42_local1, f42_local2, f42_local3, f42_local4, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] ) ~= ""
	end
	
	local f30_local7 = function ( f41_arg0 )
		BINDING.CustomBindingPopupCheck( f30_arg0, f30_arg0, f41_arg0, true )
		f30_arg0:dispatchEventToCurrentMenu( {
			name = "key_bound_banner",
			isDeleted = true,
			binding = f30_arg0.buttonName,
			optionName = f30_arg0.buttonName,
			currentCmd = f30_arg0.actionName
		} )
		LUI.MouseCursorTooltipLayer.RefreshTooltip( f30_arg0 )
	end
	
	local f30_local8 = function ( f40_arg0 )
		local f40_local0 = Engine[0x3C3B6822A98A4BC]
		local f40_local1 = f30_arg0
		local f40_local2 = f30_arg0.inputContext
		local f40_local3 = f30_arg0.actionName
		local f40_local4
		if f40_arg0 then
			f40_local4 = 0
		else
			f40_local4 = 1
		end
		f40_local0 = f40_local0( f40_local1, f40_local2, f40_local3, f40_local4, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] )
		local f40_local5 = Engine[0xA79C63520FCD69F]
		f40_local2 = f30_arg0
		f40_local3 = f30_arg0.inputContext
		f40_local4 = f30_arg0.actionName
		local f40_local6
		if f40_arg0 then
			f40_local6 = 0
		else
			f40_local6 = 1
		end
		return f40_local0 ~= f40_local5( f40_local2, f40_local3, f40_local4, f40_local6, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] )
	end
	
	local f30_local9 = function ()
		local f39_local0
		if f30_arg0.IsDisabled then
			f39_local0 = not f30_arg0:IsDisabled()
		else
			f39_local0 = true
		end
		return f39_local0
	end
	
	f30_local4:AddContextualMenuAction( {
		button = "button_keybind_unbind",
		id = "unbind",
		actionName = Engine[0xED84C33EC5F01EA]( 0xF8F2643648B8935 ),
		actionFunction = function ()
			f30_arg0( true )
		end,
		conditionFunction = function ()
			local f37_local0 = f30_arg0( true )
			if f37_local0 then
				f37_local0 = f30_arg0()
			end
			return f37_local0
		end
	} )
	f30_local4:AddContextualMenuAction( {
		button = "button_option_reset",
		id = "resetOption",
		actionName = Engine[0xED84C33EC5F01EA]( 0xDB5292114521758, BINDING.GetDefaultKeybind( f30_arg0, f30_arg1, true ) ),
		actionFunction = function ()
			f30_arg0( f30_arg0.PrimaryKey, f30_arg0, true )
		end,
		conditionFunction = function ()
			local f35_local0 = f30_arg0( true )
			if f35_local0 then
				f35_local0 = f30_arg0()
			end
			return f35_local0
		end
	} )
	f30_local4:AddContextualMenuAction( f30_local3 )
	f30_local5:AddContextualMenuAction( {
		button = "button_keybind_unbind",
		id = "unbind",
		actionName = Engine[0xED84C33EC5F01EA]( 0xF8F2643648B8935 ),
		actionFunction = function ()
			f30_arg0( false )
		end,
		conditionFunction = function ()
			local f33_local0 = f30_arg0( false )
			if f33_local0 then
				f33_local0 = f30_arg0()
			end
			return f33_local0
		end
	} )
	f30_local5:AddContextualMenuAction( {
		button = "button_option_reset",
		id = "resetOption",
		actionName = Engine[0xED84C33EC5F01EA]( 0xDB5292114521758, BINDING.GetDefaultKeybind( f30_arg0, f30_arg1, false ) ),
		actionFunction = function ()
			f30_arg0( f30_arg0.SecondaryKey, f30_arg0, false )
		end,
		conditionFunction = function ()
			local f31_local0 = f30_arg0( false )
			if f31_local0 then
				f31_local0 = f30_arg0()
			end
			return f31_local0
		end
	} )
	f30_local5:AddContextualMenuAction( f30_local3 )
end

BINDING.SetupWidgetNavigation = function ( f29_arg0, f29_arg1 )
	f29_arg0.navigation = {
		right = f29_arg0.PrimaryKey
	}
	f29_arg0.PrimaryKey.navigation = {
		right = f29_arg0.SecondaryKey,
		left = f29_arg0
	}
	f29_arg0.SecondaryKey.navigation = {
		left = f29_arg0.PrimaryKey
	}
end

BINDING.GetKeyBindsPresets = function ( f28_arg0 )
	local f28_local0 = {
		BINDING.PRESET.DEFAULT,
		BINDING.PRESET.CLASSIC,
		BINDING.PRESET.SIMPLIFIED,
		BINDING.PRESET.LEFT_HANDED,
		BINDING.PRESET.LOW_MOTOR_STRAIN
	}
	if KeyBinds[0x1974A8C6DF29AB0]( f28_arg0 ) then
		table.insert( f28_local0, 1, BINDING.PRESET.CUSTOM )
	end
	return f28_local0
end

BINDING.GetKeyBindsPresetLabel = function ( f27_arg0 )
	return Engine[0xED84C33EC5F01EA]( BINDING.PRESET_LABELS[f27_arg0] )
end

BINDING.CustomBindingPopupCheck = function ( f25_arg0, f25_arg1, f25_arg2, f25_arg3 )
	local f25_local0 = Engine[0x7B17D94988FD5D0]( "KeybindsPreset", f25_arg1 )
	if f25_local0 ~= BINDING.PRESET.CUSTOM and KeyBinds[0x1974A8C6DF29AB0]( f25_arg1 ) then
		LUI.FlowManager.RequestPopupMenu( nil, "PopupYesNo", true, f25_arg1, false, {
			title = Engine[0xED84C33EC5F01EA]( 0x2F891C8BEE43EB3 ),
			message = Engine[0xED84C33EC5F01EA]( 0x9D9920FCA18DA1E, Engine[0xEB2A2834B76AEA4]( BINDING.GetKeyBindsPresetLabel( f25_local0 ) ) ),
			yesLabel = Engine[0xED84C33EC5F01EA]( 0x1B38A071E843C6D ),
			yesAction = function ()
				if f25_arg0 then
					local f26_local0 = Engine[0xDDE1DAEF1E62E50]
					local f26_local1 = f25_arg0
					local f26_local2 = f25_arg0.inputContext
					local f26_local3 = f25_arg0.actionName
					local f26_local4
					if f25_arg0 then
						f26_local4 = 0
					else
						f26_local4 = 1
					end
					f26_local0( f26_local1, f26_local2, f26_local3, f26_local4 )
				else
					f25_arg0( f25_arg0, f25_arg0, f25_arg0 )
				end
			end,
			noLabel = Engine[0xED84C33EC5F01EA]( 0xDF4B921D6190715 )
		} )
	elseif f25_arg3 then
		local f25_local1 = Engine[0xDDE1DAEF1E62E50]
		local f25_local2 = f25_arg1
		local f25_local3 = f25_arg0.inputContext
		local f25_local4 = f25_arg0.actionName
		local f25_local5
		if f25_arg2 then
			f25_local5 = 0
		else
			f25_local5 = 1
		end
		f25_local1( f25_local2, f25_local3, f25_local4, f25_local5 )
	else
		f0_local0( f25_arg0, f25_arg1, f25_arg2 )
	end
end

BINDING.GetCustomButtonIndex = function ()
	return f0_local0
end

local f0_local19 = function ( f21_arg0, f21_arg1 )
	LUI.FlowManager.RequestPopupMenu( nil, "PopupMessageAndButtons", true, f21_arg1, false, {
		title = Engine[0xED84C33EC5F01EA]( 0x651C60B64550C61 ),
		message = Engine[0xED84C33EC5F01EA]( 0x86D662D8F0E8675 ),
		buttons = {
			{
				label = Engine[0xED84C33EC5F01EA]( 0xB61ECB294C14699 ),
				action = function ( f23_arg0 )
					
				end
			},
			{
				label = Engine[0xED84C33EC5F01EA]( 0xB1D58CE8D680158 ),
				action = function ( f22_arg0 )
					OPTIONS.GoToSetting( {
						optionId = 0xC3DF88F34CD8249 .. f21_arg0
					}, f21_arg0 )
				end
			}
		}
	}, nil, true, true )
end

BINDING.SetupKeyBoundEvent = function ( f19_arg0 )
	f19_arg0:registerEventHandler( "key_bound", function ( element, event )
		local f20_local0 = element.id
		local f20_local1 = LUI.FlowManager.GetVisibleMenu()
		if f20_local0 ~= f20_local1.id then
			return 
		end
		f20_local0 = element.OptionWindow.ButtonList
		local f20_local2 = f20_local0:GetElementAtPosition( 0, f20_local0:GetCurrentActiveIndex() )
		if f20_local2 and f20_local2.GetBuiltWidget then
			f20_local2 = f20_local2:GetBuiltWidget()
		elseif f20_local0._childInFocus and f20_local0._childInFocus.GetBuiltWidget then
			f20_local2 = f20_local0._childInFocus:GetBuiltWidget()
		end
		local f20_local3 = event.controller
		if event.unboundCommands then
			event.unboundCommands = f19_arg0( f20_local3, event.unboundCommands )
			for f20_local7, f20_local8 in ipairs( event.unboundCommands ) do
				local f20_local9 = OPTIONS_DATA._keybindNameToOptionId[f20_local8]
				if OPTIONS.IsImportantKey( f20_local9 ) and element.menuId and not OPTIONS.IsSettingInTab( f20_local9, element.menuId, event.controller ) then
					f19_arg0( f20_local9, event.controller )
					break
				end
			end
		end
		if f20_local2 then
			if f20_local2._isExpander then
				local f20_local4 = f20_local2.ChildrenContainer
				if f20_local4 and (f20_local4._activeElement or f20_local4._restoreActiveChild) then
					local f20_local5 = f20_local4._activeElement
					if not f20_local5 then
						f20_local2 = f20_local5
					else
						f20_local2 = f20_local4._restoreActiveChild
					end
				elseif f20_local2.InnerWidget then
					f20_local2 = f20_local2.InnerWidget
				end
			end
			local f20_local4 = f20_local2._isBindingPrimary and f20_local2.PrimaryKey or f20_local2.SecondaryKey
			local f20_local5 = "BindingSuccess"
			local f20_local6 = f20_local2.actionName
			local f20_local7 = f20_local2.inputContext
			if event.invalidBinding then
				f20_local2:dispatchEventToCurrentMenu( {
					name = "key_bound_banner",
					optionName = f20_local2.buttonName,
					binding = event.buttonName,
					unboundCommands = event.unboundCommands,
					inputContext = f20_local7,
					currentCmd = f20_local6,
					invalidBinding = event.invalidBinding
				} )
				return 
			elseif not event.cancelBinding then
				if f20_local2._isBindingPrimary then
					local f20_local8 = 0
				else
					local f20_local8 = 1
				end
				if event.isReset then
					local f20_local8 = 0
				end
				local f20_local9 = Engine[0x3C3B6822A98A4BC]( f20_local3, f20_local7, f20_local6, f20_local8, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] )
				local f20_local10 = Engine[0xC3A90504A32DE5D]( f20_local3, f20_local7, f20_local6 )
				local f20_local11 = nil
				if f20_local10 then
					local f20_local12 = Engine[0x5CF095FD8E1C332]( f20_local6 )
					local f20_local13 = OPTIONS.GetAvailableSettingDataFromId( f20_local12, f20_local3 )
					if f20_local12 and f20_local13 then
						f20_local11 = OPTIONS.ReturnOrCallFunction( f20_local13.name, f20_local3 )
					end
				end
				if event.unboundCommands then
					for f20_local17, f20_local18 in pairs( event.unboundCommands ) do
						local f20_local19 = OPTIONS_DATA._keybindNameToOptionId[f20_local18]
						if OPTIONS.IsImportantKey( f20_local19 ) and not OPTIONS.Menu.GetOptionWidget( element, f20_local19 ) then
							local f20_local15 = OPTIONS_DATA.optionsDataList
							local f20_local16 = OPTIONS_DATA.optionsDataList[f20_local19]
							if not f20_local16 then
								f20_local16 = {}
							end
							f20_local15[f20_local19] = f20_local16
							OPTIONS_DATA.optionsDataList[f20_local19].hasBeenUnbound = true
						end
					end
				end
				f20_local2:dispatchEventToCurrentMenu( {
					name = "key_bound_banner",
					optionName = f20_local2.buttonName,
					binding = f20_local9,
					linkedOptionName = f20_local11,
					unboundCommands = event.unboundCommands,
					inputContext = f20_local7,
					currentCmd = f20_local6,
					isReset = event.isReset,
					controllerIndex = f20_local3
				} )
			else
				f20_local5 = "GainFocus"
				f19_arg0( f20_local3, f20_local4, f20_local2._isBindingPrimary, false )
				f20_local2:dispatchEventToCurrentMenu( {
					name = "hide_banner"
				} )
			end
			ACTIONS.AnimateSequence( f20_local4, f20_local5 )
			if element.BindingLabel then
				element.BindingLabel:AnimateSequence( f20_local5 )
				element.BindingLabel:closeTree()
				element.BindingLabel = nil
			end
			if not event.isReset then
				Engine[0xC4146BA76D0F982]( CoD.SFX.OtherAdjust )
			end
			OPTIONS.SetMatchEndDLogProfileSetting( f20_local3, METRICS.EndMatchDLog.KEYBINDS_GAMEPLAY )
			local f20_local8 = LUI.UIRoot.GetRootForControllerIndex( f20_local3 )
			f20_local8:TryAddMouseCursor()
			f20_local8.lockedMouseFocusStack = false
			if CONDITIONS.IsMouseNavigation( f20_local3 ) then
				Engine[0xA1DAA3E8650282A]( f20_local3 )
			end
			TOAST_NOTIF.UpdateToastButtonDisableState( false )
			return true
		end
	end )
end

BINDING.SetupKeybindingEvents = function ( f12_arg0, f12_arg1 )
	f12_arg0:addEventHandler( "button_action", function ( f18_arg0, f18_arg1 )
		local f18_local0 = f18_arg1.controller
		if f18_arg0.PrimaryKey:isInFocus() then
			f12_arg0( f18_arg0.PrimaryKey, f18_local0, true )
		elseif f18_arg0.SecondaryKey:isInFocus() then
			f12_arg0( f18_arg0.SecondaryKey, f18_local0, false )
		elseif f18_arg0:isInFocus() and not CONDITIONS.IsMouseNavigation( f18_local0 ) then
			f12_arg0( f18_arg0.PrimaryKey, f18_local0, true )
		end
		return true
	end )
	if f12_arg0.LinkButton then
		f0_local0( f12_arg1, f12_arg0 )
	end
	f12_arg0.PrimaryKey:addEventHandler( "button_action", function ( f17_arg0, f17_arg1 )
		BINDING.CustomBindingPopupCheck( f17_arg0, f12_arg0, true )
		return true
	end )
	f12_arg0.SecondaryKey:addEventHandler( "button_action", function ( f16_arg0, f16_arg1 )
		BINDING.CustomBindingPopupCheck( f16_arg0, f12_arg0, false )
		return true
	end )
	f12_arg0:addEventHandler( "key_bindings_update", function ( f15_arg0, f15_arg1 )
		f12_arg0( f12_arg0, f15_arg0.PrimaryKey, true, false )
		f12_arg0( f12_arg0, f15_arg0.SecondaryKey, false, false )
		if f15_arg0.LinkButton then
			if Engine[0xC3A90504A32DE5D]( f12_arg0, f15_arg0.inputContext, f15_arg0.actionName ) then
				ACTIONS.AnimateSequence( f15_arg0.LinkButton, "LinkKeybind" )
			else
				ACTIONS.AnimateSequence( f15_arg0.LinkButton, "UnlinkKeybind" )
			end
		end
		if f15_arg0.disabled then
			f15_arg0:SetButtonDisabled( OPTIONS.ReturnOrCallFunction( f15_arg0.disabled ) )
		end
	end )
	f12_arg0:registerEventHandler( "reset_value", function ( element, event )
		f12_arg0( element, event, false )
	end )
	f12_arg0.disableSources = {}
	f12_arg0:addEventHandler( "request_disable", function ( f13_arg0, f13_arg1 )
		local f13_local0 = f13_arg1.disableSource
		if not f13_arg1.disableSource then
			f13_arg1.disableSource = "PERMANENT"
		end
		local f13_local1 = false
		for f13_local5, f13_local6 in ipairs( f13_arg0.disableSources ) do
			if f13_local6 == f13_arg1.disableSource then
				if f13_arg1.disable == false then
				
				else
					f13_local1 = true
					break
				end
				table.remove( f13_arg0.disableSources, f13_local5 )
			end
		end
		if not f13_local1 and f13_arg1.disable then
			table.insert( f13_arg0.disableSources, f13_arg1.disableSource )
		end
		f13_arg0:SetButtonDisabled( 0 < #f13_arg0.disableSources )
		TOAST_NOTIF.UpdateToastButtonDisableState( false )
	end )
	f0_local0( f12_arg0.PrimaryKey, f12_arg1, true )
	f0_local0( f12_arg0.SecondaryKey, f12_arg1, false )
end

local f0_local20 = function ( f11_arg0, f11_arg1 )
	local f11_local0 = f11_arg0:GetCurrentMenu()
	f11_local0._previousBoundKey = Engine[0x3C3B6822A98A4BC]( f11_arg1, f11_arg0.inputContext, f11_arg0.actionName, 0, Enum[0xBE2AEDCA764E49A][0xD15B33F9D01BDA8] )
	Engine[0x9EEC76BD7DE3B55]( f11_arg1, f11_arg0.inputContext, f11_arg0.actionName, 0, Enum[0xBE2AEDCA764E49A][0xD15B33F9D01BDA8] )
	f0_local0( f11_arg1, f11_arg0, true )
	f0_local0( f11_arg0, f11_local0, f11_arg1, true )
	f11_arg0:dispatchEventToParent( {
		name = "request_active",
		target = f11_arg0
	} )
	ACTIONS.AnimateSequence( f11_arg0, "Binding" )
	ACTIONS.AnimateSequence( f11_arg0, "BindingLoop" )
	f11_arg0:processEvent( {
		name = "binding"
	} )
	ACTIONS.AnimateSequence( f11_local0.BindingLabel, "Binding" )
	f11_arg0:dispatchEventToCurrentMenu( {
		name = "binding_key"
	} )
	local f11_local1 = LUI.UIRoot.GetRootForControllerIndex( f11_arg1 )
	f11_local1:RemoveMouseCursor()
	f11_local1.lockedMouseFocusStack = true
end

BINDING.SetupGamepadSwapEvents = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0:addEventHandler( "button_action", function ( f9_arg0, f9_arg1 )
		if not BINDING.IsCustomGamepadLayoutSelected( f3_arg0 ) and Engine[0x80D47E015737857]( f3_arg0 ) then
			LUI.FlowManager.RequestPopupMenu( nil, "PopupYesNo", true, f3_arg0, false, {
				title = Engine[0xED84C33EC5F01EA]( 0x319AA4026D10B26 ),
				message = Engine[0xED84C33EC5F01EA]( 0xFDBC0192729E356, OPTIONS.buttonLayoutStrings[Engine[0x7B17D94988FD5D0]( "gpadButtonsConfig", f3_arg0 )] ),
				yesAction = function ()
					f9_arg0( f9_arg0, f9_arg0 )
				end
			} )
		else
			f3_arg0( f3_arg0, f3_arg0 )
		end
		return true
	end )
	f3_arg0:addEventHandler( "key_bound", function ( f8_arg0, f8_arg1 )
		if f8_arg0:IsButtonActive() then
			local f8_local0 = f8_arg0.ButtonBind
			local f8_local1 = "BindingSuccess"
			local f8_local2 = f8_arg0:GetCurrentMenu()
			if f8_arg1.invalidBinding then
				f8_arg0:dispatchEventToCurrentMenu( {
					name = "key_bound_banner",
					optionName = f8_arg0.buttonName,
					binding = f8_arg1.buttonName,
					unboundCommands = f8_arg1.unboundCommands,
					currentCmd = f8_arg0.actionName,
					invalidBinding = f8_arg1.invalidBinding,
					controllerIndex = f3_arg0
				} )
				return 
			elseif not f8_arg1.cancelBinding then
				local f8_local3 = Engine[0x3C3B6822A98A4BC]( f3_arg0, f8_arg0.inputContext, f8_arg0.actionName, 0, Enum[0xBE2AEDCA764E49A][0xD15B33F9D01BDA8] )
				local f8_local4 = OPTIONS.Menu.GetOptionWidget( f8_local2, "button_layout" )
				if f8_local4 and f8_local2._previousBoundKey and f8_local3 ~= f8_local2._previousBoundKey then
					DROPDOWN.UpdateLabels( f8_local4, OPTIONS.GetCurrentButtonLayoutLabels( f3_arg0 ) )
					if Engine[0x80D47E015737857]( f3_arg0 ) then
						f8_local4:SetCurrentValue( f3_arg0, f3_arg0 )
					else
						f8_local4:SetCurrentValue( f3_arg0, f3_arg0 )
					end
				end
				if f8_arg1.customCreated then
					LUI.ToastManager.CreateToast( f3_arg0, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xFC8E3577C22EB45 ), Engine[0xED84C33EC5F01EA]( 0xD68D2838E076B90 ) ) )
				end
				f8_arg0:dispatchEventToCurrentMenu( {
					name = "key_bound_banner",
					optionName = f8_arg0.buttonName,
					binding = f8_local3,
					unboundCommands = f8_arg1.unboundCommands,
					currentCmd = f8_arg0.actionName,
					controllerIndex = f3_arg0,
					isReset = f8_arg1.isReset
				} )
				OPTIONS.UpdateResetButtonVisibility( f8_local2, f8_arg1.controller, {
					previewOption = f8_arg0
				} )
			else
				f8_local1 = "GainFocus"
				ACTIONS.AnimateSequence( f8_local0, "ResetText" )
				f8_arg0:dispatchEventToCurrentMenu( {
					name = "hide_banner"
				} )
			end
			f3_arg0( f3_arg0, f8_arg0, false )
			f8_arg0:dispatchEventToRoot( {
				name = "options_window_refresh",
				controller = f3_arg0
			} )
			ACTIONS.AnimateSequence( f8_local0, f8_local1 )
			if f8_local2.BindingLabel then
				f8_local2.BindingLabel:AnimateSequence( f8_local1 )
				f8_local2.BindingLabel:closeTree()
				f8_local2.BindingLabel = nil
			end
			if not f8_arg1.isReset then
				Engine[0xC4146BA76D0F982]( CoD.SFX.OtherAdjust )
			end
			OPTIONS.SetMatchEndDLogProfileSetting( f3_arg0, METRICS.EndMatchDLog.KEYBINDS_GAMEPLAY )
			f8_arg0:dispatchEventToCurrentMenu( {
				name = "options_window_refresh",
				controller = f3_arg0
			} )
			f8_arg0:GainFocus( {
				focusType = FocusType.MenuFlow
			} )
			local f8_local3 = LUI.UIRoot.GetRootForControllerIndex( f8_arg1.controller )
			f8_local3:TryAddMouseCursor()
			f8_local3.lockedMouseFocusStack = false
		end
	end )
	if f3_arg2.disabled then
		f3_arg0:SetButtonDisabled( f3_arg2.disabled( f3_arg1 ) )
	end
	f3_arg0:addEventHandler( "refresh", function ( f7_arg0, f7_arg1 )
		local f7_local0
		if f7_arg1 then
			f7_local0 = f7_arg1
		else
			f7_local0 = f7_arg1.invalidBinding
		end
		if not f7_local0 then
			f3_arg0( f3_arg0, f7_arg0, false )
		end
		if f3_arg0.disabled then
			f3_arg0:SetButtonDisabled( f3_arg0:disabled( f7_arg1.index ) )
		end
	end )
	f3_arg0:registerEventHandler( "reset_value", function ( element, event )
		f3_arg0( element, event, true )
	end )
	f3_arg0.disableSources = {}
	f3_arg0:addEventHandler( "request_disable", function ( f5_arg0, f5_arg1 )
		local f5_local0 = f5_arg1.disableSource
		if not f5_arg1.disableSource then
			f5_arg1.disableSource = "PERMANENT"
		end
		local f5_local1 = false
		for f5_local5, f5_local6 in ipairs( f5_arg0.disableSources ) do
			if f5_local6 == f5_arg1.disableSource then
				if f5_arg1.disable == false then
				
				else
					f5_local1 = true
					break
				end
				table.remove( f5_arg0.disableSources, f5_local5 )
			end
		end
		if not f5_local1 and f5_arg1.disable then
			table.insert( f5_arg0.disableSources, f5_arg1.disableSource )
		end
		f5_arg0:SetButtonDisabled( 0 < #f5_arg0.disableSources )
	end )
	OPTIONS.SetActiveEventHandler( f3_arg0, f3_arg2 )
	f0_local0( f3_arg1, f3_arg0, false )
	f3_arg0.ShouldAddResetButton = function ()
		return f3_arg0( f3_arg0, f3_arg0 )
	end
	
end

BINDING.IsCustomGamepadLayoutSelected = function ( f2_arg0 )
	return Engine[0x7B17D94988FD5D0]( "gpadCustomButtonsConfigEnabled", f2_arg0 )
end

BINDING.GetDefaultKeybind = function ( f1_arg0, f1_arg1, f1_arg2 )
	local f1_local0 = Engine[0xA79C63520FCD69F]
	local f1_local1 = f1_arg1
	local f1_local2 = f1_arg0.inputContext
	local f1_local3 = f1_arg0.actionName
	local f1_local4
	if f1_arg2 then
		f1_local4 = 0
	else
		f1_local4 = 1
	end
	f1_local0 = f1_local0( f1_local1, f1_local2, f1_local3, f1_local4, Enum[0xBE2AEDCA764E49A][0xF2521E290692D68] )
	if String.IsNilOrEmpty( f1_local0 ) then
		return Engine[0xED84C33EC5F01EA]( f0_local0 )
	else
		return Engine[0x7D3158A9539A355]( f1_local0 )
	end
end

