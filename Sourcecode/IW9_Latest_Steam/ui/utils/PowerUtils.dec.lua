-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
EQUIPMENT = EQUIPMENT or {}
EQUIPMENT.lethalSlot = 1
EQUIPMENT.tacticalSlot = 2
EQUIPMENT.none = "none"
EQUIPMENT.baseVariant = 0
EQUIPMENT[0x74F9D21004E6324] = {
	[0x731F3C21BFD3FF4] = 1,
	[0x2B1AD16803854BB] = 0
}
EQUIPMENT.GetBundleByRef = function ( f52_arg0 )
	local f52_local0 = PROJECT[0x802F28C6B2B37E5]()
	assert( f52_local0 )
	for f52_local4, f52_local5 in ipairs( f52_local0[0x45E3BF48C371980] ) do
		if (f52_local5[0x9E9C01960F4C582] or "") == f52_arg0 and f52_local5[0x8B6F2336E5960E5] ~= nil then
			return Engine[0x6093D047200548]( 0x117605451D279D0 .. (f52_local5[0x8B6F2336E5960E5] or "") )
		end
	end
	return nil
end

EQUIPMENT.GetBundleByIndex = function ( f51_arg0 )
	local f51_local0 = PROJECT[0x802F28C6B2B37E5]()
	assert( f51_local0 )
	if f51_local0[0x45E3BF48C371980] ~= nil then
		local f51_local1 = f51_local0[0x45E3BF48C371980][f51_arg0]
		if f51_local1 ~= nil and f51_local1[0x8B6F2336E5960E5] ~= nil then
			return Engine[0x6093D047200548]( 0x117605451D279D0 .. (f51_local1[0x8B6F2336E5960E5] or "") )
		end
	end
	return nil
end

EQUIPMENT.GetBundleRefForIndex = function ( f50_arg0 )
	local f50_local0 = PROJECT[0x802F28C6B2B37E5]()
	assert( f50_local0 )
	if f50_local0[0x45E3BF48C371980] ~= nil then
		local f50_local1 = f50_local0[0x45E3BF48C371980][f50_arg0]
		local f50_local2
		if f50_local1 ~= nil then
			f50_local2 = f50_local1[0x9E9C01960F4C582]
			if not f50_local2 then
			
			else
				return f50_local2
			end
		end
		f50_local2 = ""
	else
		return ""
	end
end

EQUIPMENT.GetImageLarge = function ( f49_arg0 )
	local f49_local0 = EQUIPMENT.GetBundleByRef( f49_arg0 )
	local f49_local1
	if f49_local0 ~= nil then
		f49_local1 = f49_local0[0x26DC781D05913E5]
		if not f49_local1 then
		
		else
			return f49_local1
		end
	end
	f49_local1 = "white"
end

EQUIPMENT.GetName = function ( f48_arg0 )
	if GL_HACK.IsEquipmentCustomSkin( f48_arg0 ) then
		f48_arg0 = EQUIPMENT.GetBaseRef( f48_arg0 )
	end
	local f48_local0 = EQUIPMENT.GetBundleByRef( f48_arg0 )
	local f48_local1
	if f48_local0 ~= nil then
		f48_local1 = Engine[0xED84C33EC5F01EA]( f48_local0[0x4BCADBA8E631B86] or "" )
		if not f48_local1 then
		
		else
			return f48_local1
		end
	end
	f48_local1 = ""
end

EQUIPMENT.GetBaseRef = function ( f47_arg0 )
	if GL_HACK.IsEquipmentCustomSkin( f47_arg0 ) then
		local f47_local0 = LOOT.GetItemID( f47_arg0 )
		local f47_local1 = Engine[0xEE6F69FEA944B13]()
		local f47_local2 = EQUIPMENT.GetEquipmentDataByLootID( f47_local1:GetControllerIndex(), f47_local0 )
		local f47_local3
		if f47_local2 ~= nil then
			f47_local3 = f47_local2.ref
			if not f47_local3 then
			
			else
				return f47_local3
			end
		end
		f47_local3 = f47_arg0
	else
		return f47_arg0
	end
end

EQUIPMENT.GetModel = function ( f46_arg0 )
	local f46_local0 = EQUIPMENT.GetBundleByRef( f46_arg0 )
	local f46_local1
	if f46_local0 ~= nil then
		f46_local1 = f46_local0[0xDE543933E6E703A]
		if not f46_local1 then
		
		else
			return f46_local1
		end
	end
	f46_local1 = ""
end

EQUIPMENT.GetImage = function ( f45_arg0 )
	if GL_HACK.IsEquipmentCustomSkin( f45_arg0 ) then
		f45_arg0 = EQUIPMENT.GetBaseRef( f45_arg0 )
	end
	local f45_local0 = EQUIPMENT.GetBundleByRef( f45_arg0 )
	local f45_local1
	if f45_local0 ~= nil then
		f45_local1 = f45_local0[0xAB612888528489A]
		if not f45_local1 then
		
		else
			return f45_local1
		end
	end
	f45_local1 = "white"
end

EQUIPMENT.GetProgressionImage = function ( f44_arg0 )
	local f44_local0 = EQUIPMENT.GetBundleByRef( f44_arg0 )
	local f44_local1
	if f44_local0 ~= nil then
		f44_local1 = f44_local0[0xBD538BB85256D75]
		if not f44_local1 then
		
		else
			return f44_local1
		end
	end
	f44_local1 = "white"
end

EQUIPMENT.GetTutorialVideo = function ( f43_arg0 )
	local f43_local0 = EQUIPMENT.GetBundleByRef( f43_arg0 )
	local f43_local1
	if f43_local0 ~= nil then
		f43_local1 = f43_local0[0xA4F81ED61B08D92]
		if not f43_local1 then
		
		else
			return f43_local1
		end
	end
	f43_local1 = ""
end

EQUIPMENT.GetDesc = function ( f42_arg0 )
	local f42_local0 = EQUIPMENT.GetBundleByRef( f42_arg0 )
	local f42_local1
	if f42_local0 ~= nil then
		f42_local1 = Engine[0xED84C33EC5F01EA]( f42_local0[0xCC44970C8397929] or "" )
		if not f42_local1 then
		
		else
			return f42_local1
		end
	end
	f42_local1 = ""
end

EQUIPMENT.GetUseWeapon = function ( f41_arg0 )
	if WEAPON.IsEquipmentBlueprint( LOOT.GetItemID( f41_arg0 ) ) then
		return WEAPON.GetBaseWeapon( f41_arg0 )
	end
	local f41_local0 = EQUIPMENT.GetBundleByRef( f41_arg0 )
	local f41_local1
	if f41_local0 ~= nil then
		f41_local1 = f41_local0[0x4553CAAC3243E18]
		if not f41_local1 then
		
		else
			return f41_local1
		end
	end
	f41_local1 = ""
end

EQUIPMENT.GetBaseRefFromUseWeapon = function ( f40_arg0 )
	local f40_local0 = String.Replace( f40_arg0, "_mp", "" )
	if CONDITIONS.IsMobileOrMobileSim() then
		return String.Replace( f40_local0, "_mgl", "" )
	else
		return f40_local0
	end
end

EQUIPMENT.GetLethalStats = function ( f39_arg0 )
	local f39_local0 = {}
	local f39_local1 = PROJECT[0x802F28C6B2B37E5]()
	assert( f39_local1 )
	local f39_local2 = nil
	for f39_local9, f39_local10 in pairs( f39_local1[0x45E3BF48C371980] ) do
		if f39_local10[0x8B6F2336E5960E5] ~= nil then
			f39_local2 = Engine[0x6093D047200548]( 0x117605451D279D0 .. f39_local10[0x8B6F2336E5960E5] or "" )
			if f39_local2 ~= nil and (f39_local2[0x62CE85A95731747] or 0) == EQUIPMENT.lethalSlot and 0 <= (f39_local2[0xB2AD75398F1BCBD] or 0) then
				local f39_local6 = PLAYER_DATA.IO( f39_arg0, CoD.StatsGroup.Ranked )
				f39_local6 = f39_local6.playerStats.lethalStats[f39_local10[0x9E9C01960F4C582] or ""]
				if f39_local6 == nil then
					local f39_local7 = DebugPrint
					local f39_local8 = f39_local10[0x9E9C01960F4C582]
					if not f39_local8 then
						f39_local8 = "" .. " does not exist in lethalStats"
					end
					f39_local7( f39_local8 )
				end
				local f39_local7 = {
					uses = f39_local6.uses:get(),
					kills = f39_local6.kills:get(),
					nameRef = f39_local2[0x4BCADBA8E631B86] or "",
					progressionImage = f39_local2[0xBD538BB85256D75] or "",
					killsPerUse = f39_local7.kills / (f39_local7.uses and f39_local7.uses or 1)
				}
				table.insert( f39_local0, f39_local7 )
			end
		end
	end
	return f39_local0
end

EQUIPMENT.GetTacticalStats = function ( f38_arg0 )
	local f38_local0 = {}
	local f38_local1 = PROJECT[0x802F28C6B2B37E5]()
	assert( f38_local1 )
	local f38_local2 = nil
	for f38_local9, f38_local10 in pairs( f38_local1[0x45E3BF48C371980] ) do
		if f38_local10[0x8B6F2336E5960E5] ~= nil then
			f38_local2 = Engine[0x6093D047200548]( 0x117605451D279D0 .. f38_local10[0x8B6F2336E5960E5] )
			if f38_local2 ~= nil and (f38_local2[0x62CE85A95731747] or 0) == EQUIPMENT.tacticalSlot and 0 <= (f38_local2[0xB2AD75398F1BCBD] or 0) then
				local f38_local6 = PLAYER_DATA.IO( f38_arg0, CoD.StatsGroup.Ranked )
				f38_local6 = f38_local6.playerStats.tacticalStats[f38_local10[0x9E9C01960F4C582] or ""]
				if f38_local6 == nil then
					local f38_local7 = DebugPrint
					local f38_local8 = f38_local10[0x9E9C01960F4C582]
					if not f38_local8 then
						f38_local8 = "" .. " does not exist in tacticalStats"
					end
					f38_local7( f38_local8 )
				end
				table.insert( f38_local0, {
					uses = f38_local6.uses:get(),
					nameRef = f38_local2[0x4BCADBA8E631B86] or "",
					progressionImage = f38_local2[0xBD538BB85256D75] or "",
					extraStat1 = f38_local6.extraStat1:get(),
					extraRecordType = f38_local2[0x7B72DB582220330] or ""
				} )
			end
		end
	end
	return f38_local0
end

EQUIPMENT.GetOtherEquipmentIndex = function ( f37_arg0 )
	if f37_arg0 == EQUIPMENT[0x74F9D21004E6324][0x2B1AD16803854BB] then
		return EQUIPMENT[0x74F9D21004E6324][0x731F3C21BFD3FF4]
	else
		return EQUIPMENT[0x74F9D21004E6324][0x2B1AD16803854BB]
	end
end

EQUIPMENT.GetEquippedEquipment = function ( f36_arg0, f36_arg1, f36_arg2 )
	local f36_local0 = LOADOUT.GetLoadoutSquadMember( f36_arg0 )
	if DMZ.IsInstanceInventoryEnabledFrontend() then
		return DMZ.GetEquippedInstanceEquipmentRef( f36_arg2 )
	else
		return f36_local0.loadouts[f36_arg1].equipmentSetups[f36_arg2].equipment:get()
	end
end

EQUIPMENT.SetEquippedEquipment = function ( f35_arg0, f35_arg1, f35_arg2, f35_arg3 )
	local f35_local0 = LOADOUT.GetLoadoutSquadMember( f35_arg0 )
	if DMZ.IsInstanceInventoryEnabledFrontend() then
		return DMZ.SetEquippedInstanceEquipment( f35_arg0, f35_arg2, f35_arg3 )
	else
		EQUIPMENT.SetEquippedSkin( f35_arg0, f35_arg2, f35_arg1, EQUIPMENT.baseVariant )
		return f35_local0.loadouts[f35_arg1].equipmentSetups[f35_arg2].equipment:set( f35_arg3 )
	end
end

local f0_local0 = function ( f34_arg0, f34_arg1, f34_arg2, f34_arg3 )
	if tonumber( f34_arg3.uiSlot ) == f34_arg2 + 1 and 0 <= tonumber( f34_arg3.uiOrder ) then
		f34_arg3.isRestricted = MatchRules[0x12C50EF8C3BF18A]( f34_arg3.ref )
		if not f34_arg3.isRestricted or f34_arg3.isEquipped then
			if f34_arg3.disableAutoUnlockPrivate then
				f34_arg3.isUnlocked = LOOT.IsUnlocked( f34_arg0, LOOT.itemTypes.EQUIPMENT, f34_arg3.ref )
			else
				f34_arg3.isUnlocked = PROGRESSION.IsUnlocked( f34_arg0, LOOT.itemTypes.EQUIPMENT, f34_arg3.ref )
			end
			f34_arg3.order = tonumber( f34_arg3.uiOrder )
			if not f34_arg3.isUnlocked then
				f34_arg3.unlockCriteria = PROGRESSION.GetUnlockText( LOOT.itemTypes.EQUIPMENT, f34_arg3.ref )
			end
			table.insert( f34_arg1, f34_arg3 )
		end
	end
end

EQUIPMENT.GetEquipmentsData = function ( f32_arg0 )
	local f32_local0 = {}
	local f32_local1 = PROJECT[0x802F28C6B2B37E5]()
	assert( f32_local1 )
	local f32_local2 = EQUIPMENT.GetEquipmentIndex( f32_arg0 )
	for f32_local8, f32_local9 in ipairs( f32_local1[0x45E3BF48C371980] ) do
		if f32_local9[0x8B6F2336E5960E5] ~= nil then
			local f32_local6 = Engine[0x6093D047200548]( 0x117605451D279D0 .. (f32_local9[0x8B6F2336E5960E5] or "") )
			if f32_local6 ~= nil then
				local f32_local7 = f32_local9[0x9E9C01960F4C582] or ""
				f0_local0( f32_arg0, f32_local0, f32_local2, {
					ref = f32_local7,
					nameRef = f32_local6[0x4BCADBA8E631B86] or "",
					desc = f32_local6[0xCC44970C8397929] or "",
					image = f32_local6[0xAB612888528489A] or "",
					useWeapon = f32_local6[0x4553CAAC3243E18] or "",
					model = f32_local6[0xDE543933E6E703A] or "",
					uiSlot = f32_local6[0x62CE85A95731747] or 0,
					uiOrder = f32_local6[0xB2AD75398F1BCBD] or 0,
					disableAutoUnlockPrivate = f32_local6[0xC86D0A9DFFE6DCF] or false,
					isEquipped = EQUIPMENT.IsEquipmentEquipped( f32_arg0, f32_local7 ),
					lootID = LOOT.GetItemID( f32_local7 )
				} )
			end
		end
	end
	table.sort( f32_local0, function ( f33_arg0, f33_arg1 )
		if f33_arg0.isRestricted ~= f33_arg1.isRestricted then
			local f33_local0 = f33_arg1.isRestricted
			if f33_local0 then
				f33_local0 = not f33_arg0.isRestricted
			end
			return f33_local0
		elseif f33_arg0.isUnlocked ~= f33_arg1.isUnlocked then
			return f33_arg0.isUnlocked
		elseif f33_arg0.order ~= f33_arg1.order then
			return f33_arg0.order < f33_arg1.order
		else
			local f33_local0 = Engine[0xED84C33EC5F01EA]( f33_arg0.nameRef )
			local f33_local1 = Engine[0xED84C33EC5F01EA]( f33_arg1.nameRef )
			if f33_local0 ~= f33_local1 then
				return f33_local0 < f33_local1
			else
				return false
			end
		end
	end )
	return f32_local0
end

EQUIPMENT.GetEquipmentData = function ( f31_arg0, f31_arg1 )
	for f31_local3, f31_local4 in ipairs( EQUIPMENT.GetEquipmentsData( f31_arg0 ) ) do
		if f31_local4.ref == f31_arg1 then
			return f31_local4
		end
	end
	return nil
end

EQUIPMENT.GetLootIDsMatchingEquipmentIndex = function ( f30_arg0, f30_arg1 )
	local f30_local0 = {}
	local f30_local1 = PROJECT[0x802F28C6B2B37E5]()
	for f30_local12, f30_local13 in ipairs( f30_local1[0x45E3BF48C371980] ) do
		if f30_local13[0x8B6F2336E5960E5] ~= nil then
			local f30_local5 = Engine[0x6093D047200548]( 0x117605451D279D0 .. (f30_local13[0x8B6F2336E5960E5] or "") )
			if f30_local5 ~= nil and f30_local5[0x62CE85A95731747] == f30_arg1 + 1 then
				local f30_local6 = LOOT.GetItemID( f30_local13[0x9E9C01960F4C582] or "" )
				for f30_local10, f30_local11 in ipairs( f30_arg0 ) do
					if f30_local11 == f30_local6 then
						table.remove( f30_arg0, f30_local10 )
						table.insert( f30_local0, f30_local11 )
						break
					end
				end
			end
		end
		if #f30_arg0 == 0 then
			
		end
	end
	return f30_local0
end

EQUIPMENT.GetEquipmentDataByLootID = function ( f29_arg0, f29_arg1 )
	local f29_local0 = LOOT.GetItemRef( f29_arg1 )
	local f29_local1 = WEAPON.GetBaseWeapon( f29_local0 )
	local f29_local2 = PROJECT[0x802F28C6B2B37E5]()
	local f29_local3 = EQUIPMENT.GetEquipmentIndex( f29_arg0 )
	for f29_local10, f29_local11 in ipairs( f29_local2[0x45E3BF48C371980] ) do
		if f29_local11[0x8B6F2336E5960E5] ~= nil then
			local f29_local7 = Engine[0x6093D047200548]( 0x117605451D279D0 .. (f29_local11[0x8B6F2336E5960E5] or "") )
			if f29_local7 ~= nil then
				local f29_local8 = f29_local11[0x9E9C01960F4C582] or ""
				local f29_local9 = {
					ref = f29_local8,
					nameRef = f29_local7[0x4BCADBA8E631B86] or "",
					desc = f29_local7[0xCC44970C8397929] or "",
					image = f29_local7[0xAB612888528489A] or "",
					useWeapon = f29_local7[0x4553CAAC3243E18] or "",
					model = f29_local7[0xDE543933E6E703A] or "",
					uiSlot = f29_local7[0x62CE85A95731747] or 0,
					uiOrder = f29_local7[0xB2AD75398F1BCBD] or 0,
					disableAutoUnlockPrivate = f29_local7[0xC86D0A9DFFE6DCF] or false,
					lootID = LOOT.GetItemID( f29_local8 )
				}
				if f29_local9.useWeapon == f29_local1 or f29_local8 == f29_local0 then
					return f29_local9
				end
			end
		end
	end
	return nil
end

EQUIPMENT.IsEquipmentEquipped = function ( f28_arg0, f28_arg1, f28_arg2 )
	local f28_local0
	if not f28_arg2 then
		f28_local0 = f28_arg2
	else
		f28_local0 = LOADOUT.GetLoadoutIndex( f28_arg0 )
	end
	local f28_local1
	if EQUIPMENT.GetEquippedEquipment( f28_arg0, f28_local0, EQUIPMENT[0x74F9D21004E6324][0x2B1AD16803854BB] ) ~= f28_arg1 and EQUIPMENT.GetEquippedEquipment( f28_arg0, f28_local0, EQUIPMENT[0x74F9D21004E6324][0x731F3C21BFD3FF4] ) ~= f28_arg1 then
		f28_local1 = false
	else
		f28_local1 = true
	end
	return f28_local1
end

EQUIPMENT.GetEquipmentDetails = function ( f27_arg0, f27_arg1 )
	local f27_local0 = EQUIPMENT.GetEquipmentData( f27_arg0, f27_arg1 )
	local f27_local1 = f27_local0.desc
	local f27_local2, f27_local3 = nil
	local f27_local4 = false
	if not f27_local0.isUnlocked then
		f27_local2 = StringTable[0x2DCF0973239E909]( CSV.gunChallenges.file, CSV.gunChallenges.cols.loot, f27_local0.lootID, CSV.gunChallenges.cols.id )
		if not LUI.StringIsNilOrEmpty( f27_local2 ) then
			if not LUI.StringIsNilOrEmpty( StringTable[0x2DCF0973239E909]( CSV.gunChallenges.file, CSV.gunChallenges.cols.loot, f27_local0.lootID, CSV.gunChallenges.cols.challenge2Desc ) ) then
				f27_local4 = true
			else
				f27_local3 = Engine[0xED84C33EC5F01EA]( StringTable[0x2DCF0973239E909]( CSV.gunChallenges.file, CSV.gunChallenges.cols.loot, f27_local0.lootID, CSV.gunChallenges.cols.desc ), tonumber( StringTable[0x2DCF0973239E909]( CSV.gunChallenges.file, CSV.gunChallenges.cols.id, f27_local2, CSV.gunChallenges.cols.amount ) ) )
			end
		end
	end
	local f27_local5 = {
		name = f27_local0.nameRef,
		desc = f27_local1,
		isUnlocked = f27_local0.isUnlocked,
		unlockCriteria = LUI.StringIsNilOrEmpty( f27_local3 ) and f27_local0.unlockCriteria or f27_local3,
		isEquipped = EQUIPMENT.IsEquipmentEquipped( f27_arg0, f27_arg1 ),
		lootID = f27_local0.lootID,
		challengeId = f27_local2,
		isChallengeLocked = f27_local4
	}
	local f27_local6
	if f27_local0.isUnlocked then
		f27_local6 = f27_local0.isAlreadyEquipped
	else
		f27_local6 = true
	end
	f27_local5.showLocked = f27_local6
	return f27_local5
end

EQUIPMENT.GetCurrentEquipmentDetails = function ( f26_arg0 )
	return EQUIPMENT.GetEquipmentDetails( f26_arg0, EQUIPMENT.GetEquippedEquipment( f26_arg0, LOADOUT.GetLoadoutIndex( f26_arg0 ), EQUIPMENT.GetEquipmentIndex( f26_arg0 ) ) )
end

EQUIPMENT.SetEquipmentIndex = function ( f25_arg0, f25_arg1 )
	DataSources.alwaysLoaded.loadout.equipmentIndex:SetValue( f25_arg0, f25_arg1 )
end

EQUIPMENT.GetEquipmentIndex = function ( f24_arg0 )
	return DataSources.alwaysLoaded.loadout.equipmentIndex:GetValue( f24_arg0 )
end

local f0_local1 = function ( f23_arg0, f23_arg1 )
	local f23_local0
	if f23_arg1 ~= LOOT.emptyID then
		f23_local0 = LOOT.IsUnlockedWithID( f23_arg0, f23_arg1 )
	else
		f23_local0 = true
	end
	if f23_local0 then
		return true
	elseif CONDITIONS.InFrontend() then
		local f23_local1 = STORE.Bundles.GetFirstBundleWithLootId( f23_arg0, f23_arg1 )
		local f23_local2 = BATTLEMAP.IsReward( f23_arg0, f23_arg1 )
		local f23_local3
		if f23_local1 then
			f23_local3 = f23_local1
		else
			f23_local3 = f23_local1 == STORE.UI.GetBlackCellBundle( f23_arg0 )
		end
		local f23_local4
		if f23_local1 then
			f23_local4 = f23_local1
		else
			f23_local4 = STORE.Bundles.IsAvailable( f23_arg0, f23_local1 )
		end
		local f23_local5 = CONDITIONS.IsDevelopmentBuild()
		if not f23_local5 then
			if not f23_local2 then
				f23_local5 = f23_local2
			elseif not f23_local3 then
				f23_local5 = f23_local3
			else
				f23_local5 = f23_local4
			end
		end
		return f23_local5
	else
		
	end
end

EQUIPMENT.GetVariantID = function ( f22_arg0, f22_arg1 )
	if WEAPON.IsEquipmentBlueprint( f22_arg1 ) then
		local f22_local0 = EQUIPMENT.GetEquipmentDataByLootID( f22_arg0, f22_arg1 )
		for f22_local4, f22_local5 in ipairs( EQUIPMENT.GetEquipmentSkins( f22_arg0, f22_local0.useWeapon ) ) do
			if f22_arg1 == f22_local5.lootID then
				return f22_local5.variantID
			end
		end
	end
	return EQUIPMENT.baseVariant
end

EQUIPMENT.GetEquippedSkin = function ( f21_arg0, f21_arg1, f21_arg2 )
	local f21_local0 = LOADOUT.GetLoadoutSquadMember( f21_arg0 )
	if CONDITIONS.IsDMZMatch() then
		return DMZ.GetEquippedInstanceEquipmentVariant( f21_arg0, f21_arg2 )
	else
		return f21_local0.loadouts[f21_arg1].equipmentSetups[f21_arg2].variantID:get()
	end
end

EQUIPMENT.SetEquippedSkin = function ( f20_arg0, f20_arg1, f20_arg2, f20_arg3, f20_arg4 )
	local f20_local0 = LOADOUT.GetLoadoutSquadMember( f20_arg0 )
	if CONDITIONS.IsDMZMatch() then
		return DMZ.SetEquippedInstanceEquipmentVariant( f20_arg0, f20_arg1, f20_arg4 )
	else
		return f20_local0.loadouts[f20_arg2].equipmentSetups[f20_arg1].variantID:set( f20_arg3 )
	end
end

EQUIPMENT.IsSkinEquipped = function ( f19_arg0, f19_arg1, f19_arg2 )
	if not f19_arg1 then
		return false
	else
		return EQUIPMENT.GetEquippedSkin( f19_arg0, LOADOUT.GetLoadoutIndex( f19_arg0 ), EQUIPMENT.GetEquipmentIndex( f19_arg0 ) ) == f19_arg2
	end
end

EQUIPMENT.GetEquipmentSkins = function ( f18_arg0, f18_arg1, f18_arg2 )
	local f18_local0 = {}
	local f18_local1 = {
		description = nil,
		displayName = 0xBCD4CAC81080D24,
		uiImage = 0x7DF0DF4E9000DEA
	}
	local f18_local2
	if not f18_arg2 then
		f18_local2 = f18_arg2
	else
		f18_local2 = 0
	end
	f18_local1.lootID = f18_local2
	f18_local1.variantID = EQUIPMENT.baseVariant
	table.insert( f18_local0, f18_local1 )
	for f18_local7, f18_local8 in ipairs( Engine[0x756D55D24F7B53]( f18_arg1 ) ) do
		local f18_local9 = {
			description = f18_local8[0xCC44970C8397929] or "",
			displayName = f18_local8[0x55F116BF695C8F6] or "",
			lootID = f18_local8[0x28887F70BF5EBA] or 0,
			variantID = f18_local7
		}
		local f18_local6
		if not String.IsNilOrEmpty( f18_local8[0x6DDC9E0081A8540] ) then
			f18_local6 = f18_local8[0x6DDC9E0081A8540]
			if not f18_local6 then
			
			else
				f18_local9.uiImage = f18_local6
				if f0_local0( f18_arg0, f18_local9.lootID ) then
					table.insert( f18_local0, f18_local9 )
				end
			end
		end
		f18_local6 = 0xB0EA9B4C5FD88B8
	end
	return f18_local0
end

EQUIPMENT.GetVariantDetails = function ( f17_arg0, f17_arg1, f17_arg2 )
	local f17_local0 = f17_arg1.lootID
	local f17_local1 = LOOT.emptyID
	f17_local0 = REG11 and f17_arg2.lootID or f17_arg1.lootID
	f17_local1 = {
		name = f17_arg1.displayName,
		desc = f17_arg1.description,
		lootID = f17_local0,
		variantID = f17_arg1.variantID,
		image = f17_arg1.uiImage
	}
	if CONDITIONS.InFrontend() then
		if f17_arg1.variantID ~= EQUIPMENT.baseVariant then
			local f17_local2 = STORE.Bundles.GetFirstBundleWithLootId( f17_arg0, f17_local0 ) ~= nil
			local f17_local3 = BATTLEPASS.IsBattlePassItem( f17_local0 )
			local f17_local4 = BATTLEPASS.IsUnownedBlackCellLoot( f17_arg0, f17_local0 )
			if f17_local2 then
				f17_local1.unlockCriteria = Engine[0xED84C33EC5F01EA]( 0xFF2BB87EDFA49 )
			elseif f17_local3 then
				f17_local1.unlockCriteria = Engine[0xED84C33EC5F01EA]( 0xBF89C15728EBC78 )
			elseif f17_local4 then
				f17_local1.unlockCriteria = Engine[0xED84C33EC5F01EA]( 0xA1A640ADA8B59FA )
			end
		elseif WEAPON.IsBaseWeapon( LOOT.GetItemRef( f17_local0 ) ) and not f17_arg2.isUnlocked then
			f17_local1.unlockCriteria = f17_arg2.unlockCriteria
		end
	end
	f17_local1.isEquipped = EQUIPMENT.IsSkinEquipped( f17_arg0, f17_arg2.isEquipped, f17_arg1.variantID )
	if WEAPON.IsBaseWeapon( LOOT.GetItemRef( f17_local0 ) ) then
		f17_local1.isUnlocked = f17_arg2.isUnlocked
	else
		f17_local1.isUnlocked = LOOT.IsUnlockedWithID( f17_arg0, f17_local0 )
	end
	local f17_local2
	if f17_local1.isUnlocked then
		f17_local2 = f17_arg1.isAlreadyEquipped
	else
		f17_local2 = true
	end
	f17_local1.showLocked = f17_local2
	return f17_local1
end

EQUIPMENT.SetupEquipmentSelectMenu = function ( f16_arg0, f16_arg1, f16_arg2 )
	if f16_arg2.query then
		f16_arg2.loadoutIndex = tonumber( f16_arg2.query.loadoutIndex )
		f16_arg2.equipmentIndex = tonumber( f16_arg2.query.equipmentIndex )
	end
	LOADOUT.SetLoadoutIndex( f16_arg1, f16_arg2.loadoutIndex )
	EQUIPMENT.SetEquipmentIndex( f16_arg1, f16_arg2.equipmentIndex )
end

EQUIPMENT.SetupEquipmentMenuValues = function ( f15_arg0, f15_arg1, f15_arg2, f15_arg3 )
	if Engine[0x2DA54CF5D6B7F02]() then
		if not f15_arg3.loadoutIndex then
			DebugPrint( "WARNING: Missing \"loadoutIndex\" option for EquipmentSelect menu. Only OK after a MyChanges." )
			f15_arg3.loadoutIndex = 0
		end
		if not f15_arg3.equipmentIndex then
			DebugPrint( "WARNING: Missing \"equipmentIndex\" option for EquipmentSelect menu. Only OK after a MyChanges." )
			f15_arg3.equipmentIndex = EQUIPMENT[0x74F9D21004E6324][0x2B1AD16803854BB]
		end
	end
	assert( f15_arg3.loadoutIndex )
	assert( f15_arg3.equipmentIndex )
	local f15_local0 = LUI.FlowManager.GetScopedData( f15_arg1 )
	f15_local0.loadoutIndex = f15_arg3.loadoutIndex
	f15_local0.slotIndex = f15_arg3.equipmentIndex
	local f15_local1 = LUI.FlowManager.GetScopedData( f15_arg1 )
	assert( f15_local1.loadoutIndex )
	assert( f15_local1.slotIndex )
	CONTENT_GRIDS.SetEquippedItemsRefs( f15_arg0, f15_arg2, EQUIPMENT.GetEquippedEquipment( f15_arg2, f15_local1.loadoutIndex, f15_local1.slotIndex ) )
end

EQUIPMENT.SetupEquipmentFrontendScene = function ( f14_arg0, f14_arg1, f14_arg2 )
	if Engine[0x12586A3F4FB490E]() then
		MobileItemPreview.Setup3DScene( f14_arg0, {
			background = 0x253A52BBF3923AE,
			transistion = "equipment_select"
		} )
	end
end

EQUIPMENT.AddEquipmentEventsHandler = function ( f10_arg0, f10_arg1 )
	f10_arg0:addEventHandler( "menu_create", function ( f13_arg0, f13_arg1 )
		local f13_local0 = f13_arg1.controller or f10_arg0
		if not LUI.IsLastInputGamepad( f13_local0 ) then
			local f13_local1 = LUI.IsLastInputKeyboardNavigation( f13_local0 )
		end
	end )
	f10_arg0:addEventHandler( "update_input_type", function ( f12_arg0, f12_arg1 )
		f12_arg0.EquipmentGrid:restoreState()
	end )
	f10_arg0:registerEventHandler( "closing_quick_access_menu", function ( element, event )
		EQUIPMENT.SetupEquipmentFrontendScene( element, f10_arg0, element.equipmentIndex )
		return true
	end )
end

EQUIPMENT.GetItemDetailsForBundle = function ( f9_arg0, f9_arg1, f9_arg2, f9_arg3 )
	if f9_arg2 == CONTENT_GRIDS.NoneValue then
		local f9_local0 = {
			name = 0x582A97E6B28D01C,
			isUnlocked = true,
			ref = f9_arg2
		}
		local f9_local1
		if f9_arg3 then
			f9_local1 = f9_arg3
		else
			f9_local1 = f9_arg3[0xAB612888528489A]
		end
		f9_local0.image = f9_local1
		return f9_local0
	end
	local f9_local0 = {
		ref = f9_arg2,
		isEquipped = CONTENT_GRIDS.IsItemEquipped( f9_arg0, f9_arg2 ),
		name = f9_arg3[0x4BCADBA8E631B86] or "",
		image = f9_arg3[0xAB612888528489A],
		category = f9_arg3[0xBD2E7FFB1224E91],
		hideInUI = f9_arg3[0xAED63DFE5400760],
		unlockType = f9_arg3[0xCB47FF127258EDD],
		unlockString = f9_arg3[0x303083A60947F08],
		availableOffline = f9_arg3[0x5B6BD358EE022AF],
		availableProjects = f9_arg3[0x429E8B8C45B9CBA]
	}
	local f9_local1 = 0
	local f9_local2 = 0
	f9_local0.isPremium = false
	f9_local0.event = f9_local2
	f9_local0.season = f9_local1
	f9_local0.lootID = f9_arg3[0x28887F70BF5EBA] or 0
	f9_local0.lootType = LOOT.itemTypes.EQUIPMENT
	f9_local0.isUnlocked = LOOT.IsUnlocked( f9_arg1, f9_local0.lootType, f9_arg2 )
	if f9_local0.isUnlocked then
		f9_local1 = ""
	else
		f9_local1 = PROGRESSION.GetUnlockText( f9_local0.lootType, f9_arg2 )
	end
	f9_local0.unlockCriteria = f9_local1
	f9_local0.itemQualityIndex = LOOT.GetItemQualityFromScriptBundle( f9_arg3 )
	f9_local0.desc = f9_arg3[0xCC44970C8397929]
	return f9_local0
end

EQUIPMENT.GetEquipmentGridButtonConfig = function ( f8_arg0, f8_arg1, f8_arg2 )
	local f8_local0 = CONTENT_GRIDS.GetMetaDataTable( f8_arg0 )
	local f8_local1 = f8_local0.gridType
	local f8_local2 = f8_arg2.ref
	local f8_local3 = f8_local0.favoriteItemsRefs
	local f8_local4 = CONTENT_GRIDS.GetEquippedItemsRefs( f8_arg0 )
	f8_local4 = f8_local4[1]
	local f8_local5 = not f8_arg2.isUnlocked
	local f8_local6 = f8_local3[f8_local2]
	local f8_local7 = f8_local2 == f8_local4
	if not f8_local7 or not CONTENT_GRIDS.BUTTON_STATE_ANIMS.EQUIPPED then
		local f8_local8 = CONTENT_GRIDS.BUTTON_STATE_ANIMS.NORMAL
	end
	if f8_local5 then
		local f8_local9 = CONTENT_GRIDS.BUTTON_STATE_ANIMS.LOCKED
		if not f8_local9 then
			local f8_local8 = f8_local9
		else
			
		end
	end
	if f8_local2 == CONTENT_GRIDS.NoneValue then
		return {
			ref = f8_local2,
			labels = {
				primaryText = 0x582A97E6B28D01C
			},
			animation = {
				focus = CONTENT_GRIDS.BUTTON_FOCUS_ANIMS.UNFOCUSED,
				state = f8_local8
			},
			image = {
				textureName = f8_arg2.image or 0xED79000D4F83EF0,
				imageSize = CONTENT_GRIDS.IMAGE_SIZE.SIZE_1X1
			}
		}
	end
	local f8_local9 = LOOT.GetItemID( f8_local2 )
	local f8_local10 = f8_arg2.itemQualityIndex
	local f8_local11
	if f8_local10 then
		f8_local11 = f8_local10
	else
		f8_local11 = f8_local10 ~= LOOT.Rarity.NONE
	end
	local f8_local12 = nil
	if not f8_local7 and f8_local11 then
		f8_local12 = MobileStoreUtils.GetProductAvailabilityDataTable( {
			assetName = f8_arg1,
			id = f8_local9,
			rarity = f8_local10
		} )
		f8_local12.isEquippingType = true
	end
	return {
		ref = f8_local2,
		labels = {
			primaryText = f8_arg2.name
		},
		animation = {
			focus = CONTENT_GRIDS.BUTTON_FOCUS_ANIMS.UNFOCUSED,
			state = f8_local8
		},
		image = {
			textureName = f8_arg2.image,
			size = CONTENT_GRIDS.IMAGE_SIZE.SIZE_1X1
		},
		loot = {
			isLocked = f8_local5,
			isFavorite = f8_local6,
			availabilityData = f8_local12
		}
	}
end

EQUIPMENT.PreviewEquipmentItem = function ( f7_arg0, f7_arg1, f7_arg2, f7_arg3 )
	if Engine[0x12586A3F4FB490E]() then
		local f7_local0 = CONTENT_GRIDS.GetMetaDataTable( f7_arg0 )
		local f7_local1 = f7_local0.slotIndex == EQUIPMENT[0x74F9D21004E6324][0x2B1AD16803854BB]
		local f7_local2 = f7_local0.slotIndex == EQUIPMENT[0x74F9D21004E6324][0x731F3C21BFD3FF4]
		local f7_local3 = LOOT.GetScriptBundleForName( f7_local0.lootType, f7_arg3 )
		MobileItemPreview.BuildViewer( f7_arg1, f7_arg2, {
			type = LOOT.itemTypes.EQUIPMENT,
			useWeapon = f7_local3[0x4553CAAC3243E18]
		}, {
			allowRotation = true
		} )
	end
end

EQUIPMENT.GetEquipmentContentGridContent = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = CONTENT_GRIDS.GetMetaDataTable( f5_arg0 )
	return CONTENT_GRIDS.SortEquippableItemsLight( f5_arg0, f5_arg2, LOOT.GetItemsDefsForType( LOOT.itemTypes.EQUIPMENT, {
		filterFunctions = {
			function ( f6_arg0, f6_arg1, f6_arg2, f6_arg3 )
				local f6_local0 = f5_arg0.slotIndex
				local f6_local1 = EQUIPMENT[0x74F9D21004E6324][0x2B1AD16803854BB]
				if f6_arg3[0x62CE85A95731747] ~= (REG10 and EQUIPMENT.lethalSlot or EQUIPMENT.tacticalSlot) then
					return false
				elseif f6_arg3[0xB2AD75398F1BCBD] < 0 then
					return false
				elseif MatchRules[0x12C50EF8C3BF18A]( f6_arg2 ) and not CONTENT_GRIDS.IsItemEquipped( f5_arg0, f6_arg2 ) then
					return false
				else
					return true
				end
			end
			
		},
		controllerIndex = f5_arg2
	} ) )
end

EQUIPMENT.EquipmentContentGridItemRefreshFunction = function ( f4_arg0, f4_arg1, f4_arg2, f4_arg3 )
	local f4_local0 = LOOT.GetScriptBundleForName( LOOT.itemTypes.EQUIPMENT, f4_arg3.assetName )
	BREADCRUMBS.TryAddNewBreadcrumbForLoot( f4_arg2, f4_arg1, LOOT.GetItemID( f4_arg3.ref ) )
	local f4_local1 = EQUIPMENT.GetEquipmentGridButtonConfig( f4_arg0, f4_arg3.assetName, EQUIPMENT.GetItemDetailsForBundle( f4_arg0, f4_arg2, f4_arg3.ref, f4_local0 ) )
	local f4_local2 = f4_arg1
	local f4_local3 = f4_arg1.SetButtonDisabled
	local f4_local4 = f4_local1.loot
	if f4_local4 then
		f4_local4 = f4_local1.loot.isLocked
	end
	f4_local3( f4_local2, f4_local4 )
	f4_arg1:processEvent( {
		name = "grid_button_component_setup",
		config = f4_local1
	} )
end

EQUIPMENT.EquipmentContentGridPreSetupFunction = function ( f3_arg0, f3_arg1, f3_arg2, f3_arg3, f3_arg4 )
	local f3_local0 = CONTENT_GRIDS.GetMetaDataTable( f3_arg0 )
	local f3_local1 = f3_local0.gridType
	f3_local0.lootType = LOOT.itemTypes.EQUIPMENT
	f3_local0.favoriteItemsRefs = LOOT.GetFavoritesForType( LOOT.itemTypes.EQUIPMENT )
	LOOT.SetupSortingBehavior( f3_arg1, f3_arg2, LOOT.itemTypes.EQUIPMENT )
	EQUIPMENT.SetupEquipmentSelectMenu( f3_arg1, f3_arg2, f3_arg4 )
	f3_local0.loadoutIndex = LOADOUT.GetLoadoutIndex( f3_arg2 )
	local f3_local2 = LOADOUT.GetFrontendLoadoutWithShowcase( f3_arg2, f3_local0.loadoutIndex, f3_arg4.forShowcase )
	if CONDITIONS.IsDvarBoolEnabled( 0xF67FAEEC5C52BFA ) then
		MenuUtils.AddMobileSidebarButton( f3_arg1, MenuUtils.MobileSidebarButtonsEnum.EQUIPPABLE_ITEM_FAVORITE )
	end
	f3_local0.slotIndex = tonumber( f3_arg4.query.equipmentIndex )
	local f3_local3 = f3_local0.slotIndex == EQUIPMENT[0x74F9D21004E6324][0x2B1AD16803854BB]
	local f3_local4 = EQUIPMENT.GetEquippedEquipment( f3_arg2, f3_local0.loadoutIndex, f3_local0.slotIndex )
	local f3_local5 = f3_local4[f3_local0.slotIndex]
	if not f3_local5 then
		f3_local4 = f3_local5
	else
		f3_local4 = CONTENT_GRIDS.NoneValue
	end
	CONTENT_GRIDS.SetEquippedItemsRefs( f3_arg0, f3_arg2, f3_local4, false )
	EQUIPMENT.SetupEquipmentMenuValues( f3_arg0, f3_arg1, f3_arg2, f3_arg4 )
	EQUIPMENT.SetupEquipmentFrontendScene( f3_arg1, f3_arg2, f3_arg4.equipmentIndex )
	EQUIPMENT.AddEquipmentEventsHandler( f3_arg1, f3_arg2 )
	ItemDetailsUtils.MobileSetMenuItemDetailsType( f3_arg1, ItemDetailsUtils[0x5ABE5FD362B0038][0x931D28F37519E57] )
	local f3_local6 = LUI.SetupDataSourceUpdate( f3_arg1, f3_arg2, "UpdateDetailsDataSources", "alwaysLoaded.menu.weaponCustomization.details", EQUIPMENT.GetItemDetailsForBundle( f3_arg0, f3_arg2, f3_local4, EQUIPMENT.GetBundleByRef( f3_local4 ) ), ItemDetailsUtils.FormatDetailsDataTable )
	ItemDetailsUtils.SetupPlaceholderItemDetails( f3_arg1.ItemDetailsWrapper )
	f3_arg1.ItemDetailsWrapper.ItemDetails:SetDataSource( f3_local6, f3_arg2 )
	local f3_local7
	if f3_local3 then
		f3_local7 = 0xCCC460329644DD6
		if not f3_local7 then
		
		else
			f3_arg1.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( f3_local7 ) )
			f3_arg3.activeMode = GRID_AND_LIST.ActiveBehaviorType.TOUCHEND
			return f3_arg3
		end
	end
	f3_local7 = 0xC9FD83CD7F8C0C1
end

EQUIPMENT.EquipmentContentGridOnItemPressed = function ( f2_arg0, f2_arg1, f2_arg2, f2_arg3, f2_arg4 )
	local f2_local0 = CONTENT_GRIDS.GetMetaDataTable( f2_arg0 )
	if not CONTENT_GRIDS.IsItemEquipped( f2_arg0, f2_arg4.ref ) then
		EQUIPMENT.SetEquippedEquipment( f2_arg2, f2_local0.loadoutIndex, f2_local0.slotIndex, f2_arg4.ref )
		CONTENT_GRIDS.SetEquippedItemsRefs( f2_arg0, f2_arg2, f2_arg4.ref )
	end
	if CONDITIONS.InGame() then
		Engine[0x6055C55456F05DF]( "equip_item_ingame", 1 )
	end
	LUI.FlowManager.RequestLeaveMenu( f2_arg3, true )
end

EQUIPMENT.EquipmentContentGridOnItemFocused = function ( f1_arg0, f1_arg1, f1_arg2, f1_arg3, f1_arg4 )
	local f1_local0 = CONTENT_GRIDS.GetMetaDataTable( f1_arg0 )
	local f1_local1 = EQUIPMENT.GetItemDetailsForBundle( f1_arg0, f1_arg2, f1_arg4.ref, LOOT.GetScriptBundleForName( f1_local0.lootType, f1_arg4.assetName ) )
	f1_local0.focusedItemDetails = f1_local1
	local f1_local2 = LOOT.GetItemID( f1_arg4.ref )
	local f1_local3 = f1_local0.slotIndex == EQUIPMENT[0x74F9D21004E6324][0x2B1AD16803854BB]
	local f1_local4 = BREADCRUMBS.ClearBreadcrumbForLoot
	local f1_local5 = f1_arg2
	local f1_local6 = f1_local2
	local f1_local7 = f1_arg1
	local f1_local8
	if f1_local3 then
		f1_local8 = BREADCRUMBS.FEATURE.LETHAL
		if not f1_local8 then
		
		else
			f1_local4( f1_local5, f1_local6, f1_local7, f1_local8 )
			EQUIPMENT.PreviewEquipmentItem( f1_arg0, f1_arg3, f1_arg2, f1_arg4.assetName )
			f1_arg3:UpdateDetailsDataSources( f1_arg2, f1_local1 )
		end
	end
	f1_local8 = BREADCRUMBS.FEATURE.TACTICAL
end

