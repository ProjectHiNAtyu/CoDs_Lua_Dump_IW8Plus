-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
CONTEXT_MENU = CONTEXT_MENU or {}
local f0_local0 = function ( f8_arg0, f8_arg1, f8_arg2, f8_arg3, f8_arg4 )
	if f8_arg3.refreshOnFocus then
		f8_arg0:SetupContextualMenu( f8_arg3 )
	else
		f8_arg0:RemoveAllContextualMenuActionsFromElement()
	end
	for f8_local3, f8_local4 in pairs( f8_arg2 ) do
		f8_arg0:AddContextualMenuAction( f8_local4 )
	end
end

CONTEXT_MENU.RemoveContextualMenuOptions = function ( f7_arg0 )
	if f7_arg0.RemoveContextualMenuFromElement then
		f7_arg0:RemoveContextualMenuFromElement()
	end
	f7_arg0._contextualMenuHandlerActive = nil
end

CONTEXT_MENU.SetupContextualMenuOptions = function ( f4_arg0, f4_arg1, f4_arg2, f4_arg3, f4_arg4 )
	if not f4_arg0._contextualMenuHandlerAdded or f4_arg3.refreshOnFocus then
		assert( f4_arg3 )
		f4_arg0:SetupContextualMenu( f4_arg3 )
		f4_arg0._contextualMenuButtonOptions = f4_arg4
		f4_arg0._contextualMenuActions = f4_arg2
		if not f4_arg0._contextualMenuHandlerAdded then
			f4_arg0._contextualMenuMenuOptions = f4_arg3
			if f4_arg3 and f4_arg3.supportsGamepad then
				f4_arg0:addEventHandler( "button_over", function ( f6_arg0, f6_arg1 )
					if f6_arg0._contextualMenuHandlerActive then
						f4_arg0( f6_arg0, f4_arg0, f6_arg0._contextualMenuActions, f6_arg0._contextualMenuMenuOptions, f6_arg0._contextualMenuButtonOptions )
					end
				end )
			else
				f4_arg0:addEventHandler( "mouseenter", function ( f5_arg0, f5_arg1 )
					if f5_arg0._contextualMenuHandlerActive then
						f4_arg0( f5_arg0, f4_arg0, f5_arg0._contextualMenuActions, f5_arg0._contextualMenuMenuOptions, f5_arg0._contextualMenuButtonOptions )
					end
				end )
			end
		end
		f0_local0( f4_arg0, f4_arg1, f4_arg0._contextualMenuActions, f4_arg3, f4_arg0._contextualMenuButtonOptions )
		f4_arg0._contextualMenuHandlerAdded = true
	end
	f4_arg0._contextualMenuHandlerActive = true
end

CONTEXT_MENU.ConvertKeysToActionTable = function ( f3_arg0, f3_arg1, f3_arg2 )
	assert( f3_arg0 )
	assert( f3_arg1 )
	assert( f3_arg2 )
	local f3_local0 = {}
	for f3_local6, f3_local7 in ipairs( f3_arg1 ) do
		local f3_local8 = f3_arg0[f3_local7]
		local f3_local5 = assert
		local f3_local9 = f3_local8
		local f3_local10 = "Action with key ["
		local f3_local4
		if not f3_local7 then
			f3_local4 = f3_local7
		else
			f3_local4 = "nil"
		end
		f3_local5( f3_local9, f3_local10 .. f3_local4 .. "] does not have a matching handler in the keyLibrary" )
		if f3_local8 then
			f3_local5 = f3_local8( f3_arg2 )
			assert( f3_local5 )
			assert( f3_local5.label )
			assert( f3_local5.id )
			assert( f3_local5.hideFunc )
			assert( f3_local5.disabledFunc )
			assert( f3_local5.action )
			assert( not LUI.StringIsNilOrEmpty( f3_local5.background ), "Please provide a background for SocialAction '" .. f3_local5.label .. "'" )
			table.insert( f3_local0, f3_local5 )
		end
	end
	return f3_local0
end

CONTEXT_MENU.GetSocialActionContextualMenuData = function ( f1_arg0, f1_arg1, f1_arg2 )
	assert( f1_arg0 )
	assert( f1_arg1 )
	assert( f1_arg2 )
	local f1_local0 = {}
	for f1_local6, f1_local7 in ipairs( f1_arg1 ) do
		local f1_local8 = f1_arg0[f1_local7]
		local f1_local5 = assert
		local f1_local9 = f1_local8
		local f1_local10 = "Action with key ["
		local f1_local4
		if not f1_local7 then
			f1_local4 = f1_local7
		else
			f1_local4 = "nil"
		end
		f1_local5( f1_local9, f1_local10 .. f1_local4 .. "] does not have a matching handler in the keyLibrary" )
		if f1_local8 then
			f1_local5 = f1_local8( f1_arg2 )
			assert( f1_local5 )
			assert( f1_local5.label )
			assert( f1_local5.id )
			assert( f1_local5.id == f1_local7 )
			assert( f1_local5.hideFunc )
			assert( f1_local5.disabledFunc )
			assert( f1_local5.action )
			if f1_local5 then
				table.insert( f1_local0, {
					actionName = f1_local5.label,
					actionFunction = f1_local5.action,
					actionParams = f1_arg2,
					conditionFunction = function ()
						if f1_arg0.hideFunc() then
							return false
						else
							return not FRIENDS.IsDisabledResult( f1_arg0.disabledFunc() )
						end
					end,
					conditionParams = f1_arg2,
					id = f1_local5.id,
					refreshOnAction = f1_local5.refreshOnAction
				} )
			end
		end
	end
	return f1_local0
end

