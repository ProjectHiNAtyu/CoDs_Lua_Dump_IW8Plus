-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.inGame.InGameMenuBackground" )
require( "ui.widgets.MenuTitle" )
require( "ui.widgets.MPPlayerDetails" )
require( "ui.widgets.LobbyMembersFooter" )
require( "ui.widgets.VerticalMinimalScrollbar" )
require( "ui.widgets.NavigationArrow" )
require( "ui.frontEnd.mp.LoadoutVaultLayout" )
require( "ui.widgets.mp.LabeledIcon" )
require( "ui.widgets.EquippedWidget" )
require( "ui.widgets.YouIndicatorLeft" )
require( "ui.widgets.ButtonHelperBar" )
require( "ui.frontEnd.LoadoutVaultSchemeProgress" )
require( "ui.frontEnd.mp.LoadoutSchemeStatus" )
local f0_local0 = 5
local f0_local1 = 2
local f0_local2 = {
	[LOADOUTVAULT.SchemeSortingOptions.Complete] = "LOADOUT_VAULT/SORT_FILTER_COMPLETE",
	[LOADOUTVAULT.SchemeSortingOptions.Incomplete] = "LOADOUT_VAULT/SORT_FILTER_INCOMPLETE"
}
local f0_local3 = {
	[LOADOUTVAULT.ItemsSortingOptions.Weapons] = "LOADOUT_VAULT/SORT_FILTER_MISSING_WEAPONS",
	[LOADOUTVAULT.ItemsSortingOptions.Attachments] = "LOADOUT_VAULT/SORT_FILTER_MISSING_ATTACHMENTS",
	[LOADOUTVAULT.ItemsSortingOptions.Perks] = "LOADOUT_VAULT/SORT_FILTER_MISSING_PERKS",
	[LOADOUTVAULT.ItemsSortingOptions.Lethals] = "LOADOUT_VAULT/SORT_FILTER_MISSING_LETHALS",
	[LOADOUTVAULT.ItemsSortingOptions.Tacticals] = "LOADOUT_VAULT/SORT_FILTER_MISSING_TACTICALS"
}
local f0_local4 = _1080p * 5
local f0_local5 = _1080p * 10
function DeleteLoadoutSchemePopup( f47_arg0, f47_arg1 )
	local f47_local0 = f47_arg1.menuToLeave
	local f47_local1 = f47_arg1.loadoutSchemeIndex
	local f47_local2 = f47_arg1.controllerIndex
	local f47_local3 = f47_arg1.finalLoadout
	local f47_local4 = nil
	local f47_local5 = {
		headerText = Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/REMOVE_SCHEME" )
	}
	if f47_local1 then
		local f47_local6 = LOADOUTVAULT.GetLoadoutVaultPlayerData( f47_local2, f47_local1 )
		if f47_local6 then
			f47_local4 = f47_local6.name:get()
			local f47_local7
			if f47_arg1.finalLoadout then
				f47_local7 = "LOADOUT_VAULT/CONFIRM_REMOVE_FINAL"
			else
				f47_local7 = "LOADOUT_VAULT/CONFIRM_REMOVE"
			end
			f47_local5.messageText = Engine[0xED84C33EC5F01EA]( f47_local7, Engine[0xEB2A2834B76AEA4]( Engine[0x7D3158A9539A355]( f47_local4 ) ) )
		end
	end
	f47_local5.controllerIndex = f47_local2
	f47_local5.yesAction = function ( f48_arg0, f48_arg1 )
		if f47_arg0 then
			if f47_arg0 then
				LOADOUTVAULT.ShowVaultRemovedNotification( f48_arg0, f48_arg1, Engine[0xEB2A2834B76AEA4]( Engine[0x7D3158A9539A355]( f47_arg0 ) ) )
			end
			LOADOUTVAULT.RemoveFromVault( f48_arg0, f48_arg1, f47_arg0 )
		end
		if f47_arg0 then
			LUI.FlowManager.RequestLeaveMenu( f47_arg0, false, false )
		end
	end
	
	local f47_local6 = MenuBuilder.BuildRegisteredType( "PopupYesNo", f47_local5 )
	f47_local6.id = "PlayAgainPopup"
	return f47_local6
end

MenuBuilder.registerType( "DeleteLoadoutSchemePopup", DeleteLoadoutSchemePopup )
local f0_local6 = function ( f46_arg0, f46_arg1 )
	if f46_arg1 == LOADOUTVAULT.ItemsSortingOptions.None then
		return f0_local0[f46_arg0] or "LUA_MENU/UNKNOWN"
	else
		return f0_local0[f46_arg1] or "LUA_MENU/UNKNOWN"
	end
end

local f0_local7 = function ( f45_arg0 )
	local f45_local0 = f45_arg0.LoadoutGrid:GetFocusPosition( LUI.DIRECTION.horizontal )
	local f45_local1 = f45_arg0.LoadoutGrid:GetFocusPosition( LUI.DIRECTION.vertical )
	if not f45_local1 or not f45_local0 then
		return nil
	else
		return f45_arg0.LoadoutGrid:GetContentIndex( f45_local0, f45_local1 )
	end
end

local f0_local8 = function ( f44_arg0 )
	local f44_local0 = f0_local0( f44_arg0 )
	local f44_local1
	if f44_local0 then
		f44_local1 = f44_local0
	else
		f44_local1 = f44_arg0._loadoutButtons[f44_local0 + 1]
	end
	return f44_local1
end

local f0_local9 = function ( f43_arg0 )
	if f43_arg0._activeLoadoutMode then
		return false
	end
	local f43_local0 = {}
	for f43_local4, f43_local5 in pairs( f43_arg0._loadoutButtons ) do
		if f43_local5.loadoutComplete then
			f43_local0.complete = true
		else
			f43_local0.incomplete = true
		end
		if f43_local0.complete and f43_local0.incomplete then
			return true
		end
	end
	return false
end

local f0_local10 = function ( f42_arg0 )
	f42_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		priority = 1,
		gamepad_only = true,
		button_ref = "button_alt2",
		helper_text = Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/VIEW_DETAILS" )
	} )
	f42_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		priority = 1,
		gamepad_only = true,
		button_ref = "button_primary",
		helper_text = Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/REPLACE_LOADOUT_HEADER" )
	} )
end

local f0_local11 = function ( f41_arg0 )
	local f41_local0 = f41_arg0._activeLoadoutMode
	if not f41_local0 then
		f41_local0 = f41_arg0._filterOnlyCompleted
	end
	return f41_local0
end

local f0_local12 = function ( f39_arg0, f39_arg1 )
	local f39_local0 = LOADOUTVAULT.GetLoadoutsVaultPlayerData( f39_arg1 )
	f39_arg0._loadoutIndexMap = {}
	local f39_local1 = 0
	for f39_local2 = 0, #f39_local0 - 1, 1 do
		if not LOADOUTVAULT.IsLoadoutEmpty( f39_local0[f39_local2] ) then
			if not f0_local0( f39_arg0 ) or LOADOUTVAULT.IsLoadoutComplete( f39_arg1, f39_local0[f39_local2] ) then
				f39_arg0._loadoutIndexMap[f39_local1 + 1] = f39_local2 + 1
				f39_local1 = f39_local1 + 1
			end
		end
	end
	local f39_local2 = {}
	local f39_local3 = {}
	for f39_local4 = 0, f39_local1 - 1, 1 do
		local f39_local7, f39_local8 = LOADOUTVAULT.IsLoadoutComplete( f39_arg1, f39_local0[f39_local4] )
		f39_local2[f39_local4] = f39_local7
		if f39_local7 then
			f39_local3[f39_local4] = {}
		end
		local f39_local9 = {
			tacticals = 0,
			weapons = 0,
			perks = 0,
			attachments = 0,
			lethals = 0
		}
		if f39_local8.weapons then
			f39_local9.weapons = CountTableKeys( f39_local8.weapons )
		end
		if f39_local8.attachments and not LUI.IsTableEmpty( f39_local8.attachments ) then
			for f39_local13, f39_local14 in pairs( f39_local8.attachments ) do
				f39_local9.attachments = f39_local9.attachments + CountTableKeys( f39_local14 )
			end
		end
		if f39_local8.perks then
			f39_local9.perks = CountTableKeys( f39_local8.perks )
		end
		if f39_local8.lethals then
			f39_local9.lethals = CountTableKeys( f39_local8.lethals )
		end
		if f39_local8.tacticals then
			f39_local9.tacticals = CountTableKeys( f39_local8.tacticals )
		end
		f39_local3[f39_local4] = f39_local9
	end
	table.sort( f39_arg0._loadoutIndexMap, function ( f40_arg0, f40_arg1 )
		local f40_local0 = f40_arg0 - 1
		local f40_local1 = f40_arg1 - 1
		if f39_arg0[f40_local0] ~= f39_arg0[f40_local1] then
			if f39_arg0.schemeSortingType == LOADOUTVAULT.SchemeSortingOptions.Complete then
				return f39_arg0[f40_local0]
			else
				return f39_arg0[f40_local1]
			end
		elseif not f39_arg0[f40_local0] and not f39_arg0[f40_local1] and f39_arg0[f40_local0] and f39_arg0[f40_local1] then
			if f39_arg0.itemsSortingType == LOADOUTVAULT.ItemsSortingOptions.Weapons then
				return f39_arg0[f40_local1].weapons < f39_arg0[f40_local0].weapons
			elseif f39_arg0.itemsSortingType == LOADOUTVAULT.ItemsSortingOptions.Attachments then
				return f39_arg0[f40_local1].attachments < f39_arg0[f40_local0].attachments
			elseif f39_arg0.itemsSortingType == LOADOUTVAULT.ItemsSortingOptions.Perks then
				return f39_arg0[f40_local1].perks < f39_arg0[f40_local0].perks
			elseif f39_arg0.itemsSortingType == LOADOUTVAULT.ItemsSortingOptions.Lethals then
				return f39_arg0[f40_local1].lethals < f39_arg0[f40_local0].lethals
			elseif f39_arg0.itemsSortingType == LOADOUTVAULT.ItemsSortingOptions.Tacticals then
				return f39_arg0[f40_local1].tacticals < f39_arg0[f40_local0].tacticals
			end
		end
		return f40_local0 < f40_local1
	end )
	f39_arg0._loadouts = f39_local0
	f39_arg0._validLoadoutCount = f39_local1
end

local f0_local13 = function ( f38_arg0, f38_arg1 )
	local f38_local0 = LOADOUTVAULT.GetLoadoutXUID( f38_arg1 )
	local f38_local1
	if f38_local0 then
		f38_local1 = f38_local0
	else
		f38_local1 = Friends[0x5065E759595C457]( f38_local0 )
	end
	local f38_local2 = Engine[0x9D348E40740E9A8]()
	if f38_local2 then
		if f38_local1 then
			f38_local2 = f38_local1
		else
			f38_local2 = Social[0x93713D766159226]( f38_arg0, f38_local1, "0" )
			if not f38_local2 then
				f38_local2 = f38_local1 == Engine[0x29DFACECF20DE0E]( f38_arg0 )
			end
		end
	end
	return f38_local2
end

local f0_local14 = function ( f37_arg0, f37_arg1 )
	if f37_arg1 == LOADOUTVAULT.VaultCount then
		f37_arg0.VaultCapacityWarning:setText( Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/VAULT_OUT_OF_SPACE" ) )
		f37_arg0.VaultCapacityWarning:SetVisible( true )
		f37_arg0.VaultWarning:SetVisible( true )
	elseif f37_arg1 >= LOADOUTVAULT.VaultCountWarningAt then
		f37_arg0.VaultCapacityWarning:setText( Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/VAULT_NEARLY_OUT_OF_SPACE" ) )
		f37_arg0.VaultCapacityWarning:SetVisible( true )
		f37_arg0.VaultWarning:SetVisible( true )
	else
		f37_arg0.VaultCapacityWarning:SetVisible( false )
		f37_arg0.VaultWarning:SetVisible( false )
	end
	f37_arg0.VaultCapacity:setText( Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/VAULT_CAPACITY", f37_arg1, LOADOUTVAULT.VaultCount ) )
end

local f0_local15 = function ( f36_arg0, f36_arg1 )
	f0_local0( f36_arg0, f36_arg1 )
	local f36_local0 = f36_arg0._validLoadoutCount
	f36_arg0.LoadoutGrid:SetNumChildren( f36_local0 )
	f36_arg0.LoadoutGrid:RefreshContent()
	f0_local0( f36_arg0, f36_local0 )
	if not f36_arg0._activeLoadoutMode then
		f36_arg0.ButtonHelperBar.ButtonHelperText:PopButtonPrompt( {
			side = "right",
			button_ref = "button_alt1"
		} )
		f36_arg0.ButtonHelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "right",
			button_ref = "button_alt1",
			priority = 2,
			helper_text = Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/SORT_FILTER", f0_local0( f36_arg0.schemeSortingType, f36_arg0.itemsSortingType ) )
		} )
	end
end

local f0_local16 = function ( f35_arg0, f35_arg1, f35_arg2, f35_arg3 )
	Engine[0xC4146BA76D0F982]( SOUND_SETS.default.action )
	if not f35_arg2 then
		f35_arg2 = f35_arg0.LoadoutGrid:GetContentIndex( f35_arg0.LoadoutGrid:GetFocusPosition( LUI.DIRECTION.horizontal ), f35_arg0.LoadoutGrid:GetFocusPosition( LUI.DIRECTION.vertical ) )
	end
	LUI.FlowManager.RequestPopupMenu( f35_arg0, "DeleteLoadoutSchemePopup", true, f35_arg1, false, {
		loadoutSchemeIndex = f35_arg2,
		finalLoadout = f35_arg3
	} )
end

local f0_local17 = function ( f29_arg0, f29_arg1 )
	return function ( f30_arg0, f30_arg1, f30_arg2 )
		local f30_local0 = f29_arg0
		local f30_local1 = f29_arg0._loadoutsPlayerData
		if not f30_local1 then
			f30_local1 = LOADOUT.GetLoadoutsPlayerData( f29_arg0 )
		end
		f30_local0._loadoutsPlayerData = f30_local1
		f30_local0 = f29_arg0.LoadoutGrid:GetContentIndex( f30_arg1, f30_arg2 )
		f30_local1 = (f29_arg0._loadoutIndexMap[f30_local0 + 1] or 1) - 1
		local f30_local2 = f29_arg0._validLoadoutCount == 1
		assert( f30_local1 )
		local f30_local3 = f29_arg0._loadouts[f30_local1]
		f30_arg0:Setup( f29_arg0, f30_local3 )
		f30_arg0:SetupContextualMenu( {
			title = f30_local3.name:get()
		} )
		f30_arg0:SetEquipped( LOADOUTVAULT.GetActiveLoadoutIndex( f29_arg0._loadoutsPlayerData, f30_local3 ) ~= nil )
		f30_arg0:AddContextualMenuAction( {
			id = "viewDetails",
			actionName = Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/VIEW_DETAILS" ),
			actionFunction = function ()
				LUI.FlowManager.RequestPopupMenu( nil, "LoadoutVaultDetails", true, f30_arg0, false, {
					vaultLoadout = f30_arg0:GetLoadout()
				}, nil, false, false )
			end,
			button = LUI.MouseCursorContextualMenuLayer.BUTTON_NONE
		} )
		if f29_arg0( f29_arg0, f30_local3 ) then
			f30_arg0:AddContextualMenuAction( {
				id = "viewProfile",
				actionName = Engine[0xED84C33EC5F01EA]( "XBOXLIVE/VIEW_PROFILE" ),
				actionFunction = function ()
					Lobby[0x793FB272C3B5EC2]( f30_arg0, LOADOUTVAULT.GetLoadoutXUID( f30_arg0:GetLoadout() ) )
				end,
				button = LUI.MouseCursorContextualMenuLayer.BUTTON_NONE
			} )
		end
		if not f29_arg0._activeLoadoutMode then
			f30_arg0:AddContextualMenuAction( {
				id = "renamedLoadout",
				actionName = Engine[0xED84C33EC5F01EA]( "MENU/RENAME" ),
				actionFunction = function ()
					LOADOUTVAULT.RenameLoadout( f30_arg0, f30_arg0, f30_arg0 )
				end,
				button = LUI.MouseCursorContextualMenuLayer.BUTTON_NONE
			} )
		end
		if not f29_arg0._activeLoadoutMode then
			f30_arg0:AddContextualMenuAction( {
				id = "removeLoadout",
				actionName = Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/REMOVE_FROM_VAULT" ),
				actionFunction = function ()
					f30_arg0( f30_arg0, f30_arg0, f30_arg0, f30_arg0 )
				end,
				button = LUI.MouseCursorContextualMenuLayer.BUTTON_NONE
			} )
		end
		f29_arg0._loadoutButtons[f30_local0 + 1] = f30_arg0
	end
	
end

local f0_local18 = function ( f28_arg0, f28_arg1 )
	f28_arg0.LoadoutGrid:SetNumChildren( f28_arg0._validLoadoutCount )
	f28_arg0.LoadoutGrid:SetRefreshChild( f0_local0( f28_arg0, f28_arg1 ) )
	f28_arg0.LoadoutGrid:RefreshContent()
	if not LUI.IsLastInputKeyboardMouse( f28_arg1 ) then
		if f28_arg0:GetCurrentMenu() then
			f28_arg0.LoadoutGrid:processEvent( {
				name = "gain_focus",
				controller = f28_arg1
			} )
		end
	else
		f28_arg0.LoadoutGrid:MouseSetActiveToDefaultFocusMenuCreate( f28_arg1 )
	end
	Engine[0xC4146BA76D0F982]( SOUND_SETS.default.gainFocus )
	f0_local0( f28_arg0 )
	f28_arg0.LoadoutGrid:SetMouseWheelEnabled( f0_local0 < f28_arg0._validLoadoutCount )
end

local f0_local19 = function ( f25_arg0, f25_arg1, f25_arg2 )
	local LoadoutGrid, f25_local1 = nil
	LoadoutGrid = LUI.UIPeekingGrid.new( {
		scrollingThresholdX = 0,
		maxVelocity = 5000,
		adjustSizeToContent = true,
		scrollingThresholdY = 1,
		wrapX = true,
		wrapY = true,
		springCoefficient = 400,
		maxVisibleColumns = f0_local0,
		maxVisibleRows = f0_local0,
		controllerIndex = f25_arg1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "LoadoutVaultButton", f25_arg0 )
		end,
		refreshChild = function ( f26_arg0, f26_arg1, f26_arg2 )
			
		end,
		spacingX = _1080p * 2,
		spacingY = _1080p * 6,
		columnWidth = _1080p * 348,
		rowHeight = _1080p * 160,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	LoadoutGrid.id = "LoadoutGrid"
	LoadoutGrid:setUseStencil( true )
	LoadoutGrid:SetActiveOnMouseOverBehavior( f25_arg1 )
	LoadoutGrid:AddItemNumbers( f25_arg0.ListCount )
	LoadoutGrid:AddArrow( f25_arg0.ArrowUp )
	LoadoutGrid:setPriority( -10 )
	f25_arg0.ArrowUp:SetupArrow( LUI.BEARING.up )
	LoadoutGrid:AddArrow( f25_arg0.ArrowDown )
	f25_arg0.ArrowDown:SetupArrow( LUI.BEARING.down )
	local f25_local2 = LoadoutGrid
	local f25_local3 = LoadoutGrid.SetAnchorsAndPosition
	local f25_local4 = 0
	local f25_local5 = 1
	local f25_local6 = 1
	local f25_local7 = 0
	local f25_local8 = _1080p * 90
	local f25_local9 = _1080p * 1830
	local f25_local10 = _1080p
	local f25_local11
	if Engine[0xFB1B6E36ABE59B8]() then
		f25_local11 = -330
	else
		f25_local11 = -280
	end
	f25_local10 = f25_local10 * f25_local11
	f25_local11 = _1080p
	local f25_local12
	if Engine[0xFB1B6E36ABE59B8]() then
		f25_local12 = -130
	else
		f25_local12 = -80
	end
	f25_local3( f25_local2, f25_local4, f25_local5, f25_local6, f25_local7, f25_local8, f25_local9, f25_local10, f25_local11 * f25_local12 )
	f25_local3 = f25_arg0.GridMask
	f25_local2 = f25_local3
	f25_local3 = f25_local3.SetAnchorsAndPosition
	f25_local4 = 0
	f25_local5 = 1
	f25_local6 = 1
	f25_local7 = 0
	f25_local8 = _1080p * 71
	f25_local9 = _1080p * 1854
	f25_local10 = _1080p
	if Engine[0xFB1B6E36ABE59B8]() then
		f25_local11 = -330
	else
		f25_local11 = -280
	end
	f25_local10 = f25_local10 * f25_local11
	f25_local11 = _1080p
	if Engine[0xFB1B6E36ABE59B8]() then
		f25_local12 = -64
	else
		f25_local12 = -14
	end
	f25_local3( f25_local2, f25_local4, f25_local5, f25_local6, f25_local7, f25_local8, f25_local9, f25_local10, f25_local11 * f25_local12 )
	f25_arg0:addElement( LoadoutGrid )
	f25_arg0.LoadoutGrid = LoadoutGrid
	
	f25_arg0.LoadoutGrid:SetMask( f25_arg0.GridMask )
	f25_arg0.GridMask:SetVisible( Engine[0x12586A3F4FB490E]() )
	f25_local3 = LUI.UIScrollbar.new
	f25_local2 = {
		direction = LUI.DIRECTION.vertical,
		eventListener = f25_arg0.Scrollbar,
		startCap = f25_arg0.Scrollbar.startCap,
		endCap = f25_arg0.Scrollbar.endCap,
		sliderArea = f25_arg0.Scrollbar.sliderArea
	}
	f25_local4 = f25_arg0.Scrollbar.sliderArea
	if f25_local4 then
		f25_local4 = f25_arg0.Scrollbar.sliderArea.slider
	end
	f25_local2.slider = f25_local4
	f25_local4 = f25_arg0.Scrollbar.sliderArea
	if f25_local4 then
		f25_local4 = f25_arg0.Scrollbar.sliderArea.fixedSizeSlider
	end
	f25_local2.fixedSizeSlider = f25_local4
	LoadoutGrid:AddScrollbar( f25_local3( f25_local2 ) )
	f25_arg0.LoadoutGrid:SetUseDelayedFocus( true )
	f25_arg0.LoadoutGrid:SetSnapOnScrollBarMouseDrag( true )
	f0_local0( f25_arg0, f25_arg1 )
end

local f0_local20 = function ( f22_arg0, f22_arg1, f22_arg2 )
	local f22_local0 = {}
	for f22_local1 = 0, 1, 1 do
		local f22_local4 = f22_arg2.weaponSetups[f22_local1]
		local f22_local5 = WEAPON.GetWeaponModelNameFromPlayerData( f22_local4.weapon:get(), f22_local4, {
			includeCamos = false,
			includeAttachments = true,
			includeStickers = false,
			controllerIndex = f22_arg1
		} )
		if f22_local5 and 0 < #f22_local5 then
			table.insert( f22_local0, f22_local5 )
		end
	end
	if 0 < #f22_local0 then
		FrontEndScene.RequestWeaponViewModels( f22_local0, f22_arg1 )
	end
	local f22_local1 = nil
	local f22_local2 = function ()
		for f23_local0 = 0, 1, 1 do
			local f23_local3 = f22_arg0.weaponSetups[f23_local0]
			local f23_local4 = WEAPON.GetWeaponModelNameFromPlayerData( f23_local3.weapon:get(), f23_local3, {
				includeCamos = false,
				includeAttachments = true,
				includeStickers = false,
				controllerIndex = f22_arg0
			} )
			if f23_local4 and 0 < #f23_local4 then
				WEAPON.SetModelIfLoaded( f22_arg0, f22_arg0._weaponModels[f23_local0], f23_local4, {
					modelWeaponTable = WEAPON.GenerateWeaponTable( f23_local3 )
				} )
			end
		end
		local f23_local0 = nil
		local f23_local1 = function ()
			if ClientModel[0xA988866C889EAAD]() then
				CLIENT_MODEL.SetAllModelsModifiable( f23_local0 )
				CLIENT_MODEL.InitPatchClientModels( f23_local0, f23_local0 )
				CLIENT_MODEL.SetModel( CLIENT_MODEL.coreMPModels.LETHAL, EQUIPMENT.GetModel( f23_local0.equipmentSetups[0].equipment:get() ) )
				CLIENT_MODEL.SetModel( CLIENT_MODEL.coreMPModels.TACTICAL, EQUIPMENT.GetModel( f23_local0.equipmentSetups[1].equipment:get() ) )
				CLIENT_MODEL.UpdateEquipmentPosition( f23_local0, f23_local0 )
				CLIENT_MODEL.UpdatePatchClientModels( f23_local0, f23_local0 )
				CLIENT_MODEL.HidePatchSpecialistClientModels()
			else
				local f24_local0 = f23_local0:Wait( 100 )
				f24_local0.onComplete = f23_local0
			end
		end
		
		f23_local1()
	end
	
	f22_local2()
end

local f0_local21 = function ( f19_arg0, f19_arg1 )
	local f19_local0 = f19_arg1.loadout
	f0_local0( f19_arg0, f19_arg1.controllerIndex, f19_local0 )
	f19_arg0.LoadoutInfo:SetupLoadout( f19_arg1.controllerIndex, f19_local0, LUI.DIRECTION.horizontal )
	f19_arg0.LoadoutVaultSchemeProgress:Setup( f19_arg1.controllerIndex, f19_local0, f19_arg1.missingItems, f19_arg0.HelperBar )
	f0_local0( f19_arg0, f19_arg0._validLoadoutCount )
	f19_arg0.LoadoutName:setText( f19_local0.name:get() )
	local f19_local1 = f19_arg0._username
	if f19_local1 then
		f19_local1 = f19_arg0._username == f19_local0.authorName:get()
	end
	f19_arg0.Author:setText( MarkLocalized( CODACCOUNT.FilterDisplayName( f19_local0.authorName:get() ) or "" ) )
	local f19_local2 = f19_arg0.Author
	local f19_local3 = f19_local2
	f19_local2 = f19_local2.SetRGBFromTable
	local f19_local4
	if f19_local1 then
		f19_local4 = SWATCHES.highlight.vPersonalHighlight
		if not f19_local4 then
		
		else
			f19_local2( f19_local3, f19_local4 )
			f19_local2, f19_local5, f19_local3, f19_local4 = f19_arg0.AuthorLabel:getLocalRect()
			local f19_local6 = f19_local2 + LAYOUT.GetTextWidth( f19_arg0.AuthorLabel ) + f0_local0
			local f19_local7 = LAYOUT.GetElementHeight( f19_arg0.Author )
			local f19_local8 = LAYOUT.GetElementWidth( f19_arg0.Author )
			local f19_local9 = f19_local5 + f19_local7 / 2
			if not IsLanguageArabic() then
				f19_arg0.Author:SetLeft( f19_local6 )
				f19_arg0.Author:SetRight( f19_local6 + f19_local8 )
			end
			if f19_local1 then
				f19_local2, f19_local5, f19_local3, f19_local4 = f19_arg0.Author:getLocalRect()
				f19_local6 = f19_local2 + LAYOUT.GetTextWidth( f19_arg0.Author ) + f0_local0
				f19_local7 = LAYOUT.GetElementHeight( f19_arg0.YouIndicatorLeft )
				f19_local8 = LAYOUT.GetElementWidth( f19_arg0.YouIndicatorLeft )
				f19_local9 = f19_local5 + f19_local7 / 2
				f19_arg0.YouIndicatorLeft:SetAnchorsAndPosition( 0, 1, 0, 1, f19_local6, f19_local6 + f19_local8, f19_local9 - f19_local7 / 2, f19_local9 + f19_local7 / 2 )
				f19_arg0.YouIndicatorLeft:SetVisible( true )
			else
				f19_arg0.YouIndicatorLeft:SetVisible( false )
			end
			if IsLanguageArabic() then
				f19_local2 = 0
				f19_local5 = f19_arg0.Author:GetCurrentAnchorsAndPositions()
				f19_local5 = f19_local5.left
				f19_local3 = LAYOUT.GetTextWidth( f19_arg0.Author ) + f0_local0
				f19_local4 = LAYOUT.GetElementWidth( f19_arg0.YouIndicatorLeft ) + f0_local0
				if f19_local1 then
					f19_local2 = f19_local5 + f19_local3 + f19_local4
				else
					f19_local2 = f19_local5 + f19_local3
				end
				local f19_local10 = f19_local2 + LAYOUT.GetTextWidth( f19_arg0.AuthorLabel )
				f19_arg0.AuthorLabel:SetLeft( f19_local2 )
				f19_arg0.AuthorLabel:SetRight( f19_local10 )
			end
			f19_local2 = function ( f21_arg0, f21_arg1 )
				if f19_arg0 then
					f21_arg0.Author:SetRGBFromTable( COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType( f19_arg0.controllerIndex, COLORBLIND_UTILS.CUSTOM_COLORS.YOU, SWATCHES.HUD.playerIndicator ), 0 )
				else
					f21_arg0.Author:SetRGBFromTable( COLORBLIND_UTILS.GetCustomColorFromColorNameAndColorBlindType( f19_arg0.controllerIndex, COLORBLIND_UTILS.CUSTOM_COLORS.ENEMY, SWATCHES.HUD.playerIndicator ), 0 )
				end
			end
			
			f19_arg0:addAndCallEventHandler( "update_color_blind_colors", function ()
				f19_arg0( f19_arg0, controllerIndex )
			end )
			f19_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
				side = "left",
				button_ref = "button_primary"
			} )
			f19_arg0.SchemeStatus:SetStatus( f19_arg1.loadoutComplete )
			if f19_arg1.loadoutComplete then
				if not f19_arg1.loadoutEquipped then
					f19_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
						side = "left",
						priority = 1,
						gamepad_only = true,
						button_ref = "button_primary",
						helper_text = Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/REPLACE_LOADOUT_HEADER" )
					} )
				end
				f19_arg0.SchemeStatus:SetVisible( true )
			else
				f19_arg0.SchemeStatus:SetVisible( false )
			end
			f19_arg0.EquippedWidget:SetVisible( f19_arg1.loadoutEquipped )
			if f0_local0( f19_arg1.controllerIndex, f19_local0 ) then
				f19_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
					side = "left",
					priority = 2,
					gamepad_only = true,
					button_ref = "button_right_stick",
					helper_text = Engine[0xED84C33EC5F01EA]( "XBOXLIVE/VIEW_PROFILE" )
				} )
			else
				f19_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
					side = "left",
					button_ref = "button_right_stick"
				} )
			end
		end
	end
	f19_local4 = SWATCHES.text.buttonTextDefault
end

local f0_local22 = function ( f18_arg0, f18_arg1 )
	if f18_arg1.loadoutComplete then
		local f18_local0 = {
			vaultLoadout = f18_arg1.loadout
		}
		if f18_arg0._activeLoadoutMode then
			f18_local0.directReplacement = true
			f18_local0.loadoutToReplace = LOADOUT.GetLoadoutPlayerData( f18_arg1.controllerIndex, f18_arg0._activeLoadoutIndex )
		end
		LUI.FlowManager.RequestPopupMenu( nil, "ReplaceActiveLoadout", true, f18_arg1.controllerIndex, false, f18_local0 )
	end
end

local f0_local23 = function ( f17_arg0, f17_arg1 )
	if f17_arg1 and f17_arg0._loadoutIndexMap then
		local f17_local0 = LUI.IsItemInArray( f17_arg0._loadoutIndexMap, f17_arg1 )
		if f17_local0 then
			f17_arg0.LoadoutGrid:SetFocusedPosition( f17_arg0.LoadoutGrid:GetPositionForIndex( f17_local0 - 1 ), true )
		else
			f17_arg0.LoadoutGrid:SetFocusedPosition( {
				x = 0,
				y = 0
			}, true )
		end
	else
		f17_arg0.LoadoutGrid:SetFocusedPosition( {
			x = 0,
			y = 0
		}, true )
	end
end

local f0_local24 = function ( f16_arg0, f16_arg1 )
	if f16_arg0._isRestoringFromSortingMenu then
		f16_arg0._isRestoringFromSortingMenu = false
		if 0 < f16_arg0.LoadoutGrid:GetNumChildren() then
			f0_local0( f16_arg0, f16_arg0._lastFocusedLoadoutIndex )
			f16_arg0._lastFocusedLoadoutIndex = nil
			return true
		else
			
		end
	end
	f0_local0( f16_arg0, f16_arg1.controller )
	if f16_arg0._validLoadoutCount == 0 then
		LUI.FlowManager.RequestLeaveMenu( f16_arg0 )
	else
		f0_local0( f16_arg0, f16_arg0._lastFocusedLoadoutIndex )
		f16_arg0._lastFocusedLoadoutIndex = nil
	end
	return true
end

local f0_local25 = function ( f14_arg0, f14_arg1, f14_arg2, f14_arg3 )
	if LUI.IsLastInputGamepad( f14_arg1 ) then
		local f14_local0 = f0_local0( f14_arg0 )
		local f14_local1
		if f14_local0 then
			f14_local1 = f14_local0
		else
			f14_local1 = f14_arg0._loadoutIndexMap[f14_local0 + 1]
		end
		f14_arg0._lastFocusedLoadoutIndex = f14_local1
	end
	local f14_local0 = MenuBuilder.BuildRegisteredType( "LoadoutVaultSortingPopup", {
		controllerIndex = f14_arg1,
		menu = f14_arg0
	} )
	LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", true, f14_arg1, false, {
		flyInLeftNarrow = true,
		widget = f14_local0
	} )
	f14_local0:addEventHandler( "menu_close", function ( f15_arg0, f15_arg1 )
		f14_arg0._isRestoringFromSortingMenu = true
		f14_arg0( f14_arg0, f14_arg0 )
	end )
end

local f0_local26 = function ( f6_arg0, f6_arg1, f6_arg2 )
	if f6_arg2.activeLoadoutMode then
		assert( f6_arg2.activeLoadoutIndex, "Expected activeLoadoutIndex" )
	end
	f6_arg0._loadoutButtons = {}
	f6_arg0._loadouts = nil
	f6_arg0._validLoadoutCount = 0
	f6_arg0._loadoutIndexMap = {}
	f6_arg0._activeLoadoutMode = f6_arg2.activeLoadoutMode
	f6_arg0._activeLoadoutIndex = f6_arg2.activeLoadoutIndex
	f6_arg0._loadoutsPlayerData = nil
	f6_arg0._lastFocusedLoadoutIndex = nil
	local f6_local0 = AccountRegistration[0x556651EAC41256A]( f6_arg1 )
	if f6_local0.success then
		f6_arg0._username = f6_local0.username
	end
	local f6_local1 = PlayerData[0x8B73907B55C4D71]( f6_arg1, CoD.StatsGroup.NonGame )
	f6_local1 = f6_local1.sortPreferences.loadoutVaultSortPreference
	if f6_local1 then
		f6_arg0.schemeSortingType = f6_local1.schemeSortPreference:get()
		f6_arg0.itemsSortingType = f6_local1.itemsSortPreference:get()
	else
		f6_arg0.schemeSortingType = LOADOUTVAULT.SchemeSortingOptions.Incomplete
		f6_arg0.itemsSortingType = LOADOUTVAULT.ItemsSortingOptions.None
	end
	f6_arg0.UpdateButtonPrompts = f0_local0
	local f6_local2 = MenuBuilder.BuildRegisteredType( "FrontendCameraMover", {
		enableSway = true,
		controllerIndex = f6_arg1
	} )
	f6_local2:SetLimits( -0.3, 0.3, -0.3, 0.3 )
	f6_local2:SetSwayValues( 3500, 0.06, 0.1 )
	f6_arg0:addElement( f6_local2 )
	Engine[0x685AE31DEDA30A4]( "loadout_showcase_overview" )
	Engine[0x6055C55456F05DF]( "loadout_showcase_entered", 1 )
	Streaming[0xE493C1B436663F6]( true )
	FrontEndScene.SetExclusiveWeaponModels( {
		FrontEndScene.ClientWeapons.GunTablePrimary,
		FrontEndScene.ClientWeapons.GunTableSecondary
	} )
	f6_arg0._weaponModels = {}
	for f6_local3 = 0, 1, 1 do
		f6_arg0._weaponModels[f6_local3] = WEAPON.GetWeaponModel( f6_arg1, f6_local3 )
		f6_arg0:addElement( f6_arg0._weaponModels[f6_local3] )
	end
	f0_local0( f6_arg0, f6_arg1 )
	f0_local0( f6_arg0, f6_arg1, f6_arg2 )
	if f6_arg0._activeLoadoutMode then
		ACTIONS.AnimateSequence( f6_arg0, "ActiveLoadoutMode" )
	end
	f6_arg0:registerEventHandler( "update_for_loadout", f0_local0 )
	f6_arg0:registerEventHandler( "replace_loadout", f0_local0 )
	f6_arg0:registerEventHandler( "refresh_loadouts", function ( element, event )
		f6_arg0( f6_arg0, f6_arg0 )
	end )
	f6_arg0.bindButton:addEventHandler( "button_secondary", function ( f12_arg0, f12_arg1 )
		ACTIONS.LeaveMenu( f6_arg0, true )
	end )
	f6_arg0.bindButton:addEventHandler( "button_alt2", function ( f11_arg0, f11_arg1 )
		local f11_local0 = f6_arg0( f6_arg0 )
		if f11_local0 then
			local f11_local1 = f6_arg0( f6_arg0 )
			local f11_local2 = f6_arg0
			local f11_local3
			if f11_local1 then
				f11_local3 = f11_local1
			else
				f11_local3 = f6_arg0._loadoutIndexMap[f11_local1 + 1]
			end
			f11_local2._lastFocusedLoadoutIndex = f11_local3
			LUI.FlowManager.RequestPopupMenu( nil, "LoadoutVaultDetails", true, f6_arg0, false, {
				vaultLoadout = f11_local0:GetLoadout()
			}, nil, false, false )
		end
	end )
	f6_arg0.bindButton:addEventHandler( "button_right_stick", function ( f10_arg0, f10_arg1 )
		local f10_local0 = f6_arg0( f6_arg0 )
		if f10_local0 and f6_arg0( f6_arg0, f10_local0:GetLoadout() ) then
			Lobby[0x793FB272C3B5EC2]( f6_arg0, LOADOUTVAULT.GetLoadoutXUID( f10_local0:GetLoadout() ) )
		end
	end )
	f6_arg0:addEventHandler( "restore_focus", f0_local0 )
	if not f6_arg0._activeLoadoutMode then
		f6_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "left",
			priority = 2,
			gamepad_only = true,
			button_ref = "button_l3",
			helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/LOADOUT_OPTIONS" )
		} )
		f6_arg0.bindButton:addEventHandler( "button_left_stick", function ( f8_arg0, f8_arg1 )
			local f8_local0 = f6_arg0._validLoadoutCount == 1
			local f8_local1 = f6_arg0( f6_arg0 )
			local f8_local2
			if f8_local1 then
				f8_local2 = f8_local1
			else
				f8_local2 = f6_arg0._loadoutIndexMap[f8_local1 + 1]
			end
			if f8_local2 then
				f6_arg0._lastFocusedLoadoutIndex = f8_local2
				LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", true, f8_arg1.controller or f6_arg0, false, {
					widgetConstructor = function ()
						return MenuBuilder.BuildRegisteredType( "LoadoutVaultOptionsPopup", {
							controllerIndex = f8_arg0.controller or f8_arg0,
							loadoutSchemeIndex = f8_arg0 - 1,
							finalLoadout = f8_arg0
						} )
					end
				} )
			end
		end )
		f6_arg0.ButtonHelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "right",
			button_ref = "button_alt1",
			priority = 2,
			helper_text = Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/SORT_FILTER", f0_local0( f6_arg0.schemeSortingType, f6_arg0.itemsSortingType ) )
		} )
		f6_arg0.bindButton:addEventHandler( "button_alt1", function ( f7_arg0, f7_arg1 )
			return f6_arg0( f6_arg0, f7_arg1.controller or f6_arg0, f7_arg0, f7_arg1 )
		end )
	end
	if Engine[0xFB1B6E36ABE59B8]() then
		ACTIONS.AnimateSequence( f6_arg0, "SafeAreaAdjustment" )
	end
	SEQUENCEPRESETS.RegisterAnimation( f6_arg0, LUI.Transition.TransFrom, "OutDepthForward", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f6_arg0, LUI.Transition.TransTo, "InDepthForward", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f6_arg0, LUI.Transition.TransBackFrom, "OutDepthBack", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f6_arg0, LUI.Transition.TransBackTo, "InDepthBack", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f6_arg0, LUI.Transition.TransNextFrom, "OutLeft", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f6_arg0, LUI.Transition.TransNextTo, "InLeft", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f6_arg0, LUI.Transition.TransPrevFrom, "OutRight", 0 )
	SEQUENCEPRESETS.RegisterAnimation( f6_arg0, LUI.Transition.TransPrevTo, "InRight", 0 )
	if IsLanguageArabic() then
		local f6_local3 = LAYOUT.GetElementWidth( f6_arg0.SchemeLabel.Icon )
		local f6_local4 = 102
		local f6_local5 = 4
		f6_arg0.SchemeLabel.Icon:SetLeft( f6_local4 - f6_local3 )
		f6_arg0.SchemeLabel.Icon:SetRight( f6_local4 )
		f6_arg0.SchemeLabel.Text:SetRight( -f6_local4 - f6_local5 )
	end
end

function LoadoutVault( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "LoadoutVault"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	self.HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	self.HelperBar.id = "HelperBar"
	self.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	self.HelperBar:setPriority( 10 )
	self:addElement( self.HelperBar )
	local f1_local2 = self
	local GridMask = nil
	
	GridMask = LUI.UIImage.new()
	GridMask.id = "GridMask"
	GridMask:setImage( RegisterMaterial( "store_bundle_grid_mask" ), 0 )
	GridMask:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 71, _1080p * 1854, _1080p * 800, _1080p * 1026 )
	self:addElement( GridMask )
	self.GridMask = GridMask
	
	local Vignette = nil
	
	Vignette = LUI.UIImage.new()
	Vignette.id = "Vignette"
	ACTIONS.ScaleFullscreen( Vignette )
	Vignette:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Vignette:SetAlpha( 0.6, 0 )
	Vignette:setPriority( -12 )
	Vignette:setImage( RegisterMaterial( "bkgd_vignette" ), 0 )
	self:addElement( Vignette )
	self.Vignette = Vignette
	
	local f1_local5 = nil
	if CONDITIONS.InGame() then
		f1_local5 = MenuBuilder.BuildRegisteredType( "InGameMenuBackground", {
			controllerIndex = f1_local1
		} )
		f1_local5.id = "InGameMenuBackground"
		ACTIONS.ScaleFullscreen( f1_local5 )
		f1_local5:setPriority( -11 )
		f1_local5:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		self:addElement( f1_local5 )
		self.InGameMenuBackground = f1_local5
	end
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:SetAlpha( 0.15, 0 )
	MenuTitle.MenuTitle:setText( Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/LOADOUT_VAULT_CAPS" ), 0 )
	MenuTitle.Line:SetLeft( 0, 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1020, 0, _1080p * 100 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local f1_local7 = nil
	if CONDITIONS.InFrontendPublicMP() then
		f1_local7 = MenuBuilder.BuildRegisteredType( "MPPlayerDetails", {
			controllerIndex = f1_local1
		} )
		f1_local7.id = "MPPlayerDetails"
		f1_local7:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -596, _1080p * -96, _1080p * 54, _1080p * 114 )
		self:addElement( f1_local7 )
		self.MPPlayerDetails = f1_local7
	end
	local LoadoutName = nil
	
	LoadoutName = LUI.UIStyledText.new()
	LoadoutName.id = "LoadoutName"
	LoadoutName:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	LoadoutName:setText( "", 0 )
	LoadoutName:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_XLHeaderBold.font.File ) )
	LoadoutName:SetFontSize( FONT_STYLES.fontStyle_XLHeaderBold.size )
	LoadoutName:SetMinFontSize( FONT_STYLES.fontStyle_XLHeaderBold.minSize )
	LoadoutName:SetWordWrap( false )
	LoadoutName:SetAlignment( LUI.Alignment.Left )
	LoadoutName:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 860, _1080p * 154, _1080p * 228 )
	self:addElement( LoadoutName )
	self.LoadoutName = LoadoutName
	
	local LobbyMembersFooter = nil
	
	LobbyMembersFooter = MenuBuilder.BuildRegisteredType( "LobbyMembersFooter", {
		controllerIndex = f1_local1
	} )
	LobbyMembersFooter.id = "LobbyMembersFooter"
	LobbyMembersFooter:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 150 )
	self:addElement( LobbyMembersFooter )
	self.LobbyMembersFooter = LobbyMembersFooter
	
	local Scrollbar = nil
	
	Scrollbar = MenuBuilder.BuildRegisteredType( "VerticalMinimalScrollbar", {
		controllerIndex = f1_local1
	} )
	Scrollbar.id = "Scrollbar"
	Scrollbar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1824, _1080p * 1843, _1080p * 800, _1080p * 1000 )
	self:addElement( Scrollbar )
	self.Scrollbar = Scrollbar
	
	local ArrowUp = nil
	
	ArrowUp = MenuBuilder.BuildRegisteredType( "NavigationArrow", {
		controllerIndex = f1_local1
	} )
	ArrowUp.id = "ArrowUp"
	ArrowUp:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -132, _1080p * -100, _1080p * 968, _1080p * 1000 )
	self:addElement( ArrowUp )
	self.ArrowUp = ArrowUp
	
	local ArrowDown = nil
	
	ArrowDown = MenuBuilder.BuildRegisteredType( "NavigationArrow", {
		controllerIndex = f1_local1
	} )
	ArrowDown.id = "ArrowDown"
	ArrowDown.Arrow:SetZRotation( 180, 0 )
	ArrowDown:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * 36, _1080p * 68, _1080p * 968, _1080p * 1000 )
	self:addElement( ArrowDown )
	self.ArrowDown = ArrowDown
	
	local ListCount = nil
	
	ListCount = LUI.UIStyledText.new()
	ListCount.id = "ListCount"
	ListCount:SetRGBFromTable( SWATCHES.text.primaryText, 0 )
	ListCount:setText( "", 0 )
	ListCount:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
	ListCount:SetFontSize( 20 * _PT )
	ListCount:SetMinFontSize( 16 * _PT )
	ListCount:SetWordWrap( true )
	ListCount:SetAlignment( LUI.Alignment.Center )
	ListCount:SetVerticalAlignment( LUI.Alignment.Center )
	ListCount:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -100, _1080p * 36, _1080p * 975, _1080p * 995 )
	self:addElement( ListCount )
	self.ListCount = ListCount
	
	local LoadoutInfo = nil
	
	LoadoutInfo = MenuBuilder.BuildRegisteredType( "LoadoutVaultLayout", {
		controllerIndex = f1_local1
	} )
	LoadoutInfo.id = "LoadoutInfo"
	LoadoutInfo:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 901, _1080p * 322, _1080p * 678 )
	self:addElement( LoadoutInfo )
	self.LoadoutInfo = LoadoutInfo
	
	local VaultCapacity = nil
	
	VaultCapacity = LUI.UIStyledText.new()
	VaultCapacity.id = "VaultCapacity"
	VaultCapacity:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	VaultCapacity:SetAlpha( 0.75, 0 )
	VaultCapacity:setText( Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/VAULT_CAPACITY" ), 0 )
	VaultCapacity:setCaseStyle( LUI.CaseStyle.Uppercase )
	VaultCapacity:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_SSubHeaderBold.font.File ) )
	VaultCapacity:SetFontSize( FONT_STYLES.fontStyle_SSubHeaderBold.size )
	VaultCapacity:SetMinFontSize( FONT_STYLES.fontStyle_SSubHeaderBold.minSize )
	VaultCapacity:SetWordWrap( false )
	VaultCapacity:SetTracking( -1 * _1080p, 0 )
	VaultCapacity:SetLeading( -2 * _1080p, 0 )
	VaultCapacity:SetAlignment( LUI.Alignment.Left )
	VaultCapacity:SetVerticalAlignment( LUI.Alignment.Center )
	VaultCapacity:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 596, _1080p * 765, _1080p * 805 )
	self:addElement( VaultCapacity )
	self.VaultCapacity = VaultCapacity
	
	local VaultCapacityWarning = nil
	
	VaultCapacityWarning = LUI.UIStyledText.new()
	VaultCapacityWarning.id = "VaultCapacityWarning"
	VaultCapacityWarning:SetVisibility( LUI.Visibility.Hidden )
	VaultCapacityWarning:SetRGBFromTable( SWATCHES.genericMenu.warning, 0 )
	VaultCapacityWarning:setText( Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/VAULT_NEARLY_OUT_OF_SPACE" ), 0 )
	VaultCapacityWarning:setCaseStyle( LUI.CaseStyle.Uppercase )
	VaultCapacityWarning:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_SSubHeaderBold.font.File ) )
	VaultCapacityWarning:SetFontSize( FONT_STYLES.fontStyle_SSubHeaderBold.size )
	VaultCapacityWarning:SetMinFontSize( FONT_STYLES.fontStyle_SSubHeaderBold.minSize )
	VaultCapacityWarning:SetWordWrap( false )
	VaultCapacityWarning:SetTracking( -1 * _1080p, 0 )
	VaultCapacityWarning:SetLeading( -2 * _1080p, 0 )
	VaultCapacityWarning:SetAlignment( LUI.Alignment.Left )
	VaultCapacityWarning:SetVerticalAlignment( LUI.Alignment.Center )
	VaultCapacityWarning:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 312, _1080p * 812, _1080p * 765, _1080p * 805 )
	self:addElement( VaultCapacityWarning )
	self.VaultCapacityWarning = VaultCapacityWarning
	
	local SchemeLabel = nil
	
	SchemeLabel = MenuBuilder.BuildRegisteredType( "LabeledIcon", {
		controllerIndex = f1_local1
	} )
	SchemeLabel.id = "SchemeLabel"
	SchemeLabel.Text:setText( Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/SCHEME" ), 0 )
	SchemeLabel.Icon:setImage( RegisterMaterial( "v_ui_icon_loadout_scheme_00" ), 0 )
	SchemeLabel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 93, _1080p * 372, _1080p * 230, _1080p * 262 )
	self:addElement( SchemeLabel )
	self.SchemeLabel = SchemeLabel
	
	local EquippedWidget = nil
	
	EquippedWidget = MenuBuilder.BuildRegisteredType( "EquippedWidget", {
		controllerIndex = f1_local1
	} )
	EquippedWidget.id = "EquippedWidget"
	EquippedWidget:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 93, _1080p * 253, _1080p * 262, _1080p * 294 )
	self:addElement( EquippedWidget )
	self.EquippedWidget = EquippedWidget
	
	local YouIndicatorLeft = nil
	
	YouIndicatorLeft = MenuBuilder.BuildRegisteredType( "YouIndicatorLeft", {
		controllerIndex = f1_local1
	} )
	YouIndicatorLeft.id = "YouIndicatorLeft"
	YouIndicatorLeft:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 466, _1080p * 522, _1080p * 232, _1080p * 262 )
	self:addElement( YouIndicatorLeft )
	self.YouIndicatorLeft = YouIndicatorLeft
	
	local AuthorLabel = nil
	
	AuthorLabel = LUI.UIStyledText.new()
	AuthorLabel.id = "AuthorLabel"
	AuthorLabel:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	AuthorLabel:setText( Engine[0xED84C33EC5F01EA]( "LOADOUT_VAULT/AUTHOR" ), 0 )
	AuthorLabel:setCaseStyle( LUI.CaseStyle.Uppercase )
	AuthorLabel:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_MBodyText.font.File ) )
	AuthorLabel:SetFontSize( FONT_STYLES.fontStyle_MBodyText.size )
	AuthorLabel:SetMinFontSize( FONT_STYLES.fontStyle_MBodyText.minSize )
	AuthorLabel:SetWordWrap( false )
	AuthorLabel:SetTracking( FONT_STYLES.fontStyle_MBodyText.tracking * _1080p, 0 )
	AuthorLabel:SetLeading( FONT_STYLES.fontStyle_MBodyText.leading * _1080p, 0 )
	AuthorLabel:SetAlignment( LUI.Alignment.Left )
	AuthorLabel:SetVerticalAlignment( LUI.Alignment.Center )
	AuthorLabel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 287, _1080p * 537, _1080p * 230, _1080p * 262 )
	self:addElement( AuthorLabel )
	self.AuthorLabel = AuthorLabel
	
	local Author = nil
	
	Author = LUI.UIStyledText.new()
	Author.id = "Author"
	Author:SetRGBFromTable( SWATCHES.text.buttonTextDefault, 0 )
	Author:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/UNKNOWN" ), 0 )
	Author:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_UserGenerated.font.File ) )
	Author:SetFontSize( FONT_STYLES.fontStyle_UserGenerated.size )
	Author:SetMinFontSize( FONT_STYLES.fontStyle_UserGenerated.minSize )
	Author:SetWordWrap( false )
	Author:SetAlignment( LUI.Alignment.Left )
	Author:SetVerticalAlignment( LUI.Alignment.Center )
	Author:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 380, _1080p * 630, _1080p * 231, _1080p * 257 )
	self:addElement( Author )
	self.Author = Author
	
	local ButtonHelperBar = nil
	
	ButtonHelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	ButtonHelperBar.id = "ButtonHelperBar"
	ButtonHelperBar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1134, _1080p * 1930, _1080p * 775, _1080p * 815 )
	self:addElement( ButtonHelperBar )
	self.ButtonHelperBar = ButtonHelperBar
	
	local LoadoutVaultSchemeProgress = nil
	
	LoadoutVaultSchemeProgress = MenuBuilder.BuildRegisteredType( "LoadoutVaultSchemeProgress", {
		controllerIndex = f1_local1
	} )
	LoadoutVaultSchemeProgress.id = "LoadoutVaultSchemeProgress"
	LoadoutVaultSchemeProgress.ChallengeHintList:SetLeft( _1080p * -354, 0 )
	LoadoutVaultSchemeProgress:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -450, _1080p * -96, _1080p * 170, _1080p * 1234 )
	self:addElement( LoadoutVaultSchemeProgress )
	self.LoadoutVaultSchemeProgress = LoadoutVaultSchemeProgress
	
	local SchemeStatus = nil
	
	SchemeStatus = MenuBuilder.BuildRegisteredType( "LoadoutSchemeStatus", {
		controllerIndex = f1_local1
	} )
	SchemeStatus.id = "SchemeStatus"
	SchemeStatus:SetUseForceOpacityMode( true )
	SchemeStatus:SetHorizontalPivot( LUI.HorizontalPivot.Right )
	SchemeStatus:SetScale( 0.8, 0 )
	SchemeStatus:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -264, _1080p * -96, _1080p * 200, _1080p * 224 )
	self:addElement( SchemeStatus )
	self.SchemeStatus = SchemeStatus
	
	local VaultWarning = nil
	
	VaultWarning = LUI.UIImage.new()
	VaultWarning.id = "VaultWarning"
	VaultWarning:SetVisibility( LUI.Visibility.Hidden )
	VaultWarning:SetScale( -0.25, 0 )
	VaultWarning:setImage( RegisterMaterial( "ui_streak_warning" ), 0 )
	VaultWarning:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -678, _1080p * -646, _1080p * 768, _1080p * 800 )
	self:addElement( VaultWarning )
	self.VaultWarning = VaultWarning
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local26 = nil
	VaultCapacity:RegisterAnimationSequence( "ActiveLoadoutMode", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Hidden
		}
	} )
	VaultCapacityWarning:RegisterAnimationSequence( "ActiveLoadoutMode", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Hidden
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	LoadoutVaultSchemeProgress:RegisterAnimationSequence( "ActiveLoadoutMode", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Hidden
		}
	} )
	VaultWarning:RegisterAnimationSequence( "ActiveLoadoutMode", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Visibility,
			value = LUI.Visibility.Hidden
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.ActiveLoadoutMode = function ()
		menu:AnimateSequence( "ActiveLoadoutMode" )
		menu:AnimateSequence( "ActiveLoadoutMode" )
		menu:AnimateSequence( "ActiveLoadoutMode" )
		menu:AnimateSequence( "ActiveLoadoutMode" )
	end
	
	self._sequenceLengths.ActiveLoadoutMode = 0
	local f1_local27 = nil
	Scrollbar:RegisterAnimationSequence( "SafeAreaAdjustment", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 751
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 951
		}
	} )
	VaultCapacity:RegisterAnimationSequence( "SafeAreaAdjustment", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 715
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 755
		}
	} )
	VaultCapacityWarning:RegisterAnimationSequence( "SafeAreaAdjustment", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 716
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 756
		}
	} )
	ButtonHelperBar:RegisterAnimationSequence( "SafeAreaAdjustment", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 725
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 765
		}
	} )
	VaultWarning:RegisterAnimationSequence( "SafeAreaAdjustment", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 718
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 750
		}
	} )
	self._sequences.SafeAreaAdjustment = function ()
		menu:AnimateSequence( "SafeAreaAdjustment" )
		menu:AnimateSequence( "SafeAreaAdjustment" )
		menu:AnimateSequence( "SafeAreaAdjustment" )
		menu:AnimateSequence( "SafeAreaAdjustment" )
		menu:AnimateSequence( "SafeAreaAdjustment" )
	end
	
	self._sequenceLengths.SafeAreaAdjustment = 0
	self._sequences.AR = function ()
		
	end
	
	self._sequenceLengths.AR = 0
	self.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_secondary",
		helper_text = Engine[0xED84C33EC5F01EA]( "LUA_MENU/BACK" )
	} )
	if not self.bindButton then
		local f1_local28 = LUI.UIBindButton.new()
		f1_local28.id = "selfBindButton"
		self:addElement( f1_local28 )
		self.bindButton = f1_local28
	end
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "LoadoutVault", LoadoutVault )
LockTable( _M )
