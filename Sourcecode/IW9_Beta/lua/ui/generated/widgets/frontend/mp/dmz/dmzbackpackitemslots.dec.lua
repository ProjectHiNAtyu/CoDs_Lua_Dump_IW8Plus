-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
module( ..., package.seeall )
local f0_local0 = function ( f3_arg0, f3_arg1 )
	f3_arg0._bufferWidth = 45
	f3_arg0._backerBuffer = 15
	f3_arg0._backpackSlotWidth = 150
	f3_arg0._weaponSlotWidth = 208
	local f3_local0
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x53721B7E1BECC79 ) then
		f3_local0 = 1
	else
		f3_local0 = 0
	end
	local f3_local1 = 8
	if Dvar[0x22EAAB59AA27E9B]( 0x449685517101675 ) == 1 then
		local f3_local2 = Dvar[0x22EAAB59AA27E9B]( 0x5FCBCE13EF8D5F )
		if not f3_local2 then
			f3_local1 = f3_local2
		else
			f3_local1 = 8
		end
	else
		local f3_local2 = PLAYER_DATA.IO( f3_arg1, CoD.StatsGroup.Ranked )
		f3_local1 = f3_local2.backpackSize:get()
	end
	f3_arg0._backgroundLeftPos = (f3_local0 * f3_arg0._weaponSlotWidth + f3_local1 * f3_arg0._backpackSlotWidth + f3_arg0._bufferWidth * (f3_local1 - 1 - f3_local0)) / -2
	f3_arg0._weaponIconPosLeft = f3_arg0._backgroundLeftPos - f3_arg0._bufferWidth + f3_arg0._weaponSlotWidth
	f3_arg0._backpackCount = 0
	local f3_local2
	if f3_local0 == 1 then
		f3_local2 = f3_arg0._weaponIconPosLeft
		if not f3_local2 then
		
		else
			local f3_local3 = f3_local2
			local f3_local4 = -500
			local f3_local5 = -360
			local f3_local6 = 0
			if 0 < f3_local0 then
				f3_arg0.weaponSlot = MenuBuilder.BuildRegisteredType( "DMZItemSlot", {
					controllerIndex = f3_arg1
				} )
				f3_arg0.weaponSlot.id = "WeaponSlot"
				f3_arg0.weaponSlot:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * (f3_arg0._backgroundLeftPos + f3_arg0._backpackSlotWidth), _1080p * (f3_arg0._backgroundLeftPos / 2 + f3_arg0._weaponSlotWidth), _1080p * f3_local4, _1080p * f3_local5 )
				f3_arg0.weaponSlot:SetDetails( f3_arg1, {
					name = Engine[0xED84C33EC5F01EA]( 0x6A3CB74F506D037 ),
					itemType = Engine[0xED84C33EC5F01EA]( 0x6A3CB74F506D037 ),
					image = BRLOOT.ARMOR_DATA.PLATES.ICON
				} )
				ACTIONS.AnimateSequence( f3_arg0.weaponSlot, "Ratio2x1" )
				f3_arg0:addElement( f3_arg0.weaponSlot )
				f3_arg0._backpackCount = f3_arg0._backpackCount + 1
				f3_local2 = f3_arg0._backgroundLeftPos
			end
			local f3_local7 = f3_arg0._bufferWidth + f3_arg0._backpackSlotWidth
			for f3_local8 = 0, f3_local1 - 1, 1 do
				local f3_local11 = MenuBuilder.BuildRegisteredType( "DMZItemSlot", {
					controllerIndex = f3_arg1
				} )
				f3_local11.id = "DMZItemSlot" .. f3_arg0._backpackCount
				local f3_local12 = f3_arg0._backgroundLeftPos + f3_local7 * f3_local8
				local f3_local13 = f3_arg0._backgroundLeftPos + f3_arg0._backpackSlotWidth + f3_local7 * f3_local8
				if 0 < f3_local0 then
					f3_local12 = f3_local12 + f3_arg0._weaponSlotWidth + f3_arg0._bufferWidth
					f3_local13 = f3_local13 + f3_arg0._weaponSlotWidth + f3_arg0._bufferWidth
				end
				f3_local11:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * (f3_local12 + f3_local6), _1080p * (f3_local13 + f3_local6), _1080p * f3_local4, _1080p * f3_local5 )
				f3_local11:SetDetails( f3_arg1, {
					name = Engine[0xED84C33EC5F01EA]( 0x6A3CB74F506D037 ),
					itemType = Engine[0xED84C33EC5F01EA]( 0x6A3CB74F506D037 ),
					image = BRLOOT.ARMOR_DATA.PLATES.ICON
				} )
				f3_arg0:addElement( f3_local11 )
				f3_arg0["DMZItemSlot" .. f3_arg0._backpackCount] = f3_local11
				if f3_local8 == 0 and f3_local0 == 0 then
					f3_local2 = f3_local12
				end
				f3_local3 = f3_local13
				f3_arg0._backpackCount = f3_arg0._backpackCount + 1
				if f3_local8 == f3_local1 - 1 then
					f3_local11.Line:SetAlpha( 0 )
				end
			end
			local f3_local8 = 160
			local f3_local9 = f3_local5 + f3_arg0._backerBuffer
			local f3_local10 = -37
			f3_local2 = f3_local2 - f3_arg0._backerBuffer
			f3_local3 = f3_local3 + f3_arg0._backerBuffer
			f3_arg0.BackpackLabel:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * f3_local2, _1080p * f3_local3, _1080p * (f3_local9 - f3_local8 + f3_local10), _1080p * (f3_local9 + f3_local10) )
			f3_arg0.Background:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * f3_local2, _1080p * f3_local3, _1080p * (f3_local9 - f3_local8), _1080p * f3_local9 )
		end
	end
	f3_local2 = f3_arg0._backgroundLeftPos
end

local f0_local1 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.Setup = f0_local0
end

function DMZBackpackItemSlots( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "DMZBackpackItemSlots"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	Background:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool05, 0 )
	Background:SetAlpha( 0.6, 0 )
	Background:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 578, _1080p * 1342, _1080p * 594, _1080p * 722 )
	self:addElement( Background )
	self.Background = Background
	
	local BackpackLabel = nil
	
	BackpackLabel = LUI.UIText.new()
	BackpackLabel.id = "BackpackLabel"
	BackpackLabel:setPriority( 1 )
	BackpackLabel:setText( Engine[0xED84C33EC5F01EA]( 0x2975C7FA2D31A2D ), 0 )
	BackpackLabel:setCaseStyle( LUI.CaseStyle.Uppercase )
	BackpackLabel:SetFont( FONTS.GetFont( FONTS.SecondaryMedium.File ) )
	BackpackLabel:SetFontSize( 32 * _PT )
	BackpackLabel:SetMinFontSize( 32 * _PT )
	BackpackLabel:SetWordWrap( false )
	BackpackLabel:SetAlignment( LUI.Alignment.Left )
	BackpackLabel:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 578, _1080p * 890, _1080p * 557, _1080p * 594 )
	self:addElement( BackpackLabel )
	self.BackpackLabel = BackpackLabel
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "DMZBackpackItemSlots", DMZBackpackItemSlots )
LockTable( _M )
