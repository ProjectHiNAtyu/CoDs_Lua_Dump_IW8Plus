-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
LUI.FlowManager = LUI.Class( LUI.UIElement )
PushAndPopsTable = XHash.SetAutoXHashMetatable( {}, 0, XHash.AssertOnTypeNameString )
DisableLetterbox = XHash.SetAutoXHashMetatable( {}, 0, XHash.AssertOnTypeNameString )
DisableMousePointer = XHash.SetAutoXHashMetatable( {}, 0, XHash.AssertOnTypeNameString )
FenceGroups = XHash.SetAutoXHashMetatable( {}, 0, XHash.AssertOnTypeNameString )
PreNavGroup = XHash.SetAutoXHashMetatable( {}, 0, XHash.AssertOnTypeNameString )
FenceGroupFallbackMenu = XHash.SetAutoXHashMetatable( {}, 0, assertOnTypeNameString )
SavedMenuStates = XHash.SetAutoXHashMetatable( {}, 1, XHash.AssertOnTypeNameString )
AlwaysVisible = XHash.SetAutoXHashMetatable( {}, 0, XHash.AssertOnTypeNameString )
PresetStacks = XHash.SetAutoXHashMetatable( {}, 0, XHash.AssertOnTypeNameString )
IgnoreFollowHostCallbacks = XHash.SetAutoXHashMetatable( {}, 0, XHash.AssertOnTypeNameString )
PartyUIRoot = {
	EXGM_MAIN_MENU = 25,
	BR_TRIALS = 18,
	CP_PUBLIC_MATCH_LOBBY = 58,
	MAIN_MENU_OFFLINE = 3,
	MP_SYSTEM_LINK = 15,
	TOURNAMENT_BRACKET = 22,
	MP_MAIN_MENU = 10,
	LP_MAIN_MENU = 38,
	ZM_MAIN_MENU = 43,
	GAMEMODE_NONE_MENUS_START = 1,
	GAMEMODE_SP_MENUS_START = 6,
	LOCKOUT_MENU = 2,
	EXGM_LOADOUT_CONFIRMATION_MENU = 33,
	GAMEMODE_WZ_MENUS_START = 62,
	SP_MAIN_MENU = 7,
	GAMEMODE_MP_MENUS_START = 9,
	BR_PRE_PRIVATE_MATCH = 48,
	OPERATOR_SELECT_SCREEN = 28,
	TOURNAMENT_LOADING = 20,
	DMZ_MAIN_MENU = 24,
	MAIN_MENU = 4,
	BR_MAIN_MENU = 46,
	CP_MAIN_MENU = 56,
	TOURNAMENT_MATCHMAKING = 21,
	WZ_TOURNAMENT_MATCHMAKING = -64,
	LOADOUT_SELECT_MENU = 23,
	MP_TRIAL_EVENT = -60,
	WZ_TOURNAMENT_BRACKET = -63,
	OFFLINE_GAMEMODE_SP_MENUS_START = -58,
	CP_SYSTEM_LINK_LOBBY = 60,
	GAMEMODE_NONE_MENUS_END = 5,
	OFFLINE_GAMEMODE_SP_MENUS_END = -56,
	GAMEMODE_SP_MENUS_END = 8,
	LAST = -55,
	MP_PUBLIC_MATCH_LOBBY = 13,
	LP_PUBLIC_MATCH_LOBBY = 39,
	LP_BR_PUBLIC_MATCH_LOBBY = 50,
	GAMEMODE_MP_MENUS_END = 54,
	OB_PARTY_MATCHMAKING_LOBBY = 37,
	PARTY_MATCHMAKING_LOBBY = 36,
	LP_BR_MAIN_MENU = 49,
	BR_PRE_LOBBY_MENU = 47,
	PRE_LOBBY_MENU = 11,
	OB_MISSIONS_OVERVIEW = 31,
	PAYBACK_ONBOARDING_LOBBY = 53,
	MP_TRAINING_COURSE = 41,
	MP_SYSTEM_LINK_GAMEMODE = 14,
	GAMEMODE_CP_MENUS_END = 61,
	EXGM_PREVIEW_LOADOUT_CONFIRMATION_MENU = 34,
	GAMEMODE_CP_MENUS_START = 55,
	MP_SYSTEM_LINK_LOBBY = 16,
	DMZ_MISSIONS_OVERVIEW = 30,
	CP_PRIVATE_MATCH = 57,
	SP_MAIN_MENU_OFFLINE = -57,
	MP_TRIALS = 17,
	OB_LOADOUT_CONFIRMATION_MENU = 35,
	DMZ_LOCATION_SELECT = 29,
	BATTLE_ROYALE_MENU_TUTORIAL = 52,
	MP_PRE_PRIVATE_MATCH = 42,
	MP_BENCHMARK = 40,
	FREE = 0,
	MP_PRIVATE_MATCH = 12,
	BATTLE_ROYALE_MENU_PUBLIC_LOBBY = 51,
	OB_MAIN_MENU = 26,
	MP_PRIVATE_TOURNAMENT_LOBBY = 19,
	GAMEMODE_WZ_MENUS_END = -61,
	WZ_PRIVATE_MATCH_LOBBY = -62,
	MISSION_SELECT = 27,
	WZ_TOURNAMENT_LOADING = 63,
	BR_TRIAL_EVENT = -59,
	DMZ_LOADOUT_CONFIRMATION_MENU = 32,
	CP_SYSTEM_LINK = 59,
	ZM_PUBLIC_MATCH_LOBBY = 44,
	BATTLE_ROYALE_MENU = 45
}
local f0_local0 = "LoadoutOverview"
local f0_local1 = "SocialMenu"
local f0_local2 = "BindingPreview"
local f0_local3 = "FiringRangeMenu"
local f0_local4 = "FiringRangePauseMenu"
local f0_local5 = "GlobalPanelOptionsSearch"
local f0_local6 = "MPPauseMenu"
local f0_local7 = "CPPauseMenu"
local f0_local8 = "BrPauseMenu"
local f0_local9 = "Shop"
local f0_local10 = "CinematicFullscreen"
BR_MENUS_START = PartyUIRoot.BATTLE_ROYALE_MENU
BR_MENUS_END = PartyUIRoot.PAYBACK_ONBOARDING_LOBBY
LUI.FlowManager.IsBelowBlockingFence = false
LUI.FlowManager.FlowMenus = {
	[PartyUIRoot.LOCKOUT_MENU] = "MainLockoutMenu",
	[PartyUIRoot.MAIN_MENU_OFFLINE] = "MainMenuOffline",
	[PartyUIRoot.MAIN_MENU] = "MainMenu",
	[PartyUIRoot.SP_MAIN_MENU] = "CampaignMenu",
	[PartyUIRoot.MP_MAIN_MENU] = "MPMainMenu",
	[PartyUIRoot.PRE_LOBBY_MENU] = "PrelobbyMainMenu",
	[PartyUIRoot.MP_PRIVATE_MATCH] = "PrivateMatchLobby",
	[PartyUIRoot.MP_PUBLIC_MATCH_LOBBY] = "MPPublicLobby",
	[PartyUIRoot.MP_SYSTEM_LINK_GAMEMODE] = "MPSystemLinkGameModes",
	[PartyUIRoot.MP_SYSTEM_LINK] = "MPSystemLinkMenu",
	[PartyUIRoot.MP_SYSTEM_LINK_LOBBY] = "MPSystemLinkLobby",
	[PartyUIRoot.MP_TRIALS] = "TrialsMP",
	[PartyUIRoot.BR_TRIALS] = "TrialsBR",
	[PartyUIRoot.MP_PRIVATE_TOURNAMENT_LOBBY] = "PrivateTournamentLobby",
	[PartyUIRoot.TOURNAMENT_LOADING] = "TournamentLoadingScreen",
	[PartyUIRoot.TOURNAMENT_MATCHMAKING] = "TournamentMatchmaking",
	[PartyUIRoot.TOURNAMENT_BRACKET] = "ArenaTournament",
	[PartyUIRoot.LOADOUT_SELECT_MENU] = "<disabled>",
	[PartyUIRoot.DMZ_MAIN_MENU] = "DMZMainMenu",
	[PartyUIRoot.EXGM_MAIN_MENU] = "EXGMMainMenu",
	[PartyUIRoot.OB_MAIN_MENU] = "OBMainMenu",
	[PartyUIRoot.MISSION_SELECT] = "MissionSelect",
	[PartyUIRoot.OPERATOR_SELECT_SCREEN] = "OperatorSelectScreen",
	[PartyUIRoot.DMZ_LOCATION_SELECT] = "DMZLocationSelect",
	[PartyUIRoot.DMZ_MISSIONS_OVERVIEW] = "DMZMissionsOverview",
	[PartyUIRoot.OB_MISSIONS_OVERVIEW] = "OBMissionsOverview",
	[PartyUIRoot.DMZ_LOADOUT_CONFIRMATION_MENU] = "DMZLoadoutConfirmationMenu",
	[PartyUIRoot.EXGM_LOADOUT_CONFIRMATION_MENU] = "EXGMLoadoutConfirmationMenu",
	[PartyUIRoot.EXGM_PREVIEW_LOADOUT_CONFIRMATION_MENU] = "EXGMPreviewLoadoutConfirmationMenu",
	[PartyUIRoot.OB_LOADOUT_CONFIRMATION_MENU] = "OBLoadoutConfirmationMenu",
	[PartyUIRoot.PARTY_MATCHMAKING_LOBBY] = "PartyMatchmakingLobby",
	[PartyUIRoot.OB_PARTY_MATCHMAKING_LOBBY] = "OBPartyMatchmakingLobby",
	[PartyUIRoot.BATTLE_ROYALE_MENU] = "BattleRoyale",
	[PartyUIRoot.BR_MAIN_MENU] = "BRMainMenu",
	[PartyUIRoot.BR_PRE_LOBBY_MENU] = "BRPrelobbyMainMenu",
	[PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY] = "BRPublicLobby",
	[PartyUIRoot.BATTLE_ROYALE_MENU_TUTORIAL] = "LobbyWarzoneTutorial",
	[PartyUIRoot.LP_MAIN_MENU] = "LPMainMenu",
	[PartyUIRoot.LP_BR_MAIN_MENU] = "LPBRMainMenu",
	[PartyUIRoot.LP_PUBLIC_MATCH_LOBBY] = "LPPublicLobby",
	[PartyUIRoot.LP_BR_PUBLIC_MATCH_LOBBY] = "LPBRPublicLobby",
	[PartyUIRoot.MP_BENCHMARK] = "BenchmarkLobby",
	[PartyUIRoot.MP_TRAINING_COURSE] = "TrainingCourseLobby",
	[PartyUIRoot.MP_PRE_PRIVATE_MATCH] = "GameModes",
	[PartyUIRoot.BR_PRE_PRIVATE_MATCH] = "BRGameModes",
	[PartyUIRoot.ZM_MAIN_MENU] = "ZMMainMenu",
	[PartyUIRoot.ZM_PUBLIC_MATCH_LOBBY] = "ZMPublicLobby",
	[PartyUIRoot.CP_MAIN_MENU] = "CPMainMenu",
	[PartyUIRoot.CP_PRIVATE_MATCH] = "CPPrivateMatchLobby",
	[PartyUIRoot.CP_PUBLIC_MATCH_LOBBY] = "CPPublicMatchMenu",
	[PartyUIRoot.CP_SYSTEM_LINK] = "CPSystemLinkMenu",
	[PartyUIRoot.CP_SYSTEM_LINK_LOBBY] = "CPSystemLinkLobby",
	[PartyUIRoot.PAYBACK_ONBOARDING_LOBBY] = "PayBackOnBoardingLobby",
	[PartyUIRoot.WZ_TOURNAMENT_LOADING] = "WZTournamentLoadingScreen",
	[PartyUIRoot.WZ_TOURNAMENT_MATCHMAKING] = "WZTournamentMatchmaking",
	[PartyUIRoot.WZ_TOURNAMENT_BRACKET] = "WZArenaTournament",
	[PartyUIRoot.WZ_PRIVATE_MATCH_LOBBY] = "WarzonePrivateMatchLobbyChangeRoleMenu",
	[PartyUIRoot.MP_TRIAL_EVENT] = "TrialEventMP",
	[PartyUIRoot.BR_TRIAL_EVENT] = "TrialEventBR",
	[PartyUIRoot.SP_MAIN_MENU_OFFLINE] = "CampaignMenuOffline"
}
LUI.FlowManager.PremiumMenus = {
	nil,
	"CampaignMenu",
	"CampaignMenuOffline",
	"MPMainMenu",
	"MPSystemLinkMenu",
	"MPSystemLinkLobby",
	"CPMainMenu",
	"CPSystemLinkMenu"
}
LUI.FlowManager.TrackableMenus = {
	[LUI.FlowManager.FlowMenus[PartyUIRoot.MAIN_MENU]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.SP_MAIN_MENU]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.MP_MAIN_MENU]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.PRE_LOBBY_MENU]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.DMZ_MAIN_MENU]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.EXGM_MAIN_MENU]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.OB_MAIN_MENU]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.BR_MAIN_MENU]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.BR_PRE_LOBBY_MENU]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.LP_BR_MAIN_MENU]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.ZM_MAIN_MENU]] = true,
	[LUI.FlowManager.FlowMenus[PartyUIRoot.CP_MAIN_MENU]] = true
}
LUI.FlowManager.TrackableMenuRedirects = {
	[LUI.FlowManager.FlowMenus[PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY]] = LUI.FlowManager.FlowMenus[PartyUIRoot.BR_PRE_LOBBY_MENU]
}
local f0_local11 = {
	nil,
	"PlaylistsUpdatingPopup"
}
LUI.FlowManager.AutoNavigationType = {
	TOURNAMENT = 4,
	PARTY_UI_ROOT = 3,
	GAME_MODE = 2,
	NONE = 1
}
local f0_local12 = {}
LUI.FlowManager.DebugMenuFlowPrint = function ( f204_arg0 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0xEC323AE968547AF ) then
		return 
	else
		
	end
end

LUI.FlowManager.RegisterMainMenuKeyArtTransitionMenu = function ( f203_arg0 )
	table.insert( f0_local0, f203_arg0 )
end

LUI.FlowManager.IsInMainMenuTransition = function ()
	return LUI.FlowManager.IsAnyInStack( f0_local0 )
end

LUI.FlowManager.IsInCinematicFullscreen = function ()
	return LUI.FlowManager.IsInStack( f0_local0 )
end

local f0_local13 = false
LUI.FlowManager.ShouldHideNonMainMenuTransitionVideos = function ()
	local f200_local0 = LUI.FlowManager.IsInMainMenuTransition()
	if f200_local0 then
		f200_local0 = f0_local0
	end
	return f200_local0
end

LUI.FlowManager.SetShouldHideNonMainMenuTransitionVideos = function ( f199_arg0 )
	f0_local0 = f199_arg0
end

LUI.FlowManager.IsInPauseMenus = function ()
	local f198_local0 = LUI.FlowManager.IsInStack( f0_local0 )
	if not f198_local0 then
		f198_local0 = LUI.FlowManager.IsInStack( f0_local0 )
		if not f198_local0 then
			f198_local0 = LUI.FlowManager.IsInStack( f0_local0 )
		end
	end
	return f198_local0
end

LUI.FlowManager.GetPartyUIRootIndexByMenuName = function ( f197_arg0 )
	for f197_local3, f197_local4 in pairs( LUI.FlowManager.FlowMenus ) do
		if f197_local4 == f197_arg0 then
			return f197_local3
		end
	end
	return PartyUIRoot.FREE
end

LUI.FlowManager.RegisterStackPushBehaviour = function ( f196_arg0, f196_arg1 )
	PushAndPopsTable[f196_arg0] = PushAndPopsTable[f196_arg0] or {}
	local f196_local0 = PushAndPopsTable[f196_arg0]
	f196_local0.pushFuncs = f196_local0.pushFuncs or {}
	table.insert( f196_local0.pushFuncs, f196_arg1 )
end

LUI.FlowManager.RegisterStackPopBehaviour = function ( f195_arg0, f195_arg1 )
	PushAndPopsTable[f195_arg0] = PushAndPopsTable[f195_arg0] or {}
	local f195_local0 = PushAndPopsTable[f195_arg0]
	f195_local0.popFuncs = f195_local0.popFuncs or {}
	table.insert( f195_local0.popFuncs, f195_arg1 )
end

LUI.FlowManager.RegisterFenceGroup = function ( f194_arg0, f194_arg1, f194_arg2 )
	FenceGroups[f194_arg0] = f194_arg1
	FenceGroupFallbackMenu[f194_arg0] = f194_arg2
end

LUI.FlowManager.RegisterPreNavGroup = function ( f193_arg0, f193_arg1 )
	PreNavGroup[f193_arg0] = f193_arg1
end

LUI.FlowManager.RegisterIgnoreFollowHostCallback = function ( f192_arg0, f192_arg1 )
	IgnoreFollowHostCallbacks[f192_arg0] = f192_arg1
end

LUI.FlowManager.DisableLetterboxForMenu = function ( f191_arg0 )
	DisableLetterbox[f191_arg0] = true
end

LUI.FlowManager.AlwaysVisibleForMenu = function ( f190_arg0 )
	AlwaysVisible[f190_arg0] = true
end

local f0_local14 = function ( f189_arg0 )
	for f189_local3, f189_local4 in ipairs( f189_arg0 ) do
		if f189_local4.name and f189_local4.name == "MainLockoutMenu" then
			table.remove( f189_arg0, f189_local3 )
			break
		end
	end
	return f189_arg0
end

LUI.FlowManager.RequestSetStack = function ( f188_arg0, f188_arg1 )
	LUI.FlowManager.DebugMenuFlowPrint( "RequestSetStack - " .. f188_arg0 )
	if CONDITIONS.IsPC() then
		f188_arg1 = f0_local0( f188_arg1 )
	end
	PresetStacks[f188_arg0] = f188_arg1
end

LUI.FlowManager.DisableMousePointerForMenu = function ( f187_arg0 )
	DisableMousePointer[f187_arg0] = true
end

LUI.FlowManager.GetPerControllerPersistentData = function ( f186_arg0 )
	if not LUI.FlowManager._persistentData then
		LUI.FlowManager._persistentData = {}
	end
	if not LUI.FlowManager._persistentData[f186_arg0] then
		LUI.FlowManager._persistentData[f186_arg0] = {}
	end
	return LUI.FlowManager._persistentData[f186_arg0]
end

LUI.FlowManager.GetFlowManager = function ()
	local f185_local0 = Engine[0xEE6F69FEA944B13]()
	local f185_local1
	if f185_local0 then
		f185_local1 = f185_local0
	else
		f185_local1 = f185_local0.flowManager
	end
	return f185_local1
end

LUI.FlowManager.GetScopedData = function ( f184_arg0 )
	local f184_local0 = type( f184_arg0 )
	local f184_local1 = Engine[0xEE6F69FEA944B13]()
	local f184_local2 = f184_local1.flowManager
	if f184_local0 == "string" then
		return f184_local2:GetScopedDataFromMenuName( f184_arg0 )
	elseif f184_local0 == "userdata" then
		return f184_local2:GetScopedDataFromElement( f184_arg0 )
	else
		
	end
end

LUI.FlowManager.GetMainScopedData = function ()
	local f183_local0
	if CONDITIONS.IsConsoleGame() then
		f183_local0 = LUI.FlowManager.GetScopedData( LUI.FlowManager.FlowMenus[PartyUIRoot.LOCKOUT_MENU] )
		if not f183_local0 then
			if CONDITIONS.IsInOfflineMenus() then
				f183_local0 = LUI.FlowManager.GetScopedData( LUI.FlowManager.FlowMenus[PartyUIRoot.MAIN_MENU_OFFLINE] )
				if not f183_local0 then
				
				else
					return f183_local0
				end
			end
			f183_local0 = LUI.FlowManager.GetScopedData( LUI.FlowManager.FlowMenus[CONDITIONS.InFrontendCP() and PartyUIRoot.CP_MAIN_MENU or PartyUIRoot.MAIN_MENU] )
		end
	else
		if CONDITIONS.IsInOfflineMenus() then
			f183_local0 = LUI.FlowManager.GetScopedData( LUI.FlowManager.FlowMenus[PartyUIRoot.MAIN_MENU_OFFLINE] )
			if not f183_local0 then
			
			else
				return f183_local0
			end
		end
		f183_local0 = LUI.FlowManager.GetScopedData( LUI.FlowManager.FlowMenus[CONDITIONS.InFrontendCP() and PartyUIRoot.CP_MAIN_MENU or PartyUIRoot.MAIN_MENU] )
	end
	return f183_local0
end

LUI.FlowManager.RequestAddMenu = function ( f182_arg0, f182_arg1, f182_arg2, f182_arg3, f182_arg4, f182_arg5 )
	LUI.FlowManager.DebugMenuFlowPrint( "RequestAddMenu - " .. f182_arg0 )
	METRICS.SendDlogEventCODHQ_UISession( f182_arg2, f182_arg0 )
	local f182_local0 = {
		name = "addmenu",
		menu = f182_arg0,
		exclusiveController = f182_arg1,
		controller = f182_arg2,
		replaceTop = f182_arg3,
		immediate = f182_arg5,
		data = f182_arg4
	}
	local f182_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( f182_local1, true, "RequestAddMenu " .. f182_arg0 )
	LUI.UIRoot.ProcessEvent( f182_local1, f182_local0 )
end

LUI.FlowManager.RequestPopupMenu = function ( f181_arg0, f181_arg1, f181_arg2, f181_arg3, f181_arg4, f181_arg5, f181_arg6, f181_arg7, f181_arg8 )
	local f181_local0 = {
		name = "popupmenu",
		menu = f181_arg1,
		isModal = f181_arg7,
		exclusiveController = f181_arg2,
		controller = f181_arg3,
		replaceTop = f181_arg4,
		data = f181_arg5
	}
	if f181_arg8 ~= nil then
		f181_local0.immediate = f181_arg8
	else
		f181_local0.immediate = true
	end
	local f181_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.ClearCursorStack( f181_local1 )
	LUI.UIRoot.BlockButtonInput( f181_local1, true, "RequestPopupMenu " .. f181_arg1 )
	LUI.UIRoot.ProcessEvent( f181_local1, f181_local0 )
end

LUI.FlowManager.RequestErrorPopup = function ( f180_arg0, f180_arg1, f180_arg2 )
	if not LUI.FlowManager.IsInStack( "generic_error_popup" ) then
		LUI.FlowManager.RequestPopupMenu( nil, "generic_error_popup", true, f180_arg0, false, {
			title = f180_arg1,
			message = f180_arg2
		}, nil, false, true )
	end
end

local f0_local15 = {}
LUI.FlowManager.RequestDevErrorPopup = function ( f178_arg0, f178_arg1 )
	if CONDITIONS[0x2DA54CF5D6B7F02]() and not LUI.FlowManager.IsInStack( "error_popmenu" ) then
		local f178_local0 = 0x0
		local f178_local1
		if not f178_arg0 then
			f178_local1 = f178_arg0
		else
			f178_local1 = ""
		end
		local f178_local2
		if not f178_arg1 then
			f178_local2 = f178_arg1
		else
			f178_local2 = ""
		end
		f178_local0 = f178_local0 .. f178_local1 .. f178_local2
		if not f0_local0[f178_local0] then
			Dvar[0xE3CB005036E0C0F]( 0xCEEF44E99C361E4, f178_arg0 )
			Dvar[0xE3CB005036E0C0F]( 0xC7FD770960649E9, f178_arg1 )
			AUTOMATEDTEST[0xC96594224B808DC]( Enum[0xAF11B35A073E184][0xB5DC3C39C665ED2], {
				[0x2A5189E617FF360] = true
			} )
			f178_local1 = {}
			if f0_local0[f178_local0] == nil then
				f0_local0[f178_local0] = false
			else
				f178_local1.ignoreFunc = function ()
					f178_arg0[f178_arg0] = true
				end
				
			end
			LUI.FlowManager.RequestPopupMenu( nil, "error_popmenu", nil, nil, nil, f178_local1 )
		end
	end
end

local f0_local16 = function ( f177_arg0 )
	local f177_local0 = f177_arg0
	if String.IsNilOrEmpty( f177_local0 ) then
		local f177_local1 = LUI.FlowManager.GetTopmostMenu()
		if f177_local1 and f177_local1.name then
			f177_local0 = f177_local1.name
		end
	end
	if not String.IsNilOrEmpty( f177_local0 ) then
		IgnoreFollowHostCallbacks[f177_local0] = nil
	end
end

LUI.FlowManager.RequestLeaveMenu = function ( f176_arg0, f176_arg1, f176_arg2, f176_arg3 )
	local f176_local0 = LUI.FlowManager.DebugMenuFlowPrint
	local f176_local1 = "RequestLeaveMenu - "
	local f176_local2
	if f176_arg0 then
		f176_local2 = f176_arg0.id
		if not f176_local2 then
		
		else
			f176_local0( f176_local1 .. f176_local2 )
			f0_local0( nil )
			f176_local0 = {
				name = "leavemenu",
				element = f176_arg0,
				immediate = f176_arg1,
				blockSound = f176_arg2,
				controller = f176_arg3
			}
			local f176_local3 = Engine[0xEE6F69FEA944B13]()
			LUI.UIRoot.BlockButtonInput( f176_local3, true, "RequestLeaveMenu" )
			LUI.UIRoot.ProcessEvent( f176_local3, f176_local0 )
		end
	end
	f176_local2 = "nil"
end

LUI.FlowManager.RequestLeaveMenuByName = function ( f175_arg0, f175_arg1, f175_arg2, f175_arg3 )
	LUI.FlowManager.DebugMenuFlowPrint( "RequestLeaveMenuByName - " .. f175_arg0 )
	f0_local0( f175_arg0 )
	local f175_local0 = {
		name = "leavemenu",
		menu = f175_arg0,
		immediate = f175_arg1,
		blockSound = f175_arg2,
		controller = f175_arg3
	}
	LUI.UIRoot.BlockButtonInput( Engine[0xEE6F69FEA944B13](), true, "RequestLeaveMenuByName " .. f175_arg0 )
	local f175_local1 = Engine[0xEE6F69FEA944B13]()
	f175_local1:processEvent( f175_local0 )
end

LUI.FlowManager.RequestLeaveMenuByNameWithController = function ( f174_arg0, f174_arg1, f174_arg2, f174_arg3 )
	f0_local0( f174_arg0 )
	local f174_local0 = {
		name = "leavemenu",
		menu = f174_arg0,
		immediate = f174_arg2,
		blockSound = f174_arg3,
		managerControllerIndex = f174_arg1
	}
	LUI.UIRoot.BlockButtonInput( Engine[0xEE6F69FEA944B13](), true, "RequestLeaveMenuByName " .. f174_arg0 )
	local f174_local1 = Engine[0xEE6F69FEA944B13]()
	f174_local1:processEvent( f174_local0 )
end

LUI.FlowManager.RequestRestoreMenu = function ( f173_arg0, f173_arg1, f173_arg2, f173_arg3 )
	LUI.FlowManager.DebugMenuFlowPrint( "RequestRestoreMenu - " .. f173_arg0 )
	local f173_local0 = {
		name = "restoreMenu",
		menu = f173_arg0
	}
	local f173_local1
	if f173_arg3 == nil then
		f173_local1 = true
	else
		f173_local1 = f173_arg3
	end
	f173_local0.immediate = f173_local1
	f173_local0.exclusiveController = f173_arg1
	f173_local0.controller = f173_arg2
	f173_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( f173_local1, true, "RequestRestoreMenu" )
	LUI.UIRoot.ProcessEvent( f173_local1, f173_local0 )
	METRICS.SendDlogEventCODHQ_UISession( f173_arg2, f173_arg0 )
end

LUI.FlowManager.RequestCloseAllMenus = function ( f172_arg0, f172_arg1, f172_arg2 )
	LUI.UIRoot.ProcessEvent( Engine[0xEE6F69FEA944B13](), {
		name = "closeallmenus"
	} )
	if f172_arg0 then
		METRICS.RecordInGameDismissMenuUsage( f172_arg2, f172_arg0, f172_arg1 )
	end
end

LUI.FlowManager.IsInStack = function ( f171_arg0 )
	local f171_local0 = Engine[0xEE6F69FEA944B13]()
	return f171_local0.flowManager:StackContains( f171_arg0 )
end

LUI.FlowManager.IsAnyInStack = function ( f170_arg0 )
	local f170_local0 = Engine[0xEE6F69FEA944B13]()
	return f170_local0.flowManager:StackContainsAny( f170_arg0 )
end

LUI.FlowManager.PopMenuStackUpToMenu = function ( f169_arg0, f169_arg1, f169_arg2 )
	if not LUI.FlowManager.IsInStack( f169_arg0 ) then
		return 
	else
		local f169_local0 = Engine[0xEE6F69FEA944B13]()
	end
end

LUI.FlowManager.IsErrorPopUp = function ( f168_arg0 )
	if f168_arg0 and f168_arg0.name and (f168_arg0.name == "generic_error_popup" or f168_arg0.name == "error_popmenu") then
		return true
	else
		return false
	end
end

local f0_local17 = function ( f167_arg0 )
	if SavedMenuStates[f167_arg0] == nil then
		SavedMenuStates[f167_arg0] = {}
	end
	return SavedMenuStates[f167_arg0]
end

LUI.FlowManager.ClearSavedMenuStatesByControllerIndex = function ( f166_arg0, f166_arg1 )
	local f166_local0 = f0_local0( f166_arg0 )
	if f166_arg1 then
		f166_local0[f166_arg1] = nil
	end
end

LUI.FlowManager.IsTopMenuModal = function ()
	local f165_local0 = Engine[0xEE6F69FEA944B13]()
	local f165_local1
	if f165_local0 then
		f165_local1 = f165_local0.flowManager
		if not f165_local1 then
		
		else
			local f165_local2 = f165_local1.menuInfoStack[f165_local1._menuStackCount]
			local f165_local3
			if f165_local2 then
				f165_local3 = f165_local2
			else
				f165_local3 = f165_local2.isModal
			end
			return f165_local3
		end
	end
	f165_local1 = nil
end

LUI.FlowManager.IsMenuOnTop = function ( f164_arg0 )
	local f164_local0 = Engine[0xEE6F69FEA944B13]()
	local f164_local1 = f164_local0.flowManager:GetStackTop()
	local f164_local2
	if f164_local1 then
		f164_local2 = f164_local1
	else
		f164_local2 = f164_local1.name == f164_arg0
	end
	return f164_local2
end

LUI.FlowManager.IsFlyInPopupMenuOnTop = function ()
	local f163_local0 = LUI.FlowManager.GetVisibleMenu()
	if f163_local0 and f163_local0._isFlyInPopup then
		return true
	else
		return false
	end
end

LUI.FlowManager.GetCurrentMenu = function ( f162_arg0 )
	local f162_local0 = Engine[0xEE6F69FEA944B13]()
	if f162_arg0:getParent() then
		
	else
		
	end
end

LUI.FlowManager.GetPreviousMenu = function ( f161_arg0 )
	local f161_local0
	if not f161_arg0 then
		f161_local0 = f161_arg0
	else
		f161_local0 = Engine[0xEE6F69FEA944B13]()
	end
	local f161_local1 = f161_local0.flowManager:GetFirstNonPopUpMenu()
	local f161_local2 = LUI.FlowManager.GetMenuStack()
	for f161_local3 = #f161_local2, 1, -1 do
		if f161_local2[f161_local3].name == f161_local1.previousMenuName then
			return f161_local2[f161_local3]
		end
	end
end

LUI.FlowManager.GetVisibleMenu = function ()
	local f160_local0 = Engine[0xEE6F69FEA944B13]()
	local f160_local1 = f160_local0.flowManager
	if f160_local1 and f160_local1.menuInfoStack then
		local f160_local2 = f160_local1.menuInfoStack[f160_local1._menuStackCount]
		if f160_local2 and f160_local2.menu then
			return f160_local2.menu
		end
	end
end

LUI.FlowManager.IsUsingWeaponOriginOffset = function ()
	if WEAPON.IsWeaponPreviewInStack() then
		return false
	elseif CONDITIONS.IsMenuInStack( "SocialShowcaseWeaponAttachmentInspect" ) then
		return false
	else
		return true
	end
end

LUI.FlowManager.GetMenuNameAtIndex = function ( f158_arg0 )
	local f158_local0 = LUI.FlowManager.GetMenuStack()
	if f158_local0 ~= nil and f158_arg0 < 0 then
		f158_arg0 = #f158_local0 + f158_arg0
	end
	return f158_local0[f158_arg0].name
end

LUI.FlowManager.GetMenuStartTime = function ( f157_arg0 )
	if f157_arg0 and f157_arg0.scopedData then
		return f157_arg0.scopedData.menuStartTime or 0
	else
		return 0
	end
end

LUI.FlowManager.GetMenuStack = function ()
	local f156_local0 = Engine[0xEE6F69FEA944B13]()
	return f156_local0.flowManager.menuInfoStack
end

local f0_local18 = function ( f155_arg0 )
	return f155_arg0.menuInfoStack
end

LUI.FlowManager.GetAllMenuNames = function ()
	local f154_local0 = Engine[0xEE6F69FEA944B13]()
	local f154_local1 = f154_local0.flowManager
	local f154_local2 = nil
	if f154_local1 and f154_local1.menuInfoStack then
		for f154_local3 = f154_local1._menuStackCount, 1, -1 do
			local f154_local6 = f154_local1.menuInfoStack[f154_local3].name
			if f154_local6 and f154_local6 ~= "" then
				if f154_local3 == f154_local1._menuStackCount and not f154_local6 then
					f154_local2 = f154_local6
				else
					f154_local2 = f154_local2 .. ";" .. f154_local6
				end
			end
		end
	end
	return f154_local2
end

LUI.FlowManager.GetMenuByName = function ( f153_arg0 )
	local f153_local0 = Engine[0xEE6F69FEA944B13]()
	local f153_local1 = f153_local0.flowManager
	if f153_local1 and f153_local1.menuInfoStack then
		for f153_local2 = f153_local1._menuStackCount, 1, -1 do
			local f153_local5 = f153_local1.menuInfoStack[f153_local2]
			if f153_arg0 == f153_local5.name then
				return f153_local5
			end
		end
	end
end

function ExecuteLUAFunction( f152_arg0 )
	local f152_local0 = _G
	for f152_local4 in string.gmatch( f152_arg0, "[^.]+" ) do
		f152_local0 = f152_local0[f152_local4]
	end
	f152_local1 = f152_local0
	...
	f152_local1()
end

function SetBRWeaponStatusInfoReactiveHUDType( f151_arg0 )
	GL_HACK.reactiveHUDType = tonumber( f151_arg0 )
end

function SaveMenuStack( f150_arg0 )
	local f150_local0 = {}
	for f150_local4, f150_local5 in ipairs( f150_arg0.flowManager.menuInfoStack ) do
		table.insert( f150_local0, CreateMenuInfoSaveData( f150_local5 ) )
	end
	return Table.Serialize( f150_local0 )
end

function RestoreMenuStack( f149_arg0, f149_arg1 )
	local f149_local0 = f149_arg0.flowManager
	f149_local0:closeAllMenus()
	local f149_local1, f149_local2 = loadstring( f149_arg1 )
	if f149_local1 then
		local f149_local3, f149_local4 = pcall( f149_local1 )
		for f149_local8, f149_local9 in ipairs( f149_local4 ) do
			f149_local0:PushMenuInfo( f149_local0:CreateMenuInfo( f149_local9.name, f149_local9.buildData, f149_local9.isControllerExclusive, f149_local9.controller, f149_local9.tabName ) )
		end
	end
	f149_arg0:TryAddMouseCursor()
end

function IsMenuInStack( f148_arg0, f148_arg1 )
	local f148_local0 = f148_arg0.flowManager
	if not f148_local0 then
		return false
	else
		return f148_local0:StackContains( f148_arg1 )
	end
end

function IsMenuOpenAndVisible( f147_arg0, f147_arg1 )
	local f147_local0 = f147_arg0.flowManager
	if not f147_local0 then
		return false
	elseif f147_local0.menuInfoStack then
		for f147_local4, f147_local5 in ipairs( f147_local0.menuInfoStack ) do
			if f147_local5.name == f147_arg1 and f147_local5.menu ~= nil then
				return true
			elseif f147_local5.name == "FlyInPopup" and f147_local5.buildData.FlyInPopupName == f147_arg1 then
				return true
			end
		end
	end
	return false
end

function AnyActiveMenusInStack( f146_arg0 )
	local f146_local0 = f146_arg0.flowManager
	if not f146_local0 then
		return false
	elseif f146_local0.menuInfoStack then
		for f146_local4, f146_local5 in ipairs( f146_local0.menuInfoStack ) do
			if f146_local5.menu then
				return true
			end
		end
	end
	return false
end

function GetVisibleMenu( f145_arg0 )
	local f145_local0 = f145_arg0.flowManager
	if not f145_local0 then
		return ""
	elseif f145_local0.menuInfoStack then
		local f145_local1 = f145_local0.menuInfoStack[f145_local0._menuStackCount]
		if f145_local1 and f145_local1.menu then
			if f145_local1.menu.id then
				return f145_local1.menu.id
			elseif f145_local1.menu.name then
				return f145_local1.menu.name
			end
		end
	end
	return ""
end

function IsUsingWeaponOriginOffset( f144_arg0 )
	if WEAPON.IsWeaponPreviewInStack() then
		return false
	elseif CONDITIONS.IsMenuInStack( "SocialShowcaseWeaponAttachmentInspect" ) then
		return false
	else
		return true
	end
end

function GetAllMenuNames()
	local f143_local0 = Engine[0xEE6F69FEA944B13]()
	local f143_local1 = f143_local0.flowManager
	local f143_local2 = nil
	if f143_local1 and f143_local1.menuInfoStack then
		for f143_local3 = f143_local1._menuStackCount, 1, -1 do
			local f143_local6 = f143_local1.menuInfoStack[f143_local3]
			local f143_local7 = f143_local6.name
			local f143_local8 = ClickStream.FindTabsAtMenu( f143_local6.menu, f143_local6.menu )
			local f143_local9
			if f143_local8 then
				f143_local9 = f143_local8
			else
				f143_local9 = LUI.TabManager.GetNumTabs( f143_local8 )
			end
			local f143_local10
			if f143_local9 then
				f143_local10 = f143_local9
			else
				f143_local10 = 0 < f143_local9
			end
			if f143_local10 then
				local f143_local11 = f143_local8:GetCurrentTab()
				local f143_local12
				if f143_local11 then
					f143_local12 = "#Tab " .. (f143_local11.menuId and f143_local11.menuId or f143_local11.id)
					if not f143_local12 then
					
					else
						f143_local7 = f143_local7 .. "-" .. f143_local12
					end
				end
				f143_local12 = "#EmptyTab"
			end
			if f143_local7 and f143_local7 ~= "" then
				if f143_local3 == f143_local1._menuStackCount and not f143_local7 then
					f143_local2 = f143_local7
				else
					f143_local2 = f143_local2 .. ";" .. f143_local7
				end
			end
		end
	end
	return f143_local2
end

function GetLuiStreamerInfo( f142_arg0, f142_arg1 )
	if f142_arg0 and f142_arg0:getFirstChild() then
		
	else
		
	end
end

function GetLuiImageStreamersInfo()
	local f141_local0 = Engine[0xEE6F69FEA944B13]()
	local f141_local1 = {
		value = nil
	}
	local f141_local2 = f141_local0.flowManager
	if f141_local2 and f141_local2.menuInfoStack then
		for f141_local3 = f141_local2._menuStackCount, 1, -1 do
			local f141_local6 = f141_local2.menuInfoStack[f141_local3]
			GetLuiStreamerInfo( f141_local6.menu, f141_local1 )
			f141_local1.value = ";" .. f141_local6.name .. ": " .. f141_local1.value .. ";"
		end
	end
	return f141_local1.value
end

function PrintLuiStreamedImageInfo( f140_arg0, f140_arg1 )
	if f140_arg0 and f140_arg0:getFirstChild() then
		
	else
		
	end
end

function GetLuiStreamedImageList( f139_arg0 )
	local f139_local0 = Engine[0xEE6F69FEA944B13]()
	if f139_local0:getFirstChild() then
		
	else
		
	end
end

function GetAttachmentsReference( f138_arg0 )
	if CONDITIONS.InGame() then
		local f138_local0 = ""
		local f138_local1 = Game[0x7A240787D8A22FE]( f138_arg0, true )
		if f138_local1 and 0 < #f138_local1 then
			for f138_local2 = 1, #f138_local1, 1 do
				if f138_local1[f138_local2].ref then
					local f138_local5 = f138_local1[f138_local2].ref
					local f138_local6 = f138_local1[f138_local2].variantID
					if f138_local6 and 0 < f138_local6 then
						f138_local5 = f138_local5 .. "|" .. f138_local6
					end
					if f138_local0 ~= "" then
						local f138_local7 = f138_local0 .. ";" .. f138_local5
						if not f138_local7 then
							f138_local0 = f138_local7
						else
							f138_local0 = f138_local5
						end
					end
					f138_local0 = f138_local5
				end
			end
			return f138_local0
		end
	end
	return ""
end

function GetFrontsceneWeaponModelName( f137_arg0 )
	if Engine[0x12586A3F4FB490E]() then
		local f137_local0 = f137_arg0.flowManager
		if f137_local0 and f137_local0.menuInfoStack then
			local f137_local1 = f137_local0.menuInfoStack[f137_local0._menuStackCount]
			if f137_local1 and f137_local1.menu and f137_local1.menu.id == LOADOUT.GetAttachmentSelectMenuRef() then
				local f137_local2 = LUI.FlowManager.GetScopedData( f137_local1.menu )
				if f137_local2.loadoutIndex then
					local f137_local3 = ""
					local f137_local4 = LOADOUT.GetLoadoutSquadMember( Engine[0x45B054C920178E9]() )
					local f137_local5 = f137_local4.loadouts[f137_local2.loadoutIndex].weaponSetups[f137_local2.weaponSlot]
					return WEAPON.GetWeaponModelName( f137_local5.weapon:get(), WEAPON.GenerateWeaponTable( f137_local5 ), {
						includeStickers = true,
						includeCamos = true,
						includeAttachments = true
					} )
				end
			elseif f137_local1 and f137_local1.menu and f137_local1.menu.GetCurrentWeaponModelName then
				return f137_local1.menu:GetCurrentWeaponModelName()
			else
				local f137_local2 = ""
				local f137_local3 = Engine[0x45B054C920178E9]()
				local f137_local4 = LOADOUT.GetLoadoutSquadMember( f137_local3 )
				local f137_local6 = f137_local4.loadouts[LOADOUT.GetFavoriteLoadoutIndex( f137_local3 )].weaponSetups[WEAPON.PrimarySlot]
				return WEAPON.GetWeaponModelName( f137_local6.weapon:get(), WEAPON.GenerateWeaponTable( f137_local6 ), {
					includeStickers = true,
					includeCamos = true,
					includeAttachments = true
				} )
			end
		end
	end
	return ""
end

function IsTopSignInMenu( f136_arg0 )
	if not CONDITIONS.IsSplitScreenEnabled() then
		return false
	end
	local f136_local0 = f136_arg0.flowManager
	if not f136_local0 then
		return false
	elseif not LUI.UIRoot.IsButtonInputBlocked( f136_arg0 ) and f136_local0.menuInfoStack then
		local f136_local1 = f136_local0.menuInfoStack[f136_local0._menuStackCount]
		if f136_local1 and f136_local1.menu and f136_local1.menu.isSignInMenu then
			local f136_local2 = LUI.FlowManager.GetScopedData( f136_local1.menu )
			if f136_local2 and f136_local2.focusedPage and 2 < f136_local2.focusedPage then
				return false
			elseif f136_local1.menu.IsSplitScreenSignInEnabled and not f136_local1.menu:IsSplitScreenSignInEnabled() then
				return false
			else
				return true
			end
		end
	end
	return false
end

function CanSignoutSplitscreenPlayer( f135_arg0 )
	local f135_local0 = f135_arg0.flowManager
	local f135_local1 = false
	if not LUI.UIRoot.IsButtonInputBlocked( f135_arg0 ) and f135_local0.menuInfoStack then
		local f135_local2 = f135_local0.menuInfoStack[f135_local0._menuStackCount]
		if f135_local2 and f135_local2.menu and f135_local2.menu.signoutSplitscreen ~= false then
			f135_local1 = true
		end
	end
	return f135_local1
end

function IsTopLocalSignInMenu( f134_arg0 )
	return false
end

LUI.FlowManager.removeMenuStack = function ( f133_arg0, f133_arg1 )
	if f133_arg0.currentSplitScreenMenusInUse and f133_arg0.currentSplitScreenMenusInUse[f133_arg1.menuName] then
		local f133_local0 = DataSources.inGame.numberOfSplitScreenPlayersInMenus:GetModel()
		DataModel[0x83C9B5DE1D9371]( f133_local0, DataModel[0x614D394F6F9A18D]( f133_local0 ) - 1 )
		f133_arg0.currentSplitScreenMenusInUse[f133_arg1.menuName] = nil
	end
end

LUI.FlowManager.isSplitScreenMenuInUse = function ( f132_arg0 )
	local f132_local0 = LUI.FlowManager.GetFlowManager()
	if f132_local0.currentSplitScreenMenusInUse and f132_local0.currentSplitScreenMenusInUse[f132_arg0] then
		return true
	end
	for f132_local5, f132_local6 in pairs( LUI.roots ) do
		if f132_local6 ~= f132_local0.root then
			local f132_local4 = f132_local6.flowManager
			if f132_local4.currentSplitScreenMenusInUse and f132_local4.currentSplitScreenMenusInUse[f132_arg0] then
				return true
			end
		end
	end
	return false
end

LUI.FlowManager.closeAllMenusHandler = function ( f131_arg0, f131_arg1 )
	f131_arg0:closeAllMenus()
end

LUI.FlowManager.restoreMenuHandler = function ( f130_arg0, f130_arg1 )
	f130_arg0:restoreMenu( f130_arg1 )
	LUI.UIRoot.BlockButtonInput( f130_arg0.root, false, "RestoreMenuHandler" )
end

LUI.FlowManager.autoNavigationToMenuHandler = function ( f129_arg0, f129_arg1 )
	LUI.FlowManager.RequestAutomaticNavigation( f129_arg1.menuId )
	LUI.UIRoot.BlockButtonInput( f129_arg0.root, false, "AutoNavigationToMenuHandler" )
end

LUI.FlowManager.addMenuHandler = function ( f128_arg0, f128_arg1 )
	f128_arg0:addMenu( f128_arg1 )
	LUI.UIRoot.BlockButtonInput( f128_arg0.root, false, "AddMenuHandler" )
end

LUI.FlowManager.popupMenuHandler = function ( f127_arg0, f127_arg1 )
	f127_arg1.isPopup = true
	f127_arg0:addMenuHandler( f127_arg1 )
end

LUI.FlowManager.leaveMenuHandler = function ( f126_arg0, f126_arg1 )
	f126_arg0:leaveMenu( f126_arg1 )
	LUI.UIRoot.BlockButtonInput( f126_arg0.root, false, "leaveMenu" )
end

LUI.FlowManager.onMobileWebviewOpenHandler = function ( f125_arg0, f125_arg1 )
	if f125_arg0:AreMainMenuFencedOut() then
		return 
	else
		LUI.FlowManager.RequestPopupMenu( nil, "MobileWebLoading", true, f125_arg0._controllerIndex )
	end
end

LUI.FlowManager.closeAllMenusNotInStack = function ( f124_arg0, f124_arg1, f124_arg2 )
	if not f124_arg0.menuInfoStack or Table.IsEmpty( f124_arg0.menuInfoStack ) then
		return 
	elseif f124_arg1 then
		local f124_local0 = LUI.ShallowCopy( f124_arg1 )
		if not f124_local0 then
			f124_arg1 = f124_local0
		end
	end
	f124_arg1 = {}
end

LUI.FlowManager.closeAllMenus = function ( f123_arg0 )
	local f123_local0 = f123_arg0:getRootController()
	for f123_local1 = f123_arg0._menuStackCount, 1, -1 do
		local f123_local4 = f123_arg0.menuInfoStack[f123_local1]
		if not AlwaysVisible[f123_local4.name] then
			local f123_local5 = ClickStream.OnNavigation
			local f123_local6 = f123_arg0
			local f123_local7
			if not f123_local0 then
				f123_local7 = f123_local0
			else
				f123_local7 = 0
			end
			f123_local5( f123_local6, f123_local7, nil, f123_local4, ClickStream.Direction.BACKWARD )
			f123_arg0:CloseMenuInfo( f123_local4, false, false )
			f123_arg0:RemoveMenuInfo( f123_local4 )
		end
	end
	LUI.UIRoot.ClearCursorStack( f123_arg0.root )
end

LUI.FlowManager.closeFlyInPopup = function ( f122_arg0 )
	local f122_local0 = nil
	local f122_local1 = LUI.FlowManager.GetMenuByName( "FlyInPopup" )
	if f122_local1 then
		if f122_arg0 and f122_local1.menu and f122_local1.menu.exitAnimation then
			f122_local1.menu:exitAnimation()
		else
			ACTIONS.LeaveMenu( f122_local1.buildData.widget )
		end
		f122_local0 = f122_local1.menu
		MobileFlyInPopupUtils.ResetCurrentFlyInPopup()
	end
	return f122_local0
end

LUI.FlowManager.restoreMenu = function ( f121_arg0, f121_arg1 )
	local f121_local0 = nil
	if f121_arg1.menuId ~= nil then
		f121_arg1.menu = LUI.FlowManager.FlowMenus[f121_arg1.menuId]
	end
	if not f121_arg0.IsInStack( f121_arg1.menu ) then
		f121_arg0:addMenu( f121_arg1 )
		return 
	end
	local f121_local1 = f121_arg0:GetStackTop()
	if f121_local1 and f121_local1.name == f121_arg1.menu then
		return 
	end
	local f121_local2 = nil
	for f121_local3 = f121_arg0._menuStackCount, 1, -1 do
		local f121_local6 = f121_arg0.menuInfoStack[f121_local3]
		if not f121_local6.isModal then
			if f121_local6.name ~= f121_arg1.menu then
				f121_arg0:CloseMenuInfo( f121_local6, false, false )
				f121_arg0:RemoveMenuInfo( f121_local6 )
			end
		end
	end
	f121_arg0:RefreshStack()
end

local f0_local19 = function ( f120_arg0 )
	local f120_local0 = nil
	for f120_local1 = f120_arg0._menuStackCount, 1, -1 do
		local f120_local4 = f120_arg0.menuInfoStack[f120_local1]
		if f120_local4.isCreatedByGlobalPanel then
			f120_local0 = f120_local4.name
		end
	end
	return f120_local0
end

local f0_local20 = function ( f119_arg0 )
	local f119_local0 = f0_local0( f119_arg0 )
	if f119_local0 then
		LUI.FlowManager.PopMenuStackUpToMenu( f119_local0, true )
	end
end

LUI.FlowManager.SaveGlobalPanelScopedData = function ( f118_arg0, f118_arg1 )
	f118_arg0._globalPanelScopedData = f118_arg1
end

local f0_local21 = function ( f117_arg0 )
	if LUI.FlowManager.IsAutoNavigationActive() then
		return false
	end
	for f117_local3, f117_local4 in ipairs( f0_local0 ) do
		if f117_local4 == f117_arg0 then
			return false
		end
	end
	return true
end

LUI.FlowManager.addMenu = function ( f116_arg0, f116_arg1 )
	local f116_local0 = f116_arg1.menu
	local f116_local1 = f116_arg1.controller
	if not f116_local1 then
		f116_local1 = f116_arg0:getRootController()
	end
	local f116_local2 = f116_arg0.menuInfoStack[f116_arg0._menuStackCount]
	if GLOBAL_PANEL and not LUI.FlowManager.IsAutoNavigationActive() and CONDITIONS.IsMenuInStack( f116_local0 ) then
		ACTIONS.PopMenuStackUpToMenu( f116_local0, true )
	end
	for f116_local6, f116_local7 in ipairs( f116_arg0.menuInfoStack ) do
		if f116_local7.name == f116_local0 then
			if f116_local0 == "FlyInPopup" and f116_arg1.data.FlyInPopupName ~= nil then
				f116_local7.buildData.FlyInPopupName = f116_arg1.data.FlyInPopupName
			end
			return 
		end
	end
	if LUI.FlowManager.IsMenuUnreleased( f116_arg0, f116_local0 ) then
		return 
	elseif DataSources.alwaysLoaded.flowManager.stackChanged then
		DataSources.alwaysLoaded.flowManager.stackChanged:SetValue( f116_local1, f116_arg1.name )
	end
	f116_local4 = f116_arg0:CreateMenuInfo( f116_local0, f116_arg1.data, f116_arg1.exclusiveController, f116_local1, LUI.UIRoot.GetTabName() )
	if f116_local4 then
		f116_local4.isPopup = f116_arg1.isPopup or f116_arg1.isModal
		f116_local4.isModal = f116_arg1.isModal
		if f116_local2 and f116_arg1.replaceTop then
			f116_arg0:CloseMenuInfo( f116_local2, false, false )
			f116_arg0:RemoveMenuInfo( f116_local2 )
		end
		ClickStream.OnNavigation( f116_arg0, f116_local1, f116_local4, f116_local2, ClickStream.Direction.FORWARD )
		if f116_local2 then
			f116_local4.previousMenuName = f116_local2.name
			if GLOBAL_PANEL and f0_local0( f116_local0 ) then
				f116_local4.isCreatedByGlobalPanel = f116_local2.isCreatedByGlobalPanel
				if f116_local4.previousMenuName == GLOBAL_PANEL.MENU_NAME then
					f116_local4.isCreatedByGlobalPanel = true
					if not f116_local4.isPopup then
						f0_local0( f116_arg0 )
						f116_arg0:SaveGlobalPanelScopedData( f116_local2.scopedData )
						LUI.FlowManager.RequestLeaveMenuByName( GLOBAL_PANEL.MENU_NAME, true, true )
					end
				end
			end
		end
		if not f116_arg0:PushMenuInfo( f116_local4 ) then
			return 
		end
		f116_arg0:RefreshStack()
	end
end

LUI.FlowManager.leaveMenu = function ( f115_arg0, f115_arg1 )
	local f115_local0 = f115_arg1.controller
	if not f115_local0 then
		f115_local0 = f115_arg0._controllerIndex
		if not f115_local0 then
			f115_local0 = f115_arg0:getRootController()
			if not f115_local0 then
				f115_local0 = Engine[0x45B054C920178E9]()
			end
		end
	end
	if f115_arg1.managerControllerIndex and f115_local0 ~= f115_arg1.managerControllerIndex then
		return 
	end
	local f115_local1 = nil
	if f115_arg1.menuId ~= nil then
		f115_arg1.menu = LUI.FlowManager.FlowMenus[f115_arg1.menuId]
	end
	if DataSources.alwaysLoaded.flowManager.stackChanged then
		DataSources.alwaysLoaded.flowManager.stackChanged:SetValue( f115_local0, f115_arg1.name )
	end
	if f115_arg1.element or f115_arg1.menu then
		for f115_local2 = f115_arg0._menuStackCount, 1, -1 do
			local f115_local5 = f115_arg0.menuInfoStack[f115_local2]
			local f115_local6 = f115_arg1.element
			if f115_local6 then
				f115_local6 = f115_arg1.element:isDescendentOf( f115_local5.menu )
			end
			local f115_local7 = f115_arg1.menu
			if f115_local7 then
				f115_local7 = f115_local5.name == f115_arg1.menu
			end
			if f115_local6 or f115_local7 then
				f115_local1 = f115_local5
				break
			end
		end
		f115_arg1.element = nil
		f115_arg1.menu = nil
		if f115_local1 then
			
		else
			if not f115_local1 then
				return 
			end
			LUI.FlowManager.DebugMenuFlowPrint( "leaveMenu - " .. f115_local1.name )
			ClickStream.OnNavigation( f115_arg0, f115_local0, nil, f115_local1, ClickStream.Direction.BACKWARD )
			f115_arg0:CloseMenuInfo( f115_local1, false, false )
			f115_arg0:RemoveMenuInfo( f115_local1 )
			if not f115_local1.isModal and not f115_arg1.blockSound then
				Engine[0xC4146BA76D0F982]( SOUND_SETS.default.back )
			end
			local f115_local2 = f115_arg0.menuInfoStack[f115_arg0._menuStackCount]
			if f115_local2 then
				f115_local2.lastClosedMenuName = f115_local1.name
			end
			f115_arg0:RefreshStack()
			if f115_local2 then
				f115_local2.previousMenuName = f115_local1.name
			end
			local f115_local4
			if f0_local0( f115_arg0 ) == nil then
				f115_local4 = f115_local1.isCreatedByGlobalPanel
			else
				f115_local4 = false
			end
			if GLOBAL_PANEL and f115_local4 and not LUI.FlowManager.IsInStack( GLOBAL_PANEL.MENU_NAME ) and f115_local1.name ~= GLOBAL_PANEL.MENU_NAME then
				GLOBAL_PANEL.OpenGlobalPanel( f115_arg0, f115_local0, 0, {}, f115_arg0._globalPanelScopedData )
			end
		end
	else
		f115_local1 = f115_arg0:GetStackTop()
	end
	if not f115_local1 then
		return 
	end
	LUI.FlowManager.DebugMenuFlowPrint( "leaveMenu - " .. f115_local1.name )
	ClickStream.OnNavigation( f115_arg0, f115_local0, nil, f115_local1, ClickStream.Direction.BACKWARD )
	f115_arg0:CloseMenuInfo( f115_local1, false, false )
	f115_arg0:RemoveMenuInfo( f115_local1 )
	if not f115_local1.isModal and not f115_arg1.blockSound then
		Engine[0xC4146BA76D0F982]( SOUND_SETS.default.back )
	end
	local f115_local2 = f115_arg0.menuInfoStack[f115_arg0._menuStackCount]
	if f115_local2 then
		f115_local2.lastClosedMenuName = f115_local1.name
	end
	f115_arg0:RefreshStack()
	if f115_local2 then
		f115_local2.previousMenuName = f115_local1.name
	end
	local f115_local4
	if f0_local0( f115_arg0 ) == nil then
		f115_local4 = f115_local1.isCreatedByGlobalPanel
	else
		f115_local4 = false
	end
	if GLOBAL_PANEL and f115_local4 and not LUI.FlowManager.IsInStack( GLOBAL_PANEL.MENU_NAME ) and f115_local1.name ~= GLOBAL_PANEL.MENU_NAME then
		GLOBAL_PANEL.OpenGlobalPanel( f115_arg0, f115_local0, 0, {}, f115_arg0._globalPanelScopedData )
	end
end

LUI.FlowManager.GetScopedDataFromElement = function ( f114_arg0, f114_arg1 )
	if f114_arg1._scoped then
		return f114_arg1._scoped
	else
		local f114_local0 = f114_arg1:getParent()
		if not f114_local0 then
			if f114_arg1 == LUI.GetRoot() then
				return {}
			else
				local f114_local1 = LUI.FlowManager.GetVisibleMenu()
				if f114_local1 and f114_local1 ~= f114_arg1 then
					return f114_arg0:GetScopedDataFromElement( f114_local1 )
				elseif Engine[0x7AE6126734FCDB]() then
					return {}
				else
					return {}
				end
			end
		else
			return f114_arg0:GetScopedDataFromElement( f114_local0 )
		end
	end
end

LUI.FlowManager.GetScopedDataFromMenuName = function ( f113_arg0, f113_arg1 )
	for f113_local0 = f113_arg0._menuStackCount, 1, -1 do
		local f113_local3 = f113_arg0.menuInfoStack[f113_local0]
		if f113_local3.name == f113_arg1 then
			return f113_local3.scopedData
		end
	end
end

function CreateMenuInfoSaveData( f112_arg0 )
	local f112_local0 = {}
	for f112_local9, f112_local10 in pairs( f112_arg0 ) do
		if f112_local9 ~= "fenceGroup" and f112_local9 ~= "scopedData" then
			if f112_local9 == "menu" then
				
			end
			if f112_local9 == "buildData" then
				for f112_local7, f112_local8 in pairs( f112_local10 ) do
					if type( f112_local8 ) == "table" and f112_local8.__serializable == false then
						f112_local10[f112_local7] = nil
					end
				end
			end
			f112_local0[f112_local9] = f112_local10
		end
	end
	return f112_local0
end

function MakeScopedDataForMenuInfo( f111_arg0 )
	local f111_local0 = {}
	for f111_local4, f111_local5 in pairs( f111_arg0.buildData ) do
		f111_local0[f111_local4] = f111_local5
	end
	if f111_arg0.controller then
		f111_local0.controllerIndex = f111_arg0.controller
		f111_local0.exclusiveController = f111_arg0.controller
		f111_local0.exclusiveControllerIndex = f111_arg0.controller
		f111_local0.isControllerExclusive = f111_arg0.isControllerExclusive
	end
	f111_local0.menuName = f111_arg0.name
	f111_local0.menuStartTime = Engine[0x3B8CFB6758EF57C]()
	return f111_local0
end

LUI.FlowManager.CreateMenuInfo = function ( f106_arg0, f106_arg1, f106_arg2, f106_arg3, f106_arg4, f106_arg5 )
	local f106_local0 = LUI.FlowManager.DebugMenuFlowPrint
	local f106_local1 = "CreateMenuInfo - menu = "
	local f106_local2 = f106_arg1
	local f106_local3 = ", tabName = "
	local f106_local4
	if f106_arg5 ~= nil and not f106_arg5 then
		f106_local4 = f106_arg5
	else
		f106_local4 = ""
	end
	f106_local0( f106_local1 .. f106_local2 .. f106_local3 .. f106_local4 )
	f106_local0 = f106_arg0
	local f106_local5 = {
		name = f106_arg1,
		tabName = f106_arg5
	}
	if not f106_arg2 then
		f106_local1 = f106_arg2
	else
		f106_local1 = {}
	end
	f106_local5.buildData = f106_local1
	f106_local5.controller = f106_arg4
	if not Engine[0x12586A3F4FB490E]() then
		f106_local5.controller = f106_arg0:getRootController()
	elseif not f106_arg4 then
		f106_local5.controller = 0
	end
	if f106_arg4 == nil or f106_arg3 ~= true then
		f106_local1 = false
	else
		f106_local1 = true
	end
	f106_local5.isControllerExclusive = f106_local1
	f106_local5.scopedData = MakeScopedDataForMenuInfo( f106_local5 )
	if not MenuBuilder.IsTypeRegistered( f106_arg1 ) then
		MenuBuilder.LoadFile( f106_arg1, f106_arg1 )
	end
	if PreNavGroup[f106_arg1] and CONDITIONS.IsUsingPreNavSystem() then
		f106_local5.preNavGroup = LUI.PreNavGroup.new( PreNavGroup[f106_arg1], f106_local5.controller )
		if PreNavChecks.PerformPreNavChecks( f106_local5.preNavGroup, f106_local5.controller, f106_local5.buildData.navCheckOptions ) == false then
			f106_local2 = nil
		end
	end
	if FenceGroups[f106_arg1] then
		f106_local5.fenceGroup = LUI.FenceGroup.new( FenceGroups[f106_arg1], f106_local5.controller, f106_local5.buildData )
		f106_local5.fenceGroup.OnPass = function ( f110_arg0 )
			f110_arg0:ReportTimings( f106_arg0 )
		end
		
		f106_local5.fenceGroup.OnBlock = function ( f109_arg0 )
			
		end
		
		f106_local5.fenceGroup.OnFail = function ( f108_arg0 )
			f108_arg0:ReportTimings( f106_arg0 )
			if FenceGroupFallbackMenu[f106_arg0] then
				LUI.FlowManager.RequestAutomaticNavigation( FenceGroupFallbackMenu[f106_arg0] )
			elseif f106_arg0:StackContains( f106_arg0 ) then
				for f108_local0 = f106_arg0._menuStackCount, 1, -1 do
					local f108_local3 = f106_arg0.menuInfoStack[f108_local0]
					f106_arg0:CloseMenuInfo( f108_local3, true, false )
					f106_arg0:RemoveMenuInfo( f108_local3 )
					if f108_local3.name == f106_arg0 then
						
					end
				end
			end
			if LUI.FlowManager.IsAutoNavigationActive() then
				LUI.FlowManager.ResetAutomaticNavigation( "Fence group failure" )
			end
		end
		
		f106_local5.fenceGroup.OnAbort = function ( f107_arg0 )
			f107_arg0:ReportTimings( f106_arg0 )
		end
		
	end
	f106_arg0:CheckLeakedAllocatedElements()
	return f106_local5
end

LUI.FlowManager.IsMenuUnreleased = function ( f105_arg0, f105_arg1 )
	local f105_local0 = Dvar[0x54084D7CA2317BB]( 0x977B7BB7EB17556 )
	if f105_local0 and 0 < #f105_local0 then
		local f105_local1 = LUI.KeyValueSplit( string.gsub( f105_local0, "%s+", "" ), "," )
		local f105_local2 = f105_local1[f105_arg1]
		if f105_local2 and not Engine[0x15D98DF5F61904B]( 0, "lua_unreleased_menu", {
			unreleased_menu_name = f105_arg1,
			current_menu_stack = f105_arg0:MenuStackToString()
		} ) then
			
		else
			
		end
		return f105_local2
	else
		return false
	end
end

LUI.FlowManager.GetMenuStackStr = function ( f104_arg0 )
	local f104_local0 = "|"
	if f104_arg0._menuStackCount == 0 then
		return f104_local0
	end
	for f104_local1 = f104_arg0._menuStackCount, 1, -1 do
		f104_local0 = f104_local0 .. f104_arg0.menuInfoStack[f104_local1].name .. "|"
	end
	return f104_local0
end

LUI.FlowManager.GetMenuHistoryStr = function ( f103_arg0 )
	local f103_local0 = "|"
	if f103_arg0.menuHistoryQueue.last - f103_arg0.menuHistoryQueue.first <= -1 then
		return f103_local0
	end
	for f103_local1 = f103_arg0.menuHistoryQueue.last, f103_arg0.menuHistoryQueue.first, -1 do
		local f103_local4 = f103_arg0.menuHistoryQueue[f103_local1]
		f103_local0 = f103_local0 .. f103_local4.eventName .. " " .. f103_local4.menuName .. "|"
	end
	return f103_local0
end

LUI.FlowManager.GetMenuHistoryTimestampsStr = function ( f102_arg0 )
	local f102_local0 = "|"
	if f102_arg0.menuHistoryQueue.last - f102_arg0.menuHistoryQueue.first <= -1 then
		return f102_local0
	end
	for f102_local1 = f102_arg0.menuHistoryQueue.last, f102_arg0.menuHistoryQueue.first, -1 do
		f102_local0 = f102_local0 .. f102_arg0.menuHistoryQueue[f102_local1].time .. "|"
	end
	return f102_local0
end

LUI.FlowManager.SendDlogMemoryUsageTableData = function ( f101_arg0, f101_arg1, f101_arg2 )
	local f101_local0 = Engine[0xEE6F69FEA944B13]()
	local f101_local1 = LUI.FlowManager.GetMenuStackStr( f101_local0.flowManager )
	local f101_local2
	if CONDITIONS.InFrontend() then
		f101_local2 = ""
	else
		f101_local2 = f101_local0:GetLayersVisibilityStr()
	end
	f101_local1 = f101_local1 .. f101_local2
	local f101_local3
	if f101_arg2 then
		f101_local3 = "o"
	else
		f101_local3 = "c"
	end
	if CONDITIONS.InGame() then
		local f101_local4 = "g"
	else
		local f101_local4 = "f"
	end
	Engine[0xFFF4ECFF21FE399]( f101_arg1, f101_local3, f101_local1 )
end

LUI.FlowManager.OpenMenuInfo = function ( f100_arg0, f100_arg1 )
	if f100_arg1.opening then
		return 
	elseif LUI.FlowManager.IsMenuUnreleased( f100_arg0, f100_arg1.name ) then
		return 
	end
	local f100_local0 = Engine[0xF3D71C800542A78]()
	if Engine[0x12586A3F4FB490E]() then
		PlayerData[0xC583B1BCF5C2AB3]()
	end
	LUI.ActiveScoped = f100_arg1.scopedData
	LUI.FlowManager.DebugMenuFlowPrint( "OpenMenuInfo - " .. tostring( f100_arg1.name ) )
	if f100_arg1.removedFromStack then
		return 
	elseif MenuNavigationTrackingUtil.IsEnabled() and LUI.FlowManager.TrackableMenus[f100_arg1.name] then
		local f100_local1 = LUI.FlowManager.TrackableMenuRedirects[f100_arg1.name]
		if f100_local1 then
			MenuNavigationTrackingUtil.SetLastMenuTo( f100_local1 )
		else
			MenuNavigationTrackingUtil.SetLastMenuTo( f100_arg1.name )
		end
	end
	f100_arg1.opening = true
	f100_arg1.menu = MenuBuilder.buildMenu( f100_arg1.name, f100_arg1.scopedData )
	f100_arg1.opening = false
	for f100_local4, f100_local5 in ipairs( f100_arg0.menuInfoStack ) do
		if f100_local5.menu then
			f100_local5.menu:setPriority( f100_local4 )
		end
	end
	f100_arg0:addElement( f100_arg1.menu )
	f100_arg1.menu:processEvent( {
		dispatchChildren = true,
		name = "menu_create",
		controller = f100_arg1.controller
	} )
	if LAYOUT.ShouldSetupLetterboxOnCurrentPlatform() and not Engine[0xAD041992EB2AEC9]() and not DisableLetterbox[f100_arg1.name] then
		f100_arg1.menu:setupLetterboxElement()
	end
	if Engine[0x575E9C5B9AAB6F4]() then
		LAYOUT.UpdateFadeFrameForCurrentMenu( f100_arg1.menu, f100_arg1.controller )
	end
	LUI.ActiveScoped = nil
	Engine[0x2E4EF2A0E608C38]()
	LUI.FlowManager.SendDlogMemoryUsageTableData( f100_arg1.controller, f100_arg1.name, false )
	Engine[0x2F533671787A4A4]( true )
	f100_local2 = Engine[0xF3D71C800542A78]()
	Engine[0x15D98DF5F61904B]( 0, "lua_menu_info", {
		completed_menu = true,
		menu_name = f100_arg1.name,
		memory_delta_bytes = f100_local2 - f100_local0,
		init_free_bytes = f100_local0,
		post_free_bytes = f100_local2,
		in_game = Engine[0x12586A3F4FB490E]()
	} )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x424EF9AA9364E13 ) then
		Engine[0x258C1DCEAAEC91B]( f100_arg1.name )
	end
	f100_arg0:LogMenuChangeTo( f100_arg1.controller, f100_arg1.name )
end

LUI.FlowManager.CloseMenuInfo = function ( f99_arg0, f99_arg1, f99_arg2, f99_arg3 )
	local f99_local0 = f99_arg0._controllerIndex
	if not f99_local0 then
		f99_local0 = Engine[0x45B054C920178E9]()
	end
	local f99_local1 = f0_local0( f99_local0 )
	if not f99_arg3 then
		f99_local1[f99_arg1.name] = nil
	end
	local f99_local2 = f99_arg1.menu
	if f99_local2 then
		if f99_arg3 and not f99_local1[f99_arg1.name] then
			f99_local1[f99_arg1.name] = f99_local2:saveState()
		end
		if not f99_arg2 then
			f99_local2:processEvent( {
				dispatchChildren = true,
				name = "menu_close",
				controller = f99_arg1.controller
			} )
		end
		LUI.FlowManager.DebugMenuFlowPrint( "CloseMenuInfo - " .. tostring( f99_arg1.name ) )
		LUI.FlowManager.SendDlogMemoryUsageTableData( f99_arg1.controller, f99_arg1.name, true )
		f99_local2:closeTree()
		AUTOMATEDTEST[0xC96594224B808DC]( Enum[0xAF11B35A073E184][0x690BBE1F12FB351] )
		f99_arg1.menu = nil
		if Dvar[0x9E5BE3B4BBA4E0E]( 0xEDB7071526E6A22 ) and CONDITIONS.InFrontend() then
			PROJECT[0x5A05E13AC947C99] = {}
		end
		if Dvar[0x1FAB6D9A30481F8]( 0x356CE493BC1D5B8 ) then
			local f99_local3 = true
			if f99_arg1.isPopup and not Dvar[0x9E5BE3B4BBA4E0E]( 0x1860FA9093AED89 ) then
				f99_local3 = false
			end
			if f99_local3 then
				local f99_local4 = Dvar[0x22EAAB59AA27E9B]( 0x356CE493BC1D5B8 )
				for f99_local5 = 1, f99_local4, 1 do
					Engine[0xD75F5E555D60E1]( "Closing " .. f99_arg1.name .. " GC " .. f99_local5 .. "/" .. f99_local4 )
					collectgarbage( "collect" )
					Engine[0x4D47DEF7D5ED4B9]()
				end
			end
		end
		Engine[0x2E4EF2A0E608C38]()
		local f99_local3 = f99_arg0:GetTopMostOpenMenuInfo()
		if f99_local3 and Engine[0x575E9C5B9AAB6F4]() then
			LAYOUT.UpdateFadeFrameForCurrentMenu( f99_local3.menu, f99_local3.controller )
		end
		Engine[0x15D98DF5F61904B]( 0, "dlog_event_menu_navigation", {
			target = "na",
			action = "Render",
			phase = f99_arg1.name,
			stack = f99_arg0:GetMenuStackStr()
		} )
		Engine[0x2F533671787A4A4]( true )
	end
end

LUI.FlowManager.GetStackVersion = function ( f98_arg0 )
	return f98_arg0.stackVersion
end

LUI.FlowManager.InsertMenuInfo = function ( f97_arg0, f97_arg1, f97_arg2 )
	f97_arg0:SendLastOpenKVP( f97_arg2.name )
	f97_arg0.stackVersion = f97_arg0.stackVersion + 1
	f97_arg0._menuStackCount = f97_arg0._menuStackCount + 1
	table.insert( f97_arg0.menuInfoStack, f97_arg1, f97_arg2 )
	f97_arg0:MenuHistoryQueuePush( "push", f97_arg2.name )
	f97_arg0.root:processEvent( {
		name = "add_menu_stack",
		controllerIndex = f97_arg0._controllerIndex
	} )
	Engine[0xCA5C1F48AE52152]( f97_arg0._controllerIndex, f97_arg2.name, true )
	AUTOMATEDTEST[0xC96594224B808DC]( Enum[0xAF11B35A073E184][0x690BBE1F12FB351] )
	Engine[0x15D98DF5F61904B]( 0, "dlog_event_menu_navigation", {
		target = "na",
		action = "Render",
		phase = f97_arg2.name,
		stack = f97_arg0:GetMenuStackStr()
	} )
	if PushAndPopsTable[f97_arg2.name] and PushAndPopsTable[f97_arg2.name].pushFuncs and 0 < #PushAndPopsTable[f97_arg2.name].pushFuncs then
		for f97_local3, f97_local4 in ipairs( PushAndPopsTable[f97_arg2.name].pushFuncs ) do
			f97_local4()
		end
	end
	Engine[0xA0F090AEEC9C553]( true )
	if f97_arg0._menuStackCount == 1 then
		f97_arg0.root:processEvent( {
			name = "non_empty_menu_stack",
			controllerIndex = f97_arg0._controllerIndex
		} )
	end
	f97_arg0:SendMenuStackKVP()
	if CONDITIONS[0x2F9F94DF6F92292]() then
		f97_arg0:PrintStack()
		f97_arg0:PrintHistory()
	end
end

LUI.FlowManager.RemoveMenuInfo = function ( f96_arg0, f96_arg1 )
	local f96_local0 = nil
	local f96_local1 = f96_arg0._menuStackCount
	if 1 <= f96_local1 and f96_arg0.menuInfoStack[f96_local1] ~= f96_arg1 then
		
	else
		
	end
	if 1 <= f96_local1 then
		if f96_arg1.fenceGroup then
			f96_arg1.fenceGroup:Abort( f96_arg1.name )
		end
		if PushAndPopsTable[f96_arg1.name] and PushAndPopsTable[f96_arg1.name].popFuncs and 0 < #PushAndPopsTable[f96_arg1.name].popFuncs then
			for f96_local5, f96_local6 in ipairs( PushAndPopsTable[f96_arg1.name].popFuncs ) do
				f96_local6()
			end
		end
		f96_arg0.stackVersion = f96_arg0.stackVersion + 1
		f96_arg0._menuStackCount = f96_arg0._menuStackCount - 1
		table.remove( f96_arg0.menuInfoStack, f96_local1 )
		f96_arg0:MenuHistoryQueuePush( "pop", f96_arg1.name )
		f96_arg0.root:processEvent( {
			name = "remove_menu_stack",
			controllerIndex = f96_arg0._controllerIndex,
			menuName = f96_arg1.name
		} )
		Engine[0xCA5C1F48AE52152]( f96_arg0._controllerIndex, f96_arg1.name, false )
		AUTOMATEDTEST[0xC96594224B808DC]( Enum[0xAF11B35A073E184][0x690BBE1F12FB351] )
	end
	f96_arg1.removedFromStack = true
	Engine[0x15D98DF5F61904B]( 0, "dlog_event_menu_navigation", {
		target = "na",
		action = "unload",
		phase = f96_arg1.name,
		stack = f96_arg0:GetMenuStackStr()
	} )
	if f96_arg0._menuStackCount == 0 then
		if (Engine[0x74423E76DECE3E4]() or CONDITIONS.IsDungeonsGameType()) and not Engine[0x12586A3F4FB490E]() then
			ACTIONS.ResumeGame( f96_arg0 )
		end
		f96_arg0.root:processEvent( {
			name = "empty_menu_stack",
			controllerIndex = f96_arg0._controllerIndex
		} )
		f96_arg0.root:RemoveMouseCursor()
	end
	f96_arg0:SendMenuStackKVP()
	if Engine[0x2DA54CF5D6B7F02]() then
		f96_arg0:PrintStack()
		f96_arg0:PrintHistory()
	end
	Engine[0xA0F090AEEC9C553]( 0 < f96_arg0._menuStackCount )
end

LUI.FlowManager.MenuHistoryQueuePush = function ( f95_arg0, f95_arg1, f95_arg2 )
	if f95_arg0.menuHistoryQueue.last - f95_arg0.menuHistoryQueue.first + 1 == f95_arg0.menuHistoryQueue.maxLen then
		f95_arg0.menuHistoryQueue:Pop()
	end
	f95_arg0.menuHistoryQueue:Push( {
		eventName = f95_arg1,
		time = Engine[0x6991337AE950F99](),
		menuName = f95_arg2
	} )
end

LUI.FlowManager.PushMenuInfo = function ( f94_arg0, f94_arg1 )
	if not f94_arg0:SetStack( f94_arg1 ) then
		return false
	elseif f94_arg1.isModal then
		f94_arg0:InsertMenuInfo( f94_arg0._menuStackCount + 1, f94_arg1 )
	else
		local f94_local0 = f94_arg0._menuStackCount + 1
		if 1 < f94_local0 and f94_arg0.menuInfoStack[f94_local0 - 1].isModal then
			
		else
			
		end
		f94_arg0:InsertMenuInfo( f94_local0, f94_arg1 )
	end
	return true
end

local f0_local22 = function ( f93_arg0, f93_arg1 )
	local f93_local0 = f93_arg0[#f93_arg0]
	if f93_local0 then
		f93_local0 = f93_arg0[#f93_arg0].name
	end
	local f93_local1 = PresetStacks[f93_local0]
	if not f93_local1 then
		return 
	end
	local f93_local2 = false
	for f93_local6, f93_local7 in ipairs( f93_local1 ) do
		if f93_arg0[f93_local6].name ~= f93_local1[f93_local6].name then
			f93_local2 = true
			break
		end
	end
	if f93_local2 then
		LUI.FlowManager.RequestDevErrorPopup( "Conflicting Requested Menu Stacks", string.format( "Requested stack for %s conflicts with stack for %s", f93_arg1, f93_local0 ) )
	end
end

LUI.FlowManager.SetStack = function ( f92_arg0, f92_arg1 )
	local f92_local0 = PresetStacks[f92_arg1.name]
	if not f92_local0 then
		return true
	end
	local f92_local1 = f92_arg1.controller
	if Engine[0x2DA54CF5D6B7F02]() then
		local f92_local2 = ""
		for f92_local7, f92_local8 in ipairs( f92_arg0.menuInfoStack ) do
			local f92_local9 = f92_local2
			local f92_local6
			if 1 < f92_local7 then
				f92_local6 = " > "
			else
				f92_local6 = ""
			end
			f92_local2 = f92_local9 .. f92_local6 .. f92_local8.name
		end
		f92_local2 = ""
		for f92_local7, f92_local8 in ipairs( f92_local0 ) do
			local f92_local9 = f92_local2
			local f92_local6
			if 1 < f92_local7 then
				f92_local6 = " > "
			else
				f92_local6 = ""
			end
			f92_local2 = f92_local9 .. f92_local6 .. f92_local8.name
		end
		f0_local0( f92_local0, f92_arg1.name )
	end
	local f92_local2 = {}
	for f92_local7, f92_local8 in ipairs( f92_local0 ) do
		if f92_arg0._menuStackCount < f92_local7 or f92_local8.name ~= f92_arg0.menuInfoStack[f92_local7].name then
			local f92_local9 = f92_arg0:CreateMenuInfo( f92_local8.name, nil, f92_local8.exclusiveController, f92_local1 )
			if f92_local9 then
				table.insert( f92_local2, f92_local9 )
			end
			return false
		end
	end
	for f92_local7, f92_local8 in ipairs( f92_arg0.menuInfoStack ) do
		if #f92_local0 < f92_local7 or f92_local8.name ~= f92_local0[f92_local7].name then
			for f92_local9 = f92_arg0._menuStackCount, f92_local7, -1 do
				local f92_local11 = f92_arg0.menuInfoStack[f92_local9]
				if not f92_local11.isModal then
					f92_arg0:CloseMenuInfo( f92_local11 )
					f92_arg0:RemoveMenuInfo( f92_local11 )
				end
			end
		end
	end
	for f92_local7, f92_local8 in ipairs( f92_local2 ) do
		f92_arg0:PushMenuInfo( f92_local8 )
	end
	return true
end

LUI.FlowManager.PrintStack = function ( f91_arg0 )
	for f91_local0 = f91_arg0._menuStackCount, 1, -1 do
		local f91_local3 = f91_arg0.menuInfoStack[f91_local0]
		if f91_local3.menu then
			local f91_local4 = "Opened"
		else
			local f91_local4 = "Closed"
		end
		if f91_local3.menu then
			local f91_local5 = " -> "
		else
			local f91_local5 = ""
		end
	end
end

LUI.FlowManager.PrintHistory = function ( f90_arg0 )
	for f90_local0 = f90_arg0.menuHistoryQueue.last, f90_arg0.menuHistoryQueue.first, -1 do
		local f90_local3 = f90_arg0.menuHistoryQueue[f90_local0]
	end
end

LUI.FlowManager.SendMenuStackKVP = function ( f89_arg0 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0xB54640DC8A26C74 ) then
		Engine[0x8215720C816567C]( f89_arg0:GetMenuStackStr() )
		Engine[0xC32FD316B441023]( f89_arg0:GetMenuHistoryStr() )
		Engine[0x5A686216F37AD0C]( f89_arg0:GetMenuHistoryTimestampsStr() )
	end
end

LUI.FlowManager.SendLastOpenKVP = function ( f88_arg0, f88_arg1 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0xB54640DC8A26C74 ) then
		Engine[0xC5178F7E4DAE098]( f88_arg1 )
	end
end

LUI.FlowManager.CheckLeakedAllocatedElements = function ( f87_arg0 )
	if Engine[0x2DA54CF5D6B7F02]() and CONDITIONS.InFrontend() and RequestMemoryLeakCheck then
		RequestMemoryLeakCheck()
	end
end

LUI.FlowManager.MenuStackToString = function ( f86_arg0 )
	local f86_local0 = "----MENU STACK TOP----"
	for f86_local1 = f86_arg0._menuStackCount, 1, -1 do
		local f86_local4 = f86_arg0.menuInfoStack[f86_local1]
		local f86_local5
		if f86_local4.menu then
			f86_local5 = "Opened"
		else
			f86_local5 = "Closed"
		end
		f86_local0 = f86_local0 .. f86_local1 .. ") " .. f86_local4.name .. " (" .. f86_local5 .. ")" .. "| "
	end
	return f86_local0 .. "---MENU STACK BOTTOM---"
end

LUI.FlowManager.StackContains = function ( f85_arg0, f85_arg1 )
	for f85_local3, f85_local4 in ipairs( f85_arg0.menuInfoStack ) do
		if f85_local4.name == f85_arg1 then
			return true
		end
	end
	return false
end

LUI.FlowManager.StackContainsAny = function ( f84_arg0, f84_arg1 )
	for f84_local6, f84_local7 in ipairs( f84_arg0.menuInfoStack ) do
		for f84_local3, f84_local4 in pairs( f84_arg1 ) do
			if f84_local7.name == f84_local4 then
				return true
			end
		end
	end
	return false
end

LUI.FlowManager.GetTopmostMenu = function ()
	local f83_local0 = Engine[0xEE6F69FEA944B13]()
	return f83_local0.flowManager:GetStackTop( true )
end

LUI.FlowManager.GetStackTop = function ( f82_arg0, f82_arg1 )
	local f82_local0 = f82_arg0._menuStackCount
	if not f82_arg1 and 1 <= f82_local0 and f82_arg0.menuInfoStack[f82_local0].isModal then
		
	else
		
	end
	if 1 <= f82_local0 then
		return f82_arg0.menuInfoStack[f82_local0]
	else
		return nil
	end
end

LUI.FlowManager.GetFirstNonPopUpMenu = function ( f81_arg0 )
	local f81_local0 = f81_arg0._menuStackCount
	if 1 <= f81_local0 and f81_arg0.menuInfoStack[f81_local0].isPopup then
		
	else
		
	end
	if 1 <= f81_local0 then
		return f81_arg0.menuInfoStack[f81_local0]
	else
		return nil
	end
end

LUI.FlowManager.GetCurrentMenuName = function ()
	local f80_local0 = LUI.FlowManager.GetMenuStack()
	local f80_local1 = #f80_local0
	if 0 < f80_local1 and f80_local0[f80_local1].isPopup then
		
	else
		
	end
	return 0 and f80_local0[f80_local1].name or ""
end

LUI.FlowManager.GetPreviousMenuName = function ()
	local f79_local0 = LUI.FlowManager.GetMenuStack()
	local f79_local1 = #f79_local0
	if 0 < f79_local1 and f79_local0[f79_local1].isPopup then
		
	else
		
	end
	f79_local1 = f79_local1 - 1
	if 0 < f79_local1 and f79_local0[f79_local1].isPopup then
		
	else
		
	end
	return 0 and f79_local0[f79_local1].name or ""
end

LUI.FlowManager.GetTopMostOpenMenuInfo = function ( f78_arg0 )
	if not f78_arg0 then
		f78_arg0 = LUI.FlowManager.GetFlowManager()
	end
	if f78_arg0 then
		local f78_local0 = f78_arg0._menuStackCount
		if 1 <= f78_local0 and not f78_arg0.menuInfoStack[f78_local0].menu then
			
		else
			
		end
		if 1 <= f78_local0 then
			return f78_arg0.menuInfoStack[f78_local0]
		end
	end
	return nil
end

LUI.FlowManager.IsTopOfMenuStackThisMenu = function ( f77_arg0 )
	local f77_local0 = LUI.FlowManager.GetFlowManager()
	return f77_local0.menuInfoStack[f77_local0._menuStackCount].name == f77_arg0
end

LUI.FlowManager.IsStackEmpty = function ( f76_arg0 )
	if not f76_arg0 then
		f76_arg0 = LUI.FlowManager.GetFlowManager()
	end
	local f76_local0
	if f76_arg0 then
		f76_local0 = f76_arg0
	else
		f76_local0 = f76_arg0._menuStackCount == 0
	end
	return f76_local0
end

LUI.FlowManager.AreMainMenuFencedOut = function ( f75_arg0 )
	for f75_local3, f75_local4 in ipairs( f75_arg0.menuInfoStack ) do
		if (f75_local4.name == "MainMenuOffline" or f75_local4.name == "MainMenu" or f75_local4.name == "MainMenuMobile") and f75_local4.fenced then
			return true
		end
	end
	return false
end

LUI.FlowManager.PopMenuStackUntilMenuIsRemoved = function ( f74_arg0, f74_arg1, f74_arg2, f74_arg3, f74_arg4 )
	local f74_local0 = {}
	local f74_local1
	if not f74_arg3 then
		f74_local1 = f74_arg3
	else
		f74_local1 = {}
	end
	for f74_local2 = f74_arg0._menuStackCount, 1, -1 do
		local f74_local5 = f74_arg0.menuInfoStack[f74_local2]
		if not Table.FindItemIndexInArray( f74_local1, f74_local5.name ) then
			table.insert( f74_local0, f74_local5.name )
		end
	end
	if f74_arg4 ~= nil then
		f74_local2 = not f74_arg4
	else
		local f74_local2 = true
	end
	local f74_local3 = false
	for f74_local7, f74_local8 in ipairs( f74_local0 ) do
		f74_local3 = f74_local8 == f74_arg2
		LUI.FlowManager.RequestLeaveMenuByName( f74_local8, f74_local2, true )
		if f74_local3 then
			break
		end
	end
end

LUI.FlowManager.SetFirstTimeFlowCompletedForScreen = function ( f73_arg0, f73_arg1 )
	local f73_local0 = LUI.FlowManager._isScreenFirstTimeFlowCompleted or {}
	f73_local0[f73_arg0] = f73_arg1
	LUI.FlowManager._isScreenFirstTimeFlowCompleted = f73_local0
end

LUI.FlowManager.IsFirstTimeFlowForScreen = function ( f72_arg0 )
	local f72_local0 = LUI.FlowManager._isScreenFirstTimeFlowCompleted
	if not f72_local0 or f72_local0[f72_arg0] == nil then
		LUI.FlowManager.SetFirstTimeFlowCompletedForScreen( f72_arg0, false )
		return true
	else
		return f72_local0[f72_arg0] == false
	end
end

local f0_local23 = function ( f71_arg0 )
	if LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) and CONDITIONS.InFrontend() then
		local f71_local0 = LUI.FlowManager.GetMenuNameAtIndex( -1 )
		GLOBAL_PANEL.CloseGlobalPanelNow()
		return f71_local0 == f71_arg0
	else
		return false
	end
end

local f0_local24 = function ()
	if CONDITIONS.IsMenuInStack( f0_local0 ) then
		Engine[0x6055C55456F05DF]( "br_cancel_purchase", BR_ARMORY_KIOSK.OPEN_MENU_VALUE.RESET )
		Engine[0x6055C55456F05DF]( "exit_loadout_bag", 1 )
		LUI.FlowManager.RequestLeaveMenuByName( f0_local0, true, true )
	end
end

local f0_local25 = function ( f69_arg0, f69_arg1 )
	local f69_local0 = CONDITIONS.IsMenuInStack( "BootAccessibilitySetting" )
	if LUI.FlowManager.IsFirstTimeFlowForScreen( OPTIONS.MENU_NAME ) and not f69_local0 then
		if LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) then
			local f69_local1 = LUI.FlowManager.GetMenuByName( GLOBAL_PANEL.MENU_NAME )
			f69_local1 = f69_local1.menu
			if f69_local1 then
				if f69_local1.GlobalPanel and f69_local1.GlobalPanel:GetCurrentTabIndex() ~= GLOBAL_PANEL.TAB_INDEX.OPTIONS then
					f69_local1.GlobalPanel:ChangeTab( GLOBAL_PANEL.TAB_INDEX.OPTIONS )
					return true
				elseif CONDITIONS.InGame() then
					LUI.FlowManager.RequestCloseAllMenus()
				else
					GLOBAL_PANEL.CloseGlobalPanel()
				end
			end
		elseif CONDITIONS.InGame() then
			local f69_local1 = false
			if CONDITIONS.IsMenuInStack( CoD.GetPauseMenuFromCurrentContext() ) then
				f69_local1 = true
			end
			f69_arg0:dispatchEventToRoot( {
				forcePause = true,
				name = "pause",
				immediate = true,
				controllerIndex = f69_arg1.controller,
				globalPanelTabIndex = GLOBAL_PANEL.TAB_INDEX.OPTIONS
			} )
			if Engine[0x74423E76DECE3E4]() or CONDITIONS.IsDungeonsGameType() then
				GAME.PauseGame()
			elseif f69_local1 and not LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) then
				GLOBAL_PANEL.OpenGlobalPanel( f69_arg0, f69_arg1.controller, GLOBAL_PANEL.TAB_INDEX.OPTIONS )
			end
		else
			GLOBAL_PANEL.OpenGlobalPanel( f69_arg0, f69_arg1.controller, GLOBAL_PANEL.TAB_INDEX.OPTIONS )
		end
		return true
	elseif f0_local0( OPTIONS.MENU_NAME ) then
		return true
	elseif CONDITIONS.IsMenuInStack( OPTIONS.MENU_NAME ) then
		f69_arg0:dispatchEventToRoot( {
			name = "closing_quick_access_menu",
			controllerIndex = f69_arg1.controller
		} )
		if not LUI.FlowManager.IsMenuOnTop( OPTIONS.MENU_NAME ) then
			LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f69_arg0, f69_arg1, OPTIONS.MENU_NAME )
		end
	elseif f69_local0 then
		LUI.FlowManager.RequestLeaveMenuByName( "BootAccessibilitySetting", true )
	elseif not OSK[0x736AF74410E3002]() and not CONDITIONS.IsSplitScreenMenuInUse() then
		f69_arg0:dispatchEventToRoot( {
			immediate = true,
			name = "opening_quick_access_menu"
		} )
		f0_local0()
		LUI.FlowManager.LeaveQuickMenus( false )
		ACTIONS.OpenOptionsMenu( f69_arg1.controller, nil, true )
		if (Engine[0x74423E76DECE3E4]() or CONDITIONS.IsDungeonsGameType()) and CONDITIONS.InGame() then
			GAME.PauseGame()
		end
	end
	return true
end

local f0_local26 = function ( f68_arg0, f68_arg1 )
	if Engine[0xD2813B521711C11]( f68_arg1.controller ) and CONDITIONS.IsSocialMenuEnabled( f68_arg1.controller ) then
		if CONDITIONS.InGame() then
			local f68_local0 = CODCASTER_CONDITIONS.IsCodcaster()
			if f68_local0 then
				f68_local0 = not CODCASTER_SETTINGS.GetSettingValue( f68_arg1.controller, "codcaster_socialshortcut" )
			end
			if f68_local0 or CONDITIONS.IsSplitScreenMenuInUse() then
				return false
			end
			f0_local0()
			if LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) then
				local f68_local1 = LUI.FlowManager.GetMenuByName( GLOBAL_PANEL.MENU_NAME )
				f68_local1 = f68_local1.menu
				if f68_local1 and f68_local1.GlobalPanel:GetCurrentTabIndex() == GLOBAL_PANEL.TAB_INDEX.NOTIFICATIONS then
					LUI.FlowManager.RequestCloseAllMenus()
					return true
				end
			end
			if LUI.FlowManager.IsInStack( SOCIAL.MENU_NAME ) then
				LUI.FlowManager.RequestCloseAllMenus()
				return false
			elseif LUI.FlowManager.IsInStack( OPTIONS.MENU_NAME ) and CoD.IsInPauseMenu() then
				ACTIONS.LeaveMenuByName( OPTIONS.MENU_NAME )
			end
			LUI.FlowManager.RequestAddMenu( CoD.GetPauseMenuFromCurrentContext(), true, f68_arg1.controllerIndex, false, nil, true )
			SOCIAL.OpenSocialMenu( f68_arg1.controllerIndex )
		elseif CONDITIONS.IsSocialEnabledInMainMenu( f68_arg1.controller ) and not f0_local0( SOCIAL.MENU_NAME ) then
			if FRIENDS.CanCloseSocial( f68_arg1.controller ) then
				f68_arg0:dispatchEventToRoot( {
					name = "closing_quick_access_menu",
					controllerIndex = f68_arg1.controller
				} )
				FRIENDS.HandleSocial( f68_arg1.controller, true )
			elseif FRIENDS.CanOpenSocial( f68_arg1.controller ) then
				f68_arg0:dispatchEventToRoot( {
					immediate = true,
					name = "opening_quick_access_menu"
				} )
				LUI.FlowManager.LeaveQuickMenus( false, {
					nil,
					"LoadoutOverview"
				} )
				FRIENDS.HandleSocial( f68_arg1.controller, true )
			end
		end
		return true
	else
		return false
	end
end

local f0_local27 = function ( f67_arg0, f67_arg1 )
	if CONDITIONS.IsSPEarlyAccessBuildEnabled() then
		return false
	elseif CONDITIONS.IsSplitScreenMenuInUse() then
		return false
	elseif LOADOUT.IsUsingLoadoutDrop( f67_arg1.controller ) then
		return false
	elseif CONDITIONS.IsDMZGametype() or CONDITIONS.IsDMZMatch() or CONDITIONS.IsSingleplayer() or CONDITIONS.IsThirdGameMode() then
		return false
	elseif not CONDITIONS.IsCoreMultiplayer() or CONDITIONS.InGame() and not CONDITIONS.IsClassChoiceAllowed( f67_arg0, f67_arg1.controller ) then
		return false
	elseif CONDITIONS.InFrontend() and not CONDITIONS.IsMenuInStack( "MPMainMenu" ) then
		return false
	elseif CONDITIONS.InFrontend() and not PROGRESSION.AreCustomLoadoutsUnlocked( f67_arg1.controller ) then
		return false
	elseif CONDITIONS.UsingLoadoutFLC() then
		local f67_local0 = "LoadoutOverview_FLC"
	else
		local f67_local0 = f0_local0
	end
	if CONDITIONS.IsEscortHordeZombiePlayer( f67_arg1.controller ) then
		local f67_local0 = "LoadoutOverview_Zombie"
	end
	if f0_local0( f67_local0 ) then
		return true
	elseif CONDITIONS.IsMenuInStack( f67_local0 ) and not CONDITIONS.IsMenuInStack( f0_local0 ) then
		if LUI.FlowManager.IsMenuOnTop( f67_local0 ) or CONDITIONS.InGame() then
			f67_arg0:dispatchEventToRoot( {
				name = "closing_quick_access_menu",
				controllerIndex = f67_arg1.controller
			} )
			if CONDITIONS.InGame() then
				LUI.FlowManager.RequestCloseAllMenus()
			else
				LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f67_arg0, f67_arg1, f67_local0 )
			end
		else
			ACTIONS.PopMenuStackUpToMenu( f67_local0 )
		end
	else
		if CONDITIONS.IsMenuInStack( f0_local0 ) then
			LUI.UIMouseCursor.ShowMouseCursorOnActivity( true )
			Engine[0x6055C55456F05DF]( "exit_firing_range", 1 )
			if Engine[0x3ECA657EE4C6C9]() then
				Engine[0x5F965FF5540EAC8]( true )
			end
			LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f67_arg0, f67_arg1, f0_local0 )
		end
		f67_arg0:dispatchEventToRoot( {
			immediate = true,
			name = "opening_quick_access_menu"
		} )
		LUI.FlowManager.LeaveQuickMenus( false )
		LUI.FlowManager.RequestAddMenu( f67_local0, true, f67_arg1.controller, nil, {
			isQuickAccess = true
		}, true )
	end
	return true
end

local f0_local28 = function ( f66_arg0, f66_arg1 )
	local f66_local0 = Dvar[0x9E5BE3B4BBA4E0E]( 0xB32F268C08CD4E8 )
	Dvar[0x8EA06EEDB58D872]( 0xB32F268C08CD4E8, not f66_local0 )
	local f66_local1 = LUI.TelemetryLayer.GetLayer()
	if f66_local1 then
		f66_local1:processEvent( {
			name = "toggle_telemetry_option",
			id = "sound",
			value = OPTIONS.ValueToIndex( not f66_local0 ) - 1,
			controllerIndex = f66_arg1.controller
		} )
	end
	return true
end

local f0_local29 = function ( f65_arg0, f65_arg1 )
	local f65_local0 = CHANNELS.GetChannelDataSourceValues( f65_arg1.controller )
	local f65_local1 = CHANNELS.INVALID_PARTY_ID
	if CHANNELS.IsValidPartyID( f65_local0.channelID ) then
		f65_local1 = f65_local0.channelID
	elseif CHANNELS.IsValidPartyID( f65_local0.lastConnectedChannelID ) then
		f65_local1 = f65_local0.lastConnectedChannelID
	else
		return 
	end
	CHANNELS.ToggleVoicePartyConnection( f65_arg1.controller, f65_local1 )
end

local f0_local30 = function ( f64_arg0, f64_arg1 )
	if CHANNELS.IsValidPartyID( Social[0xF12FC4AFD7A2A6D]( f64_arg0._controllerIndex ) ) then
		CHANNELS.ToggleSelfMute( f64_arg1.controller, true )
	end
end

local f0_local31 = function ( f63_arg0, f63_arg1 )
	if CONDITIONS.InFrontend() then
		if CONDITIONS.IsMenuInStack( GLOBAL_PANEL.MENU_NAME ) then
			if LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) then
				local f63_local0 = LUI.FlowManager.GetMenuByName( GLOBAL_PANEL.MENU_NAME )
				f63_local0 = f63_local0.menu
				if f63_local0 then
					if f63_local0.GlobalPanel and f63_local0.GlobalPanel:GetCurrentTabIndex() ~= GLOBAL_PANEL.TAB_INDEX.NAVIGATION then
						f63_local0.GlobalPanel:ChangeTab( GLOBAL_PANEL.TAB_INDEX.NAVIGATION )
					else
						GLOBAL_PANEL.CloseGlobalPanel()
					end
				end
			else
				ACTIONS.PopMenuStackUpToMenu( GLOBAL_PANEL.MENU_NAME )
				GLOBAL_PANEL.CloseGlobalPanel()
			end
		else
			local f63_local0 = f63_arg0:GetStackTop( true )
			if f63_local0 then
				GLOBAL_PANEL.OpenGlobalPanel( f63_local0, f63_arg1.controller )
			end
		end
		return true
	elseif CONDITIONS.InGame() then
		local f63_local0 = CoD.PauseMenuName[CoD.PauseMenu.BR_PAUSE_MENU]
		if CONDITIONS.IsMenuInStack( GLOBAL_PANEL.MENU_NAME ) or CONDITIONS.IsMenuInStack( f63_local0 ) then
			if LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) or LUI.FlowManager.IsMenuOnTop( f63_local0 ) then
				GLOBAL_PANEL.CloseGlobalPanel()
				if Engine[0x74423E76DECE3E4]() or CONDITIONS.IsDungeonsGameType() then
					ACTIONS.ResumeGame()
				end
			elseif CONDITIONS.IsMenuInStack( "LoadoutStation" ) then
				LOADOUT.ExitLoadoutBag()
			else
				ACTIONS.PopMenuStackUpToMenu( GLOBAL_PANEL.MENU_NAME )
			end
		else
			local f63_local1 = f63_arg0:GetMenuStack()
			local f63_local2 = Game[0x28624DEF6F708C8]( f63_arg1.controller, "post_game_state" )
			local f63_local3 = CONDITIONS.IsDungeonsGameType()
			if f63_local3 then
				f63_local3 = f63_local2 >= Enum[0x305CFCC105DB3CE][0xE29BE556067FFA4]
			end
			if f63_local1 and 0 < #f63_local1 and not CONDITIONS.IsMenuInStack( "LoadoutMissionPreview" ) and not f63_local3 then
				LUI.FlowManager.RequestCloseAllMenus()
			end
			f63_arg0:dispatchEventToRoot( {
				name = "pause",
				forcePause = true,
				immediate = true,
				controllerIndex = f63_arg1.controller
			} )
			if Engine[0x74423E76DECE3E4]() or CONDITIONS.IsDungeonsGameType() then
				GAME.PauseGame()
			end
		end
		return true
	else
		return false
	end
end

local f0_local32 = function ( f62_arg0, f62_arg1 )
	if CONDITIONS.IsOptionsSearchEnabled() and (CONDITIONS.InFrontend() or CONDITIONS.IsMenuInStack( OPTIONS.MENU_NAME ) or CONDITIONS.IsMenuInStack( GLOBAL_PANEL.MENU_NAME )) then
		LUI.FlowManager.RequestPopupMenu( nil, f0_local0, true, f62_arg1.controller )
	end
end

local f0_local33 = function ( f61_arg0, f61_arg1 )
	if CONDITIONS.IsSplitscreen() then
		return 
	elseif CONDITIONS.IsMenuInStack( f0_local0 ) then
		f61_arg0:dispatchEventToRoot( {
			name = "closing_quick_access_menu",
			fromBindingPreview = true,
			controllerIndex = f61_arg1.controller
		} )
		LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f61_arg0, f61_arg1, f0_local0 )
	elseif not CONDITIONS.IsSplitScreenMenuInUse() then
		if (Engine[0x74423E76DECE3E4]() or CONDITIONS.IsDungeonsGameType()) and CONDITIONS.InGame() then
			GAME.PauseGame()
		end
		ACTIONS.OpenBindingPreview( f61_arg1.controller )
	end
end

local f0_local34 = function ( f60_arg0, f60_arg1 )
	local f60_local0 = f60_arg0.root and f60_arg0.root:GetControllerIndex() or f60_arg1.controller
	if (CONDITIONS.InFrontend() or CONDITIONS.InGame() and not LUI.FlowManager.IsStackEmpty()) and CONDITIONS.IsChannelsEnabled( f60_local0 ) then
		if CONDITIONS.IsMenuInStack( CHANNELS.CHANNEL_MENU_NAME ) then
			if LUI.FlowManager.IsMenuOnTop( CHANNELS.CHANNEL_MENU_NAME ) then
				CHANNELS.CloseChannelPanel()
				if CONDITIONS.InFrontend() then
					GLOBAL_PANEL.CloseGlobalPanel()
				end
			else
				ACTIONS.PopMenuStackUpToMenu( CHANNELS.CHANNEL_MENU_NAME )
				CHANNELS.CloseChannelPanel()
				if CONDITIONS.InFrontend() then
					GLOBAL_PANEL.CloseGlobalPanel()
				end
			end
		else
			local f60_local1 = f60_arg0:GetStackTop( true )
			if f60_local1 then
				local f60_local2 = LUI.FlowManager.GetPerControllerPersistentData( f60_local0 )
				local f60_local3 = f60_local2.lastSelectedChatID
				local f60_local4 = CHANNELS.GetChannelIDForChatID( f60_local0, f60_local3 )
				local f60_local5
				if f60_local3 then
					f60_local5 = f60_local3
				else
					f60_local5 = TEXTCHAT.IsValidChatType( f60_local0, f60_local3 )
					if f60_local5 then
						f60_local5 = CHANNELS.IsValidPartyID( f60_local4 )
						if not f60_local5 then
							f60_local5 = TEXTCHAT.IsValidChatID( f60_local3 )
						end
					end
				end
				if f60_local5 then
					CHANNELS.OpenChannelPanel( f60_local0, f60_local4, f60_local3, {
						openedWithShortcut = true,
						openGlobalPanel = true,
						defaultTabIndex = CHANNELS.TAB_ID.CHAT,
						groupId = GROUPS.GetJoinedGroupIDByChatID( f60_local0, f60_local3 )
					} )
				else
					local f60_local6 = CONDITIONS.IsMenuInStack
					if not LUI.FlowManager.IsMenuOnTop( GLOBAL_PANEL.MENU_NAME ) and (not f60_local6( f0_local0 ) or f60_local6( f0_local0 )) and not f60_local6( f0_local0 ) and not f60_local6( f0_local0 ) then
						GLOBAL_PANEL.OpenGlobalPanel( f60_local1, f60_local0, GLOBAL_PANEL.TAB_INDEX.CHANNELS )
					end
				end
			end
		end
		return true
	else
		return false
	end
end

local f0_local35 = function ( f59_arg0, f59_arg1 )
	local f59_local0 = Engine[0xEE6F69FEA944B13]()
	local f59_local1 = LOADOUT.GetLoadoutMenuRef()
	local f59_local2 = GL_HACK.GetSPLoadoutMenuRef()
	local f59_local3 = false
	if CONDITIONS.InFrontend() then
		local f59_local4 = true
		if IsMenuInStack( f59_local0, CoD.PauseMenuName[CoD.PauseMenu.FIRING_RANGE_PAUSE_MENU] ) then
			local f59_local5 = CoD.PauseMenuName[CoD.PauseMenu.FIRING_RANGE_PAUSE_MENU]
			f59_arg0:dispatchEventToRoot( {
				name = "closing_quick_access_menu",
				controllerIndex = f59_arg1.controller
			} )
			LUI.FlowManager.PopMenuStackUpToMenu( f59_arg0, f59_arg1, f59_local5 )
			LUI.FlowManager.RequestRestoreMenu( f59_local5, nil, nil, true )
			LUI.FlowManager.RequestLeaveMenuByName( f59_local5, nil, true )
			f59_local4 = false
			f59_local3 = true
		end
		if IsMenuInStack( f59_local0, SOCIAL.MENU_NAME ) then
			f59_arg0:dispatchEventToRoot( {
				name = "closing_quick_access_menu",
				controllerIndex = f59_arg1.controller
			} )
			LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f59_arg0, f59_arg1, SOCIAL.MENU_NAME )
			f59_local4 = false
			f59_local3 = true
		end
		if IsMenuInStack( f59_local0, OPTIONS.MENU_NAME ) then
			f59_arg0:dispatchEventToRoot( {
				name = "closing_quick_access_menu",
				controllerIndex = f59_arg1.controller
			} )
			LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f59_arg0, f59_arg1, OPTIONS.MENU_NAME )
			f59_local4 = false
			f59_local3 = true
		end
		if IsMenuInStack( f59_local0, f59_local1 ) and not IsMenuInStack( f59_local0, f0_local0 ) then
			f59_arg0:dispatchEventToRoot( {
				name = "closing_quick_access_menu",
				controllerIndex = f59_arg1.controller
			} )
			LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f59_arg0, f59_arg1, f59_local1 )
			f59_local4 = false
			f59_local3 = true
		end
		if IsMenuInStack( f59_local0, GLOBAL_PANEL.MENU_NAME ) then
			if f59_local4 then
				GLOBAL_PANEL.CloseGlobalPanel()
			else
				LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f59_arg0, f59_arg1, GLOBAL_PANEL.MENU_NAME )
			end
			f59_local3 = true
		end
		if not f59_local3 then
			local f59_local5 = LUI.FlowManager.GetTopmostMenu()
			if f59_local5 then
				local f59_local6 = f59_local5.menu
				if f59_local6 then
					local f59_local7 = f59_local6:GetFirstChildOfType( 0x74A473CD2E27B5F )
					if f59_local7 then
						f59_local7:processEvent( {
							name = "button_action",
							controller = f59_arg0._controllerIndex
						} )
						f59_local3 = true
					end
				end
			end
		end
	else
		if IsMenuInStack( f59_local0, f59_local1 ) then
			local f59_local4 = LUI.FlowManager.GetScopedData( f59_local1 )
			if not f59_local4.openedFromScriptRequest then
			
			else
				return true
			end
		end
		if IsMenuInStack( f59_local0, f59_local2 ) then
			return true
		end
		LUI.FlowManager.RequestCloseAllMenus()
		f59_local3 = true
	end
	return true
end

local f0_local36 = function ( f57_arg0, f57_arg1 )
	if not CONDITIONS.InGame() or SPSharedUtils.IsSPGametype() then
		local f57_local0 = false
	end
	local f57_local0 = "Proximity_Chat_Timer"
	local f57_local1
	if OPTIONS.GetPlayerDataValue( f57_arg1.controller, CoD.StatsGroup.NonGame, "disableProximityVoice" ) == 0 then
		f57_local1 = 0
	else
		f57_local1 = 1
	end
	Social[0x48B9F3A8FB58EE6]( f57_arg1.controller, f57_local1 )
	f57_arg0._lastProximityChatValue = f57_local1
	if not f57_arg0[f57_local0] then
		f57_arg0:CreateEventTimer( f57_local0, 1000, {
			callbackFunc = function ( f58_arg0 )
				f58_arg0:RemoveEventTimer( f57_arg0 )
				LUI.ToastManager.CreateToast( f57_arg0.controller, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0x7953F23C924FD6D ), Engine[0xED84C33EC5F01EA]( f58_arg0._lastProximityChatValue and 0xFF7151072198E9D or 0x55DB71026F3A1 ), LUI.ToastManager.ToastNotificationType.Channels ), nil, nil, {
					displayTime = 2000
				} )
				f58_arg0._lastProximityChatValue = nil
			end
		} )
	end
	if not LUI.FlowManager.IsStackEmpty( f57_arg0 ) then
		f57_arg0:dispatchEventToRoot( {
			name = "proximity_chat_toggled",
			controllerIndex = f57_arg1.controller,
			newValue = f57_local1
		} )
	end
	return true
end

local f0_local37 = function ( f56_arg0 )
	local f56_local0 = {
		proximity_voice = true,
		search_bar = true,
		keyboard_preview = true,
		global_panel = true,
		quick_social = true,
		quick_options = true,
		quick_cac = true
	}
	if f56_local0[f56_arg0] and CONDITIONS.InGame() then
		if LUI.LoadingScreenManager then
			return LUI.LoadingScreenManager.IsGameLoading()
		else
			return not Game[0xA988866C889EAAD]()
		end
	else
		return false
	end
end

local f0_local38 = function ()
	local f55_local0 = LUI.FlowManager.GetMenuByName( "MainLockoutMenu" )
	local f55_local1 = LUI.FlowManager.IsMenuOnTop( "MainLockoutMenu" )
	if not f55_local1 then
		if f55_local0 then
			f55_local1 = f55_local0
		else
			f55_local1 = f55_local0.menu
			if f55_local1 then
				f55_local1 = not f55_local0.menu.isMenuClosed
			end
		end
	end
	return f55_local1
end

local f0_local39 = function ()
	return GLOBAL_PANEL.IsGlobalPanelChannelTabOpen()
end

local f0_local40 = function ( f53_arg0, f53_arg1 )
	if CONDITIONS.IsBenchmarkMode() and not CONDITIONS.IsMuteSoundShortcut( f53_arg1 ) and not Engine[0x12586A3F4FB490E]() then
		return false
	elseif LUI.FlowManager.IsMenuOnTop( "ContextualTipMenu" ) then
		return false
	elseif IsMenuInStack( Engine[0xEE6F69FEA944B13](), "FiringRangeMenu" ) and (f53_arg1 == "global_panel" or f53_arg1 == "quick_social" or f53_arg1 == "quick_options" or f53_arg1 == "quick_cac" or f53_arg1 == "keyboard_preview") then
		return false
	end
	local f53_local0 = f53_arg0:GetTopMostOpenMenuInfo()
	if f53_local0 and f53_local0.menu then
		if f53_arg1 == "search_bar" and f53_local0.menu.isSearchBarShortcutsDisabled then
			return false
		elseif f53_arg1 == "global_panel" and f53_local0.menu.isGlobalPanelShortcutsDisabled then
			return false
		elseif (f53_arg1 == "quick_social" or f53_arg1 == "quick_options" or f53_arg1 == "global_panel" or f53_arg1 == "quick_cac" or f53_arg1 == "open_chat" or f53_arg1 == "search_bar" or f53_arg1 == "keyboard_preview") and (f53_local0.menu.isQuickAccessShortcutsDisabled or f53_local0.isPopup and f53_local0.isModal) then
			return false
		end
	end
	if f53_arg1 ~= "mute_sound" and f0_local0() then
		return false
	elseif f0_local0( f53_arg1 ) then
		return false
	elseif f53_arg1 == "quick_social" and not CONDITIONS.IsSocialShortcutAllowed() then
		return false
	elseif f53_arg1 == "channel_connect" and (CONDITIONS.IsMenuInStack( "ChannelPanelBase" ) or f0_local0()) then
		return false
	end
	return true
end

local f0_local41 = function ( f52_arg0, f52_arg1 )
	if CONDITIONS.AreQuickAccessShortcutsEnabled() and f52_arg1.down and f0_local0( f52_arg0, f52_arg1.button ) then
		if f52_arg1.button == "mute_sound" then
			return f0_local0( f52_arg0, f52_arg1 )
		elseif CONDITIONS.IsVoiceChatEnabled() and f52_arg1.button == "channel_connect" then
			return f0_local0( f52_arg0, f52_arg1 )
		elseif f52_arg1.button == "mute_microphone" then
			return f0_local0( f52_arg0, f52_arg1 )
		elseif f52_arg1.button == "quick_action_notification" then
			f52_arg0:dispatchEventToRoot( {
				isPrimaryAction = false,
				name = "kbm_notification_prompt_answer"
			} )
		elseif f52_arg1.button == "quick_options" then
			return f0_local0( f52_arg0, f52_arg1 )
		elseif f52_arg1.button == "global_panel" then
			if LUI.ToastManager.HavePrimaryActionOnScreen() then
				f52_arg0:dispatchEventToRoot( {
					isPrimaryAction = true,
					name = "kbm_notification_prompt_answer"
				} )
			else
				return f0_local0( f52_arg0, f52_arg1 )
			end
		elseif f52_arg1.button == "quick_social" then
			return f0_local0( f52_arg0, f52_arg1 )
		elseif f52_arg1.button == "quick_cac" then
			return f0_local0( f52_arg0, f52_arg1 )
		elseif f52_arg1.button == "menu_dismiss" then
			return f0_local0( f52_arg0, f52_arg1 )
		elseif f52_arg1.button == "open_chat" then
			return f0_local0( f52_arg0, f52_arg1 )
		elseif f52_arg1.button == "search_bar" then
			return f0_local0( f52_arg0, f52_arg1 )
		elseif CONDITIONS.IsQuickBindingPreviewButton( f52_arg1 ) then
			return f0_local0( f52_arg0, f52_arg1 )
		elseif f52_arg1.button == "proximity_voice" then
			return f0_local0( f52_arg0, f52_arg1 )
		end
	end
	return false
end

LUI.FlowManager.LeaveQuickMenus = function ( f51_arg0, f51_arg1, f51_arg2 )
	local f51_local0 = Engine[0xEE6F69FEA944B13]()
	local f51_local1
	if f51_arg0 == nil then
		f51_local1 = true
	else
		f51_local1 = f51_arg0
	end
	if f51_local1 then
		f51_local0:dispatchEventToRoot( {
			name = "closing_quick_access_menu"
		} )
	end
	if IsMenuInStack( f51_local0, SOCIAL.MENU_NAME ) then
		LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f51_local0.flowManager, nil, SOCIAL.MENU_NAME, f51_arg1, f51_arg2 )
	end
	if IsMenuInStack( f51_local0, OPTIONS.MENU_NAME ) then
		LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f51_local0.flowManager, nil, OPTIONS.MENU_NAME, f51_arg1, f51_arg2 )
	end
	if IsMenuInStack( f51_local0, f0_local0 ) and not IsMenuInStack( f51_local0, f0_local0 ) and not Table.FindItemIndexInArray( f51_arg1, f0_local0 ) then
		LUI.FlowManager.PopMenuStackUntilMenuIsRemoved( f51_local0.flowManager, nil, f0_local0, f51_arg1, f51_arg2 )
	end
end

LUI.FlowManager.PopMenuStackUpToSocialMenu = function ( f50_arg0 )
	if LUI.FlowManager.IsInStack( SOCIAL.MENU_NAME ) then
		LUI.FlowManager.PopMenuStackUpToMenu( SOCIAL.MENU_NAME, f50_arg0 )
		return true
	else
		return false
	end
end

LUI.FlowManager.CreateMenuExitByIdFunc = function ( f48_arg0, f48_arg1 )
	local f48_local0 = Engine[0xEE6F69FEA944B13]()
	local f48_local1 = f48_arg0:GetCurrentMenu() or f48_arg0
	local f48_local2 = f48_local1.id
	return function ()
		LUI.FlowManager.RequestLeaveMenuByName( f48_arg0, f48_arg0 )
	end
	
end

LUI.FlowManager.init = function ( f43_arg0, f43_arg1, f43_arg2 )
	LUI.UIElement.init( f43_arg0 )
	f43_arg0.id = "flowManager"
	f43_arg0.root = f43_arg1
	f43_arg0._controllerIndex = f43_arg2
	f43_arg0.menuInfoStack = {}
	f43_arg0.menuHistoryQueue = LUI.CreateQueue()
	f43_arg0.menuHistoryQueue.maxLen = 64
	f43_arg0.stackVersion = 0
	f43_arg0._menuStackCount = 0
	f43_arg0.stackChangeTime = Engine[0x6991337AE950F99]()
	f43_arg0.stackChangeMenu = "NA"
	f43_arg0.isPartyUIRootDirty = false
	f43_arg0.isGameModeUIRootDirty = false
	f43_arg0.gameModeKey = Enum[0xAC7E3CE067D9A9F][0xC0D17BAD169557B]
	f43_arg0.isShuttingDownGameModeInFenceUpdate = false
	f43_arg0.GetMenuStack = f0_local0
	f43_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		if f43_arg0( element, event ) then
			return true
		end
		local f47_local0 = f43_arg0:GetTopMostOpenMenuInfo()
		if f47_local0 then
			local f47_local1
			if f47_local0.controller and event.controller and f47_local0.controller ~= event.controller then
				f47_local1 = false
			else
				f47_local1 = true
			end
			if f47_local1 then
				return element:ForwardEventToTopMostOpenMenu( event )
			elseif not f47_local0.isControllerExclusive then
				if LUI.FlowManager.TabsBlockInput( f47_local0.menu, event ) then
					return false
				else
					return element:ForwardEventToTopMostOpenMenu( event )
				end
			end
		end
		return false
	end )
	if Engine[0x5EE05AD994388B6]() then
		f43_arg0:replaceEventHandler( "mousemove", f43_arg0.ForwardMouseEventToTopMostOpenMenu )
		f43_arg0:replaceEventHandler( "mousedown", f43_arg0.ForwardMouseEventToTopMostOpenMenu )
		f43_arg0:replaceEventHandler( "mouseup", f43_arg0.ForwardMouseEventToTopMostOpenMenu )
	end
	local f43_local0 = Engine[0x7AE6126734FCDB]()
	local f43_local1 = f43_arg0
	local f43_local2 = f43_arg0.registerEventHandler
	local f43_local3 = "addmenu"
	local f43_local4
	if f43_local0 then
		f43_local4 = f43_arg0.addMenuHandler_TEL
		if not f43_local4 then
		
		else
			f43_local2( f43_local1, f43_local3, f43_local4 )
			f43_local1 = f43_arg0
			f43_local2 = f43_arg0.registerEventHandler
			f43_local3 = "popupmenu"
			if f43_local0 then
				f43_local4 = f43_arg0.popupMenuHandler_TEL
				if not f43_local4 then
				
				else
					f43_local2( f43_local1, f43_local3, f43_local4 )
					f43_local1 = f43_arg0
					f43_local2 = f43_arg0.registerEventHandler
					f43_local3 = "leavemenu"
					if f43_local0 then
						f43_local4 = f43_arg0.leaveMenuHandler_TEL
						if not f43_local4 then
						
						else
							f43_local2( f43_local1, f43_local3, f43_local4 )
							f43_local1 = f43_arg0
							f43_local2 = f43_arg0.registerEventHandler
							f43_local3 = "restoreMenu"
							if f43_local0 then
								f43_local4 = f43_arg0.restoreMenuHandler_TEL
								if not f43_local4 then
								
								else
									f43_local2( f43_local1, f43_local3, f43_local4 )
									f43_local1 = f43_arg0
									f43_local2 = f43_arg0.registerEventHandler
									f43_local3 = "auto_navigation_to_menu"
									if f43_local0 then
										f43_local4 = f43_arg0.autoNavigationToMenuHandler_TEL
										if not f43_local4 then
										
										else
											f43_local2( f43_local1, f43_local3, f43_local4 )
											f43_arg0:registerEventHandler( "closeallmenus", f43_arg0.closeAllMenusHandler )
											if CONDITIONS.IsSplitscreen() then
												f43_arg0:registerEventHandler( "remove_menu_stack", f43_arg0.removeMenuStack )
											end
											if Engine[0x9258F49F515F97B]() and not Engine[0x12586A3F4FB490E]() then
												f43_arg0:registerOmnvarHandler( "ui_options_menu", function ( f46_arg0, f46_arg1 )
													f46_arg0:OpenMenuByScriptRequest( f46_arg1.value )
												end )
												f43_arg0:OpenMenuByScriptRequest( Game[0x28624DEF6F708C8]( f43_arg2, "ui_options_menu" ) )
											end
											if CONDITIONS.IsMobileOrMobileSim() then
												LUI.FlowManager.FlowMenus[PartyUIRoot.MP_MAIN_MENU] = "MainMenuMobile"
												LUI.FlowManager.FlowMenus[PartyUIRoot.BR_MAIN_MENU] = "MainMenuMobile"
												LUI.FlowManager.FlowMenus[PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY] = "MagellanLobby"
												LUI.FlowManager.FlowMenus[PartyUIRoot.WZ_PRIVATE_MATCH_LOBBY] = "MobilePrivateMatchLobby"
												f43_arg0:addEventHandler( "empty_menu_stack", function ( f45_arg0, f45_arg1 )
													LUI.FlowManager.MobileClearTakeDamageSubscription()
												end )
												f43_local1 = f43_arg0
												f43_local2 = f43_arg0.addEventHandler
												f43_local3 = "on_mobile_webview_open"
												if f43_local0 then
													f43_local4 = f43_arg0.onMobileWebviewOpenHandler_TEL
													if not f43_local4 then
													
													else
														f43_local2( f43_local1, f43_local3, f43_local4 )
													end
												end
												f43_local4 = f43_arg0.onMobileWebviewOpenHandler
											end
											f43_arg0:registerEventHandler( "update_publisher_variables", function ( element, event )
												if CONDITIONS.InFrontend() and PLAY_MENU then
													PLAY_MENU.GetFreeTrialGameModes( true )
												end
											end )
										end
									end
									f43_local4 = f43_arg0.autoNavigationToMenuHandler
								end
							end
							f43_local4 = f43_arg0.restoreMenuHandler
						end
					end
					f43_local4 = f43_arg0.leaveMenuHandler
				end
			end
			f43_local4 = f43_arg0.popupMenuHandler
		end
	end
	f43_local4 = f43_arg0.addMenuHandler
end

LUI.FlowManager.GetGamemodeForUIRoot = function ( f42_arg0 )
	if f42_arg0 > PartyUIRoot.GAMEMODE_NONE_MENUS_START and f42_arg0 < PartyUIRoot.GAMEMODE_NONE_MENUS_END then
		return CoD.PlayMode.None
	elseif f42_arg0 > PartyUIRoot.GAMEMODE_SP_MENUS_START and f42_arg0 < PartyUIRoot.GAMEMODE_SP_MENUS_END then
		return CoD.PlayMode.SP
	elseif f42_arg0 > PartyUIRoot.GAMEMODE_MP_MENUS_START and f42_arg0 < PartyUIRoot.GAMEMODE_MP_MENUS_END then
		return CoD.PlayMode.Core
	elseif f42_arg0 > PartyUIRoot.GAMEMODE_CP_MENUS_START and f42_arg0 < PartyUIRoot.GAMEMODE_CP_MENUS_END then
		return CoD.PlayMode.Aliens
	elseif f42_arg0 > PartyUIRoot.GAMEMODE_WZ_MENUS_START and f42_arg0 < PartyUIRoot.GAMEMODE_WZ_MENUS_END then
		return CoD.PlayMode.Core
	elseif f42_arg0 > PartyUIRoot.OFFLINE_GAMEMODE_SP_MENUS_START and f42_arg0 < PartyUIRoot.OFFLINE_GAMEMODE_SP_MENUS_END then
		return CoD.PlayMode.SP
	else
		
	end
end

LUI.FlowManager.IsUIRootBRGamemode = function ( f41_arg0 )
	local f41_local0
	if (f41_arg0 < BR_MENUS_START or f41_arg0 > BR_MENUS_END) and (f41_arg0 <= PartyUIRoot.GAMEMODE_WZ_MENUS_START or f41_arg0 >= PartyUIRoot.GAMEMODE_WZ_MENUS_END) then
		f41_local0 = false
	else
		f41_local0 = true
	end
	return f41_local0
end

LUI.FlowManager.IsAutoNavigationActive = function ()
	local f40_local0 = Engine[0xEE6F69FEA944B13]()
	local f40_local1 = f40_local0.flowManager
	local f40_local2 = f40_local1.isGameModeUIRootDirty
	if not f40_local2 then
		f40_local2 = f40_local1.isPartyUIRootDirty
	end
	return f40_local2
end

LUI.FlowManager.RequestAutomaticNavigation = function ( f39_arg0, f39_arg1 )
	local f39_local0 = Engine[0xEE6F69FEA944B13]()
	local f39_local1 = f39_local0.flowManager
	f39_local1.isGameModeUIRootDirty = true
	f39_local1._autoNavDestination = f39_arg0
	f39_local1._autoNavBuildData = f39_arg1
	METRICS.SendDlogEventCODHQ_UISession( f39_local1._controllerIndex, LUI.FlowManager.FlowMenus[f39_arg0] )
end

LUI.FlowManager.ResetAutomaticNavigation = function ( f38_arg0 )
	local f38_local0 = Engine[0xEE6F69FEA944B13]()
	local f38_local1 = f38_local0.flowManager
	f38_local1.isGameModeUIRootDirty = false
	f38_local1._autoNavDestination = nil
	f38_local1._autoNavBuildData = nil
end

LUI.FlowManager.MarkUIRootDirty = function ( f37_arg0 )
	local f37_local0 = Engine[0xEE6F69FEA944B13]()
	f37_local0.flowManager.isPartyUIRootDirty = true
end

LUI.FlowManager.AutomaticNavigationFrame = function ( f36_arg0 )
	local f36_local0 = PartyUIRoot.FREE
	local f36_local1 = LUI.FlowManager.AutoNavigationType.NONE
	local f36_local2 = {}
	local f36_local3 = {}
	local f36_local4 = f36_arg0._controllerIndex
	if not f36_local4 then
		f36_local4 = Engine[0x45B054C920178E9]()
	end
	if f36_arg0.isGameModeUIRootDirty then
		f36_local0 = f36_arg0._autoNavDestination
		f36_local1 = LUI.FlowManager.AutoNavigationType.GAME_MODE
		if f36_arg0._autoNavBuildData then
			f36_local2 = f36_arg0._autoNavBuildData
		end
	elseif f36_arg0.isPartyUIRootDirty and Engine[0x71280024B610B02]() then
		f36_local0 = Lobby[0x340158680AC50CB]()
		f36_local1 = LUI.FlowManager.AutoNavigationType.PARTY_UI_ROOT
		if f36_local0 == PartyUIRoot.FREE then
			f36_arg0.isPartyUIRootDirty = false
		end
	else
		local f36_local5 = Tournament[0xB06A385411B9B43]()
		if f36_local5 ~= PartyUIRoot.FREE then
			f36_local0 = f36_local5
			f36_local1 = LUI.FlowManager.AutoNavigationType.TOURNAMENT
			f36_local3.leaveLobby = true
			f36_local3.createPrivateParty = true
		end
	end
	if f36_local0 ~= PartyUIRoot.FREE then
		if Dvar[0x9E5BE3B4BBA4E0E]( 0xB189E9721E5C907 ) and (Friends[0x46D7C4C8488282E]() or not Engine[0x8B495DC361731F7]( f36_local4 ) or not Engine[0xDA7A89CE2B1A2CA]( f36_local4 ) or CONDITIONS.IsMagmaGameMode()) then
			if f36_local0 == PartyUIRoot.MP_PUBLIC_MATCH_LOBBY then
				f36_local0 = PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY
			elseif f36_local0 == PartyUIRoot.TOURNAMENT_LOADING or f36_local0 == PartyUIRoot.TOURNAMENT_MATCHMAKING or f36_local0 == PartyUIRoot.TOURNAMENT_BRACKET then
				f36_local0 = TOURNAMENT.GetUIRootForF2PFromPremiumIfF2PAllowed( f36_local0 )
			end
		end
		if CONDITIONS.IsMobileOrMobileSim() and f36_local0 == PartyUIRoot.MP_PUBLIC_MATCH_LOBBY then
			f36_local0 = PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY
		end
		if f36_arg0:DoAutomaticNavigation( f36_local0, f36_local2, f36_local3 ) then
			if f36_local1 == LUI.FlowManager.AutoNavigationType.GAME_MODE then
				f36_arg0.isGameModeUIRootDirty = false
				f36_arg0._autoNavDestination = nil
				f36_arg0._autoNavBuildData = nil
			elseif f36_local1 == LUI.FlowManager.AutoNavigationType.PARTY_UI_ROOT then
				f36_arg0.isPartyUIRootDirty = false
			elseif f36_local1 == LUI.FlowManager.AutoNavigationType.TOURNAMENT then
				Tournament[0xB38329E392C08B9]()
			end
		else
			LUI.MouseCursorContextualMenuLayer.ForceCloseContextualMenu()
		end
	end
	local f36_local5 = f36_arg0.isGameModeUIRootDirty or f36_arg0.isPartyUIRootDirty
	if f36_arg0._previousFrameAutoNavActive == nil or f36_arg0._previousFrameAutoNavActive ~= f36_local5 then
		f36_arg0:dispatchEventToRoot( {
			name = "auto_navigation_state_changed",
			isActive = f36_local5
		} )
	end
	f36_arg0._previousFrameAutoNavActive = f36_local5
end

LUI.FlowManager.DoAutomaticNavigation = function ( f35_arg0, f35_arg1, f35_arg2, f35_arg3 )
	local f35_local0 = f35_arg3.leaveLobby
	local f35_local1 = f35_arg3.createPrivateParty
	if Engine[0x7B6EB1163EFAAE0]() then
		END_GAME.StopServerAndLeave( f35_arg0 )
		return false
	elseif not Engine[0x12586A3F4FB490E]() then
		return false
	elseif Lobby[0x9FF3CECE5278A72]() then
		return false
	elseif f35_local0 and Lobby[0xF1D2956B0C99DF6]() then
		if IsPrivateMatch() then
			Lobby.LeaveCustomGameLobby()
		elseif IsPublicMatch() then
			Lobby.LeavePublicLobby()
		end
		return false
	end
	local f35_local2 = Engine[0x45B054C920178E9]()
	if f35_local0 and IsSystemLink() then
		Engine[0x5DEE98AA6FB3C2]( f35_local2, CoD.LeavePartyMoveUI.NO, CoD.LeavePartyShowMessage.NO, "DoAutomaticNavigation systemlink" )
		Dvar[0x8EA06EEDB58D872]( 0x3DDB961100B5F47, false )
		return false
	elseif f35_local1 and not Lobby[0x63537242F1D48FF]() then
		Social[0x4CFFBE37F5E69BB]( f35_local2, "DoAutomaticNavigation" )
		return false
	end
	local f35_local3 = Engine[0xCFB814FF4C67F87]()
	if Game[0xD36E3CAF4F0D8DB]() == Enum[0xAC7E3CE067D9A9F][0xFD56C8DFAC46196] then
		f35_local3 = CoD.PlayMode.None
	end
	if (f35_local3 ~= LUI.FlowManager.GetGamemodeForUIRoot( f35_arg1 ) or LUI.FlowManager.IsUIRootBRGamemode( f35_arg1 ) ~= CONDITIONS.IsMagmaGameMode() and not CONDITIONS.IsMobileOrMobileSim()) and f35_local3 ~= CoD.PlayMode.None then
		local f35_local4 = Engine[0x45B054C920178E9]()
		local f35_local5 = LUI.FlowManager.FlowMenus[CONDITIONS.IsInOfflineMenus() and PartyUIRoot.MAIN_MENU_OFFLINE or PartyUIRoot.MAIN_MENU]
		f35_arg0:closeAllMenusNotInStack( PresetStacks[f35_local5], f35_local5 )
		if LUI.FlowManager.IsInStack( f35_local5 ) then
			LUI.FlowManager.RequestRestoreMenu( f35_local5, nil, f35_local4, false )
		else
			f35_arg0:addMenu( {
				menu = f35_local5,
				controller = f35_local4
			} )
		end
		return false
	end
	local f35_local4 = LUI.FlowManager.FlowMenus[f35_arg1]
	if not f35_local4 then
		return true
	end
	for f35_local8, f35_local9 in pairs( IgnoreFollowHostCallbacks ) do
		if f35_arg0:StackContains( f35_local8 ) and f35_local9( f35_local4 ) then
			return true
		end
	end
	f35_local6 = f35_arg0:StackContains( f35_local4 )
	f35_local5 = false
	for f35_local7 = f35_arg1 + 1, PartyUIRoot.LAST, 1 do
		if f35_arg0:StackContains( LUI.FlowManager.FlowMenus[f35_local7] ) then
			f35_local5 = true
			break
		end
	end
	if f35_local6 and not f35_local5 then
		return true
	elseif f35_arg2.useMainMenuKeyartTransition and f35_arg2.mainMenuKeyartTransitionOptions and f35_arg2.mainMenuKeyartTransitionOptions.menu then
		f35_arg0:addMenu( {
			isPopup = true,
			isModal = false,
			menu = f35_arg2.mainMenuKeyartTransitionOptions.menu,
			controller = f35_local2,
			data = f35_arg2.mainMenuKeyartTransitionOptions
		} )
	elseif not CONDITIONS.IsUsingPreNavSystem() or f35_arg0:CheckScreenNavigation( f35_local4, f35_arg2, f35_arg2.exclusiveController, f35_local2 ) then
		f35_arg0:closeAllMenusNotInStack( PresetStacks[f35_local4], f35_local4 )
		if LUI.FlowManager.IsInStack( f35_local4 ) then
			LUI.FlowManager.RequestRestoreMenu( f35_local4, nil, f35_local2, false )
		else
			f35_arg0:addMenu( {
				menu = f35_local4,
				controller = f35_local2,
				data = f35_arg2
			} )
		end
	end
	return false
end

LUI.FlowManager.CheckScreenNavigation = function ( f34_arg0, f34_arg1, f34_arg2, f34_arg3, f34_arg4 )
	local f34_local0 = LUI.UIRoot.GetTabName()
	local f34_local1 = false
	if f34_arg0:CreateMenuInfo( f34_arg1, f34_arg2, f34_arg3, f34_arg4, f34_local0 ) then
		f34_local1 = true
	end
	return f34_local1
end

LUI.FlowManager.OpenMenuByScriptRequest = function ( f30_arg0, f30_arg1 )
	if not Game[0xA988866C889EAAD]() then
		
	else
		
	end
	local f30_local0 = nil
	f30_local0 = function ( f32_arg0 )
		local f32_local0 = f30_arg0:Wait( 16 )
		f32_local0.onComplete = function ()
			if f32_arg0.root.loadingScreenManager and f32_arg0.root.loadingScreenManager:ShouldBeVisible() then
				f32_arg0( f32_arg0 )
			else
				f32_arg0()
			end
		end
		
	end
	
	local f30_local1 = {
		nil,
		"TeamSelectMenu",
		nil,
		"LaunchChunkNewPhasePopup",
		"FieldUpgrades",
		"LoadoutMissionPreview",
		[2] = LOADOUT.GetLoadoutMenuRef()
	}
	if f30_local1[f30_arg1] then
		local f30_local2 = f30_arg0.root:GetControllerIndex()
		f30_local0( function ()
			LUI.FlowManager.RequestAddMenu( f30_arg0, true, f30_arg0, false, {
				openedFromScriptRequest = true
			}, true )
			if f30_arg0 ~= "LaunchChunkNewPhasePopup" then
				LUI.FlowManager.RequestSetStack( f30_arg0, {
					{
						name = CoD.GetPauseMenuFromCurrentContext()
					}
				} )
			end
		end )
	end
	LUI.FlowManager.RequestCloseAllMenus()
end

LUI.FlowManager.ShouldBeVisible = function ( f29_arg0 )
	local f29_local0 = Engine[0x12586A3F4FB490E]()
	if not f29_local0 then
		f29_local0 = Game[0xA988866C889EAAD]()
	end
	return f29_local0
end

LUI.FlowManager.SetGameModeKey = function ( f28_arg0 )
	local f28_local0 = Engine[0xEE6F69FEA944B13]()
	f28_local0.flowManager.gameModeKey = f28_arg0
end

LUI.FlowManager.LogMenuChangeTo = function ( f27_arg0, f27_arg1, f27_arg2 )
	if f27_arg0.stackChangeMenu ~= f27_arg2 then
		local f27_local0 = Engine[0x6991337AE950F99]()
		local f27_local1 = f27_local0 - (f27_arg0.stackChangeTime or 0)
		if 0 > f27_arg1 or not f27_arg1 then
			f27_arg1 = 0
		end
		if String.IsNilOrEmpty( f27_arg2 ) then
			f27_arg2 = "NA"
		else
			
		end
		local f27_local2
		if String.IsNilOrEmpty( f27_arg0.stackChangeMenu ) then
			f27_local2 = "NA"
		else
			f27_local2 = f27_arg0.stackChangeMenu
		end
		f27_arg0.stackChangeMenu = f27_local2
		Engine[0xCC15E38125CE143]( f27_arg1, f27_arg0.stackChangeMenu, f27_arg2, f27_local1 )
		f27_arg0.stackChangeMenu = f27_arg2
		f27_arg0.stackChangeTime = f27_local0
	end
end

LUI.FlowManager.Frame = function ( f26_arg0 )
	f26_arg0:RefreshStack()
	f26_arg0:AutomaticNavigationFrame()
end

LUI.FlowManager.InitLayer = function ( f23_arg0 )
	if Engine[0x12586A3F4FB490E]() and not f23_arg0._partyRootSubscription then
		local f23_local0 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.partyUIRoot" )
		f23_local0 = f23_local0:GetModel( 0 )
		local f23_local1 = Lobby[0x340158680AC50CB]()
		f23_arg0._partyRootSubscription = f23_arg0:SubscribeToModel( f23_local0, function ( f25_arg0 )
			local f25_local0 = Lobby[0x340158680AC50CB]()
			if f25_local0 > PartyUIRoot.LOCKOUT_MENU then
				LUI.FlowManager.MarkUIRootDirty( "party root subscription" )
				if not LUI.FlowManager.FlowMenus[f23_arg0] then
					local f25_local1 = tostring( f23_arg0 )
				end
				if not LUI.FlowManager.FlowMenus[f25_local0] then
					local f25_local2 = tostring( f25_local0 )
				end
				f23_arg0 = f25_local0
			end
		end )
	end
	if Engine[0x12586A3F4FB490E]() and Engine[0x2DA54CF5D6B7F02]() and not f23_arg0._elementMapSubscription then
		f23_arg0._elementMapSubscription = f23_arg0:SubscribeToModel( DataSources.debug.drawMenuMap:GetModel( 0 ), function ( f24_arg0 )
			local f24_local0 = DataModel[0x614D394F6F9A18D]( f24_arg0 )
			if f24_local0 and not Dvar[0x9E5BE3B4BBA4E0E]( 0x24884D20CAFED57 ) then
				Dvar[0x8EA06EEDB58D872]( 0x24884D20CAFED57, true )
				Engine[0x7C75E608EA39B5C]( "luiReloadMenus" )
			elseif not f24_local0 and Dvar[0x9E5BE3B4BBA4E0E]( 0x24884D20CAFED57 ) then
				Dvar[0x8EA06EEDB58D872]( 0x24884D20CAFED57, false )
				Engine[0x7C75E608EA39B5C]( "luiReloadMenus" )
			end
		end )
	end
end

LUI.FlowManager.ClearLayer = function ( f22_arg0 )
	f22_arg0:closeAllMenus()
	if f22_arg0._partyRootSubscription then
		f22_arg0:UnsubscribeFromModel( f22_arg0._partyRootSubscription )
		f22_arg0._partyRootSubscription = nil
	end
end

LUI.FlowManager.ResetFenceGroups = function ()
	local f21_local0 = Engine[0xEE6F69FEA944B13]()
	for f21_local4, f21_local5 in ipairs( f21_local0.flowManager.menuInfoStack ) do
		local f21_local6 = f21_local5.fenceGroup
		if f21_local6 then
			f21_local6:Reset()
		end
	end
end

LUI.FlowManager.StartGameModeForTopFullscreenMenu = function ()
	local f20_local0 = Engine[0xEE6F69FEA944B13]()
	if 0 < #f20_local0.flowManager.menuInfoStack then
		
	else
		
	end
end

LUI.FlowManager.RefreshStack = function ( f19_arg0 )
	LUI.FlowManager.DebugMenuFlowPrint( "RefreshStack" )
	local f19_local0 = Engine[0xEE6F69FEA944B13]()
	if DataSources.alwaysLoaded.flowManager.stackEmpty then
		DataSources.alwaysLoaded.flowManager.stackEmpty:SetValue( f19_arg0._controllerIndex, not AnyActiveMenusInStack( f19_local0 ) )
	end
	if f19_arg0._menuStackCount == 0 then
		local f19_local1 = f19_arg0._controllerIndex
		if not f19_local1 then
			f19_local1 = Engine[0x45B054C920178E9]()
		end
		DataSources.alwaysLoaded.uri.menuOnTop:SetValue( f19_local1, "" )
		for f19_local5, f19_local6 in pairs( DataSources.alwaysLoaded.uri.menusInStack ) do
			f19_local6:SetValue( f19_local1, false )
		end
		for f19_local5, f19_local6 in pairs( DataSources.alwaysLoaded.uri.menusOpened ) do
			f19_local6:SetValue( f19_local1, false )
		end
		return 
	else
		for f19_local4, f19_local5 in ipairs( f19_arg0.menuInfoStack ) do
			if f19_local5.fenceGroup then
				local f19_local6 = f19_local5.name
				LUI.FlowManager.DebugMenuFlowPrint( "RefreshStack - Processing fence group for menu : " .. f19_local6 )
				f19_local5.fenceGroup:Frame( f19_arg0.gameModeKey, f19_local6 )
			end
			local f19_local6 = f19_local5.fenceGroup
			if f19_local6 then
				f19_local6 = not f19_local5.fenceGroup:Passes()
			end
			f19_local5.fenced = f19_local6
			if f19_local5.fenced then
				for f19_local6 = f19_local4 + 1, f19_arg0._menuStackCount, 1 do
					local f19_local9 = f19_arg0.menuInfoStack[f19_local6]
					if f19_local9 then
						LUI.FlowManager.DebugMenuFlowPrint( "RefreshStack - currentMenu [" .. f19_arg0.menuInfoStack[f19_local4].name .. "], menuInfoToReset [" .. f19_local9.name .. "]" )
						local f19_local10 = f19_local9.fenceGroup
						if f19_local10 then
							LUI.FlowManager.DebugMenuFlowPrint( "RefreshStack - resetting fenceGroup" )
							f19_local10:Reset()
						end
					end
				end
				f19_local5.fenceGroup:DumpFenceState( f19_local5.name )
			end
		end
		f19_local1 = f19_arg0._menuStackCount
		for f19_local5, f19_local6 in ipairs( f19_arg0.menuInfoStack ) do
			if f19_local6.fenced then
				f19_local1 = f19_local5 - 1
				break
			end
		end
		f19_local2 = 1
		for f19_local6, f19_local7 in ipairs( f19_arg0.menuInfoStack ) do
			if not f19_local7.isPopup and (f19_local7.menu or f19_local6 <= f19_local1) then
				f19_local2 = f19_local6
			end
		end
		f19_local3 = f19_arg0:GetStackVersion()
		for f19_local7, f19_local8 in ipairs( f19_arg0.menuInfoStack ) do
			if f19_local3 ~= f19_arg0:GetStackVersion() then
				return f19_arg0:RefreshStack()
			elseif f19_local7 < f19_local2 then
				if f19_local8.menu and not AlwaysVisible[f19_local8.name] then
					f19_arg0:CloseMenuInfo( f19_local8, false, true )
				end
			end
			if not f19_local8.menu and (f19_local7 <= f19_local1 or f19_local8.isModal) then
				Engine[0x20F70AE94873E0B]( "(FlowManager OpenMenuInfo) " .. f19_local8.name, "widget" )
				Engine[0xD75F5E555D60E1]( "OpenMenuInfo: " .. f19_local8.name )
				f19_arg0:OpenMenuInfo( f19_local8 )
				Engine[0x4D47DEF7D5ED4B9]()
				Engine[0xFE34BB8C92CDBEE]( "(FlowManager OpenMenuInfo) " .. f19_local8.name, "widget" )
			end
		end
		f19_local4 = f19_arg0._controllerIndex
		if not f19_local4 then
			f19_local4 = Engine[0x45B054C920178E9]()
		end
		f19_local5 = f0_local0( f19_local4 )
		f19_local6 = nil
		for f19_local9, f19_local10 in ipairs( f19_arg0.menuInfoStack ) do
			local f19_local15 = f19_local10.onTop == true
			local f19_local12 = f19_local10.menu
			if f19_local12 then
				f19_local12 = f19_local9 == f19_arg0._menuStackCount
			end
			f19_local10.onTop = f19_local12
			if f19_local9 > f19_local1 or f19_local1 >= f19_arg0._menuStackCount then
				f19_local12 = false
			else
				f19_local12 = true
			end
			LUI.FlowManager.IsBelowBlockingFence = f19_local12
			if f19_local10.menu then
				if f19_local10.onTop then
					if f19_local10.menu.popupActive then
						f19_local10.menu:processEvent( {
							dispatchChildren = true,
							name = "popup_inactive"
						} )
						f19_local10.menu.popupActive = nil
					end
					if not f19_local15 then
						if DisableMousePointer[f19_local10.name] then
							f19_arg0.root:RemoveMouseCursor()
						else
							f19_arg0.root:TryAddMouseCursor()
						end
						local f19_local13, f19_local14 = f19_local10.menu:restoreState( f19_local5[f19_local10.name], f19_local10.controller, nil, nil, f19_local10.lastClosedMenuName )
						if not LUI.IsLastInputMouseNavigation( f19_local10.controller ) then
							if not f19_local13 or f19_local14 == 0 then
								Engine[0x20F70AE94873E0B]( "(FlowManager gain_focus) " .. f19_local10.name, "widget" )
								f19_local10.menu:processEvent( {
									name = "gain_focus",
									controller = f19_local10.controller,
									focusType = FocusType.MenuFlow
								} )
								Engine[0xFE34BB8C92CDBEE]( "(FlowManager gain_focus) " .. f19_local10.name, "widget" )
							end
						else
							Engine[0xA1DAA3E8650282A]( f19_local10.controller )
							LUI.MouseCursorTooltipLayer.ForceCloseTooltip( f19_local10.controller )
						end
						LUI.MouseCursorContextualMenuLayer.ForceCloseContextualMenu()
						f19_local5[f19_local10.name] = nil
						f19_local6 = f19_local10
					end
				else
					if f19_local15 then
						f19_local5[f19_local10.name] = f19_local10.menu:saveState()
						f19_local10.menu:processEvent( {
							name = "lose_focus"
						} )
						f19_local10.menu:processEvent( {
							dispatchChildren = true,
							name = "popup_active"
						} )
					end
					f19_local10.menu.popupActive = true
				end
				if f19_local10.menu.isBelowBlockingFence ~= f19_local12 then
					f19_local10.menu.isBelowBlockingFence = f19_local12
					if f19_local12 then
						f19_local10.menu:processEventNoDispatch( {
							name = "below_blocking_fence"
						} )
					else
						f19_local10.menu:processEventNoDispatch( {
							name = "not_below_blocking_fence",
							isAutoNavigationActive = f19_arg0.IsAutoNavigationActive()
						} )
					end
				end
			end
		end
		LUI.DeferredFence.DeferredFenceUpdate()
		if CONDITIONS.IsFTUEMobileEnabled() and f19_local6 then
			FTUE.StorePendingLocation( {
				menu = f19_local6.menu,
				isModal = f19_local6.isModal,
				isPopup = f19_local6.isPopup
			} )
		end
		f19_local7 = LUI.FlowManager.GetTopMostOpenMenuInfo()
		if f19_local7 and DataSources.alwaysLoaded.uri.menuOnTop then
			DataSources.alwaysLoaded.uri.menuOnTop:SetValue( f19_arg0._controllerIndex, f19_local7.name )
		end
		for f19_local10, f19_local15 in pairs( DataSources.alwaysLoaded.uri.menusInStack ) do
			f19_local15:SetValue( f19_local4, IsMenuInStack( f19_local0, f19_local10 ) )
		end
		for f19_local10, f19_local15 in pairs( DataSources.alwaysLoaded.uri.menusOpened ) do
			f19_local15:SetValue( f19_local4, IsMenuOpenAndVisible( f19_local0, f19_local10 ) )
		end
	end
end

LUI.FlowManager.processEvent = function ( f18_arg0, f18_arg1 )
	local f18_local0 = nil
	local f18_local1 = f18_arg0.m_eventHandlers[f18_arg1.name]
	if f18_local1 then
		f18_local0 = f18_local1( f18_arg0, f18_arg1 )
	else
		f18_local0 = LUI.UIElement.processEvent( f18_arg0, f18_arg1 )
	end
	if not f18_local0 and f18_arg0.IsNavigationEvent( f18_arg1 ) then
		f18_arg0:EnsureFocus( f18_arg1 )
	end
	return f18_local0
end

LUI.FlowManager.EnsureFocus = function ( f17_arg0, f17_arg1 )
	local f17_local0 = f17_arg0.menuInfoStack[f17_arg0._menuStackCount]
	if f17_local0 and f17_local0.menu and not f17_local0.menu:getFirstInFocus() then
		f17_local0.menu:processEvent( {
			fromEnsureFocus = true,
			name = "gain_focus",
			controller = f17_arg1.controller,
			focusType = f17_arg1.name
		} )
	end
end

LUI.FlowManager.ForwardEventToTopMostOpenMenu = function ( f16_arg0, f16_arg1 )
	local f16_local0 = f16_arg0:GetTopMostOpenMenuInfo()
	if f16_local0 then
		return f16_local0.menu:processEvent( f16_arg1 )
	else
		return false
	end
end

LUI.FlowManager.ForwardMouseEventToTopMostOpenMenu = function ( f15_arg0, f15_arg1 )
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain( f15_arg0 )
	end
	local f15_local0 = f15_arg0:ForwardEventToTopMostOpenMenu( f15_arg1 )
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.EndFocusChain( f15_arg0 )
	end
	if f15_arg1.name == "mousemove" then
		return true
	else
		return f15_local0
	end
end

LUI.FlowManager.IsNavigationEvent = function ( f14_arg0 )
	if f14_arg0.name == "gamepad_button" and f14_arg0.down and f14_arg0.qualifier ~= "mousewheel" and (f14_arg0.button == "up" or f14_arg0.button == "down" or f14_arg0.button == "left" or f14_arg0.button == "right" or f14_arg0.button == "primary") then
		return true
	else
		return false
	end
end

LUI.FlowManager.TabsBlockInput = function ( f13_arg0, f13_arg1 )
	local f13_local0 = LUI.FlowManager.FindTabsAtElement( f13_arg0 )
	if f13_local0 and f13_local0:IsControllerExclusive() then
		if f13_local0:IsControllerExclusiveGamepadInput( f13_arg1.button ) and not f13_local0:IsExpectedController( f13_arg1.controller ) then
			return true
		elseif not f13_local0:IsControllerExclusiveGamepadInput( f13_arg1.button ) then
			f13_local0:SetupExclusiveControllerData( {
				isControllerExclusive = true,
				controllerIndex = f13_arg1.controller
			} )
		end
	end
	return false
end

LUI.FlowManager.FindTabsAtElement = function ( f12_arg0 )
	if f12_arg0 then
		if f12_arg0._isTabs then
			return f12_arg0
		elseif f12_arg0:getFirstChild() then
			
		else
			
		end
	end
end

LUI.FlowManager.OpenDrawerPopup = function ( f11_arg0, f11_arg1, f11_arg2 )
	if not f11_arg2 then
		f11_arg2 = {}
	end
	f11_arg2.controllerIndex = f11_arg0
	local f11_local0 = MenuBuilder.BuildRegisteredType( f11_arg1, f11_arg2 )
	f11_local0:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	f11_arg2.widget = f11_local0
	LUI.FlowManager.RequestPopupMenu( nil, "DrawerPopup", false, f11_arg0, false, f11_arg2 )
end

LUI.FlowManager.OpenDrawer = function ( f10_arg0, f10_arg1, f10_arg2 )
	local f10_local0 = f10_arg2.parent
	if f10_local0 then
		f10_arg2.controllerIndex = f10_arg0
		local f10_local1 = MenuBuilder.BuildRegisteredType( f10_arg1, f10_arg2 )
		f10_local1:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		f10_arg2.widget = f10_local1
		local f10_local2 = MenuBuilder.BuildRegisteredType( "DrawerPanelList", f10_arg2 )
		f10_local2:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		f10_local2:SetupDrawerList( f10_arg0, f10_arg2 )
		f10_local0:addElement( f10_local2 )
	else
		LUI.FlowManager.OpenDrawerPopup( f10_arg0, f10_arg1, f10_arg2 )
	end
end

LUI.FlowManager.OpenWidgetPopup = function ( f9_arg0, f9_arg1, f9_arg2 )
	if not f9_arg2 then
		f9_arg2 = {}
	end
	f9_arg2.controllerIndex = f9_arg0
	f9_arg2.widget = MenuBuilder.BuildRegisteredType( f9_arg1, f9_arg2 )
	LUI.FlowManager.RequestPopupMenu( nil, "MobileGenericWidgetPopup", false, f9_arg0, false, f9_arg2 )
end

LUI.FlowManager.MobileClearTakeDamageSubscription = function ()
	if Engine[0x12586A3F4FB490E]() then
		return 
	end
	local f8_local0 = LUI.FlowManager.GetFlowManager()
	if f8_local0._takeDamageSubscription then
		f8_local0:UnsubscribeFromModel( f8_local0._takeDamageSubscription )
		f8_local0._takeDamageSubscription = nil
	end
end

local f0_local42 = function ( f7_arg0, f7_arg1 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x6C0755657E005B2 ) == false then
		return false
	elseif f7_arg1 and (CONDITIONS.IsSplitscreen() or CONDITIONS.IsSplitscreenFrontend()) then
		return false
	elseif not f7_arg0 then
		return false
	else
		return true
	end
end

local f0_local43 = function ( f5_arg0, f5_arg1 )
	if f5_arg0 and f5_arg1 ~= nil and type( f5_arg1 ) == "function" then
		f5_arg0.onComplete = function ( f6_arg0, f6_arg1 )
			f5_arg0( f6_arg0, f6_arg1 )
		end
		
	end
end

LUI.FlowManager.TriggerSlideInLeft = function ( f4_arg0, f4_arg1, f4_arg2, f4_arg3, f4_arg4, f4_arg5 )
	if not f0_local0( f4_arg0, f4_arg4 ) then
		return 
	else
		local f4_local0 = f4_arg0:GetAnchorsAndPosition()
		f4_arg0:SetLeft( f4_local0.left - f4_arg1 )
		f4_arg0:SetRight( f4_local0.right - f4_arg1 )
		f4_arg0:SetLeft( f4_local0.left, f4_arg2, f4_arg3 )
		f0_local0( f4_arg0:SetRight( f4_local0.right, f4_arg2, f4_arg3 ), f4_arg5 )
	end
end

LUI.FlowManager.TriggerSlideInRight = function ( f3_arg0, f3_arg1, f3_arg2, f3_arg3, f3_arg4, f3_arg5 )
	if not f0_local0( f3_arg0, f3_arg4 ) then
		return 
	else
		local f3_local0 = f3_arg0:GetAnchorsAndPosition()
		f3_arg0:SetLeft( f3_local0.left + f3_arg1 )
		f3_arg0:SetRight( f3_local0.right + f3_arg1 )
		f3_arg0:SetLeft( f3_local0.left, f3_arg2, f3_arg3 )
		f0_local0( f3_arg0:SetRight( f3_local0.right, f3_arg2, f3_arg3 ), f3_arg5 )
	end
end

LUI.FlowManager.TriggerSlideInBottom = function ( f2_arg0, f2_arg1, f2_arg2, f2_arg3, f2_arg4, f2_arg5 )
	if not f0_local0( f2_arg0, f2_arg4 ) then
		return 
	else
		local f2_local0 = f2_arg0:GetAnchorsAndPosition()
		f2_arg0:SetBottom( f2_local0.bottom + f2_arg1 )
		f2_arg0:SetTop( f2_local0.top + f2_arg1 )
		f2_arg0:SetBottom( f2_local0.bottom, f2_arg2, f2_arg3 )
		f0_local0( f2_arg0:SetTop( f2_local0.top, f2_arg2, f2_arg3 ), f2_arg5 )
	end
end

LUI.FlowManager.TriggerSlideInTop = function ( f1_arg0, f1_arg1, f1_arg2, f1_arg3, f1_arg4, f1_arg5 )
	if not f0_local0( f1_arg0, f1_arg4 ) then
		return 
	else
		local f1_local0 = f1_arg0:GetAnchorsAndPosition()
		f1_arg0:SetBottom( f1_local0.bottom - f1_arg1 )
		f1_arg0:SetTop( f1_local0.top - f1_arg1 )
		f1_arg0:SetBottom( f1_local0.bottom, f1_arg2, f1_arg3 )
		f0_local0( f1_arg0:SetTop( f1_local0.top, f1_arg2, f1_arg3 ), f1_arg5 )
	end
end

