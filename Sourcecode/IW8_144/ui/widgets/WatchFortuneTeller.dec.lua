-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
module( ..., package.seeall )
local f0_local0 = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = {
		nil,
		"LUA_MENU/FORTUNE_01",
		"LUA_MENU/FORTUNE_02",
		"LUA_MENU/FORTUNE_03",
		"LUA_MENU/FORTUNE_04",
		"LUA_MENU/FORTUNE_05",
		"LUA_MENU/FORTUNE_06",
		"LUA_MENU/FORTUNE_07",
		"LUA_MENU/FORTUNE_08",
		"LUA_MENU/FORTUNE_09",
		"LUA_MENU/FORTUNE_10",
		"LUA_MENU/FORTUNE_11",
		"LUA_MENU/FORTUNE_12"
	}
	if Engine.DDJFBBJAIG() then
		local f5_local1 = nil
		local f5_local2 = function ()
			local f8_local0 = f5_arg0:Wait( 10000 )
			f8_local0.onComplete = f5_arg0
			local f8_local1 = f5_arg0:Wait( 6000 )
			f8_local1.onComplete = function ()
				local f9_local0 = math.random( 1, #f8_local0 )
				ACTIONS.AnimateSequence( f8_local0, "Shook" )
				f8_local0.Fortune:setText( Engine.CBBHFCGDIC( f8_local0[f9_local0] ) )
			end
			
		end
		
		f5_local2()
	end
	local f5_local1 = LUI.DataSourceFromOmnvar.new( "ui_smart_watch_interact" )
	f5_arg0:SubscribeToModel( f5_local1:GetModel( f5_arg1 ), function ( f7_arg0 )
		if DataModel.JJEHAEBDF( f7_arg0 ) ~= nil then
			local f7_local0 = math.random( 1, #f5_arg0 )
			ACTIONS.AnimateSequence( f5_arg0, "Shook" )
			f5_arg0.Fortune:setText( Engine.CBBHFCGDIC( f5_arg0[f7_local0] ) )
		end
	end )
	if not CONDITIONS.IsThirdGameMode() then
		f5_arg0:SubscribeToModel( DataSources.inGame.player.spawnNotify:GetModel( f5_arg1 ), function ()
			ACTIONS.AnimateSequence( f5_arg0, "Reset" )
			f5_arg0.Fortune:setText( Engine.CBBHFCGDIC( "LUA_MENU/FORTUNE_SHAKE" ) )
		end )
	end
end

function WatchFortuneTeller( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 512 * _1080p, 0, 512 * _1080p )
	self.id = "WatchFortuneTeller"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local BG = nil
	
	BG = LUI.UIImage.new()
	BG.id = "BG"
	BG:SetRGBFromInt( 0, 0 )
	self:addElement( BG )
	self.BG = BG
	
	local Radi = nil
	
	Radi = LUI.UIImage.new()
	Radi.id = "Radi"
	Radi:SetRGBFromInt( 10158335, 0 )
	Radi:SetAlpha( 0.25, 0 )
	Radi:SetPixelGridEnabled( true )
	Radi:SetPixelGridContrast( 0.95, 0 )
	Radi:SetPixelGridBlockWidth( 8, 0 )
	Radi:SetPixelGridBlockHeight( 8, 0 )
	Radi:SetPixelGridGutterWidth( 2, 0 )
	Radi:SetPixelGridGutterHeight( 2, 0 )
	Radi:setImage( RegisterMaterial( "hud_reticle_radial_glow" ), 0 )
	self:addElement( Radi )
	self.Radi = Radi
	
	local Radi2 = nil
	
	Radi2 = LUI.UIImage.new()
	Radi2.id = "Radi2"
	Radi2:SetRGBFromInt( 0, 0 )
	Radi2:SetAlpha( 0, 0 )
	Radi2:SetPixelGridEnabled( true )
	Radi2:SetPixelGridContrast( 0.95, 0 )
	Radi2:SetPixelGridBlockWidth( 8, 0 )
	Radi2:SetPixelGridBlockHeight( 8, 0 )
	Radi2:SetPixelGridGutterWidth( 2, 0 )
	Radi2:SetPixelGridGutterHeight( 2, 0 )
	Radi2:setImage( RegisterMaterial( "hud_reticle_radial_glow" ), 0 )
	Radi2:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * 221, _1080p * -221, _1080p * 221, _1080p * -221 )
	self:addElement( Radi2 )
	self.Radi2 = Radi2
	
	local Fortune = nil
	
	Fortune = LUI.UIStyledText.new()
	Fortune.id = "Fortune"
	Fortune:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
	Fortune:setText( Engine.CBBHFCGDIC( "LUA_MENU/FORTUNE_SHAKE" ), 0 )
	Fortune:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	Fortune:SetAlignment( LUI.Alignment.Center )
	Fortune:SetVerticalAlignment( LUI.Alignment.Center )
	Fortune:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	Fortune:SetStartupDelay( 2000 )
	Fortune:SetLineHoldTime( 0 )
	Fortune:SetAnimMoveTime( 2000 )
	Fortune:SetAnimMoveSpeed( 50 )
	Fortune:SetEndDelay( 2000 )
	Fortune:SetCrossfadeTime( 400 )
	Fortune:SetFadeInTime( 300 )
	Fortune:SetFadeOutTime( 300 )
	Fortune:SetMaxVisibleLines( 5 )
	Fortune:SetShadowMinDistance( 0, 0 )
	Fortune:SetShadowMaxDistance( 0, 0 )
	Fortune:SetShadowUOffset( 0.02, 0 )
	Fortune:SetShadowVOffset( 0.02, 0 )
	Fortune:SetShadowRGBFromTable( SWATCHES.HUD.HUDShadow, 0 )
	Fortune:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 64, _1080p * 448, _1080p * 221, _1080p * 291 )
	self:addElement( Fortune )
	self.Fortune = Fortune
	
	local FX = nil
	
	FX = LUI.UIImage.new()
	FX.id = "FX"
	FX:SetAlpha( 0, 0 )
	FX:setImage( RegisterMaterial( "icon_chyron_fx" ), 0 )
	FX:SetBlendMode( BLEND_MODE.addWithAlpha )
	FX:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -256, _1080p * 256, _1080p * -256, _1080p * 256 )
	self:addElement( FX )
	self.FX = FX
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local8 = nil
	Radi:RegisterAnimationSequence( "Shook", {
		{
			value = 10158335,
			duration = -28,
			property = TWEEN_PROPERTY.RGB
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Scale
		},
		{
			value = 5.289447516E-315,
			duration = 1000,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 900,
			property = TWEEN_PROPERTY.Scale
		},
		{
			duration = 1200,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.Reticles.VibrantTeal,
			easing = LUI.EASING.inQuadratic
		},
		{
			value = 5.29462817E-315,
			duration = 300,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.inQuadratic
		},
		{
			value = 5.29462817E-315,
			duration = 300,
			property = TWEEN_PROPERTY.Scale,
			easing = LUI.EASING.outQuadratic
		},
		{
			value = -2.3534382788928255E-185,
			duration = 700,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.outQuadratic
		},
		{
			value = 0,
			duration = 700,
			property = TWEEN_PROPERTY.Scale
		}
	} )
	Radi2:RegisterAnimationSequence( "Shook", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 1000,
			property = TWEEN_PROPERTY.Scale
		},
		{
			value = 0,
			duration = 1100,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 6,
			duration = 700,
			property = TWEEN_PROPERTY.Scale,
			easing = LUI.EASING.outQuadratic
		},
		{
			value = 1,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.inQuadratic
		},
		{
			value = 0,
			duration = 400,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.outQuadratic
		},
		{
			value = 0,
			duration = 300,
			property = TWEEN_PROPERTY.Scale,
			easing = LUI.EASING.snap
		}
	} )
	Fortune:RegisterAnimationSequence( "Shook", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 1300,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 700,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	FX:RegisterAnimationSequence( "Shook", {
		{
			value = 1,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 700,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 500,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Shook = function ()
		menu:AnimateSequence( "Shook" )
		menu:AnimateSequence( "Shook" )
		menu:AnimateSequence( "Shook" )
		menu:AnimateSequence( "Shook" )
	end
	
	local f1_local9 = nil
	Radi:RegisterAnimationSequence( "Reset", {
		{
			value = 10158335,
			duration = -28,
			property = TWEEN_PROPERTY.RGB
		}
	} )
	Fortune:RegisterAnimationSequence( "Reset", {
		{
			value = 1,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	FX:RegisterAnimationSequence( "Reset", {
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Reset = function ()
		menu:AnimateSequence( "Reset" )
		menu:AnimateSequence( "Reset" )
		menu:AnimateSequence( "Reset" )
	end
	
	f0_local0( self, f1_local1, controller )
	ACTIONS.AnimateSequence( self, "Rotate" )
	return self
end

MenuBuilder.registerType( "WatchFortuneTeller", WatchFortuneTeller )
LockTable( _M )
