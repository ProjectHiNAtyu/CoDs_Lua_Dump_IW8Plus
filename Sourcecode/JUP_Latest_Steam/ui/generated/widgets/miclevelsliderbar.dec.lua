-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
module( ..., package.seeall )
require( "ui.generated.widgets.genericprogressbar" )
local f0_local0 = 120
local f0_local1 = 2
local f0_local2 = 45
local f0_local3 = 0
local f0_local4 = {
	{
		fillPercentage = 0,
		color = COLORS.Cool01
	},
	{
		fillPercentage = 4.6672616413205735E-62,
		color = COLORS.Cool01
	},
	{
		fillPercentage = -2.353438279406531E-185,
		color = COLORS.Cool01
	}
}
local f0_local5 = {
	{
		settingName = "OpenMicRecordingSensitivity",
		action = function ( f22_arg0, f22_arg1 )
			f22_arg0._threshold = f22_arg1 / 100
		end
	},
	{
		settingName = "VoiceChatRecordingMode",
		action = function ( f21_arg0, f21_arg1 )
			f21_arg0._pushToTalk = f21_arg1 == OPTIONS.disableButtonOptions.DISABLED
		end
	}
}
local f0_local6 = function ( f20_arg0 )
	local f20_local0 = 0
	local f20_local1 = 1
	for f20_local5, f20_local6 in pairs( f0_local0 ) do
		if f0_local0[f20_local5].fillPercentage <= f20_arg0 and f20_local0 <= f20_arg0 then
			f20_local1 = f20_local5
			f20_local0 = f0_local0[f20_local5].fillPercentage
		end
	end
	return f20_local1
end

local f0_local7 = function ( f19_arg0 )
	for f19_local3, f19_local4 in pairs( f0_local0 ) do
		if f19_local4.settingName == f19_arg0 then
			return f19_local3
		end
	end
end

local f0_local8 = function ( f18_arg0, f18_arg1 )
	local f18_local0 = f0_local0( f18_arg1 )
	f18_arg0.NoiseLevelProgressBar:SetProgress( f18_arg1, f0_local0, f0_local0, f0_local0[f0_local0( f18_arg1 )].color )
end

local f0_local9 = function ( f17_arg0 )
	if f17_arg0._pushToTalk then
		f17_arg0.ThresholdProgressBar:SetProgress( 0, f0_local0, f0_local0 )
	else
		f17_arg0.ThresholdProgressBar:SetProgress( f17_arg0._threshold, f0_local0, f0_local0 )
	end
end

local f0_local10 = function ( f16_arg0 )
	if f16_arg0._testingMic then
		local f16_local0 = Social[0xF12FC4AFD7A2A6D]( f16_arg0._controllerIndex )
		if not f16_local0 or f16_local0 == "0" then
			Social[0x2DCEF319E8CCDEF]( f16_arg0._controllerIndex, Enum[0x71816B8A6999EAF][0x56160C1DC06A01] )
			f16_arg0._shouldDisconnect = true
		end
		f16_arg0._micTimer = LUI.UITimer.new( {
			event = "mic_tick",
			interval = f0_local0
		} )
		f16_arg0:addElement( f16_arg0._micTimer )
		Dvar[0x8EA06EEDB58D872]( 0x232B4B14111CC2C, true )
	else
		if f16_arg0._shouldDisconnect then
			Social[0x1EBA9940863C671]( f16_arg0._controllerIndex )
			f16_arg0._shouldDisconnect = nil
		end
		if f16_arg0._micTimer then
			f16_arg0._micTimer:closeTree()
			f16_arg0._micTimer = nil
		end
		f0_local0( f16_arg0, 0 )
		Dvar[0x8EA06EEDB58D872]( 0x232B4B14111CC2C, false )
	end
end

local f0_local11 = function ( f15_arg0 )
	f15_arg0._testingMic = not f15_arg0._testingMic
	f0_local0( f15_arg0 )
end

local f0_local12 = function ( f14_arg0 )
	f14_arg0._testingMic = false
	f0_local0( f14_arg0 )
	ACTIONS.AnimateSequence( f14_arg0, "DefaultSequence" )
end

local f0_local13 = function ( f13_arg0, f13_arg1, f13_arg2 )
	if f13_arg1 ~= nil then
		local f13_local0 = f0_local0( f13_arg1 )
		if f13_local0 ~= nil then
			f0_local0[f13_local0].action( f13_arg0, f13_arg2 )
			f0_local0( f13_arg0 )
		end
	end
end

local f0_local14 = function ( f12_arg0 )
	f0_local0( f12_arg0, Engine[0x55319D7EF10256B]() )
end

local f0_local15 = function ( f6_arg0, f6_arg1, f6_arg2 )
	f6_arg0._testingMic = false
	f6_arg0._disabled = true
	f6_arg0._threshold = 0
	f6_arg0._pushToTalk = false
	f6_arg0._controllerIndex = f6_arg1
	f6_arg0.ToggleMicTest = f0_local0
	f6_arg0.StopMicTest = f0_local0
	f6_arg0:AddGamepadEventCallback( "button_left_stick", function ( f11_arg0, f11_arg1 )
		f6_arg0:ToggleMicTest()
	end )
	f6_arg0:registerEventHandler( "update_config", function ( element, event )
		f6_arg0( element, event.changedSetting, event.changedSettingValue )
	end )
	f6_arg0:registerEventHandler( "mic_tick", function ( element, event )
		f6_arg0( element )
	end )
	f6_arg0:registerEventHandler( "on_close", function ( element )
		if element._testingMic then
			element:StopMicTest()
		end
	end )
	f6_arg0:addEventHandler( "tab_changed", function ( f7_arg0, f7_arg1 )
		if f7_arg0._testingMic then
			f7_arg0:StopMicTest()
		end
	end )
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f6_arg0, "AR" )
	end
end

States = {
	[0xAD14C6E7156B923] = function ( f3_arg0, f3_arg1 )
		f3_arg0[0x4D4C73B8193F423]:RegisterAnimationSequence( 0xEF6C3AB55C07BEF, {
			nil,
			nil,
			nil,
			0,
			[1] = Bit.Pack( 2, TWEEN_PROPERTY.RGB, NUM_FIELDS_BIT_POSITION ),
			[2] = SWATCHES[0x3E789DB0A12E313][0xF04656ADEBDA1B0],
			[4] = f3_arg0[0x4D4C73B8193F423][0xAD01878F02A7608]
		} )
		f3_arg0[0x688A4F128FDE5D1]:RegisterAnimationSequence( 0xEF6C3AB55C07BEF, {
			nil,
			nil,
			0,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f3_arg0[0x83636A516006184]:RegisterAnimationSequence( 0xEF6C3AB55C07BEF, {
			nil,
			nil,
			1.9035983709236353E+185,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f3_arg0[0xC2921158D74FAF7]:RegisterAnimationSequence( 0xEF6C3AB55C07BEF, {
			nil,
			nil,
			nil,
			0,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible,
			[4] = TWEEN_PROPERTY.Text,
			[5] = Engine[0xED84C33EC5F01EA]( 0x3A2E194A4B56D58 )
		} )
		f3_arg0[0x8C5320CB46DC81B]:RegisterAnimationSequence( 0xEF6C3AB55C07BEF, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Text,
			[2] = Engine[0xED84C33EC5F01EA]( 0xCBEC49F67608E18 )
		} )
		local f3_local0 = function ( f5_arg0, f5_arg1 )
			f5_arg0[0x4D4C73B8193F423]:AnimateSequence( 0xEF6C3AB55C07BEF )
			f5_arg0[0x688A4F128FDE5D1]:AnimateSequence( 0xEF6C3AB55C07BEF )
			f5_arg0[0x83636A516006184]:AnimateSequence( 0xEF6C3AB55C07BEF )
			f5_arg0[0xC2921158D74FAF7]:AnimateSequence( 0xEF6C3AB55C07BEF )
			f5_arg0[0x8C5320CB46DC81B]:AnimateSequence( 0xEF6C3AB55C07BEF )
		end
		
		f3_arg0[0x4D4C73B8193F423]:RegisterAnimationSequence( 0xDEC6DAEA5B5ABD4, {
			nil,
			nil,
			1,
			0,
			nil,
			1,
			0,
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = Bit.Pack( 2, TWEEN_PROPERTY.Alpha, NUM_FIELDS_BIT_POSITION ),
			[7] = f3_arg0[0x4D4C73B8193F423][0xAD01878F02A7608],
			[8] = Bit.Pack( 2, TWEEN_PROPERTY.RGB, NUM_FIELDS_BIT_POSITION ),
			[9] = SWATCHES[0x3E789DB0A12E313][0xF046A6ADEBDAA2F],
			[11] = f3_arg0[0x4D4C73B8193F423][0xAD01878F02A7608]
		} )
		f3_arg0[0x688A4F128FDE5D1]:RegisterAnimationSequence( 0xDEC6DAEA5B5ABD4, {
			nil,
			nil,
			1,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f3_arg0[0x83636A516006184]:RegisterAnimationSequence( 0xDEC6DAEA5B5ABD4, {
			nil,
			nil,
			1,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f3_arg0[0xC2921158D74FAF7]:RegisterAnimationSequence( 0xDEC6DAEA5B5ABD4, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Text,
			[2] = Engine[0xED84C33EC5F01EA]( 0xDF22F7DBD2065DD )
		} )
		f3_arg0[0x8C5320CB46DC81B]:RegisterAnimationSequence( 0xDEC6DAEA5B5ABD4, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Text,
			[2] = Engine[0xED84C33EC5F01EA]( 0xBB1C8685FF3921E )
		} )
		f3_arg0[0x49D85F0EF1CEC84] = {
			[0xEF6C3AB55C07BEF] = f3_local0,
			[0xDEC6DAEA5B5ABD4] = function ( f4_arg0, f4_arg1 )
				f4_arg0[0x4D4C73B8193F423]:AnimateSequence( 0xDEC6DAEA5B5ABD4 )
				f4_arg0[0x688A4F128FDE5D1]:AnimateSequence( 0xDEC6DAEA5B5ABD4 )
				f4_arg0[0x83636A516006184]:AnimateSequence( 0xDEC6DAEA5B5ABD4 )
				f4_arg0[0xC2921158D74FAF7]:AnimateSequence( 0xDEC6DAEA5B5ABD4 )
				f4_arg0[0x8C5320CB46DC81B]:AnimateSequence( 0xDEC6DAEA5B5ABD4 )
			end
		}
		f3_arg0[0xD97E59A206E4A54] = {
			[0xDEC6DAEA5B5ABD4] = 0,
			[0xEF6C3AB55C07BEF] = 0
		}
	end
}
function MicLevelSliderBar( f1_arg0, f1_arg1 )
	local f1_local0 = ACTIONS
	local f1_local1 = LUI
	local f1_local2 = MenuBuilder
	local f1_local3 = TWEEN_PROPERTY
	local f1_local4 = f1_local1.UIElement.new()
	f1_local4:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 820, 0, 70 )
	f1_local4.id = "MicLevelSliderBar"
	f1_local4[0xBD5D934D3CD91E5] = States
	local f1_local5
	if f1_arg1 then
		f1_local5 = f1_arg1
	else
		f1_local5 = f1_arg1.controllerIndex
	end
	f1_local5 = f1_local1.ValidateControllerIndex( f1_local4, f1_local5 )
	local f1_local6 = nil
	f1_local6 = f1_local1.UIImage.new()
	f1_local6[0x8B72E07B55C3AC0] = "Mask"
	f1_local6:setImage( RegisterMaterial( 0x6B4BDCA195FA061 ), 0 )
	f1_local6:SetAnchorsAndPosition( 0, 1, 0, 1, 28, 826, 21, 48 )
	f1_local4:addElement( f1_local6 )
	f1_local4[0xF375FA2CE7B1849] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local1.UIBorder.new( {
		borderThicknessTop = 0,
		borderThicknessLeft = 3,
		borderThicknessRight = 3,
		borderThicknessBottom = 0
	} )
	f1_local7[0x8B72E07B55C3AC0] = "Border"
	f1_local7:SetVisible( false )
	f1_local7:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECBAC112DDB60], 0 )
	f1_local7:SetAlpha( 0.15, 0 )
	f1_local7:SetBorderThicknessLeft( 3, 0 )
	f1_local7:SetBorderThicknessRight( 3, 0 )
	f1_local7:SetBorderThicknessTop( 0, 0 )
	f1_local7:SetBorderThicknessBottom( 0, 0 )
	f1_local7:SetAnchorsAndPosition( 0, 1, 0, 1, 38, 820, 40, 50 )
	f1_local4:addElement( f1_local7 )
	f1_local4[0xB08095720360577] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local2.BuildRegisteredType( 0x6071BC5E4DD3F7A, {
		controllerIndex = f1_local5
	} )
	f1_local8[0x8B72E07B55C3AC0] = "NoiseLevelProgressBar"
	f1_local8:SetMask( f1_local4[0xF375FA2CE7B1849] )
	f1_local8[0x5811622F70F03AF]:SetAlpha( 0.15, 0 )
	f1_local8[0xAD01878F02A7608]:SetRGB( SWATCHES[0x3E789DB0A12E313][0xF046A6ADEBDAA2F], 0 )
	f1_local8[0x8D4335628B35226]:SetAlpha( 0, 0 )
	f1_local8[0x5E303190CE49C5B]:SetAlpha( 0, 0 )
	f1_local8:SetAnchorsAndPosition( 0, 0, 0, 1, 28, -10, 34, 46 )
	f1_local4:addElement( f1_local8 )
	f1_local4[0x4D4C73B8193F423] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local2.BuildRegisteredType( 0x6071BC5E4DD3F7A, {
		controllerIndex = f1_local5
	} )
	f1_local9[0x8B72E07B55C3AC0] = "ThresholdProgressBar"
	f1_local9:SetVisible( false )
	f1_local9:SetMask( f1_local4[0xF375FA2CE7B1849] )
	f1_local9[0x5811622F70F03AF]:SetAlpha( 0.15, 0 )
	f1_local9[0xAD01878F02A7608]:SetRGB( 0, 0 )
	f1_local9[0xAD01878F02A7608]:SetAlpha( 0.5, 0 )
	f1_local9[0x8D4335628B35226]:SetAlpha( 0, 0 )
	f1_local9[0x5E303190CE49C5B]:SetAlpha( 0, 0 )
	f1_local9:SetAnchorsAndPosition( 0, 0, 0, 1, 27, -11, 34, 46 )
	f1_local4:addElement( f1_local9 )
	f1_local4[0x9AF250D60F18024] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local1.UIImage.new()
	f1_local10[0x8B72E07B55C3AC0] = "IconGlow"
	f1_local10:SetRGB( SWATCHES[0x3E789DB0A12E313][0xF046A6ADEBDAA2F], 0 )
	f1_local10:setImage( RegisterMaterial( 0xA81ABD96036781E ), 0 )
	f1_local10:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 18, 30, 48 )
	f1_local4:addElement( f1_local10 )
	f1_local4[0x688A4F128FDE5D1] = f1_local10
	local f1_local11 = nil
	f1_local11 = f1_local1.UIImage.new()
	f1_local11[0x8B72E07B55C3AC0] = "MicrophoneIcon"
	f1_local11:setImage( RegisterMaterial( 0xE351616349537A4 ), 0 )
	f1_local11:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 18, 30, 48 )
	f1_local4:addElement( f1_local11 )
	f1_local4[0x83636A516006184] = f1_local11
	local f1_local12 = nil
	f1_local12 = f1_local1.UIText.new()
	f1_local12[0x8B72E07B55C3AC0] = "SpeakPrompt"
	f1_local12:SetRGB( SWATCHES[0x3E789DB0A12E313][0xF046A6ADEBDAA2F], 0 )
	f1_local12:setText( Engine[0xED84C33EC5F01EA]( 0xDF22F7DBD2065DD ), 0 )
	f1_local12:setCaseStyle( f1_local1.CaseStyle.Uppercase )
	f1_local12:SetFont( FONTS.GetFont( FONTS.SecondaryRegular.File ) )
	f1_local12:SetFontSize( 18 * _PT )
	f1_local12:SetMinFontSize( 18 * _PT )
	f1_local12:SetWordWrap( false )
	f1_local12:SetAlignment( f1_local1.Alignment.Left )
	f1_local12:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 782, 3, 27 )
	f1_local4:addElement( f1_local12 )
	f1_local4[0xC2921158D74FAF7] = f1_local12
	local f1_local13 = nil
	f1_local13 = f1_local1.UIText.new()
	f1_local13[0x8B72E07B55C3AC0] = "StopPrompt"
	f1_local13:SetRGB( SWATCHES[0x3E789DB0A12E313][0xF046B6ADEBDABE2], 0 )
	f1_local13:SetScale( 0, 0 )
	f1_local13:setText( Engine[0xED84C33EC5F01EA]( 0xBB1C8685FF3921E ), 0 )
	f1_local13:SetFont( FONTS.GetFont( FONTS.SecondaryRegular.File ) )
	f1_local13:SetFontSize( 18 * _PT )
	f1_local13:SetMinFontSize( 18 * _PT )
	f1_local13:SetWordWrap( false )
	f1_local13:SetAlignment( f1_local1.Alignment.Left )
	f1_local13:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 782, 51, 75 )
	f1_local4:addElement( f1_local13 )
	f1_local4[0x8C5320CB46DC81B] = f1_local13
	f1_local4:AddGamepadEventCallback( 0x85BB6384B7B3BC1, function ( f2_arg0, f2_arg1 )
		f1_arg0:ToggleMicTest( f2_arg1.controller or f1_arg0 )
	end )
	f0_local0( f1_local4, f1_local5, f1_arg1 )
	f1_local0.AnimateSequence( f1_local4, 0xEF6C3AB55C07BEF )
	return f1_local4
end

MenuBuilder.registerType( 0x37E2194B1833EC4, MicLevelSliderBar )
LockTable( _M )
