-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.aar.aarweaponunlockreward" )
local f0_local0 = "reward"
local f0_local1 = 4
local f0_local2 = 190
local f0_local3 = 15
local f0_local4 = 307
local f0_local5 = 102
local f0_local6 = 170
local f0_local7 = 200
local f0_local8 = function ( f21_arg0, f21_arg1 )
	local f21_local0 = (f21_arg0 + f21_arg1) % f0_local0
	if f21_local0 == 0 then
		f21_local0 = f0_local0
	end
	return f21_local0
end

local f0_local9 = function ( f20_arg0 )
	f20_arg0.CurrentRewardsOnScreenCount = 0
	f20_arg0.rewardPos = 0
	f20_arg0.RewardsQueue = {}
	for f20_local0 = 1, f0_local0, 1 do
		local f20_local3 = f20_arg0[f0_local0 .. f20_local0]
		f20_local3:SetVisible( false )
		f20_local3:ResetReward()
	end
	f20_arg0[f0_local0 .. 1]:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * (f0_local0 + f0_local0), _1080p * (f0_local0 + f0_local0) + f0_local0, 0, _1080p * f0_local0 )
	f20_arg0[f0_local0 .. 2]:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * f0_local0, _1080p * (f0_local0 + f0_local0), 0, _1080p * f0_local0 )
	f20_arg0[f0_local0 .. 3]:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 2 * (f0_local0 + f0_local0), _1080p * (2 * (f0_local0 + f0_local0) + f0_local0), 0, _1080p * f0_local0 )
	f20_arg0[f0_local0 .. 4]:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 2 * (f0_local0 + f0_local0), _1080p * (2 * (f0_local0 + f0_local0) + f0_local0), 0, _1080p * f0_local0 )
end

local f0_local10 = function ( f19_arg0 )
	f19_arg0.SmokeGFX:Play( {
		reset = true
	} )
	LAYOUT.SimulateElementShake( f19_arg0:getParent(), 100, LAYOUT.ShakeIntensities.LARGE )
end

local f0_local11 = function ( f18_arg0 )
	f18_arg0:SetVisible( true )
	f18_arg0:SetAlpha( 1 )
	f18_arg0:SetScale( 5 )
	f18_arg0:SetScale( 0, f0_local0 )
end

local f0_local12 = function ( f16_arg0, f16_arg1 )
	local f16_local0 = f16_arg0[f0_local0 .. f16_arg0.LeftMostReward]
	if not f16_arg0._GFXPlayed then
		local f16_local1 = f16_arg0:Wait( f0_local0 )
		f16_local1.onComplete = function ( f17_arg0 )
			f17_arg0._GFXPlayed = true
			f16_arg0( f17_arg0 )
		end
		
	end
	if f16_arg0.CurrentRewardsOnScreenCount == 3 then
		local f16_local1 = f16_arg0[f0_local0 .. f0_local0( f16_arg0.LeftMostReward, 1 )]
		local f16_local2 = f16_arg0[f0_local0 .. f0_local0( f16_arg0.LeftMostReward, 2 )]
		local f16_local3 = f16_arg0[f0_local0 .. f0_local0( f16_arg0.LeftMostReward, 3 )]
		f16_local3:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 2 * (f0_local0 + f0_local0), _1080p * (2 * (f0_local0 + f0_local0) + f0_local0), 0, _1080p * f0_local0 )
		f16_local0:SetAlpha( 0, f16_arg1 / 2 )
		f16_local0:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * (0 - f0_local0 + f0_local0), _1080p * (0 - f0_local0), 0, _1080p * f0_local0, f16_arg1 )
		f16_local1:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * f0_local0, 0, _1080p * f0_local0, f16_arg1 )
		f16_local2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * (f0_local0 + f0_local0), _1080p * (f0_local0 + f0_local0 + f0_local0), 0, _1080p * f0_local0, f16_arg1 )
		f0_local0( f16_local3 )
		ACTIONS.AnimateSequence( f16_local3, "Flash" )
		f16_arg0.LeftMostReward = f0_local0( f16_arg0.LeftMostReward, 1 )
	elseif f16_arg0.CurrentRewardsOnScreenCount == 2 then
		local f16_local1 = f16_arg0[f0_local0 .. 2]
		local f16_local2 = f16_arg0[f0_local0 .. 3]
		if f16_arg0.rewardPos < 3 then
			f16_local2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 2 * (f0_local0 + f0_local0), _1080p * (2 * (f0_local0 + f0_local0) + f0_local0), 0, _1080p * f0_local0 )
			f16_local1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * (f0_local0 + f0_local0), _1080p * (f0_local0 + f0_local0 + f0_local0), 0, _1080p * f0_local0, f16_arg1 )
			f16_local0:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * f0_local0, 0, _1080p * f0_local0, f16_arg1 )
			f16_arg0.rewardPos = 3
		end
		f16_arg0.CurrentRewardsOnScreenCount = 3
		f0_local0( f16_local2 )
		ACTIONS.AnimateSequence( f16_local2, "Flash" )
	elseif f16_arg0.CurrentRewardsOnScreenCount == 1 then
		local f16_local1 = f16_arg0[f0_local0 .. 2]
		if f16_arg0.rewardPos < 2 then
			f16_local1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * f0_local0, _1080p * (f0_local0 + f0_local0), 0, _1080p * f0_local0 )
			f16_local0:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * f0_local0, _1080p * (f0_local0 + f0_local0), 0, _1080p * f0_local0, f16_arg1 )
			f16_arg0.rewardPos = 2
		end
		f16_arg0.CurrentRewardsOnScreenCount = 2
		f0_local0( f16_local1 )
		ACTIONS.AnimateSequence( f16_local1, "Flash" )
	elseif f16_arg0.CurrentRewardsOnScreenCount == 0 then
		f0_local0( f16_arg0.reward1 )
		ACTIONS.AnimateSequence( f16_arg0.reward1, "Flash" )
		f16_arg0.LeftMostReward = 1
		f16_arg0.CurrentRewardsOnScreenCount = 1
	end
end

local f0_local13 = function ( f15_arg0, f15_arg1 )
	if not f15_arg1 then
		return 
	elseif f15_arg0.CurrentRewardsOnScreenCount == 0 then
		ACTIONS.AnimateSequence( f15_arg0, "OneReward" )
		f15_arg0.rewardPos = 1
		f15_arg0[f0_local0 .. 1]:SetupReward( f15_arg1 )
	end
	table.insert( f15_arg0.RewardsQueue, f15_arg1 )
end

local f0_local14 = function ( f14_arg0 )
	return 0 < #f14_arg0.RewardsQueue
end

local f0_local15 = function ( f13_arg0 )
	if 0 < #f13_arg0.RewardsQueue then
		local f13_local0 = table.remove( f13_arg0.RewardsQueue, 1 )
		if #f13_arg0.RewardsQueue == 0 then
			f13_arg0.stop = true
		end
	end
end

local f0_local16 = function ( f12_arg0 )
	if f12_arg0.TimeHolder then
		f12_arg0:RemoveElement( f12_arg0.TimeHolder )
		f12_arg0.TimeHolder:closeTree()
		f12_arg0.TimeHolder = nil
		f12_arg0.stop = true
	end
end

local f0_local17 = function ( f11_arg0 )
	if 0 < #f11_arg0.RewardsQueue then
		f11_arg0.stop = false
	end
end

local f0_local18 = function ( f10_arg0 )
	for f10_local0 = 1, f0_local0, 1 do
		ACTIONS.AnimateSequence( f10_arg0[f0_local0 .. f10_local0], "Blink" )
	end
end

local f0_local19 = function ( menu, controller )
	local TimeHolder = LUI.UITimer.new( {
		interval = 50,
		event = "AAR_Weapon_Reward_Unlock_Timer" .. controller
	} )
	menu:addElement( TimeHolder )
	menu.TimeHolder = TimeHolder
	
	menu:registerEventHandler( "AAR_Weapon_Reward_Unlock_Timer" .. controller, function ( element, event )
		local f9_local0 = 3
		if not menu.stop then
			menu.timerCounter = menu.timerCounter - 1
			if menu:HasRewardsInQueue() then
				if menu.timerCounter <= 0 then
					menu:DequeueReward()
					menu:MoveLeftAndSlam( 350 )
					menu.timerCounter = f9_local0
				elseif menu.timerCounter == 1 then
					local f9_local1 = menu( menu.LeftMostReward, menu.CurrentRewardsOnScreenCount )
					menu[menu .. menu( menu.LeftMostReward, menu.CurrentRewardsOnScreenCount )].SetupReward( REG4[menu .. menu( menu.LeftMostReward, menu.CurrentRewardsOnScreenCount )], menu.RewardsQueue[1] )
				end
			end
		end
		return true
	end )
end

local f0_local20 = function ( f7_arg0, f7_arg1 )
	f7_arg0._controllerIndex = f7_arg1
	f7_arg0.RewardsQueue = {}
	f7_arg0.CurrentRewardsOnScreenCount = 0
	f7_arg0.LeftMostReward = 1
	f7_arg0.QueueRewards = f0_local0
	f7_arg0.HasRewardsInQueue = f0_local0
	f7_arg0.DequeueReward = f0_local0
	f7_arg0.MoveLeftAndSlam = f0_local0
	f7_arg0.ClearRewards = f0_local0
	f7_arg0.EndTimer = f0_local0
	f7_arg0.StartTimer = f0_local0
	f7_arg0.SetupTimer = f0_local0
	f7_arg0.BlinkRewards = f0_local0
	f7_arg0.timerCounter = 0
	f7_arg0.stop = true
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		f2_arg0.reward1:RegisterAnimationSequence( "DefaultSequence", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			}
		} )
		f2_arg0.reward2:RegisterAnimationSequence( "DefaultSequence", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			}
		} )
		f2_arg0.reward3:RegisterAnimationSequence( "DefaultSequence", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			}
		} )
		f2_arg0.reward4:RegisterAnimationSequence( "DefaultSequence", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			}
		} )
		local f2_local0 = function ( f6_arg0, f6_arg1 )
			f6_arg0.reward1:AnimateSequence( "DefaultSequence" )
			f6_arg0.reward2:AnimateSequence( "DefaultSequence" )
			f6_arg0.reward3:AnimateSequence( "DefaultSequence" )
			f6_arg0.reward4:AnimateSequence( "DefaultSequence" )
		end
		
		f2_arg0.reward1:RegisterAnimationSequence( "OneReward", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 205
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 395
			}
		} )
		f2_arg0.reward2:RegisterAnimationSequence( "OneReward", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			}
		} )
		f2_arg0.reward3:RegisterAnimationSequence( "OneReward", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			}
		} )
		local f2_local1 = function ( f5_arg0, f5_arg1 )
			f5_arg0.reward1:AnimateSequence( "OneReward" )
			f5_arg0.reward2:AnimateSequence( "OneReward" )
			f5_arg0.reward3:AnimateSequence( "OneReward" )
		end
		
		f2_arg0.reward1:RegisterAnimationSequence( "TwoRewards", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 102
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 292
			}
		} )
		f2_arg0.reward2:RegisterAnimationSequence( "TwoRewards", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 307
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 497
			}
		} )
		f2_arg0.reward3:RegisterAnimationSequence( "TwoRewards", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Visibility,
				value = LUI.Visibility.Hidden
			}
		} )
		local f2_local2 = function ( f4_arg0, f4_arg1 )
			f4_arg0.reward1:AnimateSequence( "TwoRewards" )
			f4_arg0.reward2:AnimateSequence( "TwoRewards" )
			f4_arg0.reward3:AnimateSequence( "TwoRewards" )
		end
		
		f2_arg0.reward1:RegisterAnimationSequence( "ThreeRewards", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Left
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 190
			}
		} )
		f2_arg0.reward2:RegisterAnimationSequence( "ThreeRewards", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 205
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 395
			}
		} )
		f2_arg0.reward3:RegisterAnimationSequence( "ThreeRewards", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 410
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 600
			}
		} )
		f2_arg0.reward4:RegisterAnimationSequence( "ThreeRewards", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 410
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 600
			}
		} )
		f2_arg0._sequences = {
			DefaultSequence = f2_local0,
			OneReward = f2_local1,
			TwoRewards = f2_local2,
			ThreeRewards = function ( f3_arg0, f3_arg1 )
				f3_arg0.reward1:AnimateSequence( "ThreeRewards" )
				f3_arg0.reward2:AnimateSequence( "ThreeRewards" )
				f3_arg0.reward3:AnimateSequence( "ThreeRewards" )
				f3_arg0.reward4:AnimateSequence( "ThreeRewards" )
			end
		}
		f2_arg0._sequenceLengths = {
			OneReward = 0,
			TwoRewards = 0,
			DefaultSequence = 0,
			ThreeRewards = 0
		}
	end
}
function AARWeaponUnlockRewardList( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 600 * _1080p, 0, 170 * _1080p )
	self.id = "AARWeaponUnlockRewardList"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local SmokeGFX = nil
	
	SmokeGFX = MenuBuilder.BuildRegisteredType( "Sprite", {
		columns = 6,
		playMode = 1,
		playbackRate = 30,
		endingFrame = 0,
		rows = 6,
		material = "aar_gfx_unlocks_smoke",
		startingFrame = 1,
		controllerIndex = f1_local1
	} )
	SmokeGFX.id = "SmokeGFX"
	SmokeGFX:SetScale( 0, 0 )
	SmokeGFX:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -400, _1080p * 400, _1080p * -64, _1080p * 64 )
	self:addElement( SmokeGFX )
	self.SmokeGFX = SmokeGFX
	
	local reward1 = nil
	
	reward1 = MenuBuilder.BuildRegisteredType( "AARWeaponUnlockReward", {
		controllerIndex = f1_local1
	} )
	reward1.id = "reward1"
	reward1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 205, _1080p * 395, 0, _1080p * 170 )
	self:addElement( reward1 )
	self.reward1 = reward1
	
	local reward2 = nil
	
	reward2 = MenuBuilder.BuildRegisteredType( "AARWeaponUnlockReward", {
		controllerIndex = f1_local1
	} )
	reward2.id = "reward2"
	reward2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 307, _1080p * 497, 0, _1080p * 170 )
	self:addElement( reward2 )
	self.reward2 = reward2
	
	local reward3 = nil
	
	reward3 = MenuBuilder.BuildRegisteredType( "AARWeaponUnlockReward", {
		controllerIndex = f1_local1
	} )
	reward3.id = "reward3"
	reward3:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 410, _1080p * 600, 0, _1080p * 170 )
	self:addElement( reward3 )
	self.reward3 = reward3
	
	local reward4 = nil
	
	reward4 = MenuBuilder.BuildRegisteredType( "AARWeaponUnlockReward", {
		controllerIndex = f1_local1
	} )
	reward4.id = "reward4"
	reward4:SetAlpha( 0, 0 )
	reward4:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 410, _1080p * 600, 0, _1080p * 170 )
	self:addElement( reward4 )
	self.reward4 = reward4
	
	f0_local0( self, f1_local1, controller )
	ACTIONS.AnimateSequence( self, "DefaultSequence" )
	return self
end

MenuBuilder.registerType( "AARWeaponUnlockRewardList", AARWeaponUnlockRewardList )
LockTable( _M )
