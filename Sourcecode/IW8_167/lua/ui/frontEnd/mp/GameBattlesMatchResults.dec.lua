-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = f5_arg2.gbMatch
	local f5_local1 = f5_local0.teams
	local f5_local2 = f5_arg2.alliesWins
	local f5_local3 = f5_arg2.axisWins
	local f5_local4 = f5_local0.gameCount
	local f5_local5 = f5_arg2.isMatchEnd
	local f5_local6 = nil
	local f5_local7 = 1
	local f5_local8 = ""
	if f5_local5 then
		ACTIONS.AnimateSequence( f5_arg0, "MatchEnd" )
		if f5_local2 < f5_local3 then
			f5_local6 = 1
		else
			f5_local6 = 2
		end
		local f5_local9
		if f5_local6 == 1 and not f5_local3 then
			f5_local9 = f5_local3
		else
			f5_local9 = f5_local2
		end
		f5_local8 = Engine.CBBHFCGDIC( "MLG_GAMEBATTLES/MATCH_WON", f5_local9 )
	else
		ACTIONS.AnimateSequence( f5_arg0, "RoundEnd" )
		local f5_local9 = f5_local0.games
		for f5_local13, f5_local14 in ipairs( f5_local9 ) do
			if f5_local14.status == GAMEBATTLES.MLG_GAME_STATUS.UNPLAYED then
				break
			end
			f5_local7 = f5_local13
		end
		if f5_local9[f5_local7].status == GAMEBATTLES.MLG_GAME_STATUS.WON_HOME then
			f5_local6 = 1
		else
			f5_local6 = 2
		end
		f5_local8 = Engine.CBBHFCGDIC( "MLG_GAMEBATTLES/GAME_WON_LINE", f5_local7, f5_local4 )
	end
	local f5_local9 = f5_local1[f5_local6].teamName
	local f5_local10 = f5_local1[f5_local6].teamId
	f5_arg0.ResultText:setText( f5_local8 )
	f5_arg0.TeamName:setText( f5_local9 .. " #" .. f5_local10 )
	f5_arg0.MatchId:setText( Engine.CBBHFCGDIC( "MLG_GAMEBATTLES/MATCH_ID_LABEL" ) .. " #" .. f5_local0.matchId )
	f5_arg0.ConfirmButton:addEventHandler( "button_action", function ( f6_arg0, f6_arg1 )
		local f6_local0 = f5_arg0.onConfirm
		if f6_local0 then
			f6_local0()
		end
		LUI.FlowManager.RequestLeaveMenu( f6_arg0 )
		f6_arg0:dispatchEventToRoot( {
			name = "gamebattles_match_results_popup_closed"
		} )
	end )
end

function GameBattlesMatchResults( menu, controller )
	local self = LUI.UIVerticalNavigator.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1710 * _1080p, 0, 460 * _1080p )
	self.id = "GameBattlesMatchResults"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = MenuBuilder.BuildRegisteredType( "GenericPopupWindow", {
		controllerIndex = f1_local1
	} )
	Background.id = "Background"
	Background:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -855, _1080p * 855, _1080p * -230, _1080p * 230 )
	self:addElement( Background )
	self.Background = Background
	
	local ConfirmButton = nil
	
	ConfirmButton = MenuBuilder.BuildRegisteredType( "GenericButton", {
		controllerIndex = f1_local1
	} )
	ConfirmButton.id = "ConfirmButton"
	ConfirmButton.Text:SetLeft( _1080p * 20, 0 )
	ConfirmButton.Text:setText( ToUpperCase( Engine.CBBHFCGDIC( "MENU/CONTINUE" ) ), 0 )
	ConfirmButton.Text:SetAlignment( LUI.Alignment.Left )
	ConfirmButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 116, _1080p * 446, _1080p * 363, _1080p * 401 )
	self:addElement( ConfirmButton )
	self.ConfirmButton = ConfirmButton
	
	local Logo = nil
	
	Logo = LUI.UIImage.new()
	Logo.id = "Logo"
	Logo:setImage( RegisterMaterial( "gamebattles_logo_large" ), 0 )
	Logo:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -770, _1080p * -30, _1080p * 39, _1080p * 439 )
	self:addElement( Logo )
	self.Logo = Logo
	
	local AdditionalInformation = nil
	
	AdditionalInformation = LUI.UIText.new()
	AdditionalInformation.id = "AdditionalInformation"
	AdditionalInformation:SetRGBFromTable( SWATCHES.genericMenu.descText, 0 )
	AdditionalInformation:setText( Engine.CBBHFCGDIC( "MLG_GAMEBATTLES/MATCH_RESULT_ADDITIONAL_INFORMATION" ), 0 )
	AdditionalInformation:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	AdditionalInformation:SetAlignment( LUI.Alignment.Left )
	AdditionalInformation:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 115, _1080p * 638, _1080p * 274, _1080p * 298 )
	self:addElement( AdditionalInformation )
	self.AdditionalInformation = AdditionalInformation
	
	local MatchId = nil
	
	MatchId = LUI.UIText.new()
	MatchId.id = "MatchId"
	MatchId:SetRGBFromTable( SWATCHES.genericMenu.descText, 0 )
	MatchId:setText( "", 0 )
	MatchId:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	MatchId:SetAlignment( LUI.Alignment.Left )
	MatchId:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 115, _1080p * 638, _1080p * 215, _1080p * 239 )
	self:addElement( MatchId )
	self.MatchId = MatchId
	
	local TeamName = nil
	
	TeamName = LUI.UIText.new()
	TeamName.id = "TeamName"
	TeamName:SetRGBFromTable( SWATCHES.genericMenu.descText, 0 )
	TeamName:setText( "", 0 )
	TeamName:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	TeamName:SetAlignment( LUI.Alignment.Left )
	TeamName:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 115, _1080p * 638, _1080p * 191, _1080p * 215 )
	self:addElement( TeamName )
	self.TeamName = TeamName
	
	local ResultText = nil
	
	ResultText = LUI.UIText.new()
	ResultText.id = "ResultText"
	ResultText:SetRGBFromTable( SWATCHES.genericMenu.descText, 0 )
	ResultText:setText( ToUpperCase( Engine.CBBHFCGDIC( "MLG_GAMEBATTLES/GAME_WON_LINE" ) ), 0 )
	ResultText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	ResultText:SetAlignment( LUI.Alignment.Left )
	ResultText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 115, _1080p * 638, _1080p * 128, _1080p * 152 )
	self:addElement( ResultText )
	self.ResultText = ResultText
	
	local Divider = nil
	
	Divider = LUI.UIImage.new()
	Divider.id = "Divider"
	Divider:SetRGBFromTable( SWATCHES.genericMenu.title, 0 )
	Divider:SetAlpha( 0.6, 0 )
	Divider:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 563, _1080p * 80, _1080p * 82 )
	self:addElement( Divider )
	self.Divider = Divider
	
	local Title = nil
	
	Title = LUI.UIText.new()
	Title.id = "Title"
	Title:SetRGBFromTable( SWATCHES.genericMenu.title, 0 )
	Title:setText( Engine.CBBHFCGDIC( "MLG_GAMEBATTLES/CAPS" ), 0 )
	Title:SetFont( FONTS.GetFont( FONTS.MainLight.File ) )
	Title:SetAlignment( LUI.Alignment.Right )
	Title:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 563, _1080p * 26, _1080p * 86 )
	self:addElement( Title )
	self.Title = Title
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	AdditionalInformation:RegisterAnimationSequence( "MatchEnd", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.MatchEnd = function ()
		menu:AnimateSequence( "MatchEnd" )
	end
	
	AdditionalInformation:RegisterAnimationSequence( "RoundEnd", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.RoundEnd = function ()
		menu:AnimateSequence( "RoundEnd" )
	end
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "GameBattlesMatchResults", GameBattlesMatchResults )
LockTable( _M )
