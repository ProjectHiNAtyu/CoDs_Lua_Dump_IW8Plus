-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
WEAPON = WEAPON or {}
WEAPON.CamoNoneValue = "none"
WEAPON.ReticleNoneValue = "none"
WEAPON.CharmNoneValue = "none"
WEAPON.StickerNoneValue = "none"
WEAPON.NoneValue = "s4_gunless"
WEAPON.GunsmithTestIndexWeapon = "s4_ar_stango44"
WEAPON.FrontEndRiotShield = "s4_me_rindigo_mp"
WEAPON.RiotShield = "s4_me_rindigo_mp"
WEAPON.Knife = "s4_me_knife_mp"
WEAPON.DefaultPrimary = "s4_ar_stango44"
WEAPON.DefaultPrimaryID = 20
WEAPON.DefaultSecondary = "s4_pi_mike1911"
WEAPON.DefaultSecondaryID = 4
WEAPON.PrimarySlot = 0
WEAPON.SecondarySlot = 1
WEAPON.SandbagShort = 0
WEAPON.SandbagMedium = 1
WEAPON.SandbagLong = 2
WEAPON.ARClass = "weapon_assault"
WEAPON.LMGClass = "weapon_lmg"
WEAPON.sniperClass = "weapon_sniper"
WEAPON.DMRClass = "weapon_dmr"
WEAPON.pistolClass = "weapon_pistol"
WEAPON.SMGClass = "weapon_smg"
WEAPON.SHOTGUNClass = "weapon_shotgun"
WEAPON.LAUNCHERClass = "weapon_projectile"
WEAPON.MELEEClass = "weapon_melee"
WEAPON.MELEEClass2 = "weapon_melee2"
WEAPON.baseVariant = 0
WEAPON.CachedChallenges = {}
WEAPON.CachedChallengesLootMap = {}
WEAPON.CachedCombinedChallenges = {}
WEAPON.CachedMasteryChallenges = {}
WEAPON.CachedUnlockChallenges = {}
WEAPON.CachedReticleChallenges = {}
WEAPON.CachedReticleChallengesLootMap = {}
WEAPON.CachedMasteryDetails = {}
WEAPON.GoldClassChallenges = {}
WEAPON.MasteryTierDiamondTargets = {
	MP = {
		[WEAPON.ARClass] = 0,
		[WEAPON.LMGClass] = 0,
		[WEAPON.sniperClass] = 0,
		[WEAPON.DMRClass] = 0,
		[WEAPON.pistolClass] = 0,
		[WEAPON.SMGClass] = 0,
		[WEAPON.SHOTGUNClass] = 0,
		[WEAPON.LAUNCHERClass] = 0,
		[WEAPON.MELEEClass] = 0
	},
	ZM = {
		[WEAPON.ARClass] = 0,
		[WEAPON.LMGClass] = 0,
		[WEAPON.sniperClass] = 0,
		[WEAPON.DMRClass] = 0,
		[WEAPON.pistolClass] = 0,
		[WEAPON.SMGClass] = 0,
		[WEAPON.SHOTGUNClass] = 0,
		[WEAPON.LAUNCHERClass] = 0,
		[WEAPON.MELEEClass] = 0
	}
}
WEAPON.WeaponNameToMasteryChallengeNameMapping = {
	MP = {
		[WEAPON.ARClass] = "s4_diamondcamo_assault",
		[WEAPON.LMGClass] = "s4_diamondcamo_lmg",
		[WEAPON.sniperClass] = "s4_diamondcamo_sniper",
		[WEAPON.DMRClass] = "s4_diamondcamo_dmr",
		[WEAPON.pistolClass] = "s4_diamondcamo_pistol",
		[WEAPON.SMGClass] = "s4_diamondcamo_smg",
		[WEAPON.SHOTGUNClass] = "s4_diamondcamo_shotgun",
		[WEAPON.LAUNCHERClass] = "s4_diamondcamo_launcher",
		[WEAPON.MELEEClass] = "s4_diamondcamo_melee"
	},
	ZM = {
		[WEAPON.ARClass] = "s4_zm_diamondcamo_assault",
		[WEAPON.LMGClass] = "s4_zm_diamondcamo_lmg",
		[WEAPON.sniperClass] = "s4_zm_diamondcamo_sniper",
		[WEAPON.DMRClass] = "s4_zm_diamondcamo_dmr",
		[WEAPON.pistolClass] = "s4_zm_diamondcamo_pistol",
		[WEAPON.SMGClass] = "s4_zm_diamondcamo_smg",
		[WEAPON.SHOTGUNClass] = "s4_zm_diamondcamo_shotgun",
		[WEAPON.LAUNCHERClass] = "s4_zm_diamondcamo_launcher",
		[WEAPON.MELEEClass] = "s4_zm_diamondcamo_melee"
	}
}
WEAPON.MasteryTierAtomicTarget = {
	ZM = 0,
	MP = 0
}
WEAPON.maxLoadoutWeapons = 2
WEAPON.maxAttachmentsPerWeapon = 10
WEAPON.maxStickersPerWeapon = 4
WEAPON.maxWeaponNameCharacters = 12
WEAPON.emptyCustomizeSlotIcon = "v_ui_elem_empty_customization_slot"
WEAPON.JavelinStateType = {
	Hold = 2,
	Fire = 3,
	Scanning = 1,
	Off = 0,
	TooClose = 4
}
WEAPON.WeaponClassInC = {
	PISTOL = 5,
	ROCKETLAUNCHER = 7,
	SPREAD = 4,
	THROWINGKNIFE = 9,
	NON_PLAYER = 10,
	TURRET = 8,
	SNIPER = 1,
	NONE = 14,
	SMG = 3,
	RIFLE = 0,
	BALL = 13,
	ITEM = 11,
	MG = 2,
	GRENADE = 6,
	BEAM = 12
}
WEAPON.PenetrationTypeInC = {
	PENETRATE_TYPE_EXTRA_LARGE = 5,
	PENETRATE_TYPE_EXTRA_SMALL = 1,
	PENETRATE_TYPE_MEDIUM = 3,
	PENETRATE_TYPE_SMALL = 2,
	PENETRATE_TYPE_TABLE_ENTRY_COUNT = 7,
	PENETRATE_TYPE_LARGE = 4,
	PENETRATE_TYPE_COUNT = 9,
	PENETRATE_TYPE_NONE = 0,
	PENETRATE_TYPE_EXTRA_EXTRA_LARGE = 6,
	PENETRATE_TYPE_MAXIMUM = 7,
	PENETRATE_TYPE_RICOCHET = 8
}
WEAPON.SPECIAL_CATEGORIES = {
	{
		nil,
		"special",
		true,
		true
	},
	{
		nil,
		"cdl",
		false,
		true
	},
	{
		nil,
		"ranked_play",
		false,
		false,
		"mp"
	}
}
WEAPON.IsWeaponLootType = function ( f179_arg0 )
	local f179_local0
	if f179_arg0 ~= LOOT.itemTypes.WEAPON and f179_arg0 ~= LOOT.itemTypes.CAMO and f179_arg0 ~= LOOT.itemTypes.RETICLE and f179_arg0 ~= LOOT.itemTypes.CHARM and f179_arg0 ~= LOOT.itemTypes.STICKER then
		f179_local0 = false
	else
		f179_local0 = true
	end
	return f179_local0
end

local f0_local0 = function ( f178_arg0 )
	local f178_local0 = {
		nil,
		"pistol",
		"smg",
		"assault",
		"dmr",
		"sniper",
		"shotgun"
	}
	local f178_local1 = {
		nil,
		"weapon_pistol",
		"weapon_smg",
		"weapon_assault",
		"weapon_lmg",
		"weapon_sniper",
		"weapon_shotgun"
	}
	for f178_local5, f178_local6 in ipairs( f178_local0 ) do
		if LUI.Contains( f178_arg0, f178_local0[f178_local5] ) then
			return f178_local1[f178_local5]
		end
	end
end

WEAPON.StripSuffix = function ( f177_arg0, f177_arg1 )
	local f177_local0 = f177_arg0
	local f177_local1 = string.len( f177_arg0 )
	if string.sub( f177_arg0, f177_local1 - 2 ) == f177_arg1 then
		f177_local0 = string.sub( f177_arg0, 0, f177_local1 - 3 )
	end
	return f177_local0
end

WEAPON.GetGlobalCamosForCategory = function ( f176_arg0, f176_arg1, f176_arg2, f176_arg3, f176_arg4 )
	local f176_local0 = {}
	local f176_local1 = StringTable[0xFD4E49A34DD43AE]( CSV.camoTable.file )
	for f176_local2 = 0, f176_local1 - 1, 1 do
		local f176_local5 = CSV.ReadRow( CSV.camoTable, f176_local2 )
		if f176_local5.category == f176_arg2 then
			local f176_local6 = LOOT.GetItemID( LOOT.itemTypes.CAMO, f176_local5.ref )
			local f176_local7 = LOOT.IsUnlockedWithID( f176_arg0, f176_local6 )
			local f176_local8 = LOOT.GetItemID( LOOT.itemTypes.CAMO, f176_local5.ref, {
				weaponRef = f176_arg1
			} )
			local f176_local9 = f176_local5.visibilityLevel
			if f176_local9 then
				if f176_local5.visibilityLevel ~= "" then
					f176_local9 = LOOT.IsLootVisible( f176_local5.visibilityLevel )
				else
					f176_local9 = true
				end
			end
			local f176_local10 = true
			if f176_arg4 then
				local f176_local11 = StringTable[0x2DCF0973239E909]( CSV.baseCamoIDs.file, CSV.baseCamoIDs.cols.index, f176_local6, CSV.baseCamoIDs.cols.platformExclusivity )
				if f176_local11 then
					f176_local10 = LUI.IsValidOnCurrentPlatform( f176_local11 )
				else
					f176_local10 = true
				end
			end
			if f176_local9 and f176_local10 and (not f176_arg3 or f176_local7) then
				f176_local5.unlockInfo = {
					lootID = f176_local8,
					unlocked = f176_local7,
					lockedText = lockedText
				}
				table.insert( f176_local0, f176_local5 )
			end
		end
	end
	return f176_local0
end

local f0_local1 = function ( f175_arg0, f175_arg1, f175_arg2 )
	if f175_arg2 then
		for f175_local4, f175_local5 in ipairs( f175_arg2 ) do
			local f175_local6 = f175_local5.category
			local f175_local3 = f175_arg0[f175_local6]
			if not f175_local3 then
				f175_local3 = {}
				f175_arg0[f175_local6] = f175_local3
				table.insert( f175_local3, f175_arg1 )
			end
			table.insert( f175_local3, f175_local5 )
		end
	end
end

WEAPON.BuildCamoTable = function ( f174_arg0, f174_arg1, f174_arg2, f174_arg3, f174_arg4 )
	if not f174_arg4 then
		f174_arg4 = {}
	end
	local f174_local0, f174_local1 = WEAPON.GetWeaponCamoList( f174_arg0, f174_arg1, f174_arg2 )
	for f174_local5, f174_local6 in ipairs( WEAPON.SPECIAL_CATEGORIES ) do
		if not f174_local6[4] or Challenge.ChallengeGameMode[f174_local6[4]] == f174_arg2 then
			f0_local0( f174_local0, f174_local1, WEAPON.GetGlobalCamosForCategory( f174_arg0, f174_arg1, f174_local6[1], f174_local6[2], f174_local6[3] ) )
		end
	end
	f174_local2 = {}
	f174_local3 = 0
	f174_local4 = false
	f174_local5 = StringTable[0xFD4E49A34DD43AE]( CSV.camoCategoryTable.file )
	for f174_local6 = 1, f174_local5 - 1, 1 do
		local f174_local9 = CSV.ReadRow( CSV.camoCategoryTable, f174_local6 )
		local f174_local10 = f174_local9.ref
		if f174_local0[f174_local10] then
			f174_local3 = f174_local3 + 1
			if f174_local10 == f174_arg3 then
				f174_arg4.defaultGridIndex = f174_local3 - 1
			end
			table.insert( f174_local2, f174_local9 )
		end
	end
	f174_local6 = CSV.ReadRow( CSV.camoCategoryTable, 0 )
	if f174_local0[f174_local6.ref] then
		if f174_arg3 == CAMO_SPECIAL_CATEGORY then
			f174_arg4.defaultGridIndex = f174_local3
		end
		table.insert( f174_local2, f174_local6 )
	end
	f174_arg4.categoryTable = f174_local2
	f174_arg4.camoTable = f174_local0
	return f174_arg4
end

WEAPON.IsWeaponSecondary = function ( f173_arg0 )
	local f173_local0 = WEAPON.GetWeaponClass( f173_arg0 )
	local f173_local1
	if f173_local0 ~= WEAPON.pistolClass and f173_local0 ~= WEAPON.MELEEClass2 and f173_local0 ~= WEAPON.LAUNCHERClass then
		f173_local1 = false
	else
		f173_local1 = true
	end
	return f173_local1
end

WEAPON.GetClassSlot = function ( f172_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.weaponClasses.file, CSV.weaponClasses.cols.ref, f172_arg0, CSV.weaponClasses.cols.slot )
end

WEAPON.GetSlotFromRef = function ( f171_arg0 )
	return (tonumber( WEAPON.GetClassSlot( WEAPON.GetWeaponClass( f171_arg0 ) ) ) or 1) - 1
end

WEAPON.GetID = function ( f170_arg0 )
	return tonumber( StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f170_arg0, CSV.weapons.cols.index ) )
end

WEAPON.GetWeaponSandbagPlacementIndex = function ( f169_arg0 )
	local f169_local0 = StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.asset, f169_arg0, CSV.weapons.cols.menuClass )
	local f169_local1 = WEAPON.SandbagShort
	if f169_local0 == WEAPON.ARClass or f169_local0 == WEAPON.LMGClass then
		f169_local1 = WEAPON.SandbagMedium
	elseif f169_local0 == WEAPON.sniperClass or f169_local0 == WEAPON.LAUNCHERClass then
		f169_local1 = WEAPON.SandbagLong
	end
	return f169_local1
end

WEAPON.GetWeaponClass = function ( f168_arg0 )
	local f168_local0 = StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f168_arg0, CSV.weapons.cols.menuClass )
	if CONDITIONS.IsThirdGameMode() and f168_local0 == "weapon_classic_s" then
		f168_local0 = "weapon_classic_p"
	end
	return f168_local0
end

WEAPON.GetWeaponClassName = function ( f167_arg0 )
	local f167_local0 = StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f167_arg0, CSV.weapons.cols.menuClass )
	if f167_local0 and 0 < #f167_local0 then
		return StringTable[0x2DCF0973239E909]( CSV.weaponClasses.file, CSV.weaponClasses.cols.ref, f167_local0, CSV.weaponClasses.cols.name )
	else
		
	end
end

WEAPON.GetWeaponAssetFromModel = function ( f166_arg0 )
	local f166_local0 = LUI.Split( f166_arg0, "+" )
	return f166_local0[1]
end

WEAPON.GetWeaponDetailsFromModel = function ( f165_arg0 )
	local f165_local0 = WEAPON.GetWeaponAssetFromModel( f165_arg0 )
	local f165_local1 = LUI.FindLast( f165_local0, "_mp" )
	assert( f165_local1, string.format( "Weapon \"%s\" doesn't contain the substring \"_mp\"", tostring( f165_local0 ) ) )
	f165_local0 = string.sub( f165_local0, 0, f165_local1 + 2 )
	return {
		weaponAsset = f165_local0,
		weaponClass = StringTable[0x2DCF0973239E909]( CSV.MPWeapons.file, CSV.MPWeapons.cols.asset, f165_local0, CSV.MPWeapons.cols.class ),
		weaponRef = StringTable[0x2DCF0973239E909]( CSV.MPWeapons.file, CSV.MPWeapons.cols.asset, f165_local0, CSV.MPWeapons.cols.ref )
	}
end

WEAPON.GetChallengeUnlockRow = function ( f164_arg0 )
	return StringTable[0x8073B436CDE1BF]( CSV.gunChallenges.file, CSV.gunChallenges.cols.loot, f164_arg0 )
end

WEAPON.GetWeaponClassAttachUnlockTablePrefix = function ( f163_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.weaponClasses.file, CSV.weaponClasses.cols.ref, f163_arg0, CSV.weaponClasses.cols.unlockTablePrefix )
end

WEAPON.GetClassName = function ( f162_arg0 )
	return Engine[0xED84C33EC5F01EA]( StringTable[0x2DCF0973239E909]( CSV.weaponClasses.file, CSV.weaponClasses.cols.ref, f162_arg0, CSV.weaponClasses.cols.name ) )
end

WEAPON.GetName = function ( f161_arg0 )
	return Engine[0xED84C33EC5F01EA]( StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f161_arg0, CSV.weapons.cols.name ) )
end

WEAPON.GetDisplayOrder = function ( f160_arg0 )
	return tonumber( StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f160_arg0, CSV.weapons.cols.displayOrder ) )
end

WEAPON.GetNameFromAsset = function ( f159_arg0 )
	return Engine[0xED84C33EC5F01EA]( StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.asset, f159_arg0, CSV.weapons.cols.name ) )
end

WEAPON.GetCategory = function ( f158_arg0 )
	local f158_local0 = StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f158_arg0, CSV.weapons.cols.category )
	if not f158_local0 or 0 >= #f158_local0 then
		f158_local0 = "CAS/DEFAULT_WEAPON_CATEGORY"
	end
	return Engine[0xED84C33EC5F01EA]( f158_local0 )
end

local f0_local2 = function ( f157_arg0, f157_arg1 )
	local f157_local0 = tonumber( f157_arg0.itemID )
	f157_arg1[f157_local0] = f157_arg1[f157_local0] or {}
	table.insert( f157_arg1[f157_local0], f157_arg0 )
end

local f0_local3 = function ( f156_arg0, f156_arg1 )
	f156_arg1[f156_arg0.category] = f156_arg1[f156_arg0.category] or {}
	table.insert( f156_arg1[f156_arg0.category], f156_arg0 )
end

local f0_local4 = function ( f155_arg0, f155_arg1, f155_arg2 )
	local f155_local0 = f155_arg0.zmMode
	local f155_local1 = Challenge.ChallengeGameMode.zm
	f155_arg2( f155_arg0, f155_arg1[REG8 and Challenge.ChallengeGameMode.zm or Challenge.ChallengeGameMode.mp] )
	f155_arg2( f155_arg0, f155_arg1[Challenge.ChallengeGameMode.both] )
end

local f0_local5 = function ( f154_arg0, f154_arg1 )
	local f154_local0 = LUI.Contains( f154_arg0, "zm" )
	local f154_local1 = LUI.Contains( f154_arg0, "gold" )
	local f154_local2
	if not f154_local1 then
		f154_local2 = LUI.Contains( f154_arg0, "diamond" )
	else
		f154_local2 = false
	end
	local f154_local3
	if not f154_local1 then
		f154_local3 = not f154_local2
	else
		f154_local3 = false
	end
	local f154_local4 = WEAPON.GetVariantBaseRef( f154_arg1 )
	local f154_local5 = WEAPON.GetWeaponClass( f154_local4 )
	if f154_local5 == "weapon_melee2" then
		f154_local5 = "weapon_melee"
	end
	local f154_local6 = nil
	if f154_local3 then
		if f154_local0 then
			local f154_local7 = WEAPON.MasteryTierAtomicTarget.ZM
			if not f154_local7 then
				f154_local6 = f154_local7
			end
		end
		f154_local6 = WEAPON.MasteryTierAtomicTarget.MP
	else
		local f154_local7
		if f154_local0 then
			f154_local7 = WEAPON.MasteryTierDiamondTargets.ZM
			if not f154_local7 then
			
			else
				f154_local6 = f154_local7[f154_local5]
			end
		end
		f154_local7 = WEAPON.MasteryTierDiamondTargets.MP
	end
	return {
		zombieChallenge = f154_local0,
		goldChallenge = f154_local1,
		diamondChallenge = f154_local2,
		atomicChallenge = f154_local3,
		weaponRef = f154_local4,
		weaponClass = f154_local5,
		tierTarget = f154_local6
	}
end

local f0_local6 = function ( f153_arg0 )
	local f153_local0 = 0
	local f153_local1 = WEAPON.GetWeaponClass( WEAPON.GetVariantBaseRef( f153_arg0.itemID ) )
	if f153_local1 == "weapon_melee2" then
		f153_local1 = "weapon_melee"
	end
	local f153_local2 = LUI.Contains( f153_arg0.aeName, "diamond" )
	local f153_local3 = LUI.Contains( f153_arg0.aeName, "atomic" )
	if f153_local2 then
		for f153_local7, f153_local8 in pairs( WEAPON.GoldClassChallenges[f153_local1] ) do
			if f153_local8 then
				f153_local0 = f153_local0 + 1
			end
		end
	elseif f153_local3 then
		local f153_local5
		if f153_arg0.zmMode == Challenge.ChallengeGameMode.zm then
			f153_local5 = WEAPON.MasteryTierDiamondTargets.ZM
			if not f153_local5 then
			
			else
				for f153_local13, f153_local14 in pairs( WEAPON.GoldClassChallenges ) do
					local f153_local9 = 0
					for f153_local10, f153_local11 in pairs( f153_local14 ) do
						if f153_local11 then
							f153_local9 = f153_local9 + 1
						end
					end
					if tonumber( f153_local5[f153_local13] ) <= f153_local9 then
						f153_local0 = f153_local0 + 1
					end
				end
			end
		end
		f153_local5 = WEAPON.MasteryTierDiamondTargets.MP
	end
	return f153_local0
end

local f0_local7 = function ()
	local f152_local0 = WEAPON.CachedMasteryChallenges[CONDITIONS.IsThirdGameMode() and Challenge.ChallengeGameMode.zm or Challenge.ChallengeGameMode.mp]
	if f152_local0 then
		for f152_local10, f152_local11 in pairs( f152_local0 ) do
			for f152_local7, f152_local8 in ipairs( f152_local11 ) do
				if WEAPON.CachedMasteryDetails[f152_local8.aeID].goldChallenge then
					local f152_local4 = WEAPON.GetWeaponClass( WEAPON.GetVariantBaseRef( f152_local8.itemID ) )
					if f152_local4 == "weapon_melee2" then
						f152_local4 = "weapon_melee"
					end
					local f152_local5 = WEAPON.GoldClassChallenges
					local f152_local6 = WEAPON.GoldClassChallenges[f152_local4]
					if not f152_local6 then
						f152_local6 = {}
					end
					f152_local5[f152_local4] = f152_local6
					table.insert( WEAPON.GoldClassChallenges[f152_local4], f152_local8.itemID, f152_local8.complete )
				end
			end
		end
	end
end

local f0_local8 = function ()
	local f151_local0 = {
		Challenge.ChallengeGameMode.zm,
		Challenge.ChallengeGameMode.mp
	}
	local f151_local1 = WEAPON.CachedMasteryDetails
	for f151_local21, f151_local22 in ipairs( f151_local0 ) do
		local f151_local23 = WEAPON.CachedMasteryChallenges[f151_local22]
		local f151_local24 = f151_local22 == Challenge.ChallengeGameMode.zm
		local f151_local5
		if f151_local24 then
			f151_local5 = WEAPON.MasteryTierDiamondTargets.ZM
			if not f151_local5 then
			
			else
				for f151_local17, f151_local18 in pairs( f151_local23 ) do
					for f151_local13, f151_local14 in ipairs( f151_local18 ) do
						local f151_local16 = f151_local1[f151_local14.aeID]
						if not f151_local16.goldChallenge then
							local f151_local9 = f151_local16.weaponRef
							local f151_local10 = f151_local16.weaponClass
							if f151_local10 == "weapon_melee2" then
								f151_local10 = "weapon_melee"
							end
							local f151_local11 = nil
							if f151_local16.atomicChallenge then
								if f151_local24 then
									local f151_local12 = WEAPON.MasteryTierAtomicTarget.ZM
									if not f151_local12 then
										f151_local11 = f151_local12
									end
								end
								f151_local11 = WEAPON.MasteryTierAtomicTarget.MP
							else
								f151_local11 = f151_local5[f151_local10]
							end
							local f151_local12 = f0_local0( f151_local14 )
							f151_local14.cumulativeProgress = f151_local12
							f151_local14.cumulativeProgressMax = f151_local11
							f151_local14.tiers[1].progress = f151_local12
							f151_local14.tiers[1].tierTarget = f151_local11
						end
					end
				end
			end
		end
		f151_local5 = WEAPON.MasteryTierDiamondTargets.MP
	end
end

WEAPON.CheckWeaponAndMasteryChallengeCache = function ( f150_arg0, f150_arg1 )
	if f150_arg1 then
		WEAPON.CachedChallenges = {}
		WEAPON.CachedMasteryChallenges = {}
		WEAPON.CachedMasteryDetails = {}
		WEAPON.CachedCombinedChallenges = {}
	end
	if LUI.IsTableEmpty( WEAPON.CachedChallenges ) or LUI.IsTableEmpty( WEAPON.CachedMasteryChallenges ) or LUI.IsTableEmpty( WEAPON.GoldClassChallenges ) or LUI.IsTableEmpty( WEAPON.CachedCombinedChallenges ) then
		WEAPON.CachedChallenges[Challenge.ChallengeGameMode.mp] = {}
		WEAPON.CachedChallenges[Challenge.ChallengeGameMode.zm] = {}
		WEAPON.CachedChallenges[Challenge.ChallengeGameMode.both] = {}
		WEAPON.CachedMasteryChallenges[Challenge.ChallengeGameMode.mp] = {}
		WEAPON.CachedMasteryChallenges[Challenge.ChallengeGameMode.zm] = {}
		WEAPON.CachedMasteryChallenges[Challenge.ChallengeGameMode.both] = {}
		WEAPON.CachedCombinedChallenges[Challenge.ChallengeGameMode.mp] = {}
		WEAPON.CachedCombinedChallenges[Challenge.ChallengeGameMode.zm] = {}
		WEAPON.CachedCombinedChallenges[Challenge.ChallengeGameMode.both] = {}
		WEAPON.CachedMasteryDetails = {}
		for f150_local3 in pairs( WEAPON.MasteryTierDiamondTargets.MP ) do
			WEAPON.MasteryTierDiamondTargets.MP[f150_local3] = StringTable[0x2DCF0973239E909]( CSV.weaponMasteryChallenges.file, CSV.weaponMasteryChallenges.cols.aeName, WEAPON.WeaponNameToMasteryChallengeNameMapping.MP[f150_local3], CSV.weaponMasteryChallenges.cols.tierTargets )
		end
		for f150_local3 in pairs( WEAPON.MasteryTierDiamondTargets.ZM ) do
			WEAPON.MasteryTierDiamondTargets.ZM[f150_local3] = StringTable[0x2DCF0973239E909]( CSV.weaponMasteryChallenges.file, CSV.weaponMasteryChallenges.cols.aeName, WEAPON.WeaponNameToMasteryChallengeNameMapping.ZM[f150_local3], CSV.weaponMasteryChallenges.cols.tierTargets )
		end
		WEAPON.MasteryTierAtomicTarget.MP = StringTable[0x2DCF0973239E909]( CSV.weaponMasteryChallenges.file, CSV.weaponMasteryChallenges.cols.aeName, "s4_atomiccamo_all", CSV.weaponMasteryChallenges.cols.tierTargets )
		WEAPON.MasteryTierAtomicTarget.ZM = StringTable[0x2DCF0973239E909]( CSV.weaponMasteryChallenges.file, CSV.weaponMasteryChallenges.cols.aeName, "s4_zm_atomiccamo_all", CSV.weaponMasteryChallenges.cols.tierTargets )
		f150_local0, f150_local1 = Challenge.GetChallengesAndProgress( f150_arg0, AEKinds.S4_AE_KIND_GUNSMITH )
		for f150_local6, f150_local7 in pairs( f150_local0 ) do
			local f150_local8 = f150_local7.completionDependencies == "1"
			if f150_local8 then
				WEAPON.CachedMasteryDetails[f150_local7.aeID] = f0_local0( f150_local7.aeName, f150_local7.itemID )
			end
			local f150_local5
			if f150_local8 then
				f150_local5 = WEAPON.CachedMasteryChallenges
				if not f150_local5 then
				
				else
					f0_local0( f150_local7, f150_local5, f0_local0 )
					f0_local0( f150_local7, WEAPON.CachedCombinedChallenges, f0_local0 )
				end
			end
			f150_local5 = WEAPON.CachedChallenges
		end
		f0_local0()
		f0_local0()
		WEAPON.CachedChallengesLootMap = f150_local1
	end
end

local f0_local9 = function ( f149_arg0, f149_arg1 )
	if f149_arg1 then
		WEAPON.CachedUnlockChallenges = {}
	end
	if LUI.IsTableEmpty( WEAPON.CachedUnlockChallenges ) then
		WEAPON.CachedUnlockChallenges[Challenge.ChallengeGameMode.mp] = {}
		WEAPON.CachedUnlockChallenges[Challenge.ChallengeGameMode.zm] = {}
		WEAPON.CachedUnlockChallenges[Challenge.ChallengeGameMode.both] = {}
		local f149_local0, f149_local1 = Challenge.GetChallengesAndProgress( f149_arg0, AEKinds.S4_AE_KIND_GUN_UNLOCK )
		for f149_local5, f149_local6 in pairs( f149_local0 ) do
			f0_local0( f149_local6, WEAPON.CachedUnlockChallenges, f0_local0 )
		end
	end
end

local f0_local10 = function ( f148_arg0, f148_arg1 )
	if f148_arg1 then
		WEAPON.CachedReticleChallenges = {}
	end
	if LUI.IsTableEmpty( WEAPON.CachedReticleChallenges ) then
		WEAPON.CachedReticleChallenges[Challenge.ChallengeGameMode.mp] = {}
		WEAPON.CachedReticleChallenges[Challenge.ChallengeGameMode.zm] = {}
		WEAPON.CachedReticleChallenges[Challenge.ChallengeGameMode.both] = {}
		local f148_local0, f148_local1 = Challenge.GetChallengesAndProgress( f148_arg0, AEKinds.S4_AE_KIND_RETICLE )
		for f148_local5, f148_local6 in pairs( f148_local0 ) do
			f0_local0( f148_local6, WEAPON.CachedReticleChallenges, f0_local0 )
		end
		WEAPON.CachedReticleChallengesLootMap = f148_local1
	end
end

WEAPON.GetWeaponChallenges = function ( f147_arg0, f147_arg1, f147_arg2 )
	WEAPON.CheckWeaponAndMasteryChallengeCache( f147_arg0 )
	local f147_local0 = LOOT.GetItemID( LOOT.itemTypes.WEAPON, f147_arg1 )
	assert( WEAPON.CachedChallenges[f147_arg2] )
	return WEAPON.CachedChallenges[f147_arg2][f147_local0] and WEAPON.CachedChallenges[f147_arg2][f147_local0] or {}, WEAPON.CachedChallengesLootMap
end

WEAPON.GetMasteryChallenges = function ( f146_arg0, f146_arg1, f146_arg2 )
	WEAPON.CheckWeaponAndMasteryChallengeCache( f146_arg0 )
	local f146_local0 = LOOT.GetItemID( LOOT.itemTypes.WEAPON, f146_arg1 )
	assert( WEAPON.CachedMasteryChallenges[f146_arg2] )
	return WEAPON.CachedMasteryChallenges[f146_arg2][f146_local0] and WEAPON.CachedMasteryChallenges[f146_arg2][f146_local0] or {}, WEAPON.CachedChallengesLootMap
end

WEAPON.GetWeaponAndMasteryChallenges = function ( f145_arg0, f145_arg1, f145_arg2 )
	WEAPON.CheckWeaponAndMasteryChallengeCache( f145_arg0 )
	local f145_local0 = LOOT.GetItemID( LOOT.itemTypes.WEAPON, f145_arg1 )
	assert( WEAPON.CachedCombinedChallenges[f145_arg2] )
	return WEAPON.CachedCombinedChallenges[f145_arg2][f145_local0] and WEAPON.CachedCombinedChallenges[f145_arg2][f145_local0] or {}, WEAPON.CachedChallengesLootMap
end

WEAPON.GetReticleChallenges = function ( f144_arg0, f144_arg1, f144_arg2 )
	f0_local0( f144_arg0 )
	assert( WEAPON.CachedReticleChallenges[f144_arg2] )
	return WEAPON.CachedReticleChallenges[f144_arg2][f144_arg1] and WEAPON.CachedReticleChallenges[f144_arg2][f144_arg1] or {}, WEAPON.CachedReticleChallengesLootMap
end

WEAPON.GetWeaponUnlockChallenge = function ( f143_arg0, f143_arg1, f143_arg2 )
	f0_local0( f143_arg0 )
	local f143_local0 = LOOT.GetItemID( LOOT.itemTypes.WEAPON, f143_arg1 )
	assert( WEAPON.CachedUnlockChallenges[f143_arg2] )
	return WEAPON.CachedUnlockChallenges[f143_arg2][f143_local0] and WEAPON.CachedUnlockChallenges[f143_arg2][f143_local0][1] or nil
end

WEAPON.GetTopWeaponChallengeByRef = function ( f142_arg0, f142_arg1, f142_arg2 )
	local f142_local0 = nil
	local f142_local1, f142_local2 = WEAPON.GetWeaponChallenges( f142_arg0, f142_arg1, f142_arg2 )
	if f142_local1 and 0 < #f142_local1 then
		Challenge.SortWithUnlockLevel( f142_arg0, f142_local1, Challenge.ChallengeSortFn, AEKinds.S4_AE_KIND_GUNSMITH )
		f142_local2, f142_local0 = next( f142_local1 )
		if f142_local0 and not f142_local0.complete then
			return f142_local0
		end
	end
	local f142_local3, f142_local4 = WEAPON.GetMasteryChallenges( f142_arg0, f142_arg1, f142_arg2 )
	if f142_local3 and 0 < #f142_local3 then
		table.sort( f142_local3, WEAPON.MasterySortFn )
		f142_local4, f142_local0 = next( f142_local3 )
	end
	return f142_local0
end

WEAPON.GetTopWeaponChallengesByRef = function ( f141_arg0, f141_arg1, f141_arg2, f141_arg3 )
	local f141_local0, f141_local1, f141_local2 = nil
	local f141_local3, f141_local4 = WEAPON.GetWeaponChallenges( f141_arg0, f141_arg1, f141_arg2 )
	if f141_local3 and 0 < #f141_local3 then
		f141_local1 = {}
		Challenge.SortWithUnlockLevel( f141_arg0, f141_local3, Challenge.ChallengeSortFn, AEKinds.S4_AE_KIND_GUNSMITH )
		local f141_local5 = assert
		local f141_local6
		if f141_arg3 then
			f141_local6 = f141_arg3
		else
			f141_local6 = 0 < f141_arg3
		end
		f141_local5( f141_local6 )
		if #f141_local1 < f141_arg3 then
			
		else
			
		end
	end
	if f141_local1 and #f141_local1 == f141_arg3 then
		return f141_local1
	end
	local f141_local5, f141_local7 = WEAPON.GetMasteryChallenges( f141_arg0, f141_arg1, f141_arg2 )
	if not f141_local1 then
		f141_local1 = {}
	end
	f141_local2 = nil
	if #f141_local1 < f141_arg3 then
		
	else
		
	end
	return f141_local1
end

WEAPON.GetTopLoadoutChallengesByLoadoutIndex = function ( f140_arg0, f140_arg1, f140_arg2 )
	local f140_local0 = LOADOUT.GetLoadoutPlayerData( f140_arg0, f140_arg1 )
	local f140_local1 = f140_local0.weaponSetups[WEAPON.PrimarySlot].weapon:get()
	local f140_local2 = f140_local0.weaponSetups[WEAPON.SecondarySlot].weapon:get()
	local f140_local3 = WEAPON.GetTopWeaponChallengeByRef( f140_arg0, f140_local1, f140_arg2 )
	local f140_local4 = WEAPON.GetTopWeaponChallengeByRef( f140_arg0, f140_local2, f140_arg2 )
	local f140_local5 = {}
	if f140_local3 then
		f140_local3.options = {
			weaponRef = f140_local1
		}
		table.insert( f140_local5, f140_local3 )
	end
	if f140_local4 then
		f140_local4.options = {
			weaponRef = f140_local2
		}
		table.insert( f140_local5, f140_local4 )
	end
	return f140_local5
end

WEAPON.MasterySortFn = function ( f138_arg0, f138_arg1 )
	local f138_local0 = function ( f139_arg0, f139_arg1, f139_arg2 )
		return LUI.Contains( f139_arg0 .. f139_arg1, f139_arg2 )
	end
	
	local f138_local1 = {
		nil,
		"gold",
		"diamond",
		"atomic"
	}
	local f138_local2 = {
		nil,
		"atomic",
		"diamond",
		"gold"
	}
	local f138_local3 = f138_local1
	if f138_arg0.complete ~= f138_arg1.complete then
		return f138_arg1.complete
	elseif f138_arg0.complete and f138_arg1.complete then
		f138_local3 = f138_local2
	end
	if f138_local0( f138_arg0.aeName, f138_arg1.aeName, f138_local3[1] ) then
		return LUI.Contains( f138_arg0.aeName, f138_local3[1] )
	elseif f138_local0( f138_arg0.aeName, f138_arg1.aeName, f138_local3[2] ) then
		return LUI.Contains( f138_arg0.aeName, f138_local3[2] )
	end
	return not LUI.Contains( f138_arg0.aeName, f138_local3[3] )
end

WEAPON.GetDesc = function ( f137_arg0 )
	return Engine[0xED84C33EC5F01EA]( StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f137_arg0, CSV.weapons.cols.desc ) )
end

WEAPON.GetImage = function ( f136_arg0 )
	local f136_local0 = StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f136_arg0, CSV.weapons.cols.image )
	local f136_local1
	if f136_local0 == "" then
		f136_local1 = "white"
	else
		f136_local1 = f136_local0
	end
	return f136_local1
end

WEAPON.GetProgressionImage = function ( f135_arg0 )
	local f135_local0 = StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f135_arg0, CSV.weapons.cols.progressionImage )
	local f135_local1
	if f135_local0 == "" then
		f135_local1 = "white"
	else
		f135_local1 = f135_local0
	end
	return f135_local1
end

WEAPON.GetBWImage = function ( f134_arg0, f134_arg1 )
	local f134_local0 = WEAPON.GetWeaponClass( f134_arg0 )
	local f134_local1 = nil
	if f134_arg1 and 0 < f134_arg1 and (f134_local0 == WEAPON.MELEEClass or f134_local0 == WEAPON.MELEEClass2) then
		f134_local1 = StringTable[0x2DCF0973239E909]( WEAPON.GetVariantFile( f134_arg0 ), CSV.weaponVariants.cols.variantID, f134_arg1, CSV.weaponVariants.cols.overrideImage )
	else
		f134_local1 = StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f134_arg0, CSV.weapons.cols.BWImage )
	end
	local f134_local2
	if f134_local1 == "" then
		f134_local2 = "white"
	else
		f134_local2 = f134_local1
	end
	return f134_local2
end

WEAPON.GetShowcaseImage = function ( f133_arg0 )
	return WEAPON.GetImage( f133_arg0 )
end

WEAPON.GetModificationsByWeaponWithBaseWeapon = function ( f132_arg0 )
	local f132_local0 = WEAPON.GetModificationsByWeapon( f132_arg0 )
	for f132_local4, f132_local5 in pairs( f132_local0 ) do
		table.insert( f132_local5, 1, {
			name = nil,
			weapon = f132_local4,
			attachments = {}
		} )
	end
	return f132_local0
end

WEAPON.GetModificationsByWeapon = function ( f131_arg0, f131_arg1 )
	local f131_local0 = WEAPON.GetModifications( f131_arg0, f131_arg1 )
	local f131_local1 = {}
	for f131_local5, f131_local6 in ipairs( f131_local0 ) do
		if not f131_local1[f131_local6.weapon] then
			f131_local1[f131_local6.weapon] = {}
		end
		table.insert( f131_local1[f131_local6.weapon], f131_local6 )
	end
	return f131_local1
end

WEAPON.GetArmoryWeaponsByClass = function ( f130_arg0, f130_arg1 )
	local f130_local0 = WEAPON.GetModifications( f130_arg0, f130_arg1 )
	local f130_local1 = {}
	for f130_local5, f130_local6 in ipairs( f130_local0 ) do
		local f130_local7 = WEAPON.GetWeaponClass( f130_local6.weapon )
		if not f130_local1[f130_local7] then
			f130_local1[f130_local7] = {}
		end
		table.insert( f130_local1[f130_local7], f130_local6 )
	end
	return f130_local1
end

WEAPON.GetVariantFile = function ( f129_arg0 )
	local f129_local0 = f129_arg0
	if string.sub( f129_arg0, 1, 4 ) == "iw8_" then
		f129_local0 = string.sub( f129_arg0, 5 )
	end
	return CSV.weaponVariants:GetFile( f129_local0 )
end

WEAPON.GetVariantRef = function ( f128_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f128_arg0, CSV.weaponIDs.cols.variantRef )
end

WEAPON.GetVariantID = function ( f127_arg0 )
	return tonumber( StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.variantRef, f127_arg0, CSV.weaponIDs.cols.index ) )
end

WEAPON.GetVariantBaseRef = function ( f126_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f126_arg0, CSV.weaponIDs.cols.baseRef )
end

WEAPON.GetLootWeaponName = function ( f125_arg0, f125_arg1 )
	return Engine[0xED84C33EC5F01EA]( StringTable[0x2DCF0973239E909]( WEAPON.GetVariantFile( f125_arg0 ), CSV.weaponVariants.cols.ref, StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f125_arg1, CSV.weaponIDs.cols.variantRef ), CSV.weaponVariants.cols.name ) )
end

WEAPON.IsVariant = function ( f124_arg0, f124_arg1 )
	local f124_local0 = WEAPON.GenerateWeaponTableFromID( f124_arg1 )
	return 0 < f124_local0.variantID
end

WEAPON.IsVariantRef = function ( f123_arg0 )
	local f123_local0 = StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.variantRef, f123_arg0, CSV.weaponIDs.cols.baseRef )
	if not f123_local0 or #f123_local0 == 0 then
		return false
	end
	local f123_local1 = tonumber( StringTable[0x2DCF0973239E909]( WEAPON.GetVariantFile( f123_local0 ), CSV.weaponVariants.cols.ref, f123_arg0, CSV.weaponVariants.cols.variantID ) )
	local f123_local2
	if f123_local1 then
		f123_local2 = f123_local1
	else
		f123_local2 = 0 < f123_local1
	end
	return f123_local2
end

WEAPON.allLootMods = {}
WEAPON.PopulateLootMods = function ()
	local f122_local0 = Engine[0x836C8AD984F14F6]()
	local f122_local1 = Engine[0x9D348E40740E9A8]()
	local f122_local2 = Engine[0x575E9C5B9AAB6F4]()
	for f122_local3 = 0, StringTable[0xFD4E49A34DD43AE]( CSV.weaponIDs.file ) - 1, 1 do
		local f122_local6 = CSV.ReadRow( CSV.weaponIDs, f122_local3 )
		if 0 < tonumber( f122_local6.quality ) then
			if not WEAPON.allLootMods[f122_local6.baseRef] then
				WEAPON.allLootMods[f122_local6.baseRef] = {}
			end
			local f122_local7 = true
			if Dvar[0x9E5BE3B4BBA4E0E]( "#x3a1f0a3b8d8075f2c" ) then
				if not (not (f122_local6.variantRef:sub( -#"_sony" ) == "_sony") or f122_local0) or not (not (f122_local6.variantRef:sub( -#"_ms" ) == "_ms") or f122_local1) or f122_local6.variantRef:sub( -#"_pc" ) == "_pc" and not f122_local2 then
					f122_local7 = false
				end
			end
			if f122_local7 then
				local f122_local8 = WEAPON.GetVariantFile( f122_local6.baseRef )
				local f122_local9 = StringTable[0x8073B436CDE1BF]( f122_local8, CSV.weaponVariants.cols.ref, f122_local6.variantRef )
				if f122_local9 and -1 < f122_local9 then
					table.insert( WEAPON.allLootMods[f122_local6.baseRef], {
						weaponData = f122_local6,
						variantData = CSV.ReadRowWithFile( CSV.weaponVariants, f122_local8, f122_local9 )
					} )
				end
			end
		end
	end
end

WEAPON.GetLootModTable = function ( f121_arg0, f121_arg1, f121_arg2 )
	local f121_local0 = {
		blueprintName = "",
		lootName = Engine[0xED84C33EC5F01EA]( f121_arg2.name ),
		weapon = f121_arg0,
		attachments = {},
		lootID = tonumber( f121_arg1 ),
		variantID = tonumber( f121_arg2.variantID )
	}
	for f121_local7, f121_local8 in pairs( f121_arg2.attachments ) do
		if 0 < #f121_local8 then
			local f121_local4 = {}
			local f121_local5, f121_local6 = ATTACHMENT.GetRefAndVariantID( f121_local8 )
			f121_local4.ref = f121_local5
			f121_local4.variantID = tonumber( f121_local6 )
			table.insert( f121_local0.attachments, f121_local4 )
		end
	end
	f121_local0.isCustom = false
	f121_local0.isBase = f121_local0.variantID == WEAPON.baseVariant
	f121_local0.displayOrder = WEAPON.GetDisplayOrder( f121_arg0 )
	return f121_local0
end

WEAPON.GetModifications = function ( f119_arg0, f119_arg1 )
	if not WEAPON.allLootMods[WEAPON.GunsmithTestIndexWeapon] then
		WEAPON.PopulateLootMods()
	end
	if not f119_arg1 then
		f119_arg1 = {}
	end
	if f119_arg1.checkOwnership == nil then
		f119_arg1.checkOwnership = true
	end
	local f119_local0 = {}
	local f119_local1 = {}
	if not f119_arg1.forceCustom then
		local f119_local2 = function ( f120_arg0 )
			local f120_local0 = LOOT.GetBaseWeaponItemID( f120_arg0 )
			local f120_local1
			if f119_arg0.checkOwnership then
				f120_local1 = LOOT.IsUnlockedWithID( f119_arg0, f120_local0 )
			else
				f120_local1 = true
			end
			if f120_local1 then
				local f120_local2 = WEAPON.GetLootModTable( f120_arg0, f120_local0, {
					name = StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f120_arg0, CSV.weapons.cols.name ),
					variantID = WEAPON.baseVariant,
					attachments = {}
				} )
				f120_local2.rarity = 0
				table.insert( f119_arg0, f120_local2 )
				f119_arg0[f120_arg0] = true
			end
		end
		
		local f119_local3 = nil
		if f119_arg1.availableAndOwned then
			f119_local3 = BATTLEPASS.GetLootTierMap()
		end
		for f119_local21, f119_local22 in pairs( WEAPON.allLootMods ) do
			local f119_local7 = f119_arg1.byWeapons
			if f119_local7 then
				f119_local7 = not f119_arg1.byWeapons[f119_local21]
			end
			if f119_arg1.includeBaseWeapons and not f119_local7 then
				f119_local2( f119_local21 )
			end
			for f119_local19, f119_local20 in ipairs( f119_local22 ) do
				if LOOT.IsLootVisible( f119_local20.weaponData.visibilityLevel ) then
					local f119_local11 = f119_local20.weaponData
					local f119_local12 = f119_local20.variantData
					local f119_local13 = f119_arg1.byWeapons
					if f119_local13 then
						f119_local13 = not f119_arg1.byWeapons[f119_local21]
					end
					local f119_local14
					if f119_arg1.checkOwnership then
						f119_local14 = LOOT.IsUnlockedWithID( f119_arg0, f119_local11.index )
					else
						f119_local14 = true
					end
					if not LOOT.IsItemBanned( tonumber( f119_local11.index ) ) and (not (not f119_arg1.noFilter and not f119_arg1.availableAndOwned) or not f119_local13 and (not (not f119_local14 or f119_arg1.lockedItemsOnly) or not f119_local14 and f119_arg1.lockedItemsOnly)) then
						if f119_arg1.availableAndOwned and f119_local3 then
							local f119_local15 = f119_local3[tonumber( f119_local11.index )] ~= nil
							local f119_local16 = STORE.BundleContainsLoot( f119_arg0, WEAPON.GetVariantID( f119_local12.ref ) ) and not f119_local15
							local f119_local17 = false
							if f119_arg1.lockedItemsOnly then
								if not f119_local16 and f119_local15 then
									f119_local17 = f119_local15
								else
									f119_local17 = not f119_local14
								end
							elseif f119_arg1.ownedItemsOnly then
								f119_local17 = f119_local14
							elseif not f119_local14 then
								f119_local17 = f119_local14
							elseif not f119_local16 then
								f119_local17 = f119_local16
							else
								f119_local17 = f119_local15
							end
							if f119_local17 then
								local f119_local18 = WEAPON.GetLootModTable( f119_local21, f119_local20.weaponData.index, f119_local20.variantData )
								f119_local18.rarity = tonumber( f119_local11.quality )
								table.insert( f119_local0, f119_local18 )
							end
						end
						local f119_local15
						if Engine[0x12586A3F4FB490E]() and f119_arg1.lockedItemsOnly then
							f119_local15 = STORE.BundleContainsLoot( f119_arg0, WEAPON.GetVariantID( f119_local12.ref ) )
						else
							f119_local15 = true
						end
						if f119_local15 then
							local f119_local16 = WEAPON.GetLootModTable( f119_local21, f119_local20.weaponData.index, f119_local20.variantData )
							f119_local16.rarity = tonumber( f119_local11.quality )
							table.insert( f119_local0, f119_local16 )
						end
					end
				end
			end
		end
		if f119_arg1.byWeapons and f119_arg1.includeBaseWeapons then
			for f119_local21, f119_local22 in pairs( f119_arg1.byWeapons ) do
				if not f119_local1[f119_local21] then
					f119_local2( f119_local21 )
				end
			end
		else
			if not f119_arg1.forceLoot then
				GUNSMITH.GetAllCustomMods( f119_arg0, f119_local0, f119_arg1 )
			end
			return f119_local0
		end
	end
	if not f119_arg1.forceLoot then
		GUNSMITH.GetAllCustomMods( f119_arg0, f119_local0, f119_arg1 )
	end
	return f119_local0
end

WEAPON.GetModification = function ( f118_arg0, f118_arg1, f118_arg2 )
	local f118_local0 = WEAPON.GetModifications( f118_arg0, {
		forceLoot = true,
		checkOwnership = false,
		byWeapons = {
			[f118_arg1] = true
		}
	} )
	local f118_local1 = {}
	local f118_local2 = nil
	for f118_local6, f118_local7 in ipairs( f118_local0 ) do
		if f118_local7.lootID == f118_arg2 then
			f118_local2 = f118_local7
			break
		end
	end
	assert( f118_local2 )
	if not f118_local2 then
		return WEAPON.GenerateWeaponTableFromRef( f118_arg1 )
	else
		return f118_local2
	end
end

WEAPON.GetModificationAttachments = function ( f117_arg0, f117_arg1, f117_arg2 )
	local f117_local0 = WEAPON.GetModifications( f117_arg0, {
		forceLoot = true,
		checkOwnership = false,
		byWeapons = {
			[f117_arg1] = true
		}
	} )
	local f117_local1 = {}
	local f117_local2 = nil
	for f117_local6, f117_local7 in ipairs( f117_local0 ) do
		if f117_local7.lootID == f117_arg2 then
			f117_local2 = f117_local7
			break
		end
	end
	if not f117_local2 then
		return f117_local1
	end
	for f117_local6, f117_local7 in ipairs( f117_local2.attachments ) do
		f117_local1[f117_local7.ref] = f117_local1[f117_local7.ref] or {}
		local f117_local9 = f117_local7.ref
		local f117_local8 = f117_local7.variantID
		if not f117_local8 then
			f117_local8 = ATTACHMENT.baseVariant
		end
		f117_local1[f117_local9] = f117_local8
	end
	return f117_local1
end

WEAPON.GetAttachVariants = function ( f116_arg0, f116_arg1, f116_arg2 )
	local f116_local0 = CSV.attachmentIDs.GetFile( f116_arg2 )
	local f116_local1 = CSV.ReadRowWithFile( CSV.attachmentIDs, f116_local0, StringTable[0x8073B436CDE1BF]( f116_local0, CSV.attachmentIDs.cols.index, f116_arg1 ) )
	local f116_local2 = f116_local1.ref
	local f116_local3 = {}
	table.insert( f116_local3, {
		variantID = ATTACHMENT.baseVariant,
		lootID = LOOT.emptyID,
		baseRef = f116_local2
	} )
	local f116_local4 = 0
	if f116_local1.variantLootID and 0 < #f116_local1.variantLootID then
		
	else
		
	end
	return f116_local3
end

WEAPON.GetWeaponsWithModifications = function ( f115_arg0, f115_arg1 )
	local f115_local0 = WEAPON.GetModifications( f115_arg0, f115_arg1 )
	local f115_local1 = {}
	local f115_local2 = {}
	for f115_local6, f115_local7 in ipairs( f115_local0 ) do
		local f115_local8 = f115_local7.weapon
		if not f115_local2[f115_local8] then
			f115_local2[f115_local8] = true
			table.insert( f115_local1, f115_local8 )
		end
	end
	return f115_local1
end

WEAPON.HasModifications = function ( f114_arg0, f114_arg1 )
	return 0 < #WEAPON.GetModifications( f114_arg0, {
		byWeapon = f114_arg1
	} )
end

WEAPON.GetStatsForWeapon = function ( f113_arg0 )
	return CSV.ReadRow( CSV.weapons, StringTable[0x8073B436CDE1BF]( CSV.weapons.file, CSV.weapons.cols.ref, f113_arg0 ) )
end

WEAPON.GetAmmoStatsForWeaponTable = function ( f112_arg0, f112_arg1, f112_arg2 )
	local f112_local0 = WEAPON.GetWeaponModelName( f112_arg0.weapon, f112_arg0, {
		includeCamos = false,
		includeStickers = false,
		includeAttachments = f112_arg2,
		controllerIndex = f112_arg1
	} )
	local f112_local1 = {
		startAmmo = Engine[0x1ECA8D93B9CF597]( f112_local0 ),
		maxAmmo = Engine[0xACD3763A62D4865]( f112_local0 ),
		clipSize = Engine[0xBE9C61929002FC0]( f112_local0 )
	}
	if f112_arg2 and ATTACHMENT.HasFullyLoadedPerk( f112_arg0.attachments ) then
		f112_local1.startAmmo = f112_local1.maxAmmo + f112_local1.clipSize
	end
	if f112_local1.clipSize == 0 then
		f112_local1.magCount = 0
	else
		f112_local1.magCount = math.ceil( f112_local1.startAmmo / f112_local1.clipSize )
	end
	return f112_local1
end

WEAPON.GetDetailedStatsForWeaponTable = function ( f111_arg0, f111_arg1, f111_arg2 )
	local f111_local0 = Engine[0x887FC69731125A]( WEAPON.GetWeaponModelName( f111_arg0.weapon, f111_arg0, {
		includeCamos = false,
		includeStickers = false,
		includeAttachments = f111_arg2,
		controllerIndex = f111_arg1
	} ) )
	if f111_arg2 and ATTACHMENT.HasFullyLoadedPerk( f111_arg0.attachments ) then
		f111_local0.startingAmmo = f111_local0.ammoCapacity + f111_local0.magazineAmmoCapacity
	end
	return f111_local0
end

WEAPON.GetFavWeaponPlayerData = function ( f110_arg0, f110_arg1 )
	local f110_local0, f110_local1 = LOADOUT.GetFavoriteLoadoutIndex( f110_arg0 )
	if f110_local1 then
		f110_local0 = 0
	end
	local f110_local2 = LOADOUT.GetLoadoutPlayerData( f110_arg0, f110_local0 )
	return f110_local2.weaponSetups[f110_arg1]
end

WEAPON.IsWeaponCosmeticSupported = function ( f109_arg0, f109_arg1 )
	local f109_local0 = f109_arg1.weapon:get()
	local f109_local1 = f109_arg1.lootItemID:get()
	if f109_arg0 == LOOT.itemTypes.CAMO and f109_local1 then
		return LOOT.GetItemQualityWithID( LOOT.itemTypes.WEAPON, f109_local1 ) < 6
	elseif f109_arg0 == LOOT.itemTypes.RETICLE then
		return WEAPON.SupportsOptics( f109_local0 )
	elseif f109_arg0 == LOOT.itemTypes.CHARM then
		return WEAPON.SupportsCosmetics( f109_local0 )
	elseif f109_arg0 == LOOT.itemTypes.STICKER then
		return 0 < WEAPON.GetMaxStickerSlotsForWeapon( f109_local0 )
	else
		return false
	end
end

WEAPON.QuickEquipWeapon = function ( f108_arg0, f108_arg1, f108_arg2 )
	local f108_local0 = WEAPON.GenerateWeaponTableFromID( f108_arg1.lootID )
	if f108_local0.isBase then
		WEAPON.EquipBaseWeapon( f108_arg1.weaponPlayerData, f108_arg1.itemRef )
	else
		WEAPON.EquipModification( f108_arg1.weaponPlayerData, f108_local0 )
	end
	f108_arg2.icon = "cac_equip_fill"
	f108_arg2.header = Engine[0xED84C33EC5F01EA]( "LUA_MENU/WEAPON_EQUIPPED" )
	f108_arg2.type = LUI.ToastManager.NotificationType.WeaponEquipped
	LOOT.ShowEquipNotification( f108_arg0, f108_arg2 )
end

WEAPON.GetEquippedCamo = function ( f107_arg0 )
	return f107_arg0.camo:get()
end

WEAPON.GetWeaponCamoList = function ( f106_arg0, f106_arg1, f106_arg2 )
	local f106_local0 = CSV.ReadRow( CSV.camoTable, 0 )
	f106_local0.unlockInfo = {}
	f106_local0.unlockInfo.unlocked = true
	local f106_local1 = {}
	local f106_local2 = CSV.camosIDs
	local f106_local3 = f106_local2.GetFile( f106_arg1 )
	local f106_local4, f106_local5 = WEAPON.GetWeaponAndMasteryChallenges( f106_arg0, f106_arg1, f106_arg2 )
	local f106_local6 = StringTable[0xFD4E49A34DD43AE]( f106_local3 )
	for f106_local7 = 0, f106_local6 - 1, 1 do
		local f106_local10 = 0
		local f106_local11 = CSV.ReadRowWithFile( f106_local2, f106_local3, f106_local7 )
		local f106_local12 = tonumber( f106_local11.index )
		if f106_local12 and LOOT.IsCamo( f106_local12 ) then
			local f106_local13 = LOOT.GetItemRef( LOOT.itemTypes.CAMO, f106_local12, {
				weaponRef = f106_arg1
			} )
			if f106_local13 and 0 < #f106_local13 then
				local f106_local14 = CSV.ReadRow( CSV.camoTable, StringTable[0x8073B436CDE1BF]( CSV.camoTable.file, CSV.camoTable.cols.ref, f106_local13 ) )
				local f106_local15 = Challenge.GetChallengeAndTierForLoot( f106_local12, f106_local4, f106_local5 )
				local f106_local16
				if f106_local15 == nil or f106_arg2 ~= Challenge.ChallengeGameMode.both and f106_arg2 ~= f106_local15.zmMode then
					f106_local16 = false
				else
					f106_local16 = true
				end
				if f106_local16 then
					f106_local14.unlockInfo = {}
					if f106_local15 then
						f106_local14.unlockInfo.challengeID = f106_local15.aeID
						f106_local14.unlockInfo.challengeRef = f106_local15.aeName
						f106_local14.unlockInfo.level = f106_local15.unlockLevel
					end
					f106_local14.unlockInfo.lootID = f106_local12
					if Challenge.IsValidChallengeID( f106_local14.unlockInfo.challengeID ) then
						f106_local14.unlockInfo.progress = OnlineChallenges[0x77167A1140D536]( f106_arg0, f106_local14.unlockInfo.challengeID )
					end
					f106_local14.unlockInfo.unlocked = LOOT.IsUnlockedWithID( f106_arg0, f106_local14.unlockInfo.lootID )
					if not f106_local1[f106_local14.category] then
						f106_local1[f106_local14.category] = {}
						table.insert( f106_local1[f106_local14.category], f106_local0 )
					end
					table.insert( f106_local1[f106_local14.category], f106_local14 )
				end
			end
		end
	end
	return f106_local1, f106_local0
end

WEAPON.SetEquippedCamo = function ( f105_arg0, f105_arg1 )
	return f105_arg0.camo:set( f105_arg1 )
end

WEAPON.GetCamoName = function ( f104_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.camoTable.file, CSV.camoTable.cols.ref, f104_arg0, CSV.camoTable.cols.name )
end

WEAPON.GetCamoImage = function ( f103_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.camoTable.file, CSV.camoTable.cols.ref, f103_arg0, CSV.camoTable.cols.image )
end

WEAPON.GetCamoSeason = function ( f102_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.camoTable.file, CSV.camoTable.cols.ref, f102_arg0, CSV.camoTable.cols.season )
end

WEAPON.GetCamoCategory = function ( f101_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.camoTable.file, CSV.camoTable.cols.ref, f101_arg0, CSV.camoTable.cols.category )
end

WEAPON.SupportsCamo = function ( f100_arg0 )
	return LOOT.GetItemQualityWithID( LOOT.itemTypes.WEAPON, f100_arg0.lootID ) < 6
end

WEAPON.GetEquippedReticle = function ( f99_arg0 )
	return f99_arg0.reticle:get()
end

WEAPON.SetEquippedReticle = function ( f98_arg0, f98_arg1 )
	return f98_arg0.reticle:set( f98_arg1 )
end

WEAPON.GetReticleCategoryList = function ( f96_arg0, f96_arg1, f96_arg2, f96_arg3 )
	local f96_local0 = {}
	local f96_local1 = function ( f97_arg0, f97_arg1 )
		local f97_local0 = {
			lootID = LOOT.GetItemID( LOOT.itemTypes.RETICLE, f97_arg1 ),
			unlocked = LOOT.IsUnlockedWithID( f97_arg0, f97_local0.lootID )
		}
		return f97_local0
	end
	
	local f96_local2
	if f96_arg3 == "cp" then
		f96_local2 = CSV.reticlesCP
		if not f96_local2 then
		
		else
			local f96_local3 = StringTable[0xFD4E49A34DD43AE]( f96_local2.file )
			for f96_local4 = 0, f96_local3 - 1, 1 do
				local f96_local7 = CSV.ReadRow( f96_local2, f96_local4 )
				if not (not f96_local7 or f96_local7.category ~= f96_arg2 or f96_local7.hideInUI == "1") or f96_local7.ref == WEAPON.ReticleNoneValue then
					if f96_local7.ref == WEAPON.ReticleNoneValue then
						f96_local7.image = StringTable[0x2DCF0973239E909]( CSV.reticleCategoryTable.file, CSV.reticleCategoryTable.cols.attachRef, f96_arg1, CSV.reticleCategoryTable.cols.defaultReticle )
						f96_local7.altImage = StringTable[0x2DCF0973239E909]( CSV.reticleCategoryTable.file, CSV.reticleCategoryTable.cols.attachRef, f96_arg1, CSV.reticleCategoryTable.cols.altReticleImage )
						f96_local7.unlockInfo = {
							lootID = 1,
							unlocked = true
						}
					else
						f96_local7.unlockInfo = f96_local1( f96_arg0, f96_local7.ref )
					end
					if f96_local7.unlockType ~= "purchase" or f96_local7.unlockInfo.unlocked then
						table.insert( f96_local0, f96_local7 )
					end
				end
			end
			return f96_local0
		end
	end
	f96_local2 = CSV.reticles
end

WEAPON.GetReticleName = function ( f95_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.reticles.file, CSV.reticles.cols.ref, f95_arg0, CSV.reticles.cols.name )
end

WEAPON.GetReticleImage = function ( f94_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.reticles.file, CSV.reticles.cols.ref, f94_arg0, CSV.reticles.cols.image )
end

WEAPON.GetReticleSeason = function ( f93_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.reticles.file, CSV.reticles.cols.ref, f93_arg0, CSV.reticles.cols.season )
end

WEAPON.GetReticleDesc = function ( f92_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.reticles.file, CSV.reticles.cols.ref, f92_arg0, CSV.reticles.cols.desc )
end

WEAPON.GetReticleType = function ( f91_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.reticles.file, CSV.reticles.cols.ref, f91_arg0, CSV.reticles.cols.type )
end

WEAPON.GetReticleCategory = function ( f90_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.reticles.file, CSV.reticles.cols.ref, f90_arg0, CSV.reticles.cols.category )
end

WEAPON.GetReticleCategoryName = function ( f89_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.reticleCategoryTable.file, CSV.reticleCategoryTable.cols.categoryRef, f89_arg0, CSV.reticleCategoryTable.cols.categoryName )
end

WEAPON.SupportsOptics = function ( f88_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f88_arg0, CSV.weapons.cols.canUseOptics ) == "1"
end

WEAPON.QuickEquipReticle = function ( f87_arg0, f87_arg1, f87_arg2, f87_arg3 )
	local f87_local0 = f87_arg1.weapon:get()
	local f87_local1 = ATTACHMENT.GetEquippedOptic( f87_arg1 )
	local f87_local2 = WEAPON.SupportsOptics( f87_local0 )
	if f87_local2 then
		f87_local2 = ATTACHMENT.SupportsCustomReticles( f87_local1 )
	end
	local f87_local3 = ATTACHMENT.GetOpticReticleCategory( ATTACHMENT.GetOpticRef( f87_local1 ) )
	local f87_local4 = CONDITIONS.IsThirdGameMode() and CSV.reticlesCP or CSV.reticles
	local f87_local5 = StringTable[0x2DCF0973239E909]( f87_local4.file, f87_local4.cols.ref, f87_arg2, f87_local4.cols.category )
	local f87_local6
	if f87_local5 then
		f87_local6 = f87_local5
	else
		f87_local6 = f87_local5 == f87_local3
	end
	if f87_local2 and f87_local6 then
		WEAPON.SetEquippedReticle( f87_arg1, f87_arg2 )
		if not f87_arg3.icon or f87_arg3.icon == "" then
			f87_arg3.icon = "cac_equip_fill"
		end
		f87_arg3.header = Engine[0xED84C33EC5F01EA]( "LUA_MENU/RETICLE_EQUIPPED" )
		f87_arg3.type = LUI.ToastManager.NotificationType.ReticleEquipped
	else
		f87_arg3.icon = "cac_equip_fill"
		f87_arg3.header = Engine[0xED84C33EC5F01EA]( "LUA_MENU_TUGOLF/QUICK_EQUIP_CANNOT_EQUIP" )
		f87_arg3.name = Engine[0xED84C33EC5F01EA]( "LUA_MENU_TUGOLF/QUICK_EQUIP_RETICLE_FAIL_DESC" )
		f87_arg3.type = LUI.ToastManager.NotificationType.None
	end
	LOOT.ShowEquipNotification( f87_arg0, f87_arg3 )
end

WEAPON.GetEquippedCharm = function ( f86_arg0 )
	return f86_arg0.cosmeticAttachment:get()
end

WEAPON.SetEquippedCharm = function ( f85_arg0, f85_arg1 )
	return f85_arg0.cosmeticAttachment:set( f85_arg1 )
end

WEAPON.GetCharmName = function ( f84_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.charms.file, CSV.charms.cols.ref, f84_arg0, CSV.charms.cols.name )
end

WEAPON.GetCharmImage = function ( f83_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.charms.file, CSV.charms.cols.ref, f83_arg0, CSV.charms.cols.image )
end

WEAPON.GetCharmSeason = function ( f82_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.charms.file, CSV.charms.cols.ref, f82_arg0, CSV.charms.cols.season )
end

WEAPON.GetCharmCategory = function ( f81_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.charms.file, CSV.charms.cols.ref, f81_arg0, CSV.charms.cols.category )
end

WEAPON.SupportsCosmetics = function ( f80_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f80_arg0, CSV.weapons.cols.canUseCosmetic ) == "1"
end

WEAPON.GetEquippedStickers = function ( f79_arg0 )
	local f79_local0 = {}
	for f79_local1 = 1, #f79_arg0.sticker, 1 do
		f79_local0[f79_local1] = WEAPON.GetEquippedStickerForIndex( f79_arg0, f79_local1 )
	end
	return f79_local0
end

WEAPON.GetEquippedStickerForIndex = function ( f78_arg0, f78_arg1 )
	return f78_arg0.sticker[f78_arg1 - 1]:get()
end

WEAPON.SetEquippedStickerForIndex = function ( f77_arg0, f77_arg1, f77_arg2 )
	return f77_arg0.sticker[f77_arg1 - 1]:set( f77_arg2 )
end

WEAPON.GetStickerRowFromRef = function ( f76_arg0 )
	return StringTable[0x8073B436CDE1BF]( CSV.stickers.file, CSV.stickers.cols.ref, f76_arg0 )
end

WEAPON.GetStickerName = function ( f75_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.stickers.file, CSV.stickers.cols.ref, f75_arg0, CSV.stickers.cols.name )
end

WEAPON.GetStickerImage = function ( f74_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.stickers.file, CSV.stickers.cols.ref, f74_arg0, CSV.stickers.cols.image )
end

WEAPON.GetStickerSeason = function ( f73_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.stickers.file, CSV.stickers.cols.ref, f73_arg0, CSV.stickers.cols.season )
end

WEAPON.GetStickerCategory = function ( f72_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.stickers.file, CSV.stickers.cols.ref, f72_arg0, CSV.stickers.cols.category )
end

WEAPON.GetMaxStickerSlotsForWeapon = function ( f71_arg0 )
	local f71_local0 = tonumber( StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, f71_arg0, CSV.weapons.cols.stickerSlots ) )
	local f71_local1
	if f71_local0 ~= nil and not f71_local0 then
		f71_local1 = f71_local0
	else
		f71_local1 = 0
	end
	return f71_local1
end

WEAPON.GetCosmeticConfigString = function ( f70_arg0 )
	local f70_local0 = ""
	local f70_local1 = f70_arg0.camo
	local f70_local2 = f70_arg0.reticle
	local f70_local3 = f70_arg0.cosmeticAttachment
	local f70_local4 = f70_arg0.stickers
	if f70_local1 then
		f70_local0 = f70_local0 .. "+" .. f70_local1
	end
	if f70_local2 then
		f70_local0 = f70_local0 .. "+" .. f70_local2
	end
	if f70_local3 then
		f70_local0 = f70_local0 .. "+" .. f70_local3
	end
	if f70_local4 then
		for f70_local5 = 1, #f70_local4, 1 do
			local f70_local8 = f70_local4[f70_local5]
			if f70_local8 then
				f70_local0 = f70_local0 .. "+" .. f70_local8
			end
		end
	end
	if 0 < #f70_local0 then
		f70_local0 = string.sub( f70_local0, 2 )
	end
	return f70_local0
end

WEAPON.IsWeaponNoneValue = function ( f69_arg0 )
	local f69_local0
	if f69_arg0 and f69_arg0 ~= "" and f69_arg0 ~= "s4_me_fists_mp" and f69_arg0 ~= "s4_me_fists" and f69_arg0 ~= "none" and f69_arg0 ~= WEAPON.NoneValue and f69_arg0 ~= WEAPON.NoneValue .. "_infil" then
		f69_local0 = false
	else
		f69_local0 = true
	end
	return f69_local0
end

WEAPON.ClearWeaponCosmetics = function ( f68_arg0 )
	f68_arg0.camo:set( WEAPON.CamoNoneValue )
	f68_arg0.reticle:set( WEAPON.ReticleNoneValue )
	f68_arg0.cosmeticAttachment:set( WEAPON.CharmNoneValue )
	for f68_local0 = 0, #f68_arg0.sticker - 1, 1 do
		f68_arg0.sticker[f68_local0]:set( WEAPON.StickerNoneValue )
	end
end

WEAPON.WipeWeaponSetup = function ( f67_arg0 )
	ATTACHMENT.ClearAllAttachments( f67_arg0 )
	WEAPON.ClearWeaponCosmetics( f67_arg0 )
	f67_arg0.variantID:set( Cac.BaseVariantID )
	f67_arg0.lootItemID:set( Cac.BaseLootID )
	f67_arg0.blueprintName:set( "" )
end

WEAPON.ApplyAttachmentComboOverrides = function ( f66_arg0 )
	local f66_local0 = {}
	if next( f66_arg0 ) == nil then
		return f66_local0
	end
	local f66_local1 = StringTable[0x8D32B43FC6E461]( CSV.attachmentComboOverridesTable.file, 0 )
	local f66_local2 = StringTable[0x6E34EAC0192FA9F]( CSV.attachmentComboOverridesTable.file, 0 )
	local f66_local3 = {}
	for f66_local14, f66_local15 in pairs( f66_arg0 ) do
		local f66_local16 = LUI.IsItemInArray( f66_local1, f66_local15 )
		if f66_local16 ~= nil and 1 < f66_local16 then
			local f66_local7 = StringTable[0x6E34EAC0192FA9F]( CSV.attachmentComboOverridesTable.file, f66_local16 - 1 )
			for f66_local12, f66_local13 in ipairs( f66_local2 ) do
				if 1 < f66_local12 then
					local f66_local11 = f66_local7[f66_local12]
					if f66_local11 ~= "" and f66_local11 ~= ATTACHMENT.none then
						f66_local3[f66_local13] = f66_local11
					end
				end
			end
		end
	end
	for f66_local14, f66_local15 in pairs( f66_arg0 ) do
		local f66_local16 = f66_local3[f66_local14]
		if f66_local16 ~= nil then
			f66_local0[f66_local14] = f66_local16
		else
			f66_local0[f66_local14] = f66_local15
		end
	end
	return f66_local0
end

WEAPON.GetWeaponModelNameFromPlayerData = function ( f65_arg0, f65_arg1, f65_arg2 )
	return WEAPON.GetWeaponModelName( f65_arg0, WEAPON.GenerateWeaponTable( f65_arg1 ), f65_arg2 )
end

WEAPON.GetWeaponModelNameFromRef = function ( f64_arg0, f64_arg1 )
	return WEAPON.GetWeaponModelName( f64_arg0, WEAPON.GenerateWeaponTableFromRef( f64_arg0 ), f64_arg1 )
end

WEAPON.GetWeaponModelName = function ( f63_arg0, f63_arg1, f63_arg2 )
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x33bc5b0aae30f8371" ) then
		return ClientWeapon[0x82505C42EE3A76F]( f63_arg0, f63_arg1, f63_arg2 )
	end
	Engine[0xD344B7DE66AFA81]( "lua GetWeaponModelName" )
	if not f63_arg2 then
		f63_arg2 = {}
	end
	if f63_arg2.includeAttachments == nil then
		f63_arg2.includeAttachments = false
	end
	if f63_arg2.includeCamos == nil then
		f63_arg2.includeCamo = false
	end
	if f63_arg2.includeStickers == nil then
		f63_arg2.includeStickers = false
	end
	if f63_arg2.useOperatorOverride == nil then
		f63_arg2.useOperatorOverride = false
	end
	if not f63_arg2.useOperatorOverride and f63_arg2.useGuntableOverride == nil then
		f63_arg2.useGuntableOverride = true
	else
		f63_arg2.useGuntableOverride = false
	end
	if f63_arg2.isDefault == nil then
		f63_arg2.isDefault = false
	end
	if f63_arg2.keepAkimbo == nil then
		f63_arg2.keepAkimbo = true
	end
	local f63_local0 = nil
	if not f63_arg2.keepAkimbo then
		for f63_local4, f63_local5 in ipairs( f63_arg1.attachments ) do
			if ATTACHMENT.GetBaseRef( f63_local5.ref ) == "akimbo_s4" or ATTACHMENT.GetBaseRef( f63_local5.ref ) == "akimbo" or ATTACHMENT.GetBaseRef( f63_local5.ref ) == "gunperk_akimbo" then
				f63_local0 = f63_local4
				break
			end
		end
	end
	local f63_local1 = StringTable[0x2DCF0973239E909]( CSV.MPWeapons.file, CSV.MPWeapons.cols.ref, f63_arg0, CSV.MPWeapons.cols.asset )
	local f63_local2 = ""
	if f63_arg2.useOperatorOverride then
		f63_local2 = StringTable[0x2DCF0973239E909]( CSV.MPWeapons.file, CSV.MPWeapons.cols.ref, f63_arg0, CSV.MPWeapons.cols.operatorOverrideAsset )
	elseif f63_arg2.useGuntableOverride then
		f63_local2 = StringTable[0x2DCF0973239E909]( CSV.MPWeapons.file, CSV.MPWeapons.cols.ref, f63_arg0, CSV.MPWeapons.cols.gunTableOverrideAsset )
	end
	if 0 < #f63_local2 then
		f63_local1 = f63_local2
	end
	local f63_local3 = {}
	local f63_local4 = StringTable[0x2DCF0973239E909]( CSV.MPWeapons.file, CSV.MPWeapons.cols.ref, f63_arg0, CSV.MPWeapons.cols.defaultAttachments )
	if f63_local4 and 0 < #f63_local4 then
		f63_local3 = LUI.Split( f63_local4, " " )
	end
	local f63_local5 = {}
	local f63_local6 = ""
	if f63_arg1.lootID and tonumber( f63_arg1.lootID ) ~= LOOT.emptyID then
		local f63_local7 = {}
		local f63_local8 = WEAPON.GetVariantFile( f63_arg0 )
		local f63_local9 = StringTable[0x2DCF0973239E909]( f63_local8, CSV.weaponVariants.cols.variantID, f63_arg1.variantID, CSV.weaponVariants.cols.defaultAttachmentOverrides )
		f63_local6 = StringTable[0x2DCF0973239E909]( f63_local8, CSV.weaponVariants.cols.variantID, f63_arg1.variantID, CSV.weaponVariants.cols.assetOverride )
		if f63_local9 and 0 < #f63_local9 then
			f63_local7 = LUI.Split( f63_local9, " " )
		end
		for f63_local13, f63_local14 in ipairs( f63_local7 ) do
			local f63_local15, f63_local16 = ATTACHMENT.GetRefAndVariantID( f63_local14 )
			f63_local5[f63_local15] = tonumber( f63_local16 )
			if not LUI.IsItemInArray( f63_local3, f63_local15 ) then
				table.insert( f63_local3, f63_local15 )
			end
		end
	end
	local f63_local7 = nil
	if f63_local6 and 0 < #f63_local6 then
		f63_local7 = f63_arg0
		f63_arg0 = f63_local6
		f63_local1 = f63_local6
	end
	local f63_local8 = {}
	if f63_arg2.includeAttachments then
		for f63_local12, f63_local13 in ipairs( f63_local3 ) do
			table.insert( f63_local8, f63_local13 )
		end
		f63_local9, f63_local10 = nil
		if f63_arg1.lootID and tonumber( f63_arg1.lootID ) ~= LOOT.emptyID then
			f63_local11 = WEAPON.GetVariantFile
			if not f63_local7 then
				f63_local13 = f63_local7
			else
				f63_local13 = f63_arg0
			end
			f63_local12 = StringTable[0x2DCF0973239E909]( f63_local11( f63_local13 ), CSV.weaponVariants.cols.variantID, f63_arg1.variantID, CSV.weaponVariants.cols.extraToID )
			if f63_local12 and 0 < #f63_local12 then
				f63_local9, f63_local10 = ATTACHMENT.GetRefAndVariantID( f63_local12 )
			end
		end
		for f63_local11 = 1, #f63_arg1.attachments, 1 do
			if f63_local11 ~= f63_local0 then
				local f63_local15 = f63_arg2.isDefault and f63_arg1.attachments[f63_local11] or f63_arg1.attachments[f63_local11].ref
				if f63_local15 and f63_local15 ~= ATTACHMENT.none then
					table.insert( f63_local8, f63_local15 )
					local f63_local16 = ATTACHMENT.GetRef( f63_local15, f63_arg0, f63_local7 )
					if f63_local16 and f63_local16 ~= ATTACHMENT.none then
						local f63_local17 = ATTACHMENT.GetAttachmentAddition( f63_local16 )
						if f63_local17 and 0 < #f63_local17 and f63_local17 ~= ATTACHMENT.none then
							table.insert( f63_local8, f63_local17 )
							if f63_local9 and f63_local10 and f63_local9 == f63_local17 then
								f63_local5[f63_local17] = tonumber( f63_local10 )
							end
						end
					end
				end
				local f63_local16 = f63_arg1.attachments[f63_local11].variantID
				if f63_local16 and 0 < f63_local16 then
					f63_local5[f63_local15] = tonumber( f63_local16 )
				end
			end
		end
		f63_local8 = WEAPON.FilterAttachments( f63_local8 )
	else
		f63_local8 = f63_local3
	end
	if f63_arg1.cosmeticAttachment then
		table.insert( f63_local8, f63_arg1.cosmeticAttachment )
	end
	local f63_local9 = {}
	for f63_local13, f63_local14 in ipairs( f63_local8 ) do
		f63_local9[f63_local14] = ATTACHMENT.GetRef( f63_local14, f63_arg0, f63_local7 )
	end
	for f63_local13, f63_local14 in pairs( WEAPON.ApplyAttachmentComboOverrides( f63_local9 ) ) do
		if f63_local14 and f63_local14 ~= "" and f63_local14 ~= ATTACHMENT.none then
			f63_local1 = f63_local1 .. "+" .. f63_local14
			if f63_local5[f63_local13] then
				f63_local1 = f63_local1 .. "|" .. f63_local5[f63_local13]
			end
		end
	end
	if f63_arg2.includeCamos and f63_arg1.camo ~= nil and f63_arg1.camo ~= "" then
		f63_local10 = f63_arg1.camo
		if f63_local10 and f63_local10 ~= WEAPON.CamoNoneValue then
			f63_local1 = f63_local1 .. "+camo|" .. f63_local10
		end
	end
	if f63_arg2.includeStickers and f63_arg1.stickers ~= nil then
		f63_local10 = f63_arg1.stickers
		for f63_local11 = 1, #f63_local10, 1 do
			if f63_local10[f63_local11] ~= WEAPON.StickerNoneValue then
				local f63_local15 = WEAPON.GetStickerRowFromRef( f63_local10[f63_local11] )
				if -1 <= f63_local15 then
					f63_local1 = f63_local1 .. "+sticker" .. f63_local11 - 1 .. "|" .. f63_local15
				end
			end
		end
	end
	Engine[0xC99CAB76F12E539]()
	return f63_local1
end

WEAPON.HaveValidatedAttachmentComboTable = false
WEAPON.ValidateAttachmentComboTable = function ()
	WEAPON.HaveValidatedAttachmentComboTable = true
	if not Engine[0x2DA54CF5D6B7F02]() then
		return 
	end
	DebugPrint( "Validating attachment combo table" )
	local f62_local0 = StringTable[0x6E34EAC0192FA9F]( CSV.attachmentComboTable.file, 0 )
	local f62_local1 = StringTable[0x8D32B43FC6E461]( CSV.attachmentComboTable.file, 0 )
	if #f62_local1 ~= #f62_local0 then
		DebugPrint( "ERROR: " .. CSV.attachmentComboTable.file .. " is not square. columns = " .. tostring( #f62_local1 ) .. ", rows = " .. tostring( #f62_local0 ) )
		assert( #f62_local1 == #f62_local0 )
	end
	for f62_local2 = 1, #f62_local1, 1 do
		if f62_local1[f62_local2] ~= f62_local0[f62_local2] then
			DebugPrint( "ERROR:" .. CSV.attachmentComboTable.file .. " headers don't match. index = " .. tostring( f62_local2 ) .. ", column = " .. f62_local1[f62_local2] .. ", row = " .. f62_local0[f62_local2] )
			assert( f62_local1[f62_local2] == f62_local0[f62_local2] )
		end
	end
	for f62_local2 = 1, #f62_local1, 1 do
		for f62_local5 = f62_local2 + 1, #f62_local1, 1 do
			local f62_local8 = StringTable[0xCBC166F8D0C762B]( CSV.attachmentComboTable.file, f62_local2 - 1, f62_local5 - 1 )
			local f62_local9 = StringTable[0xCBC166F8D0C762B]( CSV.attachmentComboTable.file, f62_local5 - 1, f62_local2 - 1 )
			if f62_local8 ~= f62_local9 then
				DebugPrint( string.format( "ERROR: %s row/column doesn't match. [row %d( %s ), col %d( %s )] = '%s', [row %d( %s ), col %d( %s )] = '%s'", CSV.attachmentComboTable.file, f62_local2, f62_local0[f62_local2], f62_local5, f62_local0[f62_local5], f62_local8, f62_local5, f62_local0[f62_local5], f62_local2, f62_local0[f62_local2], f62_local9 ) )
			end
		end
	end
end

WEAPON.FilterAttachments = function ( f61_arg0 )
	if not f61_arg0 then
		f61_arg0 = {}
	end
	if #f61_arg0 <= 0 then
		return f61_arg0
	elseif not WEAPON.HaveValidatedAttachmentComboTable then
		WEAPON.ValidateAttachmentComboTable()
	end
	local f61_local0 = {}
	for f61_local14, f61_local15 in ipairs( f61_arg0 ) do
		local f61_local4 = true
		for f61_local11, f61_local12 in ipairs( f61_local0 ) do
			if f61_local15 == f61_local0[f61_local11] then
				f61_local4 = false
				break
			end
			local f61_local5 = WEAPON.CheckAttachmentConflict( f61_local15, f61_local12 )
			if f61_local5 ~= ATTACHMENT.none then
				f61_local4 = false
				table.remove( f61_local0, f61_local11 )
				for f61_local9, f61_local10 in ipairs( LUI.Split( f61_local5, " " ) ) do
					table.insert( f61_arg0, f61_local14 + f61_local9, f61_local10 )
				end
			end
		end
		if f61_local4 then
			table.insert( f61_local0, f61_local15 )
		end
	end
	return f61_local0
end

WEAPON.CheckAttachmentConflict = function ( f60_arg0, f60_arg1 )
	local f60_local0 = ATTACHMENT.none
	local f60_local1 = StringTable[0x8073B436CDE1BF]( CSV.attachmentComboTable.file, CSV.attachmentComboTable.cols.ref, f60_arg1 )
	local f60_local2 = true
	if f60_local1 == -1 then
		return f60_local0
	elseif f60_arg0 == f60_arg1 then
		f60_local0 = f60_arg0
	else
		local f60_local3 = StringTable[0x2DCF0973239E909]( CSV.attachmentComboTable.file, CSV.attachmentComboTable.cols.ref, f60_arg0, f60_local1 )
		if f60_local3 == "no" then
			f60_local0 = f60_arg0
		elseif f60_local3 ~= "" then
			f60_local0 = f60_local3
		end
	end
	return f60_local0
end

WEAPON.GetStatsTable = function ( f59_arg0 )
	local f59_local0 = {}
	local f59_local1 = PlayerData[0x8B73907B55C4D71]( f59_arg0, CoD.StatsGroup.Ranked )
	f59_local1 = f59_local1.playerStats.weaponStats
	for f59_local2 = 0, StringTable[0xFD4E49A34DD43AE]( CSV.MPWeapons.file ) - 1, 1 do
		local f59_local5 = CSV.ReadRow( CSV.MPWeapons, f59_local2 )
		if f59_local5 ~= nil and tonumber( f59_local5.displayOrder ) ~= nil and 0 < tonumber( f59_local5.displayOrder ) then
			local f59_local6 = f59_local1[f59_local5.ref]
			if not f59_local6 then
				break
			end
			local f59_local7 = {
				ref = f59_local5.ref,
				name = f59_local5.name,
				desc = f59_local5.desc,
				image = WEAPON.GetProgressionImage( f59_local5.ref ),
				deaths = f59_local6.deaths:get(),
				headShots = f59_local6.headShots:get(),
				hits = f59_local6.hits:get(),
				kills = f59_local6.kills:get(),
				shots = f59_local6.shots:get(),
				kdr = f59_local7.kills / (f59_local7.deaths and f59_local7.deaths or 1),
				accuracy = f59_local7.hits / (f59_local7.shots and f59_local7.shots or 1)
			}
			table.insert( f59_local0, f59_local7 )
		end
	end
	return f59_local0
end

WEAPON.EquipBaseWeapon = function ( f58_arg0, f58_arg1 )
	if 0 < #f58_arg0.blueprintName:get() or 0 < f58_arg0.variantID:get() or f58_arg1 ~= f58_arg0.weapon:get() then
		f58_arg0.camo:set( WEAPON.CamoNoneValue )
		f58_arg0.reticle:set( WEAPON.ReticleNoneValue )
		f58_arg0.cosmeticAttachment:set( WEAPON.CharmNoneValue )
		f58_arg0.weapon:set( f58_arg1 )
		f58_arg0.variantID:set( WEAPON.baseVariant )
		f58_arg0.blueprintName:set( "" )
		f58_arg0.lootItemID:set( LOOT.emptyID )
		for f58_local0 = 0, #f58_arg0.attachmentSetup - 1, 1 do
			f58_arg0.attachmentSetup[f58_local0].attachment:set( ATTACHMENT.none )
			f58_arg0.attachmentSetup[f58_local0].variantID:set( ATTACHMENT.baseVariant )
		end
		for f58_local0 = 0, #f58_arg0.sticker - 1, 1 do
			f58_arg0.sticker[f58_local0]:set( WEAPON.StickerNoneValue )
		end
	end
end

WEAPON.EquipModification = function ( f57_arg0, f57_arg1 )
	local f57_local0 = f57_arg0.camo
	local f57_local1 = f57_local0
	f57_local0 = f57_local0.set
	local f57_local2 = f57_arg1.camo
	if not f57_local2 then
		f57_local2 = WEAPON.CamoNoneValue
	end
	f57_local0( f57_local1, f57_local2 )
	f57_local0 = f57_arg0.reticle
	f57_local1 = f57_local0
	f57_local0 = f57_local0.set
	f57_local2 = f57_arg1.reticle
	if not f57_local2 then
		f57_local2 = WEAPON.ReticleNoneValue
	end
	f57_local0( f57_local1, f57_local2 )
	f57_local0 = f57_arg0.cosmeticAttachment
	f57_local1 = f57_local0
	f57_local0 = f57_local0.set
	f57_local2 = f57_arg1.cosmeticAttachment
	if not f57_local2 then
		f57_local2 = WEAPON.CharmNoneValue
	end
	f57_local0( f57_local1, f57_local2 )
	f57_arg0.weapon:set( f57_arg1.weapon )
	f57_arg0.lootItemID:set( f57_arg1.lootID )
	if f57_arg1.blueprintName then
		f57_arg0.blueprintName:set( f57_arg1.blueprintName )
	else
		f57_arg0.blueprintName:set( "" )
	end
	f57_arg0.variantID:set( f57_arg1.variantID )
	for f57_local0 = 0, #f57_arg1.attachments - 1, 1 do
		f57_arg0.attachmentSetup[f57_local0].attachment:set( f57_arg1.attachments[f57_local0 + 1].ref )
		local f57_local4 = f57_arg0.attachmentSetup[f57_local0].variantID
		local f57_local5 = f57_local4
		f57_local4 = f57_local4.set
		local f57_local6 = f57_arg1.attachments[f57_local0 + 1].variantID
		if not f57_local6 then
			f57_local6 = ATTACHMENT.baseVariant
		end
		f57_local4( f57_local5, f57_local6 )
	end
	for f57_local0 = #f57_arg1.attachments, #f57_arg0.attachmentSetup - 1, 1 do
		f57_arg0.attachmentSetup[f57_local0].attachment:set( ATTACHMENT.none )
		f57_arg0.attachmentSetup[f57_local0].variantID:set( ATTACHMENT.baseVariant )
	end
	for f57_local0 = 0, #f57_arg0.sticker - 1, 1 do
		f57_arg0.sticker[f57_local0]:set( f57_arg1.stickers and f57_arg1.stickers[f57_local0 + 1] or WEAPON.StickerNoneValue )
	end
end

WEAPON.GenerateWeaponTable = function ( f56_arg0 )
	local f56_local0 = {
		weapon = f56_arg0.weapon:get(),
		variantID = f56_arg0.variantID:get(),
		attachments = {}
	}
	for f56_local1 = 0, #f56_arg0.attachmentSetup - 1, 1 do
		f56_local0.attachments[f56_local1 + 1] = f56_local0.attachments[f56_local1 + 1] or {}
		f56_local0.attachments[f56_local1 + 1].ref = f56_arg0.attachmentSetup[f56_local1].attachment:get()
		f56_local0.attachments[f56_local1 + 1].variantID = f56_arg0.attachmentSetup[f56_local1].variantID:get()
	end
	f56_local0.camo = f56_arg0.camo:get()
	f56_local0.cosmeticAttachment = f56_arg0.cosmeticAttachment:get()
	f56_local0.reticle = f56_arg0.reticle:get()
	f56_local0.stickers = WEAPON.GetEquippedStickers( f56_arg0 )
	f56_local0.blueprintName = f56_arg0.blueprintName:get()
	f56_local0.lootID = f56_arg0.lootItemID:get()
	return f56_local0
end

WEAPON.GenerateWeaponTableFromRef = function ( f55_arg0, f55_arg1, f55_arg2, f55_arg3 )
	local f55_local0 = {
		weapon = f55_arg0,
		variantID = 0,
		attachments = {},
		camo = f55_arg1,
		cosmeticAttachment = f55_arg2,
		stickers = {}
	}
	if f55_arg3 ~= nil then
		for f55_local1 = 1, #f55_arg3, 1 do
			f55_local0.stickers[f55_local1] = f55_arg3[f55_local1]
		end
	end
	f55_local0.blueprintName = ""
	f55_local0.lootID = LOOT.emptyID
	return f55_local0
end

WEAPON.GenerateWeaponTableFromID = function ( f54_arg0 )
	local f54_local0 = LOOT.GetItemRef( LOOT.itemTypes.WEAPON, f54_arg0 )
	if not f54_local0 or #f54_local0 <= 0 then
		return 
	else
		local f54_local1 = WEAPON.GetVariantRef( f54_arg0 )
		if not f54_local1 or #f54_local1 <= 0 then
			return 
		else
			local f54_local2 = WEAPON.GetVariantFile( f54_local0 )
			local f54_local3 = StringTable[0x8073B436CDE1BF]( f54_local2, CSV.weaponVariants.cols.ref, f54_local1 )
			if f54_local3 < 0 then
				return 
			else
				local f54_local4 = CSV.ReadRowWithFile( CSV.weaponVariants, f54_local2, f54_local3 )
				if not f54_local4 then
					return 
				else
					return WEAPON.GetLootModTable( f54_local0, f54_arg0, f54_local4 )
				end
			end
		end
	end
end

WEAPON.SetSceneForWeaponSlot = function ( f53_arg0 )
	if Engine[0x12586A3F4FB490E]() then
		if f53_arg0 == WEAPON.PrimarySlot then
			Engine[0x685AE31DEDA30A4]( "loadout_showcase_p" )
		else
			Engine[0x685AE31DEDA30A4]( "loadout_showcase_s" )
		end
	else
		Engine[0x685AE31DEDA30A4]( "loadout_showcase" )
	end
end

WEAPON.SetPreviewSceneForWeapon = function ( f52_arg0 )
	local f52_local0 = StringTable[0x2DCF0973239E909]( CSV.weaponClasses.file, CSV.weaponClasses.cols.ref, WEAPON.GetWeaponClass( f52_arg0 ), CSV.weaponClasses.cols.previewScene )
	if not f52_local0 or #f52_local0 == 0 then
		f52_local0 = "loadout_showcase_preview"
	end
	Engine[0x685AE31DEDA30A4]( f52_local0 )
end

WEAPON.LoadAndSetModelFromName = function ( f51_arg0, f51_arg1, f51_arg2, f51_arg3 )
	FrontEndScene.RequestWeaponViewModels( {
		f51_arg2
	}, f51_arg0 )
	WEAPON.SetModelIfLoaded( f51_arg0, f51_arg1, f51_arg2, f51_arg3 )
end

WEAPON.LoadAndSetModelFromPlayerData = function ( f50_arg0, f50_arg1, f50_arg2, f50_arg3 )
	WEAPON.LoadAndSetModel( f50_arg0, f50_arg1, WEAPON.GenerateWeaponTable( f50_arg2 ), f50_arg3 )
end

WEAPON.LoadAndSetModel = function ( f49_arg0, f49_arg1, f49_arg2, f49_arg3 )
	local f49_local0 = WEAPON.GetWeaponModelName( f49_arg2.weapon, f49_arg2, {
		includeCamos = true,
		includeAttachments = true,
		includeStickers = true,
		controllerIndex = f49_arg0
	} )
	FrontEndScene.RequestWeaponViewModels( {
		f49_local0
	}, f49_arg0 )
	if not f49_arg3 or not f49_arg3 then
		f49_arg3 = {}
	end
	f49_arg3.modelWeaponTable = f49_arg2
	WEAPON.SetModelIfLoaded( f49_arg0, f49_arg1, f49_local0, f49_arg3 )
end

WEAPON.SetModelIfLoaded = function ( f47_arg0, f47_arg1, f47_arg2, f47_arg3 )
	if not f47_arg3 then
		f47_arg3 = {}
	end
	f47_arg1._nextWeaponModel = f47_arg2
	if f47_arg3.forceOffsetsAndRotations then
		f47_arg1:SetOffsetsAndRotations( f47_arg2 )
	end
	if Streaming[0xBE636A91711ED30]( {
		f47_arg1._nextWeaponModel
	}, f47_arg0 ) then
		f47_arg1:SetWeaponModel( f47_arg1._nextWeaponModel )
		FrontEndScene.SetReactiveCamo( f47_arg1, f47_arg3.modelWeaponTable )
		f47_arg1._nextWeaponModel = nil
		if f47_arg3.callbackFunc then
			f47_arg3.callbackFunc()
		end
	else
		local f47_local0 = nil
		local f47_local1 = function ()
			if f47_arg0._nextWeaponModel then
				if Streaming[0xBE636A91711ED30]( {
					f47_arg0._nextWeaponModel
				}, f47_arg0 ) then
					f47_arg0:SetWeaponModel( f47_arg0._nextWeaponModel )
					FrontEndScene.SetReactiveCamo( f47_arg0, f47_arg0.modelWeaponTable )
					f47_arg0._nextWeaponModel = nil
					if f47_arg0.callbackFunc then
						f47_arg0.callbackFunc()
					end
				else
					local f48_local0 = f47_arg0:Wait( 100, true )
					f48_local0.onComplete = f47_arg0
				end
			end
		end
		
		f47_local1()
	end
end

WEAPON.GetDefaultOffsetFileForClientWeapon = function ( f46_arg0 )
	if f46_arg0 == FrontEndScene.ClientWeapons.GunTablePrimary then
		return CSV.weaponOffsets.gunTableFirstFile
	elseif f46_arg0 == FrontEndScene.ClientWeapons.GunTableSecondary then
		return CSV.weaponOffsets.gunTableSecondFile
	elseif f46_arg0 == FrontEndScene.ClientWeapons.Preview then
		return CSV.weaponOffsets.previewFile
	elseif f46_arg0 == FrontEndScene.ClientWeapons.Watch then
		return CSV.weaponOffsets.watchFile
	else
		
	end
end

WEAPON.GetWeaponModel = function ( f45_arg0, f45_arg1, f45_arg2 )
	if f45_arg2 == nil then
		f45_arg2 = WEAPON.GetDefaultOffsetFileForClientWeapon( f45_arg1 )
	end
	local self = LUI.UIWeaponModel.new( {
		controllerIndex = f45_arg0,
		clientWeaponIndex = f45_arg1,
		basePosition = {
			0 * _1080p,
			-50 * _1080p
		},
		dataCSVFile = f45_arg2
	} )
	self:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * -302, _1080p * 779, _1080p * 290, _1080p * 740, 0 )
	self.id = "weaponModel"
	if f45_arg1 == FrontEndScene.ClientWeapons.GunTableSecondary then
		self:SetCollisionPlaneHeightOffset( -0.4 )
		ClientWeapon[0x2919F216129F01E]( f45_arg1, true )
	else
		ClientWeapon[0x2919F216129F01E]( f45_arg1, false )
	end
	return self
end

local f0_local11 = function ( f44_arg0, f44_arg1 )
	local f44_local0 = LOOT.GetTypeForID( f44_arg0 )
	if f44_local0 ~= LOOT.itemTypes.WEAPON then
		assert( false, "Item Type for lootID " .. f44_arg0 .. " is not a weapon" )
		return 
	end
	local f44_local1 = LOOT.GetItemRef( f44_local0, f44_arg0 )
	if #f44_local1 == 0 then
		return 
	end
	local f44_local2 = WEAPON.GetVariantFile( f44_local1 )
	local f44_local3 = StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f44_arg0, CSV.weaponIDs.cols.variantRef )
	local f44_local4 = StringTable[0x2DCF0973239E909]
	local f44_local5 = f44_local2
	local f44_local6 = CSV.weaponVariants.cols.ref
	local f44_local7 = f44_local3
	local f44_local8
	if f44_arg1 then
		f44_local8 = CSV.weaponVariants.cols.dismembermentRef
		if not f44_local8 then
		
		else
			return f44_local4( f44_local5, f44_local6, f44_local7, f44_local8 )
		end
	end
	f44_local8 = CSV.weaponVariants.cols.tracerColor
end

WEAPON.GetWeaponSpecialAttribute = function ( f43_arg0 )
	local f43_local0 = f0_local0( f43_arg0 )
	local f43_local1 = {}
	if 0 < #f43_local0 then
		f43_local1.ref = f43_local0
		f43_local1.name = StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f43_local0, CSV.specialAttributes.cols.name )
		f43_local1.icon = StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f43_local0, CSV.specialAttributes.cols.icon )
		local f43_local2 = COLORS[StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f43_local0, CSV.specialAttributes.cols.color )]
		if not f43_local2 then
			f43_local2 = COLORS.white
		end
		f43_local1.color = f43_local2
		f43_local2 = COLORS[StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f43_local0, CSV.specialAttributes.cols.attributeIconColor )]
		if not f43_local2 then
			f43_local2 = COLORS.white
		end
		f43_local1.attributeIconColor = f43_local2
		f43_local1.atlas = StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f43_local0, CSV.specialAttributes.cols.atlas )
		local f43_local3 = BLEND_MODE[StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f43_local0, CSV.specialAttributes.cols.blendmode )]
		if not f43_local3 then
			f43_local3 = BLEND_MODE.addWithAlpha
		end
		f43_local1.blendMode = f43_local3
	end
	return f43_local1
end

WEAPON.HasTracer = function ( f42_arg0 )
	local f42_local0 = f0_local0( f42_arg0 )
	local f42_local1
	if f42_local0 then
		f42_local1 = f42_local0
	elseif 0 >= #f42_local0 or StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f42_local0, CSV.specialAttributes.cols.ref ) ~= f42_local0 then
		f42_local1 = false
	else
		f42_local1 = true
	end
	return f42_local1
end

WEAPON.HasDismemberment = function ( f41_arg0 )
	local f41_local0 = f0_local0( f41_arg0, true )
	local f41_local1
	if f41_local0 then
		f41_local1 = f41_local0
	elseif 0 >= #f41_local0 or StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f41_local0, CSV.specialAttributes.cols.ref ) ~= f41_local0 then
		f41_local1 = false
	else
		f41_local1 = true
	end
	return f41_local1
end

WEAPON.GetSpecialAttributeName = function ( f40_arg0, f40_arg1 )
	local f40_local0 = f0_local0( f40_arg0, f40_arg1 )
	local f40_local1 = ""
	if 0 < #f40_local0 then
		f40_local1 = StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f40_local0, CSV.specialAttributes.cols.name )
	end
	return f40_local1
end

WEAPON.GetSpecialAttributeIcon = function ( f39_arg0, f39_arg1 )
	local f39_local0 = f0_local0( f39_arg0, f39_arg1 )
	local f39_local1 = ""
	if 0 < #f39_local0 then
		f39_local1 = StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f39_local0, CSV.specialAttributes.cols.icon )
	end
	return f39_local1
end

WEAPON.GetSpecialAttributeColor = function ( f38_arg0, f38_arg1 )
	local f38_local0 = f0_local0( f38_arg0, f38_arg1 )
	local f38_local1 = COLORS.white
	if 0 < #f38_local0 then
		local f38_local2 = COLORS[StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f38_local0, CSV.specialAttributes.cols.color )]
		if not f38_local2 then
			f38_local1 = f38_local2
		else
			
		end
	end
	return f38_local1
end

WEAPON.GetSpecialAttributeIconColor = function ( f37_arg0, f37_arg1 )
	local f37_local0 = f0_local0( f37_arg0, f37_arg1 )
	local f37_local1 = COLORS.white
	if 0 < #f37_local0 then
		local f37_local2 = StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f37_local0, CSV.specialAttributes.cols.attributeIconColor )
		if 0 < #f37_local2 then
			local f37_local3 = COLORS[f37_local2]
			if not f37_local3 then
				f37_local1 = f37_local3
			else
				
			end
		else
			f37_local1 = WEAPON.GetSpecialAttributeColor( f37_arg0 )
		end
	end
	return f37_local1
end

WEAPON.GetSpecialAttributeAtlas = function ( f36_arg0, f36_arg1 )
	local f36_local0 = f0_local0( f36_arg0, f36_arg1 )
	local f36_local1 = ""
	if 0 < #f36_local0 then
		f36_local1 = StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f36_local0, CSV.specialAttributes.cols.atlas )
	end
	if not f36_local1 or 0 >= #f36_local1 then
		f36_local1 = nil
	end
	return f36_local1
end

WEAPON.GetSpecialAttributeBlendMode = function ( f35_arg0, f35_arg1 )
	local f35_local0 = f0_local0( f35_arg0, f35_arg1 )
	local f35_local1 = specialAttribute.addWithAlpha
	if 0 < #f35_local0 then
		f35_local1 = StringTable[0x2DCF0973239E909]( CSV.specialAttributes.file, CSV.specialAttributes.cols.ref, f35_local0, CSV.specialAttributes.cols.blendmode )
	end
	return f35_local1
end

WEAPON.CreateTracerLabel = function ( f34_arg0, f34_arg1 )
	local f34_local0 = WEAPON.GetSpecialAttributeColor( f34_arg0, false )
	local f34_local1 = WEAPON.GetSpecialAttributeName( f34_arg0, false )
	local f34_local2 = WEAPON.GetSpecialAttributeIcon( f34_arg0, false )
	local f34_local3 = MenuBuilder.BuildRegisteredType( "LabeledIcon", {
		controllerIndex = f34_arg1
	} )
	f34_local3.id = "Tracer"
	f34_local3.Text:setText( Engine[0xED84C33EC5F01EA]( f34_local1 ), 0 )
	f34_local3.Text:SetLeft( 30 )
	if IsLanguageArabic() then
		local f34_local4 = 250
		f34_local3.Icon:SetLeft( f34_local4 - LAYOUT.GetElementWidth( f34_local3.Icon ) )
		f34_local3.Icon:SetRight( f34_local4 )
	end
	f34_local3.Icon:setImage( RegisterMaterial( f34_local2 ), 0 )
	f34_local3.Icon:SetScale( 1 )
	f34_local3.Icon:SetRGBFromTable( f34_local0, 0 )
	return f34_local3
end

WEAPON.CreateDismembermentLabel = function ( f33_arg0, f33_arg1 )
	local f33_local0 = WEAPON.GetSpecialAttributeColor( f33_arg0, true )
	local f33_local1 = WEAPON.GetSpecialAttributeName( f33_arg0, true )
	local f33_local2 = WEAPON.GetSpecialAttributeIcon( f33_arg0, true )
	local f33_local3 = MenuBuilder.BuildRegisteredType( "LabeledIcon", {
		controllerIndex = f33_arg1
	} )
	f33_local3.id = "Dismemberment"
	f33_local3.Text:setText( Engine[0xED84C33EC5F01EA]( f33_local1 ), 0 )
	f33_local3.Text:SetLeft( 30 )
	f33_local3.Icon:setImage( RegisterMaterial( f33_local2 ), 0 )
	if IsLanguageArabic() then
		f33_local3.Icon:SetLeft( 234 )
		f33_local3.Icon:SetRight( 250 )
	else
		f33_local3.Icon:SetLeft( 5 )
		f33_local3.Icon:SetRight( 21 )
	end
	f33_local3.Icon:SetRGBFromTable( f33_local0, 0 )
	return f33_local3
end

WEAPON.SetupCrosshair = function ( f32_arg0, f32_arg1 )
	local f32_local0 = LUI.DataSourceInControllerModel.new( "cg.player.currentWeapon.crosshairAlpha" )
	f32_arg0:BindAlphaToModel( f32_local0:GetModel( f32_arg1 ) )
end

WEAPON.GetBaseRef = function ( f31_arg0, f31_arg1 )
	local f31_local0 = LUI.FindLast( f31_arg0, "_mp" )
	if f31_local0 then
		local f31_local1
		if f31_arg1 then
			f31_local1 = f31_local0 + 2
			if not f31_local1 then
			
			else
				f31_arg0 = string.sub( f31_arg0, 0, f31_local1 )
			end
		end
		f31_local1 = f31_local0 - 1
	end
	return f31_arg0
end

WEAPON.IsNonBulletWeapon = function ( f30_arg0 )
	return not WEAPON.IsBulletWeapon( f30_arg0 )
end

WEAPON.IsBulletWeapon = function ( f29_arg0 )
	local f29_local0
	if f29_arg0 then
		f29_local0 = f29_arg0
	elseif 0 >= #f29_arg0 or f29_arg0 == "weapon_projectile" or f29_arg0 == "weapon_classic_s" or f29_arg0 == "weapon_melee2" or f29_arg0 == "weapon_melee" or f29_arg0 == "weapon_classic_p" then
		f29_local0 = false
	else
		f29_local0 = true
	end
	return f29_local0
end

WEAPON.IsCurrentBulletWeapon = function ( f28_arg0, f28_arg1 )
	return WEAPON.IsBulletWeapon( WEAPON.GetWeaponClass( WEAPON.GetBaseRef( Game[0x83A9582F97A9E41]( f28_arg0, f28_arg1 ), false ) ) )
end

WEAPON.GetAmmoNameOverride = function ( f27_arg0, f27_arg1 )
	local f27_local0 = StringTable[0x2DCF0973239E909]( CSV.weapons.file, CSV.weapons.cols.ref, WEAPON.GetBaseRef( Game[0x83A9582F97A9E41]( f27_arg0, f27_arg1 ), false ), CSV.weapons.cols.overrideAmmoName )
	local f27_local1
	if f27_local0 ~= nil and #f27_local0 ~= 0 and not f27_local0 then
		f27_local1 = f27_local0
	else
		f27_local1 = nil
	end
	return f27_local1
end

WEAPON.GetDynamicWeaponAnimationSeq = function ( f26_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.DynamicWeaponTable.file, CSV.DynamicWeaponTable.cols.ref, f26_arg0, CSV.DynamicWeaponTable.cols.animateSeq )
end

WEAPON.GetDynamicWeaponEnableValue = function ( f25_arg0 )
	local f25_local0 = tonumber( StringTable[0x2DCF0973239E909]( CSV.DynamicWeaponTable.file, CSV.DynamicWeaponTable.cols.ref, f25_arg0, CSV.DynamicWeaponTable.cols.enable ) )
	local f25_local1
	if f25_local0 then
		f25_local1 = f25_local0
	else
		f25_local1 = 0 < f25_local0
	end
	return f25_local1
end

WEAPON.StreamAllWeapons = function ( f24_arg0 )
	local f24_local0 = Streaming[0x929F93D7A0AF0CA]()
	for f24_local1 = 0, Engine[0xB686A0A723E6442]() - 1, 1 do
		if Engine[0x10A5732AB1DAE9F]( f24_local1 ) then
			local f24_local4 = {}
			local f24_local5 = {}
			local f24_local6 = LOADOUT.GetDefaultLoadouts( f24_local1 )
			local f24_local7 = LOADOUT.GetLoadoutsPlayerData( f24_local1 )
			for f24_local8 = 0, 1, 1 do
				for f24_local14, f24_local15 in ipairs( f24_local6 ) do
					table.insert( f24_local5, WEAPON.GetWeaponModelNameFromRef( f24_local15.weapons[f24_local8 + 1].ref, {
						includeStickers = true,
						includeCamos = true,
						includeAttachments = true
					} ) )
				end
				for f24_local14, f24_local15 in ddlpairs( f24_local7 ) do
					local f24_local16 = WEAPON.GenerateWeaponTable( f24_local15.weaponSetups[f24_local8] )
					table.insert( f24_local5, WEAPON.GetWeaponModelName( f24_local16.weapon, f24_local16, {
						includeCamos = true,
						includeAttachments = true,
						includeStickers = true,
						controllerIndex = f24_local1
					} ) )
				end
			end
			for f24_local8 = 0, f24_local0, 1 do
				table.insert( f24_local4, f24_local5[f24_local8] )
			end
			FrontEndScene.RequestWeaponViewModels( f24_local4, f24_local1 )
		end
	end
end

WEAPON.LookUpTrialWeapon = function ( f23_arg0, f23_arg1 )
	return StringTable[0x2DCF0973239E909]( CSV.trialWeaponTable.file, CSV.trialWeaponTable.cols.trialID, f23_arg0, CSV.trialWeaponTable.cols.trialID + f23_arg1 )
end

WEAPON.LookUpTrialWeapons = function ( f22_arg0 )
	local f22_local0 = {}
	local f22_local1 = 1
	if true then
		
	else
		
	end
	return f22_local0
end

WEAPON.StreamTrialWeapons = function ( f21_arg0 )
	local f21_local0 = WEAPON.LookUpTrialWeapons( f21_arg0 )
	FrontEndScene.RequestWeaponWorldModels( f21_local0 )
	return f21_local0
end

WEAPON.GetSubClass = function ( f20_arg0 )
	return Engine[0xED84C33EC5F01EA]( "WEAPON/SUBCLASS", WEAPON.GetWeaponClassName( f20_arg0 ), StringTable[0x2DCF0973239E909]( CSV.MPWeapons.file, CSV.MPWeapons.cols.ref, f20_arg0, CSV.MPWeapons.cols.subclassID ) )
end

WEAPON.GetClassRefByID = function ( f19_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.MPWeapons.file, CSV.MPWeapons.cols.ref, StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f19_arg0, CSV.weaponIDs.cols.baseRef ), CSV.MPWeapons.cols.menuClass )
end

WEAPON.GetNewWeaponIDsByClass = function ( f18_arg0, f18_arg1, f18_arg2 )
	assert( f18_arg2.getBaseWeapon ~= nil )
	local f18_local0 = {}
	local f18_local1 = CONDITIONS.IsNewItemChecksEnabled() and Loot[0x3CB161A5685F7FF]( f18_arg0, LOOT.typeNames[LOOT.itemTypes.WEAPON] ) or {}
	if f18_local1 and 0 < #f18_local1 then
		for f18_local5, f18_local6 in ipairs( f18_local1 ) do
			local f18_local7 = StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f18_local6, CSV.weaponIDs.cols.quality )
			if WEAPON.GetClassRefByID( f18_local6 ) == f18_arg1 and (not (not f18_arg2.getBaseWeapon or tonumber( f18_local7 ) ~= LOOT.baseQuality) or not f18_arg2.getBaseWeapon and tonumber( f18_local7 ) ~= LOOT.baseQuality) then
				table.insert( f18_local0, f18_local6 )
			end
		end
	end
	return f18_local0
end

WEAPON.GetNewWeaponIDs = function ( f17_arg0, f17_arg1 )
	assert( f17_arg1.getBaseWeapon ~= nil )
	local f17_local0 = {}
	local f17_local1 = CONDITIONS.IsNewItemChecksEnabled() and Loot[0x3CB161A5685F7FF]( f17_arg0, LOOT.typeNames[LOOT.itemTypes.WEAPON] ) or {}
	if f17_local1 and 0 < #f17_local1 then
		for f17_local5, f17_local6 in ipairs( f17_local1 ) do
			local f17_local7 = StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f17_local6, CSV.weaponIDs.cols.quality )
			if not (not f17_arg1.getBaseWeapon or tonumber( f17_local7 ) ~= LOOT.baseQuality) or not f17_arg1.getBaseWeapon and tonumber( f17_local7 ) ~= LOOT.baseQuality then
				table.insert( f17_local0, f17_local6 )
			end
		end
	end
	return f17_local0
end

WEAPON.GetNewWeaponIDsBySlot = function ( f16_arg0, f16_arg1 )
	local f16_local0 = {}
	local f16_local1 = CONDITIONS.IsNewItemChecksEnabled() and Loot[0x3CB161A5685F7FF]( f16_arg0, LOOT.typeNames[LOOT.itemTypes.WEAPON] ) or {}
	if f16_local1 and 0 < #f16_local1 then
		for f16_local5, f16_local6 in ipairs( f16_local1 ) do
			if tonumber( StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f16_local6, CSV.weaponIDs.cols.quality ) ) == LOOT.baseQuality and WEAPON.GetSlotFromRef( StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f16_local6, CSV.weaponIDs.cols.baseRef ) ) == f16_arg1 then
				table.insert( f16_local0, f16_local6 )
			end
		end
	end
	return f16_local0
end

WEAPON.GetNewArmoryIDsByWeapon = function ( f15_arg0, f15_arg1 )
	local f15_local0 = {}
	local f15_local1 = CONDITIONS.IsNewItemChecksEnabled() and Loot[0x3CB161A5685F7FF]( f15_arg0, LOOT.typeNames[LOOT.itemTypes.WEAPON] ) or {}
	if f15_local1 and 0 < #f15_local1 then
		for f15_local5, f15_local6 in ipairs( f15_local1 ) do
			if tonumber( StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f15_local6, CSV.weaponIDs.cols.quality ) ) ~= LOOT.baseQuality and f15_arg1 == StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f15_local6, CSV.weaponIDs.cols.baseRef ) then
				table.insert( f15_local0, f15_local6 )
			end
		end
	end
	return f15_local0
end

WEAPON.GetLootVariantImageDefault = function ( f14_arg0 )
	return StringTable[0x2DCF0973239E909]( WEAPON.GetVariantFile( f14_arg0 ), CSV.weaponVariants.cols.ref, f14_arg0 .. "_variant_0", CSV.weaponVariants.cols.image )
end

WEAPON.GetLootVariantImage = function ( f13_arg0, f13_arg1 )
	return StringTable[0x2DCF0973239E909]( WEAPON.GetVariantFile( f13_arg0 ), CSV.weaponVariants.cols.ref, StringTable[0x2DCF0973239E909]( CSV.weaponIDs.file, CSV.weaponIDs.cols.index, f13_arg1, CSV.weaponIDs.cols.variantRef ), CSV.weaponVariants.cols.image )
end

WEAPON.GetGunTableFirstPositionScene = function ( f12_arg0 )
	if WEAPON.GetWeaponClass( f12_arg0 ) == WEAPON.MELEEClass then
		return "loadout_showcase_shield_p"
	else
		return "loadout_showcase_p"
	end
end

WEAPON.GetGunTableSecondPositionScene = function ( f11_arg0 )
	if WEAPON.GetWeaponClass( f11_arg0 ) == WEAPON.pistolClass or WEAPON.GetWeaponClass( f11_arg0 ) == WEAPON.MELEEClass2 then
		return "loadout_showcase_s"
	elseif WEAPON.GetWeaponClass( f11_arg0 ) == WEAPON.MELEEClass then
		return "loadout_showcase_shield_o"
	else
		return "loadout_showcase_o"
	end
end

WEAPON.GetVariantOverridenIcon = function ( f10_arg0, f10_arg1 )
	if f10_arg1 and 0 < f10_arg1 then
		local f10_local0 = WEAPON.GetVariantFile( f10_arg0 )
		if f10_local0 and 0 < #f10_local0 then
			local f10_local1 = StringTable[0x2DCF0973239E909]( f10_local0, CSV.weaponVariants.cols.variantID, f10_arg1, CSV.weaponVariants.cols.overrideImage )
			if f10_local1 and 0 < #f10_local1 then
				return f10_local1
			end
		end
	end
	return nil
end

WEAPON.GetCamoRef = function ( f9_arg0 )
	local f9_local0 = nil
	local f9_local1 = LOOT.GetLootItemRelatedWeaponRef( f9_arg0 )
	if not f9_local1 or f9_local1 == "" then
		f9_local0 = StringTable[0x2DCF0973239E909]( CSV.baseCamoIDs.file, CSV.baseCamoIDs.cols.index, f9_arg0, CSV.baseCamoIDs.cols.ref )
	else
		f9_local0 = StringTable[0x2DCF0973239E909]( LOOT.GetIDFileForType( LOOT.itemTypes.CAMO, {
			weaponRef = f9_local1
		} ), CSV.camosIDs.cols.index, f9_arg0, CSV.camosIDs.cols.ref )
	end
	return f9_local0
end

WEAPON.SetResetDynBones = function ( f8_arg0 )
	for f8_local0 = 1, 2, 1 do
		ClientWeapon[0xA42997024AE917C]( f8_arg0[f8_local0] )
	end
end

WEAPON.ClearBreadcrumbs = function ( f7_arg0 )
	Loot[0xD9BF22C85C5F944]( f7_arg0, LOOT.typeNames[LOOT.itemTypes.WATCH] )
	Loot[0xD9BF22C85C5F944]( f7_arg0, LOOT.typeNames[LOOT.itemTypes.STREAK] )
	Loot[0xD9BF22C85C5F944]( f7_arg0, LOOT.typeNames[LOOT.itemTypes.SUPER] )
	Loot[0xD9BF22C85C5F944]( f7_arg0, LOOT.typeNames[LOOT.itemTypes.VEHICLE_CAMO] )
	Loot[0xD9BF22C85C5F944]( f7_arg0, LOOT.typeNames[LOOT.itemTypes.WEAPON] )
	Loot[0xD9BF22C85C5F944]( f7_arg0, LOOT.typeNames[LOOT.itemTypes.RETICLE] )
	Loot[0xD9BF22C85C5F944]( f7_arg0, LOOT.typeNames[LOOT.itemTypes.CHARM] )
	Loot[0xD9BF22C85C5F944]( f7_arg0, LOOT.typeNames[LOOT.itemTypes.PERK] )
	Loot[0xD9BF22C85C5F944]( f7_arg0, LOOT.typeNames[LOOT.itemTypes.EQUIPMENT] )
	Loot[0xD9BF22C85C5F944]( f7_arg0, LOOT.typeNames[LOOT.itemTypes.STICKER] )
	local f7_local0 = StringTable[0xFD4E49A34DD43AE]( CSV.lootMaster.file )
	for f7_local1 = 0, f7_local0 - 1, 1 do
		local f7_local4 = CSV.ReadRow( CSV.lootMaster, f7_local1 )
		if tonumber( f7_local4.typeValue ) == LOOT.itemTypes.CAMO or tonumber( f7_local4.typeValue ) == LOOT.itemTypes.ATTACHMENT then
			Loot[0xD9BF22C85C5F944]( f7_arg0, f7_local4.typeName )
		end
	end
	LOOT.InvalidateCachedNewLootFlag()
end

WEAPON.DispatchModToastNotification = function ( f6_arg0, f6_arg1, f6_arg2 )
	f6_arg0:dispatchEventToRoot( {
		name = "send_toast_notification",
		immediate = true,
		options = {
			iconScale = 4.667263495923649E-62,
			displayTime = 3000,
			icon = "v_ui_icon_armory_custommod01",
			iconColor = SWATCHES.genericMenu.notificationHighlight,
			header = f6_arg1,
			description = f6_arg2,
			type = LUI.ToastManager.NotificationType.None,
			controllerIndex = controllerIndex
		}
	} )
end

WEAPON.variantIDValidationCache = {}
WEAPON.PopulateVariantIDValidationCache = function ()
	local f5_local0 = LOOT.IdFilePaths[LOOT.itemTypes.WEAPON]
	local f5_local1 = StringTable[0xFD4E49A34DD43AE]( f5_local0 )
	for f5_local2 = 0, f5_local1 - 1, 1 do
		local f5_local5 = StringTable[0x2077452C28AB2FC]( f5_local0, f5_local2, CSV.lootIDs.cols.ref )
		local f5_local6 = StringTable[0x2077452C28AB2FC]( f5_local0, f5_local2, CSV.weaponIDs.cols.variantRef )
		WEAPON.variantIDValidationCache[f5_local6] = tonumber( StringTable[0x2DCF0973239E909]( WEAPON.GetVariantFile( f5_local5 ), CSV.weaponVariants.cols.ref, f5_local6, CSV.weaponVariants.cols.variantID ) )
	end
end

WEAPON.ValidateLoadoutData = function ( f2_arg0, f2_arg1 )
	assert( f2_arg1 )
	local f2_local0 = function ( f4_arg0, f4_arg1 )
		local f4_local0 = f4_arg0.weapon
		local f4_local1 = f4_local0
		f4_local0 = f4_local0.set
		local f4_local2
		if f4_arg1 == 0 then
			f4_local2 = WEAPON.DefaultPrimary
			if not f4_local2 then
			
			else
				f4_local0( f4_local1, f4_local2 )
				f4_arg0.variantID:set( WEAPON.baseVariant )
				f4_arg0.blueprintName:set( "" )
				f4_arg0.lootItemID:set( LOOT.emptyID )
				f4_arg0.reticle:set( WEAPON.ReticleNoneValue )
				for f4_local0 = 0, #f4_arg0.attachmentSetup - 1, 1 do
					f4_arg0.attachmentSetup[f4_local0].attachment:set( ATTACHMENT.none )
					f4_arg0.attachmentSetup[f4_local0].variantID:set( ATTACHMENT.baseVariant )
				end
			end
		end
		f4_local2 = WEAPON.DefaultSecondary
	end
	
	local f2_local1 = function ( f3_arg0, f3_arg1 )
		f3_arg0.variantID:set( 1 )
	end
	
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x3a83e5cd34ad15b9a" ) and not CONDITIONS.IsThirdGameMode() then
		local f2_local2 = f2_arg1.loadoutPerks[0]:get()
		local f2_local3 = f2_arg1.loadoutPerks[1]:get()
		local f2_local4 = f2_arg1.loadoutPerks[2]:get()
		local f2_local5 = PERK.IsPerkOverkill( f2_local2 )
		if not f2_local5 then
			f2_local5 = PERK.IsPerkOverkill( f2_local3 )
			if not f2_local5 then
				f2_local5 = PERK.IsPerkOverkill( f2_local4 )
			end
		end
		if not f2_local5 then
			local f2_local6 = f2_arg1.weaponSetups[WEAPON.SecondarySlot]
			local f2_local7 = WEAPON.GenerateWeaponTable( f2_local6 )
			if not WEAPON.IsWeaponSecondary( f2_local7.weapon ) then
				f2_local6.weapon:set( WEAPON.DefaultSecondary )
				WEAPON.WipeWeaponSetup( f2_local6 )
			end
		end
	end
	for f2_local2 = 0, 1, 1 do
		local f2_local6 = f2_arg1.weaponSetups[f2_local2]
		local f2_local7 = WEAPON.GenerateWeaponTable( f2_local6 )
		local f2_local8 = f2_local7.weapon
		if Dvar[0x9E5BE3B4BBA4E0E]( "#x3466794b610c27ed0" ) then
			local f2_local9 = LOOT.GetItemID( LOOT.itemTypes.WEAPON, f2_local6.weapon:get() )
			local f2_local10 = nil
			if f2_local7.lootID == 0 then
				f2_local10 = WEAPON.GetVariantRef( f2_local9 )
			else
				f2_local10 = WEAPON.GetVariantRef( f2_local7.lootID )
			end
			local f2_local11 = WEAPON.variantIDValidationCache[f2_local10]
			if f2_local11 == nil then
				WEAPON.PopulateVariantIDValidationCache()
				f2_local11 = WEAPON.variantIDValidationCache[f2_local10]
			end
			if f2_local11 and f2_local7.variantID ~= f2_local11 then
				f2_local1( f2_local6, f2_local11 )
				f2_local7 = WEAPON.GenerateWeaponTable( f2_local6 )
			end
		end
		if 0 < f2_local7.variantID and not LOOT.IsUnlockedWithID( f2_arg0, f2_local7.lootID ) then
			f2_local0( f2_local6, f2_local2 )
			DebugPrint( "WEAPON.ValidateLoadoutData found unowned weapon variant of ID: " .. f2_local7.lootID )
		end
		if Dvar[0x9E5BE3B4BBA4E0E]( "#x32d9caacc70742a09" ) then
			local f2_local9 = CSV.attachmentIDs.GetFile( f2_local8 )
			for f2_local10 = 0, #f2_local6.attachmentSetup - 1, 1 do
				local f2_local13 = CSV.ReadRowWithFile( CSV.attachmentIDs, f2_local9, StringTable[0x8073B436CDE1BF]( f2_local9, CSV.attachmentIDs.cols.ref, f2_local6.attachmentSetup[f2_local10].attachment:get() ) )
				if f2_local13 ~= nil then
					local f2_local14 = f2_local13.variantLootID
					if 0 < f2_local6.attachmentSetup[f2_local10].variantID:get() and f2_local14 ~= "" and not LOOT.IsUnlockedWithID( f2_arg0, f2_local14 ) then
						f2_local6.attachmentSetup[f2_local10].attachment:set( ATTACHMENT.none )
						f2_local6.attachmentSetup[f2_local10].variantID:set( ATTACHMENT.baseVariant )
						DebugPrint( "WEAPON.ValidateLoadoutData found unowned attachment variant of ID: " .. f2_local14 )
					end
				end
			end
		end
		if f2_local7.camo and 0 < #f2_local7.camo and f2_local7.camo ~= WEAPON.CamoNoneValue and not LOOT.IsUnlocked( f2_arg0, LOOT.itemTypes.CAMO, f2_local7.camo, {
			weaponRef = f2_local7.weapon
		} ) and not LOOT.IsUnlocked( f2_arg0, LOOT.itemTypes.CAMO_BASE, f2_local7.camo ) then
			f2_local6.camo:set( WEAPON.CamoNoneValue )
			DebugPrint( "WEAPON.ValidateLoadoutData found unowned camo ref: " .. f2_local7.camo )
		end
		if f2_local7.reticle and 0 < #f2_local7.reticle and f2_local7.reticle ~= WEAPON.ReticleNoneValue and not LOOT.IsUnlocked( f2_arg0, LOOT.itemTypes.RETICLE, f2_local7.reticle ) then
			f2_local6.reticle:set( WEAPON.ReticleNoneValue )
			DebugPrint( "WEAPON.ValidateLoadoutData found unowned reticle ref: " .. f2_local7.reticle )
		end
		if f2_local7.cosmeticAttachment and 0 < #f2_local7.cosmeticAttachment and f2_local7.cosmeticAttachment ~= WEAPON.CharmNoneValue and not LOOT.IsUnlocked( f2_arg0, LOOT.itemTypes.CHARM, f2_local7.cosmeticAttachment ) then
			f2_local6.cosmeticAttachment:set( WEAPON.CharmNoneValue )
			DebugPrint( "WEAPON.ValidateLoadoutData found unowned charm ref: " .. f2_local7.cosmeticAttachment )
		end
		for f2_local12, f2_local15 in ipairs( f2_local7.stickers ) do
			if f2_local15 and 0 < #f2_local15 and f2_local15 ~= WEAPON.StickerNoneValue and not LOOT.IsUnlocked( f2_arg0, LOOT.itemTypes.STICKER, f2_local15 ) then
				f2_local6.sticker[f2_local12 - 1]:set( WEAPON.StickerNoneValue )
				DebugPrint( "WEAPON.ValidateLoadoutData found unowned sticker ref: " .. f2_local15 )
			end
		end
		if Dvar[0x9E5BE3B4BBA4E0E]( "#x3d2eb6d77cae57279" ) then
			f2_local9 = {}
			for f2_local15, f2_local16 in ddlpairs( f2_local6.attachmentSetup ) do
				local f2_local13 = ATTACHMENT.GetCategory( ATTACHMENT.GetRef( f2_local16.attachment:get(), f2_local8 ) )
				if f2_local13 ~= ATTACHMENT.none then
					if LUI.IsItemInArray( f2_local9, f2_local13 ) ~= nil then
						ATTACHMENT.ClearAllAttachments( f2_local6 )
						DebugPrint( "WEAPON.ValidateLoadoutData found more than one attachment in category: " .. f2_local13 )
					end
					table.insert( f2_local9, f2_local13 )
				end
			end
		end
	end
end

WEAPON.CheckWeaponsShouldBeEquipped = function ( f1_arg0 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( "#x370ab573a87b15630" ) then
		return 
	end
	local f1_local0 = WATCH.GetEquippedWatch( f1_arg0 )
	if f1_local0 and 0 < #f1_local0 and f1_local0 ~= WATCH.WatchNoneValue and not LOOT.IsUnlocked( f1_arg0, LOOT.itemTypes.WATCH, f1_local0 ) then
		WATCH.SetEquippedWatch( f1_arg0, WATCH.WatchNoneValue )
		DebugPrint( "WEAPON.CheckWeaponsShouldBeEquipped found unowned watch ref: " .. f1_local0 )
	end
	PERK.CacheValidPerks( f1_arg0 )
	for f1_local1 = 0, LOADOUT.DefaultClassCount - 1, 1 do
		local f1_local4 = LOADOUT.GetLoadoutPlayerData( f1_arg0, f1_local1 )
		if f1_local4 then
			WEAPON.ValidateLoadoutData( f1_arg0, f1_local4 )
			PERK.ValidateLoadoutData( f1_arg0, f1_local1, f1_local4 )
		end
	end
end

