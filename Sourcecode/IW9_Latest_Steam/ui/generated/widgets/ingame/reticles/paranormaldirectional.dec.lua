-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:49
module( ..., package.seeall )
require( "ui.generated.widgets.ingame.reticles.paranormalstatic" )
local f0_local0 = function ( f5_arg0, f5_arg1, f5_arg2 )
	f5_arg0.staticForward:SetMask( f5_arg0.maskForward )
	f5_arg0.staticDirectional:SetMask( f5_arg0.maskDirectional )
	local f5_local0 = function ()
		ACTIONS.AnimateSequence( f5_arg0, "pulse", f5_arg0 )
		local f6_local0 = GunScreenUtils.GetGhostTrackerData( f5_arg0 )
		f5_arg0.maskDirectional:SetZRotation( f6_local0.arrowRotation, 0 )
		local f6_local1 = f6_local0.dotIntensity / 100
		local f6_local2 = 1 - f6_local1
		local f6_local3 = f6_local0.radarIntensity / 100
		f6_local3 = f6_local3 + 0.4 * (1 - f6_local3)
		f6_local1 = f6_local1 * f6_local3
		f6_local2 = f6_local2 * f6_local3
		if f6_local1 == 0 then
			f6_local1 = 0.001
		end
		if f6_local2 == 0 then
			f6_local2 = 0.001
		end
		f5_arg0.maskDirectional:SetAlpha( f6_local2, 0 )
		f5_arg0.maskForward:SetAlpha( f6_local1, 0 )
	end
	
	local f5_local1 = LUI.DataSourceFromOmnvar.new( "ui_ghostfinder_screen_data" )
	f5_arg0:SubscribeToModel( f5_local1:GetModel( f5_arg1 ), f5_local0 )
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		local f2_local0 = function ( f4_arg0, f4_arg1 )
			
		end
		
		f2_arg0.staticForward:RegisterAnimationSequence( "pulse", {
			nil,
			nil,
			1,
			0,
			nil,
			0,
			380,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = TWEEN_PROPERTY.Alpha
		} )
		f2_arg0.staticDirectional:RegisterAnimationSequence( "pulse", {
			nil,
			nil,
			1,
			0,
			nil,
			0,
			380,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = TWEEN_PROPERTY.Alpha
		} )
		f2_arg0._sequences = {
			DefaultSequence = f2_local0,
			pulse = function ( f3_arg0, f3_arg1 )
				f3_arg0.staticForward:AnimateSequence( "pulse" )
				f3_arg0.staticDirectional:AnimateSequence( "pulse" )
			end
		}
		f2_arg0._sequenceLengths = {
			DefaultSequence = 0,
			pulse = 380
		}
	end
}
function paranormalDirectional( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 256 * _1080p, 0, 256 * _1080p )
	self.id = "paranormalDirectional"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local staticForward = nil
	
	staticForward = MenuBuilder.BuildRegisteredType( "paranormalStatic", {
		controllerIndex = f1_local1
	} )
	staticForward.id = "staticForward"
	staticForward:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -128, _1080p * 128, _1080p * -128, _1080p * 128 )
	self:addElement( staticForward )
	self.staticForward = staticForward
	
	local maskForward = nil
	
	maskForward = LUI.UIImage.new()
	maskForward.id = "maskForward"
	maskForward:SetAlpha( 0, 0 )
	maskForward:SetScale( 0.15, 0 )
	maskForward:setImage( RegisterMaterial( 0x2988B9AF2C7783B ), 0 )
	maskForward:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -128, _1080p * 128, _1080p * -128, _1080p * 128 )
	self:addElement( maskForward )
	self.maskForward = maskForward
	
	local staticDirectional = nil
	
	staticDirectional = MenuBuilder.BuildRegisteredType( "paranormalStatic", {
		controllerIndex = f1_local1
	} )
	staticDirectional.id = "staticDirectional"
	staticDirectional:SetAlpha( 0, 0 )
	staticDirectional:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -128, _1080p * 128, _1080p * -128, _1080p * 128 )
	self:addElement( staticDirectional )
	self.staticDirectional = staticDirectional
	
	local maskDirectional = nil
	
	maskDirectional = LUI.UIImage.new()
	maskDirectional.id = "maskDirectional"
	maskDirectional:SetAlpha( 0, 0 )
	maskDirectional:setImage( RegisterMaterial( 0x7AB80B00521AB94 ), 0 )
	maskDirectional:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -128, _1080p * 128, _1080p * -128, _1080p * 128 )
	self:addElement( maskDirectional )
	self.maskDirectional = maskDirectional
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "paranormalDirectional", paranormalDirectional )
LockTable( _M )
