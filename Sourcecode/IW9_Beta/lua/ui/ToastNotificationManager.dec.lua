-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
LUI.ToastManager = LUI.Class( LUI.UIElement )
LUI.ToastManager.NotificationType = {
	InputLocked = 28,
	WeaponEquipped = 1,
	StreakEquipped = 18,
	CamoEquipped = 12,
	TauntEquipped = 24,
	SprayEquipped = 19,
	EquipmentEquipped = 6,
	FieldUpgradeMenu = 17,
	OperatorEquipped = 3,
	PlayerCardEquipped = 10,
	StickerEquipped = 15,
	WatchEquipped = 9,
	AchievementUnlocked = 25,
	DoubleXPNotifications = 27,
	PMCSelected = 32,
	MunitionEquipped = 4,
	AttachmentEquipped = 2,
	MissionChallenges = 29,
	Tournament = 22,
	None = 0,
	FavoriteSuperfactionEquipped = 20,
	CodcasterPreset = 30,
	ReticleEquipped = 13,
	DeferredFenceStatus = 31,
	LoadoutOptions = 26,
	QuickPlayFilterEquipped = 21,
	RoleEquipped = 5,
	GestureEquipped = 16,
	PerkEquipped = 7,
	EmblemEquipped = 11,
	ExecutionEquipped = 23,
	SkinEquipped = 8,
	CharmEquipped = 14
}
LUI.ToastManager.ToastEmphasis = {
	StandardEmphasis = 0,
	HighEmphasis = 1
}
LUI.ToastManager.MobileSocialGlobalNotificationType = {
	InviteToParty = 2,
	PartyInviteReceived = 5,
	FriendRequest = 4,
	OnlineFriends = 1,
	OtherInviteReceived = 6,
	VoiceCall = 3,
	None = 0
}
LUI.ToastManager.ToastNotificationType = {
	DisruptiveBehaviorPositive = 12,
	PSO = 11,
	StudioNotes = 9,
	DisruptiveBehaviorNegative = 13,
	Channels = 3,
	Warnings = 10,
	Challenges = 7,
	LFPNotification = 14,
	Store = 8,
	Player = 0,
	Clans = 5,
	Groups = 1,
	Gear = 6,
	Party = 2,
	Messaging = 4
}
LUI.ToastManager.ToastVisualEffect = {
	Standard = 0,
	Error = 2,
	Warning = 1
}
LUI.ToastManager.ToastPositionModifier = {
	LobbyWidget = 1,
	GlobalPanel = 0
}
LUI.ToastManager.ToastPositionModifierStates = {
	Opened = 1,
	Extended = 2,
	Closed = 0,
	NotCreated = 3
}
local f0_local0 = 15000
local f0_local1 = 5000
local f0_local2 = 15000
local f0_local3 = 5000
local f0_local4 = 30000
local f0_local5 = 15000
LUI.ToastManager.GetTextFromOption = function ( f91_arg0, f91_arg1 )
	if f91_arg0 ~= nil then
		return f91_arg0
	elseif CONDITIONS.IsMobileOrMobileSim() then
		return ""
	else
		return f91_arg1
	end
end

LUI.ToastManager.StandardEmphasisToast = function ( f90_arg0, f90_arg1, f90_arg2, f90_arg3, f90_arg4, f90_arg5, f90_arg6 )
	local f90_local0 = {
		toastEmphasis = LUI.ToastManager.ToastEmphasis.StandardEmphasis,
		title = LUI.ToastManager.GetTextFromOption( f90_arg0, TOAST_NOTIF.PlaceholderMissingTitleText ),
		description = LUI.ToastManager.GetTextFromOption( f90_arg1, TOAST_NOTIF.PlaceholderMissingDescText )
	}
	local f90_local1
	if f90_arg2 ~= nil and not f90_arg2 then
		f90_local1 = f90_arg2
	else
		f90_local1 = LUI.ToastManager.ToastNotificationType.Player
	end
	f90_local0.type = f90_local1
	if f90_arg3 ~= nil and not f90_arg3 then
		f90_local1 = f90_arg3
	else
		f90_local1 = FRIENDS.CrossTitleGameIDs.TITLE_NONE
	end
	f90_local0.game = f90_local1
	if f90_arg4 ~= nil and not f90_arg4 then
		f90_local1 = f90_arg4
	else
		f90_local1 = false
	end
	f90_local0.isInvitation = f90_local1
	if f90_arg5 ~= nil and not f90_arg5 then
		f90_local1 = f90_arg5
	else
		f90_local1 = LUI.ToastManager.ToastVisualEffect.Standard
	end
	f90_local0.visualEffect = f90_local1
	if f90_arg6 ~= nil and not f90_arg6 then
		f90_local1 = f90_arg6
	else
		f90_local1 = 0
	end
	f90_local0.timelapse = f90_local1
	return f90_local0
end

LUI.ToastManager.HighEmphasisToast = function ( f89_arg0, f89_arg1 )
	local f89_local0 = {
		toastEmphasis = LUI.ToastManager.ToastEmphasis.HighEmphasis,
		title = LUI.ToastManager.GetTextFromOption( f89_arg0, TOAST_NOTIF.PlaceholderMissingTitleText )
	}
	local f89_local1
	if f89_arg1 ~= nil and not f89_arg1 then
		f89_local1 = f89_arg1
	else
		f89_local1 = ""
	end
	f89_local0.customBackground = f89_local1
	return f89_local0
end

LUI.ToastManager.ToastAction = function ( f88_arg0, f88_arg1, f88_arg2 )
	local f88_local0 = {
		description = LUI.ToastManager.GetTextFromOption( f88_arg0, TOAST_NOTIF.PlaceholderMissingActionText ),
		callback = f88_arg1
	}
	local f88_local1
	if f88_arg2 ~= nil and not f88_arg2 then
		f88_local1 = f88_arg2
	else
		f88_local1 = false
	end
	f88_local0.useHoldButton = f88_local1
	return f88_local0
end

local f0_local6 = function ( f87_arg0 )
	local f87_local0 = false
	if f87_arg0 and f87_arg0.toastEmphasis == LUI.ToastManager.ToastEmphasis.HighEmphasis then
		if f87_arg0.title and f87_arg0.customBackground then
			f87_local0 = true
		else
			f87_local0 = false
		end
	elseif f87_arg0 and f87_arg0.toastEmphasis == LUI.ToastManager.ToastEmphasis.StandardEmphasis then
		if f87_arg0.title and f87_arg0.description and f87_arg0.type and f87_arg0.game and f87_arg0.isInvitation ~= nil and f87_arg0.visualEffect and f87_arg0.timelapse then
			f87_local0 = true
		else
			f87_local0 = false
		end
	end
	return f87_local0
end

local f0_local7 = function ( f86_arg0 )
	local f86_local0
	if f86_arg0 and f86_arg0.description and f86_arg0.callback and f86_arg0.useHoldButton ~= nil then
		f86_local0 = true
	else
		f86_local0 = false
	end
	return f86_local0
end

local f0_local8 = function ( f85_arg0 )
	if not f85_arg0 then
		return 
	end
	local f85_local0 = f85_arg0.primaryAction
	local f85_local1 = f85_arg0.secondaryAction
	if not CONDITIONS.IsMobileOrMobileSim() then
		if f85_local0 and not TOAST_NOTIF.UseCustomHoldButton then
			f85_local0.useHoldButton = false
		end
		local f85_local2 = f85_arg0.controllerIndex
		if f85_local2 then
			f85_local1 = f85_local2
		else
			f85_local2 = TOAST_NOTIF.SecondaryActionEnable( f85_arg0.controllerIndex )
			if f85_local2 then
				f85_local1 = f85_local2
			else
				f85_local1 = f85_arg0.secondaryAction
			end
		end
		if f85_local1 and not TOAST_NOTIF.UseCustomHoldButton then
			f85_local1.useHoldButton = true
		end
	end
	if not f0_local0( f85_local0 ) or not f85_local0 then
		f85_local0 = nil
	end
	if not f0_local0( f85_local1 ) or not f85_local1 then
		f85_local1 = nil
	end
	return f85_local0, f85_local1
end

LUI.ToastManager.SetupToastData = function ( f84_arg0, f84_arg1, f84_arg2, f84_arg3 )
	if f84_arg1 == nil then
		return 
	end
	local f84_local0 = f84_arg0.displayTime
	local f84_local1 = TOAST_NOTIF.GetToastGameIconVisibleState( f84_arg1.type )
	if f84_local1 then
		if not CONDITIONS.IsIW9BetaBuildEnabled() then
			f84_local1 = not CONDITIONS.IsIW9NexusBuildEnabled()
		else
			f84_local1 = false
		end
	end
	if f0_local0( f84_arg1 ) then
		if f84_arg1.toastEmphasis == LUI.ToastManager.ToastEmphasis.StandardEmphasis then
			f84_arg1.typeIcon = f84_arg1.isInvitation and TOAST_NOTIF.GetToastInvitationIcon( f84_arg1.type ) or TOAST_NOTIF.GetToastIcon( f84_arg1.type )
			if f84_local1 then
				local f84_local2 = FRIENDS.CrossTitleGameInfos[f84_arg1.game]
				local f84_local3 = FRIENDS.CrossTitleGameInfos[f84_arg1.game].icon
			end
			f84_arg1.gameIcon = f84_local2 and f84_local3 or nil
			local f84_local4
			if f84_arg2 then
				f84_local4 = TOAST_NOTIF.GetToastDisplayTimeWithAction( f84_arg1.type )
				if not f84_local4 then
				
				else
					f84_arg0.displayTime = f84_local4
				end
			end
			f84_local4 = TOAST_NOTIF.GetToastDisplayTime( f84_arg1.type )
		elseif f84_arg1.toastEmphasis == LUI.ToastManager.ToastEmphasis.HighEmphasis then
			local f84_local4
			if f84_arg2 then
				f84_local4 = f0_local0
				if not f84_local4 then
				
				else
					f84_arg0.displayTime = f84_local4
				end
			end
			f84_local4 = f0_local0
		end
	end
	if CONDITIONS.IsMobileOrMobileSim() and f84_arg0.mobilePriority and TOAST_NOTIF.MobileDisplayTimeByPriority[f84_arg0.mobilePriority] then
		f84_arg0.displayTime = TOAST_NOTIF.MobileDisplayTimeByPriority[f84_arg0.mobilePriority]
	end
	if f84_local0 then
		f84_arg0.displayTime = f84_local0
	end
	f84_arg0.displayData = f84_arg1
	f84_arg0.primaryAction = f84_arg2
	f84_arg0.secondaryAction = f84_arg3
	f84_arg0.primaryAction, f84_arg0.secondaryAction = f0_local0( f84_arg0 )
end

LUI.ToastManager.GetMobileFeedType = function ( f83_arg0 )
	local f83_local0 = LUI.ToastManager.Feeds
	local f83_local1 = f83_arg0.genEventName
	if SOCIAL.IsMobileSocialGlobalNotificationEventName( f83_local1, f83_arg0.dwEventName ) or f83_arg0.forceSocialGlobalNotification then
		return f83_local0.MobileSocialGlobal
	elseif SOCIAL.IsMobileSocialInformationalNotificationEventName( f83_local1 ) or f83_arg0.forceSocialInformationalNotification then
		return f83_local0.MobileSocialInformational
	elseif SOCIAL.IsMobileSocialChatNotificationEventName( f83_local1 ) then
		return f83_local0.MobileSocialChat
	else
		return f83_local0.MobileSocialFeedback
	end
end

LUI.ToastManager.ManageMobileSocialInformationalNotificationAnimation = function ()
	local f82_local0 = LUI.ToastManager.GetInstance()
	f82_local0 = f82_local0.subLayers
	local f82_local1 = LUI.ToastManager.Feeds
	local f82_local2 = f82_local0[f82_local1.MobileSocialGlobal]
	local f82_local3 = f82_local0[f82_local1.MobileSocialInformational]
	local f82_local4 = nil
	if f82_local3 and 0 < f82_local3.currentNotifications then
		if 0 < f82_local2.currentNotifications then
			f82_local4 = "ShowAfterGlobalToast"
		else
			f82_local4 = "ShowAtTop"
		end
		ACTIONS.AnimateSequenceIfItExists( f82_local3, f82_local4 )
	end
end

LUI.ToastManager.HandleMobileSocialInformationalNotification = function ( f80_arg0, f80_arg1 )
	f80_arg1.Text:setText( Engine[0xED84C33EC5F01EA]( 0xF9779639EEF5B41, Engine[0x7D3158A9539A355]( f80_arg0.title or "" ), Engine[0x7D3158A9539A355]( f80_arg0.description or "" ) ) )
	f80_arg1.currentNotifications = f80_arg1.currentNotifications + 1
	LUI.ToastManager.ManageMobileSocialInformationalNotificationAnimation()
	local f80_local0 = f80_arg1:Wait( f80_arg1.notificationDuration )
	f80_local0.onComplete = function ()
		local f81_local0 = f80_arg0.currentNotifications - 1
		f80_arg0.currentNotifications = f81_local0
		if f81_local0 == 0 then
			ACTIONS.AnimateSequenceIfItExists( f80_arg0, "Hide" )
		end
	end
	
end

LUI.ToastManager.HandleMobileSocialFeedbackNotification = function ( f79_arg0, f79_arg1 )
	f79_arg1.Text:setText( Engine[0xED84C33EC5F01EA]( 0xF9779639EEF5B41, Engine[0x7D3158A9539A355]( f79_arg0.title or "" ), Engine[0x7D3158A9539A355]( f79_arg0.description or "" ) ) )
	ACTIONS.AnimateSequenceIfItExists( f79_arg1, "FadeInFadeOut" )
end

LUI.ToastManager.HandleMobileSocialChatNotification = function ( f77_arg0, f77_arg1 )
	f77_arg1:SetData( f77_arg0 )
	f77_arg1:PlayInAnimation()
	local f77_local0 = f77_arg1:Wait( f77_arg1.notificationDuration )
	f77_local0.onComplete = function ()
		f77_arg0:PlayOutAnimation()
	end
	
end

LUI.ToastManager.CreateToast = function ( f76_arg0, f76_arg1, f76_arg2, f76_arg3, f76_arg4 )
	if f76_arg1.toastEmphasis == LUI.ToastManager.ToastEmphasis.HighEmphasis and CONDITIONS.InGame() then
		if Engine[0x2DA54CF5D6B7F02]() then
			LUI.FlowManager.RequestDevErrorPopup( "Wrong Notification Emphasis", "Attempting to build an high emphasis notification for player who's in-game. Notification: " .. f76_arg1.title )
		end
		return 
	else
		local f76_local0
		if f76_arg4 and not f76_arg4 then
			f76_local0 = f76_arg4
		else
			f76_local0 = {}
		end
	end
	f76_local0.controllerIndex = f76_arg0
	LUI.ToastManager.SetupToastData( f76_local0, f76_arg1, f76_arg2, f76_arg3 )
	local f76_local1 = LUI.ToastManager.Feeds.General
	if CONDITIONS.IsMobileOrMobileSim() and CONDITIONS.IsMobileToastsEnabled() then
		local f76_local2 = LUI.ToastManager.GetMobileFeedType( f76_local0 )
		if f76_local2 then
			f76_local1 = f76_local2
		end
		local f76_local3 = hashset( {
			LUI.ToastManager.Feeds.MobileSocialGlobal,
			LUI.ToastManager.Feeds.MobileSocialChat
		} )
		if Dvar[0x9E5BE3B4BBA4E0E]( 0x54D7F5ACA8076FD ) and TOAST_NOTIF.MobileDoNotDisturb and f76_local3[f76_local1] then
			return 
		end
	end
	local f76_local2 = LUI.ToastManager.GetInstance()
	if not f76_local2 or not f76_local2.subLayers or not f76_local2.subLayers[f76_local1] or not f0_local0( f76_arg1 ) then
		return 
	end
	f76_local2.subLayers[f76_local1]:CreateToastNotification( f76_local0 )
end

LUI.ToastManager.GetInstance = function ()
	local f75_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f75_local0 )
	local f75_local1 = f75_local0.toastManager
	assert( f75_local1 )
	return f75_local1
end

LUI.ToastManager.init = function ( f74_arg0, f74_arg1 )
	LUI.ToastManager.super.init( f74_arg0 )
	f74_arg0.id = "ToastNotificationManager"
	assert( f74_arg1.controllerIndex )
	f74_arg0._controllerIndex = f74_arg1.controllerIndex
	TOAST_NOTIF.InitDataSource( f74_arg0, f74_arg1.controllerIndex, LUI.ToastManager.ToastPositionModifier.None )
end

local f0_local9 = function ( f73_arg0, f73_arg1 )
	LUI.FlowManager.RequestPopupMenu( nil, "host_crosslaunching", true, f73_arg1.controllerIndex, false, {
		isPresenceJoin = false,
		XUID = f73_arg1.XUID
	} )
	return true
end

local f0_local10 = function ( f72_arg0, f72_arg1 )
	LUI.FlowManager.RequestPopupMenu( nil, "host_crosslaunching", true, f72_arg1.controllerIndex, false, {
		isPresenceJoin = true,
		XUID = f72_arg1.XUID
	} )
	return true
end

LUI.ToastManager.Feeds = {
	MobileSocialFeedback = 4,
	MobileSocialInformational = 5,
	General = 1,
	MobileSocialGlobal = 2,
	MobileSocialChat = 3
}
LUI.ToastManager.InitMobileToastContainer = function ( f69_arg0, self, f69_arg2 )
	self = LUI.UIElement.new()
	self.id = "MobileTopStackedList"
	f69_arg2( f69_arg0, self, LUI.ToastManager.Feeds.MobileSocialGlobal, "MobileSocialGlobalToastContainer", false, 820, 180, 180, true )
	self:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * self.notificationWidth / 2, 0, 0, 0 )
	f69_arg0:addElement( self )
	f69_arg0.subLayers[LUI.ToastManager.Feeds.MobileSocialGlobal] = self
	local f69_local0 = function ( f71_arg0, f71_arg1, f71_arg2, f71_arg3 )
		f71_arg1.id = f71_arg2
		f71_arg1.currentNotifications = 0
		f71_arg1.feedType = f71_arg3
		f71_arg1._controllerIndex = f71_arg0._controllerIndex
		f71_arg1.CreateToastNotification = f71_arg0.CreateToastNotification
	end
	
	self = MenuBuilder.BuildRegisteredType( "MobileGenericFeedbackNotification", {
		controllerIndex = f69_arg0._controllerIndex
	} )
	f69_local0( f69_arg0, self, "MobileTopFeedback", LUI.ToastManager.Feeds.MobileSocialFeedback )
	self:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -410, _1080p * 410, _1080p * -50, _1080p * 50 )
	f69_arg0:addElement( self )
	f69_arg0.subLayers[self.feedType] = self
	self = MenuBuilder.BuildRegisteredType( "MobileSocialInformationalToastNotification", {
		controllerIndex = f69_arg0._controllerIndex
	} )
	f69_local0( f69_arg0, self, "MobileTopInformational", LUI.ToastManager.Feeds.MobileSocialInformational )
	self.notificationDuration = 10000
	self:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -350, _1080p * 350, 0, _1080p * 75 )
	f69_arg0:addElement( self )
	f69_arg0.subLayers[self.feedType] = self
	if CONDITIONS.IsMobileSocialNotificationsEnabled() then
		self = MenuBuilder.BuildRegisteredType( "MobileSocialChatToastNotificationContainer", {
			controllerIndex = f69_arg0._controllerIndex
		} )
		f69_local0( f69_arg0, self, "MobileLeftChat", LUI.ToastManager.Feeds.MobileSocialChat )
		self.notificationDuration = 10000
		local f69_local1, f69_local2, f69_local3, f69_local4 = self:getLocalRect()
		local f69_local5 = f69_local3 - f69_local1
		local f69_local6 = f69_local4 - f69_local2
		local f69_local7 = _1080p * -270
		local f69_local8 = LUI.MobileSafeAreaPaddingFixed + LUI.MobileSocialBarLayer.DEFAULT_WIDTH
		self:SetAnchorsAndPosition( 0, 1, 1, 0, f69_local8, f69_local8 + f69_local5, f69_local7 - f69_local6 / 2, f69_local7 + f69_local6 / 2 )
		f69_arg0:addElement( self )
		f69_arg0.subLayers[self.feedType] = self
		self:registerEventHandler( "social_fly_in_popup_changed", function ( self, event )
			if event.newPopup == MobileFlyInPopupUtils.PopupsEnum.NONE then
				self:SetGraphics( {} )
			else
				self:HideNotification()
			end
		end )
	end
end

LUI.ToastManager.InitLayer = function ( f51_arg0 )
	f51_arg0.subLayers = {}
	local f51_local0 = 80
	local self = LUI.UIVerticalList.new()
	self.id = "RightVerticalList"
	local f51_local2 = function ( f68_arg0, f68_arg1, f68_arg2, f68_arg3, f68_arg4, f68_arg5, f68_arg6, f68_arg7, f68_arg8 )
		f68_arg1.notificationWidth = f68_arg5
		f68_arg1.notificationHeight = f68_arg6
		f68_arg1.notificationWithActionHeight = f68_arg7
		f68_arg1.resizeAnimationTime = 200
		local f68_local0
		if CONDITIONS.IsMobileOrMobileSim() or not CONDITIONS.InGame() then
			f68_local0 = 3
		else
			f68_local0 = 1
		end
		f68_arg1.maxNotifications = f68_local0
		f68_arg1.maxQueuedNotifications = 10
		f68_arg1.currentNotifications = 0
		f68_arg1.notificationQueue = {}
		f68_arg1.handleGamepadInputs = f68_arg4
		f68_arg1.primaryCallbackButton = TOAST_NOTIF.PrimaryCallbackButton.Gamepad
		f68_arg1.secondaryCallbackButton = TOAST_NOTIF.SecondaryCallbackButton.Gamepad
		f68_arg1.widget = f68_arg3
		f68_arg1.feedType = f68_arg2
		f68_arg1._controllerIndex = f68_arg0._controllerIndex
		f68_arg1.activeToast = nil
		f68_arg1.activeToastOptions = nil
		f68_arg1.insertElementsBeforeSiblings = f68_arg8
		f68_arg1.UpdateActiveToast = f68_arg0.UpdateActiveToast
		f68_arg1.ProcessNotifications = f68_arg0.ProcessNotifications
		f68_arg1.RemoveNotification = f68_arg0.RemoveNotification
		f68_arg1.RemoveQueuedNotificationsOfType = f68_arg0.RemoveQueuedNotificationsOfType
		f68_arg1.PushNotificationOptions = f68_arg0.PushNotificationOptions
		f68_arg1.CanDisplayNotification = f68_arg0.CanDisplayNotification
		f68_arg1.PullNotificationOptions = f68_arg0.PullNotificationOptions
		f68_arg1.IsInGameNotificationWithCallback = f68_arg0.IsInGameNotificationWithCallback
		f68_arg1.DisplayNewNotification = f68_arg0.DisplayNewNotification
		f68_arg1.HandleButtonPressed = f68_arg0.HandleButtonPressed
		f68_arg1.HandleButtonDirectAction = f68_arg0.HandleButtonDirectAction
		f68_arg1.HandleButtonHoldAction = f68_arg0.HandleButtonHoldAction
		f68_arg1.CreateToastNotification = f68_arg0.CreateToastNotification
		f68_arg1.AddToFeed = f68_arg0.AddToFeed
		f68_arg1.GetStackedToast = f68_arg0.GetStackedToast
		f68_arg1.UpdateStackedToast = f68_arg0.UpdateStackedToast
		f68_arg1.AssignCallbackToNotification = f68_arg0.AssignCallbackToNotification
	end
	
	f51_local2( f51_arg0, self, LUI.ToastManager.Feeds.General, "ToastHolder", true, 525, 98, 130, false )
	self:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -self.notificationWidth, 0, _1080p * f51_local0, 0 )
	f51_arg0:addElement( self )
	f51_arg0.subLayers[LUI.ToastManager.Feeds.General] = self
	if CONDITIONS.IsMobileOrMobileSim() and CONDITIONS.IsMobileToastsEnabled() then
		LUI.ToastManager.InitMobileToastContainer( f51_arg0, self, f51_local2 )
	end
	f51_arg0:registerEventHandler( "send_toast_notification", function ( element, event )
		if not CONDITIONS.IsMobileOrMobileSim() and not CONDITIONS.IsOldToastNotificationEnabled() then
			return 
		else
			LUI.ToastManager.CreateToast( event.options.controllerIndex or element._controllerIndex, LUI.ToastManager.StandardEmphasisToast( event.options and event.options.header or nil, event.options and event.options.description or nil ), nil, nil, event.options )
		end
	end )
	f51_arg0:registerEventHandler( NOTIFICATIONS.NotificationEvent, function ( element, event )
		if event.eventDetails.eventType ~= Enum[0xEB651463BEDC6B0][0xFF61D7D1F7B0D70] then
			return 
		end
		local f66_local0 = NOTIFICATIONS.BuildNotification( event.eventDetails, element._controllerIndex )
		if not f66_local0 then
			return 
		end
		local f66_local1 = LUI.ToastManager.StandardEmphasisToast( f66_local0.title or nil, f66_local0.body or nil, f66_local0.toastType, f66_local0.gameID, f66_local0.isInvitation, f66_local0.visualEffect, f66_local0.timelapse )
		local f66_local2 = {}
		local f66_local3 = event.eventDetails.clientNum or element._controllerIndex
		local f66_local4 = nil
		if f66_local0.toastActions and f66_local0.toastActions.primaryAction then
			f66_local4 = LUI.ToastManager.ToastAction( f66_local0.toastActions.primaryAction.actionName, f66_local0.toastActions.primaryAction.actionFunction )
			table.insert( f66_local2, f66_local0.toastActions.primaryAction.actionName )
		end
		local f66_local5 = nil
		if f66_local0.toastActions and f66_local0.toastActions.secondaryAction then
			f66_local5 = LUI.ToastManager.ToastAction( f66_local0.toastActions.secondaryAction.actionName, f66_local0.toastActions.secondaryAction.actionFunction )
			table.insert( f66_local2, f66_local0.toastActions.secondaryAction.actionName )
		end
		LUI.ToastManager.CreateToast( f66_local3, f66_local1, f66_local4, f66_local5, {
			titleUseRegularCase = f66_local0.titleUseRegularCase,
			stackingID = f66_local0.stackingID,
			displayTime = f66_local0.displayTime,
			disabled = f66_local0.disabled,
			dismissAction = f66_local0.dismissAction,
			psoPercentage = f66_local0.psoPercentage
		} )
		Notifications[0xB4A39403C48EB56]( Enum[0x9A5A38708E49978][0xCFADB18D3ECD12A], {
			event.eventDetails.handle
		} )
		METRICS.NotificationReceivedDLogEvent( element._controllerIndex, f66_local0.toastType, f66_local0.body, f66_local2 )
		return true
	end )
	for f51_local6, f51_local7 in ipairs( f51_arg0.subLayers ) do
		f51_local7:registerEventHandler( "gamepad_button", function ( element, event )
			if element.handleGamepadInputs then
				return element:HandleButtonPressed( event )
			else
				
			end
		end )
		f51_local7:registerEventHandler( "perform_hold_action", function ( element, event )
			if CONDITIONS.IsToastNotificationButtonDisabled() then
				return 
			else
				return element:HandleButtonHoldAction( event )
			end
		end )
		f51_local7:registerEventHandler( "perform_press_action", function ( element, event )
			if CONDITIONS.IsToastNotificationButtonDisabled() then
				return 
			else
				return element:HandleButtonDirectAction( event )
			end
		end )
		f51_local7:addEventHandler( "non_empty_menu_stack", function ( f62_arg0, f62_arg1 )
			if CONDITIONS.InGame() then
				local f62_local0 = f62_arg0.activeToastOptions
				if f62_local0 then
					f62_local0.ToOptionsPrompt = false
					if f62_arg0.toastHolder then
						f62_arg0.handleGamepadInputs = true
						f62_arg0.toastHolder:SetGraphics( f62_local0 )
						if f62_arg0.toastHolder._isNotificationWithCallbackOnScreen then
							f62_arg0.toastHolder.ToastNotification.PrimaryButton.Button:SetHandleMouse( true )
							f62_arg0.toastHolder.ToastNotification.SecondaryButton.Button:SetHandleMouse( true )
							f62_arg0.handleGamepadInputs = true
						end
						return 
					end
					f62_arg0:ProcessNotifications()
				end
			end
		end )
		f51_local7:addEventHandler( "empty_menu_stack", function ( f61_arg0, f61_arg1 )
			if CONDITIONS.InGame() then
				local f61_local0 = f61_arg0.activeToastOptions
				if f61_local0 and f61_arg0.toastHolder then
					if Engine[0x7B17D94988FD5D0]( "gpadEnabled", f61_arg0._controllerIndex ) then
						f61_arg0.toastHolder:HideNotification()
						f61_arg0.handleGamepadInputs = false
					else
						f61_arg0.toastHolder:SetGraphics( f61_local0 )
					end
				end
			end
		end )
		f51_local7:registerEventHandler( "kbm_notification_prompt_answer", function ( element, event )
			if CONDITIONS.IsToastNotificationButtonDisabled() then
				return 
			elseif LUI.IsLastInputKeyboardMouse( element._controllerIndex ) then
				local f60_local0 = element.activeToastOptions
				local f60_local1, f60_local2 = f51_arg0( f60_local0 )
				if f60_local0 then
					if event.isPrimaryAction and f60_local1 and f60_local1.callback then
						f60_local1.callback()
						element:RemoveNotification( element.activeToast )
					elseif not event.isPrimaryAction and f60_local2 and f60_local2.callback then
						f60_local2.callback()
						element:RemoveNotification( element.activeToast )
					end
				end
			end
		end )
	end
	f51_arg0:addEventHandler( "exchanged_item", function ( f59_arg0, f59_arg1 )
		if Engine[0x12586A3F4FB490E]() and not STORE.IsTitleID( f59_arg1.exchangeID ) and (not Dvar[0x9E5BE3B4BBA4E0E]( 0xC29778A0E93A1C9 ) or not CONDITIONS.IsMenuInStack( "MagmaUpsellFullScreenPopup" )) then
			local f59_local0 = StringTable[0x2DCF0973239E909]( CSV.dlcIDs.file, CSV.dlcIDs.cols.fpSkuID, f59_arg1.exchangeID, CSV.dlcIDs.cols.shouldShowPopup )
			if 0 < #f59_local0 and tonumber( f59_local0 ) == 1 and CONDITIONS.IsMenuInStack( "ItemExchangePopup" ) then
				local f59_local1 = LUI.FlowManager.GetScopedData( "ItemExchangePopup" )
				if not f59_local1.itemQueue then
					f59_local1.itemQueue = LUI.CreateQueue()
				end
			end
		end
	end )
	f51_arg0:addEventHandler( "exchanged_item_failed", function ( f58_arg0, f58_arg1 )
		if Engine[0x12586A3F4FB490E]() and f58_arg1.fromSignIn == false then
			LUI.FlowManager.RequestLeaveMenuByName( "ItemExchangeFencePopup" )
			LUI.FlowManager.RequestPopupMenu( nil, "ItemExchangeFailedPopup", false, f58_arg0._controllerIndex, false )
		end
	end )
	f51_arg0:addEventHandler( "ingamestore_purchased_product", function ( f57_arg0, f57_arg1 )
		assert( f57_arg1.transactionResult )
		if Engine[0x12586A3F4FB490E]() and f57_arg1.transactionResult == STORE.TransactionResult.TRANSACTION_CANCELLED then
			LUI.FlowManager.RequestLeaveMenuByName( "ItemExchangeFencePopup" )
		end
	end )
	f51_arg0:registerEventHandler( "cross_launch_accept_invite", f0_local0 )
	f51_arg0:registerEventHandler( "cross_launch_presence_join", f0_local0 )
	f51_arg0:addEventHandler( "stream_http_version_change", function ( f56_arg0, f56_arg1 )
		if Engine[0x12586A3F4FB490E]() and not Dvar[0x9E5BE3B4BBA4E0E]( 0x52210C273E4FAE0 ) and not Dvar[0x9E5BE3B4BBA4E0E]( 0xBFBFAED5462E0EC ) then
			LUI.FlowManager.RequestPopupMenu( nil, "TextureDownloadCacheVersionChange", false, f56_arg0._controllerIndex, false )
		end
	end )
	f51_arg0:addEventHandler( "stream_http_alloc_error", function ( f55_arg0, f55_arg1 )
		if Engine[0x12586A3F4FB490E]() then
			LUI.FlowManager.RequestPopupMenu( nil, "TextureDownloadCacheAllocError", false, f55_arg0._controllerIndex, false )
		end
	end )
	f51_arg0:registerEventHandler( "clans_notification", function ( element, event )
		local f54_local0 = event.options
		if f54_local0.success then
			if f54_local0.genEventName == "clans_promoted_to_owner" or f54_local0.genEventName == "clans_promoted_to_officer" or f54_local0.genEventName == "clans_demoted_to_member" or f54_local0.genEventName == "clans_demoted_to_officer" or f54_local0.genEventName == "clans_kicked_from_clan" then
				FRIENDS.RegimentRoleChangedToast( element, f54_local0.genEventName, f54_local0.clanName )
			else
				local f54_local1 = {
					description = nil,
					icon = "hud_info_alert",
					displayTime = 3000,
					header = Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 )
				}
				if f54_local1.description ~= "" then
					toastLayer:processEvent( {
						name = "send_toast_notification",
						immediate = true,
						options = f54_local1
					} )
				end
			end
		end
	end )
	PARTY.AddPartyEventHandlers( f51_arg0, {
		[PARTY.PartyEvents.SOCIAL_PARTY_JOIN] = function ( f53_arg0, f53_arg1 )
			if not f53_arg1.success then
				LUI.FlowManager.RequestErrorPopup( f53_arg0._controllerIndex, Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ), PARTY.GetPartyErrorMessage( f53_arg1.error ) )
			end
		end,
		[PARTY.PartyEvents.PARTY_VOICE_SERVICE_DISCONNECT] = function ( f52_arg0, f52_arg1 )
			local f52_local0
			if f52_arg0 then
				f52_local0 = f52_arg0._controllerIndex
				if not f52_local0 then
				
				else
					if f52_arg1 and CHANNELS.IsMyVoiceParty( f52_local0, f52_arg1.partyId ) then
						LUI.ToastManager.CreateToast( f52_local0, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ), Engine[0xED84C33EC5F01EA]( 0x3E313D6DAE8D126 ), LUI.ToastManager.ToastNotificationType.Channels, nil, false, LUI.ToastManager.ToastVisualEffect.Warning ) )
					end
				end
			end
			f52_local0 = f52_arg1.controllerIndex
		end
	} )
end

LUI.ToastManager.CloseLists = function ( f50_arg0 )
	if f50_arg0.subLayers then
		for f50_local3, f50_local4 in ipairs( f50_arg0.subLayers ) do
			f50_local4:closeTree()
		end
		f50_arg0.subLayers = nil
	end
end

LUI.ToastManager.ClearLayer = function ( f49_arg0 )
	f49_arg0:CloseLists()
	f49_arg0:closeChildren()
end

LUI.ToastManager.GetLayer = function ()
	local f48_local0 = Engine[0xEE6F69FEA944B13]()
	return f48_local0.toastManager
end

LUI.ToastManager.CloseMobileSocialGlobalToast = function ( f47_arg0 )
	local f47_local0 = f47_arg0.subLayers
	if f47_local0 then
		local f47_local1 = f47_local0[LUI.ToastManager.Feeds.MobileSocialGlobal]
		local f47_local2 = f47_local1:getFirstChild()
		f47_local1:RemoveQueuedNotificationsOfType( nil )
		if f47_local2 then
			
		else
			
		end
	end
end

LUI.ToastManager.CloseToastOfType = function ( f46_arg0, f46_arg1 )
	f46_arg0:RemoveQueuedNotificationsOfType( f46_arg1 )
	if f46_arg0.subLayers then
		for f46_local3, f46_local4 in ipairs( f46_arg0.subLayers ) do
			if f46_local4:getFirstChild() then
				
			end
		end
	end
end

LUI.ToastManager.AdjustContainerPosition = function ( f45_arg0, f45_arg1, f45_arg2 )
	if not f45_arg0 then
		return 
	elseif f45_arg0.subLayers[f45_arg1] then
		local f45_local0 = f45_arg0.subLayers[f45_arg1]
		local f45_local1 = f45_local0.notificationHeight / 2
		local f45_local2 = f45_arg2.bottom - math.abs( f45_arg2.top - f45_arg2.bottom ) / 2
		f45_local0:SetAnchorsAndPosition( 0, 1, f45_arg2.topAnchor, f45_arg2.bottomAnchor, LUI.MobileSocialBarLayer.DEFAULT_WIDTH / 2 - _1080p * f45_local0.notificationWidth, LUI.MobileSocialBarLayer.DEFAULT_WIDTH / 2, f45_local2 - f45_local1, f45_local2 + f45_local1 )
	end
end

LUI.ToastManager.ProcessInputEvent = function ( f44_arg0, f44_arg1 )
	local f44_local0 = false
	if f44_arg0.subLayers then
		for f44_local4, f44_local5 in ipairs( f44_arg0.subLayers ) do
			local f44_local6 = f44_local5.m_eventHandlers[f44_arg1.name]
			if f44_local6 and not f44_local0 then
				f44_local0 = f44_local6( f44_local5, f44_arg1 )
			end
		end
	end
	if not f44_local0 then
		local f44_local1 = f44_arg0.m_eventHandlers[f44_arg1.name]
		if f44_local1 and not f44_local0 then
			f44_local0 = f44_local1( f44_arg0, f44_arg1 )
		end
	end
	if f44_arg1.name == "mousemove" or f44_arg1.name == "mousedown" or f44_arg1.name == "mouseup" then
		return false
	else
		return f44_local0
	end
end

LUI.ToastManager.processEvent = function ( f43_arg0, f43_arg1 )
	if not f43_arg1.name == "non_empty_menu_stack" and not f43_arg0.activeToastOptions and not f43_arg0.activeToastOptions.primaryAction then
		return 
	elseif IsInputEvent( f43_arg1.name ) then
		return f43_arg0:ProcessInputEvent( f43_arg1 )
	else
		return LUI.ToastManager.super.processEvent( f43_arg0, f43_arg1 )
	end
end

LUI.ToastManager.ShouldBeVisible = function ( f42_arg0 )
	return true
end

LUI.ToastManager.CreateToastNotification = function ( f41_arg0, f41_arg1 )
	assert( f41_arg1 )
	local f41_local0 = f41_arg1.genEventName
	if not f41_local0 then
		f41_local0 = f41_arg1.pcEventName or f41_arg1.dwEventName
	end
	f41_arg1.eventName = f41_local0
	f41_arg1.controllerIndex = f41_arg1.controllerIndex or f41_arg0._controllerIndex
	if Engine[0x7B17D94988FD5D0]( "displayInviteNotification", f41_arg1.controllerIndex ) == 0 and f41_arg1.eventName and TOAST_NOTIF.IsInviteNotifications( f41_arg1.eventName ) then
		return 
	elseif f41_arg1.eventName and TOAST_NOTIF.GetToastPresetData( f41_arg1.eventName ) then
		local f41_local1 = TOAST_NOTIF.GetToastPresetData( f41_arg1.eventName )
		f41_local1( f41_arg1 )
	end
	if f41_arg1.disabled and f41_arg1.disabled() then
		return 
	elseif f41_arg0.GetStackedToast and f41_arg0.UpdateStackedToast then
		local f41_local1 = f41_arg0:GetStackedToast( f41_arg1.stackingID, f41_arg1.displayData.type )
		if f41_local1 then
			f41_arg0:UpdateStackedToast( f41_local1, f41_arg1 )
			return true
		end
	end
	if f41_arg0.notificationQueue and f41_arg0.maxQueuedNotifications and f41_arg0.maxQueuedNotifications < #f41_arg0.notificationQueue then
		return 
	end
	local f41_local1 = CONDITIONS.InGame()
	if f41_arg0.feedType == LUI.ToastManager.Feeds.MobileSocialFeedback then
		LUI.ToastManager.HandleMobileSocialFeedbackNotification( f41_arg1.displayData, f41_arg0 )
		return true
	elseif f41_arg0.feedType == LUI.ToastManager.Feeds.MobileSocialInformational then
		if not f41_local1 then
			LUI.ToastManager.HandleMobileSocialInformationalNotification( f41_arg1.displayData, f41_arg0 )
		end
		return true
	elseif CONDITIONS.IsMobileSocialNotificationsEnabled() and f41_arg0.feedType == LUI.ToastManager.Feeds.MobileSocialChat then
		LUI.ToastManager.HandleMobileSocialChatNotification( f41_arg1, f41_arg0 )
		return true
	end
	local f41_local2 = CONDITIONS.IsMobileOrMobileSim()
	local f41_local3 = f41_arg1.eventName == "dwPlayerInvite"
	local f41_local4
	if f41_local3 then
		f41_local4 = f41_local3
	else
		f41_local4 = not SOCIAL.IsPlayerMuted( f41_arg1.senderName )
	end
	if not f41_local2 or not f41_local1 or f41_local4 then
		if f41_local2 and MobileFlyInPopupUtils.IsRequestsPanelFlyInPopup() then
			return 
		end
		f41_arg0:PushNotificationOptions( f41_arg1 )
		f41_arg0:ProcessNotifications()
	end
	return true
end

LUI.ToastManager.RemoveQueuedNotificationsOfType = function ( f40_arg0, f40_arg1 )
	if not f40_arg0.notificationQueue then
		return 
	end
	local f40_local0 = #f40_arg0.notificationQueue
	if f40_local0 <= 0 or f40_arg1 and f40_arg1 == LUI.ToastManager.ToastNotificationType.None then
		return 
	end
	for f40_local1 = 1, f40_local0, 1 do
		if not f40_arg1 or f40_arg0.notificationQueue[f40_local1].type == f40_arg1 then
			f40_arg0.notificationQueue[f40_local1] = nil
		end
	end
	local f40_local1 = 0
	for f40_local2 = 1, f40_local0, 1 do
		if f40_arg0.notificationQueue[f40_local2] ~= nil then
			f40_arg0.notificationQueue[f40_local1 + 1] = f40_arg0.notificationQueue[f40_local2]
		end
	end
	for f40_local2 = f40_local1 + 1, f40_local0, 1 do
		f40_arg0.notificationQueue[f40_local2] = nil
	end
end

LUI.ToastManager.ProcessNotifications = function ( f39_arg0 )
	if not f39_arg0:CanDisplayNotification() then
		return 
	end
	local f39_local0 = f39_arg0:PullNotificationOptions()
	if f39_local0 then
		f39_arg0.currentNotifications = f39_arg0.currentNotifications + 1
		f39_arg0:DisplayNewNotification( f39_local0 )
		f39_arg0:ProcessNotifications()
		if CONDITIONS.IsMobileOrMobileSim() then
			LUI.ToastManager.ManageMobileSocialInformationalNotificationAnimation()
		end
	end
end

LUI.ToastManager.HavePrimaryActionOnScreen = function ()
	local f38_local0 = LUI.ToastManager.GetActiveFeed()
	local f38_local1
	if f38_local0 and f38_local0.activeToastOptions and f38_local0.activeToastOptions.primaryAction then
		f38_local1 = true
	else
		f38_local1 = false
	end
	return f38_local1
end

LUI.ToastManager.HavePauseCallbackOnScreen = function ()
	local f37_local0 = LUI.ToastManager.HavePrimaryActionOnScreen()
	if f37_local0 then
		f37_local0 = TOAST_NOTIF.PrimaryCallbackButton.Gamepad == "button_start"
	end
	return f37_local0
end

LUI.ToastManager.ActivatePauseCallback = function ( f36_arg0 )
	local f36_local0 = LUI.ToastManager.GetActiveFeed()
	local f36_local1
	if f36_local0 then
		f36_local1 = f36_local0
	else
		f36_local1 = f36_local0.activeToastOptions
		if f36_local1 then
			f36_local1 = f36_local0.activeToastOptions.primaryAction
		end
	end
	if f36_local1 and f36_local1.callback then
		f36_local1.callback()
		f36_local0:RemoveNotification( f36_local0.activeToast )
		return true
	else
		return false
	end
end

LUI.ToastManager.DismissToastsOnScreen = function ( f35_arg0 )
	local f35_local0 = LUI.ToastManager.GetActiveFeed()
	local f35_local1
	if f35_local0 then
		f35_local1 = f35_local0
	else
		f35_local1 = f35_local0:getFirstChild()
	end
	if f35_local1 then
		
	else
		
	end
end

LUI.ToastManager.UpdateActiveToast = function ( f34_arg0, f34_arg1, f34_arg2 )
	local f34_local0
	if not f34_arg0 then
		f34_local0 = f34_arg0
	else
		f34_local0 = LUI.ToastManager.GetActiveFeed()
	end
	if not f34_local0 then
		return 
	elseif f34_arg1 then
		f34_local0.activeToast = f34_arg1
		f34_local0.activeToastOptions = f34_arg1.options
	elseif f34_local0.activeToast == nil or f34_arg2 or CONDITIONS.IsMobileOrMobileSim() then
		local f34_local1
		if f34_local0.insertElementsBeforeSiblings then
			f34_local1 = f34_local0:getLastChild()
			if not f34_local1 then
			
			else
				if not f34_local1 then
					LUI.ToastManager.ResetActiveToast( f34_local0 )
					return 
				elseif f34_local1 and (not f34_local1.options or f34_local1.options and not f34_local1.options.primaryAction) then
					
				else
					
				end
				if f34_local1 and f34_local1.options and f34_local1.options.primaryAction then
					if CONDITIONS.IsMobileOrMobileSim() and f34_local0.activeToast ~= f34_local1 then
						local f34_local2 = f34_local1.options.displayTime
						LUI.ToastManager.StartNewNotificationTimer( f34_local1, f34_local2 )
						f34_local1.ToastNotification:StartProgressBar( f34_local2 )
					end
					f34_local0.activeToast = f34_local1
					local f34_local2
					if f34_local1 then
						f34_local2 = f34_local1
					else
						f34_local2 = f34_local1.options
					end
					f34_local0.activeToastOptions = f34_local2
				else
					LUI.ToastManager.ResetActiveToast( f34_local0 )
				end
			end
		end
		f34_local1 = f34_local0:getFirstChild()
	end
	DataSources.alwaysLoaded.toastNotifications.activeToastState:SetValue( nil, not DataModel[0x614D394F6F9A18D]( DataSources.alwaysLoaded.toastNotifications.activeToastState:GetModel() ) )
end

LUI.ToastManager.ResetActiveToast = function ( f33_arg0 )
	local f33_local0
	if not f33_arg0 then
		f33_local0 = f33_arg0
	else
		f33_local0 = LUI.ToastManager.GetActiveFeed()
	end
	if not f33_local0 then
		return 
	else
		f33_local0.activeToast = nil
		f33_local0.activeToastOptions = nil
	end
end

LUI.ToastManager.GetActiveToast = function ( f32_arg0 )
	local f32_local0
	if not f32_arg0 then
		f32_local0 = f32_arg0
	else
		f32_local0 = LUI.ToastManager.GetActiveFeed()
	end
	if not f32_local0 then
		return 
	else
		return f32_local0.activeToast
	end
end

LUI.ToastManager.GetActiveFeed = function ()
	local f31_local0 = LUI.ToastManager.GetInstance()
	return f31_local0.subLayers[LUI.ToastManager.Feeds.General]
end

LUI.ToastManager.CanDisplayNotification = function ( f30_arg0 )
	if #f30_arg0.notificationQueue <= 0 then
		return false
	end
	local f30_local0 = f30_arg0.maxNotifications <= f30_arg0.currentNotifications
	if CONDITIONS.IsMobileOrMobileSim() then
		local f30_local1 = f30_arg0:getFirstChild()
		if f30_local1 and f30_local1.options.mobilePriority <= f30_arg0.notificationQueue[1].mobilePriority and f30_local0 then
			return false
		end
	end
	if not CONDITIONS.IsMobileOrMobileSim() and f30_local0 then
		return false
	elseif f30_arg0.pauseNotifications then
		return false
	end
	return true
end

LUI.ToastManager.PullNotificationOptions = function ( f29_arg0 )
	local f29_local0 = 1
	local f29_local1 = #f29_arg0.notificationQueue
	f29_local0 = f29_local0 + 1
	if f29_local0 >?= f29_local1 then
		
	else
		return table.remove( f29_arg0.notificationQueue, f29_local0 )
	end
end

LUI.ToastManager.PushNotificationOptions = function ( f28_arg0, f28_arg1 )
	if CONDITIONS.IsMobileOrMobileSim() then
		for f28_local3, f28_local4 in ipairs( f28_arg0.notificationQueue ) do
			if f28_arg1.mobilePriority < f28_local4.mobilePriority then
				return table.insert( f28_arg0.notificationQueue, f28_local3, f28_arg1 )
			end
		end
	end
	return table.insert( f28_arg0.notificationQueue, f28_arg1 )
end

LUI.ToastManager.AddToFeed = function ( f27_arg0, f27_arg1 )
	assert( f27_arg0 )
	local f27_local0 = f27_arg0:getFirstChild()
	local f27_local1 = nil
	if not f27_local0 then
		f27_arg0:addElement( f27_arg1 )
		return 
	elseif CONDITIONS.IsMobileOrMobileSim() then
		local f27_local2 = f27_arg0:getLastChild()
		local f27_local3 = f27_local2:getPreviousSibling()
		if f27_local3 and f27_local3.options.mobilePriority <= f27_arg1.options.mobilePriority then
			
		else
			
		end
		if f27_local3 then
			f27_arg1:addElementAfter( f27_local3 )
			if f27_arg0.maxNotifications < f27_arg0.currentNotifications then
				local f27_local4 = f27_arg0:getFirstChild()
				f27_arg0:PushNotificationOptions( f27_local4.options )
				f27_arg0:RemoveNotification( f27_local4 )
			end
		else
			f27_arg1:addElementBefore( f27_local2 )
		end
		return 
	elseif f27_local0 then
		
	else
		
	end
	f27_arg1:addElementAfter( f27_local1 )
end

LUI.ToastManager.ToastOfTypeIsOnScreen = function ( f26_arg0 )
	local f26_local0 = LUI.ToastManager.GetActiveFeed()
	assert( f26_local0 )
	if f26_local0:getFirstChild() then
		
	else
		
	end
	return false
end

LUI.ToastManager.GetStackedToast = function ( f25_arg0, f25_arg1, f25_arg2 )
	assert( f25_arg0 )
	if LUI.StringIsNilOrEmpty( f25_arg1 ) or not f25_arg2 or not TOAST_NOTIF.GetToastStackableState( f25_arg2 ) then
		return 
	elseif f25_arg0:getFirstChild() then
		
	else
		
	end
end

LUI.ToastManager.UpdateStackedToast = function ( f23_arg0, f23_arg1, f23_arg2 )
	assert( f23_arg1 )
	if not f23_arg2 then
		
	else
		
	end
	if not TOAST_NOTIF.UseStackingForUpdateOnly[f23_arg2.displayData.type] then
		f23_arg2.displayData.stackAmount = f23_arg1.options.displayData.stackAmount and f23_arg1.options.displayData.stackAmount + 1 or 1
		f23_arg1.onNotificationTimer = f23_arg1:Wait( f23_arg2.displayTime, true )
		f23_arg1.onNotificationTimer.onComplete = function ()
			f23_arg0:TryRemoveToast( false )
		end
		
	end
	f23_arg2.displayData.psoPercentage = f23_arg2.psoPercentage and f23_arg2.psoPercentage or ""
	f23_arg1.options = f23_arg2
	f23_arg1:SetData( f23_arg2 )
	f23_arg1:SetGraphics( f23_arg2 )
end

LUI.ToastManager.HandleButtonDirectAction = function ( f22_arg0, f22_arg1 )
	if not LUI.IsLastInputGamepad( f22_arg0._controllerIndex ) or not f22_arg0.activeToast then
		return false
	else
		local f22_local0 = f22_arg1.button
		local f22_local1, f22_local2 = f0_local0( f22_arg0.activeToastOptions )
		if f22_local0 == f22_arg0.primaryCallbackButton and f22_local1 and f22_local1.callback and not f22_local1.useHoldButton then
			f22_local1.callback()
			f22_arg0:RemoveNotification( f22_arg0.activeToast )
			return true
		elseif f22_local0 == f22_arg0.secondaryCallbackButton and f22_local2 and f22_local2.callback and not f22_local2.useHoldButton then
			f22_local2.callback()
			f22_arg0:RemoveNotification( f22_arg0.activeToast )
			return true
		else
			return false
		end
	end
end

LUI.ToastManager.HandleButtonHoldAction = function ( f21_arg0, f21_arg1 )
	if not LUI.IsLastInputGamepad( f21_arg0._controllerIndex ) or not f21_arg0.activeToast then
		return false
	else
		local f21_local0 = f21_arg1.button
		local f21_local1, f21_local2 = f0_local0( f21_arg0.activeToastOptions )
		if f21_local0 == f21_arg0.primaryCallbackButton and f21_local1 and f21_local1.callback and f21_local1.useHoldButton then
			f21_local1.callback()
			f21_arg0:RemoveNotification( f21_arg0.activeToast )
			return true
		elseif f21_local0 == f21_arg0.secondaryCallbackButton and f21_local2 and f21_local2.callback and f21_local2.useHoldButton then
			f21_local2.callback()
			f21_arg0:RemoveNotification( f21_arg0.activeToast )
			return true
		else
			return false
		end
	end
end

LUI.ToastManager.HandleButtonPressed = function ( f20_arg0, f20_arg1 )
	if not LUI.IsLastInputGamepad( f20_arg0._controllerIndex ) or not f20_arg0.activeToast then
		return false
	end
	local f20_local0 = "button_" .. f20_arg1.button
	local f20_local1, f20_local2 = f0_local0( f20_arg0.activeToastOptions )
	local f20_local3
	if f20_local0 == f20_arg0.primaryCallbackButton then
		if f20_local1 then
			f20_local3 = f20_local1
		else
			f20_local3 = f20_local1.callback
		end
	else
		f20_local3 = false
	end
	local f20_local4
	if f20_local0 == f20_arg0.secondaryCallbackButton then
		if f20_local2 then
			f20_local4 = f20_local2
		else
			f20_local4 = f20_local2.callback
		end
	else
		f20_local4 = false
	end
	if f20_local3 then
		f20_arg0.activeToast.ToastNotification.PrimaryButton:HandleHold( f20_local0, f20_arg1.down )
	end
	if f20_local4 then
		f20_arg0.activeToast.ToastNotification.SecondaryButton:HandleHold( f20_local0, f20_arg1.down )
	end
	return false
end

LUI.ToastManager.AssignCallbackToNotification = function ( f16_arg0, f16_arg1, f16_arg2, f16_arg3 )
	if not LUI.IsLastInputGamepad( f16_arg0._controllerIndex ) then
		local f16_local0
		if f16_arg3 then
			f16_local0 = f16_arg2.ToastNotification.PrimaryButton.Button
			if not f16_local0 then
			
			else
				local f16_local1 = function ( f19_arg0 )
					local f19_local0, f19_local1 = f16_arg0( f19_arg0.activeToastOptions )
					local f19_local2
					if f16_arg0 and f19_local0 then
						f19_local2 = f19_local0.callback
						if not f19_local2 then
							if f19_local1 then
								f19_local2 = f19_local1
							else
								f19_local2 = f19_local1.callback
							end
						end
					elseif f19_local1 then
						f19_local2 = f19_local1
					else
						f19_local2 = f19_local1.callback
					end
					if f16_arg0 and f19_local2 then
						f19_local2( f19_arg0 )
						f19_arg0:RemoveNotification( f16_arg0 )
						return true
					else
						return false
					end
				end
				
				if f16_local0 then
					f16_local0:registerEventHandler( "button_action", function ( element, event )
						if CONDITIONS.IsToastNotificationButtonDisabled() then
							return 
						else
							f16_arg0( f16_arg0 )
						end
					end )
				end
				if CONDITIONS.IsMobileSocialNotificationsEnabled() then
					f16_arg2.ToastNotification:registerEventHandler( "button_action", function ( element, event )
						if CONDITIONS.IsToastNotificationButtonDisabled() then
							return 
						else
							f16_arg0( f16_arg0 )
						end
					end )
				end
			end
		end
		f16_local0 = f16_arg2.ToastNotification.SecondaryButton.Button
	end
	f16_arg1.button = CoD.GetButtonForCurrentInput( f16_arg0._controllerIndex, f16_arg0.primaryCallbackButton )
end

LUI.ToastManager.RemoveNotification = function ( f13_arg0, f13_arg1 )
	if not f13_arg1 then
		
	else
		
	end
	f13_arg1._markForRemoval = true
	if f13_arg1 == f13_arg0.toastHolder then
		if not f13_arg0.useHoldButton and f13_arg1.ToastNotification.PrimaryButton.Button then
			f13_arg1.ToastNotification.PrimaryButton.Button:processEvent( {
				name = "button_up"
			} )
		end
		if f13_arg1.ToastNotification.PrimaryButton.Button then
			f13_arg1.ToastNotification.PrimaryButton.Button:SetHandleMouse( false )
		end
		if f13_arg1.ToastNotification.SecondaryButton.Button then
			f13_arg1.ToastNotification.SecondaryButton.Button:SetHandleMouse( false )
		end
		if f13_arg1.ToastNotification.ToastOverArea then
			f13_arg1.ToastNotification.ToastOverArea:SetHandleMouse( false )
		end
		f13_arg1._isNotificationWithCallbackOnScreen = false
	end
	if f13_arg0.feedType == LUI.ToastManager.Feeds.MobileSocialGlobal then
		local f13_local0 = f13_arg0:getLastChild()
		local f13_local1 = {}
		if f13_local0 then
			
		else
			
		end
		f13_arg1:PlayOutAnimation( f13_local1 )
	else
		f13_arg1:HideNotification()
	end
	local f13_local0 = f13_arg1:Wait( 300 )
	f13_local0.onComplete = function ()
		local f14_local0 = f13_arg0:SetTop( 0, f13_arg0.resizeAnimationTime, LUI.EASING.outQuadratic )
		local f14_local1 = f13_arg0:SetBottom( 0, f13_arg0.resizeAnimationTime, LUI.EASING.outQuadratic )
		f14_local1.onComplete = function ()
			ACTIONS.AnimateSequence( f14_local0.Container, "Reset" )
			if f14_local0 == f14_local0.toastHolder then
				f14_local0.toastHolder = nil
			end
			local f15_local0 = f14_local0:getParent()
			f15_local0:RemoveElement( f14_local0 )
			f14_local0.ToastNotification:closeTree()
			if f14_local0.options and f14_local0.options.dismissAction then
				f14_local0.options.dismissAction()
			end
			f14_local0.options.ToOptionsPrompt = false
			f14_local0:UpdateActiveToast( nil, f14_local0 == LUI.ToastManager.GetActiveToast() )
			local f15_local1 = f14_local0
			local f15_local2
			if 0 < f14_local0.currentNotifications then
				f15_local2 = f14_local0.currentNotifications - 1
				if not f15_local2 then
				
				else
					f15_local1.currentNotifications = f15_local2
					f14_local0:ProcessNotifications()
					if CONDITIONS.IsMobileOrMobileSim() then
						LUI.ToastManager.ManageMobileSocialInformationalNotificationAnimation()
					end
				end
			end
			f15_local2 = 0
		end
		
	end
	
end

LUI.ToastManager.StartNewNotificationTimer = function ( f11_arg0, f11_arg1 )
	if f11_arg0._markForRemoval then
		
	else
		
	end
	f11_arg0._displayTime = f11_arg1
	f11_arg0.onNotificationTimer = f11_arg0:Wait( f11_arg1, true )
	f11_arg0.onNotificationTimer.onComplete = function ()
		f11_arg0:TryRemoveToast( false )
	end
	
end

LUI.ToastManager.DisplayNewNotification = function ( f2_arg0, f2_arg1 )
	assert( f2_arg1 )
	assert( f2_arg0.widget )
	local f2_local0 = MenuBuilder.BuildRegisteredType( f2_arg0.widget, {
		controllerIndex = f2_arg1.controllerIndex
	} )
	f2_local0:SetData( f2_arg1 )
	f2_local0:SetAlpha( 0 )
	f2_local0.ToastNotification = f2_local0.Container.ToastNotification
	f2_local0.ToastNotification._toastHolder = f2_local0
	f2_local0.options = f2_arg1
	f2_local0.manager = f2_arg0
	f2_arg0.toastHolder = f2_local0
	if f2_arg0.feedType == LUI.ToastManager.Feeds.MobileSocialChat then
		f2_local0:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * f2_arg0.notificationWidth, 0, 0, 0 )
	else
		f2_local0:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * -f2_arg0.notificationWidth, 0, 0 )
	end
	f2_arg0:AddToFeed( f2_local0 )
	f2_arg0:UpdateActiveToast()
	if f2_arg0.feedType == LUI.ToastManager.Feeds.MobileSocialGlobal then
		local f2_local1 = f2_arg0:getLastChild()
		local f2_local2 = 1
		if f2_local1 then
			
		else
			
		end
	end
	local f2_local1 = function ( f10_arg0, f10_arg1, f10_arg2, f10_arg3 )
		local f10_local0 = LUI.IsLastInputKeyboardMouse( f10_arg2.controllerIndex )
		if f10_arg2.primaryAction then
			assert( type( f10_arg2.primaryAction.callback ) == "function" )
			if not f10_arg2.primaryAction.useHoldButton or f10_local0 then
				local f10_local1 = f10_arg0.ToastNotification.PrimaryButton.Button
				if f10_arg0._isNotificationWithCallbackOnScreen then
					f10_local1:SetHandleMouse( true )
				end
				if f10_arg3 then
					if f10_local0 and f10_local1.m_mouseOver then
						f10_local1:processEvent( {
							name = "button_over"
						} )
					else
						f10_local1:processEvent( {
							name = "button_up"
						} )
					end
				end
				f10_arg1:AssignCallbackToNotification( f10_arg2, f10_arg0, true )
			end
		end
		if f10_arg2.secondaryAction then
			assert( type( f10_arg2.secondaryAction.callback ) == "function" )
			if not f10_arg2.secondaryAction.useHoldButton or f10_local0 then
				local f10_local1 = f10_arg0.ToastNotification.SecondaryButton.Button
				if f10_arg0._isNotificationWithCallbackOnScreen then
					f10_local1:SetHandleMouse( true )
				end
				if f10_arg3 then
					if f10_local0 and f10_local1.m_mouseOver then
						f10_local1:processEvent( {
							name = "button_over"
						} )
					else
						f10_local1:processEvent( {
							name = "button_up"
						} )
					end
				end
				f10_arg1:AssignCallbackToNotification( f10_arg2, f10_arg0, false )
			end
		end
	end
	
	f2_local0:SubscribeToInputTypeModel( f2_arg1.controllerIndex, function ( f9_arg0, f9_arg1 )
		f9_arg1.Container:SetGraphics( f9_arg1.options )
		f2_arg0( f9_arg1, f9_arg1.manager, f9_arg1.options, true )
	end )
	f2_local0:addAndCallEventHandler( "update_active_toast", function ( f8_arg0, f8_arg1 )
		f8_arg0.Container:SetGraphics( f8_arg0.options )
	end )
	local f2_local2 = f2_local0:SetTop( 0, f2_arg0.resizeAnimationTime, LUI.EASING.outQuadratic )
	local f2_local3 = f2_local0:SetBottom( _1080p * f2_arg0.notificationHeight, f2_arg0.resizeAnimationTime, LUI.EASING.outQuadratic )
	f2_local3.onComplete = function ()
		f2_arg0:SetAlpha( 1 )
		f2_arg0._isNotificationWithCallbackOnScreen = f2_arg0.primaryAction ~= nil
		f2_arg0._toastOnScreen = true
		f2_arg0:PlayInAnimation()
	end
	
	f2_local0.RemoveToastHelper = function ( f6_arg0, f6_arg1 )
		f2_arg0:RemoveNotification( f6_arg0 )
		f6_arg1.ToOptionsPrompt = false
		f6_arg1.displayTime = f2_arg0
	end
	
	f2_local0.TryRemoveToast = function ( f3_arg0 )
		if f2_arg0 and not f2_arg0._markForRemoval then
			local f3_local0 = f2_arg0.options.primaryAction
			local f3_local1 = f2_arg0.options.secondaryAction
			local f3_local2 = f2_arg0.ToastNotification.PrimaryButton.HoldButton
			local f3_local3 = f2_arg0.ToastNotification.SecondaryButton.HoldButton
			local f3_local4
			if not f3_local0 or not primaryActionuseHoldButton or not f3_local2 or 0 >= f3_local2.GenericProgressBar:GetProgress() then
				if f3_local1 then
					f3_local4 = f3_local1
				else
					f3_local4 = f3_local1.useHoldButton
					if f3_local4 then
						if f3_local3 then
							f3_local4 = f3_local3
						elseif 0 >= f3_local3.GenericProgressBar:GetProgress() then
							f3_local4 = false
						else
							f3_local4 = true
						end
					end
				end
			else
				f3_local4 = true
			end
			if f3_local4 then
				local f3_local5 = f2_arg0.ToastNotification:Wait( 100, true )
				f3_local5.onComplete = function ()
					f3_arg0:TryRemoveToast( true )
				end
				
			elseif f3_arg0 then
				local f3_local5 = f2_arg0.ToastNotification:Wait( 3000, true )
				f3_local5.onComplete = function ()
					if f3_arg0 then
						TryRemoveToast( true )
					else
						f3_arg0:RemoveToastHelper( f3_arg0, f3_arg0.options )
					end
				end
				
			else
				f2_arg0:RemoveToastHelper( f2_arg0, f2_arg0.options )
			end
		end
	end
	
	if not CONDITIONS.IsMobileOrMobileSim() then
		LUI.ToastManager.StartNewNotificationTimer( f2_local0, f2_arg1.displayTime )
	end
end

LUI.ToastManager.ClearSocialMobileNotifications = function ( f1_arg0 )
	local f1_local0
	if f1_arg0 then
		f1_local0 = f1_arg0
	else
		f1_local0 = f1_arg0.subLayers[LUI.ToastManager.Feeds.MobileSocialChat]
	end
	if f1_local0 then
		f1_local0.currentNotifications = 0
		f1_local0.notificationQueue = {}
		f1_local0.activeToast = nil
		LUI.ToastManager.ManageMobileSocialInformationalNotificationAnimation()
	end
end

