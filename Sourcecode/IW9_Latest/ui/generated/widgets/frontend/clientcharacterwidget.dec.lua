-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
module( ..., package.seeall )
local f0_local0 = 100
local f0_local1 = function ( f35_arg0, f35_arg1 )
	local detailWidget = MenuBuilder.BuildRegisteredType( "LobbyCharacterDetails", {
		controllerIndex = f35_arg1
	} )
	detailWidget:SetAlpha( 0 )
	detailWidget:SetupAnchoredElement( {
		maxScale = 1,
		roundScreenPosition = true,
		minScale = 1
	} )
	f35_arg0:addElement( detailWidget )
	f35_arg0.detailWidget = detailWidget
	
end

local f0_local2 = function ( f34_arg0, f34_arg1, f34_arg2 )
	if f34_arg0.detailWidget then
		local f34_local0 = ClientCharacter[0xAB49E1B2150A83B]( f34_arg2 )
		f34_arg0.detailWidget:Setup( f34_arg1, {
			gamerTag = f34_arg0._characterDataSources.gamertag:GetValue( f34_arg1 ),
			missingGamertag = f34_arg0._characterDataSources.missingGamertag:GetValue( f34_arg1, {
				defaultValue = false
			} ),
			clanTag = f34_arg0._characterDataSources.clanTag:GetValue( f34_arg1 ),
			micAlphaDataSource = f34_arg0._characterDataSources.microphoneAlpha,
			micIconDataSource = f34_arg0._characterDataSources.microphoneIcon,
			kitDataSource = f34_arg0._characterDataSources.cpKit,
			kitStarsDataSource = f34_arg0._characterDataSources.cpKitStars,
			presencePlatform = f34_arg0._characterDataSources.presencePlatform:GetValue( f34_arg1 ),
			isMyPlayer = f34_arg0._characterDataSources.isMyPlayer:GetValue( f34_arg1, {
				defaultValue = false
			} ),
			isPrivatePartyHost = f34_arg0._characterDataSources.isPrivatePartyHost:GetValue( f34_arg1, {
				defaultValue = false
			} ),
			displayRank = f34_arg0._characterDataSources.displayRank:GetValue( f34_arg1 ),
			rankIcon = f34_arg0._characterDataSources.rankIcon:GetValue( f34_arg1 ),
			usingGamepad = f34_arg0._characterDataSources.usingGamepad:GetValue( f34_arg1, {
				defaultValue = false
			} ),
			localControllerIndex = f34_arg0._characterDataSources.controllerIndex:GetValue( f34_arg1, {
				defaultValue = 0
			} ),
			xuid = f34_arg0._characterDataSources.xuid:GetValue( f34_arg1 )
		} )
		f34_arg0.detailWidget:SetEntityNum( f34_local0 )
		f34_arg0.detailWidget:SetEntityTag( "j_head" )
		f34_arg0.detailWidget:SetAlpha( 1 )
		local f34_local1 = {
			x = 0,
			y = 0
		}
		local f34_local2 = f34_arg2 + 1
		if f34_local2 <= #Lobby.CharacterDetailsWidgetOffsets then
			f34_local1 = Lobby.CharacterDetailsWidgetOffsets[f34_local2]
			f34_arg0.detailWidget:SetWorldSpacePosition( f34_local1.x, 0, f34_local1.y )
		end
	end
end

local f0_local3 = function ( f33_arg0 )
	f33_arg0:RemoveEventTimer( "showOperatorWhenLoaded" )
	f33_arg0:RemoveEventTimer( "showPetWhenLoaded" )
	FrontEndScene.SetCharacterVisible( f33_arg0._characterIndex, false, true )
	ClientCharacter[0x813BDB5DDDF1A24]( f33_arg0._characterIndex, false )
	if f33_arg0._petCharacterIndex then
		FrontEndScene.SetCharacterVisible( f33_arg0._petCharacterIndex, false, true )
	end
	if f33_arg0.detailWidget then
		f33_arg0.detailWidget:SetAlpha( 0 )
	end
end

local f0_local4 = function ( f32_arg0, f32_arg1, f32_arg2, f32_arg3, f32_arg4, f32_arg5 )
	ClientCharacter[0xFB5C3935C674824]( f32_arg0._characterIndex, f32_arg2, f32_arg1 )
	if f32_arg4 then
		f32_arg4 = OPERATOR.TryOverrideStowedWeapon( f32_arg0._characterIndex, f32_arg4 )
	end
	if f32_arg3 then
		ClientCharacter[0x1AEA65ACE3F1203]( f32_arg0._characterIndex, f32_arg3, f32_arg4, f32_arg5 )
	end
	f32_arg0._currentPrimaryWeaponModel = f32_arg3
end

local f0_local5 = function ( f31_arg0 )
	return Engine[0xBD71010D9F2BF04]( f31_arg0._controllerIndex, {
		f31_arg0._introAnim,
		f31_arg0._idleAnim,
		f31_arg0._matchmakingAnim,
		f31_arg0._animation
	} )
end

local f0_local6 = function ( f30_arg0 )
	return Engine[0xBD71010D9F2BF04]( f30_arg0._controllerIndex, {
		f30_arg0._petIntroAnim,
		f30_arg0._petIdleAnim,
		f30_arg0._petMatchmakingAnim,
		f30_arg0._petAnimation
	} )
end

local f0_local7 = function ( f28_arg0, f28_arg1 )
	local f28_local0 = function ()
		local f29_local0 = LUI.FlowManager.GetTopMostOpenMenuInfo()
		if f29_local0 and f29_local0.menu then
			OPERATOR.SetOperatorVFX( f29_local0.menu, f28_arg0._characterIndex, StringTable[0x2DCF0973239E909]( CSV.operatorSkins.file, CSV.operatorSkins.cols.bodyModel, f28_arg0._characterData.bodyModel, CSV.operatorSkins.cols.reactiveOperator ) or "", true )
		end
		if (Dvar[0x9E5BE3B4BBA4E0E]( 0x2454BD5628C8708 ) or f28_arg0._characterData.isMyPlayer) and f28_arg0._active then
			f28_arg0( f28_arg0, f28_arg0, f28_arg0._characterIndex )
		end
	end
	
	local f28_local1 = OPERATOR.ShowCharacterWhenLoaded
	local f28_local2 = f28_arg0
	local f28_local3 = f28_arg1
	local f28_local4 = f28_arg0._characterIndex
	local f28_local5 = {
		timerName = "showOperatorWhenLoaded"
	}
	local f28_local6 = WEAPON.IsWeaponNoneValue( f28_arg0._currentPrimaryWeaponModel )
	if not f28_local6 then
		f28_local6 = WEAPON.IsWeaponFists( f28_arg0._currentPrimaryWeaponModel )
	end
	f28_local5.hideWeapon = f28_local6
	f28_local5.requiredAnimations = {
		f28_arg0._introAnim,
		f28_arg0._idleAnim,
		f28_arg0._matchmakingAnim,
		f28_arg0._animation
	}
	f28_local5.callback = f28_local0
	f28_local1( f28_local2, f28_local3, f28_local4, f28_local5 )
end

local f0_local8 = function ( f27_arg0, f27_arg1 )
	OPERATOR.ShowCharacterWhenLoaded( f27_arg0, f27_arg1, f27_arg0._petCharacterIndex, {
		timerName = "showPetWhenLoaded",
		isPet = true,
		operatorVFX = "",
		requiredAnimations = {
			f27_arg0._petIntroAnim,
			f27_arg0._petIdleAnim,
			f27_arg0._petMatchmakingAnim,
			f27_arg0._petAnimation
		}
	} )
end

local f0_local9 = function ( f26_arg0, f26_arg1, f26_arg2, f26_arg3, f26_arg4, f26_arg5 )
	if f26_arg5 then
		f26_arg5 = OPERATOR.TryOverrideStowedWeapon( f26_arg0._characterIndex, f26_arg5 )
	end
	if not ClientCharacter[0x6342B7DDEEDA5F4]( f26_arg0._characterIndex, f26_arg2 ) then
		return true
	elseif not ClientCharacter[0x6342B7DDEEDA5F4]( f26_arg0._characterIndex, f26_arg3 ) then
		return true
	elseif ClientCharacter[0x24D8346FF9D35DC]( f26_arg1, f26_arg0._characterIndex ) ~= f26_arg4 then
		return true
	elseif ClientCharacter[0xF2A95FEC11E1817]( f26_arg1, f26_arg0._characterIndex ) ~= f26_arg5 then
		return true
	else
		return false
	end
end

local f0_local10 = function ( f25_arg0, f25_arg1 )
	assert( f25_arg0._petCharacterIndex )
	local f25_local0, f25_local1 = pcall( ClientCharacter[0x6342B7DDEEDA5F4], f25_arg0._petCharacterIndex, f25_arg1 )
	local f25_local2
	if f25_local0 then
		f25_local2 = f25_local0
	else
		f25_local2 = not f25_local1
	end
	return f25_local2
end

local f0_local11 = function ( f24_arg0 )
	return f24_arg0._characterDataSources.clientCharacterCustomizationVersion:GetValue( f24_arg0._controllerIndex ) == -1
end

local f0_local12 = function ( f23_arg0 )
	if f0_local0( f23_arg0 ) and f23_arg0._characterDataSources.playercardCacheUploadRequested and f23_arg0._characterDataSources.playercardCacheUploadRequested:GetValue( f23_arg0._controllerIndex, {
		defaultValue = false
	} ) then
		return true
	else
		
	end
end

local f0_local13 = function ( f22_arg0 )
	f22_arg0._characterDataSources.clientCharacterCustomizationVersion:SetValue( f22_arg0._controllerIndex, f22_arg0._characterDataSources.customizationVersion:GetValue( f22_arg0._controllerIndex ) )
end

local f0_local14 = function ( f21_arg0 )
	local f21_local0
	if f21_arg0._characterDataSources.selectedOperatorIndex:GetValue( f21_arg0._controllerIndex ) == OPERATOR.SuperFaction.WEST then
		f21_local0 = OPERATOR.SuperFaction.EAST
		if not f21_local0 then
		
		else
			local f21_local1 = nil
			if f0_local0( f21_arg0 ) and f21_arg0._characterDataSources.isMyPlayer:GetValue( f21_arg0._controllerIndex, {
				defaultValue = false
			} ) then
				return CLIENTCHARACTER.GetLocalPlayerData( f21_arg0._controllerIndex, f21_local0 )
			else
				return CLIENTCHARACTER.GetData( f21_arg0._controllerIndex, f21_arg0._characterIndex, f21_arg0._characterDataSources, f21_arg0._forceSuperfactionBasedOnTeam, f21_local0 )
			end
		end
	end
	f21_local0 = OPERATOR.SuperFaction.WEST
end

local f0_local15 = function ( f20_arg0 )
	local f20_local0 = f20_arg0:getParent()
	f20_local0 = f20_local0:GetActiveCharacterNum()
	if GL_HACK.IsClientCharacterMaxNumFixEnabled() then
		f20_local0 = FrontEndScene.MaxClientCharactersMPMainMenu
	end
	return f20_local0
end

local f0_local16 = function ( f19_arg0, f19_arg1, f19_arg2, f19_arg3, f19_arg4 )
	if not f19_arg2 and not f19_arg4 then
		return 
	end
	local f19_local0 = ClientCharacter[0xC4D5E9810D26F7E]( f19_arg0 )
	local f19_local1 = ClientCharacter[0xE6F30798441706C]( f19_arg0 )
	local f19_local2 = false
	if f19_arg2 and not String.IsNilOrEmpty( f19_arg1 ) and (f19_local0 ~= f19_arg1 or not String.IsNilOrEmpty( f19_local1 ) and f19_local1 ~= f19_arg1) then
		ClientCharacter[0xAA614EB46957F3B]( f19_arg0, f19_arg1, 0 )
		f19_local1 = f19_arg1
		f19_local2 = true
	end
	if f19_arg4 and not String.IsNilOrEmpty( f19_arg3 ) and (f19_local0 ~= f19_arg3 or not String.IsNilOrEmpty( f19_local1 ) and f19_local1 ~= f19_arg3) then
		if f19_local2 then
			ClientCharacter[0x524D4D5B140E36E]( f19_arg0, f19_arg3 )
		else
			ClientCharacter[0xAA614EB46957F3B]( f19_arg0, f19_arg3, 0 )
		end
	end
end

local f0_local17 = function ( f18_arg0, f18_arg1 )
	if f0_local0( f18_arg0 ) then
		if f18_arg0._characterDataSources.isMyPlayer:GetValue( f18_arg1, {
			defaultValue = false
		} ) then
			local f18_local0 = nil
			if f18_arg0._forceSuperfactionBasedOnTeam then
				f18_local0 = CLIENTCHARACTER.GetSuperFactionIndex( f18_arg1, f18_arg0._characterDataSources, f18_arg0._forceSuperfactionBasedOnTeam )
			end
			f18_arg0._characterData = CLIENTCHARACTER.GetLocalPlayerData( f18_arg1, f18_local0 )
		else
			f0_local0( f18_arg0 )
			return 
		end
	else
		f18_arg0._characterData = CLIENTCHARACTER.GetData( f18_arg1, f18_arg0._characterIndex, f18_arg0._characterDataSources, f18_arg0._forceSuperfactionBasedOnTeam )
		f0_local0( f18_arg0 )
	end
	OPERATOR.OverrideRiotshieldOverkill( f18_arg0._characterData )
end

local f0_local18 = function ( f17_arg0, f17_arg1 )
	local f17_local0 = false
	if f0_local0( f17_arg0, f17_arg1, f17_arg0._characterData.headModel, f17_arg0._characterData.bodyModel, f17_arg0._characterData.primaryWeaponModel, f17_arg0._characterData.secondaryWeaponModel ) then
		STREAMING.RequestModels( f17_arg1, {
			requesterWidget = f17_arg0._menu,
			modelType = STREAMING.ModelTypes.Head,
			models = {
				f17_arg0._characterData.headModel
			}
		} )
		STREAMING.RequestModels( f17_arg1, {
			requesterWidget = f17_arg0._menu,
			modelType = STREAMING.ModelTypes.Body,
			models = {
				f17_arg0._characterData.bodyModel
			}
		} )
		STREAMING.RequestModels( f17_arg1, {
			requesterWidget = f17_arg0._menu,
			modelType = STREAMING.ModelTypes.WeaponWorld,
			models = {
				f17_arg0._characterData.primaryWeaponModel,
				f17_arg0._characterData.secondaryWeaponModel
			}
		} )
		ClientCharacter[0xB6D1A33AC2622D0]( f17_arg0._characterIndex, 0, 0, 0 )
		f17_local0 = true
		f0_local0( f17_arg0, f17_arg0._characterData.headModel, f17_arg0._characterData.bodyModel, f17_arg0._characterData.primaryWeaponModel, f17_arg0._characterData.secondaryWeaponModel )
	else
		f17_arg0._currentPrimaryWeaponModel = f17_arg0._characterData.primaryWeaponModel
	end
	if f17_arg0._streamModelsForAllSuperfactions then
		local f17_local1 = f0_local0( f17_arg0 )
		STREAMING.RequestModels( f17_arg1, {
			requesterWidget = f17_arg0._menu,
			modelType = STREAMING.ModelTypes.Head,
			models = {
				f17_local1.headModel
			}
		} )
		STREAMING.RequestModels( f17_arg1, {
			requesterWidget = f17_arg0._menu,
			modelType = STREAMING.ModelTypes.Body,
			models = {
				f17_local1.bodyModel
			}
		} )
		STREAMING.RequestModels( f17_arg1, {
			requesterWidget = f17_arg0._menu,
			modelType = STREAMING.ModelTypes.WeaponWorld,
			models = {
				f17_local1.primaryWeaponModel,
				f17_local1.secondaryWeaponModel
			}
		} )
	end
	f17_arg0._introAnim, f17_arg0._idleAnim, f17_arg0._matchmakingAnim = OPERATOR.GetMatchMakingAnimations( f17_arg0._characterIndex, f0_local0( f17_arg0 ), {
		characterData = f17_arg0._characterData
	} )
	STREAMING.RequestModels( f17_arg1, {
		requesterWidget = f17_arg0._menu,
		modelType = STREAMING.ModelTypes.Animation,
		models = {
			f17_arg0._introAnim,
			f17_arg0._idleAnim,
			f17_arg0._matchmakingAnim,
			f17_arg0._animation
		}
	} )
	if not f0_local0( f17_arg0 ) then
		f17_local0 = true
	end
	if f17_local0 then
		f0_local0( f17_arg0, false )
	end
end

local f0_local19 = function ( f16_arg0, f16_arg1 )
	f16_arg0._petCharacterIndex = nil
	if not String.IsNilOrEmpty( f16_arg0._characterData.petRef ) then
		f16_arg0._petCharacterIndex = Lobby.GetPetIndexForCharacter( f16_arg0._characterIndex )
	else
		FrontEndScene.SetCharacterVisible( Lobby.GetPetIndexForCharacter( f16_arg0._characterIndex ), false, true )
	end
	if f16_arg0._petCharacterIndex then
		local f16_local0 = false
		if f0_local0( f16_arg0, f16_arg0._characterData.petModel ) then
			STREAMING.RequestModels( f16_arg1, {
				requesterWidget = f16_arg0._menu,
				modelType = STREAMING.ModelTypes.Body,
				models = {
					f16_arg0._characterData.petModel
				}
			} )
			ClientCharacter[0xFB5C3935C674824]( f16_arg0._petCharacterIndex, f16_arg0._characterData.petModel )
			f16_local0 = true
		end
		if f16_arg0._streamModelsForAllSuperfactions then
			local f16_local1 = f0_local0( f16_arg0 )
			STREAMING.RequestModels( f16_arg1, {
				requesterWidget = f16_arg0._menu,
				modelType = STREAMING.ModelTypes.Body,
				models = {
					f16_local1.petModel
				}
			} )
		end
		f16_arg0._petIntroAnim, f16_arg0._petIdleAnim, f16_arg0._petMatchmakingAnim = OPERATOR.GetPetMatchMakingAnimations( f16_arg0._characterIndex, f0_local0( f16_arg0 ) )
		STREAMING.RequestModels( f16_arg1, {
			requesterWidget = f16_arg0._menu,
			modelType = STREAMING.ModelTypes.Animation,
			models = {
				f16_arg0._petIntroAnim,
				f16_arg0._petIdleAnim,
				f16_arg0._petMatchmakingAnim,
				f16_arg0._petAnimation
			}
		} )
		if not f0_local0( f16_arg0 ) then
			f16_local0 = true
		end
		if f16_local0 then
			FrontEndScene.SetCharacterVisible( f16_arg0._petCharacterIndex, false, true )
		end
	end
end

local f0_local20 = function ( f13_arg0, f13_arg1 )
	f13_arg0:RemoveEventTimer( "waitForFrontendReady" )
	f13_arg0:RemoveEventTimer( "showOperatorWhenLoaded" )
	f13_arg0:RemoveEventTimer( "showPetWhenLoaded" )
	f0_local0( f13_arg0, f13_arg1 )
	f0_local0( f13_arg0, f13_arg1 )
	f0_local0( f13_arg0, f13_arg1 )
	local f13_local0 = function ()
		if f13_arg0._animation then
			f13_arg0:PlayAnimation( f13_arg0._characterIndex, f13_arg0._animation, f13_arg0._animationSynchronizationStartTime )
		else
			f13_arg0( f13_arg0._characterIndex, f13_arg0._introAnim, f13_arg0._playIntroAnimation, f13_arg0._idleAnim, f13_arg0._playIdleAnimation )
		end
		f13_arg0( f13_arg0, f13_arg0 )
		if f13_arg0._petCharacterIndex then
			if f13_arg0._petAnimation then
				f13_arg0:PlayAnimation( f13_arg0._petCharacterIndex, f13_arg0._petAnimation, f13_arg0._animationSynchronizationStartTime )
			else
				f13_arg0( f13_arg0._petCharacterIndex, f13_arg0._petIntroAnim, f13_arg0._playIntroAnimation, f13_arg0._petIdleAnim, f13_arg0._playIdleAnimation )
			end
			f13_arg0( f13_arg0, f13_arg0 )
		end
	end
	
	f13_arg0:CreateEventTimer( "waitForFrontendReady", 50, {
		immediate = true,
		callbackFunc = function ()
			if not Engine[0x283B38F2501D924]() or not ClientModel[0xA988866C889EAAD]() then
				return 
			elseif f13_arg0._waitForFastFileGameWorkComplete and not Engine[0xB47EFEF093F744D]() then
				return 
			elseif #Dvar[0x54084D7CA2317BB]( 0x8CC749B90DD2705 ) ~= 0 then
				return 
			else
				f13_arg0()
				f13_arg0:RemoveEventTimer( "waitForFrontendReady" )
			end
		end
	} )
end

local f0_local21 = function ( f10_arg0, f10_arg1, f10_arg2 )
	local f10_local0 = function ()
		f10_arg0( f10_arg0, f10_arg0 )
	end
	
	if not GL_HACK.IsTmpFixDublicateGamerTagsKilled() then
		f10_arg0._xuidSubscription = f10_arg0:SubscribeToModel( f10_arg2.xuid:GetModel( f10_arg1 ), f10_local0, true )
	end
	f10_arg0._customizationVersionSubscription = f10_arg0:SubscribeToModel( f10_arg2.customizationVersion:GetModel( f10_arg1 ), f10_local0, true )
	if f10_arg0._forceSuperfactionBasedOnTeam then
		f10_arg0._teamSubscription = f10_arg0:SubscribeToModel( f10_arg2.team:GetModel( f10_arg1 ), f10_local0, true )
	end
	local f10_local1 = function ()
		if f10_arg0( f10_arg0 ) then
			f10_arg0()
		end
	end
	
	f10_arg0._clientCharacterCustomizationVersionSubscription = f10_arg0:SubscribeToModel( f10_arg2.clientCharacterCustomizationVersion:GetModel( f10_arg1 ), f10_local1, true )
	if f10_arg2.playercardCacheUploadRequested then
		f10_arg0._playercardCacheUploadRequestedSubscription = f10_arg0:SubscribeToModel( f10_arg2.playercardCacheUploadRequested:GetModel( f10_arg1 ), f10_local1, true )
	end
	f10_local0()
end

local f0_local22 = function ( f9_arg0, f9_arg1 )
	if f9_arg0._xuidSubscription then
		f9_arg0:UnsubscribeFromModel( f9_arg0._xuidSubscription )
		f9_arg0._xuidSubscription = nil
	end
	if f9_arg0._customizationVersionSubscription then
		f9_arg0:UnsubscribeFromModel( f9_arg0._customizationVersionSubscription )
		f9_arg0._customizationVersionSubscription = nil
	end
	if f9_arg0._clientCharacterCustomizationVersionSubscription then
		f9_arg0:UnsubscribeFromModel( f9_arg0._clientCharacterCustomizationVersionSubscription )
		f9_arg0._clientCharacterCustomizationVersionSubscription = nil
	end
	if f9_arg0._teamSubscription then
		f9_arg0:UnsubscribeFromModel( f9_arg0._teamSubscription )
		f9_arg0._teamSubscription = nil
	end
	if f9_arg0._playercardCacheUploadRequestedSubscription then
		f9_arg0:UnsubscribeFromModel( f9_arg0._playercardCacheUploadRequestedSubscription )
		f9_arg0._playercardCacheUploadRequestedSubscription = nil
	end
end

local f0_local23 = function ( f8_arg0, f8_arg1, f8_arg2, f8_arg3 )
	assert( f8_arg2 ~= nil )
	if f8_arg0._active == f8_arg2 and not f8_arg3 then
		return 
	elseif f8_arg0._characterDataSources then
		f0_local0( f8_arg0, f8_arg0._characterDataSources )
	end
	f8_arg0:RemoveEventTimer( "waitForFrontendReady" )
	f8_arg0:RemoveEventTimer( "showOperatorWhenLoaded" )
	f8_arg0:RemoveEventTimer( "showPetWhenLoaded" )
	f8_arg0._active = f8_arg2
	if f8_arg2 then
		if not f8_arg0._characterDataSources then
			f8_arg0._characterDataSources = CLIENTCHARACTER.GetCharacterDataSources( f8_arg1, f8_arg0._characterIndex, f8_arg0._dataSourcePath )
		end
		f0_local0( f8_arg0, f8_arg1, f8_arg0._characterDataSources )
		f0_local0( f8_arg0, f8_arg1 )
	else
		f0_local0( f8_arg0 )
	end
end

local f0_local24 = function ( f7_arg0, f7_arg1 )
	if f7_arg0._characterDataSources then
		f0_local0( f7_arg0, f7_arg0._characterDataSources )
	end
	f7_arg0._characterDataSources = f7_arg1
end

local f0_local25 = function ( f6_arg0, f6_arg1, f6_arg2, f6_arg3 )
	assert( f6_arg1 )
	f6_arg0._animation = f6_arg1
	f6_arg0._petAnimation = f6_arg2
	f6_arg0._animationSynchronizationStartTime = f6_arg3
	if f6_arg0._active then
		f0_local0( f6_arg0, f6_arg0._controllerIndex )
	end
end

local f0_local26 = function ( f5_arg0, f5_arg1, f5_arg2, f5_arg3 )
	if f5_arg2 and Engine[0x22090BA9DCF62DC]( f5_arg0._controllerIndex ) and Engine[0x17C889BDEF27EED]() then
		local f5_local0 = nil
		if f5_arg3 then
			f5_local0 = Math.Clamp( (Engine[0x6991337AE950F99]() / 1000 - f5_arg3) / ClientCharacter[0x9D65588E886D72F]( f5_arg0._controllerIndex, f5_arg1, f5_arg2 ), 0, 1 )
		end
		ClientCharacter[0xAA614EB46957F3B]( f5_arg1, f5_arg2, nil, f5_local0 )
	end
end

local f0_local27 = function ( f4_arg0, f4_arg1 )
	f4_arg0._noHideOnNextMenus = f4_arg0._noHideOnNextMenus or {}
	table.insert( f4_arg0._noHideOnNextMenus, f4_arg1 )
end

local f0_local28 = function ( f2_arg0, f2_arg1, f2_arg2 )
	assert( f2_arg2.menu )
	assert( f2_arg2.characterIndex )
	f2_arg0._characterIndex = f2_arg2.characterIndex
	f2_arg0._controllerIndex = f2_arg1
	f2_arg0._menu = f2_arg2.menu
	local f2_local0 = f2_arg2.dataSourcePath
	if not f2_local0 then
		f2_local0 = Lobby.AllMembersPath
	end
	f2_arg0._dataSourcePath = f2_local0
	f2_arg0._forceSuperfactionBasedOnTeam = f2_arg2.forceSuperfactionBasedOnTeam
	f2_arg0._active = false
	f2_arg0._playIdleAnimation = f2_arg2.playIdleAnimation
	f2_arg0._playIntroAnimation = f2_arg2.playIntroAnimation
	f2_arg0._waitForFastFileGameWorkComplete = f2_arg2.waitForFastFileGameWorkComplete
	f2_arg0._streamModelsForAllSuperfactions = f2_arg2.streamModelsForAllSuperfactions
	f2_arg0.SetActive = f0_local0
	f2_arg0.SetAnimation = f0_local0
	f2_arg0.PlayAnimation = f0_local0
	f2_arg0.DontHideOnSwitchToMenu = f0_local0
	f2_arg0.SetCharacterDataSources = f0_local0
	f2_arg0._loadTimerElement = LUI.UIElement.new()
	f2_arg0:addElement( f2_arg0._loadTimerElement )
	f2_arg0:registerEventHandler( "on_close", function ()
		local f3_local0 = true
		for f3_local4, f3_local5 in ipairs( f2_arg0._noHideOnNextMenus or {} ) do
			if LUI.FlowManager.IsInStack( f3_local5 ) then
				f3_local0 = false
				break
			end
		end
		if f3_local0 then
			f2_arg0( f2_arg0 )
		end
	end )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x2454BD5628C8708 ) and f2_arg2.showDetailWidget and not f2_arg0.detailWidget then
		f0_local0( f2_arg0, f2_arg1 )
	end
end

function ClientCharacterWidget( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "ClientCharacterWidget"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "ClientCharacterWidget", ClientCharacterWidget )
LockTable( _M )
