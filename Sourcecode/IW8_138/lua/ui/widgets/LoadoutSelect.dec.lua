-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
module( ..., package.seeall )
if Engine.DDJFBBJAIG() then
	LUI.FlowManager.RegisterFenceGroup( "LoadoutSelect", {
		nil,
		"StatsGroup"
	} )
end
local f0_local0 = -0.8
local f0_local1 = 0.8
local f0_local2 = -0.8
local f0_local3 = 0.8
local f0_local4 = 3500
local f0_local5 = -0.3
local f0_local6 = 0.3
local f0_local7 = -0.3
local f0_local8 = 0.3
local f0_local9 = 4500
MenuBuilder.registerType( "LoadoutOptions", function ( f70_arg0, f70_arg1 )
	f70_arg1.widget = MenuBuilder.BuildRegisteredType( "LoadoutOptionsPopup", f70_arg1 )
	f70_arg1.flyInLeftNarrow = LAYOUT.GetTextWidth( f70_arg1.widget.MenuTitle.MenuTitle, f70_arg1.controllerIndex ) < 480 * _1080p
	local f70_local0 = MenuBuilder.BuildRegisteredType( "FlyInPopup", f70_arg1 )
	f70_local0.id = "LoadoutOptions"
	return f70_local0
end )
MenuBuilder.registerType( "BRLoadoutPurchaseConfirmPopup", function ( f69_arg0, f69_arg1 )
	local f69_local0 = MenuBuilder.BuildRegisteredType( "PopupYesNo", f69_arg1 )
	f69_local0.id = "BRLoadoutPurchaseConfirmPopup"
	return f69_local0
end )
if not Engine.DDJFBBJAIG() then
	if CONDITIONS.IsThirdGameMode( self ) then
		LUI.FlowManager.RequestSetStack( "LoadoutSelect", {
			{
				name = "CPPauseMenu"
			}
		} )
	elseif CONDITIONS.IsMagmaGameMode( self ) then
		LUI.FlowManager.RequestSetStack( "LoadoutSelect", {
			{
				name = "BrPauseMenu"
			}
		} )
	else
		LUI.FlowManager.RequestSetStack( "LoadoutSelect", {
			{
				name = "MPPauseMenu"
			}
		} )
	end
end
local f0_local10 = {
	loadoutEdit = 2,
	loadoutSelect = 1
}
local f0_local11 = {
	default = 1,
	mix = 2,
	custom = 0
}
local f0_local12 = function ( f68_arg0, f68_arg1, f68_arg2, f68_arg3 )
	for f68_local0 = 0, 1, 1 do
		local f68_local3 = f68_arg2[f68_arg3].weaponSetups[f68_local0]
		local f68_local4 = WEAPON.GetWeaponModelNameFromPlayerData( f68_local3.weapon:get(), f68_local3, {
			includeCamos = true,
			includeAttachments = true,
			includeStickers = true,
			controllerIndex = f68_arg1
		} )
		local f68_local5
		if f68_local0 == 0 then
			f68_local5 = f68_arg0.primaryWeaponModel
			if not f68_local5 then
			
			else
				WEAPON.SetModelIfLoaded( f68_arg1, f68_local5, f68_local4, {
					adjustSandbags = f68_local0 == 0,
					modelWeaponTable = WEAPON.GenerateWeaponTable( f68_local3 )
				} )
			end
		end
		f68_local5 = f68_arg0.secondaryWeaponModel
	end
	CLIENT_MODEL.UpdateModelsForLoadout( f68_arg0, f68_arg1, f68_arg3 )
	WEAPON.SetResetDynBones( {
		FrontEndScene.ClientWeapons.GunTablePrimary,
		FrontEndScene.ClientWeapons.GunTableSecondary
	} )
end

local f0_local13 = function ( f67_arg0 )
	local f67_local0 = LUI.FlowManager.GetScopedData( f67_arg0 )
	local f67_local1 = PlayerData.BFFBGAJGD( f67_local0.controllerIndex, LOADOUT.GetLoadoutStatsGroup() )
	f0_local0( f67_arg0, f67_local0.controllerIndex, f67_local1.squadMembers.loadouts, f67_local0.selectedLoadoutIndex )
	CLIENT_MODEL.SetAllModelsModifiable( f67_local0.controllerIndex )
end

local f0_local14 = function ( f66_arg0, f66_arg1, f66_arg2 )
	local f66_local0 = {}
	for f66_local1 = #f66_arg2 - 1, 0, -1 do
		local f66_local4 = f66_arg2[f66_local1]
		for f66_local5 = 0, #f66_local4.weaponSetups - 1, 1 do
			local f66_local8 = f66_local4.weaponSetups[f66_local5]
			local f66_local9 = WEAPON.GetWeaponModelNameFromPlayerData( f66_local8.weapon:get(), f66_local8, {
				includeCamos = true,
				includeAttachments = true,
				includeStickers = true,
				controllerIndex = f66_arg1
			} )
			if not LUI.IsItemInArray( f66_local0, f66_local9 ) then
				table.insert( f66_local0, f66_local9 )
			end
		end
	end
	table.insert( f66_local0, WATCH.GetFullModelName( WATCH.GetEquippedWatch( f66_arg1 ) ) )
	if 0 < #f66_local0 then
		FrontEndScene.RequestWeaponViewModels( f66_local0, f66_arg1 )
	end
end

local f0_local15 = function ( f65_arg0, f65_arg1, f65_arg2 )
	local f65_local0 = PlayerData.BFFBGAJGD( f65_arg1, LOADOUT.GetLoadoutStatsGroup() )
	f65_local0 = f65_local0.squadMembers.loadouts
	if Engine.DDJFBBJAIG() then
		Streaming.BDDBGGIC( true )
		f0_local0( f65_arg0, f65_arg1, f65_local0 )
	end
	DYN_ATTACHMENT.ReloadLoadoutWeaponStreamedImages( f65_arg0, f65_arg1 )
end

local f0_local16 = function ( f64_arg0, f64_arg1 )
	if Engine.DDJFBBJAIG() then
		f64_arg0.Loadouts:SetMouseFocusBlocker( not f64_arg1 )
	else
		f64_arg0.InGameLoadouts:SetMouseFocusBlocker( not f64_arg1 )
	end
end

local f0_local17 = function ( f63_arg0 )
	if Engine.DDJFBBJAIG() then
		f63_arg0.Loadouts:RefreshContent()
	else
		f63_arg0.InGameLoadouts:RefreshContent()
	end
end

local f0_local18 = function ( f62_arg0, f62_arg1 )
	ACTIONS.AnimateSequence( f62_arg0.LoadoutSelectButtons.PrimaryWeaponCluster.WeaponButton, f62_arg1 )
	ACTIONS.AnimateSequence( f62_arg0.LoadoutSelectButtons.SecondaryWeaponCluster.WeaponButton, f62_arg1 )
	ACTIONS.AnimateSequence( f62_arg0.LoadoutSelectButtons.EquipmentGridItem, f62_arg1 )
	ACTIONS.AnimateSequence( f62_arg0.LoadoutSelectButtons.TacticalGridItem, f62_arg1 )
	ACTIONS.AnimateSequence( f62_arg0.LoadoutSelectButtons.PerkGridItem, f62_arg1 )
end

local f0_local19 = function ( f61_arg0, f61_arg1, f61_arg2 )
	if f61_arg0.BundleUpsellButton then
		if Dvar.IBEGCHEFE( "LTSNLQNRKO" ) and Dvar.IBEGCHEFE( "NKRLMNTNRS" ) and f61_arg0._bundleVariants[f61_arg2] and not CONDITIONS.AreRestrictionsActive( f61_arg1 ) and f61_arg0._bundleVariants[f61_arg2][1] then
			f61_arg0.BundleUpsellButton:SetupUpsellButtonWithBundleID( f61_arg1, f61_arg0._bundleVariants[f61_arg2][1].bundleID )
		else
			f61_arg0.BundleUpsellButton:HideButton()
		end
	end
end

local f0_local20 = function ( f56_arg0, f56_arg1, f56_arg2, f56_arg3 )
	local f56_local0 = LUI.FlowManager.GetScopedData( f56_arg0 )
	if f56_local0.menuState == f0_local0.loadoutSelect then
		f56_local0.loadoutSessionStartTime = Engine.DCJHCAFIIA()
	end
	f56_local0.menuState = f0_local0.loadoutEdit
	f56_arg0:dispatchEventToChildren( {
		name = "menu_state_updated",
		menuState = f56_local0.menuState
	} )
	if f56_local0.openedFromScriptRequest then
		f56_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine.CBBHFCGDIC( "MENU/BACK" )
		} )
	end
	if Engine.DDJFBBJAIG() then
		f56_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
			button_ref = "button_alt2"
		} )
		f56_arg0.KBMLoadoutOptionsPrompt:SetAlpha( 0 )
	end
	f0_local0( f56_arg0, WZWIP.CheckForApplyPrependWZWipPrefix( "LoadoutEdit" ) )
	ACTIONS.AnimateSequence( f56_arg0, "LoadoutEdit" )
	local f56_local1 = function ( f60_arg0, f60_arg1 )
		if not CONDITIONS.IsMagmaGameMode() and not Onboarding.WeaponMasteryChallenges.WasCompleted( f60_arg0, f60_arg1 ) then
			LUI.FlowManager.RequestPopupMenu( f60_arg0, "onboardingpopup", true, f60_arg1, false, ONBOARDING_DATA.GetOnboardingWeaponMasteryChallengesData() )
			Onboarding.WeaponMasteryChallenges.MarkCompleted( f60_arg0, f60_arg1 )
		end
	end
	
	local f56_local2 = function ( f59_arg0, f59_arg1 )
		if CONDITIONS.IsWZWipFlowEnabled() and Dvar.IBEGCHEFE( "ui_ob_wz_show_weapon_mastery" ) and CONDITIONS.AreWZLoadoutsEnabled() and not Onboarding.WeaponCH2WZMasteryChallenges.WasCompleted( f59_arg0, f59_arg1 ) then
			LUI.FlowManager.RequestPopupMenu( f59_arg0, "onboardingpopup", true, f59_arg1, false, ONBOARDING_DATA.GetOnboardingCH2WZWeaponMasteryChallengesData() )
			Onboarding.WeaponCH2WZMasteryChallenges.MarkCompleted( f59_arg0, f59_arg1 )
		end
	end
	
	REG7.processEvent( Engine.DDJFBBJAIG() and f56_arg0.Loadouts or f56_arg0.InGameLoadouts, {
		name = "lose_focus",
		controller = f56_arg1
	} )
	if Engine.DDJFBBJAIG() then
		if CONDITIONS.IsBlueprintStoreEnabled() and not Onboarding.BlueprintStore.WasCompleted( self, f56_arg1 ) then
			local f56_local3 = nil
			if CONDITIONS.IsWZWipFlowEnabled() then
				f56_local3 = ONBOARDING_DATA.GetOnboardingCH2WZBlueprintStoreData()
			else
				f56_local3 = ONBOARDING_DATA.GetOnboardingBlueprintStoreData()
			end
			if CONDITIONS.IsWZWipFlowEnabled() then
				if not Onboarding.WeaponCH2WZMasteryChallenges.WasCompleted( self, f56_arg1 ) then
					f56_local3.confirmButton.action = function ( f58_arg0, f58_arg1 )
						ACTIONS.LeaveMenu( f58_arg0 )
						f56_arg0( self, f58_arg1 )
					end
					
				end
			elseif not Onboarding.WeaponMasteryChallenges.WasCompleted( self, f56_arg1 ) then
				f56_local3.confirmButton.action = function ( f57_arg0, f57_arg1 )
					ACTIONS.LeaveMenu( f57_arg0 )
					f56_arg0( self, f57_arg1 )
				end
				
			end
			LUI.FlowManager.RequestPopupMenu( self, "onboardingpopup", true, f56_arg1, false, f56_local3 )
			Onboarding.BlueprintStore.MarkCompleted( self, f56_arg1 )
		elseif CONDITIONS.IsWZWipFlowEnabled() then
			f56_local2( self, f56_arg1 )
		else
			f56_local1( self, f56_arg1 )
		end
	end
	f56_arg0.LoadoutSelectButtons:processEvent( {
		name = "gain_focus",
		controller = f56_arg1
	} )
	f0_local0( f56_arg0, false )
	f56_arg0.LoadoutSelectButtons:SetMouseHandling( true )
	f56_arg0.MenuTitle:SetTitle( f56_arg2.name:get() )
	if f56_arg0.InGameLoadoutTabs then
		f56_arg0.InGameLoadoutTabs:DisableAll()
	end
	if f56_arg0.BundleUpsellButton then
		f56_arg0:UpdateBundleUpsell( f56_arg1, f56_arg2.weaponSetups[WEAPON.PrimarySlot].weapon:get() )
	end
end

local f0_local21 = function ( f55_arg0, f55_arg1 )
	Engine.DHFCHIIJCA( "loadout_showcase" )
	local f55_local0 = LUI.FlowManager.GetScopedData( f55_arg0 )
	if f55_local0.menuState == f0_local0.loadoutEdit then
		METRICS.LoadoutSessionSendDLogEvent( f55_arg1, f55_local0.sessionID, f55_local0.loadoutSessionStartTime, f55_local0.selectedLoadoutIndex )
		LAYOUT.FadeInAspectRatioFadeFrame( f55_arg0, 300 )
	end
	f55_local0.menuState = f0_local0.loadoutSelect
	f55_arg0:dispatchEventToChildren( {
		name = "menu_state_updated",
		menuState = f55_local0.menuState
	} )
	f55_arg0.LoadoutSelectButtons:processEvent( {
		name = "lose_focus",
		controller = f55_arg1
	} )
	local f55_local1 = Engine.DDJFBBJAIG() and f55_arg0.Loadouts or f55_arg0.InGameLoadouts
	f0_local0( f55_arg0, true )
	f0_local0( f55_arg0 )
	f55_local1:processEvent( {
		name = "gain_focus",
		controller = f55_arg1
	} )
	if Engine.DDJFBBJAIG() then
		if LUI.IsLastInputGamepad( f55_arg1 ) then
			f55_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
				clickable = true,
				priority = 20,
				side = "left",
				gamepad_only = true,
				button_ref = "button_alt2",
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU/LOADOUT_OPTIONS" )
			} )
		else
			f55_arg0.KBMLoadoutOptionsPrompt:SetAlpha( 1 )
		end
	end
	f0_local0( f55_arg0, WZWIP.CheckForApplyPrependWZWipPrefix( "LoadoutPreview" ) )
	local f55_local2 = "LoadoutButtons"
	if not Engine.DDJFBBJAIG() then
		if f55_local0.openedForPlunderBox == true or CONDITIONS.IsBRLoadoutGameType( f55_arg0 ) then
			f55_local2 = "InGameLoadoutButtonsBr"
		else
			f55_local2 = "InGameLoadoutButtons"
		end
	end
	ACTIONS.AnimateSequence( f55_arg0, f55_local2 )
	f55_arg0.LoadoutSelectButtons:SetMouseHandling( false )
	if f55_arg0.InGameLoadoutTabs then
		f55_arg0.InGameLoadoutTabs:EnableAll()
	end
	if not Engine.DDJFBBJAIG() then
		f55_arg0.MenuTitle:SetTitle( Engine.CBBHFCGDIC( "LUA_MENU/CHOOSE_LOADOUT" ) )
	else
		f55_arg0.MenuTitle:SetTitle( Engine.CBBHFCGDIC( "LUA_MENU/EDIT_LOADOUTS" ) )
	end
	if f55_arg0.BundleUpsellButton then
		f55_arg0.BundleUpsellButton:HideButton()
	end
	if f55_arg0.MasterChallenges then
		f55_arg0.MasterChallenges:SetAlpha( 0 )
	end
end

local f0_local22 = function ( f54_arg0, f54_arg1, f54_arg2, f54_arg3 )
	local f54_local0 = false
	if f54_arg0.selectedLoadout and f54_arg0.selectedLoadout:GetValue( f54_arg1 ) then
		local f54_local1 = f54_arg0.selectedLoadout:GetValue( f54_arg1 )
		if not (not f54_arg3 or f54_local1 ~= f54_arg2 + LOADOUT.DEFAULT_LOADOUT_INDEX_START) or not f54_arg3 and f54_local1 == f54_arg2 then
			f54_local0 = true
		end
	end
	return f54_local0
end

local f0_local23 = function ( f50_arg0, f50_arg1, f50_arg2 )
	local f50_local0 = f50_arg2.Text
	if f50_local0 then
		f50_local0 = f50_arg2.Text:getText()
	end
	f50_arg2:SetupContextualMenu( {
		title = f50_local0
	} )
	f50_arg2:AddContextualMenuAction( {
		id = "renameLoadout",
		actionName = Engine.CBBHFCGDIC( "MENU/RENAME" ),
		actionFunction = function ()
			LOADOUT.RenameLoadout( f50_arg0, f50_arg0, f50_arg0.playerData, f50_arg0.index )
		end
	} )
	f50_arg2:AddContextualMenuAction( {
		id = "copyLoadout",
		actionName = Engine.CBBHFCGDIC( "LUA_MENU/COPY_LOADOUT" ),
		actionFunction = function ()
			LOADOUT.OpenLoadoutCopyPopup( f50_arg0, f50_arg0.index )
		end
	} )
	if IsOnlineMatch() then
		f50_arg2:AddContextualMenuAction( {
			id = "copyLoadout",
			actionName = Engine.CBBHFCGDIC( "LUA_MENU/SET_FAVORITE" ),
			actionFunction = function ()
				LOADOUT.SetFavoriteLoadout( f50_arg0, f50_arg0, f50_arg0.index )
			end
		} )
	end
end

local f0_local24 = function ( f49_arg0, f49_arg1, f49_arg2 )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PrimaryWeaponCluster, "RestrictionOff" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PrimaryWeaponCluster.AttachmentsButton, "RestrictionOff" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PrimaryWeaponCluster, "RestrictionWarningOff" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.SecondaryWeaponCluster, "RestrictionOff" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.SecondaryWeaponCluster.AttachmentsButton, "RestrictionOff" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.SecondaryWeaponCluster, "RestrictionWarningOff" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOffPerk1" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOffPerk2" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOffPerk3" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOffPerk4" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOffPerk5" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOffPerk6" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.EquipmentGridItem, "RestrictionOff" )
	ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.TacticalGridItem, "RestrictionOff" )
	if MatchRules.CADFFHGJAE( f49_arg2.weaponSetups[0].weapon:get() ) then
		ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PrimaryWeaponCluster, "RestrictionOn" )
	end
	if LOADOUT.MATCHRULES.WeaponHasRestrictedAttachment( f49_arg2.weaponSetups[0].attachmentSetup, f49_arg2.weaponSetups[0].weapon:get() ) then
		ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PrimaryWeaponCluster, "RestrictionWarningOn" )
		ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PrimaryWeaponCluster.AttachmentsButton, "RestrictionOn" )
	end
	if MatchRules.CADFFHGJAE( f49_arg2.weaponSetups[1].weapon:get() ) then
		ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.SecondaryWeaponCluster, "RestrictionOn" )
	end
	if LOADOUT.MATCHRULES.WeaponHasRestrictedAttachment( f49_arg2.weaponSetups[1].attachmentSetup, f49_arg2.weaponSetups[0].weapon:get() ) then
		ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.SecondaryWeaponCluster, "RestrictionWarningOn" )
		ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.SecondaryWeaponCluster.AttachmentsButton, "RestrictionOn" )
	end
	if Restrictions.IsPerkRestricted( f49_arg2.loadoutPerks[0]:get() ) then
		ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOnPerk1" )
	end
	if Restrictions.IsPerkRestricted( f49_arg2.loadoutPerks[1]:get() ) then
		ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOnPerk2" )
	end
	if Restrictions.IsPerkRestricted( f49_arg2.loadoutPerks[2]:get() ) then
		ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOnPerk3" )
	end
	local f49_local0 = f49_arg2.extraPerks[0]
	if f49_local0 then
		f49_local0 = not Restrictions.ArePerksRestricted()
	end
	if f49_local0 then
		if Restrictions.IsPerkRestricted( f49_arg2.extraPerks[0]:get() ) then
			ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOnPerk4" )
		end
		if Restrictions.IsPerkRestricted( f49_arg2.extraPerks[1]:get() ) then
			ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOnPerk5" )
		end
		if Restrictions.IsPerkRestricted( f49_arg2.extraPerks[2]:get() ) then
			ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.PerkGridItem, "RestrictionOnPerk6" )
		end
	end
	if MatchRules.BAJDCAAGCG( f49_arg2.equipmentSetups[0].equipment:get() ) then
		ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.EquipmentGridItem, "RestrictionOn" )
	end
	if MatchRules.BAJDCAAGCG( f49_arg2.equipmentSetups[1].equipment:get() ) then
		ACTIONS.AnimateSequence( f49_arg0.LoadoutSelectButtons.TacticalGridItem, "RestrictionOn" )
	end
end

local f0_local25 = function ( f43_arg0, f43_arg1, f43_arg2, f43_arg3, f43_arg4, f43_arg5 )
	local f43_local0 = Engine.DDJFBBJAIG() and f43_arg0.Loadouts or f43_arg0.InGameLoadouts
	local f43_local1 = f43_arg2.LoadoutButton
	local f43_local2 = f43_arg3[f43_arg4]
	assert( f43_local1.Text )
	f43_local1.playerData = f43_local2
	f43_local1.index = f43_arg4
	if not Engine.DDJFBBJAIG() and f43_local0.state == f0_local0.mix and #f43_arg3 <= f43_arg4 then
		f43_local1.index = f43_arg4 - #f43_arg3
		f43_arg2:SetEditButtonEnabled( false )
	end
	f43_local1.isLoadout = true
	f43_local1.isDefault = f43_arg5
	if LOADOUT.MATCHRULES.LoadoutHasRestrictedItem( f43_local2 ) then
		ACTIONS.AnimateSequence( f43_local1, "RestrictionOn" )
	else
		ACTIONS.AnimateSequence( f43_local1, "RestrictionOff" )
	end
	if CONDITIONS.InGame() then
		if not PROGRESSION.AreCustomLoadoutsUnlocked( f43_arg1 ) then
			f43_arg0.UnlockText:SetAlpha( 1 )
			if f43_arg4 == 3 and not PROGRESSION.IsUnlocked( f43_arg1, LOOT.itemTypes.FEATURE, "loadout_4" ) then
				f43_local1:SetButtonDisabled( true )
				f43_local1.buttonDescription = PROGRESSION.GetUnlockText( f43_arg1, LOOT.itemTypes.FEATURE, "loadout_4" )
			elseif f43_arg4 == 4 and not PROGRESSION.IsUnlocked( f43_arg1, LOOT.itemTypes.FEATURE, "loadout_5" ) then
				f43_local1:SetButtonDisabled( true )
				f43_local1.buttonDescription = PROGRESSION.GetUnlockText( f43_arg1, LOOT.itemTypes.FEATURE, "loadout_5" )
			else
				f43_local1.buttonDescription = ""
			end
		end
		if not f43_arg5 and not Engine.BGGJFFFAFG( f43_arg1 ) and not CONDITIONS.InGameAndBRLoadoutSelect( f43_arg0 ) then
			f43_local1:AddTooltipData( f43_arg1, {
				promptsData = {
					{
						button_ref = "button_start",
						keyprompt_text = LocalizeString( "[{ONFOOT_MP:changeclass" .. f43_arg4 + 1 .. "}]" ),
						helper_text = Engine.CBBHFCGDIC( "MENU/QUICK_SWITCH" )
					}
				}
			} )
		else
			f43_local1:RemoveToolTipData()
		end
	end
	if not Engine.DDJFBBJAIG() then
		if f0_local0( f43_arg0, f43_arg1, f43_local1.index, f43_local1.isDefault ) then
			f43_local1:SetSelected( f43_arg1, true )
		else
			f43_local1:SetSelected( f43_arg1, false )
		end
		f43_local1.defaultLoadout = f43_arg0.defaultLoadouts[f43_local1.index + 1]
		f43_arg2.EditButton.index = f43_arg4
		f43_arg2.EditButton.playerData = f43_local2
		if f43_local0.state == f0_local0.mix then
			local f43_local3 = f43_arg2
			local f43_local4 = f43_arg2.AddDividingLine
			local f43_local5
			if f43_arg5 or f43_arg4 + 1 ~= #f43_arg3 then
				f43_local5 = false
			else
				f43_local5 = true
			end
			local f43_local6 = f43_arg0.openedForPlunderBox
			if not f43_local6 then
				f43_local6 = CONDITIONS.IsBRLoadoutGameType( f43_arg0 )
			end
			f43_local4( f43_local3, f43_local5, f43_local6 )
		end
	end
	local f43_local4 = 0
	if CONDITIONS.InGameAndBRLoadoutSelect( f43_arg0 ) and not f43_local1:IsDisabled() then
		if f43_arg0.openedForPlunderBox == true then
			local f43_local3 = 0
			local f43_local5 = true
			if f43_arg5 then
				f43_local3 = tonumber( StringTable.DIFCHIGDFB( CSV.brKioskPurchases.file, CSV.brKioskPurchases.cols.type, "loadout_default", CSV.brKioskPurchases.cols.cost ) )
			else
				f43_local3 = tonumber( StringTable.DIFCHIGDFB( CSV.brKioskPurchases.file, CSV.brKioskPurchases.cols.type, "loadout_custom", CSV.brKioskPurchases.cols.cost ) )
			end
			local f43_local6 = DataSources.inGame.player.BRData.squadIndex:GetValue( f43_arg1 )
			if f43_local6 then
				if f43_local6 <= 1 then
					f43_local6 = ""
				end
			else
				f43_local6 = ""
			end
			local f43_local7 = DataSources.inGame.player.BRData["plunderAmount" .. f43_local6]:GetValue( f43_arg1 ) < f43_local3
			f43_local1:SetCost( f43_local3 * BRLOOT.PLUNDER_QUANTITY_SCALING_FACTOR, f43_local7 )
			if f43_local7 == false then
				f43_local1:SetButtonDisabled( false )
			end
		else
			f43_local1:DisableCost()
			f43_local1:SetButtonDisabled( false )
		end
	end
	local f43_local8 = f43_local1.Text
	local f43_local5 = f43_local8
	f43_local8 = f43_local8.setText
	local f43_local6
	if f43_arg5 then
		f43_local6 = Engine.CBBHFCGDIC( f43_local1.defaultLoadout.name )
		if not f43_local6 then
		
		else
			f43_local8( f43_local5, f43_local6 )
			if not f43_local1.handlersAdded then
				f43_local8 = function ( f48_arg0, f48_arg1 )
					if not Engine.DDJFBBJAIG() then
						if f43_arg0( f43_arg0, f43_arg0, f43_arg0.index, f43_arg0.isDefault ) then
							f43_arg0.LoadoutSelectButtons.EquippedWidget:UpdateVisibility( true )
							ACTIONS.AnimateSequence( f43_arg0.LoadoutSelectButtons.EquippedWidget, "TurnOn" )
						else
							f43_arg0.LoadoutSelectButtons.EquippedWidget:UpdateVisibility( false )
						end
					end
					f43_arg0.LoadoutSelectButtons:SetupGridItems( f43_arg0, f48_arg0.index, f48_arg0.playerData, f48_arg0.isDefault and f48_arg0.defaultLoadout )
					f43_arg0._focusedLoadoutIndex = f43_arg0.index
					if not Engine.DDJFBBJAIG() and not f48_arg0.isDefault and f43_arg0.openedForPlunderBox ~= true and not CONDITIONS.IsBRLoadoutGameType( f48_arg0 ) then
						f43_arg0:SetEditButtonEnabled( true )
					end
					if Engine.DDJFBBJAIG() then
						f43_arg0( f43_arg0, f43_arg0, f43_arg0, f48_arg0.index )
					end
					f43_arg0( f43_arg0, f43_arg0, f48_arg0.playerData )
				end
				
				f43_local1.refreshDetailsGrid = f43_local8
				f43_local1:addEventHandler( "button_over", f43_local8 )
				f43_local1:addEventHandler( "button_over_disable", f43_local8 )
				f43_local1:addEventHandler( "tab_changed", f43_local8 )
				f43_local1:addEventHandler( "tab_changed", function ( f47_arg0, f47_arg1 )
					if f47_arg0.isDefault then
						f43_arg0:SetEditButtonEnabled( false )
					end
				end )
				local f43_local3 = function ( f46_arg0, f46_arg1 )
					local f46_local0 = LUI.FlowManager.GetScopedData( f43_arg0 )
					f46_local0.selectedLoadoutIndex = f46_arg0.index
					f43_arg0( f43_arg0, f43_arg0, f43_arg0, f46_arg0.index )
				end
				
				if not Engine.DDJFBBJAIG() then
					f43_local1:addEventHandler( "button_action", function ( f44_arg0, f44_arg1 )
						local f44_local0 = f44_arg0.index
						if f44_arg0.isDefault then
							f44_local0 = f44_local0 + LOADOUT.DEFAULT_LOADOUT_INDEX_START
						end
						f43_arg0.selectedLoadout:SetValue( f43_arg0, f44_local0 )
						if f43_arg0.openedForPlunderBox == true then
							LUI.FlowManager.RequestPopupMenu( f43_arg0, "BRLoadoutPurchaseConfirmPopup", true, f43_arg0, false, {
								defaultFocusIndex = 1,
								yesAction = function ()
									f44_arg0.selectedLoadout:SetValue( f44_arg0, f44_arg0 )
									Engine.EBHIFJCGBH( "br_loadout_purchase", f44_arg0 )
								end,
								message = Engine.CBBHFCGDIC( "MP_BR_INGAME/DO_YOU_WANT_TO_PURCHASE_N_FOR_N", f43_arg0.Text and f43_arg0.Text:getText() or "", f43_arg0 )
							} )
						else
							f43_arg0.selectedLoadout:SetValue( f43_arg0, f44_local0 )
							Engine.EBHIFJCGBH( "class_select", f44_local0 )
							if CONDITIONS.IsThirdGameMode( self ) and not f44_arg0.isDefault then
								local f44_local1 = PlayerData.BFFBGAJGD( f43_arg0, LOADOUT.GetLoadoutStatsGroup() )
								f44_local1.squadMembers.cpLoadoutSel:set( f44_local0 )
							end
							LUI.FlowManager.RequestCloseAllMenus()
						end
						local f44_local1 = LUI.FlowManager.GetScopedData( f43_arg0 )
						if f44_local1.cacSessionDlogOnGoing then
							METRICS.CacSessionEndSendDLogEvent( f43_arg0, f44_local1.sessionID, f44_local1.cacSessionStartTime, METRICS.CacExitReasons.PLAYER_SELECTED_LOADOUT )
							f44_local1.cacSessionDlogOnGoing = nil
						end
					end )
					f43_arg2.EditButton:addEventHandler( "button_action", f43_local3 )
				else
					f43_local1:addEventHandler( "button_action", f43_local3 )
				end
				f43_local1.handlersAdded = true
			end
			if Engine.DDJFBBJAIG() then
				if IsOnlineMatch() then
					assert( f43_arg2.Star )
					local f43_local8, f43_local3 = LOADOUT.GetFavoriteLoadoutIndex( f43_arg1 )
					if f43_arg4 == f43_local8 then
						f43_local5 = not f43_local3
					else
						f43_local5 = false
					end
					f43_local6 = f43_arg2.Star
					local f43_local7 = f43_local6
					f43_local6 = f43_local6.SetAlpha
					local f43_local9
					if f43_local5 then
						f43_local9 = 1
					else
						f43_local9 = 0
					end
					f43_local6( f43_local7, f43_local9 )
				end
				f0_local0( f43_arg0, f43_arg1, f43_local1 )
			end
			if CONDITIONS.IsBRLoadoutGameType( self ) and f43_arg2.LoadoutButton and f43_arg2.LoadoutButton.BRWarning then
				if f43_arg5 then
					f43_local8 = f43_local1.defaultLoadout.perks[1]
					if not f43_local8 then
					
					else
						local f43_local3
						if f43_arg5 then
							f43_local3 = f43_local1.defaultLoadout.perks[2]
							if not f43_local3 then
							
							else
								if f43_arg5 then
									f43_local5 = f43_local1.defaultLoadout.perks[3]
									if not f43_local5 then
									
									else
										f43_local6 = Cac.GetIsPerkDisabledForBR( f43_local8 )
										local f43_local10 = Cac.GetIsPerkDisabledForBR( f43_local3 )
										local f43_local7 = Cac.GetIsPerkDisabledForBR( f43_local5 )
										local f43_local9 = f43_arg2.LoadoutButton.BRWarning
										local f43_local11 = f43_local9
										f43_local9 = f43_local9.SetShowWarningIcon
										local f43_local12
										if not f43_local6 then
											f43_local12 = f43_local6
										elseif not f43_local10 then
											f43_local12 = f43_local10
										else
											f43_local12 = f43_local7
										end
										f43_local9( f43_local11, f43_local12 )
									end
								end
								f43_local5 = f43_local2.loadoutPerks[2]:get()
							end
						end
						f43_local3 = f43_local2.loadoutPerks[1]:get()
					end
				end
				f43_local8 = f43_local2.loadoutPerks[0]:get()
			end
		end
	end
	f43_local6 = f43_local2.name:get()
end

local f0_local26 = function ( f41_arg0, f41_arg1 )
	if Engine.DDJFBBJAIG() then
		FrontEndScene.SetExclusiveWeaponModels( {
			FrontEndScene.ClientWeapons.GunTablePrimary,
			FrontEndScene.ClientWeapons.GunTableSecondary,
			FrontEndScene.ClientWeapons.Watch
		} )
		Engine.DHFCHIIJCA( "loadout_showcase" )
		FrontEndScene.HideWeaponModels()
		local f41_local0 = MenuBuilder.BuildRegisteredType( "FrontendCameraMover", {
			enableSway = true,
			controllerIndex = f41_arg1
		} )
		f41_local0:SetLimits( f0_local0, f0_local0, f0_local0, f0_local0 )
		f41_local0:SetSwayValues( f0_local0, 0.06, 0.1 )
		f41_arg0.FrontendCameraMover = f41_local0
		f41_arg0:addElement( f41_local0 )
		f41_arg0.FrontendCameraMover:addEventHandler( "update_camera_limits", function ( f42_arg0, f42_arg1 )
			f42_arg0:SetLimits( f42_arg1.isZoomed and f41_arg0 or f41_arg0, f42_arg1.isZoomed and f41_arg0 or f41_arg0, f42_arg1.isZoomed and f41_arg0 or f41_arg0, f42_arg1.isZoomed and f41_arg0 or f41_arg0 )
			local f42_local0 = f42_arg1.isZoomed and f41_arg0 or f41_arg0
			f42_arg0:SetSwayValues( f41_arg0, 0.06, 0.1 )
		end )
		local f41_local1 = WATCH.GetEquippedWatch( f41_arg1 )
		local f41_local2 = WEAPON.GetWeaponModel( f41_arg1, FrontEndScene.ClientWeapons.Watch, CSV.weaponOffsets.watchFile )
		f41_arg0:addElement( f41_local2 )
		WATCH.SetWatchModelIfLoaded( f41_arg0, f41_arg1, f41_local2, f41_local1 )
	elseif f41_arg0.InGameLoadoutsMp then
		f41_arg0.InGameLoadouts = f41_arg0.InGameLoadoutsMp
	elseif f41_arg0.InGameLoadoutsBr then
		f41_arg0.InGameLoadouts = f41_arg0.InGameLoadoutsBr
	end
end

local f0_local27 = function ( f23_arg0, f23_arg1, f23_arg2 )
	f0_local0( f23_arg0, f23_arg1 )
	assert( f23_arg0.Loadouts or f23_arg0.InGameLoadouts )
	assert( f23_arg0.LoadoutSelectButtons )
	f23_arg0.DisplayLoadout = f0_local0
	f23_arg0.UpdateBundleUpsell = f0_local0
	local f23_local0 = PlayerData.BFFBGAJGD( f23_arg1, LOADOUT.GetLoadoutStatsGroup() )
	f23_local0 = f23_local0.squadMembers.loadouts
	f23_arg0.bindButton = LUI.UIBindButton.new()
	f23_arg0:addElement( f23_arg0.bindButton )
	local f23_local1 = false
	if CONDITIONS.IsThirdGameMode() and not Engine.DDJFBBJAIG() and Game.BFEEGCHICA( f23_arg1, "cp_open_cac" ) == -1 then
		f23_local1 = true
	end
	local f23_local2 = false
	if not Engine.DDJFBBJAIG() and CONDITIONS.IsBRGameType() and Game.BFEEGCHICA( f23_arg1, "ui_open_loadout_bag" ) then
		f23_local2 = true
	end
	if (f23_arg0.BundleUpsellButton or Dvar.IBEGCHEFE( "MRKSTPMLT" )) and Engine.DDJFBBJAIG() then
		f23_arg0._bundleVariants = WEAPON.GetPriorityVariants( f23_arg1, {
			excludeOwned = true,
			useBaseRefKeys = true
		} )
		f23_arg0._bundleVariants = WEAPON.GetAllVariantsInStore( f23_arg1, {
			excludeOwned = true,
			useBaseRefKeys = true,
			variantsTable = f23_arg0._bundleVariants
		} )
		local f23_local3 = LUI.FlowManager.GetScopedData( f23_arg0 )
		f23_local3.bundleVariants = f23_arg0._bundleVariants
	end
	if not f23_arg2.openedFromScriptRequest or f23_local1 then
		assert( f23_arg0.HelperBar )
		assert( f23_arg0.HelperBar.ButtonHelperText )
		f23_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "left",
			button_ref = "button_secondary",
			priority = 0,
			helper_text = Engine.CBBHFCGDIC( "MENU/BACK" )
		} )
		f23_arg0.bindButton:addEventHandler( "button_secondary", function ( f40_arg0, f40_arg1 )
			local f40_local0 = LUI.FlowManager.GetScopedData( f23_arg0 )
			if f40_local0.menuState == f23_arg0.loadoutEdit then
				if not Engine.DDJFBBJAIG() then
					Engine.EBHIFJCGBH( "class_edit", f40_local0.selectedLoadoutIndex )
				end
				if f23_arg0.selectedLoadout ~= nil and f40_local0.selectedLoadoutIndex == f23_arg0.selectedLoadout:GetValue( f23_arg0 ) and not Engine.DDJFBBJAIG() then
					Engine.EBHIFJCGBH( "class_edit", f23_arg0.selectedLoadout:GetValue( f23_arg0 ) )
					f23_arg0( f23_arg0, f23_arg0 )
				else
					f23_arg0( f23_arg0, f23_arg0 )
				end
			else
				if f40_local0.cacSessionDlogOnGoing then
					METRICS.CacSessionEndSendDLogEvent( f23_arg0, f40_local0.sessionID, f40_local0.cacSessionStartTime, METRICS.CacExitReasons.PLAYER_EXIT )
					f40_local0.cacSessionDlogOnGoing = nil
				end
				if CONDITIONS.IsThirdGameMode() and not Engine.DDJFBBJAIG() then
					Engine.EBHIFJCGBH( "class_menu_closed", 1 )
					LUI.FlowManager.RequestCloseAllMenus()
				else
					ACTIONS.UploadStats( f23_arg0, f23_arg0 )
					ACTIONS.LeaveMenu( f23_arg0 )
				end
			end
		end )
		if not Engine.DDJFBBJAIG() and not CONDITIONS.IsThirdGameMode() and f23_arg2.openedForPlunderBox ~= true then
			f23_arg0:addEventHandler( "menu_create", function ()
				f23_arg0:AddButtonHelperText( {
					clickable = true,
					priority = 2,
					side = "left",
					kbmTooltipPromptOverload = "button_dismiss_pause_menu",
					button_ref = "button_start",
					helper_text = Engine.CBBHFCGDIC( "LUA_MENU/DISMISS_MENU" )
				} )
			end )
			f23_arg0.bindButton:addEventHandler( "button_start", function ( f38_arg0, f38_arg1 )
				if Engine.CAADCDEEIA() then
					ACTIONS.ResumeGame( f38_arg0 )
				end
				local f38_local0 = LUI.FlowManager.GetScopedData( f23_arg0 )
				if f38_local0.cacSessionDlogOnGoing then
					METRICS.CacSessionEndSendDLogEvent( f23_arg0, f38_local0.sessionID, f38_local0.cacSessionStartTime, METRICS.CacExitReasons.PLAYER_EXIT )
					f38_local0.cacSessionDlogOnGoing = nil
				end
				LUI.FlowManager.RequestCloseAllMenus( f23_arg0.id, false, f38_arg1.controller )
				return true
			end )
			MenuUtils.AddDismissPauseMenuKBMHandler( f23_arg0 )
		end
	elseif f23_local2 then
		f23_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
			side = "left",
			button_ref = "button_secondary",
			priority = 0,
			helper_text = Engine.CBBHFCGDIC( "MENU/BACK" )
		} )
		f23_arg0.bindButton:addEventHandler( "button_secondary", function ( f37_arg0, f37_arg1 )
			local f37_local0 = LUI.FlowManager.GetScopedData( f23_arg0 )
			if f37_local0.menuState == f23_arg0.loadoutEdit then
				if not Engine.DDJFBBJAIG() then
					Engine.EBHIFJCGBH( "class_edit", f37_local0.selectedLoadoutIndex )
					f23_arg0( f23_arg0, f23_arg0 )
				end
			else
				Engine.EBHIFJCGBH( "exit_loadout_bag", 1 )
				LUI.FlowManager.RequestCloseAllMenus()
			end
		end )
	else
		f23_arg0.isQuickAccessShortcutsDisabled = true
		f23_arg0.bindButton:addEventHandler( "button_secondary", function ( f36_arg0, f36_arg1 )
			local f36_local0 = LUI.FlowManager.GetScopedData( f23_arg0 )
			if f36_local0.menuState == f23_arg0.loadoutEdit then
				if not Engine.DDJFBBJAIG() then
					Engine.EBHIFJCGBH( "class_edit", f36_local0.selectedLoadoutIndex )
				end
				f23_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
					button_ref = "button_secondary"
				} )
				f23_arg0( f23_arg0, f23_arg0 )
			elseif CONDITIONS.IsBRLoadoutGameType( f23_arg0 ) and f36_local0.openedForPlunderBox ~= true then
				Engine.EBHIFJCGBH( "class_select", -1 )
				LUI.FlowManager.RequestCloseAllMenus()
			end
		end )
	end
	if CONDITIONS.InFrontendPublic() then
		f23_arg0:registerEventHandler( "update_weapon_master_summary", function ( element, event )
			if event.weaponRef and GUNSMITH.AreMasterChallengesEnabled( f23_arg0, event.weaponRef ) then
				f23_arg0.MasterChallenges:SetAlpha( 1 )
				f23_arg0.MasterChallenges:Setup( event.weaponRef )
				ACTIONS.AnimateSequence( f23_arg0, "ChallengesOn" )
			else
				f23_arg0.MasterChallenges:SetAlpha( 0 )
				ACTIONS.AnimateSequence( f23_arg0, "ChallengesOff" )
			end
		end )
	end
	if Engine.DDJFBBJAIG() then
		f23_arg0.bindButton:addEventHandler( "button_alt2", function ( f34_arg0, f34_arg1 )
			local f34_local0 = LUI.FlowManager.GetScopedData( f23_arg0 )
			if f34_local0.menuState == f23_arg0.loadoutEdit then
				return 
			else
				LUI.FlowManager.RequestPopupMenu( nil, "LoadoutOptions", true, f34_arg1.controller, false, {
					disableQuickAccessShortcuts = true,
					controllerIndex = f23_arg0,
					loadoutIndex = f23_arg0._focusedLoadoutIndex
				} )
			end
		end )
		f23_arg0:addEventHandler( "refresh_loadouts", function ( f33_arg0, f33_arg1 )
			f33_arg0.Loadouts:RefreshContent()
		end )
	end
	if not (not CONDITIONS.IsCoreMultiplayer( f23_arg0 ) or Engine.DDJFBBJAIG()) or CONDITIONS.IsThirdGameMode( f23_arg0 ) then
		f23_arg0.selectedLoadout = LUI.DataSourceInControllerModel.new( "cg.players.selectedLoadout" )
	end
	if not Engine.DDJFBBJAIG() then
		f23_arg0.defaultLoadouts = LOADOUT.GetDefaultLoadouts( f23_arg1 )
	end
	local f23_local3 = nil
	if f23_arg2.openedForPlunderBox == true then
		f23_local3 = LUI.FlowManager.GetScopedData( "brPlunderBox" )
		f23_arg0.openedForPlunderBox = true
		f23_local3.openedForPlunderBox = true
		f23_arg0.HelperBar:SetAlpha( 0 )
	else
		f23_local3 = LUI.FlowManager.GetScopedData( f23_arg0 )
	end
	if not f23_local3.sessionID then
		f23_local3.sessionID = Engine.DCJHCAFIIA()
	end
	if not f23_local3.cacSessionStartTime then
		f23_local3.cacSessionStartTime = Engine.DCJHCAFIIA()
	end
	if not f23_local3.cacSessionDlogOnGoing and not CONDITIONS.IsBRLoadoutGameType( f23_arg0 ) then
		METRICS.CacSessionStartSendDLogEvent( f23_arg1, f23_local3.sessionID )
		f23_local3.cacSessionDlogOnGoing = true
	end
	local f23_local4 = f23_local3.menuState
	if not f23_local4 then
		f23_local4 = f0_local0.loadoutSelect
	end
	f23_local3.menuState = f23_local4
	f23_arg0:dispatchEventToChildren( {
		name = "menu_state_updated",
		menuState = f23_local3.menuState
	} )
	f23_local4 = Engine.DDJFBBJAIG() and f23_arg0.Loadouts or f23_arg0.InGameLoadouts
	f23_local4:SetRefreshChild( function ( f32_arg0, f32_arg1, f32_arg2 )
		local f32_local0
		if f23_arg0.state ~= f23_arg0.default and (f23_arg0.state ~= f23_arg0.mix or #f23_arg0 > f32_arg2) then
			f32_local0 = false
		else
			f32_local0 = true
		end
		f23_arg0( f23_arg0, f23_arg0, f32_arg0, f23_arg0, f32_arg2, f32_local0 )
	end )
	f23_local4:SetDefaultFocus( function ()
		if f23_arg0.selectedLoadoutIndex then
			return {
				x = 0,
				y = f23_arg0.selectedLoadoutIndex
			}
		elseif f23_arg0.selectedLoadout and f23_arg0.selectedLoadout:GetValue( f23_arg0 ) then
			local f31_local0 = f23_arg0.selectedLoadout:GetValue( f23_arg0 )
			if f31_local0 >= LOADOUT.DEFAULT_LOADOUT_INDEX_START then
				local f31_local1 = PROGRESSION.AreCustomLoadoutsUnlocked( f23_arg0 )
				f31_local0 = f31_local0 - LOADOUT.DEFAULT_LOADOUT_INDEX_START
				if f31_local1 and not Game.BFEEGCHICA( f23_arg0, "ui_only_default_loadouts" ) and not Dvar.IBEGCHEFE( "NTMRRKSKPQ" ) then
					f31_local0 = f31_local0 + #f23_arg0
				end
			end
			return {
				x = 0,
				y = f31_local0
			}
		else
			
		end
	end )
	if not Engine.DDJFBBJAIG() then
		local f23_local5 = PROGRESSION.AreCustomLoadoutsUnlocked( f23_arg1 )
		if Game.BFEEGCHICA( f23_arg1, "ui_only_default_loadouts" ) then
			f23_arg0.InGameLoadouts.state = f0_local0.default
			if CONDITIONS.IsSnipersOnlyClasses() then
				f23_arg0.InGameLoadouts:SetNumChildren( LOADOUT.SnipersOnlyClassCount )
			else
				f23_local4:SetNumChildren( LOADOUT.DefaultClassCount )
			end
			f23_local4:RefreshContent()
		elseif f23_local5 and Dvar.IBEGCHEFE( "NTMRRKSKPQ" ) then
			local primaryWeaponModel = f23_arg0.selectedLoadout:GetValue( f23_arg1 )
			local secondaryWeaponModel
			if primaryWeaponModel then
				secondaryWeaponModel = primaryWeaponModel
			else
				secondaryWeaponModel = primaryWeaponModel >= LOADOUT.DEFAULT_LOADOUT_INDEX_START
			end
			local f23_local8 = {}
			table.insert( f23_local8, {
				name = Engine.CBBHFCGDIC( "MP_INGAME_ONLY/LOADOUT_TAB_CUSTOM" ),
				focusFunction = function ( f30_arg0, f30_arg1 )
					f23_arg0.InGameLoadouts.state = f23_arg0.custom
					f23_arg0.InGameLoadouts:SetNumChildren( #f23_arg0 )
					f23_arg0.InGameLoadouts:RefreshContent()
					f23_arg0.InGameLoadouts:ProcessEventToChildInFocus( {
						name = "tab_changed"
					} )
					Engine.BJDBIAGIDA( SOUND_SETS.default.tabHighlight )
				end,
				hasDefaultFocus = not secondaryWeaponModel
			}, Engine.BJDBIAGIDA( SOUND_SETS.default.tabHighlight ) )
			local f23_local9 = table.insert
			local f23_local10 = f23_local8
			local f23_local11 = {
				name = Engine.CBBHFCGDIC( "MP_INGAME_ONLY/LOADOUT_TAB_DEFAULT" ),
				focusFunction = function ( f29_arg0, f29_arg1 )
					f23_arg0.InGameLoadouts.state = f23_arg0.default
					if CONDITIONS.IsSnipersOnlyClasses() then
						f23_arg0.InGameLoadouts:SetNumChildren( LOADOUT.SnipersOnlyClassCount )
					else
						f23_arg0.InGameLoadouts:SetNumChildren( LOADOUT.DefaultClassCount )
					end
					f23_arg0.InGameLoadouts:RefreshContent()
					f23_arg0.InGameLoadouts:ProcessEventToChildInFocus( {
						name = "tab_changed"
					} )
					Engine.BJDBIAGIDA( SOUND_SETS.default.tabHighlight )
				end
			}
			local f23_local12
			if primaryWeaponModel then
				f23_local12 = secondaryWeaponModel
			else
				f23_local12 = true
			end
			f23_local11.hasDefaultFocus = f23_local12
			f23_local9( f23_local10, f23_local11, Engine.BJDBIAGIDA( SOUND_SETS.default.tabHighlight ) )
			f23_arg0.tabsData = f23_local8
			f23_arg0.InGameLoadoutTabs:SetTabs( f23_local8 )
		else
			if f23_local5 then
				f23_arg0.InGameLoadouts.state = f0_local0.mix
				if CONDITIONS.IsSnipersOnlyClasses() then
					f23_local4:SetNumChildren( #f23_local0 + LOADOUT.SnipersOnlyClassCount )
				else
					f23_local4:SetNumChildren( #f23_local0 + LOADOUT.DefaultClassCount )
				end
			else
				f23_arg0.InGameLoadouts.state = f0_local0.default
				if CONDITIONS.IsSnipersOnlyClasses() then
					f23_local4:SetNumChildren( LOADOUT.SnipersOnlyClassCount )
				else
					f23_local4:SetNumChildren( LOADOUT.DefaultClassCount )
				end
			end
			f23_local4:RefreshContent()
		end
	else
		f23_local4:SetNumChildren( #f23_local0 )
		f23_local4:RefreshContent()
	end
	if Engine.DDJFBBJAIG() then
		LAYOUT.AddAspectRatioFadeFrame( f23_arg0, f23_arg1 )
	else
		ACTIONS.ScaleFullscreen( f23_arg0.InGameMenuBackground )
		ACTIONS.ScaleFullscreen( f23_arg0.Vignette )
		ACTIONS.ScaleStretchAnchorFullscreen( f23_arg0.TabBacker )
	end
	f23_arg0.LoadoutSelectButtons:SetMouseHandling( false )
	local f23_local5 = f23_local3.selectedLoadoutIndex
	if not f23_local5 then
		f23_local5 = 1
	end
	f23_arg0.LoadoutSelectButtons:SetupGridItems( f23_arg1, f23_local5, f23_local0[f23_local5] )
	if f23_local3.menuState == f0_local0.loadoutEdit then
		if f23_local3.openedFromScriptRequest then
			f23_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
				side = "left",
				button_ref = "button_secondary",
				helper_text = Engine.CBBHFCGDIC( "MENU/BACK" )
			} )
		end
		if Engine.DDJFBBJAIG() then
			CLIENT_MODEL.UpdateModelsForLoadout( f23_arg0, f23_arg1, f23_local3.selectedLoadoutIndex )
		elseif f23_arg0.InGameLoadoutTabs then
			f23_arg0.InGameLoadoutTabs:DisableAll()
		end
		if Engine.DDJFBBJAIG() then
			f23_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
				button_ref = "button_alt2"
			} )
			f23_arg0.KBMLoadoutOptionsPrompt:SetAlpha( 0 )
		end
		ACTIONS.AnimateSequence( f23_arg0, "LoadoutEditSnap" )
		f23_arg0.MenuTitle:SetTitle( f23_local0[f23_local3.selectedLoadoutIndex].name:get() )
		if f23_arg0.LoadoutsScrollbar then
			f23_arg0.LoadoutsScrollbar:SetAlpha( 0 )
		end
		f23_arg0.LoadoutSelectButtons:SetMouseHandling( true )
		f0_local0( f23_arg0, false )
		f0_local0( f23_arg0, WZWIP.CheckForApplyPrependWZWipPrefix( "LoadoutEdit" ) )
		if f23_arg0.BundleUpsellButton then
			f23_arg0.BundleUpsellButton:HideButton()
		end
	else
		if not Engine.DDJFBBJAIG() then
			f23_arg0.MenuTitle:SetTitle( Engine.CBBHFCGDIC( "LUA_MENU/CHOOSE_LOADOUT" ) )
		else
			f23_arg0.MenuTitle:SetTitle( Engine.CBBHFCGDIC( "LUA_MENU/EDIT_LOADOUTS" ) )
		end
		f0_local0( f23_arg0, WZWIP.CheckForApplyPrependWZWipPrefix( "LoadoutPreview" ) )
	end
	if Engine.DDJFBBJAIG() then
		local primaryWeaponModel = f0_local0.loadoutSelect
		f23_arg0:addAndCallEventHandler( "update_input_type", function ( f28_arg0, f28_arg1 )
			local f28_local0 = LUI.FlowManager.GetScopedData( f28_arg0 )
			if f28_local0.menuState == f23_arg0 then
				if LUI.IsLastInputGamepad( f28_arg1.controllerIndex ) then
					f28_arg0.HelperBar.ButtonHelperText:PushButtonPrompt( {
						clickable = true,
						priority = 20,
						side = "left",
						gamepad_only = true,
						button_ref = "button_alt2",
						helper_text = Engine.CBBHFCGDIC( "LUA_MENU/LOADOUT_OPTIONS" )
					} )
					f28_arg0.KBMLoadoutOptionsPrompt:SetAlpha( 0 )
				else
					f28_arg0.HelperBar.ButtonHelperText:PopButtonPrompt( {
						button_ref = "button_alt2"
					} )
					f28_arg0.KBMLoadoutOptionsPrompt:SetAlpha( 1 )
				end
			end
		end, {
			controllerIndex = f23_arg1
		} )
	end
	if Engine.DDJFBBJAIG() then
		local primaryWeaponModel = WEAPON.GetWeaponModel( f23_arg1, FrontEndScene.ClientWeapons.GunTablePrimary )
		f23_arg0:addElement( primaryWeaponModel )
		f23_arg0.primaryWeaponModel = primaryWeaponModel
		
		local secondaryWeaponModel = WEAPON.GetWeaponModel( f23_arg1, FrontEndScene.ClientWeapons.GunTableSecondary )
		f23_arg0:addElement( secondaryWeaponModel )
		f23_arg0.secondaryWeaponModel = secondaryWeaponModel
		
		f23_arg0.LoadoutSelectButtons:SetupWeaponModelEvents( f23_arg1, {
			f23_arg0.primaryWeaponModel,
			f23_arg0.secondaryWeaponModel
		}, f23_local0 )
		if Engine.ECHCFGDDDF() then
			local f23_local8 = LUI.FlowManager.GetScopedData( f23_arg0 )
			f23_local8.controllerIndex = f23_arg1
			local f23_local9 = f23_local8.selectedLoadoutIndex
			if not f23_local9 then
				f23_local9 = 0
			end
			f23_local8.selectedLoadoutIndex = f23_local9
			MenuUtils.SetupSceneChangeCallbackWithMenuArg( f23_arg0, f0_local0 )
		end
		if f23_local3.menuState == f0_local0.loadoutEdit and f23_local3.selectedLoadoutIndex then
			f0_local0( f23_arg0, f23_arg1, f23_local0, f23_local3.selectedLoadoutIndex )
		end
	elseif f23_local3.menuState ~= f0_local0.loadoutEdit then
		if f23_local3.openedForPlunderBox == true or CONDITIONS.IsBRLoadoutGameType( f23_arg0 ) then
			ACTIONS.AnimateSequence( f23_arg0, "InGameLoadoutButtonsBr" )
		else
			ACTIONS.AnimateSequence( f23_arg0, "InGameLoadoutButtons" )
		end
	end
	f23_arg0:addEventHandler( "button_focused", function ( f27_arg0, f27_arg1 )
		if f27_arg1.button.isLoadout then
			local f27_local0 = f27_arg1.button:getParent()
			if f27_arg0.focusedButton and f27_arg0.focusedButton ~= f27_local0 then
				assert( f27_arg0.focusedButton )
				if not Engine.DDJFBBJAIG() then
					assert( f27_arg0.focusedButton.EditButton )
					f27_arg0.focusedButton:SetEditButtonEnabled( false )
				end
			end
			f27_arg0.focusedButton = f27_local0
		end
		return true
	end )
	f23_arg0:addEventHandler( "gain_focus", function ( f26_arg0, f26_arg1 )
		local f26_local0 = Engine.DDJFBBJAIG() and f26_arg0.Loadouts or f26_arg0.InGameLoadouts
		local f26_local1 = LUI.FlowManager.GetScopedData( f26_arg0 )
		local f26_local2 = false
		if f26_local1.menuState == f23_arg0.loadoutEdit then
			if f26_arg0.LoadoutSelectButtons then
				f26_arg0.LoadoutSelectButtons:processEvent( {
					name = "gain_focus",
					controller = f26_arg1.controller
				} )
				f26_local2 = true
			end
		else
			f26_local0:processEvent( {
				name = "gain_focus",
				controller = f26_arg1.controller
			} )
			f26_local2 = true
		end
		return f26_local2
	end )
	f0_local0( f23_arg0 )
	if LUI.IsLastInputKeyboardMouse( f23_arg1 ) and f23_local3.menuState == f0_local0.loadoutSelect then
		local primaryWeaponModel = f23_local4:GetBuiltChildren()
		if 0 < #primaryWeaponModel then
			if Engine.DDJFBBJAIG() then
				f23_arg0.focusedButton = primaryWeaponModel[1]
				primaryWeaponModel[1].LoadoutButton:refreshDetailsGrid( {
					name = "button_over"
				} )
			else
				local secondaryWeaponModel = primaryWeaponModel[1]
				for f23_local10, f23_local11 in ipairs( primaryWeaponModel ) do
					if f0_local0( f23_arg0, f23_arg1, f23_local11.LoadoutButton.index, f23_local11.LoadoutButton.isDefault ) then
						secondaryWeaponModel = f23_local11
					end
				end
				secondaryWeaponModel.LoadoutButton:refreshDetailsGrid( {
					name = "button_over"
				} )
				f23_arg0.focusedButton = secondaryWeaponModel
			end
		end
	end
	LUI.TextChat.SetupMenuForNoLine( f23_arg0 )
	if Engine.DDJFBBJAIG() then
		if CONDITIONS.IsThirdGameMode() then
			if not Onboarding.LoadoutCP.WasCompleted( f23_arg0, f23_arg1 ) then
				LUI.FlowManager.RequestPopupMenu( f23_arg0, "onboardingpopup", true, f23_arg1, false, ONBOARDING_DATA.GetOnboardingLoadoutData() )
				Onboarding.LoadoutCP.MarkCompleted( f23_arg0, f23_arg1 )
			end
		elseif MLG.IsCDLActive( f23_arg1 ) then
			if not Onboarding.CDL.WasCompleted( f23_arg0, f23_arg1 ) then
				LUI.FlowManager.RequestPopupMenu( f23_arg0, "onboardingpopup", true, f23_arg1, false, ONBOARDING_DATA.GetOnboardingCDLData() )
				Onboarding.CDL.MarkCompleted( f23_arg0, f23_arg1 )
			end
		elseif CONDITIONS.IsBRGameType() then
			if not Onboarding.WZDropKit.WasCompleted( f23_arg0, f23_arg1 ) then
				if CONDITIONS.IsWZWipFlowEnabled() and CONDITIONS.AreWZLoadoutsEnabled() then
					LUI.FlowManager.RequestPopupMenu( f23_arg0, "onboardingpopup", true, f23_arg1, false, ONBOARDING_DATA.GetOnboardingWZEditLoadoutData() )
				else
					LUI.FlowManager.RequestPopupMenu( f23_arg0, "onboardingpopup", true, f23_arg1, false, ONBOARDING_DATA.GetOnboardingWZDropKitData() )
				end
				Onboarding.WZDropKit.MarkCompleted( f23_arg0, f23_arg1 )
			end
		elseif not Onboarding.Loadout.WasCompleted( f23_arg0, f23_arg1 ) then
			LUI.FlowManager.RequestPopupMenu( f23_arg0, "onboardingpopup", true, f23_arg1, false, ONBOARDING_DATA.GetOnboardingLoadoutData() )
			Onboarding.Loadout.MarkCompleted( f23_arg0, f23_arg1 )
		end
		f23_arg0:registerEventHandler( "update_bundle_upsell", function ( element, event )
			element:UpdateBundleUpsell( f23_arg0, event.weaponRef )
			return true
		end )
	end
	f23_arg0:registerEventHandler( "lui_game_start_notify", function ( element, event )
		local f24_local0 = LUI.FlowManager.GetScopedData( element )
		if f24_local0.cacSessionDlogOnGoing then
			METRICS.CacSessionEndSendDLogEvent( f23_arg0, f24_local0.sessionID, f24_local0.cacSessionStartTime, METRICS.CacExitReasons.GAME_START_INTERRUPT )
			f24_local0.cacSessionDlogOnGoing = nil
		end
	end )
	if LOADOUT.MATCHRULES.IsThereARestrictedLoadout( f23_arg1 ) or Restrictions.ArePerksRestricted() then
		ACTIONS.AnimateSequence( f23_arg0, "RestrictionWarningOn" )
	else
		ACTIONS.AnimateSequence( f23_arg0, "RestrictionWarningOff" )
	end
	if f23_arg0.BundleUpsellButton then
		f23_arg0.BundleUpsellButton:SetUpsellMenu( "LoadoutSelect" )
	end
end

local f0_local28 = function ()
	local f22_local0 = LUI.FlowManager.GetScopedData( "LoadoutSelect" )
	if f22_local0.cacSessionDlogOnGoing then
		METRICS.CacSessionEndSendDLogEvent( f22_local0.controllerIndex, f22_local0.sessionID, f22_local0.cacSessionStartTime, METRICS.CacExitReasons.UNEXPECTED_CLOSE )
		f22_local0.cacSessionDlogOnGoing = nil
	end
end

function LoadoutSelect( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "LoadoutSelect"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	f0_local0( self, f1_local1, controller )
	self.HelperBar = MenuBuilder.BuildRegisteredType( "ButtonHelperBar", {
		controllerIndex = f1_local1
	} )
	self.HelperBar.id = "HelperBar"
	self.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -85, 0 )
	self.HelperBar:setPriority( 10 )
	self:addElement( self.HelperBar )
	local f1_local2 = self
	local f1_local3 = nil
	if CONDITIONS.InGame( self ) then
		f1_local3 = MenuBuilder.BuildRegisteredType( "InGameMenuBackground", {
			controllerIndex = f1_local1
		} )
		f1_local3.id = "InGameMenuBackground"
		f1_local3:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		self:addElement( f1_local3 )
		self.InGameMenuBackground = f1_local3
	end
	local Vignette = nil
	
	Vignette = LUI.UIImage.new()
	Vignette.id = "Vignette"
	Vignette:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	Vignette:SetAlpha( 0.5, 0 )
	Vignette:setImage( RegisterMaterial( "widg_gradient_left_to_right" ), 0 )
	Vignette:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * -185, _1080p * -1058, 0, 0 )
	self:addElement( Vignette )
	self.Vignette = Vignette
	
	local f1_local5 = nil
	if not Engine.DDJFBBJAIG() then
		f1_local5 = MenuBuilder.BuildRegisteredType( "TabBacker", {
			controllerIndex = f1_local1
		} )
		f1_local5.id = "TabBacker"
		f1_local5:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 160 )
		self:addElement( f1_local5 )
		self.TabBacker = f1_local5
	end
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( ToUpperCase( Engine.CBBHFCGDIC( "LUA_MENU/CHOOSE_LOADOUT" ) ), 0 )
	MenuTitle.Line:SetLeft( 0, 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 562, 0, _1080p * 100 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local f1_local7 = nil
	if CONDITIONS.InFrontend( self ) then
		f1_local7 = LUI.UIGrid.new( {
			scrollingThresholdX = 1,
			buildArrowsLabel = false,
			maxVelocity = 5000,
			adjustSizeToContent = true,
			scrollingThresholdY = 1,
			wrapX = true,
			maxVisibleColumns = 1,
			maxVisibleRows = 10,
			wrapY = true,
			arrowsVerticalOffset = 0,
			forcePrimaryAxisScrolling = true,
			springCoefficient = 400,
			controllerIndex = f1_local1,
			buildChild = function ()
				return MenuBuilder.BuildRegisteredType( "FrontendLoadoutButton", {
					controllerIndex = menu
				} )
			end,
			refreshChild = function ( f20_arg0, f20_arg1, f20_arg2 )
				
			end,
			spacingX = _1080p * 8,
			spacingY = _1080p * 8,
			columnWidth = _1080p * 370,
			rowHeight = _1080p * 60,
			horizontalAlignment = LUI.Alignment.Left,
			verticalAlignment = LUI.Alignment.Top
		} )
		f1_local7.id = "Loadouts"
		f1_local7:setUseStencil( false )
		f1_local7:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 475, _1080p * 170, _1080p * 503 )
		self:addElement( f1_local7 )
		self.Loadouts = f1_local7
	end
	local f1_local8 = nil
	if CONDITIONS.InGame( self ) then
		f1_local8 = MenuBuilder.BuildRegisteredType( "ButtonDescriptionText", {
			controllerIndex = f1_local1
		} )
		f1_local8.id = "UnlockText"
		f1_local8.Description:SetRight( _1080p * 500, 0 )
		f1_local8:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 509, _1080p * 556, _1080p * 588 )
		self:addElement( f1_local8 )
		self.UnlockText = f1_local8
	end
	local f1_local9 = nil
	if CONDITIONS.InGameAndMPLoadoutSelect( self ) then
		f1_local9 = LUI.UIGrid.new( {
			scrollingThresholdX = 0,
			buildArrowsLabel = false,
			maxVelocity = 5000,
			adjustSizeToContent = true,
			scrollingThresholdY = 1,
			wrapX = false,
			maxVisibleColumns = 1,
			wrapY = true,
			arrowsVerticalOffset = 0,
			forcePrimaryAxisScrolling = true,
			springCoefficient = 400,
			maxVisibleRows = SubtractForSplitscreen( 10, 5 ),
			controllerIndex = f1_local1,
			buildChild = function ()
				return MenuBuilder.BuildRegisteredType( "InGameLoadoutButton", {
					controllerIndex = menu
				} )
			end,
			refreshChild = function ( f18_arg0, f18_arg1, f18_arg2 )
				
			end,
			spacingX = _1080p * 8,
			spacingY = _1080p * 8,
			columnWidth = _1080p * 550,
			rowHeight = _1080p * 60,
			horizontalAlignment = LUI.Alignment.Left,
			verticalAlignment = LUI.Alignment.Top
		} )
		f1_local9.id = "InGameLoadoutsMp"
		f1_local9:setUseStencil( true )
		f1_local9:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 475, _1080p * 216, _1080p * 696 )
		self:addElement( f1_local9 )
		self.InGameLoadoutsMp = f1_local9
	end
	local f1_local10 = nil
	if CONDITIONS.InGameAndBRLoadoutSelect( self ) then
		f1_local10 = LUI.UIGrid.new( {
			scrollingThresholdX = 0,
			buildArrowsLabel = false,
			maxVelocity = 5000,
			adjustSizeToContent = true,
			scrollingThresholdY = 1,
			wrapX = false,
			maxVisibleColumns = 1,
			wrapY = true,
			arrowsVerticalOffset = 0,
			forcePrimaryAxisScrolling = true,
			springCoefficient = 400,
			maxVisibleRows = SubtractForSplitscreen( 10, 5 ),
			controllerIndex = f1_local1,
			buildChild = function ()
				return MenuBuilder.BuildRegisteredType( "BRInGameLoadoutButton", {
					controllerIndex = menu
				} )
			end,
			refreshChild = function ( f16_arg0, f16_arg1, f16_arg2 )
				
			end,
			spacingX = _1080p * 8,
			spacingY = _1080p * 8,
			columnWidth = _1080p * 500,
			rowHeight = _1080p * 40,
			horizontalAlignment = LUI.Alignment.Left,
			verticalAlignment = LUI.Alignment.Top
		} )
		f1_local10.id = "InGameLoadoutsBr"
		f1_local10:setUseStencil( false )
		f1_local10:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 130, _1080p * 630, _1080p * 216, _1080p * 696 )
		self:addElement( f1_local10 )
		self.InGameLoadoutsBr = f1_local10
	end
	local LoadoutSelectButtons = nil
	
	LoadoutSelectButtons = MenuBuilder.BuildRegisteredType( "LoadoutSelectButtons", {
		controllerIndex = f1_local1
	} )
	LoadoutSelectButtons.id = "LoadoutSelectButtons"
	LoadoutSelectButtons:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 536, _1080p * 1686, _1080p * 170, _1080p * 976 )
	self:addElement( LoadoutSelectButtons )
	self.LoadoutSelectButtons = LoadoutSelectButtons
	
	local f1_local12 = nil
	if not Engine.DDJFBBJAIG() and CONDITIONS.AreInGameLoadoutTabsEnabled( self, f1_local1 ) then
		f1_local12 = LUI.TabManager.new( {
			spacing = 4,
			wrap = false,
			tabHeight = _1080p * 52,
			buildTab = function ()
				return MenuBuilder.BuildRegisteredType( "SubMenuTab", {
					controllerIndex = menu
				} )
			end,
			controllerIndex = f1_local1
		} )
		f1_local12.id = "InGameLoadoutTabs"
		f1_local12:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 90, _1080p * 539, _1080p * 108, _1080p * 160 )
		self:addElement( f1_local12 )
		self.InGameLoadoutTabs = f1_local12
	end
	local f1_local13 = nil
	if not Engine.DDJFBBJAIG() then
		f1_local13 = MenuBuilder.BuildRegisteredType( "InGameMenuTimerStatus", {
			controllerIndex = f1_local1
		} )
		f1_local13.id = "InGameMenuTimerStatus"
		f1_local13:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -200, _1080p * 200, _1080p * 54, _1080p * 104 )
		self:addElement( f1_local13 )
		self.InGameMenuTimerStatus = f1_local13
	end
	local ListNumber = nil
	
	ListNumber = LUI.UIStyledText.new()
	ListNumber.id = "ListNumber"
	ListNumber:SetRGBFromTable( SWATCHES.CAC.labelText, 0 )
	ListNumber:setText( "", 0 )
	ListNumber:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	ListNumber:SetAlignment( LUI.Alignment.Center )
	ListNumber:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 227, _1080p * 391, _1080p * 908, _1080p * 932 )
	self:addElement( ListNumber )
	self.ListNumber = ListNumber
	
	local f1_local15 = nil
	if CONDITIONS.InFrontendPublicMP( self ) then
		f1_local15 = MenuBuilder.BuildRegisteredType( "MPPlayerDetails", {
			controllerIndex = f1_local1
		} )
		f1_local15.id = "MPPlayerDetails"
		f1_local15:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -596, _1080p * -96, _1080p * 54, _1080p * 114 )
		self:addElement( f1_local15 )
		self.MPPlayerDetails = f1_local15
	end
	local f1_local16 = nil
	if CONDITIONS.InFrontendPublic( self ) then
		f1_local16 = MenuBuilder.BuildRegisteredType( "WeaponMasterSummary", {
			controllerIndex = f1_local1
		} )
		f1_local16.id = "MasterChallenges"
		f1_local16:SetAlpha( 0, 0 )
		f1_local16:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -672, _1080p * -96, _1080p * 216, _1080p * 396 )
		self:addElement( f1_local16 )
		self.MasterChallenges = f1_local16
	end
	local f1_local17 = nil
	if not Engine.DDJFBBJAIG() and not CONDITIONS.IsSplitscreen( self ) then
		f1_local17 = MenuBuilder.BuildRegisteredType( "TalkersList", {
			controllerIndex = f1_local1
		} )
		f1_local17.id = "TalkersList"
		f1_local17:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -447, _1080p * -96, _1080p * 154, _1080p * 529 )
		self:addElement( f1_local17 )
		self.TalkersList = f1_local17
	end
	local f1_local18 = nil
	if CONDITIONS.InFrontend( self ) then
		f1_local18 = MenuBuilder.BuildRegisteredType( "LobbyMembersFooter", {
			controllerIndex = f1_local1
		} )
		f1_local18.id = "LobbyMembersFooter"
		f1_local18:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 150 )
		self:addElement( f1_local18 )
		self.LobbyMembersFooter = f1_local18
	end
	local f1_local19 = nil
	if Engine.DDJFBBJAIG() then
		f1_local19 = LUI.UIStyledText.new()
		f1_local19.id = "KBMLoadoutOptionsPrompt"
		f1_local19:SetAlpha( 0, 0 )
		f1_local19:setText( Engine.CBBHFCGDIC( "LUA_MENU/LOADOUT_OPTIONS_PROMPT" ), 0 )
		f1_local19:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
		f1_local19:SetAlignment( LUI.Alignment.Left )
		f1_local19:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 568, _1080p * 1068, _1080p * 142, _1080p * 160 )
		self:addElement( f1_local19 )
		self.KBMLoadoutOptionsPrompt = f1_local19
	end
	local RestrictionLoadoutWarning = nil
	
	RestrictionLoadoutWarning = MenuBuilder.BuildRegisteredType( "RestrictionLoadoutWarning", {
		controllerIndex = f1_local1
	} )
	RestrictionLoadoutWarning.id = "RestrictionLoadoutWarning"
	RestrictionLoadoutWarning:SetAlpha( 0, 0 )
	RestrictionLoadoutWarning:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -180, _1080p * 180, _1080p * 114, _1080p * 144 )
	self:addElement( RestrictionLoadoutWarning )
	self.RestrictionLoadoutWarning = RestrictionLoadoutWarning
	
	local f1_local21 = nil
	if not Engine.DDJFBBJAIG() and CONDITIONS.IsSplitscreen( self ) then
		f1_local21 = MenuBuilder.BuildRegisteredType( "VerticalMinimalScrollbar", {
			controllerIndex = f1_local1
		} )
		f1_local21.id = "LoadoutsScrollbar"
		f1_local21:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 96, _1080p * 107, _1080p * 170, _1080p * 502 )
		self:addElement( f1_local21 )
		self.LoadoutsScrollbar = f1_local21
	end
	local f1_local22 = nil
	if Engine.DDJFBBJAIG() then
		f1_local22 = MenuBuilder.BuildRegisteredType( "BundleUpsellButton", {
			controllerIndex = f1_local1
		} )
		f1_local22.id = "BundleUpsellButton"
		f1_local22:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -546, _1080p * -96, _1080p * 775, _1080p * 979 )
		self:addElement( f1_local22 )
		self.BundleUpsellButton = f1_local22
	end
	local f1_local23 = nil
	if Engine.DDJFBBJAIG() then
		f1_local23 = MenuBuilder.BuildRegisteredType( "CDLRestrictionTag", {
			controllerIndex = f1_local1
		} )
		f1_local23.id = "CDLRestrictionTag"
		f1_local23.CDLInfo:SetAlpha( 1, 0 )
		f1_local23:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1508, _1080p * 1824, _1080p * 170, _1080p * 200 )
		self:addElement( f1_local23 )
		self.CDLRestrictionTag = f1_local23
	end
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local24 = nil
	if CONDITIONS.InFrontend( self ) then
		f1_local7:RegisterAnimationSequence( "LoadoutButtons", {
			{
				value = 1,
				duration = -28,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	LoadoutSelectButtons:RegisterAnimationSequence( "LoadoutButtons", {
		{
			duration = -28,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 534
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1684
		}
	} )
	ListNumber:RegisterAnimationSequence( "LoadoutButtons", {
		{
			value = 1,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.LoadoutButtons = function ()
		if CONDITIONS.InFrontend( menu ) then
			menu:AnimateSequence( "LoadoutButtons" )
		end
		menu:AnimateSequence( "LoadoutButtons" )
		menu:AnimateSequence( "LoadoutButtons" )
	end
	
	local f1_local25 = nil
	if CONDITIONS.InFrontend( self ) then
		f1_local7:RegisterAnimationSequence( "LoadoutEdit", {
			{
				value = 0,
				duration = -28,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	if CONDITIONS.InGameAndMPLoadoutSelect( self ) then
		f1_local9:RegisterAnimationSequence( "LoadoutEdit", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	if CONDITIONS.InGameAndBRLoadoutSelect( self ) then
		f1_local10:RegisterAnimationSequence( "LoadoutEdit", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	LoadoutSelectButtons:RegisterAnimationSequence( "LoadoutEdit", {
		{
			duration = -28,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 96
		},
		{
			duration = -28,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1246
		}
	} )
	if not Engine.DDJFBBJAIG() and CONDITIONS.AreInGameLoadoutTabsEnabled( self, f1_local1 ) then
		f1_local12:RegisterAnimationSequence( "LoadoutEdit", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	ListNumber:RegisterAnimationSequence( "LoadoutEdit", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	if not Engine.DDJFBBJAIG() and CONDITIONS.IsSplitscreen( self ) then
		f1_local21:RegisterAnimationSequence( "LoadoutEdit", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	self._sequences.LoadoutEdit = function ()
		if CONDITIONS.InFrontend( menu ) then
			menu:AnimateSequence( "LoadoutEdit" )
		end
		if CONDITIONS.InGameAndMPLoadoutSelect( menu ) then
			menu:AnimateSequence( "LoadoutEdit" )
		end
		if CONDITIONS.InGameAndBRLoadoutSelect( menu ) then
			menu:AnimateSequence( "LoadoutEdit" )
		end
		menu:AnimateSequence( "LoadoutEdit" )
		if not Engine.DDJFBBJAIG() and CONDITIONS.AreInGameLoadoutTabsEnabled( menu, menu ) then
			menu:AnimateSequence( "LoadoutEdit" )
		end
		menu:AnimateSequence( "LoadoutEdit" )
		if not Engine.DDJFBBJAIG() and CONDITIONS.IsSplitscreen( menu ) then
			menu:AnimateSequence( "LoadoutEdit" )
		end
	end
	
	local f1_local26 = nil
	if CONDITIONS.InFrontend( self ) then
		f1_local7:RegisterAnimationSequence( "LoadoutEditSnap", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	if CONDITIONS.InGameAndMPLoadoutSelect( self ) then
		f1_local9:RegisterAnimationSequence( "LoadoutEditSnap", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	if CONDITIONS.InGameAndBRLoadoutSelect( self ) then
		f1_local10:RegisterAnimationSequence( "LoadoutEditSnap", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	LoadoutSelectButtons:RegisterAnimationSequence( "LoadoutEditSnap", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 96
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1246
		}
	} )
	if not Engine.DDJFBBJAIG() and CONDITIONS.AreInGameLoadoutTabsEnabled( self, f1_local1 ) then
		f1_local12:RegisterAnimationSequence( "LoadoutEditSnap", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	ListNumber:RegisterAnimationSequence( "LoadoutEditSnap", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.LoadoutEditSnap = function ()
		if CONDITIONS.InFrontend( menu ) then
			menu:AnimateSequence( "LoadoutEditSnap" )
		end
		if CONDITIONS.InGameAndMPLoadoutSelect( menu ) then
			menu:AnimateSequence( "LoadoutEditSnap" )
		end
		if CONDITIONS.InGameAndBRLoadoutSelect( menu ) then
			menu:AnimateSequence( "LoadoutEditSnap" )
		end
		menu:AnimateSequence( "LoadoutEditSnap" )
		if not Engine.DDJFBBJAIG() and CONDITIONS.AreInGameLoadoutTabsEnabled( menu, menu ) then
			menu:AnimateSequence( "LoadoutEditSnap" )
		end
		menu:AnimateSequence( "LoadoutEditSnap" )
	end
	
	local f1_local27 = nil
	if CONDITIONS.InGameAndMPLoadoutSelect( self ) then
		f1_local9:RegisterAnimationSequence( "InGameLoadoutButtons", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	LoadoutSelectButtons:RegisterAnimationSequence( "InGameLoadoutButtons", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 680
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1824
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 216
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 1022
		}
	} )
	if not Engine.DDJFBBJAIG() and CONDITIONS.AreInGameLoadoutTabsEnabled( self, f1_local1 ) then
		f1_local12:RegisterAnimationSequence( "InGameLoadoutButtons", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	ListNumber:RegisterAnimationSequence( "InGameLoadoutButtons", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	if not Engine.DDJFBBJAIG() and CONDITIONS.IsSplitscreen( self ) then
		f1_local21:RegisterAnimationSequence( "InGameLoadoutButtons", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	self._sequences.InGameLoadoutButtons = function ()
		if CONDITIONS.InGameAndMPLoadoutSelect( menu ) then
			menu:AnimateSequence( "InGameLoadoutButtons" )
		end
		menu:AnimateSequence( "InGameLoadoutButtons" )
		if not Engine.DDJFBBJAIG() and CONDITIONS.AreInGameLoadoutTabsEnabled( menu, menu ) then
			menu:AnimateSequence( "InGameLoadoutButtons" )
		end
		menu:AnimateSequence( "InGameLoadoutButtons" )
		if not Engine.DDJFBBJAIG() and CONDITIONS.IsSplitscreen( menu ) then
			menu:AnimateSequence( "InGameLoadoutButtons" )
		end
	end
	
	local f1_local28 = nil
	if CONDITIONS.InGameAndMPLoadoutSelect( self ) then
		f1_local9:RegisterAnimationSequence( "Splitscreen", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 170
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 650
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 117
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 496
			}
		} )
	end
	LoadoutSelectButtons:RegisterAnimationSequence( "Splitscreen", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 1026
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 220
		}
	} )
	if not Engine.DDJFBBJAIG() then
		f1_local13:RegisterAnimationSequence( "Splitscreen", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 760
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 1160
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 34
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 84
			}
		} )
	end
	ListNumber:RegisterAnimationSequence( "Splitscreen", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 232
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 532
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 396
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 556
		}
	} )
	self._sequences.Splitscreen = function ()
		if CONDITIONS.InGameAndMPLoadoutSelect( menu ) then
			menu:AnimateSequence( "Splitscreen" )
		end
		menu:AnimateSequence( "Splitscreen" )
		if not Engine.DDJFBBJAIG() then
			menu:AnimateSequence( "Splitscreen" )
		end
		menu:AnimateSequence( "Splitscreen" )
	end
	
	local f1_local29 = nil
	if CONDITIONS.InGame( self ) then
		f1_local3:RegisterAnimationSequence( "InGameLoadoutButtonsBr", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	Vignette:RegisterAnimationSequence( "InGameLoadoutButtonsBr", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	MenuTitle:RegisterAnimationSequence( "InGameLoadoutButtonsBr", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	if CONDITIONS.InGameAndBRLoadoutSelect( self ) then
		f1_local10:RegisterAnimationSequence( "InGameLoadoutButtonsBr", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	LoadoutSelectButtons:RegisterAnimationSequence( "InGameLoadoutButtonsBr", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 648
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 1792
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 216
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 1022
		}
	} )
	if not Engine.DDJFBBJAIG() and CONDITIONS.AreInGameLoadoutTabsEnabled( self, f1_local1 ) then
		f1_local12:RegisterAnimationSequence( "InGameLoadoutButtonsBr", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	ListNumber:RegisterAnimationSequence( "InGameLoadoutButtonsBr", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	if not Engine.DDJFBBJAIG() and not CONDITIONS.IsSplitscreen( self ) then
		f1_local17:RegisterAnimationSequence( "InGameLoadoutButtonsBr", {} )
	end
	self._sequences.InGameLoadoutButtonsBr = function ()
		if CONDITIONS.InGame( menu ) then
			menu:AnimateSequence( "InGameLoadoutButtonsBr" )
		end
		menu:AnimateSequence( "InGameLoadoutButtonsBr" )
		menu:AnimateSequence( "InGameLoadoutButtonsBr" )
		if CONDITIONS.InGameAndBRLoadoutSelect( menu ) then
			menu:AnimateSequence( "InGameLoadoutButtonsBr" )
		end
		menu:AnimateSequence( "InGameLoadoutButtonsBr" )
		if not Engine.DDJFBBJAIG() and CONDITIONS.AreInGameLoadoutTabsEnabled( menu, menu ) then
			menu:AnimateSequence( "InGameLoadoutButtonsBr" )
		end
		menu:AnimateSequence( "InGameLoadoutButtonsBr" )
		if not Engine.DDJFBBJAIG() and not CONDITIONS.IsSplitscreen( menu ) then
			menu:AnimateSequence( "InGameLoadoutButtonsBr" )
		end
	end
	
	local f1_local30 = nil
	RestrictionLoadoutWarning:RegisterAnimationSequence( "RestrictionWarningOff", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.RestrictionWarningOff = function ()
		menu:AnimateSequence( "RestrictionWarningOff" )
	end
	
	local f1_local31 = nil
	RestrictionLoadoutWarning:RegisterAnimationSequence( "RestrictionWarningOn", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.RestrictionWarningOn = function ()
		menu:AnimateSequence( "RestrictionWarningOn" )
	end
	
	local f1_local32 = nil
	if Engine.DDJFBBJAIG() then
		f1_local23:RegisterAnimationSequence( "ChallengesOn", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 124
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 154
			}
		} )
	end
	self._sequences.ChallengesOn = function ()
		if Engine.DDJFBBJAIG() then
			menu:AnimateSequence( "ChallengesOn" )
		end
	end
	
	self._sequences.ChallengesOff = function ()
		
	end
	
	if Engine.DDJFBBJAIG() then
		f1_local22:addEventHandler( "button_over", function ( f3_arg0, f3_arg1 )
			local f3_local0 = f3_arg1.controller or menu
			ACTIONS.AnimateSequenceByElement( menu, {
				elementPath = "self.BundleUpsellButton",
				sequenceName = "ButtonOver",
				elementName = "BundleUpsellButton"
			} )
		end )
		f1_local22:addEventHandler( "button_up", function ( f2_arg0, f2_arg1 )
			local f2_local0 = f2_arg1.controller or menu
			ACTIONS.AnimateSequenceByElement( menu, {
				elementPath = "self.BundleUpsellButton",
				sequenceName = "ButtonUp",
				elementName = "BundleUpsellButton"
			} )
		end )
	end
	if CONDITIONS.InGameAndMPLoadoutSelect( self ) and CONDITIONS.IsSplitscreen( self ) then
		local bindButton = LUI.UIScrollbar.new
		local f1_local34 = {
			direction = LUI.DIRECTION.vertical,
			eventListener = f1_local21,
			startCap = f1_local21.startCap,
			endCap = f1_local21.endCap,
			sliderArea = f1_local21.sliderArea
		}
		local f1_local35 = f1_local21.sliderArea
		if f1_local35 then
			f1_local35 = f1_local21.sliderArea.slider
		end
		f1_local34.slider = f1_local35
		f1_local35 = f1_local21.sliderArea
		if f1_local35 then
			f1_local35 = f1_local21.sliderArea.fixedSizeSlider
		end
		f1_local34.fixedSizeSlider = f1_local35
		f1_local9:AddScrollbar( bindButton( f1_local34 ) )
	end
	if CONDITIONS.InGameAndMPLoadoutSelect( self ) then
		f1_local9:AddItemNumbers( ListNumber )
	end
	if CONDITIONS.InGameAndBRLoadoutSelect( self ) then
		f1_local10:AddItemNumbers( ListNumber )
	end
	self.HelperBar.ButtonHelperText:PushButtonPrompt( {
		side = "left",
		button_ref = "button_primary",
		priority = 1,
		helper_text = Engine.CBBHFCGDIC( "LUA_MENU/SELECT" )
	} )
	
	local bindButton = LUI.UIBindButton.new()
	bindButton.id = "selfBindButton"
	self:addElement( bindButton )
	self.bindButton = bindButton
	
	f0_local0( self, f1_local1, controller )
	if CONDITIONS.IsSplitscreen( self ) then
		ACTIONS.AnimateSequence( self, "Splitscreen" )
	end
	return self
end

MenuBuilder.registerType( "LoadoutSelect", LoadoutSelect )
LUI.FlowManager.RegisterStackPopBehaviour( "LoadoutSelect", f0_local28 )
LockTable( _M )
