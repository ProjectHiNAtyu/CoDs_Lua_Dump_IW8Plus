-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
EventRewards = EventRewards or {}
EventRewards.RewardEvents = {
	DOV = 1,
	VG_REVEAL = 2,
	LEP_DISRUPTOR = 3
}
EventRewards.RewardsTable = {
	[EventRewards.RewardEvents.DOV] = {
		challengeIds = {
			nil,
			-7210
		},
		ProcessRewards = function ( f8_arg0, f8_arg1, f8_arg2 )
			LUI.FlowManager.RequestPopupMenu( f8_arg0, "FutureTitleUpsellPopup", true, f8_arg1, false, {
				freeRewards = true
			} )
		end
	},
	[EventRewards.RewardEvents.VG_REVEAL] = {
		challengeIds = {
			nil,
			-4929,
			-4928,
			-4927,
			-4926,
			-4925,
			-4924,
			-4923,
			-4922,
			-4921
		},
		ProcessRewards = function ( f7_arg0, f7_arg1, f7_arg2 )
			LUI.FlowManager.RequestPopupMenu( f7_arg0, "ChallengeRewardsPopup", true, f7_arg1, false, {
				freeRewards = true,
				rewards = f7_arg2,
				toastNotificationDetails = {
					icon = "hud_info_alert",
					displayTime = 3000,
					header = Engine.CBBHFCGDIC( "MENU/NOTICE" ),
					description = Engine.CBBHFCGDIC( "STORE/VG_EVENT_REWARD_DESC" )
				}
			} )
		end
	},
	[EventRewards.RewardEvents.LEP_DISRUPTOR] = {
		challengeIds = {
			nil,
			-4903,
			-4902,
			-4901
		},
		ProcessRewards = function ( f6_arg0, f6_arg1, f6_arg2 )
			LUI.FlowManager.RequestPopupMenu( f6_arg0, "ChallengeRewardsPopup", true, f6_arg1, false, {
				freeRewards = true,
				rewards = f6_arg2,
				toastNotificationDetails = {
					icon = "hud_info_alert",
					displayTime = 3000,
					header = Engine.CBBHFCGDIC( "MENU/NOTICE" ),
					description = Engine.CBBHFCGDIC( "BR_LEP_EVENT/LEP_EVENT_REWARD_DESC" )
				}
			} )
		end
	}
}
EventRewards.IsChallengeIDApplicable = function ( f5_arg0, f5_arg1 )
	for f5_local0 = 1, #f5_arg0, 1 do
		if f5_arg1 == f5_arg0[f5_local0] then
			return true
		end
	end
	return false
end

EventRewards.BuildRewardsTable = function ( f4_arg0, f4_arg1 )
	local f4_local0 = OnlineAAR.BIJEDCBCBH( f4_arg0 )
	local f4_local1 = {}
	if f4_local0 and f4_local0.Challenges then
		for f4_local2 = 1, #f4_local0.Challenges, 1 do
			local f4_local5 = tonumber( f4_local0.Challenges[f4_local2].ID )
			if EventRewards.IsChallengeIDApplicable( EventRewards.RewardsTable[f4_arg1].challengeIds, f4_local5 ) then
				table.insert( f4_local1, f4_local5 )
			end
		end
	end
	return f4_local1
end

EventRewards.HasSeenRewards = function ( f3_arg0, f3_arg1 )
	local f3_local0 = LUI.DataSourceInGlobalModel.new( "frontend.EventRewards" .. f3_arg1 )
	return f3_local0:GetValue( f3_arg0 )
end

EventRewards.MarkSeen = function ( f2_arg0, f2_arg1 )
	local f2_local0 = LUI.DataSourceInGlobalModel.new( "frontend.EventRewards" .. f2_arg1 )
	f2_local0:SetValue( f2_arg0, true )
end

EventRewards.CheckAndProcessRewards = function ( f1_arg0, f1_arg1 )
	for f1_local0 = 1, #EventRewards.RewardsTable, 1 do
		local f1_local3 = EventRewards.HasSeenRewards( f1_arg1, f1_local0 )
		local f1_local4 = EventRewards.BuildRewardsTable( f1_arg1, f1_local0 )
		if not f1_local3 and 0 < #f1_local4 then
			EventRewards.MarkSeen( f1_arg1, f1_local0 )
			EventRewards.RewardsTable[f1_local0].ProcessRewards( f1_arg0, f1_arg1, f1_local4 )
		end
	end
end

