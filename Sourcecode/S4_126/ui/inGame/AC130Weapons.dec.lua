-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
module( ..., package.seeall )
require( "ui.inGame.AC130Weapon" )
require( "ui.inGame.AC130Ammo105mm" )
require( "ui.inGame.AC130Ammo40mm" )
require( "ui.inGame.AC130Ammo25mm" )
local f0_local0 = function ( f7_arg0, f7_arg1, f7_arg2 )
	assert( f7_arg0.Weapon25mm )
	assert( f7_arg0.Weapon40mm )
	assert( f7_arg0.Weapon105mm )
	assert( f7_arg0.Ammo25mm )
	assert( f7_arg0.Ammo40mm )
	assert( f7_arg0.Ammo105mm )
	assert( f7_arg0.Highlight )
	if CONDITIONS.IsGamepadEnabled() then
		assert( f7_arg0.KeyBinding )
	end
	f7_arg0.Weapon25mm:SetupProgressBar( "ui_killsreak_weapon_3_reloadtime" )
	f7_arg0.Weapon40mm:SetupProgressBar( "ui_killsreak_weapon_2_reloadtime" )
	f7_arg0.Weapon105mm:SetupProgressBar( "ui_killsreak_weapon_1_reloadtime" )
	f7_arg0:SubscribeToModel( DataSources.inGame.MP.scorestreakHuds.ac130Weapon:GetModel( f7_arg1 ), function ( f11_arg0 )
		local f11_local0 = DataModel[0x614D394F6F9A18D]( f11_arg0 )
		assert( f11_local0 )
		ACTIONS.AnimateSequence( f7_arg0.Weapon25mm, "Inactive" )
		ACTIONS.AnimateSequence( f7_arg0.Weapon40mm, "Inactive" )
		ACTIONS.AnimateSequence( f7_arg0.Weapon105mm, "Inactive" )
		f7_arg0.currentWeapon = f11_local0
		if f11_local0 == STREAK.AC130_WEAPON_25MM_ID then
			ACTIONS.AnimateSequence( f7_arg0, "Active25mm" )
			ACTIONS.AnimateSequence( f7_arg0.Weapon25mm, "Active" )
		elseif f11_local0 == STREAK.AC130_WEAPON_40MM_ID then
			ACTIONS.AnimateSequence( f7_arg0, "Active40mm" )
			ACTIONS.AnimateSequence( f7_arg0.Weapon40mm, "Active" )
		elseif f11_local0 == STREAK.AC130_WEAPON_105MM_ID then
			ACTIONS.AnimateSequence( f7_arg0, "Active105mm" )
			ACTIONS.AnimateSequence( f7_arg0.Weapon105mm, "Active" )
		end
	end )
	f7_arg0:SubscribeToModel( DataSources.inGame.MP.scorestreakHuds.ac130Weapon25Ammo:GetModel( f7_arg1 ), function ( f10_arg0 )
		local f10_local0 = DataModel[0x614D394F6F9A18D]( f10_arg0 )
		if f10_local0 == 0 then
			f7_arg0.weapon25mmReloading = true
			ACTIONS.AnimateSequence( f7_arg0.Weapon25mm, "Reloading" )
		elseif f10_local0 == STREAK.AC130_WEAPON_25MM_AMMO_MAX then
			f7_arg0.weapon25mmReloading = false
			if f7_arg0.currentWeapon == STREAK.AC130_WEAPON_25MM_ID then
				ACTIONS.AnimateSequence( f7_arg0.Weapon25mm, "ReadyActive" )
			else
				ACTIONS.AnimateSequence( f7_arg0.Weapon25mm, "ReadyInactive" )
			end
		end
		f7_arg0.Ammo25mm:UpdateAmmoCount( f10_local0 )
	end )
	f7_arg0:SubscribeToModel( DataSources.inGame.MP.scorestreakHuds.ac130Weapon40Ammo:GetModel( f7_arg1 ), function ( f9_arg0 )
		local f9_local0 = DataModel[0x614D394F6F9A18D]( f9_arg0 )
		if f9_local0 == 0 then
			f7_arg0.weapon40mmReloading = true
			ACTIONS.AnimateSequence( f7_arg0.Weapon40mm, "Reloading" )
		elseif f9_local0 == STREAK.AC130_WEAPON_40MM_AMMO_MAX then
			f7_arg0.weapon40mmReloading = false
			if f7_arg0.currentWeapon == STREAK.AC130_WEAPON_40MM_ID then
				ACTIONS.AnimateSequence( f7_arg0.Weapon40mm, "ReadyActive" )
			else
				ACTIONS.AnimateSequence( f7_arg0.Weapon40mm, "ReadyInactive" )
			end
		end
		f7_arg0.Ammo40mm:UpdateAmmoCount( f9_local0 )
	end )
	f7_arg0:SubscribeToModel( DataSources.inGame.MP.scorestreakHuds.ac130Weapon105Ammo:GetModel( f7_arg1 ), function ( f8_arg0 )
		local f8_local0 = DataModel[0x614D394F6F9A18D]( f8_arg0 )
		if f8_local0 == 0 then
			f7_arg0.weapon105mmReloading = true
			ACTIONS.AnimateSequence( f7_arg0.Weapon105mm, "Reloading" )
		elseif f8_local0 == STREAK.AC130_WEAPON_105MM_AMMO_MAX then
			f7_arg0.weapon105mmReloading = false
			if f7_arg0.currentWeapon == STREAK.AC130_WEAPON_105MM_ID then
				ACTIONS.AnimateSequence( f7_arg0.Weapon105mm, "ReadyActive" )
			else
				ACTIONS.AnimateSequence( f7_arg0.Weapon105mm, "ReadyInactive" )
			end
		end
		f7_arg0.Ammo105mm:UpdateAmmoCount( f8_local0 )
	end )
	if CONDITIONS.IsCapturingFootage( f7_arg0 ) then
		ACTIONS.AnimateSequence( f7_arg0, "IsCapturingFootage" )
	end
end

function AC130Weapons( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 420 * _1080p, 0, 32 * _1080p )
	self.id = "AC130Weapons"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine[0x12586A3F4FB490E]() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1, "Missing controllerIndex!" )
	local f1_local2 = self
	local BackgroundFill = nil
	
	BackgroundFill = LUI.UIImage.new()
	BackgroundFill.id = "BackgroundFill"
	BackgroundFill:SetRGBFromTable( SWATCHES.genericButton.backgroundDisabled, 0 )
	BackgroundFill:SetAlpha( 0.5, 0 )
	BackgroundFill:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 420, 0, _1080p * 32 )
	self:addElement( BackgroundFill )
	self.BackgroundFill = BackgroundFill
	
	local Highlight = nil
	
	Highlight = LUI.UIImage.new()
	Highlight.id = "Highlight"
	Highlight:SetAlpha( 0.6, 0 )
	Highlight:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 140, _1080p * 280, 0, _1080p * 32 )
	self:addElement( Highlight )
	self.Highlight = Highlight
	
	local Weapon105mm = nil
	
	Weapon105mm = MenuBuilder.BuildRegisteredType( "AC130Weapon", {
		controllerIndex = f1_local1
	} )
	Weapon105mm.id = "Weapon105mm"
	Weapon105mm.NameText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "KILLSTREAKS/AC130_105MM" ) ), 0 )
	Weapon105mm:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 140, 0, _1080p * 32 )
	self:addElement( Weapon105mm )
	self.Weapon105mm = Weapon105mm
	
	local Weapon40mm = nil
	
	Weapon40mm = MenuBuilder.BuildRegisteredType( "AC130Weapon", {
		controllerIndex = f1_local1
	} )
	Weapon40mm.id = "Weapon40mm"
	Weapon40mm.NameText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "KILLSTREAKS/AC130_40MM" ) ), 0 )
	Weapon40mm:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 140, _1080p * 280, 0, _1080p * 32 )
	self:addElement( Weapon40mm )
	self.Weapon40mm = Weapon40mm
	
	local Weapon25mm = nil
	
	Weapon25mm = MenuBuilder.BuildRegisteredType( "AC130Weapon", {
		controllerIndex = f1_local1
	} )
	Weapon25mm.id = "Weapon25mm"
	Weapon25mm.NameText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( "KILLSTREAKS/AC130_25MM" ) ), 0 )
	Weapon25mm:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 280, _1080p * 420, 0, _1080p * 32 )
	self:addElement( Weapon25mm )
	self.Weapon25mm = Weapon25mm
	
	local Ammo105mm = nil
	
	Ammo105mm = MenuBuilder.BuildRegisteredType( "AC130Ammo105mm", {
		controllerIndex = f1_local1
	} )
	Ammo105mm.id = "Ammo105mm"
	Ammo105mm:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 140, _1080p * 40, _1080p * 88 )
	self:addElement( Ammo105mm )
	self.Ammo105mm = Ammo105mm
	
	local Ammo40mm = nil
	
	Ammo40mm = MenuBuilder.BuildRegisteredType( "AC130Ammo40mm", {
		controllerIndex = f1_local1
	} )
	Ammo40mm.id = "Ammo40mm"
	Ammo40mm:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 140, _1080p * 280, _1080p * 40, _1080p * 88 )
	self:addElement( Ammo40mm )
	self.Ammo40mm = Ammo40mm
	
	local Ammo25mm = nil
	
	Ammo25mm = MenuBuilder.BuildRegisteredType( "AC130Ammo25mm", {
		controllerIndex = f1_local1
	} )
	Ammo25mm.id = "Ammo25mm"
	Ammo25mm:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 280, _1080p * 420, _1080p * 40, _1080p * 88 )
	self:addElement( Ammo25mm )
	self.Ammo25mm = Ammo25mm
	
	local f1_local11 = nil
	if CONDITIONS.IsGamepadEnabled( self ) then
		f1_local11 = LUI.UIStyledText.new()
		f1_local11.id = "KeyBinding"
		f1_local11:SetRGBFromTable( SWATCHES.HUD.HUDMain, 0 )
		f1_local11:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/BUTTON_WEAPON_NEXT" ), 0 )
		f1_local11:SetFont( FONTS.GetFont( FONTS.MainRegularHeader.File ) )
		f1_local11:SetFontSize( 16 * _PT )
		f1_local11:SetMinFontSize( 16 * _PT )
		f1_local11:SetWordWrap( false )
		f1_local11:SetAlignment( LUI.Alignment.Center )
		f1_local11:SetTintFontIcons( true )
		f1_local11:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 140, _1080p * 280, _1080p * -25, _1080p * -7 )
		self:addElement( f1_local11 )
		self.KeyBinding = f1_local11
	end
	local Divider0 = nil
	
	Divider0 = LUI.UIImage.new()
	Divider0.id = "Divider0"
	Divider0:SetRGBFromTable( SWATCHES.HUD.stable, 0 )
	Divider0:SetAlpha( 0.6, 0 )
	Divider0:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 1, 0, 0 )
	self:addElement( Divider0 )
	self.Divider0 = Divider0
	
	local Divider1 = nil
	
	Divider1 = LUI.UIImage.new()
	Divider1.id = "Divider1"
	Divider1:SetRGBFromTable( SWATCHES.HUD.stable, 0 )
	Divider1:SetAlpha( 0.2, 0 )
	Divider1:SetAnchorsAndPosition( 0, 1, 0, 0, _1080p * 140, _1080p * 141, 0, 0 )
	self:addElement( Divider1 )
	self.Divider1 = Divider1
	
	local Divider2 = nil
	
	Divider2 = LUI.UIImage.new()
	Divider2.id = "Divider2"
	Divider2:SetRGBFromTable( SWATCHES.HUD.stable, 0 )
	Divider2:SetAlpha( 0.2, 0 )
	Divider2:SetAnchorsAndPosition( 0, 1, 0, 0, _1080p * 280, _1080p * 281, 0, 0 )
	self:addElement( Divider2 )
	self.Divider2 = Divider2
	
	local Divider3 = nil
	
	Divider3 = LUI.UIImage.new()
	Divider3.id = "Divider3"
	Divider3:SetRGBFromTable( SWATCHES.HUD.stable, 0 )
	Divider3:SetAlpha( 0.6, 0 )
	Divider3:SetAnchorsAndPosition( 0, 1, 0, 0, _1080p * 419, _1080p * 420, 0, 0 )
	self:addElement( Divider3 )
	self.Divider3 = Divider3
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local16 = nil
	Highlight:RegisterAnimationSequence( "Active105mm", {
		{
			value = 0,
			duration = 250,
			property = TWEEN_PROPERTY.Left,
			easing = LUI.EASING.outQuadratic
		},
		{
			duration = 250,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 140,
			easing = LUI.EASING.outQuadratic
		}
	} )
	Ammo105mm:RegisterAnimationSequence( "Active105mm", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Ammo40mm:RegisterAnimationSequence( "Active105mm", {
		{
			value = -2.3534382788928255E-185,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Ammo25mm:RegisterAnimationSequence( "Active105mm", {
		{
			value = -2.3534382788928255E-185,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	if CONDITIONS.IsGamepadEnabled( self ) then
		f1_local11:RegisterAnimationSequence( "Active105mm", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Left
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 140
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 1,
				duration = 500,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	self._sequences.Active105mm = function ()
		menu:AnimateSequence( "Active105mm" )
		menu:AnimateSequence( "Active105mm" )
		menu:AnimateSequence( "Active105mm" )
		menu:AnimateSequence( "Active105mm" )
		if CONDITIONS.IsGamepadEnabled( menu ) then
			menu:AnimateSequence( "Active105mm" )
		end
	end
	
	self._sequenceLengths.Active105mm = 500
	local f1_local17 = nil
	Highlight:RegisterAnimationSequence( "Active40mm", {
		{
			duration = 250,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 140,
			easing = LUI.EASING.outQuadratic
		},
		{
			duration = 250,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 280,
			easing = LUI.EASING.outQuadratic
		}
	} )
	Ammo105mm:RegisterAnimationSequence( "Active40mm", {
		{
			value = -2.3534382788928255E-185,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Ammo40mm:RegisterAnimationSequence( "Active40mm", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Ammo25mm:RegisterAnimationSequence( "Active40mm", {
		{
			value = -2.3534382788928255E-185,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	if CONDITIONS.IsGamepadEnabled( self ) then
		f1_local11:RegisterAnimationSequence( "Active40mm", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 140
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 280
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 1,
				duration = 500,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	self._sequences.Active40mm = function ()
		menu:AnimateSequence( "Active40mm" )
		menu:AnimateSequence( "Active40mm" )
		menu:AnimateSequence( "Active40mm" )
		menu:AnimateSequence( "Active40mm" )
		if CONDITIONS.IsGamepadEnabled( menu ) then
			menu:AnimateSequence( "Active40mm" )
		end
	end
	
	self._sequenceLengths.Active40mm = 500
	local f1_local18 = nil
	Highlight:RegisterAnimationSequence( "Active25mm", {
		{
			duration = 250,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 280,
			easing = LUI.EASING.outQuadratic
		},
		{
			duration = 250,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 420,
			easing = LUI.EASING.outQuadratic
		}
	} )
	Ammo105mm:RegisterAnimationSequence( "Active25mm", {
		{
			value = -2.3534382788928255E-185,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Ammo40mm:RegisterAnimationSequence( "Active25mm", {
		{
			value = -2.3534382788928255E-185,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	Ammo25mm:RegisterAnimationSequence( "Active25mm", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	if CONDITIONS.IsGamepadEnabled( self ) then
		f1_local11:RegisterAnimationSequence( "Active25mm", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 280
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 420
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 1,
				duration = 500,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
	end
	self._sequences.Active25mm = function ()
		menu:AnimateSequence( "Active25mm" )
		menu:AnimateSequence( "Active25mm" )
		menu:AnimateSequence( "Active25mm" )
		menu:AnimateSequence( "Active25mm" )
		if CONDITIONS.IsGamepadEnabled( menu ) then
			menu:AnimateSequence( "Active25mm" )
		end
	end
	
	self._sequenceLengths.Active25mm = 500
	local f1_local19 = nil
	if CONDITIONS.IsGamepadEnabled( self ) then
		f1_local11:RegisterAnimationSequence( "IsCapturingFootage", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Top
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Bottom
			}
		} )
	end
	self._sequences.IsCapturingFootage = function ()
		if CONDITIONS.IsGamepadEnabled( menu ) then
			menu:AnimateSequence( "IsCapturingFootage" )
		end
	end
	
	self._sequenceLengths.IsCapturingFootage = 0
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "AC130Weapons", AC130Weapons )
LockTable( _M )
