-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
DEBUGUTILS = DEBUGUTILS or {}
DEBUGUTILS.RankUpFromElementRank = function ( f5_arg0, f5_arg1, f5_arg2, f5_arg3 )
	local f5_local0 = f5_arg0:GetCurrentMenu()
	if not f5_local0 then
		
	else
		
	end
	local f5_local1 = PROGRESSION.GetPlayerRank( f5_arg1 )
	if f5_arg2 <= f5_local1 then
		LUI.FlowManager.RequestPopupMenu( self, "TestProgressionWarning", false, f5_arg1, false, {
			message = "Your target rank is higher or equal to your current rank. Please reset the rank data or change the target rank."
		} )
	end
	local f5_local2 = 0
	for f5_local3 = f5_local1 + 1, f5_arg2, 1 do
		f5_local2 = f5_local2 + PROGRESSION.GetRankXPToNext( f5_local3 )
	end
	AAR.Test_GivePlayerXP( f5_arg1, f5_local2 )
	f5_local0._locked = true
	ACTIONS.AnimateSequence( f5_local0, "Processing" )
	local f5_local4 = f5_local0:Wait( 8000 )
	f5_local4.onComplete = function ()
		f5_arg0._locked = false
		ACTIONS.AnimateSequence( f5_arg0, "Ready" )
		if ElementAndButtonUtils.HasFunction( f5_arg0, "UpdateRank" ) then
			f5_arg0:UpdateRank( f5_arg0 )
		end
	end
	
end

DEBUGUTILS.ResetPlayerStats = function ( f4_arg0, f4_arg1 )
	local f4_local0 = f4_arg0:GetCurrentMenu()
	if f4_local0 and f4_local0._locked then
		return 
	else
		AAR.Test_ResetPlayerStats( f4_arg1 )
	end
end

DEBUGUTILS.SetupRankGrid = function ( f1_arg0, f1_arg1, f1_arg2 )
	local f1_local0 = PROGRESSION.GetMaxRank() + 1
	f1_arg0:SetRefreshChild( function ( f2_arg0, f2_arg1, f2_arg2 )
		f2_arg0._rank = f1_arg0:GetContentIndex( f2_arg1, f2_arg2 ) + 1
		if ElementAndButtonUtils.HasFunction( f2_arg0, "SetText" ) then
			f2_arg0:SetText( f2_arg0._rank )
		end
		if not f2_arg0._eventHandlersAdded then
			f2_arg0:addEventHandler( "button_action", function ( f3_arg0, f3_arg1 )
				DEBUGUTILS.RankUpFromElementRank( f3_arg0, f2_arg0, f3_arg0._rank - 1, f2_arg0 )
				return false
			end )
			f2_arg0._eventHandlersAdded = true
		end
	end )
	f1_arg0:SetNumChildren( f1_local0 )
end

