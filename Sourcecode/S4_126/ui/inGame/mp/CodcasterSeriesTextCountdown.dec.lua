-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
local f0_local0 = {
	{
		name = "Visible",
		animations = {
			nil,
			"Intro"
		},
		visibilityEnum = LUI.Visibility.Visible,
		condition = function ( f8_arg0, f8_arg1, f8_arg2 )
			local f8_local0 = f8_arg2.dataSources.countdownTime:GetValue( f8_arg1 )
			local f8_local1 = f8_arg0._hasText
			if f8_local1 then
				f8_local1 = f8_arg0._canShow
				if f8_local1 then
					f8_local1 = CODCASTER.IsFirstRound( f8_arg1 )
					if f8_local1 then
						if f8_local0 > CODCASTER.SHOW_START_MATCH_SERIES_TEXT_AT or CODCASTER.SHOW_HUD_COUNTDOWN_SECONDS >= f8_local0 then
							f8_local1 = false
						else
							f8_local1 = true
						end
					end
				end
			end
			return f8_local1
		end
	},
	{
		visibilityLast = true,
		name = "Hidden",
		animationsFunction = CODCASTER.GetSeriesTextCountdownHideAnimations,
		visibilityEnum = LUI.Visibility.Hidden,
		condition = function ( f7_arg0, f7_arg1, f7_arg2 )
			return true
		end
	}
}
local f0_local1 = function ( f6_arg0, f6_arg1, f6_arg2 )
	local f6_local0 = DataSources.inGame.MP.codcaster.matchInfo
	local f6_local1 = f6_local0.seriesTextCaption:GetValue( f6_arg1 )
	local f6_local2 = f6_local0.seriesText:GetValue( f6_arg1 )
	f6_arg0.SeriesTextLine1:setText( f6_local1 )
	f6_arg0.SeriesTextLine2:setText( f6_local2 )
	local f6_local3
	if f6_local2 == "" and f6_local1 == "" then
		f6_local3 = false
	else
		f6_local3 = true
	end
	f6_arg0._hasText = f6_local3
	f6_arg0._canShow = f6_local0.seriesTextIntroEnabled:GetValue( f6_arg1 )
	CODCASTER.SetupVisualStateHandler( f6_arg0, f6_arg1, f0_local0, {
		dataSources = {
			countdownTime = DataSources.inGame.MP.match.countdownTime
		}
	} )
end

function CodcasterSeriesTextCountdown( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 530 * _1080p, 0, 166 * _1080p )
	self.id = "CodcasterSeriesTextCountdown"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local BG = nil
	
	BG = LUI.UIImage.new()
	BG.id = "BG"
	BG:setImage( RegisterMaterial( "v_esports_ui_elmnt_codcaster_fullmap_info_background" ), 0 )
	BG:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 530, 0, _1080p * 166 )
	self:addElement( BG )
	self.BG = BG
	
	local SeriesTextLine1 = nil
	
	SeriesTextLine1 = LUI.UIText.new()
	SeriesTextLine1.id = "SeriesTextLine1"
	SeriesTextLine1:setText( "", 0 )
	SeriesTextLine1:SetFont( FONTS.GetFont( FONTS.Abolition.File ) )
	SeriesTextLine1:SetFontSize( 30 * _PT )
	SeriesTextLine1:SetMinFontSize( 16 * _PT )
	SeriesTextLine1:SetWordWrap( false )
	SeriesTextLine1:SetTracking( 3 * _1080p, 0 )
	SeriesTextLine1:SetAlignment( LUI.Alignment.Left )
	SeriesTextLine1:SetVerticalAlignment( LUI.Alignment.Bottom )
	SeriesTextLine1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 41, _1080p * 523, _1080p * 34, _1080p * 69 )
	self:addElement( SeriesTextLine1 )
	self.SeriesTextLine1 = SeriesTextLine1
	
	local SeriesTextLine2 = nil
	
	SeriesTextLine2 = LUI.UIText.new()
	SeriesTextLine2.id = "SeriesTextLine2"
	SeriesTextLine2:setText( "", 0 )
	SeriesTextLine2:SetFont( FONTS.GetFont( FONTS.Abolition.File ) )
	SeriesTextLine2:SetFontSize( 60 * _PT )
	SeriesTextLine2:SetMinFontSize( 40 * _PT )
	SeriesTextLine2:SetWordWrap( false )
	SeriesTextLine2:SetTracking( 3 * _1080p, 0 )
	SeriesTextLine2:SetLeading( -5 * _1080p, 0 )
	SeriesTextLine2:SetAlignment( LUI.Alignment.Left )
	SeriesTextLine2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 41, _1080p * 523, _1080p * 69, _1080p * 152 )
	self:addElement( SeriesTextLine2 )
	self.SeriesTextLine2 = SeriesTextLine2
	
	local f1_local6 = nil
	BG:RegisterAnimationSequence( "DefaultSequence", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SeriesTextLine1:RegisterAnimationSequence( "DefaultSequence", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SeriesTextLine2:RegisterAnimationSequence( "DefaultSequence", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.DefaultSequence = function ()
		menu:AnimateSequence( "DefaultSequence" )
		menu:AnimateSequence( "DefaultSequence" )
		menu:AnimateSequence( "DefaultSequence" )
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local7 = nil
	BG:RegisterAnimationSequence( "Intro", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * -1
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 170,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 530
		}
	} )
	SeriesTextLine1:RegisterAnimationSequence( "Intro", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 160,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = -48,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -48,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SeriesTextLine2:RegisterAnimationSequence( "Intro", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 160,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = -48,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -48,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Intro = function ()
		menu:AnimateSequence( "Intro" )
		menu:AnimateSequence( "Intro" )
		menu:AnimateSequence( "Intro" )
	end
	
	self._sequenceLengths.Intro = 370
	local f1_local8 = nil
	BG:RegisterAnimationSequence( "Outro", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 30,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 530
		},
		{
			value = 1,
			duration = -38,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -58,
			property = TWEEN_PROPERTY.Right
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SeriesTextLine1:RegisterAnimationSequence( "Outro", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 30,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SeriesTextLine2:RegisterAnimationSequence( "Outro", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 30,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.Outro = function ()
		menu:AnimateSequence( "Outro" )
		menu:AnimateSequence( "Outro" )
		menu:AnimateSequence( "Outro" )
	end
	
	self._sequenceLengths.Outro = 100
	local f1_local9 = nil
	BG:RegisterAnimationSequence( "HideNoAnim", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SeriesTextLine1:RegisterAnimationSequence( "HideNoAnim", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	SeriesTextLine2:RegisterAnimationSequence( "HideNoAnim", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.HideNoAnim = function ()
		menu:AnimateSequence( "HideNoAnim" )
		menu:AnimateSequence( "HideNoAnim" )
		menu:AnimateSequence( "HideNoAnim" )
	end
	
	self._sequenceLengths.HideNoAnim = 0
	f0_local0( self, f1_local1, controller )
	ACTIONS.AnimateSequence( self, "DefaultSequence" )
	return self
end

MenuBuilder.registerType( "CodcasterSeriesTextCountdown", CodcasterSeriesTextCountdown )
LockTable( _M )
