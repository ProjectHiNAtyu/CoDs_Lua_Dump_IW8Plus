-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
LUI.LUIMixedElementPool = LUI.Class()
LUI.LUIMixedElementPool.init = function ( f6_arg0, f6_arg1 )
	f6_arg0._pool = {}
	f6_arg0.id = f6_arg1.id or ""
	f6_arg0._buildElementTable = {}
	f6_arg0._maxPoolSize = f6_arg1.maxPoolSize
	f6_arg0._sendEventOnAllocate = f6_arg1.sendEventOnAllocate or false
end

LUI.LUIMixedElementPool.RegisterElementType = function ( f5_arg0, f5_arg1, f5_arg2 )
	f5_arg0._buildElementTable[f5_arg1] = f5_arg2
end

LUI.LUIMixedElementPool.AllocateElement = function ( f4_arg0, f4_arg1 )
	local f4_local0, f4_local1 = nil
	for f4_local5, f4_local6 in ipairs( f4_arg0._pool ) do
		if f4_local6.inUse == false then
			if f4_local6.poolType == f4_arg1 then
				f4_local6.inUse = true
				if f4_arg0._sendEventOnAllocate then
					f4_local6:processEvent( {
						name = "pooled_on_allocate"
					} )
				end
				f4_local6:PooledElementAllocated()
				return f4_local6
			end
			f4_local0 = f4_local6
			f4_local1 = f4_local5
		end
	end
	if f4_arg0._maxPoolSize <= #f4_arg0._pool and f4_local0 and f4_local1 then
		table.remove( f4_arg0._pool, f4_local1 )
		f4_local0:closeTree()
	end
	f4_local2 = nil
	f4_local2 = f4_arg0._buildElementTable[f4_arg1]()
	f4_local2.pooledElement = true
	f4_local2.poolType = f4_arg1
	table.insert( f4_arg0._pool, 0, f4_local2 )
	f4_local2.inUse = true
	if f4_local2 and f4_arg0._sendEventOnAllocate then
		f4_local2:processEvent( {
			name = "pooled_on_allocate"
		} )
	end
	return f4_local2
end

LUI.LUIMixedElementPool.DeallocateElement = function ( f3_arg0, f3_arg1 )
	if f3_arg1.pooledElement then
		f3_arg1.inUse = false
		f3_arg1:PooledElementDeallocated()
		return true
	else
		return false
	end
end

LUI.LUIMixedElementPool.DeallocateAllElements = function ( f2_arg0 )
	for f2_local3, f2_local4 in ipairs( f2_arg0._pool ) do
		f2_local4.inUse = false
		f2_local4:PooledElementDeallocated()
	end
end

LUI.LUIMixedElementPool.IsTypeValid = function ( f1_arg0, f1_arg1 )
	return f1_arg0._buildElementTable[f1_arg1] ~= nil
end

