-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
LOADOUT = LOADOUT or {}
LOADOUT.NumLoadoutPerks = 3
LOADOUT.NumLoadoutExtraPerks = 3
LOADOUT.DefaultClassCount = 6
LOADOUT.DefaultStarterCount = 3
LOADOUT.MAX_LOADOUT_NAME_CHARACTERS = 20
LOADOUT.MAX_DEFAULT_COUNT = 10
LOADOUT.MAX_CUSTOM_SLOTS = LOADOUT.MAX_DEFAULT_COUNT
LOADOUT.MAX_CUSTOM_SLOTS_PS = 12
LOADOUT.MENU_STATE = {
	loadoutEdit = 2,
	loadoutSelect = 1
}
LOADOUT.IN_GAME_STATE = {
	default = 1,
	mix = 2,
	custom = 0
}
LOADOUT.GAME_TYPE = {
	WZ = 1,
	MP = 2
}
LOADOUT.ACTIVE_ARMORY_LEVEL = {
	UIWithoutXP = 1,
	Off = 0,
	XPBoost = 2,
	UIWithXP = 3
}
if not IsLanguageThai() then
	LOADOUT.ClassNames = {
		nil,
		0x6656CAEE26E1D4D,
		0x66569AEE26E1834,
		0x6656AAEE26E19E7,
		0x66567AEE26E14CE,
		0x66568AEE26E1681,
		0x66565AEE26E1168,
		0x66566AEE26E131B,
		0x66563AEE26E0E02,
		0x66564AEE26E0FB5,
		0xC752A2AC11C1B67,
		0xC75292AC11C19B4,
		0xC752C2AC11C1ECD
	}
else
	LOADOUT.ClassNames = {
		nil,
		0xDA9BAAEB2A78440,
		0xDA9BDAEB2A78959,
		0xDA9BCAEB2A787A6,
		0xDA9BFAEB2A78CBF,
		0xDA9BEAEB2A78B0C,
		0xDA9C1AEB2A79025,
		0xDA9C0AEB2A78E72,
		0xDA9C3AEB2A7938B,
		0xDA9C2AEB2A791D8,
		0xEECA6D992A60A50,
		0xEECA7D992A60C03,
		0xEECA8D992A60DB6
	}
end
LOADOUT.LOADOUT_OVERVIEW_REF = "LoadoutOverview"
LOADOUT.VINYL_1_SLOT = 1
LOADOUT.VINYL_2_SLOT = 2
LOADOUT.STICKER_1_SLOT = 3
LOADOUT.STICKER_2_SLOT = 4
LOADOUT.STICKER_3_SLOT = 5
LOADOUT.DLOG_VALIDATION_UNOWNED_ROOT = "dlog_event_frontend_validation_unowned"
LOADOUT.DLOG_VALIDATION_BLACKLISTED_WEAPON_ROOT = "dlog_event_frontend_validation_blacklisted_weapon"
LOADOUT.DLOG_VALIDATION_DUP_ATTACH_CATEGORY_ROOT = "dlog_event_frontend_validation_duplicate_attach_category"
LOADOUT.DLOG_VALIDATION_EXCESS_ATTACH_ROOT = "dlog_event_frontend_validation_excess_attachment"
LOADOUT.DLOG_VALIDATION_UNSUPPORTED_ATTACH_ROOT = "dlog_event_frontend_validation_unsupported_attach"
LOADOUT.DLOG_VALIDATION_UNEQUIP_SUFFIX = "_unequip"
LOADOUT.DLOG_VALIDATION_DENY_EQUIP_SUFFIX = "_deny_equip"
LOADOUT.GetLoadoutMenuRef = function ()
	DebugPrint( "Checking Loadout.GetMenuRef()" )
	if CONDITIONS.IsMobileOrMobileSim() then
		local f129_local0
		if CONDITIONS.InFrontend() then
			f129_local0 = "MobileCustomizationHub"
		else
			f129_local0 = "MobileIngameLoadoutSelection"
		end
		return f129_local0
	else
		return GL_HACK.GetLoadoutMenu()
	end
end

LOADOUT.GetWeaponMenuRef = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return "MobileWeaponSelectMenu"
	else
		return GL_HACK.GetWeaponMenu()
	end
end

LOADOUT.GetWeaponArmoryMenuRef = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return "MobileVariantSelectMenu"
	else
		return "WeaponArmoryTabs"
	end
end

LOADOUT.GetGunsmithTabsMenuRef = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return "MobileGunsmithTabsMenu"
	else
		return GL_HACK.GetGunsmithMenu()
	end
end

LOADOUT.GetAttachmentSelectMenuRef = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return "MobileAttachmentSelect"
	else
		return "AttachmentSelect"
	end
end

LOADOUT.GetPerkPackageSelectMenuRef = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return "MobilePerkPackageSelectMenu"
	else
		local f124_local0
		if GL_HACK.IsIW9LoadoutMenuEnabled() then
			f124_local0 = "PerkPackageSelectMenu"
		else
			f124_local0 = "PerkSelect"
		end
	end
	return f124_local0
end

LOADOUT.GetEquipmentSelectMenuRef = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return "MobileEquippableItemsSelectMenu"
	else
		return "EquipmentSelect"
	end
end

LOADOUT.GetFieldUpgradesSelectMenuRef = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return "MobileFieldUpgrades"
	else
		return "FieldUpgrades"
	end
end

LOADOUT.GetAddNewLoadoutMenuRef = function ()
	if not CONDITIONS.IsMobileOrMobileSim() then
		return "AddNewLoadoutMenu"
	else
		
	end
end

LOADOUT.GetStreakSelectMenuRef = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return "MobileStreakSelect"
	else
		return "StreakSelect"
	end
end

LOADOUT.GetWeaponPreviewMenuRef = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return "MobileWeaponPreview"
	else
		return "WeaponPreview"
	end
end

LOADOUT.OpenMobileStreakMenu = function ( f118_arg0 )
	LOADOUT.previousMagmaGameModeDvarValue = Dvar[0x9E5BE3B4BBA4E0E]( 0x5D05C0CBFA8BDC1 )
	Dvar[0x8EA06EEDB58D872]( 0x5D05C0CBFA8BDC1, false )
	URI.QueueURI( "./MobileStreakSelect", f118_arg0 )
end

LOADOUT.OpenMobileWeaponVariantMenu = function ( f117_arg0, f117_arg1 )
	local f117_local0 = "./" .. LOADOUT.GetWeaponArmoryMenuRef() .. "?selectingForWeapon=1&weaponRef=" .. f117_arg1.weaponRef
	if f117_arg1.forShowcase then
		f117_local0 = f117_local0 .. "&forShowcase=" .. tonumber( f117_arg1.forShowcase )
	end
	URI.QueueURI( f117_local0, f117_arg0 )
end

LOADOUT.OpenMobileWeaponMenu = function ( f116_arg0, f116_arg1 )
	URI.QueueURI( "./" .. LOADOUT.GetWeaponMenuRef() .. "?weaponSlot=" .. f116_arg1.weaponSlot .. "&loadoutIndex=" .. f116_arg1.loadoutIndex, f116_arg0 )
end

LOADOUT.OpenMobilePerkPackageMenu = function ( f115_arg0, f115_arg1 )
	URI.QueueURI( "./" .. LOADOUT.GetPerkPackageSelectMenuRef() .. "?loadoutIndex=" .. f115_arg1, f115_arg0 )
end

LOADOUT.OpenMobileEquipmentMenu = function ( f114_arg0, f114_arg1 )
	URI.QueueURI( "./" .. LOADOUT.GetEquipmentSelectMenuRef() .. "?loadoutIndex=" .. f114_arg1.loadoutIndex .. "&equipmentIndex=" .. f114_arg1.equipmentIndex .. "&gridType=" .. f114_arg1.gridType, f114_arg0 )
end

LOADOUT.OpenMobileFieldUpgradeMenu = function ( f113_arg0, f113_arg1 )
	URI.QueueURI( "./" .. LOADOUT.GetFieldUpgradesSelectMenuRef() .. "?loadoutIndex=" .. f113_arg1, f113_arg0 )
end

LOADOUT.RenameLoadoutCallback = function ( f112_arg0, f112_arg1, f112_arg2 )
	if CONDITIONS.IsMobileOrMobileSim() then
		LOADOUT.OpenMobileRenameLoadoutPopup( f112_arg1, f112_arg2 )
	else
		LOADOUT.OpenRenameLoadout( f112_arg0, f112_arg1, f112_arg2 )
	end
end

LOADOUT.MobileLoadoutOptionsPopupButtonsData = {
	{
		id = "FavoriteButton",
		name = Engine[0xED84C33EC5F01EA]( 0x108732B18BD8826 ),
		buttonDescription = Engine[0xED84C33EC5F01EA]( 0xFEF2BC9F963145C ),
		visible = function ( f111_arg0, f111_arg1, f111_arg2 )
			return false
		end,
		action = function ( f109_arg0, f109_arg1 )
			return function ( f110_arg0 )
				LOADOUT.SetFavoriteLoadout( f110_arg0, f109_arg0, f109_arg0.loadoutIndex )
				f110_arg0:dispatchEventToCurrentMenu( {
					text = nil,
					name = "update_button_description"
				} )
			end
			
		end
	},
	{
		isPrimaryAction = true,
		id = "RenameButton",
		name = Engine[0xED84C33EC5F01EA]( 0x19F50F69E65FC10 ),
		buttonDescription = Engine[0xED84C33EC5F01EA]( 0x58174AD2806133E ),
		action = function ( f107_arg0, f107_arg1 )
			return function ( f108_arg0 )
				LOADOUT.RenameLoadoutCallback( f108_arg0, f107_arg0, f107_arg0.loadoutIndex )
			end
			
		end
	}
}
LOADOUT.LoadoutOptionsPopupButtonsData = {
	{
		id = "FavoriteButton",
		name = Engine[0xED84C33EC5F01EA]( 0x108732B18BD8826 ),
		buttonDescription = Engine[0xED84C33EC5F01EA]( 0xFEF2BC9F963145C ),
		visible = function ( f106_arg0, f106_arg1, f106_arg2 )
			local f106_local0 = LOADOUT.GetFavoriteLoadoutIndex( f106_arg1 ) == f106_arg2.loadoutIndex
			local f106_local1 = CONDITIONS.CanShowFavorite()
			if f106_local1 then
				f106_local1 = not f106_local0
			end
			return f106_local1
		end,
		action = function ( f104_arg0, f104_arg1 )
			return function ( f105_arg0 )
				LOADOUT.SetFavoriteLoadout( f105_arg0, f104_arg0, f104_arg0.loadoutIndex )
				f105_arg0:dispatchEventToCurrentMenu( {
					text = nil,
					name = "update_button_description"
				} )
				f105_arg0:RemoveFromParent()
			end
			
		end
	},
	{
		id = "CopyButton",
		name = Engine[0xED84C33EC5F01EA]( 0x262056B854DB727 ),
		buttonDescription = Engine[0xED84C33EC5F01EA]( 0x2F6E207102BBAF9 ),
		action = function ( f102_arg0, f102_arg1 )
			return function ( f103_arg0 )
				LOADOUT.OpenLoadoutCopyPopup( f102_arg0, f102_arg0.loadoutIndex )
			end
			
		end
	},
	{
		id = "DeleteButton",
		name = Engine[0xED84C33EC5F01EA]( 0x4B904E1536CCB31 ),
		buttonDescription = Engine[0xED84C33EC5F01EA]( 0xB5E9114C18445ED ),
		visible = function ( f101_arg0, f101_arg1, f101_arg2 )
			local f101_local0, f101_local1 = LOADOUT.GetValidLoadouts( f101_arg1 )
			local f101_local2 = f101_local1 == 1
			local f101_local3 = CONDITIONS.IsLoadoutCreationEnabled()
			if f101_local3 then
				f101_local3 = not f101_local2
			end
			return f101_local3
		end,
		action = function ( f99_arg0, f99_arg1 )
			return function ( f100_arg0 )
				LOADOUT.DeleteAndUpdateFavoriteLoadout( f100_arg0, f99_arg0, f99_arg0.loadoutIndex )
				f100_arg0:dispatchEventToRoot( {
					name = "refresh_loadouts",
					controller = f99_arg0
				} )
				ACTIONS.LeaveMenu( f100_arg0:getParent() )
			end
			
		end,
		IsDisabled = function ( f98_arg0 )
			local f98_local0, f98_local1 = LOADOUT.GetValidLoadouts( f98_arg0 )
			return f98_local1 == 1
		end
	},
	{
		id = "ShareLoadoutButton",
		name = Engine[0xED84C33EC5F01EA]( 0x22335222FE018F9 ),
		buttonDescription = Engine[0xED84C33EC5F01EA]( 0x24742BB94E44CD3 ),
		visible = function ( f97_arg0, f97_arg1, f97_arg2 )
			return Dvar[0x9E5BE3B4BBA4E0E]( 0x1081B6614BDB73D )
		end,
		action = function ( f95_arg0, f95_arg1 )
			return function ( f96_arg0 )
				LOADOUT.OpenShareLoadoutPopup( f95_arg0, f95_arg0.loadoutIndex )
			end
			
		end
	},
	{
		isPrimaryAction = true,
		id = "RenameButton",
		name = Engine[0xED84C33EC5F01EA]( 0x19F50F69E65FC10 ),
		buttonDescription = Engine[0xED84C33EC5F01EA]( 0x58174AD2806133E ),
		action = function ( f93_arg0, f93_arg1 )
			return function ( f94_arg0 )
				LOADOUT.RenameLoadoutCallback( f94_arg0, f93_arg0, f93_arg0.loadoutIndex )
			end
			
		end
	}
}
LOADOUT.GetLoadoutStatsGroup = function ()
	if CONDITIONS.IsBRLeaguePlay() then
		if CONDITIONS.IsWZLeaguePlayLoadoutsEnabled() then
			return CoD.StatsGroup.WZLeaguePlayLoadouts
		else
			return CoD.StatsGroup.WZRankedLoadouts
		end
	elseif CONDITIONS.IsLeaguePlay() and CONDITIONS.IsLeaguePlayLoadoutsEnabled() then
		return CoD.StatsGroup.LeaguePlayLoadouts
	elseif CONDITIONS.AreRestrictionsActive( Engine[0x45B054C920178E9]() ) then
		if Dvar[0x9E5BE3B4BBA4E0E]( 0x37589AC3376EF3 ) then
			return CONDITIONS.IsThirdGameMode() and CoD.StatsGroup.CoopLoadouts or CoD.StatsGroup.RankedLoadouts
		else
			return CoD.StatsGroup.PrivateLoadouts
		end
	elseif CONDITIONS.IsThirdGameMode( self ) then
		return CoD.StatsGroup.CoopLoadouts
	elseif CONDITIONS.UsingWZLoadouts() then
		if CONDITIONS.IsPublicMatch() or CONDITIONS.ForceRankedLoadouts() then
			return CoD.StatsGroup.WZRankedLoadouts
		else
			return CoD.StatsGroup.WZPrivateLoadouts
		end
	elseif CONDITIONS.IsPublicMatch() or CONDITIONS.ForceRankedLoadouts() then
		return CoD.StatsGroup.RankedLoadouts
	else
		return CoD.StatsGroup.PrivateLoadouts
	end
end

LOADOUT.GetLoadoutSquadMember = function ( f91_arg0, f91_arg1, f91_arg2, f91_arg3 )
	local f91_local0
	if not f91_arg3 then
		f91_local0 = f91_arg3
	else
		f91_local0 = LOADOUT.GetLoadoutStatsGroup()
	end
	if f91_arg1 and f91_arg2 then
		local f91_local1 = PLAYER_DATA.IO( f91_arg0, f91_local0, f91_arg1, f91_arg2 )
		return f91_local1.squadMembers
	else
		local f91_local1 = PLAYER_DATA.IO( f91_arg0, f91_local0 )
		return f91_local1.squadMembers
	end
end

LOADOUT.GetFrontendLoadoutWithShowcase = function ( f90_arg0, f90_arg1, f90_arg2, f90_arg3 )
	if f90_arg2 then
		return SHOWCASE.GetLoadoutForController( f90_arg0, f90_arg1 )
	elseif CoD.IsDMZMatch() then
		return DMZ.GetInsuredWeaponsPlayerData( f90_arg0 )
	else
		local f90_local0 = LOADOUT.GetLoadoutSquadMember( f90_arg0, nil, nil, f90_arg3 )
		return f90_local0.loadouts[f90_arg1]
	end
end

LOADOUT.GetLoadoutPlayerDataWeaponSetups = function ( f89_arg0, f89_arg1 )
	local f89_local0 = nil
	if CONDITIONS.IsWaveGameType() then
		local f89_local1 = PLAYER_DATA.IO( f89_arg0, LOADOUT.GetLoadoutStatsGroup() )
		f89_local0 = f89_local1.squadMembers.loadoutWaveMode
	else
		f89_local0 = LOADOUT.GetFrontendLoadoutWithShowcase( f89_arg0, f89_arg1.loadoutIndex, f89_arg1.forShowcase )
	end
	return f89_local0.weaponSetups[f89_arg1.weaponSlot]
end

LOADOUT.GetMaxLoadoutCount = function ()
	return CONDITIONS.IsSony() and LOADOUT.MAX_CUSTOM_SLOTS_PS or LOADOUT.MAX_CUSTOM_SLOTS
end

LOADOUT.DEFAULT_CP_LOADOUT = 0
LOADOUT.DEFAULT_LOADOUT_INDEX_START = 100
LOADOUT.CACHED_CLASS_TABLE = nil
LOADOUT.LookupDefaultClassItem = function ( f87_arg0, f87_arg1, f87_arg2, f87_arg3 )
	if not LOADOUT.CACHED_CLASS_TABLE or LOADOUT.CACHED_CLASS_TABLE.id ~= CSV.defaultClassTable:GetFile() then
		LOADOUT.CACHED_CLASS_TABLE = {
			id = CSV.defaultClassTable:GetFile(),
			classes = {}
		}
		LOADOUT.CACHED_CLASS_TABLE.classtable = Engine[0x6093D047200548]( 0xB9E42C0E9446F2C .. LOADOUT.CACHED_CLASS_TABLE.id )
	end
	if not LOADOUT.CACHED_CLASS_TABLE.classes[f87_arg1 + 1] then
		LOADOUT.CACHED_CLASS_TABLE.classes[f87_arg1 + 1] = Engine[0x6093D047200548]( 0x5C46ED80FA442D4 .. LOADOUT.CACHED_CLASS_TABLE.classtable[0xCA7101DDE15EEC7][f87_arg1 + 1][0xE2A85BF4C0CA913] )
	end
	if f87_arg2 then
		return LOADOUT.CACHED_CLASS_TABLE.classes[f87_arg1 + 1][f87_arg2][f87_arg3]
	else
		return LOADOUT.CACHED_CLASS_TABLE.classes[f87_arg1 + 1][f87_arg3]
	end
end

LOADOUT.GetDefaultLoadoutCount = function ()
	return LUI.clamp( Dvar[0x22EAAB59AA27E9B]( 0x74B6560063795D5 ) and Dvar[0x22EAAB59AA27E9B]( 0x74B6560063795D5 ) or LOADOUT.DefaultClassCount, 1, LOADOUT.MAX_DEFAULT_COUNT )
end

LOADOUT.GetDefaultLoadouts = function ( f85_arg0 )
	local f85_local0 = {}
	for f85_local1 = 0, LOADOUT.GetDefaultLoadoutCount() - 1, 1 do
		local f85_local4 = {
			weapons = {}
		}
		for f85_local5 = 0, 1, 1 do
			local f85_local8
			if f85_local5 == WEAPON.PrimarySlot then
				f85_local8 = 0xFFE6B31B90089D5
				if not f85_local8 then
				
				else
					local f85_local9 = {
						ref = LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, f85_local8, 0xB610205F2C6E01 ),
						camo = LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, f85_local8, 0x5135790E8393359 ),
						reticle = LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, f85_local8, 0x33AFE50D7CDA297 ),
						attachments = {}
					}
					for f85_local10 = 0, 5, 1 do
						table.insert( f85_local9.attachments, LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, f85_local8, 0x73F89AC8D3F248 .. f85_local10 + 1 ) )
					end
					table.insert( f85_local4.weapons, f85_local9 )
				end
			end
			f85_local8 = 0x1DA8A893167522D
		end
		f85_local4.role = "none"
		f85_local4.munitions = "none"
		f85_local4.lethal = LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, 0x931D28F37519E57, 0xF31137FF783E939 )
		f85_local4.tactical = LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, 0x931D28F37519E57, 0x7FBC18FBDAA00D1 )
		f85_local4.equippedPerkPackageIndex = 0
		local f85_local5 = LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, nil, 0xFD633992A4D21D3 )
		if f85_local5 then
			local f85_local6 = Engine[0x6093D047200548]( "perkpackage:" .. f85_local5 )
			if f85_local6 then
				for f85_local7 = 0, PERK.GetDefaultPerkPackageCount() - 1, 1 do
					local f85_local10 = PERK.GetDefaultPerkPackageForIndex( f85_local7 )
					if f85_local10.name == f85_local6[0x4BCADBA8E631B86] then
						f85_local4.equippedPerkPackageIndex = f85_local7
						break
					end
				end
			end
		end
		f85_local4.perks = {}
		for f85_local6 = 1, LOADOUT.NumLoadoutPerks, 1 do
			table.insert( f85_local4.perks, LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, 0xB06F5847096E54A, 0xFC4700DD7103CFD .. f85_local6 ) )
		end
		if LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, nil, 0x4F35AE761BD424 ) == "1" then
			f85_local4.extraPerks = {}
			for f85_local6 = 1, LOADOUT.NumLoadoutExtraPerks, 1 do
				table.insert( f85_local4.extraPerks, LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, 0x409BB355A1A352E, 0xFC4700DD7103CFD .. f85_local6 ) )
			end
		end
		f85_local4.name = LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, nil, 0xA300BDA09269628 )
		f85_local4.role = LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, nil, 0x358EC1FF0C833B9 )
		f85_local4.fieldUpgrades = {}
		table.insert( f85_local4.fieldUpgrades, LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, 0x3B806F669A6BB82, 0x3B7C4F669A64B5C ) )
		table.insert( f85_local4.fieldUpgrades, LOADOUT.LookupDefaultClassItem( f85_arg0, f85_local1, 0x3B806F669A6BB82, 0x3B7C7F669A65075 ) )
		table.insert( f85_local0, f85_local4 )
	end
	return f85_local0
end

LOADOUT.GetCustomStartersBundle = function ()
	if CONDITIONS.IsMobileOrMobileSim() then
		return Engine[0x6093D047200548]( 0xAC9B4DDEEA21040 )
	elseif CONDITIONS.IsLeaguePlay() then
		return Engine[0x6093D047200548]( 0xFB63713CF6E3BDA )
	elseif CONDITIONS.IsMagmaGameMode() then
		return Engine[0x6093D047200548]( 0xA75BD8412DB7A6E )
	else
		return Engine[0x6093D047200548]( 0xB67ED76CED511EB )
	end
end

LOADOUT.GetCustomStarters = function ( f83_arg0 )
	local f83_local0 = {}
	local f83_local1 = LOADOUT.GetCustomStartersBundle()
	for f83_local2 = 0, LOADOUT.DefaultStarterCount - 1, 1 do
		local f83_local5 = Engine[0x6093D047200548]( 0x5C46ED80FA442D4 .. f83_local1[0xCA7101DDE15EEC7][f83_local2 + 1][0xE2A85BF4C0CA913] )
		local f83_local6 = {
			weapons = {}
		}
		for f83_local7 = 0, 1, 1 do
			local f83_local10
			if f83_local7 == WEAPON.PrimarySlot then
				f83_local10 = 0xFFE6B31B90089D5
				if not f83_local10 then
				
				else
					local f83_local11 = {
						ref = f83_local5[f83_local10][0xB610205F2C6E01],
						camo = f83_local5[f83_local10][0x5135790E8393359],
						reticle = f83_local5[f83_local10][0x33AFE50D7CDA297],
						attachments = {}
					}
					for f83_local12 = 0, 5, 1 do
						table.insert( f83_local11.attachments, f83_local5[f83_local10][0x73F89AC8D3F248 .. f83_local12 + 1] )
					end
					table.insert( f83_local6.weapons, f83_local11 )
				end
			end
			f83_local10 = 0x1DA8A893167522D
		end
		f83_local6.role = "none"
		f83_local6.munitions = "none"
		f83_local6.lethal = f83_local5[0x931D28F37519E57][0xF31137FF783E939]
		f83_local6.tactical = f83_local5[0x931D28F37519E57][0x7FBC18FBDAA00D1]
		f83_local6.equippedPerkPackageIndex = 0
		local f83_local7 = f83_local5[0xFD633992A4D21D3]
		if f83_local7 then
			local f83_local8 = Engine[0x6093D047200548]( "perkpackage:" .. f83_local7 )
			if f83_local8 then
				for f83_local9 = 0, PERK.GetDefaultPerkPackageCount() - 1, 1 do
					local f83_local12 = PERK.GetDefaultPerkPackageForIndex( f83_local9 )
					if f83_local12.name == f83_local8[0x4BCADBA8E631B86] then
						f83_local6.equippedPerkPackageIndex = f83_local9
						break
					end
				end
			end
		end
		f83_local6.perks = {}
		f83_local6.name = f83_local5[0xA300BDA09269628]
		f83_local6.role = f83_local5[0x358EC1FF0C833B9]
		f83_local6.fieldUpgrades = {
			f83_local5[0x3B806F669A6BB82][0x3B7C4F669A64B5C],
			f83_local5[0x3B806F669A6BB82][0x3B7C7F669A65075]
		}
		table.insert( f83_local0, f83_local6 )
	end
	return f83_local0
end

LOADOUT.GetDefaultLoadoutWeaponTables = function ( f82_arg0 )
	local f82_local0 = LOADOUT.GetDefaultLoadouts( f82_arg0 )
	local f82_local1 = {}
	for f82_local14, f82_local15 in ipairs( f82_local0 ) do
		for f82_local8, f82_local9 in ipairs( f82_local15.weapons ) do
			local f82_local11 = LUI.ShallowCopy( f82_local9 )
			f82_local11.weapon = f82_local9.ref
			f82_local11.ref = nil
			f82_local11.attachments = {}
			for f82_local5, f82_local6 in ipairs( f82_local9.attachments ) do
				table.insert( f82_local11.attachments, {
					ref = f82_local6,
					variantID = ATTACHMENT.baseVariant
				} )
			end
			table.insert( f82_local1, f82_local11 )
		end
	end
	return f82_local1
end

LOADOUT.GetLoadoutUpgradePerks = function ( f81_arg0 )
	if not Engine[0x12586A3F4FB490E]() then
		local f81_local0 = ""
		local f81_local1 = ""
		local f81_local2 = ""
		local f81_local3, f81_local4 = LOADOUT.GetFavoriteLoadoutIndex( f81_arg0 )
		if f81_local3 then
			if not f81_local4 then
				local f81_local5 = LOADOUT.GetLoadoutSelectedPerk( f81_arg0, f81_local3, 0 )
				f81_local0 = f81_local5:get()
				f81_local5 = LOADOUT.GetLoadoutSelectedPerk( f81_arg0, f81_local3, 1 )
				f81_local1 = f81_local5:get()
				f81_local5 = LOADOUT.GetLoadoutSelectedPerk( f81_arg0, f81_local3, 2 )
				f81_local2 = f81_local5:get()
			else
				local f81_local5 = LOADOUT.GetDefaultLoadouts( f81_arg0 )
				f81_local0 = f81_local5[f81_local3].perks[1]
				f81_local1 = f81_local5[f81_local3].perks[2]
				f81_local2 = f81_local5[f81_local3].perks[3]
			end
		end
		return f81_local1, f81_local2, f81_local0
	else
		
	end
end

LOADOUT.GetLoadoutPlayerData = function ( f80_arg0, f80_arg1 )
	local f80_local0 = LOADOUT.GetLoadoutSquadMember( f80_arg0 )
	return f80_local0.loadouts[f80_arg1]
end

LOADOUT.GetLoadoutWeapons = function ( f79_arg0, f79_arg1, f79_arg2 )
	local f79_local0 = LOADOUT.GetLoadoutSquadMember( f79_arg0 )
	f79_local0 = f79_local0.loadouts[f79_arg1]
	local f79_local1 = {}
	if not f79_arg2 or f79_arg2 == 1 then
		local f79_local2 = f79_local0.weaponSetups[0]
		local f79_local3 = f79_local2.weapon:get()
		local f79_local4 = WEAPON.GetWeaponModelNameFromPlayerData( f79_local3, f79_local2, {
			includeStickers = true,
			includeAttachments = true,
			useOperatorOverride = true,
			includeCamos = true,
			controllerIndex = f79_arg0
		} )
		f79_local1.primaryWeaponRef = f79_local3
		f79_local1.primaryWeaponModel = f79_local4
	end
	if not f79_arg2 or f79_arg2 == 2 then
		local f79_local2 = f79_local0.weaponSetups[1]
		local f79_local3 = f79_local2.weapon:get()
		local f79_local4 = WEAPON.GetWeaponModelNameFromPlayerData( f79_local3, f79_local2, {
			includeStickers = true,
			includeAttachments = true,
			useOperatorOverride = true,
			includeCamos = true,
			controllerIndex = f79_arg0
		} )
		f79_local1.secondaryWeaponRef = f79_local3
		f79_local1.secondaryWeaponModel = f79_local4
	end
	return f79_local1
end

LOADOUT.GetFavoriteLoadoutWeapons = function ( f78_arg0, f78_arg1 )
	return LOADOUT.GetLoadoutWeapons( f78_arg0, LOADOUT.GetFavoriteLoadoutIndex( f78_arg0 ), f78_arg1 )
end

LOADOUT.GetFavoriteLoadoutIndex = function ( f77_arg0, f77_arg1 )
	if CONDITIONS.IsDMZMatch() then
		return DMZ.LoadoutIndex, false
	end
	local f77_local0 = LOADOUT.GetCustomizationFavorites( f77_arg0, f77_arg1, true )
	local f77_local1 = f77_local0.favoriteLoadoutIndex:get() or 0
	local f77_local2 = LOADOUT.DEFAULT_LOADOUT_INDEX_START <= f77_local1
	if f77_local2 then
		f77_local1 = f77_local1 - LOADOUT.DEFAULT_LOADOUT_INDEX_START + 1
	end
	if f77_local1 < 0 then
		f77_local1 = 0
	end
	return f77_local1, f77_local2
end

LOADOUT.SetFavoriteLoadout = function ( f76_arg0, f76_arg1, f76_arg2 )
	if IsOnlineMatch() or CoD.IsDMZMatch() then
		local f76_local0 = LOADOUT.GetLoadoutPlayerData( f76_arg1, f76_arg2 )
		local f76_local1 = f76_local0.weaponSetups[0]
		FrontEndScene.RequestWeaponWorldModels( {
			WEAPON.GetWeaponModelNameFromPlayerData( f76_local1.weapon:get(), f76_local1, {
				includeCamos = true,
				includeAttachments = true,
				includeStickers = true,
				controllerIndex = f76_arg1
			} )
		} )
		local f76_local2 = LOADOUT.GetCustomizationFavorites( f76_arg1, nil, true )
		f76_local2.favoriteLoadoutIndex:set( f76_arg2 )
		if Engine[0x2DE6F7A69111B92]( f76_arg1 ) then
			Engine[0x491916651571863]( f76_arg1, f76_arg2 )
		end
		f76_arg0:dispatchEventToRoot( {
			name = "refresh_loadouts",
			controller = f76_arg1
		} )
		if not CONDITIONS.IsMobileOrMobileSim() then
			f76_arg0:dispatchEventToRoot( {
				name = "send_toast_notification",
				immediate = true,
				options = {
					iconScale = 4.667263495923649E-62,
					displayTime = 3000,
					icon = "cac_equip_fill",
					iconColor = SWATCHES.genericMenu.notificationHighlight,
					header = Engine[0xED84C33EC5F01EA]( 0xBA10BEF60448620 ),
					description = f76_local0.name:get(),
					controllerIndex = f76_arg1,
					type = LUI.ToastManager.NotificationType.LoadoutOptions
				}
			} )
		end
	end
end

LOADOUT.DeleteAndUpdateFavoriteLoadout = function ( f75_arg0, f75_arg1, f75_arg2 )
	LOADOUT.DeleteCustomLoadout( f75_arg1, f75_arg2 )
	if LOADOUT.GetFavoriteLoadoutIndex( f75_arg1 ) == f75_arg2 then
		local f75_local0 = LOADOUT.GetValidLoadouts( f75_arg1 )
		LOADOUT.SetFavoriteLoadout( f75_arg0, f75_arg1, f75_local0[0].loadoutIndex )
	end
end

LOADOUT.GetLoadoutSelectedPerk = function ( f74_arg0, f74_arg1, f74_arg2, f74_arg3 )
	local f74_local0 = LOADOUT.GetLoadoutSquadMember( f74_arg0 )
	local f74_local1 = nil
	if f74_arg3 then
		f74_local1 = f74_local0.loadouts[f74_arg1].extraPerks[f74_arg2]
	else
		f74_local1 = f74_local0.loadouts[f74_arg1].loadoutPerks[f74_arg2]
	end
	return f74_local1
end

LOADOUT.SetLoadoutSelectedPerk = function ( f73_arg0, f73_arg1, f73_arg2, f73_arg3, f73_arg4 )
	local f73_local0 = LOADOUT.GetLoadoutSquadMember( f73_arg0 )
	local f73_local1 = nil
	if f73_arg4 then
		f73_local1 = f73_local0.loadouts[f73_arg1].extraPerks[f73_arg2]
	else
		f73_local1 = f73_local0.loadouts[f73_arg1].loadoutPerks[f73_arg2]
	end
	f73_local1:set( f73_arg3 )
end

LOADOUT.GetSelectedLoadoutPerkPackage = function ( f72_arg0, f72_arg1 )
	local f72_local0 = LOADOUT.GetLoadoutSquadMember( f72_arg0 )
	return f72_local0.loadouts[f72_arg1].equippedPerkPackageIndex:get()
end

LOADOUT.SetLoadoutPerkPackage = function ( f71_arg0, f71_arg1, f71_arg2 )
	local f71_local0 = LOADOUT.GetLoadoutSquadMember( f71_arg0 )
	f71_local0.loadouts[f71_arg1].equippedPerkPackageIndex:set( f71_arg2 )
end

LOADOUT.EquipPerkPackage = function ( f70_arg0, f70_arg1, f70_arg2, f70_arg3 )
	LOADOUT.SetLoadoutPerkPackage( f70_arg0, f70_arg1, f70_arg2 )
end

LOADOUT.MobileValidatePerkPackage = function ( f69_arg0 )
	local f69_local0 = LOADOUT.GetLoadoutSquadMember( f69_arg0 )
	f69_local0 = f69_local0.loadouts
	for f69_local1 = 0, #f69_local0 - 1, 1 do
		if not PERK.IsDefaultPerkPackage( LOADOUT.GetSelectedLoadoutPerkPackage( f69_arg0, f69_local1 ) ) then
			PERK.SetDefaultPerkPackage( f69_arg0, f69_local1 )
		end
	end
end

LOADOUT.SetLoadoutUsingSpecialist = function ( f68_arg0, f68_arg1, f68_arg2 )
	local f68_local0 = LOADOUT.GetLoadoutSquadMember( f68_arg0 )
	return f68_local0.loadouts[f68_arg1].usingSpecialist:set( f68_arg2 )
end

LOADOUT.GetLoadoutUsingSpecialist = function ( f67_arg0, f67_arg1 )
	local f67_local0 = LOADOUT.GetLoadoutSquadMember( f67_arg0 )
	return f67_local0.loadouts[f67_arg1].usingSpecialist:get()
end

LOADOUT.IsSpecialPerk = function ( f66_arg0 )
	local f66_local0
	if f66_arg0 ~= PERK.PerkTypes.SPECIAL_ONE and f66_arg0 ~= PERK.PerkTypes.SPECIAL_TWO and f66_arg0 ~= PERK.PerkTypes.SPECIAL_THREE then
		f66_local0 = false
	else
		f66_local0 = true
	end
	return f66_local0
end

LOADOUT.CopyAndReplaceLoadout = function ( f65_arg0, f65_arg1, f65_arg2 )
	f65_arg2.inUse:set( 1 )
	f65_arg2.overkill:set( f65_arg1.overkill:get() )
	f65_arg2.usingSpecialist:set( f65_arg1.usingSpecialist:get() )
	f65_arg2.name:set( f65_arg1.name:get() )
	for f65_local9, f65_local10 in ddlpairs( f65_arg2.weaponSetups ) do
		local f65_local11 = f65_arg1.weaponSetups[f65_local9]
		f65_local10.camo:set( f65_local11.camo:get() )
		f65_local10.reticle:set( f65_local11.reticle:get() )
		f65_local10.weapon:set( f65_local11.weapon:get() )
		f65_local10.lootItemID:set( f65_local11.lootItemID:get() )
		f65_local10.variantID:set( f65_local11.variantID:get() )
		f65_local10.paintJobID:set( f65_local11.paintJobID:get() )
		f65_local10.blueprintName:set( f65_local11.blueprintName:get() )
		f65_local10.cosmeticAttachment:set( f65_local11.cosmeticAttachment:get() )
		f65_local10.blueprintTuned:set( f65_local11.blueprintTuned:get() )
		for f65_local3, f65_local4 in ddlpairs( f65_local10.attachmentSetup ) do
			local f65_local6 = f65_local11.attachmentSetup[f65_local3]
			ATTACHMENT.SetPlayerDataRef( f65_local4, ATTACHMENT.GetRefFromSetup( f65_local6 ) )
			f65_local4.variantID:set( f65_local6.variantID:get() )
			f65_local4.hasBPTune:set( f65_local6.hasBPTune:get() )
			f65_local4.customTune[0]:set( f65_local6.customTune[0]:get() )
			f65_local4.customTune[1]:set( f65_local6.customTune[1]:get() )
		end
		for f65_local3, f65_local4 in ddlpairs( f65_local10.sticker ) do
			f65_local4:set( f65_local11.sticker[f65_local3]:get() )
		end
	end
	for f65_local9, f65_local10 in ddlpairs( f65_arg2.equipmentSetups ) do
		local f65_local11 = f65_arg1.equipmentSetups[f65_local9]
		f65_local10.equipment:set( f65_local11.equipment:get() )
		f65_local10.extraCharge:set( f65_local11.extraCharge:get() )
	end
	f65_arg2.equippedPerkPackageIndex:set( f65_arg1.equippedPerkPackageIndex:get() )
	f65_arg2.fieldUpgrades[0]:set( f65_arg1.fieldUpgrades[0]:get() )
	f65_arg2.fieldUpgrades[1]:set( f65_arg1.fieldUpgrades[1]:get() )
	f65_arg0:dispatchEventToRoot( {
		name = "send_toast_notification",
		immediate = true,
		options = {
			iconScale = 4.667263495923649E-62,
			displayTime = 3000,
			icon = "cac_equip_fill",
			iconColor = SWATCHES.genericMenu.notificationHighlight,
			header = Engine[0xED84C33EC5F01EA]( 0x2A976936C7D8D72 ),
			description = f65_arg1.name:get(),
			controllerIndex = controllerIndex,
			type = LUI.ToastManager.NotificationType.LoadoutOptions
		}
	} )
end

LOADOUT.CopyLoadoutFromIndexToFirstEmptyIndex = function ( f64_arg0, f64_arg1, f64_arg2 )
	local f64_local0 = LOADOUT.GetEmptyLoadoutSlot( f64_arg1 )
	if not f64_local0 then
		return 
	else
		LOADOUT.CopyAndReplaceLoadout( f64_arg0, LOADOUT.GetLoadoutPlayerData( f64_arg1, f64_arg2 ), LOADOUT.GetLoadoutPlayerData( f64_arg1, f64_local0 ) )
		local f64_local1 = LUI.FlowManager.GetFlowManager()
		f64_local1:dispatchEventToChildren( {
			name = "refresh_loadouts",
			selectedIndex = f64_local0
		} )
	end
end

LOADOUT.OpenLoadoutCopyPopup = function ( f63_arg0, f63_arg1, f63_arg2 )
	local f63_local0 = {
		flyInRightNarrow = true,
		disableQuickAccessShortcuts = true,
		removeButtonHelper = true,
		controllerIndex = f63_arg0,
		loadoutIndex = f63_arg1
	}
	if f63_arg2 then
		f63_local0 = Table.Merge( f63_local0, f63_arg2 )
	end
	LUI.FlowManager.RequestPopupMenu( nil, "LoadoutCopy", true, f63_arg0, false, f63_local0 )
end

LOADOUT.OpenShareLoadoutPopup = function ( f62_arg0, f62_arg1 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x1081B6614BDB73D ) then
		return 
	else
		LUI.FlowManager.RequestPopupMenu( nil, "LoadoutShareFriendSelectPopup", true, f62_arg0, false, {
			flyInRightNarrow = true,
			disableQuickAccessShortcuts = true,
			controllerIndex = f62_arg0,
			loadoutIndex = f62_arg1
		} )
	end
end

LOADOUT.OpenSaveSharedLoadoutPopup = function ( f61_arg0, f61_arg1 )
	LUI.FlowManager.RequestPopupMenu( nil, "SharedLoadoutSaveMenu", true, f61_arg0, false, {
		flyInRightNarrow = true,
		disableQuickAccessShortcuts = true,
		controllerIndex = f61_arg0,
		loadoutId = f61_arg1
	} )
end

LOADOUT.OpenRenameLoadout = function ( f59_arg0, f59_arg1, f59_arg2 )
	local f59_local0 = LOADOUT.GetLoadoutPlayerData( f59_arg1, f59_arg2 )
	local f59_local1 = {
		noDefaultTextOnCreate = true,
		allowEmpty = false,
		verifyString = true,
		title = Engine[0xED84C33EC5F01EA]( 0x19F50F69E65FC10 ),
		defaultValue = f59_local0.name:get(),
		maxInputStringLength = LOADOUT.MAX_LOADOUT_NAME_CHARACTERS
	}
	local f59_local2 = CONDITIONS.IsUserSignedInDemonware( f59_arg1 )
	if not f59_local2 then
		f59_local2 = Engine[0xDABAA414ED6AABD]( f59_arg1 ) ~= CoD.StatsSource.OFFLINE
	end
	f59_local1.filterProfanity = f59_local2
	f59_local1.textEditCompleteFunc = function ( f60_arg0, f60_arg1 )
		local f60_local0 = f60_arg0._controllerIndex or f60_arg1.controllerIndex
		assert( f60_local0 )
		if not f60_arg1.cancelled then
			local f60_local1, f60_local2 = TEXT_EDIT.ValidateString( f60_local0, f60_arg1.text )
			if f60_local1 then
				LOADOUT.RenameLoadout( f60_local0, f59_arg0, f60_arg1.text )
				f60_arg0:dispatchEventToRoot( {
					name = "refresh_loadouts",
					controller = f60_local0
				} )
			else
				LUI.FlowManager.RequestErrorPopup( f60_local0, Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ), f60_local2 )
			end
		end
	end
	
	ACTIONS.OpenGenericEditBoxPopup( f59_arg0, f59_arg1, f59_local1 )
end

LOADOUT.RenameLoadout = function ( f58_arg0, f58_arg1, f58_arg2 )
	local f58_local0 = LOADOUT.GetLoadoutPlayerData( f58_arg0, f58_arg1 )
	f58_local0.name:set( f58_arg2 )
	if CONDITIONS.IsMobileOrMobileSim() and not Dvar[0x9E5BE3B4BBA4E0E]( 0xBC5187B5C37609C ) then
		local f58_local1 = {
			iconScale = 4.667263495923649E-62,
			displayTime = 3000,
			icon = "cac_equip_fill",
			iconColor = SWATCHES.genericMenu.notificationHighlight,
			header = Engine[0xED84C33EC5F01EA]( 0x2FEA378B231D1A4 ),
			description = f58_arg2,
			controllerIndex = f58_arg0,
			type = LUI.ToastManager.NotificationType.LoadoutOptions
		}
		local f58_local2 = Engine[0xEE6F69FEA944B13]()
		f58_local2:dispatchEventToRoot( {
			name = "send_toast_notification",
			immediate = true,
			options = f58_local1
		} )
	end
end

LOADOUT.OpenMobileRenameLoadoutPopup = function ( f53_arg0, f53_arg1 )
	local f53_local0 = LOADOUT.GetLoadoutPlayerData( f53_arg0, f53_arg1 )
	LUI.FlowManager.RequestPopupMenu( nil, "MobileGenericPopupWindow", true, f53_arg0, false, {
		buttonsClosePopup = false,
		isYesNoHorizontal = true,
		customContent = {
			type = "MobileEditBoxPopup"
		},
		title = Engine[0xED84C33EC5F01EA]( 0xD545CB439554DA9 ),
		editOptions = {
			checkProfanity = true,
			useAutoAlign = true,
			defaultValue = f53_local0.name:get(),
			maxInputStringLength = LOADOUT.MAX_LOADOUT_NAME_CHARACTERS
		},
		buttons = {
			{
				label = Engine[0xED84C33EC5F01EA]( 0xDF4B921D6190715 ),
				action = function ( f57_arg0, f57_arg1, f57_arg2 )
					ACTIONS.LeaveMenu( f57_arg0 )
				end
			},
			{
				isPrimaryAction = true,
				label = Engine[0xED84C33EC5F01EA]( 0xBD72839AC663B35 ),
				action = function ( f56_arg0, f56_arg1, f56_arg2 )
					local f56_local0 = f56_arg2.editData.editBoxText
					local f56_local1 = LUI.FlowManager.GetFlowManager()
					if not String.IsNilOrEmpty( f56_local0 ) then
						if Dvar[0x9E5BE3B4BBA4E0E]( 0x743C5BBB37E3AB0 ) then
							local f56_local2 = LOADOUT.GetValidLoadouts( f56_arg1 )
							for f56_local3 = 0, #f56_local2, 1 do
								if f56_local0 == f56_local2[f56_local3].loadout.name:get() then
									f56_local1.RequestErrorPopup( f56_arg1, Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ), Engine[0xED84C33EC5F01EA]( 0xA1947DF80D5B294 ) )
									return 
								end
							end
						end
						LOADOUT.RenameLoadout( f56_arg1, f53_arg0, f56_local0 )
						f56_local1:dispatchEventToChildren( {
							name = "refresh_loadout_name"
						} )
					end
					ACTIONS.LeaveMenu( f56_arg0 )
				end,
				setupFunc = function ( f54_arg0, f54_arg1, f54_arg2 )
					local f54_local0 = f54_arg2.editData
					f54_arg0:addEventHandler( "text_changed", function ( f55_arg0, f55_arg1 )
						f55_arg0:SetButtonDisabled( String.IsNilOrEmpty( f54_arg0.editBoxText ) )
						return true
					end )
				end
			}
		}
	}, nil, false, true )
end

LOADOUT.RequestWatchAndWeaponModels = function ( f52_arg0, f52_arg1, f52_arg2 )
	local f52_local0 = {}
	if f52_arg2 then
		for f52_local1 = 1, #f52_arg2, 1 do
			table.insert( f52_local0, WATCH.GetFullModelName( f52_arg2[f52_local1] ) )
		end
	else
		table.insert( f52_local0, WATCH.GetFullModelName( WATCH.GetEquippedWatch( f52_arg0 ) ) )
	end
	local f52_local1 = LOADOUT.GetLoadoutSquadMember( f52_arg0 )
	f52_local1 = f52_local1.loadouts[f52_arg1]
	for f52_local2 = 0, 1, 1 do
		local f52_local5 = f52_local1.weaponSetups[f52_local2]
		table.insert( f52_local0, WEAPON.GetWeaponModelNameFromPlayerData( f52_local5.weapon:get(), f52_local5, {
			includeCamos = true,
			includeAttachments = true,
			includeStickers = true,
			controllerIndex = f52_arg0
		} ) )
	end
	FrontEndScene.RequestWeaponViewModels( f52_local0, f52_arg0 )
end

LOADOUT.MATCHRULES = {}
LOADOUT.MATCHRULES.LoadoutHasRestrictedItem = function ( f51_arg0, f51_arg1 )
	if GL_HACK.IsSkippingRestrictionInUse() then
		return false
	end
	local f51_local0 = f51_arg0.weaponSetups[0]
	local f51_local1 = f51_local0.weapon:get()
	if MatchRules[0x966A6F3A93A1200]( f51_local1 ) or MatchRules[0xB0FA3D79A09CF96]( WEAPON.GetWeaponClass( f51_local1 ) ) then
		return true
	end
	for f51_local5, f51_local6 in ddlpairs( f51_local0.attachmentSetup ) do
		if MatchRules[0x722F56788C744E9]( ATTACHMENT.GetRefFromSetup( f51_local6 ), f51_local1 ) then
			return true
		end
	end
	f51_local2 = f51_arg0.weaponSetups[1]
	f51_local3 = f51_local2.weapon:get()
	if MatchRules[0x966A6F3A93A1200]( f51_local3 ) or MatchRules[0xB0FA3D79A09CF96]( WEAPON.GetWeaponClass( f51_local3 ) ) then
		return true
	end
	for f51_local8, f51_local9 in ddlpairs( f51_local2.attachmentSetup ) do
		if MatchRules[0x722F56788C744E9]( ATTACHMENT.GetRefFromSetup( f51_local9 ), f51_local3 ) then
			return true
		end
	end
	for f51_local8, f51_local9 in ddlpairs( f51_arg0.equipmentSetups ) do
		if MatchRules[0x12C50EF8C3BF18A]( f51_local9.equipment:get() ) then
			return true
		end
	end
	f51_local5 = f51_arg0.equippedPerkPackageIndex:get()
	if f51_local5 then
		f51_local6 = PERK.GetPerkPackageData( f51_arg1, f51_local5 )
		f51_local6 = f51_local6.perks
		if f51_local6 then
			for f51_local10, f51_local11 in ipairs( f51_local6 ) do
				if Restrictions.IsPerkRestricted( f51_local11 ) and not Restrictions.AreAllPerksInSlotRestricted( PERK.GetPerkSlotNumber( f51_local11 ) ) then
					return true
				end
			end
		end
	end
	for f51_local9, f51_local10 in ddlpairs( f51_arg0.fieldUpgrades ) do
		if MatchRules[0xFB2C9897F2DED4D]( f51_local10:get() ) then
			return true
		end
	end
	return false
end

LOADOUT.MATCHRULES.DefaultLoadoutHasRestrictedItem = function ( f50_arg0, f50_arg1 )
	if GL_HACK.IsSkippingRestrictionInUse() then
		return false
	end
	local f50_local0 = f50_arg0.weapons[1]
	local f50_local1 = f50_local0.ref
	if MatchRules[0x966A6F3A93A1200]( f50_local1 ) or MatchRules[0xB0FA3D79A09CF96]( WEAPON.GetWeaponClass( f50_local1 ) ) then
		return true
	end
	for f50_local5, f50_local6 in ipairs( f50_local0.attachments ) do
		if MatchRules[0x722F56788C744E9]( f50_local6, f50_local1 ) then
			return true
		end
	end
	f50_local2 = f50_arg0.weapons[2]
	f50_local3 = f50_local2.ref
	if MatchRules[0x966A6F3A93A1200]( f50_local3 ) or MatchRules[0xB0FA3D79A09CF96]( WEAPON.GetWeaponClass( f50_local3 ) ) then
		return true
	end
	for f50_local8, f50_local9 in ipairs( f50_local2.attachments ) do
		if MatchRules[0x722F56788C744E9]( f50_local9, f50_local3 ) then
			return true
		end
	end
	if MatchRules[0x12C50EF8C3BF18A]( f50_arg0.lethal ) then
		return true
	elseif MatchRules[0x12C50EF8C3BF18A]( f50_arg0.tactical ) then
		return true
	end
	for f50_local8, f50_local9 in ipairs( f50_arg0.perks ) do
		if Restrictions.IsPerkRestricted( f50_local9 ) and not Restrictions.AreAllPerksInSlotRestricted( PERK.GetPerkSlotNumber( f50_local9 ) ) then
			return true
		end
	end
	for f50_local8, f50_local9 in ipairs( f50_arg0.fieldUpgrades ) do
		if MatchRules[0xFB2C9897F2DED4D]( f50_local9 ) then
			return true
		end
	end
end

LOADOUT.MATCHRULES.WeaponHasRestrictedAttachment = function ( f49_arg0, f49_arg1 )
	for f49_local3, f49_local4 in ddlpairs( f49_arg0 ) do
		if MatchRules[0x722F56788C744E9]( ATTACHMENT.GetRefFromSetup( f49_local4 ), f49_arg1 ) then
			return true
		end
	end
	return false
end

LOADOUT.MATCHRULES.IsThereARestrictedKillstreak = function ( f48_arg0 )
	local f48_local0 = LOADOUT.GetLoadoutSquadMember( f48_arg0 )
	for f48_local4, f48_local5 in ddlpairs( f48_local0.killstreakSetups ) do
		if MatchRules[0xEAD2EDE698008BA]( f48_local5.killstreak:get() ) then
			return true
		end
	end
	return false
end

LOADOUT.MATCHRULES.AreAllKillstreakRestricted = function ( f47_arg0 )
	local f47_local0 = LOADOUT.GetLoadoutSquadMember( f47_arg0 )
	for f47_local4, f47_local5 in ddlpairs( f47_local0.killstreakSetups ) do
		if not MatchRules[0xEAD2EDE698008BA]( f47_local5.killstreak:get() ) then
			return false
		end
	end
	return true
end

LOADOUT.MATCHRULES.IsThereARestrictedLoadout = function ( f46_arg0 )
	local f46_local0 = LOADOUT.GetLoadoutSquadMember( f46_arg0 )
	f46_local0 = f46_local0.loadouts
	local f46_local1, f46_local2 = LOADOUT.GetValidLoadouts( f46_arg0 )
	for f46_local6, f46_local7 in ddlpairs( f46_local0 ) do
		if f46_local6 < f46_local2 and LOADOUT.MATCHRULES.LoadoutHasRestrictedItem( f46_local7, f46_arg0 ) then
			return true
		end
	end
	return false
end

LOADOUT.MATCHRULES.ShouldShowLoadoutRestrictedPopup = function ( f45_arg0 )
	local f45_local0 = Lobby.GetLocalClientTeam( f45_arg0 )
	local f45_local1 = MLG.IsCDLActive( f45_arg0 )
	if f45_local1 then
		if not Dvar[0x9E5BE3B4BBA4E0E]( 0x46136D9DB78C0B3 ) then
			f45_local1 = LOADOUT.MATCHRULES.IsThereARestrictedLoadout( f45_arg0 )
			if f45_local1 then
				if not f45_local0 ~= Teams.spectator then
					f45_local1 = false
				else
					f45_local1 = true
				end
			else
				return f45_local1
			end
		end
		f45_local1 = false
	end
	return f45_local1
end

LOADOUT.MobileLoadoutFlyoutSubscription = function ( f41_arg0, f41_arg1 )
	if CONDITIONS.IsMagellanBRGameType() and Dvar[0x9E5BE3B4BBA4E0E]( 0x115EE3899B7AB6A ) then
		f41_arg0:SubscribeToModel( DataSources.inGame.player.BRData.loadoutNotify:GetModel( f41_arg1 ), function ( f44_arg0, f44_arg1 )
			if DataModel[0x614D394F6F9A18D]( f44_arg0 ) == BR.LoadoutNotifyStates.SHOW and not LUI.SplashUtils.HaveActiveSplashScreens( f41_arg0 ) then
				f44_arg1:dispatchEventToChildren( {
					name = "loadout_notify_anim_started"
				} )
				ACTIONS.AnimateSequence( f44_arg1, "LoadoutNotify" )
			end
		end )
		f41_arg0:addEventHandler( "loadoutflyout_notify", function ( f43_arg0, f43_arg1 )
			if not LUI.SplashUtils.HaveActiveSplashScreens( f41_arg0 ) then
				f43_arg0:dispatchEventToChildren( {
					name = "loadout_notify_anim_started"
				} )
				ACTIONS.AnimateSequence( f43_arg0, "LoadoutNotify" )
			end
		end )
		f41_arg0:SubscribeToModel( DataSources.inGame.MP.splashes.currentSplash:GetModel( f41_arg1 ), function ( f42_arg0, f42_arg1 )
			if LUI.SplashUtils.HaveActiveSplashScreens( f41_arg0 ) then
				ACTIONS.AnimateSequence( f42_arg1, "Hide" )
			end
		end )
	end
end

LOADOUT.MobileShowLoadoutOptionsPopup = function ( f40_arg0, f40_arg1 )
	local f40_local0 = LUI.FlowManager.GetScopedData( f40_arg0 )
	LUI.FlowManager.RequestPopupMenu( nil, "MobileLoadoutOptions", false, f40_arg1, false, {
		gameType = f40_local0.gameType,
		loadoutIndex = f40_local0.selectedLoadoutIndex,
		loadoutCount = f40_arg0.Loadouts:GetNumChildren()
	} )
end

LOADOUT.MobileSetFavoriteLoadout = function ( f39_arg0, f39_arg1 )
	local f39_local0 = LUI.FlowManager.GetScopedData( f39_arg0 )
	LOADOUT.SetFavoriteLoadout( f39_arg0, f39_arg1, f39_local0.selectedLoadoutIndex )
end

LOADOUT.GetValidLoadoutsInOrder = function ( f38_arg0, f38_arg1 )
	local f38_local0 = LOADOUT.GetLoadoutSquadMember( f38_arg0, nil, nil, f38_arg1 )
	f38_local0 = f38_local0.loadouts
	local f38_local1 = {}
	local f38_local2 = 0
	local f38_local3 = CONDITIONS.IsLoadoutCreationEnabled()
	local f38_local4 = LOADOUT.GetMaxLoadoutCount()
	for f38_local8, f38_local9 in ddlpairs( f38_local0 ) do
		if not f38_local9 then
			break
		elseif f38_local4 <= f38_local8 then
			break
		end
		if not f38_local3 or f38_local3 and f38_local9.inUse:get() == 1 then
			table.insert( f38_local1, f38_local2, {
				loadoutIndex = f38_local8,
				loadout = f38_local9
			} )
			f38_local2 = f38_local2 + 1
		end
	end
	return f38_local1, f38_local2
end

LOADOUT.GetValidLoadouts = function ( f37_arg0, f37_arg1 )
	local f37_local0, f37_local1 = LOADOUT.GetValidLoadoutsInOrder( f37_arg0, f37_arg1 )
	local f37_local2 = LOADOUT.GetFavoriteLoadoutIndex( f37_arg0 )
	local f37_local3 = 0
	for f37_local4 = 0, f37_local1 - 1, 1 do
		if f37_local0[f37_local4].loadoutIndex == f37_local2 then
			f37_local3 = f37_local4
			break
		end
	end
	if f37_local2 and 0 < f37_local2 and 0 < f37_local3 and f37_local3 < f37_local1 then
		table.insert( f37_local0, 0, table.remove( f37_local0, f37_local3 ) )
		f37_local0[0].isFavorite = true
	end
	return f37_local0, f37_local1
end

LOADOUT.FindValidLoadoutIndex = function ( f36_arg0, f36_arg1 )
	local f36_local0, f36_local1 = LOADOUT.GetValidLoadouts( f36_arg0 )
	local f36_local2 = 0
	for f36_local3 = 0, f36_local1 - 1, 1 do
		if f36_local0[f36_local3].loadoutIndex == f36_arg1 then
			f36_local2 = f36_local3
			break
		end
	end
	return f36_local2
end

LOADOUT.GetFixedLoadoutIndex = function ( f34_arg0, f34_arg1 )
	local f34_local0, f34_local1 = LOADOUT.GetValidLoadouts( f34_arg0 )
	local f34_local2 = {}
	for f34_local3 = 0, f34_local1 - 1, 1 do
		table.insert( f34_local2, f34_local0[f34_local3] )
	end
	table.sort( f34_local2, function ( f35_arg0, f35_arg1 )
		return f35_arg0.loadoutIndex < f35_arg1.loadoutIndex
	end )
	local f34_local4 = nil
	for f34_local5 = 1, f34_local1, 1 do
		if f34_arg1 == f34_local2[f34_local5].loadoutIndex then
			return f34_arg1
		end
		f34_local4 = f34_local2[f34_local5].loadoutIndex
		if f34_arg1 < f34_local2[f34_local5].loadoutIndex then
			break
		end
	end
	if not f34_local4 then
		f34_local5 = f34_local4
	else
		local f34_local5 = 0
	end
	return f34_local5
end

LOADOUT.GetEmptyLoadoutSlot = function ( f33_arg0, f33_arg1 )
	local f33_local0 = LOADOUT.GetLoadoutSquadMember( f33_arg0, nil, nil, f33_arg1 )
	f33_local0 = f33_local0.loadouts
	local f33_local1 = LOADOUT.GetMaxLoadoutCount()
	local f33_local2 = 0
	for f33_local7, f33_local8 in ddlpairs( f33_local0 ) do
		if not f33_local8 then
			break
		elseif f33_local1 <= f33_local7 then
			break
		end
		local f33_local6 = f33_local8.inUse:get()
		if not f33_local6 or f33_local6 and f33_local6 == 0 then
			return f33_local2
		end
		f33_local2 = f33_local2 + 1
	end
end

local f0_local0 = function ( f32_arg0, f32_arg1 )
	WEAPON.WipeWeaponSetup( f32_arg0 )
	f32_arg0.camo:set( f32_arg1.camo or "none" )
	f32_arg0.reticle:set( f32_arg1.reticle or "none" )
	f32_arg0.weapon:set( f32_arg1.ref or "none" )
	f32_arg0.attachmentSetup[0].attachment:set( f32_arg1.attachments[1] or "none" )
	f32_arg0.attachmentSetup[1].attachment:set( f32_arg1.attachments[2] or "none" )
	f32_arg0.attachmentSetup[2].attachment:set( f32_arg1.attachments[3] or "none" )
	f32_arg0.attachmentSetup[3].attachment:set( f32_arg1.attachments[4] or "none" )
	f32_arg0.attachmentSetup[4].attachment:set( f32_arg1.attachments[5] or "none" )
	f32_arg0.attachmentSetup[5].attachment:set( f32_arg1.attachments[6] or "none" )
	f32_arg0.attachmentSetup[6].attachment:set( f32_arg1.attachments[7] or "none" )
	f32_arg0.cosmeticAttachment:set( "none" )
	f32_arg0.sticker[0]:set( "none" )
	f32_arg0.sticker[1]:set( "none" )
	f32_arg0.sticker[2]:set( "none" )
	f32_arg0.sticker[3]:set( "none" )
	f32_arg0.lootItemID:set( 0 )
	f32_arg0.variantID:set( 0 )
	f32_arg0.paintJobID:set( 0 )
	f32_arg0.blueprintName:set( "" )
end

LOADOUT.SaveLoadoutAtIndex = function ( f31_arg0, f31_arg1, f31_arg2, f31_arg3 )
	if f31_arg1 >= LOADOUT.GetMaxLoadoutCount() then
		LUI.FlowManager.RequestDevErrorPopup( "ERROR", "Trying to access extra loadout slots" )
		return 
	else
		local f31_local0 = LOADOUT.GetLoadoutSquadMember( f31_arg0, nil, nil, f31_arg3 )
		local f31_local1 = f31_local0.loadouts[f31_arg1]
		local f31_local2 = LOADOUT.ClassNames[f31_arg1 + 1]
		f31_local1.inUse:set( 1 )
		f31_local1.overkill:set( 0 )
		f31_local1.usingSpecialist:set( 0 )
		f31_local1.equippedPerkPackageIndex:set( f31_arg2.equippedPerkPackageIndex )
		f31_local1.name:set( Engine[0xED84C33EC5F01EA]( f31_local2 ) )
		f0_local0( f31_local1.weaponSetups[0], f31_arg2.weapons[WEAPON.PrimarySlot + 1] )
		f0_local0( f31_local1.weaponSetups[1], f31_arg2.weapons[WEAPON.SecondarySlot + 1] )
		f31_local1.equipmentSetups[0].equipment:set( f31_arg2.lethal )
		f31_local1.equipmentSetups[1].equipment:set( f31_arg2.tactical )
		f31_local1.fieldUpgrades[0]:set( f31_arg2.fieldUpgrades[1] )
		f31_local1.fieldUpgrades[1]:set( f31_arg2.fieldUpgrades[2] )
	end
end

LOADOUT.DeleteCustomLoadout = function ( f30_arg0, f30_arg1, f30_arg2 )
	local f30_local0 = LOADOUT.GetLoadoutSquadMember( f30_arg0 )
	local f30_local1 = f30_local0.loadouts[f30_arg1]
	assert( f30_local1.inUse:get() == 1, "Trying to delete a deleted loadout" )
	f30_local1.inUse:set( 0 )
	WEAPON.WipeWeaponSetup( f30_local1.weaponSetups[WEAPON.PrimarySlot] )
	WEAPON.WipeWeaponSetup( f30_local1.weaponSetups[WEAPON.SecondarySlot] )
end

LOADOUT.GetCurrentMenuState = function ( f29_arg0 )
	local f29_local0 = nil
	local f29_local1 = LUI.FlowManager.GetScopedData( f29_arg0 )
	if f29_local1 then
		f29_local0 = f29_local1.menuState
	end
	return f29_local0
end

LOADOUT.OpenWeaponSelect = function ( f28_arg0, f28_arg1, f28_arg2, f28_arg3 )
	local f28_local0 = {}
	if not CONDITIONS.IsLoadoutCreationEnabled() then
		if f28_arg2 ~= nil and f28_arg2.id ~= GL_HACK.GetLoadoutMenu() then
			
		else
			
		end
		if f28_arg2 and f28_arg2.streamer then
			f28_local0 = f28_arg2.streamer:GetStreamedImageTable()
		end
	end
	local f28_local1 = LUI.FlowManager.GetScopedData( f28_arg0 )
	LUI.FlowManager.RequestAddMenu( LOADOUT.GetWeaponMenuRef(), true, f28_arg1, nil, {
		weaponSlot = f28_arg3,
		loadoutIndex = f28_local1.selectedLoadoutIndex,
		streamedImageTable = f28_local0
	}, true )
end

LOADOUT.GetLoadoutValidationInspectedStatsGroup = function ()
	return {
		CoD.StatsGroup.WZRankedLoadouts,
		CoD.StatsGroup.RankedLoadouts,
		CoD.StatsGroup.CoopLoadouts
	}
end

LOADOUT.GetAllLoadoutStatsGroups = function ()
	return {
		CoD.StatsGroup.RankedLoadouts,
		CoD.StatsGroup.PrivateLoadouts,
		CoD.StatsGroup.CoopLoadouts,
		CoD.StatsGroup.WZRankedLoadouts,
		CoD.StatsGroup.WZPrivateLoadouts,
		CoD.StatsGroup.LeaguePlayLoadouts,
		CoD.StatsGroup.WZLeaguePlayLoadouts
	}
end

LOADOUT.IsWeaponWhitelistedFromValidation = function ( f25_arg0, f25_arg1 )
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x72C95C93DA464BB ) then
		return false
	elseif f25_arg1 == CoD.StatsGroup.WZRankedLoadouts then
		local f25_local0 = {
			[5.369155087E-315] = true,
			[5.369146866E-315] = true,
			[5.36912726E-315] = true,
			[5.36914244E-315] = true,
			[5.36913422E-315] = true,
			[5.369146234E-315] = true,
			[5.36915572E-315] = true,
			[5.369156984E-315] = true,
			[5.36914813E-315] = true,
			[5.36915888E-315] = true,
			[5.36915066E-315] = true,
			[5.36913232E-315] = true,
			[5.369133585E-315] = true,
			[5.369135483E-315] = true,
			[5.36915635E-315] = true,
			[5.36914054E-315] = true,
			[5.36913801E-315] = true,
			[5.369157617E-315] = true,
			[5.369165206E-315] = true,
			[5.36913738E-315] = true
		}
		return f25_local0[f25_arg0] ~= nil
	elseif f25_arg1 == CoD.StatsGroup.RankedLoadouts or f25_arg1 == CoD.StatsGroup.CoopLoadouts then
		local f25_local0 = {
			[5.369156984E-315] = true,
			[5.36915066E-315] = true,
			[5.36916963E-315] = true,
			[5.36915825E-315] = true,
			[5.369133585E-315] = true,
			[5.36915572E-315] = true
		}
		return f25_local0[f25_arg0] ~= nil
	else
		return false
	end
end

LOADOUT.IsWeaponBlacklistedFromValidation = function ( f24_arg0 )
	local f24_local0 = {
		[5.376429314E-315] = true
	}
	return f24_local0[f24_arg0]
end

LOADOUT.IsValidLootIDForValidation = function ( f23_arg0 )
	local f23_local0
	if f23_arg0 then
		f23_local0 = f23_arg0
	else
		f23_local0 = f23_arg0 ~= 0
	end
	return f23_local0
end

LOADOUT.ResetWeaponSetupInLoadout = function ( f22_arg0, f22_arg1, f22_arg2, f22_arg3 )
	local f22_local0 = f22_arg1.equippedPerkPackageIndex:get()
	local f22_local1
	if f22_arg3 == CoD.StatsGroup.WZPrivateLoadouts or f22_arg3 == CoD.StatsGroup.WZRankedLoadouts then
		f22_local1 = PERK.BR_PERK_PACKAGES_SCRIPT_BUNDLE
		if not f22_local1 then
		
		else
			local f22_local2 = PERK.DoesPerkPackageContainOverkill( PERK.GetPerkPackageData( f22_arg0, f22_local0, Engine[0x6093D047200548]( f22_local1 ), f22_arg3 ) )
			if f22_arg2 == 0 then
				WEAPON.EquipBaseWeapon( f22_arg1.weaponSetups[f22_arg2], WEAPON.DefaultPrimary )
			elseif f22_local2 then
				WEAPON.EquipBaseWeapon( f22_arg1.weaponSetups[f22_arg2], WEAPON.OverkillDefaultPrimary )
			else
				WEAPON.EquipBaseWeapon( f22_arg1.weaponSetups[f22_arg2], WEAPON.DefaultSecondary )
			end
		end
	end
	f22_local1 = PERK.DEFAULT_PERK_PACKAGES_SCRIPT_BUNDLE
end

LOADOUT.ValidatePlayerDataWeaponSetups = function ( f21_arg0 )
	if not CONDITIONS.IsPlayerDataWeaponSetupsValidationEnabled() then
		return 
	end
	local f21_local0 = Fences[0x6C6D08978B8C65]( f21_arg0, "LOOT_VALIDATION" )
	assert( f21_local0 == LUI.Fence.FenceObjectState.PASSING )
	if f21_local0 ~= LUI.Fence.FenceObjectState.PASSING then
		return 
	end
	for f21_local4, f21_local5 in ipairs( LOADOUT.GetAllLoadoutStatsGroups() ) do
		LOADOUT.ValidatePlayerDataWeaponSetupsForStatsGroup( f21_arg0, f21_local5 )
	end
	for f21_local5, f21_local6 in ipairs( GUNSMITH.GetAllCustomMods( f21_arg0 ) ) do
		local f21_local7, f21_local8 = WEAPON.IsWeaponTableValid( f21_arg0, f21_local6 )
		if not f21_local7 then
			METRICS.SendDLogWeaponSetupValidationResults( f21_arg0, f21_local8, LOADOUT.DLOG_VALIDATION_UNEQUIP_SUFFIX, CoD.StatsGroup.NonGame )
			if CONDITIONS.IsPlayerDataWeaponSetupsValidationResetWeaponEnabled() then
				GUNSMITH.DeleteCustomMod( f21_arg0, f21_local6.weapon, f21_local6.modSlot )
				Gunsmith[0x72A7A297BA6F63F]( f21_arg0 )
				ACTIONS.UploadStats( self, f21_arg0 )
			end
		end
	end
end

LOADOUT.ValidatePlayerDataWeaponSetupsForStatsGroup = function ( f20_arg0, f20_arg1 )
	if not CONDITIONS.IsPlayerDataWeaponSetupsValidationEnabled() then
		return 
	end
	local f20_local0 = Fences[0x6C6D08978B8C65]( f20_arg0, "LOOT_VALIDATION" )
	assert( f20_local0 == LUI.Fence.FenceObjectState.PASSING )
	if f20_local0 ~= LUI.Fence.FenceObjectState.PASSING then
		return 
	end
	local f20_local1, f20_local2 = LOADOUT.GetValidLoadouts( f20_arg0, f20_arg1 )
	for f20_local3 = 0, f20_local2 - 1, 1 do
		local f20_local6 = f20_local1[f20_local3].loadout
		for f20_local7 = 0, 1, 1 do
			local f20_local10, f20_local11 = WEAPON.IsWeaponTableValid( f20_arg0, WEAPON.GenerateWeaponTable( f20_local6.weaponSetups[f20_local7] ), f20_arg1 )
			if not f20_local10 then
				METRICS.SendDLogWeaponSetupValidationResults( f20_arg0, f20_local11, LOADOUT.DLOG_VALIDATION_UNEQUIP_SUFFIX, f20_arg1 )
				local f20_local12 = CONDITIONS.IsPlayerLoadoutBlacklistValidationEnabled()
				if f20_local12 then
					f20_local12 = not Table.IsEmpty( f20_local11[LOADOUT.DLOG_VALIDATION_BLACKLISTED_WEAPON_ROOT] )
				end
				if CONDITIONS.IsPlayerDataWeaponSetupsValidationResetWeaponEnabled() or f20_local12 then
					LOADOUT.ResetWeaponSetupInLoadout( f20_arg0, f20_local6, f20_local7, f20_arg1 )
					ACTIONS.UploadStats( self, f20_arg0 )
				end
			end
		end
	end
end

LOADOUT.MobileStartCacSessionDLogEvent = function ( f19_arg0, f19_arg1 )
	local f19_local0 = LUI.FlowManager.GetScopedData( f19_arg0 )
	if not f19_local0.sessionID then
		f19_local0.sessionID = Engine[0x3B8CFB6758EF57C]()
	end
	if not f19_local0.cacSessionStartTime then
		f19_local0.cacSessionStartTime = Engine[0x3B8CFB6758EF57C]()
	end
	if not f19_local0.cacSessionDlogOnGoing and not CONDITIONS.IsBRLoadoutGameType( f19_arg1 ) then
		local f19_local1 = nil
		if CONDITIONS.InGame() then
			f19_local1 = "IngamePauseMenu"
		end
		METRICS.CacSessionStartSendDLogEvent( f19_arg1, f19_local0.sessionID, f19_local1 )
		f19_local0.cacSessionDlogOnGoing = true
	end
end

LOADOUT.MobileGetLoadoutGridDataTable = function ( f18_arg0, f18_arg1, f18_arg2, f18_arg3 )
	local f18_local0
	if f18_arg3 then
		f18_local0 = f18_arg3.lethal
		if not f18_local0 then
		
		else
			local f18_local1
			if f18_arg3 then
				f18_local1 = f18_arg3.tactical
				if not f18_local1 then
				
				else
					local f18_local2
					if f18_arg3 and not f18_arg3 then
						f18_local2 = f18_arg3
					else
						f18_local2 = f18_arg2
					end
					local f18_local3 = {}
					local f18_local4
					if f18_arg3 then
						f18_local4 = f18_arg3.equippedPerkPackageIndex
						if not f18_local4 then
						
						else
							f18_local3 = PERK.GetPerkPackageData( f18_arg0, f18_local4 )
							local f18_local5 = {
								isDefaultLoadout = f18_arg3,
								loadoutIndex = f18_arg1
							}
							local f18_local6
							if f18_arg2 then
								f18_local6 = f18_arg2
							else
								f18_local6 = f18_arg2.weaponSetups[WEAPON.PrimarySlot]
							end
							f18_local5.primaryWeaponSetup = f18_local6
							if f18_arg2 then
								f18_local6 = f18_arg2
							else
								f18_local6 = f18_arg2.weaponSetups[WEAPON.SecondarySlot]
							end
							f18_local5.secondaryWeaponSetup = f18_local6
							if f18_arg3 then
								f18_local6 = f18_arg3
							else
								f18_local6 = f18_arg3.weapons[WEAPON.PrimarySlot + 1]
							end
							f18_local5.primaryDefaultLoadoutWeapon = f18_local6
							if f18_arg3 then
								f18_local6 = f18_arg3
							else
								f18_local6 = f18_arg3.weapons[WEAPON.SecondarySlot + 1]
							end
							f18_local5.secondaryDefaultLoadoutWeapon = f18_local6
							f18_local5.perkTable = f18_local3
							f18_local5.lethal = f18_local0
							f18_local5.tactical = f18_local1
							f18_local5.fieldUpgradeData = f18_local2
							return f18_local5
						end
					end
					f18_local4 = f18_arg2.equippedPerkPackageIndex:get()
				end
			end
			f18_local1 = f18_arg2.equipmentSetups[1].equipment:get()
		end
	end
	f18_local0 = f18_arg2.equipmentSetups[0].equipment:get()
end

LOADOUT.MobileRefreshLoadoutsHandler = function ( f17_arg0, f17_arg1 )
	assert( f17_arg1 )
	local f17_local0 = CONDITIONS.InGame()
	local f17_local1, f17_local2 = nil
	if f17_local0 then
		local f17_local3 = f17_arg0._focusedLoadoutIndex
		if not f17_local3 then
			f17_local2 = f17_local3
		else
			f17_local2 = 0
		end
	else
		f17_local1 = LUI.FlowManager.GetScopedData( f17_arg0 )
		local f17_local3 = f17_local1.selectedLoadoutIndex
		if not f17_local3 then
			f17_local2 = f17_local3
		else
			f17_local3 = f17_arg0._focusedLoadoutIndex
			if not f17_local3 then
				f17_local2 = f17_local3
			else
				f17_local2 = 0
			end
		end
	end
	f17_local2 = LOADOUT.GetFixedLoadoutIndex( f17_arg1, f17_local2 )
	f17_arg0._focusedLoadoutIndex = f17_local2
	if not f17_local0 then
		f17_local1.selectedLoadoutIndex = f17_local2
	end
	local f17_local3, f17_local4 = LOADOUT.GetValidLoadouts( f17_arg1 )
	local f17_local5 = {
		numValidLoadouts = f17_local4
	}
	local f17_local6 = {
		y = 0
	}
	local f17_local7
	if f17_local0 and not f17_local2 then
		f17_local7 = f17_local2
	else
		f17_local7 = f17_local1.selectedLoadoutIndex
	end
	f17_local6.x = f17_local7
	f17_local5.defaultFocusPos = f17_local6
	f17_arg0:SetupLoadoutsGridDefaultActive( f17_arg1, f17_local5 )
end

LOADOUT.MobileRefreshLoadoutsName = function ( f16_arg0, f16_arg1, f16_arg2 )
	local f16_local0 = {}
	local f16_local1, f16_local2 = LOADOUT.GetValidLoadoutsInOrder( f16_arg1 )
	for f16_local3 = 1, f16_local2, 1 do
		table.insert( f16_local0, f16_local1[f16_local3 - 1].loadout.name:get() )
	end
	DROPDOWN.UpdateCurrentIndex( f16_arg0.DropdownLoadouts, f16_arg2 )
	DROPDOWN.UpdateCurrentTextDropdown( f16_arg0.DropdownLoadouts, f16_local0 )
end

LOADOUT.SetSelectedLoadout = function ( f15_arg0 )
	Engine[0x6055C55456F05DF]( "class_select", f15_arg0 )
end

LOADOUT.ExitLoadoutBag = function ()
	Engine[0x6055C55456F05DF]( "exit_loadout_bag", 1 )
	LUI.FlowManager.RequestCloseAllMenus()
end

LOADOUT.GetCustomizationSetup = function ( f13_arg0, f13_arg1 )
	if not f13_arg1 then
		f13_arg1 = LOADOUT.GetLoadoutStatsGroup()
	end
	if CONDITIONS.IsLeaguePlay() then
		if CONDITIONS.IsBRLeaguePlay() then
			f13_arg1 = CoD.StatsGroup.WZRankedLoadouts
		else
			f13_arg1 = CoD.StatsGroup.RankedLoadouts
		end
	end
	local f13_local0 = PLAYER_DATA.IO( f13_arg0, f13_arg1 )
	if not f13_local0 then
		return nil
	else
		return f13_local0.customizationSetup
	end
end

LOADOUT.GetCustomizationFavorites = function ( f12_arg0, f12_arg1, f12_arg2 )
	if not f12_arg1 then
		f12_arg1 = LOADOUT.GetLoadoutStatsGroup()
	end
	if CONDITIONS.IsLeaguePlay() and not f12_arg2 then
		f12_arg1 = CoD.StatsGroup.RankedLoadouts
	end
	local f12_local0 = PLAYER_DATA.IO( f12_arg0, f12_arg1 )
	return f12_local0.customizationFavorites
end

LOADOUT.CheckIsAlreadyEquippedWeapons = function ( f11_arg0 )
	if not Engine[0x636BC8C3AA71FAE]() then
		return 
	end
	local f11_local0 = LOADOUT.GetLoadoutSquadMember( f11_arg0 )
	for f11_local4, f11_local5 in ddlpairs( f11_local0.loadouts ) do
		local f11_local6 = f11_local5.weaponSetups[WEAPON.PrimarySlot].weapon
		local f11_local7 = f11_local5.weaponSetups[WEAPON.SecondarySlot].weapon
		local f11_local8 = f11_local6:get()
		local f11_local9 = f11_local7:get()
		if f11_local8 ~= WEAPON.none and f11_local8 == f11_local9 then
			WEAPON.WipeWeaponSetup( f11_local5.weaponSetups[WEAPON.SecondarySlot] )
			if f11_local9 == WEAPON.OverkillDefaultPrimary then
				f11_local7:set( WEAPON.DefaultPrimary )
			else
				f11_local7:set( WEAPON.OverkillDefaultPrimary )
			end
		end
	end
end

LOADOUT.SetLoadoutIndex = function ( f10_arg0, f10_arg1 )
	DataSources.alwaysLoaded.loadout.loadoutIndex:SetValue( f10_arg0, f10_arg1 )
end

LOADOUT.GetLoadoutIndex = function ( f9_arg0 )
	return DataSources.alwaysLoaded.loadout.loadoutIndex:GetValue( f9_arg0 )
end

LOADOUT.CheckOverkillLoadoutSetup = function ( f8_arg0 )
	local f8_local0 = LOADOUT.GetLoadoutSquadMember( f8_arg0 )
	for f8_local7, f8_local8 in ddlpairs( f8_local0.loadouts ) do
		local f8_local9 = f8_local8.weaponSetups[WEAPON.PrimarySlot].weapon:get()
		local f8_local10 = f8_local8.weaponSetups[WEAPON.SecondarySlot].weapon
		local f8_local11 = f8_local10:get()
		if not String.IsNilOrEmpty( f8_local11 ) then
			local f8_local4 = PERK.DoesPerkPackageContainOverkill( PERK.GetPerkPackageData( f8_arg0, f8_local8.equippedPerkPackageIndex:get() ) )
			local f8_local5 = WEAPON.IsSecondaryWeaponType( WEAPON.GetWeaponClass( WEAPON.GetBaseRef( f8_local11, false ) ) )
			if not f8_local4 and not f8_local5 and f8_local11 ~= WEAPON.none then
				WEAPON.WipeWeaponSetup( f8_local8.weaponSetups[WEAPON.SecondarySlot] )
				f8_local10:set( WEAPON.DefaultSecondary )
			end
			if f8_local4 then
				local f8_local6
				if f8_local9 == WEAPON.OverkillDefaultPrimary then
					f8_local6 = WEAPON.DefaultPrimary
					if not f8_local6 then
					
					else
						if f8_local5 then
							WEAPON.WipeWeaponSetup( f8_local8.weaponSetups[WEAPON.SecondarySlot] )
							f8_local10:set( f8_local6 )
						end
						if f8_local11 == WEAPON.none then
							f8_local10:set( f8_local6 )
						end
					end
				end
				f8_local6 = WEAPON.OverkillDefaultPrimary
			end
		end
	end
end

LOADOUT.CPRectifyOverkillLoadouts = function ( f7_arg0 )
	if not CONDITIONS.IsThirdGameMode() then
		return 
	end
	local f7_local0 = LOADOUT.GetLoadoutSquadMember( f7_arg0, nil, nil, CoD.StatsGroup.CoopLoadouts )
	for f7_local9, f7_local10 in ddlpairs( f7_local0.loadouts ) do
		local f7_local4
		if f7_local10 then
			f7_local4 = f7_local10
		else
			f7_local4 = f7_local10.inUse:get() ~= 0
		end
		if f7_local4 then
			local f7_local5 = f7_local10.weaponSetups[1]
			local f7_local6 = WEAPON.GenerateWeaponTable( f7_local5 )
			local f7_local7 = f7_local6.weaponClass
			if not f7_local7 then
				f7_local7 = WEAPON.GetWeaponClass( f7_local6.weapon )
			end
			if not WEAPON.IsSecondaryWeaponType( f7_local7 ) then
				local f7_local8 = WEAPON.DefaultSecondary
				LOOT.SendDlogLootEquipped( f7_arg0, LOOT.itemTypes.WEAPON, f7_local6, nil, nil, f7_local8 )
				WEAPON.EquipBaseWeapon( f7_local5, f7_local8 )
				GUNSMITH.EquipBaseWeaponPartsAttachment( f7_arg0, f7_local5 )
			end
		end
	end
end

LOADOUT.GetWeaponSetupFromWeaponInfo = function ( f6_arg0, f6_arg1 )
	assert( f6_arg1.loadoutIndex )
	assert( f6_arg1.weaponSlot )
	local f6_local0 = LOADOUT.GetLoadoutSquadMember( f6_arg0 )
	return f6_local0.loadouts[f6_arg1.loadoutIndex].weaponSetups[f6_arg1.weaponSlot]
end

LOADOUT.UpdateTagsPosition = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = {}
	if not f5_arg1 then
		f5_arg1 = {}
	end
	f5_arg1.forceHeight = false
	table.insert( f5_local0, f5_arg0.TagsStationaryAnchor )
	if f5_arg0.DMZItemBonus and f5_arg0.DMZItemBonus:IsVisible() then
		table.insert( f5_local0, f5_arg0.DMZItemBonus )
	end
	if f5_arg0.GenericItemBonus and f5_arg0.GenericItemBonus:IsVisible() then
		table.insert( f5_local0, f5_arg0.GenericItemBonus )
	end
	if f5_arg0.UniversalWrapsBonus and f5_arg0.UniversalWrapsBonus:IsVisible() then
		table.insert( f5_local0, f5_arg0.UniversalWrapsBonus )
	end
	if f5_arg0.ActiveArmoryPromo and f5_arg0.ActiveArmoryPromo:IsVisible() then
		table.insert( f5_local0, f5_arg0.ActiveArmoryPromo )
	end
	LAYOUT.StackElementsVertically( f5_local0, f5_arg2, LAYOUT.StackDirection.Bottom, f5_arg1 )
end

LOADOUT.IsActiveArmoryEnabled = function ( f4_arg0 )
	local f4_local0
	if 0 < LOADOUT.GetActiveArmoryDvar() then
		f4_local0 = PROGRESSION.AreCustomLoadoutsUnlocked( f4_arg0 )
	else
		f4_local0 = false
	end
	return f4_local0
end

LOADOUT.GetActiveArmoryDvar = function ()
	if CONDITIONS.IsCoreMultiplayerNotBr() then
		return Dvar[0x22EAAB59AA27E9B]( 0x75AA6E5B3A10FFC )
	else
		return Dvar[0x22EAAB59AA27E9B]( 0x470F15E2E6C4944 )
	end
end

LOADOUT.IsLeavingActiveArmoryEnabled = function ( f2_arg0 )
	local f2_local0 = Dvar[0x9E5BE3B4BBA4E0E]( 0xADFE5730C8D28D7 )
	if f2_local0 then
		f2_local0 = PROGRESSION.AreCustomLoadoutsUnlocked( f2_arg0 )
	end
	return f2_local0
end

MenuBuilder.registerType( "MobileLoadoutOptions", function ( f1_arg0, f1_arg1 )
	local f1_local0 = {
		title = Engine[0xED84C33EC5F01EA]( 0x1762F1AFABB8320 ),
		typeOfPopup = PopupsUtils.typeOfPopup.POPUP_BUTTONS_ONLY,
		controllerIndex = f1_arg1.controllerIndex,
		buttons = {}
	}
	local f1_local1 = {
		gameType = f1_arg1.gameType,
		loadoutIndex = f1_arg1.loadoutIndex,
		loadoutCount = f1_arg1.loadoutCount
	}
	for f1_local8, f1_local9 in ipairs( LOADOUT.MobileLoadoutOptionsPopupButtonsData ) do
		local f1_local5 = true
		if f1_local9.visible then
			f1_local5 = f1_local9.visible( nil, f1_arg1.controllerIndex, f1_local1 )
		end
		if f1_local5 then
			local f1_local6 = f1_local9.action( f1_arg1.controllerIndex, f1_local1 )
			local f1_local7 = false
			if f1_local9.IsDisabled then
				f1_local7 = f1_local9.IsDisabled( f1_arg1.controllerIndex )
			end
			table.insert( f1_local0.buttons, {
				label = f1_local9.name,
				action = f1_local6,
				disabled = f1_local7
			} )
		end
	end
	f1_local2 = MenuBuilder.BuildRegisteredType( "PopupMessageAndButtons", f1_local0 )
	f1_local2.id = "MobileLoadoutOptions"
	return f1_local2
end )
