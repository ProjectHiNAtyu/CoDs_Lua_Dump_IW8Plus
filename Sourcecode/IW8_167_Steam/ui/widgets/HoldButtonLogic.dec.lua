-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 17-11-2025 01:21
local f0_local0 = "onProgress"
local f0_local1 = "onCancel"
local f0_local2 = "onConfirm"
local f0_local3 = {
	PRESS_DURATION = 1,
	ON_FILL_COMPLETE_DELAY = 1,
	EMPTY_DURATION = 150
}
local f0_local4 = function ( f28_arg0, f28_arg1 )
	f28_arg1.buttons = f28_arg1.buttons or {
		primary = true
	}
	local f28_local0 = f28_arg1.emptyDuration
	if not f28_local0 then
		f28_local0 = f0_local0.EMPTY_DURATION
	end
	f28_arg1.emptyDuration = f28_local0
	f28_local0 = f28_arg1.onFillCompleteDelay
	if not f28_local0 then
		f28_local0 = f0_local0.ON_FILL_COMPLETE_DELAY
	end
	f28_arg1.onFillCompleteDelay = f28_local0
	f28_arg1.clickKeyboardAndMouse = f28_arg1.clickKeyboardAndMouse or false
	if f28_arg1.requireFocus == nil then
		f28_arg1.requireFocus = true
	end
	return f28_arg1
end

local f0_local5 = function ( f27_arg0, f27_arg1 )
	if f27_arg0 == f0_local0 then
		return f27_arg1.onProgress
	elseif f27_arg0 == f0_local0 then
		return f27_arg1.onConfirm
	else
		return f27_arg1.onCancel
	end
end

local f0_local6 = function ( f26_arg0, f26_arg1 )
	if f26_arg0 == f0_local0 then
		return f26_arg1.onProgress
	elseif f26_arg0 == f0_local0 then
		return f26_arg1.onConfirm
	else
		return f26_arg1.onCancel
	end
end

local f0_local7 = function ( f25_arg0, f25_arg1 )
	local f25_local0
	if f25_arg0 then
		f25_local0 = f25_arg0.target
		if not f25_local0 then
		
		else
			return f25_local0
		end
	end
	f25_local0 = f25_arg1
end

local f0_local8 = function ( f24_arg0, f24_arg1 )
	return f24_arg0._isKBMActive and f0_local0.PRESS_DURATION or f24_arg1.duration
end

local f0_local9 = function ( f23_arg0, f23_arg1, f23_arg2, f23_arg3 )
	local f23_local0 = f23_arg0._buttonOptions.fill
	local f23_local1 = f23_local0
	local f23_local2 = f23_local0.SetProgress
	local f23_local3 = f23_arg1
	local f23_local4
	if not f23_arg2 then
		f23_local4 = f23_arg2
	else
		f23_local4 = 0
	end
	return f23_local2( f23_local1, f23_local3, f23_local4, f23_arg3 )
end

local f0_local10 = function ( f22_arg0, f22_arg1, f22_arg2, f22_arg3 )
	f22_arg0._buttonOptions.fill:SetAlpha( f22_arg1, f22_arg2, f22_arg3 )
end

local f0_local11 = function ( f21_arg0 )
	f0_local0( f21_arg0, 0, f21_arg0._buttonOptions.emptyDuration, LUI.EASING.inQuadratic )
	f0_local0( f21_arg0, 1, 350, LUI.EASING.inCubic )
	f21_arg0.fillTween = nil
end

local f0_local12 = function ( f20_arg0, f20_arg1 )
	assert( f20_arg0._buttonOptions )
	assert( f20_arg0._buttonOptions.duration )
	f20_arg0._buttonOptions.duration = f20_arg1
end

local f0_local13 = function ( f19_arg0, f19_arg1 )
	local f19_local0 = f19_arg0._buttonOptions.soundFX
	local f19_local1
	if f19_local0 then
		f19_local1 = f19_local0
	else
		f19_local1 = f19_local0[f19_arg1]
		if f19_local1 then
			f19_local1 = f19_local0.gamepadOnly
			if f19_local1 then
				f19_local1 = not f19_arg0._isKBMActive
			end
		end
	end
	return f19_local1
end

local f0_local14 = function ( f18_arg0, f18_arg1 )
	local f18_local0 = f18_arg0._buttonOptions.animations
	local f18_local1
	if f18_local0 then
		f18_local1 = f18_local0
	else
		f18_local1 = f18_local0[f18_arg1]
		if f18_local1 then
			f18_local1 = f18_local0.gamepadOnly
			if f18_local1 then
				f18_local1 = not f18_arg0._isKBMActive
			end
		end
	end
	return f18_local1
end

local f0_local15 = function ( f17_arg0, f17_arg1 )
	return not f17_arg1.buttons[f17_arg0.button]
end

local f0_local16 = function ( f16_arg0, f16_arg1 )
	local f16_local0 = f16_arg1.requireFocus
	if f16_local0 then
		f16_local0 = not f16_arg0:isInFocus()
	end
	return f16_local0
end

local f0_local17 = function ( f15_arg0 )
	return f15_arg0.disabled
end

local f0_local18 = function ( f14_arg0, f14_arg1 )
	if f0_local0( f14_arg0, f14_arg1 ) then
		Engine.BJDBIAGIDA( f0_local0( f14_arg1, f14_arg0._buttonOptions.soundFX ) )
	end
end

local f0_local19 = function ( f13_arg0, f13_arg1, f13_arg2 )
	if f0_local0( f13_arg0, f13_arg1 ) then
		ACTIONS.AnimateSequence( f13_arg2, f0_local0( f13_arg1, f13_arg0._buttonOptions.animations ) )
	end
end

local f0_local20 = function ( f12_arg0, f12_arg1 )
	f12_arg0:processEvent( {
		isMouse = true,
		name = "gamepad_button",
		button = "primary",
		down = f12_arg1
	} )
end

local f0_local21 = function ( f11_arg0, f11_arg1 )
	f11_arg0:ReleaseButton()
end

local f0_local22 = function ( f9_arg0, f9_arg1, f9_arg2 )
	local f9_local0 = f9_arg0:Wait( f9_arg2.onFillCompleteDelay )
	f9_local0.onComplete = function ()
		local f10_local0 = f9_arg0.onFillParams
		if f10_local0 then
			assert( type( f10_local0 ) == "table" )
			f9_arg0:onFill( f10_local0 )
		else
			f9_arg0:onFill()
		end
	end
	
end

local f0_local23 = function ( f8_arg0, f8_arg1, f8_arg2, f8_arg3 )
	if f8_arg1.fillTween ~= f8_arg3 then
		return 
	else
		local f8_local0 = f0_local0( f8_arg0._buttonOptions.animations, f8_arg1 )
		f0_local0( f8_arg0, 0, 350, LUI.EASING.inCubic )
		f0_local0( f8_arg0, f0_local0 )
		f0_local0( f8_arg0, f0_local0, f8_local0 )
		f0_local0( f8_arg0, f8_arg2, f8_arg0._buttonOptions )
	end
end

local f0_local24 = function ( f6_arg0, f6_arg1, f6_arg2 )
	local f6_local0 = f6_arg0._buttonOptions
	local f6_local1 = f0_local0( f6_local0.animations, f6_arg1 )
	local f6_local2 = f6_local0.clickKeyboardAndMouse
	f6_arg0._isKBMActive = false
	if f0_local0( f6_arg2, f6_local0 ) or f0_local0( f6_arg1, f6_local0 ) or f0_local0( f6_arg1 ) then
		
	end
	if f6_local2 and (f6_arg2.qualifier == ButtonQualifiers.Keyboard or f6_arg2.isMouse) then
		f6_arg0._isKBMActive = true
	end
	if not f6_arg2.down and not f6_arg0._isKBMActive then
		f6_arg1:ReleaseButton()
		f0_local0( f6_arg0, f0_local0 )
		f0_local0( f6_arg0, f0_local0, f6_local1 )
	else
		f0_local0( f6_arg0, f0_local0 )
		f0_local0( f6_arg0, f0_local0, f6_local1 )
		if not f6_arg1.fillTween then
			f0_local0( f6_arg0, 0 )
			f6_arg1.fillTween = f0_local0( f6_arg0, 1, f0_local0( f6_arg0, f6_local0 ), LUI.EASING.inOutQuadratic )
			local f6_local3 = f6_arg1.fillTween
			f6_arg1.fillTween.onComplete = function ()
				f6_arg0( f6_arg0, f6_arg0, f6_arg0, f6_arg0 )
			end
			
		end
	end
end

local f0_local25 = function ( f2_arg0 )
	f2_arg0:registerEventHandler( "mousedown", function ( element, event )
		f2_arg0( f2_arg0, true )
	end )
	f2_arg0:registerEventHandler( "mouseup", function ( element, event )
		f2_arg0( f2_arg0, false )
	end )
	if f2_arg0._buttonOptions.requireFocus then
		f2_arg0:addEventHandler( "lose_focus", f0_local0 )
	end
	f2_arg0:addEventHandler( "gamepad_button", function ( f3_arg0, f3_arg1 )
		f2_arg0( f2_arg0, f3_arg0, f3_arg1 )
	end )
end

LUI.AddUIHoldButtonLogic = function ( f1_arg0, f1_arg1, f1_arg2 )
	assert( f1_arg2.fill )
	assert( f1_arg2.fill.SetProgress )
	assert( f1_arg2.onFill )
	assert( f1_arg2.duration )
	f1_arg0._controllerIndex = f1_arg1
	f1_arg0._buttonOptions = f0_local0( f1_arg0, f1_arg2 )
	f1_arg0.UpdateDuration = f0_local0
	f1_arg0.ReleaseButton = f0_local0
	f0_local0( f1_arg0, 0 )
	f0_local0( f1_arg0 )
end

