-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
module( ..., package.seeall )
require( "ui.generated.widgets.touch.mobilecdnidownloaditemstriplayout" )
require( "ui.generated.widgets.touch.mobilecdnidownloaditemcardlayout" )
require( "ui.generated.widgets.wzm.mobilealtheader" )
require( "ui.generated.widgets.touch.mobilecdnidownloadallbutton" )
local f0_local0 = {
	Language = 3,
	Map = 4,
	Mandatory = 1,
	DeferredMandatory = 2,
	None = 0
}
local f0_local1 = {
	Pending = 2,
	Installed = 5,
	Paused = 3,
	Downloaded = 4,
	Downloading = 1,
	None = 0
}
local f0_local2 = {
	[f0_local1.Downloading] = 0,
	[f0_local1.Pending] = 0,
	[f0_local1.Paused] = 0,
	[f0_local1.None] = 0,
	[f0_local1.Downloaded] = 1,
	[f0_local1.Installed] = 2
}
local f0_local3 = {
	[f0_local1.None] = {
		animate = "DefaultSequence",
		name = 0xA45CEB1558F2F2F
	},
	[f0_local1.Downloading] = {
		animate = "Downloading",
		name = 0x93575CF012A738B
	},
	[f0_local1.Pending] = {
		animate = "Pending",
		name = 0xD0019D21DBD9640
	},
	[f0_local1.Paused] = {
		animate = "DefaultSequence",
		name = 0x4F30DAF0CFF2197
	},
	[f0_local1.Downloaded] = {
		animate = "Downloaded",
		name = 0x7CAE4275116079C
	},
	[f0_local1.Installed] = {
		animate = "Finished",
		name = 0x3A7476D32C0E97D
	}
}
local f0_local4 = "ProgressIndicatorLoop"
local f0_local5 = function ( f46_arg0, f46_arg1, f46_arg2 )
	f46_arg1.ProgressMask:SetAnchorsAndPosition( 0, 1, 0, 0, 0, f46_arg0._stripWidth * f46_arg2, 0, 0 )
end

local f0_local6 = {
	{
		name = 0x8652B9D730015A8,
		visible = true,
		showIndicator = false,
		type = f0_local0.Language,
		packs = {},
		UpdateItem = f0_local5,
		GetTilte = function ( f44_arg0 )
			return GetLanguageDisplayName( f44_arg0.language )
		end,
		GetGrid = function ( f43_arg0 )
			return f43_arg0.GridLanguages
		end
	},
	{
		name = 0xECEF8C2737A5A04,
		visible = true,
		showIndicator = false,
		type = f0_local0.Map,
		packs = {},
		UpdateItem = function ( f45_arg0, f45_arg1, f45_arg2 )
			f45_arg1.ProgressMask:SetAnchorsAndPosition( 0, 1, 0, 0, 0, f45_arg0.GridMaps:GetColumnWidth() * f45_arg2, 0, 0 )
			f45_arg1.PercentageText:setText( Engine[0xED84C33EC5F01EA]( 0xADAE899DCAE5112, math.floor( f45_arg2 * 100 ) ) )
			f45_arg1.RoundProgressBar:SetProgress( f45_arg2 )
		end,
		GetTilte = function ( f42_arg0 )
			return CDNI[0x728CA9E6A2941C4]( f42_arg0.map )
		end,
		GetGrid = function ( f41_arg0 )
			return f41_arg0.GridMaps
		end
	},
	{
		name = 0xDE85B0234E7501D,
		visible = true,
		showIndicator = false,
		type = f0_local0.CommonAssets,
		packs = {},
		UpdateItem = f0_local5,
		GetTilte = function ( f40_arg0 )
			return Engine[0xED84C33EC5F01EA]( 0xDE85B0234E7501D )
		end,
		GetGrid = function ( f39_arg0 )
			return f39_arg0.GridCommonAssets
		end
	}
}
local f0_local7 = function ( f38_arg0 )
	local f38_local0 = 1024
	local f38_local1 = 1024 * f38_local0
	local f38_local2 = 1024 * f38_local1
	local f38_local3 = Engine[0xED84C33EC5F01EA]( 0x5B216AB443587F9 )
	if f38_local2 < f38_arg0 then
		f38_arg0 = f38_arg0 / f38_local2
		f38_local3 = Engine[0xED84C33EC5F01EA]( 0x32F0E04E6FF5550 )
	elseif f38_local1 < f38_arg0 then
		f38_arg0 = f38_arg0 / f38_local1
		f38_local3 = Engine[0xED84C33EC5F01EA]( 0x342F604E70FD592 )
	elseif f38_local0 < f38_arg0 then
		f38_arg0 = f38_arg0 / f38_local0
		f38_local3 = Engine[0xED84C33EC5F01EA]( 0x33C2604E70A0874 )
	end
	return Engine[0xED84C33EC5F01EA]( 0xA8F5F571930ECE4, string.format( "%.1f", f38_arg0 ), f38_local3 )
end

local f0_local8 = function ( f36_arg0, f36_arg1 )
	LUI.FlowManager.RequestPopupMenu( nil, "PopupYesNo", true, f36_arg1, false, {
		title = Engine[0xED84C33EC5F01EA]( 0x69746E443968D5E ),
		message = Engine[0xED84C33EC5F01EA]( 0x312A402ADEF67AF ),
		yesAction = function ( f37_arg0, f37_arg1 )
			CDNI[0x2AF146CAA596DB9]( f36_arg0.index )
		end,
		noAction = nil
	} )
end

local f0_local9 = function ( f35_arg0 )
	local f35_local0 = Engine[0xEE6F69FEA944B13]()
	local f35_local1, f35_local2, f35_local3, f35_local4 = f35_local0.flowManager:getLocalRect()
	local f35_local5 = f35_local0:getWidth() + f35_local3 - f35_local1
	local f35_local6 = f35_arg0:GetAnchorsAndPosition()
	return math.abs( f35_local5 * f35_local6.leftAnchor + f35_local6.left - f35_local5 * (1 - f35_local6.rightAnchor) + f35_local6.right )
end

local f0_local10 = function ( f27_arg0, f27_arg1 )
	if not f27_arg0.selectedTab then
		
	else
		
	end
	ACTIONS.AnimateSequence( f27_arg0, "Tab" .. f27_arg0.selectedTab )
	local f27_local0 = CDNI[0x4A1C71F3A918166]()
	for f27_local4, f27_local5 in ipairs( f0_local0 ) do
		f27_local5.packs = {}
		f27_local5.showIndicator = false
	end
	f27_local1 = false
	for f27_local5, f27_local11 in ipairs( f27_local0 ) do
		for f27_local6, f27_local7 in ipairs( f0_local0 ) do
			if f27_local7.type == f27_local11.type then
				table.insert( f27_local7.packs, f27_local11 )
				if f27_local11.status == f0_local0.Downloading or f27_local11.status == f0_local0.Pending then
					f27_local7.showIndicator = true
					f27_local1 = true
					break
				end
			end
		end
		if f27_local11.type == f0_local0.Language and f27_local11.status == f0_local0.Installed and f27_arg0._quickDownloadPack and f27_arg0._quickDownloadPack.index == f27_local11.index then
			f27_arg0._quickDownloadPack = nil
			f27_local9 = f27_local11.language
			f27_local10 = f27_arg0:Wait( 1200 )
			f27_local10.onComplete = function ( f33_arg0 )
				local f33_local0 = {}
				if Engine[0x88FBC854CDE6C22]( f27_arg0 ) then
					local f33_local1 = Engine[0xE25E29D8ADE8F27]()
					f33_local0.title = Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 )
					local f33_local2 = Engine[0xED84C33EC5F01EA]
					local f33_local3
					if f33_local1 then
						f33_local3 = 0x3C4186909DA1F5A
						if not f33_local3 then
						
						else
							f33_local0.message = f33_local2( f33_local3 )
							f33_local0.yesAction = function ( f34_arg0, f34_arg1 )
								Engine[0x74FE0B006735E42]( f34_arg1, f33_arg0 )
								Engine[0xB81A5136C5503E4]( "updategamerprofile" )
								DCache[0xEA23CAA4B132C55]( f33_arg0 )
								if not f33_arg0 then
									Engine[0x34C623E28A1C5E7]( "" )
								end
							end
							
							LUI.FlowManager.RequestPopupMenu( nil, "PopupYesNo", true, f27_arg0, false, f33_local0 )
						end
					end
					f33_local3 = 0x95AF8D24E168EF
				end
			end
			
		end
	end
	f27_local2 = function ( f32_arg0, f32_arg1 )
		local f32_local0 = f27_arg0[f32_arg0.status]
		local f32_local1 = f27_arg0[f32_arg1.status]
		if f32_local0 == f32_local1 then
			return f32_arg0.index < f32_arg1.index
		else
			return f32_local0 < f32_local1
		end
	end
	
	for f27_local11, f27_local9 in ipairs( f0_local0 ) do
		if f27_arg0.selectedTab == f27_local11 then
			f27_arg0.currentGrid = f27_local9.GetGrid( f27_arg0 )
		end
		local f27_local10 = f27_local9.GetGrid( f27_arg0 )
		f27_local10:SetNumChildren( #f27_local9.packs )
		table.sort( f27_local9.packs, f27_local2 )
		if f27_local9.showIndicator then
			ACTIONS.AnimateSequence( f27_arg0, "ShowIndicator" .. f27_local11 )
		else
			ACTIONS.AnimateSequence( f27_arg0, "HideIndicator" .. f27_local11 )
		end
	end
	f27_arg0.currentGrid:SetRefreshChild( function ( f29_arg0, f29_arg1, f29_arg2 )
		local f29_local0 = f27_arg0.currentGrid:GetContentIndex( f29_arg1, f29_arg2 )
		f29_arg0.index = f29_local0
		local f29_local1 = f29_arg0:GetAnchorsAndPosition()
		if f27_arg0.currentGrid == f27_arg0.GridLanguages or f27_arg0.currentGrid == f27_arg0.GridCommonAssets then
			f29_arg0:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, f29_local1.top, f29_local1.bottom )
		end
		local f29_local2 = nil
		for f29_local7, f29_local8 in ipairs( f27_arg0 ) do
			if f27_arg0.selectedTab == f29_local7 then
				f29_local2 = f29_local8.packs[f29_local0 + 1]
				if f29_local2 ~= nil then
					local f29_local6
					if f29_local2.totalSize == 0 then
					
					else
						f29_local6 = f29_local2.downloadedSize / f29_local2.totalSize
					end
					f29_local6 = 1
				end
			end
		end
		f29_arg0.TotalSizeText:setText( f27_arg0( f29_local2.totalSize ) )
		f29_arg0.SizeText:setText( Engine[0xED84C33EC5F01EA]( 0x18254E1A1A1B65D, Engine[0x7D3158A9539A355]( f27_arg0( f29_local2.downloadedSize ) ) ), Engine[0x7D3158A9539A355]( f27_arg0( f29_local2.totalSize ) ) )
		f29_arg0.StatusText:setText( Engine[0xED84C33EC5F01EA]( f27_arg0[f29_local2.status].name ) )
		f29_arg0.CancelButton:registerEventHandler( "button_action", function ( element, event )
			f29_arg0( f29_arg0, f29_arg0 )
		end )
		f29_arg0.CancelButton:SetButtonDisabled( false )
		if f29_local2.status == f27_arg0.Installed and (f29_local2.language == Engine[0xF35D89342CF7712]() or f29_local2.language == Engine[0x961ADE0742DBB36]( f27_arg0 )) then
			f29_arg0.CancelButton:SetButtonDisabled( true )
		end
		f29_arg0.ActionButton:registerEventHandler( "button_action", function ( element, event )
			if f29_arg0.status == f29_arg0.None or f29_arg0.status == f29_arg0.Paused then
				CDNI[0x405C27A630CEF14]( f29_arg0.index )
			elseif f29_arg0.status == f29_arg0.Downloading or f29_arg0.status == f29_arg0.Pending then
				CDNI[0xAA122AD0637573F]( f29_arg0.index )
			end
		end )
		if f29_arg0._animate ~= f27_arg0[f29_local2.status].animate then
			f29_arg0._animate = f27_arg0[f29_local2.status].animate
			ACTIONS.AnimateSequence( f29_arg0, f29_arg0._animate )
			if f29_local2.status == f27_arg0.Downloading then
				ACTIONS.AnimateSequence( f29_arg0, f27_arg0 )
			end
			if f29_local2.type == f27_arg0.DeferredMandatory then
				ACTIONS.AnimateSequence( f29_arg0, "HideCancelButton" )
			end
		end
	end )
	if f27_local1 then
		ACTIONS.AnimateSequence( f27_arg0.DownloadAllButton, "Pause" )
	else
		ACTIONS.AnimateSequence( f27_arg0.DownloadAllButton, "Download" )
	end
	f27_arg0.DownloadAllButton:registerEventHandler( "button_action", function ( element, event )
		if f27_arg0[f27_arg0.selectedTab].packs then
			for f28_local3, f28_local4 in ipairs( f27_arg0[f27_arg0.selectedTab].packs ) do
				if f27_arg0[f27_arg0.selectedTab].showIndicator then
					if f28_local4.status == f27_arg0.Downloading or f28_local4.status == f27_arg0.Pending then
						CDNI[0xAA122AD0637573F]( f28_local4.index )
					end
				end
				if f28_local4.status == f27_arg0.None or f28_local4.status == f27_arg0.Paused then
					CDNI[0x405C27A630CEF14]( f28_local4.index )
				end
			end
		end
	end )
	if f27_arg0._options and f27_arg0._options.downloadLanguage then
		for f27_local9, f27_local10 in ipairs( f0_local0 ) do
			if f27_local10.type == f0_local0.Language then
				for f27_local12, f27_local13 in ipairs( f27_local10.packs ) do
					if f27_local13.language == f27_arg0._options.downloadLanguage then
						if f27_local13.status == f0_local0.None or f27_local13.status == f0_local0.Paused then
							CDNI[0x405C27A630CEF14]( f27_local13.index )
							f27_arg0._quickDownloadPack = f27_local13
						end
					end
				end
			end
		end
		f27_arg0._options = nil
	end
end

local f0_local11 = function ( f24_arg0, f24_arg1 )
	local f24_local0 = f24_arg1.pack
	local f24_local1 = MenuBuilder.BuildRegisteredType( "generic_yesno_popup", {
		popup_title = Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ),
		message_text = Engine[0xED84C33EC5F01EA]( 0xD52792FE95C4650, Engine[0x7D3158A9539A355]( f0_local0( f24_local0.totalSize - f24_local0.downloadedSize ) ) ),
		yes_text = Engine[0xED84C33EC5F01EA]( 0x9F9720417371302 ),
		yes_action = function ()
			CDNI[0x1127AEFF0CF7BFE]()
		end,
		no_action = function ()
			
		end
	} )
	f24_local1.id = "CDNICellularOptionalDownloadPopup"
	CDNI[0x5D5B14EC3161230]( "optional_download_cellular_popup" )
	return f24_local1
end

local f0_local12 = function ( f19_arg0, f19_arg1, f19_arg2 )
	f19_arg0._options = f19_arg2
	f19_arg0:addEventHandler( "menu_create", function ( f22_arg0, f22_arg1 )
		f19_arg0._stripWidth = f19_arg0( f19_arg0.GridPlaceholder )
		local f22_local0 = {
			tabsChild = "MobilePrimaryNavTab",
			tabsSpacer = "MobilePrimaryNavTabSpacer",
			tabsGroup = f19_arg0,
			tabsPlaceholder = f19_arg0.TabsPlaceholder
		}
		for f22_local7, f22_local8 in ipairs( CDNI[0x4A1C71F3A918166]() ) do
			for f22_local4, f22_local5 in ipairs( f19_arg0 ) do
				if f22_local8.type == f22_local5.type then
					f22_local5.enabled = true
				end
			end
		end
		f22_local1 = {}
		for f22_local8, f22_local9 in ipairs( f19_arg0 ) do
			table.insert( f22_local1, {
				isComingSoon = true,
				name = Engine[0xED84C33EC5F01EA]( f22_local9.name ),
				hasDefaultFocus = f22_local8 == 1,
				focusFunction = function ( f23_arg0, f23_arg1, f23_arg2, f23_arg3 )
					f22_arg0.selectedTab = f23_arg2 + 1
					f22_arg0( f22_arg0, f23_arg1 )
					if f22_arg0.currentGrid then
						f22_arg0.currentGrid:SetFocusedPosition( {
							x = 0,
							y = 0
						}, true )
					end
				end,
				disabled = not f22_local9.enabled
			} )
		end
		MenuUtils.AddTabsToMobileMenu( f19_arg0, f19_arg0, f22_local0, f22_local1 )
	end )
	f19_arg0:registerEventHandler( "cdni_update_download_tasks", function ( element, event )
		f19_arg0( element, f19_arg0 )
	end )
	f19_arg0:registerEventHandler( "cdni_cellular_optional_download_tip", function ( element, event )
		local f20_local0 = event.packIdx
		for f20_local4, f20_local5 in ipairs( CDNI[0x4A1C71F3A918166]() ) do
			if f20_local0 == f20_local5.index then
				LUI.FlowManager.RequestPopupMenu( nil, "CDNICellularOptionalDownloadPopup", true, f19_arg0, false, {
					pack = f20_local5
				} )
				break
			end
		end
	end )
end

MenuBuilder.registerType( "CDNICellularOptionalDownloadPopup", f0_local11, "MobileCDNiDownloadMenu" )
States = {
	[0xAD14C6E7156B923] = function ( f8_arg0, f8_arg1 )
		f8_arg0.GridLanguages:RegisterAnimationSequence( "DefaultSequence", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f8_arg0.GridCommonAssets:RegisterAnimationSequence( "DefaultSequence", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f8_arg0.GridMaps:RegisterAnimationSequence( "DefaultSequence", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f8_local0 = function ( f18_arg0, f18_arg1 )
			f18_arg0.GridLanguages:AnimateSequence( "DefaultSequence" )
			f18_arg0.GridCommonAssets:AnimateSequence( "DefaultSequence" )
			f18_arg0.GridMaps:AnimateSequence( "DefaultSequence" )
		end
		
		f8_arg0.GridLanguages:RegisterAnimationSequence( "Tab1", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f8_arg0.GridCommonAssets:RegisterAnimationSequence( "Tab1", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f8_arg0.GridMaps:RegisterAnimationSequence( "Tab1", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f8_arg0.LeftArrow:RegisterAnimationSequence( "Tab1", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f8_arg0.RightArrow:RegisterAnimationSequence( "Tab1", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f8_local1 = function ( f17_arg0, f17_arg1 )
			f17_arg0.GridLanguages:AnimateSequence( "Tab1" )
			f17_arg0.GridCommonAssets:AnimateSequence( "Tab1" )
			f17_arg0.GridMaps:AnimateSequence( "Tab1" )
			f17_arg0.LeftArrow:AnimateSequence( "Tab1" )
			f17_arg0.RightArrow:AnimateSequence( "Tab1" )
		end
		
		f8_arg0.GridLanguages:RegisterAnimationSequence( "Tab2", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f8_arg0.GridCommonAssets:RegisterAnimationSequence( "Tab2", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f8_arg0.GridMaps:RegisterAnimationSequence( "Tab2", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f8_arg0.LeftArrow:RegisterAnimationSequence( "Tab2", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f8_arg0.RightArrow:RegisterAnimationSequence( "Tab2", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f8_local2 = function ( f16_arg0, f16_arg1 )
			f16_arg0.GridLanguages:AnimateSequence( "Tab2" )
			f16_arg0.GridCommonAssets:AnimateSequence( "Tab2" )
			f16_arg0.GridMaps:AnimateSequence( "Tab2" )
			f16_arg0.LeftArrow:AnimateSequence( "Tab2" )
			f16_arg0.RightArrow:AnimateSequence( "Tab2" )
		end
		
		f8_arg0.GridLanguages:RegisterAnimationSequence( "Tab3", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f8_arg0.GridCommonAssets:RegisterAnimationSequence( "Tab3", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f8_arg0.GridMaps:RegisterAnimationSequence( "Tab3", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f8_arg0.LeftArrow:RegisterAnimationSequence( "Tab3", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f8_arg0.RightArrow:RegisterAnimationSequence( "Tab3", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f8_local3 = function ( f15_arg0, f15_arg1 )
			f15_arg0.GridLanguages:AnimateSequence( "Tab3" )
			f15_arg0.GridCommonAssets:AnimateSequence( "Tab3" )
			f15_arg0.GridMaps:AnimateSequence( "Tab3" )
			f15_arg0.LeftArrow:AnimateSequence( "Tab3" )
			f15_arg0.RightArrow:AnimateSequence( "Tab3" )
		end
		
		f8_arg0.Indicator1:RegisterAnimationSequence( "ShowIndicator1", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f8_local4 = function ( f14_arg0, f14_arg1 )
			f14_arg0.Indicator1:AnimateSequence( "ShowIndicator1" )
		end
		
		f8_arg0.Indicator2:RegisterAnimationSequence( "ShowIndicator2", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f8_local5 = function ( f13_arg0, f13_arg1 )
			f13_arg0.Indicator2:AnimateSequence( "ShowIndicator2" )
		end
		
		f8_arg0.Indicator3:RegisterAnimationSequence( "ShowIndicator3", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f8_local6 = function ( f12_arg0, f12_arg1 )
			f12_arg0.Indicator3:AnimateSequence( "ShowIndicator3" )
		end
		
		f8_arg0.Indicator1:RegisterAnimationSequence( "HideIndicator1", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f8_local7 = function ( f11_arg0, f11_arg1 )
			f11_arg0.Indicator1:AnimateSequence( "HideIndicator1" )
		end
		
		f8_arg0.Indicator2:RegisterAnimationSequence( "HideIndicator2", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f8_local8 = function ( f10_arg0, f10_arg1 )
			f10_arg0.Indicator2:AnimateSequence( "HideIndicator2" )
		end
		
		f8_arg0.Indicator3:RegisterAnimationSequence( "HideIndicator3", {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f8_arg0._sequences = {
			DefaultSequence = f8_local0,
			Tab1 = f8_local1,
			Tab2 = f8_local2,
			Tab3 = f8_local3,
			ShowIndicator1 = f8_local4,
			ShowIndicator2 = f8_local5,
			ShowIndicator3 = f8_local6,
			HideIndicator1 = f8_local7,
			HideIndicator2 = f8_local8,
			HideIndicator3 = function ( f9_arg0, f9_arg1 )
				f9_arg0.Indicator3:AnimateSequence( "HideIndicator3" )
			end
		}
		f8_arg0._sequenceLengths = {
			HideIndicator1 = 0,
			HideIndicator3 = 0,
			Tab2 = 0,
			ShowIndicator1 = 0,
			Tab3 = 0,
			Tab1 = 0,
			ShowIndicator2 = 0,
			HideIndicator2 = 0,
			DefaultSequence = 0,
			ShowIndicator3 = 0
		}
	end
}
function MobileCDNiDownloadMenu( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "MobileCDNiDownloadMenu"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local BG = nil
	
	BG = LUI.UIFixedAspectRatioImage.new()
	BG.id = "BG"
	BG:setImage( RegisterMaterial( 0xFB2FFBE1596F76F ), 0 )
	BG:setStretchedDimension( LUI.UIFixedAspectRatioImage.Dimensions.FILL_SCREEN )
	self:addElement( BG )
	self.BG = BG
	
	local TabsPlaceholder = nil
	
	TabsPlaceholder = LUI.UIElement.new()
	TabsPlaceholder.id = "TabsPlaceholder"
	TabsPlaceholder:SetAnchorsAndPosition( 0, 0, 1, 0, _1080p * 30, _1080p * -30, _1080p * -140, _1080p * -40 )
	self:addElement( TabsPlaceholder )
	self.TabsPlaceholder = TabsPlaceholder
	
	local GridPlaceholder = nil
	
	GridPlaceholder = LUI.UIElement.new()
	GridPlaceholder.id = "GridPlaceholder"
	GridPlaceholder:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * 30, _1080p * -30, _1080p * 145, _1080p * -135 )
	self:addElement( GridPlaceholder )
	self.GridPlaceholder = GridPlaceholder
	
	local GridLanguages = nil
	
	GridLanguages = LUI.UIGrid.new( {
		maxVisibleRows = 10,
		maxVisibleColumns = 1,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "MobileCDNiDownloadItemStripLayout", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f6_arg0, f6_arg1, f6_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.vertical,
		spacingX = _1080p * 5,
		spacingY = _1080p * 17,
		columnWidth = _1080p * 1920,
		rowHeight = _1080p * 122,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1]
	} )
	GridLanguages.id = "GridLanguages"
	GridLanguages:setUseStencil( true )
	GridLanguages:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * 30, _1080p * -30, _1080p * 145, _1080p * -135 )
	self:addElement( GridLanguages )
	self.GridLanguages = GridLanguages
	
	local GridCommonAssets = nil
	
	GridCommonAssets = LUI.UIGrid.new( {
		maxVisibleRows = 10,
		maxVisibleColumns = 1,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "MobileCDNiDownloadItemStripLayout", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f4_arg0, f4_arg1, f4_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.vertical,
		spacingX = _1080p * 5,
		spacingY = _1080p * 17,
		columnWidth = _1080p * 1920,
		rowHeight = _1080p * 122,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1]
	} )
	GridCommonAssets.id = "GridCommonAssets"
	GridCommonAssets:setUseStencil( true )
	GridCommonAssets:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * 30, _1080p * -30, _1080p * 145, _1080p * -135 )
	self:addElement( GridCommonAssets )
	self.GridCommonAssets = GridCommonAssets
	
	local GridMaps = nil
	
	GridMaps = LUI.UIGrid.new( {
		maxVisibleRows = 1,
		maxVisibleColumns = 10,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "MobileCDNiDownloadItemCardLayout", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.horizontal,
		spacingX = _1080p * 25,
		spacingY = _1080p * 8,
		columnWidth = _1080p * 517,
		rowHeight = _1080p * 732,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1]
	} )
	GridMaps.id = "GridMaps"
	GridMaps:setUseStencil( true )
	GridMaps:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * 30, _1080p * -30, _1080p * 145, _1080p * -135 )
	self:addElement( GridMaps )
	self.GridMaps = GridMaps
	
	local f1_local9 = nil
	if CONDITIONS.InFrontend() or CONDITIONS.IsSpecificOmnvarTrue( f1_local1, "ui_open_loadout_bag" ) then
		f1_local9 = MenuBuilder.BuildRegisteredType( "MobileAltHeader", {
			controllerIndex = f1_local1
		} )
		f1_local9.id = "MenuTitle"
		f1_local9.MenuTitle:SetRight( _1080p * 753, 0 )
		f1_local9.MenuTitle:setText( Engine[0xED84C33EC5F01EA]( 0x390E5AFF98476AA ), 0 )
		f1_local9.MenuTitle:SetMaxVisibleLines( 1 )
		f1_local9:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 40, _1080p * 136 )
		self:addElement( f1_local9 )
		self.MenuTitle = f1_local9
	end
	local DownloadAllButton = nil
	
	DownloadAllButton = MenuBuilder.BuildRegisteredType( "MobileCDNiDownloadAllButton", {
		controllerIndex = f1_local1
	} )
	DownloadAllButton.id = "DownloadAllButton"
	DownloadAllButton.Bg:setImage( RegisterMaterial( 0xBD9001B12744A71 ), 0 )
	DownloadAllButton.Text:setText( "", 0 )
	DownloadAllButton:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -349, _1080p * -30, _1080p * 38, _1080p * 110 )
	self:addElement( DownloadAllButton )
	self.DownloadAllButton = DownloadAllButton
	
	local Indicator1 = nil
	
	Indicator1 = LUI.UIImage.new()
	Indicator1.id = "Indicator1"
	Indicator1:setImage( RegisterMaterial( 0x29FC6B0DDB7B08C ), 0 )
	Indicator1:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 500, _1080p * 554, _1080p * -97, _1080p * -43 )
	self:addElement( Indicator1 )
	self.Indicator1 = Indicator1
	
	local Indicator2 = nil
	
	Indicator2 = LUI.UIImage.new()
	Indicator2.id = "Indicator2"
	Indicator2:setImage( RegisterMaterial( 0x29FC6B0DDB7B08C ), 0 )
	Indicator2:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 1200, _1080p * 1254, _1080p * -97, _1080p * -43 )
	self:addElement( Indicator2 )
	self.Indicator2 = Indicator2
	
	local Indicator3 = nil
	
	Indicator3 = LUI.UIImage.new()
	Indicator3.id = "Indicator3"
	Indicator3:setImage( RegisterMaterial( 0x29FC6B0DDB7B08C ), 0 )
	Indicator3:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -250, _1080p * -196, _1080p * -97, _1080p * -43 )
	self:addElement( Indicator3 )
	self.Indicator3 = Indicator3
	
	local LeftArrow = nil
	
	LeftArrow = LUI.UIImage.new()
	LeftArrow.id = "LeftArrow"
	LeftArrow:setImage( RegisterMaterial( 0x4618CB069C679B7 ), 0 )
	LeftArrow:SetUMin( 1, 0 )
	LeftArrow:SetUMax( 0, 0 )
	LeftArrow:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, _1080p * 30, _1080p * 102, _1080p * -36, _1080p * 36 )
	self:addElement( LeftArrow )
	self.LeftArrow = LeftArrow
	
	local RightArrow = nil
	
	RightArrow = LUI.UIImage.new()
	RightArrow.id = "RightArrow"
	RightArrow:setImage( RegisterMaterial( 0x4618CB069C679B7 ), 0 )
	RightArrow:SetAnchorsAndPosition( 1, 0, 0.5, 0.5, _1080p * -102, _1080p * -30, _1080p * -36, _1080p * 36 )
	self:addElement( RightArrow )
	self.RightArrow = RightArrow
	
	f0_local0( self, f1_local1, controller )
	ACTIONS.AnimateSequence( self, "DefaultSequence" )
	return self
end

MenuBuilder.registerType( "MobileCDNiDownloadMenu", MobileCDNiDownloadMenu )
LockTable( _M )
