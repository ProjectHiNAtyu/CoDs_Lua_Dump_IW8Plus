-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
LUI.UIRoot = LUI.Class( LUI.UIElement )
local f0_local0 = {
	POST_GAME = 0,
	HOST_MIGRATION = 1
}
GlobalInputEvents = {
	mute_voicechat = true,
	quick_options = true,
	decline_notification = true,
	accept_notification = true,
	quick_social = true,
	mute_sound = true
}
local f0_local1 = function ( f40_arg0, f40_arg1 )
	return GlobalInputEvents[f40_arg1.button]
end

LUI.UIRoot.TryAddMouseCursor = function ( f39_arg0, f39_arg1 )
	local f39_local0
	if f39_arg1 and not f39_arg1 then
		f39_local0 = f39_arg1
	else
		f39_local0 = "base"
	end
	f39_arg0._flagCursor[f39_local0] = true
	if Engine.EABCCIBFIG() and not f39_arg0.cursor then
		f39_arg0.cursor = LUI.UIMouseCursor.new()
		f39_arg0:addElement( f39_arg0.cursor )
		if Engine.ECADDGAFF() then
			local f39_local1 = f39_arg0:GetControllerIndex()
			if not f39_local1 then
				f39_local1 = Engine.IJEBHJIJF()
			end
			if LUI.IsLastInputKeyboardMouse( f39_local1 ) then
				Engine.DDGIGAGHC( true )
			end
		end
	end
end

LUI.UIRoot.RemoveMouseCursor = function ( f38_arg0, f38_arg1 )
	local f38_local0
	if f38_arg1 and not f38_arg1 then
		f38_local0 = f38_arg1
	else
		f38_local0 = "base"
	end
	f38_arg0._flagCursor[f38_local0] = false
	local f38_local1 = true
	for f38_local5, f38_local6 in pairs( f38_arg0._flagCursor ) do
		if f38_local6 then
			f38_local1 = false
			break
		end
	end
	if f38_arg0.cursor and f38_local1 then
		f38_arg0.cursor:closeTree()
		f38_arg0.cursor = nil
		if Engine.ECADDGAFF() then
			Engine.DDGIGAGHC( false )
		end
		if f38_arg0.mouseCursorTooltipLayer then
			f38_local2 = f38_arg0:GetControllerIndex()
			if not f38_local2 then
				f38_local2 = Engine.IJEBHJIJF()
			end
			f38_arg0.mouseCursorTooltipLayer:ClearTooltipData( f38_arg0, f38_local2, nil )
		end
	end
end

LUI.UIRoot.BlockButtonInput = function ( f37_arg0, f37_arg1, f37_arg2 )
	if f37_arg1 then
		f37_arg0.m_blockButtonInput = true
	else
		f37_arg0.m_blockButtonInput = false
	end
end

LUI.UIRoot.IsButtonInputBlocked = function ( f36_arg0 )
	return f36_arg0.m_blockButtonInput
end

LUI.UIRoot.PixelsToUnits = function ( f35_arg0, f35_arg1, f35_arg2 )
	return f35_arg0:RootPixelsToUnits( f35_arg1, f35_arg2 )
end

local f0_local2 = function ( f34_arg0, f34_arg1 )
	local f34_local0 = false
	local f34_local1 = false
	if f34_arg0.flowManager and not f34_arg0.flowManager:IsStackEmpty() then
		f34_local0 = true
	elseif f34_arg0.binkSkipPromptLayer and f34_arg0.binkSkipPromptLayer:ShouldBeVisible() and f34_arg0.binkSkipPromptLayer:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.Snakecam and f34_arg0.Snakecam:ShouldBeVisible() and f34_arg0.Snakecam:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.loadingScreenManager and f34_arg0.loadingScreenManager:ShouldBeVisible() and f34_arg0.loadingScreenManager:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.scoreboardLayer and f34_arg0.scoreboardLayer:ShouldBeVisible() and f34_arg0.scoreboardLayer:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.squadEliminatedLayer and f34_arg0.squadEliminatedLayer:ShouldBeVisible() and f34_arg0.squadEliminatedLayer:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.textChat and f34_arg0.textChat:ShouldBeVisible() and f34_arg0.textChat:TrapsInput( f34_arg1 ) then
		f34_local0, f34_local1 = f34_arg0.textChat:InputsTrappedOrInteresting( f34_arg1 )
	elseif f34_arg0.radialMenuLayer and f34_arg0.radialMenuLayer:ShouldBeVisible() and f34_arg0.radialMenuLayer:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.reportPlayerLayer and f34_arg0.reportPlayerLayer:ShouldBeVisible() and f34_arg0.reportPlayerLayer:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.tacOpsLayer and f34_arg0.tacOpsLayer:ShouldBeVisible() and f34_arg0.tacOpsLayer:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.brQuickInventoryLayer and f34_arg0.brQuickInventoryLayer:ShouldBeVisible() and f34_arg0.brQuickInventoryLayer:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.dpadPopupLayer and f34_arg0.dpadPopupLayer:ShouldBeVisible() and f34_arg0.dpadPopupLayer:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.birdsEyeLayer and f34_arg0.birdsEyeLayer:ShouldBeVisible() and f34_arg0.birdsEyeLayer:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.timedUseMeterLayer and f34_arg0.timedUseMeterLayer:ShouldBeVisible() and f34_arg0.timedUseMeterLayer:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.codcasterLayer and f34_arg0.codcasterLayer:ShouldBeVisible() and f34_arg0.codcasterLayer:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif f34_arg0.gunsmithDebug and f34_arg0.gunsmithDebug:ShouldBeVisible() and f34_arg0.gunsmithDebug:TrapsInput( f34_arg1 ) then
		f34_local0 = true
	elseif Engine.BHICADFIHA() and f34_arg0.uiDebugLayer:TrapsInput( f34_arg0, f34_arg1 ) then
		f34_local0 = true
	elseif f0_local0( f34_arg0, f34_arg1 ) then
		f34_local0 = true
	end
	if f34_local0 or f34_local1 then
		table.insert( f34_arg0.inputQueue, f34_arg1 )
		if 4 < #f34_arg0.inputQueue then
			table.remove( f34_arg0.inputQueue, 1 )
		end
	end
	return f34_local0
end

LUI.UIRoot.QueueMouseInput = function ( f33_arg0, f33_arg1, f33_arg2, f33_arg3, f33_arg4, f33_arg5, f33_arg6, f33_arg7 )
	return f0_local0( f33_arg0, {
		name = f33_arg3,
		rootName = f33_arg2,
		controller = f33_arg1,
		button = f33_arg4,
		down = f33_arg5,
		x = f33_arg6,
		y = f33_arg7
	} )
end

LUI.UIRoot.QueueInput = function ( f32_arg0, f32_arg1, f32_arg2, f32_arg3, f32_arg4, f32_arg5, f32_arg6, f32_arg7, f32_arg8 )
	return f0_local0( f32_arg0, {
		name = "gamepad_button",
		controller = f32_arg1,
		rootName = f32_arg2,
		button = f32_arg4,
		qualifier = f32_arg5,
		down = f32_arg3,
		x = f32_arg6,
		y = f32_arg7,
		resetInputs = f32_arg8
	} )
end

local f0_local3 = {}
local f0_local4 = 0
LUI.UIRoot.ProcessQueue = function ( f30_arg0, f30_arg1 )
	local f30_local0 = #f30_arg1
	if 8 < f30_local0 then
		DebugPrint( "LUI WARNING: Processing " .. f30_local0 .. " global events in one frame." )
		if Dvar.IBEGCHEFE( "lui_debug_events_enabled" ) then
			DebugPrint( "-----Starting event enumeration:" )
			for f30_local1 = 1, f30_local0, 1 do
				if f30_arg1[f30_local1].name == "omnvar_update" then
					DebugPrint( "Event omnvar " .. f30_local1 .. ": " .. f30_arg1[f30_local1].omnvar )
				else
					DebugPrint( "Event " .. f30_local1 .. ": " .. f30_arg1[f30_local1].name )
				end
			end
			DebugPrint( "-----Ending event enumeration:" )
		end
	end
	local f30_local1 = nil
	for f30_local2 = 1, f30_local0, 1 do
		local f30_local5 = f30_local2
		f30_local1 = f30_arg1[1]
		table.remove( f30_arg1, 1 )
		LUI.UIRoot.ProcessEventNow( f30_arg0, f30_local1 )
		if Dvar.IBEGCHEFE( "lui_debug_events_enabled" ) and f30_local1.name ~= "run_frame" then
			local f30_local6 = -1
			local f30_local7 = f30_local1.name
			if f30_local1.name == "omnvar_update" then
				f30_local7 = f30_local1.omnvar
			end
			for f30_local8 = 1, #f0_local0, 1 do
				if f0_local0[f30_local8].eventName == f30_local7 then
					f30_local6 = f30_local8
					break
				end
			end
			if f30_local6 ~= -1 then
				f0_local0[f30_local6].count = f0_local0[f30_local6].count + 1
				f0_local0[f30_local6].added = f0_local0
			end
			if #f0_local0 < 50 then
				table.insert( f0_local0, {
					eventName = f30_local7,
					count = 1,
					added = f0_local0
				} )
			end
			for f30_local8 = #f0_local0, 1, -1 do
				if f0_local0[f30_local8].count == 1 and f0_local0[f30_local8].added + 1800 < f0_local0 then
					table.remove( f0_local0, f30_local8 )
				end
			end
		end
	end
	if Dvar.IBEGCHEFE( "lui_debug_events_enabled" ) then
		table.sort( f0_local0, function ( f31_arg0, f31_arg1 )
			return f31_arg1.count < f31_arg0.count
		end )
		f0_local0 = f0_local0 + 1
		if f0_local0 % 200 == 0 then
			DebugPrint( "-----Starting event enumeration:" )
			for f30_local5, f30_local6 in ipairs( f0_local0 ) do
				DebugPrint( "Event: " .. f30_local6.eventName .. ", Count: " .. f30_local6.count )
			end
			DebugPrint( "-----Ending event enumeration:" )
		end
	end
end

LUI.UIRoot.ProcessEvents = function ( f29_arg0 )
	Engine.DJAFAHJFED( "LUI.UIRoot.ProcessEvents" )
	f29_arg0:ProcessQueue( f29_arg0.eventQueue )
	Engine.BJCDJGCFJJ()
end

LUI.UIRoot.ProcessInputs = function ( f28_arg0 )
	Engine.DJAFAHJFED( "LUI.UIRoot.ProcessInputs" )
	f28_arg0:ProcessQueue( f28_arg0.inputQueue )
	Engine.BJCDJGCFJJ()
end

LUI.UIRoot.ProcessEvent = function ( f27_arg0, f27_arg1 )
	if f27_arg1.immediate == true then
		return LUI.UIRoot.ProcessEventNow( f27_arg0, f27_arg1 )
	else
		table.insert( f27_arg0.eventQueue, f27_arg1 )
		return false
	end
end

LUI.UIRoot.ProcessEventNow = function ( f26_arg0, f26_arg1 )
	Engine.DJAFAHJFED( "LUI.UIRoot.ProcessEventNow" )
	if not f26_arg0.debugPrintIgnoreEvents[f26_arg1.name] and Dvar.IBEGCHEFE( "lui_print_events" ) then
		DebugPrint( "Processing event " .. f26_arg1.name )
		if f26_arg1.name == "gamepad_button" then
			DebugPrint( "button " .. f26_arg1.button )
		end
	end
	if f26_arg0.m_blockButtonInput and (f26_arg1.name == "gamepad_button" or f26_arg1.name == "mouseup") then
		DebugPrint( "Blocking Button input for " .. f26_arg1.button .. "  because m_ignoreButtonInput is true" )
		Engine.BJCDJGCFJJ()
		return false
	elseif IsMouseEvent( f26_arg1.name, f26_arg1.qualifier ) then
		local f26_local0 = f26_arg0.flowManager:GetTopMostOpenMenuInfo()
		if f26_local0 and f26_local0.isControllerExclusive then
			local f26_local1
			if f26_local0.controller and f26_arg1.controller and f26_local0.controller ~= f26_arg1.controller then
				f26_local1 = false
			else
				f26_local1 = true
			end
			if not f26_local1 then
				return true
			end
		end
		f26_arg1.root = f26_arg0
		f26_arg0:UpdateInputType( f26_arg1 )
		if IsMouseInputEvent( f26_arg1.name, f26_arg1.qualifier ) then
			LUI.UIRoot.ProcessMouseButtonEvent( f26_arg0, f26_arg1 )
		else
			LUI.UIRoot.ProcessMouseMoveEvent( f26_arg0, f26_arg1 )
		end
		if f26_arg0.cursor then
			f26_arg0.cursor:processEvent( f26_arg1 )
		end
		Engine.BJCDJGCFJJ()
		return true
	elseif f26_arg1.target and f26_arg1.target ~= f26_arg0 then
		Engine.BJCDJGCFJJ()
		return f26_arg1.target:processEvent( f26_arg1 )
	elseif IsInputEvent( f26_arg1.name ) then
		if f26_arg1.name ~= "gamepad_sticks" then
			f26_arg0:ClearFocusStack()
		end
		f26_arg0:UpdateInputType( f26_arg1 )
		if not AnyActiveMenusInStack( f26_arg0 ) and f26_arg0.gunsmithDebug then
			f26_arg0.gunsmithDebug:processEvent( f26_arg1 )
		end
		local f26_local0 = false
		local f26_local1 = AnyActiveMenusInStack( f26_arg0 )
		local f26_local2 = Engine.EAIICIFIFA()
		if Engine.BHICADFIHA() and LUI.UIDebugLayer and LUI.UIDebugLayer.ProcessEvent( f26_arg0, f26_arg1 ) then
			f26_local0 = true
		elseif f26_arg0.toastManager and f26_arg0.toastManager:processEvent( f26_arg1 ) then
			f26_local0 = true
		elseif f26_arg0.mouseCursorContextualMenuLayer and f26_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f26_arg0.mouseCursorContextualMenuLayer:processEvent( f26_arg1 ) then
			f26_local0 = true
		elseif f26_arg0.textChat and f26_arg0.textChat:ShouldBeVisible() and f26_arg0.textChat:processEvent( f26_arg1 ) then
			f26_local0 = true
			f26_local1 = true
		elseif AnyActiveMenusInStack( f26_arg0 ) or f0_local0( f26_arg0, f26_arg1 ) then
			if not f26_local0 then
				f26_local0 = f26_arg0.flowManager:processEvent( f26_arg1 )
			end
		elseif f26_arg0.binkSkipPromptLayer and f26_arg0.binkSkipPromptLayer:ShouldBeVisible() then
			if not f26_local0 then
				f26_local0 = f26_arg0.binkSkipPromptLayer:processEvent( f26_arg1 )
			end
		elseif f26_arg0.Snakecam and f26_arg0.Snakecam:ShouldBeVisible() then
			if not f26_local0 then
				f26_local0 = f26_arg0.Snakecam:processEvent( f26_arg1 )
			end
		elseif f26_arg0.loadingScreenManager and f26_arg0.loadingScreenManager:ShouldBeVisible() then
			if not f26_local0 then
				f26_local0 = f26_arg0.loadingScreenManager:processEvent( f26_arg1 )
			end
		elseif f26_arg0.codcasterLayer and f26_arg0.codcasterLayer:ShouldBeVisible() then
			if not f26_arg0.codcasterLayer:processEvent( f26_arg1 ) and f26_arg0.scoreboardLayer and not f26_local0 then
				f26_local0 = f26_arg0.scoreboardLayer:processEvent( f26_arg1 )
			end
			f26_local1 = true
		elseif f26_arg0.scoreboardLayer and not f26_local2 and f26_arg0.scoreboardLayer:TrapsInput( f26_arg1 ) then
			if not f26_local0 then
				f26_local0 = f26_arg0.scoreboardLayer:processEvent( f26_arg1 )
			end
		elseif f26_arg0.scoreboardLayer and f26_local2 and LUI.ScoreboardLayer.IsShowingScoreboard( f26_arg0.scoreboardLayer ) then
			if not f26_local0 then
				f26_local0 = f26_arg0.scoreboardLayer:processEvent( f26_arg1 )
			end
		elseif f26_arg0.squadEliminatedLayer and f26_arg0.squadEliminatedLayer:ShouldBeVisible() and f26_arg0.squadEliminatedLayer:TrapsInput( f26_arg1 ) then
			if not f26_local0 then
				f26_local0 = f26_arg0.squadEliminatedLayer:processEvent( f26_arg1 )
			end
		elseif f26_arg0.dpadPopupLayer and LUI.DpadPopupLayer.IsShowingDpadPopup( f26_arg0.dpadPopupLayer ) then
			if not f26_local0 then
				f26_local0 = f26_arg0.dpadPopupLayer:processEvent( f26_arg1 )
			end
		elseif f26_arg0.birdsEyeLayer and LUI.BirdsEyeLayer.IsShowingBirdsEye( f26_arg0.birdsEyeLayer ) then
			if not f26_local0 then
				f26_local0 = f26_arg0.birdsEyeLayer:processEvent( f26_arg1 )
			end
		elseif f26_arg0.timedUseMeterLayer and LUI.TimedUseMeterLayer.IsShowingTimedUseMeter( f26_arg0.timedUseMeterLayer ) then
			if not f26_local0 then
				f26_local0 = f26_arg0.timedUseMeterLayer:processEvent( f26_arg1 )
			end
		elseif f26_arg0.brQuickInventoryLayer and f26_arg0.brQuickInventoryLayer:TrapsInput( f26_arg1 ) then
			if not f26_local0 then
				f26_local0 = f26_arg0.brQuickInventoryLayer:processEvent( f26_arg1 )
			end
		elseif f26_arg0.reportPlayerLayer and f26_arg0.reportPlayerLayer:TrapsInput( f26_arg1 ) then
			if not f26_local0 then
				f26_local0 = f26_arg0.reportPlayerLayer:processEvent( f26_arg1 )
			end
		elseif f26_arg0.tacOpsLayer and f26_arg0.tacOpsLayer:TrapsInput( f26_arg1 ) then
			if not f26_local0 then
				f26_local0 = f26_arg0.tacOpsLayer:processEvent( f26_arg1 )
			end
		elseif f26_arg0.telemetryLayer and f26_arg0.telemetryLayer:ShouldBeVisible() and f26_arg0.telemetryLayer:TrapsInput() then
			if not f26_local0 then
				f26_local0 = f26_arg0.telemetryLayer:processEvent( f26_arg1 )
			end
		elseif f26_arg0.achievementsManager and f26_arg0.achievementsManager:ShouldBeVisible() and f26_arg0.achievementsManager:TrapsInput() and not f26_local0 then
			f26_local0 = f26_arg0.achievementsManager:processEvent( f26_arg1 )
		end
		if not f26_local1 and f26_arg0.radialMenuLayer and f26_arg0.radialMenuLayer:ShouldBeVisible() and not f26_local0 then
			f26_local0 = f26_arg0.radialMenuLayer:processEvent( f26_arg1 )
		end
		Engine.BJCDJGCFJJ()
		return f26_local0
	elseif f26_arg1.name == "text_edit_is_typing" then
		f26_arg0:UpdateInputType( f26_arg1 )
	end
	f26_arg0:UpdateInputConnected( f26_arg1 )
	local f26_local0 = LUI.UIElement.processEvent( f26_arg0, f26_arg1 )
	Engine.BJCDJGCFJJ()
	return f26_local0
end

local f0_local5 = function ( f25_arg0, f25_arg1, f25_arg2, f25_arg3, f25_arg4 )
	f25_arg1:applyElementTransform()
	local f25_local0 = false
	local f25_local1, f25_local2 = ProjectRootCoordinate( f25_arg0, f25_arg3, f25_arg4 )
	if f25_local1 and f25_local2 and f25_arg1:getLastChild() then
		
	else
		
	end
	f25_arg1:undoElementTransform()
	return false
end

LUI.UIRoot.ComputeCurrentMouseFocus = function ( f24_arg0, f24_arg1, f24_arg2, f24_arg3, f24_arg4 )
	local f24_local0 = {}
	if not f24_arg1._blockMouseMove then
		local f24_local1, f24_local2 = ProjectRootCoordinate( f24_arg0, f24_arg2, f24_arg3 )
		if f24_local1 and f24_local2 and f24_arg1.handleMouseMove and f24_arg1:IsPositionInside( f24_local1, f24_local2 ) then
			table.insert( f24_local0, f24_arg1 )
		end
	end
	f0_local0( f24_arg0, f24_arg1, f24_local0, f24_arg2, f24_arg3 )
	if f24_arg4 then
		for f24_local1 = #f24_local0, 1, -1 do
			if not f24_local0[f24_local1]:isDescendentOf( f24_arg4 ) then
				table.remove( f24_local0, f24_local1 )
			end
		end
	end
	return f24_local0
end

LUI.UIRoot.ComputeCurrentMouseFocusFromEvent = function ( f23_arg0, f23_arg1 )
	local f23_local0 = f23_arg1.rootName
	local f23_local1 = Engine.DBFFAEEFGJ()
	if not f23_local0 then
		f23_local0 = f23_local1.name
	end
	return LUI.UIRoot.ComputeCurrentMouseFocus( f23_local0, f23_arg0, f23_arg1.x, f23_arg1.y, f23_local1.lockedFocusToChildrenOf )
end

LUI.UIRoot.LockFocusStackToChildrenOfElement = function ( f22_arg0 )
	local f22_local0 = Engine.DBFFAEEFGJ()
	f22_local0.lockedFocusToChildrenOf = f22_arg0
	return true
end

LUI.UIRoot.UnlockFocusStackToChildrenOfElement = function ()
	local f21_local0 = Engine.DBFFAEEFGJ()
	f21_local0.lockedFocusToChildrenOf = nil
	return true
end

LUI.UIRoot.GetActiveLayer = function ( f20_arg0 )
	assert( f20_arg0 )
	local f20_local0 = nil
	if f20_arg0.scoreboardLayer and f20_arg0.scoreboardLayer:ShouldBeVisible() and f20_arg0.scoreboardLayer:IsShowingScoreboard() then
		f20_local0 = f20_arg0.scoreboardLayer
	elseif f20_arg0.brQuickInventoryLayer and f20_arg0.brQuickInventoryLayer:ShouldBeVisible() and f20_arg0.brQuickInventoryLayer:IsShowingQuickInventory() then
		f20_local0 = f20_arg0.brQuickInventoryLayer
	elseif f20_arg0.radialMenuLayer and f20_arg0.radialMenuLayer:ShouldBeVisible() then
		f20_local0 = f20_arg0.radialMenuLayer
	elseif f20_arg0.tacOpsLayer and f20_arg0.tacOpsLayer:ShouldBeVisible() then
		f20_local0 = f20_arg0.tacOpsLayer
	elseif f20_arg0.binkSkipPromptLayer and f20_arg0.binkSkipPromptLayer:ShouldBeVisible() then
		f20_local0 = f20_arg0.binkSkipPromptLayer
	elseif f20_arg0.squadEliminatedLayer and f20_arg0.squadEliminatedLayer:ShouldBeVisible() then
		f20_local0 = f20_arg0.squadEliminatedLayer
	elseif f20_arg0.loadingScreenManager and f20_arg0.loadingScreenManager:ShouldBeVisible() then
		f20_local0 = f20_arg0.loadingScreenManager
	end
	return f20_local0
end

LUI.UIRoot.ProcessMouseMoveEvent = function ( f19_arg0, f19_arg1 )
	local f19_local0 = {}
	if f19_arg0.mouseCursorContextualMenuLayer and f19_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f19_arg0.mouseCursorContextualMenuLayer:IsOpened() then
		table.insert( f19_local0, f19_arg0.mouseCursorContextualMenuLayer )
	else
		if Engine.BHICADFIHA() and f19_arg0.uiDebugLayer then
			table.insert( f19_local0, f19_arg0.uiDebugLayer )
		end
		if f19_arg0.toastManager then
			table.insert( f19_local0, f19_arg0.toastManager )
		end
		if f19_arg0.textChat and f19_arg0.textChat:ShouldBeVisible() then
			table.insert( f19_local0, f19_arg0.textChat )
		end
		if f19_arg0.shaderPreloadLayer and f19_arg0.shaderPreloadLayer:ShouldBeVisible() then
			table.insert( f19_local0, f19_arg0.shaderPreloadLayer )
		end
		if AnyActiveMenusInStack( f19_arg0 ) then
			local f19_local1 = table.insert
			local f19_local2 = f19_local0
			local f19_local3 = f19_arg0.flowManager:GetTopMostOpenMenuInfo()
			f19_local1( f19_local2, f19_local3.menu )
		end
		local f19_local1 = LUI.UIRoot.GetActiveLayer( f19_arg0 )
		if f19_local1 and f19_local1.handleMouseMove then
			table.insert( f19_local0, f19_local1 )
		end
	end
	if not f19_arg0.lockedFocusStack then
		f19_arg0.focusStack = {}
		for f19_local3, f19_local5 in ipairs( f19_local0 ) do
			f19_arg0.focusStack = LUI.UIRoot.ComputeCurrentMouseFocusFromEvent( f19_local5, f19_arg1 )
			if 0 < #f19_arg0.focusStack then
				break
			end
		end
		f19_arg1.focusStack = f19_arg0.focusStack
	else
		local f19_local1 = {}
		for f19_local5, f19_local6 in ipairs( f19_local0 ) do
			f19_local1 = LUI.UIRoot.ComputeCurrentMouseFocusFromEvent( f19_local6, f19_arg1 )
			if 0 < #f19_local1 then
				break
			end
		end
		f19_arg1.focusStack = {}
		for f19_local5, f19_local6 in ipairs( f19_local1 ) do
			for f19_local7, f19_local8 in ipairs( f19_arg0.focusStack ) do
				if f19_local6 == f19_local8 then
					table.insert( f19_arg1.focusStack, f19_local6 )
				end
			end
		end
	end
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain( f19_arg0 )
	end
	for f19_local3, f19_local5 in ipairs( f19_local0 ) do
		if LUI.FocusDebug ~= nil then
			LUI.FocusDebug.BeginFocusChainLayer( f19_local5 )
		end
		f19_local5:processEventNoDispatch( f19_arg1 )
		if LUI.FocusDebug ~= nil then
			LUI.FocusDebug.EndFocusChainItem()
		end
	end
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.EndFocusChain( f19_arg0 )
	end
	LUI.UIMouseCursor.UpdateMouseCursor( f19_arg1.focusStack[#f19_arg1.focusStack], f19_arg1.controller )
	return true
end

LUI.UIRoot.ProcessMouseButtonEvent = function ( f18_arg0, f18_arg1 )
	if not f18_arg0.focusStack then
		return false
	end
	local f18_local0 = LUI.ShallowCopy( f18_arg0.focusStack )
	local f18_local1 = LUI.UIRoot.GetActiveLayer( f18_arg0 )
	if f18_local1 and not f18_local1.handleMouseMove and f18_local1.handleMouseButton then
		table.insert( f18_local0, f18_local1 )
	end
	local f18_local2 = false
	local f18_local3 = false
	if 0 < #f18_local0 and f18_arg1.name == "mousedown" then
		f18_arg0.lockedFocusStack = true
		f18_local2 = true
	elseif f18_arg1.name == "mouseup" then
		if f18_arg0.lockedFocusStack then
			f18_arg0.lockedFocusStack = false
			f18_local2 = true
			f18_local3 = true
		elseif #f18_arg0.focusStack == 0 then
			Engine.HJJJIGAC( f18_arg1.controller )
		end
	elseif f18_arg1.name == "gamepad_button" and f18_arg1.qualifier == "mousewheel" then
		f18_local2 = true
	end
	if f18_arg0.mouseCursorContextualMenuLayer and f18_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f18_arg0.mouseCursorContextualMenuLayer:processEvent( f18_arg1 ) then
		f18_local2 = false
	end
	if f18_arg0.textChat and f18_arg0.textChat:ShouldBeVisible() and not LUI.UIElement.isDescendentOf( f18_local0[#f18_local0], f18_arg0.textChat ) and f18_arg1.name == "mouseup" then
		f18_arg0.textChat:processEvent( {
			name = "minimize_chat"
		} )
	end
	if f18_local2 then
		local f18_local4 = f18_arg1.dispatchChildren
		f18_arg1.dispatchChildren = false
		local f18_local5 = {}
		local f18_local6 = f18_local0[#f18_local0]
		if f18_local6 and f18_local6 ~= self then
			
		else
			
		end
		for f18_local7 = #f18_local5, 1, -1 do
			f18_local5[f18_local7]:applyElementTransform()
		end
		local f18_local7 = f18_arg1.rootName
		if not f18_local7 then
			local f18_local8 = Engine.DBFFAEEFGJ()
			f18_local7 = f18_local8.name
		end
		f18_local8 = 1
		for f18_local9 = #f18_local0, 1, -1 do
			if f18_local0[f18_local9].handleMouseButton then
				f18_arg1.mouseX, f18_arg1.mouseY = ProjectRootCoordinate( f18_local7, f18_arg1.x, f18_arg1.y )
				f18_arg1.inside = f18_local0[f18_local9]:IsPositionInside( REG15, REG16 )
				if f18_local0[f18_local9]:processEvent( f18_arg1 ) then
					break
				end
			end
			f18_local0[f18_local9]:undoElementTransform()
			f18_local8 = f18_local8 + 1
		end
		for f18_local9 = f18_local8, #f18_local5, 1 do
			f18_local5[f18_local9]:undoElementTransform()
		end
		f18_arg1.dispatchChildren = f18_local4
	end
	if f18_local3 then
		Engine.HJJJIGAC( f18_arg1.controller )
	end
	return true
end

LUI.UIRoot.ClearFocusStack = function ( f17_arg0 )
	f17_arg0.lockedFocusStack = false
	f17_arg0.focusStack = {}
	if f17_arg0.cursor and f17_arg0.cursor._controllerIndex then
		LUI.UIMouseCursor.UpdateMouseCursor( nil, f17_arg0.cursor._controllerIndex )
	end
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain()
		LUI.FocusDebug.EndFocusChain()
	end
end

LUI.UIRoot.UpdatePublisherVariables = function ( f16_arg0, f16_arg1 )
	if f16_arg0.flowManager then
		f16_arg0.flowManager:processEvent( {
			name = "update_publisher_variables"
		} )
	end
	return true
end

LUI.UIRoot.AddLayer = function ( f15_arg0, f15_arg1, f15_arg2 )
	assert( f15_arg1.id )
	assert( f15_arg1.InitLayer )
	assert( f15_arg1.ShouldBeVisible )
	assert( f15_arg1.ClearLayer )
	table.insert( f15_arg0.layers, f15_arg1 )
	local f15_local0
	if not f15_arg2 then
		f15_local0 = f15_arg2
	else
		f15_local0 = {}
	end
	f15_arg1.options = f15_local0
	if f15_arg1.options.exclusive then
		assert( f15_arg1.options.priority )
	end
	f15_arg1.layerEnabled = false
	f15_local0 = _720 * 16 / 18
	f15_arg1:SetAnchorsAndPosition( 0.5, 0.5, 0, 0, -f15_local0, f15_local0, 0, 0 )
	f15_arg0:addElement( f15_arg1 )
	return f15_arg1
end

LUI.UIRoot.UpdateLayers = function ( f14_arg0 )
	Engine.DJAFAHJFED( "LUI.UIRoot.UpdateLayers" )
	Engine.DJAFAHJFED( "Calc Exclusive Layer" )
	local f14_local0 = nil
	for f14_local4, f14_local5 in pairs( f14_arg0.layers ) do
		if f14_local5:ShouldBeVisible() and f14_local5.options.exclusive and (f14_local0 == nil or f14_local0.options.priority < f14_local5.options.priority) then
			f14_local0 = f14_local5
		end
	end
	Engine.BJCDJGCFJJ()
	Engine.DJAFAHJFED( "Layer Frames" )
	for f14_local4, f14_local5 in pairs( f14_arg0.layers ) do
		local f14_local6 = f14_local5:ShouldBeVisible()
		if f14_local6 then
			if f14_local0 ~= nil and f14_local0 ~= f14_local5 then
				f14_local6 = false
			else
				f14_local6 = true
			end
		end
		if f14_local5.layerEnabled ~= f14_local6 then
			if f14_local6 then
				Engine.DJAFAHJFED( "Layer:InitLayer " .. f14_local5.id )
				f14_local5:InitLayer()
				Engine.BJCDJGCFJJ()
			else
				Engine.DJAFAHJFED( "Layer:ClearLayer " .. f14_local5.id )
				f14_local5:ClearLayer()
				Engine.BJCDJGCFJJ()
			end
			f14_local5.layerEnabled = f14_local6
		end
		if f14_local5.layerEnabled and f14_local5.Frame then
			Engine.DJAFAHJFED( "Layer:Frame " .. f14_local5.id )
			f14_local5:Frame()
			Engine.BJCDJGCFJJ()
		end
	end
	Engine.BJCDJGCFJJ()
	Engine.BJCDJGCFJJ()
end

LUI.UIRoot.HandleErrors = function ( f13_arg0 )
	Engine.DJAFAHJFED( "LUI.UIRoot.HandleErrors" )
	local f13_local0 = Dvar.DHEEJCCJBH( "OMSSQKRMLQ" )
	if f13_local0 and 0 < #f13_local0 then
		if Engine.DBFCJBDJEC() and Engine.DBDHEJCHCI() then
			
		elseif CONDITIONS.IsTrialLicense() and Dvar.IBEGCHEFE( "showUpsellDialog" ) then
			LUI.FlowManager.RequestPopupMenu( nil, "ShowUpsellDialogPopup", true, f13_arg0._controllerIndex, false, {
				controllerIndex = f13_arg0._controllerIndex
			} )
		elseif not LUI.FlowManager.IsInStack( "error_popmenu" ) then
			DebugPrint( "Opening error popup for message: " .. tostring( f13_local0 ) .. ", length: " .. tostring( #f13_local0 ) )
			if not CONDITIONS.IsQABotSkipActive() then
				LUI.FlowManager.RequestPopupMenu( nil, "error_popmenu" )
			end
		end
	end
	if Engine.BHICADFIHA() and not Engine.CAADCDEEIA() then
		local f13_local1 = Engine.CHBCJJFDI()
		if f13_local1 and 0 < f13_local1 and not LUI.FlowManager.IsInStack( "error_popmenu" ) and not LUI.FlowManager.IsInStack( "LoadErrorPopup" ) then
			LUI.FlowManager.RequestPopupMenu( nil, "LoadErrorPopup" )
		end
	end
	local f13_local1 = 0
	local f13_local2 = false
	local f13_local3 = CONDITIONS.IsGamepadEnabled()
	local f13_local4 = false
	local f13_local5 = LUI.FlowManager.IsInStack( "controllerremoved_popmenu" )
	if f13_arg0._controllerIndex == nil then
		for f13_local6 = 0, Engine.DCJGJDDEHE() - 1, 1 do
			if Engine.EACCHAIHIB( f13_local6 ) then
				f13_local1 = f13_local6
				f13_local2 = true
				break
			end
		end
		for f13_local6 = 0, Engine.DCJGJDDEHE() - 1, 1 do
			if Engine.JDFDCGCIJ( f13_local6 ) then
				f13_local4 = true
			end
		end
	else
		local f13_local6 = f13_arg0._controllerIndex
		f13_local2 = Engine.EACCHAIHIB( f13_local6 )
		if f13_local2 == true then
			f13_local1 = f13_local6
		end
		f13_local4 = Engine.JDFDCGCIJ( f13_local6 )
	end
	if f13_local2 and not f13_local5 and not f13_local4 then
		Engine.BDGDDJGBF( f13_local1 )
		LUI.FlowManager.RequestPopupMenu( nil, "controllerremoved_popmenu", false, nil, false, {
			missingControllerIndex = f13_local1
		}, nil, true )
	elseif f13_local5 and (not f13_local2 or f13_local4) and Engine.BAHIIBFDDG() == false then
		if f13_arg0._controllerIndex then
			LUI.FlowManager.RequestLeaveMenuByNameWithController( "controllerremoved_popmenu", f13_arg0._controllerIndex, true )
		else
			LUI.FlowManager.RequestLeaveMenuByName( "controllerremoved_popmenu", true )
		end
	end
	f13_arg0:ConnectionPopups( f13_arg0 )
	local f13_local6 = Engine.BHBHCBJACC()
	local f13_local7 = LUI.FlowManager.IsInStack( "WaitingForTransientsPopMenu" )
	if f13_local6 and not f13_local7 then
		LUI.FlowManager.RequestPopupMenu( nil, "WaitingForTransientsPopMenu", false, nil, false, {}, nil, true )
	elseif f13_local7 and not f13_local6 then
		LUI.FlowManager.RequestLeaveMenuByName( "WaitingForTransientsPopMenu", true )
	end
	Engine.BJCDJGCFJJ()
end

LUI.UIRoot.Frame = function ( f12_arg0, f12_arg1 )
	Engine.DJAFAHJFED( "LUI.UIRoot.Frame" )
	if not Engine.DDJFBBJAIG() and Game.HJHDJDCBF() then
		InitInGameDataSources()
	end
	f12_arg0:ProcessEvents()
	f12_arg0:UpdateLayers()
	f12_arg0:ProcessInputs()
	f12_arg0:HandleErrors()
	SOUNDS.UpdateLoopingSounds()
	Engine.BJCDJGCFJJ()
	return true
end

LUI.UIRoot.UpdateGameMode = function ( f11_arg0, f11_arg1 )
	local f11_local0 = f11_arg1.currentGameMode
	CoD.UpdateGameMode( f11_local0, f11_arg1.previousGameMode )
	THEMES.UpdateTheme( {
		currentGameMode = f11_local0,
		isMainMenu = f11_local0 == 0
	} )
	return true
end

LUI.UIRoot.PlayerDataAvailable = function ( f10_arg0, f10_arg1 )
	DebugPrint( "PlayerData is now available!  controller=" .. f10_arg1.controllerIndex .. ", statsSource=" .. f10_arg1.statsSource )
	MP_COMMON.ValidatePlayerData( f10_arg1.controllerIndex, f10_arg1.statsSource )
	return true
end

LUI.UIRoot.UpdateInputType = function ( f9_arg0, f9_arg1 )
	f9_arg0:UpdateInputConnected( f9_arg1 )
	if not Engine.EABCCIBFIG() then
		return 
	end
	assert( f9_arg1.controller )
	local f9_local0 = f9_arg1.inputType and f9_arg1.inputType or Engine.CBCJDCHCCD( f9_arg1.controller )
	if f9_arg0.lastInputType ~= f9_local0 then
		f9_arg0.lastInputType = f9_local0
		f9_arg0:processEvent( {
			name = "update_input_type",
			controllerIndex = f9_arg1.controller
		} )
	end
end

LUI.UIRoot.UpdateInputConnected = function ( f8_arg0, f8_arg1 )
	local f8_local0 = f8_arg0._controllerIndex
	if not f8_local0 then
		f8_local0 = Engine.IJEBHJIJF()
	end
	local f8_local1 = OPTIONS.IsGamepadConnected( f8_local0 )
	local f8_local2 = Engine.JDFDCGCIJ( f8_local0 )
	if f8_arg0.keyboardConnected ~= f8_local2 then
		local f8_local3 = Engine.IEJEJEI()
		if not f8_local3 and not f8_arg0.systemUiOpened then
			f8_arg0.keyboardConnected = f8_local2
			f8_arg0.connectionChanged = true
			f8_arg0:dispatchEventToChildren( {
				name = "input_connection",
				controllerIndex = f8_local0
			} )
		elseif f8_local3 then
			f8_arg0.systemUiOpened = true
		else
			f8_arg0.systemUiOpened = false
		end
	elseif f8_arg0.gamepadConnected ~= f8_local1 then
		f8_arg0.gamepadConnected = f8_local1
		f8_arg0.connectionChanged = true
		f8_arg0:dispatchEventToChildren( {
			name = "input_connection",
			controllerIndex = f8_local0
		} )
	end
end

LUI.UIRoot.ConnectionPopups = function ( f7_arg0 )
	local f7_local0 = CONDITIONS.IsGamepadEnabled()
	if not (not f7_arg0.connectionChanged and (not f7_local0 or f7_arg0.gamepadConnected)) or not f7_local0 and not f7_arg0.keyboardConnected then
		local f7_local1 = LUI.FlowManager.IsInStack( "keyboardremoved_inputswap_popup" )
		local f7_local2 = LUI.FlowManager.IsInStack( "controllerremoved_inputswap_popup" )
		local f7_local3 = MenuUtils.CanShowConnectionPopups()
		local f7_local4
		if not f7_arg0.keyboardConnected then
			f7_local4 = f7_arg0.gamepadConnected
		else
			f7_local4 = false
		end
		local f7_local5
		if not f7_arg0.gamepadConnected then
			f7_local5 = f7_arg0.keyboardConnected
		else
			f7_local5 = false
		end
		if f7_local4 and not f7_local0 then
			if not f7_local1 and f7_local3 then
				LUI.FlowManager.RequestPopupMenu( nil, "keyboardremoved_inputswap_popup" )
			end
		elseif f7_local5 and f7_local0 then
			if not f7_local2 and f7_local3 then
				LUI.FlowManager.RequestPopupMenu( nil, "controllerremoved_inputswap_popup" )
			end
		else
			f7_arg0.connectionChanged = false
		end
		if f7_local1 and (f7_arg0.keyboardConnected or not f7_local3) then
			LUI.FlowManager.RequestLeaveMenuByName( "keyboardremoved_inputswap_popup", true )
		elseif f7_local2 and (f7_arg0.gamepadConnected or not f7_local3) then
			LUI.FlowManager.RequestLeaveMenuByName( "controllerremoved_inputswap_popup", true )
		end
	end
end

LUI.UIRoot.SetLuiLayerKeycatch = function ( f6_arg0, f6_arg1, f6_arg2 )
	local f6_local0 = Engine.DBFFAEEFGJ()
	if not f6_local0 then
		return 
	elseif f6_local0.layerLUIKeycatch[f6_arg1] == nil then
		f6_local0.layerLUIKeycatch[f6_arg1] = {}
	end
	local f6_local1 = f6_local0.layerLUIKeycatch[f6_arg1]
	if f6_arg2 then
		local f6_local2 = false
		for f6_local6, f6_local7 in pairs( f6_local1 ) do
			if 0 < f6_local7 then
				f6_local2 = true
				break
			end
		end
		f6_local1[f6_arg0.id] = f6_local1[f6_arg0.id] and f6_local1[f6_arg0.id] + 1 or 1
		if not f6_local2 then
			Engine.CECBDGIHED( f6_arg1, f6_arg2 )
			f6_local0:TryAddMouseCursor( "layerKeyCatch" )
		end
	elseif f6_local1[f6_arg0.id] then
		local f6_local2 = f6_arg0.id
		local f6_local3 = f6_local1[f6_arg0.id]
		if f6_local3 then
			f6_local3 = f6_local1[f6_arg0.id] - 1
		end
		f6_local1[f6_local2] = f6_local3
		if 0 < f6_local1[f6_arg0.id] then
			return 
		end
		f6_local1[f6_arg0.id] = nil
		f6_local2 = true
		for f6_local6, f6_local7 in pairs( f6_local1 ) do
			if 0 < f6_local7 then
				f6_local2 = false
				break
			end
		end
		if f6_local2 then
			Engine.CECBDGIHED( f6_arg1, f6_arg2 )
			f6_local0:RemoveMouseCursor( "layerKeyCatch" )
		end
	end
end

LUI.UIRoot.init = function ( f5_arg0, f5_arg1, f5_arg2 )
	LUI.UIRoot.super.init( f5_arg0 )
	f5_arg0:SetAnchors( 0.5, 0.5, 0.5, 0.5 )
	local f5_local0
	if not f5_arg1 then
		f5_local0 = f5_arg1
	else
		f5_local0 = Engine.IJEBHJIJF()
	end
	THEMES.UpdateTheme()
	f5_arg0._flagCursor = {
		layerKeyCatch = false,
		base = false
	}
	f5_arg0.id = "LUIRoot"
	f5_arg0.isaroot = true
	f5_arg0._controllerIndex = f5_arg1
	f5_arg0.name = f5_arg2
	f5_arg0.layers = {}
	f5_arg0.eventQueue = {}
	f5_arg0.inputQueue = {}
	f5_arg0.lastInputType = Engine.CBCJDCHCCD( f5_local0 )
	f5_arg0.layerLUIKeycatch = {}
	f5_arg0.keyboardConnected = Engine.JDFDCGCIJ( f5_local0 )
	f5_arg0.gamepadConnected = OPTIONS.IsGamepadConnected( f5_local0 )
	f5_arg0.systemUiOpened = false
	f5_arg0.connectionChanged = false
	f5_arg0.focusStack = {}
	f5_arg0.debugPrintIgnoreEvents = {
		mousemove = true,
		gamepad_sticks = true,
		process_events = true
	}
	Engine.BHICHBJEHH( f5_local0, false )
	Dvar.DHEGHJJJHI( "NRSSTPLOSQ", false )
	LUI.roots[f5_arg2] = f5_arg0
	if LUI.primaryRoot == nil then
		LUI.primaryRoot = f5_arg0
	end
	f5_arg0.processEvent = LUI.UIRoot.ProcessEvent
	f5_arg0:registerEventHandler( "run_frame", LUI.UIRoot.Frame )
	f5_arg0:registerEventHandler( "update_game_mode", LUI.UIRoot.UpdateGameMode )
	f5_arg0:registerEventHandler( "update_publisher_variables", LUI.UIRoot.UpdatePublisherVariables )
	f5_arg0:addEventHandler( "empty_menu_stack", LUI.UIRoot.ClearFocusStack )
	f5_arg0:registerEventHandler( "gamer_profile_input_type_updated", LUI.UIRoot.UpdateInputType )
	f5_arg0:registerEventHandler( "playerdata_available", LUI.UIRoot.PlayerDataAvailable )
	if UIDebugOverlayUtils and f5_arg0 == LUI.primaryRoot then
		f5_arg0:registerEventHandler( "debug_overlay_frame", UIDebugOverlayUtils.FrameEvent )
	end
	f5_arg0.eventCatcher = EventCatcher.new()
	f5_arg0.eventCatcher:setupRoot( f5_arg0 )
	local f5_local1 = Engine.DDJFBBJAIG()
	local f5_local2 = Engine.EAAHGICFBD()
	local f5_local3 = Engine.EAIICIFIFA()
	local f5_local4 = Engine.CGABICJHAI()
	local f5_local5 = Engine.BHICADFIHA()
	local f5_local6 = Engine.DBFCJBDJEC()
	local f5_local7 = Engine.ECHCFGDDDF()
	if f5_local1 or f5_local2 then
		f5_arg0.fadeManager = f5_arg0:AddLayer( LUI.FadeManager.new( f5_arg0._controllerIndex ) )
	end
	if not f5_local1 then
		f5_arg0.inWorldManager = f5_arg0:AddLayer( LUI.InWorldManager.new( f5_arg0._controllerIndex ) )
		f5_arg0.hudManager = f5_arg0:AddLayer( LUI.HudManager.new( {
			root = f5_arg0
		} ) )
		if f5_local2 then
			local f5_local8 = Dvar.DHEEJCCJBH( "MOLPOSLOMO" )
			if f5_local7 then
				f5_arg0.codcasterLayer = f5_arg0:AddLayer( LUI.CodcasterLayer.new( f5_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
			f5_arg0.reportPlayerLayer = f5_arg0:AddLayer( LUI.ReportPlayerLayer.new( f5_arg0._controllerIndex ), {
				exclusive = false
			} )
			f5_arg0.loadingScreenManager = f5_arg0:AddLayer( LUI.LoadingScreenManager.new( f5_arg0._controllerIndex ), {
				exclusive = false
			} )
			if f5_local8 == "arm" then
				f5_arg0.tacOpsLayer = f5_arg0:AddLayer( LUI.TacOpsLayer.new( f5_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
			f5_arg0.postGameManager = f5_arg0:AddLayer( LUI.PostGameManager.new( f5_arg0._controllerIndex ), {
				priority = f0_local0.POST_GAME
			} )
			if f5_local8 == "br" then
				f5_arg0.squadEliminatedLayer = f5_arg0:AddLayer( LUI.SquadEliminatedLayer.new( f5_arg0._controllerIndex ), {
					exclusive = false
				} )
				if not Dvar.IBEGCHEFE( "ui_disable_quick_inventory" ) then
					f5_arg0.brQuickInventoryLayer = f5_arg0:AddLayer( LUI.BRQuickInventoryLayer.new( f5_arg0._controllerIndex ), {
						exclusive = false
					} )
				end
				if CONDITIONS.IsBRTutorialMap() or CONDITIONS.IsBMTutorialMap() then
					f5_arg0.brTutorialEndGameFlowLayer = f5_arg0:AddLayer( LUI.BRTutorialEndGameFlowLayer.new( f5_arg0._controllerIndex ), {
						exclusive = false
					} )
				end
			end
			f5_arg0.scoreboardLayer = f5_arg0:AddLayer( LUI.ScoreboardLayer.new( f5_arg0._controllerIndex ), {
				exclusive = false
			} )
			f5_arg0.hostMigrationManager = f5_arg0:AddLayer( LUI.HostMigrationManager.new(), {
				exclusive = true,
				priority = f0_local0.HOST_MIGRATION
			} )
			if f5_local5 then
				f5_arg0.gunsmithDebug = f5_arg0:AddLayer( LUI.GunsmithDebug.new( f5_arg0._controllerIndex ) )
			end
		end
		if Engine.CAADCDEEIA() then
			f5_arg0.binkSkipPromptLayer = f5_arg0:AddLayer( LUI.BinkSkipPromptLayer.new( f5_arg0._controllerIndex ), {
				exclusive = false
			} )
			f5_arg0.Snakecam = f5_arg0:AddLayer( LUI.Snakecam.new( f5_arg0._controllerIndex ), {
				exclusive = false
			} )
		end
	end
	if not f5_local1 and f5_local2 and Dvar.DHEEJCCJBH( "MOLPOSLOMO" ) == "br" then
		f5_arg0.brTransitionManager = f5_arg0:AddLayer( LUI.BrTransitionManager.new( f5_arg0._controllerIndex ) )
	end
	f5_arg0.flowManager = f5_arg0:AddLayer( LUI.FlowManager.new( f5_arg0, f5_arg1 ) )
	if not f5_local1 and not CONDITIONS.IsThirdGameMode() then
		f5_arg0.subtitlesLayer = f5_arg0:AddLayer( LUI.SubtitlesLayer.new( f5_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if Engine.CIEGIACHAE() and not f5_local1 then
		f5_arg0.ps4LightbarManager = f5_arg0:AddLayer( LUI.PS4LightbarManager.new( f5_arg0._controllerIndex ) )
	end
	if not f5_local1 and f5_local2 then
		f5_arg0.radialMenuLayer = f5_arg0:AddLayer( LUI.RadialMenuLayer.new( f5_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if f5_local3 and not f5_local1 and not GameX.IsSplitscreen() and Dvar.DHEEJCCJBH( "NSQLTTMRMP" ) == "cp_town" then
		f5_arg0.townIntro = f5_arg0:AddLayer( LUI.TownIntro.new( f5_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if f5_local3 and not f5_local1 and not CONDITIONS.IsWaveGameType() and not CONDITIONS.IsSpecOpsGameType() then
		f5_arg0.dpadPopupLayer = f5_arg0:AddLayer( LUI.DpadPopupLayer.new( f5_arg0._controllerIndex ), {
			exclusive = false
		} )
		f5_arg0.birdsEyeLayer = f5_arg0:AddLayer( LUI.BirdsEyeLayer.new( f5_arg0._controllerIndex ), {
			exclusive = false
		} )
		if Dvar.DHEEJCCJBH( "NSQLTTMRMP" ) == "cp_raid_complex" then
			f5_arg0.timedUseMeterLayer = f5_arg0:AddLayer( LUI.TimedUseMeterLayer.new( f5_arg0._controllerIndex ), {
				exclusive = false
			} )
		end
	end
	local f5_local8
	if not f5_local6 and not f5_local1 and not f5_local2 and f5_local3 then
		f5_local8 = f5_local3
	else
		f5_local8 = Dvar.IBEGCHEFE( "LKSKPKTOON" )
		if f5_local8 then
			f5_local8 = not CONDITIONS.IsSplitscreen()
		end
	end
	if f5_local8 then
		f5_local8 = not CONDITIONS.IsLaunchChunk()
	end
	if f5_local8 then
		f5_arg0.textChat = f5_arg0:AddLayer( LUI.TextChat.new( {
			controllerIndex = f5_local0
		} ) )
	end
	if f5_local4 then
		f5_arg0.fadeFrameLayer = f5_arg0:AddLayer( LUI.AspectRatioFadeFrameLayer.new( f5_arg0._controllerIndex ) )
	end
	if f5_local1 or f5_local2 then
		f5_arg0.uiFadeManager = f5_arg0:AddLayer( LUI.UIFadeManager.new( f5_arg0._controllerIndex ) )
	end
	if f5_local1 then
		f5_arg0:addElement( MenuBuilder.BuildRegisteredType( "BuildAndServerText" ) )
	elseif f5_local7 and not IsSystemLink() and not Dvar.IBEGCHEFE( "LMKKMPMOSO" ) and not Dvar.IBEGCHEFE( "lui_footage_capture_enabled" ) then
		f5_arg0:addElement( MenuBuilder.BuildRegisteredType( "MatchID" ) )
	end
	if f5_local4 or f5_local5 then
		local self = LUI.UIElement.new()
		self:SetupFPSCounter()
		self:SetAlignment( LUI.Alignment.Right )
		self:SetRGBFromTable( SWATCHES.genericButton.highlight, 0 )
		self:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -510, _1080p * -10, _1080p * 10, _1080p * 48 )
		self:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
		self:SetFontSize( 38 * _1080p )
		self:SetWordWrap( false )
		self.id = "FPSCounter"
		f5_arg0:addElement( self )
	end
	if f5_local5 then
		f5_arg0:addElement( MenuBuilder.BuildRegisteredType( "DataSourceDebug", {
			controllerIndex = f5_local0
		} ) )
	end
	if CONDITIONS.IsLaunchChunk() then
		f5_arg0.launchChunk = f5_arg0:AddLayer( LUI.LaunchChunkLayer.new( {
			controllerIndex = f5_local0
		} ) )
	end
	f5_arg0.toastManager = f5_arg0:AddLayer( LUI.ToastManager.new( {
		controllerIndex = f5_local0
	} ) )
	if f5_local4 then
		if f5_local6 or Engine.ECAJCAJJGF() then
			f5_arg0.telemetryLayer = f5_arg0:AddLayer( LUI.TelemetryLayer.new( {
				controllerIndex = f5_local0
			} ) )
			f5_arg0.achievementsManager = f5_arg0:AddLayer( LUI.AchievementsManager.new( {
				controllerIndex = f5_local0
			} ) )
		end
		if f5_local1 then
			f5_arg0.clearCacheLayer = f5_arg0:AddLayer( LUI.ClearCacheLayer.new( {
				controllerIndex = f5_local0
			} ) )
			if ShaderUpload then
				f5_arg0.shaderPreloadLayer = f5_arg0:AddLayer( LUI.ShaderPreloadLayer.new( {
					controllerIndex = f5_local0
				} ) )
			end
		end
	end
	f5_arg0.mouseCursorTooltipLayer = f5_arg0:AddLayer( LUI.MouseCursorTooltipLayer.new( {
		controllerIndex = f5_local0
	} ) )
	f5_arg0.mouseCursorContextualMenuLayer = f5_arg0:AddLayer( LUI.MouseCursorContextualMenuLayer.new( {
		controllerIndex = f5_local0
	} ) )
	if f5_local1 then
		f5_arg0.webviewManager = f5_arg0:AddLayer( LUI.WebViewManager.new( {
			controllerIndex = f5_local0
		} ) )
		f5_arg0.webviewManager:PostInit()
	end
	f5_arg0.debugLayer = f5_arg0:AddLayer( LUI.DebugLayer.new( {
		controllerIndex = f5_local0
	} ) )
	if f5_local5 then
		f5_arg0.uiDebugLayer = f5_arg0:AddLayer( LUI.UIDebugLayer.new( {
			controllerIndex = f5_local0
		} ) )
	end
end

LUI.UIRoot.ReloadChatForDebugOption = function ()
	if not Engine.BHICADFIHA() then
		return 
	end
	local f4_local0 = Engine.DBFFAEEFGJ()
	if not f4_local0 then
		return 
	elseif f4_local0.textChat then
		f4_local0:RemoveElement( f4_local0.textChat )
		f4_local0.textChat = nil
	end
	if Dvar.IBEGCHEFE( "LKSKPKTOON" ) then
		local f4_local1 = f4_local0
		local f4_local2 = f4_local0.AddLayer
		local f4_local3 = LUI.TextChat.new
		local f4_local4 = {}
		local f4_local5 = f4_local0._controllerIndex
		if not f4_local5 then
			f4_local5 = Engine.IJEBHJIJF()
		end
		f4_local4.controllerIndex = f4_local5
		f4_local0.textChat = f4_local2( f4_local1, f4_local3( f4_local4 ) )
	end
end

LUI.UIRoot.GetControllerIndex = function ( f3_arg0 )
	return f3_arg0._controllerIndex
end

LUI.UIRoot.GetRootFromName = function ( f2_arg0 )
	local f2_local0 = LUI.roots[f2_arg0]
	assert( f2_local0 )
	return f2_local0
end

LUI.UIRoot.GetRootForControllerIndex = function ( f1_arg0 )
	for f1_local3, f1_local4 in pairs( LUI.roots ) do
		if f1_local4._controllerIndex == f1_arg0 then
			return f1_local4
		end
	end
	assert( LUI.primaryRoot )
	return LUI.primaryRoot
end

