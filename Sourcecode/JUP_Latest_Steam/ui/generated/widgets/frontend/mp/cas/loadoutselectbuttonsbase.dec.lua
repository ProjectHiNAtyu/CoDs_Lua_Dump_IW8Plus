-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
module( ..., package.seeall )
local f0_local0 = 0.6
local f0_local1 = 0.3
local f0_local2 = 51
local f0_local3 = 20
local f0_local4 = 153
local f0_local5 = 192
local f0_local6 = 50
local f0_local7 = function ( f54_arg0, f54_arg1, f54_arg2, f54_arg3 )
	local f54_local0 = function ( f56_arg0 )
		if not f56_arg0.Button then
			return 
		elseif f56_arg0.Button.Background then
			f56_arg0.Button.Background:closeTree()
			f56_arg0.Button.Background = nil
		end
		if f56_arg0.Button.Mid then
			f56_arg0.Button.Mid:closeTree()
			f56_arg0.Button.Mid = nil
		end
		if f56_arg0.Button.Gradient then
			f56_arg0.Button.Gradient:closeTree()
			f56_arg0.Button.Gradient = nil
		end
		if f56_arg0.Button.Border then
			f56_arg0.Button.Border:closeTree()
			f56_arg0.Button.Border = nil
		end
		if f56_arg0.Button.ButtonHighlight then
			f56_arg0.Button.ButtonHighlight:closeTree()
			f56_arg0.Button.ButtonHighlight = nil
		end
	end
	
	local f54_local1 = function ( f55_arg0 )
		if f55_arg0 then
			f54_arg0( f55_arg0 )
			f55_arg0:SetAlpha( 0.3 )
		end
	end
	
	local f54_local2
	if f54_arg2 then
		f54_local2 = f54_arg2
	else
		f54_local2 = f54_arg2.id == CoD.PauseMenuName[CoD.PauseMenu.FIRING_RANGE_PAUSE_MENU]
	end
	if f54_local2 then
		f54_local1( f54_arg0._primaryWidget )
		f54_local1( f54_arg0._secondaryWidget )
		f54_local1( f54_arg0._primaryWidgetTwo )
		f54_local1( f54_arg0._secondaryWidgetTwo )
		f54_local1( f54_arg0.TacticalGridItem )
		f54_local1( f54_arg0.EquipmentGridItem )
		f54_local1( f54_arg0.PerkGridItem )
		f54_local1( f54_arg0.FieldUpgradeItem )
		f54_local1( f54_arg0.PerkItemVest )
		f54_local1( f54_arg0.PerkItemGloves )
		f54_local1( f54_arg0.PerkItemBoots )
		f54_local1( f54_arg0.PerkItemGearOne )
		f54_local1( f54_arg0.PerkItemGearTwo )
	end
	if f54_arg3.disableBackgrounds then
		f54_local1( f54_arg0.TacticalGridItem )
		f54_local1( f54_arg0.EquipmentGridItem )
		f54_local1( f54_arg0.PerkGridItem )
		f54_local1( f54_arg0.FieldUpgradeItem )
	end
	if f54_arg2 and not f54_local2 and not f54_arg3.disableBackgrounds then
		f54_arg0:UpdateButtonBackgrounds( f54_arg2 )
	end
	if f54_arg0.BackgroundDarkener and not CONDITIONS.IsBRGameType() then
		f54_arg0.BackgroundDarkener:SetVisible( CONDITIONS.InGame() or f54_local2 )
	end
end

local f0_local8 = function ( f38_arg0, f38_arg1, f38_arg2, f38_arg3, f38_arg4 )
	if CONDITIONS.IsMobileOrMobileSim() then
		f38_arg0.PrimaryWeapon:SetupButton( f38_arg1, WEAPON.PrimarySlot, f38_arg2.primaryWeaponSetup, f38_arg2.primaryDefaultLoadoutWeapon, {
			isPrimary = true,
			weaponIndex = f38_arg2.loadoutIndex,
			gunsmithButton = f38_arg0.PrimaryWeapon.GunsmithButton
		} )
		f38_arg0.SecondaryWeapon:SetupButton( f38_arg1, WEAPON.SecondarySlot, f38_arg2.secondaryWeaponSetup, f38_arg2.secondaryDefaultLoadoutWeapon, {
			isPrimary = false,
			weaponIndex = f38_arg2.loadoutIndex,
			gunsmithButton = f38_arg0.SecondaryWeapon.GunsmithButton
		} )
	else
		f38_arg0.PrimaryWeapon:SetupContainer( f38_arg1, WEAPON.PrimarySlot, f38_arg2.primaryWeaponSetup, f38_arg2.primaryDefaultLoadoutWeapon, {
			isPrimary = true,
			weaponIndex = f38_arg2.loadoutIndex,
			gunsmithButton = f38_arg0.PrimaryWeapon.GunsmithButton,
			useWZ2ButtonStyle = f38_arg4.useWZ2ButtonStyle
		} )
		f38_arg0.SecondaryWeapon:SetupContainer( f38_arg1, WEAPON.SecondarySlot, f38_arg2.secondaryWeaponSetup, f38_arg2.secondaryDefaultLoadoutWeapon, {
			isPrimary = false,
			weaponIndex = f38_arg2.loadoutIndex,
			gunsmithButton = f38_arg0.SecondaryWeapon.GunsmithButton,
			useWZ2ButtonStyle = f38_arg4.useWZ2ButtonStyle
		} )
	end
	if f38_arg0.PerkGridItem then
		f38_arg0.PerkGridItem:SetupButton( f38_arg1, f38_arg2.loadoutIndex, f38_arg2.perkTable )
		f38_arg0.PerkGridItem:SetButtonDisabled( Restrictions.ArePerksRestricted() )
	elseif f38_arg0.PerkGridItemCER then
		f38_arg0.PerkGridItemCER:SetupButton( f38_arg1, f38_arg2.loadoutIndex, f38_arg2.perkTable )
		f38_arg0.PerkGridItemCER:SetButtonDisabled( Restrictions.ArePerksRestricted() )
	end
	f38_arg0.EquipmentGridItem:SetupButton( f38_arg1, f38_arg2.lethal, LOOT.itemTypes.EQUIPMENT, LOADOUT.FLC_ITEM_SLOT_TYPE_NAME[LOADOUT.FLC_ITEM_SLOT_TYPE.LETHAL], EQUIPMENT.lethalSlot, nil, {
		[0x150DBCD825EFC24] = false,
		[0x5F6A8A5DA7C0919] = f38_arg0.loadoutIndex,
		useWZ2ButtonStyle = f38_arg4.useWZ2ButtonStyle
	} )
	f38_arg0.TacticalGridItem:SetupButton( f38_arg1, f38_arg2.tactical, LOOT.itemTypes.EQUIPMENT, LOADOUT.FLC_ITEM_SLOT_TYPE_NAME[LOADOUT.FLC_ITEM_SLOT_TYPE.TACTICAL], EQUIPMENT.tacticalSlot, nil, {
		[0x150DBCD825EFC24] = true,
		[0x5F6A8A5DA7C0919] = f38_arg0.loadoutIndex,
		useWZ2ButtonStyle = f38_arg4.useWZ2ButtonStyle
	} )
	if f38_arg0.FieldUpgradeItem then
		f38_arg0.FieldUpgradeItem:SetupButton( f38_arg1, f38_arg2.fieldUpgradeData, f38_arg2.isDefaultLoadout )
	end
	if f38_arg0.LoadoutSlotWildcard then
		local f38_local0
		if f38_arg2 then
			f38_local0 = f38_arg2.wildcard
			if not f38_local0 then
			
			else
				WildcardUtility[0xEA168D0C828DBDE]( f38_arg0.LoadoutSlotWildcard, f38_arg1, {
					[0x841A0C596D6F426] = f38_local0
				} )
			end
		end
		f38_local0 = WildcardUtility[0xC0D17BAD169557B]
	end
	if not f38_arg0._eventHandlersAdded and f38_arg3 then
		local f38_local0 = function ( f53_arg0 )
			local f53_local0 = LUI.FlowManager.GetScopedData( f38_arg0 )
			f53_local0.selectedWeaponSlot = f53_arg0
		end
		
		local f38_local1 = function ( f52_arg0 )
			local f52_local0 = LUI.FlowManager.GetScopedData( f38_arg0 )
			if CONDITIONS[0x4A020C7B018B3BA]() then
				f52_local0.selectedPerkPackage = f52_arg0
			else
				f52_local0.selectedPerkPackage = nil
			end
		end
		
		local f38_local2 = function ()
			if not Engine[0x12586A3F4FB490E]() then
				return 
			else
				f38_arg0.LoadoutDetailPanel:SetAlpha( 0 )
			end
		end
		
		local f38_local3 = function ( f50_arg0, f50_arg1, f50_arg2, f50_arg3 )
			if not Engine[0x12586A3F4FB490E]() then
				return 
			end
			local f50_local0 = LUI.FlowManager.GetScopedData( f38_arg0 )
			local f50_local1 = f50_local0.selectedWeaponSlot
			local f50_local2 = f50_local0.selectedLoadoutIndex
			local f50_local3 = CONDITIONS.IsMagmaGameMode()
			if f50_local3 then
				f50_local3 = f50_local1 == WEAPON.PrimarySlot
			end
			local f50_local4 = f50_local0.loadoutsPlayerData
			if f50_local4 then
				if f50_local2 then
					f50_local4 = f50_local2
				else
					f50_local4 = f50_local0.loadoutsPlayerData[f50_local2]
				end
			end
			local f50_local5
			if f50_local4 then
				f50_local5 = f50_local4
			elseif f50_local1 then
				f50_local5 = f50_local1
			else
				f50_local5 = f50_local4.weaponSetups[f50_local1]
			end
			if f38_arg0.LoadoutDetailPanel then
				f38_arg0.LoadoutDetailPanel:UpdatePanel( {
					showLine = false,
					title = f50_arg0,
					type = f50_arg1,
					weaponRef = f50_arg2,
					weaponSetup = f50_local5,
					showProgressionButton = f50_arg3,
					showBuyStationHint = f50_local3,
					controllerIndex = f38_arg0
				} )
				f38_arg0.LoadoutDetailPanel:SetAlpha( 1, 200 )
			end
		end
		
		local f38_local4 = function ( f49_arg0, f49_arg1 )
			if f49_arg0 then
				if CONDITIONS.IsMobileOrMobileSim() then
					f49_arg0:addEventHandler( "touchbegin", f49_arg1 )
				else
					f49_arg0:addEventHandler( "button_over", f49_arg1 )
					f49_arg0:addEventHandler( "button_over_disable", f49_arg1 )
				end
			end
		end
		
		f38_local4( f38_arg0._primaryWidget, function ()
			f38_arg0( WEAPON.PrimarySlot )
			f38_arg0( nil )
			if not CONDITIONS.IsMobileOrMobileSim() then
				local f48_local0 = f38_arg0._primary
				f38_arg0( f38_arg0._primaryWidget:GetWeaponName(), Engine[0xED84C33EC5F01EA]( WEAPON.GetWeaponClassName( f48_local0 ) ), f48_local0, true )
				if f38_arg0.PrimaryWeapon.WeaponButton and f38_arg0.WeaponBlueprintBranding then
					f38_arg0:dispatchEventToCurrentMenu( {
						name = "update_branding",
						weaponSetup = f38_arg0.PrimaryWeapon.WeaponButton._weaponSetup
					} )
				end
			end
		end )
		f38_local4( f38_arg0._secondaryWidget, function ()
			f38_arg0( WEAPON.SecondarySlot )
			f38_arg0( nil )
			if not CONDITIONS.IsMobileOrMobileSim() then
				f38_arg0( f38_arg0._secondaryWidget:GetWeaponName(), Engine[0xED84C33EC5F01EA]( WEAPON.GetWeaponClassName( f38_arg0._secondary ) ), f38_arg0._secondary, true )
				if f38_arg0.SecondaryWeapon.WeaponButton and f38_arg0.WeaponBlueprintBranding then
					f38_arg0:dispatchEventToCurrentMenu( {
						name = "update_branding",
						weaponSetup = f38_arg0.SecondaryWeapon.WeaponButton._weaponSetup
					} )
				end
			end
		end )
		f38_local4( f38_arg0.TacticalGridItem, function ()
			f38_arg0( nil )
			f38_arg0( nil )
			if not CONDITIONS.IsMobileOrMobileSim() then
				if f38_arg0.TacticalGridItem._equipment then
					f38_arg0( LOOT.GetItemName( LOOT.itemTypes.EQUIPMENT, f38_arg0.TacticalGridItem._equipment ), Engine[0xED84C33EC5F01EA]( LOADOUT.FLC_ITEM_SLOT_TYPE_NAME[LOADOUT.FLC_ITEM_SLOT_TYPE.TACTICAL] ) )
				end
				if f38_arg0.WeaponBlueprintBranding then
					f38_arg0:dispatchEventToCurrentMenu( {
						name = "update_branding"
					} )
				end
			end
		end )
		f38_local4( f38_arg0.EquipmentGridItem, function ()
			f38_arg0( nil )
			f38_arg0( nil )
			if not CONDITIONS.IsMobileOrMobileSim() then
				if f38_arg0.EquipmentGridItem._equipment then
					f38_arg0( LOOT.GetItemName( LOOT.itemTypes.EQUIPMENT, f38_arg0.EquipmentGridItem._equipment ), Engine[0xED84C33EC5F01EA]( LOADOUT.FLC_ITEM_SLOT_TYPE_NAME[LOADOUT.FLC_ITEM_SLOT_TYPE.LETHAL] ) )
				end
				if f38_arg0.WeaponBlueprintBranding then
					f38_arg0:dispatchEventToCurrentMenu( {
						name = "update_branding"
					} )
				end
			end
		end )
		if Engine[0x12586A3F4FB490E]() then
			if f38_arg0.PrimaryWeapon.GunsmithButton then
				f38_local4( f38_arg0.PrimaryWeapon.GunsmithButton, function ()
					f38_arg0( WEAPON.PrimarySlot )
					f38_arg0( nil )
					f38_arg0( f38_arg0._primaryWidget:GetWeaponName(), Engine[0xED84C33EC5F01EA]( WEAPON.GetWeaponClassName( f38_arg0._primary ) ), f38_arg0._primary, true )
					if not CONDITIONS.IsMobileOrMobileSim() and f38_arg0.WeaponBlueprintBranding then
						f38_arg0:dispatchEventToCurrentMenu( {
							name = "update_branding",
							weaponSetup = f38_arg0.PrimaryWeapon.WeaponButton._weaponSetup
						} )
					end
				end )
			end
			if f38_arg0.SecondaryWeapon.GunsmithButton then
				f38_local4( f38_arg0.SecondaryWeapon.GunsmithButton, function ()
					local f43_local0 = f38_arg0._secondary
					f38_arg0( WEAPON.SecondarySlot )
					f38_arg0( nil )
					f38_arg0( f38_arg0._secondaryWidget:GetWeaponName(), Engine[0xED84C33EC5F01EA]( WEAPON.GetWeaponClassName( f43_local0 ) ), f43_local0, true )
					if not CONDITIONS.IsMobileOrMobileSim() and f38_arg0.WeaponBlueprintBranding then
						f38_arg0:dispatchEventToCurrentMenu( {
							name = "update_branding",
							weaponSetup = f38_arg0.SecondaryWeapon.WeaponButton._weaponSetup
						} )
					end
				end )
			end
		end
		if f38_arg0.PerkGridItem then
			f38_local4( f38_arg0.PerkGridItem, function ()
				f38_arg0( nil )
				if CONDITIONS[0x4A020C7B018B3BA]() then
					f38_arg0( f38_arg0.PerkGridItem:GetPerkPackageIndex() )
				else
					f38_arg0( nil )
				end
				if not CONDITIONS.IsMobileOrMobileSim() then
					f38_arg0( f38_arg0.PerkGridItem:GetPerkName(), Engine[0xED84C33EC5F01EA]( 0xFF4339D58007DBF ) )
					if f38_arg0.WeaponBlueprintBranding then
						f38_arg0:dispatchEventToCurrentMenu( {
							name = "update_branding"
						} )
					end
				end
			end )
		elseif f38_arg0.PerkGridItemCER then
			f38_local4( f38_arg0.PerkGridItemCER, function ()
				f38_arg0( nil )
				if not CONDITIONS.IsMobileOrMobileSim() then
					f38_arg0( f38_arg0.PerkGridItemCER:GetPerkName(), Engine[0xED84C33EC5F01EA]( 0xD054C32F9867919 ) )
					if f38_arg0.WeaponBlueprintBranding then
						f38_arg0:dispatchEventToCurrentMenu( {
							name = "update_branding"
						} )
					end
				end
			end )
		end
		if f38_arg0.FieldUpgradeItem then
			f38_local4( f38_arg0.FieldUpgradeItem, function ()
				f38_arg0( nil )
				f38_arg0( nil )
				if not CONDITIONS.IsMobileOrMobileSim() then
					f38_arg0( f38_arg0.FieldUpgradeItem:GetFieldUpgradeName( f38_arg0 ), Engine[0xED84C33EC5F01EA]( 0x672DE5687D0786B ) )
					if f38_arg0.WeaponBlueprintBranding then
						f38_arg0:dispatchEventToCurrentMenu( {
							name = "update_branding"
						} )
					end
				end
			end )
		end
		if f38_arg0.LoadoutSlotWildcard then
			f38_local4( f38_arg0.LoadoutSlotWildcard, function ()
				f38_arg0( nil )
				f38_arg0( nil )
				if not CONDITIONS.IsMobileOrMobileSim() then
					f38_arg0( WildcardUtility[0xC034961620DBC3C]( f38_arg0.LoadoutSlotWildcard._wildcard ), Engine[0xED84C33EC5F01EA]( 0x2C7B17B7867978F ) )
					if f38_arg0.WeaponBlueprintBranding then
						f38_arg0:dispatchEventToCurrentMenu( {
							name = "update_branding"
						} )
					end
				end
			end )
		end
		f38_arg0._eventHandlersAdded = true
	end
	f38_arg0:FiringRangeMenuModifications( f38_arg1, f38_arg3, f38_arg4 )
end

local f0_local9 = function ( f37_arg0, f37_arg1, f37_arg2, f37_arg3, f37_arg4, f37_arg5, f37_arg6 )
	if not f37_arg6 then
		f37_arg6 = {}
	end
	LOADOUT.SetViewingLoadout( f37_arg1, f37_arg2 )
	LOADOUT.SetLoadoutListDatasources( f37_arg1 )
	local f37_local0
	if f37_arg4 then
		f37_local0 = f37_arg4.weapons[WEAPON.PrimarySlot + 1].ref
		if not f37_local0 then
		
		else
			local f37_local1
			if f37_arg4 then
				f37_local1 = WEAPON.baseVariant
				if not f37_local1 then
				
				else
					f37_arg0._primary = f37_local0
					if not f37_arg6.disableGunsmith then
						local f37_local2 = not GUNSMITH.IsDisabled( f37_local0, f37_local1 )
					else
						local f37_local2 = false
					end
					if not GUNSMITH.IsCustomizationDisabled( f37_local0 ) then
						local f37_local3 = CONDITIONS.InFrontend()
					else
						local f37_local3 = false
					end
					local f37_local4 = PROGRESSION.IsUnlocked( f37_arg1, LOOT.itemTypes.WEAPON, f37_local0 )
					local f37_local5 = WEAPON.SecondarySlot
					local f37_local6
					if f37_arg4 then
						f37_local6 = f37_arg4.weapons[f37_local5 + 1].ref
						if not f37_local6 then
						
						else
							local f37_local7
							if f37_arg4 then
								f37_local7 = WEAPON.baseVariant
								if not f37_local7 then
								
								else
									f37_arg0._secondary = f37_local6
									if not f37_arg6.disableGunsmith then
										local f37_local8 = not GUNSMITH.IsDisabled( f37_local6, f37_local7 )
									else
										local f37_local8 = false
									end
									if not GUNSMITH.IsCustomizationDisabled( f37_local6 ) then
										local f37_local9 = CONDITIONS.InFrontend()
									else
										local f37_local9 = false
									end
									local f37_local10 = PROGRESSION.IsUnlocked( f37_arg1, LOOT.itemTypes.WEAPON, f37_local6 )
									f37_arg0.loadoutIndex = f37_arg2
									f37_arg0._secondaryCameraType = WEAPON.GetGunTableSecondPositionScene( f37_local6 )
									local f37_local11
									if f37_arg4 then
										f37_local11 = f37_arg4.lethal
										if not f37_local11 then
										
										else
											local f37_local12
											if f37_arg4 then
												f37_local12 = f37_arg4.tactical
												if not f37_local12 then
												
												else
													local f37_local13
													if f37_arg4 and not f37_arg4 then
														f37_local13 = f37_arg4
													else
														f37_local13 = f37_arg3
													end
													local f37_local14
													if f37_arg4 then
														f37_local14 = f37_arg4.wildcard
														if not f37_local14 then
														
														else
															local f37_local15 = {}
															if f37_arg0.PerkGridItem then
																local f37_local16
																if f37_arg4 then
																	f37_local16 = f37_arg4.equippedPerkPackageIndex
																	if not f37_local16 then
																	
																	else
																		f37_local15 = PERK.GetPerkPackageData( f37_arg1, f37_local16 )
																	end
																end
																f37_local16 = f37_arg3.equippedPerkPackageIndex:get()
															elseif f37_arg0.PerkGridItemCER then
																local f37_local16
																if f37_arg4 then
																	f37_local16 = f37_arg4.perks[1]
																	if not f37_local16 then
																	
																	else
																		local f37_local17
																		if f37_arg4 then
																			f37_local17 = f37_arg4.perks[2]
																			if not f37_local17 then
																			
																			else
																				local f37_local18
																				if f37_arg4 then
																					f37_local18 = f37_arg4.perks[3]
																					if not f37_local18 then
																					
																					else
																						local f37_local19
																						if f37_arg4 then
																							f37_local19 = f37_arg4.perkBonus
																							if not f37_local19 then
																							
																							else
																								f37_local15 = {
																									name = nil,
																									perks = {
																										f37_local16,
																										f37_local17,
																										f37_local18
																									},
																									perkBonus = f37_local19
																								}
																							end
																						end
																						f37_local19 = f37_arg3.perkBonus:get()
																					end
																				end
																				f37_local18 = f37_arg3.loadoutPerks[2]:get()
																			end
																		end
																		f37_local17 = f37_arg3.loadoutPerks[1]:get()
																	end
																end
																f37_local16 = f37_arg3.loadoutPerks[0]:get()
															end
															local f37_local16 = {
																isDefaultLoadout = f37_arg4,
																loadoutIndex = f37_arg2
															}
															local f37_local17
															if f37_arg3 then
																f37_local17 = f37_arg3
															else
																f37_local17 = f37_arg3.weaponSetups[WEAPON.PrimarySlot]
															end
															f37_local16.primaryWeaponSetup = f37_local17
															if f37_arg3 then
																f37_local17 = f37_arg3
															else
																f37_local17 = f37_arg3.weaponSetups[WEAPON.SecondarySlot]
															end
															f37_local16.secondaryWeaponSetup = f37_local17
															if f37_arg4 then
																f37_local17 = f37_arg4
															else
																f37_local17 = f37_arg4.weapons[WEAPON.PrimarySlot + 1]
															end
															f37_local16.primaryDefaultLoadoutWeapon = f37_local17
															if f37_arg4 then
																f37_local17 = f37_arg4
															else
																f37_local17 = f37_arg4.weapons[WEAPON.SecondarySlot + 1]
															end
															f37_local16.secondaryDefaultLoadoutWeapon = f37_local17
															f37_local16.perkTable = f37_local15
															f37_local16.lethal = f37_local11
															f37_local16.tactical = f37_local12
															f37_local16.fieldUpgradeData = f37_local13
															f37_local16.wildcard = f37_local14
															f37_arg0:UpdateGridItems( f37_arg1, f37_local16, f37_arg5, f37_arg6 )
														end
													end
													f37_local14 = f37_arg3.wildcard:get()
												end
											end
											f37_local12 = f37_arg3.equipmentSetups[1].equipment:get()
										end
									end
									f37_local11 = f37_arg3.equipmentSetups[0].equipment:get()
								end
							end
							f37_local7 = f37_arg3.weaponSetups[f37_local5].variantID:get()
						end
					end
					f37_local6 = f37_arg3.weaponSetups[f37_local5].weapon:get()
				end
			end
			f37_local1 = f37_arg3.weaponSetups[WEAPON.PrimarySlot].variantID:get()
		end
	end
	f37_local0 = f37_arg3.weaponSetups[WEAPON.PrimarySlot].weapon:get()
end

local f0_local10 = function ( f36_arg0, f36_arg1 )
	local f36_local0 = LOADOUT.GetLoadoutMenuState( f36_arg0._controllerIndex ) == LOADOUT.MENU_STATE.loadoutEdit
	local f36_local1 = CONDITIONS.UsingLoadoutFLC()
	if CONDITIONS.IsMobileOrMobileSim() then
		f36_local0 = true
		if CONDITIONS.InGame() then
			f36_local0 = false
			f36_local1 = true
		end
	end
	if f36_arg0._primaryWidget.ShowBackground then
		f36_arg0._primaryWidget:ShowBackground( f36_local0, f36_local1 )
	end
	if f36_arg0._secondaryWidget and f36_arg0._secondaryWidget.ShowBackground then
		f36_arg0._secondaryWidget:ShowBackground( f36_local0, f36_local1 )
	end
	if f36_arg0.TacticalGridItem.Button and f36_arg0.TacticalGridItem.Button.DisplayBackground then
		f36_arg0.TacticalGridItem.Button:DisplayBackground( f36_local0, f36_local1 )
	end
	if f36_arg0.EquipmentGridItem.Button and f36_arg0.EquipmentGridItem.Button.DisplayBackground then
		f36_arg0.EquipmentGridItem.Button:DisplayBackground( f36_local0, f36_local1 )
	end
	if f36_arg0._primaryWidgetTwo and f36_arg0._primaryWidgetTwo.Button then
		f36_arg0._primaryWidgetTwo.Button:DisplayBackground( f36_local0, f36_local1 )
	end
	if f36_arg0._secondaryWidgetTwo and f36_arg0._secondaryWidgetTwo.Button then
		f36_arg0._secondaryWidgetTwo.Button:DisplayBackground( f36_local0, f36_local1 )
	end
	if f36_arg0.PerkGridItem and f36_arg0.PerkGridItem.Button and f36_arg0.PerkGridItem.Button.DisplayBackground then
		f36_arg0.PerkGridItem.Button:DisplayBackground( f36_local0, f36_local1 )
	end
	if f36_arg0.FieldUpgradeItem and f36_arg0.FieldUpgradeItem.Button then
		f36_arg0.FieldUpgradeItem.Button:DisplayBackground( f36_local0, f36_local1 )
	end
	if f36_arg0.BackgroundDarkener then
		local f36_local2
		if f36_local0 then
			f36_local2 = 0
		else
			f36_local2 = f0_local0
		end
		f36_arg0.BackgroundDarkener:SetAlpha( f36_local2, 100 )
	end
	local f36_local2
	if f36_local0 then
		f36_local2 = 0
	else
		f36_local2 = f0_local0
	end
	local f36_local3 = CONDITIONS.InFrontendCP() and f0_local0 or f0_local0
	local f36_local4 = CONDITIONS.InFrontendCP() and f0_local0 or f0_local0
	local f36_local5 = {
		f36_arg0.Divider1,
		f36_arg0.Divider2,
		f36_arg0.Divider3,
		f36_arg0.Divider4,
		f36_arg0.Divider5
	}
	for f36_local6 = 1, #f36_local5, 1 do
		local f36_local9 = f36_local5[f36_local6]
		f36_local9:SetAlpha( f36_local2, 200 )
		f36_local9:SetTop( f36_local3 )
		f36_local9:SetBottom( f36_local4 )
	end
	if f36_arg0.Background and f36_arg0.BackgroundBacker and not CONDITIONS.IsBRGameType() then
		f36_arg0.Background:SetVisible( not f36_local0 )
		f36_arg0.BackgroundBacker:SetVisible( not f36_local0 )
		if f36_arg0.LoadoutName then
			f36_arg0.LoadoutName:SetVisible( not f36_local0 )
		end
	end
end

local f0_local11 = function ( f35_arg0, f35_arg1 )
	if f35_arg0.FrontendCameraMover then
		f35_arg0.FrontendCameraMover:processEvent( {
			name = "update_camera_limits",
			isZoomed = f35_arg1
		} )
	end
end

local f0_local12 = function ( f34_arg0, f34_arg1, f34_arg2 )
	CLIENT_MODEL.SendClientModelTagDataToServer( f34_arg2.weaponSetups[FrontEndScene.ClientWeapons.GunTablePrimary].weapon:get(), f34_arg2.weaponSetups[FrontEndScene.ClientWeapons.GunTableSecondary].weapon:get(), f34_arg1 )
end

local f0_local13 = function ( f33_arg0, f33_arg1, f33_arg2, f33_arg3 )
	Engine[0x685AE31DEDA30A4]( f33_arg2 )
	if ClientModel[0xA988866C889EAAD]() then
		local f33_local0 = LUI.FlowManager.GetScopedData( f33_arg0 )
		f0_local0( f33_arg0, f33_arg1, f33_arg3[f33_local0.selectedLoadoutIndex] )
	end
end

local f0_local14 = function ( f22_arg0, f22_arg1, f22_arg2, f22_arg3 )
	local f22_local0 = function ( f29_arg0, f29_arg1 )
		return function ( f30_arg0, f30_arg1 )
			local f30_local0 = LUI.FlowManager.GetScopedData( f30_arg0 )
			if GL_HACK.IsMouseFocusedOnLoadoutButton( f29_arg0._currentFocusedButton, f30_local0.menuState ) and not f29_arg0 then
				if f29_arg0._currFocus and f29_arg0._currFocus.GunsmithButton then
					ACTIONS.AnimateSequence( f29_arg0._currFocus, "HideGunsmith" )
				end
				Engine[0x685AE31DEDA30A4]( "loadout_showcase" )
			end
			if f30_arg0.id == "WeaponButtonSecondary" or f30_arg0.id == "AttachmentsButtonSecondary" or f30_arg0.id == "WeaponButtonPrimaryTwo" then
				f29_arg0 = f29_arg0._secondaryCameraType
			end
			local f30_local1 = f29_arg0[f30_local0.selectedLoadoutIndex]
			if not CONDITIONS.IsMobileOrMobileSim() and not f29_arg0.modelsSetup then
				for f30_local2 = 0, 1, 1 do
					local f30_local5 = f30_local1.weaponSetups[f30_local2]
					local f30_local6 = f30_local5.weapon:get()
					if not CLIENT_MODEL.SetLauncherCase( f30_local6, f30_local2, f30_local5.lootItemID:get() ) then
						WEAPON.SetModelIfLoaded( f29_arg0, f29_arg0[f30_local2 + 1], WEAPON.GetWeaponModelNameFromPlayerData( f30_local6, f30_local5, {
							includeCamos = true,
							includeAttachments = true,
							includeStickers = true,
							controllerIndex = f29_arg0
						} ), {
							adjustSandbags = f30_local2 == 0
						} )
					end
					if f30_local2 == 0 then
						f29_arg0._primaryIsGunCase = true
					end
					if f30_local2 == 1 then
						f29_arg0._secondaryIsGunCase = true
					end
				end
				f29_arg0.modelsSetup = true
			end
			Engine[0x685AE31DEDA30A4]( CONDITIONS.IsMultiplayer( f29_arg0 ) and f29_arg0 or "loadout_showcase" )
			local f30_local2 = 0
			local f30_local3 = 0
			local f30_local4 = false
			local f30_local7 = false
			if not f29_arg0._gunCaseEventHandlerAdded then
				f29_arg0:registerEventHandler( "updateGunCase", function ( element, event )
					f30_arg0 = f30_arg0 + f30_arg0
					f30_arg0 = f30_arg0 - f30_arg0 > CLIENT_MODEL.SET_MODIFIABLE_TIMEOUT_DEFAULT
					local f31_local0 = Engine[0xFB66055BF32565F]( FrontEndScene.ClientWeapons.GunTablePrimary, WEAPON.lodThreshold )
					if not f31_local0 then
						f31_local0 = f30_arg0._primaryIsGunCase
					end
					local f31_local1 = Engine[0xFB66055BF32565F]( FrontEndScene.ClientWeapons.GunTableSecondary, WEAPON.lodThreshold )
					if not f31_local1 then
						f31_local1 = f30_arg0._secondaryIsGunCase
					end
					if ClientModel[0xA988866C889EAAD]() and f31_local0 and f31_local1 then
						CLIENT_MODEL.SetAllModelsModifiable( f30_arg0 )
						WEAPON.SetWeaponModelsInGuncase( f30_arg0, f30_arg0, f30_arg0 )
						CLIENT_MODEL.InitPatchClientModels( f30_arg0, f30_arg0 )
						CLIENT_MODEL.UpdateModelsForLoadout( f30_arg0, f30_arg0, f30_arg0.selectedLoadoutIndex )
						local f31_local2 = f30_arg0:Wait( 100, true )
						f31_local2.onComplete = function ()
							element( element, element, element )
						end
						
						f30_arg0 = true
					end
					if (f30_arg0 or f30_arg0) and f30_arg0.updateGunCaseTimer then
						f30_arg0:RemoveElement( f30_arg0.updateGunCaseTimer )
						f30_arg0.updateGunCaseTimer = nil
					end
				end )
				f29_arg0._gunCaseEventHandlerAdded = true
			end
			local f30_local5
			if f29_arg0 ~= "loadout_showcase_p" then
				f30_local5 = "loadout_showcase_o"
			else
				f30_local5 = true
			end
			local f30_local6 = f29_arg0:GetCurrentMenu()
			if f30_local6 then
				f29_arg0( f30_local6, f30_local5 )
			end
		end
		
	end
	
	local f22_local1 = "button_action"
	if CONDITIONS[0x4A020C7B018B3BA]() then
		f22_local1 = "button_over"
	end
	if CONDITIONS.IsMobileOrMobileSim() then
		f22_arg0._primaryWidget:addEventHandler( "touchbegin", function ( f28_arg0, f28_arg1 )
			f22_arg0( f28_arg0, f22_arg0, "loadout_showcase_p", f22_arg0 )
		end )
	else
		local f22_local2 = f22_arg0._primaryWidget
		local f22_local3 = f22_arg0._primaryWidgetTwo
		local f22_local4 = CLIENT_MODEL.GetPrimaryWeaponCameraName()
		f22_local2:addEventHandler( f22_local1, f22_local0( f22_local4 ) )
		f22_local2:addEventHandler( "force_button_event", f22_local0( f22_local4, true ) )
		if f22_local3 and CONDITIONS.UsingLoadoutFLC() then
			f22_local3:addEventHandler( "button_action", f22_local0( "loadout_showcase_o" ) )
			f22_local3:addEventHandler( "force_button_event", f22_local0( "loadout_showcase_o", true ) )
		end
	end
	local f22_local2 = f22_arg0.PrimaryWeapon
	if f22_local2 and f22_local2.GunsmithButton then
		local f22_local3 = CLIENT_MODEL.GetPrimaryWeaponCameraName()
		f22_local2.GunsmithButton:addEventHandler( "button_action", f22_local0( f22_local3 ) )
		f22_local2.GunsmithButton:addEventHandler( "force_button_event", f22_local0( f22_local3, true ) )
	end
	local f22_local3 = f22_arg0.PrimaryWeaponTwo
	if f22_local3 and CONDITIONS.UsingLoadoutFLC() then
		local f22_local4 = f22_local3.GunsmithButton
		if f22_local4 then
			f22_local4:addEventHandler( "button_action", f22_local0( "loadout_showcase_o" ) )
			f22_local4:addEventHandler( "force_button_event", f22_local0( "loadout_showcase_o", true ) )
		end
	end
	if CONDITIONS.IsMobileOrMobileSim() then
		f22_arg0._secondaryWidget:addEventHandler( "touchbegin", function ( f27_arg0, f27_arg1 )
			f22_arg0( f27_arg0, f22_arg0, "loadout_showcase_s", f22_arg0 )
		end )
	elseif f22_arg0._secondaryWidget then
		f22_arg0._secondaryWidget:addEventHandler( f22_local1, f22_local0( "loadout_showcase_s" ) )
		f22_arg0._secondaryWidget:addEventHandler( "force_button_event", f22_local0( "loadout_showcase_s", true ) )
	end
	if f22_arg0.SecondaryWeapon and f22_arg0.SecondaryWeapon.GunsmithButton then
		f22_arg0.SecondaryWeapon.GunsmithButton:addEventHandler( "button_action", f22_local0( "loadout_showcase_s" ) )
		f22_arg0.SecondaryWeapon.GunsmithButton:addEventHandler( "force_button_event", f22_local0( "loadout_showcase_s", true ) )
	end
	f22_arg0:addEventHandler( "menu_create", function ( f26_arg0, f26_arg1 )
		local f26_local0 = MenuUtils.GetPreviousMenu()
		if f26_local0 ~= "MPMainMenu" and f26_local0 ~= "WeaponTabs" then
			if f26_arg0._scoped.selectedWeaponSlot == FrontEndScene.ClientWeapons.GunTableSecondary then
				if f26_arg0._secondaryWidget then
					f26_arg0._secondaryWidget:processEvent( {
						name = "force_button_event"
					} )
				elseif f26_arg0._primaryWidgetTwo then
					f26_arg0._primaryWidgetTwo:processEvent( {
						name = "force_button_event"
					} )
				end
			else
				f26_arg0._primaryWidget:processEvent( {
					name = "force_button_event"
				} )
			end
		end
	end )
	if CONDITIONS.IsMobileOrMobileSim() then
		if f22_arg0.PerkGridItem then
			f22_arg0.PerkGridItem:addEventHandler( "touchbegin", f22_local0( "loadout_showcase_perks" ) )
		elseif f22_arg0.PerkGridItemCER then
			f22_arg0.PerkGridItemCER:addEventHandler( "touchbegin", f22_local0( "loadout_showcase_perks" ) )
		end
		f22_arg0.EquipmentGridItem:addEventHandler( "touchbegin", function ( f25_arg0, f25_arg1 )
			f22_arg0( f25_arg0, f22_arg0, "loadout_showcase_l", f22_arg0 )
		end )
		f22_arg0.TacticalGridItem:addEventHandler( "touchbegin", function ( f24_arg0, f24_arg1 )
			f22_arg0( f24_arg0, f22_arg0, "loadout_showcase_t", f22_arg0 )
		end )
		f22_arg0.FieldUpgradeItem:addEventHandler( "touchbegin", function ( f23_arg0, f23_arg1 )
			f22_arg0( f23_arg0, f22_arg0, "loadout_showcase_field_upgrade", f22_arg0 )
		end )
	else
		if f22_arg0.PerkGridItem then
			f22_arg0.PerkGridItem:addEventHandler( f22_local1, f22_local0( "loadout_showcase_perks" ) )
		elseif f22_arg0.PerkGridItemCER then
			f22_arg0.PerkGridItemCER:addEventHandler( "button_over", f22_local0( "loadout_showcase_perks" ) )
		end
		if CONDITIONS.UsingLoadoutFLC() then
			if f22_arg0.PerkItemVest then
				f22_arg0.PerkItemVest:addEventHandler( "button_action", f22_local0( "loadout_showcase_perks_vest" ) )
			end
			if f22_arg0.PerkItemGloves then
				f22_arg0.PerkItemGloves:addEventHandler( "button_action", f22_local0( "loadout_showcase_perks_gloves" ) )
			end
			if f22_arg0.PerkItemBoots then
				f22_arg0.PerkItemBoots:addEventHandler( "button_action", f22_local0( "loadout_showcase_perks_boots" ) )
			end
			if f22_arg0.PerkItemGearOne then
				f22_arg0.PerkItemGearOne:addEventHandler( "button_action", f22_local0( "loadout_showcase_perks_gear_1" ) )
			end
			if f22_arg0.PerkItemGearTwo then
				f22_arg0.PerkItemGearTwo:addEventHandler( "button_action", f22_local0( "loadout_showcase_perks_gear_2" ) )
			end
		end
		f22_arg0.EquipmentGridItem:addEventHandler( f22_local1, f22_local0( "loadout_showcase_l" ) )
		f22_arg0.TacticalGridItem:addEventHandler( f22_local1, f22_local0( "loadout_showcase_t" ) )
		if f22_arg0.FieldUpgradeItem then
			f22_arg0.FieldUpgradeItem:addEventHandler( "button_action", f22_local0( "loadout_showcase_field_upgrade_01" ) )
		end
	end
end

local f0_local15 = function ( f21_arg0, f21_arg1 )
	f21_arg0._blockMouseMove = not f21_arg1
end

local f0_local16 = function ( f19_arg0, f19_arg1 )
	ACTIONS.AnimateSequence( f19_arg0, "HideAll" )
	f19_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		if event.name == "gamepad_button" and event.down then
			if event.button == "right_trigger" then
				ACTIONS.AnimateSequence( element, "ShowLoadout" )
			end
		elseif event.name == "gamepad_button" and event.button == "right_trigger" then
			ACTIONS.AnimateSequence( element, "HideLoadout" )
		end
	end )
end

local f0_local17 = function ( f15_arg0, f15_arg1 )
	f15_arg0._buttons = {}
	if f15_arg0.PrimaryWeapon then
		if f15_arg0.PrimaryWeapon.WeaponButton then
			table.insert( f15_arg0._buttons, f15_arg0.PrimaryWeapon.WeaponButton )
		else
			table.insert( f15_arg0._buttons, f15_arg0.PrimaryWeapon )
		end
	end
	if f15_arg0.SecondaryWeapon then
		if f15_arg0.SecondaryWeapon.WeaponButton then
			table.insert( f15_arg0._buttons, f15_arg0.SecondaryWeapon.WeaponButton )
		else
			table.insert( f15_arg0._buttons, f15_arg0.SecondaryWeapon )
		end
	end
	if f15_arg0.EquipmentGridItem then
		table.insert( f15_arg0._buttons, f15_arg0.EquipmentGridItem )
	end
	if f15_arg0.TacticalGridItem then
		table.insert( f15_arg0._buttons, f15_arg0.TacticalGridItem )
	end
	if f15_arg0.FieldUpgradeItem then
		table.insert( f15_arg0._buttons, f15_arg0.FieldUpgradeItem )
	end
	if CONDITIONS.UsingLoadoutFLC() then
		table.insert( f15_arg0._buttons, f15_arg0.PrimaryWeaponTwo )
		table.insert( f15_arg0._buttons, f15_arg0.VestPrompt )
		table.insert( f15_arg0._buttons, f15_arg0.PerkItemVest )
		table.insert( f15_arg0._buttons, f15_arg0.PerkItemGloves )
		table.insert( f15_arg0._buttons, f15_arg0.PerkItemBoots )
		table.insert( f15_arg0._buttons, f15_arg0.PerkItemGearOne )
		table.insert( f15_arg0._buttons, f15_arg0.PerkItemGearTwo )
	end
	if f15_arg0.PerkGridItem then
		table.insert( f15_arg0._buttons, f15_arg0.PerkGridItem )
	end
	f15_arg0._currentFocusedButton = nil
	MenuUtils.SetupActiveStateOnNonListButtons( f15_arg0, f15_arg1, {
		buttonList = f15_arg0._buttons
	} )
	if CONDITIONS.UsingLoadoutFLC() then
		if f15_arg0.PrimaryWeapon.GunsmithButton then
			f15_arg0.PrimaryWeapon.GunsmithButton:addEventHandler( "mouseenter", function ( f18_arg0, f18_arg1 )
				ACTIONS.GainFocusByElement( f15_arg0.PrimaryWeapon, f15_arg0 )
			end )
		end
		local f15_local0 = f15_arg0.PrimaryWeaponTwo
		if f15_local0 then
			local f15_local1 = f15_local0.GunsmithButton
			if f15_local1 then
				f15_local1:addEventHandler( "mouseenter", function ( f17_arg0, f17_arg1 )
					ACTIONS.GainFocusByElement( f15_arg0.PrimaryWeaponTwo, f15_arg0 )
				end )
			end
		end
	end
	f15_arg0:addEventHandler( "lose_focus", function ( f16_arg0, f16_arg1 )
		local f16_local0 = f16_arg1.controller or f15_arg0
		local f16_local1 = f16_arg0._currentFocusedButton
		MenuUtils.RemoveCurrentActiveButton( f16_arg0, f16_local0, true )
		if f16_local1 and f16_local1._isArmoryActiveWeapon then
			f16_local1:dispatchEventToParent( {
				name = "update_active_armory_promo_visibility",
				isActiveArmory = false,
				controller = f16_arg1.controller
			} )
		end
	end )
end

local f0_local18 = function ( f14_arg0, f14_arg1 )
	f14_arg0._primaryWidget.navigation = {}
	f14_arg0._primaryWidget.navigation.right = f14_arg0._secondaryWidget
	if not CONDITIONS.IsMobileOrMobileSim() and f14_arg0.PrimaryWeapon and f14_arg0.PrimaryWeapon.GunsmithButton then
		f14_arg0.PrimaryWeapon.GunsmithButton.navigation = {}
		f14_arg0.PrimaryWeapon.GunsmithButton.navigation.down = f14_arg0._primaryWidget
		f14_arg0.PrimaryWeapon.GunsmithButton.navigation.right = f14_arg0._secondaryWidget
		f14_arg0._primaryWidget.navigation.up = f14_arg0.PrimaryWeapon.GunsmithButton
	end
	local f14_local0 = f14_arg0._secondaryWidget
	if f14_local0 then
		f14_local0.navigation = {}
		f14_local0.navigation.left = f14_arg0._primaryWidget
		f14_local0.navigation.right = f14_arg0.TacticalGridItem
		if not CONDITIONS.IsMobileOrMobileSim() and f14_arg0.SecondaryWeapon and f14_arg0.SecondaryWeapon.GunsmithButton then
			f14_arg0.SecondaryWeapon.GunsmithButton.navigation = {}
			f14_arg0.SecondaryWeapon.GunsmithButton.navigation.down = f14_arg0._secondaryWidget
			f14_arg0.SecondaryWeapon.GunsmithButton.navigation.left = f14_arg0._primaryWidget
			f14_arg0.SecondaryWeapon.GunsmithButton.navigation.right = f14_arg0.TacticalGridItem
			f14_local0.navigation.up = f14_arg0.SecondaryWeapon.GunsmithButton
		end
	end
	f14_arg0.TacticalGridItem.navigation = {}
	f14_arg0.TacticalGridItem.navigation.left = f14_arg0._secondaryWidget
	f14_arg0.TacticalGridItem.navigation.right = f14_arg0.EquipmentGridItem
	f14_arg0.EquipmentGridItem.navigation = {}
	f14_arg0.EquipmentGridItem.navigation.left = f14_arg0.TacticalGridItem
	if f14_arg0.PerkGridItem then
		f14_arg0.EquipmentGridItem.navigation.right = f14_arg0.PerkGridItem
	end
	if f14_arg0.PerkGridItem then
		f14_arg0.PerkGridItem.navigation = {}
		f14_arg0.PerkGridItem.navigation.left = f14_arg0.EquipmentGridItem
		f14_arg0.PerkGridItem.navigation.right = f14_arg0.FieldUpgradeItem
	end
	if f14_arg0.FieldUpgradeItem then
		f14_arg0.FieldUpgradeItem.navigation = {}
		if f14_arg0.PerkGridItem then
			f14_arg0.FieldUpgradeItem.navigation.left = f14_arg0.PerkGridItem
		end
		f14_arg0.FieldUpgradeItem.navigation.right = f14_arg0._primaryWidget
		if f14_arg0.LoadoutSlotWildcard then
			f14_arg0.FieldUpgradeItem.navigation.up = f14_arg0.LoadoutSlotWildcard
			f14_arg0.FieldUpgradeItem.navigation.down = f14_arg0.LoadoutSlotWildcard
		end
	elseif f14_arg0.PerkGridItem then
		f14_arg0.PerkGridItem.navigation.right = f14_arg0._primaryWidget
		f14_arg0._primaryWidget.navigation.left = f14_arg0.PerkGridItem
	end
	if f14_arg0.LoadoutSlotWildcard then
		f14_arg0.LoadoutSlotWildcard.navigation = {}
		f14_arg0.LoadoutSlotWildcard.navigation.up = f14_arg0.FieldUpgradeItem
		f14_arg0.LoadoutSlotWildcard.navigation.down = f14_arg0.FieldUpgradeItem
	end
end

local f0_local19 = function ( f4_arg0, f4_arg1 )
	local f4_local0 = function ( f13_arg0 )
		if not CONDITIONS.UsingLoadoutFLC() and f4_arg0._currFocus and f4_arg0._currFocus.GunsmithButton then
			f4_arg0._currFocus:SetGunsmithEnabled( false )
		end
		f4_arg0._currFocus = f13_arg0
		if f4_arg0._currFocus and f4_arg0._currFocus._weaponTable then
			if not CONDITIONS.UsingLoadoutFLC() or f4_arg0._currFocus:IsEquipped() and not (LOADOUT.GetFLCSlotCountUsed( f4_arg0 ) > LOADOUT.FLC_ITEM_SLOT_MAX) then
				if not CONDITIONS.UsingLoadoutFLC() then
					f4_arg0._currFocus:SetGunsmithEnabled( true )
				end
				if CONDITIONS.UsingLoadoutFLC() then
					f4_arg0:dispatchEventToCurrentMenu( {
						immediate = true,
						name = "add_gunsmith_prompt"
					} )
					if Engine[0x12586A3F4FB490E]() and CONDITIONS.IsFrontendFiringRangeEnabled() then
						f4_arg0:dispatchEventToCurrentMenu( {
							immediate = true,
							name = "add_firing_range_prompt"
						} )
					else
						f4_arg0:dispatchEventToCurrentMenu( {
							immediate = true,
							name = "remove_firing_range_prompt"
						} )
					end
					if Engine[0x12586A3F4FB490E]() and GUNSMITH.IsWeaponProgressionAvailable( f4_arg0._currFocus.selectedWeapon ) then
						f4_arg0:dispatchEventToCurrentMenu( {
							immediate = true,
							name = "add_weapon_progression_prompt"
						} )
					else
						f4_arg0:dispatchEventToCurrentMenu( {
							immediate = true,
							name = "remove_weapon_progression_prompt"
						} )
					end
				end
			else
				if not CONDITIONS.UsingLoadoutFLC() then
					f4_arg0._currFocus:SetGunsmithEnabled( false )
				end
				f4_arg0:dispatchEventToCurrentMenu( {
					immediate = true,
					name = "remove_gunsmith_prompt"
				} )
				f4_arg0:dispatchEventToCurrentMenu( {
					immediate = true,
					name = "remove_weapon_progression_prompt"
				} )
				f4_arg0:dispatchEventToCurrentMenu( {
					immediate = true,
					name = "remove_firing_range_prompt"
				} )
			end
		else
			f4_arg0:dispatchEventToCurrentMenu( {
				immediate = true,
				name = "remove_gunsmith_prompt"
			} )
			f4_arg0:dispatchEventToCurrentMenu( {
				immediate = true,
				name = "remove_weapon_progression_prompt"
			} )
			if Engine[0x12586A3F4FB490E]() and CONDITIONS.IsFrontendFiringRangeEnabled() then
				f4_arg0:dispatchEventToCurrentMenu( {
					immediate = true,
					name = "add_firing_range_prompt"
				} )
			else
				f4_arg0:dispatchEventToCurrentMenu( {
					immediate = true,
					name = "remove_firing_range_prompt"
				} )
			end
		end
		if CONDITIONS.UsingLoadoutFLC() and f4_arg0._currFocus then
			if f4_arg0._currFocus:IsDisabled() then
				f4_arg0:dispatchEventToCurrentMenu( {
					immediate = true,
					name = "remove_edit_prompt"
				} )
			else
				f4_arg0:dispatchEventToCurrentMenu( {
					immediate = true,
					name = "add_edit_prompt"
				} )
			end
		end
	end
	
	local f4_local1 = function ( f11_arg0, f11_arg1 )
		f11_arg0:addEventHandler( "button_over", function ( f12_arg0, f12_arg1 )
			f11_arg0( f11_arg0 or f11_arg0 )
		end )
	end
	
	local f4_local2 = function ( f9_arg0, f9_arg1 )
		f9_arg0:addEventHandler( "button_over_disable", function ( f10_arg0, f10_arg1 )
			f9_arg0( f9_arg0 or f9_arg0 )
		end )
	end
	
	if not (not f4_arg0._primaryWidget or not f4_arg0._secondaryWidget) or CONDITIONS.UsingLoadoutFLC() then
		if CONDITIONS.UsingLoadoutFLC() then
			if f4_arg0.PrimaryWeapon then
				f4_arg0.PrimaryWeapon.id = "WeaponButtonPrimary"
				if f4_arg0.PrimaryWeapon.GunsmithButton then
					f4_arg0.PrimaryWeapon.GunsmithButton.id = "GunsmithButtonPrimary"
				end
			end
			if f4_arg0.PrimaryWeaponTwo then
				f4_arg0.PrimaryWeaponTwo.id = "WeaponButtonPrimaryTwo"
				if f4_arg0.PrimaryWeaponTwo.GunsmithButton then
					f4_arg0.PrimaryWeaponTwo.GunsmithButton.id = "GunsmithButtonPrimaryTwo"
				end
			end
		else
			if f4_arg0.PrimaryWeapon.WeaponButton then
				f4_arg0.PrimaryWeapon.WeaponButton.id = "WeaponButtonPrimary"
			end
			if f4_arg0.PrimaryWeapon.GunsmithButton then
				f4_arg0.PrimaryWeapon.GunsmithButton.id = "GunsmithButtonPrimary"
			end
			if f4_arg0.SecondaryWeapon and f4_arg0.SecondaryWeapon.WeaponButton then
				f4_arg0.SecondaryWeapon.WeaponButton.id = "WeaponButtonSecondary"
			end
			if f4_arg0.SecondaryWeapon and f4_arg0.SecondaryWeapon.GunsmithButton then
				f4_arg0.SecondaryWeapon.GunsmithButton.id = "GunsmithButtonSecondary"
			end
		end
		if not CONDITIONS.IsMobileOrMobileSim() or CONDITIONS.IsDvarBoolEnabled( 0xD6414817EC2BAE ) then
			if CONDITIONS.UsingLoadoutFLC() then
				f4_arg0._primaryWidget.buttonActionHandler = LOADOUT.GetOpenWeaponSelectFunc( f4_arg0, WEAPON.PrimarySlot, LOADOUT.FLC_ITEM_SLOT_TYPE.SLING, WEAPON.SlingSlot1 )
				f4_arg0._primaryWidget:addEventHandler( "button_action", f4_arg0._primaryWidget.buttonActionHandler )
				local f4_local3 = f4_arg0._primaryWidgetTwo
				if f4_local3 then
					f4_local3.buttonActionHandler = LOADOUT.GetOpenWeaponSelectFunc( f4_arg0, WEAPON.SecondarySlot, LOADOUT.FLC_ITEM_SLOT_TYPE.SLING, WEAPON.SlingSlot2 )
					f4_local3:addEventHandler( "button_action", f4_local3.buttonActionHandler )
				end
			else
				f4_arg0._primaryWidget.buttonActionHandler = LOADOUT.GetOpenWeaponSelectFunc( f4_arg0, WEAPON.PrimarySlot )
				f4_arg0._primaryWidget:addEventHandler( "button_action", f4_arg0._primaryWidget.buttonActionHandler )
				f4_arg0._secondaryWidget.buttonActionHandler = LOADOUT.GetOpenWeaponSelectFunc( f4_arg0, WEAPON.SecondarySlot )
				f4_arg0._secondaryWidget:addEventHandler( "button_action", f4_arg0._secondaryWidget.buttonActionHandler )
			end
		else
			f4_arg0._primaryWidget:addEventHandler( "button_action", function ( f8_arg0, f8_arg1 )
				return true
			end )
			f4_arg0._secondaryWidget:addEventHandler( "button_action", function ( f7_arg0, f7_arg1 )
				return true
			end )
		end
		if f4_arg0._primaryWidget and f4_arg0.PrimaryWeapon then
			f4_local1( f4_arg0._primaryWidget, f4_arg0.PrimaryWeapon )
		end
		if f4_arg0.PrimaryWeapon and f4_arg0.PrimaryWeapon.GunsmithButton then
			f4_local1( f4_arg0.PrimaryWeapon.GunsmithButton, f4_arg0.PrimaryWeapon )
		end
		if f4_arg0._secondaryWidget and f4_arg0.SecondaryWeapon then
			f4_local1( f4_arg0._secondaryWidget, f4_arg0.SecondaryWeapon )
		end
		if f4_arg0.SecondaryWeapon and f4_arg0.SecondaryWeapon.GunsmithButton then
			f4_local1( f4_arg0.SecondaryWeapon.GunsmithButton, f4_arg0.SecondaryWeapon )
		end
		if CONDITIONS.UsingLoadoutFLC() then
			if f4_arg0.PrimaryWeaponTwo and f4_arg0.PrimaryWeaponTwo.GunsmithButton then
				f4_local1( f4_arg0.PrimaryWeaponTwo.GunsmithButton, f4_arg0.PrimaryWeaponTwo )
			end
			local f4_local3 = f4_arg0._primaryWidgetTwo
			local f4_local4 = f4_arg0.PrimaryWeaponTwo
			if f4_arg0._primaryWidgetTwo then
				f4_local1( f4_local3, f4_local4 )
				f4_local2( f4_local3, f4_local4 )
			end
			f4_local2( f4_arg0._primaryWidget, f4_arg0.PrimaryWeapon )
		end
		f4_arg0:addEventHandler( "menu_state_updated", function ( f6_arg0, f6_arg1 )
			if f6_arg1.menuState == LOADOUT.MENU_STATE.loadoutSelect then
				if f4_arg0.PrimaryWeapon and f4_arg0.PrimaryWeapon.GunsmithButton then
					ACTIONS.AnimateSequence( f4_arg0.PrimaryWeapon, "HideGunsmith" )
				end
				if f4_arg0.SecondaryWeapon and f4_arg0.SecondaryWeapon.GunsmithButton then
					ACTIONS.AnimateSequence( f4_arg0.SecondaryWeapon, "HideGunsmith" )
				end
				if f4_arg0.PrimaryWeaponTwo and f4_arg0.PrimaryWeaponTwo.GunsmithButton then
					ACTIONS.AnimateSequence( f4_arg0.PrimaryWeaponTwo, "HideGunsmith" )
				end
				if f4_arg0.SecondaryWeaponTwo and f4_arg0.SecondaryWeaponTwo.GunsmithButton then
					ACTIONS.AnimateSequence( f4_arg0.SecondaryWeaponTwo, "HideGunsmith" )
				end
			end
			ACTIONS.AnimateSequence( f6_arg0, "ButtonUp" )
		end )
		if f4_arg0.FieldUpgradeItem then
			f4_arg0.FieldUpgradeItem.buttonActionHandler = LOADOUT.GetOpenFieldUpgradeFunc( f4_arg0, SUPER.Slot.LEFT )
			f4_arg0.FieldUpgradeItem:addEventHandler( "button_action", f4_arg0.FieldUpgradeItem.buttonActionHandler )
			f4_local1( f4_arg0.FieldUpgradeItem )
			if CONDITIONS.UsingLoadoutFLC() then
				f4_local2( f4_arg0.FieldUpgradeItem )
			end
		end
	elseif f4_arg0.PrimaryWeaponCluster and f4_arg0.SecondaryWeaponCluster then
		f4_arg0.PrimaryWeaponCluster.WeaponButton.id = "WeaponButtonPrimary"
		f4_arg0.PrimaryWeaponCluster.AttachmentsButton.id = "AttachmentsButtonPrimary"
		f4_arg0.PrimaryWeaponCluster.BlueprintStoreButton.id = "BlueprintStoreButtonPrimary"
		f4_arg0.PrimaryWeaponCluster.ChallengesButton.id = "ChallengesButtonPrimary"
		f4_arg0.SecondaryWeaponCluster.WeaponButton.id = "WeaponButtonSecondary"
		f4_arg0.SecondaryWeaponCluster.AttachmentsButton.id = "AttachmentsButtonSecondary"
		f4_arg0.SecondaryWeaponCluster.BlueprintStoreButton.id = "BlueprintStoreButtonSecondary"
		f4_arg0.SecondaryWeaponCluster.ChallengesButton.id = "ChallengesButtonSecondary"
		f4_arg0.PrimaryWeaponCluster.WeaponButton:addEventHandler( "button_action", LOADOUT.GetOpenWeaponSelectFunc( f4_arg0, WEAPON.PrimarySlot ) )
		f4_arg0.SecondaryWeaponCluster.WeaponButton:addEventHandler( "button_action", LOADOUT.GetOpenWeaponSelectFunc( f4_arg0, WEAPON.SecondarySlot ) )
	end
	if f4_arg0.PerkGridItem then
		f4_arg0.PerkGridItem.buttonActionHandler = LOADOUT.GetOpenPerkPackageSelectFunc( f4_arg0 )
		f4_arg0.PerkGridItem:addEventHandler( "button_action", f4_arg0.PerkGridItem.buttonActionHandler )
		f4_arg0.PerkGridItem:SetButtonDisabled( Restrictions.ArePerksRestricted() )
		f4_local1( f4_arg0.PerkGridItem )
	elseif f4_arg0.PerkGridItemCER then
		f4_arg0.PerkGridItemCER.buttonActionHandler = LOADOUT.GetOpenPerkPackageSelectFunc( f4_arg0 )
		f4_arg0.PerkGridItemCER:addEventHandler( "button_action", f4_arg0.PerkGridItemCER.buttonActionHandler )
		f4_arg0.PerkGridItemCER:SetButtonDisabled( Restrictions.ArePerksRestricted() )
		f4_local1( f4_arg0.PerkGridItemCER )
	end
	f4_arg0.EquipmentGridItem.buttonActionHandler = LOADOUT.GetOpenEquipmentSelectFunc( f4_arg0, 0 )
	f4_arg0.EquipmentGridItem:addEventHandler( "button_action", f4_arg0.EquipmentGridItem.buttonActionHandler )
	f4_local1( f4_arg0.EquipmentGridItem )
	f4_arg0.TacticalGridItem.buttonActionHandler = LOADOUT.GetOpenEquipmentSelectFunc( f4_arg0, 1 )
	f4_arg0.TacticalGridItem:addEventHandler( "button_action", f4_arg0.TacticalGridItem.buttonActionHandler )
	f4_local1( f4_arg0.TacticalGridItem )
	if f4_arg0.LoadoutSlotWildcard then
		f4_arg0.LoadoutSlotWildcard.buttonActionHandler = LOADOUT.GetOpenWildcardFunc( f4_arg0 )
		f4_arg0.LoadoutSlotWildcard:addEventHandler( "button_action", f4_arg0.LoadoutSlotWildcard.buttonActionHandler )
		f4_local1( f4_arg0.LoadoutSlotWildcard )
	end
	if CONDITIONS.UsingLoadoutFLC() then
		f4_local2( f4_arg0.EquipmentGridItem )
		f4_local2( f4_arg0.TacticalGridItem )
		local f4_local3 = CONDITIONS.IsMenuInStack( "FiringRangeMenu" )
		if f4_local3 then
			f4_local3 = not Dvar[0x9E5BE3B4BBA4E0E]( 0x12F01C405964386 )
		end
		if f4_arg0.PerkItemVest and not f4_local3 then
			f4_arg0.PerkItemVest.buttonActionHandler = LOADOUT.GetOpenPerkSelectFunc( f4_arg0, PERK.FLCPerkSlot.VEST )
			f4_arg0.PerkItemVest:addEventHandler( "button_action", f4_arg0.PerkItemVest.buttonActionHandler )
			f4_local1( f4_arg0.PerkItemVest )
			f4_local2( f4_arg0.PerkItemVest )
			f4_arg0.PerkItemVest:AddGamepadEventCallback( "button_right_trigger", function ( f5_arg0, f5_arg1 )
				if DataSources.alwaysLoaded.loadout.loadoutMenuState:GetValue( f4_arg0 ) == LOADOUT.MENU_STATE.loadoutEdit and f5_arg0.buttonActionHandler then
					return f5_arg0:buttonActionHandler( f5_arg1 )
				else
					
				end
			end )
		end
		if f4_arg0.PerkItemGloves then
			f4_arg0.PerkItemGloves.buttonActionHandler = LOADOUT.GetOpenPerkSelectFunc( f4_arg0, PERK.FLCPerkSlot.GLOVES )
			f4_arg0.PerkItemGloves:addEventHandler( "button_action", f4_arg0.PerkItemGloves.buttonActionHandler )
			f4_local1( f4_arg0.PerkItemGloves )
			f4_local2( f4_arg0.PerkItemGloves )
		end
		if f4_arg0.PerkItemBoots then
			f4_arg0.PerkItemBoots.buttonActionHandler = LOADOUT.GetOpenPerkSelectFunc( f4_arg0, PERK.FLCPerkSlot.BOOTS )
			f4_arg0.PerkItemBoots:addEventHandler( "button_action", f4_arg0.PerkItemBoots.buttonActionHandler )
			f4_local1( f4_arg0.PerkItemBoots )
			f4_local2( f4_arg0.PerkItemBoots )
		end
		if f4_arg0.PerkItemGearOne then
			f4_arg0.PerkItemGearOne.buttonActionHandler = LOADOUT.GetOpenPerkSelectFunc( f4_arg0, PERK.FLCPerkSlot.GEAR_01 )
			f4_arg0.PerkItemGearOne:addEventHandler( "button_action", f4_arg0.PerkItemGearOne.buttonActionHandler )
			f4_local1( f4_arg0.PerkItemGearOne )
			f4_local2( f4_arg0.PerkItemGearOne )
		end
		if f4_arg0.PerkItemGearTwo then
			f4_arg0.PerkItemGearTwo.buttonActionHandler = LOADOUT.GetOpenPerkSelectFunc( f4_arg0, PERK.FLCPerkSlot.GEAR_02 )
			f4_arg0.PerkItemGearTwo:addEventHandler( "button_action", f4_arg0.PerkItemGearTwo.buttonActionHandler )
			f4_local1( f4_arg0.PerkItemGearTwo )
			f4_local2( f4_arg0.PerkItemGearTwo )
		end
	end
end

local f0_local20 = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0.SetupLoadoutPreview = f0_local0
	f3_arg0.UpdateButtonBackgrounds = f0_local0
	f3_arg0.SetupWeaponModelEvents = f0_local0
	f3_arg0.SetMouseHandling = f0_local0
	f3_arg0.FiringRangeMenuModifications = f0_local0
	if f3_arg0.SetupGridItems == nil then
		f3_arg0.SetupGridItems = f0_local0
	end
	if f3_arg0.UpdateGridItems == nil then
		f3_arg0.UpdateGridItems = f0_local0
	end
	f3_arg0._secondaryCameraType = "loadout_showcase_s"
	f3_arg0._controllerIndex = f3_arg1
	if CONDITIONS.IsMobileOrMobileSim() then
		f3_arg0._primaryWidget = f3_arg0.PrimaryWeapon
		f3_arg0._secondaryWidget = f3_arg0.SecondaryWeapon
	elseif CONDITIONS.UsingLoadoutFLC() then
		f3_arg0._primaryWidget = f3_arg0.PrimaryWeapon
		f3_arg0._primaryWidgetTwo = f3_arg0.PrimaryWeaponTwo
	else
		f3_arg0._primaryWidget = f3_arg0.PrimaryWeapon.WeaponButton
		f3_arg0._secondaryWidget = f3_arg0.SecondaryWeapon.WeaponButton
	end
	if f3_arg0.EquippedWidget then
		f3_arg0.EquippedWidget:InitializeText( Engine[0xED84C33EC5F01EA]( 0x3FDB70668AFDB5E ) )
	end
	if not CONDITIONS.IsMobileOrMobileSim() and CONDITIONS.InFrontend() then
		f3_arg0.updateGunCaseTimer = LUI.UITimer.new( {
			event = "updateGunCase",
			interval = f0_local0
		} )
		f3_arg0:addElement( f3_arg0.updateGunCaseTimer )
	end
	if f3_arg0.SetupButtonEventHandlersAndPrompts == nil then
		f3_arg0.SetupButtonEventHandlersAndPrompts = f0_local0
	end
	f3_arg0:SetupButtonEventHandlersAndPrompts( f3_arg1 )
	if f3_arg0.SetupCustomButtonNavigation == nil then
		f3_arg0.SetupCustomButtonNavigation = f0_local0
	end
	f3_arg0:SetupCustomButtonNavigation( f3_arg1 )
	if CONDITIONS.IsSplitscreen( f3_arg0 ) then
		ACTIONS.AnimateSequence( f3_arg0, "Splitscreen" )
	end
	if not CONDITIONS.IsMobileOrMobileSim() then
		f0_local0( f3_arg0, f3_arg1 )
	end
end

local f0_local21 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.PostLoadShared = f0_local0
end

function LoadoutSelectButtonsBase( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = f1_local0.UIElement.new()
	f1_local1:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1154, 0, 916 )
	f1_local1.id = "LoadoutSelectButtonsBase"
	local f1_local2
	if f1_arg1 then
		f1_local2 = f1_arg1
	else
		f1_local2 = f1_arg1.controllerIndex
	end
	f0_local0( f1_local1, f1_local0.ValidateControllerIndex( f1_local1, f1_local2 ), f1_arg1 )
	return f1_local1
end

MenuBuilder.registerType( 0x59FC7F359C554BD, LoadoutSelectButtonsBase )
LockTable( _M )
