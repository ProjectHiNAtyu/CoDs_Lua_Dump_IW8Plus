-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
UI_CUSTOMIZATION = {
	reservedPropertyNames = {
		nil,
		"classID",
		"requiredInfo"
	}
}
local f0_local0 = function ( f19_arg0, f19_arg1 )
	local f19_local0 = f19_arg0._typeName
	local f19_local1 = UI_CUSTOMIZATION.GenerateCustomizedPropertySetOrderArray( f19_arg0 )
	local f19_local2 = LUI.ShallowCopy( f19_arg1 )
	for f19_local6, f19_local7 in ipairs( f19_local1 ) do
		local f19_local8 = f19_local2[f19_local7.propertyName]
		if f19_local8 and f19_local7.setter then
			f19_local7.setter( f19_arg0, f19_local8 )
			f19_local2[f19_local7.propertyName] = nil
		end
	end
	for f19_local6, f19_local7 in pairs( f19_local2 ) do
		if not LUI.IsItemInArray( UI_CUSTOMIZATION.reservedPropertyNames, f19_local6 ) then
			assert( false, "[" .. f19_local0 .. "] has no setter for property [" .. f19_local6 .. "]. Please check the customized layout configure!" )
		end
	end
end

local f0_local1 = function ( f18_arg0 )
	local f18_local0
	if f18_arg0 ~= nil and f18_arg0 ~= "" then
		f18_local0 = false
	else
		f18_local0 = true
	end
	return f18_local0
end

local f0_local2 = function ( f17_arg0, f17_arg1 )
	local f17_local0
	if f17_arg0.aspect_ratio_high == nil or f17_arg0.aspect_ratio_low == nil or f17_arg0.aspect_ratio_low > f17_arg1 or f17_arg1 >= f17_arg0.aspect_ratio_high then
		f17_local0 = false
	else
		f17_local0 = true
	end
	return f17_local0
end

local f0_local3 = function ( f16_arg0, f16_arg1 )
	local f16_local0
	if f16_arg0.size_high == nil or f16_arg0.size_low == nil or f16_arg0.size_low > f16_arg1 or f16_arg1 >= f16_arg0.size_high then
		f16_local0 = false
	else
		f16_local0 = true
	end
	return f16_local0
end

local f0_local4 = function ( f15_arg0, f15_arg1, f15_arg2 )
	local f15_local0 = nil
	local f15_local1 = assert
	local f15_local2
	if (f15_arg0.aspect_ratio_high == nil or f15_arg0.aspect_ratio_low == nil or f15_arg0.size_high ~= nil or f15_arg0.size_low ~= nil) and (f15_arg0.aspect_ratio_high ~= nil or f15_arg0.aspect_ratio_low ~= nil or f15_arg0.size_high == nil or f15_arg0.size_low == nil) then
		f15_local2 = false
	else
		f15_local2 = true
	end
	f15_local1( f15_local2 )
	if f0_local0( f15_arg0, f15_arg1 ) or f0_local0( f15_arg0, f15_arg2 ) then
		f15_local0 = f15_arg0.layout
		if f15_arg0.children ~= nil then
			for f15_local4, f15_local5 in ipairs( f15_arg0.children ) do
				local f15_local6 = f0_local0( f15_local5, f15_arg1, f15_arg2 )
				if not f0_local0( f15_local6 ) then
					f15_local0 = f15_local6
					break
				end
			end
		end
	end
	return f15_local0
end

local f0_local5 = function ( f14_arg0, f14_arg1, f14_arg2 )
	local f14_local0 = UICustomization[0x31670D89BFEBB1E]( "layout_customization/device_layout_config.json" )
	local f14_local1 = assert
	local f14_local2
	if f14_local0 ~= nil then
		f14_local2 = not f0_local0( f14_local0.layout )
	else
		f14_local2 = false
	end
	f14_local1( f14_local2 )
	f14_local1 = 0
	local f14_local3 = 0
	if 0 < f14_arg0 and 0 < f14_arg1 and 0 < f14_arg2 then
		if f14_arg1 < f14_arg0 then
			f14_local2 = f14_arg0 / f14_arg1
			if not f14_local2 then
				f14_local1 = f14_local2
			end
		end
		f14_local1 = f14_arg1 / f14_arg0
	end
	f14_local2 = f0_local0( f14_local0, f14_local1, f14_local3 )
	assert( not f0_local0( f14_local2 ) )
	return f14_local2
end

local f0_local6 = function ( f13_arg0, f13_arg1 )
	for f13_local3, f13_local4 in pairs( f13_arg1 ) do
		if type( f13_local4 ) == "table" then
			if f13_arg0[f13_local3] == nil then
				f13_arg0[f13_local3] = {}
			end
			f0_local0( f13_arg0[f13_local3], f13_local4 )
		end
		f13_arg0[f13_local3] = f13_local4
	end
end

local f0_local7 = function ( f12_arg0 )
	local f12_local0 = {}
	if not f0_local0( f12_arg0 ) then
		
	else
		
	end
	local f12_local1 = {}
	for f12_local5, f12_local6 in ipairs( f12_local0 ) do
		f0_local0( f12_local1, f12_local6 )
	end
	return f12_local1
end

local f0_local8 = function ( f11_arg0, f11_arg1 )
	f11_arg0.uiCustomizationSettings.widgetNames = {}
	local f11_local0 = Mobile[0x62F3D1C63173F]()
	local f11_local1 = f0_local0( f0_local0( f11_local0.width, f11_local0.height, f11_local0.ppi ) )
	if f11_local1 then
		for f11_local6, f11_local7 in pairs( f11_local1 ) do
			local f11_local8 = UICustomization[0xFC0006C0B327ECB]( f11_local6, f11_local7.classID )
			if f11_local8 and UI_CUSTOMIZATION.GetWidgetTypeIsInteractive( f11_local8.class ) == f11_arg0.uiCustomizationSettings.interactive then
				require( f11_local8.package .. "." .. f11_local8.class )
				local f11_local5 = f11_local7.requiredInfo
				f11_local5.id = f11_local6
				f11_local5.horizontalOffset = f11_local5.horizontalOffset * _1080p
				f11_local5.verticalOffset = f11_local5.verticalOffset * _1080p
				f11_local5.width = f11_local5.width * _1080p
				f11_local5.height = f11_local5.height * _1080p
				f11_arg0[f11_local6] = f11_arg0:AddWidget( f11_local8.class, f11_local5 )
				f0_local0( f11_arg0[f11_local6]._widget, f11_local7 )
				table.insert( f11_arg0.uiCustomizationSettings.widgetNames, f11_local6 )
			end
		end
	end
end

local f0_local9 = function ( f10_arg0 )
	local f10_local0 = Engine[0xEE6F69FEA944B13]()
	local f10_local1 = f10_local0.touchVirtualGamepadLayer.virtualGamepad
	if f10_local1 then
		f10_local1:SetAlpha( f10_arg0 )
	end
end

local f0_local10 = function ( f9_arg0 )
	for f9_local3, f9_local4 in ipairs( f9_arg0.uiCustomizationSettings.widgetNames ) do
		local f9_local5 = f9_arg0[f9_local4]
		f9_local5:SetVisibility( LUI.Visibility.Hidden )
		if f9_local5._widget then
			f9_local5._widget:SetVisibility( LUI.Visibility.Hidden )
		end
	end
	if not f9_arg0.uiCustomizationSettings.visibilityConditions then
		return 
	end
	f9_local0 = false
	f9_local1 = {}
	for f9_local5, f9_local13 in pairs( f9_arg0.uiCustomizationSettings.visibilityConditions ) do
		if f9_local5 == "NormalGameplay" then
			f9_local1 = f9_local13
		end
		local f9_local6 = VISIBILITY_CONDITIONS[f9_local5]
		if f9_local6 and f9_local6.conditionFunc( f9_arg0.uiCustomizationSettings.controllerIndex ) then
			for f9_local10, f9_local11 in ipairs( f9_local13 ) do
				local f9_local12 = f9_arg0[f9_local11]
				if f9_local12 then
					f9_local12:SetVisibility( LUI.Visibility.Visible )
					if f9_local12._widget then
						f9_local12._widget:SetVisibility( LUI.Visibility.Visible )
					end
				end
			end
			if f9_local6 == VISIBILITY_CONDITIONS.Flashbanged then
				f0_local0( 0 )
			else
				f0_local0( 1 )
			end
			f9_local0 = true
		end
	end
	if not f9_local0 and f9_local1 then
		for f9_local5, f9_local13 in ipairs( f9_local1 ) do
			local f9_local6 = f9_arg0[f9_local13]
			if f9_local6 and f9_local6:GetVisibility() ~= LUI.Visibility.Visible then
				f9_local6:SetVisibility( LUI.Visibility.Visible )
				if f9_local6._widget then
					f9_local6._widget:SetVisibility( LUI.Visibility.Visible )
				end
			end
		end
		f0_local0( 1 )
	end
end

local f0_local11 = function ( f8_arg0 )
	LUI.HUD.UpdateWidgetsVisibility( f8_arg0 )
	f0_local0( f8_arg0 )
end

UI_CUSTOMIZATION.SetupUICustomization = function ( f7_arg0, f7_arg1, f7_arg2 )
	f7_arg0.UpdateWidgetsVisibility = f0_local0
	f7_arg0.uiCustomizationSettings = {}
	f7_arg0.uiCustomizationSettings.controllerIndex = f7_arg1
	f7_arg0.uiCustomizationSettings.interactive = f7_arg2
	f7_arg0.uiCustomizationSettings.visibilityConditions = UICustomization[0x95D487E95A07EC5]()
	f7_arg0.uiCustomizationSettings.widgetNames = {}
	f0_local0( f7_arg0, f7_arg1 )
end

UI_CUSTOMIZATION.customizableWidgetTypes = {}
UI_CUSTOMIZATION.SetWidgetTypeIsInteractive = function ( f6_arg0, f6_arg1 )
	if not UI_CUSTOMIZATION.customizableWidgetTypes[f6_arg0] then
		UI_CUSTOMIZATION.customizableWidgetTypes[f6_arg0] = {}
	end
	UI_CUSTOMIZATION.customizableWidgetTypes[f6_arg0].interactive = f6_arg1
end

UI_CUSTOMIZATION.GetWidgetTypeIsInteractive = function ( f5_arg0 )
	if UI_CUSTOMIZATION.customizableWidgetTypes[f5_arg0] then
		return UI_CUSTOMIZATION.customizableWidgetTypes[f5_arg0].interactive
	else
		assert( false, "[" .. f5_arg0 .. "] has no customization data. Please check whether it's a customizable widget." )
		return nil
	end
end

UI_CUSTOMIZATION.AddOrModifySingleProperty = function ( f4_arg0, f4_arg1, f4_arg2, f4_arg3 )
	if not UI_CUSTOMIZATION.customizableWidgetTypes[f4_arg0] then
		UI_CUSTOMIZATION.customizableWidgetTypes[f4_arg0] = {}
		UI_CUSTOMIZATION.customizableWidgetTypes[f4_arg0].propertySetters = {}
		UI_CUSTOMIZATION.customizableWidgetTypes[f4_arg0].propertyDependencies = {}
	elseif not UI_CUSTOMIZATION.customizableWidgetTypes[f4_arg0].propertySetters then
		UI_CUSTOMIZATION.customizableWidgetTypes[f4_arg0].propertySetters = {}
		UI_CUSTOMIZATION.customizableWidgetTypes[f4_arg0].propertyDependencies = {}
	end
	if UI_CUSTOMIZATION.customizableWidgetTypes[f4_arg0].propertySetters[f4_arg1] then
		assert( false, "[" .. f4_arg0 .. "] sets duplicate setters for property [" .. f4_arg1 .. "]." )
		return 
	elseif not f4_arg2 then
		assert( false, "[" .. f4_arg0 .. "] assigns nil to the setter of property [" .. f4_arg1 .. "]!" )
		return 
	else
		UI_CUSTOMIZATION.customizableWidgetTypes[f4_arg0].propertySetters[f4_arg1] = f4_arg2
		UI_CUSTOMIZATION.customizableWidgetTypes[f4_arg0].propertyDependencies[f4_arg1] = f4_arg3
	end
end

local f0_local12 = function ( f3_arg0, f3_arg1 )
	local f3_local0 = {}
	if f3_arg1 then
		f3_local0 = f0_local0( f3_arg1.id, f3_arg1.super )
	end
	if not UI_CUSTOMIZATION.customizableWidgetTypes[f3_arg0] or not UI_CUSTOMIZATION.customizableWidgetTypes[f3_arg0].propertySetters then
		if f3_arg1 then
			return f3_local0
		else
			return {}
		end
	end
	local f3_local1 = UI_CUSTOMIZATION.customizableWidgetTypes[f3_arg0].propertySetters
	for f3_local5, f3_local6 in pairs( f3_local0 ) do
		if not f3_local1[f3_local5] then
			f3_local1[f3_local5] = f3_local6
		end
	end
	return f3_local1
end

local f0_local13 = function ( f2_arg0, f2_arg1, f2_arg2, f2_arg3 )
	if LUI.IsItemInArray( f2_arg2, f2_arg0 ) then
		return false
	elseif LUI.IsItemInArray( f2_arg3, f2_arg0 ) then
		return true
	elseif not f2_arg1 then
		table.insert( f2_arg3, f2_arg0 )
		return true
	end
	local f2_local0 = f2_arg1[f2_arg0]
	if not f2_local0 or #f2_local0 == 0 then
		table.insert( f2_arg3, f2_arg0 )
		return true
	end
	table.insert( f2_arg2, f2_arg0 )
	for f2_local4, f2_local5 in ipairs( f2_local0 ) do
		if not f0_local0( f2_local5, f2_arg1, f2_arg2, f2_arg3 ) then
			return false
		end
	end
	table.remove( f2_arg2 )
	table.insert( f2_arg3, f2_arg0 )
	return true
end

UI_CUSTOMIZATION.GenerateCustomizedPropertySetOrderArray = function ( f1_arg0 )
	local f1_local0 = f1_arg0._typeName
	local f1_local1 = LUI.ShallowCopy( f0_local0( f1_local0, f1_arg0:GetClass() ) )
	local f1_local2 = {}
	if not UI_CUSTOMIZATION.customizableWidgetTypes[f1_local0] then
		for f1_local6, f1_local7 in pairs( f1_local1 ) do
			table.insert( f1_local2, {
				propertyName = f1_local6,
				setter = f1_local7
			} )
		end
		return f1_local2
	else
		local f1_local3 = {}
		local f1_local4 = UI_CUSTOMIZATION.customizableWidgetTypes[f1_local0].propertyDependencies
		for f1_local8, f1_local9 in pairs( f1_local1 ) do
			if not LUI.IsItemInArray( f1_local3, f1_local8 ) and not f0_local0( f1_local8, f1_local4, {}, f1_local3 ) then
				assert( false, "[" .. f1_local0 .. "] Customizable properties has closed cycled dependencies!" )
			end
		end
		for f1_local8, f1_local9 in ipairs( f1_local3 ) do
			local f1_local10 = f1_local1[f1_local9]
			if f1_local10 then
				table.insert( f1_local2, {
					propertyName = f1_local9,
					setter = f1_local10
				} )
			else
				assert( false, "[" .. f1_local0 .. "] has a dependent property [" .. f1_local9 .. "] which isn't has a setter!" )
			end
		end
		return f1_local2
	end
end

