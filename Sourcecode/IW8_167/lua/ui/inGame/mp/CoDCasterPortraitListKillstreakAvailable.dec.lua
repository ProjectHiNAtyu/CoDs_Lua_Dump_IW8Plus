-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:52
module( ..., package.seeall )
local f0_local0 = "icon_perk_slot_specialist_ui"
function AddNewKillstreakToQueue( f7_arg0, f7_arg1, f7_arg2, f7_arg3 )
	if f7_arg0.Animating then
		table.insert( f7_arg0.KillstreakQueue, 1, {
			index = f7_arg1,
			isSpecialist = f7_arg2,
			isFieldUpgrade = f7_arg3
		} )
	else
		PlayNewKillstreakAnimation( f7_arg0, f7_arg1, f7_arg2, f7_arg3 )
	end
end

function PlayNewKillstreakAnimation( f6_arg0, f6_arg1, f6_arg2, f6_arg3 )
	f6_arg0.Animating = true
	local f6_local0 = CSV.streaks
	local f6_local1 = f6_local0.cols.icon
	if f6_arg2 then
		f6_local0 = CSV.perks
		f6_local1 = f6_local0.cols.image
	elseif f6_arg3 then
		f6_local0 = CSV.supers
		f6_local1 = f6_local0.cols.uiImageSmall
	end
	local f6_local2 = nil
	if f6_arg1 == -1 and f6_arg2 then
		f6_local2 = f0_local0
	else
		f6_local2 = StringTable.DIFCHIGDFB( f6_local0.file, f6_local0.cols.index, f6_arg1, f6_local1 )
	end
	if f6_local2 ~= "" then
		f6_arg0.KillstreakImage:setImage( RegisterMaterial( f6_local2 ), 0 )
	end
	ACTIONS.AnimateSequence( f6_arg0, "NewKillstreak" )
end

function OnKillstreakAnimationComplete( f5_arg0 )
	local f5_local0 = f5_arg0:getParent()
	f5_local0.Animating = false
	if 0 < #f5_local0.KillstreakQueue then
		local f5_local1 = table.remove( f5_local0.KillstreakQueue )
		PlayNewKillstreakAnimation( f5_local0, f5_local1.index, f5_local1.isSpecialist, f5_local1.isFieldUpgrade )
	end
end

function PostLoadFunc( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg0.Animating = false
	f4_arg0.KillstreakQueue = {}
	f4_arg0.AddNewKillstreakToQueue = AddNewKillstreakToQueue
end

function CoDCasterPortraitListKillstreakAvailable( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 120 * _1080p, 0, 116 * _1080p )
	self.id = "CoDCasterPortraitListKillstreakAvailable"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local KillstreakBG = nil
	
	KillstreakBG = LUI.UIImage.new()
	KillstreakBG.id = "KillstreakBG"
	KillstreakBG:SetAlpha( 0, 0 )
	KillstreakBG:setImage( RegisterMaterial( "codcaster_portraitlist_killstreak_background" ), 0 )
	KillstreakBG:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 122, 0, _1080p * 116 )
	self:addElement( KillstreakBG )
	self.KillstreakBG = KillstreakBG
	
	local AvailableText = nil
	
	AvailableText = LUI.UIStyledText.new()
	AvailableText.id = "AvailableText"
	AvailableText:SetRGBFromInt( 0, 0 )
	AvailableText:SetAlpha( 0, 0 )
	AvailableText:setText( Engine.CBBHFCGDIC( "MENU/SOCIAL_AVAILABLE" ), 0 )
	AvailableText:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	AvailableText:SetWordWrap( false )
	AvailableText:SetAlignment( LUI.Alignment.Center )
	AvailableText:SetAutoScrollStyle( LUI.UIStyledText.AutoScrollStyle.ScrollV )
	AvailableText:SetStartupDelay( 1000 )
	AvailableText:SetLineHoldTime( 400 )
	AvailableText:SetAnimMoveTime( 320 )
	AvailableText:SetAnimMoveSpeed( 20 )
	AvailableText:SetEndDelay( 1000 )
	AvailableText:SetCrossfadeTime( 400 )
	AvailableText:SetFadeInTime( 300 )
	AvailableText:SetFadeOutTime( 300 )
	AvailableText:SetMaxVisibleLines( 1 )
	AvailableText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1, _1080p * 121, _1080p * 3, _1080p * 23 )
	self:addElement( AvailableText )
	self.AvailableText = AvailableText
	
	local KillstreakImage = nil
	
	KillstreakImage = LUI.UIImage.new()
	KillstreakImage.id = "KillstreakImage"
	KillstreakImage:SetAlpha( 0, 0 )
	KillstreakImage:setImage( RegisterMaterial( "hud_icon_killstreak_airstrike" ), 0 )
	KillstreakImage:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 21, _1080p * 101, _1080p * 32, _1080p * 112 )
	self:addElement( KillstreakImage )
	self.KillstreakImage = KillstreakImage
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	KillstreakBG:RegisterAnimationSequence( "NewKillstreak", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 3
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 0,
			duration = 3640,
			property = TWEEN_PROPERTY.Top
		},
		{
			value = 1,
			duration = 20,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 4.667261642226141E-62,
			duration = -8,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			duration = 260,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 116
		},
		{
			value = 1,
			duration = 3620,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -8,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 0,
			duration = 3400,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			duration = 3380,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 116
		},
		{
			value = 4.667261642226141E-62,
			duration = -58,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			duration = 310,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 3
		},
		{
			value = 0,
			duration = 310,
			property = TWEEN_PROPERTY.Alpha,
			onComplete = OnKillstreakAnimationComplete
		},
		{
			value = 0,
			duration = 160,
			property = TWEEN_PROPERTY.Glitch_Amount
		}
	} )
	AvailableText:RegisterAnimationSequence( "NewKillstreak", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 290,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 0,
			duration = 290,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 4.667261642226141E-62,
			duration = 210,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 1,
			duration = 440,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 230,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 1,
			duration = 2910,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 2910,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 4.667261642226141E-62,
			duration = -58,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 0,
			duration = 130,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 160,
			property = TWEEN_PROPERTY.Glitch_Amount
		}
	} )
	KillstreakImage:RegisterAnimationSequence( "NewKillstreak", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 290,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 0,
			duration = 290,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 4.667261642226141E-62,
			duration = 210,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 1,
			duration = 440,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 230,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 1,
			duration = 2910,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 2910,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 4.667261642226141E-62,
			duration = -58,
			property = TWEEN_PROPERTY.Glitch_Amount
		},
		{
			value = 0,
			duration = 130,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 160,
			property = TWEEN_PROPERTY.Glitch_Amount
		}
	} )
	self._sequences.NewKillstreak = function ()
		menu:AnimateSequence( "NewKillstreak" )
		menu:AnimateSequence( "NewKillstreak" )
		menu:AnimateSequence( "NewKillstreak" )
	end
	
	PostLoadFunc( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "CoDCasterPortraitListKillstreakAvailable", CoDCasterPortraitListKillstreakAvailable )
LockTable( _M )
