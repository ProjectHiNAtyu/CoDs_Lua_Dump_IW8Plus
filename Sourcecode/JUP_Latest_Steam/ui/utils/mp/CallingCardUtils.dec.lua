-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
CallingCardUtils = {
	BASE_CARD_ORDER_INDEX = 1,
	MASTERY_CARD_ORDER_INDEX = 2,
	PRESTIGE_MASTERY_CARD_ORDER_INDEX = 5,
	MAX_FAVORITES = 6,
	UPDATE_CALLING_CARD_FAVORITES_PROMPT_ACTION = "update_calling_card_favorites",
	Categories = {
		VICTORY = 2,
		CORE = 1
	},
	CardSource = {
		INCENTIVE = "INCENTIVE",
		STORE = "STORE/BUNDLE",
		BATTLEPASS = "BATTLEPASS",
		CHALLENGE = "CHALLENGE/MISSION",
		NONE = "NONE"
	},
	GameModes = {
		OB = 3,
		SHARED = 1,
		MP = 2,
		BR = 4
	},
	SortOptions = {
		LOCKED = 4,
		ANIMATED = 5,
		ALPHABETICAL = 2,
		MASTERY = 3,
		DEFAULT = 9,
		STORE = 7,
		BATTLEPASS = 6,
		UNLOCKED = 1,
		NEWEST = 8
	},
	SortOptionsData = {
		[CallingCardUtils.SortOptions.UNLOCKED] = {
			string = 0x7171A6B1C75AD07,
			parameter = "isUnlocked"
		},
		[CallingCardUtils.SortOptions.ALPHABETICAL] = {
			string = 0xFF806753942C879,
			parameter = nil
		},
		[CallingCardUtils.SortOptions.MASTERY] = {
			string = 0xE367FB9732C8941,
			parameter = "isMastery"
		},
		[CallingCardUtils.SortOptions.LOCKED] = {
			string = 0xB17C21CA3749A30,
			parameter = nil
		},
		[CallingCardUtils.SortOptions.ANIMATED] = {
			string = 0x2207BDDE056D7BB,
			parameter = "isAnimated"
		},
		[CallingCardUtils.SortOptions.BATTLEPASS] = {
			string = 0x6D11661049A0B04,
			parameter = "isBattlepass"
		},
		[CallingCardUtils.SortOptions.STORE] = {
			string = 0x1D9CF09C78F2DE9,
			parameter = "isStore"
		},
		[CallingCardUtils.SortOptions.NEWEST] = {
			string = 0x7DCEA17F769B15A,
			parameter = nil
		},
		[CallingCardUtils.SortOptions.DEFAULT] = {
			string = 0xBCD4CAC81080D24,
			parameter = "order"
		}
	},
	SortAllOptionsList = {
		CallingCardUtils.SortOptions.DEFAULT,
		CallingCardUtils.SortOptions.ALPHABETICAL,
		CallingCardUtils.SortOptions.MASTERY,
		CallingCardUtils.SortOptions.ANIMATED,
		CallingCardUtils.SortOptions.NEWEST
	},
	SortPremiumOptionsList = {
		CallingCardUtils.SortOptions.DEFAULT,
		CallingCardUtils.SortOptions.UNLOCKED,
		CallingCardUtils.SortOptions.LOCKED,
		CallingCardUtils.SortOptions.ALPHABETICAL,
		CallingCardUtils.SortOptions.ANIMATED,
		CallingCardUtils.SortOptions.BATTLEPASS,
		CallingCardUtils.SortOptions.STORE
	},
	SortMasteryOptionsList = {
		CallingCardUtils.SortOptions.DEFAULT,
		CallingCardUtils.SortOptions.ALPHABETICAL
	},
	FilterOptions = {
		ShowFavorites = {
			value = true,
			name = 0x7904DA74EECCBBD
		},
		ShowUnlocked = {
			value = true,
			name = 0x5E23F9913381FC3
		},
		ShowLocked = {
			value = true,
			name = 0xE10813BA2A28138
		},
		ShowTracked = {
			value = true,
			name = 0xDBCACA3B182F8C3
		},
		ShowPrestiges = {
			value = true,
			name = 0xAE7007450BF8D0F
		},
		ShowChallenges = {
			value = true,
			name = 0x501423A6742B8B8
		},
		ShowMultiplayerChallenges = {
			value = true,
			name = 0x4CC7B5E3E7C3261
		},
		ShowOutbreakChallenges = {
			value = true,
			name = 0x51C75135B8DBEF8
		},
		ShowOthers = {
			value = true,
			name = 0xB2127548DE28C2B
		}
	},
	FilterOptionsList = {
		nil,
		"ShowFavorites",
		"ShowUnlocked",
		"ShowLocked",
		"ShowTracked",
		"ShowPrestiges",
		"ShowChallenges",
		"ShowOthers"
	},
	FilterMasteryOptionsList = {
		nil,
		"ShowFavorites",
		"ShowTracked",
		"ShowOthers"
	},
	FilterPrestigeOptionsList = {
		nil,
		"ShowFavorites",
		"ShowTracked",
		"ShowMultiplayerChallenges",
		"ShowOutbreakChallenges",
		"ShowOthers"
	},
	GameModesRef = {
		MP|LP_MP|BR|LP_BR|HC|DMZ = CallingCardUtils.GameModes.SHARED,
		MP|LP_MP|HC = CallingCardUtils.GameModes.MP,
		OB = CallingCardUtils.GameModes.OB,
		BR = CallingCardUtils.GameModes.BR
	},
	GameModeOptions = {
		[CallingCardUtils.GameModes.SHARED] = {
			image = "ui_callingcards_shared_button_image",
			name = 0x7DCDAD8F6280329
		},
		[CallingCardUtils.GameModes.MP] = {
			image = "ui_callingcards_jup_button_image",
			name = 0xAF73AB553DAE0A7
		},
		[CallingCardUtils.GameModes.OB] = {
			image = "ui_callingcards_smallbutton_zm",
			name = 0x51C75135B8DBEF8
		},
		[CallingCardUtils.GameModes.BR] = {
			image = "ui_callingcards_wz_button_image",
			name = 0xB161446CF0C30D
		}
	},
	CallingCardsTabs = {
		MasteryTabs = {
			Engine[0xED84C33EC5F01EA]( 0x7DCDAD8F6280329 ),
			Engine[0xED84C33EC5F01EA]( 0xE73EDF003485D20 ),
			Engine[0xED84C33EC5F01EA]( 0x51C75135B8DBEF8 ),
			[1] = ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xB161446CF0C30D ) )
		},
		PrestigeTabs = {
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x1335B8FCD34C968 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x1335E8FCD34CE81 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x1335D8FCD34CCCE ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x133608FCD34D1E7 ) ),
			ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x1335F8FCD34D034 ) ),
			[2] = ToUpperCase( Engine[0xED84C33EC5F01EA]( 0x133628FCD34D54D ) )
		}
	},
	EmptyCardData = {
		salvage = 0,
		name = nil,
		index = 0,
		image = "ui_shared_transparent",
		season = 0,
		unlockString = nil,
		isBattlepass = false,
		hideInUI = false,
		isStore = false,
		isPremium = false,
		ref = "none",
		isChallenge = false,
		license = 0,
		cost = 0,
		rarity = 0,
		isUnlocked = true,
		cardSource = "NONE",
		availableOffline = true,
		botInvalid = true,
		hiddenWhenLocked = false,
		lootID = nil
	},
	OriginProject = {
		JUP = 2,
		IW9 = 1
	},
	ResetFilterOptions = function ()
		for f113_local3, f113_local4 in pairs( CallingCardUtils.FilterOptions ) do
			f113_local4.value = true
		end
	end,
	GetFilterOptionsFromNamesList = function ( f112_arg0 )
		local f112_local0 = {}
		for f112_local4, f112_local5 in ipairs( f112_arg0 ) do
			f112_local0[f112_local5] = CallingCardUtils.FilterOptions[f112_local5]
		end
		return f112_local0
	end,
	CallingCardIDDataSource = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".backgroundIndex" ),
	GetPlayerCardListBundle = function ()
		local f111_local0 = Game[0x83E0D59EFF44E21]()
		f111_local0 = f111_local0[0x2999505101F634A]
		if f111_local0 then
			return Engine[0xCDBE573031E4389]( 0xFE358AA3A680901 .. f111_local0 )
		else
			
		end
	end,
	GetDefaultCallingCardRef = function ()
		local f110_local0 = CallingCardUtils.GetPlayerCardListBundle()
		if f110_local0 then
			return f110_local0[0xA82D306E4B162C1]
		else
			return LOOT.PlayerCardNoneValue
		end
	end,
	GetSortValue = function ()
		return CallingCardUtils.SortOptionValue
	end,
	SetSortValue = function ( f108_arg0 )
		CallingCardUtils.SortOptionValue = f108_arg0
	end,
	GetFilterValue = function ( f107_arg0, f107_arg1 )
		if f107_arg0 and f107_arg0[f107_arg1] then
			return f107_arg0[f107_arg1].value
		else
			
		end
	end,
	SetFilterValue = function ( f106_arg0, f106_arg1, f106_arg2 )
		if f106_arg0 and f106_arg0[f106_arg1] then
			f106_arg0[f106_arg1].value = f106_arg2
		end
	end
}
local f0_local0 = function ()
	if not PROJECT[0x5A05E13AC947C99][0xE46331E6D2A10B7] then
		local f105_local0 = {}
		local f105_local1 = {}
		local f105_local2 = Engine[0x6093D047200548]
		local f105_local3 = CallingCardUtils.GetPlayerCardListBundle()
		if f105_local3 then
			for f105_local8, f105_local9 in ipairs( f105_local3[0x2999505101F634A] ) do
				local f105_local10 = f105_local9[0xF16CB3217CA8A9E]
				if f105_local10 then
					local f105_local7 = f105_local2( 0x7F92C202407E2AD .. f105_local10 )
					f105_local7 = f105_local7[0x28887F70BF5EBA]
					if f105_local7 then
						f105_local0[f105_local7] = f105_local8
						f105_local1[f105_local10] = f105_local7
					end
				end
			end
		end
		PROJECT[0x5A05E13AC947C99][0xE46331E6D2A10B7] = f105_local0
		PROJECT[0x5A05E13AC947C99][0x87471FBE55AD529] = f105_local1
	end
end

local f0_local1 = function ( f104_arg0 )
	local f104_local0 = PROJECT[0x5A05E13AC947C99][0xE46331E6D2A10B7][f104_arg0]
	if f104_local0 == nil then
		return 
	else
		local f104_local1 = CallingCardUtils.GetPlayerCardListBundle()
		return f104_local0, f104_local1[0x2999505101F634A][f104_local0]
	end
end

CallingCardUtils.FindPlayerCardGivenRef = function ( f103_arg0 )
	if f103_arg0 ~= nil then
		f0_local0()
		local f103_local0 = PROJECT[0x5A05E13AC947C99][0x87471FBE55AD529][f103_arg0]
		if f103_local0 then
			local f103_local1, f103_local2 = f0_local0( f103_local0 )
			if f103_local1 ~= nil then
				return CallingCardUtils.BuildCallingCard( f103_local2, Engine[0x6093D047200548]( 0x7F92C202407E2AD .. f103_local2[0xF16CB3217CA8A9E] ), f103_local1 )
			end
		end
	end
	return CallingCardUtils.EmptyCardData
end

CallingCardUtils.FindPlayerCardGivenLootId = function ( f102_arg0 )
	if f102_arg0 and f102_arg0 ~= -1 then
		f0_local0()
		local f102_local0, f102_local1 = f0_local0( f102_arg0 )
		if f102_local0 ~= nil then
			return CallingCardUtils.BuildCallingCard( f102_local1, Engine[0x6093D047200548]( 0x7F92C202407E2AD .. f102_local1[0xF16CB3217CA8A9E] ), f102_local0 )
		end
		local f102_local2 = CallingCardUtils.GetPlayerCardListBundle()
		if f102_local2 then
			local f102_local3 = f102_local2[0x2999505101F634A]
			if f102_local3 then
				local f102_local4 = f102_local3[f102_arg0]
				if f102_local4 and f102_local4[0xF16CB3217CA8A9E] then
					return CallingCardUtils.BuildCallingCard( f102_local4, Engine[0x6093D047200548]( 0x7F92C202407E2AD .. f102_local4[0xF16CB3217CA8A9E] ), f102_arg0 - 1 )
				end
			end
		end
	end
	return CallingCardUtils.EmptyCardData
end

CallingCardUtils.GetAllPlayerCards = function ( f101_arg0 )
	local f101_local0 = {}
	local f101_local1 = CallingCardUtils.GetPlayerCardListBundle()
	if f101_local1 then
		for f101_local7, f101_local8 in ipairs( f101_local1[0x2999505101F634A] ) do
			if f101_local8[0xF16CB3217CA8A9E] then
				local f101_local5 = Engine[0x6093D047200548]( 0x7F92C202407E2AD .. f101_local8[0xF16CB3217CA8A9E] )
				if f101_local5[0x4BCADBA8E631B86] then
					local f101_local6 = LOOT.IsUnlockedWithID( f101_arg0, f101_local5[0x28887F70BF5EBA] )
					if f101_local6 or not f101_local6 and not f101_local5[0xB948E07290E363] then
						table.insert( f101_local0, CallingCardUtils.BuildCallingCard( f101_local8, f101_local5, f101_local7 ) )
					end
				end
			end
		end
	end
	return f101_local0
end

local f0_local2 = {
	image = function ( f100_arg0, f100_arg1 )
		local f100_local0 = f100_arg1[0xAB612888528489A]
		if not f100_local0 then
			f100_local0 = CallingCardUtils.EmptyCardData.image
		end
		return f100_local0
	end,
	ref = function ( f99_arg0, f99_arg1 )
		local f99_local0 = f99_arg0[0xF16CB3217CA8A9E]
		if not f99_local0 then
			f99_local0 = CallingCardUtils.EmptyCardData.ref
		end
		return f99_local0
	end,
	lootID = function ( f98_arg0, f98_arg1 )
		local f98_local0 = f98_arg1[0x28887F70BF5EBA]
		if not f98_local0 then
			f98_local0 = CallingCardUtils.EmptyCardData.lootID
		end
		return f98_local0
	end,
	availableProjects = function ( f97_arg0, f97_arg1 )
		return f97_arg1[0x429E8B8C45B9CBA]
	end,
	name = function ( f96_arg0, f96_arg1 )
		local f96_local0 = f96_arg1[0x4BCADBA8E631B86]
		if not f96_local0 then
			f96_local0 = CallingCardUtils.EmptyCardData.name
		end
		return f96_local0
	end,
	botInvalid = function ( f95_arg0, f95_arg1 )
		local f95_local0 = f95_arg1[0xBE47FB8C17A90ED]
		if not f95_local0 then
			f95_local0 = CallingCardUtils.EmptyCardData.botInvalid
		end
		return f95_local0
	end,
	hideInUI = function ( f94_arg0, f94_arg1 )
		local f94_local0 = f94_arg1[0xAED63DFE5400760]
		if not f94_local0 then
			f94_local0 = CallingCardUtils.EmptyCardData.hideInUI
		end
		return f94_local0
	end,
	unlockString = function ( f93_arg0, f93_arg1 )
		local f93_local0 = f93_arg1[0x303083A60947F08]
		if not f93_local0 then
			f93_local0 = CallingCardUtils.EmptyCardData.unlockString
		end
		return f93_local0
	end,
	availableOffline = function ( f92_arg0, f92_arg1 )
		local f92_local0 = f92_arg1[0x5B6BD358EE022AF]
		if not f92_local0 then
			f92_local0 = CallingCardUtils.EmptyCardData.availableOffline
		end
		return f92_local0
	end,
	cost = function ( f91_arg0, f91_arg1 )
		local f91_local0 = f91_arg1[0xBEF0691197C9F78]
		if not f91_local0 then
			f91_local0 = CallingCardUtils.EmptyCardData.cost
		end
		return f91_local0
	end,
	salvage = function ( f90_arg0, f90_arg1 )
		local f90_local0 = f90_arg1[0x751FD9AF0FF5A0A]
		if not f90_local0 then
			f90_local0 = CallingCardUtils.EmptyCardData.salvage
		end
		return f90_local0
	end,
	license = function ( f89_arg0, f89_arg1 )
		local f89_local0 = f89_arg1[0x1C81591587FA9C4]
		if not f89_local0 then
			f89_local0 = CallingCardUtils.EmptyCardData.license
		end
		return f89_local0
	end,
	isPremium = function ( f88_arg0, f88_arg1 )
		local f88_local0 = f88_arg1[0xBB46BEFB1597F0E]
		if not f88_local0 then
			f88_local0 = CallingCardUtils.EmptyCardData.isPremium
		end
		return f88_local0
	end,
	cardSource = function ( f87_arg0, f87_arg1 )
		local f87_local0 = f87_arg1[0x6385A4D2C40E57A]
		if not f87_local0 then
			f87_local0 = CallingCardUtils.EmptyCardData.cardSource
		end
		return f87_local0
	end,
	rarity = function ( f86_arg0, f86_arg1 )
		local f86_local0 = LOOT.RarityStrings[f86_arg1[0x3A56EF37819B0CA]]
		if not f86_local0 then
			f86_local0 = CallingCardUtils.EmptyCardData.rarity
		end
		return f86_local0
	end,
	season = function ( f85_arg0, f85_arg1 )
		local f85_local0 = LOOT.GetSeasonFromLicense
		local f85_local1 = f85_arg1[0x1C81591587FA9C4]
		if not f85_local1 then
			f85_local1 = CallingCardUtils.EmptyCardData.license
		end
		local f85_local2 = f85_arg1[0xBB46BEFB1597F0E]
		if not f85_local2 then
			f85_local2 = CallingCardUtils.EmptyCardData.isPremium
		end
		return f85_local0( f85_local1, f85_local2 )
	end,
	isAnimated = function ( f84_arg0, f84_arg1 )
		local f84_local0 = CallingCardUtils.GetCardIsAnimated
		local f84_local1 = f84_arg1[0xAB612888528489A]
		if not f84_local1 then
			f84_local1 = CallingCardUtils.EmptyCardData.image
		end
		return f84_local0( f84_local1 )
	end,
	isHiddenWhenLocked = function ( f83_arg0, f83_arg1 )
		return f83_arg1[0xB948E07290E363]
	end,
	projectCompatibilityTagsIsWZ2 = function ( f82_arg0, f82_arg1 )
		return f82_arg1[0x2B7C2F16F5DE78]
	end,
	projectCompatibilityTagsIsIW9 = function ( f81_arg0, f81_arg1 )
		return f81_arg1[0x2AAED2F3324FA3E]
	end,
	projectCompatibilityTagsIsMGL = function ( f80_arg0, f80_arg1 )
		return f80_arg1[0x67C662F47C3DF69]
	end,
	projectCompatibilityTagsIsJUP = function ( f79_arg0, f79_arg1 )
		return f79_arg1[0xB637B2F2F6A4836]
	end,
	gameModeCompatibilityTagsIsMP = function ( f78_arg0, f78_arg1 )
		return f78_arg1[0x4BE03A157E66294]
	end,
	gameModeCompatibilityTagsIsOB = function ( f77_arg0, f77_arg1 )
		return f77_arg1[0x4C4FDA157EC7710]
	end,
	gameModeCompatibilityTagsIsMOBILE = function ( f76_arg0, f76_arg1 )
		return f76_arg1[0x5A1156CD7FFD23B]
	end,
	gameModeCompatibilityTagsIsBR = function ( f75_arg0, f75_arg1 )
		return f75_arg1[0x4D5EFA157FAD279]
	end,
	gameModeCompatibilityTagsIsDMZ = function ( f74_arg0, f74_arg1 )
		return f74_arg1[0x4BE8A2889ECE7FC]
	end
}
local f0_local3 = {
	__index = function ( f73_arg0, f73_arg1 )
		local f73_local0 = rawget( f73_arg0, f73_arg1 )
		if f73_local0 then
			return f73_local0
		else
			local f73_local1 = rawget( f73_arg0, "__playerCard" )
			local f73_local2 = rawget( f73_arg0, "__playerCardBundle" )
			local f73_local3 = f0_local0[f73_arg1]
			if f73_local3 ~= nil then
				return f73_local3( f73_local1, f73_local2 )
			else
				
			end
		end
	end
}
CallingCardUtils.BuildCallingCard = function ( f72_arg0, f72_arg1, f72_arg2 )
	return setmetatable( {
		__playerCard = f72_arg0,
		__playerCardBundle = f72_arg1,
		index = f72_arg2
	}, f0_local0 )
end

CallingCardUtils.GetPlayerCardDataForRef = function ( f71_arg0 )
	return CallingCardUtils.FindPlayerCardGivenRef( f71_arg0 )
end

CallingCardUtils.GetPlayerCardDataForID = function ( f70_arg0 )
	return CallingCardUtils.FindPlayerCardGivenLootId( f70_arg0 )
end

CallingCardUtils.AreAllVictoryChallengesUnlocked = function ( f69_arg0 )
	return false
end

CallingCardUtils.GetCardRef = function ( f68_arg0 )
	local f68_local0 = CallingCardUtils.FindPlayerCardGivenLootId( f68_arg0 )
	if f68_local0 and f68_local0.ref then
		return f68_local0.ref
	else
		return ""
	end
end

CallingCardUtils.GetCardID = function ( f67_arg0 )
	local f67_local0 = CallingCardUtils.FindPlayerCardGivenRef( f67_arg0 )
	if f67_local0 and f67_local0.lootID then
		return f67_local0.lootID
	else
		return ""
	end
end

CallingCardUtils.GetCardAvailableProjectsFromLootId = function ( f66_arg0 )
	local f66_local0 = CallingCardUtils.FindPlayerCardGivenLootId( f66_arg0 )
	if f66_local0 and f66_local0.availableProjects then
		return f66_local0.availableProjects
	else
		return ""
	end
end

CallingCardUtils.GetCardCompatibilityTagsByLootID = function ( f65_arg0 )
	return LOOT.GetCompatibilityTagsFromBundle( CallingCardUtils.FindPlayerCardGivenLootId( f65_arg0 ) )
end

CallingCardUtils.GetCardName = function ( f64_arg0 )
	local f64_local0 = CallingCardUtils.GetPlayerCardDataForRef( f64_arg0 )
	local f64_local1
	if f64_local0 ~= LOOT.PlayerCardNoneValue then
		f64_local1 = f64_local0.name
		if not f64_local1 then
		
		else
			return f64_local1
		end
	end
	f64_local1 = ""
end

CallingCardUtils.GetCardNameFromID = function ( f63_arg0 )
	local f63_local0 = CallingCardUtils.GetPlayerCardDataForID( f63_arg0 )
	local f63_local1
	if f63_local0 ~= LOOT.PlayerCardNoneValue then
		f63_local1 = f63_local0.name
		if not f63_local1 then
		
		else
			return f63_local1
		end
	end
	f63_local1 = ""
end

CallingCardUtils.GetCardImage = function ( f62_arg0 )
	local f62_local0 = CallingCardUtils.GetPlayerCardDataForRef( f62_arg0 )
	local f62_local1 = f62_local0.image
	if not f62_local1 then
		f62_local1 = CallingCardUtils.GetCardTexture( f62_local0.lootID )
	end
	return f62_local1
end

CallingCardUtils.GetCardImageFromID = function ( f61_arg0 )
	local f61_local0 = CallingCardUtils.GetPlayerCardDataForID( f61_arg0 )
	local f61_local1 = f61_local0.image
	if not f61_local1 then
		f61_local1 = CallingCardUtils.GetCardTexture( f61_local0.lootID )
	end
	return f61_local1
end

CallingCardUtils.GetCardTexture = function ( f60_arg0 )
	if CONDITIONS.IsMobileOrMobileSim() and not Dvar[0x9E5BE3B4BBA4E0E]( 0xF0E6ACB76C93792 ) then
		return "mgl_ui_playercard_placeholder"
	end
	local f60_local0 = CallingCardUtils.FindPlayerCardGivenLootId
	local f60_local1 = tonumber( f60_arg0 )
	if not f60_local1 then
		f60_local1 = CallingCardUtils.GetCardID( CallingCardUtils.GetDefaultCallingCardRef() )
	end
	f60_local0 = f60_local0( f60_local1 )
	local f60_local2 = false
	if f60_local0 ~= CallingCardUtils.EmptyCardData then
		if f60_local0.hideInUI then
			f60_local2 = true
		else
			f60_local2 = true
		end
	end
	f60_local1 = ""
	if f60_local2 then
		f60_local1 = f60_local0.image
	else
		local f60_local3 = CallingCardUtils.FindPlayerCardGivenRef( CallingCardUtils.GetDefaultCallingCardRef() )
		f60_local1 = f60_local3.image
	end
	return f60_local1
end

CallingCardUtils.GetCardChallengeDesc = function ( f59_arg0, f59_arg1, f59_arg2 )
	return Challenge.GetLocalizedChallengeDesc( f59_arg0, f59_arg1, f59_arg2 )
end

CallingCardUtils.GetChallengeEntry = function ( f58_arg0, f58_arg1, f58_arg2 )
	local f58_local0 = nil
	local f58_local1
	if not f58_arg2 then
		f58_local1 = f58_arg2
	else
		f58_local1 = CSV.allChallengesTable.file
	end
	local f58_local2
	if Engine[0xCA085C21FCBD7CA]() or f58_local1 ~= CSV.allChallengesTable.file then
		f58_local2 = Engine[0xCA085C21FCBD7CA]()
		if f58_local2 then
			if f58_local1 == CSV.allChallengesTable.file then
				f58_local2 = false
			else
				f58_local2 = true
			end
		end
	else
		f58_local2 = true
	end
	if f58_local2 then
		local f58_local3 = PLAYER_DATA.IO( f58_arg1, CoD.StatsGroup.Ranked )
		f58_local0 = f58_local3.challengeState[f58_arg0]:get()
	else
		local f58_local3 = PLAYER_DATA.IO( f58_arg1, CoD.StatsGroup.Coop )
		f58_local0 = f58_local3.meritState[f58_arg0]:get()
	end
	local f58_local3 = {
		name = StringTable[0x2DCF0973239E909]( f58_local1, CSV.allChallengesTable.cols.ref, f58_arg0, CSV.allChallengesTable.cols.name ),
		ref = f58_arg0
	}
	local f58_local4 = {}
	local f58_local5 = 0
	for f58_local6 = 0, CSV.allChallengesTable.maxTiers, 1 do
		local f58_local9 = StringTable[0x2DCF0973239E909]( f58_local1, CSV.allChallengesTable.cols.ref, f58_arg0, CSV.allChallengesTable.tiers.targetStart + CSV.allChallengesTable.numTierCols * f58_local6 )
		local f58_local10 = StringTable[0x2DCF0973239E909]( f58_local1, CSV.allChallengesTable.cols.ref, f58_arg0, CSV.allChallengesTable.tiers.xpStart + CSV.allChallengesTable.numTierCols * f58_local6 )
		local f58_local11 = StringTable[0x2DCF0973239E909]( f58_local1, CSV.allChallengesTable.cols.ref, f58_arg0, CSV.allChallengesTable.tiers.scoreStart + CSV.allChallengesTable.numTierCols * f58_local6 )
		if f58_local9 and f58_local10 and f58_local11 and f58_local9 ~= "" and f58_local10 ~= "" and f58_local11 ~= "" then
		
		else
			f58_local5 = f58_local6
			break
		end
		f58_local4[f58_local6] = {}
		f58_local4[f58_local6].target = f58_local9
		f58_local4[f58_local6].xp = f58_local10
		f58_local4[f58_local6].score = f58_local11
	end
	local f58_local6 = f58_local5 <= f58_local0
	if f58_local6 then
		local f58_local7 = f58_local5 - 1
		if not f58_local7 then
		
		else
			local f58_local8 = f58_local4[f58_local7]
			f58_local3.isUnlocked = Unlocks[0x3D8BD2B211DB6CC]( f58_arg1, "challenge", f58_arg0 )
			f58_local3.image = CallingCardUtils.GetCardImage( "" )
			f58_local3.tierCount = f58_local5
			local f58_local12
			if f58_local6 then
				f58_local12 = f58_local5 - 1
				if not f58_local12 then
				
				else
					f58_local3.currentTier = f58_local12
					f58_local3.isCompleted = f58_local6
					f58_local3.currentTierLabel = Engine[0xED84C33EC5F01EA]( 0x5E058153906CCBC, tostring( f58_local3.currentTier + 1 ), tostring( f58_local5 ) )
					f58_local3.currentTierMax = f58_local8.target
					if f58_local2 then
						if f58_local6 then
							f58_local12 = f58_local3.currentTierMax
							if not f58_local12 then
							
							else
								f58_local3.currentProgress = f58_local12
							end
						end
						f58_local12 = PLAYER_DATA.IO( f58_arg1, CoD.StatsGroup.Ranked )
						f58_local12 = f58_local12.challengeProgress[f58_arg0]:get()
					else
						if f58_local6 then
							f58_local12 = f58_local3.currentTierMax
							if not f58_local12 then
							
							else
								f58_local3.currentProgress = f58_local12
							end
						end
						f58_local12 = PLAYER_DATA.IO( f58_arg1, CoD.StatsGroup.Coop )
						f58_local12 = f58_local12.meritProgress[f58_arg0]:get()
					end
					if f58_local6 then
						f58_local12 = 1
					else
						f58_local12 = f58_local3.currentProgress / f58_local3.currentTierMax
					end
					f58_local3.currentProgressPercent = f58_local12
					f58_local3.currentTierXP = f58_local8.xp
					f58_local3.currentTierScore = f58_local8.score
					f58_local12 = StringTable[0x2DCF0973239E909]( f58_local1, CSV.allChallengesTable.cols.ref, f58_arg0, CSV.allChallengesTable.cols.paramScale )
					if f58_local12 and f58_local12 ~= "" then
						f58_local12 = tonumber( f58_local12 )
						f58_local3.currentTierMax = math.floor( f58_local3.currentTierMax / f58_local12 )
						f58_local3.currentProgress = math.floor( f58_local3.currentProgress / f58_local12 )
					end
					if f58_local3.isUnlocked then
						f58_local3.desc = CallingCardUtils.GetCardChallengeDesc( f58_arg0, f58_local3.currentTierMax, f58_local1 )
					else
						f58_local3.desc = UNLOCK.GetUnlockText( CSV.challengeUnlockTable, f58_arg0 )
					end
					f58_local3.isMasterChallenge = false
					f58_local3.isHiddenChallenge = false
					f58_local3.isSecretZombiesMerit = false
					local f58_local9 = StringTable[0x2DCF0973239E909]( f58_local1, CSV.allChallengesTable.cols.ref, f58_arg0, CSV.allChallengesTable.cols.subCategory )
					if not f58_local6 and (f58_local9 == "darkops" or f58_local9 == "secret") then
						f58_local3.tierCount = 1
						f58_local3.currentTier = 0
						f58_local3.currentTierLabel = Engine[0xED84C33EC5F01EA]( 0x5E058153906CCBC, 1, "?" )
						f58_local3.currentTierMax = 1
						f58_local3.currentProgress = 0
						f58_local3.currentProgressPercent = 0
						f58_local3.name = 0x4641B4149393204
						f58_local3.desc = Engine[0xED84C33EC5F01EA]( 0x4641B4149393204 )
						f58_local3.currentTierXP = "???"
						f58_local3.currentTierScore = "???"
						f58_local3.image = "widg_disabled"
						f58_local3.isHiddenChallenge = true
						if f58_local9 == "secret" then
							f58_local3.isSecretZombiesMerit = true
						end
					end
					return f58_local3
				end
			end
			f58_local12 = f58_local0
		end
	end
	f58_local7 = f58_local0
end

CallingCardUtils.GetCardIsShippable = function ( f57_arg0 )
	local f57_local0 = CallingCardUtils.FindPlayerCardGivenLootId( f57_arg0 )
	if f57_local0 and f57_local0.hideInUI then
		return not f57_local0.hideInUI
	else
		return false
	end
end

CallingCardUtils.GetCardIsAnimated = function ( f56_arg0 )
	local f56_local0 = GetMaterialAtlasInfo( f56_arg0 )
	local f56_local1
	if 1 >= f56_local0.columns and 1 >= f56_local0.rows then
		f56_local1 = false
	else
		f56_local1 = true
	end
	return f56_local1
end

CallingCardUtils.GetNewLootCards = function ( f55_arg0 )
	local f55_local0 = {}
	local f55_local1 = 0
	for f55_local5, f55_local6 in ipairs( CallingCardUtils.GetAllPlayerCards( f55_arg0 ) ) do
		local f55_local7 = f55_local6.lootID
		if f55_local7 and Loot[0xB853FAE9166621]( f55_arg0, f55_local7 ) then
			f55_local0[f55_local6.ref] = true
			f55_local1 = f55_local1 + 1
		end
	end
	f55_local0.count = f55_local1
	return f55_local0
end

CallingCardUtils.GetFullNameWithHash = function ( f54_arg0, f54_arg1, f54_arg2 )
	if f54_arg2 then
		local f54_local0 = CONDITIONS.InGame()
		if f54_local0 then
			f54_local0 = CONDITIONS.IsDisplayNameTag()
			if f54_local0 then
				f54_local0 = not CONDITIONS.IsLaunchChunk()
			end
		end
		local f54_local1 = Game[0xAC235533DCCF5E5]( f54_arg0 )
		if f54_local0 and f54_local1 and 0 < #f54_local1 then
			local f54_local2
			if not f54_local1 then
				f54_local2 = f54_local1
			else
				f54_local2 = ""
			end
			return f54_local2
		end
	end
	local f54_local0 = Game[0x5C342D264D1BFB5]( f54_arg0 )
	if not f54_local0 then
		f54_local0 = ""
	end
	return f54_local0
end

CallingCardUtils.UsesCustomEmblem = function ( f53_arg0, f53_arg1, f53_arg2 )
	local f53_local0
	if f53_arg1 then
		f53_local0 = f53_arg1
	elseif 0 < #f53_arg1 then
		f53_local0 = not Engine[0x73231DEDA97B69A]( f53_arg1 )
	else
		f53_local0 = false
	end
	local f53_local1 = Dvar[0x9E5BE3B4BBA4E0E]( 0xC12744D966F0928 )
	local f53_local2
	if f53_local0 then
		f53_local2 = f53_local0
	elseif not f53_local1 then
		f53_local2 = Engine[0x6DD6C4D310EDE9A]( f53_arg2, f53_arg1 )
	else
		f53_local2 = false
	end
	local f53_local3
	if f53_local2 then
		f53_local3 = f53_local2
	else
		f53_local3 = Game[0x10B1D77733E53E]( f53_arg0 )
	end
	return f53_local3
end

CallingCardUtils.GetEmblemMaterial = function ( f52_arg0 )
	return EmblemEditorUtils.GetEmblemImageFromID( Game[0x83210A73A021F44]( f52_arg0 ) )
end

CallingCardUtils.SetCallingCardDataSource = function ( f51_arg0, f51_arg1, f51_arg2 )
	Playercard[0x2BB8FABC0D5D042]( f51_arg0 )
	f51_arg1:SetValue( f51_arg0, f51_arg2 )
	Playercard[0xE7F7308D27872C9]( f51_arg0 )
end

CallingCardUtils.CreateNotification = function ( f50_arg0, f50_arg1, f50_arg2, f50_arg3 )
	local f50_local0
	if f50_arg3 then
		f50_local0 = LUI.ToastManager.ToastVisualEffect.Warning
		if not f50_local0 then
		
		else
			local f50_local1
			if f50_arg3 then
				f50_local1 = LUI.ToastManager.ToastNotificationType.Warnings
				if not f50_local1 then
				
				else
					local f50_local2
					if f50_arg2 then
						f50_local2 = f50_arg2.name
						if not f50_local2 then
						
						else
							LUI.ToastManager.CreateToast( f50_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( f50_arg1 ), Engine[0xED84C33EC5F01EA]( f50_local2 ), f50_local1, nil, nil, f50_local0 ) )
						end
					end
					f50_local2 = ""
				end
			end
			f50_local1 = LUI.ToastManager.ToastNotificationType.Gear
		end
	end
	f50_local0 = nil
end

CallingCardUtils.IsFavorite = function ( f49_arg0 )
	local f49_local0 = LOOT.GetFavoritesForType( LOOT.itemTypes.PLAYERCARD )
	return f49_local0[f49_arg0]
end

CallingCardUtils.IsTracked = function ( f48_arg0, f48_arg1 )
	local f48_local0 = LOOT.GetTrackedForType( f48_arg0, LOOT.itemTypes.PLAYERCARD )
	return f48_local0[f48_arg1]
end

CallingCardUtils.SetFavorite = function ( f47_arg0, f47_arg1, f47_arg2 )
	local f47_local0 = f47_arg2.selectedCard
	local f47_local1 = f47_arg2.cardLootID
	local f47_local2 = LOOT.GetItemRef( f47_local1 )
	local f47_local3 = f47_arg2.cardButton
	local f47_local4 = CallingCardUtils.MAX_FAVORITES
	local f47_local5 = f47_local0.image
	local f47_local6 = f47_arg0._favoriteLoots[f47_local2]
	local f47_local7 = LOOT.IsUnlockedWithID( f47_arg1, f47_local1 )
	if f47_local7 then
		local f47_local8 = f47_arg0._lootType
		if f47_local6 then
			LOOT.RemoveFavoriteForType( f47_local8, f47_local2 )
			if f47_local3 then
				f47_local3:SetFavorite( false )
			end
		else
			if f47_local4 <= f47_arg0._favoriteLoots.count then
				Engine[0xC4146BA76D0F982]( SOUND_SETS.default.deny )
				CallingCardUtils.CreateNotification( f47_arg0, 0x44B2704B3AC57B5, f47_local0, true )
				return 
			end
			LOOT.AddFavoriteForType( f47_local8, f47_local2 )
			if f47_local3 then
				f47_local3:SetFavorite( true )
			end
		end
		Engine[0xC4146BA76D0F982]( SOUND_SETS.default.selectAlt )
		local f47_local9
		if f47_local6 then
			f47_local9 = 0xBAEC956CDA111AA
			if not f47_local9 then
			
			else
				CallingCardUtils.CreateNotification( f47_arg0, f47_local9, f47_local0 )
				f47_arg0.CallingCardPreviewPanel:UpdateFavoritePrompt( f47_local5, f47_local7 )
				f47_arg0._favoriteLoots = LOOT.GetFavoritesForType( f47_local8 )
			end
		end
		f47_local9 = 0xE2E782ED8561FBF
	end
	if f47_local3 then
		CallingCardUtils.SetCardContextualMenu( f47_local3, f47_arg0, {
			ref = f47_local2,
			isUnlocked = f47_local7
		} )
	end
end

CallingCardUtils.EquipCallingCard = function ( f46_arg0, f46_arg1 )
	local f46_local0 = f46_arg1.selectedCard
	local f46_local1 = f46_arg1.cardLootID
	local f46_local2 = f46_arg1.cardButton
	local f46_local3 = f46_local2:GetCurrentMenu() or f46_arg0
	local f46_local4 = f46_arg1.dataSource
	local f46_local5 = f46_local3._equippedPlayerCardIndex
	local f46_local6 = f46_arg0._controllerIndex
	local f46_local7 = CallingCardUtils.FindPlayerCardGivenLootId( f46_local5 )
	if LOOT.IsUnlockedWithID( f46_arg0._controllerIndex, f46_local1 ) and f46_local5 ~= f46_local0.lootID then
		local f46_local8 = f46_arg0._showcaseIndex
		LOOT.SendDlogLootEquipped( f46_local6, LOOT.itemTypes.PLAYERCARD, nil, nil, f46_local7.ref, f46_local0.ref )
		if f46_local8 and f46_local8 < SOCIAL.MAX_NUM_SHOWCASE_CARDS then
			Social[0x72F2E228AC7FD08]( f46_local6, f46_local8, f46_local0.lootID )
		else
			Playercard[0x5C36BE0C34DB13F]( f46_local6, f46_local0.lootID )
		end
		if not f46_local8 then
			CallingCardUtils.SetCallingCardDataSource( f46_local6, f46_local4, f46_local0.lootID )
		end
		if f46_local3 then
			f46_local3:processEvent( {
				name = "unselect_calling_card",
				equippedCardIndex = f46_local5
			} )
		end
		f46_local2:SetSelected( true )
		local f46_local9
		if f46_local8 ~= nil then
			f46_local9 = 0xD04998DCB140084
			if not f46_local9 then
			
			else
				CallingCardUtils.CreateNotification( f46_arg0, f46_local9, f46_local0 )
				if f46_arg0._returnOnEquip then
					if f46_arg0._callingCardMenu then
						LUI.FlowManager.RequestLeaveMenuByName( f46_arg0._callingCardMenu, false, true )
					end
					LUI.FlowManager.RequestLeaveMenu( f46_arg0 )
				end
				f46_local3._equippedPlayerCardIndex = f46_local0.lootID
			end
		end
		f46_local9 = 0xBC74AC6BC9565D0
	end
end

CallingCardUtils.EquipPlayerCard = function ( f45_arg0, f45_arg1 )
	local f45_local0 = CallingCardUtils.CallingCardIDDataSource:GetValue( f45_arg0 )
	local f45_local1 = CallingCardUtils.FindPlayerCardGivenLootId( f45_local0 )
	local f45_local2 = CallingCardUtils.GetCardID( f45_arg1 )
	if f45_local0 ~= f45_local2 then
		LOOT.SendDlogLootEquipped( f45_arg0, LOOT.itemTypes.PLAYERCARD, nil, nil, f45_local1.ref, f45_arg1 )
		Playercard[0x5C36BE0C34DB13F]( f45_arg0, f45_local2 )
		Playercard[0x2BB8FABC0D5D042]( f45_arg0 )
		CallingCardUtils.CallingCardIDDataSource:SetValue( f45_arg0, f45_local2 )
		Playercard[0xE7F7308D27872C9]( f45_arg0 )
	end
end

CallingCardUtils.UpdateTrackedContextMenuAction = function ( f44_arg0, f44_arg1 )
	if f44_arg0._isLocked then
		local f44_local0 = Challenge.GetCallingCardChallengesByLootID( f44_arg0._controllerIndex, f44_arg1 )
		if f44_local0 then
			f44_arg0:RemoveContextualMenuAction( TrackedChallenges.CONTEXTUAL_MENU_ACTION_ID )
			TrackedChallenges.AttemptAddContextualMenuAction( f44_arg0, f44_arg0._controllerIndex, f44_local0.id, f44_local0.aeKindID, nil )
		end
	end
end

CallingCardUtils.TrackCardButtonAction = function ( f43_arg0, f43_arg1 )
	local f43_local0 = Challenge.GetCallingCardChallengesByLootID( f43_arg0._controllerIndex, f43_arg0.lootID )
	if f43_local0 then
		TrackedChallenges.AttemptTrackChallenge( f43_arg0, f43_arg0._controllerIndex, tonumber( f43_local0.id ), f43_local0.aeKindID )
		f43_arg0:SetTracked( TrackedChallenges.IsChallengeBeingTracked( f43_arg0._controllerIndex, tonumber( f43_local0.id ) ) )
		f43_arg0:UpdateActionText()
		CallingCardUtils.UpdateTrackedContextMenuAction( f43_arg0, f43_arg0.lootID )
	end
end

CallingCardUtils.IsAlreadyEquipped = function ( f42_arg0, f42_arg1 )
	return CallingCardUtils.CallingCardIDDataSource:GetValue( f42_arg0 ) == CallingCardUtils.GetCardID( f42_arg1 )
end

CallingCardUtils.GenerateCallingCardPrestigeData = function ( f41_arg0, f41_arg1, f41_arg2 )
	local f41_local0 = Challenge.GetCategorizedCallingCardPrestigeChallenges( f41_arg0 )
	local f41_local1 = {}
	for f41_local5, f41_local6 in ipairs( f41_local0 ) do
		table.insert( f41_local1, {
			isPrestige = true,
			baseChallenges = f41_local6.subChallenges,
			masteryChallenge = f41_local6,
			options = {
				season = SEASON.SeasonPreciseToSeason( f41_local6.season )
			}
		} )
	end
	if f41_arg1 then
		return CallingCardUtils.FilterPrestigeCallingCardData( f41_local1, f41_arg2 )
	else
		return f41_local1
	end
end

CallingCardUtils.GetTabLayout = function ( f40_arg0, f40_arg1 )
	local f40_local0 = {}
	local f40_local1 = CallingCardUtils.CallingCardsTabs
	if f40_arg0 then
		local f40_local2 = SEASON.GetCurrentSeason()
		for f40_local6, f40_local7 in ipairs( f40_local1[f40_arg1] ) do
			if f40_local6 <= f40_local2 then
				table.insert( f40_local0, f40_local7 )
			end
		end
	else
		f40_local0 = f40_local1[f40_arg1]
	end
	return f40_local0
end

CallingCardUtils.FilterPrestigeCallingCardData = function ( f39_arg0, f39_arg1 )
	if not f39_arg1 then
		return f39_arg0
	end
	local f39_local0 = {}
	for f39_local4, f39_local5 in ipairs( f39_arg0 ) do
		if f39_local5.options.season and f39_local5.options.season == f39_arg1 then
			table.insert( f39_local0, f39_local5 )
		end
	end
	return f39_local0
end

CallingCardUtils.FilterMasteryCallingCardData = function ( f38_arg0, f38_arg1 )
	if not f38_arg1 then
		return f38_arg0
	end
	local f38_local0 = {}
	for f38_local4, f38_local5 in ipairs( f38_arg0 ) do
		if f38_local5.options.gameMode and f38_local5.options.gameMode == f38_arg1 then
			table.insert( f38_local0, f38_local5 )
		end
	end
	return f38_local0
end

CallingCardUtils.GenerateCallingCardMasteryData = function ( f37_arg0, f37_arg1, f37_arg2 )
	local f37_local0 = CallingCardUtils.BASE_CARD_ORDER_INDEX
	local f37_local1 = CallingCardUtils.MASTERY_CARD_ORDER_INDEX
	local f37_local2 = Challenge.GetCallingCardMasterChallenges( f37_arg0 )
	local f37_local3 = {}
	local f37_local4 = {}
	for f37_local8, f37_local9 in ipairs( f37_local2 ) do
		if f37_local9.isMastery then
			table.insert( f37_local4, f37_local9 )
		else
			table.insert( f37_local3, f37_local9 )
		end
	end
	f37_local5 = {}
	for f37_local9, f37_local11 in ipairs( f37_local3 ) do
		local f37_local10 = f37_local11.gamemode
		if f37_local10 then
			f37_local10 = CallingCardUtils.GameModesRef[f37_local11.gamemode]
		end
		table.insert( f37_local5, {
			isPrestige = false,
			baseChallenges = f37_local11,
			masteryChallenge = f37_local4[f37_local9],
			options = {
				gameMode = f37_local10
			}
		} )
	end
	if f37_arg1 then
		f37_local6 = CallingCardUtils.FilterMasteryCallingCardData( f37_local5, f37_arg2 )
		if f37_arg2 == CallingCardUtils.GameModes.SHARED then
			table.insert( f37_local6, table.remove( f37_local6, 1 ) )
		end
		return f37_local6
	else
		return f37_local5
	end
end

CallingCardUtils.GetCallingCardMasteryChallengesData = function ( f35_arg0, f35_arg1, f35_arg2 )
	local f35_local0 = nil
	local f35_local1 = {}
	local f35_local2 = {}
	if f35_arg1 == nil then
		f35_arg1 = false
	end
	if f35_arg1 then
		for f35_local6, f35_local7 in ipairs( Challenge.GetCallingCardPrestigeChallenges( f35_arg0 ) ) do
			if f35_local7.isMastery then
				f35_local7.subChallenges = {}
				table.insert( f35_local1, f35_local7 )
			end
			if not f35_arg2 or f35_arg2 == f35_local7.seasonId then
				table.insert( f35_local2, tonumber( f35_local7.id ), f35_local7 )
			end
		end
	end
	for f35_local6, f35_local7 in ipairs( Challenge.GetCallingCardMasterChallenges( f35_arg0 ) ) do
		if f35_local7.isPrestige == f35_arg1 then
			if f35_local7.isMastery then
				f35_local7.subChallenges = {}
				table.insert( f35_local1, f35_local7 )
			end
			if not (f35_arg2 and (f35_arg1 or f35_arg2 ~= f35_local7.gamemodeId)) or f35_arg1 and f35_arg2 == f35_local7.seasonId then
				table.insert( f35_local2, tonumber( f35_local7.id ), f35_local7 )
			end
		end
	end
	for f35_local6, f35_local7 in ipairs( f35_local1 ) do
		for f35_local8, f35_local9 in ipairs( LUI.Split( f35_local7.children, "|" ) ) do
			if not String.IsNilOrEmpty( f35_local9 ) then
				table.insert( f35_local7.subChallenges, f35_local2[tonumber( f35_local9 )] )
			end
		end
	end
	f35_local3 = function ( f36_arg0, f36_arg1 )
		if f36_arg0.order == f36_arg1.order then
			return f36_arg0.id < f36_arg1.id
		else
			return f36_arg0.order < f36_arg1.order
		end
	end
	
	f35_local4 = {}
	for f35_local13, f35_local11 in ipairs( f35_local1 ) do
		if #f35_local11.subChallenges ~= 0 then
			if not f35_arg1 then
				local f35_local12 = f35_local11.subChallenges[1]
				f35_local11.gamemode = f35_local12.gamemode
				f35_local11.gamemodeId = f35_local12.gamemodeId
			end
			table.sort( f35_local11.subChallenges, f35_local3 )
			table.insert( f35_local4, f35_local11 )
		end
	end
	table.sort( f35_local4, f35_local3 )
	return f35_local4
end

CallingCardUtils.ParseLoot = function ( f34_arg0 )
	local f34_local0 = {}
	for f34_local4, f34_local5 in ipairs( String.Split( f34_arg0, "|" ) ) do
		if not String.IsNilOrEmpty( f34_local5 ) then
			table.insert( f34_local0, tonumber( f34_local5 ) )
		end
	end
	return f34_local0
end

CallingCardUtils.GetCallingCardData = function ( f33_arg0, f33_arg1 )
	local f33_local0 = {}
	for f33_local4, f33_local5 in ipairs( CallingCardUtils.ParseLoot( f33_arg1 ) ) do
		local f33_local6 = CallingCardUtils.GetPlayerCardDataForID( f33_local5 )
		f33_local6.isUnlocked = LOOT.IsUnlockedWithID( f33_arg0, f33_local5 )
		table.insert( f33_local0, f33_local6 )
	end
	if #f33_local0 == 0 then
		table.insert( f33_local0, CallingCardUtils.EmptyCardData )
	end
	return f33_local0
end

CallingCardUtils.GetCallingCardChallengeImage = function ( f32_arg0, f32_arg1 )
	local f32_local0 = nil
	if not String.IsNilOrEmpty( f32_arg1.challengeImage ) then
		return f32_arg1.challengeImage
	end
	for f32_local4, f32_local5 in ipairs( CallingCardUtils.GetCallingCardData( f32_arg0, f32_arg1.loot ) ) do
		if not String.IsNilOrEmpty( f32_local5.image ) then
			return f32_local5.image
		end
	end
	return CallingCardUtils.EmptyCardData.image
end

CallingCardUtils.GetAllCardsWithChallenges = function ( f30_arg0 )
	local f30_local0 = CallingCardUtils.GenerateCallingCardMasteryData( f30_arg0, false )
	local f30_local1 = CallingCardUtils.GenerateCallingCardPrestigeData( f30_arg0, false )
	local f30_local2 = CallingCardUtils.GetAllPlayerCards( f30_arg0 )
	local f30_local3 = {}
	for f30_local7, f30_local8 in ipairs( f30_local1 ) do
		table.insert( f30_local0, f30_local8 )
	end
	f30_local4 = f30_local0
	f30_local5 = {}
	f30_local6 = function ( f31_arg0, f31_arg1, f31_arg2 )
		if f31_arg1 then
			for f31_local4, f31_local5 in ipairs( f31_arg0.baseChallenges ) do
				local f31_local6 = CallingCardUtils.ParseLoot( f31_local5.loot )
				local f31_local3
				if not Table.IsNilOrEmpty( f31_local6 ) then
					f31_local3 = tonumber( f31_local6[1] )
					if not f31_local3 then
					
					elseif f31_local3 == f31_arg2 then
						return f31_local4
					end
				end
				f31_local3 = nil
			end
		else
			local f31_local0 = f30_arg0[f31_arg0]
			if not f31_local0 then
				f31_local0 = LUI.Split( f31_arg0.baseChallenges.loot, "|" )
				f30_arg0[f31_arg0] = f31_local0
			end
			for f31_local5, f31_local6 in ipairs( f31_local0 ) do
				if f31_arg2 == tonumber( f31_local6 ) then
					return f31_local5
				end
			end
		end
	end
	
	f30_local7 = Challenge.GetLootIncludedInGunsmithChallenges()
	for f30_local31, f30_local32 in ipairs( f30_local2 ) do
		if not f30_local32.hideInUI then
			local f30_local11 = f30_local32.cardSource
			local f30_local12 = f30_local32.__playerCardBundle
			if f30_local12 then
				f30_local12 = f30_local32.__playerCardBundle[0x429E8B8C45B9CBA]
			end
			local f30_local13
			if f30_local11 then
				f30_local13 = f30_local11
			else
				f30_local13 = f30_local11 == CallingCardUtils.CardSource.CHALLENGE
			end
			local f30_local14 = false
			local f30_local15 = false
			local f30_local16 = false
			local f30_local17, f30_local18, f30_local19 = nil
			if f30_local13 then
				for f30_local25, f30_local26 in ipairs( f30_local4 ) do
					local f30_local27 = f30_local26.masteryChallenge
					if f30_local27 and f30_local32.lootID == tonumber( f30_local27.loot ) then
						f30_local14 = f30_local26.isPrestige
						f30_local16 = true
						f30_local15 = not f30_local14
						f30_local18 = f30_local27
						break
					end
					local f30_local23 = f30_local6( f30_local26, f30_local26.isPrestige, f30_local32.lootID )
					if f30_local23 ~= nil then
						f30_local14 = f30_local26.isPrestige
						f30_local15 = not f30_local14
						if f30_local14 then
							
						else
							
						end
						f30_local17 = f30_local23
						if f30_local14 then
							local f30_local24 = f30_local26.baseChallenges[f30_local23]
							if not f30_local24 then
								f30_local18 = f30_local24
							end
						end
						f30_local18 = f30_local26.baseChallenges
					end
				end
			end
			if f30_local12 and string.find( f30_local12, "JUP" ) then
				f30_local19 = CallingCardUtils.OriginProject.JUP
			elseif f30_local12 and string.find( f30_local12, "IW9" ) then
				f30_local19 = CallingCardUtils.OriginProject.IW9
			else
				f30_local19 = CallingCardUtils.OriginProject.IW9
			end
			f30_local32.isUnlocked = LOOT.IsUnlockedWithID( f30_arg0, f30_local32.lootID )
			f30_local32.isMastery = f30_local16
			f30_local32.isChallenge = f30_local15
			f30_local32.isPrestige = f30_local14
			f30_local32.lootIndexCard = f30_local17
			f30_local32.challengeData = f30_local18
			local f30_local20
			if not f30_local11 or f30_local11 ~= CallingCardUtils.CardSource.BATTLEPASS then
				f30_local20 = CallingCardUtils.EmptyCardData.isBattlepass
			else
				f30_local20 = true
			end
			f30_local32.isBattlepass = f30_local20
			if not f30_local11 or f30_local11 ~= CallingCardUtils.CardSource.STORE then
				f30_local20 = CallingCardUtils.EmptyCardData.isStore
			else
				f30_local20 = true
			end
			f30_local32.isStore = f30_local20
			f30_local32.originProject = f30_local19
			f30_local32.isWeaponMastery = f30_local7[f30_local32.lootID] or false
			f30_local32.lastUpdated = Loot[0xAE874AE297A8D96]( f30_arg0, f30_local32.lootID )
			f30_local20 = f30_local32.originProject == CallingCardUtils.OriginProject.IW9
			local f30_local21 = f30_local32.originProject == CallingCardUtils.OriginProject.JUP
			local f30_local22
			if f30_local13 then
				f30_local22 = f30_local13
			elseif not f30_local32.isWeaponMastery then
				f30_local22 = f30_local20
			else
				f30_local22 = false
			end
			f30_local32.isIW9Challenge = f30_local22
			f30_local22 = f30_local32.isPremium
			if not f30_local22 then
				f30_local22 = f30_local32.isBattlepass or f30_local32.isStore
			end
			local f30_local25 = f30_local32.isStore
			if f30_local25 then
				f30_local25 = STORE.Bundles.GetFirstBundleWithLootId( f30_arg0, f30_local32.lootID ) ~= nil
			end
			local f30_local26 = f30_local32.isBattlepass
			if f30_local26 then
				if f30_local32.season == SEASON.GetCurrentSeason() then
					f30_local26 = f30_local21
				else
					f30_local26 = false
				end
			end
			local f30_local27
			if not f30_local25 then
				f30_local27 = f30_local25
			elseif not f30_local26 then
				f30_local27 = f30_local26
			else
				f30_local27 = f30_local32.isUnlocked
			end
			f30_local32.isPremiumObtainable = f30_local27
			if not f30_local32.isIW9Challenge then
				local f30_local28 = f30_local32.isStore
				local f30_local29 = f30_local32.isPremiumObtainable
				local f30_local30 = f30_local32.isWeaponMastery
			end
			f30_local32.isIW9Obtainable = f30_local28 and f30_local29 or f30_local30
			f30_local27 = f30_local32.__playerCardBundle[0x6385A4D2C40E57A] ~= "INCENTIVE"
			local f30_local23
			if not f30_local21 then
				if f30_local20 then
					f30_local23 = f30_local20
				else
					f30_local23 = f30_local32.isIW9Obtainable
					if f30_local23 then
						if f30_local22 then
							f30_local23 = f30_local32.isPremiumObtainable
							if not f30_local23 then
							
							else
								local f30_local24 = f30_local32.isUnlocked
								if not f30_local24 then
									if f30_local23 then
										f30_local24 = f30_local23
									else
										f30_local24 = f30_local27
									end
								end
								if f30_local24 then
									table.insert( f30_local3, f30_local32 )
								end
							end
						end
						f30_local23 = not f30_local22
					end
				end
			else
				if f30_local22 then
					f30_local23 = f30_local32.isPremiumObtainable
					if not f30_local23 then
					
					else
						local f30_local24 = f30_local32.isUnlocked
						if not f30_local24 then
							if f30_local23 then
								f30_local24 = f30_local23
							else
								f30_local24 = f30_local27
							end
						end
						if f30_local24 then
							table.insert( f30_local3, f30_local32 )
						end
					end
				end
				f30_local23 = not f30_local22
			end
			local f30_local24 = f30_local32.isUnlocked
			if not f30_local24 then
				if f30_local23 then
					f30_local24 = f30_local23
				else
					f30_local24 = f30_local27
				end
			end
			if f30_local24 then
				table.insert( f30_local3, f30_local32 )
			end
		end
	end
	return f30_local3
end

CallingCardUtils.GetFilterConditionsForAdd = function ()
	local f19_local0 = function ( f29_arg0, f29_arg1 )
		local f29_local0
		if CallingCardUtils.GetFilterValue( f29_arg0, "ShowFavorites" ) then
			f29_local0 = f29_arg1.isFavorite
			if not f29_local0 then
			
			else
				return f29_local0
			end
		end
		f29_local0 = false
	end
	
	local f19_local1 = function ( f28_arg0, f28_arg1 )
		local f28_local0
		if CallingCardUtils.GetFilterValue( f28_arg0, "ShowTracked" ) then
			f28_local0 = f28_arg1.isTracked
			if not f28_local0 then
			
			else
				return f28_local0
			end
		end
		f28_local0 = false
	end
	
	local f19_local2 = function ( f27_arg0, f27_arg1 )
		local f27_local0 = f27_arg1.isPrestige
		local f27_local1 = f27_arg1.isFavorite or f27_arg1.isTracked
		local f27_local2
		if CallingCardUtils.GetFilterValue( f27_arg0, "ShowPrestiges" ) and not f27_local0 then
			f27_local2 = f27_local0
		else
			f27_local2 = false
		end
		return f27_local2
	end
	
	local f19_local3 = function ( f26_arg0, f26_arg1 )
		local f26_local0
		if not CallingCardUtils.GetFilterValue( f26_arg0, "ShowChallenges" ) or not f26_arg1.isChallenge or f26_arg1.isFavorite or f26_arg1.isTracked then
			f26_local0 = false
		else
			f26_local0 = true
		end
		return f26_local0
	end
	
	local f19_local4 = function ( f25_arg0, f25_arg1 )
		local f25_local0
		if CallingCardUtils.GetFilterValue( f25_arg0, "ShowUnlocked" ) then
			f25_local0 = f25_arg1.isUnlocked
			if not f25_local0 then
			
			else
				return f25_local0
			end
		end
		f25_local0 = false
	end
	
	local f19_local5 = function ( f24_arg0, f24_arg1 )
		local f24_local0
		if not CallingCardUtils.GetFilterValue( f24_arg0, "ShowLocked" ) or f24_arg1.isUnlocked then
			f24_local0 = false
		else
			f24_local0 = true
		end
		return f24_local0
	end
	
	local f19_local6 = function ( f23_arg0, f23_arg1 )
		return CallingCardUtils.GetFilterValue( f23_arg0, "ShowOutbreakChallenges" )
	end
	
	local f19_local7 = function ( f22_arg0, f22_arg1 )
		return CallingCardUtils.GetFilterValue( f22_arg0, "ShowMultiplayerChallenges" )
	end
	
	local f19_local8 = function ( f21_arg0, f21_arg1 )
		local f21_local0 = f21_arg1.isFavorite or f21_arg1.isTracked
		local f21_local1
		if not f21_arg1.isPrestige and not f21_arg1.isChallenge then
			f21_local1 = not f21_arg1.isFavorite
		else
			f21_local1 = false
		end
		local f21_local2
		if not CallingCardUtils.GetFilterValue( f21_arg0, "ShowOthers" ) or not f21_local1 or f21_local0 then
			f21_local2 = false
		else
			f21_local2 = true
		end
		return f21_local2
	end
	
	local f19_local9 = {
		f19_local0,
		f19_local1,
		f19_local8
	}
	local f19_local10 = {
		f19_local2
	}
	local f19_local11 = {
		f19_local0,
		f19_local1,
		f19_local3,
		f19_local2,
		f19_local8,
		f19_local4,
		f19_local5
	}
	return function ( f20_arg0, f20_arg1 )
		if f20_arg0 then
			return f19_local0
		elseif f20_arg1 then
			return f19_local0
		else
			return f19_local0
		end
	end
	
end

CallingCardUtils.GetFilteredCardsData = function ( f17_arg0, f17_arg1, f17_arg2 )
	if not f17_arg2 then
		
	else
		
	end
	local f17_local0 = {}
	local f17_local1 = 0
	local f17_local2 = 0
	local f17_local3 = 0
	local f17_local4 = f17_arg2.filterValue
	local f17_local5 = f17_arg2.isPremium or false
	local f17_local6 = f17_arg2.isMastery or false
	local f17_local7 = f17_arg2.favorites
	local f17_local8 = f17_arg2.trackedList
	local f17_local9 = f17_arg2.lockedSortingOptions == LOOT.lockedSortingOptions.SHOW
	local f17_local10 = function ( f18_arg0 )
		table.insert( f17_arg0, f18_arg0 )
	end
	
	local f17_local11 = CallingCardUtils.GetFilterConditionsForAdd()
	local f17_local12 = {
		isFavorite = false,
		isUnlocked = false,
		isPrestige = false,
		isTracked = false,
		isLocked = false,
		isChallenge = false
	}
	for f17_local25, f17_local26 in ipairs( f17_arg1 ) do
		local f17_local27 = f17_local26.challengeImage or f17_local26.ref
		local f17_local16
		if f17_local8 then
			f17_local16 = f17_local8
		else
			f17_local16 = f17_local8[f17_local27]
		end
		local f17_local17
		if not f17_local26.isUnlocked and f17_local9 then
			f17_local17 = f17_local9
		elseif f17_local26.__playerCardBundle then
			f17_local17 = GL_HACK.IsLootUseableOnCurrentPlatform( f17_arg0, f17_local26.__playerCardBundle[0x28887F70BF5EBA], true )
		else
			f17_local17 = true
		end
		if f17_local5 and f17_local26.isPremium then
			if not f17_local26.__playerCardBundle or GL_HACK.IsLootUseableOnCurrentPlatform( f17_arg0, f17_local26.__playerCardBundle[0x28887F70BF5EBA], true ) then
				f17_local10( f17_local26 )
				f17_local2 = f17_local2 + 1
			end
			if f17_local26.isUnlocked then
				f17_local1 = f17_local1 + 1
			end
		end
		if not f17_local5 then
			if f17_local17 or f17_local16 then
				local f17_local18 = f17_local11( f17_local6, f17_local26.isPrestige )
				local f17_local19 = false
				local f17_local20
				if f17_local7 then
					f17_local20 = f17_local7
				else
					f17_local20 = f17_local7[f17_local27]
				end
				f17_local12.isFavorite = f17_local20
				f17_local12.isTracked = f17_local16
				f17_local12.isChallenge = f17_local26.isChallenge
				f17_local12.isPrestige = f17_local26.isPrestige
				f17_local12.isUnlocked = f17_local26.isUnlocked
				for f17_local23, f17_local24 in ipairs( f17_local18 ) do
					if f17_local24( f17_local4, f17_local12 ) then
						f17_local10( f17_local26 )
						f17_local3 = f17_local3 + 1
						f17_local19 = true
						break
					end
				end
				if f17_local19 and not Table.IsNilOrEmpty( f17_local26.subChallenges ) then
					f17_local20 = CallingCardUtils.GetFilteredCardsData( f17_arg0, f17_local26.subChallenges, f17_arg2 )
					if not Table.IsNilOrEmpty( f17_local20 ) then
						f17_local0[f17_local3].subChallenges = f17_local20.cardsData
					end
				end
				if f17_local26.isUnlocked and not f17_local16 then
					f17_local1 = f17_local1 + 1
				end
				f17_local2 = f17_local2 + 1
			end
			if not f17_local26.isPremium then
				f17_local2 = f17_local2 + 1
			end
		end
	end
	return {
		cardsData = f17_local0,
		unlockedCount = f17_local1,
		maxCount = f17_local2
	}
end

local f0_local4 = function ( f16_arg0 )
	local f16_local0 = f16_arg0.sortValue
	if not f16_local0 then
		return 
	end
	local f16_local1 = false
	for f16_local5, f16_local6 in ipairs( f16_arg0.isPremium and CallingCardUtils.SortPremiumOptionsList or CallingCardUtils.SortAllOptionsList ) do
		if f16_local0 == f16_local6 then
			f16_local1 = true
			break
		end
	end
	if not f16_local1 then
		f16_arg0.sortValue = CallingCardUtils.SortOptions.DEFAULT
		CallingCardUtils.SetSortValue( CallingCardUtils.SortOptions.DEFAULT )
	end
end

CallingCardUtils.SortCallingCards = function ( f14_arg0, f14_arg1 )
	if not f14_arg1 then
		
	else
		
	end
	f0_local0( f14_arg1 )
	local f14_local0 = f14_arg1.isPremium
	local f14_local1 = f14_arg1.favorites
	local f14_local2 = f14_arg1.trackedList
	local f14_local3 = f14_arg1.newLootCards
	table.sort( f14_arg0._displayedCards, function ( f15_arg0, f15_arg1 )
		if f14_arg0 and f14_arg0[f15_arg0.ref] ~= f14_arg0[f15_arg1.ref] and not f14_arg0 then
			local f15_local0 = f14_arg0[f15_arg0.ref]
			if f15_local0 then
				f15_local0 = not f14_arg0[f15_arg1.ref]
			end
			return f15_local0
		elseif f14_arg0 and f14_arg0[f15_arg0.ref] ~= f14_arg0[f15_arg1.ref] and not f14_arg0 then
			local f15_local0 = f14_arg0[f15_arg0.ref]
			if f15_local0 then
				f15_local0 = not f14_arg0[f15_arg1.ref]
			end
			return f15_local0
		elseif f14_arg0 and f14_arg0[f15_arg0.ref] ~= f14_arg0[f15_arg1.ref] and not f14_arg0 then
			local f15_local0 = f14_arg0[f15_arg0.ref]
			if f15_local0 then
				f15_local0 = not f14_arg0[f15_arg1.ref]
			end
			return f15_local0
		end
		local f15_local0 = f14_arg0.sortValue
		if not f15_local0 then
			return 
		elseif f15_local0 == CallingCardUtils.SortOptions.DEFAULT then
			local f15_local1, f15_local2 = LOOT.GetDefaultSorting( f14_arg0, f15_arg0, f15_arg1 )
			if f15_local2 then
				return f15_local1
			end
		elseif f15_local0 == CallingCardUtils.SortOptions.LOCKED then
			if f15_arg0.isUnlocked ~= f15_arg1.isUnlocked then
				local f15_local1
				if not f15_arg0.isUnlocked then
					f15_local1 = f15_arg1.isUnlocked
				else
					f15_local1 = false
				end
				return f15_local1
			end
		elseif f15_local0 == CallingCardUtils.SortOptions.ALPHABETICAL then
			local f15_local1 = string.lower( Engine[0xED84C33EC5F01EA]( f15_arg0.name ) )
			local f15_local2 = string.lower( Engine[0xED84C33EC5F01EA]( f15_arg1.name ) )
			if IsLanguageArabic() then
				f15_local1 = string.reverse( f15_local1 )
				f15_local2 = string.reverse( f15_local2 )
			end
			if f15_local1 ~= f15_local2 then
				return f15_local1 < f15_local2
			end
		elseif f15_local0 == CallingCardUtils.SortOptions.NEWEST then
			if f15_arg0.isUnlocked ~= f15_arg1.isUnlocked then
				local f15_local1 = f15_arg0.isUnlocked
				if f15_local1 then
					f15_local1 = not f15_arg1.isUnlocked
				end
				return f15_local1
			elseif f15_arg0.lastUpdated ~= f15_arg1.lastUpdated then
				return f15_arg1.lastUpdated < f15_arg0.lastUpdated
			end
		else
			local f15_local1 = CallingCardUtils.SortOptionsData[f15_local0]
			local f15_local2
			if f15_local1 then
				f15_local2 = f15_local1
			else
				f15_local2 = f15_local1.parameter
			end
			if f15_local2 == "isMastery" then
				local f15_local3
				if f15_arg0[f15_local2] ~= true then
					f15_local3 = f15_arg0.isWeaponMastery
				else
					f15_local3 = true
				end
				local f15_local4
				if f15_arg1[f15_local2] ~= true then
					f15_local4 = f15_arg1.isWeaponMastery
				else
					f15_local4 = true
				end
				if f15_local3 and f15_local4 and f15_arg0.isUnlocked ~= f15_arg1.isUnlocked then
					local f15_local5 = f15_arg0.isUnlocked
					if f15_local5 then
						f15_local5 = not f15_arg1.isUnlocked
					end
					return f15_local5
				elseif f15_arg0[f15_local2] ~= f15_arg1[f15_local2] then
					local f15_local5 = f15_arg0[f15_local2]
					if f15_local5 then
						f15_local5 = not f15_arg1[f15_local2]
					end
					return f15_local5
				elseif f15_local3 ~= f15_local4 then
					local f15_local5
					if f15_local3 then
						f15_local5 = f15_local3
					else
						f15_local5 = not f15_local4
					end
					return f15_local5
				end
				local f15_local5 = f15_arg0.isUnlocked
				if f15_local5 then
					f15_local5 = not f15_arg1.isUnlocked
				end
				return f15_local5
			elseif f15_arg0[f15_local2] and f15_arg1[f15_local2] and f15_arg0.isUnlocked ~= f15_arg1.isUnlocked then
				local f15_local3 = f15_arg0.isUnlocked
				if f15_local3 then
					f15_local3 = not f15_arg1.isUnlocked
				end
				return f15_local3
			elseif f15_arg0[f15_local2] ~= f15_arg1[f15_local2] then
				local f15_local3 = f15_arg0[f15_local2]
				if f15_local3 then
					f15_local3 = not f15_arg1[f15_local2]
				end
				return f15_local3
			end
			local f15_local3 = f15_arg0.isUnlocked
			if f15_local3 then
				f15_local3 = not f15_arg1.isUnlocked
			end
			return f15_local3
		end
		if f15_arg0.originProject ~= f15_arg1.originProject and not f14_arg0 then
			return f15_arg1.originProject < f15_arg0.originProject
		end
	end )
end

CallingCardUtils.SortCallingCardsMasteryChallenges = function ( f12_arg0, f12_arg1 )
	if not f12_arg1 then
		
	else
		
	end
	table.sort( f12_arg0._displayedCards, function ( f13_arg0, f13_arg1 )
		local f13_local0 = f12_arg0.favorites
		local f13_local1 = f12_arg0.trackedList
		local f13_local2 = f12_arg0.newLootCards
		if f13_local0 and f13_local0[f13_arg0.challengeImage] ~= f13_local0[f13_arg1.challengeImage] then
			local f13_local3 = f13_local0[f13_arg0.challengeImage]
			if f13_local3 then
				f13_local3 = not f13_local0[f13_arg1.challengeImage]
			end
			return f13_local3
		elseif f13_local1 and f13_local1[f13_arg0.challengeImage] ~= f13_local1[f13_arg1.challengeImage] then
			local f13_local3 = f13_local1[f13_arg0.challengeImage]
			if f13_local3 then
				f13_local3 = not f13_local1[f13_arg1.challengeImage]
			end
			return f13_local3
		elseif f13_local2 and f13_local2[f13_arg0.ref] ~= f13_local2[f13_arg1.ref] then
			local f13_local3 = f13_local2[f13_arg0.ref]
			if f13_local3 then
				f13_local3 = not f13_local2[f13_arg1.ref]
			end
			return f13_local3
		end
		local f13_local3 = f12_arg0.sortValue
		if not f13_local3 then
			return 
		elseif f13_local3 == CallingCardUtils.SortOptions.ALPHABETICAL then
			local f13_local4 = string.lower( Engine[0xED84C33EC5F01EA]( f13_arg0.challengeName ) )
			local f13_local5 = string.lower( Engine[0xED84C33EC5F01EA]( f13_arg1.challengeName ) )
			if f13_local4 ~= f13_local5 then
				return f13_local4 < f13_local5
			end
		else
			if f13_local3 == CallingCardUtils.SortOptions.DEFAULT then
				if f13_arg0.order == f13_arg1.order then
					return f13_arg0.id < f13_arg1.id
				else
					return f13_arg0.order < f13_arg1.order
				end
			end
			local f13_local4 = CallingCardUtils.SortOptionsData[f13_local3]
			local f13_local5
			if f13_local4 then
				f13_local5 = f13_local4
			else
				f13_local5 = f13_local4.parameter
			end
			if f13_arg0[f13_local5] ~= f13_arg1[f13_local5] then
				local f13_local6 = f13_arg0[f13_local5]
				if f13_local6 then
					f13_local6 = not f13_arg1[f13_local5]
				end
				return f13_local6
			end
		end
	end )
end

local f0_local5 = function ( f11_arg0, f11_arg1 )
	local f11_local0 = CallingCardUtils.IsFavorite( f11_arg1.ref )
	local f11_local1 = CallingCardUtils.IsTracked( f11_arg0, f11_arg1.ref )
	local f11_local2 = nil
	if f11_arg1.isUnlocked then
		if f11_local0 then
			local f11_local3 = 0xABD3010A9142AB9
			if not f11_local3 then
				f11_local2 = f11_local3
			end
		end
		f11_local2 = 0xA483515816C5791
	else
		if f11_local1 then
			local f11_local3 = 0x4B68CAC22258852
			if not f11_local3 then
				f11_local2 = f11_local3
			else
				f11_local2 = 0x427F92A15A9285A
			end
		end
		f11_local2 = 0x427F92A15A9285A
	end
	return f11_local2
end

local f0_local6 = function ( f10_arg0, f10_arg1 )
	if f10_arg1.isStore then
		return 0xC5039C1061CBDE7
	elseif BATTLEPASS.IsOwned( f10_arg0:GetMenuControllerIndex() ) then
		return 0xA42412D001009D6
	else
		return 0x68149A60A20572C
	end
end

CallingCardUtils.SetCardContextualMenu = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = f5_arg0.CallingCardButton or f5_arg0
	f5_local0:SetupContextualMenu()
	local f5_local1 = {
		button = "button_alt2",
		id = "playerCardAddToFavorite",
		actionName = Engine[0xED84C33EC5F01EA]( f0_local0( f5_arg1:GetMenuControllerIndex(), f5_arg2 ) ),
		actionFunction = function ()
			f5_arg0:SetFavorite()
		end,
		conditionFunction = function ()
			local f8_local0 = CallingCardUtils.IsFavorite( f5_arg0.ref )
			local f8_local1
			if f5_arg0._favoriteLoots.count >= CallingCardUtils.MAX_FAVORITES then
				f8_local1 = f8_local0
			else
				f8_local1 = true
			end
			local f8_local2
			if f8_local1 then
				f8_local2 = f8_local1
			else
				f8_local2 = f5_arg0.isUnlocked
			end
			return f8_local2
		end
	}
	local f5_local2 = nil
	if (f5_arg1._isMasteryMenu or f5_arg1._isPrestigeMenu) ~= true then
		f5_local2 = {
			button = "button_alt1",
			id = "purchaseCallingCardData",
			actionName = Engine[0xED84C33EC5F01EA]( f0_local0( f5_arg1, f5_arg2 ) ),
			actionFunction = function ()
				f5_arg0.CallingCardPreviewPanel:SetBattlepassStoreAction( {
					isButtonAction = true,
					controller = f5_arg0
				} )
			end,
			conditionFunction = function ()
				local f6_local0 = f5_arg0.isPremium
				if f6_local0 then
					f6_local0 = not f5_arg0.isUnlocked
				end
				return f6_local0
			end
		}
	end
	f5_local0:AddContextualMenuAction( f5_local1 )
	if f5_local2 then
		f5_local0:AddContextualMenuAction( f5_local2 )
	end
end

CallingCardUtils.UpdateFilterPrompt = function ( f3_arg0 )
	if not f3_arg0.FilterPrompt then
		
	else
		
	end
	if not CallingCardUtils.GetSortValue() then
		CallingCardUtils.SetSortValue( CallingCardUtils.SortOptions.DEFAULT )
	end
	local f3_local0 = CallingCardUtils.SortOptionsData[CallingCardUtils.GetSortValue()].string
	local f3_local1 = Engine[0xED84C33EC5F01EA]( 0xB2121020707CB79 )
	if f3_arg0.isPremiumMenu then
		f3_local1 = Engine[0xED84C33EC5F01EA]( 0xAA7DDA55BE557E2, f3_local0 )
	else
		local f3_local2 = 1
		local f3_local3 = 2
		local f3_local4 = {}
		table.insert( f3_local4, f3_local0 )
		for f3_local8, f3_local9 in ipairs( f3_arg0.filterOptionsList ) do
			local f3_local10 = f3_arg0.filterOptions[f3_local9]
			if f3_local10 and f3_local10.value then
				table.insert( f3_local4, f3_local10.name )
			end
		end
		f3_local5 = 0xB6A4275A3437C60
		f3_local6 = 0x5E11A0E83F47E5A
		f3_local7 = #f3_local4
		f3_local8 = #f3_arg0.filterOptionsList + 1
		if f3_local7 == 1 then
			f3_local1 = Engine[0xED84C33EC5F01EA]( 0xD3E9448D6E5B370, f3_local4[f3_local2], f3_local5 )
		elseif f3_local7 == 2 then
			f3_local1 = Engine[0xED84C33EC5F01EA]( 0xD3E9448D6E5B370, f3_local4[f3_local2], f3_local4[f3_local3] )
		elseif 2 < f3_local7 and f3_local7 < f3_local8 then
			f3_local1 = Engine[0xED84C33EC5F01EA]( 0xC977CAA8734D3FD, f3_local4[f3_local2], f3_local4[f3_local3], f3_local7 - 2 )
		elseif f3_local8 <= f3_local7 then
			f3_local1 = Engine[0xED84C33EC5F01EA]( 0xD3E9448D6E5B370, f3_local4[f3_local2], f3_local6 )
		end
	end
	f3_arg0.FilterPrompt:SetupPrompts( {
		{
			isLocalized = true,
			buttonPrompt = ButtonMap.button_right_trigger,
			text = f3_local1,
			action = function ( f4_arg0, f4_arg1 )
				local f4_local0 = f3_arg0
				local f4_local1 = CallingCardUtils.GetSortValue()
				if not f4_local1 then
					f4_local1 = f3_arg0.sortOptions
				end
				f4_local0._oldSortValue = f4_local1
				CallingCardUtils.OpenFilterMenu( f3_arg0 )
			end
		}
	} )
end

CallingCardUtils.OpenFilterMenu = function ( f1_arg0 )
	local f1_local0 = f1_arg0._controllerIndex
	local f1_local1 = MenuBuilder.BuildRegisteredType( "CallingCardFilterPopup", {
		menuTitleRef = 0xF99334C014A82F9,
		controllerIndex = f1_local0,
		menu = f1_arg0
	} )
	LUI.FlowManager.RequestPopupMenu( nil, "FlyInPopup", true, f1_local0, false, {
		flyInRight = true,
		widget = f1_local1
	} )
	f1_local1:addEventHandler( "menu_close", function ( f2_arg0, f2_arg1 )
		f1_arg0:FilterCloseEventHandler()
	end )
end

