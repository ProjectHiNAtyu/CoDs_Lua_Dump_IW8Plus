-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
SCOREBOARD = SCOREBOARD or {}
SCOREBOARD.columnsPerMode = {}
SCOREBOARD.maxVisibleTeamSize = 10
SCOREBOARD.maxInGameModeColumns = 2
SCOREBOARD.menus = {
	InGame = 1,
	AAR = 2
}
SCOREBOARD.GainFocusSFX = "ui_hilite"
SCOREBOARD.ping = {
	thresholds = {
		good = 150,
		poor = 250,
		fair = 200
	}
}
SCOREBOARD.type = {
	PVPVE = 3,
	MP = 1,
	CP = 2
}
SCOREBOARD.RowImageType = {
	PING = 2,
	DEATH = 1,
	MIC = 0
}
SCOREBOARD.RowImageTextureIndexTable = {
	PING_TEXTURE_3 = 2,
	PING_TEXTURE_2 = 1,
	MIC_TALK_TEXTURE = 5,
	REVIVE_TEXTURE = 7,
	DOGTAGS_MINIMAP_TEXTURE = 8,
	BOMB_TEXTURE = 9,
	DEATH_TEXTURE = 6,
	PING_TEXTURE_4 = 3,
	PING_TEXTURE_1 = 0,
	MIC_MUTE_TEXTURE = 4
}
SCOREBOARD.InitializeGameTypeColumns = function ( f23_arg0 )
	SCOREBOARD.columnReferences = {}
	SCOREBOARD.columnsPerMode = {}
	SCOREBOARD.columnsPerMode[f23_arg0] = {}
	local f23_local0 = CSV.ReadRow( CSV.scoreboardGameModeColumns, StringTable.BJJBBCJGEJ( CSV.scoreboardGameModeColumns.file, CSV.scoreboardGameModeColumns.cols.gameTypeRef, f23_arg0 ) )
	if not f23_local0 or not f23_local0.numCols or f23_local0.numCols == "" then
		f23_local0 = CSV.ReadRow( CSV.scoreboardGameModeColumns, StringTable.BJJBBCJGEJ( CSV.scoreboardGameModeColumns.file, CSV.scoreboardGameModeColumns.cols.gameTypeRef, "default" ) )
	end
	local f23_local1 = tonumber( f23_local0.numCols ) or 4
	for f23_local2 = 0, f23_local1 - 1, 1 do
		local f23_local5 = f23_local0["colRef" .. f23_local2]
		assert( f23_local5 )
		local f23_local6 = {
			value = f23_local5
		}
		for f23_local7 = 0, 2, 1 do
			local f23_local10 = "extraScore" .. f23_local7
			if f23_local0[f23_local10] == f23_local5 then
				f23_local6.value = f23_local10
			end
		end
		local f23_local7 = StringTable.DIFCHIGDFB( CSV.gameStats.file, CSV.gameStats.cols.ref, f23_local5, CSV.gameStats.cols.name )
		assert( f23_local7 )
		f23_local6.name = Engine.CBBHFCGDIC( f23_local7 )
		table.insert( SCOREBOARD.columnReferences, f23_local5 )
		SCOREBOARD.columnsPerMode[f23_arg0][f23_local2 + 1] = f23_local6
	end
end

local f0_local0 = function ()
	local f22_local0 = Game.EBEHIFHGD()
	local f22_local1 = Engine.IJEBHJIJF()
	return f22_local0
end

SCOREBOARD.GetGameType = function ( f21_arg0 )
	local f21_local0 = nil
	if Engine.EAIICIFIFA() then
		f21_local0 = Dvar.DHEEJCCJBH( "MOLPOSLOMO" )
	elseif SCOREBOARD.IsAARScoreboard() then
		local f21_local1 = PlayerData.BFFBGAJGD( f21_arg0, CoD.StatsGroup.Common )
		f21_local0 = f21_local1.round.gameMode:get()
	else
		f21_local0 = f0_local0()
	end
	return f21_local0
end

SCOREBOARD.GetGameTypeNameWithModifier = function ( f20_arg0, f20_arg1 )
	local f20_local0 = StringTable.DIFCHIGDFB( CSV.gameTypesTable.file, CSV.gameTypesTable.cols.ref, f20_arg0, CSV.gameTypesTable.cols.name )
	local f20_local1
	if f20_local0 then
		f20_local1 = Engine.CBBHFCGDIC( f20_local0 )
		if not f20_local1 then
		
		else
			if Engine.ECHCFGDDDF() then
				if f20_arg1 == MP.GAME_TYPE_MODIFIERS.tactical then
					return Engine.CBBHFCGDIC( "LUA_MENU_MP/REALISM_GAME_TYPE", f20_local1 )
				elseif f20_arg1 == MP.GAME_TYPE_MODIFIERS.hardcore then
					return Engine.CBBHFCGDIC( "LUA_MENU_MP/HARDCORE_GAME_TYPE", f20_local1 )
				end
			end
			return f20_local1
		end
	end
	f20_local1 = ""
end

SCOREBOARD.GetGameModeFieldName = function ( f19_arg0, f19_arg1 )
	local f19_local0 = SCOREBOARD.columnsPerMode[SCOREBOARD.GetGameType( f19_arg0 )]
	if not f19_local0 then
		f19_local0 = SCOREBOARD.columnsPerMode.default
	end
	return f19_local0[f19_arg1].value
end

SCOREBOARD.GetPingIcon = function ( f18_arg0 )
	assert( f18_arg0 )
	local f18_local0 = nil
	local f18_local1 = SCOREBOARD.ping.thresholds.poor
	local f18_local2 = SCOREBOARD.ping.thresholds.fair
	if f18_arg0 <= SCOREBOARD.ping.thresholds.good then
		f18_local0 = "hud_ping_4"
	elseif f18_arg0 <= f18_local2 then
		f18_local0 = "hud_ping_3"
	elseif f18_arg0 <= f18_local1 then
		f18_local0 = "hud_ping_2"
	else
		f18_local0 = "hud_ping_1"
	end
	return f18_local0
end

SCOREBOARD.CalculateKillDeathRatio = function ( f17_arg0, f17_arg1 )
	assert( f17_arg0, f17_arg1 )
	if f17_arg1 == 0 then
		f17_arg1 = 1
	end
	local f17_local0 = f17_arg0 / f17_arg1
	local f17_local1 = "%.2f"
	if 100 < f17_local0 then
		f17_local1 = "%.0f"
	elseif 10 < f17_local0 then
		f17_local1 = "%.1f"
	end
	if 999 < f17_local0 then
		f17_local0 = 999
	end
	return string.format( f17_local1, f17_local0 )
end

SCOREBOARD.GetColumnNames = function ( f16_arg0 )
	return SCOREBOARD.columnReferences
end

SCOREBOARD.IsAARScoreboard = function ()
	return Engine.DDJFBBJAIG()
end

local f0_local1 = function ( f14_arg0, f14_arg1, f14_arg2 )
	local f14_local0 = {}
	local f14_local1 = f14_arg1 .. ".scoreboard.team." .. f14_arg0
	if Engine.ECHCFGDDDF() then
		local f14_local2 = MP.GetTeamInfo( f14_arg0 )
		f14_local0.name = LUI.DataSourceInGlobalModel.new( f14_local1 .. ".name", f14_local2.name )
		f14_local0.watermark = LUI.DataSourceInGlobalModel.new( f14_local1 .. ".watermark", f14_local2.watermark )
		f14_local0.logo = LUI.DataSourceInGlobalModel.new( f14_local1 .. ".logo", f14_local2.largeLogo )
	end
	return f14_local0
end

SCOREBOARD.GetCurrentNumberPlayersAAR = function ( f13_arg0, f13_arg1 )
	local f13_local0 = DataSources.frontEnd.AAR
	local f13_local1 = assert
	local f13_local2
	if f13_local0 then
		f13_local2 = f13_local0
	else
		f13_local2 = f13_local0.scoreboard
	end
	f13_local1( f13_local2 )
	f13_local0 = f13_local0.scoreboard
	if Engine.EAIICIFIFA() then
		return f13_local0.numCPPlayers:GetValue( 0 )
	elseif f13_arg1 == Teams.allies then
		return f13_local0.numPlayersTeamA:GetValue( 0 )
	elseif f13_arg1 == Teams.axis then
		return f13_local0.numPlayersTeamB:GetValue( 0 )
	else
		return f13_local0.numFFAPlayers:GetValue( 0 )
	end
end

SCOREBOARD.InitAARScoreboardDataSources = function ( f12_arg0 )
	SCOREBOARD.InitializeScoreboardUtils( f12_arg0 )
	local f12_local0 = "frontEnd.AAR"
	if Engine.ECHCFGDDDF() and SCOREBOARD.IsAARScoreboard() then
		DataSources.frontEnd.AAR.scoreboard.numPlayersTeamA = LUI.DataSourceInGlobalModel.new( f12_local0 .. ".scoreBoard.players.numPlayersTeamA" )
		DataSources.frontEnd.AAR.scoreboard.numPlayersTeamB = LUI.DataSourceInGlobalModel.new( f12_local0 .. ".scoreBoard.players.numPlayersTeamB" )
		DataSources.frontEnd.AAR.scoreboard.numFFAPlayers = LUI.DataSourceInGlobalModel.new( f12_local0 .. ".scoreBoard.players.numFFAPlayers" )
		DataSources.frontEnd.AAR.scoreboard.teamFFA = f0_local0( Teams.free, f12_local0, f12_arg0 )
	elseif Engine.EAIICIFIFA() then
		DataSources.frontEnd.AAR.scoreboard.numCPPlayers = LUI.DataSourceInGlobalModel.new( f12_local0 .. ".scoreBoard.players.numCPPlayers" )
	end
end

SCOREBOARD.InitializeScoreboardUtils = function ( f11_arg0 )
	local f11_local0 = SCOREBOARD.GetGameType( f11_arg0 )
	SCOREBOARD.InitializeGameTypeColumns( "default" )
	SCOREBOARD.InitializeGameTypeColumns( f11_local0 )
end

SCOREBOARD.GetColReferenceName = function ( f10_arg0 )
	return StringTable.DIFCHIGDFB( CSV.gameStats.file, CSV.gameStats.cols.ref, f10_arg0, CSV.gameStats.cols.name )
end

SCOREBOARD.GetColReferenceIcon = function ( f9_arg0 )
	local f9_local0 = StringTable.DIFCHIGDFB( CSV.gameStats.file, CSV.gameStats.cols.ref, f9_arg0, CSV.gameStats.cols.icon )
	if f9_local0 == nil or f9_local0 == "" then
		f9_local0 = "icon_scoreboard_score"
	end
	return f9_local0
end

SCOREBOARD.GetMaxColumn = function ( f8_arg0 )
	local f8_local0 = #SCOREBOARD.GetColumnNames( f8_arg0 )
	local f8_local1 = 4
	if CONDITIONS.InGame() then
		if CONDITIONS.IsArenaGameType() then
			f8_local1 = 3
		elseif not SCOREBOARD.IsPostGameScoreboard( f8_arg0 ) then
			f8_local1 = 2
		end
	end
	local f8_local2
	if f8_local0 < f8_local1 and not f8_local0 then
		f8_local2 = f8_local0
	else
		f8_local2 = f8_local1
	end
	return f8_local2
end

SCOREBOARD.IsPostGameScoreboard = function ( f7_arg0 )
	local f7_local0 = false
	if DataSources.inGame ~= nil and f7_arg0 ~= nil and CONDITIONS.IsCoreMultiplayer() then
		f7_local0 = DataSources.inGame.MP.match.matchOver:GetValue( f7_arg0 )
	end
	return f7_local0
end

SCOREBOARD.ToggleMuteAll = function ( f6_arg0 )
	local f6_local0 = not Lobby.FJCJFBBF()
	local f6_local1 = SCOREBOARD.IsAARScoreboard()
	local f6_local2 = false
	if not f6_local1 and not Game.BFEEGCHICA( f6_arg0, "ui_scoreboard_freeze" ) then
		Game.BFGAACEHBH( f6_arg0, f6_local0 )
		f6_local2 = true
	elseif f6_local1 and Lobby.BBDICGHE() then
		Lobby.BFGAACEHBH( f6_arg0, f6_local0 )
		f6_local2 = true
	end
	if f6_local2 then
		local f6_local3 = {
			icon = "hud_icon_player",
			displayTime = 3000,
			header = Engine.CBBHFCGDIC( "LUA_MENU/VOICE_CHAT_MUTE_TOAST_HEADER" ),
			controllerIndex = f6_arg0
		}
		if f6_local0 then
			f6_local3.description = Engine.CBBHFCGDIC( "LUA_MENU/VOICE_CHAT_MUTE_TOAST_ALL_MUTED" )
		else
			f6_local3.description = Engine.CBBHFCGDIC( "LUA_MENU/VOICE_CHAT_MUTE_TOAST_ALL_UNMUTED" )
		end
		local f6_local4 = Engine.DBFFAEEFGJ()
		f6_local4:dispatchEventToRoot( {
			name = "send_toast_notification",
			immediate = true,
			options = f6_local3
		} )
	end
end

SCOREBOARD.GetRowDataIndex = function ( f5_arg0, f5_arg1, f5_arg2 )
	if f5_arg0 <= SCOREBOARD.maxVisibleTeamSize or f5_arg2 == 0 then
		return f5_arg2
	end
	local f5_local0 = f5_arg1 - 1
	local f5_local1 = (SCOREBOARD.maxVisibleTeamSize - 2) / 2
	local f5_local2 = 0
	if f5_local0 <= f5_local1 + 1 then
		f5_local2 = 0
	elseif f5_arg0 - f5_local1 - 1 <= f5_local0 then
		f5_local2 = f5_arg0 - SCOREBOARD.maxVisibleTeamSize
	else
		f5_local2 = f5_local0 - f5_local1 - 1
	end
	return f5_arg2 + f5_local2
end

SCOREBOARD.UpdateMutePrompt = function ( f4_arg0, f4_arg1, f4_arg2 )
	if not Engine.ECHCFGDDDF() or not CODCASTER.CanCODCast() or not CODCASTER.IsCODCaster() then
		if f4_arg0 then
			if Engine.BGGJFFFAFG( f4_arg2 ) then
				f4_arg1.ButtonHelperText:PushButtonPrompt( {
					side = "right",
					priority = 1,
					gamepad_only = true,
					button_ref = "button_dpad_right",
					helper_text = Engine.CBBHFCGDIC( "LUA_MENU/UNMUTE_ALL" )
				} )
			else
				f4_arg1.ButtonHelperText:PushButtonPrompt( {
					kbm_only = true,
					priority = 1,
					ignoreTooltip = true,
					clickable = true,
					side = "right",
					button_ref = "button_r3",
					helper_text = Engine.CBBHFCGDIC( "LUA_MENU/UNMUTE_ALL" )
				} )
			end
		elseif Engine.BGGJFFFAFG( f4_arg2 ) then
			f4_arg1.ButtonHelperText:PushButtonPrompt( {
				side = "right",
				priority = 1,
				gamepad_only = true,
				button_ref = "button_dpad_right",
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU/MUTE_ALL" )
			} )
		else
			f4_arg1.ButtonHelperText:PushButtonPrompt( {
				kbm_only = true,
				priority = 1,
				ignoreTooltip = true,
				clickable = true,
				side = "right",
				button_ref = "button_r3",
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU/MUTE_ALL" )
			} )
		end
	end
end

SCOREBOARD.PrintDebugRowDataString = function ( f3_arg0, f3_arg1 )
	if f3_arg0 then
		local f3_local0 = Dvar.IBEGCHEFE( "LPRMKKQOS" )
		if not f3_local0 then
			if f3_arg1 then
				f3_local0 = f3_arg1
			else
				f3_local0 = f3_arg1.enableDebugOverride
			end
		end
		if f3_local0 then
			local f3_local1
			if SCOREBOARD.IsAARScoreboard() then
				f3_local1 = "\n Frontend "
			else
				f3_local1 = "\n In-game"
			end
			DebugPrint( f3_local1 .. "\n --- playerName: " .. tostring( f3_arg0.name ) .. "\n ---- team :" .. tostring( f3_arg0.team ) .. "\n ---- clientNum :" .. tostring( f3_arg0.clientNum ) .. "\n ---- rank :" .. tostring( f3_arg0.rank ) .. "\n ---- extra score 0 :" .. tostring( f3_arg0.extraScore0 ) .. "\n ---- extra score 1 :" .. tostring( f3_arg0.extraScore1 ) .. "\n ---- extra score 2 :" .. tostring( f3_arg0.extraScore2 ) .. "\n ---- extra score 3 :" .. tostring( f3_arg0.extraScore3 ) .. "\n ---- extra score 4 :" .. tostring( f3_arg0.extraScore4 ) .. "\n ---- extra score 5 :" .. tostring( f3_arg0.extraScore5 ) .. "\n ---- kills :" .. tostring( f3_arg0.kills ) .. "\n ---- score :" .. tostring( f3_arg0.score ) .. "\n ---- damage :" .. tostring( f3_arg0.damage ) )
		end
	end
end

SCOREBOARD.GetName = function ()
	local f2_local0 = Game.EBEHIFHGD()
	local f2_local1 = nil
	if Engine.EAIICIFIFA() then
		if Dvar.DHEEJCCJBH( "MOLPOSLOMO" ) == "cp_pvpve" then
			f2_local1 = "ScoreboardPvPvE"
		else
			f2_local1 = "CPMenuMap"
		end
	elseif CONDITIONS.IsWZPayload() then
		if Dvar.CFHDGABACF( "debug_gsc_spawn_choice_enabled" ) == 1 then
			f2_local1 = "BRMenuMap"
		else
			f2_local1 = "WZPayloadMenuMap"
		end
	elseif CONDITIONS.IsMagmaGameMode() then
		if CONDITIONS.IsRealismMode() then
			f2_local1 = "BRRMenuMap"
		else
			f2_local1 = "BRMenuMap"
		end
	elseif CONDITIONS.IsArenaGameType() then
		f2_local1 = "ArenaScoreboard"
	elseif CONDITIONS.IsTrialGameType() then
		f2_local1 = "TrialScoreboard"
	elseif GameX.gameModeIsFFA( f2_local0 ) then
		f2_local1 = "FFAScoreboard"
	else
		f2_local1 = "TeamScoreboard"
	end
	return f2_local1
end

SCOREBOARD.GetCurrentScoreBoardMenu = function ( f1_arg0, f1_arg1 )
	local f1_local0 = nil
	if SCOREBOARD.IsAARScoreboard() then
		f1_local0 = f1_arg0:GetCurrentMenu()
	else
		local f1_local1 = Engine.DBFFAEEFGJ()
		f1_local0 = f1_local1.flowManager:GetMenuByName( SCOREBOARD.GetName() )
		if f1_local0 == nil then
			f1_local0 = LUI.ScoreboardLayer.GetScoreboardMenu( f1_arg1 )
		end
	end
	return f1_local0
end

