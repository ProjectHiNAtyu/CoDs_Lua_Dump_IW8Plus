-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 27-09-2025 22:41
TAB = TAB or {}
TAB.MP = {
	OPERATORS = 3,
	PLAY = 0,
	WEAPONS = 1,
	STORE = 6,
	BATTLE_PASS = 5,
	BARRACKS = 4,
	EVENT = 7,
	CHALLENGES = 2
}
TAB.TAB_EVENT = {
	FOCUS_TAB = 1,
	MOUSE_ENTER = 2,
	LEFT_MOUSE_UP = 5,
	LEFT_MOUSE_DOWN = 4,
	MOUSE_LEAVE = 3
}
TAB.SetTabState = function ( f16_arg0, f16_arg1 )
	local f16_local0
	if f16_arg1 then
		f16_local0 = f16_arg1
	else
		f16_local0 = f16_arg1.event ~= TAB.TAB_EVENT.FOCUS_TAB
	end
	local f16_local1
	if f16_arg1 then
		f16_local1 = f16_arg1
	else
		f16_local1 = f16_arg1.event == TAB.TAB_EVENT.MOUSE_ENTER
	end
	local f16_local2
	if f16_arg1 then
		f16_local2 = f16_arg1
	else
		f16_local2 = f16_arg1.focusWithSound
	end
	if not f16_arg0._disabled then
		if f16_local0 then
			if f16_arg1 and f16_arg1.event == TAB.TAB_EVENT.MOUSE_ENTER then
				if f16_arg0.focused then
					WZWIP.AnimateThemeElement( f16_arg0, "Highlighted" )
				else
					WZWIP.AnimateThemeElement( f16_arg0, "Focused" )
				end
			elseif f16_arg1 and f16_arg1.event == TAB.TAB_EVENT.LEFT_MOUSE_UP then
				WZWIP.AnimateThemeElement( f16_arg0, "Highlighted" )
			elseif f16_arg0.focused then
				WZWIP.AnimateThemeElement( f16_arg0, "FocusedNoSound" )
			else
				WZWIP.AnimateThemeElement( f16_arg0, "UnFocused" )
			end
		elseif f16_arg0.focused then
			local f16_local3 = WZWIP.AnimateThemeElement
			local f16_local4 = f16_arg0
			local f16_local5
			if f16_local2 then
				f16_local5 = "Focused"
			else
				f16_local5 = "FocusedNoSound"
			end
			f16_local3( f16_local4, f16_local5 )
		else
			WZWIP.AnimateThemeElement( f16_arg0, "UnFocused" )
		end
	end
	if f16_arg0._isBattlePassTab then
		local f16_local3 = WZWIP.AnimateThemeElement
		local f16_local4 = f16_arg0
		local f16_local5
		if f16_arg0.focused or f16_local1 then
			f16_local5 = "BattlePassTabOver"
		else
			f16_local5 = "BattlePassTabUp"
		end
		f16_local3( f16_local4, f16_local5 )
	end
	if f16_arg0._isFreeItem then
		local f16_local3 = WZWIP.AnimateThemeElement
		local f16_local4 = f16_arg0
		local f16_local5
		if f16_arg0.focused or f16_local1 then
			f16_local5 = "FreeBundleTabOver"
		else
			f16_local5 = "FreeBundleTabUp"
		end
		f16_local3( f16_local4, f16_local5 )
	end
	if f16_arg0._isEventTab then
		local f16_local3 = SEASONAL_EVENT.GetCurrentInitSetupSequenceName()
		if f16_arg0.focused or f16_local1 then
			local f16_local6 = f16_local3 .. "TabOver"
			if not f16_local6 then
				f16_local3 = f16_local6
			end
		end
		f16_local3 = f16_local3 .. "TabUp"
	end
end

TAB.SetUp = function ( f4_arg0, f4_arg1 )
	assert( f4_arg0._sequences )
	assert( f4_arg0._sequences.UnFocused )
	assert( f4_arg0._sequences.Focused )
	assert( f4_arg0._sequences.Disabled )
	assert( f4_arg0._sequences.Highlighted )
	assert( f4_arg0._sequences.FocusedNoSound )
	f4_arg0.Enable = function ( f15_arg0 )
		f15_arg0._disabled = false
		WZWIP.AnimateThemeElement( f15_arg0, "UnFocused" )
	end
	
	f4_arg0.Disable = function ( f14_arg0 )
		f14_arg0._disabled = true
		WZWIP.AnimateThemeElement( f14_arg0, "Disabled" )
	end
	
	f4_arg0.IsEnabled = function ( f13_arg0 )
		return not f13_arg0._disabled
	end
	
	f4_arg0:registerEventHandler( "focus_tab", function ( element, event )
		element.focused = event.index == element.index
		TAB.SetTabState( element, {
			event = TAB.TAB_EVENT.FOCUS_TAB,
			focusWithSound = event.playSound
		} )
		element.TabText:SetParentHasFocus( element.focused )
	end )
	f4_arg0:registerEventHandler( LUI.TabManager.TAB_SWITCH_EVENT, function ( element, event )
		if event.index == f4_arg0.index then
			f4_arg0:dispatchEventToCurrentMenu( {
				name = LUI.TabManager.TAB_SWITCH_EVENT,
				controller = event.controller,
				index = event.index
			} )
		end
		return true
	end )
	f4_arg0:SetHandleMouse( true )
	f4_arg0:registerEventHandler( "mouseenter", function ( element, event )
		Engine.BJDBIAGIDA( CoD.SFX.MouseOver )
		TAB.SetTabState( element, {
			event = TAB.TAB_EVENT.MOUSE_ENTER
		} )
	end )
	f4_arg0:registerEventHandler( "mouseleave", function ( element, event )
		TAB.SetTabState( element, {
			event = TAB.TAB_EVENT.MOUSE_LEAVE
		} )
		if not element.focused and element._disabled then
			element._sequences.Disabled()
		end
		element:setFocus( false )
	end )
	f4_arg0:registerEventHandler( "leftmousedown", function ( element, event )
		
	end )
	f4_arg0:registerEventHandler( "leftmouseup", function ( element, event )
		if event.inside and not element._disabled then
			element:playSound( "menu_open" )
			element:dispatchEventToCurrentMenu( {
				name = "tab_mouse_select",
				index = element.index
			} )
			TAB.SetTabState( element, {
				event = TAB.TAB_EVENT.LEFT_MOUSE_UP
			} )
		end
	end )
	f4_arg0:registerEventHandler( "tab_disable_blur", function ( element, event )
		ACTIONS.AnimateSequence( element, "NoBlur" )
	end )
	f4_arg0:SubscribeToModelThroughElement( f4_arg0, "disabled", function ( f5_arg0 )
		if DataModel.JJEHAEBDF( f5_arg0 ) then
			f4_arg0:Disable()
		end
	end )
	if IsLanguageArabic() then
		ACTIONS.AnimateSequence( f4_arg0, "AR" )
	elseif IsLanguageKorean() or IsLanguageChinese() then
		ACTIONS.AnimateSequence( f4_arg0, "KORZH" )
	elseif IsLanguageGerman() then
		ACTIONS.AnimateSequence( f4_arg0, "DE" )
	elseif IsLanguageRussian() then
		ACTIONS.AnimateSequence( f4_arg0, "RU" )
	elseif IsLanguageJapanese() then
		ACTIONS.AnimateSequence( f4_arg0, "JP" )
		f4_arg0.TabText:SetMaxVisibleLines( 1 )
	end
	if CONDITIONS.IsWZWipDvarEnabled() then
		ACTIONS.AnimateSequence( f4_arg0, "WZWipSetup" )
	end
end

TAB.UpdateBuiltWidgetOnTabChange = function ( f3_arg0, f3_arg1, f3_arg2, f3_arg3, f3_arg4, f3_arg5, f3_arg6 )
	if f3_arg0[f3_arg2] then
		if f3_arg0[f3_arg2].OnClose then
			f3_arg0[f3_arg2]:OnClose()
		end
		f3_arg0[f3_arg2]:closeTree()
		f3_arg0[f3_arg2] = nil
	end
	f3_arg0[f3_arg2] = MenuBuilder.BuildRegisteredType( f3_arg5, f3_arg6 )
	if f3_arg6.buildPriority then
		f3_arg0[f3_arg2]:setPriority( f3_arg6.buildPriority )
	end
	f3_arg0[f3_arg2]:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 1920, 0, 0 )
	f3_arg0:addElement( f3_arg0[f3_arg2] )
	f3_arg0[f3_arg2]:processEvent( {
		name = "tab_create"
	} )
	if f3_arg0[f3_arg2].OnInit then
		f3_arg0[f3_arg2]:OnInit()
	end
	if f3_arg3 ~= f3_arg1 and f3_arg4 ~= FocusType.MouseOver and f3_arg4 ~= FocusType.MenuFlow then
		f3_arg0[f3_arg2]:processEvent( {
			shouldPlayButtonSound = false,
			name = "gain_focus"
		} )
	end
end

TAB.GetIndex = function ( f2_arg0 )
	local f2_local0 = 0
	local f2_local1 = {
		[TAB.MP.PLAY] = f2_local0
	}
	f2_local0 = f2_local0 + 1
	if CONDITIONS.IsSeasonalEventActive() then
		f2_local1[TAB.MP.EVENT] = f2_local0
		f2_local0 = f2_local0 + 1
	end
	f2_local1[TAB.MP.WEAPONS] = f2_local0
	f2_local0 = f2_local0 + 1
	f2_local1[TAB.MP.OPERATORS] = f2_local0
	f2_local0 = f2_local0 + 1
	if CONDITIONS.IsWeGameGovBanned() then
		return f2_local1[f2_arg0]
	elseif CONDITIONS.IsChallengeTabEnabled() then
		f2_local1[TAB.MP.CHALLENGES] = f2_local0
		f2_local0 = f2_local0 + 1
	end
	f2_local1[TAB.MP.BARRACKS] = f2_local0
	f2_local0 = f2_local0 + 1
	if CONDITIONS.IsBattlePassEnabled() then
		if Dvar.IBEGCHEFE( "NSNRTPNQPN" ) then
			local f2_local2 = Dvar.CFHDGABACF( "NTSLOQPLNT" )
			local f2_local3 = f2_local1[TAB.MP.BARRACKS] + 1
			local f2_local4 = TAB.BPReorder( f2_local2, f2_local3 )
			f2_local1[TAB.MP.PLAY] = f2_local4[f2_local1[TAB.MP.PLAY]]
			if CONDITIONS.IsSeasonalEventActive() then
				f2_local1[TAB.MP.EVENT] = f2_local4[f2_local1[TAB.MP.EVENT]]
			end
			f2_local1[TAB.MP.WEAPONS] = f2_local4[f2_local1[TAB.MP.WEAPONS]]
			if CONDITIONS.IsChallengeTabEnabled() then
				f2_local1[TAB.MP.CHALLENGES] = f2_local4[f2_local1[TAB.MP.CHALLENGES]]
			end
			f2_local1[TAB.MP.OPERATORS] = f2_local4[f2_local1[TAB.MP.OPERATORS]]
			f2_local1[TAB.MP.BARRACKS] = f2_local4[f2_local1[TAB.MP.BARRACKS]]
			f2_local1[TAB.MP.BATTLE_PASS] = f2_local4[f2_local3]
			if CONDITIONS.IsStoreAllowed() then
				f2_local1[TAB.MP.STORE] = f2_local4[f2_local3 + 1]
			end
		else
			f2_local1[TAB.MP.BATTLE_PASS] = f2_local1[TAB.MP.BARRACKS] + 1
			if CONDITIONS.IsStoreAllowed() then
				f2_local1[TAB.MP.STORE] = f2_local1[TAB.MP.BATTLE_PASS] + 1
			end
		end
	elseif CONDITIONS.IsStoreAllowed() and not Dvar.IBEGCHEFE( "NSNRTPNQPN" ) then
		f2_local1[TAB.MP.STORE] = f2_local1[TAB.MP.BARRACKS] + 1
	end
	return f2_local1[f2_arg0]
end

TAB.BPReorder = function ( f1_arg0, f1_arg1 )
	local f1_local0 = 4
	if CONDITIONS.IsBattlePassEnabled() then
		f1_local0 = f1_local0 + 1
	end
	if CONDITIONS.IsStoreAllowed() then
		f1_local0 = f1_local0 + 1
	end
	if CONDITIONS.IsChallengeTabEnabled() then
		f1_local0 = f1_local0 + 1
	end
	if CONDITIONS.IsSeasonalEventActive() then
		f1_local0 = f1_local0 + 1
	end
	f1_arg0 = f1_arg0 - 1
	local f1_local1 = {}
	if f1_arg0 < f1_local0 and 0 < f1_arg0 then
		for f1_local2 = 0, f1_local0 - 1, 1 do
			if f1_arg0 == f1_arg1 then
				f1_local1[f1_local2] = f1_local2
			end
			if f1_arg0 == f1_local0 - 1 then
				if f1_local2 == f1_arg1 then
					f1_local1[f1_local2] = f1_local2 + 1
				end
				if f1_local2 == f1_arg0 then
					f1_local1[f1_local2] = f1_arg1
				else
					f1_local1[f1_local2] = f1_local2
				end
			end
			if f1_local2 == f1_arg0 then
				f1_local1[f1_local2] = f1_local2 + 1
			end
			if f1_local2 == f1_arg1 then
				f1_local1[f1_local2] = f1_arg0
			end
			if f1_arg0 < f1_local2 and f1_local2 ~= f1_local0 - 1 then
				f1_local1[f1_local2] = f1_local2 + 1
			else
				f1_local1[f1_local2] = f1_local2
			end
		end
		return f1_local1
	else
		for f1_local2 = 0, f1_local0 - 1, 1 do
			f1_local1[f1_local2] = f1_local2
		end
		return f1_local1
	end
end

