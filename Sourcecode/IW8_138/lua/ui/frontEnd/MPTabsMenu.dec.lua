-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 02-09-2025 10:42
module( ..., package.seeall )
local f0_local0 = {
	NonWeaponTypes = {
		LOOT.itemTypes.STREAK,
		LOOT.itemTypes.WATCH,
		LOOT.itemTypes.SUPER,
		LOOT.itemTypes.VEHICLE_CAMO,
		LOOT.itemTypes.VEHICLE_HORN,
		LOOT.itemTypes.VEHICLE_TRACK
	},
	OperatorTypes = {
		LOOT.itemTypes.OPERATOR,
		LOOT.itemTypes.OPERATOR_SKIN,
		LOOT.itemTypes.OPERATOR_TAUNT,
		LOOT.itemTypes.OPERATOR_EXECUTION
	},
	BarracksTypes = {
		LOOT.itemTypes.PLAYERCARD,
		LOOT.itemTypes.EMBLEM,
		LOOT.itemTypes.SPRAYS,
		LOOT.itemTypes.GESTURES
	}
}
local f0_local1 = function ( f43_arg0 )
	local f43_local0
	if f43_arg0 ~= "MPOperatorMenu" then
		f43_local0 = CONDITIONS.IsWZWipOperatorFlowEnabled()
		if f43_local0 then
			if f43_arg0 ~= "WZOperatorSelect" then
				f43_local0 = false
			else
				f43_local0 = true
			end
		end
	else
		f43_local0 = true
	end
	return f43_local0
end

local f0_local2 = function ( f40_arg0, f40_arg1 )
	local f40_local0 = function ( f42_arg0, f42_arg1 )
		local f42_local0 = false
		for f42_local4, f42_local5 in pairs( f42_arg1 ) do
			if LOOT.IsCategoryNew( f42_arg0, f42_local5 ) then
				f42_local0 = true
				break
			end
		end
		return f42_local0
	end
	
	local f40_local1 = function ( f41_arg0, f41_arg1 )
		local f41_local0 = f40_arg0:GetTabIndexByWidgetName( f41_arg0 )
		local f41_local1
		if f41_local0 then
			f41_local1 = f41_local0
		else
			f41_local1 = f40_arg0.Tabs:GetTabAtIndex( f41_local0 )
		end
		if f41_local1 and f41_local1.SetBreadcrumb then
			f41_local1:SetBreadcrumb( f41_arg1 )
		end
	end
	
	local f40_local2 = f40_local0( f40_arg1, f0_local0.NonWeaponTypes )
	local f40_local3 = PROGRESSION.AreCustomLoadoutsUnlocked( f40_arg1 )
	local f40_local4
	if f40_local3 then
		f40_local4 = f40_local3
	else
		f40_local4 = LOOT.LoadoutHasNewLoot( f40_arg1 )
	end
	local f40_local5 = 0 < #WEAPON.GetNewWeaponIDs( f40_arg1, {
		getBaseWeapon = false
	} )
	local f40_local6
	if not f40_local2 then
		f40_local6 = f40_local2
	elseif not f40_local4 then
		f40_local6 = f40_local4
	else
		f40_local6 = f40_local5
	end
	f40_arg0.isWeaponTabNew = f40_local6
	f40_arg0.isOperatorTypeNew = f40_local0( f40_arg1, f0_local0.OperatorTypes )
	f40_arg0.isBarracksNew = f40_local0( f40_arg1, f0_local0.BarracksTypes )
	f40_arg0.isBattlePassNew = BATTLEPASS.HasNewItems( f40_arg1 )
	f40_arg0.storeHasNewItem, f40_arg0._storeHasFreeItem, f40_arg0.limitedTimeItem = STORE.HasNewAndFreeAndLimitedTimeItems( f40_arg1 )
	f40_arg0.storeSaleTimer = STORE.GetSaleTimer( f40_arg1 )
	f40_local1( "MPWeaponMenu", f40_arg0.isWeaponTabNew )
	if CONDITIONS.IsWZWipOperatorFlowEnabled() then
		f40_local6 = "WZOperatorSelect"
	else
		f40_local6 = "MPOperatorMenu"
	end
	f40_local1( f40_local6, f40_arg0.isOperatorTypeNew )
	f40_local1( "MPBarracksMenu", f40_arg0.isBarracksNew )
	f40_local1( "BattlePassMenu", f40_arg0.isBattlePassNew )
	local f40_local7 = f40_arg0:GetTabIndexByWidgetName( "MPStoreMenu" )
	local f40_local8
	if f40_local7 then
		f40_local8 = f40_local7
	else
		f40_local8 = f40_arg0.Tabs:GetTabAtIndex( f40_local7 )
	end
	if f40_local8 and f40_local8.SetBreadcrumb then
		f40_local8:SetBreadcrumb( f40_arg0.storeHasNewItem )
		if f40_arg0._storeHasFreeItem then
			f40_local8:SetFreeBanner( f40_arg0._storeHasFreeItem )
		elseif f40_arg0.storeSaleTimer and 0 < #f40_arg0.storeSaleTimer and tonumber( f40_arg0.storeSaleTimer ) > Engine.DEIDGHDBHD() and 0 < STORE.GetHighestDiscountPercentage( f40_arg1 ) then
			f40_local8:SetSaleBanner()
		elseif f40_arg0.limitedTimeItem then
			f40_local8:SetLimitedTimeBanner( f40_arg0.limitedTimeItem )
		elseif Dvar.IBEGCHEFE( "TNMTRNOQT" ) and CONDITIONS.IsT9PremiumPlayer( f40_arg1 ) == false and STORE.IsZeusOwned( f40_arg1 ) == false and 0 < #STORE.GetZeusCategoryData( f40_arg1 ) then
			f40_local8:SetZeusBanner( f40_arg0 )
		end
	end
	f40_local7 = f40_arg0:GetTabIndexByWidgetName( "BattlePassMenu" )
	if f40_local7 then
		f40_local8 = f40_local7
	else
		f40_local8 = f40_arg0.Tabs:GetTabAtIndex( f40_local7 )
	end
	if f40_local8 then
		local f40_local9 = BATTLEPASS.IsOwned( f40_arg1 )
		if BATTLEPASS.IsTierSkipGiftActive( f40_arg1 ) and not f40_local9 then
			f40_local8:SetPromoBanner( tonumber( BATTLEPASS.GetTierSkipGiftTimer() ), false )
		elseif CONDITIONS.IsTierSaleEnabled() and f40_local9 then
			f40_local8:SetPromoBanner( Dvar.DHEEJCCJBH( "MQTOPKPMRS" ), true )
		else
			f40_local8:SetSeasonBanner()
		end
	end
end

local f0_local3 = function ( f39_arg0, f39_arg1 )
	local f39_local0 = Lobby.BCBBBABFFB()
	if f39_local0 == CoD.PartyPrivacySetting.CLOSED then
		f39_arg0.JoinableStatus:setText( Engine.CBBHFCGDIC( "LUA_MENU/PARTY_PRIVACY_CLOSED" ) )
	elseif f39_local0 == CoD.PartyPrivacySetting.JOINABLE_BY_FRIENDS then
		f39_arg0.JoinableStatus:setText( Engine.CBBHFCGDIC( "LUA_MENU/PARTY_PRIVACY_JOINABLE_BY_FRIENDS" ) )
	elseif f39_local0 == CoD.PartyPrivacySetting.INVITE_ONLY then
		f39_arg0.JoinableStatus:setText( Engine.CBBHFCGDIC( "LUA_MENU/PARTY_PRIVACY_INVITE_ONLY" ) )
	else
		f39_arg0.JoinableStatus:setText( Engine.CBBHFCGDIC( "LUA_MENU/PARTY_PRIVACY_PUBLIC" ) )
	end
end

local f0_local4 = function ( f37_arg0, f37_arg1 )
	if f37_arg1 ~= nil then
		f37_arg0._backButtonHandlerSet = true
		if not f37_arg0.bindButton then
			f37_arg0.bindButton = LUI.UIBindButton.new()
			f37_arg0.bindButton.id = "selfBindButton"
			f37_arg0:addElement( f37_arg0.bindButton )
		end
		f37_arg0.bindButton:registerEventHandler( "button_secondary", function ( element, event )
			local f38_local0 = f37_arg0.activeTabWidget
			local f38_local1 = true
			if f38_local0 and f38_local0.BackButtonOverride then
				f38_local1 = f38_local0.BackButtonOverride( element, event )
			end
			if f38_local1 then
				f37_arg0( element, event )
			end
		end )
	end
end

local f0_local5 = function ( f36_arg0, f36_arg1 )
	local f36_local0
	if f36_arg1 ~= "MPWeaponMenu" then
		f36_local0 = f0_local0( f36_arg1 )
		if not f36_local0 then
			if f36_arg1 ~= "MPBarracksMenu" then
				f36_local0 = false
			else
				f36_local0 = true
			end
		end
	else
		f36_local0 = true
	end
	return f36_local0
end

local f0_local6 = function ( f35_arg0, f35_arg1, f35_arg2 )
	if f35_arg1 and f35_arg2 then
		f35_arg0.PlayerText:setText( Engine.JCBDICCAH( Engine.DHCFHGIABE( f35_arg2 ) ) )
		local f35_local0 = LAYOUT.GetTextWidth( f35_arg0.PlayerText ) + 6 * _1080p
		local f35_local1 = f35_arg0.PlayerText:GetCurrentAnchorsAndPositions()
		f35_arg0.PlayerTextBacker:SetLeft( f35_local1.right - f35_local0 )
		f35_arg0.PlayerTextTexture:SetLeft( f35_local1.right - f35_local0 )
		ACTIONS.AnimateSequence( f35_arg0, "PlayerTextOn" )
	else
		ACTIONS.AnimateSequence( f35_arg0, "PlayerTextOff" )
	end
end

local f0_local7 = function ( f30_arg0, f30_arg1, f30_arg2 )
	local f30_local0 = function ( f34_arg0 )
		if f34_arg0 == "SeasonalEventMenu" then
			f30_arg0._challengesPromptInWidget = false
			return true
		elseif f30_arg0._challengesPromptInWidget then
			f30_arg0:RemoveButtonPrompt( {
				button_ref = "button_alt1",
				helper_text = nil,
				container = f30_arg0._challengesPrompt
			} )
			f30_arg0._challengesPromptInWidget = false
			return true
		else
			
		end
	end
	
	if f30_arg1 == "MPPlayMenu" or f30_arg1 == "BRPlayMenu" or f30_arg1 == "CPPlayMenu" then
		local f30_local1 = f30_arg0.activeTabWidget
		local f30_local2 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.privateParty.count" )
		local f30_local3 = f30_local2:GetValue( controllerIndex )
		f30_arg0._challengesPrompt = f30_local1.Challenges:GetPromptContainer()
		if f30_local3 and 1 < f30_local3 then
			f30_local0( f30_arg1 )
			f30_arg0:AddButtonPrompt( {
				side = "left",
				button_ref = "button_alt1",
				priority = 3,
				helper_text = Engine.CBBHFCGDIC( "CHALLENGE/VIEW_ALL_PROMPT" )
			} )
		else
			f30_arg0:RemoveButtonPrompt( {
				side = "left",
				button_ref = "button_alt1",
				helper_text = nil
			} )
			f30_arg0:AddButtonPrompt( {
				button_ref = "button_alt1",
				helper_text = Engine.CBBHFCGDIC( "CHALLENGE/VIEW_ALL_PROMPT" ),
				container = f30_arg0._challengesPrompt
			} )
			f30_arg0._challengesPromptInWidget = true
		end
		f30_arg0._xpNotificationPrompt = f30_local1.DoubleXPNotifications:GetPromptContainer()
		f30_arg0:RemoveButtonPrompt( {
			side = "right",
			button_ref = "button_l3",
			helper_text = nil
		} )
		f30_arg0:AddButtonPrompt( {
			button_ref = "button_l3",
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU/VIEW_TOKENS" ),
			container = f30_arg0._xpNotificationPrompt,
			containerAlignment = LUI.Alignment.Right
		} )
		if f30_local1.UpdateChallengesVisibility then
			f30_local1:UpdateChallengesVisibility( f30_local3 <= 1, f30_arg2 )
		end
		f30_arg0.bindButton:registerEventHandler( "button_alt1", function ( element, event )
			if not Engine.DBAEJAHFGJ( event.controller ) then
				if CONDITIONS.IsChallengeTabEnabled() then
					Challenge.FocusTab( element, event )
				else
					LUI.FlowManager.RequestAddMenu( "BarracksChallenges", true, event.controller, false, {}, true )
				end
			else
				LUI.FlowManager.RequestPopupMenu( nil, "mp_no_guest_popup", false, event.controller, false )
			end
		end )
		Lobby.DisplayNvidiaHighlightsButton( f30_arg0, "MW_Highlights" )
	elseif f30_arg1 ~= "LobbyFlowWidget" then
		if not f30_local0( f30_arg1 ) then
			f30_arg0:RemoveButtonPrompt( {
				side = "left",
				button_ref = "button_alt1",
				helper_text = nil
			} )
		end
		if f30_arg0._xpNotificationPrompt then
			f30_arg0:RemoveButtonPrompt( {
				button_ref = "button_l3",
				helper_text = nil,
				container = f30_arg0._xpNotificationPrompt,
				containerAlignment = LUI.Alignment.Right
			} )
			f30_arg0._xpNotificationPrompt = nil
		end
		f30_arg0.bindButton:registerEventHandler( "button_alt1", nil )
	end
	if (f30_arg1 == "MPStoreMenu" or f30_arg1 == "BattlePassMenu") and Dvar.IBEGCHEFE( "OLNMSNSTKS" ) then
		f30_arg0:AddButtonPrompt( {
			side = "left",
			button_ref = "button_l3",
			priority = 4,
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU_MP/SUPPORT_A_CREATOR" )
		} )
		if f30_arg1 == "MPStoreMenu" and CONDITIONS.IsBRGameType() then
			f30_arg0:RemoveButtonPrompt( {
				side = "left",
				button_ref = "button_left_trigger",
				helper_text = nil
			} )
			f30_arg0:AddButtonPrompt( {
				side = "left",
				button_ref = "button_left_trigger",
				priority = 4,
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU_MP/BUNDLE_LOCKER" )
			} )
		end
	elseif f30_arg1 ~= "BRPlayMenu" and f30_arg1 ~= "MPPlayMenu" then
		f30_arg0:RemoveButtonPrompt( {
			side = "left",
			button_ref = "button_l3",
			helper_text = nil
		} )
	end
	local f30_local1 = f30_arg0.Tabs:GetCurrentTab()
	LOOT.UpdateClearBreadcrumbButtonHelpers( f30_arg0, f30_arg0._tabsData[f30_local1.index + 1] )
	if f30_arg1 == "LobbyFlowWidget" or f30_arg1 == "CPPlayMenu" or f30_arg1 == "CPPublicLobbyPlayMenu" then
		f30_arg0._xpNotificationPrompt = f30_arg0.activeTabWidget.DoubleXPNotifications:GetPromptContainer()
		f30_arg0:AddButtonPrompt( {
			button_ref = "button_l3",
			helper_text = Engine.CBBHFCGDIC( "LUA_MENU/VIEW_TOKENS" ),
			container = f30_arg0._xpNotificationPrompt,
			containerAlignment = LUI.Alignment.Right
		} )
		f30_arg0:RemoveButtonPrompt( {
			side = "left",
			button_ref = "button_r3",
			helper_text = nil
		} )
		if 1 < Lobby.GetCurrentNumLobbyMembers( controllerIndex ) and Lobby.BBDICGHE() then
			f30_arg0:AddButtonPrompt( {
				side = "left",
				button_ref = "button_r3",
				priority = 3,
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU/MUTE_ALL" )
			} )
			f30_arg0._allPlayersMuted = false
			f30_arg0.bindButton:addEventHandler( "button_right_stick", function ( f32_arg0, f32_arg1 )
				f30_arg0._allPlayersMuted = not f30_arg0._allPlayersMuted
				local f32_local0
				if f30_arg0._allPlayersMuted then
					f32_local0 = "LUA_MENU/UNMUTE_ALL"
				else
					f32_local0 = "LUA_MENU/MUTE_ALL"
				end
				f30_arg0:RemoveButtonPrompt( {
					side = "left",
					button_ref = "button_r3",
					helper_text = nil
				} )
				f30_arg0:AddButtonPrompt( {
					side = "left",
					button_ref = "button_r3",
					priority = 3,
					helper_text = Engine.CBBHFCGDIC( f32_local0 )
				} )
				f30_arg0:dispatchEventToAllChildren( {
					name = "lobby_mute_event",
					controllerIndex = controllerIndex
				} )
				Lobby.BFGAACEHBH( f32_arg1.controller, f30_arg0._allPlayersMuted )
				return true
			end )
		else
			f30_arg0:RemoveButtonPrompt( {
				side = "left",
				button_ref = "button_r3",
				helper_text = nil
			} )
		end
	end
	if f30_arg1 == "MPStoreMenu" then
		if f30_arg0._xpNotificationPrompt then
			f30_arg0:RemoveButtonPrompt( {
				button_ref = "button_l3",
				helper_text = nil,
				container = f30_arg0._xpNotificationPrompt
			} )
			f30_arg0._xpNotificationPrompt = nil
		end
		if Dvar.IBEGCHEFE( "NQNNSMQQN" ) then
			f30_arg0.bindButton:addEventHandler( "button_start", function ( f31_arg0, f31_arg1 )
				ACTIONS.OpenOptionsMenu( f31_arg1.controller or controllerIndex )
			end )
			f30_arg0:AddButtonPrompt( {
				clickable = true,
				priority = 3,
				side = "left",
				kbmTooltipPromptOverload = "button_quick_options",
				button_ref = "button_start",
				helper_text = Engine.CBBHFCGDIC( "LUA_MENU/OPTIONS" )
			} )
		end
	end
	if f30_arg0.activeTabWidget.SeasonalEventTitle and f30_arg0.activeTabWidget._gridData and 1 <= #f30_arg0.activeTabWidget._gridData and f30_arg0.activeTabWidget._gridData[1].gameSource then
		f30_arg0.activeTabWidget.SeasonalEventTitle:SetPromptText( f30_arg0.activeTabWidget._gridData[1].gameSource )
		f30_arg0:UpdateCrossLaunchPrompts()
		f30_arg0.activeTabWidget._curGame = f30_arg0.activeTabWidget._gridData[1].gameSource
	end
end

local f0_local8 = function ( f29_arg0 )
	local f29_local0 = f29_arg0.activeTabWidget.SeasonalEventTitle.SeasonalEventCrossLaunchPrompts.ButtonPromptContainerCWLaunch
	if f29_arg0.activeTabWidget.SeasonalEventTitle._kbmPromptText then
		f29_arg0:RemoveButtonPrompt( {
			helper_text = nil,
			button_ref = "button_l3"
		} )
		f29_arg0:AddButtonPrompt( {
			priority = 1,
			button_ref = "button_l3",
			helper_text = f29_arg0.activeTabWidget.SeasonalEventTitle._kbmPromptText,
			container = f29_local0
		} )
	end
end

local f0_local9 = function ( f28_arg0, f28_arg1, f28_arg2 )
	f28_arg0.Tabs:HideTabs()
	if Engine.CFHBIHABCB( f28_arg1 ) then
		f28_arg0.MenuTitle:SetMWTitle( Dvar.IBEGCHEFE( "MQNNLTKNTS" ) )
	else
		f28_arg0.MenuTitle:SetWarzoneTitle( Dvar.IBEGCHEFE( "MQNNLTKNTS" ) )
	end
	if f28_arg0.PartyWidget then
		f28_arg0.PartyWidget:closeTree()
		f28_arg0.PartyWidget = nil
	end
end

local f0_local10 = function ( f27_arg0, f27_arg1 )
	return f27_arg0._tabIndexMap[f27_arg1]
end

local f0_local11 = function ( f26_arg0 )
	local f26_local0
	if f26_arg0 ~= "LobbyFlowWidget" and f26_arg0 ~= "CPPlayMenu" and f26_arg0 ~= "CPPublicLobbyPlayMenu" and f26_arg0 ~= "MPPlayMenu" and f26_arg0 ~= "BRPlayMenu" then
		f26_local0 = false
	else
		f26_local0 = true
	end
	return f26_local0
end

local f0_local12 = function ( f19_arg0, f19_arg1, f19_arg2 )
	local f19_local0 = LUI.FlowManager.GetScopedData( f19_arg0 )
	local f19_local1
	if f19_arg2 then
		f19_local1 = f19_arg2
	else
		f19_local1 = f19_arg2.firstTabWidget
	end
	local f19_local2 = nil
	if f19_local1 == nil then
		if CONDITIONS.IsMagmaGameMode() then
			f19_local1 = "BRPlayMenu"
		elseif CONDITIONS.IsCoreMultiplayer() then
			f19_local1 = "MPPlayMenu"
		elseif CONDITIONS.IsThirdGameMode() then
			f19_local1 = "CPPlayMenu"
		end
	end
	f19_arg0._isMenuInitialized = false
	local f19_local3 = {}
	local f19_local4 = {}
	f19_local3[#f19_local3 + 1] = {
		isPlayTab = true,
		canClearNewIndicators = false,
		name = Engine.CBBHFCGDIC( "LUA_MENU/PLAY" ),
		menuName = f19_local1
	}
	f19_local4[f19_local1] = #f19_local3
	if f19_local1 == "TournamentLobbyFlow" then
		f19_arg0.MenuTitle:SetAlpha( 0 )
	end
	if CONDITIONS.IsSeasonalEventActive() and SEASONAL_EVENT.GetCurrentSeasonalEventTabName() ~= nil then
		f19_local3[#f19_local3 + 1] = {
			isEventTab = true,
			canClearNewIndicators = true,
			menuName = "SeasonalEventMenu",
			name = Engine.CBBHFCGDIC( SEASONAL_EVENT.GetCurrentSeasonalEventTabName() )
		}
		f19_local4.SeasonalEventMenu = #f19_local3
	end
	f19_local3[#f19_local3 + 1] = {
		isWeaponsTab = true,
		menuName = "MPWeaponMenu",
		hasRestrictionIcon = true,
		canClearNewIndicators = true,
		name = Engine.CBBHFCGDIC( "LUA_MENU/WEAPONS" ),
		disabled = not Dvar.IBEGCHEFE( "LORQPPPMT" )
	}
	f19_local4.MPWeaponMenu = #f19_local3
	if CONDITIONS.IsWZWipOperatorFlowEnabled() then
		f19_local3[#f19_local3 + 1] = {
			menuName = "WZOperatorSelect",
			isWZOperatorTab = true,
			canClearNewIndicators = true,
			isOperatorTab = true,
			name = Engine.CBBHFCGDIC( "LUA_MENU/OPERATORS" ),
			disabled = not Dvar.IBEGCHEFE( "LSPTSOQPPT" )
		}
		f19_local4.WZOperatorSelect = #f19_local3
	else
		f19_local3[#f19_local3 + 1] = {
			menuName = "MPOperatorMenu",
			canClearNewIndicators = true,
			isOperatorTab = true,
			name = Engine.CBBHFCGDIC( "LUA_MENU/OPERATORS" ),
			disabled = not Dvar.IBEGCHEFE( "LSPTSOQPPT" )
		}
		f19_local4.MPOperatorMenu = #f19_local3
	end
	if CONDITIONS.IsChallengeTabEnabled() then
		f19_local3[#f19_local3 + 1] = {
			menuName = "ChallengeMenu",
			canClearNewIndicators = false,
			name = Engine.CBBHFCGDIC( "MENU/CHALLENGES" )
		}
		f19_local4.ChallengeMenu = #f19_local3
	end
	if not CONDITIONS.IsWeGameGovBanned() then
		f19_local3[#f19_local3 + 1] = {
			isBarracksTab = true,
			canClearNewIndicators = true,
			menuName = "MPBarracksMenu",
			name = Engine.CBBHFCGDIC( "LUA_MENU/BARRACKS" ),
			disabled = not Dvar.IBEGCHEFE( "NPKSLQQPMP" )
		}
		f19_local4.MPBarracksMenu = #f19_local3
	end
	if CONDITIONS.IsBattlePassEnabled() then
		f19_local3[#f19_local3 + 1] = {
			isStoreTab = true,
			menuName = "BattlePassMenu",
			canClearNewIndicators = false,
			isBattlePassTab = true,
			name = Engine.CBBHFCGDIC( "LUA_MENU/BATTLE_PASS" )
		}
		f19_local4.BattlePassMenu = #f19_local3
		f19_local2 = #f19_local3
	end
	if CONDITIONS.IsStoreAllowed() then
		f19_local3[#f19_local3 + 1] = {
			isStoreTab = true,
			canClearNewIndicators = false,
			menuName = "MPStoreMenu",
			name = Engine.CBBHFCGDIC( "LUA_MENU/STORE" )
		}
		f19_local4.MPStoreMenu = #f19_local3
	end
	local f19_local5 = Dvar.IBEGCHEFE( "NSNRTPNQPN" )
	if f19_local5 then
		f19_local5 = CONDITIONS.IsBattlePassEnabled()
	end
	local f19_local6 = Dvar.CFHDGABACF( "NTSLOQPLNT" )
	if f19_local5 and f19_local6 < #f19_local3 + 1 and 1 < f19_local6 then
		local f19_local7 = {}
		for f19_local8 = 1, #f19_local3, 1 do
			f19_local7[f19_local8] = f19_local3[f19_local8]
			if f19_local6 == #f19_local3 then
				if f19_local8 == f19_local2 then
					f19_local3[f19_local8] = f19_local3[f19_local8 + 1]
				elseif f19_local8 == f19_local6 then
					f19_local3[f19_local8] = f19_local7[f19_local2]
				end
			elseif f19_local8 == f19_local6 then
				f19_local3[f19_local8] = f19_local3[f19_local2]
			elseif f19_local8 == f19_local2 + 1 then
				f19_local3[f19_local8] = f19_local7[f19_local8]
			elseif f19_local6 < f19_local8 then
				f19_local3[f19_local8] = f19_local7[f19_local8 - 1]
			end
			f19_local4[f19_local3[f19_local8].menuName] = f19_local8
		end
	end
	f19_arg0:addEventHandler( "store_menu_error", function ( f25_arg0, f25_arg1 )
		f19_arg0.Tabs:FocusTab( f19_arg0, 0, LUI.IsLastInputGamepad( f19_arg0 ) and FocusType.Gamepad or FocusType.MouseOver )
	end )
	local f19_local7 = {}
	for f19_local11, f19_local12 in ipairs( f19_local3 ) do
		table.insert( f19_local7, {
			name = f19_local12.name,
			disabled = f19_local12.disabled,
			hasDefaultFocus = f19_local11 - 1 == f19_local0.activeTabIndex,
			focusFunction = function ( f20_arg0, f20_arg1, f20_arg2, f20_arg3 )
				local f20_local0 = LUI.DataSourceInGlobalModel.new( "menu.spltscreenDisplay.controllerIndex" )
				local f20_local1 = f20_local0:GetValue( f20_arg1 )
				if f19_arg0( f19_arg0, f19_arg0.menuName ) then
					f20_arg1 = f20_local1
				end
				if 1 < Engine.JEDFGECDJ() and (f19_arg0.menuName == "BattlePassMenu" or f19_arg0.menuName == "MPStoreMenu") then
					if not f19_arg0.tabsInitialized or f20_arg3 ~= FocusType.MenuFlow then
						f20_local0:SetValue( f20_arg1, f20_arg1 )
					else
						f20_arg1 = f20_local1
					end
				end
				if f19_arg0.menuName == "MPStoreMenu" and Engine.DBAEJAHFGJ( f20_arg1 ) then
					f19_arg0.Tabs:SetCurrentTabIndex( f19_arg0.activeTabIndex )
					LUI.FlowManager.RequestPopupMenu( nil, "mp_no_guest_popup", false, f20_arg1, false )
				end
				if f19_arg0.activeTabIndex and f20_arg2 == f19_arg0.activeTabIndex and f19_arg0.activeTabWidget then
					
				else
					
				end
				TAB.UpdateBuiltWidgetOnTabChange( f19_arg0, f19_arg0.activeTabIndex, "activeTabWidget", f20_arg2, f20_arg3, f19_arg0.menuName, {
					buildPriority = 4294967295,
					controllerIndex = f20_arg1
				} )
				f19_arg0.activeTabIndex = f20_arg2
				f19_arg0:UpdateJoinableStatus( f20_arg1 )
				if f19_arg0._backButtonHandlerSet and f20_arg2 ~= 0 then
					local f20_local2 = f19_arg0.activeTabWidget
					if f20_local2 and not f20_local2.BackButtonOverride then
						f20_local2.BackButtonOverride = function ( f24_arg0, f24_arg1 )
							local f24_local0
							if f24_arg1.qualifier == "keyboard" or f24_arg1.qualifier == "gamepad" then
								f24_local0 = false
							else
								f24_local0 = true
							end
							local f24_local1
							if f24_local0 then
								f24_local1 = FocusType.MouseOver
								if not f24_local1 then
								
								else
									f20_arg0.Tabs:FocusTab( f20_arg0, 0, f24_local1 )
									return false
								end
							end
							f24_local1 = FocusType.Gamepad
						end
						
					end
				end
				f19_arg0.Nat:SetAlpha( 0 )
				f19_arg0.JoinableStatus:SetAlpha( 0 )
				if f19_arg0.menuName == "MPPlayMenu" or f19_arg0.menuName == "BRPlayMenu" then
					f19_arg0.Nat:SetAlpha( 1 )
					f19_arg0.JoinableStatus:SetAlpha( 1 )
				end
				if f19_arg0.menuName == "TournamentLobbyFlow" then
					
				else
					
				end
				local f20_local2 = function ( f22_arg0 )
					if not f22_arg0._isMenuInitialized then
						
					else
						
					end
					local f22_local0 = f20_arg0:GetCurrentMenu()
					f22_local0.signoutSplitscreen = f20_arg0.menuName == f20_arg0
					if f20_arg0( f22_arg0, f20_arg0.menuName ) and 1 < Engine.JEDFGECDJ() then
						f22_arg0:AddButtonPrompt( {
							side = "left",
							button_ref = "button_left_trigger",
							priority = 3,
							helper_text = Engine.CBBHFCGDIC( "LUA_MENU/SPLITSCREEN_SWITCH_INFORMATION", Engine.CGHHDHCDEC( f20_arg0 ) + 1 )
						} )
					elseif f20_arg0( f20_arg0.menuName ) then
						if AAR.IsMatchClientDataAvailable() then
							f22_arg0:AddButtonPrompt( {
								side = "left",
								button_ref = "button_left_trigger",
								priority = 3,
								helper_text = Engine.CBBHFCGDIC( "LUA_MENU/GAME_SUMMARY" )
							} )
						else
							f22_arg0:RemoveButtonPrompt( {
								helper_text = nil,
								button_ref = "button_left_trigger"
							} )
						end
					else
						f22_arg0:RemoveButtonPrompt( {
							helper_text = nil,
							button_ref = "button_left_trigger"
						} )
					end
					if MLG.IsCDLActive( f20_arg0 ) and f20_arg0.menuName == "MPWeaponMenu" and CONDITIONS.IsConsoleGame( f20_arg0 ) then
						ACTIONS.AnimateSequence( f20_arg0.PartyWidget, "CDLon" )
					else
						ACTIONS.AnimateSequence( f20_arg0.PartyWidget, "CDLoff" )
					end
					f20_arg0:RemoveButtonPrompt( {
						helper_text = nil,
						button_ref = "button_r3"
					} )
					f20_arg0.bindButton:registerEventHandler( "button_alt2", nil )
					local f22_local0, f22_local1 = nil
					if f20_arg0.menuName == "MPBattlenetStoreMenu" then
						f22_local0 = Engine.CBBHFCGDIC( "LUA_MENU/PURCHASE_CAPS" )
						f22_local1 = ""
					elseif f20_arg0.menuName == "LobbyFlowWidget" then
						f22_local0 = Engine.CBBHFCGDIC( "LUA_MENU/SELECT" )
						f22_local1 = Engine.CBBHFCGDIC( "LUA_MENU/MUTE_ALL" )
					elseif f20_arg0.menuName == "TournamentLobbyFlow" then
						f22_local0 = ""
						f22_local1 = ""
					elseif f20_arg0.isStoreTab and not f20_arg0.isBattlePassTab then
						f22_local0 = Engine.CBBHFCGDIC( "LUA_MENU/INSPECT" )
						f22_local1 = ""
					else
						f22_local0 = Engine.CBBHFCGDIC( "LUA_MENU/SELECT" )
						f22_local1 = ""
					end
					if f20_arg0.menuName == "BattlePassMenu" then
						f20_arg0.activeTabWidget._currentMenu = f20_arg0:GetCurrentMenu()
						f20_arg0.activeTabWidget:UpdateMenuDisplay()
						f20_arg0:AddButtonPrompt( {
							side = "left",
							button_ref = "button_alt2",
							priority = 3,
							helper_text = Engine.CBBHFCGDIC( "BATTLEPASS/MORE_INFO" )
						} )
					elseif f20_arg0.menuName == "SeasonalEventMenu" then
						local f22_local2 = LUI.FlowManager.GetScopedData( "MainMenu" )
						f22_local2.battlepassSelectedColumn = nil
						if f20_arg0.activeTabWidget.ProgressPanel then
							f20_arg0:AddButtonPrompt( {
								priority = 1,
								button_ref = "button_alt2",
								helper_text = Engine.CBBHFCGDIC( "SEASONAL_EVENT/HOW_DOES_IT_WORK_KBM" ),
								container = f20_arg0.activeTabWidget.ProgressPanel.ButtonPromptContainerHow
							} )
						end
						local f22_local3 = SEASONAL_EVENT.GetCurrentSeasonalEventData()
						f20_arg0:AddButtonPrompt( {
							priority = 1,
							button_ref = "button_r3",
							helper_text = Engine.CBBHFCGDIC( "SEASONAL_EVENT/PREVIEW_KBM" ),
							container = f22_local3.useSquareProgressPanel and f20_arg0.activeTabWidget.SquareProgressPanel.ButtonPromptContainerPreview or f20_arg0.activeTabWidget.ProgressPanel.ButtonPromptContainerPreview
						} )
						f20_arg0:AddButtonPrompt( {
							side = "left",
							button_ref = "button_alt2",
							priority = 4,
							helper_text = Engine.CBBHFCGDIC( "MENU/MORE_INFO" )
						} )
						f20_arg0.bindButton:registerEventHandler( "button_alt2", function ( element, event )
							LUI.FlowManager.RequestPopupMenu( f22_arg0, "SeasonalEventDetailsPopup", true, f22_arg0, false, {
								openedFromMenu = true
							} )
						end )
					else
						local f22_local2 = LUI.FlowManager.GetScopedData( "MainMenu" )
						f22_local2.battlepassSelectedColumn = nil
						f20_arg0:RemoveButtonPrompt( {
							side = "left",
							button_ref = "button_alt2",
							helper_text = nil
						} )
						if f20_arg0.menuName == "WZOperatorSelect" then
							f20_arg0.activeTabWidget:UpdateButtonPrompts( f20_arg0 )
						else
							f20_arg0:AddButtonPrompt( {
								side = "left",
								button_ref = "button_primary",
								priority = 2,
								helper_text = f22_local0
							} )
						end
					end
					local f22_local2 = f20_arg0:getParent()
					if f22_local2 and f22_local2.LobbyStatus then
						if f22_local2.id == "MPPublicLobby" then
							if f20_arg0.activeTabWidget.UpdateParentLobbyStatus then
								f20_arg0.activeTabWidget:UpdateParentLobbyStatus()
							else
								f22_local2.LobbyStatus:SetAlpha( 1 )
							end
							f20_arg0:ShowBlackoutOverlayIfRequired( f20_arg0 )
						elseif f22_local2.id == "TournamentLoadingScreen" or f22_local2.id == "TournamentMatchmaking" then
							if f20_arg0.menuName == "TournamentLoading" then
								f22_local2.LobbyStatus:SetAlpha( 0 )
							else
								f22_local2.LobbyStatus:SetAlpha( 1 )
							end
						end
					end
					if f20_arg0.menuName == f20_arg0 then
						Engine.BJDBIAGIDA( SOUND_SETS.mpMainMenu.tabPlay )
					elseif f20_arg0.menuName == "MPWeaponMenu" then
						Engine.BJDBIAGIDA( SOUND_SETS.mpMainMenu.tabWeapons )
					elseif f20_arg0( f20_arg0.menuName ) then
						Engine.BJDBIAGIDA( SOUND_SETS.mpMainMenu.tabOperators )
						if not Onboarding.Operators.WasCompleted( f20_arg0, f20_arg0 ) then
							if CONDITIONS.IsMagmaGameMode( f20_arg0 ) then
								LUI.FlowManager.RequestPopupMenu( f20_arg0, "onboardingpopup", true, f20_arg0, false, ONBOARDING_DATA.GetOnboardingWZOperatorData() )
							else
								LUI.FlowManager.RequestPopupMenu( f20_arg0, "onboardingpopup", true, f20_arg0, false, ONBOARDING_DATA.GetOnboardingOperatorData() )
							end
							Onboarding.Operators.MarkCompleted( f20_arg0, f20_arg0 )
						end
					elseif f20_arg0.menuName == "BattlePassMenu" then
						Engine.BJDBIAGIDA( SOUND_SETS.mpMainMenu.tabBattlepass )
					elseif f20_arg0.menuName == "SeasonalEventMenu" then
						Engine.BJDBIAGIDA( SOUND_SETS.mpMainMenu.tabSeasonalEvent )
					elseif f20_arg0.menuName == "ChallengeMenu" then
						Engine.BJDBIAGIDA( SOUND_SETS.mpMainMenu.tabChallenges )
					elseif f20_arg0.menuName == "MPStoreMenu" then
						Engine.BJDBIAGIDA( SOUND_SETS.mpMainMenu.tabStore )
						if f20_arg0.useStandaloneStore then
							f20_arg0( f20_arg0, f20_arg0, f20_arg0 )
						end
					elseif f20_arg0.menuName == "MPBarracksMenu" then
						Engine.BJDBIAGIDA( SOUND_SETS.mpMainMenu.tabBarracks )
					elseif f20_arg0.menuName == "CareerMenu" then
						Engine.BJDBIAGIDA( SOUND_SETS.mpMainMenu.tabCareer )
					end
					if 1 < Engine.JEDFGECDJ() and (f20_arg0.menuName == "BattlePassMenu" or f20_arg0.menuName == "MPStoreMenu") then
						f20_arg0( f20_arg0, true, f20_arg0 )
					else
						f20_arg0( f20_arg0, false )
					end
					f20_arg0( f20_arg0, f20_arg0 )
					f20_arg0( f20_arg0, f20_arg0.menuName, true )
				end
				
				if f19_arg0.isStoreTab or f19_arg0.isEventTab or f19_arg0.isWZOperatorTab then
					f19_arg0.PartyWidget:SetAlpha( 0, 200 )
					f19_arg0.PartyWidget:EnableSocialMenu( false )
					ACTIONS.AnimateSequence( f19_arg0, "PlayerTextOffsetStore" )
				else
					f19_arg0.PartyWidget:SetAlpha( 1, 200 )
					f19_arg0.PartyWidget:EnableSocialMenu( true )
					ACTIONS.AnimateSequence( f19_arg0, "PlayerTextOffsetDefault" )
				end
				if not f19_arg0._isMenuInitialized then
					f19_arg0:addEventHandler( "menu_create", function ( f21_arg0, f21_arg1 )
						f21_arg0._isMenuInitialized = true
						f20_arg0( f21_arg0 )
					end )
				end
				f20_local2( f19_arg0 )
				f19_arg0:processEvent( {
					name = "focus_tab_changed",
					tabName = f19_arg0.menuName
				} )
			end,
			buildSpecificTab = f19_local12.buildSpecificTab,
			isStoreTab = f19_local12.isStoreTab,
			isEventTab = f19_local12.isEventTab,
			isBattlePassTab = f19_local12.isBattlePassTab,
			isWZOperatorTab = f19_local12.isWZOperatorTab,
			hasRestrictionIcon = f19_local12.hasRestrictionIcon
		} )
	end
	f19_arg0.Tabs:SetTabs( f19_local7 )
	f19_arg0._tabsData = f19_local3
	f19_arg0._tabIndexMap = f19_local4
	f0_local0( f19_arg0, f19_arg1 )
	f19_local0.tabsInitialized = true
end

local f0_local13 = function ( f18_arg0, f18_arg1 )
	if not f18_arg1 then
		return 
	end
	local f18_local0 = LUI.FlowManager.GetScopedData( f18_arg0 )
	f18_local0.onRestoreFocusOptions = {
		tabToFocus = f18_arg1.tabToFocus,
		buttonToFocus = f18_arg1.buttonToFocus,
		bundleToFocus = f18_arg1.bundleToFocus,
		triggerButtonAction = f18_arg1.triggerButtonAction,
		openMenuFunction = f18_arg1.openMenuFunction
	}
	if CONDITIONS.IsSeasonalEventActive() then
		local f18_local1 = LUI.FlowManager.GetScopedData( "MainMenu" )
		if f18_local1 then
			f18_local1.onRestoreFocusOptions = {
				overrideTabToFocus = f18_arg1.tabToFocus
			}
		end
	end
end

local f0_local14 = function ( f17_arg0, f17_arg1 )
	local f17_local0 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.dov2nukelunched" )
	if f17_local0:GetValue( f17_arg1 ) then
		LUI.FlowManager.RequestPopupMenu( f17_arg0, "BRFullScreenOverlayPopup", true, f17_arg1, false )
		f17_local0:SetValue( f17_arg1, false )
	end
end

local f0_local15 = function ( f9_arg0, f9_arg1, f9_arg2 )
	assert( f9_arg0.MenuTitle )
	assert( f9_arg0.Tabs )
	assert( f9_arg0.Nat )
	assert( f9_arg0.JoinableStatus )
	assert( f9_arg0.TabBacker )
	f9_arg0.Tabs:SetAlignment( LUI.Alignment.Left )
	f9_arg0.SetupTabs = f0_local0
	f9_arg0.GetTabIndexByWidgetName = f0_local0
	f9_arg0.SetupOnRestoreFocusOverride = f0_local0
	f9_arg0.SetupBackButtonHandler = f0_local0
	f9_arg0.UpdateJoinableStatus = f0_local0
	f9_arg0.UpdateTabBreadcrumbs = f0_local0
	f9_arg0.UpdateCrossLaunchPrompts = f0_local0
	f9_arg0.ShowBlackoutOverlayIfRequired = f0_local0
	CoD.CheckAndApplyResetSeasonalPlayerData( f9_arg1 )
	local f9_local0 = Dvar.CFHDGABACF( "lui_tabs_menu_default_focus_tab_num" )
	if f9_local0 and 0 < f9_local0 then
		local f9_local1 = LUI.FlowManager.GetScopedData( "MainMenu" )
		f9_local1.tabIndexToFocus = f9_local0 - 1
	end
	f9_arg0:setPriority( -1 )
	local f9_local1 = function ( f16_arg0, f16_arg1 )
		local f16_local0 = LUI.FlowManager.GetScopedData( f9_arg0 )
		local f16_local1 = LUI.FlowManager.GetScopedData( "MainMenu" )
		local f16_local2 = f16_local0.onRestoreFocusOptions
		if f16_local2 then
			local f16_local3 = f16_local2.tabToFocus
			if f16_local3 then
				local f16_local4 = f9_arg0( f9_arg0, f16_local3 )
				if f16_local4 then
					f9_arg0.Tabs:FocusTab( f9_arg0, f16_local4 - 1 )
					if f9_arg0.activeTabWidget.FocusButtonByName and f16_local2.buttonToFocus then
						f9_arg0.activeTabWidget:FocusButtonByName( f16_local2.buttonToFocus )
					elseif f9_arg0.activeTabWidget.FocusBundleByID and f16_local2.bundleToFocus then
						f9_arg0.activeTabWidget:FocusBundleByID( f16_local2.bundleToFocus, f16_local2.triggerButtonAction )
					end
					if f16_local2.openMenuFunction then
						f16_local2.openMenuFunction()
					end
				end
			end
			f16_local0.onRestoreFocusOptions = nil
			return true
		elseif f16_local1.tabIndexToFocus then
			f9_arg0.Tabs:FocusTab( f9_arg0, f16_local1.tabIndexToFocus )
			f16_local1.tabIndexToFocus = nil
		end
		f9_arg0:ShowBlackoutOverlayIfRequired( f9_arg0 )
	end
	
	f9_arg0.Tabs:addEventHandler( "restore_focus", f9_local1 )
	f9_arg0:addEventHandler( "gain_focus", f9_local1 )
	if CONDITIONS.IsMagmaGameMode() then
		if LUI.FlowManager.IsInStack( "BRMainMenuStore" ) and Engine.CFHBIHABCB( f9_arg1 ) then
			f9_arg0.MenuTitle:SetMWTitle( Dvar.IBEGCHEFE( "MQNNLTKNTS" ) )
		else
			f9_arg0.MenuTitle:SetWarzoneTitle( Dvar.IBEGCHEFE( "MQNNLTKNTS" ) )
		end
	elseif CONDITIONS.IsCoreMultiplayer( f9_arg0 ) then
		f9_arg0.MenuTitle:SetMWTitle( Dvar.IBEGCHEFE( "MQNNLTKNTS" ) )
	elseif CONDITIONS.IsThirdGameMode( f9_arg0 ) then
		f9_arg0.MenuTitle:SetTitle( Engine.CBBHFCGDIC( "LUA_MENU/TAC_OPS" ), Dvar.IBEGCHEFE( "MQNNLTKNTS" ) )
	end
	f9_arg0:addEventHandler( "menu_create", function ( f15_arg0, f15_arg1 )
		local f15_local0 = Lobby.DGDAAFJDBI()
		if f15_local0 then
			if f15_local0 == "NETWORK_STRICT" and Dvar.IBEGCHEFE( "MMONQLOPSO" ) == false then
				LUI.FlowManager.RequestPopupMenu( f9_arg0, "strict_nat_warning", true, f9_arg0, false )
				Dvar.DHEGHJJJHI( "MMONQLOPSO", true )
			end
			local f15_local1 = Engine.CBBHFCGDIC( "LUA_MENU/YOURNATTYPE", f15_local0 )
			assert( f9_arg0.Nat )
			f9_arg0.Nat:setText( f15_local1 )
		end
	end )
	f9_arg0.bindButton = LUI.UIBindButton.new()
	f9_arg0.bindButton.id = "selfBindButton"
	f9_arg0:addElement( f9_arg0.bindButton )
	f9_arg0.bindButton:addEventHandler( "button_left_trigger", function ( f14_arg0, f14_arg1 )
		if f9_arg0.Tabs then
			local f14_local0 = f9_arg0.Tabs:GetCurrentTab()
			local f14_local1 = f9_arg0._tabsData[f14_local0.index + 1].menuName
			if f9_arg0( f9_arg0, f14_local1 ) and 1 < Engine.JEDFGECDJ() then
				local f14_local2 = LUI.DataSourceInGlobalModel.new( "menu.spltscreenDisplay.controllerIndex" )
				local f14_local3 = f14_local2:GetValue( f9_arg0 )
				f14_local2:SetValue( f9_arg0, Engine.CGHHDHCDEC( f14_local3 ) )
				f9_arg0:AddButtonPrompt( {
					side = "left",
					button_ref = "button_left_trigger",
					priority = 3,
					helper_text = Engine.CBBHFCGDIC( "LUA_MENU/SPLITSCREEN_SWITCH_INFORMATION", f14_local3 + 1 )
				} )
				return true
			elseif f9_arg0( f14_local1 ) and AAR.IsMatchClientDataAvailable() and Dvar.CFHDGABACF( "MTKSQRQLKN" ) ~= 0 then
				Lobby.OpenAfterActionReport( f14_arg1.controller, false, false )
			end
		end
		return false
	end )
	local f9_local2 = function ()
		local f13_local0 = f9_arg0.Tabs:GetCurrentTab()
		local f13_local1 = f9_arg0._tabsData[f13_local0.index + 1].menuName
		local f13_local2 = LUI.DataSourceInGlobalModel.new( "menu.spltscreenDisplay.controllerIndex" )
		local f13_local3 = f13_local2:GetValue( f9_arg0 )
		if 1 < Engine.JEDFGECDJ() then
			if f13_local1 == "BattlePassMenu" or f13_local1 == "MPStoreMenu" then
				f9_arg0( f9_arg0, true, f13_local3 )
			end
			local f13_local4 = Engine.CGHHDHCDEC( f13_local3 )
			if f9_arg0( f9_arg0, f13_local1 ) then
				f9_arg0:AddButtonPrompt( {
					side = "left",
					button_ref = "button_left_trigger",
					priority = 3,
					helper_text = Engine.CBBHFCGDIC( "LUA_MENU/SPLITSCREEN_SWITCH_INFORMATION", f13_local4 + 1 )
				} )
			else
				f9_arg0:RemoveButtonPrompt( {
					helper_text = nil,
					button_ref = "button_left_trigger"
				} )
			end
		else
			if f13_local1 == "BattlePassMenu" or f13_local1 == "MPStoreMenu" then
				f9_arg0( f9_arg0, false )
				f13_local2:SetValue( f9_arg0, 0 )
			end
			if f9_arg0( f9_arg0, f13_local1 ) then
				f13_local2:SetValue( f9_arg0, 0 )
			end
			f9_arg0:RemoveButtonPrompt( {
				helper_text = nil,
				button_ref = "button_left_trigger"
			} )
		end
		f9_arg0( f9_arg0, f13_local1 )
	end
	
	local f9_local3 = function ()
		local f12_local0 = f9_arg0.Tabs:GetCurrentTab()
		f9_arg0( f9_arg0, f9_arg0._tabsData[f12_local0.index + 1].menuName )
	end
	
	local f9_local4 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.privateParty.count" )
	local f9_local5 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.squadMembers.memberCount" )
	f9_arg0:SubscribeToModel( f9_local4:GetModel( f9_arg1 ), f9_local2, true )
	f9_arg0:SubscribeToModel( f9_local5:GetModel( f9_arg1 ), f9_local3, true )
	f9_arg0:addAndCallEventHandler( "onVideoChange", function ( f11_arg0, f11_arg1 )
		local f11_local0 = CoD.GetAspectRatioScaleAdjust( 0.2 )
		f11_arg0.TabBacker:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * -192, _1080p * 192, 0, _1080p * 160 )
	end )
	LAYOUT.AddAspectRatioFadeFrame( f9_arg0, f9_arg1 )
	local f9_local6 = LUI.DataSourceInGlobalModel.new( "menu.spltscreenDisplay.controllerIndex" )
	if not f9_local6:GetValue( f9_arg1 ) then
		f9_local6:SetValue( f9_arg1, f9_arg1 )
	end
	f9_arg0.Tabs:SetSendEventOnTabChange( true )
	f9_arg0:addEventHandler( LUI.TabManager.TAB_SWITCH_EVENT, function ( f10_arg0, f10_arg1 )
		assert( f10_arg1.index )
		f9_arg0.activeTabWidget:processEvent( f10_arg1 )
		return true
	end )
	if CONDITIONS.IsWZWipFlowEnabled() then
		ACTIONS.AnimateSequence( f9_arg0, "WZWipSetup" )
	end
end

function MPTabsMenu( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "MPTabsMenu"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local TabBacker = nil
	
	TabBacker = MenuBuilder.BuildRegisteredType( "TabBacker", {
		controllerIndex = f1_local1
	} )
	TabBacker.id = "TabBacker"
	TabBacker:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 160 )
	self:addElement( TabBacker )
	self.TabBacker = TabBacker
	
	local f1_local4 = nil
	if CONDITIONS.IsUserSignedInDemonware( f1_local1 ) then
		f1_local4 = MenuBuilder.BuildRegisteredType( "MPPlayerDetails", {
			controllerIndex = f1_local1
		} )
		f1_local4.id = "MPPlayerDetails"
		f1_local4:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -596, _1080p * -96, _1080p * 54, _1080p * 114 )
		self:addElement( f1_local4 )
		self.MPPlayerDetails = f1_local4
	end
	local Nat = nil
	
	Nat = LUI.UIText.new()
	Nat.id = "Nat"
	Nat:SetRGBFromTable( SWATCHES.text.primaryText, 0 )
	Nat:setText( "", 0 )
	Nat:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	Nat:SetAlignment( LUI.Alignment.Right )
	Nat:SetOptOutRightToLeftAlignmentFlip( true )
	Nat:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 818, _1080p * 1318, _1080p * -36, _1080p * -14 )
	self:addElement( Nat )
	self.Nat = Nat
	
	local JoinableStatus = nil
	
	JoinableStatus = LUI.UIText.new()
	JoinableStatus.id = "JoinableStatus"
	JoinableStatus:SetRGBFromTable( SWATCHES.text.primaryText, 0 )
	JoinableStatus:setText( "", 0 )
	JoinableStatus:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	JoinableStatus:SetAlignment( LUI.Alignment.Right )
	JoinableStatus:SetOptOutRightToLeftAlignmentFlip( true )
	JoinableStatus:SetAnchorsAndPosition( 0, 1, 1, 0, _1080p * 818, _1080p * 1318, _1080p * -56, _1080p * -34 )
	self:addElement( JoinableStatus )
	self.JoinableStatus = JoinableStatus
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( Engine.CBBHFCGDIC( "LUA_MENU/MULTIPLAYER_CAPS" ), 0 )
	MenuTitle.Line:SetLeft( 0, 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1024, 0, _1080p * 100 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local Tabs = nil
	
	Tabs = LUI.TabManager.new( {
		spacing = 4,
		wrap = true,
		tabHeight = _1080p * 52,
		buildTab = function ()
			return MenuBuilder.BuildRegisteredType( "SubMenuTab", {
				controllerIndex = menu
			} )
		end,
		controllerIndex = f1_local1
	} )
	Tabs.id = "Tabs"
	Tabs:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 90, _1080p * 987, _1080p * 108, _1080p * 160 )
	self:addElement( Tabs )
	self.Tabs = Tabs
	
	local PartyWidget = nil
	
	PartyWidget = MenuBuilder.BuildRegisteredType( "SocialPartyWidget", {
		controllerIndex = f1_local1
	} )
	PartyWidget.id = "PartyWidget"
	PartyWidget:SetAlpha( 0, 0 )
	PartyWidget:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1224, _1080p * 1824, _1080p * 94, _1080p * 264 )
	self:addElement( PartyWidget )
	self.PartyWidget = PartyWidget
	
	local PlayerTextBacker = nil
	
	PlayerTextBacker = LUI.UIImage.new()
	PlayerTextBacker.id = "PlayerTextBacker"
	PlayerTextBacker:SetRGBFromTable( SWATCHES.BattlePass.Purchased, 0 )
	PlayerTextBacker:SetAlpha( 0, 0 )
	PlayerTextBacker:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -302, _1080p * -96, _1080p * 190, _1080p * 218 )
	self:addElement( PlayerTextBacker )
	self.PlayerTextBacker = PlayerTextBacker
	
	local PlayerTextTexture = nil
	
	PlayerTextTexture = LUI.UIImage.new()
	PlayerTextTexture.id = "PlayerTextTexture"
	PlayerTextTexture:SetRGBFromTable( SWATCHES.BattlePass.Purchased, 0 )
	PlayerTextTexture:SetAlpha( 0, 0 )
	PlayerTextTexture:SetPixelGridEnabled( true )
	PlayerTextTexture:SetPixelGridContrast( 0.5, 0 )
	PlayerTextTexture:SetPixelGridBlockWidth( 2, 0 )
	PlayerTextTexture:SetPixelGridBlockHeight( 2, 0 )
	PlayerTextTexture:SetPixelGridGutterWidth( 1, 0 )
	PlayerTextTexture:SetPixelGridGutterHeight( 1, 0 )
	PlayerTextTexture:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -302, _1080p * -96, _1080p * 190, _1080p * 218 )
	self:addElement( PlayerTextTexture )
	self.PlayerTextTexture = PlayerTextTexture
	
	local PlayerText = nil
	
	PlayerText = LUI.UIStyledText.new()
	PlayerText.id = "PlayerText"
	PlayerText:SetRGBFromTable( SWATCHES.BattlePass.Purchased, 0 )
	PlayerText:SetAlpha( 0, 0 )
	PlayerText:setText( Engine.CBBHFCGDIC( "BATTLEPASS/CURRENT_TIER" ), 0 )
	PlayerText:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	PlayerText:SetWordWrap( false )
	PlayerText:SetAlignment( LUI.Alignment.Right )
	PlayerText:SetOptOutRightToLeftAlignmentFlip( true )
	PlayerText:SetShadowRGBFromTable( SWATCHES.Reticles.White, 0 )
	PlayerText:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -298, _1080p * -101, _1080p * 192, _1080p * 216 )
	self:addElement( PlayerText )
	self.PlayerText = PlayerText
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	local f1_local13 = nil
	PlayerTextBacker:RegisterAnimationSequence( "PlayerTextOn", {
		{
			value = 4.667261640415006E-62,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PlayerTextTexture:RegisterAnimationSequence( "PlayerTextOn", {
		{
			value = 4.6672616413205735E-62,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PlayerText:RegisterAnimationSequence( "PlayerTextOn", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.PlayerTextOn = function ()
		menu:AnimateSequence( "PlayerTextOn" )
		menu:AnimateSequence( "PlayerTextOn" )
		menu:AnimateSequence( "PlayerTextOn" )
	end
	
	local f1_local14 = nil
	PlayerTextBacker:RegisterAnimationSequence( "PlayerTextOff", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PlayerTextTexture:RegisterAnimationSequence( "PlayerTextOff", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	PlayerText:RegisterAnimationSequence( "PlayerTextOff", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.PlayerTextOff = function ()
		menu:AnimateSequence( "PlayerTextOff" )
		menu:AnimateSequence( "PlayerTextOff" )
		menu:AnimateSequence( "PlayerTextOff" )
	end
	
	local f1_local15 = nil
	PlayerTextBacker:RegisterAnimationSequence( "PlayerTextOffsetStore", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 115
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 143
		}
	} )
	PlayerTextTexture:RegisterAnimationSequence( "PlayerTextOffsetStore", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 115
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 143
		}
	} )
	PlayerText:RegisterAnimationSequence( "PlayerTextOffsetStore", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 117
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 141
		}
	} )
	self._sequences.PlayerTextOffsetStore = function ()
		menu:AnimateSequence( "PlayerTextOffsetStore" )
		menu:AnimateSequence( "PlayerTextOffsetStore" )
		menu:AnimateSequence( "PlayerTextOffsetStore" )
	end
	
	local f1_local16 = nil
	Tabs:RegisterAnimationSequence( "PlayerTextOffsetDefault", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 107
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 159
		}
	} )
	PlayerTextBacker:RegisterAnimationSequence( "PlayerTextOffsetDefault", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 190
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 218
		}
	} )
	PlayerTextTexture:RegisterAnimationSequence( "PlayerTextOffsetDefault", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 190
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 218
		}
	} )
	PlayerText:RegisterAnimationSequence( "PlayerTextOffsetDefault", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 192
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 216
		}
	} )
	self._sequences.PlayerTextOffsetDefault = function ()
		menu:AnimateSequence( "PlayerTextOffsetDefault" )
		menu:AnimateSequence( "PlayerTextOffsetDefault" )
		menu:AnimateSequence( "PlayerTextOffsetDefault" )
		menu:AnimateSequence( "PlayerTextOffsetDefault" )
	end
	
	local f1_local17 = nil
	Tabs:RegisterAnimationSequence( "WZWipSetup", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 108
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 160
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 96
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 993
		}
	} )
	self._sequences.WZWipSetup = function ()
		menu:AnimateSequence( "WZWipSetup" )
	end
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "MPTabsMenu", MPTabsMenu )
LockTable( _M )
