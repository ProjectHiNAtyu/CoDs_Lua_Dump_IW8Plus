-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
ITEM_UTILS = ITEM_UTILS or {}
ITEM_UTILS.COMING_SOON_ITEM_ID = 0
ITEM_UTILS.COMING_SOON_UNLOCK_COUNT = 1
ITEM_UTILS.GetCurrentItemID = function ( f48_arg0 )
	return _DataSources[0x71428806887F67D][0xA4BD2C0BF972258][0xE7FD06D864FBD56]:GetValue( f48_arg0 )
end

local f0_local0 = LUI.Class()
f0_local0.init = function ( f47_arg0, f47_arg1, f47_arg2 )
	f47_arg0._itemID = f47_arg2
	f47_arg0._controllerIndex = f47_arg1
end

f0_local0.SetOptions = function ( f46_arg0, f46_arg1 )
	f46_arg0._options = f46_arg1
	if f46_arg1 then
		if f46_arg1.isUnlocked ~= nil then
			f46_arg0.isLocked = not f46_arg1.isUnlocked
		end
		if f46_arg0:IsAttachment() and not String.IsNilOrEmpty( f46_arg1.attachmentRef ) then
			f46_arg0.title = ATTACHMENT.GetName( f46_arg1.attachmentRef )
			f46_arg0.description = ATTACHMENT.GetDesc( f46_arg1.attachmentRef )
		end
		if f46_arg1.overrideDescription then
			f46_arg0.description = Engine[0xED84C33EC5F01EA]( f46_arg1.overrideDescription )
		end
	end
end

f0_local0.GetOptions = function ( f45_arg0 )
	return f45_arg0._options
end

f0_local0.GetType = function ( f44_arg0 )
	if f44_arg0.type == nil then
		f44_arg0.type = LOOT.GetTypeForID( f44_arg0._itemID )
	end
	return f44_arg0.type
end

f0_local0.IsWeapon = function ( f43_arg0 )
	return f43_arg0:GetType() == LOOT.itemTypes.WEAPON
end

f0_local0.IsOperator = function ( f42_arg0 )
	return f42_arg0:GetType() == LOOT.itemTypes.OPERATOR
end

f0_local0.IsOperatorSkin = function ( f41_arg0 )
	return f41_arg0:GetType() == LOOT.itemTypes.OPERATOR_SKIN
end

f0_local0.IsVehicleCamo = function ( f40_arg0 )
	return f40_arg0:GetType() == LOOT.itemTypes.VEHICLE_CAMO
end

f0_local0.IsAttachment = function ( f39_arg0 )
	return f39_arg0:GetType() == LOOT.itemTypes.ATTACHMENT
end

f0_local0.IsSuper = function ( f38_arg0 )
	return f38_arg0:GetType() == LOOT.itemTypes.SUPER
end

f0_local0.IsPlayerCard = function ( f37_arg0 )
	return f37_arg0:GetType() == LOOT.itemTypes.PLAYERCARD
end

f0_local0.IsEmblem = function ( f36_arg0 )
	return f36_arg0:GetType() == LOOT.itemTypes.EMBLEM
end

f0_local0.IsKillstreak = function ( f35_arg0 )
	return f35_arg0:GetType() == LOOT.itemTypes.STREAK
end

f0_local0.IsEquipment = function ( f34_arg0 )
	return f34_arg0:GetType() == LOOT.itemTypes.EQUIPMENT
end

f0_local0.IsWeaponCamo = function ( f33_arg0 )
	return f33_arg0:GetType() == LOOT.itemTypes.CAMO
end

f0_local0.IsPerk = function ( f32_arg0 )
	return f32_arg0:GetType() == LOOT.itemTypes.PERK
end

f0_local0.IsLocked = function ( f31_arg0 )
	if f31_arg0.isLocked == nil then
		if f31_arg0._itemID == 0 then
			local f31_local0 = f31_arg0:GetOptions()
			local f31_local1
			if not f31_local0 or f31_local0.comingSoonSeason == nil then
				f31_local1 = false
			else
				f31_local1 = true
			end
			return f31_local1
		end
		local f31_local0 = f31_arg0:GetOptions()
		if f31_local0 and f31_local0.isUnlocked ~= nil then
			f31_arg0.isLocked = not f31_local0.isUnlocked
			return f31_arg0.isLocked
		elseif f31_arg0:IsWeapon() then
			local f31_local1 = f31_arg0:WeaponData()
			f31_arg0.isLocked = f31_local1.isLocked
		elseif f31_arg0:IsVehicleCamo() then
			local f31_local1 = f31_arg0:ItemData()
			local f31_local2 = VEHICLE.GetDefaultCamo()
			if f31_local2.ref == f31_local1.ref then
				f31_arg0.isLocked = false
			end
		elseif f31_arg0:IsOperator() then
			local f31_local1 = f31_arg0:ItemData()
			f31_arg0.isLocked = not OPERATOR.IsUnlocked( f31_arg0._controllerIndex, f31_local1.ref )
		elseif f31_arg0:IsOperatorSkin() then
			local f31_local1 = f31_arg0:ItemData()
			local f31_local2 = OPERATOR.GetSkinOwnerRef( f31_local1.ref )
			if f31_local1.ref == OPERATOR.GetDefaultSkin( f31_local2 ) then
				f31_arg0.isLocked = not OPERATOR.IsUnlocked( f31_arg0._controllerIndex, f31_local2 )
			else
				f31_arg0.isLocked = not LOOT.IsUnlockedWithID( f31_arg0._controllerIndex, f31_arg0._itemID )
			end
		else
			f31_arg0.isLocked = not LOOT.IsUnlockedWithID( f31_arg0._controllerIndex, f31_arg0._itemID )
		end
	end
	return f31_arg0.isLocked
end

f0_local0.ItemData = function ( f30_arg0 )
	if f30_arg0:IsAttachment() then
		f30_arg0.itemData = ITEM_UTILS.CollectAttachmentData( f30_arg0._controllerIndex, f30_arg0._itemID )
		f30_arg0.unlockData = nil
	elseif not f30_arg0.itemData then
		f30_arg0.itemData = ITEM_UTILS.CollectBasicItemData( f30_arg0._controllerIndex, f30_arg0._itemID )
	end
	return f30_arg0.itemData
end

f0_local0.WeaponData = function ( f29_arg0 )
	local f29_local0 = f29_arg0:ItemData()
	if not f29_local0.weaponData then
		f29_local0.weaponData = UNLOCK_CRITERIA.CollectWeaponData( f29_arg0._controllerIndex, f29_arg0._itemID )
	end
	return f29_local0.weaponData
end

f0_local0.Title = function ( f28_arg0 )
	if f28_arg0._itemID == 0 then
		local f28_local0 = f28_arg0:GetOptions()
		if f28_local0 then
			local f28_local1 = f28_local0.comingSoonSeason
			local f28_local2 = Engine[0xED84C33EC5F01EA]( 0x7F683CC2C86D5BB )
		end
		return f28_local1 and f28_local2 or ""
	elseif not f28_arg0.title then
		if f28_arg0:IsWeapon() then
			local f28_local0 = f28_arg0:WeaponData()
			if f28_local0.bundleData and not LUI.StringIsNilOrEmpty( f28_local0.bundleData[0x4BCADBA8E631B86] ) then
				f28_arg0.title = Engine[0xED84C33EC5F01EA]( f28_local0.bundleData[0x4BCADBA8E631B86] )
			else
				f28_arg0.title = LOOT.GetItemNameByID( f28_arg0._itemID )
			end
		elseif f28_arg0:IsAttachment() then
			local f28_local0 = ATTACHMENT.GetName
			local f28_local3 = f28_arg0:ItemData()
			f28_arg0.title = f28_local0( f28_local3.ref )
		else
			f28_arg0.title = LOOT.GetItemNameByID( f28_arg0._itemID )
		end
	end
	return f28_arg0.title
end

f0_local0.Description = function ( f27_arg0 )
	if f27_arg0._itemID == 0 then
		return ""
	elseif not f27_arg0.description then
		if f27_arg0:IsWeapon() then
			local f27_local0 = f27_arg0:WeaponData()
			f27_arg0.description = f27_local0.desc or ""
		elseif f27_arg0:IsAttachment() then
			local f27_local0 = ATTACHMENT.GetDesc
			local f27_local1 = f27_arg0:ItemData()
			f27_arg0.description = f27_local0( f27_local1.ref )
		elseif f27_arg0:IsOperator() and f27_arg0:IsLocked() then
			f27_arg0.description = UNLOCK_CRITERIA.GetOperatorUnlockText()
		else
			f27_arg0.description = LOOT.GetTypeForID( f27_arg0._itemID ) and LOOT.GetItemDescByID( f27_arg0._itemID ) or ""
		end
	end
	if f27_arg0.type == LOOT.itemTypes.SUPER then
		f27_arg0.description = Engine[0xED84C33EC5F01EA]( SUPER.GetDesc( LOOT.GetItemRef( f27_arg0._itemID ) ) )
	end
	return f27_arg0.description
end

f0_local0.ShowDescription = function ( f26_arg0 )
	if f26_arg0._itemID == 0 then
		return false
	elseif not f26_arg0.showDescription then
		if f26_arg0:IsWeapon() then
			local f26_local0 = f26_arg0:WeaponData()
			f26_arg0.showDescription = f26_local0.showDesc
		else
			f26_arg0.showDescription = false
		end
	end
	return f26_arg0.showDescription
end

f0_local0.GetUnlockRequirementCount = function ( f25_arg0 )
	if f25_arg0.unlockRequirementCount == nil then
		local f25_local0 = UNLOCK_CRITERIA.GetCriteriaElementListData( f25_arg0._controllerIndex, f25_arg0._itemID )
		local f25_local1
		if f25_local0 then
			f25_local1 = #f25_local0
			if not f25_local1 then
			
			else
				f25_arg0.unlockRequirementCount = f25_local1
			end
		end
		f25_local1 = 0
	end
	local f25_local0 = f25_arg0:GetOptions()
	if f25_local0 and f25_local0.comingSoonSeason then
		f25_arg0.unlockRequirementCount = ITEM_UTILS.COMING_SOON_UNLOCK_COUNT
	end
	return f25_arg0.unlockRequirementCount
end

ITEM_UTILS.GetItemsCache = function ( f24_arg0 )
	if not PROJECT[0x5A05E13AC947C99][0x889822AB50D429F] then
		PROJECT[0x5A05E13AC947C99][0x889822AB50D429F] = WeakCache.new()
	end
	return PROJECT[0x5A05E13AC947C99][0x889822AB50D429F]:Get( f24_arg0 )
end

ITEM_UTILS.ClearItemCaches = function ()
	PROJECT[0x5A05E13AC947C99][0x889822AB50D429F] = nil
end

ITEM_UTILS.CacheEntry = function ( f22_arg0, f22_arg1 )
	local f22_local0 = ITEM_UTILS.GetItemsCache( f22_arg0 )
	local f22_local1 = f22_local0[f22_arg1]
	if not f22_local1 then
		f22_local1 = f0_local0.new( f22_arg0, f22_arg1 )
		f22_local0[f22_arg1] = f22_local1
	end
	return f22_local1
end

ITEM_UTILS.InvalidateCacheEntry = function ( f21_arg0, f21_arg1 )
	local f21_local0 = ITEM_UTILS.GetItemsCache( f21_arg0 )
	f21_local0[f21_arg1] = nil
end

ITEM_UTILS.IsUnlockedWithID = function ( f20_arg0, f20_arg1 )
	local f20_local0 = ITEM_UTILS.CacheEntry( f20_arg0, f20_arg1 )
	return not f20_local0:IsLocked()
end

ITEM_UTILS.CollectBasicItemData = function ( f19_arg0, f19_arg1 )
	return {
		ref = LOOT.GetItemRef( f19_arg1 ),
		type = LOOT.GetTypeForID( f19_arg1 )
	}
end

ITEM_UTILS.CollectAttachmentData = function ( f18_arg0, f18_arg1 )
	local f18_local0 = ITEM_UTILS.CollectBasicItemData( f18_arg0, f18_arg1 )
	local f18_local1 = ITEM_UTILS.CacheEntry( f18_arg0, f18_arg1 )
	local f18_local2 = f18_local1:GetOptions()
	local f18_local3
	if f18_local2 then
		f18_local3 = f18_local2.attachmentRef
		if not f18_local3 then
		
		else
			f18_local0.ref = f18_local3
			f18_local0.bundle = ATTACHMENT.GetBundleByRef( f18_local0.ref )
			if f18_local2 then
				f18_local3 = f18_local2
			else
				f18_local3 = f18_local2.overrideWeaponUnlock
			end
			f18_local0.overrideWeaponUnlock = f18_local3
			if f18_local2 then
				f18_local3 = f18_local2
			else
				f18_local3 = f18_local2.overrideUnlockLevel
			end
			f18_local0.overrideUnlockLevel = f18_local3
			return f18_local0
		end
	end
	f18_local3 = f18_local0.ref
end

ITEM_UTILS.SetCurrentItemID = function ( f17_arg0, f17_arg1, f17_arg2 )
	if f17_arg2 then
		local f17_local0 = ITEM_UTILS.CacheEntry( f17_arg0, f17_arg1 )
		f17_local0:SetOptions( f17_arg2 )
	end
	if f17_arg1 == ITEM_UTILS.COMING_SOON_ITEM_ID then
		DataSources.alwaysLoaded.general.forceUpdateUnlockCriteria:SetValue( f17_arg0, true )
		if Table.IsNilOrEmpty( f17_arg2 ) and not Table.IsNilOrEmpty( ITEM_UTILS.CacheEntry( f17_arg0, f17_arg1 ) ) then
			ITEM_UTILS.InvalidateCacheEntry( f17_arg0, f17_arg1 )
		end
	end
	_DataSources[0x71428806887F67D][0xA4BD2C0BF972258][0xE7FD06D864FBD56]:SetValue( f17_arg0, f17_arg1 )
end

ITEM_UTILS[0xA6283039E38E271] = function ( f15_arg0 )
	return function ( f16_arg0 )
		local f16_local0 = ITEM_UTILS.CacheEntry( f16_arg0, f15_arg0:GetValue( f16_arg0 ) )
		return f16_local0:IsWeapon()
	end
	
end

ITEM_UTILS[0x3DEA268782615CD] = function ( f13_arg0 )
	return function ( f14_arg0 )
		local f14_local0 = ITEM_UTILS.CacheEntry( f14_arg0, f13_arg0:GetValue( f14_arg0 ) )
		return f14_local0:IsOperator()
	end
	
end

ITEM_UTILS[0x3F779E17C140C58] = function ( f11_arg0 )
	return function ( f12_arg0 )
		local f12_local0 = ITEM_UTILS.CacheEntry( f12_arg0, f11_arg0:GetValue( f12_arg0 ) )
		return f12_local0:IsAttachment()
	end
	
end

ITEM_UTILS[0xADA415BD2D0EE0E] = function ( f9_arg0 )
	return function ( f10_arg0 )
		local f10_local0 = ITEM_UTILS.CacheEntry( f10_arg0, f9_arg0:GetValue( f10_arg0 ) )
		return f10_local0:IsPlayerCard()
	end
	
end

ITEM_UTILS[0x47D7625F27930E3] = function ( f7_arg0 )
	return function ( f8_arg0 )
		local f8_local0 = ITEM_UTILS.CacheEntry( f8_arg0, f7_arg0:GetValue( f8_arg0 ) )
		return f8_local0:IsLocked()
	end
	
end

ITEM_UTILS[0x866A2BFC088038] = function ( f5_arg0 )
	return function ( f6_arg0 )
		local f6_local0 = ITEM_UTILS.CacheEntry( f6_arg0, f5_arg0:GetValue( f6_arg0 ) )
		return f6_local0:Description()
	end
	
end

ITEM_UTILS[0x6B7C3619ADBF70] = function ( f3_arg0 )
	return function ( f4_arg0 )
		local f4_local0 = ITEM_UTILS.CacheEntry( f4_arg0, f3_arg0:GetValue( f4_arg0 ) )
		return f4_local0:Title()
	end
	
end

ITEM_UTILS[0x97E33C4DC88F707] = function ( f1_arg0 )
	return function ( f2_arg0 )
		local f2_local0 = ITEM_UTILS.CacheEntry( f2_arg0, f1_arg0:GetValue( f2_arg0 ) )
		return f2_local0:ShowDescription()
	end
	
end

