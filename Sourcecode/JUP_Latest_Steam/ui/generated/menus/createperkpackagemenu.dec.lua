-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
module( ..., package.seeall )
require( "ui.generated.menus.frontend.weapons.loadout.loadoutperkselectmenubase" )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.frontend.weapons.perkpackage.perkbuttonmedium" )
require( "ui.generated.widgets.frontend.weapons.perkpackage.perkbuttonlargetall" )
require( "ui.generated.widgets.scrollbar.horizontalscrollbar" )
require( "ui.generated.widgets.frontend.mp.cas.itemdetailpanel" )
require( "ui.generated.widgets.frontend.mp.splitscreenoperator" )
local f0_local0 = {
	EDIT = 1,
	SELECT = 0
}
local f0_local1 = function ( f34_arg0, f34_arg1 )
	local f34_local0 = f34_arg0.selectedPerkIndex - PERK.GetDefaultPerkPackageCount()
	local f34_local1 = PERK.GetPerkPackageData( f34_arg1, f34_arg0.selectedPerkIndex )
	PERK.SavePerkPackageToPlayerData( f34_arg1, f34_local0, f34_local1.name, f34_arg0.savedPerks )
end

local f0_local2 = function ( f33_arg0, f33_arg1, f33_arg2 )
	if f33_arg0._perkState == f0_local0.EDIT then
		f33_arg0:UpdateMenuState( f33_arg1, f0_local0.SELECT, f33_arg0._perkTypeIndex )
		return 
	end
	local f33_local0 = nil
	if f33_arg0._handleOverkillOnClose then
		f33_local0 = PERK.DoesPerkPackageContainOverkill( PERK.GetPerkPackageData( f33_arg1, f33_arg0.selectedPerkIndex ) )
	end
	f33_arg0.savedPerks = {}
	for f33_local1 = 1, #f33_arg0._perkButtons, 1 do
		table.insert( f33_arg0.savedPerks, f33_local1, f33_arg0._perkButtons[f33_local1].perkRef )
	end
	f0_local0( f33_arg0, f33_arg1 )
	if f33_arg0._handleOverkillOnClose then
		PERK.HandleOverkillPerkWeapon( f33_arg1, f33_arg0.selectedPerkIndex, f33_arg0._loadoutIndex, f33_local0 )
	end
	ACTIONS.LeaveMenu( f33_arg0 )
end

local f0_local3 = function ( f32_arg0, f32_arg1, f32_arg2 )
	local f32_local0 = f32_arg0.PerksGridSmall
	local f32_local1 = f32_arg0.PerksGridLarge
	local f32_local2 = f32_arg0.HorizontalScrollbarGridLarge
	local f32_local3 = f32_arg0.HorizontalScrollbarGridSmall
	f32_local0:SetMouseFocusBlocker( true )
	f32_local1:SetMouseFocusBlocker( true )
	f32_local2:SetMouseFocusBlocker( true )
	f32_local3:SetMouseFocusBlocker( true )
	local f32_local4 = nil
	if f32_local0._isInFocus then
		f32_local4 = f32_local0
	elseif f32_local1._isInFocus then
		f32_local4 = f32_local1
	end
	f32_local0._isInFocus = false
	f32_local1._isInFocus = false
	if f32_arg1 then
		f32_arg1:SetMouseFocusBlocker( false )
		f32_arg1._isInFocus = true
		if f32_local4 ~= f32_arg1 then
			if f32_local4 then
				local f32_local5 = f32_local4._scrollbar
				f32_local5:SetMouseFocusBlocker( true )
				f32_local5:SetVisible( false )
				local f32_local6 = f32_local4._sideArrows
				if f32_local6 then
					f32_local6:DisableSideButtons()
				end
			else
				f32_local2:SetVisible( false )
				f32_local3:SetVisible( false )
			end
			local f32_local5 = f32_arg1._scrollbar
			f32_local5:SetMouseFocusBlocker( false )
			f32_local5:SetVisible( true )
		end
		if f32_arg1._sideArrows then
			f32_arg1._sideArrows:UpdateSideButtons()
		end
	else
		for f32_local8, f32_local9 in pairs( {
			f32_local0,
			f32_local1
		} ) do
			ACTIONS.LoseFocus( f32_arg0, f32_local9.id, f32_arg2 )
			local f32_local10 = f32_local9._sideArrows
			if f32_local10 then
				f32_local10:DisableSideButtons()
			end
		end
	end
end

local f0_local4 = function ( f31_arg0 )
	local f31_local0
	if f31_arg0 > PERK.PERK_INDEX_VALUES.BASIC then
		f31_local0 = CONDITIONS.IsMagmaGameMode()
	else
		f31_local0 = true
	end
	return f31_local0
end

local f0_local5 = function ( f30_arg0, f30_arg1, f30_arg2 )
	f30_arg0._perkTypeIndex = f30_arg2
	local f30_local0 = f30_arg0._perks[f30_arg2]
	local f30_local1
	if f0_local0( f30_arg2 ) then
		f30_local1 = f30_arg0.PerksGridSmall
		if not f30_local1 then
		
		else
			f30_local1:SetNumColumns( #f30_local0 )
			f30_local1:SetNumRows( 1 )
			f30_local1:RefreshContent()
			f0_local0( f30_arg0, f30_local1, f30_arg1 )
			local f30_local2 = 0
			for f30_local3 = 1, #f30_local0, 1 do
				if f30_local0[f30_local3].ref == f30_arg0.prevButtonPerkRef then
					f30_local2 = f30_local3 - 1
					break
				end
			end
			f30_local1:ResetMouseActiveOnGridUpdate( f30_arg1, {
				y = 0,
				x = f30_local2
			} )
			f30_local1:SetFocusedPosition( {
				y = 0,
				x = f30_local2
			}, true )
		end
	end
	f30_local1 = f30_arg0.PerksGridLarge
end

local f0_local6 = function ( f26_arg0, f26_arg1, f26_arg2 )
	local f26_local0 = PERK.GetPerkPackageData( f26_arg1, f26_arg2 )
	f26_local0 = f26_local0.perks
	for f26_local1 = 1, #f26_local0, 1 do
		local f26_local4 = f26_local0[f26_local1]
		local f26_local5 = PERK.GetBundleByRef( f26_local4 )
		local f26_local6 = f26_arg0._perkButtons[f26_local1]
		local f26_local7 = PERK.GetPerkPackageTypeFromIndex( f26_local1 )
		f26_local6:SetupButton( {
			isBaseButton = true,
			removeTextBacker = true,
			localizeHeader = false,
			imageSize = "1x1",
			buttonData = {
				header = PERK.GetName( f26_local5 ),
				subHeader = CONDITIONS[0x4A020C7B018B3BA]() and PERK.GetWarzonePerkPackageTypeNameFromIndex( f26_local1 ) or PERK.GetPerkPackageTypeNameFromType( f26_local7 ),
				image = PERK.GetImage( f26_local5 )
			},
			colorOverride = PERK.GetPerkPackageColorFromType( f26_local7 )
		} )
		f26_local6:SetRestricted( Restrictions.IsPerkRestricted( f26_local4 ) )
		f26_local6:SetEquipped( false )
		f26_local6:SetPrimaryPromptText( 0xAA4B3526A3C0AC4 )
		if Restrictions.AreAllPerksInSlotRestricted( f26_local7 ) then
			f26_local6:SetButtonDisabled( true )
			f26_local6:SetFocusable( true )
			f26_local6:SetHeaderText( "" )
			f26_local6:SetImage( 0x675E1C386B3B97 )
			f26_local6:SetRestricted( false )
		end
		f26_local6.index = f26_local1
		f26_local6.menu = f26_arg0
		f26_local6.perkRef = f26_local4
		f26_local6:addEventHandler( "button_action", function ( f29_arg0, f29_arg1 )
			if f29_arg0.menu._perkState == f26_arg0.EDIT and f29_arg0.menu.prevButtonPerkRef == f29_arg0.perkRef then
				f29_arg0.menu:UpdateMenuState( f29_arg1.controller, f26_arg0.SELECT, f29_arg0.index )
			else
				f29_arg0.menu.prevButtonPerkRef = f29_arg0.perkRef
				f29_arg0.menu:UpdateMenuState( f29_arg1.controller, f26_arg0.EDIT, f29_arg0.index )
			end
			return true
		end )
		f26_local6:addEventHandler( "button_over", function ( f28_arg0, f28_arg1 )
			f28_arg0.menu:ShowPerkDetails( f26_arg0, f28_arg0.perkRef, f26_arg0, true )
		end )
		f26_local6:addEventHandler( "gain_focus", function ( f27_arg0, f27_arg1 )
			f27_arg0.menu:ShowPerkDetails( f26_arg0, f27_arg0.perkRef, f26_arg0, true )
		end )
	end
	local f26_local1 = {
		localizeHeader = true,
		buttonData = {
			header = 0x8994EF0FBAD7AE6
		}
	}
end

local f0_local7 = function ( f24_arg0, f24_arg1, f24_arg2 )
	PERK.SetupPerks()
	local f24_local0 = PERK.GetPerkPackageData( f24_arg1, f24_arg2 )
	f24_local0 = f24_local0.perks
	for f24_local10, f24_local11 in pairs( PROJECT[0x5A05E13AC947C99][0xB06F5847096E54A] ) do
		local f24_local12 = {
			ref = f24_local10,
			bundle = f24_local11,
			isUnlocked = LOOT.IsUnlockedWithID( f24_arg1, tonumber( f24_local11[0x28887F70BF5EBA] ) ),
			isNew = false
		}
		local f24_local13 = f24_local11[0x28887F70BF5EBA]
		f24_local12.unlockRank = PROGRESSION.GetUnlockRank( f24_local13 )
		if not f24_local12.isUnlocked then
			f24_local12.unlockCriteria = PROGRESSION.GetUnlockTextForItemID( LOOT.itemTypes.PERK, f24_local10, f24_local13 )
		end
		local f24_local4 = tonumber( PERK.GetMenuSlot( f24_local11 ) )
		if f24_local4 ~= nil then
			f24_local12.isRestricted = Restrictions.IsPerkRestricted( f24_local10 )
			f24_local12._isDisabled = CONDITIONS.IsMagmaGameMode() and PERK.GetIsPerkDisabledForBR( f24_local12.bundle ) or false
			for f24_local8, f24_local9 in ipairs( f24_local0 ) do
				if f24_local12.ref == f24_local9 then
					f24_local12.isEquipped = true
					break
				end
			end
			if not (f24_local12.isRestricted or f24_local12._isDisabled) or f24_local12.isEquipped then
				table.insert( f24_arg0._perkTable[f24_local4], f24_local12 )
			end
		end
	end
	for f24_local10, f24_local11 in pairs( f24_arg0._perkTable ) do
		table.sort( f24_local11, function ( f25_arg0, f25_arg1 )
			if f25_arg0.isUnlocked == f25_arg1.isUnlocked then
				return f25_arg0.unlockRank < f25_arg1.unlockRank
			else
				return f25_arg0.isUnlocked
			end
		end )
	end
end

local f0_local8 = function ( f23_arg0, f23_arg1, f23_arg2, f23_arg3 )
	local f23_local0 = f23_arg0._perkButtons[f23_arg1]
	if f23_local0.perkRef == f23_arg2 then
		return 
	end
	local f23_local1 = PERK.GetBundleByRef( f23_arg2 )
	if Restrictions.IsPerkRestricted( f23_local0.perkRef ) then
		local f23_local2 = nil
		for f23_local6, f23_local7 in ipairs( f23_arg0._perks[f23_local0.index] ) do
			if f23_local7.ref == f23_local0.perkRef then
				f23_local2 = f23_local6
				break
			end
		end
		table.remove( f23_arg0._perks[f23_local0.index], f23_local2 )
		f23_local3.SetNumColumns( f0_local0( f23_local0.index ) and f23_arg0.PerksGridSmall or f23_arg0.PerksGridLarge, #f23_arg0._perks[f23_local0.index] )
	end
	f23_local0:SetHeaderText( PERK.GetName( f23_local1 ) )
	f23_local0:SetImage( PERK.GetImage( f23_local1 ) )
	f23_local0:SetRestricted( Restrictions.IsPerkRestricted( f23_arg2 ) )
	f23_local0.perkRef = f23_arg2
	f23_arg0.prevButtonPerkRef = f23_arg2
end

local f0_local9 = function ( f22_arg0 )
	for f22_local0 = 1, #f22_arg0._perkButtons, 1 do
		f22_arg0._perkButtons[f22_local0].navigation = {}
		if 1 < f22_local0 then
			f22_arg0._perkButtons[f22_local0].navigation.left = f22_arg0._perkButtons[f22_local0 - 1]
		end
		if f22_local0 < #f22_arg0._perkButtons then
			f22_arg0._perkButtons[f22_local0].navigation.right = f22_arg0._perkButtons[f22_local0 + 1]
		end
	end
end

local f0_local10 = function ( f21_arg0, f21_arg1, f21_arg2, f21_arg3 )
	if f21_arg2 then
		f21_arg0._perkState = f21_arg2
	end
	if f21_arg0._perkState == f0_local0.SELECT then
		ACTIONS.AnimateSequence( f21_arg0, "PerkSelect" )
		f0_local0( f21_arg0, nil, f21_arg1 )
		local f21_local0 = f21_arg0._perkButtons
		local f21_local1
		if f21_arg3 and not f21_arg3 then
			f21_local1 = f21_arg3
		else
			f21_local1 = 1
		end
		f21_local0[f21_local1]:processEvent( {
			name = "gain_focus",
			controller = f21_arg1
		} )
	else
		ACTIONS.AnimateSequence( f21_arg0, "PerkEdit" )
		f21_arg0:ShowEquippablePerks( f21_arg1, f21_arg3 )
		if f0_local0( f21_arg3 ) then
			f21_arg0.PerksGridSmall:SetAlpha( 1, 200, LUI.EASING.outCubic )
			f21_arg0.PerksGridLarge:SetAlpha( 0 )
		else
			f21_arg0.PerksGridLarge:SetAlpha( 1, 200, LUI.EASING.outCubic )
			f21_arg0.PerksGridSmall:SetAlpha( 0 )
		end
		for f21_local1 = 1, #f21_arg0._perkButtons, 1 do
			local f21_local4 = f21_arg0._perkButtons[f21_local1]
			local f21_local5 = f21_local4
			f21_local4 = f21_local4.SetAlpha
			local f21_local6
			if f21_local1 == f21_arg3 then
				f21_local6 = 1
			else
				f21_local6 = 0.5
			end
			f21_local4( f21_local5, f21_local6 )
		end
	end
end

local f0_local11 = function ( f16_arg0, f16_arg1, f16_arg2 )
	f16_arg2:SetNumColumns( 10 )
	f16_arg2:SetNumRows( 1 )
	f16_arg2:SetRefreshChild( function ( f17_arg0, f17_arg1, f17_arg2 )
		local f17_local0 = f16_arg0._perks[f16_arg0._perkTypeIndex]
		if f17_local0 then
			local f17_local1 = f17_local0[f17_arg1 + 1].ref
			local f17_local2 = PERK.GetPerkPackageTypeFromIndex( f16_arg0._perkTypeIndex )
			if f17_local1 then
				local f17_local3 = PERK.GetBundleByRef( f17_local1 )
				local f17_local4 = {
					removeTextBacker = true,
					localizeHeader = false,
					imageSize = "1x1",
					buttonData = {
						header = PERK.GetName( f17_local3 ),
						image = PERK.GetImage( f17_local3 )
					},
					colorOverride = PERK.GetPerkPackageColorFromType( f17_local2 )
				}
				f17_arg0.perkRef = f17_local1
				f17_arg0.perkLootID = f17_local0[f17_arg1 + 1].bundle[0x28887F70BF5EBA]
				local f17_local5 = LOOT.IsUnlockedWithID( f16_arg0, tonumber( f17_arg0.perkLootID ) )
				if not f17_local5 then
					f17_local5 = IsPrivateMatch()
				end
				f17_arg0.isPerkUnlocked = f17_local5
				f17_arg0.perkTypeIndex = f16_arg0._perkTypeIndex
				f17_arg0.menu = f16_arg0
				f17_arg0:SetPrimaryPromptText( 0xCA07A93FADF9E95 )
				f17_arg0:SetEquipped( f17_arg0.menu.prevButtonPerkRef == f17_arg0.perkRef )
				f17_arg0:SetRestricted( Restrictions.IsPerkRestricted( f17_local1 ) )
				local f17_local5, f17_local6 = nil
				local f17_local7 = false
				if f16_arg0._perkTypeIndex <= 2 then
					if f16_arg0._perkTypeIndex == 2 then
						f17_local5 = 1
					else
						f17_local5 = 2
					end
					f17_local6 = f16_arg0._perkButtons[f17_local5].perkRef
					if not f17_arg0.equipped then
						f17_arg0:SetEquipped( f17_local6 == f17_local1 )
					end
					if f17_local6 == f17_local1 then
						f17_local7 = true
					end
				end
				f17_arg0:SetDisabledNoLock( f17_local7 )
				local f17_local8 = f17_arg0
				local f17_local9 = f17_arg0.SetDisabledText
				local f17_local10 = Engine[0xED84C33EC5F01EA]
				local f17_local11
				if f17_local7 then
					f17_local11 = 0x3FDB70668AFDB5E
					if not f17_local11 then
					
					else
						f17_local9( f17_local8, f17_local10( f17_local11 ) )
						f17_local8 = f17_arg0
						f17_local9 = f17_arg0.SetButtonDisabled
						if f17_arg0.isPerkUnlocked and (f16_arg0._perkTypeIndex > 2 or f17_local6 ~= f17_local1) then
							f17_local10 = false
						else
							f17_local10 = true
						end
						f17_local9( f17_local8, f17_local10 )
						f17_arg0:SetupButton( f17_local4 )
						f17_arg0:UpdatePerkColor( PERK.GetPerkPackageColorFromType( f17_local2 ) )
						if not f17_arg0.eventHandlersAdded then
							f17_arg0:addEventHandler( "button_over", function ( f20_arg0, f20_arg1 )
								f20_arg0.menu:ShowPerkDetails( f20_arg1.controller or f17_arg0, f20_arg0.perkRef, nil, f17_arg0.isPerkUnlocked )
							end )
							f17_arg0:addEventHandler( "button_over_disable", function ( f19_arg0, f19_arg1 )
								f19_arg0.menu:ShowPerkDetails( f19_arg1.controller or f17_arg0, f19_arg0.perkRef, nil, f17_arg0.isPerkUnlocked )
							end )
							f17_arg0:addEventHandler( "button_action", function ( f18_arg0, f18_arg1 )
								f18_arg0.menu:UpdatePerks( f18_arg0.perkTypeIndex, f18_arg0.perkRef, f17_arg0 )
								local f18_local0 = f18_arg0:getParent()
								f18_local0:RefreshContent()
								f18_arg0.menu:UpdateMenuState( f18_arg1.controller or f17_arg0, f17_arg0.SELECT, f17_arg0._perkTypeIndex )
							end )
							f17_arg0.eventHandlersAdded = true
						end
					end
				end
				f17_local11 = 0x3EBCFFB401F0007
			end
		end
	end )
end

local f0_local12 = function ( f15_arg0, f15_arg1, f15_arg2, f15_arg3, f15_arg4 )
	local f15_local0 = PERK.GetBundleByRef( f15_arg2 )
	local f15_local1 = {
		title = PERK.GetName( f15_local0 ),
		desc = PERK.GetDesc( f15_local0 ),
		extraInfo = PERK.GetPerkExtraInfo( f15_local0 )
	}
	local f15_local2
	if not f15_arg4 then
		f15_local2 = PROGRESSION.GetUnlockTextForItemID( LOOT.itemTypes.PERK, f15_arg2, f15_local0[0x28887F70BF5EBA] )
		if not f15_local2 then
		
		else
			f15_local1.unlockCriteria = f15_local2
			if Restrictions.AreAllPerksInSlotRestricted( f15_arg3 ) then
				f15_local1.title = Engine[0xED84C33EC5F01EA]( 0x3EBCFFB401F0007 )
				if f15_arg3 == 1 then
					f15_local1.desc = Engine[0xED84C33EC5F01EA]( 0x628182B7BC4F4F8 )
				elseif f15_arg3 == 2 then
					f15_local1.desc = Engine[0xED84C33EC5F01EA]( 0xBBAA8B3042CB18F )
				elseif f15_arg3 == 3 then
					f15_local1.desc = Engine[0xED84C33EC5F01EA]( 0xA6B92B62E494BDE )
				end
			end
			f15_arg0.ItemDetailPanel:UpdateDetails( f15_arg1, f15_local1 )
		end
	end
	f15_local2 = ""
end

local f0_local13 = function ( f12_arg0, f12_arg1, f12_arg2 )
	f12_arg0._controllerIndex = f12_arg1
	f12_arg0.ShowEquippablePerks = f0_local0
	f12_arg0.GetPerkDetails = f0_local0
	f12_arg0.SetupGrid = f0_local0
	f12_arg0.ShowPerkDetails = f0_local0
	f12_arg0.UpdateMenuState = f0_local0
	f12_arg0.MenuBackHandler = f0_local0
	f12_arg0.UpdatePerks = f0_local0
	local f12_local0 = f12_arg0.PerksGridSmall
	local f12_local1 = f12_arg0.PerksGridLarge
	f12_local0._isInFocus = false
	f12_local1._isInFocus = false
	f12_local0._scrollbar = f12_arg0.HorizontalScrollbarGridSmall
	f12_local1._scrollbar = f12_arg0.HorizontalScrollbarGridLarge
	f12_arg0:addEventHandler( "side_arrow_created", function ( f14_arg0, f14_arg1 )
		local f14_local0 = f14_arg1.sideArrows
		if f14_local0 then
			f14_local0:DisableSideButtons()
		end
	end )
	f12_arg0._perkButtonsMP = {
		f12_arg0.BasePerk1,
		f12_arg0.BasePerk2,
		f12_arg0.BonusPerk,
		f12_arg0.UltimatePerk
	}
	f12_arg0._perkButtonsBR = {
		f12_arg0.BasePerk1,
		f12_arg0.BasePerk2,
		f12_arg0.BasePerk3,
		f12_arg0.BasePerk4
	}
	if CONDITIONS.IsMagmaGameMode() then
		f12_arg0._perkButtons = f12_arg0._perkButtonsBR
		ACTIONS.AnimateSequence( f12_arg0, "BRLayout" )
	else
		f12_arg0._perkButtons = f12_arg0._perkButtonsMP
	end
	f12_arg0._perkTable = {
		[PERK.PerkTypes.CORE] = {},
		[PERK.PerkTypes.ACTIVE] = {},
		[PERK.PerkTypes.PASSIVE] = {}
	}
	f12_arg0._perks = {
		f12_arg0._perkTable[PERK.PerkTypes.CORE],
		f12_arg0._perkTable[PERK.PerkTypes.CORE],
		f12_arg0._perkTable[PERK.PerkTypes.ACTIVE],
		f12_arg0._perkTable[PERK.PerkTypes.PASSIVE]
	}
	if f12_arg2.handleOverkillOnClose then
		f12_arg0._handleOverkillOnClose = f12_arg2.handleOverkillOnClose
	end
	if f12_arg2.loadoutIndex then
		f12_arg0._loadoutIndex = f12_arg2.loadoutIndex
	end
	f12_arg0:PostLoadShared( f12_arg1, f12_arg2 )
	f12_arg0.isEditingPerks = f12_arg2.isEditingPerks
	f12_arg0:UpdateMenuState( f12_arg1, f0_local0.SELECT )
	f0_local0( f12_arg0 )
	local f12_local2 = PERK.GetPerkPackageData( f12_arg1, f12_arg0.selectedPerkIndex )
	f12_arg0.MenuTitle:SetTitle( f12_arg0.isEditingPerks and Engine[0xED84C33EC5F01EA]( 0x4A16ED86A1A0A02, f12_local2.name ) or Engine[0xED84C33EC5F01EA]( 0x340E6A54DFB2543 ) )
	f0_local0( f12_arg0, f12_arg1, f12_arg0.selectedPerkIndex )
	f12_arg0:addEventHandler( "gain_focus", function ( f13_arg0, f13_arg1 )
		if not f13_arg1.fromEnsureFocus then
			return true
		elseif f13_arg0._perkState == f12_arg0.EDIT then
			if f13_arg0.PerksGridLarge._isInFocus then
				f13_arg0.PerksGridLarge:processEvent( f13_arg1 )
			elseif f13_arg0.PerksGridSmall._isInFocus then
				f13_arg0.PerksGridSmall:processEvent( f13_arg1 )
			end
		elseif f13_arg0._savedState and f13_arg0._savedState[1] then
			f13_arg0[f13_arg0._savedState[1].id]:processEvent( f13_arg1 )
		end
		return true
	end )
	if LUI.IsLastInputGamepad( f12_arg1 ) or LUI.IsLastInputKeyboardNavigation( f12_arg1 ) then
		f12_arg0._perkButtons[1]:processEvent( {
			name = "gain_focus",
			controller = f12_arg1
		} )
	end
	MenuUtils.SetupActiveStateOnNonListButtons( f12_arg0, f12_arg1, {
		buttonList = f12_arg0._perkButtons,
		defaultFocusButton = f12_arg0._perkButtons[1]
	} )
end

States = {
	[0xAD14C6E7156B923] = function ( f7_arg0, f7_arg1 )
		local f7_local0 = function ( f11_arg0, f11_arg1 )
			
		end
		
		f7_arg0[0x834CE492FF0C401]:RegisterAnimationSequence( 0xC7A8F3DCE86E999, {
			nil,
			nil,
			4294966581,
			0,
			nil,
			4294967002,
			0,
			[1] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Top, TWEEN_PROPERTY_NUM_BITS ),
			[4] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Bottom, TWEEN_PROPERTY_NUM_BITS )
		} )
		f7_arg0[0x277F3E830DEFD]:RegisterAnimationSequence( 0xC7A8F3DCE86E999, {
			nil,
			nil,
			4294966604,
			0,
			nil,
			4294967025,
			0,
			[1] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Top, TWEEN_PROPERTY_NUM_BITS ),
			[4] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Bottom, TWEEN_PROPERTY_NUM_BITS )
		} )
		if f7_arg0[0xF7CDE78937ED900] then
			f7_arg0[0xF7CDE78937ED900]:RegisterAnimationSequence( 0xC7A8F3DCE86E999, {
				nil,
				nil,
				1,
				0,
				[1] = TWEEN_PROPERTY.Alpha
			} )
		end
		if f7_arg0[0x7926E22FFC4E958] then
			f7_arg0[0x7926E22FFC4E958]:RegisterAnimationSequence( 0xC7A8F3DCE86E999, {
				nil,
				nil,
				1,
				0,
				[1] = TWEEN_PROPERTY.Alpha
			} )
		end
		f7_arg0[0x1CEC74D712CD13F]:RegisterAnimationSequence( 0xC7A8F3DCE86E999, {
			nil,
			nil,
			4294966343,
			0,
			nil,
			4294966493,
			0,
			[1] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Top, TWEEN_PROPERTY_NUM_BITS ),
			[4] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Bottom, TWEEN_PROPERTY_NUM_BITS )
		} )
		local f7_local1 = function ( f10_arg0, f10_arg1 )
			f10_arg0[0x834CE492FF0C401]:AnimateSequence( 0xC7A8F3DCE86E999 )
			f10_arg0[0x277F3E830DEFD]:AnimateSequence( 0xC7A8F3DCE86E999 )
			if f10_arg0[0xF7CDE78937ED900] then
				f10_arg0[0xF7CDE78937ED900]:AnimateSequence( 0xC7A8F3DCE86E999 )
			end
			if f10_arg0[0x7926E22FFC4E958] then
				f10_arg0[0x7926E22FFC4E958]:AnimateSequence( 0xC7A8F3DCE86E999 )
			end
			f10_arg0[0x1CEC74D712CD13F]:AnimateSequence( 0xC7A8F3DCE86E999 )
		end
		
		f7_arg0[0x834CE492FF0C401]:RegisterAnimationSequence( 0xB194995534FE635, {
			nil,
			nil,
			0,
			-28,
			nil,
			4294966788,
			-28,
			nil,
			4294967209,
			-28,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Top, TWEEN_PROPERTY_NUM_BITS ),
			[7] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Bottom, TWEEN_PROPERTY_NUM_BITS )
		} )
		f7_arg0[0x277F3E830DEFD]:RegisterAnimationSequence( 0xB194995534FE635, {
			nil,
			nil,
			0,
			-28,
			nil,
			4294966788,
			-28,
			nil,
			4294967209,
			-28,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Top, TWEEN_PROPERTY_NUM_BITS ),
			[7] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Bottom, TWEEN_PROPERTY_NUM_BITS )
		} )
		if f7_arg0[0xF7CDE78937ED900] then
			f7_arg0[0xF7CDE78937ED900]:RegisterAnimationSequence( 0xB194995534FE635, {
				nil,
				nil,
				0,
				0,
				[1] = TWEEN_PROPERTY.Alpha
			} )
		end
		if f7_arg0[0x7926E22FFC4E958] then
			f7_arg0[0x7926E22FFC4E958]:RegisterAnimationSequence( 0xB194995534FE635, {
				nil,
				nil,
				0,
				0,
				[1] = TWEEN_PROPERTY.Alpha
			} )
		end
		f7_arg0[0x8339C3830B72127]:RegisterAnimationSequence( 0xB194995534FE635, {
			nil,
			nil,
			1,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f7_arg0[0x8339D3830B722DA]:RegisterAnimationSequence( 0xB194995534FE635, {
			nil,
			nil,
			1,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		if f7_arg0[0x8339E3830B7248D] then
			f7_arg0[0x8339E3830B7248D]:RegisterAnimationSequence( 0xB194995534FE635, {
				nil,
				nil,
				1,
				0,
				[1] = TWEEN_PROPERTY.Alpha
			} )
		end
		if f7_arg0[0x833973830B718A8] then
			f7_arg0[0x833973830B718A8]:RegisterAnimationSequence( 0xB194995534FE635, {
				nil,
				nil,
				1,
				0,
				[1] = TWEEN_PROPERTY.Alpha
			} )
		end
		if f7_arg0[0x55F74B3A018E360] then
			f7_arg0[0x55F74B3A018E360]:RegisterAnimationSequence( 0xB194995534FE635, {
				nil,
				nil,
				1,
				0,
				[1] = TWEEN_PROPERTY.Alpha
			} )
		end
		if f7_arg0[0xFE364F7C785223A] then
			f7_arg0[0xFE364F7C785223A]:RegisterAnimationSequence( 0xB194995534FE635, {
				nil,
				nil,
				1,
				0,
				[1] = TWEEN_PROPERTY.Alpha
			} )
		end
		f7_arg0[0x1CEC74D712CD13F]:RegisterAnimationSequence( 0xB194995534FE635, {
			nil,
			nil,
			4294966343,
			200,
			nil,
			4294966493,
			200,
			[1] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Top, TWEEN_PROPERTY_NUM_BITS ),
			[4] = Bit.Pack( LUI.EASING.outCubic, TWEEN_PROPERTY.Bottom, TWEEN_PROPERTY_NUM_BITS )
		} )
		local f7_local2 = function ( f9_arg0, f9_arg1 )
			f9_arg0[0x834CE492FF0C401]:AnimateSequence( 0xB194995534FE635 )
			f9_arg0[0x277F3E830DEFD]:AnimateSequence( 0xB194995534FE635 )
			if f9_arg0[0xF7CDE78937ED900] then
				f9_arg0[0xF7CDE78937ED900]:AnimateSequence( 0xB194995534FE635 )
			end
			if f9_arg0[0x7926E22FFC4E958] then
				f9_arg0[0x7926E22FFC4E958]:AnimateSequence( 0xB194995534FE635 )
			end
			f9_arg0[0x8339C3830B72127]:AnimateSequence( 0xB194995534FE635 )
			f9_arg0[0x8339D3830B722DA]:AnimateSequence( 0xB194995534FE635 )
			if f9_arg0[0x8339E3830B7248D] then
				f9_arg0[0x8339E3830B7248D]:AnimateSequence( 0xB194995534FE635 )
			end
			if f9_arg0[0x833973830B718A8] then
				f9_arg0[0x833973830B718A8]:AnimateSequence( 0xB194995534FE635 )
			end
			if f9_arg0[0x55F74B3A018E360] then
				f9_arg0[0x55F74B3A018E360]:AnimateSequence( 0xB194995534FE635 )
			end
			if f9_arg0[0xFE364F7C785223A] then
				f9_arg0[0xFE364F7C785223A]:AnimateSequence( 0xB194995534FE635 )
			end
			f9_arg0[0x1CEC74D712CD13F]:AnimateSequence( 0xB194995534FE635 )
		end
		
		if f7_arg0[0xF7CDE78937ED900] then
			f7_arg0[0xF7CDE78937ED900]:RegisterAnimationSequence( 0xA6942C97A34DAAF, {
				nil,
				nil,
				4294966928,
				0,
				nil,
				4294966946,
				0,
				[1] = TWEEN_PROPERTY.Top,
				[4] = TWEEN_PROPERTY.Bottom
			} )
		end
		if f7_arg0[0x8339E3830B7248D] then
			f7_arg0[0x8339E3830B7248D]:RegisterAnimationSequence( 0xA6942C97A34DAAF, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Visible
			} )
		end
		if f7_arg0[0x833973830B718A8] then
			f7_arg0[0x833973830B718A8]:RegisterAnimationSequence( 0xA6942C97A34DAAF, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Visible
			} )
		end
		if f7_arg0[0x55F74B3A018E360] then
			f7_arg0[0x55F74B3A018E360]:RegisterAnimationSequence( 0xA6942C97A34DAAF, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Hidden
			} )
		end
		if f7_arg0[0xFE364F7C785223A] then
			f7_arg0[0xFE364F7C785223A]:RegisterAnimationSequence( 0xA6942C97A34DAAF, {
				nil,
				nil,
				nil,
				0,
				[1] = TWEEN_PROPERTY.Visibility,
				[2] = LUI.Visibility.Hidden
			} )
		end
		f7_arg0[0xB412D752C46D056]:RegisterAnimationSequence( 0xA6942C97A34DAAF, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f7_arg0[0xB412C752C46CEA3]:RegisterAnimationSequence( 0xA6942C97A34DAAF, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f7_arg0[0x49D85F0EF1CEC84] = {
			[0xEF6C3AB55C07BEF] = f7_local0,
			[0xC7A8F3DCE86E999] = f7_local1,
			[0xB194995534FE635] = f7_local2,
			[0xA6942C97A34DAAF] = function ( f8_arg0, f8_arg1 )
				if f8_arg0[0xF7CDE78937ED900] then
					f8_arg0[0xF7CDE78937ED900]:AnimateSequence( 0xA6942C97A34DAAF )
				end
				if f8_arg0[0x8339E3830B7248D] then
					f8_arg0[0x8339E3830B7248D]:AnimateSequence( 0xA6942C97A34DAAF )
				end
				if f8_arg0[0x833973830B718A8] then
					f8_arg0[0x833973830B718A8]:AnimateSequence( 0xA6942C97A34DAAF )
				end
				if f8_arg0[0x55F74B3A018E360] then
					f8_arg0[0x55F74B3A018E360]:AnimateSequence( 0xA6942C97A34DAAF )
				end
				if f8_arg0[0xFE364F7C785223A] then
					f8_arg0[0xFE364F7C785223A]:AnimateSequence( 0xA6942C97A34DAAF )
				end
				f8_arg0[0xB412D752C46D056]:AnimateSequence( 0xA6942C97A34DAAF )
				f8_arg0[0xB412C752C46CEA3]:AnimateSequence( 0xA6942C97A34DAAF )
			end
		}
		f7_arg0[0xD97E59A206E4A54] = {
			[0xC7A8F3DCE86E999] = 0,
			[0xA6942C97A34DAAF] = 0,
			[0xB194995534FE635] = 200,
			[0xEF6C3AB55C07BEF] = 0
		}
	end
}
function CreatePerkPackageMenu( f1_arg0, f1_arg1 )
	local f1_local0 = CONDITIONS
	local f1_local1 = ACTIONS
	local f1_local2 = LUI
	local f1_local3 = MenuBuilder
	local f1_local4 = TWEEN_PROPERTY
	local f1_local5 = f1_local3.BuildRegisteredType( 0x567EBDDB594309, f1_arg1 )
	f1_local5.id = "CreatePerkPackageMenu"
	f1_local5[0xBD5D934D3CD91E5] = States
	f1_local5[0x97C0A74245D92FF] = true
	local f1_local6
	if f1_arg1 then
		f1_local6 = f1_arg1
	else
		f1_local6 = f1_arg1.controllerIndex
	end
	f1_local6 = f1_local2.ValidateControllerIndex( f1_local5, f1_local6 )
	local f1_local7 = f1_local5
	local f1_local8 = nil
	f1_local8 = f1_local2.UIBlur.new()
	f1_local8[0x8B72E07B55C3AC0] = "Blur"
	f1_local8:SetBlurStrength( 2, 0 )
	f1_local5:addElement( f1_local8 )
	f1_local5[0x5CCBB9BC2DD7F38] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local2.UIImage.new()
	f1_local9[0x8B72E07B55C3AC0] = "Gradient"
	f1_local9:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECFAC112DE22C], 0 )
	f1_local9:SetAlpha( 0.5, 0 )
	f1_local9:setImage( RegisterMaterial( 0x3A8F29C0EC8E46E ), 0 )
	f1_local9:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, -1080, 0 )
	f1_local5:addElement( f1_local9 )
	f1_local5[0x9C2C0A6CE89F765] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local3.BuildRegisteredType( 0x93CC4E91B38D10C, {
		controllerIndex = f1_local6
	} )
	f1_local10[0x8B72E07B55C3AC0] = "MenuTitle"
	f1_local10:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 80 )
	f1_local5:addElement( f1_local10 )
	f1_local5[0x93CC4E91B38D10C] = f1_local10
	local f1_local11 = nil
	f1_local11 = f1_local2.UIGrid.new( {
		maxVisibleColumns = 8,
		spacingX = 16,
		wrapY = false,
		rowHeight = 204,
		maxVisibleRows = 1,
		columnWidth = 204,
		controllerIndex = f1_local6,
		buildChild = function ()
			return f1_arg0.BuildRegisteredType( 0xE34E886F0C6312, {
				controllerIndex = f1_arg0
			} )
		end,
		refreshChild = function ( f5_arg0, f5_arg1, f5_arg2 )
			
		end,
		primaryAxis = f1_local2.DIRECTION.horizontal,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1],
		verticalAlignment = f1_local2.Alignment.Middle
	} )
	f1_local11[0x8B72E07B55C3AC0] = "PerksGridSmall"
	f1_local11:SetAlpha( 0, 0 )
	f1_local11:setUseStencil( false )
	f1_local11:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -869, 875, -725, -304 )
	f1_local5:addElement( f1_local11 )
	f1_local5[0x834CE492FF0C401] = f1_local11
	local f1_local12 = nil
	f1_local12 = f1_local2.UIGrid.new( {
		maxVisibleColumns = 6,
		spacingX = 16,
		wrapY = false,
		rowHeight = 204,
		maxVisibleRows = 1,
		columnWidth = 336,
		controllerIndex = f1_local6,
		buildChild = function ()
			return f1_arg0.BuildRegisteredType( 0x91C073FABB131F, {
				controllerIndex = f1_arg0
			} )
		end,
		refreshChild = function ( f3_arg0, f3_arg1, f3_arg2 )
			
		end,
		primaryAxis = f1_local2.DIRECTION.horizontal,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1],
		verticalAlignment = f1_local2.Alignment.Middle
	} )
	f1_local12[0x8B72E07B55C3AC0] = "PerksGridLarge"
	f1_local12:SetAlpha( 0, 0 )
	f1_local12:setUseStencil( false )
	f1_local12:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -869, 875, -725, -304 )
	f1_local5:addElement( f1_local12 )
	f1_local5[0x277F3E830DEFD] = f1_local12
	local f1_local13 = nil
	if f1_local0.IsGLGunsmithEnabled() then
		f1_local13 = f1_local3.BuildRegisteredType( 0x40DD6E46A5A464D, {
			controllerIndex = f1_local6
		} )
		f1_local13[0x8B72E07B55C3AC0] = "HorizontalScrollbarGridSmall"
		f1_local13:SetAlpha( 0, 0 )
		f1_local13:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -320, 370, -398, -380 )
		f1_local5:addElement( f1_local13 )
		f1_local5[0xF7CDE78937ED900] = f1_local13
	end
	local f1_local14 = nil
	if f1_local0.IsGLGunsmithEnabled() then
		f1_local14 = f1_local3.BuildRegisteredType( 0x40DD6E46A5A464D, {
			controllerIndex = f1_local6
		} )
		f1_local14[0x8B72E07B55C3AC0] = "HorizontalScrollbarGridLarge"
		f1_local14:SetAlpha( 0, 0 )
		f1_local14:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -320, 370, -362, -344 )
		f1_local5:addElement( f1_local14 )
		f1_local5[0x7926E22FFC4E958] = f1_local14
	end
	local f1_local15 = nil
	f1_local15 = f1_local3.BuildRegisteredType( 0xE34E886F0C6312, {
		controllerIndex = f1_local6
	} )
	f1_local15[0x8B72E07B55C3AC0] = "BasePerk1"
	f1_local15:SetAnchorsAndPosition( 0, 1, 1, 0, 88, 292, -324, -120 )
	f1_local5:addElement( f1_local15 )
	f1_local5[0x8339C3830B72127] = f1_local15
	local f1_local16 = nil
	f1_local16 = f1_local3.BuildRegisteredType( 0xE34E886F0C6312, {
		controllerIndex = f1_local6
	} )
	f1_local16[0x8B72E07B55C3AC0] = "BasePerk2"
	f1_local16:SetAnchorsAndPosition( 0, 1, 1, 0, 308, 512, -324, -120 )
	f1_local5:addElement( f1_local16 )
	f1_local5[0x8339D3830B722DA] = f1_local16
	local f1_local17 = nil
	if f1_local0.IsMagmaGameMode() then
		f1_local17 = f1_local3.BuildRegisteredType( 0xE34E886F0C6312, {
			controllerIndex = f1_local6
		} )
		f1_local17[0x8B72E07B55C3AC0] = "BasePerk3"
		f1_local17:SetVisible( false )
		f1_local17:SetAnchorsAndPosition( 0, 1, 1, 0, 528, 732, -324, -120 )
		f1_local5:addElement( f1_local17 )
		f1_local5[0x8339E3830B7248D] = f1_local17
	end
	local f1_local18 = nil
	if f1_local0.IsMagmaGameMode() then
		f1_local18 = f1_local3.BuildRegisteredType( 0xE34E886F0C6312, {
			controllerIndex = f1_local6
		} )
		f1_local18[0x8B72E07B55C3AC0] = "BasePerk4"
		f1_local18:SetVisible( false )
		f1_local18:SetAnchorsAndPosition( 0, 1, 1, 0, 748, 952, -324, -120 )
		f1_local5:addElement( f1_local18 )
		f1_local5[0x833973830B718A8] = f1_local18
	end
	local f1_local19 = nil
	if not f1_local0.IsMagmaGameMode() then
		f1_local19 = f1_local3.BuildRegisteredType( 0x91C073FABB131F, {
			controllerIndex = f1_local6
		} )
		f1_local19[0x8B72E07B55C3AC0] = "BonusPerk"
		f1_local19:SetAnchorsAndPosition( 0, 1, 1, 0, 640, 976, -324, -120 )
		f1_local5:addElement( f1_local19 )
		f1_local5[0x55F74B3A018E360] = f1_local19
	end
	local f1_local20 = nil
	if not f1_local0.IsMagmaGameMode() then
		f1_local20 = f1_local3.BuildRegisteredType( 0x91C073FABB131F, {
			controllerIndex = f1_local6
		} )
		f1_local20[0x8B72E07B55C3AC0] = "UltimatePerk"
		f1_local20:SetAnchorsAndPosition( 0, 1, 1, 0, 1104, 1440, -324, -120 )
		f1_local5:addElement( f1_local20 )
		f1_local5[0xFE364F7C785223A] = f1_local20
	end
	local f1_local21 = nil
	f1_local21 = f1_local2.UIImage.new()
	f1_local21[0x8B72E07B55C3AC0] = "Chevron2"
	f1_local21:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECBAC112DDB60], 0 )
	f1_local21:SetAlpha( 0.6, 0 )
	f1_local21:setImage( RegisterMaterial( 0xA934FAAD2B87F30 ), 0 )
	f1_local21:SetAnchorsAndPosition( 0, 1, 1, 0, 1000.95, 1080.95, -262, -182 )
	f1_local5:addElement( f1_local21 )
	f1_local5[0xB412D752C46D056] = f1_local21
	local f1_local22 = nil
	f1_local22 = f1_local2.UIImage.new()
	f1_local22[0x8B72E07B55C3AC0] = "Chevron1"
	f1_local22:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECBAC112DDB60], 0 )
	f1_local22:SetAlpha( 0.6, 0 )
	f1_local22:setImage( RegisterMaterial( 0xD687B96D06FF902 ), 0 )
	f1_local22:SetAnchorsAndPosition( 0, 1, 1, 0, 537, 617, -262, -182 )
	f1_local5:addElement( f1_local22 )
	f1_local5[0xB412C752C46CEA3] = f1_local22
	local f1_local23 = nil
	f1_local23 = f1_local3.BuildRegisteredType( 0x1CEC74D712CD13F, {
		controllerIndex = f1_local6
	} )
	f1_local23[0x8B72E07B55C3AC0] = "ItemDetailPanel"
	f1_local23[0xBD792950C1DA56C]:SetRight( 680, 0 )
	f1_local23:SetAnchorsAndPosition( 0, 1, 1, 0, 80, 780, -953, -803 )
	f1_local5:addElement( f1_local23 )
	f1_local5[0x1CEC74D712CD13F] = f1_local23
	local f1_local24 = nil
	if f1_local0.IsSplitscreenFrontend() then
		f1_local24 = f1_local3.BuildRegisteredType( 0xDD04C042F2E8F9F, {
			controllerIndex = f1_local6
		} )
		f1_local24[0x8B72E07B55C3AC0] = "SplitScreenOperator"
		f1_local24:SetAnchorsAndPosition( 1, 0, 0, 1, -312, -88, 100, 126 )
		f1_local5:addElement( f1_local24 )
		f1_local5[0xDD04C042F2E8F9F] = f1_local24
	end
	if f1_local0.IsSplitscreenFrontend() then
		f1_local1.ElementAction( f1_local5, f1_local5[0xDD04C042F2E8F9F], f1_local6 )
	end
	if f1_local0.IsGLGunsmithEnabled() then
		local f1_local25 = f1_local2.UIScrollbar.new
		local f1_local26 = {
			direction = f1_local2.DIRECTION.horizontal,
			eventListener = f1_local13,
			startCap = f1_local13[0x7C139B2191BD22D],
			endCap = f1_local13[0xC50558A6315134A],
			sliderArea = f1_local13[0x1267DA9A256716D]
		}
		local f1_local27 = f1_local13[0x1267DA9A256716D]
		if f1_local27 then
			f1_local27 = f1_local13[0x1267DA9A256716D][0x5EE00EDE8E0841C]
		end
		f1_local26.slider = f1_local27
		f1_local27 = f1_local13[0x1267DA9A256716D]
		if f1_local27 then
			f1_local27 = f1_local13[0x1267DA9A256716D][0x491B3F5BB7699CD]
		end
		f1_local26.fixedSizeSlider = f1_local27
		f1_local11:AddScrollbar( f1_local25( f1_local26 ) )
	end
	if f1_local0.IsGLGunsmithEnabled() then
		local f1_local25 = f1_local2.UIScrollbar.new
		local f1_local26 = {
			direction = f1_local2.DIRECTION.horizontal,
			eventListener = f1_local14,
			startCap = f1_local14[0x7C139B2191BD22D],
			endCap = f1_local14[0xC50558A6315134A],
			sliderArea = f1_local14[0x1267DA9A256716D]
		}
		local f1_local27 = f1_local14[0x1267DA9A256716D]
		if f1_local27 then
			f1_local27 = f1_local14[0x1267DA9A256716D][0x5EE00EDE8E0841C]
		end
		f1_local26.slider = f1_local27
		f1_local27 = f1_local14[0x1267DA9A256716D]
		if f1_local27 then
			f1_local27 = f1_local14[0x1267DA9A256716D][0x491B3F5BB7699CD]
		end
		f1_local26.fixedSizeSlider = f1_local27
		f1_local12:AddScrollbar( f1_local25( f1_local26 ) )
	end
	f1_local5.addButtonHelperFunction = function ( f2_arg0, f2_arg1 )
		f2_arg0:AddButtonHelperText( {
			side = "left",
			button_ref = "button_secondary",
			helper_text = Engine[0xED84C33EC5F01EA]( 0x678DCE0E97FD19C )
		} )
	end
	
	f1_local5:addEventHandler( 0xC462F90231FE727, f1_local5[0x32E3061DF227E68] )
	f0_local0( f1_local5, f1_local6, f1_arg1 )
	f1_local2.UIElement.ValidateAnimationState( f1_local5 )
	return f1_local5
end

MenuBuilder.registerType( 0x47B3B3D2D5A090C, CreatePerkPackageMenu )
LockTable( _M )
