-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
module( ..., package.seeall )
require( "ui.generated.widgets.premiumboostpanel" )
local f0_local0 = 1500
local f0_local1 = 1000
local f0_local2 = 0.5
local f0_local3 = function ( f19_arg0 )
	AAR.ClearAnimationTimer( f19_arg0 )
	if f19_arg0.XPCountDownTimer then
		f19_arg0.XPCountDownTimer:closeTree()
		f19_arg0.XPCountDownTimer = nil
		f19_arg0:deregisterEventHandler( "AAR_ELDER_NUMBER_SCROLL" )
	end
end

local f0_local4 = function ( f18_arg0, f18_arg1, f18_arg2 )
	if f18_arg0.PremiumBoostPanel then
		local f18_local0 = ACTIONS.AnimateSequence
		local f18_local1 = f18_arg0.PremiumBoostPanel
		local f18_local2
		if Engine[0x8B495DC361731F7]( f18_arg0._controllerIndex ) then
			f18_local2 = "PremiumOwned"
		else
			f18_local2 = "PremiumNotOwned"
		end
		f18_local0( f18_local1, f18_local2 )
	end
	f18_arg0.beforeMatchXP = f18_arg1 + PROGRESSION.GetMaxRankXP()
	f18_arg0.afterMatchXP = f18_arg2 + PROGRESSION.GetMaxRankXP()
	f18_arg0.beforeMatchRank = PROGRESSION.GetRankByXP( f18_arg0.beforeMatchXP )
	f18_arg0.afterMatchRank = PROGRESSION.GetRankByXP( f18_arg0.afterMatchXP )
	f18_arg0.workingXP = f18_arg0.beforeMatchXP
	f18_arg0.workingRank = f18_arg0.beforeMatchRank
	f18_arg0.workingXPToEarn = f18_arg0.afterMatchXP - f18_arg0.beforeMatchXP
	f18_arg0.maxAtStart = f18_arg0.beforeMatchXP == PROGRESSION.GetPlayerLifeTimeMaxXP()
	f18_arg0.grayGoToPercentage = 0
	local f18_local0 = 1
	if not f18_arg0.maxAtStart then
		local f18_local3 = PROGRESSION.GetRankMinXP( f18_arg0.beforeMatchRank )
		local f18_local1 = PROGRESSION.GetRankMaxXP( f18_arg0.beforeMatchRank )
		f18_local0 = LUI.clamp( (f18_arg0.beforeMatchXP - f18_local3) / (f18_local1 - f18_local3), 0, 1 )
		if f18_arg0.afterMatchXP <= f18_local1 then
			f18_arg0.grayGoToPercentage = (f18_arg0.afterMatchXP - f18_local3) / (f18_local1 - f18_local3) - (f18_arg0.beforeMatchXP - f18_local3) / (f18_local1 - f18_local3)
		else
			f18_arg0.grayGoToPercentage = 1
		end
	end
	f18_arg0.GreenRadialProgress:SetProgress( f18_local0, 0 )
	f18_arg0.GrayRadialProgress:SetProgress( 0, 0 )
	f18_arg0.GrayRadialProgress:SetZRotation( f18_local0 * 360 * -1 )
	local f18_local3 = StringTable[0x2DCF0973239E909]( CSV.MPRank.file, CSV.MPRank.cols.index, f18_arg0.beforeMatchRank, CSV.MPRank.cols.shortRank )
	f18_arg0.PrestigeValueLabel:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( f18_local3 ) ) )
	f18_arg0.PrestigeBGLabel:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( f18_local3 ) ) )
	f18_arg0.RankNumberText:setText( tostring( PROGRESSION.GetRankDisplay( f18_arg0.beforeMatchRank ) ) )
	f18_arg0.RankImage:setImage( RegisterMaterial( PROGRESSION.GetRankBigIcon( f18_arg0.beforeMatchRank ) ) )
end

local f0_local5 = function ( f8_arg0 )
	AAR.StartAnimationTimer( f8_arg0, "AAR_ELDER_PROGRESSION_TIMER" )
	local f8_local0 = f8_arg0.workingXPToEarn
	ACTIONS.AnimateSequence( f8_arg0, "SlamXPText" )
	f8_arg0.XPGainText:setText( Engine[0xED84C33EC5F01EA]( 0xBEA477913C3A328, tostring( f8_local0 ) ) )
	Engine[0xC4146BA76D0F982]( SOUND_SETS.aarPrestige.progressXPSlam )
	if 0 < f8_arg0.grayGoToPercentage then
		local f8_local1 = f8_arg0.grayGoToPercentage
		AAR.AddAnimationWithTime( f8_arg0, function ( f16_arg0 )
			f16_arg0.GrayRadialProgress:SetProgress( f8_arg0, f8_arg0 * f8_arg0 )
			f16_arg0._progressXPSound = Engine[0xC4146BA76D0F982]( SOUND_SETS.aarPrestige.progressXP )
			local f16_local0 = f16_arg0.GrayRadialProgress:Wait( f8_arg0 * f8_arg0 * f8_arg0 )
			f16_local0.onComplete = function ( f17_arg0, f17_arg1 )
				local f17_local0 = f17_arg0:getParent()
				if f17_local0 and f17_local0._progressXPSound and Engine[0x1F61B16806D3CA2]( f17_local0._progressXPSound ) then
					Engine[0xC738A7A46EDBB34]( f17_local0._progressXPSound )
					f17_local0._progressXPSound = nil
				end
				Engine[0xC4146BA76D0F982]( SOUND_SETS.aarPrestige.progressXPStop )
			end
			
		end, 750 )
	end
	if f8_arg0.workingXP < f8_arg0.afterMatchXP then
		
	else
		
	end
	AAR.AddAnimationWithTime( f8_arg0, function ( f9_arg0 )
		f9_arg0:ClearTimers()
		f9_arg0.ProgressionFinished = true
		f9_arg0:dispatchEventToCurrentMenu( {
			name = AAR.PARADE_PROGRESS_DONE
		} )
	end, 1500 )
end

function PostLoadFunc( f7_arg0, f7_arg1 )
	f7_arg0._controllerIndex = f7_arg1
	f7_arg0.ProgressionFinished = false
	f7_arg0.Setup = f0_local0
	f7_arg0.StartCelebration = f0_local0
	f7_arg0.ClearTimers = f0_local0
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		local f2_local0 = function ( f6_arg0, f6_arg1 )
			
		end
		
		f2_arg0.XPGainText:RegisterAnimationSequence( "SlamRankUp", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			}
		} )
		f2_arg0.RankUpdateText:RegisterAnimationSequence( "SlamRankUp", {
			{
				value = 5,
				duration = 0,
				property = TWEEN_PROPERTY.Scale
			},
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 1,
				duration = 60,
				property = TWEEN_PROPERTY.Scale
			}
		} )
		f2_arg0.RankImage:RegisterAnimationSequence( "SlamRankUp", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Scale
			},
			{
				value = 0,
				duration = 60,
				property = TWEEN_PROPERTY.Scale
			}
		} )
		local f2_local1 = function ( f5_arg0, f5_arg1 )
			f5_arg0.XPGainText:AnimateSequence( "SlamRankUp" )
			f5_arg0.RankUpdateText:AnimateSequence( "SlamRankUp" )
			f5_arg0.RankImage:AnimateSequence( "SlamRankUp" )
		end
		
		f2_arg0.XPGainText:RegisterAnimationSequence( "SlamXPText", {
			{
				value = 5,
				duration = 0,
				property = TWEEN_PROPERTY.Scale
			},
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				value = 2,
				duration = 160,
				property = TWEEN_PROPERTY.Scale
			}
		} )
		f2_arg0.RankUpdateText:RegisterAnimationSequence( "SlamXPText", {
			{
				value = 3,
				duration = 0,
				property = TWEEN_PROPERTY.Scale
			},
			{
				value = 1,
				duration = 160,
				property = TWEEN_PROPERTY.Scale
			}
		} )
		local f2_local2 = function ( f4_arg0, f4_arg1 )
			f4_arg0.XPGainText:AnimateSequence( "SlamXPText" )
			f4_arg0.RankUpdateText:AnimateSequence( "SlamXPText" )
		end
		
		f2_arg0.RankImage:RegisterAnimationSequence( "SlamRankUpWithoutText", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Scale
			},
			{
				value = 0,
				duration = 60,
				property = TWEEN_PROPERTY.Scale
			}
		} )
		f2_arg0._sequences = {
			DefaultSequence = f2_local0,
			SlamRankUp = f2_local1,
			SlamXPText = f2_local2,
			SlamRankUpWithoutText = function ( f3_arg0, f3_arg1 )
				f3_arg0.RankImage:AnimateSequence( "SlamRankUpWithoutText" )
			end
		}
		f2_arg0._sequenceLengths = {
			SlamRankUp = 60,
			SlamXPText = 160,
			DefaultSequence = 0,
			SlamRankUpWithoutText = 60
		}
	end
}
function AARXPElderProgression( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "AARXPElderProgression"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local Cinematic = nil
	
	Cinematic = MenuBuilder.BuildRegisteredType( "Cinematic", {
		controllerIndex = f1_local1
	} )
	Cinematic.id = "Cinematic"
	Cinematic:SetAlpha( 0, 0 )
	Cinematic:SetScale( 0.2, 0 )
	Cinematic:SetAnchorsAndPosition( 0, 0, 0, 0, _1080p * 5, _1080p * 5, _1080p * 56, _1080p * 56 )
	self:addElement( Cinematic )
	self.Cinematic = Cinematic
	
	local BackgroundCircle = nil
	
	BackgroundCircle = LUI.UIImage.new()
	BackgroundCircle.id = "BackgroundCircle"
	BackgroundCircle:SetAlpha( 0, 0 )
	BackgroundCircle:setImage( RegisterMaterial( 0x7039A3BC8382658 ), 0 )
	BackgroundCircle:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 552, _1080p * 1382, _1080p * 100, _1080p * 930 )
	self:addElement( BackgroundCircle )
	self.BackgroundCircle = BackgroundCircle
	
	local PrestigeBGLabel = nil
	
	PrestigeBGLabel = LUI.UIStyledText.new()
	PrestigeBGLabel.id = "PrestigeBGLabel"
	PrestigeBGLabel:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool04, 0 )
	PrestigeBGLabel:SetAlpha( 0.2, 0 )
	PrestigeBGLabel:setText( "", 0 )
	PrestigeBGLabel:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	PrestigeBGLabel:SetFontSize( 180 * _PT )
	PrestigeBGLabel:SetMinFontSize( 180 * _PT )
	PrestigeBGLabel:SetWordWrap( false )
	PrestigeBGLabel:SetAlignment( LUI.Alignment.Center )
	PrestigeBGLabel:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -563, _1080p * 577, _1080p * 22, _1080p * 250 )
	self:addElement( PrestigeBGLabel )
	self.PrestigeBGLabel = PrestigeBGLabel
	
	local RadialBackgroundImage = nil
	
	RadialBackgroundImage = LUI.UIImage.new()
	RadialBackgroundImage.id = "RadialBackgroundImage"
	RadialBackgroundImage:SetRGBFromInt( 0, 0 )
	RadialBackgroundImage:SetScale( -0.02, 0 )
	RadialBackgroundImage:setImage( RegisterMaterial( 0xBEBA6FD40836460 ), 0 )
	RadialBackgroundImage:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 594, _1080p * 1344, _1080p * 82.36, _1080p * 832.36 )
	self:addElement( RadialBackgroundImage )
	self.RadialBackgroundImage = RadialBackgroundImage
	
	local CircileImageMask = nil
	
	CircileImageMask = LUI.UIImage.new()
	CircileImageMask.id = "CircileImageMask"
	CircileImageMask:setImage( RegisterMaterial( 0xB4A2F68AA34E9BB ), 0 )
	CircileImageMask:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 594, _1080p * 1344, _1080p * 83.36, _1080p * 833.36 )
	self:addElement( CircileImageMask )
	self.CircileImageMask = CircileImageMask
	
	local CircileImage = nil
	
	CircileImage = LUI.UIImage.new()
	CircileImage.id = "CircileImage"
	CircileImage:SetAlpha( 0.6, 0 )
	CircileImage:setImage( RegisterMaterial( 0x3A5139AE1492AB4 ), 0 )
	CircileImage:SetMask( self.CircileImageMask )
	CircileImage:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -1456.5, _1080p * 1448.5, _1080p * 368, _1080p * 1198 )
	self:addElement( CircileImage )
	self.CircileImage = CircileImage
	
	local GrayRadialProgress = nil
	
	GrayRadialProgress = MenuBuilder.BuildRegisteredType( "UIRadialProgressBar", {
		segmentMaterial = "global_progression_fill_segment_lg",
		snapToMultiplesOfAngle = 0,
		fillFromAngle = 0,
		maskMaterial = "global_progression_fill_mask_lg",
		segmentCount = 2,
		controllerIndex = f1_local1
	} )
	GrayRadialProgress.id = "GrayRadialProgress"
	GrayRadialProgress:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	GrayRadialProgress:SetProgress( 0 )
	GrayRadialProgress:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 594, _1080p * 1344, _1080p * 82.36, _1080p * 832.36 )
	self:addElement( GrayRadialProgress )
	self.GrayRadialProgress = GrayRadialProgress
	
	local GreenRadialProgress = nil
	
	GreenRadialProgress = MenuBuilder.BuildRegisteredType( "UIRadialProgressBar", {
		segmentMaterial = "global_progression_fill_segment_lg",
		snapToMultiplesOfAngle = 0,
		fillFromAngle = 0,
		maskMaterial = "global_progression_fill_mask_lg",
		segmentCount = 2,
		controllerIndex = f1_local1
	} )
	GreenRadialProgress.id = "GreenRadialProgress"
	GreenRadialProgress:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideAccentMain, 0 )
	GreenRadialProgress:SetProgress( 0 )
	GreenRadialProgress:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 594, _1080p * 1344, _1080p * 82.36, _1080p * 832.36 )
	self:addElement( GreenRadialProgress )
	self.GreenRadialProgress = GreenRadialProgress
	
	local XPGainText = nil
	
	XPGainText = LUI.UIStyledText.new()
	XPGainText.id = "XPGainText"
	XPGainText:SetAlpha( 0, 0 )
	XPGainText:SetScale( 2, 0 )
	XPGainText:setText( "", 0 )
	XPGainText:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	XPGainText:SetFontSize( 60 * _PT )
	XPGainText:SetMinFontSize( 60 * _PT )
	XPGainText:SetWordWrap( false )
	XPGainText:SetAlignment( LUI.Alignment.Center )
	XPGainText:SetVerticalAlignment( LUI.Alignment.Middle )
	XPGainText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 638, _1080p * 1298, _1080p * 918.5, _1080p * 1052.5 )
	self:addElement( XPGainText )
	self.XPGainText = XPGainText
	
	local RankUpdateText = nil
	
	RankUpdateText = LUI.UIStyledText.new()
	RankUpdateText.id = "RankUpdateText"
	RankUpdateText:SetAlpha( 0, 0 )
	RankUpdateText:SetScale( 0, 0 )
	RankUpdateText:setText( Engine[0xED84C33EC5F01EA]( 0x55935E8D49F35E5 ), 0 )
	RankUpdateText:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	RankUpdateText:SetFontSize( 60 * _PT )
	RankUpdateText:SetMinFontSize( 60 * _PT )
	RankUpdateText:SetWordWrap( false )
	RankUpdateText:SetAlignment( LUI.Alignment.Center )
	RankUpdateText:SetVerticalAlignment( LUI.Alignment.Middle )
	RankUpdateText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 608, _1080p * 1328, _1080p * 908.5, _1080p * 1046.5 )
	self:addElement( RankUpdateText )
	self.RankUpdateText = RankUpdateText
	
	local RankImage = nil
	
	RankImage = LUI.UIImage.new()
	RankImage.id = "RankImage"
	RankImage:setImage( RegisterMaterial( 0xF64468F5E7FCEFD ), 0 )
	RankImage:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 733, _1080p * 1201, _1080p * 186.3, _1080p * 619.3 )
	self:addElement( RankImage )
	self.RankImage = RankImage
	
	local PrestigeValueLabel = nil
	
	PrestigeValueLabel = LUI.UIStyledText.new()
	PrestigeValueLabel.id = "PrestigeValueLabel"
	PrestigeValueLabel:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideRank, 0 )
	PrestigeValueLabel:setText( "", 0 )
	PrestigeValueLabel:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	PrestigeValueLabel:SetFontSize( 36 * _PT )
	PrestigeValueLabel:SetMinFontSize( 36 * _PT )
	PrestigeValueLabel:SetWordWrap( false )
	PrestigeValueLabel:SetAlignment( LUI.Alignment.Center )
	PrestigeValueLabel:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -407, _1080p * 423, _1080p * 147, _1080p * 218 )
	self:addElement( PrestigeValueLabel )
	self.PrestigeValueLabel = PrestigeValueLabel
	
	local RankNumberText = nil
	
	RankNumberText = LUI.UIStyledText.new()
	RankNumberText.id = "RankNumberText"
	RankNumberText:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideAccentMain, 0 )
	RankNumberText:SetScale( 1, 0 )
	RankNumberText:setText( "01", 0 )
	RankNumberText:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	RankNumberText:SetFontSize( 70 * _PT )
	RankNumberText:SetMinFontSize( 70 * _PT )
	RankNumberText:SetWordWrap( false )
	RankNumberText:SetAlignment( LUI.Alignment.Center )
	RankNumberText:SetVerticalAlignment( LUI.Alignment.Middle )
	RankNumberText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 708.5, _1080p * 1227.5, _1080p * 650.36, _1080p * 812.36 )
	self:addElement( RankNumberText )
	self.RankNumberText = RankNumberText
	
	local RankLabelText = nil
	
	RankLabelText = LUI.UIStyledText.new()
	RankLabelText.id = "RankLabelText"
	RankLabelText:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideAccentSupport, 0 )
	RankLabelText:setText( Engine[0xED84C33EC5F01EA]( 0x64BDA28673BC984 ), 0 )
	RankLabelText:setCaseStyle( LUI.CaseStyle.Uppercase )
	RankLabelText:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	RankLabelText:SetFontSize( 36 * _PT )
	RankLabelText:SetMinFontSize( 36 * _PT )
	RankLabelText:SetWordWrap( false )
	RankLabelText:SetAlignment( LUI.Alignment.Center )
	RankLabelText:SetVerticalAlignment( LUI.Alignment.Middle )
	RankLabelText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 799, _1080p * 1137, _1080p * 621.36, _1080p * 660.36 )
	self:addElement( RankLabelText )
	self.RankLabelText = RankLabelText
	
	local f1_local16 = nil
	if CONDITIONS.ShouldDisplayAARUpsellPanel() then
		f1_local16 = MenuBuilder.BuildRegisteredType( "PremiumBoostPanel", {
			controllerIndex = f1_local1
		} )
		f1_local16.id = "PremiumBoostPanel"
		f1_local16:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 87, _1080p * 387, _1080p * 78, _1080p * 186 )
		self:addElement( f1_local16 )
		self.PremiumBoostPanel = f1_local16
	end
	PostLoadFunc( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "AARXPElderProgression", AARXPElderProgression )
LockTable( _M )
