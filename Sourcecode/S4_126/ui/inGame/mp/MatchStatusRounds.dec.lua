-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
local f0_local0 = 3
local f0_local1 = 6
local f0_local2 = 10
local f0_local3 = 3
local f0_local4 = function ( f11_arg0, f11_arg1, f11_arg2 )
	f11_arg0._score = f11_arg1
	f11_arg0._winning = f11_arg2
	f11_arg0.Mask:SetRight( math.min( f11_arg1, f11_arg0._maxSegments ) * f11_arg0._segmentWidth )
	f11_arg0.Mask:SetLeft( 0 )
end

local f0_local5 = function ( f10_arg0, f10_arg1 )
	f10_arg0.Stencil:SetRight( f10_arg1 )
	f10_arg0.Stencil:SetLeft( 0 )
end

local f0_local6 = function ( f7_arg0, f7_arg1, f7_arg2 )
	assert( f7_arg0.Stencil )
	assert( f7_arg0.Mask )
	assert( f7_arg0.Pips )
	assert( f7_arg0.BasePips )
	f7_arg0._score = nil
	f7_arg0._winning = nil
	f7_arg0._segmentWidth = 26 * _1080p
	local f7_local0 = 6
	if CONDITIONS.IsArenaGameType( f7_arg0 ) then
		f7_local0 = f0_local0
	elseif CONDITIONS.IsControlGameType( f7_arg0 ) then
		f7_local0 = f0_local0
	elseif CONDITIONS.IsMendotaGameType( f7_arg0 ) then
		f7_local0 = f0_local0
	else
		f7_local0 = f0_local0
	end
	f7_arg0._maxSegments = f7_local0
	f7_arg0.Pips:SetMask( f7_arg0.Mask )
	f7_arg0.BasePips:SetMask( f7_arg0.Stencil )
	f7_arg0.Stencil:SetRight( f7_local0 * f7_arg0._segmentWidth )
	f7_arg0.Stencil:SetLeft( 0 )
	f7_arg0.UpdateScore = f0_local0
	f7_arg0.CropPips = f0_local0
	if CONDITIONS.IsArenaGameType( f7_arg0 ) then
		f7_arg0:SubscribeToModel( DataSources.inGame.HUD.loadoutNotify:GetModel( f7_arg1 ), function ( f8_arg0 )
			local f8_local0 = DataSources.inGame.MP.match.currentRound:GetValue( f7_arg0 )
			if f8_local0 ~= nil and 0 < f8_local0 and f7_arg0._score ~= nil then
				local f8_local1 = nil
				local f8_local2 = 0
				local f8_local3 = function ()
					if f8_arg0 < f8_arg0._score then
						local f9_local0 = f8_arg0._segmentWidth * f8_arg0
						f8_arg0.AnimPip:SetLeft( f9_local0 )
						f8_arg0.AnimPip:SetRight( f9_local0 + f8_arg0._segmentWidth )
						ACTIONS.AnimateSequence( f8_arg0, "Ping" )
					elseif f8_arg0 == f8_arg0._score and f8_arg0._winning ~= nil and f8_arg0._winning == true then
						ACTIONS.AnimateSequence( f8_arg0, "Wipe" )
					end
					f8_arg0 = f8_arg0 + 1
					local f9_local0 = f8_arg0:Wait( 210 )
					f9_local0.onComplete = f8_arg0
				end
				
				f8_local3()
			end
		end, true )
	end
end

function MatchStatusRounds( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 260 * _1080p, 0, 24 * _1080p )
	self.id = "MatchStatusRounds"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local BasePips = nil
	
	BasePips = LUI.UIImage.new()
	BasePips.id = "BasePips"
	BasePips:SetRGBFromTable( SWATCHES.HUD.vHUDDarkOutline, 0 )
	BasePips:SetAlpha( 0.5, 0 )
	BasePips:setImage( RegisterMaterial( "v_ui_elmnt_hud_matchstatusrounds_pips_00" ), 0 )
	BasePips:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, _1080p * 260, _1080p * -12, _1080p * 12 )
	self:addElement( BasePips )
	self.BasePips = BasePips
	
	local Pips = nil
	
	Pips = LUI.UIImage.new()
	Pips.id = "Pips"
	Pips:setImage( RegisterMaterial( "v_ui_elmnt_hud_matchstatusrounds_pips_01" ), 0 )
	Pips:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, _1080p * 260, _1080p * -12, _1080p * 12 )
	self:addElement( Pips )
	self.Pips = Pips
	
	local Mask = nil
	
	Mask = LUI.UIImage.new()
	Mask.id = "Mask"
	Mask:setImage( RegisterMaterial( "stencil_mask" ), 0 )
	Mask:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 260, 0, 0 )
	self:addElement( Mask )
	self.Mask = Mask
	
	local AnimPip = nil
	
	AnimPip = LUI.UIImage.new()
	AnimPip.id = "AnimPip"
	AnimPip:SetAlpha( 0, 0 )
	AnimPip:setImage( RegisterMaterial( "v_ui_elmnt_hud_matchstatusrounds_pip_01" ), 0 )
	AnimPip:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1, _1080p * 25, 0, _1080p * 24 )
	self:addElement( AnimPip )
	self.AnimPip = AnimPip
	
	local AnimGradient = nil
	
	AnimGradient = LUI.UIImage.new()
	AnimGradient.id = "AnimGradient"
	AnimGradient:setImage( RegisterMaterial( "widg_gradient_right_to_left" ), 0 )
	AnimGradient:SetAnchorsAndPosition( 0, 1, 0, 0, 0, 0, 0, 0 )
	self:addElement( AnimGradient )
	self.AnimGradient = AnimGradient
	
	local Stencil = nil
	
	Stencil = LUI.UIImage.new()
	Stencil.id = "Stencil"
	Stencil:setImage( RegisterMaterial( "stencil_mask" ), 0 )
	Stencil:SetAnchorsAndPosition( 0, 1, 0, 0, 0, _1080p * 260, 0, 0 )
	self:addElement( Stencil )
	self.Stencil = Stencil
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local9 = nil
	Pips:RegisterAnimationSequence( "Friendly", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.HUD.vAllyTeamBar
		}
	} )
	AnimPip:RegisterAnimationSequence( "Friendly", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.HUD.friendly
		}
	} )
	AnimGradient:RegisterAnimationSequence( "Friendly", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.HUD.friendlyTeam
		}
	} )
	self._sequences.Friendly = function ()
		menu:AnimateSequence( "Friendly" )
		menu:AnimateSequence( "Friendly" )
		menu:AnimateSequence( "Friendly" )
	end
	
	self._sequenceLengths.Friendly = 0
	local f1_local10 = nil
	Pips:RegisterAnimationSequence( "Enemy", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.HUD.vEnemyTeamBar
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 260
		}
	} )
	AnimPip:RegisterAnimationSequence( "Enemy", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.HUD.enemy
		}
	} )
	AnimGradient:RegisterAnimationSequence( "Enemy", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.HUD.enemyTeam
		}
	} )
	self._sequences.Enemy = function ()
		menu:AnimateSequence( "Enemy" )
		menu:AnimateSequence( "Enemy" )
		menu:AnimateSequence( "Enemy" )
	end
	
	self._sequenceLengths.Enemy = 0
	local f1_local11 = nil
	AnimPip:RegisterAnimationSequence( "Ping", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Scale
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 4,
			duration = 200,
			property = TWEEN_PROPERTY.Scale,
			easing = LUI.EASING.outQuadratic
		},
		{
			value = 0,
			duration = 200,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.outQuadratic
		}
	} )
	self._sequences.Ping = function ()
		menu:AnimateSequence( "Ping" )
	end
	
	self._sequenceLengths.Ping = 200
	local f1_local12 = nil
	AnimGradient:RegisterAnimationSequence( "Wipe", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Left
		},
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Right
		},
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 300,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			duration = 600,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 260,
			easing = LUI.EASING.inOutQuadratic
		},
		{
			value = 0,
			duration = 300,
			property = TWEEN_PROPERTY.Alpha,
			easing = LUI.EASING.inOutQuadratic
		}
	} )
	self._sequences.Wipe = function ()
		menu:AnimateSequence( "Wipe" )
	end
	
	self._sequenceLengths.Wipe = 600
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "MatchStatusRounds", MatchStatusRounds )
LockTable( _M )
