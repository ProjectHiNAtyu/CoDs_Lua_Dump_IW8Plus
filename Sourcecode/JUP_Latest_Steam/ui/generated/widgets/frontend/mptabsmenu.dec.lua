-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.social.socialpartywidget" )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.frontend.mp.playmenu.menutab" )
require( "ui.generated.widgets.frontEnd.mp.PlayMenu.MenuTab" )
local f0_local0 = {
	NonWeaponTypes = {
		LOOT.itemTypes.STREAK,
		LOOT.itemTypes.SUPER,
		LOOT.itemTypes.VEHICLE_CAMO,
		LOOT.itemTypes.VEHICLE_HORN,
		LOOT.itemTypes.VEHICLE_TRACK
	},
	OperatorTypes = {
		LOOT.itemTypes.OPERATOR,
		LOOT.itemTypes.OPERATOR_SKIN,
		LOOT.itemTypes.OPERATOR_TAUNT,
		LOOT.itemTypes.OPERATOR_EXECUTION
	},
	BarracksTypes = {
		LOOT.itemTypes.PLAYERCARD,
		LOOT.itemTypes.EMBLEM,
		LOOT.itemTypes.SPRAYS,
		LOOT.itemTypes.GESTURES
	}
}
local f0_local1 = function ( f32_arg0, f32_arg1 )
	local f32_local0 = function ( f36_arg0, f36_arg1 )
		local f36_local0 = false
		for f36_local4, f36_local5 in pairs( f36_arg1 ) do
			if LOOT.IsCategoryNew( f36_arg0, f36_local5 ) then
				f36_local0 = true
				break
			end
		end
		return f36_local0
	end
	
	local f32_local1 = function ( f35_arg0, f35_arg1 )
		local f35_local0 = f32_arg0:GetTabIndexByWidgetName( f35_arg0 )
		local f35_local1
		if f35_local0 then
			f35_local1 = f35_local0
		else
			f35_local1 = f32_arg0.Tabs:GetTabAtIndex( f35_local0 )
		end
		if f35_local1 and f35_local1.SetBreadcrumb then
			f35_local1:SetBreadcrumb( f35_arg1 )
		end
	end
	
	local f32_local2 = f32_local0( f32_arg1, f0_local0.NonWeaponTypes )
	local f32_local3 = 0 < #WEAPON.GetNewWeaponIDs( f32_arg1, {
		getBaseWeapon = false
	} )
	local f32_local4
	if not f32_local2 then
		f32_local4 = f32_local2
	else
		f32_local4 = f32_local3
	end
	f32_arg0.isWeaponTabNew = f32_local4
	f32_arg0.isOperatorTypeNew = f32_local0( f32_arg1, f0_local0.OperatorTypes )
	f32_arg0.isBarracksNew = f32_local0( f32_arg1, f0_local0.BarracksTypes )
	f32_arg0.storeHasNewItem, f32_arg0._storeHasFreeItem, f32_arg0.limitedTimeItem = STORE.HasNewAndFreeAndLimitedTimeItems( f32_arg1 )
	f32_local1( "MPWeaponMenu", f32_arg0.isWeaponTabNew )
	f32_local1( "MPOperatorMenu", f32_arg0.isOperatorTypeNew )
	f32_local1( "MPBarracksMenu", f32_arg0.isBarracksNew )
	LOOT.AttachFence( f32_arg0, f32_arg1, function ( f34_arg0, f34_arg1 )
		if f34_arg1.fenceState ~= LUI.Fence.FenceObjectState.PASSING then
			return 
		else
			f34_arg0.isBattlePassNew = BATTLEPASS.HasNewItems( f34_arg1.controllerIndex )
			f32_arg0( "BattlePassMenu", f34_arg0.isBattlePassNew )
		end
	end )
	LUI.DeferredFence.Attach( f32_arg0, f32_arg1, "CLIENT_CONNECT", LUI.DeferredFence.Criticality.LOW, LUI.DeferredFence.BackOutMethod.NONE, function ( f33_arg0, f33_arg1 )
		if f33_arg1.fenceState == LUI.Fence.FenceObjectState.PASSING then
			local f33_local0 = PROGRESSION.AreCustomLoadoutsUnlocked( f32_arg0 )
			local f33_local1
			if f33_local0 then
				f33_local1 = f33_local0
			else
				f33_local1 = LOOT.LoadoutHasNewLoot( f32_arg0 )
			end
			f33_arg0.isWeaponTabNew = f33_arg0.isWeaponTabNew or f33_local1
			f32_arg0( "MPWeaponMenu", f33_arg0.isWeaponTabNew )
		end
	end )
	f32_local4 = f32_arg0:GetTabIndexByWidgetName( "MPStoreMenu" )
	local f32_local5
	if f32_local4 then
		f32_local5 = f32_local4
	else
		f32_local5 = f32_arg0.Tabs:GetTabAtIndex( f32_local4 )
	end
	if f32_local5 and f32_local5.SetBreadcrumb then
		f32_local5:SetBreadcrumb( f32_arg0.storeHasNewItem )
		if f32_arg0.limitedTimeItem then
			f32_local5:SetLimitedTimeBanner( f32_arg0.limitedTimeItem )
		elseif f32_arg0._storeHasFreeItem then
			f32_local5:SetFreeBanner( f32_arg0._storeHasFreeItem )
		end
	end
	f32_local4 = f32_arg0:GetTabIndexByWidgetName( "BattlePassMenu" )
	if f32_local4 then
		f32_local5 = f32_local4
	else
		f32_local5 = f32_arg0.Tabs:GetTabAtIndex( f32_local4 )
	end
	if f32_local5 then
		local f32_local6 = BATTLEPASS.IsOwned( f32_arg1 )
		if BATTLEPASS.IsTierSkipGiftActive( f32_arg1 ) and not f32_local6 then
			f32_local5:SetPromoBanner( tonumber( BATTLEPASS.GetTierSkipGiftTimer() ), false )
		elseif CONDITIONS.IsTierSaleEnabled() and f32_local6 then
			f32_local5:SetPromoBanner( Dvar[0x54084D7CA2317BB]( 0x64F094E184105A3 ), true )
		else
			f32_local5:SetSeasonBanner()
		end
	end
end

local f0_local2 = function ( f30_arg0, f30_arg1 )
	if f30_arg1 ~= nil then
		f30_arg0._backButtonHandlerSet = true
		f30_arg0:AddGamepadEventCallback( "button_secondary", function ( f31_arg0, f31_arg1 )
			local f31_local0 = f31_arg0.activeTabWidget
			local f31_local1 = true
			if f31_local0 and f31_local0.BackButtonOverride then
				f31_local1 = f31_local0.BackButtonOverride( f31_arg0, f31_arg1 )
			end
			if f31_local1 then
				f30_arg0( f31_arg0, f31_arg1 )
			end
		end )
	end
end

local f0_local3 = function ( f29_arg0, f29_arg1 )
	local f29_local0
	if f29_arg1 ~= "MPWeaponMenu" and f29_arg1 ~= "MPOperatorMenu" and f29_arg1 ~= "MPBarracksMenu" then
		f29_local0 = false
	else
		f29_local0 = true
	end
	return f29_local0
end

local f0_local4 = function ( f28_arg0, f28_arg1, f28_arg2 )
	if f28_arg1 and f28_arg2 then
		f28_arg0.PlayerText:setText( Engine[0x7D3158A9539A355]( Engine[0x29680E4E30C45C2]( f28_arg2 ) ) )
		local f28_local0 = LAYOUT.GetTextWidth( f28_arg0.PlayerText ) + 6
		local f28_local1 = f28_arg0.PlayerText:GetAnchorsAndPosition()
		f28_arg0.PlayerTextBacker:SetLeft( f28_local1.right - f28_local0 )
		f28_arg0.PlayerTextTexture:SetLeft( f28_local1.right - f28_local0 )
		ACTIONS.AnimateSequence( f28_arg0, "PlayerTextOn" )
	else
		ACTIONS.AnimateSequence( f28_arg0, "PlayerTextOff" )
	end
end

local f0_local5 = function ( f26_arg0, f26_arg1, f26_arg2 )
	local f26_local0 = f26_arg0.activeTabWidget
	if f26_arg1 == "PlayMenu" or f26_arg1 == "BRPlayMenu" then
		Lobby.DisplayNvidiaHighlightsButton( f26_arg0, "MW_Highlights" )
	end
	if (f26_arg1 == "LobbyFlowWidget" or f26_arg1 == "CPPublicLobbyPlayMenu") and 1 < Lobby.GetCurrentNumLobbyMembers( f26_arg0._controllerIndex ) and Lobby[0xF1D2956B0C99DF6]() then
		f26_arg0._allPlayersMuted = false
		f26_arg0:AddGamepadEventCallback( "button_right_stick", function ( f27_arg0, f27_arg1 )
			f27_arg0._allPlayersMuted = not f27_arg0._allPlayersMuted
			local f27_local0 = f27_arg1.controller
			local f27_local1 = f27_arg0._allPlayersMuted and 0x7D144975A6EEA95 or 0x46FABA13E586EDA
			f27_arg0:dispatchEventToAllChildren( {
				name = "lobby_mute_event",
				controllerIndex = f27_local0
			} )
			Lobby[0xFAAF0691E5D454F]( f27_local0, f27_arg0._allPlayersMuted )
			return true
		end )
	end
	if f26_arg1 == "LobbyFlowWidget" then
		f26_arg0._xpNotificationPrompt = f26_local0.DoubleXPNotifications:GetPromptContainer()
		f26_arg0:AddButtonHelperText( {
			button_ref = "button_alt2",
			helper_text = Engine[0xED84C33EC5F01EA]( 0x726C233EFFB2441 ),
			container = f26_arg0._xpNotificationPrompt,
			containerAlignment = LUI.Alignment.Right
		} )
	elseif f26_arg0._xpNotificationPrompt then
		f26_arg0:AddButtonHelperText( {
			button_ref = "button_alt2",
			helper_text = nil,
			container = f26_arg0._xpNotificationPrompt,
			containerAlignment = LUI.Alignment.Right
		} )
		f26_arg0._xpNotificationPrompt = nil
	end
end

local f0_local6 = function ( f25_arg0, f25_arg1, f25_arg2 )
	f25_arg0.Tabs:HideTabs()
	if f25_arg0.PartyWidget then
		f25_arg0.PartyWidget:closeTree()
		f25_arg0.PartyWidget = nil
	end
end

local f0_local7 = function ( f24_arg0, f24_arg1 )
	return f24_arg0._tabIndexMap[f24_arg1]
end

local f0_local8 = function ( f23_arg0 )
	local f23_local0
	if f23_arg0 ~= "LobbyFlowWidget" and f23_arg0 ~= "CPPublicLobbyPlayMenu" and f23_arg0 ~= "PlayMenu" and f23_arg0 ~= "BRPlayMenu" and f23_arg0 ~= "DMZPlayMenu" then
		f23_local0 = false
	else
		f23_local0 = true
	end
	return f23_local0
end

local f0_local9 = function ( f17_arg0, f17_arg1, f17_arg2 )
	local f17_local0
	if f17_arg2 then
		f17_local0 = f17_arg2
	else
		f17_local0 = f17_arg2.hideBackButtonOnFirstTab
	end
	f17_arg0.hideBackButtonOnFirstTab = f17_local0
	f17_local0 = LUI.FlowManager.GetScopedData( f17_arg0 )
	local f17_local1
	if f17_arg2 then
		f17_local1 = f17_arg2
	else
		f17_local1 = f17_arg2.firstTabWidget
	end
	local f17_local2 = nil
	if f17_local1 == nil then
		if CONDITIONS.IsMagmaGameMode() then
			f17_local1 = "BRPlayMenu"
		elseif CONDITIONS.IsLeaguePlay() then
			f17_local1 = "LPPlayMenu"
		elseif CONDITIONS.IsCoreMultiplayer() then
			f17_local1 = "PlayMenu"
		elseif CONDITIONS.IsThirdGameMode() then
			f17_local1 = "PlayMenu"
		end
	end
	f17_arg0._isMenuInitialized = false
	local f17_local3 = {}
	local f17_local4 = {}
	local f17_local5 = CONDITIONS.IsCIABuildEnabled()
	if not f17_local5 then
		f17_local5 = not CONDITIONS.IsOperatorsTabEnabled()
	end
	f17_local3[#f17_local3 + 1] = {
		name = Engine[0xED84C33EC5F01EA]( 0xFDB576AE7ACC4A9 ),
		menuName = f17_local1
	}
	f17_local4[f17_local1] = #f17_local3
	if f17_local1 == "TournamentLobbyFlow" then
		f17_arg0.MenuTitle:SetAlpha( 0 )
	end
	local f17_local6 = TAB.GetWeaponTabState()
	if f17_local6 ~= TAB.VISIBILITY.HIDDEN then
		local f17_local7
		if CoD.IsDMZMatch() then
			f17_local7 = "LoadoutManagement"
		else
			f17_local7 = "MPWeaponMenu"
		end
		f17_local3[#f17_local3 + 1] = {
			hasRestrictionIcon = true,
			name = Engine[0xED84C33EC5F01EA]( 0x757F53F82FD770 ),
			menuName = f17_local7,
			disabled = f17_local6 == TAB.VISIBILITY.DISABLED
		}
		f17_local4[f17_local7] = #f17_local3
	end
	if TAB.GetOperatorsTabState() ~= TAB.VISIBILITY.HIDDEN then
		local f17_local8
		if CoD.IsDMZMatch() then
			f17_local8 = "SoloOperatorSelect"
		else
			f17_local8 = "MPOperatorMenu"
		end
		f17_local3[#f17_local3 + 1] = {
			name = Engine[0xED84C33EC5F01EA]( 0x1B8B5AC7FBC33ED ),
			menuName = f17_local8,
			disabled = f17_local5
		}
		f17_local4[f17_local8] = #f17_local3
	end
	local f17_local8 = TAB.GetCustomizeTabState()
	if f17_local8 ~= TAB.VISIBILITY.HIDDEN then
		f17_local3[#f17_local3 + 1] = {
			menuName = "CustomizeMenu",
			name = Engine[0xED84C33EC5F01EA]( 0xAFB88FBDAA55912 ),
			disabled = f17_local8 == TAB.VISIBILITY.DISABLED
		}
		f17_local4.CustomizeMenu = #f17_local3
	end
	local f17_local9 = TAB.GetChallengesTabState()
	if f17_local9 ~= TAB.VISIBILITY.HIDDEN then
		f17_local3[#f17_local3 + 1] = {
			menuName = "ChallengeMenu",
			name = Engine[0xED84C33EC5F01EA]( 0x93D2E0CD4F6FF64 ),
			disabled = f17_local9 == TAB.VISIBILITY.DISABLED
		}
		f17_local4.ChallengeMenu = #f17_local3
	end
	local f17_local10 = TAB.GetBarracksTabState()
	if f17_local10 ~= TAB.VISIBILITY.HIDDEN then
		f17_local3[#f17_local3 + 1] = {
			menuName = "MPBarracksMenu",
			name = Engine[0xED84C33EC5F01EA]( 0xF185C04098B9F3C ),
			disabled = f17_local10 == TAB.VISIBILITY.DISABLED
		}
		f17_local4.MPBarracksMenu = #f17_local3
	end
	local f17_local11 = TAB.GetBattlemapTabState()
	if f17_local11 ~= TAB.VISIBILITY.HIDDEN then
		f17_local3[#f17_local3 + 1] = {
			isStoreTab = true,
			menuName = "BattlePassMenu",
			isBattlePassTab = true,
			name = Engine[0xED84C33EC5F01EA]( 0x3D55227F00E2EAB ),
			disabled = f17_local11 == TAB.VISIBILITY.DISABLED
		}
		f17_local4.BattlePassMenu = #f17_local3
		f17_local2 = #f17_local3
	end
	local f17_local12 = TAB.GetStoreTabState()
	if f17_local12 ~= TAB.VISIBILITY.HIDDEN then
		f17_local3[#f17_local3 + 1] = {
			isStoreTab = true,
			menuName = "MPStoreMenu",
			name = Engine[0xED84C33EC5F01EA]( 0x9314BF295F932EC ),
			disabled = f17_local12 == TAB.VISIBILITY.DISABLED
		}
		f17_local4.MPStoreMenu = #f17_local3
	end
	local f17_local13 = Dvar[0x9E5BE3B4BBA4E0E]( 0x4307B9A7A810A42 )
	local f17_local14 = Dvar[0x22EAAB59AA27E9B]( 0xC83C7ECCCE6DBBA )
	if f17_local13 and f17_local14 < #f17_local3 + 1 and 1 < f17_local14 then
		local f17_local15 = {}
		for f17_local16 = 1, #f17_local3, 1 do
			f17_local15[f17_local16] = f17_local3[f17_local16]
			if f17_local14 == #f17_local3 then
				if f17_local16 == f17_local2 then
					f17_local3[f17_local16] = f17_local3[f17_local16 + 1]
				elseif f17_local16 == f17_local14 then
					f17_local3[f17_local16] = f17_local15[f17_local2]
				end
			elseif f17_local16 == f17_local14 then
				f17_local3[f17_local16] = f17_local3[f17_local2]
			elseif f17_local16 == f17_local2 + 1 then
				f17_local3[f17_local16] = f17_local15[f17_local16]
			elseif f17_local14 < f17_local16 then
				f17_local3[f17_local16] = f17_local15[f17_local16 - 1]
			end
			f17_local4[f17_local3[f17_local16].menuName] = f17_local16
		end
	end
	f17_arg0:addEventHandler( "store_menu_error", function ( f22_arg0, f22_arg1 )
		f17_arg0.Tabs:FocusTab( f17_arg0, 0, LUI.IsLastInputGamepad( f17_arg0 ) and FocusType.Gamepad or FocusType.MouseOver )
	end )
	local f17_local15 = {}
	for f17_local19, f17_local20 in ipairs( f17_local3 ) do
		table.insert( f17_local15, {
			id = f17_local20.menuName,
			name = f17_local20.name,
			disabled = f17_local20.disabled,
			hasDefaultFocus = f17_local19 - 1 == f17_local0.activeTabIndex,
			focusFunction = function ( f18_arg0, f18_arg1, f18_arg2, f18_arg3, f18_arg4 )
				local f18_local0 = LUI.DataSourceInGlobalModel.new( "menu.spltscreenDisplay.controllerIndex" )
				local f18_local1 = f18_local0:GetValue( f18_arg1 )
				if f17_arg0( f17_arg0, f17_arg0.menuName ) then
					f18_arg1 = f18_local1
				end
				if 1 < Engine[0x70187FE84AE61FD]() and (f17_arg0.menuName == "BattlePassMenu" or f17_arg0.menuName == "MPStoreMenu") then
					if not f17_arg0.tabsInitialized or f18_arg3 ~= FocusType.MenuFlow then
						f18_local0:SetValue( f18_arg1, f18_arg1 )
					else
						f18_arg1 = f18_local1
					end
				end
				if f17_arg0.menuName == "MPStoreMenu" and Engine[0x757E77CA15D6B8F]( f18_arg1 ) then
					f17_arg0.Tabs:SetCurrentTabIndex( f17_arg0.activeTabIndex )
					LUI.FlowManager.RequestPopupMenu( nil, "mp_no_guest_popup", false, f18_arg1, false )
				end
				local f18_local2
				if f18_arg4 then
					f18_local2 = f18_arg4
				else
					f18_local2 = f18_arg4.rebuildWidget
				end
				if f17_arg0.activeTabIndex and f18_arg2 == f17_arg0.activeTabIndex and f17_arg0.activeTabWidget and not f18_local2 then
					
				else
					
				end
				TAB.UpdateBuiltWidgetOnTabChange( f17_arg0, f17_arg0.activeTabIndex, "activeTabWidget", f18_arg2, f18_arg3, f17_arg0.menuName, {
					buildPriority = 4294967295,
					controllerIndex = f18_arg1,
					extraData = f18_arg4
				} )
				f17_arg0.activeTabIndex = f18_arg2
				if f17_arg0._backButtonHandlerSet and f18_arg2 ~= 0 then
					local f18_local3 = f17_arg0.activeTabWidget
					if f18_local3 and not f18_local3.BackButtonOverride then
						f18_local3.BackButtonOverride = function ( f21_arg0, f21_arg1 )
							local f21_local0
							if f21_arg1.qualifier == "keyboard" or f21_arg1.qualifier == "gamepad" then
								f21_local0 = false
							else
								f21_local0 = true
							end
							local f21_local1
							if f21_local0 then
								f21_local1 = FocusType.MouseOver
								if not f21_local1 then
								
								else
									f18_arg0.Tabs:FocusTab( f18_arg0, 0, f21_local1 )
									return false
								end
							end
							f21_local1 = FocusType.Gamepad
						end
						
					end
				end
				local f18_local3 = function ( f20_arg0 )
					if not f20_arg0._isMenuInitialized then
						return 
					end
					local f20_local0 = f18_arg0:GetCurrentMenu()
					f20_local0.signoutSplitscreen = f18_arg0.menuName == f18_arg0
					local f20_local0, f20_local1 = nil
					if f18_arg0.menuName == "MPBattlenetStoreMenu" then
						f20_local0 = Engine[0xED84C33EC5F01EA]( 0x938E462C2460134 )
						f20_local1 = ""
					elseif f18_arg0.menuName == "LobbyFlowWidget" then
						f20_local0 = Engine[0xED84C33EC5F01EA]( 0x7D9DC9E3291E103 )
						f20_local1 = Engine[0xED84C33EC5F01EA]( 0x46FABA13E586EDA )
					elseif f18_arg0.menuName == "TournamentLobbyFlow" then
						f20_local0 = ""
						f20_local1 = ""
					elseif f18_arg0.isStoreTab and not f18_arg0.isBattlePassTab then
						f20_local0 = Engine[0xED84C33EC5F01EA]( 0xC34BE7E6D2FBB5D )
						f20_local1 = ""
					elseif f18_arg0.menuName ~= "LoadoutManagement" and f18_arg0.menuName ~= "SoloOperatorSelect" then
						f20_local0 = Engine[0xED84C33EC5F01EA]( 0x7D9DC9E3291E103 )
						f20_local1 = ""
					end
					if f18_arg0.menuName == "BattlePassMenu" then
						f18_arg0.activeTabWidget._currentMenu = f18_arg0:GetCurrentMenu()
					elseif f18_arg0.menuName ~= "LoadoutManagement" and f18_arg0.menuName ~= "SoloOperatorSelect" then
						local f20_local2 = LUI.FlowManager.GetMainScopedData()
						f20_local2.battlepassSelectedColumn = nil
					end
					local f20_local2 = f18_arg0:getParent()
					if f20_local2 and f20_local2.LobbyStatus then
						if f20_local2.id == "MPPublicLobby" then
							if f18_arg0.activeTabWidget.UpdateParentLobbyStatus then
								f18_arg0.activeTabWidget:UpdateParentLobbyStatus()
							else
								f20_local2.LobbyStatus:SetAlpha( 1 )
							end
						elseif f20_local2.id == "TournamentLoadingScreen" or f20_local2.id == "TournamentMatchmaking" then
							if f18_arg0.menuName == "TournamentLoading" then
								f20_local2.LobbyStatus:SetAlpha( 0 )
							else
								f20_local2.LobbyStatus:SetAlpha( 1 )
							end
						end
					end
					if f18_arg0.menuName == f18_arg0 then
						Engine[0xC4146BA76D0F982]( SOUND_SETS.mpMainMenu.tabPlay )
					elseif f18_arg0.menuName == "MPWeaponMenu" or f18_arg0.menuName == "LoadoutManagement" then
						Engine[0xC4146BA76D0F982]( SOUND_SETS.mpMainMenu.tabWeapons )
					elseif f18_arg0.menuName == "MPOperatorMenu" or f18_arg0.menuName == "SoloOperatorSelect" then
						Engine[0xC4146BA76D0F982]( SOUND_SETS.mpMainMenu.tabOperators )
					elseif f18_arg0.menuName == "BattlePassMenu" then
						Engine[0xC4146BA76D0F982]( SOUND_SETS.mpMainMenu.tabBattlepass )
					elseif f18_arg0.menuName == "ChallengeMenu" then
						Engine[0xC4146BA76D0F982]( SOUND_SETS.mpMainMenu.tabChallenges )
					elseif f18_arg0.menuName == "MPStoreMenu" then
						Engine[0xC4146BA76D0F982]( SOUND_SETS.mpMainMenu.tabStore )
						if f18_arg0.useStandaloneStore then
							f18_arg0( f18_arg0, f18_arg0, f18_arg0 )
						end
					elseif f18_arg0.menuName == "MPBarracksMenu" then
						Engine[0xC4146BA76D0F982]( SOUND_SETS.mpMainMenu.tabBarracks )
					end
					if 1 < Engine[0x70187FE84AE61FD]() and (f18_arg0.menuName == "BattlePassMenu" or f18_arg0.menuName == "MPStoreMenu") then
						f18_arg0( f18_arg0, true, f18_arg0 )
					else
						f18_arg0( f18_arg0, false )
					end
					f18_arg0( f18_arg0, f18_arg0.menuName, true )
				end
				
				if f17_arg0.isStoreTab then
					f17_arg0.PartyWidget:SetAlpha( 0, 200 )
					ACTIONS.AnimateSequence( f17_arg0, "PlayerTextOffsetStore" )
				else
					f17_arg0.PartyWidget:SetAlpha( 1, 200 )
					ACTIONS.AnimateSequence( f17_arg0, "PlayerTextOffsetDefault" )
				end
				if not f17_arg0._isMenuInitialized then
					f17_arg0:addEventHandler( "menu_create", function ( f19_arg0, f19_arg1 )
						f19_arg0._isMenuInitialized = true
						f18_arg0( f19_arg0 )
					end )
				end
				f18_local3( f17_arg0 )
				f17_arg0:processEvent( {
					name = "focus_tab_changed",
					tabName = f17_arg0.menuName
				} )
				if f17_arg0.hideBackButtonOnFirstTab and f17_arg0.menuName == f17_arg0 then
					MenuUtils.HideBackButton( f17_arg0.MenuTitle )
				else
					MenuUtils.ShowBackButton( f17_arg0.MenuTitle, f18_arg1 )
				end
			end,
			buildSpecificTab = f17_local20.buildSpecificTab,
			isStoreTab = f17_local20.isStoreTab,
			isBattlePassTab = f17_local20.isBattlePassTab,
			hasRestrictionIcon = f17_local20.hasRestrictionIcon
		} )
	end
	f17_arg0.Tabs:SetTabs( f17_local15, f17_arg2 )
	f17_arg0._tabsData = f17_local3
	f17_arg0._tabIndexMap = f17_local4
	f17_local0.tabsInitialized = true
end

local f0_local10 = function ( f16_arg0, f16_arg1 )
	if not f16_arg1 then
		return 
	else
		local f16_local0 = LUI.FlowManager.GetScopedData( f16_arg0 )
		f16_local0.onRestoreFocusOptions = {
			tabToFocus = f16_arg1.tabToFocus,
			buttonToFocus = f16_arg1.buttonToFocus,
			bundleToFocus = f16_arg1.bundleToFocus,
			triggerButtonAction = f16_arg1.triggerButtonAction,
			openMenuFunction = f16_arg1.openMenuFunction
		}
	end
end

local f0_local11 = function ( f10_arg0, f10_arg1, f10_arg2 )
	f10_arg0.SetupTabs = f0_local0
	f10_arg0.GetTabIndexByWidgetName = f0_local0
	f10_arg0.SetupOnRestoreFocusOverride = f0_local0
	f10_arg0.SetupBackButtonHandler = f0_local0
	f10_arg0.UpdateTabBreadcrumbs = f0_local0
	f10_arg0._controllerIndex = f10_arg1
	Engine[0x8CEE785C0D63D7E]( GAMEMODE_SCRIPTBUNDLE_UTILS.GetMusicState() )
	f10_arg0.Tabs:SetAlignment( LUI.Alignment.Center )
	f10_arg0.Tabs:SetTabBackers( 0x4A92B03F0597F32, 0xC02D58CAA84557F )
	f10_arg0:setPriority( -1 )
	local f10_local0 = function ( f15_arg0, f15_arg1 )
		local f15_local0 = LUI.FlowManager.GetScopedData( f10_arg0 )
		local f15_local1 = LUI.FlowManager.GetMainScopedData()
		local f15_local2 = f15_local0.onRestoreFocusOptions
		if f15_local2 then
			local f15_local3 = f15_local2.tabToFocus
			if f15_local3 then
				if f15_arg1.id ~= f10_arg0.Tabs.id then
					return 
				end
				local f15_local4 = f10_arg0( f10_arg0, f15_local3 )
				if f15_local4 then
					f10_arg0.Tabs:FocusTab( f10_arg0, f15_local4 - 1 )
					if f10_arg0.activeTabWidget.FocusButtonByName and f15_local2.buttonToFocus then
						f10_arg0.activeTabWidget:FocusButtonByName( f15_local2.buttonToFocus )
					elseif f10_arg0.activeTabWidget.FocusBundleByID and f15_local2.bundleToFocus then
						f10_arg0.activeTabWidget:FocusBundleByID( f15_local2.bundleToFocus, f15_local2.triggerButtonAction )
					end
					if f15_local2.openMenuFunction then
						f15_local2.openMenuFunction()
					end
				end
			end
			f15_local0.onRestoreFocusOptions = nil
			return true
		elseif f15_local1.tabIndexToFocus then
			f10_arg0.Tabs:FocusTab( f10_arg0, f15_local1.tabIndexToFocus )
			f15_local1.tabIndexToFocus = nil
		end
	end
	
	f10_arg0.Tabs:addEventHandler( "restore_focus", f10_local0 )
	f10_arg0:addEventHandler( "gain_focus", f10_local0 )
	local f10_local1 = Game[0x6DD1B6FF7A0A975]( f10_arg1 ) == true
	if CONDITIONS.IsMagmaGameMode() then
		local f10_local2 = LUI.FlowManager.IsInStack( "BRMainMenuStore" )
		local f10_local3 = Engine[0x8B495DC361731F7]( f10_arg1 )
		f10_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0x76E3E9F44757187 ), f10_local1 )
	elseif CONDITIONS.IsThirdGameMode( f10_arg0 ) then
		f10_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0xD9FCD2E52D6DBD6 ), f10_local1 )
	elseif Dvar[0x9E5BE3B4BBA4E0E]( 0xEEEDDD8C404C6E7 ) then
		f10_arg0.MenuTitle:SetTitle( "DMZ" )
	end
	f10_arg0:AddGamepadEventCallback( "button_left_trigger", function ( f14_arg0, f14_arg1 )
		local f14_local0 = f14_arg1.controller
		if f14_arg0.Tabs then
			local f14_local1 = f14_arg0.Tabs:GetCurrentTab()
			if f10_arg0( f14_arg0, f14_arg0._tabsData[f14_local1.index + 1].menuName ) and 1 < Engine[0x70187FE84AE61FD]() then
				local f14_local2 = LUI.DataSourceInGlobalModel.new( "menu.spltscreenDisplay.controllerIndex" )
				f14_local2:SetValue( f14_local0, Engine[0x22E32BBCD422B46]( f14_local2:GetValue( f14_local0 ) ) )
				return true
			end
		end
		return false
	end )
	local f10_local3 = function ()
		local f13_local0 = f10_arg0.Tabs:GetCurrentTab()
		local f13_local1 = f10_arg0._tabsData[f13_local0.index + 1].menuName
		local f13_local2 = LUI.DataSourceInGlobalModel.new( "menu.spltscreenDisplay.controllerIndex" )
		local f13_local3 = f13_local2:GetValue( f10_arg0 )
		if 1 < Engine[0x70187FE84AE61FD]() then
			if f13_local1 == "BattlePassMenu" or f13_local1 == "MPStoreMenu" then
				f10_arg0( f10_arg0, true, f13_local3 )
			end
		else
			if f13_local1 == "BattlePassMenu" or f13_local1 == "MPStoreMenu" then
				f10_arg0( f10_arg0, false )
				f13_local2:SetValue( f10_arg0, 0 )
			end
			if f10_arg0( f10_arg0, f13_local1 ) then
				f13_local2:SetValue( f10_arg0, 0 )
			end
		end
		f10_arg0( f10_arg0, f13_local1 )
	end
	
	local f10_local4 = function ()
		local f12_local0 = f10_arg0.Tabs:GetCurrentTab()
		f10_arg0( f10_arg0, f10_arg0._tabsData[f12_local0.index + 1].menuName )
	end
	
	local f10_local5 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.privateParty.count" )
	local f10_local6 = LUI.DataSourceInGlobalModel.new( "alwaysLoaded.activeParty.squadMembers.memberCount" )
	f10_arg0:SubscribeToModel( f10_local5:GetModel( f10_arg1 ), f10_local3, true )
	f10_arg0:SubscribeToModel( f10_local6:GetModel( f10_arg1 ), f10_local4, true )
	local f10_local7 = LUI.DataSourceInGlobalModel.new( "menu.spltscreenDisplay.controllerIndex" )
	if not f10_local7:GetValue( f10_arg1 ) then
		f10_local7:SetValue( f10_arg1, f10_arg1 )
	end
	f10_arg0.Tabs:SetSendEventOnTabChange( true )
	f10_arg0:addEventHandler( LUI.TabManager.TAB_SWITCH_EVENT, function ( f11_arg0, f11_arg1 )
		f10_arg0.activeTabWidget:processEvent( f11_arg1 )
		return true
	end )
end

States = {
	[0xAD14C6E7156B923] = function ( f4_arg0, f4_arg1 )
		local f4_local0 = function ( f9_arg0, f9_arg1 )
			
		end
		
		f4_arg0[0x7387DC101112517]:RegisterAnimationSequence( 0x65B7FDAAE7C1B2, {
			nil,
			nil,
			1,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f4_arg0[0x3C6B6FDF74AE3D6]:RegisterAnimationSequence( 0x65B7FDAAE7C1B2, {
			nil,
			nil,
			4.6672616413205735E-62,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f4_arg0[0x1A25C01FEA66F57]:RegisterAnimationSequence( 0x65B7FDAAE7C1B2, {
			nil,
			nil,
			4.667261640415006E-62,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		local f4_local1 = function ( f8_arg0, f8_arg1 )
			f8_arg0[0x7387DC101112517]:AnimateSequence( 0x65B7FDAAE7C1B2 )
			f8_arg0[0x3C6B6FDF74AE3D6]:AnimateSequence( 0x65B7FDAAE7C1B2 )
			f8_arg0[0x1A25C01FEA66F57]:AnimateSequence( 0x65B7FDAAE7C1B2 )
		end
		
		f4_arg0[0x7387DC101112517]:RegisterAnimationSequence( 0x4B4680967E507C4, {
			nil,
			nil,
			0,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f4_arg0[0x3C6B6FDF74AE3D6]:RegisterAnimationSequence( 0x4B4680967E507C4, {
			nil,
			nil,
			0,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f4_arg0[0x1A25C01FEA66F57]:RegisterAnimationSequence( 0x4B4680967E507C4, {
			nil,
			nil,
			0,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		local f4_local2 = function ( f7_arg0, f7_arg1 )
			f7_arg0[0x7387DC101112517]:AnimateSequence( 0x4B4680967E507C4 )
			f7_arg0[0x3C6B6FDF74AE3D6]:AnimateSequence( 0x4B4680967E507C4 )
			f7_arg0[0x1A25C01FEA66F57]:AnimateSequence( 0x4B4680967E507C4 )
		end
		
		f4_arg0[0x7387DC101112517]:RegisterAnimationSequence( 0xDAF5EA40F88E13D, {
			nil,
			nil,
			-11,
			0,
			nil,
			141,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[4] = TWEEN_PROPERTY.Bottom
		} )
		f4_arg0[0x3C6B6FDF74AE3D6]:RegisterAnimationSequence( 0xDAF5EA40F88E13D, {
			nil,
			nil,
			-13,
			0,
			nil,
			143,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[4] = TWEEN_PROPERTY.Bottom
		} )
		f4_arg0[0x1A25C01FEA66F57]:RegisterAnimationSequence( 0xDAF5EA40F88E13D, {
			nil,
			nil,
			-13,
			0,
			nil,
			143,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[4] = TWEEN_PROPERTY.Bottom
		} )
		local f4_local3 = function ( f6_arg0, f6_arg1 )
			f6_arg0[0x7387DC101112517]:AnimateSequence( 0xDAF5EA40F88E13D )
			f6_arg0[0x3C6B6FDF74AE3D6]:AnimateSequence( 0xDAF5EA40F88E13D )
			f6_arg0[0x1A25C01FEA66F57]:AnimateSequence( 0xDAF5EA40F88E13D )
		end
		
		f4_arg0[0x7387DC101112517]:RegisterAnimationSequence( 0x4505DADCF5D541, {
			nil,
			nil,
			192,
			0,
			nil,
			216,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[4] = TWEEN_PROPERTY.Bottom
		} )
		f4_arg0[0x3C6B6FDF74AE3D6]:RegisterAnimationSequence( 0x4505DADCF5D541, {
			nil,
			nil,
			190,
			0,
			nil,
			218,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[4] = TWEEN_PROPERTY.Bottom
		} )
		f4_arg0[0x1A25C01FEA66F57]:RegisterAnimationSequence( 0x4505DADCF5D541, {
			nil,
			nil,
			190,
			0,
			nil,
			218,
			0,
			nil,
			4294967001,
			0,
			nil,
			4294967207,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[4] = TWEEN_PROPERTY.Bottom,
			[7] = TWEEN_PROPERTY.Left,
			[10] = TWEEN_PROPERTY.Right
		} )
		f4_arg0[0x49D85F0EF1CEC84] = {
			[0xEF6C3AB55C07BEF] = f4_local0,
			[0x65B7FDAAE7C1B2] = f4_local1,
			[0x4B4680967E507C4] = f4_local2,
			[0xDAF5EA40F88E13D] = f4_local3,
			[0x4505DADCF5D541] = function ( f5_arg0, f5_arg1 )
				f5_arg0[0x7387DC101112517]:AnimateSequence( 0x4505DADCF5D541 )
				f5_arg0[0x3C6B6FDF74AE3D6]:AnimateSequence( 0x4505DADCF5D541 )
				f5_arg0[0x1A25C01FEA66F57]:AnimateSequence( 0x4505DADCF5D541 )
			end
		}
		f4_arg0[0xD97E59A206E4A54] = {
			[0xDAF5EA40F88E13D] = 0,
			[0x4B4680967E507C4] = 0,
			[0x4505DADCF5D541] = 0,
			[0x65B7FDAAE7C1B2] = 0,
			[0xEF6C3AB55C07BEF] = 0
		}
	end
}
function MPTabsMenu( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = TWEEN_PROPERTY
	local f1_local3 = f1_local0.UIElement.new()
	f1_local3:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920, 0, 1080 )
	f1_local3.id = "MPTabsMenu"
	f1_local3[0xBD5D934D3CD91E5] = States
	local f1_local4
	if f1_arg1 then
		f1_local4 = f1_arg1
	else
		f1_local4 = f1_arg1.controllerIndex
	end
	f1_local4 = f1_local0.ValidateControllerIndex( f1_local3, f1_local4 )
	local f1_local5 = nil
	f1_local5 = f1_local1.BuildRegisteredType( 0x729C2B2871735A2, {
		controllerIndex = f1_local4
	} )
	f1_local5[0x8B72E07B55C3AC0] = "PartyWidget"
	f1_local5:SetAlpha( 0, 0 )
	f1_local5:SetAnchorsAndPosition( 0, 1, 0, 1, 1224, 1824, 10, 180 )
	f1_local3:addElement( f1_local5 )
	f1_local3[0x5309AFCB21454FF] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local0.UIStyledText.new()
	f1_local6[0x8B72E07B55C3AC0] = "PlayerText"
	f1_local6:SetRGB( SWATCHES[0x3BA59C00BAB023A][0x8F54E2E72E0EA12], 0 )
	f1_local6:SetAlpha( 0, 0 )
	f1_local6:setText( Engine[0xED84C33EC5F01EA]( 0x8CAD23C58806878 ), 0 )
	f1_local6:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local6:SetFontSize( 24 * _PT )
	f1_local6:SetMinFontSize( 18 * _PT )
	f1_local6:SetWordWrap( false )
	f1_local6:SetAlignment( f1_local0.Alignment.Right )
	f1_local6:SetOptOutRightToLeftAlignmentFlip( true )
	f1_local6:SetShadowRGB( SWATCHES[0xAE1075EB26BC96C][0xED973885856E206], 0 )
	f1_local6:SetAnchorsAndPosition( 1, 0, 0, 1, -296, -99, 192, 216 )
	f1_local3:addElement( f1_local6 )
	f1_local3[0x7387DC101112517] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local0.UIImage.new()
	f1_local7[0x8B72E07B55C3AC0] = "PlayerTextTexture"
	f1_local7:SetRGB( SWATCHES[0x3BA59C00BAB023A][0x8F54E2E72E0EA12], 0 )
	f1_local7:SetAlpha( 0, 0 )
	f1_local7:SetPixelGridEnabled( true )
	f1_local7:SetPixelGridContrast( 0.5, 0 )
	f1_local7:SetPixelGridBlockWidth( 2, 0 )
	f1_local7:SetPixelGridBlockHeight( 2, 0 )
	f1_local7:SetPixelGridGutterWidth( 1, 0 )
	f1_local7:SetPixelGridGutterHeight( 1, 0 )
	f1_local7:SetAnchorsAndPosition( 1, 0, 0, 1, -295, -89, 190, 218 )
	f1_local3:addElement( f1_local7 )
	f1_local3[0x3C6B6FDF74AE3D6] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local0.UIImage.new()
	f1_local8[0x8B72E07B55C3AC0] = "PlayerTextBacker"
	f1_local8:SetRGB( SWATCHES[0x3BA59C00BAB023A][0x8F54E2E72E0EA12], 0 )
	f1_local8:SetAlpha( 0, 0 )
	f1_local8:SetAnchorsAndPosition( 1, 0, 0, 1, -295, -89, 190, 218 )
	f1_local3:addElement( f1_local8 )
	f1_local3[0x1A25C01FEA66F57] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local1.BuildRegisteredType( 0x93CC4E91B38D10C, {
		controllerIndex = f1_local4
	} )
	f1_local9[0x8B72E07B55C3AC0] = "MenuTitle"
	f1_local9:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 80 )
	f1_local3:addElement( f1_local9 )
	f1_local3[0x93CC4E91B38D10C] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local0.TabManager.new( {
		tabHeight = 32,
		spacing = 4,
		wrap = true,
		buildTab = function ()
			return f1_arg0.BuildRegisteredType( 0x1248403C7BAAA89, {
				controllerIndex = f1_arg0
			} )
		end,
		controllerIndex = f1_local4
	} )
	f1_local10[0x8B72E07B55C3AC0] = "Tabs"
	f1_local10:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -516, 516, 8, 88 )
	f1_local10:SubscribeToModel( DataSources.alwaysLoaded.themes[0x1FCB6A4979FA718]:GetModel( f1_local4 ), function ()
		local f2_local0 = DataSources.alwaysLoaded.themes[0x1FCB6A4979FA718]:GetValue( f1_arg0 )
		if f2_local0 ~= nil then
			f1_arg0:SetTabSpacing( f2_local0 )
		end
	end )
	f1_local3:addElement( f1_local10 )
	f1_local3[0x92753EF0779B5CD] = f1_local10
	f0_local0( f1_local3, f1_local4, f1_arg1 )
	return f1_local3
end

MenuBuilder.registerType( 0xD9BF688D1BFCEF3, MPTabsMenu )
LockTable( _M )
