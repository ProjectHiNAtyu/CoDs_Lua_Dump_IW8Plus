-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:01
module( ..., package.seeall )
require( "ui.generated.widgets.ingame.reticles.reddot" )
local f0_local0 = nil
f0_local0 = function ( f7_arg0, f7_arg1, f7_arg2 )
	local f7_local0 = Game[0xE942B22ADE57D11]()
	local f7_local1 = f7_arg0:Wait( 200 )
	f7_local1.onComplete = function ( f8_arg0, f8_arg1, f8_arg2 )
		return f7_arg0( f8_arg0, f8_arg1, f8_arg2 )
	end
	
end

local f0_local1 = function ( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg0:ReceivePostFXLite()
	f0_local0( f4_arg0, f4_arg1, f4_arg2 )
	local f4_local0 = nil
	f4_local0 = function ()
		local f5_local0 = DataSources.inGame.player.ballisticReticleCalcRangeM:GetValue( f4_arg0 )
		local f5_local1 = Engine[0x2BAB1D1F5177715]( f4_arg0.RedDot, f4_arg0, 0, DataSources.inGame.player.ballisticReticleCalcDropMils:GetValue( f4_arg0 ) )
		if f5_local1 == nil then
			local f5_local2 = f4_arg0:Wait( 200 )
			f5_local2.onComplete = function ()
				return f5_local0()
			end
			
			return 
		end
		local f5_local2 = 139
		local f5_local3 = -126
		local f5_local4 = 250
		f4_arg0.RedDot:SetTop( f5_local1.y, f5_local4 )
		f4_arg0.RedDot:SetBottom( f5_local1.y, f5_local4 )
		ACTIONS.AnimateSequence( f4_arg0, "LockDistance" )
		if f5_local0 <= 0 then
			f4_arg0.rangeFinderDistanceLocked:setText( Engine[0xED84C33EC5F01EA]( 0x1DE0D23777F626E, "----.-" ) )
		else
			local f5_local5 = Engine[0xED84C33EC5F01EA]( 0x1DE0D23777F626E, string.format( "%04.1f", f5_local0 ) )
			local f5_local6 = 9 - string.len( f5_local5 )
			for f5_local7 = 1, f5_local6, 1 do
				local f5_local10 = f5_local7
				f5_local5 = "0" .. f5_local5
			end
			f4_arg0.rangeFinderDistanceLocked:setText( f5_local5 )
		end
	end
	
	f4_local0()
	f4_arg0:SubscribeToModel( DataSources.inGame.player.ballisticReticleCalcRangeM:GetModel( f4_arg1 ), f4_local0 )
	f4_arg0:SubscribeToModel( DataSources.inGame.player.ballisticReticleCalcPitchDeg:GetModel( f4_arg1 ), f4_local0 )
	f4_arg0:SubscribeToModel( DataSources.inGame.player.ballisticReticleCalcDropMils:GetModel( f4_arg1 ), f4_local0 )
	f4_arg0:SubscribeToModel( DataSources.inGame.player.inADS:GetModel( f4_arg1 ), f4_local0 )
	f4_arg0:SubscribeToModel( DataSources.inGame.aspectRatio:GetModel( f4_arg1 ), f4_local0 )
end

function ReticleSnDrop01( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 2 * _1080p, 0, 2 * _1080p )
	self.id = "ReticleSnDrop01"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	self._sequenceLengths = self._sequenceLengths or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local LineBottom = nil
	
	LineBottom = LUI.UIImage.new()
	LineBottom.id = "LineBottom"
	LineBottom:SetRGBFromInt( 0, 0 )
	LineBottom:SetAlpha( 0.75, 0 )
	LineBottom:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -1.5, _1080p * 1.5, _1080p * 6, _1080p * 442 )
	self:addElement( LineBottom )
	self.LineBottom = LineBottom
	
	local LineRight = nil
	
	LineRight = LUI.UIImage.new()
	LineRight.id = "LineRight"
	LineRight:SetRGBFromInt( 0, 0 )
	LineRight:SetAlpha( 0.9, 0 )
	LineRight:SetAnchorsAndPosition( 1, 0, 0.5, 0.5, _1080p * 120, _1080p * 439, _1080p * -1, _1080p * 1 )
	self:addElement( LineRight )
	self.LineRight = LineRight
	
	local LineLeft = nil
	
	LineLeft = LUI.UIImage.new()
	LineLeft.id = "LineLeft"
	LineLeft:SetRGBFromInt( 0, 0 )
	LineLeft:SetAlpha( 0.9, 0 )
	LineLeft:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, _1080p * -440, _1080p * -120, _1080p * -4, _1080p * 1 )
	self:addElement( LineLeft )
	self.LineLeft = LineLeft
	
	local LineMidThin2 = nil
	
	LineMidThin2 = LUI.UIImage.new()
	LineMidThin2.id = "LineMidThin2"
	LineMidThin2:SetRGBFromInt( 0, 0 )
	LineMidThin2:SetAlpha( 0.25, 0 )
	LineMidThin2:SetScale( -0.4, 0 )
	LineMidThin2:SetAnchorsAndPosition( 0, 0, 0.5, 0.5, _1080p * -202, _1080p * 202, _1080p * -1, _1080p * 1 )
	self:addElement( LineMidThin2 )
	self.LineMidThin2 = LineMidThin2
	
	local LineTopThin = nil
	
	LineTopThin = LUI.UIImage.new()
	LineTopThin.id = "LineTopThin"
	LineTopThin:SetRGBFromInt( 0, 0 )
	LineTopThin:SetAlpha( 0.25, 0 )
	LineTopThin:SetScale( -0.4, 0 )
	LineTopThin:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -1, _1080p * 1, _1080p * -560, _1080p * 140 )
	self:addElement( LineTopThin )
	self.LineTopThin = LineTopThin
	
	local LineDistLeft3 = nil
	
	LineDistLeft3 = LUI.UIImage.new()
	LineDistLeft3.id = "LineDistLeft3"
	LineDistLeft3:SetRGBFromInt( 0, 0 )
	LineDistLeft3:SetScale( -0.4, 0 )
	LineDistLeft3:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -1, _1080p * -1, _1080p * -104, _1080p * 106 )
	self:addElement( LineDistLeft3 )
	self.LineDistLeft3 = LineDistLeft3
	
	local Arrow = nil
	
	Arrow = LUI.UIImage.new()
	Arrow.id = "Arrow"
	Arrow:SetRGBFromTable( SWATCHES.Reticles.Black, 0 )
	Arrow:SetAlpha( 0.75, 0 )
	Arrow:setImage( RegisterMaterial( "hud_reticle_arrow_fill" ), 0 )
	Arrow:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -1.5, _1080p * 1.5, _1080p * -1, _1080p * 7 )
	self:addElement( Arrow )
	self.Arrow = Arrow
	
	local rangeFinderBackground = nil
	
	rangeFinderBackground = LUI.UIImage.new()
	rangeFinderBackground.id = "rangeFinderBackground"
	rangeFinderBackground:SetRGBFromInt( 1579032, 0 )
	rangeFinderBackground:SetPixelGridEnabled( true )
	rangeFinderBackground:SetPixelGridContrast( 0.5, 0 )
	rangeFinderBackground:SetPixelGridBlockWidth( 2, 0 )
	rangeFinderBackground:SetPixelGridBlockHeight( 2, 0 )
	rangeFinderBackground:SetPixelGridGutterWidth( 1, 0 )
	rangeFinderBackground:SetPixelGridGutterHeight( 1, 0 )
	rangeFinderBackground:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 53, _1080p * 180, _1080p * -152.01, _1080p * -120.01 )
	self:addElement( rangeFinderBackground )
	self.rangeFinderBackground = rangeFinderBackground
	
	local rangeFinderDistanceLocked = nil
	
	rangeFinderDistanceLocked = LUI.UIText.new()
	rangeFinderDistanceLocked.id = "rangeFinderDistanceLocked"
	rangeFinderDistanceLocked:SetRGBFromInt( 16711680, 0 )
	rangeFinderDistanceLocked:SetScale( -0.25, 0 )
	rangeFinderDistanceLocked:setText( "0000.0m", 0 )
	rangeFinderDistanceLocked:SetFont( FONTS.GetFont( FONTS.TertiaryLight.File ) )
	rangeFinderDistanceLocked:SetFontSize( 36 * _PT )
	rangeFinderDistanceLocked:SetMinFontSize( 36 * _PT )
	rangeFinderDistanceLocked:SetWordWrap( false )
	rangeFinderDistanceLocked:SetAlignment( LUI.Alignment.Center )
	rangeFinderDistanceLocked:SetVerticalAlignment( LUI.Alignment.Middle )
	rangeFinderDistanceLocked:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 83, _1080p * 151, _1080p * -336.01, _1080p * 64 )
	self:addElement( rangeFinderDistanceLocked )
	self.rangeFinderDistanceLocked = rangeFinderDistanceLocked
	
	local RedDot = nil
	
	RedDot = MenuBuilder.BuildRegisteredType( "RedDot", {
		controllerIndex = f1_local1
	} )
	RedDot.id = "RedDot"
	RedDot:SetScale( 0, 0 )
	RedDot:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -4.5, _1080p * 4.5, _1080p * -4.5, _1080p * 4.5 )
	self:addElement( RedDot )
	self.RedDot = RedDot
	
	local dots = nil
	
	dots = LUI.UIImage.new()
	dots.id = "dots"
	dots:SetRGBFromInt( 0, 0 )
	dots:SetAlpha( 0.7, 0 )
	dots:SetZRotation( 90, 0 )
	dots:SetScale( -0.25, 0 )
	dots:setImage( RegisterMaterial( "hud_reticle_dots" ), 0 )
	dots:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * -11, _1080p * 117, _1080p * -13.5, _1080p * 114.5 )
	self:addElement( dots )
	self.dots = dots
	
	local dots2 = nil
	
	dots2 = LUI.UIImage.new()
	dots2.id = "dots2"
	dots2:SetRGBFromInt( 0, 0 )
	dots2:SetAlpha( 0.7, 0 )
	dots2:SetScale( -0.25, 0 )
	dots2:setImage( RegisterMaterial( "hud_reticle_dots" ), 0 )
	dots2:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * -116.5, _1080p * 11.5, _1080p * -13.5, _1080p * 114.5 )
	self:addElement( dots2 )
	self.dots2 = dots2
	
	local f1_local14 = nil
	rangeFinderDistanceLocked:RegisterAnimationSequence( "DefaultSequence", {
		{
			value = 1,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	self._sequences.DefaultSequence = function ()
		menu:AnimateSequence( "DefaultSequence" )
	end
	
	self._sequenceLengths.DefaultSequence = 0
	local f1_local15 = nil
	rangeFinderDistanceLocked:RegisterAnimationSequence( "LockDistance", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 130,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = -8,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -28,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = -18,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 0,
			duration = -8,
			property = TWEEN_PROPERTY.Alpha
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		}
	} )
	RedDot:RegisterAnimationSequence( "LockDistance", {
		{
			value = 0,
			duration = 0,
			property = TWEEN_PROPERTY.Top_Anchor
		},
		{
			value = 40,
			duration = 50,
			property = TWEEN_PROPERTY.Top_Anchor
		},
		{
			value = 0,
			duration = -48,
			property = TWEEN_PROPERTY.Top_Anchor
		},
		{
			value = 0,
			duration = 500,
			property = TWEEN_PROPERTY.Top_Anchor
		}
	} )
	self._sequences.LockDistance = function ()
		menu:AnimateSequence( "LockDistance" )
		menu:AnimateSequence( "LockDistance" )
	end
	
	self._sequenceLengths.LockDistance = 630
	f0_local0( self, f1_local1, controller )
	ACTIONS.AnimateSequence( self, "DefaultSequence" )
	return self
end

MenuBuilder.registerType( "ReticleSnDrop01", ReticleSnDrop01 )
LockTable( _M )
