-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
BOOT = {
	LegalBootPopups = {},
	CurrentLegalPopupIndex = 1
}
function BootEULAPopup( f33_arg0, f33_arg1 )
	local f33_local0 = {
		nil,
		0x762B716EE9139B,
		0x762C716EE9154E,
		0x762D716EE91701,
		0x762E716EE918B4,
		0x762F716EE91A67,
		0x7630716EE91C1A,
		0x7631716EE91DCD,
		0x7622716EE90450
	}
	if Engine[0x1DCFAFA7CE6F8D0]() then
		if IsAmericaSKU() then
			table.insert( f33_local0, "PLATFORM/EULA_ADDENDUM_AMERICA_1" )
		elseif IsEuropeSKU() then
			table.insert( f33_local0, "PLATFORM/EULA_ADDENDUM_EUROPE_1" )
		end
	end
	if not f33_arg1 then
		f33_arg1 = {}
	end
	f33_arg1.EULAStringIds = f33_local0
	f33_arg1.disableAcceptUntilLastPage = false
	f33_arg1.acceptAction = BOOT.AcceptLegalPopupAction
	f33_arg1.declineAction = function ( f34_arg0, f34_arg1 )
		LUI.FlowManager.RequestPopupMenu( f33_arg0, "EULADeclinePopup", true, f34_arg1.controller, false, {
			title = Engine[0xED84C33EC5F01EA]( 0xD5EBE3D178C5427 ),
			message = Engine[0xED84C33EC5F01EA]( 0xFFC1EB37002828A )
		}, f33_arg0, true, true )
	end
	
	local f33_local1 = nil
	if not CONDITIONS.IsMobileOrMobileSim() then
		f33_local1 = MenuBuilder.BuildRegisteredType( "EULAPopup", f33_arg1 )
	else
		f33_local1 = MenuBuilder.BuildRegisteredType( "MobileEULAPopup", f33_arg1 )
	end
	f33_local1.id = "BootEULAPopup"
	return f33_local1
end

MenuBuilder.registerType( "BootEULAPopup", BootEULAPopup )
function BootKoreanPIProcessingPopup( f31_arg0, f31_arg1 )
	local f31_local0 = {
		nil,
		0xB06F7AD47ABE8BD,
		0xB06F6AD47ABE70A,
		0xB06F5AD47ABE557,
		0xB06F4AD47ABE3A4
	}
	if not f31_arg1 then
		f31_arg1 = {}
	end
	f31_arg1.EULAStringIds = f31_local0
	f31_arg1.disableAcceptUntilLastPage = true
	f31_arg1.terms = Engine[0xED84C33EC5F01EA]( 0x69CB4E78EC06EC7 )
	f31_arg1.acceptAction = BOOT.AcceptLegalPopupAction
	f31_arg1.declineAction = function ( f32_arg0, f32_arg1 )
		LUI.FlowManager.RequestPopupMenu( f31_arg0, "EULADeclinePopup", true, f32_arg1.controller, false, {
			title = Engine[0xED84C33EC5F01EA]( 0x63AFEAF33FCDF8D ),
			message = Engine[0xED84C33EC5F01EA]( 0xB8636F97D2EE2C5 )
		}, f31_arg0, true, true )
	end
	
	local f31_local1 = MenuBuilder.BuildRegisteredType( "EULAPopup", f31_arg1 )
	f31_local1.id = "KoreanPIProcessingPopup"
	return f31_local1
end

MenuBuilder.registerType( "BootKoreanPIProcessingPopup", BootKoreanPIProcessingPopup )
function BootKoreanPIOverseasPopup( f29_arg0, f29_arg1 )
	local f29_local0 = {
		nil,
		0x715FCB285617F3C
	}
	if not f29_arg1 then
		f29_arg1 = {}
	end
	f29_arg1.EULAStringIds = f29_local0
	f29_arg1.disableAcceptUntilLastPage = true
	f29_arg1.terms = Engine[0xED84C33EC5F01EA]( 0xCC28914012095CA )
	f29_arg1.acceptAction = BOOT.AcceptLegalPopupAction
	f29_arg1.declineAction = function ( f30_arg0, f30_arg1 )
		LUI.FlowManager.RequestPopupMenu( f29_arg0, "EULADeclinePopup", true, f30_arg1.controller, false, {
			title = Engine[0xED84C33EC5F01EA]( 0x24519E7D78C6D3A ),
			message = Engine[0xED84C33EC5F01EA]( 0xE95ABA09D6BC336 )
		}, f29_arg0, true, true )
	end
	
	local f29_local1 = MenuBuilder.BuildRegisteredType( "EULAPopup", f29_arg1 )
	f29_local1.id = "KoreanPIOverseaPopup"
	return f29_local1
end

MenuBuilder.registerType( "BootKoreanPIOverseasPopup", BootKoreanPIOverseasPopup )
BOOT.AcceptLegalPopupAction = function ( f28_arg0, f28_arg1 )
	BOOT.IncreaseBootPopupIndex()
	local f28_local0 = BOOT.GetCurrentLegalBootPopupName()
	if f28_local0 then
		LUI.FlowManager.RequestPopupMenu( unused, f28_local0, false, f28_arg1.controller, false, {}, nil, true, true )
		LUI.FlowManager.RequestLeaveMenu( f28_arg0:GetCurrentMenu(), true )
	else
		BOOT.AcceptEULA()
		LUI.FlowManager.RequestLeaveMenu( f28_arg0:GetCurrentMenu(), true )
	end
end

BOOT.AcceptEULA = function ()
	Engine[0xB81A5136C5503E4]( "profile_SetAcceptedEULA" )
end

BOOT.InitializeBootLegalPopupList = function ()
	local f26_local0 = {}
	table.insert( f26_local0, {
		popupName = "BootEULAPopup"
	} )
	if CONDITIONS.IsKoreanAccount() and not CONDITIONS.IsMobileOrMobileSim() then
		table.insert( f26_local0, {
			popupName = "BootKoreanPIProcessingPopup"
		} )
		table.insert( f26_local0, {
			popupName = "BootKoreanPIOverseasPopup"
		} )
	end
	return f26_local0
end

BOOT.InitializeLegalBootPopupsSequence = function ()
	BOOT.LegalBootPopups = BOOT.InitializeBootLegalPopupList()
	BOOT.CurrentLegalPopupIndex = 1
end

BOOT.GetCurrentLegalBootPopupName = function ()
	if BOOT.LegalBootPopups[BOOT.CurrentLegalPopupIndex] then
		return BOOT.LegalBootPopups[BOOT.CurrentLegalPopupIndex].popupName
	else
		
	end
end

BOOT.IncreaseBootPopupIndex = function ()
	BOOT.CurrentLegalPopupIndex = BOOT.CurrentLegalPopupIndex + 1
end

BOOT.GetConnectionLostPopupButtonsMobile = function ( f18_arg0 )
	return {
		{
			label = Engine[0xED84C33EC5F01EA]( 0x981216F1C6AA1BC ),
			action = function ( f22_arg0, f22_arg1 )
				Engine[0x4B0C2D659AE39D3]( "Retry accessing MainMenuMobile", f18_arg0 )
				LUI.FlowManager.RequestLeaveMenu( f22_arg0:GetCurrentMenu(), true )
				LUI.FlowManager.RequestAddMenu( "MainMenuMobile", false, f18_arg0 )
			end
			
		},
		{
			label = Engine[0xED84C33EC5F01EA]( 0x60D9F3C2914BFDB ),
			action = function ( f19_arg0, f19_arg1 )
				LUI.FlowManager.RequestPopupMenu( nil, "PopupYesNo", true, f18_arg0, false, {
					title = Engine[0xED84C33EC5F01EA]( 0x78824EE99043D39 ),
					message = Engine[0xED84C33EC5F01EA]( 0xE597B81A54B1E90 ),
					yesAction = function ( f21_arg0 )
						AccountRegistration[0xEE1A847AE4ACD5C]()
					end,
					noAction = function ( f20_arg0 )
						LUI.FlowManager.RequestLeaveMenu( LUI.FlowManager.GetCurrentMenu() )
					end,
					yesLabel = Engine[0xED84C33EC5F01EA]( 0x10A63CCC19CFBC5 ),
					noLabel = Engine[0xED84C33EC5F01EA]( 0x10AA0598557C1E4 )
				}, nil, false, true )
			end
			
		}
	}
end

BOOT.GetRetryPopupButtons = function ( f14_arg0 )
	local f14_local0 = {
		label = Engine[0xED84C33EC5F01EA]( 0x981216F1C6AA1BC ),
		action = function ( f17_arg0, f17_arg1 )
			Engine[0x4B0C2D659AE39D3]( "Retry accessing MainMenu", f14_arg0 )
			LUI.FlowManager.RequestLeaveMenu( f17_arg0:GetCurrentMenu(), true )
			LUI.FlowManager.RequestAddMenu( "MainMenu", false, f14_arg0 )
		end
	}
	local f14_local1 = {
		label = Engine[0xED84C33EC5F01EA]( 0x856E860DB34882C ),
		action = function ( f16_arg0, f16_arg1 )
			if CONDITIONS.IsPS4() then
				Dvar[0x8EA06EEDB58D872]( 0xE76C11BF490DA8F, true )
			end
			Engine[0x4B0C2D659AE39D3]( "Going Offline", f14_arg0 )
			LUI.FlowManager.RequestLeaveMenu( f16_arg0:GetCurrentMenu(), true )
			LUI.FlowManager.RequestAddMenu( "MainMenuOffline", false, f14_arg0 )
		end
	}
	local f14_local2 = {
		label = Engine[0xED84C33EC5F01EA]( 0x4E76830223A336F ),
		action = function ( f15_arg0, f15_arg1 )
			LUI.FlowManager.RequestPopupMenu( self, "quit_popmenu", false, f15_arg1, nil, {
				cancelClosesPopup = false
			} )
		end
	}
	if Engine[0x575E9C5B9AAB6F4]() then
		return {
			f14_local0,
			f14_local2
		}
	elseif CONDITIONS.IsIW9BetaBuildEnabled() or CONDITIONS.ForceOnlineMenus() then
		return {
			f14_local0
		}
	elseif CONDITIONS.IsMobileOrMobileSim() then
		return {
			f14_local2
		}
	else
		return {
			f14_local0,
			f14_local1
		}
	end
end

BOOT.GetRestartPopupButtons = function ()
	local f11_local0 = function ( f13_arg0, f13_arg1 )
		Dvar[0x8EA06EEDB58D872]( 0x52210C273E4FAE0, true )
		Dvar[0xE3CB005036E0C0F]( 0x9BD4001D18AD84, Engine[0xED84C33EC5F01EA]( 0xF1578077CEB125 ) )
		Engine[0x3DACD106DDC0D71]()
	end
	
	local f11_local1 = {
		label = Engine[0xED84C33EC5F01EA]( 0xA06F4130890F949 ),
		action = f11_local0
	}
	local f11_local2 = {
		label = Engine[0xED84C33EC5F01EA]( 0x3956F54E845F7DE ),
		action = f11_local0
	}
	local f11_local3 = {
		label = Engine[0xED84C33EC5F01EA]( 0x4E76830223A336F ),
		action = function ( f12_arg0, f12_arg1 )
			if CONDITIONS.IsLFPEnabled() then
				LFP.ForceEndPlayerLFPSession( {
					resetAllData = false,
					eventName = LFP.SEARCH_RESULTS.QUIT
				} )
			end
			Engine[0xDEE6107B26F8BB6]()
		end
	}
	if CONDITIONS.IsPC() then
		return {
			f11_local1,
			f11_local3
		}
	elseif CONDITIONS.IsMobileOrMobileSim() then
		local f11_local4 = {}
		local f11_local5
		if CONDITIONS.IsAndroid() and not f11_local1 then
			f11_local5 = f11_local1
		else
			f11_local5 = f11_local2
		end
		f11_local4[1] = f11_local5
		return f11_local4
	else
		return {
			f11_local2
		}
	end
end

BOOT.GetOkayPopupButtons = function ()
	return {
		{
			label = Engine[0xED84C33EC5F01EA]( 0x5C33DA8F6CE65B0 ),
			action = function ( f10_arg0, f10_arg1 )
				LUI.FlowManager.RequestLeaveMenu( f10_arg0:GetCurrentMenu(), true )
			end
			
		}
	}
end

BOOT.GetCampaignPopupButton = function ( f7_arg0 )
	local f7_local0 = GameInstall[0xA6769AE0AC6FE21]( CoD.Entitlements.JUP, f7_arg0 )
	if not f7_local0 then
		f7_local0 = GameInstall[0xA6769AE0AC6FE21]( CoD.Entitlements.IW9, f7_arg0 )
	end
	local f7_local1 = Engine[0xC8B174B6BF663C4]( CoD.Scenarios.SP23 )
	if not f7_local1 then
		f7_local1 = Engine[0xC8B174B6BF663C4]( CoD.Scenarios.SP22 )
	end
	if f7_local0 then
		return {
			label = Engine[0xED84C33EC5F01EA]( 0xA4EA1967C7D530 ),
			disabled = not f7_local1,
			action = function ( f8_arg0, f8_arg1 )
				LUI.FlowManager.RequestPopupMenu( self, "popup_campaign_list", false, f7_arg0, false, {}, nil, true, true )
			end
			
		}
	else
		
	end
end

BOOT.AddSettingUpdatedEvent = function ( f5_arg0, f5_arg1, f5_arg2 )
	return function ()
		local f6_local0 = f5_arg0
		...
		f6_local0()
		f5_arg0:dispatchEventToCurrentMenu( {
			name = "setting_updated",
			controller = f5_arg0
		} )
	end
	
end

BOOT.BuildButtonLabelHandlers = function ( f3_arg0, f3_arg1, f3_arg2, f3_arg3 )
	f3_arg0:registerEventHandler( "update_button_selected", function ( element, event )
		local f4_local0 = event.buttonName or ""
		local f4_local1 = event.description or ""
		f3_arg0:setText( f4_local0, 0 )
		f3_arg0:setText( f4_local1, 0 )
	end )
end

BOOT.SetFocusOnMenuChange = function ( f1_arg0, f1_arg1 )
	f1_arg0:SubscribeToModel( DataSources.alwaysLoaded.uri.menuOnTop:GetModel( f1_arg1 ), function ( f2_arg0, f2_arg1 )
		local f2_local0 = LUI.FlowManager.GetVisibleMenu()
		if f2_arg1.Continue and f2_local0 and f2_local0.id == f2_arg1.id then
			f2_arg1.Continue:processEvent( {
				name = "gain_focus",
				controller = f2_arg1._controllerIndex
			} )
		end
	end )
end

