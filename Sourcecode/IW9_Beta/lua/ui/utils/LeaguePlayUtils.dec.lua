-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
LeaguePlayUtils = LeaguePlayUtils or {}
LeaguePlayUtils.ROOT_MODEL_PATH = "frontend.LP."
LeaguePlayUtils.TOP_250_DIVISION_INDEX = 8
LeaguePlayUtils.TOP_250_COUNT = 250
LeaguePlayUtils.FIRST_SEASON = 0
LeaguePlayUtils.PLAYLIST_BUTTON_REF = "leagueplay"
LeaguePlayUtils.SKILL_DIV_TO_ROMAN_NUM = {
	nil,
	0x1BBFC3D3CA90927,
	0x8BC853DAD5044F1,
	0xFEF346B456BB24B,
	0x4C14A56DC2F127D,
	0x2126156BFD7BA0D
}
LeaguePlayUtils.Tunables = {
	showTop250 = {
		nil,
		0x9921DFA6D8DD03B,
		false
	},
	top250Delay = {
		nil,
		0xBA3DB259EF199F9,
		604800
	}
}
LeaguePlayUtils.Testing = {
	newXP = 0x142EB8ECE3E835F,
	oldFlameStreak = 0xC4F26AD3AFED8F3,
	newSR = 0x158EB8ECE56B692,
	oldSR = 0x6794A70E37D888B,
	newFlameStreak = 0x8CECA7821266888,
	oldXP = 0x65A4270E35B2512,
	matchOutcome = 0x47A39F7736959DA
}
LeaguePlayUtils.GetTunable = function ( f31_arg0 )
	local f31_local0 = nil
	if type( f31_arg0[2] ) == "number" then
		if f31_arg0[2] % 1 .. "" == "0" then
			f31_local0 = Dvar[0x22EAAB59AA27E9B]( f31_arg0[1] )
		else
			f31_local0 = Dvar[0xEDCFC612B39E0C0]( f31_arg0[1] )
		end
	elseif type( f31_arg0[2] ) == "string" then
		f31_local0 = Dvar[0x54084D7CA2317BB]( f31_arg0[1] )
	elseif type( f31_arg0[2] ) == "boolean" then
		f31_local0 = Dvar[0x9E5BE3B4BBA4E0E]( f31_arg0[1] )
	end
	if f31_local0 ~= nil then
		return f31_local0
	else
		return f31_arg0[2]
	end
end

LeaguePlayUtils.Achievements = {
	Progression = {
		eventData = "iw9_leagueplay_event_data",
		penalty = "iw9_leagueplay_penalty",
		overallBestStats = "iw9_leagueplay_overall_best_stats",
		overallStats = "iw9_leagueplay_overall_stats",
		progression = "iw9_leagueplay_progression",
		csv = CSV.leagueplayProgressionAchievements,
		seasonal = {
			skilldivisions = "_skilldivision_stats",
			prefix = "iw9_leagueplay_s",
			wins = "_win_stats",
			flamestreak = "_flamestreak_stats"
		}
	},
	Challenge = {
		csv = CSV.leagueplayChallengeAchievements
	}
}
LeaguePlayUtils.UpdateAchievementTable = function ( f30_arg0, f30_arg1 )
	local f30_local0 = OnlineChallenges[0x1EEE6570EF4BB8B]( 0, StringTable[0x2DCF0973239E909]( f30_arg0.file, f30_arg0.cols.aeName, f30_arg1, f30_arg0.cols.aeID ) )
	if f30_local0 then
		local f30_local1 = f30_local0.progress
		if not f30_local1 then
			f30_local0 = f30_local1
		end
	end
	f30_local0 = {}
end

LeaguePlayUtils.GetLocalPlayerStatInternal = function ( f29_arg0, f29_arg1, f29_arg2, f29_arg3 )
	if Engine[0x2DA54CF5D6B7F02]() and Dvar[0x22EAAB59AA27E9B]( f29_arg1 .. "_" .. f29_arg0 ) and 0 <= Dvar[0x22EAAB59AA27E9B]( f29_arg1 .. "_" .. f29_arg0 ) then
		return Dvar[0x22EAAB59AA27E9B]( f29_arg1 .. "_" .. f29_arg0 )
	end
	LeaguePlayUtils.LocalPlayerStatData = LeaguePlayUtils.LocalPlayerStatData or {}
	if not LeaguePlayUtils.LocalPlayerStatData[f29_arg1] or f29_arg3 then
		LeaguePlayUtils.UpdateAchievementTable( f29_arg2, f29_arg1 )
	end
	local f29_local0 = LeaguePlayUtils.LocalPlayerStatData[f29_arg1][f29_arg0]
	if not f29_local0 then
		f29_local0 = 0
	end
	return f29_local0
end

LeaguePlayUtils.GetLocalPlayerStat = function ( f28_arg0, f28_arg1, f28_arg2, f28_arg3 )
	return LeaguePlayUtils.GetLocalPlayerStatInternal( f28_arg0, f28_arg1[f28_arg2], f28_arg1.csv, f28_arg3 )
end

LeaguePlayUtils.GetLocalPlayerStatSeasonal = function ( f27_arg0, f27_arg1, f27_arg2, f27_arg3, f27_arg4 )
	local f27_local0
	if not f27_arg3 then
		f27_local0 = f27_arg3
	else
		f27_local0 = LeaguePlay[0xA61DC962A61C85F]()
		if not f27_local0 then
			f27_local0 = LeaguePlayUtils.FIRST_SEASON
		end
	end
	return LeaguePlayUtils.GetLocalPlayerStatInternal( f27_arg0, f27_arg1.seasonal.prefix .. f27_local0 .. f27_arg1.seasonal[f27_arg2], f27_arg1.csv, f27_arg4 )
end

LeaguePlayUtils.SendPenaltySeenEvent = function ( f26_arg0 )
	Challenges[0x636D3BF423FD414]( f26_arg0, AEGameEvents.iw9_leagueplay_penalty_seen.eventID, 0 )
end

LeaguePlayUtils.InitLPDataSources = function ( f25_arg0 )
	DataSources.frontEnd.LP = DataSources.frontEnd.LP or {}
	LeaguePlayUtils.LocalPlayerStatData = {}
	LeaguePlayUtils.SetupLocalPlayerData( f25_arg0 )
	LeaguePlayUtils.SetupTop250LadderData()
	LeaguePlayUtils.SetupGameDeltaData( f25_arg0 )
end

LeaguePlayUtils.SetupLocalPlayerData = function ( f24_arg0 )
	DataSources.frontEnd.LP.PlayerData = LUI.DataSourceInGlobalModel.new( LeaguePlayUtils.ROOT_MODEL_PATH .. "PlayerData" )
	LeaguePlayUtils.SetupPlayerData( DataSources.frontEnd.LP.PlayerData, LeaguePlayUtils.GetLocalPlayerStat( "xp", LeaguePlayUtils.Achievements.Progression, "progression" ), LeaguePlayUtils.GetLocalPlayerStatSeasonal( "sr", LeaguePlayUtils.Achievements.Progression, "skilldivisions" ), LeaguePlayUtils.GetLocalPlayerStatSeasonal( "flame", LeaguePlayUtils.Achievements.Progression, "flamestreak" ), Engine[0x29DFACECF20DE0E]( f24_arg0 ) )
end

LeaguePlayUtils.SetupPlayerData = function ( f23_arg0, f23_arg1, f23_arg2, f23_arg3, f23_arg4 )
	local f23_local0 = f23_arg0.RankData
	if not f23_local0 then
		f23_local0 = f23_arg0:GetDataSourceForSubmodel( "RankData" )
	end
	f23_arg0.RankData = f23_local0
	f23_local0 = f23_arg0.SkillDivData
	if not f23_local0 then
		f23_local0 = f23_arg0:GetDataSourceForSubmodel( "SkillDivData" )
	end
	f23_arg0.SkillDivData = f23_local0
	f23_local0 = LeaguePlayUtils.GetSkillDivData( f23_arg2, f23_arg4 )
	LeaguePlayUtils.SetupPlayerRankData( f23_arg0.RankData, f23_arg1, f23_local0.divIndex, f23_arg3 )
	LeaguePlayUtils.SetupPlayerSkillDivData( f23_arg0.SkillDivData, f23_arg2, f23_arg4 )
end

LeaguePlayUtils.SetupPlayerRankData = function ( f22_arg0, f22_arg1, f22_arg2, f22_arg3 )
	f22_arg0.rankPoints = f22_arg0:GetDataSourceForSubmodel( "rankPoints" )
	f22_arg0.rankNumber = f22_arg0:GetDataSourceForSubmodel( "rankNumber" )
	f22_arg0.rankPointsThisRank = f22_arg0:GetDataSourceForSubmodel( "rankPointsThisRank" )
	f22_arg0.rankPointsNeeded = f22_arg0:GetDataSourceForSubmodel( "rankPointsNeeded" )
	f22_arg0.rankIcon = f22_arg0:GetDataSourceForSubmodel( "rankIcon" )
	f22_arg0.rankIconLarge = f22_arg0:GetDataSourceForSubmodel( "rankIconLarge" )
	f22_arg0.rankName = f22_arg0:GetDataSourceForSubmodel( "rankName" )
	f22_arg0.flamesIcon = f22_arg0:GetDataSourceForSubmodel( "flamesIcon" )
	f22_arg0.flameStreak = f22_arg0:GetDataSourceForSubmodel( "flameStreak" )
	local f22_local0 = LeaguePlayUtils.GetRankData( f22_arg1, f22_arg2, f22_arg3 )
	f22_arg0.rankPoints:SetValue( nil, f22_local0.rankPoints )
	f22_arg0.rankNumber:SetValue( nil, f22_local0.rankNumber )
	f22_arg0.rankPointsThisRank:SetValue( nil, f22_local0.rankPointsThisRank )
	f22_arg0.rankPointsNeeded:SetValue( nil, f22_local0.rankPointsNeeded )
	f22_arg0.rankIcon:SetValue( nil, f22_local0.rankIcon )
	f22_arg0.rankIconLarge:SetValue( nil, f22_local0.rankIconLarge )
	f22_arg0.rankName:SetValue( nil, f22_local0.rankName )
	f22_arg0.flamesIcon:SetValue( nil, f22_local0.flamesIcon )
	f22_arg0.flameStreak:SetValue( nil, f22_local0.flameStreak )
end

LeaguePlayUtils.SetupPlayerSkillDivData = function ( f21_arg0, f21_arg1, f21_arg2 )
	f21_arg0.skillRating = f21_arg0:GetDataSourceForSubmodel( "skillRating" )
	f21_arg0.skillDivisionString = f21_arg0:GetDataSourceForSubmodel( "skillDivisionString" )
	f21_arg0.skillDivisionIcon = f21_arg0:GetDataSourceForSubmodel( "skillDivisionIcon" )
	f21_arg0.skillDivisionIconLarge = f21_arg0:GetDataSourceForSubmodel( "skillDivisionIconLarge" )
	f21_arg0.skillDivisionTier = f21_arg0:GetDataSourceForSubmodel( "skillDivisionTier" )
	f21_arg0.skillDivisionIndex = f21_arg0:GetDataSourceForSubmodel( "skillDivisionIndex" )
	f21_arg0.majorSkillDivisionString = f21_arg0:GetDataSourceForSubmodel( "majorSkillDivisionString" )
	f21_arg0.majorSkillDivisionIcon = f21_arg0:GetDataSourceForSubmodel( "majorSkillDivisionIcon" )
	f21_arg0.majorSkillDivisionIconLarge = f21_arg0:GetDataSourceForSubmodel( "majorSkillDivisionIconLarge" )
	f21_arg0.top250Position = f21_arg0:GetDataSourceForSubmodel( "top250Position" )
	local f21_local0 = LeaguePlayUtils.GetSkillDivData( f21_arg1, f21_arg2 )
	f21_arg0.skillRating:SetValue( nil, f21_arg1 )
	f21_arg0.skillDivisionString:SetValue( nil, f21_local0.name )
	f21_arg0.skillDivisionIcon:SetValue( nil, f21_local0.icon )
	f21_arg0.skillDivisionIconLarge:SetValue( nil, f21_local0.iconLarge )
	f21_arg0.skillDivisionTier:SetValue( nil, f21_local0.subdivIndex )
	f21_arg0.skillDivisionIndex:SetValue( nil, f21_local0.divIndex )
	f21_arg0.majorSkillDivisionString:SetValue( nil, f21_local0.majorName )
	f21_arg0.majorSkillDivisionIcon:SetValue( nil, f21_local0.majorIcon )
	f21_arg0.majorSkillDivisionIconLarge:SetValue( nil, f21_local0.majorIconLarge )
	f21_arg0.top250Position:SetValue( nil, f21_local0.top250Position )
end

LeaguePlayUtils.GetLeaguePlayBundle = function ()
	if not LeaguePlayUtils.LeaguePlayBundle then
		local f20_local0 = Game[0x83E0D59EFF44E21]()
		if f20_local0[0x88928642890B563] and f20_local0[0x88928642890B563] ~= "" then
			local f20_local1 = Engine[0x6093D047200548]( 0xF7E48840A251D99 .. f20_local0[0x88928642890B563] )
			for f20_local2 = 1, #f20_local1[0x297CA11B2B0805C], 1 do
				f20_local1[0x297CA11B2B0805C][f20_local2] = Engine[0x6093D047200548]( 0x251EF756684E643 .. f20_local1[0x297CA11B2B0805C][f20_local2][0x8B6F2336E5960E5] )
			end
			for f20_local2 = 1, #f20_local1[0x9B93E6ABBF3926F], 1 do
				f20_local1[0x9B93E6ABBF3926F][f20_local2] = Engine[0x6093D047200548]( 0x43D970CE200F67D .. f20_local1[0x9B93E6ABBF3926F][f20_local2][0x8B6F2336E5960E5] )
			end
			LeaguePlayUtils.LeaguePlayBundle = f20_local1
		end
	end
	return LeaguePlayUtils.LeaguePlayBundle
end

LeaguePlayUtils.GetRankFromRankPoints = function ( f19_arg0 )
	local f19_local0 = LeaguePlayUtils.GetLeaguePlayBundle()
	f19_local0 = f19_local0[0x297CA11B2B0805C]
	for f19_local4, f19_local5 in ipairs( f19_local0 ) do
		f19_arg0 = f19_arg0 - f19_local5[0x8C6D3BCE7463627]
		if f19_arg0 < 0 or f19_local4 == #f19_local0 then
			return f19_local4, f19_arg0 + f19_local5[0x8C6D3BCE7463627]
		end
	end
end

LeaguePlayUtils.GetRankData = function ( f18_arg0, f18_arg1, f18_arg2 )
	local f18_local0, f18_local1 = LeaguePlayUtils.GetRankFromRankPoints( f18_arg0 )
	local f18_local2 = LeaguePlayUtils.GetLeaguePlayBundle()
	local f18_local3 = f18_local2[0x297CA11B2B0805C]
	local f18_local4 = ""
	if f18_arg2 then
		for f18_local8, f18_local9 in ipairs( f18_local2[0x5F1254373BBD899] ) do
			if f18_arg2 < f18_local9[0xC639EDB642C1339] then
				break
			end
			f18_local4 = f18_local9[0x9BA387EFCBD0EA4]
		end
	end
	return {
		rankPoints = f18_arg0,
		rankNumber = f18_local0,
		rankPointsThisRank = f18_local1,
		rankPointsNeeded = f18_local3[f18_local0][0x8C6D3BCE7463627],
		rankIcon = 0x0 .. f18_local3[f18_local0][0x361F676BB58F499][f18_arg1][0xBFF4CC56C2092F0],
		rankIconLarge = 0x0 .. f18_local3[f18_local0][0x361F676BB58F499][f18_arg1][0x8027A8209C5D65F],
		rankName = Engine[0xED84C33EC5F01EA]( f18_local3[f18_local0][0xA14FE07A24B0C84], f18_local0 ),
		flamesIcon = 0x0 .. f18_local4,
		flameStreak = f18_arg2
	}
end

LeaguePlayUtils.GetSkillDivData = function ( f17_arg0, f17_arg1 )
	LeaguePlayUtils._skillDivDataCache = LeaguePlayUtils._skillDivDataCache or {}
	if LeaguePlayUtils._skillDivDataCache[f17_arg0] then
		LeaguePlayUtils._skillDivDataCache[f17_arg0].top250Position = LeaguePlayUtils.GetTop250PositionFromXUID( f17_arg1 )
		return LeaguePlayUtils._skillDivDataCache[f17_arg0]
	end
	local f17_local0 = LeaguePlayUtils.GetLeaguePlayBundle()
	local f17_local1 = f17_local0[0x84A2A3D53A4409C]
	local f17_local2 = 0
	local f17_local3 = 0
	local f17_local4 = 0
	local f17_local5 = f17_local0[0x9B93E6ABBF3926F][1]
	for f17_local6 = 1, #f17_local0[0x9B93E6ABBF3926F] - 1, 1 do
		if f17_arg0 < f17_local4 + f17_local5[0x612EAD3638B4A03] * f17_local1 or f17_local6 == #f17_local0[0x9B93E6ABBF3926F] - 1 then
			f17_local2 = f17_local6
			f17_local3 = math.min( f17_local5[0x612EAD3638B4A03], math.floor( (f17_arg0 - f17_local4) / f17_local1 ) + 1 )
			break
		end
		f17_local4 = f17_local4 + f17_local5[0x612EAD3638B4A03] * f17_local1
		f17_local5 = f17_local0[0x9B93E6ABBF3926F][f17_local6 + 1]
	end
	if f17_arg1 then
		local f17_local6 = LeaguePlayUtils.GetTop250PositionFromXUID( f17_arg1 )
		if not f17_local6 then
		
		else
			if f17_local6 == 0 then
				f17_local6 = LeaguePlayUtils.GetTop250PositionFromSkillRating( f17_arg0 )
			end
			if 0 < f17_local6 and f17_local6 <= LeaguePlayUtils.TOP_250_COUNT then
				f17_local2 = LeaguePlayUtils.TOP_250_DIVISION_INDEX
				f17_local5 = f17_local0[0x9B93E6ABBF3926F][f17_local2]
				f17_local3 = 1
			end
			local f17_local7 = f17_local5[0xBB865D93ABD4F9A]
			local f17_local8 = LeaguePlayUtils.SKILL_DIV_TO_ROMAN_NUM[f17_local3] or ""
			local f17_local9 = f17_local5[0x3BD9497986D646F]
			local f17_local10 = f17_local5[0xC7642E91133EA6A]
			LeaguePlayUtils._skillDivDataCache[f17_arg0] = {
				name = Engine[0xED84C33EC5F01EA]( f17_local7, f17_local8 ),
				icon = 0x0 .. (f17_local5[0xF770017FCC1447F][f17_local3][0xBFF4CC56C2092F0] or f17_local9),
				iconLarge = 0x0 .. (f17_local5[0xF770017FCC1447F][f17_local3][0x8027A8209C5D65F] or f17_local10),
				majorName = LUI.Trim( Engine[0xED84C33EC5F01EA]( f17_local7, " " ) ),
				majorIcon = 0x0 .. f17_local9,
				majorIconLarge = 0x0 .. f17_local10,
				divIndex = f17_local2,
				subdivIndex = f17_local3,
				top250Position = f17_local6
			}
			return LeaguePlayUtils._skillDivDataCache[f17_arg0]
		end
	end
	f17_local6 = 0
end

LeaguePlayUtils.IsTop250Enabled = function ()
	local f16_local0 = LeaguePlay[0x6FE3F72EAC463DF]
	local f16_local1 = LeaguePlay[0xA61DC962A61C85F]()
	if not f16_local1 then
		f16_local1 = LeaguePlayUtils.FIRST_SEASON
	end
	f16_local0 = f16_local0( f16_local1 )
	if f16_local0 and LeaguePlayUtils.GetTunable( LeaguePlayUtils.Tunables.showTop250 ) then
		return f16_local0.start + LeaguePlayUtils.GetTunable( LeaguePlayUtils.Tunables.top250Delay ) < Engine[0xF16311E3FCA3DCF]()
	else
		return false
	end
end

LeaguePlayUtils.FetchTop250Leaderboard = function ()
	local f15_local0 = LeaguePlay[0xC37D079B078812C]( Engine[0x45B054C920178E9]() )
	local f15_local1 = LeaguePlayUtils
	local f15_local2
	if not f15_local0 then
		f15_local2 = LeaguePlayUtils._top250Leaderboard
	else
		f15_local2 = false
	end
	f15_local1._top250LeaderboardValid = f15_local2
	return f15_local0
end

LeaguePlayUtils.GetTop250Leaderboard = function ()
	return LeaguePlayUtils._top250Leaderboard
end

LeaguePlayUtils.BuildTop250TestLeaderboard = function ()
	local f13_local0 = {}
	local f13_local1 = Engine[0x29DFACECF20DE0E]( Engine[0x45B054C920178E9]() )
	for f13_local2 = 0, LeaguePlayUtils.TOP_250_COUNT - 1, 1 do
		f13_local0[f13_local2] = {
			entityID = f13_local1,
			entityRating = 3500 + f13_local2,
			xp = f13_local2
		}
	end
	return f13_local0
end

LeaguePlayUtils.SetupTop250LadderData = function ()
	LeaguePlayUtils.SetupTop250Events( Engine[0x45B054C920178E9]() )
	local f12_local0 = LeaguePlayUtils.GetTop250Leaderboard()
	if f12_local0 then
		LeaguePlayUtils.SetupTop250LadderEntriesData( "Top250LadderEntries", f12_local0 )
	end
end

LeaguePlayUtils.SetupTop250LadderEntriesData = function ( f10_arg0, f10_arg1 )
	LeaguePlayUtils._skillRatingToPositionMap = {}
	local f10_local0 = 0
	local f10_local1 = 1
	local f10_local2 = Engine[0x29DFACECF20DE0E]( Engine[0x45B054C920178E9]() )
	for f10_local3 = 0, #f10_arg1, 1 do
		local f10_local6 = f10_arg1[f10_local3]
		local f10_local7 = Engine[0x9566E5CA0497EEE]( f10_local6.entityID )
		local f10_local8 = LeaguePlay[0x31B920E81F46565]( f10_local6.entityID )
		f10_local6.skillRating = f10_local6.entityRating
		local f10_local9
		if f10_local7 then
			f10_local9 = f10_local7.gamertag
			if not f10_local9 then
			
			else
				f10_local6.nameAndClanTag = f10_local9
				if f10_local7 then
					f10_local9 = CallingCardUtils.GetCardTexture( f10_local7.background )
					if not f10_local9 then
					
					else
						f10_local6.background = f10_local9
						if f10_local7 then
							f10_local9 = EmblemEditorUtils.GetEmblemImageFromID( f10_local7.emblemIndex )
							if not f10_local9 then
							
							else
								f10_local6.emblem = f10_local9
								f10_local6.isLocalPlayer = f10_local2 == f10_local6.entityID
								f10_local6.xp = f10_local8.xp
								f10_local6.flameStreak = f10_local8.flameStreak or 0
								if f10_local3 == 0 or f10_arg1[f10_local3 - 1].skillRating ~= f10_local6.skillRating then
									LeaguePlayUtils._skillRatingToPositionMap[f10_local6.skillRating] = f10_local3 + 1
								end
								f10_local6.position = f10_local1
								if f10_local6.position > LeaguePlayUtils.TOP_250_COUNT then
									break
								end
								f10_local0 = f10_local3 + 1
							end
						end
						f10_local9 = ""
					end
				end
				f10_local9 = ""
			end
		end
		f10_local9 = ""
	end
	if not DataSources.frontEnd.LP[f10_arg0] then
		DataSources.frontEnd.LP[f10_arg0] = LUI.DataSourceFromList.new( f10_local0 )
	end
	DataSources.frontEnd.LP[f10_arg0]:ClearCache()
	DataSources.frontEnd.LP[f10_arg0]:SetCachingEnabled( true )
	DataSources.frontEnd.LP[f10_arg0].MakeDataSourceAtIndex = function ( f11_arg0, f11_arg1, f11_arg2 )
		local f11_local0 = f10_arg0[f11_arg1]
		local f11_local1 = LeaguePlayUtils.ROOT_MODEL_PATH .. f10_arg0 .. "." .. f11_arg1
		local f11_local2 = LUI.DataSourceInGlobalModel.new( f11_local1 .. ".position" )
		local f11_local3 = LUI.DataSourceInGlobalModel.new( f11_local1 .. ".nameAndClanTag" )
		local f11_local4 = LUI.DataSourceInGlobalModel.new( f11_local1 .. ".isLocalPlayer" )
		local f11_local5 = LUI.DataSourceInGlobalModel.new( f11_local1 .. ".background" )
		local f11_local6 = LUI.DataSourceInGlobalModel.new( f11_local1 .. ".emblem" )
		local f11_local7 = LUI.DataSourceInGlobalModel.new( f11_local1 .. ".PlayerData" )
		f11_local7.RankData = LUI.DataSourceInGlobalModel.new( f11_local1 .. ".PlayerData.RankData" )
		f11_local7.SkillDivData = LUI.DataSourceInGlobalModel.new( f11_local1 .. ".PlayerData.SkillDivData" )
		local f11_local8 = LeaguePlayUtils.GetSkillDivData( f11_local0.skillRating, f11_local0.entityID )
		LeaguePlayUtils.SetupPlayerRankData( f11_local7.RankData, f11_local0.xp, f11_local8.divIndex, f11_local0.flameStreak )
		LeaguePlayUtils.SetupPlayerSkillDivData( f11_local7.SkillDivData, f11_local0.skillRating, f11_local0.entityID )
		f11_local2:SetValue( nil, f11_local0.position )
		f11_local3:SetValue( nil, f11_local0.nameAndClanTag )
		f11_local4:SetValue( nil, f11_local0.isLocalPlayer )
		f11_local5:SetValue( nil, f11_local0.background )
		f11_local6:SetValue( nil, f11_local0.emblem )
		return {
			PlayerData = f11_local7,
			position = f11_local2,
			nameAndClanTag = f11_local3,
			isLocalPlayer = f11_local4,
			cardBackground = f11_local5,
			emblem = f11_local6
		}
	end
	
end

LeaguePlayUtils.ValidateTop250Leaderboard = function ()
	if LeaguePlayUtils._top250LeaderboardValid then
		return true
	end
	local f9_local0 = nil
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xFA8B3AD37678A23 ) then
		f9_local0 = LeaguePlayUtils.BuildTop250TestLeaderboard()
	else
		f9_local0 = LeaguePlay[0x3C78334CDFA9FB0]()
	end
	if f9_local0 then
		for f9_local1 = 0, #f9_local0, 1 do
			if Engine[0x94083579568ECE5]( f9_local0[f9_local1].entityID ) == "<unknown>" then
				return false
			end
		end
		LeaguePlayUtils._top250LeaderboardValid = true
		LeaguePlayUtils._top250Leaderboard = f9_local0
		LeaguePlayUtils._skillDivDataCache = {}
		return true
	end
	return false
end

LeaguePlayUtils.SetupTop250Events = function ( f5_arg0 )
	local f5_local0 = LUI.UIRoot.GetRootForControllerIndex( f5_arg0 )
	if not f5_local0._top250FetchTimer then
		local f5_local1 = function ( f7_arg0, f7_arg1 )
			if CONDITIONS.InFrontend() and not f7_arg0._top250ValidationTimer then
				local _top250ValidationTimer = LUI.UITimer.new( {
					interval = 1000,
					event = "validate_top250"
				} )
				_top250ValidationTimer.id = "top250ValidationTimer"
				f7_arg0:addElement( _top250ValidationTimer )
				f7_arg0._top250ValidationTimer = _top250ValidationTimer
				
				f7_arg0:registerEventHandler( "validate_top250", function ( element, event )
					LeaguePlayUtils.ValidateTop250Leaderboard()
					if LeaguePlayUtils._top250LeaderboardValid and element._top250ValidationTimer then
						element._top250ValidationTimer:closeTree()
						element._top250ValidationTimer = nil
						LUI.UIRoot.ProcessEvent( element, {
							name = "top250_validated"
						} )
					end
					return true
				end )
			elseif Dvar[0x9E5BE3B4BBA4E0E]( 0xFA8B3AD37678A23 ) then
				LeaguePlayUtils._top250Leaderboard = LeaguePlayUtils.BuildTop250TestLeaderboard()
			else
				LeaguePlayUtils._top250Leaderboard = LeaguePlay[0x3C78334CDFA9FB0]()
			end
			return true
		end
		
		local f5_local2 = function ()
			LeaguePlayUtils.FetchTop250Leaderboard()
			return true
		end
		
		f5_local0:registerEventHandler( "leagueplay_top250_updated", f5_local1 )
		local self = LUI.UITimer.new( {
			event = "update_top250",
			interval = Dvar[0x22EAAB59AA27E9B]( 0xAD70782DBBEF161 )
		} )
		self.id = "top250FetchTimer"
		f5_local0:addElement( self )
		f5_local0:registerAndCallEventHandler( "update_top250", f5_local2 )
		f5_local0._top250FetchTimer = self
		LeaguePlayUtils.ValidateTop250Leaderboard()
	end
end

LeaguePlayUtils.GetTop250PositionFromSkillRating = function ( f4_arg0 )
	if not LeaguePlayUtils.IsTop250Enabled() then
		return 0
	elseif not LeaguePlayUtils._skillRatingToPositionMap then
		LeaguePlayUtils._skillRatingToPositionMap = {}
	end
	if LeaguePlayUtils._skillRatingToPositionMap and LeaguePlayUtils._skillRatingToPositionMap[f4_arg0] then
		return LeaguePlayUtils._skillRatingToPositionMap[f4_arg0]
	end
	local f4_local0 = LeaguePlayUtils.GetTop250Leaderboard()
	if f4_local0 then
		for f4_local1 = 0, #f4_local0, 1 do
			if f4_local0[f4_local1] and f4_local0[f4_local1].entityRating and f4_local0[f4_local1].entityRating <= f4_arg0 then
				LeaguePlayUtils._skillRatingToPositionMap[f4_arg0] = f4_local1 + 1
				return f4_local1 + 1
			end
		end
	end
	return 0
end

LeaguePlayUtils.GetTop250PositionFromXUID = function ( f3_arg0 )
	if not LeaguePlayUtils.IsTop250Enabled() or not f3_arg0 then
		return 0
	end
	local f3_local0 = LeaguePlay[0x85851A7FEFF01D6]( f3_arg0 ) or 0
	local f3_local1 = LeaguePlayUtils.GetTop250Leaderboard()
	if f3_local1 then
		local f3_local2 = f3_local1[f3_local0 - 1]
		if f3_local2 then
			f3_local2 = f3_local1[f3_local0 - 1].entityRating
		end
		if f3_local2 and 1 < f3_local0 and f3_local1[f3_local0 - 2].entityRating == f3_local2 then
			
		else
			
		end
	end
	return f3_local0
end

LeaguePlayUtils.SetupGameDeltaData = function ( f2_arg0 )
	local f2_local0 = OnlineAAR[0x3A9F1F51625857F]( f2_arg0 )
	DataSources.frontEnd.LP.GameDelta = LUI.DataSourceInGlobalModel.new( LeaguePlayUtils.ROOT_MODEL_PATH .. "GameDelta" )
	local f2_local1 = DataSources.frontEnd.LP.GameDelta
	f2_local1.OldData = f2_local1:GetDataSourceForSubmodel( "oldData" )
	f2_local1.NewData = f2_local1:GetDataSourceForSubmodel( "newData" )
	f2_local1.gameModeName = f2_local1:GetDataSourceForSubmodel( "gameModeName" )
	f2_local1.gameModeIcon = f2_local1:GetDataSourceForSubmodel( "gameModeIcon" )
	f2_local1.mapName = f2_local1:GetDataSourceForSubmodel( "mapName" )
	local f2_local2 = Engine[0x29DFACECF20DE0E]( f2_arg0 )
	local f2_local3 = Dvar[0x22EAAB59AA27E9B]( LeaguePlayUtils.Testing.oldXP ) or f2_local0.StartLeagueXP
	local f2_local4 = Dvar[0x22EAAB59AA27E9B]( LeaguePlayUtils.Testing.oldSR ) or f2_local0.StartLeagueSkillRating
	local f2_local5 = Dvar[0x22EAAB59AA27E9B]( LeaguePlayUtils.Testing.oldFlameStreak ) or f2_local0.StartLeagueFlameStreak
	local f2_local6 = Dvar[0x22EAAB59AA27E9B]( LeaguePlayUtils.Testing.newXP ) or f2_local0.CurrentLeagueXP
	local f2_local7 = Dvar[0x22EAAB59AA27E9B]( LeaguePlayUtils.Testing.newSR )
	if not f2_local7 then
		f2_local7 = LeaguePlayUtils.TryGetUpdatedSkillRatingForAAR( f2_local0 )
	end
	local f2_local8 = Dvar[0x22EAAB59AA27E9B]( LeaguePlayUtils.Testing.newFlameStreak ) or f2_local0.CurrentLeagueFlameStreak
	local f2_local9 = DataSources.frontEnd.AAR.gameType and DataSources.frontEnd.AAR.gameType:GetValue() or ""
	local f2_local10 = DataSources.frontEnd.AAR.gameTypeModifier
	if f2_local10 then
		f2_local10 = DataSources.frontEnd.AAR.gameTypeModifier:GetValue()
	end
	local f2_local11 = SCOREBOARD.GetGameTypeNameWithModifier( f2_local9, f2_local10 )
	local f2_local12 = GameType.GetImage( f2_local9 )
	local f2_local13 = DataSources.frontEnd.AAR.mapName and DataSources.frontEnd.AAR.mapName:GetValue() or ""
	LeaguePlayUtils.SetupPlayerData( f2_local1.OldData, f2_local3, f2_local4, f2_local5, f2_local2 )
	LeaguePlayUtils.SetupPlayerData( f2_local1.NewData, f2_local6, f2_local7, f2_local8, f2_local2 )
	f2_local1.gameModeName:SetValue( nil, f2_local11 )
	f2_local1.gameModeIcon:SetValue( nil, f2_local12 )
	f2_local1.mapName:SetValue( nil, f2_local13 )
end

LeaguePlayUtils.TryGetUpdatedSkillRatingForAAR = function ( f1_arg0 )
	if not f1_arg0 then
		f1_arg0 = OnlineAAR[0x3A9F1F51625857F]( 0 )
	end
	local f1_local0 = f1_arg0.StartLeagueSkillRating
	if f1_local0 == 0 then
		return f1_local0
	else
		local f1_local1 = f1_arg0.CurrentLeagueSkillRating
		if f1_local0 ~= f1_local1 then
			return f1_local1
		else
			f1_local1 = LeaguePlayUtils.GetLocalPlayerStatSeasonal( "sr", LeaguePlayUtils.Achievements.Progression, "skilldivisions", true )
			if f1_local0 ~= f1_local1 then
				return f1_local1
			else
				local f1_local2 = LeaguePlay[0x31B920E81F46565]( Engine[0x29DFACECF20DE0E]( 0 ) )
				f1_local1 = f1_local2.skillRating
				if f1_local0 ~= f1_local1 and f1_local1 ~= 0 then
					return f1_local1
				else
					return f1_local0
				end
			end
		end
	end
end

