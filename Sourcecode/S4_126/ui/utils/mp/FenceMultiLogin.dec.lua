-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
module( ..., package.seeall )
FenceMultiLogin = LUI.Class( LUI.Fence )
FenceMultiLogin.init = function ( f8_arg0 )
	LUI.Fence.init( f8_arg0 )
end

FenceMultiLogin.Start = function ( f7_arg0 )
	f7_arg0._state = LUI.Fence.STATE.pass
end

FenceMultiLogin.Stop = function ( f6_arg0 )
	
end

FenceMultiLogin.OnBackOut = function ( f5_arg0 )
	
end

FenceMultiLogin.PostFail = function ( f4_arg0 )
	if f4_arg0._state == LUI.Fence.STATE.fail then
		LUI.FlowManager.RequestPopupMenu( nil, "popup_multi_login_error", false, nil, false, nil, nil, true, true )
	end
end

FenceMultiLogin.UpdateState = function ( f3_arg0 )
	assert( f3_arg0._state ~= LUI.Fence.STATE.fail )
	f3_arg0._state = LUI.Fence.STATE.pass
	if Engine[0x9258F49F515F97B]() and Fences[0x9C8C5221A00B7FD]() then
		f3_arg0._state = LUI.Fence.STATE.fail
	end
end

function PopupFenceMultiLoginError( f1_arg0, f1_arg1 )
	local f1_local0 = {
		headerText = Engine[0xED84C33EC5F01EA]( "MENU/ERROR" ),
		messageText = Engine[0xED84C33EC5F01EA]( "EXE/DEMONWARE_MULTIPLE_LOGINS_GENERIC" ),
		controllerIndex = Engine[0x45B054C920178E9]()
	}
	if Engine[0x575E9C5B9AAB6F4]() then
		f1_local0.label = Engine[0xED84C33EC5F01EA]( "LUA_MENU/QUIT_DESKTOP" )
		f1_local0.action = function ( f2_arg0, f2_arg1 )
			Engine[0xDEE6107B26F8BB6]()
		end
		
	end
	local f1_local1 = MenuBuilder.BuildRegisteredType( "PopupConfirm", f1_local0 )
	f1_local1.id = "popup_multi_login_error"
	return f1_local1
end

MenuBuilder.registerType( "popup_multi_login_error", PopupFenceMultiLoginError )
LUI.Fence.Register( "multiLogin", FenceMultiLogin )
LockTable( _M )
