-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.cp.cprewarditem" )
require( "ui.generated.widgets.scrollbar.verticalminimalscrollbar" )
local f0_local0 = function ( f13_arg0, f13_arg1 )
	return f13_arg0._rewardDataTable[f13_arg1]
end

local f0_local1 = function ( f12_arg0, f12_arg1, f12_arg2, f12_arg3 )
	local f12_local0 = f0_local0( f12_arg0, f12_arg2 + 1 )
	if not String.IsNilOrEmpty( f12_local0.image ) then
		f12_arg1.Icon:SetAlpha( 1 )
		f12_arg1.Icon:setImage( RegisterMaterial( f12_local0.image ) )
		local f12_local1 = LOOT.GetTypeForID( f12_local0.lootID )
		if f12_local1 == LOOT.itemTypes.PLAYERCARD then
			ACTIONS.AnimateSequence( f12_arg1, "CallingCard" )
		elseif f12_local1 == LOOT.itemTypes.WEAPON then
			ACTIONS.AnimateSequence( f12_arg1, "Weapon" )
		else
			ACTIONS.AnimateSequence( f12_arg1, "Icon1x1" )
		end
	else
		f12_arg1.Icon:SetAlpha( 0 )
	end
	if not String.IsNilOrEmpty( f12_local0.displayString ) then
		f12_arg1.Text:SetAlpha( 1 )
		f12_arg1.Text:setText( Engine[0xED84C33EC5F01EA]( f12_local0.displayString ) )
	else
		f12_arg1.Text:SetAlpha( 0 )
	end
	local f12_local2 = math.min( f12_arg0._currentProgress, f12_local0.unlock_amount )
	local f12_local1 = f12_arg1.ProgressText
	local f12_local3 = f12_local1
	f12_local1 = f12_local1.setText
	local f12_local4 = Engine[0xED84C33EC5F01EA]
	local f12_local5
	if f12_arg3 then
		f12_local5 = 0xCD1D085F96E438B
		if not f12_local5 then
		
		else
			f12_local1( f12_local3, f12_local4( f12_local5, f12_local2, f12_local0.unlock_amount ) )
			if 0 < f12_local0.unlock_amount then
				f12_arg1.ProgressBar:SetProgress( f12_local2 / f12_local0.unlock_amount )
			else
				f12_arg1.ProgressBar:SetProgress( 0 )
			end
			if f12_local0.isUnlocked then
				f12_arg1.CompletedImage:SetAlpha( 1 )
				f12_arg1.StatusText:setText( Engine[0xED84C33EC5F01EA]( 0xEB5011C7646C09A ) )
				f12_arg1:AdjustCheckMarkPosition()
			elseif f12_local0.isInProgress then
				f12_arg1.CompletedImage:SetAlpha( 0 )
				f12_arg1.StatusText:setText( Engine[0xED84C33EC5F01EA]( 0xE13AEEC6821A08D ) )
			else
				f12_arg1.CompletedImage:SetAlpha( 0 )
				f12_arg1.StatusText:setText( Engine[0xED84C33EC5F01EA]( 0x8B93DC546B4878D ) )
			end
			f12_local1 = f12_arg1.Button
			f12_local3 = f12_local1
			f12_local1 = f12_local1.SetDisabled
			if not f12_local0.isUnlocked then
				f12_local4 = not f12_local0.isInProgress
			else
				f12_local4 = false
			end
			f12_local1( f12_local3, f12_local4 )
			if f12_local0.lootID and f12_arg1.Watermark and f12_arg1.WatermarkMask then
				f12_local1 = WEAPON.GetWeaponBlueprintTacticalBuildDataByLootID( f12_arg0._controllerIndex, tonumber( f12_local0.lootID ) )
				if WEAPON.ContainsTacticalBuildType( f12_local1 ) then
					local f12_local6 = WEAPON.TACTICAL_BUILD_WATERMARKS[f12_local1.tacticalBuildType]
					f12_local3 = WEAPON.TACTICAL_BUILD_COLORS[f12_local1.tacticalBuildType]
					f12_arg1.Watermark:setImage( RegisterMaterial( f12_local6 ) )
					f12_arg1.Watermark:SetRGB( f12_local3 )
					f12_local4 = f12_arg1.Icon:GetAnchorsAndPosition()
					local f12_local7 = (f12_local4.right - f12_local4.left) * 0.85
					f12_local5 = 0
					f12_arg1.Watermark:SetLeft( f12_local5 )
					f12_arg1.Watermark:SetRight( f12_local5 + f12_local7 )
					local f12_local8 = f12_local4.top + -18
					f12_arg1.Watermark:SetTop( f12_local8 )
					f12_arg1.Watermark:SetBottom( f12_local8 + f12_local7 )
					f12_arg1.Watermark:SetVisible( true )
				else
					f12_arg1.Watermark:SetVisible( false )
				end
			end
		end
	end
	f12_local5 = 0xF31196646D48D90
end

local f0_local2 = function ( f11_arg0, f11_arg1, f11_arg2 )
	f11_arg0.Text:setText( f11_arg1 )
	f11_arg0.ProgressText:setText( f11_arg2 )
end

local f0_local3 = function ( f9_arg0, f9_arg1 )
	f9_arg0.RewardsList:SetNumColumns( 1 )
	f9_arg0.RewardsList:SetNumRows( #f9_arg0._rewardDataTable )
	f9_arg0.RewardsList:SetRefreshChild( function ( f10_arg0, f10_arg1, f10_arg2 )
		f10_arg0.index = f9_arg0.RewardsList:GetContentIndex( f10_arg1, f10_arg2 )
		if not f10_arg0._initOnce then
			f10_arg0.PreviewPrompt:SetVisible( false )
			f10_arg0._initOnce = true
		end
		f9_arg0( f9_arg0, f10_arg0, f10_arg0.index, f9_arg0 )
	end )
	f9_arg0.RewardsList:SetMask( f9_arg0.RewardListMask )
	f9_arg0.RewardsList:RefreshContent()
	if f9_arg1 then
		ACTIONS.AnimateSequence( f9_arg0, "Intel" )
	end
	local f9_local0
	if f9_arg0._sliderFixedMaxElements < f9_arg0.RewardsList:GetNumRows() then
		f9_local0 = f9_arg0._sliderFixedmaxLength
		if not f9_local0 then
		
		else
			local f9_local1 = LUI.UIScrollbar.new
			local f9_local2 = {
				skipScrollbarResize = false,
				direction = LUI.DIRECTION.vertical,
				eventListener = f9_arg0.RewardsScroll,
				startCap = f9_arg0.RewardsScroll.startCap,
				endCap = f9_arg0.RewardsScroll.endCap,
				sliderArea = f9_arg0.RewardsScroll.sliderArea
			}
			local f9_local3 = f9_arg0.RewardsScroll.sliderArea
			if f9_local3 then
				f9_local3 = f9_arg0.RewardsScroll.sliderArea.slider
			end
			f9_local2.slider = f9_local3
			f9_local2.fixedSizeAmount = f9_local0
			f9_local3 = f9_arg0.RewardsScroll.sliderArea
			if f9_local3 then
				f9_local3 = f9_arg0.RewardsScroll.sliderArea.fixedSizeSlider
			end
			f9_local2.fixedSizeSlider = f9_local3
			f9_arg0.RewardsList:AddScrollbar( f9_local1( f9_local2 ) )
		end
	end
	f9_local0 = nil
end

local f0_local4 = function ( f8_arg0, f8_arg1, f8_arg2 )
	f8_arg0._rewardDataTable = {}
	local f8_local0
	if f8_arg2 then
		f8_local0 = CSV.cpIntelRewards
		if not f8_local0 then
		
		else
			local f8_local1 = PLAYER_DATA.IO( f8_arg1, CoD.StatsGroup.Coop )
			local f8_local2 = StringTable[0xFD4E49A34DD43AE]( f8_local0.file )
			if f8_arg2 then
				f8_arg0._currentProgress = f8_local1.totalIntel:get()
			else
				f8_arg0._currentProgress = f8_local1.progression.careerStars:get()
			end
			local f8_local3 = true
			local f8_local4 = 0
			for f8_local5 = 0, f8_local2 - 1, 1 do
				local f8_local8 = CSV.ReadRow( f8_local0, f8_local5 )
				f8_local8.isUnlocked = f8_local8.unlock_amount <= f8_arg0._currentProgress
				local f8_local9
				if not f8_local8.isUnlocked then
					f8_local9 = f8_local3
				else
					f8_local9 = false
				end
				f8_local8.isInProgress = f8_local9
				if f8_local8.isInProgress then
					f8_local3 = false
				end
				if f8_local8.isUnlocked then
					f8_local4 = f8_local4 + 1
				end
				table.insert( f8_arg0._rewardDataTable, f8_local8 )
			end
			f0_local0( f8_arg0, f8_arg2 )
			if f8_arg2 then
				local f8_local5 = StringTable[0xFD4E49A34DD43AE]( CSV.cpIntelFragments.file )
				local f8_local6 = 0
				for f8_local7 = 0, f8_local5 - 1, 1 do
					local f8_local11 = StringTable[0x2077452C28AB2FC]( CSV.cpIntelFragments.file, f8_local7, CSV.cpIntelFragments.cols.unlockSeason )
					local f8_local12
					if f8_local11 then
						f8_local12 = f8_local11
					else
						f8_local12 = f8_local11 <= SEASON.GetCurrentSeasonPrecise()
					end
					if f8_local12 then
						f8_local6 = f8_local6 + 1
					end
				end
				f0_local0( f8_arg0, Engine[0xED84C33EC5F01EA]( 0xDA93F9C5F5D91A2 ), Engine[0xED84C33EC5F01EA]( 0xAD2D48802740F86, f8_arg0._currentProgress, f8_local6 ) )
			else
				f0_local0( f8_arg0, Engine[0xED84C33EC5F01EA]( 0x437E9F9BD671CC7 ), Engine[0xED84C33EC5F01EA]( 0xA338740D74A7F63, f8_arg0._currentProgress ) )
			end
		end
	end
	f8_local0 = CSV.cpCareerStarsRewards
end

local f0_local5 = function ( f7_arg0, f7_arg1, f7_arg2 )
	f7_arg0._sliderFixedMaxElements = 45
	f7_arg0._sliderFixedmaxLength = 0.25
	f7_arg0._controllerIndex = f7_arg1
	f7_arg0.SetupRewards = f0_local0
end

States = {
	[0xAD14C6E7156B923] = function ( f4_arg0, f4_arg1 )
		local f4_local0 = function ( f6_arg0, f6_arg1 )
			
		end
		
		f4_arg0[0xCC44970C8397929]:RegisterAnimationSequence( 0xAEAF28F43731257, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f4_arg0[0xEB64698B6E2FEB3]:RegisterAnimationSequence( 0xAEAF28F43731257, {
			nil,
			nil,
			231,
			0,
			nil,
			1073,
			0,
			[1] = TWEEN_PROPERTY.Top,
			[4] = TWEEN_PROPERTY.Bottom
		} )
		f4_arg0[0x49D85F0EF1CEC84] = {
			[0xEF6C3AB55C07BEF] = f4_local0,
			[0xAEAF28F43731257] = function ( f5_arg0, f5_arg1 )
				f5_arg0[0xCC44970C8397929]:AnimateSequence( 0xAEAF28F43731257 )
				f5_arg0[0xEB64698B6E2FEB3]:AnimateSequence( 0xAEAF28F43731257 )
			end
		}
		f4_arg0[0xD97E59A206E4A54] = {
			[0xAEAF28F43731257] = 0,
			[0xEF6C3AB55C07BEF] = 0
		}
	end
}
function CPRewardList( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = TWEEN_PROPERTY
	local f1_local3 = f1_local0.UIElement.new()
	f1_local3:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 630, 0, 1073 )
	f1_local3.id = "CPRewardList"
	f1_local3[0xBD5D934D3CD91E5] = States
	local f1_local4
	if f1_arg1 then
		f1_local4 = f1_arg1
	else
		f1_local4 = f1_arg1.controllerIndex
	end
	f1_local4 = f1_local0.ValidateControllerIndex( f1_local3, f1_local4 )
	local f1_local5 = nil
	f1_local5 = f1_local0.UIStyledText.new()
	f1_local5[0x8B72E07B55C3AC0] = "ProgressText"
	f1_local5:SetRGB( 3881786, 0 )
	f1_local5:setText( "", 0 )
	f1_local5:setCaseStyle( f1_local0.CaseStyle.Uppercase )
	f1_local5:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local5:SetFontSize( 20 * _PT )
	f1_local5:SetMinFontSize( 18 * _PT )
	f1_local5:SetWordWrap( false )
	f1_local5:SetAlignment( f1_local0.Alignment.Center )
	f1_local5:SetBackingType( 2 )
	f1_local5[0x5328A3EAA342CE5] = f1_local0.UIImage.new()
	f1_local5[0x5328A3EAA342CE5]:SetRGB( 12895428, 0 )
	f1_local5[0x5328A3EAA342CE5]:setImage( RegisterMaterial( 0xD03F9F9FB719FC7 ), 0 )
	f1_local5[0x5328A3EAA342CE5]:Setup9SliceImage( 6, 6, 0.3, 0.3 )
	f1_local5:SetBackingLeftPadding( 10 )
	f1_local5:SetBackingTopPadding( 5 )
	f1_local5:SetBackingRightPadding( 10 )
	f1_local5:SetBackingBottomPadding( 5 )
	f1_local5[0x5328A3EAA342CE5]:SetAnchors( 0, 0, 0, 0 )
	f1_local5:SetRenderChildrenFirst( true )
	f1_local5:addElement( f1_local5[0x5328A3EAA342CE5] )
	f1_local5:SetBackingElementFitText( 1, 287 )
	f1_local5:SetBackingIgnoreParentColor( true )
	f1_local5:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -143.5, 143.5, 127, 151 )
	f1_local3:addElement( f1_local5 )
	f1_local3[0x45D9CBA4F679975] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local0.UIStyledText.new()
	f1_local6[0x8B72E07B55C3AC0] = "Description"
	f1_local6:SetVisible( false )
	f1_local6:SetRGB( SWATCHES[0xEAF2060ABE5269B][0x25ECEAC112DE079], 0 )
	f1_local6:setText( Engine[0xED84C33EC5F01EA]( 0xD8495DA5173B12B ), 0 )
	f1_local6:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
	f1_local6:SetFontSize( 28 * _PT )
	f1_local6:SetMinFontSize( 20 * _PT )
	f1_local6:SetWordWrap( false )
	f1_local6:SetAlignment( f1_local0.Alignment.Center )
	f1_local6:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local6:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -300, 300, 195.4, 227.4 )
	f1_local3:addElement( f1_local6 )
	f1_local3[0xCC44970C8397929] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local0.UIStyledText.new()
	f1_local7[0x8B72E07B55C3AC0] = "Text"
	f1_local7:SetRGB( SWATCHES[0x1F5A9ABAC207F9D][0x8C70C243B5750D0], 0 )
	f1_local7:setText( "", 0 )
	f1_local7:setCaseStyle( f1_local0.CaseStyle.Uppercase )
	f1_local7:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	f1_local7:SetFontSize( 18 * _PT )
	f1_local7:SetMinFontSize( 18 * _PT )
	f1_local7:SetWordWrap( false )
	f1_local7:SetAlignment( f1_local0.Alignment.Center )
	f1_local7:SetVerticalAlignment( f1_local0.Alignment.Middle )
	f1_local7:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, -143.5, 143.5, 166, 190 )
	f1_local3:addElement( f1_local7 )
	f1_local3[0xA04F4EF1995407E] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local0.UIPeekingGrid.new( {
		wrapY = false,
		maxVisibleColumns = 1,
		maxVisibleRows = 4,
		spacingX = 0,
		rowHeight = 231,
		columnWidth = 595,
		wrapX = false,
		controllerIndex = f1_local4,
		buildChild = function ()
			return f1_arg0.BuildRegisteredType( 0x5BDAA949D366B02, {
				controllerIndex = f1_arg0
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		primaryAxis = f1_local0.DIRECTION.vertical,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1]
	} )
	f1_local8[0x8B72E07B55C3AC0] = "RewardsList"
	f1_local8:setUseStencil( true )
	f1_local8:SetAnchorsAndPosition( 0, 1, 0, 1, 16, 611, 200, 1072 )
	f1_local3:addElement( f1_local8 )
	f1_local3[0xEB64698B6E2FEB3] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local1.BuildRegisteredType( 0x12A2D6C64C313D0, {
		controllerIndex = f1_local4
	} )
	f1_local9[0x8B72E07B55C3AC0] = "RewardsScroll"
	f1_local9:SetAnchorsAndPosition( 0, 1, 0, 1, 616, 627, 235, 1065 )
	f1_local3:addElement( f1_local9 )
	f1_local3[0xB5B3D9913863EB2] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local0.UIImage.new()
	f1_local10[0x8B72E07B55C3AC0] = "RewardListMask"
	f1_local10:setImage( RegisterMaterial( 0x8FE1BA59554C5AF ), 0 )
	f1_local10:SetAnchorsAndPosition( 0, 1, 0, 1, 16, 611, 231, 1073 )
	f1_local3:addElement( f1_local10 )
	f1_local3[0x731E3E3890FD7C6] = f1_local10
	f0_local0( f1_local3, f1_local4, f1_arg1 )
	return f1_local3
end

MenuBuilder.registerType( 0x903DCBA0E04BE95, CPRewardList )
LockTable( _M )
