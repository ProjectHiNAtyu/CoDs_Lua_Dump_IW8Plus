-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
module( ..., package.seeall )
CoD.PrintModuleLoad( _NAME )
function OpenFriendsList( f4_arg0 )
	if IsOnlineMatch() and Engine[0xBE5345D3926D620]() and Engine[0x2DE6F7A69111B92]( f4_arg0 ) then
		if not Engine[0x757E77CA15D6B8F]( f4_arg0 ) then
			LUI.FlowManager.RequestAddMenu( "SocialMenu", true, f4_arg0 )
		else
			LUI.FlowManager.RequestPopupMenu( nil, "MPNoGuestPopup", false, f4_arg0, false )
		end
	end
end

function online_friends_widget()
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 1, 0, 1, 0, -170, -130, -48, -28 )
	self.id = "online_friends_widget"
	self:registerEventHandler( "menu_create", function ( self, event )
		local f3_local0 = self:getParent()
		if f3_local0 then
			f3_local0:processEvent( {
				clickable = true,
				side = "right",
				name = "add_button_helper_text",
				priority = 4294966296,
				button_ref = "button_alt2",
				helper_text = Engine[0xED84C33EC5F01EA]( "@LUA_MENU/FRIENDS" )
			} )
			if Engine[0x9D348E40740E9A8]() or Engine[0x9DD5167C6D720F1]() then
				Engine[0xB81A5136C5503E4]( "friends_widget_refresh" )
			end
		end
	end )
	local f1_local1 = LUI.UIBindButton.new()
	f1_local1.id = "friends_bind_buttons_id"
	f1_local1:registerEventHandler( "button_alt2", function ( element, event )
		OpenFriendsList( event.controller )
		return true
	end )
	self:addElement( f1_local1 )
	return self
end

MenuBuilder.registerType( "online_friends_widget", online_friends_widget )
LockTable( _M )
