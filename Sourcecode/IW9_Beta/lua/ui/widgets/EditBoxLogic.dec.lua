-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
LUI.AddEditBoxLogic = function ( f13_arg0, f13_arg1, f13_arg2 )
	assert( f13_arg2.alignment )
	assert( f13_arg2.font )
	assert( f13_arg2.focusType )
	assert( f13_arg2.defaultValue )
	assert( f13_arg2.textSelectionColor )
	local f13_local0 = f13_arg2.maxInputStringLength or 255
	local f13_local1 = f13_arg2.disableAfterEdit ~= false
	local f13_local2 = f13_arg2.useStringVerification or false
	local f13_local3 = f13_arg2.checkProfanity or false
	local f13_local4 = f13_arg2.allowEmptyString ~= false
	local f13_local5 = f13_arg2.useAutoAlign ~= false
	local f13_local6 = f13_arg2.isNumeric
	if not f13_local6 then
		f13_local6 = f13_arg2.isNumericEmpty or false
	end
	local f13_local7 = f13_arg2.isNumericEmpty or false
	local f13_local8 = f13_arg2.focusable ~= false
	local f13_local9 = f13_arg2.isPassword or false
	local f13_local10 = f13_arg2.isEmail or false
	local f13_local11 = f13_arg2.autoConfirmOnTab or false
	local f13_local12 = f13_arg2.autoConfirmOnOutsideClick or false
	local f13_local13 = f13_arg2.autoSelectAllOnActive or false
	local f13_local14 = f13_arg2.autoSetActiveOnCreation or false
	local f13_local15 = f13_arg2.alwaysSendTypingEvents or false
	local f13_local16
	if f13_arg2.autoHideShowPassword == nil then
		f13_local16 = true
	else
		f13_local16 = f13_arg2.autoHideShowPassword
	end
	if not f13_arg2.name then
		local f13_local17 = tostring( f13_arg2.defaultValue )
	end
	local f13_local18 = f13_arg2.min or 0
	local f13_local19 = f13_arg2.max or 1
	local f13_local20 = f13_arg2.scaleTextEditToFullSize ~= false
	local f13_local21 = assert
	local f13_local22
	if f13_local6 then
		f13_local22 = f13_arg2.max
	else
		f13_local22 = true
	end
	f13_local21( f13_local22, "No maximum value set for numeric EditBox" )
	f13_local21 = assert
	if f13_local6 and f13_arg2.min >= f13_arg2.max then
		f13_local22 = false
	else
		f13_local22 = true
	end
	f13_local21( f13_local22, "Min > Max for numeric EditBox." )
	f13_local21 = CoD.KeyboardInputTypes.Normal
	if f13_local7 then
		f13_local21 = CoD.KeyboardInputTypes.NumberEmpty
	elseif f13_local6 then
		f13_local21 = CoD.KeyboardInputTypes.Number
	elseif f13_local9 then
		f13_local21 = CoD.KeyboardInputTypes.Password
	elseif f13_local10 then
		f13_local21 = CoD.KeyboardInputTypes.Email
	end
	f13_arg0:setText( "" )
	f13_arg0._textEditingActive = false
	f13_arg0._firstInteraction = true
	f13_arg0.isDefault = true
	f13_arg0.defaultValue = f13_arg2.defaultValue
	f13_local22 = function ( f24_arg0 )
		return function ()
			if f24_arg0._textEditingActive then
				f24_arg0.textEdit:setTextEditActive( false )
				f24_arg0._textEditingActive = false
				if not f24_arg0.allowEmptyString and String.IsNilOrEmpty( f24_arg0.textEdit:getText() ) then
					f24_arg0.isDefault = true
					f24_arg0._firstInteraction = true
					f24_arg0.textEdit:setTextEditText( f24_arg0.defaultValue )
				end
			end
		end
		
	end
	
	f13_arg0.TextEditOff = f13_local22( f13_arg0 )
	f13_arg0._requireFocusType = f13_arg2.focusType
	f13_local22 = {
		controllerIndex = f13_arg1,
		maxLength = f13_local0,
		useAutoAlign = f13_local5,
		disableAfterEdit = f13_local1,
		isNumeric = f13_local6,
		isPassword = f13_local9,
		autoConfirmOnTab = f13_local11,
		autoConfirmOnOutsideClick = f13_local12,
		autoSelectAllOnActive = f13_local13,
		alwaysSendTypingEvents = f13_local15,
		autoHideShowPassword = f13_local16
	}
	local f13_local23 = MenuBuilder.BuildRegisteredType( "UITextEdit", f13_local22 )
	if f13_local20 then
		f13_local23:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	elseif IsLanguageArabic() then
		f13_local23:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 4 * _1080p, 30 * _1080p )
	else
		f13_local23:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 7 * _1080p, 27 * _1080p )
	end
	f13_local23.id = "textEdit"
	f13_arg0.textEdit = f13_local23
	f13_arg0.textEdit.isPassword = f13_local9
	if f13_local9 then
		f13_arg0:setAutoHidePassword( f13_local22.autoHideShowPassword )
		f13_arg0:setShowPassword( false )
		f13_arg0.textEdit._showPassword = false
		f13_arg0.textEdit.ShowPassword = function ( f23_arg0, f23_arg1 )
			f23_arg0._showPassword = f23_arg1
			f23_arg0:setShowPassword( f23_arg1 )
		end
		
	end
	f13_arg0:addElement( f13_local23 )
	f13_arg0.textEdit:SetFont( f13_arg2.font )
	f13_arg0.textEdit:SetAlignment( f13_arg2.alignment )
	f13_arg0.textEdit:setTextSelectionHighlightColor( f13_arg2.textSelectionColor.r, f13_arg2.textSelectionColor.g, f13_arg2.textSelectionColor.b, f13_arg2.textSelectionColor.a )
	f13_arg0.textEdit:addEventHandler( "menu_create", function ( f22_arg0, f22_arg1 )
		f22_arg0:setTextEditText( f13_arg0.defaultValue )
		if f13_arg0 and not LUI.IsLastInputGamepad( f13_arg0 ) then
			f22_arg0:setTextEditActive()
		end
	end )
	f13_arg0.SetButtonActionCallbackFunc = function ( f21_arg0, f21_arg1 )
		f21_arg0._buttonActionCallbackFunc = f21_arg1
	end
	
	f13_arg0.SetIsTypingCallbackFunc = function ( f20_arg0, f20_arg1 )
		f20_arg0._isTypingCallbackFunc = f20_arg1
	end
	
	f13_arg0.SetTextEditCompleteCallbackFunc = function ( f19_arg0, f19_arg1 )
		f19_arg0._textEditCompleteCallbackFunc = f19_arg1
	end
	
	local f13_local24 = function ( f18_arg0, f18_arg1 )
		if f18_arg0.isDefault and f18_arg1 and string.find( f13_arg0.defaultValue, f18_arg1 ) then
			f18_arg0.textEdit:setTextEditText( "" )
			f18_arg0.textEdit:setShowPassword( false )
		end
	end
	
	f13_arg0:addEventHandler( "button_action", function ( f16_arg0, f16_arg1 )
		local f16_local0 = f16_arg0.textEdit:getText()
		if f16_arg0._textEditingActive then
			f13_arg0( f16_arg0, f16_local0 )
			
		elseif f13_arg0 then
			f16_local0 = ""
		end
		if f13_arg0._firstInteraction then
			if not f13_arg0 then
				f16_local0 = ""
			end
			f13_arg0._firstInteraction = false
		end
		if not (not Engine[0xFB1B6E36ABE59B8]() or not LUI.IsLastInputGamepad( f16_arg1.controller )) or Dvar[0x9E5BE3B4BBA4E0E]( 0x7298380DBA69011 ) then
			LUI.UIRoot.BlockButtonInput( Engine[0xEE6F69FEA944B13](), true )
			local f16_local1 = function ( f17_arg0, f17_arg1, f17_arg2 )
				LUI.UIRoot.BlockButtonInput( f16_arg0, false )
				local f17_local0 = f16_arg0
				local f17_local1
				if f17_arg1 ~= "" and (f17_arg1 ~= nil or f16_arg0 ~= "") then
					f17_local1 = false
				else
					f17_local1 = true
				end
				f17_local0.isDefault = f17_local1
				if f16_arg0 then
					if tonumber( f17_arg1 ) ~= nil then
						f17_arg1 = tostring( LUI.clamp( tonumber( f17_arg1 ), f16_arg0, f16_arg0 ) )
					else
						f17_arg1 = f16_arg0
					end
				end
				if f16_arg0.isDefault then
					f17_arg1 = f16_arg0.defaultValue
					f16_arg0._firstInteraction = true
				elseif not f17_arg1 or not f17_arg1 then
					f17_arg1 = f16_arg0
				end
				if f16_arg0._textEditCompleteCallbackFunc then
					f16_arg0.text = f17_arg1
					f16_arg0.isDefault = f16_arg0.isDefault
					f16_arg0.cancelled = f17_arg2 == CoD.KeyboardResult.UI_KEYBOARD_RESULT_CANCELLED
					f16_arg0.isOSK = true
					f16_arg0:_textEditCompleteCallbackFunc( f16_arg0 )
				end
				f16_arg0.textEdit:setTextEditText( f17_arg1 )
				if f16_arg0.isPassword then
					f16_arg0.textEdit:setShowPassword( f16_arg0.isDefault )
				end
				f16_arg0._textEditingActive = false
			end
			
			if f13_arg0.isPassword then
				f16_arg0.textEdit:setShowPassword( f16_arg0.isDefault )
			end
			if f13_arg0.nameSystem then
				OSK[0x9E95BADA4D54835]( f16_arg1.controller, f13_arg0, f13_arg0.nameSystem, f16_local0, f13_arg0.maxLength, f13_arg0, f13_arg0, f13_arg0, f16_local1, f13_arg0 )
			else
				OSK[0xC1C15C14B75864C]( f16_arg1.controller, f13_arg0, f16_local0, f13_arg0.maxLength, f13_arg0, f13_arg0, f13_arg0, f16_local1, f13_arg0 )
			end
			if f13_arg0 then
				f16_arg0.textEdit:setShowPassword( f16_arg0.isDefault )
			end
		end
		f16_arg0.textEdit:setTextEditActive()
		f16_arg0._textEditingActive = true
		if f16_arg0._buttonActionCallbackFunc then
			f16_arg0._buttonActionCallbackFunc()
		end
		f13_arg0( f16_arg0, f16_local0 )
		return true
	end )
	f13_arg0:addEventHandler( "text_edit_complete", function ( f15_arg0, f15_arg1 )
		if f15_arg0._textEditingActive and f15_arg1.active then
			f15_arg0:TextEditOff()
			if f15_arg0._textEditCompleteCallbackFunc then
				f15_arg1.text = f15_arg0.textEdit:getText()
				f15_arg1.isDefault = f15_arg0.isDefault
				f15_arg0:_textEditCompleteCallbackFunc( f15_arg1 )
			end
		end
	end )
	f13_arg0:addEventHandler( "text_edit_is_typing", function ( f14_arg0, f14_arg1 )
		if f14_arg0._textEditingActive then
			f14_arg0.isDefault = false
			if f14_arg0._isTypingCallbackFunc then
				f14_arg0._isTypingCallbackFunc( f14_arg1.isTyping, f14_arg1.text )
			end
			if f14_arg0._isTypingCallbackInternalFunc then
				f14_arg0._isTypingCallbackInternalFunc( f14_arg1.isTyping, f14_arg1.text )
			end
		end
	end )
end

LUI.AddGenericEditBoxWidgetLogic = function ( f12_arg0, f12_arg1, f12_arg2 )
	local f12_local0 = SWATCHES.HUD.highlight
	local f12_local1 = {
		a = 5.330852272E-315,
		r = f12_local0.r * 255,
		g = f12_local0.g * 255,
		b = f12_local0.b * 255
	}
	local f12_local2 = LUI.Alignment.Left
	if IsLanguageRightToLeft( GetCurrentLanguage() ) then
		f12_local2 = LUI.Alignment.Right
	end
	if not f12_arg2 then
		f12_arg2 = {}
	end
	f12_arg2.font = f12_arg2.font and f12_arg2.font or FONTS.GetFont( FONTS.BattleNetRegular.File )
	f12_arg2.alignment = f12_arg2.alignment and f12_arg2.alignment or f12_local2
	f12_arg2.focusType = f12_arg2.focusType and f12_arg2.focusType or FocusType.MouseOver
	f12_arg2.defaultValue = f12_arg2.defaultValue and f12_arg2.defaultValue or f12_arg0.Text:getText()
	f12_arg2.textSelectionColor = f12_arg2.textSelectionColor and f12_arg2.textSelectionColor or f12_local1
	f12_arg2.autoConfirmOnTab = true
	f12_arg2.autoSelectAllOnActive = true
	f12_arg2.autoConfirmOnOutsideClick = true
	LUI.AddEditBoxLogic( f12_arg0.Text, f12_arg1, f12_arg2 )
end

LUI.AddEditBoxOptionLogic = function ( f1_arg0, f1_arg1, f1_arg2 )
	f1_arg0._name = f1_arg2.name
	f1_arg0._textSelectionColor = f1_arg2.textSelectionColor
	f1_arg0._valueGetter = f1_arg2.valueGetter
	f1_arg0._onRefresh = f1_arg2.onRefresh
	f1_arg0._onReset = f1_arg2.onReset
	f1_arg0._defaultValueGetter = f1_arg2.defaultValueGetter
	f1_arg0._onDependencyParentRefresh = f1_arg2.onDependencyParentRefresh
	f1_arg0._applyable = false
	f1_arg0._updateDuration = f1_arg2.updateDuration or 0
	f1_arg0.UpdateContent = UpdateContent
	assert( f1_arg2.action )
	f1_arg0.action = f1_arg2.action
	f1_arg0._currentValue = f1_arg2.defaultValue or ""
	local f1_local0 = function ( f11_arg0, f11_arg1, f11_arg2, f11_arg3 )
		local f11_local0 = f11_arg0._currentValue
		f11_arg0._currentValue = f11_arg1
		if f11_arg3 then
			f11_arg0._explicitValue = f11_arg1
		end
		if not f11_arg0._applyable and f11_local0 ~= f11_arg1 then
			f11_arg0.action( f11_arg0._currentValue, f11_arg2 )
		end
		f11_arg0:UpdateContent()
		if f11_arg0._onRefresh then
			f11_arg0:_onRefresh( f11_arg2, f11_arg0._currentValue, f11_arg3 )
		end
	end
	
	local f1_local1 = function ( f10_arg0 )
		f10_arg0.EditBox.Text.textEdit:setTextEditText( f10_arg0._currentValue )
	end
	
	f1_arg0.SetCurrentValue = function ( f9_arg0, f9_arg1, f9_arg2 )
		f1_arg0( f9_arg0, f9_arg1, f1_arg0, f9_arg2 )
	end
	
	LUI.AddEditBoxLogic( f1_arg0.EditBox.Text, f1_arg1, {
		autoSelectAllOnActive = true,
		autoConfirmOnOutsideClick = true,
		isNumeric = false,
		isPassword = false,
		autoConfirmOnTab = true,
		isNumericEmpty = false,
		useAutoAlign = true,
		alignment = LUI.Alignment.Left,
		focusType = FocusType.MouseOver,
		font = CoD.TextSettings.SmallFont.Font,
		defaultValue = f1_arg0._currentValue,
		textSelectionColor = f1_arg0._textSelectionColor,
		name = f1_arg0._name
	} )
	f1_arg0.EditBox:SetAsEditBoxHandler( true )
	f1_arg0.EditBox.Text:SetTextEditCompleteCallbackFunc( function ( f8_arg0, f8_arg1 )
		local f8_local0 = ""
		if not f8_arg1.cancelled then
			local f8_local1 = f8_arg1.text
			if not f8_local1 then
				f8_local0 = f8_local1
			else
				f8_local0 = ""
			end
		end
		f8_arg0:dispatchEventToParent( {
			name = "option_edit_box_complete",
			newValue = f8_local0
		} )
	end )
	f1_arg0:SetCurrentValue( f1_arg0._currentValue )
	if f1_arg0._initialized then
		return true
	elseif not f1_arg0.bindButton then
		local self = LUI.UIBindButton.new()
		self.id = "selfBindButton"
		f1_arg0:addElement( self )
		f1_arg0.bindButton = self
	end
	f1_arg0._initialized = true
	f1_arg0:addEventHandler( "option_edit_box_complete", function ( f7_arg0, f7_arg1 )
		f7_arg0:SetCurrentValue( f7_arg1.newValue, true )
	end )
	f1_arg0:addEventHandler( "refresh_values", function ( f6_arg0, f6_arg1 )
		f6_arg0:SetCurrentValue( f6_arg0._currentValue )
		return true
	end )
	f1_arg0:addEventHandler( "reset_value", function ( f5_arg0, f5_arg1 )
		if f5_arg0._defaultValueGetter and not f5_arg0.disabled and not f5_arg0._applyable then
			f5_arg0:SetCurrentValue( tonumber( f5_arg0._defaultValueGetter( f5_arg1.controllerIndex or f1_arg0 ) ), true )
			f5_arg0:_onReset( f5_arg1.controllerIndex )
		end
	end )
	f1_arg0:addEventHandler( "apply_value", function ( f4_arg0, f4_arg1 )
		if f4_arg0._applyable then
			
		else
			
		end
	end )
	f1_arg0:addEventHandler( "parent_value_changed", function ( f3_arg0, f3_arg1 )
		if f3_arg0._onDependencyParentRefresh then
			local f3_local0 = f3_arg0:_onDependencyParentRefresh( f3_arg1.controllerIndex or f1_arg0, f3_arg0._currentValue, f3_arg1.parentId, f3_arg1.parentValue )
			if f3_local0 == true then
				f3_arg0:_onRefresh( f3_arg1.controllerIndex, f3_arg0._currentValue )
			elseif f3_local0 ~= nil then
				f3_arg0:SetCurrentValue( f3_local0 )
			end
		end
	end )
	f1_arg0:addEventHandler( "refresh_option", function ( f2_arg0, f2_arg1 )
		f2_arg0:_onRefresh( f2_arg1.controllerIndex, f2_arg0._currentValue )
	end )
end

