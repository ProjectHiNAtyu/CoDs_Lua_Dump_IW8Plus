-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:52
module( ..., package.seeall )
local f0_local0 = 106
local f0_local1 = 12
local f0_local2 = 12
local f0_local3 = 537
local f0_local4 = function ( f13_arg0, f13_arg1 )
	for f13_local6, f13_local7 in pairs( f13_arg0.ContainersList ) do
		if f13_local7 ~= f13_arg0.RigContainer then
			local f13_local3 = f13_local7
			local f13_local4 = f13_local7.SetAlpha
			local f13_local5
			if f13_arg1 then
				f13_local5 = 1
			else
				f13_local5 = 0
			end
			f13_local4( f13_local3, f13_local5 )
		end
	end
end

local f0_local5 = function ( f12_arg0, f12_arg1, f12_arg2 )
	if f12_arg1 then
		local f12_local0 = Game.CJDDHJBCCI()
		local f12_local1 = Game.DBACJGFHDD()
		local f12_local2 = MLG.ShoutcasterProfileVarBool( f12_arg2, "shoutcaster_lo_specialist" )
		if f12_local2 then
			f12_arg1 = f12_local2
		else
			f12_local2 = MLG.ShoutcasterProfileVarBool( f12_arg0._controllerIndex, "shoutcaster_qs_playercard" )
			if f12_local2 then
				f12_arg1 = f12_local2
			else
				f12_arg1 = f12_local0 ~= f12_local1
			end
		end
	end
	local f12_local0 = f12_arg0.RigContainer
	local f12_local2 = f12_local0
	f12_local0 = f12_local0.SetAlpha
	local f12_local3
	if f12_arg1 then
		f12_local3 = 1
	else
		f12_local3 = 0
	end
	f12_local0( f12_local2, f12_local3 )
end

local f0_local6 = function ( f11_arg0 )
	if f11_arg0.lastFocusedContainerId ~= f11_arg0.RigContainer.id and (f11_arg0.lastFocusedContainerId == nil or f11_arg0.ContainersList[f11_arg0.lastFocusedContainerId].containerIsVisible == false) then
		for f11_local3, f11_local4 in ipairs( f11_arg0.ContainersListOrder ) do
			local f11_local5 = f11_arg0.ContainersList[f11_local4]
			if f11_local5.containerIsVisible then
				f11_arg0.lastFocusedContainerId = f11_local5.id
				break
			end
		end
	end
	if f11_arg0.lastFocusedContainerId ~= nil then
		ACTIONS.GainFocus( f11_arg0, f11_arg0.lastFocusedContainerId, controllerIndex )
		f11_arg0.ContainersList[f11_arg0.lastFocusedContainerId]:UpdateItemInfo()
	end
end

local f0_local7 = function ( f10_arg0 )
	for f10_local3, f10_local4 in pairs( f10_arg0.ContainersList ) do
		if f10_local4:isInFocus() then
			f10_arg0.lastFocusedContainerId = f10_local4.id
			break
		end
	end
	if f10_arg0.lastFocusedContainerId then
		ACTIONS.LoseFocus( f10_arg0, f10_arg0.lastFocusedContainerId, controllerIndex )
		f10_arg0.ContainersList[f10_arg0.lastFocusedContainerId]:UpdateItemInfo()
	end
end

local f0_local8 = function ( f9_arg0, f9_arg1, f9_arg2 )
	local f9_local0
	if not f9_arg2 then
		f9_local0 = f9_arg2
	else
		f9_local0 = Game.CJDDHJBCCI()
	end
	local f9_local1 = Game.DHEDEIHGF( f9_local0 )
	local f9_local2 = 0
	if f9_local1 == Teams.allies then
		f9_local2, _ = CODCASTER.GetTeam1Color( f9_arg0._controllerIndex )
	elseif f9_local1 == Teams.axis then
		f9_local2, _ = CODCASTER.GetTeam2Color( f9_arg0._controllerIndex )
	end
	local f9_local3 = MLG.BFBHGHFAEE( f9_local0 )
	local f9_local4 = f9_local3.archetypeIndex
	local f9_local5 = {}
	local f9_local6 = {}
	local f9_local7 = MLG.ShoutcasterProfileVarBool( f9_arg0._controllerIndex, "shoutcaster_lo_specialist" )
	if f9_local7 then
		f9_local7 = MLG.ShoutcasterProfileVarBool( f9_arg0._controllerIndex, "shoutcaster_qs_playercard" )
	end
	if f9_local7 and MLG.ShoutcasterProfileVarBool( f9_arg0._controllerIndex, "shoutcaster_qs_playercard" ) and f9_local4 ~= nil then
		local f9_local8 = StringTable.DIFCHIGDFB( CSV.battleRigs.file, CSV.battleRigs.cols.index, f9_local4, CSV.battleRigs.cols.headshot )
		local f9_local9 = StringTable.DIFCHIGDFB( CSV.battleRigs.file, CSV.battleRigs.cols.index, f9_local4, CSV.battleRigs.cols.name )
		if f9_local8 ~= "" then
			table.insert( f9_local5, f9_local8 )
			table.insert( f9_local6, f9_local9 )
		end
	end
	local f9_local8 = Dvar.DHEEJCCJBH( "MOLPOSLOMO" )
	local f9_local9 = {}
	local f9_local10 = {}
	if MLG.ShoutcasterProfileVarBool( f9_arg0._controllerIndex, "shoutcaster_lo_specialist_weapon" ) and f9_local8 ~= "gun" then
		local f9_local11 = f9_local3.superIndex
		if f9_local11 ~= nil then
			local f9_local12 = StringTable.CBGJCDIHCE( CSV.supers.file, f9_local11, CSV.supers.cols.uiImageSmall )
			local f9_local13 = StringTable.CBGJCDIHCE( CSV.supers.file, f9_local11, CSV.supers.cols.uiName )
			if f9_local12 ~= "" then
				table.insert( f9_local9, f9_local12 )
				table.insert( f9_local10, f9_local13 )
			end
		end
		local f9_local12 = f9_local3.rigTraitIndex
		if f9_local12 ~= 0 then
			local f9_local13 = StringTable.DIFCHIGDFB( CSV.perks.file, CSV.perks.cols.index, f9_local12, CSV.perks.cols.image )
			local f9_local14 = StringTable.DIFCHIGDFB( CSV.perks.file, CSV.perks.cols.index, f9_local12, CSV.perks.cols.name )
			if f9_local13 ~= "" then
				table.insert( f9_local9, f9_local13 )
				table.insert( f9_local10, f9_local14 )
			end
		end
	end
	local f9_local11 = f9_local3.weaponName_1
	local f9_local12 = {}
	local f9_local13 = {}
	if MLG.ShoutcasterProfileVarBool( f9_arg0._controllerIndex, "shoutcaster_lo_primary" ) and f9_local8 ~= "gun" and f9_local11 ~= nil then
		local f9_local15 = StringTable.DIFCHIGDFB( CSV.MPWeapons.file, CSV.MPWeapons.cols.asset, f9_local11, CSV.MPWeapons.cols.image )
		local f9_local16 = StringTable.DIFCHIGDFB( CSV.MPWeapons.file, CSV.MPWeapons.cols.asset, f9_local11, CSV.MPWeapons.cols.name )
		if f9_local15 ~= "" and f9_local16 ~= "MENU/NONE" and f9_local16 ~= "WEAPON/FISTS" then
			table.insert( f9_local12, f9_local15 )
			table.insert( f9_local13, f9_local16 )
		end
	end
	local f9_local15 = f9_local3.weaponName_2
	local f9_local16 = {}
	local f9_local17 = {}
	if MLG.ShoutcasterProfileVarBool( f9_arg0._controllerIndex, "shoutcaster_lo_secondary" ) and f9_local8 ~= "gun" and f9_local15 ~= nil then
		local f9_local18 = StringTable.DIFCHIGDFB( CSV.MPWeapons.file, CSV.MPWeapons.cols.asset, f9_local15, CSV.MPWeapons.cols.image )
		local f9_local19 = StringTable.DIFCHIGDFB( CSV.MPWeapons.file, CSV.MPWeapons.cols.asset, f9_local15, CSV.MPWeapons.cols.name )
		if f9_local18 ~= "" and f9_local19 ~= "MENU/NONE" and f9_local19 ~= "WEAPON/FISTS" then
			table.insert( f9_local16, f9_local18 )
			table.insert( f9_local17, f9_local19 )
		end
	end
	local f9_local18 = {}
	local f9_local19 = {}
	if MLG.ShoutcasterProfileVarBool( f9_arg0._controllerIndex, "shoutcaster_lo_equipment" ) and f9_local8 ~= "gun" then
		local f9_local20 = f9_local3.primaryPowerIndex
		if f9_local20 ~= 0 then
			local f9_local21 = StringTable.DIFCHIGDFB( CSV.MPpowers.file, CSV.MPpowers.cols.index, f9_local20, CSV.MPpowers.cols.image )
			local f9_local22 = StringTable.DIFCHIGDFB( CSV.MPpowers.file, CSV.MPpowers.cols.index, f9_local20, CSV.MPpowers.cols.name )
			if f9_local21 ~= "" then
				table.insert( f9_local18, f9_local21 )
				table.insert( f9_local19, f9_local22 )
			end
		end
		local f9_local21 = f9_local3.secondaryPowerIndex
		if f9_local21 ~= 0 then
			local f9_local22 = StringTable.DIFCHIGDFB( CSV.MPpowers.file, CSV.MPpowers.cols.index, f9_local21, CSV.MPpowers.cols.image )
			local f9_local23 = StringTable.DIFCHIGDFB( CSV.MPpowers.file, CSV.MPpowers.cols.index, f9_local21, CSV.MPpowers.cols.name )
			if f9_local22 ~= "" then
				table.insert( f9_local18, f9_local22 )
				table.insert( f9_local19, f9_local23 )
			end
		end
	end
	local f9_local20 = {}
	local f9_local21 = {}
	if MLG.ShoutcasterProfileVarBool( f9_arg0._controllerIndex, "shoutcaster_lo_perks" ) and f9_local8 ~= "gun" then
		local f9_local23 = 3
		for f9_local24 = 1, f9_local23, 1 do
			local f9_local27 = f9_local3[f9_local24 .. "_perkIndex"]
			if f9_local27 ~= 0 then
				local f9_local28 = StringTable.DIFCHIGDFB( CSV.perks.file, CSV.perks.cols.index, f9_local27, CSV.perks.cols.image )
				local f9_local29 = StringTable.DIFCHIGDFB( CSV.perks.file, CSV.perks.cols.index, f9_local27, CSV.perks.cols.name )
				table.insert( f9_local20, f9_local28 )
				table.insert( f9_local21, f9_local29 )
			end
			local f9_local28 = f9_local3[f9_local24 .. "_extraPerkIndex"]
			if f9_local28 ~= 0 then
				local f9_local29 = StringTable.DIFCHIGDFB( CSV.perks.file, CSV.perks.cols.index, f9_local28, CSV.perks.cols.image )
				local f9_local30 = StringTable.DIFCHIGDFB( CSV.perks.file, CSV.perks.cols.index, f9_local28, CSV.perks.cols.name )
				table.insert( f9_local20, f9_local29 )
				table.insert( f9_local21, f9_local30 )
			end
		end
	end
	local f9_local23 = tonumber( f9_local3.weaponAttachmentCount_1 )
	local f9_local24 = {}
	local f9_local25 = {}
	if MLG.ShoutcasterProfileVarBool( f9_arg0._controllerIndex, "shoutcaster_lo_primary_attachment" ) and f9_local8 ~= "gun" then
		for f9_local31 = 1, f9_local23, 1 do
			local f9_local30 = StringTable.DIFCHIGDFB( CSV.MPAttachments.file, CSV.MPAttachments.cols.ref, f9_local3["weapon_1_attachment_" .. f9_local31], CSV.MPAttachments.cols.image )
			local f9_local32 = StringTable.DIFCHIGDFB( CSV.MPAttachments.file, CSV.MPAttachments.cols.ref, f9_local3["weapon_1_attachment_" .. f9_local31], CSV.MPAttachments.cols.name )
			if f9_local30 ~= "" then
				table.insert( f9_local24, f9_local30 )
				table.insert( f9_local25, f9_local32 )
			end
		end
	end
	local f9_local31 = tonumber( f9_local3.weaponAttachmentCount_2 )
	local f9_local27 = {}
	local f9_local28 = {}
	if MLG.ShoutcasterProfileVarBool( f9_arg0._controllerIndex, "shoutcaster_lo_secondary_attachment" ) and f9_local8 ~= "gun" then
		for f9_local30 = 1, f9_local31, 1 do
			local f9_local34 = StringTable.DIFCHIGDFB( CSV.MPAttachments.file, CSV.MPAttachments.cols.ref, f9_local3["weapon_2_attachment_" .. f9_local30], CSV.MPAttachments.cols.image )
			local f9_local35 = StringTable.DIFCHIGDFB( CSV.MPAttachments.file, CSV.MPAttachments.cols.ref, f9_local3["weapon_2_attachment_" .. f9_local30], CSV.MPAttachments.cols.name )
			if f9_local34 ~= "" then
				table.insert( f9_local27, f9_local34 )
				table.insert( f9_local28, f9_local35 )
			end
		end
	end
	f9_arg0.ContainersImagesList = {}
	f9_arg0.ContainersImagesList[f9_arg0.RigContainer.id] = {
		small = false,
		assets = f9_local5,
		names = f9_local6,
		size = f0_local0
	}
	f9_arg0.ContainersImagesList[f9_arg0.RigPowerContainer.id] = {
		small = true,
		assets = f9_local9,
		names = f9_local10,
		size = f0_local0
	}
	f9_arg0.ContainersImagesList[f9_arg0.PrimaryWeaponContainer.id] = {
		small = false,
		assets = f9_local12,
		names = f9_local13,
		size = f0_local0 * 2
	}
	f9_arg0.ContainersImagesList[f9_arg0.PrimaryWeaponAttachmentsContainer.id] = {
		small = true,
		assets = f9_local24,
		names = f9_local25,
		size = f0_local0
	}
	f9_arg0.ContainersImagesList[f9_arg0.SecondaryWeaponContainer.id] = {
		small = false,
		assets = f9_local16,
		names = f9_local17,
		size = f0_local0 * 2
	}
	f9_arg0.ContainersImagesList[f9_arg0.SecondaryWeaponAttachmentsContainer.id] = {
		small = true,
		assets = f9_local27,
		names = f9_local28,
		size = f0_local0
	}
	f9_arg0.ContainersImagesList[f9_arg0.GrenadesContainer.id] = {
		small = true,
		assets = f9_local18,
		names = f9_local19,
		size = f0_local0
	}
	f9_arg0.ContainersImagesList[f9_arg0.PerksContainer.id] = {
		small = true,
		assets = f9_local20,
		names = f9_local21,
		size = f0_local0
	}
	local f9_local30 = f0_local0
	for f9_local34, f9_local35 in ipairs( f9_arg0.ContainersListOrder ) do
		local f9_local39 = f9_arg0.ContainersList[f9_local35]
		local f9_local37 = f9_arg1
		f9_local39:SetLeft( _1080p * f9_local30 )
		local f9_local40 = f9_arg0.ContainersImagesList[f9_local35]
		local f9_local38 = f0_local0
		local f9_local41 = f0_local0
		if f9_local35 == "RigContainer" then
			f9_local37 = true
			f9_local38 = 0
		end
		if f9_local37 then
			f9_local30 = f9_local30 + f9_local39:UpdateContainer( f0_local0, f9_local40.assets, f9_local40.names, f9_local40.size, f9_local40.small, f9_local38, f9_local41, f9_local2 )
		end
	end
end

function ProcessDpadButtonEvent( f8_arg0, f8_arg1 )
	f8_arg0:processEvent( f8_arg1 )
	for f8_local3, f8_local4 in pairs( f8_arg0.ContainersList ) do
		f8_local4:UpdateItemInfo()
	end
end

local f0_local9 = function ( f3_arg0 )
	f3_arg0:RegisterAnimationSequence( "MoveDown", {
		{
			function ()
				return f3_arg0:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -960, _1080p * 960, _1080p * 0, _1080p * 1080, 0 )
			end,
			function ()
				return f3_arg0:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -960, _1080p * 960, _1080p * 30, _1080p * 1110, 150 )
			end
		}
	} )
	f3_arg0:RegisterAnimationSequence( "MoveUp", {
		{
			function ()
				return f3_arg0:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -960, _1080p * 960, _1080p * 0, _1080p * 1080, 0 )
			end,
			function ()
				return f3_arg0:SetAnchorsAndPosition( 0.5, 0.5, 0, 1, _1080p * -960, _1080p * 960, _1080p * -30, _1080p * 1050, 150 )
			end
		}
	} )
end

local f0_local10 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f0_local0( f2_arg0 )
	f2_arg0.SetLoadoutVisibility = f0_local0
	f2_arg0.SetRigContainerVisibility = f0_local0
	f2_arg0.UpdateLoadout = f0_local0
	f2_arg0.ProcessDpadButtonEvent = ProcessDpadButtonEvent
	f2_arg0.LoadoutGainFocus = f0_local0
	f2_arg0.LoadoutLoseFocus = f0_local0
	f2_arg0._controllerIndex = f2_arg1
	f2_arg0.RigContainer:SetUnselectable()
	f2_arg0.ContainersList = {
		[f2_arg0.RigContainer.id] = f2_arg0.RigContainer,
		[f2_arg0.RigPowerContainer.id] = f2_arg0.RigPowerContainer,
		[f2_arg0.PrimaryWeaponContainer.id] = f2_arg0.PrimaryWeaponContainer,
		[f2_arg0.PrimaryWeaponAttachmentsContainer.id] = f2_arg0.PrimaryWeaponAttachmentsContainer,
		[f2_arg0.SecondaryWeaponContainer.id] = f2_arg0.SecondaryWeaponContainer,
		[f2_arg0.SecondaryWeaponAttachmentsContainer.id] = f2_arg0.SecondaryWeaponAttachmentsContainer,
		[f2_arg0.GrenadesContainer.id] = f2_arg0.GrenadesContainer,
		[f2_arg0.PerksContainer.id] = f2_arg0.PerksContainer
	}
	f2_arg0.ContainersListOrder = {
		f2_arg0.RigContainer.id,
		f2_arg0.RigPowerContainer.id,
		f2_arg0.PrimaryWeaponContainer.id,
		f2_arg0.PrimaryWeaponAttachmentsContainer.id,
		f2_arg0.SecondaryWeaponContainer.id,
		f2_arg0.SecondaryWeaponAttachmentsContainer.id,
		f2_arg0.GrenadesContainer.id,
		f2_arg0.PerksContainer.id
	}
end

function CodCasterLoadout( menu, controller )
	local self = LUI.UIHorizontalNavigator.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "CodCasterLoadout"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local RigContainer = nil
	
	RigContainer = MenuBuilder.BuildRegisteredType( "CodCasterLoadoutItemContainer", {
		controllerIndex = f1_local1
	} )
	RigContainer.id = "RigContainer"
	RigContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 537, _1080p * 643, _1080p * 884, _1080p * 990 )
	self:addElement( RigContainer )
	self.RigContainer = RigContainer
	
	local RigPowerContainer = nil
	
	RigPowerContainer = MenuBuilder.BuildRegisteredType( "CodCasterLoadoutItemContainer", {
		controllerIndex = f1_local1
	} )
	RigPowerContainer.id = "RigPowerContainer"
	RigPowerContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 643, _1080p * 749, _1080p * 884, _1080p * 990 )
	self:addElement( RigPowerContainer )
	self.RigPowerContainer = RigPowerContainer
	
	local PrimaryWeaponContainer = nil
	
	PrimaryWeaponContainer = MenuBuilder.BuildRegisteredType( "CodCasterLoadoutItemContainer", {
		controllerIndex = f1_local1
	} )
	PrimaryWeaponContainer.id = "PrimaryWeaponContainer"
	PrimaryWeaponContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 749, _1080p * 855, _1080p * 884, _1080p * 990 )
	self:addElement( PrimaryWeaponContainer )
	self.PrimaryWeaponContainer = PrimaryWeaponContainer
	
	local PrimaryWeaponAttachmentsContainer = nil
	
	PrimaryWeaponAttachmentsContainer = MenuBuilder.BuildRegisteredType( "CodCasterLoadoutItemContainer", {
		controllerIndex = f1_local1
	} )
	PrimaryWeaponAttachmentsContainer.id = "PrimaryWeaponAttachmentsContainer"
	PrimaryWeaponAttachmentsContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 855, _1080p * 961, _1080p * 884, _1080p * 990 )
	self:addElement( PrimaryWeaponAttachmentsContainer )
	self.PrimaryWeaponAttachmentsContainer = PrimaryWeaponAttachmentsContainer
	
	local SecondaryWeaponContainer = nil
	
	SecondaryWeaponContainer = MenuBuilder.BuildRegisteredType( "CodCasterLoadoutItemContainer", {
		controllerIndex = f1_local1
	} )
	SecondaryWeaponContainer.id = "SecondaryWeaponContainer"
	SecondaryWeaponContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 961, _1080p * 1067, _1080p * 884, _1080p * 990 )
	self:addElement( SecondaryWeaponContainer )
	self.SecondaryWeaponContainer = SecondaryWeaponContainer
	
	local SecondaryWeaponAttachmentsContainer = nil
	
	SecondaryWeaponAttachmentsContainer = MenuBuilder.BuildRegisteredType( "CodCasterLoadoutItemContainer", {
		controllerIndex = f1_local1
	} )
	SecondaryWeaponAttachmentsContainer.id = "SecondaryWeaponAttachmentsContainer"
	SecondaryWeaponAttachmentsContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1067, _1080p * 1173, _1080p * 884, _1080p * 990 )
	self:addElement( SecondaryWeaponAttachmentsContainer )
	self.SecondaryWeaponAttachmentsContainer = SecondaryWeaponAttachmentsContainer
	
	local GrenadesContainer = nil
	
	GrenadesContainer = MenuBuilder.BuildRegisteredType( "CodCasterLoadoutItemContainer", {
		controllerIndex = f1_local1
	} )
	GrenadesContainer.id = "GrenadesContainer"
	GrenadesContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1173, _1080p * 1279, _1080p * 884, _1080p * 990 )
	self:addElement( GrenadesContainer )
	self.GrenadesContainer = GrenadesContainer
	
	local PerksContainer = nil
	
	PerksContainer = MenuBuilder.BuildRegisteredType( "CodCasterLoadoutItemContainer", {
		controllerIndex = f1_local1
	} )
	PerksContainer.id = "PerksContainer"
	PerksContainer:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 1279, _1080p * 1385, _1080p * 884, _1080p * 990 )
	self:addElement( PerksContainer )
	self.PerksContainer = PerksContainer
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "CodCasterLoadout", CodCasterLoadout )
LockTable( _M )
