-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
TAB = TAB or {}
TAB.MP = {
	OPERATORS = 3,
	PLAY = 0,
	WEAPONS = 1,
	STORE = 6,
	BATTLE_PASS = 5,
	BARRACKS = 4,
	CHALLENGES = 2
}
TAB.VISIBILITY = {
	HIDDEN = 1,
	STANDARD = 3,
	COUNT = 4,
	DISABLED = 2
}
TAB.CURRENT_PROJECT = ""
TAB.TAB_VISIBILITY_DATA = {}
local f0_local0 = function ()
	local f47_local0 = Engine[0x47E265B6CAD4442]()
	if (f47_local0 ~= TAB.CURRENT_PROJECT) or not TAB.TAB_VISIBILITY_DATA or LUI.IsTableEmpty( TAB.TAB_VISIBILITY_DATA ) then
		local f47_local1 = Game[0x83E0D59EFF44E21]()
		local f47_local2 = f47_local1[0x481F8E762C256C8]
		local f47_local3 = TAB
		local f47_local4
		if f47_local2 then
			f47_local4 = Engine[0x6093D047200548]( "tabsvisibilitylist:" .. f47_local2 )
			f47_local4 = f47_local4[0xF74FC4E28076E41]
			if not f47_local4 then
			
			else
				f47_local3.TAB_VISIBILITY_DATA = f47_local4
			end
		end
		f47_local4 = {}
	end
	TAB.CURRENT_PROJECT = f47_local0
end

TAB.IsTabVisibleForCurrentProject = function ( f46_arg0, f46_arg1 )
	local f46_local0
	if f46_arg1 then
		f46_local0 = f46_arg1
	else
		f46_local0 = Dvar[0x22EAAB59AA27E9B]( f46_arg1 )
	end
	if f46_local0 and 0 < f46_local0 then
		assert( f46_local0 < TAB.VISIBILITY.COUNT )
		return f46_local0 ~= 1
	end
	f0_local0()
	for f46_local4, f46_local5 in pairs( TAB.TAB_VISIBILITY_DATA ) do
		if f46_local5[0x7316C29B3857581] == f46_arg0 then
			return TAB.VISIBILITY[f46_local5[0x12B4B435E30C025]] ~= 2
		end
	end
	return true
end

TAB.IsTabEnabledForCurrentProject = function ( f45_arg0, f45_arg1 )
	local f45_local0
	if f45_arg1 then
		f45_local0 = f45_arg1
	else
		f45_local0 = Dvar[0x22EAAB59AA27E9B]( f45_arg1 )
	end
	if f45_local0 and 0 < f45_local0 then
		return f45_local0 == 3
	end
	f0_local0()
	for f45_local4, f45_local5 in pairs( TAB.TAB_VISIBILITY_DATA ) do
		if f45_local5[0x7316C29B3857581] == f45_arg0 then
			return TAB.VISIBILITY[f45_local5[0x12B4B435E30C025]] == 0
		end
	end
	return true
end

TAB.GetTabState = function ( f44_arg0, f44_arg1 )
	local f44_local0
	if f44_arg1 then
		f44_local0 = f44_arg1
	else
		f44_local0 = Dvar[0x22EAAB59AA27E9B]( f44_arg1 )
	end
	if f44_local0 and 0 < f44_local0 then
		assert( f44_local0 < TAB.VISIBILITY.COUNT )
		return f44_local0
	end
	f0_local0()
	for f44_local4, f44_local5 in pairs( TAB.TAB_VISIBILITY_DATA ) do
		if f44_local5[0x7316C29B3857581] == f44_arg0 then
			return TAB.VISIBILITY[f44_local5[0x12B4B435E30C025]]
		end
	end
	return TAB.VISIBILITY.STANDARD
end

TAB.GetCustomizeTabState = function ()
	return TAB.GetTabState( 0x8C7C7D1D26210B8, 0x12931D0965AD132 )
end

TAB.GetWeaponTabState = function ()
	return TAB.GetTabState( 0x1CBD901B87FABB6, CONDITIONS.IsMagmaGameMode() and 0xB24C22DBE01D134 or 0xDC94B0E5BDE1A0 )
end

TAB.GetOperatorsTabState = function ()
	return TAB.GetTabState( 0x68ECE5C04FE522A, 0x743D389CA478924 )
end

TAB.GetBattlemapTabState = function ()
	if CONDITIONS.IsWeGameGovBanned() then
		return TAB.VISIBILITY.HIDDEN
	else
		return TAB.GetTabState( 0xC5D758624C9B051, 0x4F5DC89723EA614 )
	end
end

TAB.GetBarracksTabState = function ()
	if CONDITIONS.IsWeGameGovBanned() or CONDITIONS.IsDMZMatch() then
		return TAB.VISIBILITY.HIDDEN
	else
		return TAB.GetTabState( 0xF0DA1D954A14EBE, 0x2100A0DA666F6A8 )
	end
end

TAB.GetChallengesTabState = function ()
	if CONDITIONS.IsWeGameGovBanned() or CONDITIONS.IsDMZMatch() then
		return TAB.VISIBILITY.HIDDEN
	else
		return TAB.GetTabState( 0x7AD3B58FDD4BFB7, 0x839C5572717FBC8 )
	end
end

TAB.GetStoreTabState = function ()
	if CONDITIONS.IsWeGameGovBanned() then
		return TAB.VISIBILITY.HIDDEN
	else
		return TAB.GetTabState( 0x4EE54AD76B0BD8E, 0x3794D695D79D48 )
	end
end

TAB.SetupHandlers = function ( f26_arg0, f26_arg1 )
	if not f26_arg1 then
		f26_arg1 = {}
	end
	assert( f26_arg0._sequences )
	assert( f26_arg0._sequences.UnFocused )
	assert( f26_arg0._sequences.Focused )
	assert( f26_arg0._sequences.Disabled )
	assert( f26_arg0._sequences.Highlighted )
	f26_arg0._isMouseFocused = false
	f26_arg0.Enable = function ( f36_arg0 )
		f36_arg0._disabled = false
		ACTIONS.AnimateSequence( f36_arg0, "UnFocused" )
	end
	
	f26_arg0.Disable = function ( f35_arg0 )
		f35_arg0._disabled = true
		ACTIONS.AnimateSequence( f35_arg0, "Disabled" )
	end
	
	f26_arg0.IsEnabled = function ( f34_arg0 )
		return not f34_arg0._disabled
	end
	
	local f26_local0 = function ( f33_arg0, f33_arg1 )
		if f33_arg0._disabled then
			ACTIONS.AnimateSequence( f33_arg0, "Disabled" )
		elseif f33_arg1.index == f33_arg0.index and (not f33_arg0.focused or f33_arg0.canRefocus) then
			ACTIONS.AnimateSequence( f33_arg0, "Focused" )
			f33_arg0.focused = true
		else
			ACTIONS.AnimateSequence( f33_arg0, "UnFocused" )
			f33_arg0.focused = false
		end
	end
	
	local f26_local1 = function ( f32_arg0, f32_arg1 )
		if not CONDITIONS.IsMac() or not f32_arg0.focused then
			ACTIONS.AnimateSequence( f32_arg0, "Highlighted" )
		end
		f32_arg0._isMouseFocused = true
	end
	
	local f26_local2 = function ( f31_arg0, f31_arg1 )
		if f31_arg0._disabled then
			ACTIONS.AnimateSequence( f31_arg0, "Disabled" )
		elseif f31_arg0.focused then
			ACTIONS.AnimateSequence( f31_arg0, "Focused" )
		else
			ACTIONS.AnimateSequence( f31_arg0, "UnFocused" )
		end
		f31_arg0._isMouseFocused = false
	end
	
	local f26_local3 = function ( f30_arg0, f30_arg1 )
		
	end
	
	local f26_local4 = function ( f29_arg0 )
		if f26_arg0.manager then
			f26_arg0.manager:processEvent( {
				name = "tab_mouse_select",
				index = f29_arg0.index
			} )
		else
			f29_arg0:dispatchEventToParent( {
				name = "tab_mouse_select",
				index = f29_arg0.index
			} )
		end
	end
	
	local f26_local5 = function ( f28_arg0, f28_arg1 )
		if f28_arg1.inside and f28_arg0._isMouseFocused and not f28_arg0._disabled then
			f26_arg0( f28_arg0 )
		end
	end
	
	local f26_local6 = function ( f27_arg0, f27_arg1 )
		if not f27_arg0._disabled then
			f26_arg0( f27_arg0 )
		end
	end
	
	f26_arg0:registerEventHandler( "focus_tab", f26_local0 )
	f26_arg0:registerEventHandler( "mouseenter", f26_local1 )
	f26_arg0:registerEventHandler( "mouseleave", f26_local2 )
	f26_arg0:registerEventHandler( "leftmouseup", f26_local5 )
	f26_arg0:registerEventHandler( "leftmousedown", f26_local3 )
	if CONDITIONS.IsMobileOrMobileSim() and not CONDITIONS.IsMacWithMouse() then
		f26_arg0:registerEventHandler( "button_action", f26_local6 )
	end
end

TAB.SetUp = function ( f15_arg0, f15_arg1, f15_arg2, f15_arg3 )
	assert( f15_arg0._sequences )
	assert( f15_arg0._sequences.UnFocused )
	assert( f15_arg0._sequences.Focused )
	assert( f15_arg0._sequences.Disabled )
	assert( f15_arg0._sequences.Highlighted )
	assert( f15_arg0._sequences.FocusedNoSound )
	f15_arg0.Setup = function ( f25_arg0, f25_arg1 )
		if f15_arg0 then
			f15_arg0:setText( f25_arg1.name )
		end
		if f15_arg0 then
			f15_arg0:setImage( RegisterMaterial( f25_arg1.image ) )
		end
	end
	
	f15_arg0.Enable = function ( f24_arg0 )
		f24_arg0._disabled = false
		ACTIONS.AnimateSequence( f24_arg0, "UnFocused" )
	end
	
	f15_arg0.Disable = function ( f23_arg0 )
		f23_arg0._disabled = true
		ACTIONS.AnimateSequence( f23_arg0, "Disabled" )
	end
	
	f15_arg0.IsEnabled = function ( f22_arg0 )
		return not f22_arg0._disabled
	end
	
	f15_arg0:registerEventHandler( "focus_tab", function ( element, event )
		if event.index == element.index then
			if event.playSound then
				element._sequences.Focused()
			else
				element._sequences.FocusedNoSound()
			end
			element:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 270 * _1080p, 0, 40 * _1080p, 100, LUI.EASING.outQuadratic )
			element.focused = true
		elseif element.focused then
			element:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 100 * _1080p, 0, 40 * _1080p, 100, LUI.EASING.outQuadratic )
			element._sequences.UnFocused()
			element.focused = false
		end
	end )
	f15_arg0:SetHandleMouse( true )
	f15_arg0:registerEventHandler( "mouseenter", function ( element, event )
		if not element.focused then
			if not element._disabled then
				element._sequences.Highlighted()
			else
				element._sequences.Focused()
			end
		end
	end )
	f15_arg0:registerEventHandler( "mouseleave", function ( element, event )
		if element.focused and not element._disabled then
			element._sequences.FocusedNoSound()
		else
			element._sequences.UnFocused()
		end
	end )
	f15_arg0:registerEventHandler( "leftmousedown", function ( element, event )
		
	end )
	f15_arg0:registerEventHandler( "leftmouseup", function ( element, event )
		if event.inside and not element._disabled then
			element:playSound( "menu_open" )
			element:dispatchEventToCurrentMenu( {
				name = "tab_mouse_select",
				index = element.index
			} )
		end
	end )
	f15_arg0:SubscribeToModelThroughElement( f15_arg0, "disabled", function ( f16_arg0 )
		if DataModel[0x614D394F6F9A18D]( f16_arg0 ) then
			f15_arg0:Disable()
		end
	end )
end

TAB.GetTabsToBuild = function ( f14_arg0, f14_arg1 )
	local f14_local0 = {}
	for f14_local4, f14_local5 in ipairs( f14_arg1 ) do
		local f14_local6 = f14_local5[0x4965463784FBE24] or f14_local5.buildCondition
		if not f14_local6 or f14_local6( f14_arg0 ) then
			table.insert( f14_local0, f14_local5 )
		end
	end
	return f14_local0
end

TAB.SetupTabs = function ( f13_arg0, f13_arg1, f13_arg2 )
	assert( f13_arg2.tabs )
	local f13_local0 = f13_arg2.postSetupFunc
	if not f13_local0 then
		f13_local0 = TAB.SetupHandlers
	end
	f13_arg0._postSetupFunc = f13_local0
	if f13_arg2.defaultFocus then
		f13_arg0:SetDefaultFocus( f13_arg2.defaultFocus )
	end
	if f13_arg2.alignment then
		f13_arg0:SetAlignment( f13_arg2.alignment )
	end
	f13_local0 = TAB.GetTabsToBuild( f13_arg1, f13_arg2.tabs )
	f13_arg0:SetTabs( f13_local0 )
	if #f13_local0 <= 1 then
		f13_arg0:HideTabs()
	else
		f13_arg0:ShowTabs()
	end
end

TAB.DestroyBuiltWidget = function ( f12_arg0, f12_arg1 )
	if f12_arg0[f12_arg1] then
		f12_arg0[f12_arg1]:processEvent( {
			name = "tab_destroy"
		} )
		f12_arg0[f12_arg1]:closeTree()
		f12_arg0[f12_arg1] = nil
	end
end

TAB.UpdateBuiltWidget = function ( f11_arg0, f11_arg1, f11_arg2, f11_arg3, f11_arg4 )
	local f11_local0 = LUI.FlowManager.GetScopedData( f11_arg0 )
	local f11_local1 = f11_local0.activeTabIndex
	local f11_local2
	if f11_arg4 then
		f11_local2 = f11_arg4
	else
		f11_local2 = f11_arg4.extraData
		if f11_local2 then
			f11_local2 = f11_arg4.extraData.rebuildWidget
		end
	end
	local f11_local3
	if f11_arg4 then
		f11_local3 = f11_arg4
	else
		f11_local3 = f11_arg4.extraData
		if f11_local3 then
			f11_local3 = f11_arg4.extraData.forceTriggerLeaveOnce
		end
	end
	if f11_local1 and f11_local1 == f11_arg2 and f11_arg0.activeTabWidget and not f11_local2 then
		return 
	end
	TAB.DestroyBuiltWidget( f11_arg0, "activeTabWidget" )
	f11_arg4.newTabIndex = f11_arg2
	f11_arg0.activeTabWidget = MenuBuilder.BuildRegisteredType( f11_arg1, f11_arg4 )
	f11_arg0.activeTabWidget._createdFromTabs = true
	if f11_arg4.buildPriority then
		f11_arg0.activeTabWidget:setPriority( f11_arg4.buildPriority )
	end
	local f11_local4 = CONDITIONS.IsPC()
	if f11_local4 then
		f11_local4 = not CONDITIONS.IsMobileOrMobileSim()
	end
	if f11_local4 and not f11_arg4.alignTop then
		f11_arg4.stretchToContainer = true
	end
	if f11_arg4.stretchToContainer then
		f11_arg0.activeTabWidget:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	elseif f11_arg4.alignBottom then
		local f11_local5 = f11_arg0.activeTabWidget:GetAnchorsAndPosition()
		f11_arg0.activeTabWidget:SetAnchorsAndPosition( 0, 1, 1, 0, 0, f11_local5.right, -f11_local5.bottom, 0 )
	end
	f11_arg0:addElement( f11_arg0.activeTabWidget )
	f11_arg0.activeTabWidget:processEvent( {
		name = "tab_create"
	} )
	if f11_arg3 ~= FocusType.MouseOver and f11_arg3 ~= FocusType.MenuFlow then
		f11_arg0.activeTabWidget:processEvent( {
			shouldPlayButtonSound = false,
			name = "gain_focus",
			focusType = f11_arg3,
			controller = f11_arg4.controllerIndex
		} )
		if f11_arg4.tabFocusCallback then
			f11_arg4.tabFocusCallback( f11_arg1 )
		end
	end
	if f11_local3 then
		f11_arg0.activeTabWidget._forceTriggerLeaveOnce = f11_local3
	end
	f11_local0.activeTabIndex = f11_arg2
end

TAB.UpdateBuiltWidgetWithTransition = function ( f9_arg0, f9_arg1, f9_arg2, f9_arg3, f9_arg4, f9_arg5, f9_arg6 )
	local f9_local0 = LUI.FlowManager.GetScopedData( f9_arg0 )
	local f9_local1 = f9_local0.activeTabIndex
	if f9_local1 and f9_local1 == f9_arg3 and f9_arg0.activeTabWidget then
		
	else
		
	end
	if not Dvar[0x9E5BE3B4BBA4E0E]( 0x91BDB192B4FE7F1 ) or f9_arg0.activeTabWidget == nil then
		TAB.UpdateBuiltWidget( f9_arg0, f9_arg2, f9_arg3, f9_arg4, f9_arg5 )
		f9_arg6()
	end
	if f9_arg0._rttUpdateSubscription then
		f9_arg0:UnsubscribeFromModel( f9_arg0._rttUpdateSubscription )
		f9_arg0._rttUpdateSubscription = nil
	end
	f9_arg0.activeTabWidget:TakeSnapshot( RenderTargetManager.FrontendSnapshotTexture )
	f9_arg0._rttUpdateSubscription = f9_arg0:SubscribeToModel( DataSources.frontEnd.snapshot.rttUpdateCount:GetModel( f9_arg1 ), function ( f10_arg0 )
		local f10_local0 = DataSources.frontEnd.snapshot.rtt:GetValue( f9_arg0 )
		if not f10_local0 then
			return 
		end
		f9_arg0:UnsubscribeFromModel( f9_arg0._rttUpdateSubscription )
		f9_arg0._rttUpdateSubscription = nil
		local f10_local1 = f9_arg0.activeTabWidget:getPriority()
		TAB.UpdateBuiltWidget( f9_arg0, f9_arg0, f9_arg0, f9_arg0, f9_arg0 )
		local self = LUI.UIImage.new()
		f9_arg0:addElement( self )
		if f9_arg0._snapshot then
			f9_arg0._snapshot:closeTree()
			f9_arg0._snapshot = self
		end
		self:setImage( f10_local0 )
		self:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		self:setupAnchoredToRoot()
		self:setPriority( f10_local1 )
		SEQUENCEPRESETS.RegisterAnimation( self, "TransFrom", "OutLeft", 0 )
		ACTIONS.AnimateSequence( self, "TransFrom" )
		SEQUENCEPRESETS.RegisterAnimation( f9_arg0.activeTabWidget, "TransTo", "InLeft", 0 )
		ACTIONS.AnimateSequence( f9_arg0.activeTabWidget, "TransTo" )
		f9_arg0()
	end, true )
end

TAB.UpdateBuiltWidgetOnTabChange = function ( f8_arg0, f8_arg1, f8_arg2, f8_arg3, f8_arg4, f8_arg5, f8_arg6 )
	TAB.DestroyBuiltWidget( f8_arg0, f8_arg2 )
	f8_arg6.focusType = f8_arg4
	f8_arg0[f8_arg2] = MenuBuilder.BuildRegisteredType( f8_arg5, f8_arg6 )
	f8_arg0[f8_arg2]._createdFromTabs = true
	if f8_arg6.buildPriority then
		f8_arg0[f8_arg2]:setPriority( f8_arg6.buildPriority )
	end
	local f8_local0 = CONDITIONS.IsPC()
	if f8_local0 then
		f8_local0 = not CONDITIONS.IsMobileOrMobileSim()
	end
	if f8_local0 and not f8_arg6.alignTop then
		f8_arg6.stretchToContainer = true
	end
	if f8_arg6.stretchToContainer then
		f8_arg0[f8_arg2]:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	elseif f8_arg6.alignBottom then
		local f8_local1 = f8_arg0[f8_arg2]:GetAnchorsAndPosition()
		f8_arg0[f8_arg2]:SetAnchorsAndPosition( 0, 1, 1, 0, 0, f8_local1.right, -f8_local1.bottom, 0 )
	end
	f8_arg0:addElement( f8_arg0[f8_arg2] )
	f8_arg0[f8_arg2]:processEvent( {
		name = "tab_create"
	} )
	if f8_arg3 ~= f8_arg1 and f8_arg4 ~= FocusType.MouseOver and f8_arg4 ~= FocusType.MenuFlow then
		f8_arg0[f8_arg2]:processEvent( {
			shouldPlayButtonSound = false,
			name = "gain_focus"
		} )
	end
end

TAB.GetIndex = function ( f7_arg0 )
	local f7_local0 = {
		[TAB.MP.PLAY] = 0,
		[TAB.MP.WEAPONS] = 1,
		[TAB.MP.OPERATORS] = 2
	}
	if CONDITIONS.IsWeGameGovBanned() then
		return f7_local0[f7_arg0]
	elseif TAB.GetChallengesTabState() ~= TAB.VISIBILITY.HIDDEN then
		f7_local0[TAB.MP.CHALLENGES] = 3
		f7_local0[TAB.MP.BARRACKS] = 4
	else
		f7_local0[TAB.MP.BARRACKS] = 3
	end
	if TAB.GetBattlemapTabState() ~= TAB.VISIBILITY.HIDDEN then
		local f7_local1 = Dvar[0x22EAAB59AA27E9B]( 0xC83C7ECCCE6DBBA )
		if Dvar[0x9E5BE3B4BBA4E0E]( 0x4307B9A7A810A42 ) then
			local f7_local2 = Dvar[0x22EAAB59AA27E9B]( 0xC83C7ECCCE6DBBA )
			local f7_local3 = f7_local0[TAB.MP.BARRACKS] + 1
			local f7_local4 = TAB.BPReorder( f7_local2, f7_local3 )
			f7_local0[TAB.MP.PLAY] = f7_local4[f7_local0[TAB.MP.PLAY]]
			f7_local0[TAB.MP.WEAPONS] = f7_local4[f7_local0[TAB.MP.WEAPONS]]
			if TAB.GetChallengesTabState() ~= TAB.VISIBILITY.HIDDEN then
				f7_local0[TAB.MP.CHALLENGES] = f7_local4[f7_local0[TAB.MP.CHALLENGES]]
			end
			f7_local0[TAB.MP.OPERATORS] = f7_local4[f7_local0[TAB.MP.OPERATORS]]
			f7_local0[TAB.MP.BARRACKS] = f7_local4[f7_local0[TAB.MP.BARRACKS]]
			f7_local0[TAB.MP.BATTLE_PASS] = f7_local4[f7_local3]
			if TAB.GetStoreTabState() ~= TAB.VISIBILITY.HIDDEN then
				f7_local0[TAB.MP.STORE] = f7_local4[f7_local3 + 1]
			end
		else
			f7_local0[TAB.MP.BATTLE_PASS] = f7_local0[TAB.MP.BARRACKS] + 1
			if TAB.GetStoreTabState() ~= TAB.VISIBILITY.HIDDEN then
				f7_local0[TAB.MP.STORE] = f7_local0[TAB.MP.BATTLE_PASS] + 1
			end
		end
	elseif TAB.GetStoreTabState() ~= TAB.VISIBILITY.HIDDEN and not Dvar[0x9E5BE3B4BBA4E0E]( 0x4307B9A7A810A42 ) then
		f7_local0[TAB.MP.STORE] = f7_local0[TAB.MP.BARRACKS] + 1
	end
	return f7_local0[f7_arg0]
end

TAB.BPReorder = function ( f6_arg0, f6_arg1 )
	local f6_local0 = 4
	if TAB.VISIBILITY.HIDDEN ~= TAB.GetBattlemapTabState() then
		f6_local0 = f6_local0 + 1
	end
	if TAB.GetStoreTabState() ~= TAB.VISIBILITY.HIDDEN then
		f6_local0 = f6_local0 + 1
	end
	local f6_local1 = TAB.GetChallengesTabState()
	if f6_local1() ~= TAB.VISIBILITY.HIDDEN then
		f6_local0 = f6_local0 + 1
	end
	f6_arg0 = f6_arg0 - 1
	f6_local1 = {}
	if f6_arg0 < f6_local0 and 0 < f6_arg0 then
		for f6_local2 = 0, f6_local0 - 1, 1 do
			if f6_arg0 == f6_arg1 then
				f6_local1[f6_local2] = f6_local2
			end
			if f6_arg0 == f6_local0 - 1 then
				if f6_local2 == f6_arg1 then
					f6_local1[f6_local2] = f6_local2 + 1
				end
				if f6_local2 == f6_arg0 then
					f6_local1[f6_local2] = f6_arg1
				else
					f6_local1[f6_local2] = f6_local2
				end
			end
			if f6_local2 == f6_arg0 then
				f6_local1[f6_local2] = f6_local2 + 1
			end
			if f6_local2 == f6_arg1 then
				f6_local1[f6_local2] = f6_arg0
			end
			if f6_arg0 < f6_local2 and f6_local2 ~= f6_local0 - 1 then
				f6_local1[f6_local2] = f6_local2 + 1
			else
				f6_local1[f6_local2] = f6_local2
			end
		end
		return f6_local1
	else
		for f6_local2 = 0, f6_local0 - 1, 1 do
			f6_local1[f6_local2] = f6_local2
		end
		return f6_local1
	end
end

TAB.IsTabVisible = function ( f5_arg0 )
	local f5_local0 = true
	if f5_arg0.visible ~= nil then
		if type( f5_arg0.visible ) == "function" then
			f5_local0 = f5_arg0.visible()
		else
			f5_local0 = f5_arg0.visible
		end
	end
	return f5_local0
end

TAB.MobileCalcTabWidthBasedOnScreenWidth = function ( f4_arg0, f4_arg1 )
	local f4_local0 = f4_arg1.tabsGroup
	local f4_local1 = f4_arg1.tabsPlaceholder
	local f4_local2 = f4_arg1.spacingX
	local f4_local3 = 0
	for f4_local7, f4_local8 in ipairs( f4_local0 ) do
		if TAB.IsTabVisible( f4_local8 ) then
			f4_local3 = f4_local3 + 1
		end
	end
	if f4_local3 < 1 then
		return 0
	end
	f4_local4 = Engine[0xEE6F69FEA944B13]()
	f4_local5 = nil
	if f4_arg1.isFullscreen then
		f4_local5 = f4_local4:getWidth()
	else
		local f4_local6, f4_local7, f4_local8, f4_local9 = f4_local4.flowManager:getLocalRect()
		f4_local5 = f4_local4:getWidth() + f4_local8 - f4_local6
	end
	f4_local6 = f4_local1:GetAnchorsAndPosition()
	local f4_local9 = math.abs( f4_local5 * f4_local6.leftAnchor + f4_local6.left - f4_local5 * (1 - f4_local6.rightAnchor) + f4_local6.right )
	local f4_local10 = 0
	if f4_local2 then
		f4_local10 = f4_local2 / f4_local3
	end
	return f4_local9 / f4_local3 + f4_local10
end

TAB.MobileCreateAspectRatioAdjustedWidthTabs = function ( f1_arg0, f1_arg1, f1_arg2 )
	local f1_local0 = TAB.MobileCalcTabWidthBasedOnScreenWidth( f1_arg0, f1_arg2 )
	local f1_local1 = f1_arg2.tabsPlaceholder:GetAnchorsAndPosition()
	local f1_local2 = f1_local1.bottom - f1_local1.top
	local f1_local3 = nil
	f1_local3 = LUI.TabManager.new( {
		spacing = 0,
		wrap = false,
		ignoreShoulderBtn = true,
		tabHeight = f1_local2,
		ignoreShoulderSpacer = f1_arg2.ignoreShoulderSpacer,
		buildTab = function ()
			local f3_local0 = MenuBuilder.BuildRegisteredType( f1_arg0.tabsChild, {
				controllerIndex = f1_arg0
			} )
			f3_local0:SetAnchorsAndPosition( 0, 1, 0, 1, 0, f1_arg0 - (f1_arg0._spacerWidth or 0), 0, f1_arg0 )
			return f3_local0
		end,
		buildSpacer = function ()
			local f2_local0 = f1_arg0.tabsSpacer
			if f2_local0 then
				f2_local0 = MenuBuilder.BuildRegisteredType( f1_arg0.tabsSpacer, {
					controllerIndex = f1_arg0
				} )
			end
			f1_arg0._spacerWidth = LAYOUT.GetElementWidth( f2_local0 )
			return f2_local0
		end,
		controllerIndex = f1_arg1
	} )
	f1_local3.id = "Tabs"
	f1_local3:SetAnchorsAndPosition( f1_local1.leftAnchor, f1_local1.rightAnchor, f1_local1.topAnchor, f1_local1.bottomAnchor, f1_local1.left, f1_local1.right, f1_local1.top, f1_local1.bottom )
	return f1_local3
end

