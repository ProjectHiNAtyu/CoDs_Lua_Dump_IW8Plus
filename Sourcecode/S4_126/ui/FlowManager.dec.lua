-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
LUI.FlowManager = LUI.Class( LUI.UIElement )
PushAndPopsTable = {}
DisableLetterbox = {}
DisableMousePointer = {}
FenceGroups = {}
SavedMenuStates = {}
AlwaysVisible = {}
PresetStacks = {}
IgnoreFollowHostCallbacks = {}
PartyUIRoot = {
	TOURNAMENT_MATCHMAKING = 18,
	BR_TRIALS = 14,
	MP_PRIVATE_TOURNAMENT_LOBBY = 16,
	GAMEMODE_MP_MENUS_START = 7,
	MAIN_MENU = 2,
	TOURNAMENT_LOADING = 17,
	MP_MAIN_MENU = 8,
	GAMEMODE_CP_MENUS_END = 37,
	MP_SYSTEM_LINK = 11,
	GAMEMODE_NONE_MENUS_START = 1,
	GAME_BATTLES_MATCH = 15,
	CP_MAIN_MENU = 32,
	GAMEMODE_CP_MENUS_START = 31,
	GAMEMODE_WZ_MENUS_START = 38,
	CP_SYSTEM_LINK_LOBBY = 36,
	MP_SYSTEM_LINK_LOBBY = 12,
	SP_MAIN_MENU = 5,
	OPERATOR_SELECT_SCREEN = 23,
	CP_PRIVATE_MATCH = 33,
	DMZ_MAIN_MENU = 21,
	WZ_TOURNAMENT_MATCHMAKING = 40,
	BR_MAIN_MENU = 26,
	MP_TRIALS = 13,
	WZ_TOURNAMENT_BRACKET = 41,
	WZ_PRIVATE_MATCH_LOBBY = 42,
	LOADOUT_SELECT_MENU = 20,
	MP_TRIAL_EVENT = 44,
	LAST = 46,
	INGAME_FTUE_MENU_TUTORIAL = 28,
	CP_PUBLIC_MATCH_LOBBY = 34,
	GAMEMODE_NONE_MENUS_END = 3,
	GAMEMODE_SP_MENUS_END = 6,
	MP_PUBLIC_MATCH_LOBBY = 10,
	FREE = 0,
	MP_PRIVATE_MATCH = 9,
	BATTLE_ROYALE_MENU_PUBLIC_LOBBY = 27,
	TOURNAMENT_BRACKET = 19,
	GAMEMODE_MP_MENUS_END = 30,
	GAMEMODE_WZ_MENUS_END = 43,
	PARTY_MATCHMAKING_LOBBY = 24,
	MISSION_SELECT = 22,
	WZ_TOURNAMENT_LOADING = 39,
	BR_TRIAL_EVENT = 45,
	GAMEMODE_SP_MENUS_START = 4,
	CP_SYSTEM_LINK = 35,
	BATTLE_ROYALE_MENU = 25,
	PAYBACK_ONBOARDING_LOBBY = 29
}
BR_MENUS_START = PartyUIRoot.BATTLE_ROYALE_MENU
BR_MENUS_END = PartyUIRoot.PAYBACK_ONBOARDING_LOBBY
local f0_local0 = LUI.FlowManager
local f0_local1
if Dvar[0x9E5BE3B4BBA4E0E]( "#x312cd520902de6f57" ) then
	f0_local1 = "MainLockoutMenu"
else
	f0_local1 = "MainMenu"
end
f0_local0.MainMenu = f0_local1
f0_local0 = LUI.FlowManager
if Dvar[0x9E5BE3B4BBA4E0E]( "#x312cd520902de6f57" ) then
	f0_local1 = "MainLockoutMenu"
else
	f0_local1 = "MainMenuOffline"
end
f0_local0.MainMenuOffline = f0_local1
LUI.FlowManager.FlowMenus = {
	[PartyUIRoot.MAIN_MENU] = LUI.FlowManager.MainMenu,
	[PartyUIRoot.SP_MAIN_MENU] = "CampaignMenu",
	[PartyUIRoot.MP_MAIN_MENU] = "MPMainMenu",
	[PartyUIRoot.MP_PRIVATE_MATCH] = "PrivateMatchLobby",
	[PartyUIRoot.MP_PUBLIC_MATCH_LOBBY] = "MPPublicLobby",
	[PartyUIRoot.MP_SYSTEM_LINK] = "MPSystemLinkMenu",
	[PartyUIRoot.MP_SYSTEM_LINK_LOBBY] = "MPSystemLinkLobby",
	[PartyUIRoot.MP_TRIALS] = "TrialsMP",
	[PartyUIRoot.BR_TRIALS] = "TrialsBR",
	[PartyUIRoot.GAME_BATTLES_MATCH] = "GameBattlesMatchLobby",
	[PartyUIRoot.MP_PRIVATE_TOURNAMENT_LOBBY] = "PrivateTournamentLobby",
	[PartyUIRoot.TOURNAMENT_LOADING] = "TournamentLoadingScreen",
	[PartyUIRoot.TOURNAMENT_MATCHMAKING] = "TournamentMatchmaking",
	[PartyUIRoot.TOURNAMENT_BRACKET] = "ArenaTournament",
	[PartyUIRoot.LOADOUT_SELECT_MENU] = "<disabled>",
	[PartyUIRoot.DMZ_MAIN_MENU] = "DMZMainMenu",
	[PartyUIRoot.MISSION_SELECT] = "MissionSelect",
	[PartyUIRoot.OPERATOR_SELECT_SCREEN] = "OperatorSelectScreen",
	[PartyUIRoot.PARTY_MATCHMAKING_LOBBY] = "PartyMatchmakingLobby",
	[PartyUIRoot.BATTLE_ROYALE_MENU] = "BattleRoyale",
	[PartyUIRoot.BR_MAIN_MENU] = "BRMainMenu",
	[PartyUIRoot.BATTLE_ROYALE_MENU_PUBLIC_LOBBY] = "BRPublicLobby",
	[PartyUIRoot.INGAME_FTUE_MENU_TUTORIAL] = "LobbyFtueTutorial",
	[PartyUIRoot.CP_MAIN_MENU] = "CPMainMenu",
	[PartyUIRoot.CP_PRIVATE_MATCH] = "CPPrivateMatchLobby",
	[PartyUIRoot.CP_PUBLIC_MATCH_LOBBY] = "CPPublicMatchMenu",
	[PartyUIRoot.CP_SYSTEM_LINK] = "CPSystemLinkMenu",
	[PartyUIRoot.CP_SYSTEM_LINK_LOBBY] = "CPSystemLinkLobby",
	[PartyUIRoot.PAYBACK_ONBOARDING_LOBBY] = "PayBackOnBoardingLobby",
	[PartyUIRoot.WZ_TOURNAMENT_LOADING] = "WZTournamentLoadingScreen",
	[PartyUIRoot.WZ_TOURNAMENT_MATCHMAKING] = "WZTournamentMatchmaking",
	[PartyUIRoot.WZ_TOURNAMENT_BRACKET] = "WZArenaTournament",
	[PartyUIRoot.WZ_PRIVATE_MATCH_LOBBY] = "WarzonePrivateMatchLobby",
	[PartyUIRoot.MP_TRIAL_EVENT] = "TrialEventMP",
	[PartyUIRoot.BR_TRIAL_EVENT] = "TrialEventBR"
}
LUI.FlowManager.PremiumMenus = {
	nil,
	"CampaignMenu",
	"CampaignMenuOffline",
	"MPMainMenu",
	"MPSystemLinkMenu",
	"MPSystemLinkLobby",
	"CPMainMenu",
	"CPSystemLinkMenu"
}
LUI.FlowManager.RegisterStackPushBehaviour = function ( f146_arg0, f146_arg1 )
	assert( f146_arg1 )
	PushAndPopsTable[f146_arg0] = PushAndPopsTable[f146_arg0] or {}
	local f146_local0 = PushAndPopsTable[f146_arg0]
	f146_local0.pushFuncs = f146_local0.pushFuncs or {}
	table.insert( f146_local0.pushFuncs, f146_arg1 )
end

LUI.FlowManager.RegisterStackPopBehaviour = function ( f145_arg0, f145_arg1 )
	assert( f145_arg1 )
	PushAndPopsTable[f145_arg0] = PushAndPopsTable[f145_arg0] or {}
	local f145_local0 = PushAndPopsTable[f145_arg0]
	f145_local0.popFuncs = f145_local0.popFuncs or {}
	table.insert( f145_local0.popFuncs, f145_arg1 )
end

LUI.FlowManager.RegisterFenceGroup = function ( f144_arg0, f144_arg1 )
	local f144_local0 = assert
	local f144_local1 = Engine[0x7AE6126734FCDB]()
	if not f144_local1 then
		f144_local1 = not FenceGroups[f144_arg0]
	end
	f144_local0( f144_local1 )
	FenceGroups[f144_arg0] = f144_arg1
end

LUI.FlowManager.RegisterIgnoreFollowHostCallback = function ( f143_arg0, f143_arg1 )
	IgnoreFollowHostCallbacks[f143_arg0] = f143_arg1
end

LUI.FlowManager.DisableLetterboxForMenu = function ( f142_arg0 )
	DisableLetterbox[f142_arg0] = true
end

LUI.FlowManager.AlwaysVisibleForMenu = function ( f141_arg0 )
	AlwaysVisible[f141_arg0] = true
end

LUI.FlowManager.RequestSetStack = function ( f140_arg0, f140_arg1 )
	assert( type( f140_arg0 ) == "string" )
	assert( type( f140_arg1 ) == "table" )
	if CONDITIONS.IsPublicAlphaEnabled() then
		for f140_local3, f140_local4 in ipairs( f140_arg1 ) do
			if f140_local4.name == "MainMenu" or f140_local4.name == "MainMenuOffline" then
				table.remove( f140_arg1, f140_local3 )
			end
		end
	elseif not Engine[0xFB1B6E36ABE59B8]() and f140_arg1[1] and f140_arg1[1].name == "MainLockoutMenu" then
		table.remove( f140_arg1, 1 )
	end
	PresetStacks[f140_arg0] = f140_arg1
end

LUI.FlowManager.DisableMousePointerForMenu = function ( f139_arg0 )
	DisableMousePointer[f139_arg0] = true
end

LUI.FlowManager.GetPerControllerPersistentData = function ( f138_arg0 )
	if not LUI.FlowManager._persistentData then
		LUI.FlowManager._persistentData = {}
	end
	if not LUI.FlowManager._persistentData[f138_arg0] then
		LUI.FlowManager._persistentData[f138_arg0] = {}
	end
	return LUI.FlowManager._persistentData[f138_arg0]
end

LUI.FlowManager.GetScopedData = function ( f137_arg0 )
	local f137_local0 = type( f137_arg0 )
	local f137_local1 = assert
	local f137_local2
	if f137_local0 ~= "string" and f137_local0 ~= "userdata" then
		f137_local2 = false
	else
		f137_local2 = true
	end
	f137_local1( f137_local2 )
	f137_local1 = Engine[0xEE6F69FEA944B13]()
	local f137_local3 = assert
	local f137_local4
	if f137_local1 then
		f137_local4 = f137_local1
	else
		f137_local4 = f137_local1.flowManager
	end
	f137_local3( f137_local4 )
	f137_local3 = f137_local1.flowManager
	if f137_local0 == "string" then
		return f137_local3:GetScopedDataFromMenuName( f137_arg0 )
	elseif f137_local0 == "userdata" then
		return f137_local3:GetScopedDataFromElement( f137_arg0 )
	else
		
	end
end

LUI.FlowManager.RequestAddMenu = function ( f136_arg0, f136_arg1, f136_arg2, f136_arg3, f136_arg4, f136_arg5, f136_arg6, f136_arg7 )
	assert( type( f136_arg0 ) == "string" )
	local f136_local0 = {
		name = "addmenu",
		menu = f136_arg0,
		exclusiveController = f136_arg1,
		controller = f136_arg2,
		replaceTop = f136_arg3,
		immediate = f136_arg5,
		playTransitions = f136_arg6,
		data = f136_arg4,
		blockSound = f136_arg7
	}
	local f136_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( f136_local1, true, "RequestAddMenu " .. f136_arg0 )
	LUI.UIRoot.ProcessEvent( f136_local1, f136_local0 )
end

LUI.FlowManager.RequestSocialPopup = function ( f135_arg0, f135_arg1 )
	LUI.FlowManager.RequestPopupMenu( nil, "ManagePartyPopup", true, f135_arg1, false, {
		disableQuickAccessShortcuts = false,
		controllerIndex = f135_arg1,
		areWeHost = FRIENDS.AreWeHost( Friends[0xE30C6358EF728A1]( f135_arg1 ) ),
		defaultTabFocus = FRIENDS.ManagePartyTabIDs.PARTY_INVITATIONS,
		menuTitle = Engine[0xED84C33EC5F01EA]( "LUA_MENU/SOCIAL_TITLE" ),
		inviteTabTitle = Engine[0xED84C33EC5F01EA]( "LUA_MENU/INVITE_TO_GAME" ),
		hasUsedShortcut = f135_arg0
	} )
end

LUI.FlowManager.RequestPopupMenu = function ( f134_arg0, f134_arg1, f134_arg2, f134_arg3, f134_arg4, f134_arg5, f134_arg6, f134_arg7, f134_arg8, f134_arg9, f134_arg10, f134_arg11 )
	assert( f134_arg1 )
	local f134_local0 = {
		name = "popupmenu",
		menu = f134_arg1,
		isModal = f134_arg7,
		exclusiveController = f134_arg2,
		controller = f134_arg3,
		replaceTop = f134_arg4,
		forcePlaySound = f134_arg9,
		data = f134_arg5,
		blockSound = f134_arg10,
		shouldPlayButtonSound = f134_arg11
	}
	if f134_arg8 ~= nil then
		f134_local0.immediate = f134_arg8
	else
		f134_local0.immediate = true
	end
	local f134_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( f134_local1, true, "RequestPopupMenu " .. f134_arg1 )
	LUI.UIRoot.ProcessEvent( f134_local1, f134_local0 )
end

LUI.FlowManager.RequestErrorPopup = function ( f133_arg0, f133_arg1 )
	if not LUI.FlowManager.IsInStack( "ErrorPopup" ) and not CONDITIONS.IsQABotRunning() then
		Dvar[0xE3CB005036E0C0F]( "#x3d26cfedc6e658922", f133_arg0 )
		Dvar[0xE3CB005036E0C0F]( "#x3449a9da4ce329693", f133_arg1 )
		DebugPrint( "Opening error popup for message: " .. tostring( f133_arg1 ) .. ", length: " .. tostring( #f133_arg1 ) )
		LUI.FlowManager.RequestPopupMenu( nil, "ErrorPopup" )
	end
end

LUI.FlowManager.RequestLeaveMenu = function ( f132_arg0, f132_arg1, f132_arg2, f132_arg3 )
	local f132_local0 = {
		name = "leavemenu",
		element = f132_arg0,
		immediate = f132_arg1,
		blockSound = f132_arg2,
		playTransitions = f132_arg3
	}
	local f132_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( f132_local1, true, "RequestLeaveMenu" )
	LUI.UIRoot.ProcessEvent( f132_local1, f132_local0 )
end

LUI.FlowManager.RequestLeaveMenuByName = function ( f131_arg0, f131_arg1, f131_arg2, f131_arg3 )
	assert( f131_arg0 )
	local f131_local0 = {
		name = "leavemenu",
		menu = f131_arg0,
		immediate = f131_arg1,
		blockSound = f131_arg2,
		playTransitions = f131_arg3
	}
	LUI.UIRoot.BlockButtonInput( Engine[0xEE6F69FEA944B13](), true, "RequestLeaveMenuByName " .. f131_arg0 )
	local f131_local1 = Engine[0xEE6F69FEA944B13]()
	f131_local1:processEvent( f131_local0 )
end

LUI.FlowManager.RequestLeaveMenuByNameWithController = function ( f130_arg0, f130_arg1, f130_arg2, f130_arg3 )
	assert( f130_arg0 )
	local f130_local0 = {
		name = "leavemenu",
		menu = f130_arg0,
		immediate = f130_arg2,
		blockSound = f130_arg3,
		managerControllerIndex = f130_arg1
	}
	LUI.UIRoot.BlockButtonInput( Engine[0xEE6F69FEA944B13](), true, "RequestLeaveMenuByName " .. f130_arg0 )
	local f130_local1 = Engine[0xEE6F69FEA944B13]()
	f130_local1:processEvent( f130_local0 )
end

LUI.FlowManager.RequestRestoreMenu = function ( f129_arg0, f129_arg1, f129_arg2 )
	local f129_local0 = {
		name = "restoreMenu",
		menu = f129_arg0,
		immediate = Engine[0x8D50E9E23C85A60](),
		exclusiveController = f129_arg1,
		controller = f129_arg2,
		blockSound = true
	}
	local f129_local1 = Engine[0xEE6F69FEA944B13]()
	LUI.UIRoot.BlockButtonInput( f129_local1, true, "RequestRestoreMenu" )
	LUI.UIRoot.ProcessEvent( f129_local1, f129_local0 )
end

LUI.FlowManager.RequestCloseAllMenus = function ( f128_arg0, f128_arg1, f128_arg2, f128_arg3 )
	LUI.UIRoot.ProcessEventNow( Engine[0xEE6F69FEA944B13](), {
		name = "closeallmenus"
	} )
	if f128_arg3 then
		Engine[0xC4146BA76D0F982]( CoD.SFX.Unpause )
	end
	if f128_arg0 then
		METRICS.RecordInGameDismissMenuUsage( f128_arg2, f128_arg0, f128_arg1 )
	end
end

LUI.FlowManager.IsInStack = function ( f127_arg0 )
	local f127_local0 = Engine[0xEE6F69FEA944B13]()
	local f127_local1 = assert
	local f127_local2
	if f127_local0 then
		f127_local2 = f127_local0
	else
		f127_local2 = f127_local0.flowManager
	end
	f127_local1( f127_local2 )
	return f127_local0.flowManager:StackContains( f127_arg0 )
end

LUI.FlowManager.IsAnyInStack = function ( f126_arg0 )
	local f126_local0 = Engine[0xEE6F69FEA944B13]()
	local f126_local1 = assert
	local f126_local2
	if f126_local0 then
		f126_local2 = f126_local0
	else
		f126_local2 = f126_local0.flowManager
	end
	f126_local1( f126_local2 )
	return f126_local0.flowManager:StackContainsAny( f126_arg0 )
end

f0_local0 = function ( f125_arg0 )
	if SavedMenuStates[f125_arg0] == nil then
		SavedMenuStates[f125_arg0] = {}
	end
	return SavedMenuStates[f125_arg0]
end

LUI.FlowManager.ClearSavedMenuStatesByControllerIndex = function ( f124_arg0, f124_arg1 )
	local f124_local0 = f0_local0( f124_arg0 )
	if f124_arg1 then
		f124_local0[f124_arg1] = nil
	end
end

LUI.FlowManager.IsTopMenuModal = function ()
	local f123_local0 = Engine[0xEE6F69FEA944B13]()
	local f123_local1 = assert
	local f123_local2
	if f123_local0 then
		f123_local2 = f123_local0
	else
		f123_local2 = f123_local0.flowManager
	end
	f123_local1( f123_local2 )
	f123_local1 = f123_local0.flowManager.menuInfoStack
	local f123_local3 = f123_local1[#f123_local1]
	if f123_local3 then
		f123_local2 = f123_local3
	else
		f123_local2 = f123_local3.isModal
	end
	return f123_local2
end

LUI.FlowManager.IsMenuOnTop = function ( f122_arg0 )
	local f122_local0 = Engine[0xEE6F69FEA944B13]()
	local f122_local1 = assert
	local f122_local2
	if f122_local0 then
		f122_local2 = f122_local0
	else
		f122_local2 = f122_local0.flowManager
	end
	f122_local1( f122_local2 )
	f122_local1 = f122_local0.flowManager:GetStackTop()
	local f122_local3
	if f122_local1 then
		f122_local3 = f122_local1
	else
		f122_local3 = f122_local1.name == f122_arg0
	end
	return f122_local3
end

LUI.FlowManager.GetCurrentMenu = function ( f121_arg0 )
	local f121_local0 = Engine[0xEE6F69FEA944B13]()
	local f121_local1 = assert
	local f121_local2
	if f121_local0 then
		f121_local2 = f121_local0
	else
		f121_local2 = f121_local0.flowManager
	end
	f121_local1( f121_local2 )
	if f121_arg0:getParent() then
		
	else
		
	end
	assert( "Error getting current menu. Most likely, the element has not been added to a menu yet." )
end

LUI.FlowManager.GetVisibleMenu = function ()
	local f120_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f120_local0 )
	local f120_local1 = f120_local0.flowManager
	if f120_local1 and f120_local1.menuInfoStack then
		local f120_local2 = f120_local1.menuInfoStack[#f120_local1.menuInfoStack]
		if f120_local2 and f120_local2.menu then
			return f120_local2.menu
		end
	end
end

LUI.FlowManager.GetCurrentNonPopupMenu = function ()
	local f119_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f119_local0 )
	local f119_local1 = f119_local0.flowManager
	if f119_local1 and f119_local1.menuInfoStack then
		for f119_local2 = #f119_local1.menuInfoStack, 1, -1 do
			local f119_local5 = f119_local1.menuInfoStack[f119_local2]
			if not f119_local5.isPopup then
				return f119_local5.menu
			end
		end
	end
end

LUI.FlowManager.GetMenuNameAtIndex = function ( f118_arg0 )
	local f118_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f118_local0 )
	local f118_local1 = f118_local0.flowManager
	local f118_local2 = f118_local1.menuInfoStack
	if f118_arg0 < 0 then
		f118_arg0 = #f118_local2 + f118_arg0
	end
	assert( f118_local1.menuInfoStack[f118_arg0] )
	return f118_local1.menuInfoStack[f118_arg0].name
end

LUI.FlowManager.GetAllMenuNames = function ()
	local f117_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f117_local0 )
	local f117_local1 = f117_local0.flowManager
	local f117_local2 = nil
	if f117_local1 and f117_local1.menuInfoStack then
		for f117_local3 = #f117_local1.menuInfoStack, 1, -1 do
			local f117_local6 = f117_local1.menuInfoStack[f117_local3].name
			if f117_local6 and f117_local6 ~= "" then
				if f117_local3 == #f117_local1.menuInfoStack and not f117_local6 then
					f117_local2 = f117_local6
				else
					f117_local2 = f117_local2 .. ";" .. f117_local6
				end
			end
		end
	end
	return f117_local2
end

LUI.FlowManager.GetMenuByName = function ( f116_arg0 )
	local f116_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f116_local0 )
	local f116_local1 = f116_local0.flowManager
	if f116_local1 and f116_local1.menuInfoStack then
		for f116_local2 = #f116_local1.menuInfoStack, 1, -1 do
			local f116_local5 = f116_local1.menuInfoStack[f116_local2]
			if f116_arg0 == f116_local5.name then
				return f116_local5
			end
		end
	end
end

f0_local1 = function ()
	local f99_local0 = "serpent"
	local f99_local1 = "0.302"
	local f99_local2 = "Paul Kulchenko"
	local f99_local3 = "Lua serializer and pretty printer"
	local f99_local4 = {
		[tostring( ∞ )] = "1/0 --[[math.huge]]",
		[tostring( -∞ )] = "-1/0 --[[-math.huge]]",
		[tostring( -2147483648 )] = "0/0"
	}
	local f99_local5 = {
		userdata = true,
		cdata = true,
		thread = true
	}
	local f99_local6 = debug and debug.getmetatable or getmetatable
	local f99_local7 = function ( f115_arg0 )
		return next, f115_arg0
	end
	
	local f99_local8 = {}
	local f99_local9 = {}
	local f99_local10 = _G or _ENV
	for f99_local14, f99_local15 in ipairs( {
		nil,
		"and",
		"break",
		"do",
		"else",
		"elseif",
		"end",
		"false",
		"for",
		"function",
		"goto",
		"if",
		"in",
		"local",
		"nil",
		"not",
		"or",
		"repeat",
		"return",
		"then",
		"true",
		"until",
		"while"
	} ) do
		f99_local8[f99_local15] = true
	end
	for f99_local14, f99_local15 in f99_local7( f99_local10 ) do
		f99_local9[f99_local15] = f99_local14
	end
	for f99_local14, f99_local15 in ipairs( {
		nil,
		"coroutine",
		"debug",
		"io",
		"math",
		"string",
		"table",
		"os"
	} ) do
		local f99_local19 = f99_local7
		local f99_local18 = type( f99_local10[f99_local15] ) and f99_local10[f99_local15] or {}
		for f99_local16, f99_local17 in f99_local19( f99_local18 ) do
			f99_local9[f99_local17] = f99_local15 .. "." .. f99_local16
		end
	end
	f99_local11 = function ( f102_arg0, f102_arg1 )
		local f102_local0 = f102_arg1.name
		local f102_local1 = f102_arg1.indent
		local f102_local2 = f102_arg1.fatal
		local f102_local3 = f102_arg1.maxnum
		local f102_local4 = f102_arg1.sparse
		local f102_local5 = f102_arg1.custom
		local f102_local6 = not f102_arg1.nohuge
		local f102_local7
		if f102_arg1.compact then
			f102_local7 = ""
		else
			f102_local7 = " "
		end
		if not f102_arg1.maxlevel then
			local f102_local8 = math.huge
		end
		local f102_local9 = tonumber( f102_arg1.maxlength )
		local f102_local10 = f102_arg1.metatostring
		local f102_local11 = "_"
		local f102_local12
		if not f102_local0 then
			f102_local12 = f102_local0
		else
			f102_local12 = ""
		end
		f102_local11 = f102_local11 .. f102_local12
		if f102_arg1.comment and not tonumber( f102_arg1.comment ) then
			f102_local12 = math.huge
		end
		local f102_local13 = f102_arg1.numformat or "%.17g"
		local f102_local14 = {}
		local f102_local15 = {
			"local " .. f102_local11 .. "={}"
		}
		local f102_local16 = {}
		local f102_local17 = 0
		local f102_local18 = function ( f113_arg0 )
			local f113_local0 = "_"
			local f113_local1 = tostring( tostring( f113_arg0 ) )
			f113_local1 = f113_local1:gsub( "[^%w]", "" )
			return f113_local0 .. f113_local1:gsub( "(%d%w+)", function ( f114_arg0 )
				if not f113_arg0[f114_arg0] then
					f113_arg0 = f113_arg0 + 1
					f113_arg0[f114_arg0] = f113_arg0
				end
				return tostring( f113_arg0[f114_arg0] )
			end
			 )
		end
		
		local f102_local19 = function ( f112_arg0 )
			if type( f112_arg0 ) ~= "number" or not tostring( f102_arg0 and f102_arg0[tostring( f112_arg0 )] or f102_arg0:format( f112_arg0 ) ) then
				local f112_local0 = type( f112_arg0 )
				local f112_local1 = tostring( f112_arg0 )
				local f112_local2 = f112_local2.format( "%q", f112_arg0 )
				f112_local2 = f112_local2:gsub( "\n", "n" )
				local f112_local3 = f112_local2:gsub( "", "\\026" )
			end
			return f112_local0 and f112_local1 or f112_local3
		end
		
		local f102_local20 = function ( f111_arg0, f111_arg1 )
			local f111_local0
			if f102_arg0 then
				if not f111_arg1 then
					f111_local0 = f111_arg1
				else
					f111_local0 = 0
				end
				if f111_local0 < f102_arg0 then
					f111_local0 = " --[[" .. select( 2, pcall( tostring, f111_arg0 ) ) .. "]]"
					if not f111_local0 then
					
					else
						return f111_local0
					end
				end
			end
			f111_local0 = ""
		end
		
		local f102_local21 = function ( f110_arg0, f110_arg1 )
			local f110_local0
			if f102_arg0[f110_arg0] then
				f110_local0 = f102_arg0[f110_arg0] .. f102_arg0( f110_arg0, f110_arg1 )
				if not f110_local0 then
					if not f102_arg0 then
						f110_local0 = f102_arg0( select( 2, pcall( tostring, f110_arg0 ) ) )
						if not f110_local0 then
						
						else
							return f110_local0
						end
					end
					f110_local0 = error( "Can't serialize " .. tostring( f110_arg0 ) )
				end
			else
				if not f102_arg0 then
					f110_local0 = f102_arg0( select( 2, pcall( tostring, f110_arg0 ) ) )
					if not f110_local0 then
					
					else
						return f110_local0
					end
				end
				f110_local0 = error( "Can't serialize " .. tostring( f110_arg0 ) )
			end
			return f110_local0
		end
		
		local f102_local22 = function ( f109_arg0, f109_arg1 )
			local f109_local0
			if f109_arg1 == nil then
				f109_local0 = ""
			else
				f109_local0 = f109_arg1
			end
			local f109_local1
			if type( f109_local0 ) == "string" then
				f109_local1 = f109_local0:match( "^[%l%u_][%w_]*$" )
				if f109_local1 then
					f109_local1 = not f102_arg0[f109_local0]
				end
			else
				f109_local1 = false
			end
			local f109_local2
			if f109_local1 and not f109_local0 then
				f109_local2 = f109_local0
			else
				f109_local2 = "[" .. f102_arg0( f109_local0 ) .. "]"
			end
			local f109_local3
			if not f109_arg0 then
				f109_local3 = f109_arg0
			else
				f109_local3 = ""
			end
			local f109_local4
			if f109_local1 and f109_arg0 then
				f109_local4 = "."
			else
				f109_local4 = ""
			end
			return f109_local3 .. f109_local4 .. f109_local2, f109_local2
		end
		
		local f102_local23 = type( f102_arg1.sortkeys ) and f102_arg1.sortkeys or function ( f106_arg0, f106_arg1, f106_arg2 )
			local f106_local0 = tonumber( f106_arg2 ) or 12
			local f106_local1 = {
				string = "b",
				number = "a"
			}
			local f106_local2 = function ( f108_arg0 )
				local f108_local0 = "%0" .. tostring( f106_arg0 ) .. "d"
				local f108_local1 = f108_local0
				return f108_local0.format( tonumber( f108_arg0 ) )
			end
			
			table.sort( f106_arg0, function ( f107_arg0, f107_arg1 )
				local f107_local0
				if f106_arg0[f107_arg0] ~= nil then
					f107_local0 = 0
				else
					f107_local0 = f106_arg0[type( f107_arg0 )] or "z"
				end
				local f107_local1 = tostring( f107_arg0 )
				f107_local0 = f107_local0 .. f107_local1:gsub( "%d+", f106_arg0 )
				if f106_arg0[f107_arg1] ~= nil then
					f107_local1 = 0
				else
					f107_local1 = f106_arg0[type( f107_arg1 )] or "z"
				end
				local f107_local2 = tostring( f107_arg1 )
				return f107_local0 < f107_local1 .. f107_local2:gsub( "%d+", f106_arg0 )
			end )
		end
		
		local f102_local24 = function ( f103_arg0, f103_arg1, f103_arg2, f103_arg3, f103_arg4, f103_arg5, f103_arg6 )
			local f103_local0 = type( f103_arg0 )
			local f103_local1
			if not f103_arg6 then
				f103_local1 = f103_arg6
			else
				f103_local1 = 0
			end
			local f103_local2 = f102_arg0( f103_arg0 )
			local f103_local3, f103_local4 = f102_arg0( f103_arg4, f103_arg1 )
			local f103_local5
			if f103_arg5 then
				if type( f103_arg1 ) == "number" then
					f103_local5 = ""
				else
					f103_local5 = f103_arg1 .. f102_arg0 .. "=" .. f102_arg0
					if not f103_local5 then
						if f103_arg1 ~= nil then
							f103_local5 = f103_local4 .. f102_arg0 .. "=" .. f102_arg0
							if not f103_local5 then
							
							else
								if f102_arg0[f103_arg0] then
									f102_arg0[#f102_arg0 + 1] = f103_local3 .. f102_arg0 .. "=" .. f102_arg0 .. f102_arg0[f103_arg0]
									local f103_local6 = f103_local5 .. "nil" .. f102_arg0( "ref", f103_local1 )
								end
								if type( f103_local2 ) == "table" and f102_arg0 ~= false then
									local f103_local6, f103_local7 = nil
									if f103_local2.__tostring ~= nil then
										f103_local6, f103_local7 = pcall( function ()
											return f103_arg0:__tostring()
										end )
									end
									local f103_local8, f103_local9 = nil
									if f103_local2.__serialize ~= nil then
										f103_local8, f103_local9 = pcall( function ()
											return f103_arg0:__serialize()
										end )
									end
									if f103_local6 or f103_local8 then
										local f103_local10 = f102_arg0
										local f103_local11
										if not f103_arg3 then
											f103_local11 = f103_arg3
										else
											f103_local11 = f103_local3
										end
										f103_local10[f103_arg0] = f103_local11
										if f103_local8 and not f103_local9 then
											f103_arg0 = f103_local9
										else
											f103_arg0 = f103_local7
										end
										f103_local0 = type( f103_arg0 )
									end
								end
								if f103_local0 == "table" then
									if f102_arg0 <= f103_local1 then
										return f103_local5 .. "{}" .. f102_arg0( "maxlvl", f103_local1 )
									end
									local f103_local6 = f102_arg0
									local f103_local7
									if not f103_arg3 then
										f103_local7 = f103_arg3
									else
										f103_local7 = f103_local3
									end
									f103_local6[f103_arg0] = f103_local7
									if next( f103_arg0 ) == nil then
										return f103_local5 .. "{}" .. f102_arg0( f103_arg0, f103_local1 )
									elseif f102_arg0 and f102_arg0 < 0 then
										return f103_local5 .. "{}" .. f102_arg0( "maxlen", f103_local1 )
									end
									f103_local6 = math.min( #f103_arg0, f102_arg0 or #f103_arg0 )
									f103_local7 = {}
									local f103_local8 = {}
									for f103_local9 = 1, f103_local6, 1 do
										f103_local7[f103_local9] = f103_local9
									end
									if not f102_arg0 or #f103_local7 < f102_arg0 then
										local f103_local9 = #f103_local7
										for f103_local13 in f102_arg0( f103_arg0 ) do
											if f103_local7[f103_local13] ~= f103_local13 then
												f103_local7[f103_local9 + 1] = f103_local13
											end
										end
									end
									if f102_arg0 and f102_arg0 < #f103_local7 then
										f103_local7[f102_arg0 + 1] = nil
									end
									if f102_arg0.sortkeys and f103_local6 < #f103_local7 then
										f102_arg0( f103_local7, f103_arg0, f102_arg0.sortkeys )
									end
									f103_local9 = f102_arg0
									if f103_local9 then
										f103_local9 = f103_local6 < #f103_local7
									end
									for f103_local13, f103_local24 in ipairs( f103_local7 ) do
										local f103_local25 = f103_arg0[f103_local24]
										local f103_local26 = type( f103_local24 )
										local f103_local14
										if f103_local13 <= f103_local6 then
											f103_local14 = not f103_local9
										else
											f103_local14 = false
										end
										if (not f102_arg0.valignore or not f102_arg0.valignore[f103_local25]) and (not f102_arg0.keyallow or f102_arg0.keyallow[f103_local24]) and (not f102_arg0.keyignore or not f102_arg0.keyignore[f103_local24]) and (not f102_arg0.valtypeignore or not f102_arg0.valtypeignore[type( f103_local25 )]) then
											if f103_local9 and f103_local25 == nil then
												
											end
											if f103_local26 == "table" or f103_local26 == "function" or f102_arg0[f103_local26] then
												if not f102_arg0[f103_local24] and not f102_arg0[f103_local24] then
													f102_arg0[#f102_arg0 + 1] = "placeholder"
													local f103_local15 = f102_arg0( f102_arg0, f102_arg0( f103_local24 ) )
													f102_arg0[#f102_arg0] = f102_arg0( f103_local24, f103_local15, f103_arg2, f103_local15, f102_arg0, true )
												end
												f102_arg0[#f102_arg0 + 1] = "placeholder"
												local f103_local15 = f102_arg0[f103_arg0]
												local f103_local16 = "["
												local f103_local17 = tostring
												local f103_local18 = f102_arg0[f103_local24]
												if not f103_local18 then
													f103_local18 = f102_arg0[f103_local24]
													if not f103_local18 then
														f103_local18 = f102_arg0( f103_local24 )
													end
												end
												f103_local15 = f103_local15 .. f103_local16 .. f103_local17( f103_local18 ) .. "]"
												f103_local16 = f102_arg0
												f103_local17 = #f102_arg0
												local f103_local19 = f103_local15
												f103_local18 = f102_arg0
												local f103_local20 = "="
												local f103_local21 = f102_arg0
												local f103_local22 = tostring
												local f103_local23 = f102_arg0[f103_local25]
												if not f103_local23 then
													f103_local23 = f102_arg0( f103_local25, nil, f103_arg2, f103_local15 )
												end
												f103_local16[f103_local17] = f103_local19 .. f103_local18 .. f103_local20 .. f103_local21 .. f103_local22( f103_local23 )
											end
											f103_local8[#f103_local8 + 1] = f102_arg0( f103_local25, f103_local24, f103_arg2, nil, f102_arg0[f103_arg0], f103_local14, f103_local1 + 1 )
											if f102_arg0 then
												f102_arg0 = f102_arg0 - #f103_local8[#f103_local8]
												if f102_arg0 < 0 then
													break
												end
											end
										end
									end
									f103_local10 = string.rep
									if not f103_arg2 then
										f103_local12 = f103_arg2
									else
										f103_local12 = ""
									end
									f103_local10 = f103_local10( f103_local12, f103_local1 )
									if f103_arg2 then
										f103_local11 = "{\n" .. f103_local10 .. f103_arg2
										if not f103_local11 then
										
										else
											f103_local12 = table.concat
											f103_local24 = f103_local8
											local f103_local25 = ","
											local f103_local26
											if f103_arg2 then
												f103_local26 = "\n" .. f103_local10 .. f103_arg2
												if not f103_local26 then
												
												else
													f103_local12 = f103_local12( f103_local24, f103_local25 .. f103_local26 )
													if f103_arg2 then
														f103_local13 = "\n" .. f103_local10 .. "}"
														if not f103_local13 then
														
														else
															return (f102_arg0 and f102_arg0( f103_local5, f103_local11, f103_local12, f103_local13, f103_local1 ) or f103_local5 .. f103_local11 .. f103_local12 .. f103_local13) .. f102_arg0( f103_arg0, f103_local1 )
														end
													end
													f103_local13 = "}"
												end
											end
											f103_local26 = f102_arg0
										end
									end
									f103_local11 = "{"
								elseif f102_arg0[f103_local0] then
									local f103_local6 = f102_arg0
									local f103_local7
									if not f103_arg3 then
										f103_local7 = f103_arg3
									else
										f103_local7 = f103_local3
									end
									f103_local6[f103_arg0] = f103_local7
									return f103_local5 .. f102_arg0( f103_arg0, f103_local1 )
								elseif f103_local0 == "function" then
									local f103_local6 = f102_arg0
									local f103_local7
									if not f103_arg3 then
										f103_local7 = f103_arg3
									else
										f103_local7 = f103_local3
									end
									f103_local6[f103_arg0] = f103_local7
									if f102_arg0.nocode then
										return f103_local5 .. "function() --[[..skipped..]] end" .. f102_arg0( f103_arg0, f103_local1 )
									end
									f103_local6, f103_local7 = pcall( string.dump, f103_arg0 )
									local f103_local8
									if f103_local6 then
										f103_local8 = f103_local6
									else
										f103_local8 = "( ( loadstring or load )( " .. f102_arg0( f103_local7 ) .. ",'@serialized' ) )" .. f102_arg0( f103_arg0, f103_local1 )
									end
									local f103_local9 = f103_local5
									local f103_local10
									if not f103_local8 then
										f103_local10 = f103_local8
									else
										f103_local10 = f102_arg0( f103_arg0, f103_local1 )
									end
									return f103_local9 .. f103_local10
								else
									return f103_local5 .. f102_arg0( f103_arg0 )
								end
							end
						end
						f103_local5 = ""
					end
				end
			else
				if f103_arg1 ~= nil then
					f103_local5 = f103_local4 .. f102_arg0 .. "=" .. f102_arg0
					if not f103_local5 then
					
					else
						if f102_arg0[f103_arg0] then
							f102_arg0[#f102_arg0 + 1] = f103_local3 .. f102_arg0 .. "=" .. f102_arg0 .. f102_arg0[f103_arg0]
							local f103_local6 = f103_local5 .. "nil" .. f102_arg0( "ref", f103_local1 )
						end
						if type( f103_local2 ) == "table" and f102_arg0 ~= false then
							local f103_local6, f103_local7 = nil
							if f103_local2.__tostring ~= nil then
								f103_local6, f103_local7 = pcall( function ()
									return f103_arg0:__tostring()
								end )
							end
							local f103_local8, f103_local9 = nil
							if f103_local2.__serialize ~= nil then
								f103_local8, f103_local9 = pcall( function ()
									return f103_arg0:__serialize()
								end )
							end
							if f103_local6 or f103_local8 then
								local f103_local10 = f102_arg0
								local f103_local11
								if not f103_arg3 then
									f103_local11 = f103_arg3
								else
									f103_local11 = f103_local3
								end
								f103_local10[f103_arg0] = f103_local11
								if f103_local8 and not f103_local9 then
									f103_arg0 = f103_local9
								else
									f103_arg0 = f103_local7
								end
								f103_local0 = type( f103_arg0 )
							end
						end
						if f103_local0 == "table" then
							if f102_arg0 <= f103_local1 then
								return f103_local5 .. "{}" .. f102_arg0( "maxlvl", f103_local1 )
							end
							local f103_local6 = f102_arg0
							local f103_local7
							if not f103_arg3 then
								f103_local7 = f103_arg3
							else
								f103_local7 = f103_local3
							end
							f103_local6[f103_arg0] = f103_local7
							if next( f103_arg0 ) == nil then
								return f103_local5 .. "{}" .. f102_arg0( f103_arg0, f103_local1 )
							elseif f102_arg0 and f102_arg0 < 0 then
								return f103_local5 .. "{}" .. f102_arg0( "maxlen", f103_local1 )
							end
							f103_local6 = math.min( #f103_arg0, f102_arg0 or #f103_arg0 )
							f103_local7 = {}
							local f103_local8 = {}
							for f103_local9 = 1, f103_local6, 1 do
								f103_local7[f103_local9] = f103_local9
							end
							if not f102_arg0 or #f103_local7 < f102_arg0 then
								local f103_local9 = #f103_local7
								for f103_local13 in f102_arg0( f103_arg0 ) do
									if f103_local7[f103_local13] ~= f103_local13 then
										f103_local7[f103_local9 + 1] = f103_local13
									end
								end
							end
							if f102_arg0 and f102_arg0 < #f103_local7 then
								f103_local7[f102_arg0 + 1] = nil
							end
							if f102_arg0.sortkeys and f103_local6 < #f103_local7 then
								f102_arg0( f103_local7, f103_arg0, f102_arg0.sortkeys )
							end
							f103_local9 = f102_arg0
							if f103_local9 then
								f103_local9 = f103_local6 < #f103_local7
							end
							for f103_local13, f103_local24 in ipairs( f103_local7 ) do
								local f103_local25 = f103_arg0[f103_local24]
								local f103_local26 = type( f103_local24 )
								local f103_local14
								if f103_local13 <= f103_local6 then
									f103_local14 = not f103_local9
								else
									f103_local14 = false
								end
								if (not f102_arg0.valignore or not f102_arg0.valignore[f103_local25]) and (not f102_arg0.keyallow or f102_arg0.keyallow[f103_local24]) and (not f102_arg0.keyignore or not f102_arg0.keyignore[f103_local24]) and (not f102_arg0.valtypeignore or not f102_arg0.valtypeignore[type( f103_local25 )]) then
									if f103_local9 and f103_local25 == nil then
										
									end
									if f103_local26 == "table" or f103_local26 == "function" or f102_arg0[f103_local26] then
										if not f102_arg0[f103_local24] and not f102_arg0[f103_local24] then
											f102_arg0[#f102_arg0 + 1] = "placeholder"
											local f103_local15 = f102_arg0( f102_arg0, f102_arg0( f103_local24 ) )
											f102_arg0[#f102_arg0] = f102_arg0( f103_local24, f103_local15, f103_arg2, f103_local15, f102_arg0, true )
										end
										f102_arg0[#f102_arg0 + 1] = "placeholder"
										local f103_local15 = f102_arg0[f103_arg0]
										local f103_local16 = "["
										local f103_local17 = tostring
										local f103_local18 = f102_arg0[f103_local24]
										if not f103_local18 then
											f103_local18 = f102_arg0[f103_local24]
											if not f103_local18 then
												f103_local18 = f102_arg0( f103_local24 )
											end
										end
										f103_local15 = f103_local15 .. f103_local16 .. f103_local17( f103_local18 ) .. "]"
										f103_local16 = f102_arg0
										f103_local17 = #f102_arg0
										local f103_local19 = f103_local15
										f103_local18 = f102_arg0
										local f103_local20 = "="
										local f103_local21 = f102_arg0
										local f103_local22 = tostring
										local f103_local23 = f102_arg0[f103_local25]
										if not f103_local23 then
											f103_local23 = f102_arg0( f103_local25, nil, f103_arg2, f103_local15 )
										end
										f103_local16[f103_local17] = f103_local19 .. f103_local18 .. f103_local20 .. f103_local21 .. f103_local22( f103_local23 )
									end
									f103_local8[#f103_local8 + 1] = f102_arg0( f103_local25, f103_local24, f103_arg2, nil, f102_arg0[f103_arg0], f103_local14, f103_local1 + 1 )
									if f102_arg0 then
										f102_arg0 = f102_arg0 - #f103_local8[#f103_local8]
										if f102_arg0 < 0 then
											break
										end
									end
								end
							end
							f103_local10 = string.rep
							if not f103_arg2 then
								f103_local12 = f103_arg2
							else
								f103_local12 = ""
							end
							f103_local10 = f103_local10( f103_local12, f103_local1 )
							if f103_arg2 then
								f103_local11 = "{\n" .. f103_local10 .. f103_arg2
								if not f103_local11 then
								
								else
									f103_local12 = table.concat
									f103_local24 = f103_local8
									local f103_local25 = ","
									local f103_local26
									if f103_arg2 then
										f103_local26 = "\n" .. f103_local10 .. f103_arg2
										if not f103_local26 then
										
										else
											f103_local12 = f103_local12( f103_local24, f103_local25 .. f103_local26 )
											if f103_arg2 then
												f103_local13 = "\n" .. f103_local10 .. "}"
												if not f103_local13 then
												
												else
													return (f102_arg0 and f102_arg0( f103_local5, f103_local11, f103_local12, f103_local13, f103_local1 ) or f103_local5 .. f103_local11 .. f103_local12 .. f103_local13) .. f102_arg0( f103_arg0, f103_local1 )
												end
											end
											f103_local13 = "}"
										end
									end
									f103_local26 = f102_arg0
								end
							end
							f103_local11 = "{"
						elseif f102_arg0[f103_local0] then
							local f103_local6 = f102_arg0
							local f103_local7
							if not f103_arg3 then
								f103_local7 = f103_arg3
							else
								f103_local7 = f103_local3
							end
							f103_local6[f103_arg0] = f103_local7
							return f103_local5 .. f102_arg0( f103_arg0, f103_local1 )
						elseif f103_local0 == "function" then
							local f103_local6 = f102_arg0
							local f103_local7
							if not f103_arg3 then
								f103_local7 = f103_arg3
							else
								f103_local7 = f103_local3
							end
							f103_local6[f103_arg0] = f103_local7
							if f102_arg0.nocode then
								return f103_local5 .. "function() --[[..skipped..]] end" .. f102_arg0( f103_arg0, f103_local1 )
							end
							f103_local6, f103_local7 = pcall( string.dump, f103_arg0 )
							local f103_local8
							if f103_local6 then
								f103_local8 = f103_local6
							else
								f103_local8 = "( ( loadstring or load )( " .. f102_arg0( f103_local7 ) .. ",'@serialized' ) )" .. f102_arg0( f103_arg0, f103_local1 )
							end
							local f103_local9 = f103_local5
							local f103_local10
							if not f103_local8 then
								f103_local10 = f103_local8
							else
								f103_local10 = f102_arg0( f103_arg0, f103_local1 )
							end
							return f103_local9 .. f103_local10
						else
							return f103_local5 .. f102_arg0( f103_arg0 )
						end
					end
				end
				f103_local5 = ""
			end
			if f102_arg0[f103_arg0] then
				f102_arg0[#f102_arg0 + 1] = f103_local3 .. f102_arg0 .. "=" .. f102_arg0 .. f102_arg0[f103_arg0]
				local f103_local6 = f103_local5 .. "nil" .. f102_arg0( "ref", f103_local1 )
			end
			if type( f103_local2 ) == "table" and f102_arg0 ~= false then
				local f103_local6, f103_local7 = nil
				if f103_local2.__tostring ~= nil then
					f103_local6, f103_local7 = pcall( function ()
						return f103_arg0:__tostring()
					end )
				end
				local f103_local8, f103_local9 = nil
				if f103_local2.__serialize ~= nil then
					f103_local8, f103_local9 = pcall( function ()
						return f103_arg0:__serialize()
					end )
				end
				if f103_local6 or f103_local8 then
					local f103_local10 = f102_arg0
					local f103_local11
					if not f103_arg3 then
						f103_local11 = f103_arg3
					else
						f103_local11 = f103_local3
					end
					f103_local10[f103_arg0] = f103_local11
					if f103_local8 and not f103_local9 then
						f103_arg0 = f103_local9
					else
						f103_arg0 = f103_local7
					end
					f103_local0 = type( f103_arg0 )
				end
			end
			if f103_local0 == "table" then
				if f102_arg0 <= f103_local1 then
					return f103_local5 .. "{}" .. f102_arg0( "maxlvl", f103_local1 )
				end
				local f103_local6 = f102_arg0
				local f103_local7
				if not f103_arg3 then
					f103_local7 = f103_arg3
				else
					f103_local7 = f103_local3
				end
				f103_local6[f103_arg0] = f103_local7
				if next( f103_arg0 ) == nil then
					return f103_local5 .. "{}" .. f102_arg0( f103_arg0, f103_local1 )
				elseif f102_arg0 and f102_arg0 < 0 then
					return f103_local5 .. "{}" .. f102_arg0( "maxlen", f103_local1 )
				end
				f103_local6 = math.min( #f103_arg0, f102_arg0 or #f103_arg0 )
				f103_local7 = {}
				local f103_local8 = {}
				for f103_local9 = 1, f103_local6, 1 do
					f103_local7[f103_local9] = f103_local9
				end
				if not f102_arg0 or #f103_local7 < f102_arg0 then
					local f103_local9 = #f103_local7
					for f103_local13 in f102_arg0( f103_arg0 ) do
						if f103_local7[f103_local13] ~= f103_local13 then
							f103_local7[f103_local9 + 1] = f103_local13
						end
					end
				end
				if f102_arg0 and f102_arg0 < #f103_local7 then
					f103_local7[f102_arg0 + 1] = nil
				end
				if f102_arg0.sortkeys and f103_local6 < #f103_local7 then
					f102_arg0( f103_local7, f103_arg0, f102_arg0.sortkeys )
				end
				f103_local9 = f102_arg0
				if f103_local9 then
					f103_local9 = f103_local6 < #f103_local7
				end
				for f103_local13, f103_local24 in ipairs( f103_local7 ) do
					local f103_local25 = f103_arg0[f103_local24]
					local f103_local26 = type( f103_local24 )
					local f103_local14
					if f103_local13 <= f103_local6 then
						f103_local14 = not f103_local9
					else
						f103_local14 = false
					end
					if (not f102_arg0.valignore or not f102_arg0.valignore[f103_local25]) and (not f102_arg0.keyallow or f102_arg0.keyallow[f103_local24]) and (not f102_arg0.keyignore or not f102_arg0.keyignore[f103_local24]) and (not f102_arg0.valtypeignore or not f102_arg0.valtypeignore[type( f103_local25 )]) then
						if f103_local9 and f103_local25 == nil then
							
						end
						if f103_local26 == "table" or f103_local26 == "function" or f102_arg0[f103_local26] then
							if not f102_arg0[f103_local24] and not f102_arg0[f103_local24] then
								f102_arg0[#f102_arg0 + 1] = "placeholder"
								local f103_local15 = f102_arg0( f102_arg0, f102_arg0( f103_local24 ) )
								f102_arg0[#f102_arg0] = f102_arg0( f103_local24, f103_local15, f103_arg2, f103_local15, f102_arg0, true )
							end
							f102_arg0[#f102_arg0 + 1] = "placeholder"
							local f103_local15 = f102_arg0[f103_arg0]
							local f103_local16 = "["
							local f103_local17 = tostring
							local f103_local18 = f102_arg0[f103_local24]
							if not f103_local18 then
								f103_local18 = f102_arg0[f103_local24]
								if not f103_local18 then
									f103_local18 = f102_arg0( f103_local24 )
								end
							end
							f103_local15 = f103_local15 .. f103_local16 .. f103_local17( f103_local18 ) .. "]"
							f103_local16 = f102_arg0
							f103_local17 = #f102_arg0
							local f103_local19 = f103_local15
							f103_local18 = f102_arg0
							local f103_local20 = "="
							local f103_local21 = f102_arg0
							local f103_local22 = tostring
							local f103_local23 = f102_arg0[f103_local25]
							if not f103_local23 then
								f103_local23 = f102_arg0( f103_local25, nil, f103_arg2, f103_local15 )
							end
							f103_local16[f103_local17] = f103_local19 .. f103_local18 .. f103_local20 .. f103_local21 .. f103_local22( f103_local23 )
						end
						f103_local8[#f103_local8 + 1] = f102_arg0( f103_local25, f103_local24, f103_arg2, nil, f102_arg0[f103_arg0], f103_local14, f103_local1 + 1 )
						if f102_arg0 then
							f102_arg0 = f102_arg0 - #f103_local8[#f103_local8]
							if f102_arg0 < 0 then
								break
							end
						end
					end
				end
				f103_local10 = string.rep
				if not f103_arg2 then
					f103_local12 = f103_arg2
				else
					f103_local12 = ""
				end
				f103_local10 = f103_local10( f103_local12, f103_local1 )
				if f103_arg2 then
					f103_local11 = "{\n" .. f103_local10 .. f103_arg2
					if not f103_local11 then
					
					else
						f103_local12 = table.concat
						f103_local24 = f103_local8
						local f103_local25 = ","
						local f103_local26
						if f103_arg2 then
							f103_local26 = "\n" .. f103_local10 .. f103_arg2
							if not f103_local26 then
							
							else
								f103_local12 = f103_local12( f103_local24, f103_local25 .. f103_local26 )
								if f103_arg2 then
									f103_local13 = "\n" .. f103_local10 .. "}"
									if not f103_local13 then
									
									else
										return (f102_arg0 and f102_arg0( f103_local5, f103_local11, f103_local12, f103_local13, f103_local1 ) or f103_local5 .. f103_local11 .. f103_local12 .. f103_local13) .. f102_arg0( f103_arg0, f103_local1 )
									end
								end
								f103_local13 = "}"
							end
						end
						f103_local26 = f102_arg0
					end
				end
				f103_local11 = "{"
			elseif f102_arg0[f103_local0] then
				local f103_local6 = f102_arg0
				local f103_local7
				if not f103_arg3 then
					f103_local7 = f103_arg3
				else
					f103_local7 = f103_local3
				end
				f103_local6[f103_arg0] = f103_local7
				return f103_local5 .. f102_arg0( f103_arg0, f103_local1 )
			elseif f103_local0 == "function" then
				local f103_local6 = f102_arg0
				local f103_local7
				if not f103_arg3 then
					f103_local7 = f103_arg3
				else
					f103_local7 = f103_local3
				end
				f103_local6[f103_arg0] = f103_local7
				if f102_arg0.nocode then
					return f103_local5 .. "function() --[[..skipped..]] end" .. f102_arg0( f103_arg0, f103_local1 )
				end
				f103_local6, f103_local7 = pcall( string.dump, f103_arg0 )
				local f103_local8
				if f103_local6 then
					f103_local8 = f103_local6
				else
					f103_local8 = "( ( loadstring or load )( " .. f102_arg0( f103_local7 ) .. ",'@serialized' ) )" .. f102_arg0( f103_arg0, f103_local1 )
				end
				local f103_local9 = f103_local5
				local f103_local10
				if not f103_local8 then
					f103_local10 = f103_local8
				else
					f103_local10 = f102_arg0( f103_arg0, f103_local1 )
				end
				return f103_local9 .. f103_local10
			else
				return f103_local5 .. f102_arg0( f103_arg0 )
			end
		end
		
		local f102_local25
		if f102_local1 then
			f102_local25 = "\n"
		else
			f102_local25 = ";" .. f102_local7
		end
		local f102_local26 = f102_local24( f102_arg0, f102_local0, f102_local1 )
		local f102_local27
		if 1 < #f102_local15 then
			f102_local27 = table.concat( f102_local15, f102_local25 ) .. f102_local25
			if not f102_local27 then
			
			else
				local f102_local28
				if f102_arg1.comment and 1 < #f102_local15 then
					f102_local28 = f102_local7 .. "--[[incomplete output with shared/self-references skipped]]"
					if not f102_local28 then
					
					else
						local f102_local29
						if not f102_local0 then
							f102_local29 = f102_local26 .. f102_local28
							if not f102_local29 then
							
							else
								return f102_local29
							end
						end
						f102_local29 = "do local " .. f102_local26 .. f102_local25 .. f102_local27 .. "return " .. f102_local0 .. f102_local25 .. "end"
					end
				end
				f102_local28 = ""
			end
		end
		f102_local27 = ""
	end
	
	f99_local12 = function ( f101_arg0, f101_arg1 )
		if f101_arg1 then
			for f101_local3, f101_local4 in f99_local0( f101_arg1 ) do
				f101_arg0[f101_local3] = f101_local4
			end
		end
		return f101_arg0
	end
	
	return {
		_NAME = f99_local0,
		_COPYRIGHT = f99_local2,
		_DESCRIPTION = f99_local3,
		_VERSION = f99_local1,
		serialize = f99_local11,
		dump = function ( f100_arg0, f100_arg1 )
			local f100_local0 = f99_local0
			local f100_local1 = f100_arg0
			return f100_local0( f99_local0( {
				sparse = true,
				name = "_",
				compact = true
			}, f100_arg1 ) )
		end
		
	}
end

f0_local1 = f0_local1()
function SaveMenuStack( f98_arg0 )
	assert( f98_arg0 )
	assert( f98_arg0.flowManager )
	local f98_local0 = {}
	for f98_local4, f98_local5 in ipairs( f98_arg0.flowManager.menuInfoStack ) do
		table.insert( f98_local0, CreateMenuInfoSaveData( f98_local5 ) )
	end
	return f0_local0.dump( f98_local0, {
		sparse = false
	} )
end

function RestoreMenuStack( f97_arg0, f97_arg1 )
	assert( f97_arg0 )
	assert( f97_arg0.flowManager )
	assert( f97_arg1 )
	local f97_local0 = f97_arg0.flowManager
	f97_local0:closeAllMenus()
	local f97_local1, f97_local2 = loadstring( f97_arg1 )
	if f97_local1 then
		local f97_local3, f97_local4 = pcall( f97_local1 )
		for f97_local9, f97_local10 in ipairs( f97_local4 ) do
			local f97_local11 = f97_local10.name
			assert( f97_local11 )
			local f97_local8 = f97_local11
			if f97_local8 == "CPMainMenu" and CONDITIONS.IsZombiesEnabledInFreeTrial() then
				f97_local8 = f97_local8 .. "NoPremium"
			end
			if FenceGroups[f97_local8] then
				f97_local10.fenceGroup = LUI.FenceGroup.new( FenceGroups[f97_local8], f97_local10.controller, f97_local10.buildData )
			end
			f97_local10.scopedData = MakeScopedDataForMenuInfo( f97_local10 )
			f97_local0:PushMenuInfo( f97_local10 )
		end
	end
	f97_arg0:TryAddMouseCursor()
end

function IsMenuInStack( f96_arg0, f96_arg1 )
	assert( f96_arg0 )
	local f96_local0 = f96_arg0.flowManager
	if not f96_local0 then
		return false
	else
		return f96_local0:StackContains( f96_arg1 )
	end
end

function IsMenuOpenAndVisible( f95_arg0, f95_arg1 )
	assert( f95_arg0 )
	local f95_local0 = f95_arg0.flowManager
	if not f95_local0 then
		return false
	elseif f95_local0.menuInfoStack then
		for f95_local4, f95_local5 in ipairs( f95_local0.menuInfoStack ) do
			if f95_local5.name == f95_arg1 and f95_local5.menu ~= nil then
				return true
			end
		end
	end
	return false
end

function AnyActiveMenusInStack( f94_arg0 )
	assert( f94_arg0 )
	local f94_local0 = f94_arg0.flowManager
	if not f94_local0 then
		return false
	elseif f94_local0.menuInfoStack then
		for f94_local4, f94_local5 in ipairs( f94_local0.menuInfoStack ) do
			if f94_local5.menu then
				return true
			end
		end
	end
	return false
end

function GetVisibleMenu( f93_arg0 )
	assert( f93_arg0 )
	local f93_local0 = f93_arg0.flowManager
	if not f93_local0 then
		return ""
	elseif f93_local0.menuInfoStack then
		local f93_local1 = f93_local0.menuInfoStack[#f93_local0.menuInfoStack]
		if f93_local1 and f93_local1.menu then
			if f93_local1.menu.id then
				return f93_local1.menu.id
			elseif f93_local1.menu.name then
				return f93_local1.menu.name
			end
		end
	end
	return ""
end

function GetAllMenuNames()
	local f92_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f92_local0 )
	local f92_local1 = f92_local0.flowManager
	local f92_local2 = nil
	if f92_local1 and f92_local1.menuInfoStack then
		for f92_local3 = #f92_local1.menuInfoStack, 1, -1 do
			local f92_local6 = f92_local1.menuInfoStack[f92_local3].name
			if f92_local6 and f92_local6 ~= "" then
				if f92_local3 == #f92_local1.menuInfoStack and not f92_local6 then
					f92_local2 = f92_local6
				else
					f92_local2 = f92_local2 .. ";" .. f92_local6
				end
			end
		end
	end
	return f92_local2
end

function GetLuiStreamerInfo( f91_arg0, f91_arg1 )
	if f91_arg0 and f91_arg0:getFirstChild() then
		
	else
		
	end
end

function GetLuiImageStreamersInfo()
	local f90_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f90_local0 )
	local f90_local1 = {
		value = nil
	}
	local f90_local2 = f90_local0.flowManager
	if f90_local2 and f90_local2.menuInfoStack then
		for f90_local3 = #f90_local2.menuInfoStack, 1, -1 do
			local f90_local6 = f90_local2.menuInfoStack[f90_local3]
			GetLuiStreamerInfo( f90_local6.menu, f90_local1 )
			f90_local1.value = ";" .. f90_local6.name .. ": " .. f90_local1.value .. ";"
		end
	end
	return f90_local1.value
end

function PrintLuiStreamedImageInfo( f89_arg0, f89_arg1 )
	if f89_arg0 and f89_arg0:getFirstChild() then
		
	else
		
	end
end

function GetLuiStreamedImageList( f88_arg0 )
	local f88_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f88_local0 )
	if f88_local0:getFirstChild() then
		
	else
		
	end
end

function GetAttachmentsReference( f87_arg0 )
	if CONDITIONS.InGame() then
		local f87_local0 = ""
		local f87_local1 = Game[0x7A240787D8A22FE]( f87_arg0, true )
		if f87_local1 and 0 < #f87_local1 then
			for f87_local2 = 1, #f87_local1, 1 do
				if f87_local1[f87_local2].ref then
					local f87_local5 = f87_local1[f87_local2].ref
					local f87_local6 = f87_local1[f87_local2].variantID
					if f87_local6 and 0 < f87_local6 then
						f87_local5 = f87_local5 .. "|" .. f87_local6
					end
					if f87_local0 ~= "" then
						local f87_local7 = f87_local0 .. ";" .. f87_local5
						if not f87_local7 then
							f87_local0 = f87_local7
						else
							f87_local0 = f87_local5
						end
					end
					f87_local0 = f87_local5
				end
			end
			return f87_local0
		end
	end
	return ""
end

function GetFrontsceneWeaponModelName( f86_arg0 )
	if Engine[0x12586A3F4FB490E]() then
		local f86_local0 = f86_arg0.flowManager
		if f86_local0 and f86_local0.menuInfoStack then
			local f86_local1 = f86_local0.menuInfoStack[#f86_local0.menuInfoStack]
			if f86_local1 and f86_local1.menu and f86_local1.menu.id == "AttachmentSelect" then
				local f86_local2 = LUI.FlowManager.GetScopedData( f86_local1.menu )
				if f86_local2.loadoutIndex then
					local f86_local3 = ""
					local f86_local4 = LOADOUT.GetLoadoutsPlayerData( Engine[0x45B054C920178E9]() )
					local f86_local5 = f86_local4[f86_local2.loadoutIndex].weaponSetups[f86_local2.weaponSlot]
					return WEAPON.GetWeaponModelName( f86_local5.weapon:get(), WEAPON.GenerateWeaponTable( f86_local5 ), {
						includeStickers = true,
						includeCamos = true,
						includeAttachments = true
					} )
				end
			end
		end
	end
	return ""
end

function IsTopSignInMenu( f85_arg0 )
	assert( f85_arg0 )
	if not CONDITIONS.IsSplitScreenEnabled() then
		return false
	end
	local f85_local0 = f85_arg0.flowManager
	if not f85_local0 then
		return false
	end
	local f85_local1 = false
	if not LUI.UIRoot.IsButtonInputBlocked( f85_arg0 ) and f85_local0.menuInfoStack then
		local f85_local2 = f85_local0.menuInfoStack[#f85_local0.menuInfoStack]
		if f85_local2 and f85_local2.menu and f85_local2.menu.isSignInMenu then
			local f85_local3 = LUI.FlowManager.GetScopedData( f85_local2.menu )
			if f85_local3 and f85_local3.focusedPage and 2 < f85_local3.focusedPage then
				
			else
				f85_local1 = true
			end
		end
	end
	return f85_local1
end

function CanSignoutSplitscreenPlayer( f84_arg0 )
	assert( f84_arg0 )
	local f84_local0 = f84_arg0.flowManager
	local f84_local1 = false
	if not LUI.UIRoot.IsButtonInputBlocked( f84_arg0 ) and f84_local0.menuInfoStack then
		local f84_local2 = f84_local0.menuInfoStack[#f84_local0.menuInfoStack]
		if f84_local2 and f84_local2.menu and f84_local2.menu.signoutSplitscreen ~= false then
			f84_local1 = true
		end
	end
	return f84_local1
end

function IsTopLocalSignInMenu( f83_arg0 )
	return false
end

LUI.FlowManager.closeAllMenusHandler = function ( f82_arg0, f82_arg1 )
	f82_arg0:closeAllMenus()
end

LUI.FlowManager.restoreMenuHandler = function ( f81_arg0, f81_arg1 )
	f81_arg0:restoreMenu( f81_arg1 )
	LUI.UIRoot.BlockButtonInput( f81_arg0.root, false, "RestoreMenuHandler" )
end

LUI.FlowManager.addMenuHandler = function ( f80_arg0, f80_arg1 )
	f80_arg0:addMenu( f80_arg1 )
	LUI.UIRoot.BlockButtonInput( f80_arg0.root, false, "AddMenuHandler" )
end

LUI.FlowManager.popupMenuHandler = function ( f79_arg0, f79_arg1 )
	f79_arg1.isPopup = true
	f79_arg0:addMenuHandler( f79_arg1 )
end

LUI.FlowManager.leaveMenuHandler = function ( f78_arg0, f78_arg1 )
	f78_arg0:leaveMenu( f78_arg1 )
	LUI.UIRoot.BlockButtonInput( f78_arg0.root, false, "leaveMenu" )
end

LUI.FlowManager.closeAllMenus = function ( f77_arg0 )
	for f77_local0 = #f77_arg0.menuInfoStack, 1, -1 do
		local f77_local3 = f77_arg0.menuInfoStack[f77_local0]
		if not AlwaysVisible[f77_local3.name] then
			f77_arg0:CloseMenuInfo( f77_local3, true, false )
			f77_arg0:RemoveMenuInfo( f77_local3 )
		end
	end
end

LUI.FlowManager.restoreMenu = function ( f76_arg0, f76_arg1 )
	local f76_local0 = nil
	if f76_arg1.menuId ~= nil then
		f76_arg1.menu = LUI.FlowManager.FlowMenus[f76_arg1.menuId]
	end
	if not f76_arg0.IsInStack( f76_arg1.menu ) then
		f76_arg0:addMenu( f76_arg1 )
		return 
	end
	local f76_local1 = f76_arg0:GetStackTop()
	if f76_local1 and f76_local1.menu and f76_local1.name == f76_arg1.menu then
		f76_local1.menu:processEvent( {
			dispatchChildren = true,
			name = "menu_restore",
			controller = f76_local1.controller
		} )
		return 
	end
	local f76_local2 = nil
	for f76_local3 = #f76_arg0.menuInfoStack, 1, -1 do
		local f76_local6 = f76_arg0.menuInfoStack[f76_local3]
		if not f76_local6.isModal then
			if f76_local6.name ~= f76_arg1.menu then
			
			elseif f76_local6.menu then
				f76_local6.menu:processEvent( {
					dispatchChildren = true,
					name = "menu_restore",
					controller = f76_local6.controller
				} )
				break
			end
			f76_arg0:CloseMenuInfo( f76_local6, false, false )
			f76_arg0:RemoveMenuInfo( f76_local6 )
		end
	end
	f76_arg0:RefreshStack()
end

LUI.FlowManager.PlayTransition = function ( f71_arg0, f71_arg1, f71_arg2, f71_arg3 )
	local f71_local0 = false
	local f71_local1 = false
	local f71_local2 = false
	local f71_local3 = function ()
		if not f71_arg0 and not f71_arg0 and not f71_arg0 then
			assert( f71_arg0 )
			f71_arg0()
		end
	end
	
	f71_local2 = f71_arg1.menu:processEventNoDispatch( {
		name = "play_transition",
		transition = f71_arg2,
		callback = function ()
			f71_arg0 = false
			f71_arg0()
		end
	} )
	if not f71_local2 then
		if f71_arg1.menu.sequences and f71_arg1.menu.sequences[f71_arg2] then
			f71_arg1.menu:AnimateSequence( f71_arg2 )
			local f71_local4 = f71_arg1.menu.sequences[f71_arg2].duration
			assert( f71_local4 )
			local f71_local5 = f71_arg0:Wait( f71_local4 )
			f71_local5.onComplete = function ()
				f71_arg0 = false
				f71_arg0()
			end
			
			f71_local0 = true
		end
		f71_local1 = SEQUENCEPRESETS.AnimateSequenceWithCallback( f71_arg1.menu, f71_arg2, function ()
			f71_arg0 = false
			f71_arg0()
		end )
	end
	if f71_local2 or f71_local0 or f71_local1 then
		f71_arg0._transitioning = true
		f71_arg0.root:ClearFocusStack()
		return true
	else
		return false
	end
end

local f0_local2 = function ( f69_arg0, f69_arg1, f69_arg2 )
	if f69_arg1.menu and Dvar[0x9E5BE3B4BBA4E0E]( "#x35e2939acb6d1d0dd" ) and LUI.FlowManager.PlayTransition( f69_arg0, f69_arg1, LUI.Transition.TransTo, function ()
		if not f69_arg0.menu then
			return 
		end
		f69_arg0.menu:processEvent( {
			name = "transition_ended",
			transition = LUI.Transition.TransTo
		} )
		f69_arg0._transitioning = false
		f69_arg0.root:RefreshFocusStack( f69_arg0.controller )
		for f70_local3, f70_local4 in ipairs( f69_arg0.menuInfoStack ) do
			if f70_local4.prevMenu and f70_local4.prevMenu == f69_arg0 then
				f70_local4.prevMenu = nil
				break
			end
		end
	end
	 ) then
		local f69_local0 = LUI.FlowManager.MenuBackgrounds[f69_arg1.name]
		if f69_local0 and f69_local0.widget then
			local f69_local1 = 200
			if f69_arg1.prevMenu then
				local f69_local2 = LUI.FlowManager.MenuBackgrounds[f69_arg1.prevMenu.id]
				if f69_local2 and f69_local2.widget == f69_local0.widget then
					f69_local1 = 0
				end
			end
			assert( f69_arg1.menuBackground )
			f69_arg1.menuBackground:SetAlpha( 0 )
			f69_arg1.menuBackground:SetAlpha( 1, f69_local1, LUI.EASING.outCubic )
		end
		f69_arg1.menu.hasTransFrom = false
	end
end

LUI.FlowManager.addMenu = function ( f66_arg0, f66_arg1 )
	if f66_arg0:StackContains( f66_arg1.menu ) then
		
	else
		
	end
	local f66_local0 = function ( f68_arg0, f68_arg1 )
		local f68_local0
		if f68_arg1 then
			f68_local0 = f68_arg1
		else
			f68_local0 = f68_arg1.menu
		end
		local f68_local1 = f66_arg0.controller
		if not f68_local1 then
			if f68_arg1 then
				f68_local1 = f68_arg1
			else
				f68_local1 = f68_arg1.controller
			end
		end
		if f68_arg1 and f66_arg0.replaceTop then
			f68_arg0:CloseMenuInfo( f68_arg1, false, false )
			f68_arg0:RemoveMenuInfo( f68_arg1 )
		end
		local f68_local2 = f68_arg0:CreateMenuInfo( f66_arg0, f66_arg0.data, f66_arg0.exclusiveController, f68_local1 )
		local f68_local3 = f66_arg0.isPopup
		if not f68_local3 then
			f68_local3 = f66_arg0.isModal
		end
		f68_local2.isPopup = f68_local3
		f68_local2.isModal = f66_arg0.isModal
		f68_local2.forcePlaySound = f66_arg0.forcePlaySound
		f68_local2.scopedData.shouldPlayButtonSound = f66_arg0.shouldPlayButtonSound
		if f66_arg0.playTransitions and f68_arg0._transitioning and Dvar[0x9E5BE3B4BBA4E0E]( "#x35e2939acb6d1d0dd" ) then
			f68_local2.prevMenu = f68_local0
		end
		f68_arg0:PushMenuInfo( f68_local2 )
		f68_arg0:RefreshStack()
		if f68_arg1 and f68_arg1.menu then
			f68_arg1.menu.nextMenuCreated = true
		end
		if not f66_arg0.blockSound then
			if #f68_arg0.menuInfoStack == 1 then
				Engine[0xC4146BA76D0F982]( CoD.SFX.Pause )
			elseif not f68_local2.isModal or f66_arg0.forcePlaySound then
				Engine[0xC4146BA76D0F982]( CoD.SFX.SelectNewScreen )
			end
		end
		if f66_arg0.playTransitions then
			f66_arg0( f68_arg0, f68_local2, f68_local0 )
		end
	end
	
	local f66_local1
	if 0 < #f66_arg0.menuInfoStack then
		f66_local1 = f66_arg0.menuInfoStack[#f66_arg0.menuInfoStack]
		if not f66_local1 then
		
		else
			if f66_local1 and f66_local1.menu then
				f66_local1.menu.nextMenuCreated = false
			end
			if f66_arg1.playTransitions and f66_local1 and f66_local1.menu and Dvar[0x9E5BE3B4BBA4E0E]( "#x35e2939acb6d1d0dd" ) then
				if LUI.FlowManager.PlayTransition( f66_arg0, f66_local1, LUI.Transition.TransFrom, function ()
					f66_arg0.menu.hasTransFrom = true
					AlwaysVisible[f66_arg0.name] = nil
					f66_arg0:RefreshStack()
					f66_arg0._transitioning = false
				end
				 ) then
					AlwaysVisible[f66_local1.name] = true
					local f66_local2 = LUI.FlowManager.MenuBackgrounds[f66_local1.name]
					if f66_local2 and f66_local2.widget then
						assert( f66_local1.menuBackground )
						f66_local1.menuBackground:SetAlpha( 0, 200, LUI.EASING.outCubic )
					end
					if f66_local1.menuBackground and f66_local1.menuBackground.CloseBackground then
						f66_local1.menuBackground.CloseBackground()
					end
				end
				f66_local0( f66_arg0, f66_local1 )
			else
				f66_local0( f66_arg0, f66_local1 )
			end
		end
	end
	f66_local1 = nil
end

LUI.FlowManager.leaveMenu = function ( f63_arg0, f63_arg1 )
	local f63_local0 = nil
	if f63_arg1.menuId ~= nil then
		f63_arg1.menu = LUI.FlowManager.FlowMenus[f63_arg1.menuId]
	end
	if f63_arg1.element or f63_arg1.menu then
		for f63_local1 = #f63_arg0.menuInfoStack, 1, -1 do
			local f63_local4 = f63_arg0.menuInfoStack[f63_local1]
			local f63_local5 = f63_arg1.element
			if f63_local5 then
				f63_local5 = f63_arg1.element:isDescendentOf( f63_local4.menu )
			end
			local f63_local6 = f63_arg1.menu
			if f63_local6 then
				f63_local6 = f63_local4.name == f63_arg1.menu
			end
			if f63_local5 or f63_local6 then
				f63_local0 = f63_local4
			end
		end
	else
		f63_local0 = f63_arg0:GetStackTop()
	end
	if not f63_local0 then
		
	else
		
	end
	local f63_local1 = f63_local0.menu
	local f63_local2 = f63_local0.menuBackground
	local f63_local3 = function ( f65_arg0, f65_arg1, f65_arg2 )
		f63_arg0:CloseMenuInfo( f63_arg0, false, false, f65_arg2 )
		f63_arg0:RemoveMenuInfo( f63_arg0 )
		if not f63_arg0.blockSound and #f63_arg0.menuInfoStack ~= 0 and (not f63_arg0.isModal or f63_arg0.forcePlaySound) then
			Engine[0xC4146BA76D0F982]( CoD.SFX.SelectBack )
		end
		f63_arg0:RefreshStack( f65_arg0, f65_arg1, f63_arg0 )
	end
	
	if f63_arg1.playTransitions and Dvar[0x9E5BE3B4BBA4E0E]( "#x35e2939acb6d1d0dd" ) then
		local f63_local7 = false
		if LUI.FlowManager.PlayTransition( f63_arg0, f63_local0, LUI.Transition.TransBackFrom, function ()
			assert( f63_arg0 )
			for f64_local3, f64_local4 in ipairs( f63_arg0.menuInfoStack ) do
				if f64_local4.prevMenu and f64_local4.prevMenu == f63_arg0 then
					f64_local4.prevMenu = nil
					break
				end
			end
			if not f63_arg0 then
				f63_arg0( f63_arg0.playTransitions, true, false )
				f63_arg0 = true
			else
				f63_arg0:closeTree()
				if f63_arg0 then
					f63_arg0:closeTree()
				end
			end
		end
		 ) then
			local f63_local4 = LUI.FlowManager.MenuBackgrounds[f63_local0.name]
			if f63_local4 and f63_local4.widget then
				assert( f63_local0.menuBackground )
				f63_local0.menuBackground:SetAlpha( 0, 200, LUI.EASING.outCubic )
				if f63_local0.menuBackground.CloseBackground then
					f63_local0.menuBackground.CloseBackground()
				end
			end
		end
		if not f63_local7 then
			f63_local3( f63_arg1.playTransitions, true, true )
			f63_local7 = true
		end
	end
	f63_local3( f63_arg1.playTransitions )
end

LUI.FlowManager.GetScopedDataFromElement = function ( f62_arg0, f62_arg1 )
	if f62_arg1._scoped then
		return f62_arg1._scoped
	else
		local f62_local0 = f62_arg1:getParent()
		if not f62_local0 then
			DebugPrint( "Could not find scoped data for supplied LUI element, attempting to get scoped data from visible menu." )
			local f62_local1 = LUI.FlowManager.GetVisibleMenu()
			if f62_local1 then
				return f62_arg0:GetScopedDataFromElement( f62_local1 )
			elseif Engine[0x7AE6126734FCDB]() then
				return {}
			else
				assert( false, "Could not find scoped data for supplied LUI element and there is no visible menu." )
				
			end
		else
			return f62_arg0:GetScopedDataFromElement( f62_local0 )
		end
	end
end

LUI.FlowManager.GetScopedDataFromMenuName = function ( f61_arg0, f61_arg1 )
	for f61_local0 = #f61_arg0.menuInfoStack, 1, -1 do
		local f61_local3 = f61_arg0.menuInfoStack[f61_local0]
		if f61_local3.name == f61_arg1 then
			return f61_local3.scopedData
		end
	end
	assert( false, "Could not find scoped data for menu named " .. f61_arg1 .. "." )
end

function CreateMenuInfoSaveData( f60_arg0 )
	local f60_local0 = {}
	for f60_local9, f60_local10 in pairs( f60_arg0 ) do
		if f60_local9 ~= "fenceGroup" and f60_local9 ~= "scopedData" then
			if f60_local9 == "menu" then
				
			end
			if f60_local9 == "buildData" then
				for f60_local7, f60_local8 in pairs( f60_local10 ) do
					if type( f60_local8 ) == "table" and f60_local8.__serializable == false then
						DebugPrint( "WARNING: Not saving buildData field \"" .. tostring( f60_local7 ) .. "\" for LUI Reload of menu \"" .. tostring( f60_arg0.name ) .. "\"" )
						f60_local10[f60_local7] = nil
					end
				end
			end
			f60_local0[f60_local9] = f60_local10
		end
	end
	return f60_local0
end

function MakeScopedDataForMenuInfo( f59_arg0 )
	local f59_local0 = {
		menuName = f59_arg0.name
	}
	for f59_local4, f59_local5 in pairs( f59_arg0.buildData ) do
		f59_local0[f59_local4] = f59_local5
	end
	if f59_arg0.controller then
		f59_local0.controllerIndex = f59_arg0.controller
		f59_local0.exclusiveController = f59_arg0.controller
		f59_local0.exclusiveControllerIndex = f59_arg0.controller
		f59_local0.isControllerExclusive = f59_arg0.isControllerExclusive
	end
	return f59_local0
end

LUI.FlowManager.CreateMenuInfo = function ( f55_arg0, f55_arg1, f55_arg2, f55_arg3, f55_arg4 )
	local f55_local0 = f55_arg0
	local f55_local1 = {
		name = f55_arg1
	}
	local f55_local2
	if not f55_arg2 then
		f55_local2 = f55_arg2
	else
		f55_local2 = {}
	end
	f55_local1.buildData = f55_local2
	f55_local1.controller = f55_arg4
	if not Engine[0x12586A3F4FB490E]() then
		f55_local1.controller = f55_arg0:getRootController()
	elseif not f55_arg4 then
		DebugPrint( "Warning: opening menu \"" .. f55_arg1 .. "\" for unspecified controllerIndex, defaulting to 0" )
		f55_local1.controller = Engine[0x45B054C920178E9]()
	end
	if f55_arg4 == nil or f55_arg3 ~= true then
		f55_local2 = false
	else
		f55_local2 = true
	end
	f55_local1.isControllerExclusive = f55_local2
	f55_local1.scopedData = MakeScopedDataForMenuInfo( f55_local1 )
	f55_local2 = f55_arg1
	if f55_local2 == "CPMainMenu" and CONDITIONS.IsZombiesEnabledInFreeTrial() then
		f55_local2 = f55_local2 .. "NoPremium"
	end
	if FenceGroups[f55_local2] then
		f55_local1.fenceGroup = LUI.FenceGroup.new( FenceGroups[f55_local2], f55_local1.controller, f55_local1.buildData )
		f55_local1.fenceGroup.OnPass = function ( f58_arg0 )
			
		end
		
		f55_local1.fenceGroup.OnBlock = function ( f57_arg0 )
			
		end
		
		f55_local1.fenceGroup.OnFail = function ( f56_arg0 )
			DebugPrint( "Fencegroup failed for " .. f55_arg0 )
			if f55_arg0:StackContains( f55_arg0 ) then
				for f56_local0 = #f55_arg0.menuInfoStack, 1, -1 do
					local f56_local3 = f55_arg0.menuInfoStack[f56_local0]
					f55_arg0:CloseMenuInfo( f56_local3, true, false )
					f55_arg0:RemoveMenuInfo( f56_local3 )
					if f56_local3.name == f55_arg0 then
						
					end
				end
			else
				DebugPrint( "WARNING: Attempted to fail fencegroup for " .. f55_arg0 .. " but " .. f55_arg0 .. " is not in the stack." )
			end
		end
		
	end
	return f55_local1
end

LUI.FlowManager.OpenMenuInfo = function ( f54_arg0, f54_arg1 )
	if f54_arg1.opening then
		return 
	end
	local f54_local0 = Engine[0xF3D71C800542A78]()
	if Engine[0x12586A3F4FB490E]() then
		PlayerData[0xC583B1BCF5C2AB3]()
	end
	assert( not f54_arg1.menu )
	LUI.ActiveScoped = f54_arg1.scopedData
	f54_arg1.opening = true
	f54_arg1.menu = MenuBuilder.BuildRegisteredType( string.lower( f54_arg1.name ), f54_arg1.scopedData or {} )
	if Engine[0xFB1B6E36ABE59B8]() and f54_arg1.menu and f54_arg1.name ~= "FlyInPopup" then
		if f54_arg1.menu.HelperBar then
			f54_arg1.menu.HelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -120, _1080p * -35 )
		elseif f54_arg1.menu.ButtonHelperBar then
			f54_arg1.menu.ButtonHelperBar:SetAnchorsAndPosition( 0, 0, 1, 0, 0, 0, _1080p * -120, _1080p * -35 )
		end
	end
	f54_arg1.opening = false
	for f54_local4, f54_local5 in ipairs( f54_arg0.menuInfoStack ) do
		if f54_local5.menu then
			f54_local5.menu:setPriority( f54_local4 )
		end
	end
	f54_local1 = LUI.FlowManager.MenuBackgrounds[f54_arg1.name]
	if f54_local1 and f54_local1.widget then
		f54_arg1.menuBackground = MenuBuilder.BuildRegisteredType( f54_local1.widget, {
			controllerIndex = f54_arg1.controller
		} )
		f54_arg1.menuBackground:SetAlpha( 1 )
		ACTIONS.ScaleFullscreen( f54_arg1.menuBackground )
		f54_arg1.menuBackground.id = "backgroundWidget"
		f54_arg0:addElement( f54_arg1.menuBackground )
	end
	if f54_arg1.prevMenu then
		if f54_arg1.backTransition then
			f54_arg1.menu:addElementAfter( f54_arg1.prevMenu )
		else
			f54_arg1.menu:addElementBefore( f54_arg1.prevMenu )
		end
	else
		f54_arg0:addElement( f54_arg1.menu )
	end
	f54_arg1.menu:processEvent( {
		dispatchChildren = true,
		name = "menu_create",
		controller = f54_arg1.controller
	} )
	assert( f54_arg1.menu )
	if Engine[0x575E9C5B9AAB6F4]() then
		LAYOUT.UpdateFadeFrameForCurrentMenu( f54_arg1.menu, f54_arg1.controller )
	end
	LUI.ActiveScoped = nil
	f54_local2 = Engine[0xF3D71C800542A78]()
	Engine[0x15D98DF5F61904B]( 0, "lua_menu_info", {
		completed_menu = true,
		menu_name = f54_arg1.name,
		memory_delta_bytes = f54_local2 - f54_local0,
		init_free_bytes = f54_local0,
		post_free_bytes = f54_local2,
		in_game = Engine[0x12586A3F4FB490E]()
	} )
	f54_arg0:LogMenuChangeTo( f54_arg1.controller, f54_arg1.name )
	if LUI.OptionalBlurLayer then
		LUI.OptionalBlurLayer.UpdateOptionalBlurVisibility()
	end
end

LUI.FlowManager.CloseMenuInfo = function ( f53_arg0, f53_arg1, f53_arg2, f53_arg3, f53_arg4 )
	local f53_local0 = f53_arg0._controllerIndex
	if not f53_local0 then
		f53_local0 = Engine[0x45B054C920178E9]()
	end
	local f53_local1 = f0_local0( f53_local0 )
	if not f53_arg3 then
		f53_local1[f53_arg1.name] = nil
	end
	if f53_arg1.menu then
		if f53_arg3 and not f53_local1[f53_arg1.name] then
			f53_local1[f53_arg1.name] = f53_arg1.menu:saveState()
		end
		if not f53_arg2 then
			f53_arg1.menu:processEvent( {
				name = "lose_focus"
			} )
			f53_arg1.menu:processEvent( {
				dispatchChildren = true,
				name = "menu_close",
				controller = f53_arg1.controller
			} )
		else
			f53_arg1.menu:processEvent( {
				dispatchChildren = true,
				name = "menu_close_all",
				controller = f53_arg1.controller
			} )
		end
		if not f53_arg4 then
			if f53_arg1.menu then
				f53_arg1.menu:closeTree()
			end
			if f53_arg1.menuBackground then
				f53_arg1.menuBackground:closeTree()
			end
		end
		f53_arg1.menu = nil
		f53_arg1.menuBackground = nil
		if Engine[0x575E9C5B9AAB6F4]() then
			local f53_local2 = f53_arg0:GetTopMostOpenMenuInfo()
			if f53_local2 then
				LAYOUT.UpdateFadeFrameForCurrentMenu( f53_local2.menu, f53_local2.controller )
			end
		end
	end
end

LUI.FlowManager.GetStackVersion = function ( f52_arg0 )
	assert( f52_arg0.stackVersion )
	return f52_arg0.stackVersion
end

LUI.FlowManager.InsertMenuInfo = function ( f51_arg0, f51_arg1, f51_arg2 )
	assert( f51_arg2 )
	f51_arg0.stackVersion = f51_arg0.stackVersion + 1
	table.insert( f51_arg0.menuInfoStack, f51_arg1, f51_arg2 )
	if PushAndPopsTable[f51_arg2.name] and PushAndPopsTable[f51_arg2.name].pushFuncs and 0 < #PushAndPopsTable[f51_arg2.name].pushFuncs then
		for f51_local3, f51_local4 in ipairs( PushAndPopsTable[f51_arg2.name].pushFuncs ) do
			f51_local4()
		end
	end
	Engine[0xA0F090AEEC9C553]( true )
	if #f51_arg0.menuInfoStack == 1 then
		f51_arg0.root:processEvent( {
			name = "non_empty_menu_stack",
			controllerIndex = f51_arg0._controllerIndex
		} )
	end
	if CONDITIONS.IsDemoBuildOrDevBuildOrAreDevFeaturesEnabled() then
		f51_arg0:PrintStack()
	end
end

LUI.FlowManager.RemoveMenuInfo = function ( f50_arg0, f50_arg1 )
	assert( f50_arg1 )
	local f50_local0 = nil
	local f50_local1 = #f50_arg0.menuInfoStack
	if 1 <= f50_local1 and f50_arg0.menuInfoStack[f50_local1] ~= f50_arg1 then
		
	else
		
	end
	if 1 <= f50_local1 then
		if f50_arg1.fenceGroup then
			f50_arg1.fenceGroup:Abort()
		end
		if PushAndPopsTable[f50_arg1.name] and PushAndPopsTable[f50_arg1.name].popFuncs and 0 < #PushAndPopsTable[f50_arg1.name].popFuncs then
			for f50_local5, f50_local6 in ipairs( PushAndPopsTable[f50_arg1.name].popFuncs ) do
				f50_local6()
			end
		end
		f50_arg0.stackVersion = f50_arg0.stackVersion + 1
		table.remove( f50_arg0.menuInfoStack, f50_local1 )
	end
	if #f50_arg0.menuInfoStack == 0 then
		f50_arg0._transitioning = false
		if Engine[0x74423E76DECE3E4]() and not Engine[0x12586A3F4FB490E]() then
			ACTIONS.ResumeGame( f50_arg0 )
		end
		f50_arg0.root:processEvent( {
			name = "empty_menu_stack",
			controllerIndex = f50_arg0._controllerIndex
		} )
		f50_arg0.root:RemoveMouseCursor()
	end
	if Engine[0x2DA54CF5D6B7F02]() then
		f50_arg0:PrintStack()
	end
	Engine[0xA0F090AEEC9C553]( 0 < #f50_arg0.menuInfoStack )
end

LUI.FlowManager.PushMenuInfo = function ( f49_arg0, f49_arg1 )
	f49_arg0:SetStack( f49_arg1 )
	if f49_arg1.isModal then
		f49_arg0:InsertMenuInfo( #f49_arg0.menuInfoStack + 1, f49_arg1 )
	else
		local f49_local0 = #f49_arg0.menuInfoStack + 1
		if 1 < f49_local0 and f49_arg0.menuInfoStack[f49_local0 - 1].isModal then
			
		else
			
		end
		f49_arg0:InsertMenuInfo( f49_local0, f49_arg1 )
	end
end

LUI.FlowManager.SetStack = function ( f48_arg0, f48_arg1 )
	assert( f48_arg1.name )
	local f48_local0 = PresetStacks[f48_arg1.name]
	if not f48_local0 then
		return 
	end
	local f48_local1 = f48_arg1.controller
	DebugPrint( "FlowManager: Rewriting menu stack for " .. f48_arg1.name )
	if Engine[0x2DA54CF5D6B7F02]() then
		local f48_local2 = ""
		for f48_local7, f48_local8 in ipairs( f48_arg0.menuInfoStack ) do
			local f48_local9 = f48_local2
			local f48_local6
			if 1 < f48_local7 then
				f48_local6 = " > "
			else
				f48_local6 = ""
			end
			f48_local2 = f48_local9 .. f48_local6 .. f48_local8.name
		end
		DebugPrint( "    Current stack: " .. f48_local2 )
		f48_local2 = ""
		for f48_local7, f48_local8 in ipairs( f48_local0 ) do
			local f48_local9 = f48_local2
			local f48_local6
			if 1 < f48_local7 then
				f48_local6 = " > "
			else
				f48_local6 = ""
			end
			f48_local2 = f48_local9 .. f48_local6 .. f48_local8.name
		end
		DebugPrint( "    Requesting: " .. f48_local2 .. " > " .. f48_arg1.name )
	end
	for f48_local5, f48_local7 in ipairs( f48_arg0.menuInfoStack ) do
		if #f48_local0 < f48_local5 or f48_local7.name ~= f48_local0[f48_local5].name then
			for f48_local8 = #f48_arg0.menuInfoStack, f48_local5, -1 do
				local f48_local10 = f48_arg0.menuInfoStack[f48_local8]
				if not f48_local10.isModal then
					f48_arg0:CloseMenuInfo( f48_local10 )
					f48_arg0:RemoveMenuInfo( f48_local10 )
				end
			end
		end
	end
	for f48_local5, f48_local7 in ipairs( f48_local0 ) do
		if #f48_arg0.menuInfoStack < f48_local5 or f48_local7.name ~= f48_arg0.menuInfoStack[f48_local5].name then
			f48_arg0:PushMenuInfo( f48_arg0:CreateMenuInfo( f48_local7.name, nil, f48_local7.exclusiveController, f48_local1 ) )
		end
	end
	DebugPrint( "Set stack complete" )
end

LUI.FlowManager.PrintStack = function ( f47_arg0 )
	DebugPrint( "----MENU STACK TOP----" )
	for f47_local0 = #f47_arg0.menuInfoStack, 1, -1 do
		local f47_local3 = f47_arg0.menuInfoStack[f47_local0]
		local f47_local4
		if f47_local3.menu then
			f47_local4 = "Opened"
		else
			f47_local4 = "Closed"
		end
		if f47_local3.isModal then
			f47_local4 = f47_local4 .. ";modal"
		end
		DebugPrint( f47_local0 .. ") " .. f47_local3.name .. " (" .. f47_local4 .. ")" )
	end
	DebugPrint( "---MENU STACK BOTTOM---" )
end

LUI.FlowManager.StackContains = function ( f46_arg0, f46_arg1 )
	for f46_local3, f46_local4 in ipairs( f46_arg0.menuInfoStack ) do
		if f46_local4.name == f46_arg1 then
			return true
		end
	end
	return false
end

LUI.FlowManager.StackContainsAny = function ( f45_arg0, f45_arg1 )
	for f45_local6, f45_local7 in ipairs( f45_arg0.menuInfoStack ) do
		for f45_local3, f45_local4 in pairs( f45_arg1 ) do
			if f45_local7.name == f45_local4 then
				return true
			end
		end
	end
	return false
end

LUI.FlowManager.GetStackTop = function ( f44_arg0, f44_arg1 )
	local f44_local0 = #f44_arg0.menuInfoStack
	if not f44_arg1 and 1 <= f44_local0 and f44_arg0.menuInfoStack[f44_local0].isModal then
		
	else
		
	end
	if 1 <= f44_local0 then
		return f44_arg0.menuInfoStack[f44_local0]
	else
		return nil
	end
end

LUI.FlowManager.GetTopMostOpenMenuInfo = function ( f43_arg0 )
	local f43_local0 = #f43_arg0.menuInfoStack
	if 1 <= f43_local0 and not f43_arg0.menuInfoStack[f43_local0].menu then
		
	else
		
	end
	if 1 <= f43_local0 then
		return f43_arg0.menuInfoStack[f43_local0]
	else
		return nil
	end
end

LUI.FlowManager.IsStackEmpty = function ( f42_arg0 )
	return #f42_arg0.menuInfoStack == 0
end

LUI.FlowManager.AreMainMenuFencedOut = function ( f41_arg0 )
	local f41_local0 = false
	for f41_local4, f41_local5 in ipairs( f41_arg0.menuInfoStack ) do
		if f41_local5.name == "MainMenuOffline" or f41_local5.name == "MainMenu" then
			if f41_local5.fenced then
			
			else
				f41_local0 = true
				break
			end
			return true
		end
	end
	if CONDITIONS.InFrontend() and not f41_local0 then
		return true
	end
	return false
end

local f0_local3 = function ( f40_arg0, f40_arg1, f40_arg2 )
	if not false then
		
	else
		
	end
end

LUI.FlowManager.PopMenuStackUntilMenuIsOnTop = function ( f39_arg0 )
	local f39_local0 = Engine[0xEE6F69FEA944B13]()
	local f39_local1 = f39_local0.flowManager:GetStackTop( true )
	local f39_local2
	if f39_local1 then
		f39_local2 = f39_local1.name
		if not f39_local2 then
		
		else
			if f39_local1 and f39_local2 ~= f39_arg0 then
				
			else
				
			end
		end
	end
	f39_local2 = nil
end

local f0_local4 = function ( f38_arg0, f38_arg1 )
	local f38_local0 = f38_arg0:GetStackTop( true )
	local f38_local1
	if f38_local0 then
		f38_local1 = f38_local0
	else
		f38_local1 = f38_local0.name == f38_arg1
	end
	return f38_local1
end

local f0_local5 = function ( f37_arg0, f37_arg1 )
	local f37_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f37_local0 )
	if not CONDITIONS.IsSettingsMenuInGameEnabled() and CONDITIONS.InGame() then
		return false
	elseif IsMenuInStack( f37_local0, "OptionsMenuNewLayout" ) then
		f37_arg0:dispatchEventToRoot( {
			name = "closing_quick_access_menu",
			controllerIndex = f37_arg1.controller
		} )
		if not f0_local0( f37_arg0, "OptionsMenuNewLayout" ) then
			f0_local0( f37_local0, f37_arg1, "OptionsMenuNewLayout" )
		end
		if not Engine[0x12586A3F4FB490E]() and CONDITIONS.IsThirdGameMode() and not IsMenuInStack( f37_local0, "CPPauseMenu" ) then
			ACTIONS.ResumeGame( f37_arg0 )
		end
	elseif not OSK[0x736AF74410E3002]() then
		f37_arg0:dispatchEventToRoot( {
			immediate = true,
			name = "opening_quick_access_menu"
		} )
		if IsMenuInStack( f37_local0, "SocialMenu" ) then
			f0_local0( f37_local0, f37_arg1, "SocialMenu" )
		elseif IsMenuInStack( f37_local0, "LoadoutSelect" ) then
			f0_local0( f37_local0, f37_arg1, "LoadoutSelect" )
		end
		ACTIONS.OpenOptionsMenu( f37_arg1.controller, nil, true )
		if (Engine[0x74423E76DECE3E4]() or CONDITIONS.IsThirdGameMode()) and CONDITIONS.InGame() then
			GAME.PauseGame()
		end
	end
	return true
end

LUI.FlowManager.HandleQuickSocial = function ( f36_arg0, f36_arg1 )
	local f36_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f36_local0 )
	if Engine[0xD2813B521711C11]( f36_arg1.controller ) then
		if CONDITIONS.InGame() and not CONDITIONS.IsSocialMenuInGameEnabled() then
			if not CONDITIONS.IsPublicAlphaEnabled() then
				if IsMenuInStack( f36_local0, "ManagePartyPopup" ) then
					f36_arg0:dispatchEventToRoot( {
						name = "closing_quick_access_menu"
					} )
				else
					LUI.FlowManager.RequestSocialPopup( f36_arg1.qualifier == "keyboard", f36_arg1.controller )
				end
			end
		elseif CONDITIONS.IsSocialEnabledInMainMenu( f36_arg0 ) then
			if IsMenuInStack( f36_local0, "SocialMenu" ) then
				f36_arg0:dispatchEventToRoot( {
					name = "closing_quick_access_menu",
					controllerIndex = f36_arg1.controller
				} )
				f0_local0( f36_local0, f36_arg1, "SocialMenu" )
				if not Engine[0x12586A3F4FB490E]() and CONDITIONS.IsThirdGameMode() and not IsMenuInStack( f36_local0, "CPPauseMenu" ) then
					ACTIONS.ResumeGame( f36_arg0 )
				end
			elseif not OSK[0x736AF74410E3002]() then
				f36_arg0:dispatchEventToRoot( {
					immediate = true,
					name = "opening_quick_access_menu"
				} )
				if IsMenuInStack( f36_local0, "OptionsMenuNewLayout" ) then
					f0_local0( f36_local0, f36_arg1, "OptionsMenuNewLayout" )
				elseif IsMenuInStack( f36_local0, "LoadoutSelect" ) then
					f0_local0( f36_local0, f36_arg1, "LoadoutSelect" )
				end
				FRIENDS.OpenFriendsList( f36_arg1.controller, true )
				if (Engine[0x74423E76DECE3E4]() or CONDITIONS.IsThirdGameMode()) and CONDITIONS.InGame() then
					GAME.PauseGame()
				end
			end
		end
		return true
	else
		return false
	end
end

local f0_local6 = function ( f35_arg0, f35_arg1 )
	local f35_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f35_local0 )
	if IsMenuInStack( f35_local0, "LoadoutSelect" ) then
		f35_arg0:dispatchEventToRoot( {
			name = "closing_quick_access_menu",
			controllerIndex = f35_arg1.controller
		} )
		if not f0_local0( f35_arg0, "LoadoutSelect" ) then
			f0_local0( f35_local0, f35_arg1, "LoadoutSelect" )
		end
		if not Engine[0x12586A3F4FB490E]() and not IsMenuInStack( f35_local0, "CPPauseMenu" ) then
			ACTIONS.ResumeGame( f35_arg0 )
		end
	elseif CONDITIONS.IsMultiplayer() and CONDITIONS.IsLoadoutSelectMenuAccessible( f35_arg0, f35_arg1.controller ) and (CONDITIONS.InFrontend( f35_arg0 ) or CONDITIONS.IsClassChoiceAllowed( f35_arg0, f35_arg1.controller )) then
		f35_arg0:dispatchEventToRoot( {
			immediate = true,
			name = "opening_quick_access_menu"
		} )
		if IsMenuInStack( f35_local0, "SocialMenu" ) then
			f0_local0( f35_local0, f35_arg1, "SocialMenu" )
		elseif IsMenuInStack( f35_local0, "OptionsMenuNewLayout" ) then
			f0_local0( f35_local0, f35_arg1, "OptionsMenuNewLayout" )
		end
		if (Engine[0x74423E76DECE3E4]() or CONDITIONS.IsThirdGameMode()) and CONDITIONS.InGame() then
			GAME.PauseGame()
		end
		LUI.FlowManager.RequestAddMenu( "LoadoutSelect", true, f35_arg1.controller, nil, {
			hasUsedShortcut = true
		}, true )
	end
	return true
end

local f0_local7 = function ( f34_arg0, f34_arg1 )
	Dvar[0x8EA06EEDB58D872]( "#x31a719c115a9a0ace", not Dvar[0x9E5BE3B4BBA4E0E]( "#x31a719c115a9a0ace" ) )
	return true
end

local f0_local8 = function ( f33_arg0, f33_arg1 )
	Dvar[0x8EA06EEDB58D872]( "#x378c724756f9c1392", not Dvar[0x9E5BE3B4BBA4E0E]( "#x378c724756f9c1392" ) )
	return true
end

local f0_local9 = function ( f32_arg0, f32_arg1 )
	Dvar[0x8EA06EEDB58D872]( "#x31c6d1947576db628", not Dvar[0x9E5BE3B4BBA4E0E]( "#x31c6d1947576db628" ) )
	f32_arg0:processEvent( {
		name = "options_window_refresh",
		controller = f32_arg1.controller
	} )
	return true
end

LUI.FlowManager.IsQuickAccessShortcutAllowed = function ( f31_arg0, f31_arg1 )
	local f31_local0 = Engine[0xEB34AED393F6E8B]()
	if f31_local0 then
		f31_local0 = not Engine[0x1DCFBFA7CE6FA83]()
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x3d244cb9cad459093" ) or f31_local0 or LUI.FlowManager.IsMenuOnTop( "MainLockoutMenu" ) then
		return false
	end
	local f31_local1 = Engine[0xEE6F69FEA944B13]()
	if f31_local1 and f31_local1.flowManager and LUI.FlowManager.AreMainMenuFencedOut( f31_local1.flowManager ) then
		return false
	elseif f31_arg1 == "quick_social" or f31_arg1 == "quick_options" or f31_arg1 == "quick_cac" then
		local f31_local2 = f31_arg0:GetTopMostOpenMenuInfo()
		if f31_local2 and f31_local2.menu and f31_local2.menu.isQuickAccessShortcutsDisabled then
			return false
		end
	end
	if f31_arg1 == "quick_social" and not CONDITIONS.IsSocialAvailable() then
		return false
	end
	return true
end

local f0_local10 = function ( f30_arg0, f30_arg1 )
	if f30_arg1.down then
		if f30_arg1.button == "mute_sound" then
			return f0_local0( f30_arg0, f30_arg1 )
		elseif f30_arg1.button == "mute_voicechat" then
			return f0_local0( f30_arg0, f30_arg1 )
		elseif f30_arg1.button == "mute_microphone" then
			return f0_local0( f30_arg0, f30_arg1 )
		elseif LUI.FlowManager.IsQuickAccessShortcutAllowed( f30_arg0, f30_arg1.button ) then
			if f30_arg1.button == "accept_notification" then
				f30_arg0:dispatchEventToRoot( {
					answer = true,
					name = "kbm_notification_prompt_answer"
				} )
			elseif f30_arg1.button == "decline_notification" then
				f30_arg0:dispatchEventToRoot( {
					answer = false,
					name = "kbm_notification_prompt_answer"
				} )
			elseif f30_arg1.button == "quick_options" then
				return f0_local0( f30_arg0, f30_arg1 )
			elseif f30_arg1.button == "quick_social" then
				return LUI.FlowManager.HandleQuickSocial( f30_arg0, f30_arg1 )
			elseif f30_arg1.button == "quick_cac" then
				return f0_local0( f30_arg0, f30_arg1 )
			end
		end
	end
	return false
end

LUI.FlowManager.LeaveQuickMenus = function ()
	local f29_local0 = Engine[0xEE6F69FEA944B13]()
	f29_local0:dispatchEventToRoot( {
		name = "closing_quick_access_menu"
	} )
	if LUI.FlowManager.IsInStack( "SocialMenu" ) then
		f0_local0( f29_local0, nil, "SocialMenu" )
	end
	if LUI.FlowManager.IsInStack( "OptionsMenuNewLayout" ) then
		f0_local0( f29_local0, nil, "OptionsMenuNewLayout" )
	end
end

LUI.FlowManager.LeaveMenusForPostMatchFlow = function ( f28_arg0 )
	local f28_local0 = Engine[0xEE6F69FEA944B13]()
	assert( f28_local0 )
	if IsMenuInStack( f28_local0, "MPPauseMenu" ) then
		f0_local0( f28_local0, nil, "MPPauseMenu" )
	elseif IsMenuInStack( f28_local0, "PlayerDetailMenu" ) then
		f0_local0( f28_local0, nil, "PlayerDetailMenu" )
	end
end

LUI.FlowManager.init = function ( f25_arg0, f25_arg1, f25_arg2 )
	LUI.UIElement.init( f25_arg0 )
	f25_arg0.id = "flowManager"
	f25_arg0.root = f25_arg1
	f25_arg0._controllerIndex = f25_arg2
	f25_arg0.menuInfoStack = {}
	f25_arg0.stackVersion = 0
	f25_arg0.stackChangeTime = Engine[0x6991337AE950F99]()
	f25_arg0.stackChangeMenu = 0
	f25_arg0.isPartyUIRootDirty = false
	f25_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		if f25_arg0:ShouldIgnoreInput() or f25_arg0( element, event ) then
			return true
		end
		local f27_local0 = f25_arg0:GetTopMostOpenMenuInfo()
		if f27_local0 then
			local f27_local1
			if f27_local0.controller and event.controller and f27_local0.controller ~= event.controller then
				f27_local1 = false
			else
				f27_local1 = true
			end
			if f27_local1 or not f27_local0.isControllerExclusive then
				return element:ForwardEventToTopMostOpenMenu( event )
			end
		end
		return false
	end )
	if Engine[0x5EE05AD994388B6]() then
		f25_arg0:registerEventHandler( "mousemove", f25_arg0.ForwardMouseEventToTopMostOpenMenu )
		f25_arg0:registerEventHandler( "mousedown", f25_arg0.ForwardMouseEventToTopMostOpenMenu )
		f25_arg0:registerEventHandler( "mouseup", f25_arg0.ForwardMouseEventToTopMostOpenMenu )
	end
	local f25_local0 = Engine[0x7AE6126734FCDB]()
	local f25_local1 = f25_arg0
	local f25_local2 = f25_arg0.registerEventHandler
	local f25_local3 = "addmenu"
	local f25_local4
	if f25_local0 then
		f25_local4 = f25_arg0.addMenuHandler_TEL
		if not f25_local4 then
		
		else
			f25_local2( f25_local1, f25_local3, f25_local4 )
			f25_local1 = f25_arg0
			f25_local2 = f25_arg0.registerEventHandler
			f25_local3 = "popupmenu"
			if f25_local0 then
				f25_local4 = f25_arg0.popupMenuHandler_TEL
				if not f25_local4 then
				
				else
					f25_local2( f25_local1, f25_local3, f25_local4 )
					f25_local1 = f25_arg0
					f25_local2 = f25_arg0.registerEventHandler
					f25_local3 = "leavemenu"
					if f25_local0 then
						f25_local4 = f25_arg0.leaveMenuHandler_TEL
						if not f25_local4 then
						
						else
							f25_local2( f25_local1, f25_local3, f25_local4 )
							f25_local1 = f25_arg0
							f25_local2 = f25_arg0.registerEventHandler
							f25_local3 = "restoreMenu"
							if f25_local0 then
								f25_local4 = f25_arg0.restoreMenuHandler_TEL
								if not f25_local4 then
								
								else
									f25_local2( f25_local1, f25_local3, f25_local4 )
									f25_arg0:registerEventHandler( "closeallmenus", f25_arg0.closeAllMenusHandler )
									if Engine[0x9258F49F515F97B]() and not Engine[0x12586A3F4FB490E]() then
										f25_arg0:registerOmnvarHandler( "ui_options_menu", function ( f26_arg0, f26_arg1 )
											f26_arg0:OpenMenuByScriptRequest( f26_arg1.value )
										end )
										f25_arg0:OpenMenuByScriptRequest( Game[0x28624DEF6F708C8]( f25_arg2, "ui_options_menu" ) )
									end
									if CONDITIONS.InGame() then
										LUI.FlowManager.MenuBackgrounds = {
											MPPauseMenu = {
												widget = "MPPauseMenuBackground"
											},
											OptionsMenuNewLayout = {
												widget = "InGameMenuBackground"
											},
											LoadoutSelect = {
												widget = "InGameMenuBackground"
											},
											SocialMenu = {
												widget = "InGameMenuBackground"
											},
											FieldUpgrades = {
												widget = "InGameMenuBackground"
											},
											TeamSelectMenu = {
												widget = "InGameMenuBackground"
											},
											PlayerDetailMenu = {
												widget = "InGameMenuBackground"
											}
										}
									else
										LUI.FlowManager.MenuBackgrounds = {
											OptionsMenuNewLayout = {
												widget = "GenericBackgroundFullscreen"
											},
											MPBarracksProgressionMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											MilitaryProgression = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											ClansProgression = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											BarracksCustomize = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											BarracksRecords = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											WeaponProgression = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											RecordsTabMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											CombatRecord = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											CombatRecordTabsMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											CommendationsMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											PlayerCardElementSelect = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											EmblemSelectMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											RadialCustomizationMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											KillcamVanityMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											ClanEditSearchLabels = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											ClanBrowserMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											ClanEditJoinRequirements = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											ClanEditSearchLabels = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											ClanProfile = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											ClanDashboardMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											ClanEmblemEditor = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											ClanMembersMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											ChallengeMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											CareerChallengesGridMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											CareerChallengesFocusDrillDownMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											AARChallenges = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											ClanChallenges = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											GunsmithChallenges = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											OperatorChallenges = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											SeasonalChallengesProgressionMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											},
											SocialMenu = {
												widget = "GenericDarkBlurBackgroundDynamic"
											}
										}
									end
								end
							end
							f25_local4 = f25_arg0.restoreMenuHandler
						end
					end
					f25_local4 = f25_arg0.leaveMenuHandler
				end
			end
			f25_local4 = f25_arg0.popupMenuHandler
		end
	end
	f25_local4 = f25_arg0.addMenuHandler
end

LUI.FlowManager.ShouldIgnoreInput = function ( f24_arg0 )
	if f24_arg0._transitioning then
		local f24_local0 = Dvar[0x9E5BE3B4BBA4E0E]( "#x3bf614528a068289e" )
	end
	local f24_local1 = f24_arg0:GetTopMostOpenMenuInfo()
	if f24_local1 and f24_local1.isPopup then
		local f24_local0 = false
	end
	return f24_local0
end

LUI.FlowManager.GetGamemodeForUIRoot = function ( f23_arg0 )
	if f23_arg0 > PartyUIRoot.GAMEMODE_NONE_MENUS_START and f23_arg0 < PartyUIRoot.GAMEMODE_NONE_MENUS_END then
		return CoD.PlayMode.None
	elseif f23_arg0 > PartyUIRoot.GAMEMODE_MP_MENUS_START and f23_arg0 < PartyUIRoot.GAMEMODE_MP_MENUS_END then
		return CoD.PlayMode.Core
	elseif f23_arg0 > PartyUIRoot.GAMEMODE_CP_MENUS_START and f23_arg0 < PartyUIRoot.GAMEMODE_CP_MENUS_END then
		return CoD.PlayMode.Aliens
	elseif f23_arg0 > PartyUIRoot.GAMEMODE_SP_MENUS_START and f23_arg0 < PartyUIRoot.GAMEMODE_SP_MENUS_END then
		return CoD.PlayMode.SP
	else
		assert( "LUI.FlowManager.GetGamemodeForUIRoot invalid ui root " .. tostring( f23_arg0 ) )
	end
end

LUI.FlowManager.IsUIRootBRGamemode = function ( f22_arg0 )
	local f22_local0
	if f22_arg0 < BR_MENUS_START or f22_arg0 > BR_MENUS_END then
		f22_local0 = false
	else
		f22_local0 = true
	end
	return f22_local0
end

LUI.FlowManager.AutomaticNavigationFrame = function ( f21_arg0 )
	local f21_local0 = PartyUIRoot.FREE
	local f21_local1 = false
	local f21_local2 = false
	local f21_local3 = false
	local f21_local4 = false
	if not f21_arg0._controllerIndex then
		local f21_local5 = Engine[0x45B054C920178E9]()
	end
	if f21_arg0.isPartyUIRootDirty then
		f21_local0 = Lobby[0x340158680AC50CB]()
	elseif Engine[0x26F7462AEAB0A8F]() then
		local f21_local6 = Tournament[0xB06A385411B9B43]()
		local f21_local7 = MLG[0xB06A385411B9B43]()
		if f21_local6 ~= PartyUIRoot.FREE then
			f21_local0 = f21_local6
			f21_local1 = true
			f21_local3 = true
			f21_local4 = true
		elseif f21_local7 ~= PartyUIRoot.FREE then
			f21_local0 = f21_local7
			f21_local2 = true
			f21_local3 = true
			f21_local4 = false
		end
	end
	if f21_local0 ~= PartyUIRoot.FREE then
		local f21_local6 = f21_arg0:DoAutomaticNavigation( f21_local0, f21_local3, f21_local4 )
		if f21_local6 and f21_local1 then
			Tournament[0xB38329E392C08B9]()
		elseif f21_local6 and f21_local2 then
			MLG[0xB38329E392C08B9]()
		end
	end
end

LUI.FlowManager.DoAutomaticNavigation = function ( f20_arg0, f20_arg1, f20_arg2, f20_arg3 )
	if Engine[0x7B6EB1163EFAAE0]() then
		END_GAME.StopServerAndLeave( f20_arg0 )
		return false
	elseif not Engine[0x12586A3F4FB490E]() then
		return false
	elseif Lobby[0x9FF3CECE5278A72]() then
		return false
	elseif f20_arg2 and Lobby[0xF1D2956B0C99DF6]() then
		if IsPrivateMatch() then
			Lobby.LeaveCustomGameLobby()
		elseif IsPublicMatch() then
			Lobby.LeavePublicLobby()
		end
		return false
	end
	local f20_local0 = Engine[0x45B054C920178E9]()
	if f20_arg2 and IsSystemLink() then
		Engine[0xB81A5136C5503E4]( "xstopprivateparty 0", f20_local0 )
		Dvar[0x8EA06EEDB58D872]( "#x3297ffeae3a9e9231", false )
		return false
	elseif f20_arg3 and not Lobby[0x63537242F1D48FF]() then
		Engine[0x7C75E608EA39B5C]( "xstartprivateparty" )
		return false
	end
	local f20_local1 = Engine[0xCFB814FF4C67F87]()
	local f20_local2 = LUI.FlowManager.GetGamemodeForUIRoot( f20_arg1 )
	local f20_local3 = LUI.FlowManager.IsUIRootBRGamemode( f20_arg1 ) ~= CONDITIONS.IsMagmaGameMode()
	local f20_local4 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.isPartyHostLeagueMode" )
	local f20_local5 = f20_local4:GetValue( f20_local0 )
	local f20_local6 = f20_local5 ~= Dvar[0x9E5BE3B4BBA4E0E]( "#x33c2e0c8902f051c0" )
	if (f20_local1 ~= f20_local2 or f20_local3 or f20_local6) and f20_local1 ~= CoD.PlayMode.None then
		local f20_local7 = Engine[0x45B054C920178E9]()
		f20_arg0:closeAllMenus()
		f20_arg0:addMenu( {
			menu = LUI.FlowManager.FlowMenus[PartyUIRoot.MAIN_MENU],
			controller = f20_local7
		} )
		if f20_local6 then
			Dvar[0x8EA06EEDB58D872]( "#x33c2e0c8902f051c0", f20_local5 )
		end
		return false
	end
	local f20_local7 = LUI.FlowManager.FlowMenus[f20_arg1]
	if not f20_local7 then
		return true
	end
	for f20_local11, f20_local12 in pairs( IgnoreFollowHostCallbacks ) do
		if f20_arg0:StackContains( f20_local11 ) and f20_local12( f20_local7 ) then
			return true
		end
	end
	f20_local8 = f20_arg0:StackContains( f20_local7 )
	f20_local9 = false
	for f20_local10 = f20_arg1 + 1, PartyUIRoot.LAST, 1 do
		if f20_arg0:StackContains( LUI.FlowManager.FlowMenus[f20_local10] ) then
			f20_local9 = true
			break
		end
	end
	if f20_local8 and not f20_local9 then
		f20_arg0.isPartyUIRootDirty = false
		return true
	end
	DebugPrint( "LUI.FlowManager.FollowPartyHost to " .. f20_local7 )
	f20_arg0:closeAllMenus()
	f20_arg0:addMenu( {
		menu = f20_local7,
		controller = f20_local0
	} )
	return false
end

LUI.FlowManager.OpenMenuByScriptRequest = function ( f16_arg0, f16_arg1 )
	assert( Engine[0x9258F49F515F97B]() )
	local f16_local0 = nil
	f16_local0 = function ( f18_arg0 )
		local f18_local0 = f16_arg0:Wait( 16 )
		f18_local0.onComplete = function ()
			if f18_arg0.root.loadingScreenManager and f18_arg0.root.loadingScreenManager:ShouldBeVisible() then
				f18_arg0( f18_arg0 )
			else
				f18_arg0()
			end
		end
		
	end
	
	local f16_local1 = {
		nil,
		"TeamSelectMenu",
		"LoadoutSelect",
		"LaunchChunkNewPhasePopup",
		"TournamentHUDOverview"
	}
	if f16_local1[f16_arg1] then
		local f16_local2 = f16_arg0.root:GetControllerIndex()
		local f16_local3 = "MPPauseMenu"
		if CONDITIONS.IsThirdGameMode() then
			f16_local3 = "CPPauseMenu"
		end
		f16_local0( function ()
			LUI.FlowManager.RequestAddMenu( f16_arg0, true, f16_arg0, false, {
				openedFromScriptRequest = true
			}, true )
			if f16_arg0 ~= "LaunchChunkNewPhasePopup" then
				LUI.FlowManager.RequestSetStack( f16_arg0, {
					{
						name = f16_arg0
					}
				} )
			end
		end )
	end
	LUI.FlowManager.RequestCloseAllMenus()
end

LUI.FlowManager.ShouldBeVisible = function ( f15_arg0 )
	local f15_local0 = Engine[0x12586A3F4FB490E]()
	if not f15_local0 then
		f15_local0 = Game[0xA988866C889EAAD]()
	end
	return f15_local0
end

LUI.FlowManager.LogMenuChangeTo = function ( f14_arg0, f14_arg1, f14_arg2 )
	if f14_arg0.stackChangeMenu ~= f14_arg2 then
		local f14_local0 = Engine[0x6991337AE950F99]()
		local f14_local1 = f14_local0 - f14_arg0.stackChangeTime
		if f14_arg0.stackChangeMenu ~= 0 then
			Engine[0xCC15E38125CE143]( f14_arg1, f14_arg0.stackChangeMenu, f14_arg2, f14_local1 )
		end
		f14_arg0.stackChangeMenu = f14_arg2
		f14_arg0.stackChangeTime = f14_local0
	end
end

LUI.FlowManager.Frame = function ( f13_arg0 )
	f13_arg0:RefreshStack()
	f13_arg0:AutomaticNavigationFrame()
end

LUI.FlowManager.InitLayer = function ( f10_arg0 )
	if Engine[0x12586A3F4FB490E]() and not f10_arg0._partyRootSubscription then
		local f10_local0 = LUI.DataSourceInGlobalModel.new( "frontEnd.lobby.partyUIRoot" )
		f10_arg0._partyRootSubscription = f10_arg0:SubscribeToModel( f10_local0:GetModel( 0 ), function ( f12_arg0 )
			if PartyUIRoot.FREE < Lobby[0x340158680AC50CB]() then
				f10_arg0.isPartyUIRootDirty = true
			end
		end )
	end
	if Engine[0x12586A3F4FB490E]() and Engine[0x2DA54CF5D6B7F02]() and not f10_arg0._elementMapSubscription then
		f10_arg0._elementMapSubscription = f10_arg0:SubscribeToModel( DataSources.debug.drawMenuMap:GetModel( 0 ), function ( f11_arg0 )
			local f11_local0 = DataModel[0x614D394F6F9A18D]( f11_arg0 )
			if f11_local0 and not Dvar[0x9E5BE3B4BBA4E0E]( "#x3e2ef6d4e1d8245f9" ) then
				Dvar[0x8EA06EEDB58D872]( "#x3e2ef6d4e1d8245f9", true )
				Engine[0x7C75E608EA39B5C]( "luiReloadMenus" )
			elseif not f11_local0 and Dvar[0x9E5BE3B4BBA4E0E]( "#x3e2ef6d4e1d8245f9" ) then
				Dvar[0x8EA06EEDB58D872]( "#x3e2ef6d4e1d8245f9", false )
				Engine[0x7C75E608EA39B5C]( "luiReloadMenus" )
			end
		end )
	end
end

LUI.FlowManager.ClearLayer = function ( f9_arg0 )
	f9_arg0:closeAllMenus()
	if f9_arg0._partyRootSubscription then
		f9_arg0:UnsubscribeFromModel( f9_arg0._partyRootSubscription )
		f9_arg0._partyRootSubscription = nil
	end
end

LUI.FlowManager.RefreshStack = function ( f7_arg0, f7_arg1, f7_arg2, f7_arg3 )
	if #f7_arg0.menuInfoStack == 0 then
		
	else
		
	end
	for f7_local8, f7_local9 in ipairs( f7_arg0.menuInfoStack ) do
		if f7_local9.fenceGroup then
			f7_local9.fenceGroup:Frame()
		end
		local f7_local3 = f7_local9.fenceGroup
		if f7_local3 then
			f7_local3 = not f7_local9.fenceGroup:Passes()
		end
		f7_local9.fenced = f7_local3
		if f7_local9.fenced then
			for f7_local3 = f7_local8 + 1, #f7_arg0.menuInfoStack, 1 do
				local f7_local6 = f7_arg0.menuInfoStack[f7_local3]
				if f7_local6 then
					local f7_local7 = f7_local6.fenceGroup
					if f7_local7 then
						f7_local7:Reset()
					end
				end
			end
		end
	end
	f7_local0 = #f7_arg0.menuInfoStack
	for f7_local9, f7_local3 in ipairs( f7_arg0.menuInfoStack ) do
		if f7_local3.fenced then
			f7_local0 = f7_local9 - 1
			break
		end
	end
	f7_local1 = 1
	for f7_local3, f7_local4 in ipairs( f7_arg0.menuInfoStack ) do
		if not f7_local4.isPopup and (f7_local4.menu or f7_local3 <= f7_local0) then
			local f7_local5 = assert
			local f7_local6 = f7_local4.menu
			if not f7_local6 then
				f7_local6 = not f7_local4.fenced
			end
			f7_local5( f7_local6 )
			f7_local1 = f7_local3
		end
	end
	f7_local2 = f7_arg0:GetStackVersion()
	for f7_local4, f7_local5 in ipairs( f7_arg0.menuInfoStack ) do
		if f7_local2 ~= f7_arg0:GetStackVersion() then
			local f7_local7 = f7_arg0
			local f7_local10 = f7_arg0.RefreshStack
		end
		if f7_local4 < f7_local1 then
			if f7_local5.menu and not AlwaysVisible[f7_local5.name] then
				f7_arg0:CloseMenuInfo( f7_local5, false, true )
			end
		end
		if f7_local4 <= f7_local0 or f7_local5.isModal then
			if not f7_local5.menu then
				if f7_arg1 and f7_arg0._transitioning and f7_arg0:GetStackTop() == f7_local5 and Dvar[0x9E5BE3B4BBA4E0E]( "#x35e2939acb6d1d0dd" ) then
					f7_local5.prevMenu = f7_arg3
					f7_local5.backTransition = f7_arg2
				end
				assert( not f7_local5.fenced )
				Engine[0x20F70AE94873E0B]( "(FlowManager OpenMenuInfo) " .. f7_local5.name, "widget" )
				f7_arg0:OpenMenuInfo( f7_local5 )
				Engine[0xFE34BB8C92CDBEE]( "(FlowManager OpenMenuInfo) " .. f7_local5.name, "widget" )
			end
			if Dvar[0x1FAB6D9A30481F8]( "#x3740d239d1efc9860" ) and Dvar[0x9E5BE3B4BBA4E0E]( "#x3740d239d1efc9860" ) and f7_local5.menu.hasTransFrom and f7_local5.menu.nextMenuCreated then
				f0_local0( f7_arg0, f7_local5 )
			end
		end
	end
	f7_local8 = f7_arg0._controllerIndex
	if not f7_local8 then
		f7_local8 = Engine[0x45B054C920178E9]()
	end
	f7_local9 = f0_local0( f7_local8 )
	for f7_local10, f7_local6 in ipairs( f7_arg0.menuInfoStack ) do
		local f7_local7 = f7_local6.onTop == true
		local f7_local11 = f7_local6.menu
		if f7_local11 then
			f7_local11 = f7_local10 == #f7_arg0.menuInfoStack
		end
		f7_local6.onTop = f7_local11
		if f7_local10 > f7_local0 or f7_local0 >= #f7_arg0.menuInfoStack then
			f7_local11 = false
		else
			f7_local11 = true
		end
		if f7_local6.menu then
			if f7_local6.onTop then
				local f7_local12 = f7_local6.menu.popupActive
				if f7_local6.menu.popupActive then
					f7_local6.menu:processEvent( {
						dispatchChildren = true,
						name = "popup_inactive"
					} )
					f7_local6.menu.popupActive = nil
				end
				if not f7_local7 then
					if DisableMousePointer[f7_local6.name] then
						f7_arg0.root:RemoveMouseCursor()
					else
						f7_arg0.root:TryAddMouseCursor()
					end
					local f7_local13, f7_local14 = f7_local6.menu:restoreState( f7_local9[f7_local6.name], f7_local6.controller )
					if not LUI.IsLastInputMouseNavigation( f7_local6.controller ) then
						if not f7_local13 or f7_local14 == 0 then
							Engine[0x20F70AE94873E0B]( "(FlowManager gain_focus) " .. f7_local6.name, "widget" )
							f7_local6.menu:processEvent( {
								name = "gain_focus",
								controller = f7_local6.controller,
								focusType = FocusType.MenuFlow
							} )
							Engine[0xFE34BB8C92CDBEE]( "(FlowManager gain_focus) " .. f7_local6.name, "widget" )
						end
					else
						f7_arg0.root:RefreshFocusStack( f7_local6.controller )
						LUI.MouseCursorTooltipLayer.ForceCloseTooltip( f7_local6.controller )
					end
					if f7_local12 then
						f7_arg0._transitioning = false
						f7_arg0.root:RefreshFocusStack( f7_local6.controller )
					end
					if f7_local13 and f7_arg1 and not f7_local12 and Dvar[0x9E5BE3B4BBA4E0E]( "#x35e2939acb6d1d0dd" ) and LUI.FlowManager.PlayTransition( f7_arg0, f7_local6, LUI.Transition.TransBackTo, function ()
						f7_arg0._transitioning = false
						f7_arg0.root:RefreshFocusStack( f7_arg0.controller )
					end
					 ) then
						local f7_local15 = LUI.FlowManager.MenuBackgrounds[f7_local6.name]
						if f7_local15 and f7_local15.widget then
							local f7_local16 = 200
							if f7_local6.prevMenu then
								local f7_local17 = LUI.FlowManager.MenuBackgrounds[f7_local6.prevMenu.id]
								if f7_local17 and f7_local17.widget == f7_local15.widget then
									f7_local16 = 0
								end
							end
							assert( f7_local6.menuBackground )
							f7_local6.menuBackground:SetAlpha( 0 )
							f7_local6.menuBackground:SetAlpha( 1, f7_local16, LUI.EASING.outCubic )
						end
					end
					f7_local9[f7_local6.name] = nil
				end
			else
				if f7_local7 then
					f7_local9[f7_local6.name] = f7_local6.menu:saveState()
					f7_local6.menu:processEvent( {
						name = "lose_focus"
					} )
					f7_local6.menu:processEvent( {
						dispatchChildren = true,
						name = "popup_active"
					} )
				end
				f7_local6.menu.popupActive = true
			end
			if f7_local6.menu.isBelowBlockingFence ~= f7_local11 then
				f7_local6.menu.isBelowBlockingFence = f7_local11
				if f7_local11 then
					f7_local6.menu:processEvent( {
						name = "below_blocking_fence"
					} )
				else
					f7_local6.menu:processEvent( {
						name = "not_below_blocking_fence"
					} )
				end
			end
		end
	end
end

LUI.FlowManager.processEvent = function ( f6_arg0, f6_arg1 )
	local f6_local0 = nil
	local f6_local1 = f6_arg0.m_eventHandlers[f6_arg1.name]
	if f6_local1 then
		f6_local0 = f6_local1( f6_arg0, f6_arg1 )
	else
		f6_local0 = LUI.UIElement.processEvent( f6_arg0, f6_arg1 )
	end
	if not f6_local0 and f6_arg0.IsNavigationEvent( f6_arg1 ) then
		f6_arg0:EnsureFocus( f6_arg1 )
	end
	return f6_local0
end

LUI.FlowManager.EnsureFocus = function ( f5_arg0, f5_arg1 )
	local f5_local0 = f5_arg0.menuInfoStack[#f5_arg0.menuInfoStack]
	if f5_local0 and f5_local0.menu and not f5_local0.menu:getFirstInFocus() then
		DebugPrint( "FlowManager: No child in focus, trying to restore focus.  This should probably only happen when using a mouse" )
		local f5_local1 = LUI.FlowManager.GetScopedData( f5_local0.menu )
		f5_local0.menu:processEvent( {
			fromEnsureFocus = true,
			name = "gain_focus",
			controller = f5_local1.controllerIndex,
			focusType = f5_arg1.name
		} )
		DebugPrint( "CheckRestoreFocus to " .. f5_local0.name )
	end
end

LUI.FlowManager.ForwardEventToTopMostOpenMenu = function ( f4_arg0, f4_arg1 )
	local f4_local0 = f4_arg0:GetTopMostOpenMenuInfo()
	if f4_local0 then
		return f4_local0.menu:processEvent( f4_arg1 )
	else
		return false
	end
end

LUI.FlowManager.ForwardMouseEventToTopMostOpenMenu = function ( f3_arg0, f3_arg1 )
	f3_arg0:applyElementTransform()
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain( f3_arg0 )
	end
	if f3_arg0._transitioning and Dvar[0x9E5BE3B4BBA4E0E]( "#x3bf614528a068289e" ) then
		return true
	end
	local f3_local0 = f3_arg0:ForwardEventToTopMostOpenMenu( f3_arg1 )
	f3_arg0:undoElementTransform()
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.EndFocusChain( f3_arg0 )
	end
	if f3_arg1.name == "mousemove" then
		return true
	end
	return f3_local0
end

LUI.FlowManager.IsNavigationEvent = function ( f2_arg0 )
	if f2_arg0.name == "gamepad_button" and f2_arg0.down and f2_arg0.qualifier ~= "mousewheel" and (f2_arg0.button == "up" or f2_arg0.button == "down" or f2_arg0.button == "left" or f2_arg0.button == "right") then
		return true
	else
		return false
	end
end

LUI.FlowManager.GetFirstActiveFenceGroup = function ( f1_arg0 )
	if f1_arg0.menuInfoStack then
		for f1_local3, f1_local4 in ipairs( f1_arg0.menuInfoStack ) do
			if f1_local4.fenced then
				return f1_local4.fenceGroup
			end
		end
	end
end

