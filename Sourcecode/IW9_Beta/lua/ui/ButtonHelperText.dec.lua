-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:01
LUI.ButtonHelperText = LUI.Class( LUI.UIElement )
local f0_local0 = CoD.TextSettings.ButtonHelperFont
local f0_local1 = 32 * _1080p
local f0_local2 = 2
local f0_local3 = 8 * _1080p
local f0_local4 = SWATCHES.IW9StyleGuide.styleGuideCool02
local f0_local5 = 56 * _1080p
local f0_local6 = 4 * _1080p
local f0_local7 = 12
local f0_local8 = 16 * _1080p
local f0_local9 = 22
LUI.ButtonHelperText.GAMEPAD_BUTTON_ICON_HEIGHT = 22 * _1080p
LUI.ButtonHelperText.PROMPT_ORDER = {
	nil,
	"button_primary",
	"button_secondary",
	"button_start"
}
TOOLTIPS = {
	EXIT = {
		key = Engine[0xEB2A2834B76AEA4]( Engine[0xED84C33EC5F01EA]( 0x4E76830223A336F ) ),
		text = Engine[0xED84C33EC5F01EA]( 0x78045F77B0CF10E )
	},
	OPTIONS = {
		key = Engine[0xEB2A2834B76AEA4]( Engine[0xED84C33EC5F01EA]( 0x371D314917B7829 ) ),
		text = Engine[0xED84C33EC5F01EA]( 0xDC43D01750C15FD )
	},
	DISMISS = {
		key = Engine[0xEB2A2834B76AEA4]( Engine[0xED84C33EC5F01EA]( 0xEF0F75B0AB08E35 ) ),
		text = Engine[0xED84C33EC5F01EA]( 0x934BF1499C71BC6 )
	}
}
LUI.ButtonHelperText.AutomaticIcons = {
	{
		icon = "FooterBackIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x678DCE0E97FD19C )
	},
	{
		icon = "FooterBackIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x8E9604004261969 )
	},
	{
		icon = "FooterBackIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x4C4B7B2FF4A57EE )
	},
	{
		icon = "FooterOptionsIcon",
		text = Engine[0xED84C33EC5F01EA]( 0xDE7B3C94B0B0F67 )
	},
	{
		icon = "FooterCursorIcon",
		text = Engine[0xED84C33EC5F01EA]( 0xBDC2AC973D02C84 )
	},
	{
		icon = "MuteAllIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x46FABA13E586EDA )
	},
	{
		icon = "UnmuteAllIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x7D144975A6EEA95 )
	},
	{
		icon = "FooterNVidiaIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x78B3BFB51D68607 )
	},
	{
		icon = "FooterMouseIcon",
		text = Engine[0xED84C33EC5F01EA]( 0x384B5ED94000390 )
	}
}
local f0_local10 = function ( f34_arg0 )
	if f34_arg0.optOutOfAutomaticKBMIcon then
		return nil
	end
	for f34_local3, f34_local4 in ipairs( LUI.ButtonHelperText.AutomaticIcons ) do
		if f34_arg0.helper_text == f34_local4.text then
			return f34_local4
		end
	end
	return nil
end

local f0_local11 = function ( f33_arg0 )
	local f33_local0 = ""
	for f33_local4, f33_local5 in pairs( TOOLTIPS ) do
		if f33_arg0 == f33_local5.key then
			f33_local0 = f33_local5.text
			break
		end
	end
	return f33_local0
end

local f0_local12 = function ( f32_arg0, f32_arg1 )
	local f32_local0
	if not f32_arg1.clickable then
		f32_local0 = f32_arg1.kbm_only
		if f32_local0 then
		
		else
			return f32_local0
		end
	end
	f32_local0 = LUI.IsLastInputKeyboardMouse( f32_arg0 )
end

local f0_local13 = function ( f31_arg0 )
	return f31_arg0.button_ref and f31_arg0.button_ref or f31_arg0.button_ref2
end

local f0_local14 = function ( f30_arg0 )
	local f30_local0 = Engine[0xFB1B6E36ABE59B8]()
	if not f30_local0 then
		f30_local0 = LUI.IsLastInputGamepad( f30_arg0 )
	end
	local f30_local1
	if f30_local0 then
		f30_local1 = LUI.ButtonHelperText.GAMEPAD_BUTTON_ICON_HEIGHT
		if not f30_local1 then
		
		else
			return f30_local1
		end
	end
	f30_local1 = f0_local0.Height
end

local f0_local15 = function ( f29_arg0, f29_arg1, f29_arg2 )
	assert( ButtonMap[f29_arg1] )
	if not f29_arg2.useTextButtons or LUI.IsLastInputGamepad( f29_arg0 ) then
		return CoD.GetIconForButton( f29_arg1 )
	else
		return CoD.GetTextForButton( f29_arg1 )
	end
end

local f0_local16 = function ( f28_arg0, f28_arg1, f28_arg2, f28_arg3 )
	if not f0_local0( f28_arg0, f28_arg2 ) then
		local f28_local0, f28_local1, f28_local2, f28_local3 = GetTextDimensions( f0_local0( f28_arg0, f28_arg1, f28_arg2 ), f0_local0.Font, f0_local0( f28_arg0 ) )
		return f28_local2 - f28_local0
	elseif f0_local0( f28_arg2 ) then
		return f28_arg3._width or f0_local0
	else
		return 0
	end
end

local f0_local17 = function ( f27_arg0, f27_arg1, f27_arg2 )
	local f27_local0 = f0_local0( f27_arg0, f27_arg2 ) or f27_arg2.always_use_alt_PC_icon
	local f27_local1 = f0_local0( f27_arg0, f27_arg1, f27_arg2 )
	local f27_local2 = f0_local0( f27_arg0 )
	local self = nil
	if f27_local0 then
		local f27_local4 = f0_local0( f27_arg2 )
		if f27_local4 then
			self = MenuBuilder.BuildRegisteredType( f27_local4.icon, {
				controllerIndex = f27_arg0
			} )
			local f27_local5, f27_local6, f27_local7, f27_local8 = self:getLocalRect()
			self._width = f27_local7 - f27_local5
			self:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, self._width, -f27_local2 / 2, f27_local2 / 2 )
			self:SetTintFontIcons( true )
			self:SetRGBFromTable( f0_local0 )
			self:SetAlpha( 1, 0 )
			self.id = f27_arg2.side .. "Icon"
		end
	elseif not f27_arg2.isTouch or f27_arg2.IsLastInputGamepad then
		self = LUI.UIStyledText.new()
		self:SetRGBFromTable( f0_local0 )
		self:SetFont( f0_local0.Font )
		self:SetAlignment( LUI.Alignment.Center )
		self:SetTintFontIcons( true )
		self:SetAlpha( 0.8, 0 )
		self:SetWordWrap( false )
		self.id = f27_arg2.side .. "Icon"
		self:setText( f27_local1 )
		self:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, f0_local0( f27_arg0, f27_arg1, f27_arg2 ), -f27_local2 / 2, f27_local2 / 2 )
	end
	return self
end

local f0_local18 = function ( f26_arg0, f26_arg1, f26_arg2 )
	local f26_local0 = f0_local0( f26_arg0 )
	local f26_local1 = MenuBuilder.BuildRegisteredType( "ToggleButton", {
		controllerIndex = f26_arg0
	} )
	local f26_local2, f26_local3, f26_local4, f26_local5 = f26_local1:getLocalRect()
	f26_local1._width = f26_local4 - f26_local2
	f26_local1:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, f26_local1._width, -f26_local0 / 2.5, f26_local0 / 2 )
	f26_local1:SetAlpha( 1, 0 )
	f26_local1:SetScale( -0.4, 0 )
	f26_local1.id = f26_arg2.side .. "Toggle"
	return f26_local1
end

local f0_local19 = function ( f23_arg0, f23_arg1, f23_arg2 )
	local f23_local0 = f0_local0( f23_arg0, f23_arg1 )
	if not f23_local0 or not SWATCHES.IW9StyleGuide.styleGuideCool02 then
		local f23_local1 = f0_local0
	end
	if f23_arg1.overrideTextUpColor then
		local f23_local1 = f23_arg1.overrideTextUpColor
	end
	if not f23_local0 or not SWATCHES.IW9StyleGuide.styleGuideCool05 then
		local f23_local2 = SWATCHES.buttonHelper.helperText
	end
	if f23_arg1.overrideTextOverColor then
		local f23_local2 = f23_arg1.overrideTextOverColor
	end
	local f23_local3 = {
		{
			duration = 10,
			property = TWEEN_PROPERTY.RGB,
			value = f23_local2
		},
		{
			value = 1,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		}
	}
	local f23_local4 = {
		{
			duration = 10,
			property = TWEEN_PROPERTY.RGB,
			value = f23_local1
		},
		{
			value = -2.353438279577766E-185,
			duration = 10,
			property = TWEEN_PROPERTY.Alpha
		}
	}
	local f23_local5 = f23_arg1.helper_text
	if not LUI.IsLastInputGamepad( f23_arg0 ) and f23_arg1.buttonText then
		if IsLanguageArabic() then
			f23_local5 = f23_arg1.helper_text .. " " .. f23_arg1.buttonText
		else
			f23_local5 = f23_arg1.buttonText .. " " .. f23_arg1.helper_text
		end
	end
	local self = LUI.UIText.new()
	local f23_local7 = f0_local0.Height * _1080p
	if IsLanguageArabic() then
		f23_local7 = 26 * _1080p
	elseif IsLanguageKorean() then
		f23_local7 = 22 * _1080p
	end
	self:SetMinFontSize( f23_local7 )
	self:SetMaxFontSize( f23_local7 )
	self:SetFont( f0_local0.Font )
	local f23_local8 = self
	local f23_local9 = self.SetAlignment
	local f23_local10
	if f23_arg2 then
		f23_local10 = LUI.Alignment.Center
		if not f23_local10 then
		
		else
			f23_local9( f23_local8, f23_local10 )
			self:SetVerticalAlignment( IsLanguageArabic() and LUI.Alignment.Middle or LUI.Alignment.Top )
			self:SetRGBFromTable( f23_local1 )
			self.id = "promptText" .. f23_arg1.primaryRef
			self.ref = f23_arg1.primaryRef
			self:setText( ToUpperCase( f23_local5 ) )
			self:SetOptOutRightToLeftAlignmentFlip( true )
			self:SetWordWrap( false )
			self:SetAlpha( 0.8 )
			self:RegisterAnimationSequence( "buttonOver", f23_local3 )
			self:RegisterAnimationSequence( "buttonUp", f23_local4 )
			self:AnimateSequence( "buttonUp" )
			self:registerEventHandler( "button_up", function ( self, event )
				self:AnimateSequence( "buttonUp" )
			end )
			self:registerEventHandler( "button_over", function ( self, event )
				self:AnimateSequence( "buttonOver" )
			end )
			self:SetAnchorsAndPosition( 0, 1, 0.5, 0.5, 0, LAYOUT.GetTextWidth( self, f23_arg0 ), -f23_local7 * 0.5, f23_local7 * 0.5 )
			return self
		end
	end
	f23_local10 = LUI.Alignment.Left
end

function SendButtonEvent( f22_arg0, f22_arg1 )
	if f22_arg0.data.clickable and f22_arg1.mouse == true then
		local f22_local0 = {
			name = "gamepad_button",
			immediate = true
		}
		assert( ButtonMap[f22_arg0.data.primaryRef].raw_button )
		f22_local0.button = ButtonMap[f22_arg0.data.primaryRef].raw_button
		f22_local0.down = true
		f22_local0.controller = f22_arg1.controller
		f22_arg0:dispatchEventToRoot( f22_local0 )
		Engine[0xA1DAA3E8650282A]( f22_arg1.controller )
	end
end

local f0_local20 = function ( f21_arg0, f21_arg1, f21_arg2, f21_arg3, f21_arg4, f21_arg5, f21_arg6 )
	local f21_local0 = nil
	local f21_local1 = f0_local0( f21_arg0, f21_arg1 )
	if f21_arg1.width then
		f21_local0 = f21_arg1.width
	else
		local f21_local2 = 0
		local f21_local3 = 0
		local f21_local4 = 0
		local f21_local5 = 0
		if f21_arg3 then
			f21_local2 = f0_local0( f21_arg0, f21_arg3, f21_arg1, f21_arg5 )
			f21_local4 = f21_local4 + 1
		end
		local f21_local6 = LAYOUT.GetTextWidth( f21_arg2, f21_arg0 )
		if f21_arg4 then
			f21_local3 = f0_local0( f21_arg0, f21_arg4, f21_arg1, f21_arg6 )
			f21_local4 = f21_local4 + 1
		end
		if f21_arg1.isToggleButton then
			f21_local5 = f0_local0
		end
		local f21_local7 = 0
		if f21_local1 or f21_arg1.isToggleButton or f21_arg1.isImportantAction then
			if f0_local0( f21_arg1 ) then
				f21_local7 = f0_local0 * f21_local4
			end
			f21_local7 = f21_local7 + f0_local0 * 2
			if not f21_local1 then
				f21_local7 = f21_local7 + f0_local0 * f21_local4
			end
		else
			f21_local7 = f0_local0 * f21_local4
		end
		f21_local0 = f21_local2 + f21_local6 + f21_local3 + f21_local7 + f21_local5
	end
	if f21_arg1.updateWidthCallback then
		f21_arg1.updateWidthCallback( f21_arg1.headerWidget, f21_local0 )
	end
	return f21_local0
end

local f0_local21 = function ( f17_arg0, f17_arg1 )
	if f17_arg1.isImportantAction then
		local f17_local0 = assert
		local f17_local1
		if f17_arg1.isImportantAction ~= true or f17_arg1.priority ~= 1 then
			f17_local1 = false
		else
			f17_local1 = true
		end
		f17_local0( f17_local1, "If setting 'isImportantAction == true' then the Button Prompt 'priority == 1'" )
	end
	local f17_local0 = f17_arg1.button_ref
	local f17_local2 = f17_arg1.button_ref2
	local f17_local1 = f17_arg1.button_ref_override_icon or nil
	local f17_local3 = f17_arg1.button_ref_override_icon2 or nil
	local f17_local4 = f0_local0( f17_arg0, f17_arg1 )
	f17_arg1.primaryRef = f0_local0( f17_arg1 )
	if f17_arg1.useTextButtons == nil then
		f17_arg1.useTextButtons = false
	end
	local self = LUI.UIButton.new()
	self.id = f17_arg1.primaryRef
	self.data = f17_arg1
	self.m_requireFocusType = FocusType.MouseOver
	self.ref = f17_arg1.primaryRef
	self.hasTwoButtons = f17_arg1.button_ref and f17_arg1.button_ref2
	self.blockKeyboardSound = true
	if (f17_local4 or f17_arg1.isToggleButton or f17_arg1.isImportantAction) and not f17_arg1.ignoreButtonBackground then
		local f17_local6 = MenuBuilder.BuildRegisteredType( "ButtonHelperButtonBackground", {
			controllerIndex = f17_arg0,
			isImportantAction = f17_arg1.isImportantAction
		} )
		f17_local6.id = "ButtonHelperButtonBackground"
		f17_local6:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		self:addElement( f17_local6 )
		self.ButtonHelperButtonBackground = f17_local6
	end
	if f17_local4 and f17_local0 then
		local f17_local6 = CoD.GetTextForButton( f17_local0 )
		local f17_local7 = f17_arg1.helper_text
		if f17_arg1.kbmTooltipPromptOverload and f17_arg1.kbmTooltipPromptOverload ~= "" then
			f17_local6 = CoD.GetTextForButton( f17_arg1.kbmTooltipPromptOverload )
		end
		for f17_local11, f17_local12 in ipairs( LUI.ButtonHelperText.PROMPT_ORDER ) do
			if f17_local12 == f17_local0 then
				f17_local7 = f0_local0( Engine[0xEB2A2834B76AEA4]( f17_local7 ) )
			end
		end
		if f17_local7 == f17_arg1.helper_text then
			f17_local7 = ""
		end
		if f17_local6 then
			f17_local8 = {
				{
					keyprompt_text = f17_local6,
					helper_text = f17_local7,
					button_ref = f17_local0,
					ignoreTooltipPrompt = f17_arg1.ignoreTooltipPrompt
				}
			}
			if not f17_arg1.ignoreTooltipPrompt then
				f17_local9 = {
					promptsData = f17_local8
				}
				if f17_arg1.addTooltip ~= false then
					self:AddTooltipData( f17_arg0, f17_local9 )
				end
			elseif f17_arg1.isIconEnabledForKBM then
				f17_arg1.buttonText = f17_local6
			end
		end
	end
	self:registerEventHandler( "button_action", SendButtonEvent )
	local f17_local6 = LUI.UIHorizontalList.new()
	f17_local6:SetSpacing( f0_local0 )
	f17_local6:SetAdjustSizeToContent( true )
	f17_local6.id = "helperHorizontalList"
	local f17_local7 = nil
	if f17_local0 then
		local f17_local8 = f0_local0
		local ToggleButton = f17_arg0
		local f17_local11
		if not f17_local1 then
			f17_local11 = f17_local1
		else
			f17_local11 = f17_local0
		end
		f17_local7 = f17_local8( ToggleButton, f17_local11, f17_arg1 )
		if f17_local7 then
			f17_local7:SetRGBFromTable( f0_local0 )
			f17_local6:addElement( f17_local7 )
		end
	end
	local f17_local8 = f0_local0( f17_arg0, f17_arg1, self.hasTwoButtons )
	f17_local6:addElement( f17_local8 )
	local f17_local9 = nil
	if f17_local9 then
		local ToggleButton = f0_local0
		local f17_local12 = f17_arg0
		local f17_local13
		if not f17_local3 then
			f17_local13 = f17_local3
		else
			f17_local13 = f17_local2
		end
		f17_local9 = ToggleButton( f17_local12, f17_local13, f17_arg1 )
		if f17_local9 then
			f17_local9:SetRGBFromTable( f0_local0 )
			f17_local6:addElement( f17_local9 )
		end
	end
	local ToggleButton = nil
	if f17_arg1.isToggleButton then
		ToggleButton = f0_local0( f17_arg0, f17_local0, f17_arg1 )
		if ToggleButton then
			f17_local6:addElement( ToggleButton )
			self.ToggleButton = ToggleButton
			
			self.SetToggleState = function ( f20_arg0, f20_arg1 )
				f20_arg0.ToggleButton:SetToggleState( f20_arg1 )
			end
			
		end
	else
		self.SetToggleState = nil
	end
	self:addElement( f17_local6 )
	if f17_arg1.priority then
		self:setPriority( f17_arg1.priority )
	end
	if not f17_arg1.clickable then
		self:SetFocusable( false )
		self:SetHandleMouseButton( false )
	end
	local f17_local12 = function ( f19_arg0, f19_arg1, f19_arg2, f19_arg3, f19_arg4, f19_arg5, f19_arg6, f19_arg7 )
		local f19_local0 = f17_arg0( f19_arg0, f19_arg2, f19_arg3, f19_arg4, f19_arg5, f19_arg6, f19_arg7 )
		if f19_arg2.container then
			local f19_local1 = f19_arg2.container:GetAnchorsAndPosition()
			local f19_local2 = (f19_local1.right - f19_local1.left) / 2
			if f19_arg2.containerAlignment == LUI.Alignment.Right then
				f19_arg1:SetAnchorsAndPosition( 1, 0, 0, 0, -f19_local0, 0, 0, 0 )
			elseif f19_arg2.containerAlignment == LUI.Alignment.Center then
				f19_arg1:SetAnchorsAndPosition( 0, 1, 0, 0, f19_local2 - f19_local0 / 2, f19_local2 + f19_local0 / 2, 0, 0 )
			else
				f19_arg1:SetAnchorsAndPosition( 0, 1, 0, 0, 0, f19_local0, 0, 0 )
			end
		else
			f19_arg1:SetAnchorsAndPosition( 0, 1, 0, 0, 0, f19_local0, 0, 0 )
		end
	end
	
	f17_local12( f17_arg0, self, f17_arg1, f17_local8, f17_local0, f17_local2, f17_local7, f17_local9 )
	self:addEventHandler( "onVideoChange", function ( f18_arg0, f18_arg1 )
		f17_arg0( f17_arg0, f18_arg0, f17_arg0, f17_arg0, f17_arg0, f17_arg0, f17_arg0, f17_arg0 )
	end )
	if f17_local4 or f17_arg1.isToggleButton or f17_arg1.isImportantAction then
		f17_local12 = f0_local0
		if not f17_local12 then
		
		else
			f17_local6:SetAnchorsAndPosition( 0, 0, 0, 0, f17_local12, -f17_local12, 0, 0 )
			return self
		end
	end
	f17_local12 = 0
end

local f0_local22 = function ( f15_arg0 )
	local f15_local0 = 88 * _1080p
	local f15_local1 = -88 * _1080p
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 50 * _1080p )
	self.id = "buttonHelperListContainer"
	f15_arg0.buttonHelperListContainer = self
	f15_arg0._buttonHelperLists = {}
	
	local buttonHelperLeftList = LUI.UIHorizontalList.new()
	buttonHelperLeftList:SetLeft( f15_local0 )
	buttonHelperLeftList:SetAlignment( LUI.Alignment.Left )
	buttonHelperLeftList:SetSpacing( f0_local0 )
	buttonHelperLeftList.id = "buttonHelperLeftList"
	buttonHelperLeftList.side = "left"
	self:addElement( buttonHelperLeftList )
	self.buttonHelperLeftList = buttonHelperLeftList
	
	f15_arg0._buttonHelperLists.left = buttonHelperLeftList
	
	local buttonHelperRightList = LUI.UIHorizontalList.new()
	buttonHelperRightList:SetRight( f15_local1 )
	buttonHelperRightList:SetAlignment( LUI.Alignment.Right )
	buttonHelperRightList:SetSpacing( f0_local0 )
	buttonHelperRightList.id = "buttonHelperRightList"
	buttonHelperRightList.side = "right"
	self:addElement( buttonHelperRightList )
	self.buttonHelperRightList = buttonHelperRightList
	
	f15_arg0._buttonHelperLists.right = buttonHelperRightList
	
	local buttonHelperCenterList = LUI.UIHorizontalList.new()
	buttonHelperCenterList:SetLeft( f15_local0 )
	buttonHelperCenterList:SetRight( f15_local1 )
	buttonHelperCenterList:SetAlignment( LUI.Alignment.Center )
	buttonHelperCenterList:SetSpacing( f0_local0 )
	buttonHelperCenterList.id = "buttonHelperCenterList"
	buttonHelperCenterList.side = "center"
	self:addElement( buttonHelperCenterList )
	self.buttonHelperCenterList = buttonHelperCenterList
	
	f15_arg0._buttonHelperLists.center = buttonHelperCenterList
	if LUI.IsLastInputKeyboardMouse( f15_arg0._controllerIndex ) then
		buttonHelperLeftList:SetSpacing( f0_local0 )
		buttonHelperCenterList:SetSpacing( f0_local0 )
		buttonHelperRightList:SetSpacing( f0_local0 )
	end
	self:registerEventHandler( "update_input_type", function ( self, event )
		if LUI.IsLastInputKeyboardMouse( event.controllerIndex ) then
			self.buttonHelperLeftList:SetSpacing( f15_arg0 )
			self.buttonHelperCenterList:SetSpacing( f15_arg0 )
			self.buttonHelperRightList:SetSpacing( f15_arg0 )
		else
			self.buttonHelperLeftList:SetSpacing( f15_arg0 )
			self.buttonHelperCenterList:SetSpacing( f15_arg0 )
			self.buttonHelperRightList:SetSpacing( f15_arg0 )
		end
	end )
	return self
end

LUI.ButtonHelperText.GetPromptByButtonRef = function ( f14_arg0, f14_arg1 )
	for f14_local3, f14_local4 in pairs( f14_arg0._buttonHelperLists ) do
		if f14_local4:getFirstChild() then
			
		end
	end
end

LUI.ButtonHelperText.TogglePromptByButtonRef = function ( f13_arg0, f13_arg1, f13_arg2 )
	local f13_local0 = f13_arg0:GetPromptByButtonRef( f13_arg1 )
	if f13_local0 and f13_local0.SetToggleState then
		f13_local0:SetToggleState( f13_arg2 )
	end
end

LUI.ButtonHelperText.AddHelperListContainer = function ( f12_arg0, f12_arg1 )
	assert( f12_arg0._buttonHelperLists )
	local f12_local0 = assert
	local f12_local1
	if f12_arg1.id == "left" or f12_arg1.id == "right" or f12_arg1.id == "center" then
		f12_local1 = false
	else
		f12_local1 = true
	end
	f12_local0( f12_local1, "Custom button helper containers cannot be named \"left\", \"right\" or \"center\". These are reserved" )
	if f12_arg0._buttonHelperLists[f12_arg1.id] then
		return 
	else
		f12_arg0._buttonHelperLists[f12_arg1.id] = f12_arg1
	end
end

LUI.ButtonHelperText.AttemptRemoveHelperListContainer = function ( f11_arg0, f11_arg1 )
	assert( f11_arg0._buttonHelperLists )
	local f11_local0 = nil
	if 0 < #f11_arg0._promptStack[f11_arg1] then
		f11_local0 = f11_arg0._promptStack[f11_arg1][#f11_arg0._promptStack[f11_arg1]].side
	end
	if f11_local0 == "left" or f11_local0 == "right" or f11_local0 == "center" or f11_local0 == nil then
		return 
	else
		local f11_local1 = f11_arg0._buttonHelperLists[f11_local0]
		if not f11_local1 then
			return 
		elseif f11_local1:getFirstChild() then
			return 
		else
			f11_arg0._buttonHelperLists[f11_local0] = nil
		end
	end
end

LUI.ButtonHelperText.PushButtonPrompt = function ( f10_arg0, f10_arg1, f10_arg2 )
	local f10_local0 = assert
	local f10_local1
	if not f10_arg1.button_ref or 0 >= #f10_arg1.button_ref then
		f10_local1 = f10_arg1.button_ref2
		if f10_local1 then
			if 0 >= #f10_arg1.button_ref2 then
				f10_local1 = false
			else
				f10_local1 = true
			end
		end
	else
		f10_local1 = true
	end
	f10_local0( f10_local1 )
	assert( f10_arg1.helper_text )
	if not f10_arg2 then
		f10_arg2 = {}
	end
	f10_arg2.replaceTop = f10_arg2.replaceTop or false
	f10_arg1.isTouch = CONDITIONS.IsTouchEnabled()
	f10_arg1.isLastInputGamepad = LUI.IsLastInputGamepad( f10_arg0._controllerIndex )
	if f10_arg1.container then
		f10_arg0:AddHelperListContainer( f10_arg1.container )
		f10_arg1.side = f10_arg1.container.id
	end
	if f10_arg1.useTextButtons == nil then
		f10_arg1.useTextButtons = false
	end
	if f10_arg1.isIconEnabledForKBM == nil then
		f10_arg1.isIconEnabledForKBM = true
	end
	f10_arg1.side = f10_arg1.side or "left"
	if f10_arg1.clickable == nil then
		f10_arg1.clickable = true
	end
	f10_local0 = f0_local0( f10_arg1 )
	assert( ButtonMap[f10_local0] )
	if not f10_arg0._promptStack[f10_local0] then
		f10_arg0._promptStack[f10_local0] = {}
	end
	local f10_local2 = f10_arg0.wasLastInputGamepad
	if f10_local2 then
		f10_local2 = not f10_arg1.isLastInputGamepad
	end
	f10_arg0.wasLastInputGamepad = f10_arg1.isLastInputGamepad
	f10_local1 = #f10_arg0._promptStack[f10_local0]
	if f10_arg1.helper_text == "" then
		f10_arg0:RemoveButtonPrompt( f10_local0 )
		return 
	elseif 0 < f10_local1 then
		f10_arg1.primaryRef = f0_local0( f10_arg1 )
		if LUI.AreTableContentsEqual( f10_arg1, f10_arg0._promptStack[f10_local0][f10_local1] ) and not f10_local2 then
			return 
		elseif f10_arg2.replaceTop then
			f10_arg0:RemoveButtonPrompt( f10_local0 )
		else
			f10_arg0:CloseButtonPrompt( f10_local0 )
		end
	end
	table.insert( f10_arg0._promptStack[f10_local0], f10_arg1 )
	local f10_local3 = false
	if f10_arg1.force_display then
		f10_local3 = true
	elseif LUI.IsLastInputGamepad( f10_arg0._controllerIndex ) then
		if not f10_arg1.kbm_only then
			f10_local3 = true
		end
	elseif not f10_arg1.gamepad_only and f10_local0 ~= "button_primary" then
		f10_local3 = true
	end
	if f10_local3 then
		f10_arg0._buttonHelperLists[f10_arg1.side]:addElement( f0_local0( f10_arg0._controllerIndex, f10_arg1 ) )
	end
end

LUI.ButtonHelperText.RemoveButtonPrompt = function ( f9_arg0, f9_arg1 )
	f9_arg0:CloseButtonPrompt( f9_arg1 )
	f9_arg0:AttemptRemoveHelperListContainer( f9_arg1 )
	assert( f9_arg0._promptStack[f9_arg1], "Attempting to remove a button prompt that doesn't exist." )
	table.remove( f9_arg0._promptStack[f9_arg1] )
end

LUI.ButtonHelperText.CloseButtonPrompt = function ( f8_arg0, f8_arg1 )
	local f8_local0 = f8_arg0:GetPromptByButtonRef( f8_arg1 )
	if f8_local0 then
		f8_local0:processEvent( {
			immediate = true,
			name = "lose_focus"
		} )
		f8_local0:closeTree()
	end
end

LUI.ButtonHelperText.RefreshButtonHelpers = function ( f7_arg0, f7_arg1 )
	f7_arg0._controllerIndex = f7_arg1.controllerIndex
	local f7_local0 = LUI.DeepCopy( f7_arg0._promptStack )
	for f7_local4, f7_local5 in pairs( f7_arg0._promptStack ) do
		if 0 < #f7_local5 then
			f7_arg0:RemoveButtonPrompt( f7_local4 )
		end
	end
	for f7_local4, f7_local5 in ipairs( f7_arg0.PROMPT_ORDER ) do
		if f7_local0[f7_local5] then
			local f7_local6 = f7_local0[f7_local5][#f7_local0[f7_local5]]
			if f7_local6 then
				f7_arg0:PushButtonPrompt( f7_local6 )
			end
			f7_local0[f7_local5] = nil
		end
	end
	for f7_local4, f7_local5 in pairs( f7_local0 ) do
		if 0 < #f7_local5 then
			local f7_local6 = f7_local5[#f7_local5]
			f7_arg0:PushButtonPrompt( f7_local6 )
			if f7_local6.isToggleButton then
				f7_arg0:TogglePromptByButtonRef( f7_local6.button_ref, f7_local6.isToggledOn )
			end
		end
	end
end

LUI.ButtonHelperText.PopButtonPrompt = function ( f6_arg0, f6_arg1 )
	assert( f6_arg0._buttonHelperLists )
	local f6_local0 = f0_local0( f6_arg1 )
	if not f6_arg0._promptStack[f6_local0] then
		DebugPrint( "PopButtonPrompt: '" .. f6_local0 .. "' doesn't exist" )
		return 
	end
	f6_arg0:RemoveButtonPrompt( f6_local0 )
	local f6_local1 = f6_arg0._promptStack[f6_local0]
	if f6_local1 and 0 < #f6_local1 then
		f6_arg0:PushButtonPrompt( f6_local1[#f6_local1] )
	end
end

LUI.ButtonHelperText.SetupFocusOnlyButtonPrompt = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg1:addEventHandler( "gain_focus", function ( f5_arg0, f5_arg1 )
		f3_arg0:PushButtonPrompt( f3_arg0 )
	end )
	f3_arg1:addEventHandler( "lose_focus", function ( f4_arg0, f4_arg1 )
		if f4_arg0:isInFocus() then
			f3_arg0:PopButtonPrompt( f3_arg0 )
		end
	end )
end

local f0_local23 = function ( f2_arg0, f2_arg1 )
	f2_arg0:SetupFocusOnlyButtonPrompt( f2_arg1.focusButton, f2_arg1 )
end

LUI.ButtonHelperText.init = function ( f1_arg0, f1_arg1 )
	assert( f1_arg1.controllerIndex )
	f1_arg0._controllerIndex = f1_arg1.controllerIndex
	LUI.ButtonHelperText.super.init( f1_arg0 )
	f1_arg0:addElement( f0_local0( f1_arg0 ) )
	f1_arg0:registerEventHandler( "update_input_type", f1_arg0.RefreshButtonHelpers )
	f1_arg0:registerEventHandler( "add_button_helper_text", f1_arg0.PushButtonPrompt )
	f1_arg0:registerEventHandler( "setup_focus_only_button_prompt", f0_local0 )
	f1_arg0._promptStack = {}
end

