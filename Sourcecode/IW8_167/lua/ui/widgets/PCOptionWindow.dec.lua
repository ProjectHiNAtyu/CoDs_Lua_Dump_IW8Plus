-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = function ( f9_arg0 )
	if f9_arg0.options and 0 < #f9_arg0.options then
		for f9_local0 = 1, #f9_arg0.options, 1 do
			f9_arg0.options[f9_local0]:processEvent( {
				name = "refresh_values"
			} )
		end
	end
end

local f0_local1 = function ( f8_arg0 )
	if f8_arg0.options and 0 < #f8_arg0.options then
		if type( f8_arg0.options[1] ) == "userdata" then
			for f8_local0 = 1, #f8_arg0.options, 1 do
				f8_arg0.buttonList:RemoveElement( f8_arg0.options[f8_local0] )
			end
		elseif f8_arg0.SubmenuGrid then
			f8_arg0.SubmenuGrid:UpdateOptions( {} )
		end
	end
	f8_arg0.options = {}
end

local f0_local2 = function ( f5_arg0, f5_arg1, f5_arg2, f5_arg3, f5_arg4 )
	assert( f5_arg0.OptionDecorations.SetTitle )
	assert( f5_arg3 )
	if f5_arg0.currCategory == f5_arg4 and f5_arg4 ~= nil then
		f5_arg0:RefreshCurrentOptions()
	end
	f5_arg0.OptionDecorations:SetTitle( f5_arg2 )
	local f5_local0 = 0
	f5_arg0:ClearCurrentOptions()
	f5_arg0.options = f5_arg3( f5_arg0, f5_arg1 )
	if f5_arg0.options and 0 < #f5_arg0.options then
		if type( f5_arg0.options[1] ) == "userdata" then
			for f5_local1 = 1, #f5_arg0.options, 1 do
				f5_arg0.options[f5_local1]:addEventHandler( "button_over", function ( f7_arg0, f7_arg1 )
					f5_arg0:processEvent( {
						name = "optionwindow_button_over"
					} )
				end )
				f5_arg0.options[f5_local1]:addEventHandler( "button_over_disable", function ( f6_arg0, f6_arg1 )
					f5_arg0:processEvent( {
						name = "optionwindow_button_over"
					} )
				end )
				f5_arg0.buttonList:addElement( f5_arg0.options[f5_local1] )
			end
			f5_arg0.SubmenuGrid:UpdateOptions( {} )
		elseif f5_arg0.SubmenuGrid then
			f5_arg0.SubmenuGrid:UpdateOptions( f5_arg0.options )
		end
	end
	f5_arg0.currCategory = f5_arg4
end

function PostLoadFunc( f2_arg0, f2_arg1, f2_arg2 )
	local buttonList = LUI.UIVerticalList.new()
	buttonList:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 800 * _1080p )
	buttonList.id = "buttonListId"
	buttonList:SetAlignment( LUI.Alignment.Top )
	buttonList:SetIgnoreStretchingChildren( true )
	buttonList:SetAdjustSizeToContent( true )
	buttonList:SetSpacing( 7 )
	f2_arg0:addElement( buttonList )
	f2_arg0.buttonList = buttonList
	
	local f2_local1 = nil
	f2_local1 = MenuBuilder.BuildRegisteredType( "ButtonDescriptionText", {
		controllerIndex = f2_arg1
	} )
	f2_local1.id = "ButtonDescriptionText"
	f2_local1:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 2, _1080p * 778, 0, _1080p * 32 )
	f2_arg0.ButtonDescriptionText = f2_local1
	local f2_local2 = MenuBuilder.BuildRegisteredType( "PopupFrame", {
		hideBackground = true,
		controllerIndex = f2_arg1
	} )
	f2_arg0.OptionDecorations = f2_local2
	assert( f2_local2.MeasureTitle )
	assert( f2_local2.SetTitle )
	f2_local2:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	f2_arg0.buttonList:addElement( f2_local2 )
	local f2_local3 = nil
	f2_local3 = MenuBuilder.BuildRegisteredType( "PCOptionSubmenuGrid", {
		controllerIndex = f2_arg1
	} )
	f2_local3.id = "SubmenuGrid"
	f2_local3:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, 0 )
	f2_arg0.buttonList:addElement( f2_local3 )
	f2_arg0.SubmenuGrid = f2_local3
	f2_arg0:addElement( f2_local1 )
	f2_arg0.RefreshCurrentOptions = f0_local0
	f2_arg0.ClearCurrentOptions = f0_local0
	f2_arg0.UpdateOptions = f0_local0
	f2_arg0.options = {}
	f2_arg0:registerEventHandler( "hide_description_text", function ( element, event )
		f2_arg0.ButtonDescriptionText:SetAlpha( 0, 0 )
	end )
	f2_arg0:registerEventHandler( "show_description_text", function ( element, event )
		f2_arg0.ButtonDescriptionText:SetAlpha( 1, 0 )
	end )
end

function PCOptionWindow( menu, controller )
	local self = LUI.UIVerticalList.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1000 * _1080p, 0, 800 * _1080p )
	self.id = "PCOptionWindow"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	self:SetSpacing( 7 * _1080p )
	PostLoadFunc( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "PCOptionWindow", PCOptionWindow )
LockTable( _M )
