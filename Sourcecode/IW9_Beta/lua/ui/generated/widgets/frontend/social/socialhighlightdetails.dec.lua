-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.social.socialplayernameandplatform" )
require( "ui.generated.widgets.socialprofilelabelcontainer" )
local f0_local0 = function ( f11_arg0, f11_arg1 )
	local f11_local0 = f11_arg0.ATVIName
	local f11_local1 = f11_local0
	f11_local0 = f11_local0.SetFont
	local f11_local2
	if f11_arg1 then
		f11_local2 = FONTS.GetFont( FONTS.BattleNetBold.File )
		if not f11_local2 then
		
		else
			f11_local0( f11_local1, f11_local2 )
			f11_local0 = f11_arg0.ATVIName
			f11_local1 = f11_local0
			f11_local0 = f11_local0.setCaseStyle
			if f11_arg1 then
				f11_local2 = LUI.CaseStyle.Regular
				if not f11_local2 then
				
				else
					f11_local0( f11_local1, f11_local2 )
				end
			end
			f11_local2 = LUI.CaseStyle.Uppercase
		end
	end
	f11_local2 = FONTS.GetFont( FONTS.PrimaryBold.File )
end

local f0_local1 = function ( f10_arg0 )
	local f10_local0, f10_local1 = f10_arg0.ATVIName:GetContentSize()
	local f10_local2 = f10_arg0.ATVIName:GetAnchorsAndPosition()
	local f10_local3 = f10_local2.top + f10_local1
	local f10_local4, f10_local5 = f10_arg0.PartyMembersGrid:GetContentSize()
	local f10_local6 = f10_arg0.PartyMembersGrid:GetAnchorsAndPosition()
	local f10_local7 = f10_local3
	local f10_local8 = f10_local7 + f10_local5
	local f10_local9, f10_local10 = f10_arg0.TextBox:GetContentSize()
	local f10_local11 = f10_arg0.TextBox:GetAnchorsAndPosition()
	local f10_local12 = f10_local8
	local f10_local13 = f10_local12 + f10_local10
	f10_arg0.ATVIName:SetAnchorsAndPosition( f10_local2.leftAnchor, f10_local2.rightAnchor, f10_local2.topAnchor, f10_local2.bottomAnchor, f10_local2.left, f10_local2.right, f10_local2.top, f10_local3 )
	f10_arg0.PartyMembersGrid:SetAnchorsAndPosition( f10_local6.leftAnchor, f10_local6.rightAnchor, f10_local6.topAnchor, f10_local6.bottomAnchor, f10_local6.left, f10_local6.right, f10_local7, f10_local8 )
	f10_arg0.TextBox:SetAnchorsAndPosition( f10_local11.leftAnchor, f10_local11.rightAnchor, f10_local11.topAnchor, f10_local11.bottomAnchor, f10_local11.left, f10_local11.right, f10_local12, f10_local13 )
	local f10_local14 = f10_arg0:GetAnchorsAndPosition()
	f10_arg0:SetBottom( f10_local14.top + f10_local13 )
end

local f0_local2 = function ( f9_arg0, f9_arg1 )
	f9_arg0._playerData = nil
	local f9_local0, f9_local1 = FRIENDS.SplitPlayersToFriendsAndNonFriends( f9_arg1.party )
	if f9_arg0._partyData == nil or #f9_arg0._partyData.partyFriends ~= #f9_local0 then
		f9_arg0.PartyMembersGrid:SetNumChildren( #f9_local0 )
	end
	f9_arg0._partyData = f9_arg1
	f9_arg0._partyData.partyFriends = f9_local0
	f9_arg0._partyData.partyNonFriends = f9_local1
	f9_arg0.PartyMembersGrid:RefreshContent()
	local f9_local2 = #f9_arg1.partyNonFriends
	if 0 < f9_local2 then
		f9_arg0.TextBox:setText( Engine[0xED84C33EC5F01EA]( 0x8F85F5218F9CC53, f9_local2 ) )
		f9_arg0.TextBox:SetVisible( true )
	else
		f9_arg0.TextBox:setText( "" )
		f9_arg0.TextBox:SetVisible( false )
	end
	f0_local0( f9_arg0, false )
	if f9_arg0._partyData.myParty then
		f9_arg0.ATVIName:setText( Engine[0xED84C33EC5F01EA]( 0x9DD0F39399F943A ) )
	else
		f9_arg0.ATVIName:setText( Engine[0xED84C33EC5F01EA]( 0xB99A813FECC3354 ) )
	end
	f9_arg0.SocialProfileLabelContainer:UpdateLabels( f9_arg1 )
	f9_arg0.SocialProfileLabelContainer:SetVisible( true )
	f9_arg0:UpdateMeasurements()
end

local f0_local3 = function ( f8_arg0, f8_arg1 )
	f8_arg0._partyData = nil
	f8_arg0._playerData = f8_arg1
	f8_arg0.PartyMembersGrid:SetNumChildren( 1 )
	f8_arg0.PartyMembersGrid:RefreshContent()
	f0_local0( f8_arg0, true )
	f8_arg0.ATVIName:setText( SOCIAL.GetPlayerDisplayName( f8_arg1 ) )
	f8_arg0.TextBox:SetVisible( false )
	f8_arg0.SocialProfileLabelContainer:UpdateLabels( f8_arg1 )
	f8_arg0.SocialProfileLabelContainer:SetVisible( true )
	f8_arg0:UpdateMeasurements()
end

local f0_local4 = function ( f7_arg0, f7_arg1, f7_arg2 )
	f0_local0( f7_arg0, false )
	f7_arg0.ATVIName:setText( Engine[0xED84C33EC5F01EA]( f7_arg1 ) )
	f7_arg0.TextBox:setText( Engine[0xED84C33EC5F01EA]( f7_arg2 ) )
	f7_arg0.TextBox:SetVisible( true )
	f7_arg0.SocialProfileLabelContainer:SetVisible( false )
	f7_arg0:UpdateMeasurements()
end

local f0_local5 = function ( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg0.UpdateMeasurements = f0_local0
	f4_arg0.UpdatePartyDetails = f0_local0
	f4_arg0.UpdatePlayerDetails = f0_local0
	f4_arg0.SetBodyDetails = f0_local0
	f4_arg0.PartyMembersGrid:SetNumChildren( 0 )
	f4_arg0.PartyMembersGrid:SetRefreshChild( function ( f6_arg0, f6_arg1, f6_arg2 )
		if f4_arg0._partyData ~= nil then
			local f6_local0 = f6_arg2 + 1
			assert( f6_local0 <= #f4_arg0._partyData.partyFriends )
			assert( f6_local0 <= 3 )
			f6_arg0.PlayerName:SetVisible( true )
			f6_arg0.PlatformIcon:SetVisible( true )
			f6_arg0.PlayerName:setText( SOCIAL.GetPlayerDisplayName( f4_arg0._partyData.partyFriends[f6_local0] ) )
			local f6_local1 = f4_arg0._partyData.partyFriends[f6_local0].presencePlatform
			assert( f6_local1 )
			f6_arg0.PlatformIcon:SetPlatformPresence( f6_local1 )
		elseif f4_arg0._playerData ~= nil then
			f6_arg0.PlayerName:SetVisible( true )
			f6_arg0.PlatformIcon:SetVisible( true )
			if f4_arg0._playerData.isMyPlayer or SOCIAL.IsPlatformFriend( f4_arg0._playerData ) then
				if not String.IsNilOrEmpty( SOCIAL.GetPlayerPlatformWithRealDisplayName( f4_arg0._playerData ) ) then
					f6_arg0.PlayerName:setText( SOCIAL.GetPlayerPlatformWithRealDisplayName( f4_arg0._playerData ) )
					f6_arg0.PlatformIcon:SetPlatformPresence( ClientPlatformToPresencePlatform[Engine[0x5AE97B58D7132F3]()] )
				else
					f6_arg0.PlayerName:SetVisible( false )
					f6_arg0.PlatformIcon:SetVisible( false )
				end
			elseif SOCIAL.IsPresenceKnown( f4_arg0._playerData ) then
				local f6_local0 = f4_arg0._playerData.presencePlatform
				f6_arg0.PlayerName:setText( Engine[0xED84C33EC5F01EA]( FRIENDS.GetPresencePlatformNetworkLabel( f6_local0 ) ) )
				f6_arg0.PlatformIcon:SetPlatformPresence( f6_local0 )
			else
				f6_arg0.PlayerName:SetVisible( false )
				f6_arg0.PlatformIcon:SetVisible( false )
			end
		end
	end )
	f4_arg0.PartyMembersGrid:addEventHandler( "grid_size_updated", function ()
		f4_arg0:UpdateMeasurements()
	end )
end

function SocialHighlightDetails( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1200 * _1080p, 0, 450 * _1080p )
	self.id = "SocialHighlightDetails"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local ATVIName = nil
	
	ATVIName = LUI.UIText.new()
	ATVIName.id = "ATVIName"
	ATVIName:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	ATVIName:SetAlpha( 0.8, 0 )
	ATVIName:setText( "TEST NAME", 0 )
	ATVIName:SetFont( FONTS.GetFont( FONTS.BattleNetBold.File ) )
	ATVIName:SetFontSize( 48 * _PT )
	ATVIName:SetMinFontSize( 48 * _PT )
	ATVIName:SetWordWrap( false )
	ATVIName:SetAlignment( LUI.Alignment.Left )
	ATVIName:SetVerticalAlignment( LUI.Alignment.Middle )
	ATVIName:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 1475, _1080p * 32, _1080p * 144 )
	self:addElement( ATVIName )
	self.ATVIName = ATVIName
	
	local PartyMembersGrid = nil
	
	PartyMembersGrid = LUI.UIGrid.new( {
		maxVisibleColumns = 1,
		maxVisibleRows = 3,
		adjustSizeToContent = true,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "SocialPlayerNameAndPlatform", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		spacingY = _1080p * 15,
		columnWidth = _1080p * 300,
		rowHeight = _1080p * 24
	} )
	PartyMembersGrid.id = "PartyMembersGrid"
	PartyMembersGrid:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool01, 0 )
	PartyMembersGrid:SetAlpha( 0.9, 0 )
	PartyMembersGrid:SetMaxVisibleRows( 3 )
	PartyMembersGrid:SetRowSpacing( 15 )
	PartyMembersGrid:setUseStencil( true )
	PartyMembersGrid:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 784, _1080p * 146, _1080p * 254 )
	self:addElement( PartyMembersGrid )
	self.PartyMembersGrid = PartyMembersGrid
	
	local TextBox = nil
	
	TextBox = LUI.UIText.new()
	TextBox.id = "TextBox"
	TextBox:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideCool02, 0 )
	TextBox:setText( "TEST TEST TEST TEST TEST TEST TEST TESTTEST TEST TEST TESTTEST TEST TEST TESTTEST TEST TEST TESTTEST TEST TEST TESTTEST TEST TEST TESTTEST TEST TEST TESTTEST TEST TEST TESTTEST TEST TEST TESTTEST TEST TEST TEST", 0 )
	TextBox:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
	TextBox:SetFontSize( 20 * _PT )
	TextBox:SetMinFontSize( 20 * _PT )
	TextBox:SetWordWrap( true )
	TextBox:SetAlignment( LUI.Alignment.Left )
	TextBox:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 656, _1080p * 254, _1080p * 532 )
	self:addElement( TextBox )
	self.TextBox = TextBox
	
	local SocialProfileLabelContainer = nil
	
	SocialProfileLabelContainer = MenuBuilder.BuildRegisteredType( "SocialProfileLabelContainer", {
		controllerIndex = f1_local1
	} )
	SocialProfileLabelContainer.id = "SocialProfileLabelContainer"
	SocialProfileLabelContainer:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 200, 0, _1080p * 32 )
	self:addElement( SocialProfileLabelContainer )
	self.SocialProfileLabelContainer = SocialProfileLabelContainer
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "SocialHighlightDetails", SocialHighlightDetails )
LockTable( _M )
