-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
LUI.RejoinManager = LUI.Class( LUI.UIElement )
LUI.RejoinManager.GetInstance = function ()
	local f7_local0 = Engine[0xEE6F69FEA944B13]()
	return f7_local0.RejoinManager
end

LUI.RejoinManager.init = function ( f6_arg0, f6_arg1 )
	LUI.UIElement.init( f6_arg0 )
	f6_arg0.id = "RejoinManager"
	f6_arg0._controllerIndex = f6_arg1
end

LUI.RejoinManager.InitLayer = function ( f4_arg0 )
	local f4_local0 = function ( f5_arg0 )
		local f5_local0 = DataModel[0x614D394F6F9A18D]( f5_arg0 )
		if f5_local0 ~= f4_arg0._dataFetchCompleted then
			f4_arg0._dataFetchCompleted = f5_local0
			if f4_arg0._dataFetchCompleted then
				RejoinUtils.UpdateRejoinState( f4_arg0._controllerIndex )
			end
			DataModel[0x83C9B5DE1D9371]( f5_arg0, nil )
			
		else
			
		end
	end
	
	local f4_local1 = LUI.DataSourceInControllerModel.new( "frontend.rejoinState.fetchCompleted" )
	f4_arg0._rejoinStateSubscription = f4_arg0:SubscribeToModel( f4_local1:GetModel( f4_arg0._controllerIndex ), f4_local0, true )
end

LUI.RejoinManager.ShouldBeVisible = function ( f3_arg0 )
	return CONDITIONS.IsRejoinEnabled()
end

LUI.RejoinManager.ClearLayer = function ( f2_arg0, f2_arg1 )
	f2_arg0:UnsubscribeFromModel( f2_arg0._rejoinStateSubscription )
	f2_arg0._rejoinStateSubscription = nil
end

LUI.RejoinManager.IsDataFetchCompleted = function ()
	local f1_local0 = LUI.RejoinManager.GetInstance()
	if not f1_local0 then
		return false
	end
	local f1_local1 = LUI.DataSourceInControllerModel.new( "frontend.rejoinState.fetchCompleted" )
	f1_local0._dataFetchCompleted = f1_local1:GetValue( f1_local0._controllerIndex )
	local f1_local2 = CONDITIONS.IsRejoinEnabled()
	if f1_local2 then
		f1_local2 = f1_local0._dataFetchCompleted
	end
	return f1_local2
end

