-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
LUI.AchievementsManager = LUI.Class( LUI.UIElement )
local f0_local0 = function ( f8_arg0, f8_arg1 )
	local f8_local0 = f8_arg0.achievementsList[f8_arg1]
	f8_arg0:dispatchEventToRoot( {
		name = "send_toast_notification",
		immediate = true,
		options = {
			displayTime = 3000,
			icon = f8_local0.image,
			header = Engine[0xED84C33EC5F01EA]( "LUA_MENU/ACHIEVEMENT_UNLOCKED" ),
			description = Engine[0xED84C33EC5F01EA]( f8_local0.name ),
			type = LUI.ToastManager.NotificationType.AchievementUnlocked,
			controllerIndex = f8_arg0._controllerIndex
		}
	} )
end

LUI.AchievementsManager.init = function ( f7_arg0, f7_arg1 )
	LUI.UIElement.init( f7_arg0 )
	local f7_local0 = f7_arg1.controllerIndex
	if not f7_local0 then
		f7_local0 = Engine[0x45B054C920178E9]()
	end
	f7_arg0._controllerIndex = f7_local0
	f7_arg0.id = "AchievementsManager"
end

LUI.AchievementsManager.ShouldBeVisible = function ( f6_arg0 )
	return true
end

LUI.AchievementsManager.TrapsInput = function ( f5_arg0 )
	return false
end

LUI.AchievementsManager.InitLayer = function ( f3_arg0 )
	if BuiltInAchievements == nil then
		local f3_local0 = nil
	end
	local f3_local0 = CSV.pcAchievements
	local f3_local1 = BuiltInAchievements[0x4226E6C6A70C253]()
	local f3_local2 = {}
	for f3_local3 = 0, f3_local1 - 1, 1 do
		local f3_local6 = BuiltInAchievements[0xF27F45F33AB6D6]( f3_local3 )
		local f3_local7 = StringTable[0x2077452C28AB2FC]( f3_local0.file, f3_local6, f3_local0.cols.id )
		if f3_local7 and f3_local7 ~= "" and not BuiltInAchievements[0xE89EEFAD5BD6DEE]( f3_local7 ) then
			local f3_local8 = {
				id = f3_local7,
				gameMode = StringTable[0x2077452C28AB2FC]( f3_local0.file, f3_local6, f3_local0.cols.gameMode ),
				name = StringTable[0x2077452C28AB2FC]( f3_local0.file, f3_local6, f3_local0.cols.name ),
				description = StringTable[0x2077452C28AB2FC]( f3_local0.file, f3_local6, f3_local0.cols.description ),
				image = StringTable[0x2077452C28AB2FC]( f3_local0.file, f3_local6, f3_local0.cols.image ),
				score = StringTable[0x2077452C28AB2FC]( f3_local0.file, f3_local6, f3_local0.cols.score )
			}
			if BuiltInAchievements[0x2711E67947D673]( f3_local8.id ) then
				f3_local8.isCompleted = true
			end
			f3_local2[f3_local3 + 1] = f3_local8
		end
	end
	f3_arg0.achievementsList = f3_local2
	f3_arg0:registerEventHandler( "achievement_unlocked", function ( element, event )
		f3_arg0( element, event.achievementIndex )
	end )
end

LUI.AchievementsManager.ClearLayer = function ( f2_arg0, f2_arg1 )
	f2_arg0:closeChildren()
end

LUI.AchievementsManager.GetLayer = function ()
	local f1_local0 = Engine[0xEE6F69FEA944B13]()
	return f1_local0.achievementsManager
end

