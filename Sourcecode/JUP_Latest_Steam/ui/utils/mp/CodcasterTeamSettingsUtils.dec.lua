-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
CodcasterTeamSettingsUtils = CodcasterTeamSettingsUtils or {}
CodcasterTeamSettingsUtils.LocalizeTeamNameStringsIfUnlocalized = function ( f8_arg0 )
	local f8_local0 = {
		Teams.allies,
		Teams.axis
	}
	local f8_local1 = {
		nil,
		"name",
		"acronym"
	}
	for f8_local10, f8_local11 in ipairs( f8_local0 ) do
		local f8_local12 = Engine[0xCA1EEE77E761DD8]( f8_local11 )
		for f8_local5, f8_local6 in ipairs( f8_local1 ) do
			local f8_local8 = "codcaster_team_" .. f8_local12 .. "_" .. f8_local6
			local f8_local9 = CODCASTER_SETTINGS.GetSettingValue( f8_arg0, f8_local8 )
			if CODCASTER.TEAM_NAMES_TO_LOCALIZE[f8_local9] then
				CODCASTER_SETTINGS.SetSettingValue( f8_arg0, f8_local8, Engine[0xED84C33EC5F01EA]( f8_local9 ), CODCASTER_SETTINGS.SETTINGS_CHANGE_ORIGIN.TEAM_IDENTITY_MENU )
			end
		end
	end
end

CodcasterTeamSettingsUtils.PrepareDataForSettingsMenu = function ( f7_arg0, f7_arg1, f7_arg2 )
	local f7_local0 = f7_arg1.teamId:GetValue( f7_arg0 )
	local f7_local1 = CODCASTER.GetOpposingTeam( f7_local0 )
	local f7_local2 = Engine[0xCA1EEE77E761DD8]( f7_local0 )
	local f7_local3 = Engine[0xCA1EEE77E761DD8]( f7_local1 )
	local f7_local4 = "codcaster_team_" .. f7_local2
	local f7_local5 = "codcaster_team_" .. f7_local3
	local f7_local6 = CODCASTER_SETTINGS.GetSettingValue( f7_arg0, f7_local4 .. "_icon" )
	local f7_local7 = CODCASTER_SETTINGS.GetSettingValue( f7_arg0, f7_local5 .. "_icon" )
	DataSources.frontEnd.codcaster.teamSettings.logos.selectedIndex:SetValue( f7_arg0, f7_local6 )
	DataSources.frontEnd.codcaster.teamSettings.logos.lockedIndex:SetValue( f7_arg0, f7_local7 )
	DataSources.frontEnd.codcaster.teamSettings.pointers.teamDataSource = f7_arg1
	DataSources.frontEnd.codcaster.teamSettings.pointers.otherTeamDataSource = f7_arg2
	EsportsDataSources.InitTeamSettingsTeamDataSources( f7_arg0, f7_arg1, f7_arg2, f7_local0 )
	local f7_local8 = CODCASTER_SETTINGS.GetSettingValue( f7_arg0, f7_local4 .. "_color1" )
	local f7_local9 = CODCASTER_SETTINGS.GetSettingValue( f7_arg0, f7_local4 .. "_color2" )
	local f7_local10 = CODCASTER_SETTINGS.GetSettingValue( f7_arg0, f7_local4 .. "_color3" )
	DataSources.frontEnd.codcaster.teamSettings.colorSelectors.color1.selectedColor:SetValue( f7_arg0, f7_local8 )
	DataSources.frontEnd.codcaster.teamSettings.colorSelectors.color2.selectedColor:SetValue( f7_arg0, f7_local9 )
	DataSources.frontEnd.codcaster.teamSettings.colorSelectors.color3.selectedColor:SetValue( f7_arg0, f7_local10 )
	local f7_local11 = DataSources.frontEnd.codcaster.teamSettings.uiTeamData
	local f7_local12 = "team"
	f7_local11 = f7_local11["team" .. f7_local0].editedColors
	DataSources.frontEnd.codcaster.teamSettings.colorSelectors.color1.editedColor = f7_local11.color1
	DataSources.frontEnd.codcaster.teamSettings.colorSelectors.color2.editedColor = f7_local11.color2
	DataSources.frontEnd.codcaster.teamSettings.colorSelectors.color3.editedColor = f7_local11.color3
	DataSources.frontEnd.codcaster.teamSettings.colorSelectors.color1.lockedColor = f7_arg2.colors.primary
	DataSources.frontEnd.codcaster.teamSettings.colorSelectors.color2.lockedColor = f7_arg1.colors.primary
	DataSources.frontEnd.codcaster.teamSettings.colorSelectors.color3.lockedColor = f7_arg1.colors.primary
	DataSources.frontEnd.codcaster.teamSettings.colorSelectors.color3.isDisabled = DataSources.frontEnd.codcaster.teamSettings.uiTeamData["team" .. f7_local0].isSubstituteDisabled
end

CodcasterTeamSettingsUtils.ResetAllSettings = function ( f6_arg0 )
	for f6_local3, f6_local4 in pairs( CODCASTER.TEAM_SETTINGS_DEFAULT_VALUES ) do
		CodcasterTeamSettingsUtils.ResetSetting( f6_arg0, f6_local3 )
	end
	BuiltInCodcaster[0xA8F030AC6F78E41]( f6_arg0 )
end

CodcasterTeamSettingsUtils.ResetSetting = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = DataSources.frontEnd.codcaster.teamSettings.pointers.teamDataSource.isFirst:GetValue( f5_arg0 )
	local f5_local1
	if f5_local0 then
		f5_local1 = Teams.allies
		if not f5_local1 then
		
		else
			local f5_local2
			if f5_local0 then
				f5_local2 = "allies"
			else
				f5_local2 = "axis"
			end
			local f5_local3 = "codcaster_team_" .. f5_local2 .. "_" .. f5_arg1
			local f5_local4 = CODCASTER.TEAM_SETTINGS_DEFAULT_VALUES[f5_arg1]( f5_local1 )
			local f5_local5 = DataSources.frontEnd.codcaster.teamSettings.uiTeamData
			local f5_local6 = "team"
			if f5_arg1 == "color1" and f5_local5["team" .. f5_local1].isSubstituteDisabled:GetValue( f5_arg0 ) then
				CodcasterTeamSettingsUtils.ResetSetting( f5_arg0, "color3", true )
			end
			CODCASTER_SETTINGS.SetSettingValue( f5_arg0, f5_local3, f5_local4, CODCASTER_SETTINGS.SETTINGS_CHANGE_ORIGIN.TEAM_IDENTITY_MENU )
			if f5_arg2 then
				BuiltInCodcaster[0xA8F030AC6F78E41]( f5_arg0 )
			end
		end
	end
	f5_local1 = Teams.axis
end

CodcasterTeamSettingsUtils.SwapTeamSetting = function ( f4_arg0, f4_arg1 )
	local f4_local0 = CODCASTER_SETTINGS.GetSettingValue( f4_arg1, "codcaster_team_allies_" .. f4_arg0 )
	CODCASTER_SETTINGS.SetSettingValue( f4_arg1, "codcaster_team_allies_" .. f4_arg0, CODCASTER_SETTINGS.GetSettingValue( f4_arg1, "codcaster_team_axis_" .. f4_arg0 ), CODCASTER_SETTINGS.SETTINGS_CHANGE_ORIGIN.TEAM_IDENTITY_MENU )
	CODCASTER_SETTINGS.SetSettingValue( f4_arg1, "codcaster_team_axis_" .. f4_arg0, f4_local0, CODCASTER_SETTINGS.SETTINGS_CHANGE_ORIGIN.TEAM_IDENTITY_MENU )
end

CodcasterTeamSettingsUtils.SwapTeamsSettings = function ( f3_arg0 )
	for f3_local3, f3_local4 in pairs( CODCASTER.TEAM_SETTINGS_DEFAULT_VALUES ) do
		CodcasterTeamSettingsUtils.SwapTeamSetting( f3_local3, f3_arg0 )
	end
	BuiltInCodcaster[0xA8F030AC6F78E41]( f3_arg0 )
end

CodcasterTeamSettingsUtils.EditText = function ( f1_arg0, f1_arg1, f1_arg2 )
	ACTIONS.OpenGenericEditBoxPopup( f1_arg0, f1_arg1, {
		noDefaultTextOnCreate = true,
		allowEmpty = false,
		filterProfanity = true,
		verifyString = true,
		title = f1_arg2.title,
		defaultValue = f1_arg2.teamDataSource[f1_arg2.dataSourceName].GetValue( REG3[f1_arg2.dataSourceName], f1_arg1 ),
		maxCharactersDescription = f1_arg2.maxCharactersDescription,
		maxInputStringLength = f1_arg2.maxTeamNameCharacters,
		textEditCompleteFunc = function ( f2_arg0, f2_arg1 )
			if f2_arg1.cancelled then
				return 
			end
			local f2_local0 = f2_arg1.text
			local f2_local1, f2_local2 = TEXT_EDIT.ValidateString( f1_arg0, f2_local0 )
			if f2_local1 then
				local f2_local3 = f1_arg0.isFirst:GetValue( f1_arg0 )
				CODCASTER_SETTINGS.SetSettingValue( f1_arg0, "codcaster_team_" .. Engine[0xCA1EEE77E761DD8]( f1_arg0.teamId:GetValue( f1_arg0 ) ) .. f1_arg0.settingNameSuffix, f2_local0, CODCASTER_SETTINGS.SETTINGS_CHANGE_ORIGIN.TEAM_IDENTITY_MENU )
				f1_arg0[f1_arg0]:SetValue( f1_arg0, f2_local0 )
			else
				LUI.FlowManager.RequestErrorPopup( f1_arg0, Engine[0xED84C33EC5F01EA]( 0x1CCA5C59ECE1EA6 ), f2_local2 )
			end
		end
	} )
end

CodcasterTeamSettingsUtils.TeamSettingOptions = {
	SUBSTITUTE_COLOR = "codcaster_option_team_setting_substitute_color",
	NAME = "codcaster_option_team_settings_name",
	SECONDARY_COLOR = "codcaster_option_team_setting_secondary_color",
	ACRONYM = "codcaster_option_team_settings_acronym",
	PRIMARY_COLOR = "codcaster_option_team_setting_primary_color"
}
CodcasterTeamSettingsUtils.colorSettingsSelectionData = {
	ColorSelectionData = {
		PrimaryGrid = {
			customColorSettingName = "color1",
			teamSettingColorId = CodcasterTeamSettingsUtils.TeamSettingOptions.PRIMARY_COLOR,
			swatches = SWATCHES[0x71B58D76D317FFC]
		},
		SubstituteGrid = {
			customColorSettingName = "color3",
			teamSettingColorId = CodcasterTeamSettingsUtils.TeamSettingOptions.SUBSTITUTE_COLOR,
			swatches = SWATCHES[0x4D5EE7CD2843B94]
		},
		SecondaryGrid = {
			customColorSettingName = "color2",
			teamSettingColorId = CodcasterTeamSettingsUtils.TeamSettingOptions.SECONDARY_COLOR,
			swatches = SWATCHES[0xE097D16A2F47DF4]
		}
	}
}
