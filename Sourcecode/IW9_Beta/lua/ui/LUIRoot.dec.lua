-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:02
LUI.UIRoot = LUI.Class( LUI.UIElement )
local f0_local0 = {
	POST_GAME = 0,
	HOST_MIGRATION = 1
}
GlobalInputEvents = {
	mute_voicechat = true,
	search_bar = true,
	decline_notification = true,
	global_panel = true,
	accept_notification = true,
	keyboard_preview = true,
	quick_social = true,
	mute_sound = true,
	mute_microphone = true,
	radial_nohold = true,
	quick_options = true,
	quick_cac = true
}
local f0_local1 = function ( f76_arg0, f76_arg1 )
	return GlobalInputEvents[f76_arg1.button]
end

LUI.UIRoot.TryAddMouseCursor = function ( f75_arg0, f75_arg1 )
	local f75_local0
	if f75_arg1 and not f75_arg1 then
		f75_local0 = f75_arg1
	else
		f75_local0 = "base"
	end
	f75_arg0._flagCursor[f75_local0] = true
	if Engine[0x5EE05AD994388B6]() and not Engine[0xE25E29D8ADE8F27]() and not f75_arg0.cursor then
		local f75_local1 = f75_arg0:GetControllerIndex()
		if not f75_local1 then
			f75_local1 = Engine[0x45B054C920178E9]()
		end
		f75_arg0.cursor = LUI.UIMouseCursor.new( {
			controllerIndex = f75_local1
		} )
		f75_arg0:addElement( f75_arg0.cursor )
		DebugPrint( "INFO FOR TWEEN DEBUG: UIMouseCursor has been created. \n" )
		if Engine[0x3ECA657EE4C6C9]() and LUI.IsLastInputKeyboardMouse( f75_local1 ) then
			Engine[0x5F965FF5540EAC8]( true )
		end
	end
end

LUI.UIRoot.RemoveMouseCursor = function ( f74_arg0, f74_arg1 )
	local f74_local0
	if f74_arg1 and not f74_arg1 then
		f74_local0 = f74_arg1
	else
		f74_local0 = "base"
	end
	f74_arg0._flagCursor[f74_local0] = false
	local f74_local1 = true
	for f74_local5, f74_local6 in pairs( f74_arg0._flagCursor ) do
		if f74_local6 then
			f74_local1 = false
			break
		end
	end
	if f74_arg0.cursor and f74_local1 then
		f74_arg0.cursor:closeTree()
		f74_arg0.cursor = nil
		DebugPrint( "INFO FOR TWEEN DEBUG: UIMouseCursor has been closed. \n" )
		if Engine[0x3ECA657EE4C6C9]() then
			Engine[0x5F965FF5540EAC8]( false )
		end
		if f74_arg0.mouseCursorTooltipLayer then
			f74_local2 = f74_arg0:GetControllerIndex()
			if not f74_local2 then
				f74_local2 = Engine[0x45B054C920178E9]()
			end
			f74_arg0.mouseCursorTooltipLayer:ClearTooltipData( f74_local2, nil )
		end
	end
end

LUI.UIRoot.BlockButtonInput = function ( f73_arg0, f73_arg1, f73_arg2 )
	if f73_arg1 then
		f73_arg0.m_blockButtonInput = true
	else
		f73_arg0.m_blockButtonInput = false
	end
end

LUI.UIRoot.IsButtonInputBlocked = function ( f72_arg0 )
	return f72_arg0.m_blockButtonInput
end

LUI.UIRoot.PixelsToUnits = function ( f71_arg0, f71_arg1, f71_arg2 )
	return f71_arg0:RootPixelsToUnits( f71_arg1, f71_arg2 )
end

local f0_local2 = function ( f70_arg0, f70_arg1 )
	local f70_local0 = false
	local f70_local1 = false
	if f70_arg0.flowManager and not f70_arg0.flowManager:IsStackEmpty() then
		f70_local0 = true
	elseif f70_arg0.binkSkipPromptLayer and f70_arg0.binkSkipPromptLayer:ShouldBeVisible() and f70_arg0.binkSkipPromptLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.Snakecam and f70_arg0.Snakecam:ShouldBeVisible() and f70_arg0.Snakecam:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.MobileFTUELayer and f70_arg0.MobileFTUELayer:ShouldBeVisible() and f70_arg0.MobileFTUELayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.prototypeLayer and f70_arg0.prototypeLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.loadingScreenManager and f70_arg0.loadingScreenManager:ShouldBeVisible() and f70_arg0.loadingScreenManager:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.scoreboardLayer and f70_arg0.scoreboardLayer:ShouldBeVisible() and f70_arg0.scoreboardLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.squadEliminatedLayer and f70_arg0.squadEliminatedLayer:ShouldBeVisible() and f70_arg0.squadEliminatedLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.textChat and f70_arg0.textChat:ShouldBeVisible() and f70_arg0.textChat:TrapsInput( f70_arg1 ) then
		f70_local0, f70_local1 = f70_arg0.textChat:InputsTrappedOrInteresting( f70_arg1 )
	elseif f70_arg0.radialMenuLayer and f70_arg0.radialMenuLayer:ShouldBeVisible() and f70_arg0.radialMenuLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.SPCraftingRadialMenuLayer and f70_arg0.SPCraftingRadialMenuLayer:ShouldBeVisible() and f70_arg0.SPCraftingRadialMenuLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.SafeLayer and f70_arg0.SafeLayer:ShouldBeVisible() and f70_arg0.SafeLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.SPCraftingMenuLayer and f70_arg0.SPCraftingMenuLayer:ShouldBeVisible() and f70_arg0.SPCraftingMenuLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.UIButtonCombinationLayer and f70_arg0.UIButtonCombinationLayer:ShouldBeVisible() and f70_arg0.UIButtonCombinationLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.reportPlayerLayer and f70_arg0.reportPlayerLayer:ShouldBeVisible() and f70_arg0.reportPlayerLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.tacOpsLayer and f70_arg0.tacOpsLayer:ShouldBeVisible() and f70_arg0.tacOpsLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.inventoryLayer and f70_arg0.inventoryLayer:ShouldBeVisible() and f70_arg0.inventoryLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.dpadPopupLayer and f70_arg0.dpadPopupLayer:ShouldBeVisible() and f70_arg0.dpadPopupLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.birdsEyeLayer and f70_arg0.birdsEyeLayer:ShouldBeVisible() and f70_arg0.birdsEyeLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.timedUseMeterLayer and f70_arg0.timedUseMeterLayer:ShouldBeVisible() and f70_arg0.timedUseMeterLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.codcasterLayer and f70_arg0.codcasterLayer:ShouldBeVisible() and f70_arg0.codcasterLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.gunsmithDebug and f70_arg0.gunsmithDebug:ShouldBeVisible() and f70_arg0.gunsmithDebug:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f0_local0( f70_arg0, f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.SPCruiseMissileLayer and f70_arg0.SPCruiseMissileLayer:ShouldBeVisible() and f70_arg0.SPCruiseMissileLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	elseif f70_arg0.scriptedWidgetLayer and f70_arg0.scriptedWidgetLayer:ShouldBeVisible() and f70_arg0.scriptedWidgetLayer:TrapsInput( f70_arg1 ) then
		f70_local0 = true
	end
	if f70_local0 or f70_local1 then
		table.insert( f70_arg0.inputQueue, f70_arg1 )
		if 4 < #f70_arg0.inputQueue then
			table.remove( f70_arg0.inputQueue, 1 )
		end
	end
	if f70_arg0.devButtonHandlers == nil then
		f70_arg0.devButtonHandlers = {}
	end
	local f70_local2 = f70_arg0.devButtonHandlers[f70_arg1.button]
	if f70_local2 and f70_arg1.down == false then
		f70_local2()
	end
	return f70_local0
end

LUI.UIRoot.AddDevKeybindHandler = function ( f69_arg0, f69_arg1 )
	local f69_local0 = Engine[0xEE6F69FEA944B13]()
	local f69_local1 = assert
	local f69_local2
	if f69_local0 then
		f69_local2 = f69_local0
	else
		f69_local2 = f69_local0.flowManager
	end
	f69_local1( f69_local2 )
	f69_local1 = f69_local0.flowManager
	if f69_local0.devButtonHandlers == nil then
		f69_local0.devButtonHandlers = {}
	end
	f69_local0.devButtonHandlers[f69_arg0] = f69_arg1
end

LUI.UIRoot.QueueMouseInput = function ( f68_arg0, f68_arg1, f68_arg2, f68_arg3, f68_arg4, f68_arg5, f68_arg6, f68_arg7, f68_arg8 )
	return f0_local0( f68_arg0, {
		name = f68_arg3,
		rootName = f68_arg2,
		controller = f68_arg1,
		button = f68_arg4,
		bind = f68_arg5,
		down = f68_arg6,
		x = f68_arg7,
		y = f68_arg8
	} )
end

LUI.UIRoot.QueueInput = function ( f67_arg0, f67_arg1, f67_arg2, f67_arg3, f67_arg4, f67_arg5, f67_arg6, f67_arg7, f67_arg8, f67_arg9 )
	return f0_local0( f67_arg0, {
		name = "gamepad_button",
		controller = f67_arg1,
		rootName = f67_arg2,
		button = f67_arg4,
		bind = f67_arg5,
		qualifier = f67_arg6,
		down = f67_arg3,
		x = f67_arg7,
		y = f67_arg8,
		resetInputs = f67_arg9
	} )
end

LUI.UIRoot.AddPreviewDependency = function ( f66_arg0, f66_arg1 )
	if Engine[0x7AE6126734FCDB]() and f66_arg0.previewModuleDeps then
		table.insert( f66_arg0.previewModuleDeps, f66_arg1 )
	end
end

LUI.UIRoot.PreviewWidget = function ( f65_arg0, f65_arg1, f65_arg2, f65_arg3, f65_arg4 )
	if Engine[0x7AE6126734FCDB]() then
		if f65_arg0.previewWidget then
			f65_arg0.previewWidget:closeTree()
			Engine[0x3DACD106DDC0D71]()
			f65_arg0.previewWidet = nil
		end
		if f65_arg0.previewingMenu then
			f65_arg0.flowManager:closeAllMenus()
			Engine[0x3DACD106DDC0D71]()
			f65_arg0.previewingMenu = false
		end
		if f65_arg0.previewModuleDeps then
			for f65_local3, f65_local4 in ipairs( f65_arg0.previewModuleDeps ) do
				DebugPrint( "Unloading dependent module " .. f65_local4 )
				package.loaded[f65_local4] = nil
			end
		end
		local f65_local0 = {}
		for f65_local4, f65_local5 in pairs( package.loaded ) do
			f65_local0[f65_local4] = true
		end
		f65_arg0:UpdateGameMode( {
			previousGameMode = CoD.PlayMode.None,
			currentGameMode = MenuBuilder_TEL.GetPreviewPlayMode( f65_arg3 )
		} )
		require( f65_arg2 )
		f65_local2 = MenuBuilder_TEL.GetPreviewOptions( f65_arg3 )
		if f65_arg4 == "menu" then
			f65_local3 = LUI.FlowManager.RequestAddMenu
			f65_local5 = f65_arg3
			local f65_local6 = true
			local f65_local7 = f65_arg1
			local f65_local8 = true
			local f65_local9
			if not f65_local2 then
				f65_local9 = f65_local2
			else
				f65_local9 = nil
			end
			f65_local3( f65_local5, f65_local6, f65_local7, f65_local8, f65_local9, false, true )
			f65_arg0.previewingMenu = true
		elseif f65_arg4 == "widget" then
			f65_local3 = MenuBuilder.BuildRegisteredType
			f65_local5 = f65_arg3
			local f65_local6
			if not f65_local2 then
				f65_local6 = f65_local2
			else
				f65_local6 = {
					controllerIndex = f65_arg1
				}
			end
			f65_arg0.previewWidget = f65_local3( f65_local5, f65_local6 )
			f65_arg0:addElement( f65_arg0.previewWidget )
		elseif f65_arg4 == "hud" then
			
		else
			
		end
		f65_arg0.previewModuleDeps = {}
		for f65_local6, f65_local7 in pairs( package.loaded ) do
			if not f65_local0[f65_local6] then
				DebugPrint( "Added module dependency " .. f65_local6 )
				table.insert( f65_arg0.previewModuleDeps, f65_local6 )
			end
		end
	end
end

local f0_local3 = {}
local f0_local4 = 0
local f0_local5 = function ( f64_arg0, f64_arg1 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xCC4DD23D9CFFC32 ) and f64_arg1.name ~= "run_frame" then
		local f64_local0 = -1
		local f64_local1 = f64_arg1.name
		if f64_arg1.name == "omnvar_update" then
			f64_local1 = f64_arg1.omnvar
		end
		for f64_local2 = 1, #f0_local0, 1 do
			if f0_local0[f64_local2].eventName == f64_local1 then
				f64_local0 = f64_local2
				break
			end
		end
		if f64_local0 ~= -1 then
			f0_local0[f64_local0].count = f0_local0[f64_local0].count + 1
			f0_local0[f64_local0].added = f0_local0
		elseif #f0_local0 < 50 then
			table.insert( f0_local0, {
				eventName = f64_local1,
				count = 1,
				added = f0_local0
			} )
		end
		for f64_local2 = #f0_local0, 1, -1 do
			if f0_local0[f64_local2].count == 1 and f0_local0[f64_local2].added + 1800 < f0_local0 then
				table.remove( f0_local0, f64_local2 )
			end
		end
	end
end

local f0_local6 = function ( f62_arg0, f62_arg1 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xCC4DD23D9CFFC32 ) then
		table.sort( f0_local0, function ( f63_arg0, f63_arg1 )
			return f63_arg1.count < f63_arg0.count
		end )
		f0_local0 = f0_local0 + 1
		if f0_local0 % 200 == 0 then
			DebugPrint( "-----Starting event enumeration:" )
			for f62_local3, f62_local4 in ipairs( f0_local0 ) do
				DebugPrint( "Event: " .. f62_local4.eventName .. ", Count: " .. f62_local4.count )
			end
			DebugPrint( "-----Ending event enumeration:" )
		end
	end
end

local f0_local7 = function ( f61_arg0, f61_arg1 )
	local f61_local0 = #f61_arg1
	if 8 < f61_local0 and Dvar[0x9E5BE3B4BBA4E0E]( 0xCC4DD23D9CFFC32 ) then
		DebugPrint( "LUI WARNING: Processing " .. f61_local0 .. " global events in one frame." )
		DebugPrint( "-----Starting event enumeration:" )
		for f61_local1 = 1, f61_local0, 1 do
			if f61_arg1[f61_local1].name == "omnvar_update" then
				DebugPrint( "Event omnvar " .. f61_local1 .. ": " .. f61_arg1[f61_local1].omnvar )
			else
				DebugPrint( "Event " .. f61_local1 .. ": " .. f61_arg1[f61_local1].name )
			end
		end
		DebugPrint( "-----Ending event enumeration:" )
	end
end

LUI.UIRoot.ProcessQueue = function ( f60_arg0, f60_arg1 )
	local f60_local0 = #f60_arg1
	if CONDITIONS.IsDevelopmentBuild() then
		f0_local0( f60_arg0, f60_arg1 )
	end
	local f60_local1 = nil
	for f60_local2 = 1, f60_local0, 1 do
		local f60_local5 = f60_local2
		f60_local1 = f60_arg1[1]
		Engine[0xD344B7DE66AFA81]( f60_local1.name .. (f60_local1.name and f60_local1.omnvar or "") )
		table.remove( f60_arg1, 1 )
		LUI.UIRoot.ProcessEventNow( f60_arg0, f60_local1 )
		if CONDITIONS.IsDevelopmentBuild() then
			f0_local0( f60_arg0, f60_local1 )
		end
		Engine[0xC99CAB76F12E539]()
	end
	if CONDITIONS.IsDevelopmentBuild() then
		f0_local0( f60_arg0, f60_local1 )
	end
end

LUI.UIRoot.ProcessEvents = function ( f59_arg0 )
	Engine[0xD344B7DE66AFA81]( "LUI.UIRoot.ProcessEvents" )
	f59_arg0:ProcessQueue( f59_arg0.eventQueue )
	Engine[0xC99CAB76F12E539]()
end

LUI.UIRoot.ProcessInputs = function ( f58_arg0 )
	Engine[0xD344B7DE66AFA81]( "LUI.UIRoot.ProcessInputs" )
	f58_arg0:ProcessQueue( f58_arg0.inputQueue )
	Engine[0xC99CAB76F12E539]()
end

LUI.UIRoot.ProcessEvent = function ( f57_arg0, f57_arg1 )
	if f57_arg1.immediate == true then
		Engine[0xD344B7DE66AFA81]( f57_arg1.name )
		local f57_local0 = LUI.UIRoot.ProcessEventNow( f57_arg0, f57_arg1 )
		Engine[0xC99CAB76F12E539]()
		return f57_local0
	else
		table.insert( f57_arg0.eventQueue, f57_arg1 )
		return false
	end
end

LUI.UIRoot.ProcessEventNow = function ( f56_arg0, f56_arg1 )
	Engine[0xD344B7DE66AFA81]( "LUI.UIRoot.ProcessEventNow for event " .. f56_arg1.name )
	if not f56_arg0.debugPrintIgnoreEvents[f56_arg1.name] and Dvar[0x9E5BE3B4BBA4E0E]( 0x7F57525F50450C ) then
		DebugPrint( "Processing event " .. f56_arg1.name )
		if f56_arg1.name == "gamepad_button" then
			DebugPrint( "button " .. f56_arg1.button )
		end
	end
	if f56_arg0.m_blockButtonInput and (f56_arg1.name == "gamepad_button" or f56_arg1.name == "mouseup") then
		DebugPrint( "Blocking Button input for " .. f56_arg1.button .. "  because m_ignoreButtonInput is true" )
		Engine[0xC99CAB76F12E539]()
		return false
	elseif IsMouseEvent( f56_arg1.name, f56_arg1.qualifier ) then
		local f56_local0 = f56_arg0.flowManager:GetTopMostOpenMenuInfo()
		if f56_local0 and f56_local0.isControllerExclusive then
			local f56_local1
			if f56_local0.controller and f56_arg1.controller and f56_local0.controller ~= f56_arg1.controller then
				f56_local1 = false
			else
				f56_local1 = true
			end
			if not f56_local1 then
				return true
			end
		end
		f56_arg1.root = f56_arg0
		if IsMouseInputEvent( f56_arg1.name, f56_arg1.qualifier ) then
			LUI.UIRoot.ProcessMouseButtonEvent( f56_arg0, f56_arg1 )
		else
			LUI.UIRoot.ProcessMouseMoveEvent( f56_arg0, f56_arg1 )
		end
		if f56_arg0.cursor then
			f56_arg0.cursor:processEvent( f56_arg1 )
		end
		Engine[0xC99CAB76F12E539]()
		return true
	elseif IsTouchInputEvent( f56_arg1.name ) or IsTouchGestureEvent( f56_arg1.name ) then
		f56_arg1.root = f56_arg0
		LUI.UIRoot.ProcessTouchEvent( f56_arg0, f56_arg1 )
		Engine[0xC99CAB76F12E539]()
		return true
	elseif f56_arg1.target and f56_arg1.target ~= f56_arg0 then
		Engine[0xC99CAB76F12E539]()
		return f56_arg1.target:processEvent( f56_arg1 )
	elseif IsInputEvent( f56_arg1.name ) then
		if f56_arg1.name ~= "gamepad_sticks" then
			f56_arg0:ClearFocusStack()
		end
		if not AnyActiveMenusInStack( f56_arg0 ) and f56_arg0.gunsmithDebug then
			f56_arg0.gunsmithDebug:processEvent( f56_arg1 )
		end
		local f56_local0 = false
		local f56_local1 = AnyActiveMenusInStack( f56_arg0 )
		local f56_local2 = Engine[0xCA085C21FCBD7CA]()
		if f56_arg0.toastManager and f56_arg0.toastManager:processEvent( f56_arg1 ) then
			f56_local0 = true
		elseif f56_arg0.mouseCursorContextualMenuLayer and f56_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f56_arg0.mouseCursorContextualMenuLayer:processEvent( f56_arg1 ) then
			f56_local0 = true
		elseif f56_arg0.textChat and f56_arg0.textChat:ShouldBeVisible() and f56_arg0.textChat:processEvent( f56_arg1 ) then
			f56_local0 = true
			f56_local1 = true
		elseif f56_arg0.codcasterLayer and f56_arg0.codcasterLayer:ShouldBeVisible() and f56_arg0.codcasterLayer:TrapsInput( f56_arg1 ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.codcasterLayer:processEvent( f56_arg1 )
			end
			f56_local1 = true
		elseif AnyActiveMenusInStack( f56_arg0 ) or f0_local0( f56_arg0, f56_arg1 ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.flowManager:processEvent( f56_arg1 )
			end
		elseif f56_arg0.binkSkipPromptLayer and f56_arg0.binkSkipPromptLayer:ShouldBeVisible() then
			if not f56_local0 then
				f56_local0 = f56_arg0.binkSkipPromptLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.Snakecam and f56_arg0.Snakecam:ShouldBeVisible() then
			if not f56_local0 then
				f56_local0 = f56_arg0.Snakecam:processEvent( f56_arg1 )
			end
		elseif f56_arg0.loadingScreenManager and f56_arg0.loadingScreenManager:ShouldBeVisible() then
			if not f56_local0 then
				f56_local0 = f56_arg0.loadingScreenManager:processEvent( f56_arg1 )
			end
		elseif f56_arg0.scoreboardLayer and not f56_local2 and f56_arg0.scoreboardLayer:TrapsInput( f56_arg1 ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.scoreboardLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.scoreboardLayer and f56_local2 and LUI.ScoreboardLayer.IsShowingScoreboard( f56_arg0.scoreboardLayer ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.scoreboardLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.squadEliminatedLayer and f56_arg0.squadEliminatedLayer:ShouldBeVisible() and f56_arg0.squadEliminatedLayer:TrapsInput( f56_arg1 ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.squadEliminatedLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.dpadPopupLayer and LUI.DpadPopupLayer.IsShowingDpadPopup( f56_arg0.dpadPopupLayer ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.dpadPopupLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.UIButtonCombinationLayer and f56_arg0.UIButtonCombinationLayer:TrapsInput( f56_arg1 ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.UIButtonCombinationLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.birdsEyeLayer and LUI.BirdsEyeLayer.IsShowingBirdsEye( f56_arg0.birdsEyeLayer ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.birdsEyeLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.timedUseMeterLayer and LUI.TimedUseMeterLayer.IsShowingTimedUseMeter( f56_arg0.timedUseMeterLayer ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.timedUseMeterLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.inventoryLayer and f56_arg0.inventoryLayer:TrapsInput( f56_arg1 ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.inventoryLayer:processEvent( f56_arg1 )
			end
			f56_local1 = true
		elseif f56_arg0.reportPlayerLayer and f56_arg0.reportPlayerLayer:TrapsInput( f56_arg1 ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.reportPlayerLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.tacOpsLayer and f56_arg0.tacOpsLayer:TrapsInput( f56_arg1 ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.tacOpsLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.telemetryLayer and f56_arg0.telemetryLayer:ShouldBeVisible() and f56_arg0.telemetryLayer:TrapsInput() then
			if not f56_local0 then
				f56_local0 = f56_arg0.telemetryLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.achievementsManager and f56_arg0.achievementsManager:ShouldBeVisible() and f56_arg0.achievementsManager:TrapsInput() then
			if not f56_local0 then
				f56_local0 = f56_arg0.achievementsManager:processEvent( f56_arg1 )
			end
		elseif f56_arg0.SafeLayer and f56_arg0.SafeLayer:ShouldBeVisible() and f56_arg0.SafeLayer:TrapsInput( f56_arg1 ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.SafeLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.SPCraftingMenuLayer and f56_arg0.SPCraftingMenuLayer:ShouldBeVisible() and f56_arg0.SPCraftingMenuLayer:TrapsInput( f56_arg1 ) then
			if not f56_local0 then
				f56_local0 = f56_arg0.SPCraftingMenuLayer:processEvent( f56_arg1 )
			end
		elseif f56_arg0.SPCruiseMissileLayer and f56_arg0.SPCruiseMissileLayer:ShouldBeVisible() and f56_arg0.SPCruiseMissileLayer:TrapsInput( f56_arg1 ) and not f56_local0 then
			f56_local0 = f56_arg0.SPCruiseMissileLayer:processEvent( f56_arg1 )
		end
		if not f56_local1 and f56_arg0.radialMenuLayer and f56_arg0.radialMenuLayer:ShouldBeVisible() and not f56_local0 then
			f56_local0 = f56_arg0.radialMenuLayer:processEvent( f56_arg1 )
		end
		if not f56_local1 and f56_arg0.SPCraftingRadialMenuLayer and f56_arg0.SPCraftingRadialMenuLayer:ShouldBeVisible() and not f56_local0 then
			f56_local0 = f56_arg0.SPCraftingRadialMenuLayer:processEvent( f56_arg1 )
		end
		if not f56_local0 and not f56_local1 and f56_arg0.scriptedWidgetLayer and f56_arg0.scriptedWidgetLayer:ShouldBeVisible() and not f56_local0 then
			f56_local0 = f56_arg0.scriptedWidgetLayer:processEvent( f56_arg1 )
		end
		Engine[0xC99CAB76F12E539]()
		return f56_local0
	else
		f56_arg0:UpdateInputConnected( f56_arg1 )
		local f56_local0 = LUI.UIElement.processEvent( f56_arg0, f56_arg1 )
		Engine[0xC99CAB76F12E539]()
		return f56_local0
	end
end

local f0_local8 = function ( f54_arg0, f54_arg1, f54_arg2, f54_arg3, f54_arg4, f54_arg5 )
	local f54_local0 = nil
	local f54_local1 = function ( f55_arg0 )
		local f55_local0 = false
		if f54_arg0 and f54_arg0 and f55_arg0 then
			
		else
			
		end
		return false
	end
	
	return f54_local1( f54_arg1 )
end

LUI.UIRoot.ComputeCurrentFocus = function ( f53_arg0, f53_arg1, f53_arg2, f53_arg3, f53_arg4, f53_arg5 )
	local f53_local0 = {}
	f0_local0( f53_arg0, f53_arg1, f53_local0, f53_arg2, f53_arg3, f53_arg5 )
	if f53_arg4 then
		for f53_local1 = #f53_local0, 1, -1 do
			if not f53_local0[f53_local1]:isDescendentOf( f53_arg4 ) then
				table.remove( f53_local0, f53_local1 )
			end
		end
	end
	return f53_local0
end

LUI.UIRoot.ComputeCurrentFocusFromEvent = function ( f52_arg0, f52_arg1 )
	local f52_local0 = f52_arg1.rootName
	local f52_local1 = Engine[0xEE6F69FEA944B13]()
	if not f52_local0 then
		f52_local0 = f52_local1.name
	end
	return LUI.UIRoot.ComputeCurrentFocus( f52_local0, f52_arg0, f52_arg1.x, f52_arg1.y, f52_local1.lockedFocusToChildrenOf, IsMouseEvent( f52_arg1.name, f52_arg1.qualifier ) )
end

LUI.UIRoot.PropagateFocusToStack = function ( f51_arg0 )
	for f51_local4, f51_local5 in ipairs( f51_arg0.focusStack ) do
		if f51_local5:AcceptsFocusType( FocusType.MouseOver ) and not f51_local5:isInFocus() then
			f51_local5:processEvent( {
				name = "gain_focus",
				focusType = FocusType.MouseOver,
				controller = f51_arg0.controller
			} )
			local f51_local3 = f51_local5:getParent()
			if f51_local3:isIDNamed() then
				f51_local3.shouldSaveState = not f51_local3.neverSaveState
			end
		end
		if f51_local5.m_mouseOver == nil then
			f51_local5.m_mouseOver = true
			if f51_local5.m_eventHandlers.mouseenter ~= nil then
				f51_local5.m_eventHandlers:mouseenter( {
					name = "mouseenter",
					controller = f51_arg0.controller,
					root = f51_arg0.root,
					x = f51_arg0.x,
					y = f51_arg0.y
				} )
			end
		end
	end
end

LUI.UIRoot.LockFocusStackToChildrenOfElement = function ( f50_arg0 )
	local f50_local0 = Engine[0xEE6F69FEA944B13]()
	f50_local0.lockedFocusToChildrenOf = f50_arg0
	return true
end

LUI.UIRoot.UnlockFocusStackToChildrenOfElement = function ()
	local f49_local0 = Engine[0xEE6F69FEA944B13]()
	f49_local0.lockedFocusToChildrenOf = nil
	return true
end

LUI.UIRoot.GetActiveLayer = function ( f48_arg0 )
	assert( f48_arg0 )
	local f48_local0 = nil
	if f48_arg0.scoreboardLayer and f48_arg0.scoreboardLayer:ShouldBeVisible() and f48_arg0.scoreboardLayer:IsShowingScoreboard() then
		f48_local0 = f48_arg0.scoreboardLayer
	elseif f48_arg0.inventoryLayer and f48_arg0.inventoryLayer:ShouldBeVisible() and f48_arg0.inventoryLayer:IsShowingInventory() then
		f48_local0 = f48_arg0.inventoryLayer
	elseif f48_arg0.UIButtonCombinationLayer and f48_arg0.UIButtonCombinationLayer:ShouldBeVisible() then
		f48_local0 = f48_arg0.UIButtonCombinationLayer
	elseif f48_arg0.radialMenuLayer and f48_arg0.radialMenuLayer:ShouldBeVisible() and f48_arg0.radialMenuLayer:GetActiveRadialWidgetInLayer() ~= nil then
		f48_local0 = f48_arg0.radialMenuLayer
	elseif f48_arg0.SPCraftingRadialMenuLayer and f48_arg0.SPCraftingRadialMenuLayer:ShouldBeVisible() then
		f48_local0 = f48_arg0.SPCraftingRadialMenuLayer
	elseif f48_arg0.SafeLayer and f48_arg0.SafeLayer:ShouldBeVisible() then
		f48_local0 = f48_arg0.SafeLayer
	elseif f48_arg0.SPCraftingMenuLayer and f48_arg0.SPCraftingMenuLayer:ShouldBeVisible() then
		f48_local0 = f48_arg0.SPCraftingMenuLayer
	elseif f48_arg0.tacOpsLayer and f48_arg0.tacOpsLayer:ShouldBeVisible() then
		f48_local0 = f48_arg0.tacOpsLayer
	elseif f48_arg0.binkSkipPromptLayer and f48_arg0.binkSkipPromptLayer:ShouldBeVisible() then
		f48_local0 = f48_arg0.binkSkipPromptLayer
	elseif f48_arg0.squadEliminatedLayer and f48_arg0.squadEliminatedLayer:ShouldBeVisible() then
		f48_local0 = f48_arg0.squadEliminatedLayer
	elseif f48_arg0.loadingScreenManager and f48_arg0.loadingScreenManager:ShouldBeVisible() then
		f48_local0 = f48_arg0.loadingScreenManager
	elseif f48_arg0.MobileFTUELayer and f48_arg0.MobileFTUELayer:ShouldBeVisible() then
		f48_local0 = f48_arg0.FTULayer
	elseif f48_arg0.MobileWaitTimeLayer and f48_arg0.MobileWaitTimeLayer:ShouldBeVisible() then
		f48_local0 = f48_arg0.MobileWaitTimeLayer
	elseif f48_arg0.SPCruiseMissileLayer and f48_arg0.SPCruiseMissileLayer:ShouldBeVisible() then
		f48_local0 = f48_arg0.SPCruiseMissileLayer
	elseif f48_arg0.scriptedWidgetLayer and f48_arg0.scriptedWidgetLayer:ShouldBeVisible() and f48_arg0.scriptedWidgetLayer:HasInputTraps() then
		f48_local0 = f48_arg0.scriptedWidgetLayer
	end
	return f48_local0
end

LUI.UIRoot.ProcessMouseMoveEvent = function ( f47_arg0, f47_arg1 )
	local f47_local0 = {}
	local f47_local1 = 0
	if not f47_arg0.lastX then
		f47_arg0.lastX = 0
		f47_arg0.lastY = 0
	end
	local f47_local2 = f47_arg0.lastX
	local f47_local3 = f47_arg0.lastY
	local f47_local4 = f47_arg1.x
	local f47_local5 = f47_arg1.y
	if not f47_local4 or not f47_local5 then
		return 
	end
	local f47_local6 = math.abs( f47_local4 - f47_local2 ) + math.abs( f47_local5 - f47_local3 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xC46450939E2438F ) then
		if not f47_arg0._lastMouseMoveTime then
			f47_arg0._lastMouseMoveTime = 0
		end
		if not f47_arg0._stackTimers then
			f47_arg0._stackTimers = {}
		end
		local f47_local7 = Engine[0x6991337AE950F99]()
		f47_local1 = f47_local7 - f47_arg0._lastMouseMoveTime
		f47_arg0._lastMouseMoveTime = f47_local7
	end
	f47_arg0.lastX = f47_arg1.x
	f47_arg0.lastY = f47_arg1.y
	if not f47_arg0._hasStackTimers and f47_local6 <= 0 then
		return true
	elseif f47_arg0.mouseCursorContextualMenuLayer and f47_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f47_arg0.mouseCursorContextualMenuLayer:IsOpened() then
		table.insert( f47_local0, f47_arg0.mouseCursorContextualMenuLayer )
	else
		if Engine[0x2DA54CF5D6B7F02]() and f47_arg0.prototypeLayer then
			table.insert( f47_local0, f47_arg0.prototypeLayer )
		end
		if f47_arg0.toastManager then
			table.insert( f47_local0, f47_arg0.toastManager )
		end
		if f47_arg0.textChat and f47_arg0.textChat:ShouldBeVisible() then
			table.insert( f47_local0, f47_arg0.textChat )
		end
		if f47_arg0.shaderPreloadLayer and f47_arg0.shaderPreloadLayer:ShouldBeVisible() then
			table.insert( f47_local0, f47_arg0.shaderPreloadLayer )
		end
		if AnyActiveMenusInStack( f47_arg0 ) then
			local f47_local7 = table.insert
			local f47_local8 = f47_local0
			local f47_local9 = f47_arg0.flowManager:GetTopMostOpenMenuInfo()
			f47_local7( f47_local8, f47_local9.menu )
		end
		local f47_local7 = LUI.UIRoot.GetActiveLayer( f47_arg0 )
		if f47_local7 and f47_local7.handleMouseMove then
			table.insert( f47_local0, f47_local7 )
		end
	end
	if not f47_arg0.lockedMouseFocusStack then
		if 0 < f47_local6 then
			f47_arg0.mouseFocusStack = {}
			for f47_local9, f47_local11 in ipairs( f47_local0 ) do
				f47_arg0.mouseFocusStack = LUI.UIRoot.ComputeCurrentFocusFromEvent( f47_local11, f47_arg1 )
				if 0 < #f47_arg0.mouseFocusStack then
					break
				end
			end
		end
		if Dvar[0x9E5BE3B4BBA4E0E]( 0xC46450939E2438F ) then
			local f47_local7 = {}
			f47_arg0._hasStackTimers = false
			if f47_local6 > (Dvar[0x22EAAB59AA27E9B]( 0xD597A5C7C748F30 ) or 10) and 0 < #f47_arg0.mouseFocusStack and f47_arg0.mouseFocusStack[1]:GetUseDelayedFocus() then
				f47_arg1.focusStack = {}
				local f47_local9 = false
				local f47_local11 = Dvar[0x22EAAB59AA27E9B]( 0x85F8EE8D7D04310 ) or 500
				f47_arg0._hasStackTimers = true
				for f47_local15, f47_local16 in pairs( f47_arg0.mouseFocusStack ) do
					if f47_local16:isInFocus() then
						table.insert( f47_arg1.focusStack, f47_local16 )
					end
					if f47_arg0._stackTimers[f47_local16] then
						f47_local7[f47_local16] = f47_arg0._stackTimers[f47_local16] + f47_local1
						if f47_local11 < f47_local7[f47_local16] then
							table.insert( f47_arg1.focusStack, f47_local16 )
						end
					end
					f47_local7[f47_local16] = f47_local1
				end
			else
				f47_arg1.focusStack = f47_arg0.mouseFocusStack
			end
			f47_arg0._stackTimers = f47_local7
		else
			f47_arg1.focusStack = f47_arg0.mouseFocusStack
		end
	else
		local f47_local7 = {}
		for f47_local11, f47_local12 in ipairs( f47_local0 ) do
			f47_local7 = LUI.UIRoot.ComputeCurrentFocusFromEvent( f47_local12, f47_arg1 )
			if 0 < #f47_local7 then
				break
			end
		end
		f47_arg1.focusStack = {}
		for f47_local11, f47_local12 in ipairs( f47_local7 ) do
			for f47_local16, f47_local17 in ipairs( f47_arg0.mouseFocusStack ) do
				if f47_local12 == f47_local17 then
					table.insert( f47_arg1.focusStack, f47_local12 )
				end
			end
		end
	end
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain( f47_arg0 )
	end
	for f47_local9, f47_local11 in ipairs( f47_local0 ) do
		if LUI.FocusDebug ~= nil then
			LUI.FocusDebug.BeginFocusChainLayer( f47_local11 )
		end
		f47_local11:processEventNoDispatch( f47_arg1 )
		if LUI.FocusDebug ~= nil then
			LUI.FocusDebug.EndFocusChainItem()
		end
	end
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.EndFocusChain( f47_arg0 )
	end
	LUI.UIMouseCursor.UpdateMouseCursor( f47_arg1.focusStack[#f47_arg1.focusStack], f47_arg1.controller )
	LUI.UIRoot.PropagateFocusToStack( f47_arg1 )
	return true
end

LUI.UIRoot.CreateAndSubscribeToMouseModel = function ( f45_arg0, f45_arg1 )
	local f45_local0 = DataModel[0x4DF5CFBC1771947]( f45_arg1 )
	f45_arg0.mouseNotify = DataModel[0xA798E4552F5E872]( f45_local0, "cursor.notify" )
	f45_arg0.mouseX = DataModel[0xA798E4552F5E872]( f45_local0, "cursor.x" )
	f45_arg0.mouseY = DataModel[0xA798E4552F5E872]( f45_local0, "cursor.y" )
	f45_arg0:SubscribeToModel( f45_arg0.mouseNotify, function ()
		LUI.UIRoot.ProcessEventNow( f45_arg0, {
			name = "mousemove",
			root = f45_arg0,
			rootName = f45_arg0.name,
			x = DataModel[0x614D394F6F9A18D]( f45_arg0.mouseX ),
			y = DataModel[0x614D394F6F9A18D]( f45_arg0.mouseY ),
			controller = f45_arg0
		} )
	end, true )
end

LUI.UIRoot.CreateAndSubscribeToInputTypeModel = function ( f43_arg0, f43_arg1 )
	f43_arg0.inputTypeModel = DataModel[0xA798E4552F5E872]( DataModel[0x4DF5CFBC1771947]( f43_arg1 ), "input.type" )
	f43_arg0:SubscribeToModel( f43_arg0.inputTypeModel, function ( f44_arg0, f44_arg1 )
		f43_arg0:UpdateInputType( f43_arg0, DataModel[0x614D394F6F9A18D]( f44_arg0 ) )
	end, true )
end

local f0_local9 = function ( f42_arg0, f42_arg1, f42_arg2 )
	if f42_arg0.touchVirtualGamepadLayer then
		local f42_local0 = f42_arg0.touchVirtualGamepadLayer.virtualGamepad
		if f42_local0 and f42_arg2 ~= f42_local0 and f42_arg2:isDescendentOf( f42_local0 ) and f42_local0:ShouldProcessTouchEventFromChild( f42_arg2, f42_arg1 ) then
			return f42_local0:ProcessTouchEvent( f42_arg1 )
		end
	end
end

local f0_local10 = function ( f41_arg0, f41_arg1, f41_arg2 )
	local f41_local0 = f41_arg1.dispatchChildren
	f41_arg1.dispatchChildren = false
	local f41_local1 = {}
	local f41_local2 = f41_arg2[#f41_arg2]
	if f41_local2 and f41_local2 ~= f41_arg0 then
		
	else
		
	end
	local f41_local3 = IsMouseEvent( f41_arg1.name, f41_arg1.qualifier )
	local f41_local4 = f41_arg1.rootName
	if not f41_local4 then
		local f41_local5 = Engine[0xEE6F69FEA944B13]()
		f41_local4 = f41_local5.name
	end
	for f41_local5 = #f41_arg2, 1, -1 do
		if not (not f41_local3 or not f41_arg2[f41_local5].handleMouseButton) or not f41_local3 then
			local f41_local8 = f41_arg1.x
			local f41_local9 = f41_arg1.y
			f41_arg1.mouseX = f41_local8
			f41_arg1.mouseY = f41_local9
			f41_arg1.inside = f41_arg2[f41_local5]:IsPositionInside( f41_local8, f41_local9 )
			if f41_local8 and f41_local9 then
				local f41_local10 = LUI.UIRoot.GetRootFromName( f41_local4 )
				if f41_local10 then
					f41_arg1.unitsX, f41_arg1.unitsY = f41_local10:PixelsToUnits( f41_local8, f41_local9 )
					f41_arg1.root = f41_local10
				end
			end
			if f41_local3 then
				if f41_arg2[f41_local5]:processEventNoDispatch( f41_arg1 ) then
					break
				end
			end
			local f41_local10 = nil
			if f41_arg2[f41_local5].handleTouchInput then
			
			else
				DebugPrint( "Found widget in focusStack not handling touch events: " .. f41_arg2[f41_local5].id )
			end
			f41_local10 = f41_arg2[f41_local5]:ProcessTouchEvent( f41_arg1 )
		end
	end
	f41_arg1.dispatchChildren = f41_local0
end

LUI.UIRoot.ProcessMouseButtonEvent = function ( f40_arg0, f40_arg1 )
	if not f40_arg0.mouseFocusStack then
		return false
	end
	local f40_local0 = LUI.ShallowCopy( f40_arg0.mouseFocusStack )
	local f40_local1 = LUI.UIRoot.GetActiveLayer( f40_arg0 )
	if f40_local1 and not f40_local1.handleMouseMove and f40_local1.handleMouseButton then
		table.insert( f40_local0, f40_local1 )
	end
	local f40_local2 = false
	local f40_local3 = false
	if 0 < #f40_local0 and f40_arg1.name == "mousedown" then
		f40_arg0.lockedMouseFocusStack = true
		f40_local2 = true
	elseif f40_arg1.name == "mouseup" then
		if f40_arg0.lockedMouseFocusStack then
			f40_arg0.lockedMouseFocusStack = false
			f40_local2 = true
			f40_local3 = true
		elseif #f40_arg0.mouseFocusStack == 0 then
			Engine[0xA1DAA3E8650282A]( f40_arg1.controller )
		end
	elseif f40_arg1.name == "gamepad_button" and f40_arg1.qualifier == "mousewheel" then
		f40_local2 = true
	end
	if f40_arg0.mouseCursorContextualMenuLayer and f40_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f40_arg0.mouseCursorContextualMenuLayer:processEvent( f40_arg1 ) then
		f40_local2 = false
	elseif f40_arg0.scriptedWidgetLayer and f40_arg0.scriptedWidgetLayer:ShouldBeVisible() and f40_arg0.scriptedWidgetLayer:processEvent( f40_arg1 ) then
		f40_local2 = false
	end
	if f40_arg1.name == "mouseup" and f40_arg0.textChat and f40_arg0.textChat:ShouldBeVisible() and not LUI.UIElement.isDescendentOf( f40_local0[#f40_local0], f40_arg0.textChat ) then
		f40_arg0.textChat:processEvent( {
			name = "minimize_chat"
		} )
	end
	if f40_local2 then
		f0_local0( f40_arg0, f40_arg1, f40_local0 )
	end
	if f40_local3 then
		Engine[0xA1DAA3E8650282A]( f40_arg1.controller )
	end
	return true
end

local f0_local11 = function ( f39_arg0, f39_arg1 )
	if not f39_arg0.touchFocusElements[f39_arg1] or not next( f39_arg0.touchFocusElements, next( f39_arg0.touchFocusElements ) ) or not AnyActiveMenusInStack( f39_arg0 ) then
		return 
	end
	local f39_local0 = false
	for f39_local4, f39_local5 in ipairs( f39_arg0.touchFocusElements[f39_arg1] ) do
		if f39_local5:IsTouchMultiFingerEnabled() then
			f39_local0 = true
			break
		end
	end
	if not f39_local0 then
		f39_arg0.touchFocusElements[f39_arg1] = nil
	end
end

local f0_local12 = function ( f38_arg0, f38_arg1, f38_arg2 )
	local f38_local0 = nil
	for f38_local4, f38_local5 in ipairs( f38_arg2 ) do
		f38_local0 = LUI.UIRoot.ComputeCurrentFocusFromEvent( f38_local5, f38_arg1 )
		if f38_local0 and 0 < #f38_local0 then
			break
		end
	end
	return f38_local0
end

local f0_local13 = function ( f37_arg0, f37_arg1 )
	if not f37_arg0 or not f37_arg1 then
		return false
	elseif #f37_arg0 ~= #f37_arg1 then
		return false
	end
	for f37_local3, f37_local4 in ipairs( f37_arg0 ) do
		if f37_local4.id ~= f37_arg1[f37_local3].id then
			return false
		end
	end
	return true
end

LUI.UIRoot.SubscribeToAllTouchEvents = function ( f35_arg0, f35_arg1, f35_arg2 )
	if f35_arg0._allTouchEvents == nil then
		f35_arg0._allTouchEvents = {}
	end
	f35_arg0._allTouchEvents[f35_arg1] = f35_arg2
	f35_arg1:addEventHandler( "on_close", function ()
		f35_arg0._allTouchEvents[f35_arg0] = nil
	end )
end

LUI.UIRoot.ProcessTouchEvent = function ( f34_arg0, f34_arg1 )
	local f34_local0 = {}
	if f34_arg0.toastManager then
		table.insert( f34_local0, f34_arg0.toastManager )
	end
	if f34_arg0.MobileWaitTimeLayer and f34_arg0.MobileWaitTimeLayer:ShouldBeVisible() then
		table.insert( f34_local0, f34_arg0.MobileWaitTimeLayer )
	end
	if CONDITIONS.IsMobileOrMobileSim() and f34_arg0.mouseCursorTooltipLayer then
		table.insert( f34_local0, f34_arg0.mouseCursorTooltipLayer )
	end
	if f34_arg0.MobileFTUELayer and f34_arg0.MobileFTUELayer:ShouldBeVisible() then
		table.insert( f34_local0, f34_arg0.MobileFTUELayer )
	end
	if AnyActiveMenusInStack( f34_arg0 ) then
		local f34_local1 = table.insert
		local f34_local2 = f34_local0
		local f34_local3 = f34_arg0.flowManager:GetTopMostOpenMenuInfo()
		f34_local1( f34_local2, f34_local3.menu )
	end
	if f34_arg0.scoreboardLayer then
		table.insert( f34_local0, f34_arg0.scoreboardLayer )
	end
	if f34_arg0.hudManager and Dvar[0x9E5BE3B4BBA4E0E]( 0xD7862EAA83B3B27 ) then
		table.insert( f34_local0, f34_arg0.hudManager )
	end
	if f34_arg0.radialMenuLayer then
		table.insert( f34_local0, f34_arg0.radialMenuLayer )
	end
	if f34_arg0.inventoryLayer and f34_arg0.inventoryLayer:IsShowingInventory() and Dvar[0x9E5BE3B4BBA4E0E]( 0x65BF2F3CA428A8D ) then
		table.insert( f34_local0, f34_arg0.inventoryLayer )
	end
	if f34_arg0.touchVirtualGamepadLayer then
		table.insert( f34_local0, f34_arg0.touchVirtualGamepadLayer )
	end
	if f34_arg0.mobileUIDevLayer and f34_arg0.mobileUIDevLayer:ShouldBeVisible() then
		table.insert( f34_local0, f34_arg0.mobileUIDevLayer )
	end
	if f34_arg0.mobileSocialBarLayer and f34_arg0.mobileSocialBarLayer:ShouldBeVisible() then
		table.insert( f34_local0, f34_arg0.mobileSocialBarLayer )
	end
	if Engine[0x2DA54CF5D6B7F02]() then
		if f34_arg1.name == "touchbegin" then
			DebugTouch.TouchPointBegin( f34_arg0, f34_arg1 )
		elseif f34_arg1.name == "touchmove" then
			DebugTouch.TouchPointMove( f34_arg0, f34_arg1 )
		elseif f34_arg1.name == "touchend" then
			DebugTouch.TouchPointEnd( f34_arg0, f34_arg1 )
		end
	end
	if f34_arg0._allTouchEvents then
		for f34_local3, f34_local5 in pairs( f34_arg0._allTouchEvents ) do
			if f34_local3 and f34_local5 then
				f34_local5( f34_local3, f34_arg1 )
			end
		end
	end
	local f34_local1 = f34_arg1.id
	local f34_local4 = nil
	if IsTouchGestureEvent( f34_arg1.name ) then
		local f34_local2 = true
		if f34_arg0.gestureFocusStack and f34_arg1.name == "gesturePinchZoom" and f34_arg0.prevGestureEvent == "gesturePinchZoom" then
			f34_local2 = false
		end
		if f34_local2 then
			f34_arg0.gestureFocusStack = f0_local0( f34_arg0, f34_arg1, f34_local0 )
		end
		f34_local4 = f34_arg0.gestureFocusStack
		if not f0_local0( f34_arg0.gestureFocusStack, f34_arg0.initialTouchStack[f34_local1] ) then
			f34_arg0.gestureFocusStack = nil
			return 
		end
		f34_arg0.prevGestureEvent = f34_arg1.name
	else
		if f34_arg1.name == "touchbegin" then
			f34_local4 = f0_local0( f34_arg0, f34_arg1, f34_local0 )
			f34_arg0.touchFocusElements[f34_local1] = f34_local4
			f34_arg0.initialTouchStack[f34_local1] = f34_local4
			f0_local0( f34_arg0, f34_local1 )
		else
			if f34_arg1.name == "touchend" then
				f34_arg0.gestureFocusStack = nil
				f34_arg0.initialTouchStack[f34_local1] = nil
			end
			f34_local4 = f34_arg0.touchFocusElements[f34_local1]
		end
		if f34_local4 == nil or #f34_local4 == 0 or not f34_local4[1]:getParent() then
			f34_arg0.touchFocusElements[f34_local1] = nil
			return 
		end
	end
	if f34_arg0.hudManager and f34_arg1.name == "touchend" and f34_arg0.hudManager:ShouldBeVisible() then
		local f34_local2 = LUI.HudManager.GetElementToNotifyOnOutsideClickOrTap( LUI.HudManager.GetInstance() )
		if f34_local2 then
			for f34_local7, f34_local8 in pairs( f34_local2 ) do
				if not LUI.UIElement.isDescendentOf( f34_local4[#f34_local4], f34_local7 ) then
					f34_local7:processEvent( {
						name = "outsideClick"
					} )
				end
			end
		end
	end
	f0_local0( f34_arg0, f34_arg1, LUI.ShallowCopy( f34_local4 ) )
	if f34_arg1.name == "touchend" then
		f34_arg0.touchFocusElements[f34_local1] = nil
	end
end

LUI.UIRoot.ClearFocusStack = function ( f33_arg0 )
	f33_arg0:ClearMouseFocusStack()
	f33_arg0:ClearTouchFocusStack()
end

LUI.UIRoot.ClearMouseFocusStack = function ( f32_arg0 )
	f32_arg0.lockedMouseFocusStack = false
	f32_arg0.mouseFocusStack = {}
	if f32_arg0.cursor and f32_arg0.cursor._controllerIndex then
		LUI.UIMouseCursor.UpdateMouseCursor( nil, f32_arg0.cursor._controllerIndex )
	end
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain()
		LUI.FocusDebug.EndFocusChain()
	end
end

LUI.UIRoot.ClearTouchFocusStack = function ( f31_arg0 )
	f31_arg0.touchFocusElements = {}
end

LUI.UIRoot.UpdatePublisherVariables = function ( f30_arg0, f30_arg1 )
	if f30_arg0.flowManager then
		f30_arg0.flowManager:processEvent( {
			name = "update_publisher_variables"
		} )
		f30_arg0:PostPubVarUpdateFunc()
	end
	return true
end

LUI.UIRoot.PostPubVarUpdateFunc = function ( f29_arg0 )
	if CONDITIONS.IsCIABuildEnabled() then
		Dvar[0x8EA06EEDB58D872]( 0x4F74CEB67644978, false )
		Dvar[0x8EA06EEDB58D872]( 0x440D8B63386F861, false )
		Dvar[0x8EA06EEDB58D872]( 0x21CA8849A01319F, false )
	end
end

LUI.UIRoot.AddLayer = function ( f28_arg0, f28_arg1, f28_arg2 )
	assert( f28_arg1.id )
	assert( f28_arg1.InitLayer )
	assert( f28_arg1.ShouldBeVisible )
	assert( f28_arg1.ClearLayer )
	table.insert( f28_arg0.layers, f28_arg1 )
	local f28_local0
	if not f28_arg2 then
		f28_local0 = f28_arg2
	else
		f28_local0 = {}
	end
	f28_arg1.options = f28_local0
	if f28_arg1.options.exclusive then
		assert( f28_arg1.options.priority )
	end
	f28_arg1.layerEnabled = false
	if not CONDITIONS.IsEdgeToEdgeDisplay() then
		f28_local0 = _720 * 16 / 18
		f28_arg1:SetAnchorsAndPosition( 0.5, 0.5, 0, 0, -f28_local0, f28_local0, 0, 0 )
	else
		f28_local0 = f28_arg1.options.useMobileSafeAreaPadding and LUI.MobileSafeAreaPaddingFixed or 0
		f28_arg1:SetAnchorsAndPosition( 0, 0, 0, 0, f28_local0, -f28_local0, 0, 0 )
	end
	f28_arg0:addElement( f28_arg1 )
	return f28_arg1
end

LUI.UIRoot.UpdateLayers = function ( f27_arg0 )
	Engine[0xD344B7DE66AFA81]( "LUI.UIRoot.UpdateLayers" )
	local f27_local0 = nil
	for f27_local4, f27_local5 in pairs( f27_arg0.layers ) do
		if f27_local5.options.exclusive and f27_local5:ShouldBeVisible() and (f27_local0 == nil or f27_local0.options.priority < f27_local5.options.priority) then
			f27_local0 = f27_local5
		end
	end
	f27_local1 = {}
	f27_local2 = {}
	for f27_local7, f27_local8 in pairs( f27_arg0.layers ) do
		local f27_local6
		if f27_local0 == nil then
			f27_local6 = f27_local8:ShouldBeVisible()
			if not f27_local6 then
			
			elseif f27_local8.layerEnabled ~= f27_local6 then
				if not f27_local6 then
					table.insert( f27_local1, f27_local8 )
				else
					table.insert( f27_local2, f27_local8 )
				end
			end
		end
		f27_local6 = f27_local0 == f27_local8
	end
	for f27_local7, f27_local8 in pairs( f27_local1 ) do
		f27_local8:ClearLayer()
		f27_local8.layerEnabled = false
	end
	for f27_local7, f27_local8 in pairs( f27_local2 ) do
		f27_local8:InitLayer()
		f27_local8.layerEnabled = true
	end
	for f27_local7, f27_local8 in pairs( f27_arg0.layers ) do
		if f27_local8.layerEnabled and f27_local8.Frame then
			f27_local8:Frame()
		end
	end
	Engine[0xC99CAB76F12E539]()
end

LUI.UIRoot.HandleErrors = function ( f26_arg0 )
	Engine[0xD344B7DE66AFA81]( "LUI.UIRoot.HandleErrors" )
	local f26_local0 = Dvar[0x54084D7CA2317BB]( 0xC7FD770960649E9 )
	if f26_local0 and 0 < #f26_local0 and not Dvar[0x9E5BE3B4BBA4E0E]( 0x1BF06A0535A9B8A ) then
		if Engine[0x5575DCFF312365A]() and Engine[0xD87B38D9E227ECC]() then
			
		elseif CONDITIONS.IsTrialLicense() and Dvar[0x9E5BE3B4BBA4E0E]( 0xD75AA73DC46F44A ) then
			LUI.FlowManager.RequestPopupMenu( nil, "ShowUpsellDialogPopup", true, f26_arg0._controllerIndex, false, {
				controllerIndex = f26_arg0._controllerIndex
			} )
		elseif not LUI.FlowManager.IsInStack( "error_popmenu" ) then
			DebugPrint( "ERROR: " .. tostring( f26_local0 ) .. ", length: " .. tostring( #f26_local0 ) )
			LUI.FlowManager.RequestPopupMenu( nil, "error_popmenu", nil, f26_arg0._controllerIndex, false, nil, nil, true )
		end
	end
	if Engine[0x2DA54CF5D6B7F02]() and not Engine[0x7AE6126734FCDB]() and not Engine[0x74423E76DECE3E4]() then
		local f26_local1 = Engine[0x8D21D8DCA457A86]()
		if f26_local1 and 0 < f26_local1 and not LUI.FlowManager.IsInStack( "error_popmenu" ) and not LUI.FlowManager.IsInStack( "LoadErrorPopup" ) then
			LUI.FlowManager.RequestPopupMenu( nil, "LoadErrorPopup" )
		end
	end
	f26_arg0:HandleMissingControllers()
	f26_arg0:ConnectionPopups( f26_arg0 )
	local f26_local1 = Engine[0x709213536E7C42A]()
	local f26_local2 = LUI.FlowManager.IsInStack( "WaitingForTransientsPopMenu" )
	if f26_local1 and not f26_local2 then
		LUI.FlowManager.RequestPopupMenu( nil, "WaitingForTransientsPopMenu", false, nil, false, {}, nil, true )
	elseif f26_local2 and not f26_local1 then
		LUI.FlowManager.RequestLeaveMenuByName( "WaitingForTransientsPopMenu", true )
	end
	Engine[0xC99CAB76F12E539]()
end

local f0_local14 = function ( f25_arg0, f25_arg1, f25_arg2 )
	if CONDITIONS.IsDMZGametype() and not Engine[0x12586A3F4FB490E]() then
		for f25_local3, f25_local4 in ipairs( DMZ.GetActivePMCMissions( f25_arg1 ) ) do
			if f25_arg2 == nil or f25_arg2 == f25_local4 then
				DMZ.UpdateActivePMCMissionProgress( f25_arg0, f25_arg1, f25_local3 - 1 )
			end
		end
	end
end

LUI.UIRoot.HandleMissingControllers = function ( f24_arg0 )
	if Engine[0xE1F9074C0D53A40]() then
		return 
	end
	local f24_local0 = f24_arg0._controllerIndex
	if not f24_local0 then
		f24_local0 = Engine[0x45B054C920178E9]()
	end
	local f24_local1 = LUI.IsGameInputMethodGamepad( f24_local0 )
	local f24_local2 = LUI.FlowManager.IsInStack( "controllerremoved_popmenu" )
	local f24_local3 = LUI.FlowManager.IsInStack( "keyboardremoved_inputswap_popup" )
	local f24_local4 = LUI.FlowManager.IsInStack( "controllerremoved_inputswap_popup" )
	local f24_local5 = MenuUtils.CanShowConnectionPopups()
	local f24_local6 = not f24_arg0.keyboardConnected
	local f24_local7 = not f24_arg0.gamepadConnected
	if f24_local5 and not f24_local2 and not f24_local3 and not f24_local4 then
		local f24_local8 = nil
		if f24_local6 and not f24_local1 then
			if not f24_local3 then
				f24_local8 = "keyboardremoved_inputswap_popup"
			end
		elseif f24_local7 and f24_local1 then
			if not f24_arg0.keyboardConnected and not f24_local2 then
				f24_local8 = "controllerremoved_popmenu"
			elseif not f24_local4 then
				f24_local8 = "controllerremoved_inputswap_popup"
			end
		end
		if f24_local8 then
			LUI.FlowManager.RequestPopupMenu( nil, f24_local8, false, f24_arg0._controllerIndex, false, {
				missingControllerIndex = f24_local0
			}, nil, true )
		end
	end
	if f24_local3 and (f24_arg0.keyboardConnected or not f24_local5 or f24_local1) then
		LUI.FlowManager.RequestLeaveMenuByName( "keyboardremoved_inputswap_popup", true )
	end
	if f24_local4 and (f24_arg0.gamepadConnected or not f24_local5 or not f24_local1) then
		LUI.FlowManager.RequestLeaveMenuByName( "controllerremoved_inputswap_popup", true )
	end
	if f24_local2 and (f24_arg0.gamepadConnected or not f24_local5 or not f24_local1) then
		LUI.FlowManager.RequestLeaveMenuByName( "controllerremoved_popmenu", true )
	end
end

LUI.UIRoot.Frame = function ( f23_arg0, f23_arg1 )
	Engine[0xD344B7DE66AFA81]( "LUI.UIRoot.Frame" )
	if not Engine[0x12586A3F4FB490E]() and Game[0xA988866C889EAAD]() and not f23_arg0._postInitializeUpdate then
		InitInGameDataSources()
		f0_local0( f23_arg0, f23_arg0:GetControllerIndex() )
		f23_arg0._postInitializeUpdate = true
	end
	f23_arg0:ProcessEvents()
	f23_arg0:UpdateLayers()
	URI.Frame()
	f23_arg0:ProcessInputs()
	f23_arg0:HandleErrors()
	if f23_arg0._oldNotifyInt ~= Dvar[0x22EAAB59AA27E9B]( 0xE1E5E3314213125 ) then
		f23_arg0._oldNotifyInt = Dvar[0x22EAAB59AA27E9B]( 0xE1E5E3314213125 )
		Engine[0x6055C55456F05DF]( "drop_item", f23_arg0._oldNotifyInt )
	end
	SOUNDS.UpdateLoopingSounds()
	Engine[0xC99CAB76F12E539]()
	return true
end

LUI.UIRoot.UpdateGameMode = function ( f22_arg0, f22_arg1 )
	CoD.UpdateGameMode( f22_arg1.currentGameMode, f22_arg1.previousGameMode )
	return true
end

LUI.UIRoot.NavigateToMenu = function ( f21_arg0, f21_arg1 )
	URI.Manager.QueueRequest( f21_arg1.uri )
	return true
end

LUI.UIRoot.PlayerDataAvailable = function ( f20_arg0, f20_arg1 )
	DebugPrint( "PlayerData is now available!  controller=" .. f20_arg1.controllerIndex .. ", statsSource=" .. f20_arg1.statsSource )
	MP_COMMON.ValidatePlayerData( f20_arg1.controllerIndex, f20_arg1.statsSource )
	return true
end

LUI.UIRoot.StartMatch = function ( f19_arg0, f19_arg1 )
	OnlineProgression[0x855FA3EEB7A15F3]( f19_arg1.controller )
	PROGRESSION.SaveAllWeaponsXPToDDL( f19_arg1.controller )
	if Engine[0x836C8AD984F14F6]() then
		InGameStore.ShowStoreIcon( false )
	end
	return true
end

LUI.UIRoot.ChallengesFetched = function ( f18_arg0, f18_arg1 )
	OnlineProgression[0x855FA3EEB7A15F3]( f18_arg1.controller )
	PROGRESSION.SaveAllWeaponsXPToDDL( f18_arg1.controller )
	return false
end

LUI.UIRoot.ChallengeCompleted = function ( f17_arg0, f17_arg1 )
	if PROGRESSION.IsWeaponProgressionChallenge( f17_arg1.kind, f17_arg1.id ) then
		PROGRESSION.SaveWeaponXPToDDL( f17_arg1.controller, f17_arg1.id )
	elseif f17_arg1.kind == AEKinds.IW9_AE_KIND_MP_PROGRESSION.ID or f17_arg1.kind == AEKinds.IW9_AE_KIND_ELDER.ID then
		OnlineProgression[0x855FA3EEB7A15F3]( f17_arg1.controller )
	elseif PROGRESSION.IsPMCMissionInventoryChallenge( f17_arg1.kind, f17_arg1.id ) then
		f0_local0( f17_arg0, f17_arg0:GetControllerIndex(), tonumber( f17_arg1.id ) )
		DMZ.HackGivePMCRewards( f17_arg1.controller, f17_arg1.id )
	end
end

LUI.UIRoot.ChallengeUpdated = function ( f16_arg0, f16_arg1 )
	f0_local0( f16_arg0, f16_arg0:GetControllerIndex(), tonumber( f16_arg1.id ) )
end

LUI.UIRoot.ClanNotification = function ( f15_arg0, f15_arg1 )
	local f15_local0 = f15_arg1.options
	if f15_local0.genEventName == "clans_active_clan_change" then
		Challenge.SendClanMembershipEvent( f15_local0.controllerIndex, f15_local0.clanId )
	elseif f15_local0.genEventName == "clans_left_clan_active" then
		Engine[0x83EEB60522A30A9]( f15_local0.controllerIndex, ClanTagType.CUSTOM )
	end
end

LUI.UIRoot.OnlineFencesNotification = function ( f14_arg0, f14_arg1 )
	if f14_arg1.gamemode == CoD.PlayMode.Core then
		local f14_local0 = f14_arg1.controller
		Challenge.SendLoginEvent( f14_local0 )
		Challenge.SendClanMembershipEvent( f14_local0 )
	end
end

LUI.UIRoot.UpdateInputType = function ( f13_arg0, f13_arg1, f13_arg2 )
	f13_arg0:UpdateInputConnected()
	if not Engine[0x5EE05AD994388B6]() then
		return 
	else
		f13_arg0.lastInputType = f13_arg2
		f13_arg0:processEvent( {
			name = "update_input_type",
			controllerIndex = f13_arg1
		} )
	end
end

LUI.UIRoot.UpdateInputConnected = function ( f12_arg0 )
	local f12_local0 = f12_arg0.flowManager
	if f12_local0 then
		f12_local0 = f12_arg0.flowManager:GetTopMostOpenMenuInfo()
	end
	local f12_local1
	if f12_local0 then
		f12_local1 = f12_local0
	else
		f12_local1 = f12_local0.isControllerExclusive and f12_local0.controller
	end
	local f12_local2
	if not f12_local1 then
		f12_local2 = f12_local1
	else
		f12_local2 = f12_arg0._controllerIndex
		if not f12_local2 then
			f12_local2 = Engine[0x45B054C920178E9]()
		end
	end
	local f12_local3 = OPTIONS.IsGamepadConnected( f12_local2 )
	local f12_local4 = Engine[0x741C985ADA0608B]( f12_local2 )
	if f12_arg0.keyboardConnected ~= f12_local4 then
		local f12_local5 = Engine[0xE1F9074C0D53A40]()
		if not f12_local5 and not f12_arg0.systemUiOpened then
			f12_arg0.keyboardConnected = f12_local4
			f12_arg0.connectionChanged = true
			f12_arg0:dispatchEventToChildren( {
				name = "input_connection",
				controllerIndex = f12_local2
			} )
		elseif f12_local5 then
			f12_arg0.systemUiOpened = true
		else
			f12_arg0.systemUiOpened = false
		end
	elseif f12_arg0.gamepadConnected ~= f12_local3 then
		f12_arg0.gamepadConnected = f12_local3
		f12_arg0.connectionChanged = true
		f12_arg0:dispatchEventToChildren( {
			name = "input_connection",
			controllerIndex = f12_local2
		} )
	end
end

LUI.UIRoot.ConnectionPopups = function ( f11_arg0 )
	local f11_local0 = f11_arg0._controllerIndex
	if not f11_local0 then
		f11_local0 = Engine[0x45B054C920178E9]()
	end
	if f11_local0 == nil then
		return 
	end
	local f11_local1 = Engine[0xFE7FC34A521E817]( f11_local0 )
	local f11_local2 = f11_local1 == Enum[0xBE2AEDCA764E49A][0xD15B33F9D01BDA8]
	local f11_local3 = f11_local1 == Enum[0xBE2AEDCA764E49A][0xF2521E290692D68]
	if not (not f11_arg0.connectionChanged and (not f11_local2 or f11_arg0.gamepadConnected)) or f11_local3 and not f11_arg0.keyboardConnected then
		local f11_local4 = LUI.FlowManager.IsInStack( "keyboardremoved_inputswap_popup" )
		local f11_local5 = LUI.FlowManager.IsInStack( "controllerremoved_inputswap_popup" )
		local f11_local6 = MenuUtils.CanShowConnectionPopups()
		local f11_local7
		if not f11_arg0.keyboardConnected then
			f11_local7 = f11_arg0.gamepadConnected
		else
			f11_local7 = false
		end
		local f11_local8
		if not f11_arg0.gamepadConnected then
			f11_local8 = f11_arg0.keyboardConnected
		else
			f11_local8 = false
		end
		if f11_local7 and f11_local3 then
			if not f11_local4 and f11_local6 then
				LUI.FlowManager.RequestPopupMenu( nil, "keyboardremoved_inputswap_popup" )
			end
		elseif f11_local8 and f11_local2 then
			if not f11_local5 and f11_local6 then
				LUI.FlowManager.RequestPopupMenu( nil, "controllerremoved_inputswap_popup" )
			end
		else
			f11_arg0.connectionChanged = false
		end
		if f11_local4 and (f11_arg0.keyboardConnected or not f11_local6) then
			LUI.FlowManager.RequestLeaveMenuByName( "keyboardremoved_inputswap_popup", true )
		elseif f11_local5 and (f11_arg0.gamepadConnected or not f11_local6) then
			LUI.FlowManager.RequestLeaveMenuByName( "controllerremoved_inputswap_popup", true )
		end
	end
end

LUI.UIRoot.SetLuiLayerKeycatch = function ( f10_arg0, f10_arg1, f10_arg2 )
	local f10_local0 = Engine[0xEE6F69FEA944B13]()
	if not f10_local0 then
		return 
	end
	DebugPrint( "Element " .. tostring( f10_arg0.id ) .. "calling SetLuiLayerKeycatch, set value: " .. tostring( f10_arg2 ) .. "\n" )
	if f10_local0.layerLUIKeycatch[f10_arg1] == nil then
		f10_local0.layerLUIKeycatch[f10_arg1] = {}
	end
	local f10_local1 = f10_local0.layerLUIKeycatch[f10_arg1]
	if f10_arg2 then
		local f10_local2 = false
		for f10_local6, f10_local7 in pairs( f10_local1 ) do
			if 0 < f10_local7 then
				f10_local2 = true
				break
			end
		end
		f10_local1[f10_arg0.id] = f10_local1[f10_arg0.id] and f10_local1[f10_arg0.id] + 1 or 1
		if not f10_local2 then
			Engine[0xB6C9C9D8AD5A171]( f10_arg1, f10_arg2 )
			f10_local0:TryAddMouseCursor( "layerKeyCatch" )
		end
	elseif f10_local1[f10_arg0.id] then
		local f10_local2 = f10_arg0.id
		local f10_local3 = f10_local1[f10_arg0.id]
		if f10_local3 then
			f10_local3 = f10_local1[f10_arg0.id] - 1
		end
		f10_local1[f10_local2] = f10_local3
		if 0 < f10_local1[f10_arg0.id] then
			return 
		end
		f10_local1[f10_arg0.id] = nil
		f10_local2 = true
		for f10_local6, f10_local7 in pairs( f10_local1 ) do
			if 0 < f10_local7 then
				f10_local2 = false
				break
			end
		end
		if f10_local2 then
			Engine[0xB6C9C9D8AD5A171]( f10_arg1, f10_arg2 )
			f10_local0:RemoveMouseCursor( "layerKeyCatch" )
		end
	end
end

LUI.UIRoot.init = function ( f9_arg0, f9_arg1, f9_arg2 )
	LUI.UIRoot.super.init( f9_arg0 )
	f9_arg0:SetAnchors( 0.5, 0.5, 0.5, 0.5 )
	local f9_local0
	if not f9_arg1 then
		f9_local0 = f9_arg1
	else
		f9_local0 = Engine[0x45B054C920178E9]()
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x81342D00D7AC492 ) then
		THEMES.ApplyDebugTheme()
	else
		local f9_local1 = Dvar[0x54084D7CA2317BB]( 0x202F1441CDEF85E ) or ""
		if THEMES[f9_local1] then
			THEMES.ApplyTheme( THEMES[f9_local1] )
		end
	end
	f9_arg0._flagCursor = {
		layerKeyCatch = false,
		base = false
	}
	f9_arg0.id = "LUIRoot"
	f9_arg0.isaroot = true
	f9_arg0._controllerIndex = f9_local0
	f9_arg0.name = f9_arg2
	f9_arg0.layers = {}
	f9_arg0.eventQueue = {}
	f9_arg0.inputQueue = {}
	f9_arg0.lastInputType = Engine[0x363C9B5AE5CC5ED]( f9_local0 )
	f9_arg0.layerLUIKeycatch = {}
	f9_arg0.keyboardConnected = Engine[0x741C985ADA0608B]( f9_local0 )
	f9_arg0.gamepadConnected = OPTIONS.IsGamepadConnected( f9_local0 )
	f9_arg0.systemUiOpened = false
	f9_arg0.connectionChanged = false
	f9_arg0.mouseFocusStack = {}
	f9_arg0.lockedMouseFocusStack = false
	f9_arg0.touchFocusElements = {}
	f9_arg0.initialTouchStack = {}
	f9_arg0.debugPrintIgnoreEvents = {
		mousemove = true,
		gamepad_sticks = true,
		process_events = true
	}
	Engine[0x95B08DBB27E217B]( f9_local0, false )
	Dvar[0x8EA06EEDB58D872]( 0x568C49B63465283, CONDITIONS.IsBrFFAMatch() )
	LUI.roots[f9_arg2] = f9_arg0
	if LUI.primaryRoot == nil then
		LUI.primaryRoot = f9_arg0
	end
	f9_arg0.processEvent = LUI.UIRoot.ProcessEvent
	f9_arg0:registerEventHandler( "run_frame", LUI.UIRoot.Frame )
	f9_arg0:registerEventHandler( "update_game_mode", LUI.UIRoot.UpdateGameMode )
	f9_arg0:registerEventHandler( "update_publisher_variables", LUI.UIRoot.UpdatePublisherVariables )
	f9_arg0:addEventHandler( "empty_menu_stack", LUI.UIRoot.ClearFocusStack )
	f9_arg0:registerEventHandler( "playerdata_available", LUI.UIRoot.PlayerDataAvailable )
	f9_arg0:registerEventHandler( "start_match", LUI.UIRoot.StartMatch )
	f9_arg0:registerEventHandler( "challenges_fetched", LUI.UIRoot.ChallengesFetched )
	f9_arg0:registerEventHandler( "completed_challenge", LUI.UIRoot.ChallengeCompleted )
	f9_arg0:registerEventHandler( "updated_challenge", LUI.UIRoot.ChallengeUpdated )
	f9_arg0:registerEventHandler( "online_data_fences_passed", LUI.UIRoot.OnlineFencesNotification )
	f9_arg0:registerEventHandler( "navigate_to_menu_uri", LUI.UIRoot.NavigateToMenu )
	f9_arg0._postInitializeUpdate = false
	if f9_arg2 == "UIRootFull" then
		if Engine[0x12586A3F4FB490E]() then
			LUI.UIRoot.CreateAndSubscribeToMouseModel( f9_arg0, f9_local0 )
			LUI.UIRoot.CreateAndSubscribeToInputTypeModel( f9_arg0, f9_local0 )
		end
	else
		LUI.UIRoot.CreateAndSubscribeToMouseModel( f9_arg0, f9_local0 )
		LUI.UIRoot.CreateAndSubscribeToInputTypeModel( f9_arg0, f9_local0 )
	end
	if UIDebugOverlayUtils and f9_arg0 == LUI.primaryRoot then
		f9_arg0:registerEventHandler( "debug_overlay_frame", UIDebugOverlayUtils.FrameEvent )
	end
	f9_arg0.eventCatcher = EventCatcher.new()
	f9_arg0.eventCatcher:setupRoot( f9_arg0 )
	local f9_local1 = Engine[0x12586A3F4FB490E]()
	local f9_local2 = Engine[0x9258F49F515F97B]()
	local f9_local3 = Engine[0xCA085C21FCBD7CA]()
	local f9_local4 = Engine[0x575E9C5B9AAB6F4]()
	local f9_local5 = CONDITIONS.IsMobileOrMobileSim()
	local f9_local6 = Engine[0x2DA54CF5D6B7F02]()
	local f9_local7 = Engine[0x5575DCFF312365A]()
	local f9_local8 = Engine[0x9DD5167C6D720F1]()
	local f9_local9 = Engine[0xD151EC5B41223B5]()
	local f9_local10 = CDNI[0xE5E728E3949799D]()
	if not LUI.MobileSafeAreaPaddingFixed then
		if CoD.MobileUseHorizontalSafeArea() then
			LUI.MobileSafeAreaPaddingFixed = LUI.MOBILE_SAFEAREA_HORIZONTAL_PADDING
		else
			LUI.MobileSafeAreaPaddingFixed = 0
		end
	end
	if Engine[0x7AE6126734FCDB]() or f9_local10 then
		f9_arg0.flowManager = f9_arg0:AddLayer( LUI.FlowManager.new( f9_arg0, f9_local0 ) )
		f9_arg0.fadeFrameLayer = f9_arg0:AddLayer( LUI.AspectRatioFadeFrameLayer.new( f9_arg0._controllerIndex ) )
		if f9_local10 then
			f9_arg0.mouseCursorContextualMenuLayer = f9_arg0:AddLayer( LUI.MouseCursorContextualMenuLayer.new( {
				controllerIndex = f9_local0
			} ) )
		end
		f9_arg0.debugLayer = f9_arg0:AddLayer( LUI.DebugLayer.new( {
			controllerIndex = f9_local0
		} ) )
		if f9_local6 then
			f9_arg0.prototypeLayer = f9_arg0:AddLayer( LUI.PrototypeLayer.new( {
				controllerIndex = f9_local0
			} ) )
		end
		return 
	end
	f9_arg0:registerEventHandler( "clans_notification", LUI.UIRoot.ClanNotification )
	f9_arg0.fadeManager = f9_arg0:AddLayer( LUI.FadeManager.new( f9_arg0._controllerIndex ) )
	if f9_local4 and f9_local2 and not f9_local1 and not f9_local3 and not IsCodcaster() and Dvar[0x9E5BE3B4BBA4E0E]( 0x440D8B63386F861 ) then
		f9_arg0.BenchmarkLayer = f9_arg0:AddLayer( LUI.BenchmarkLayer.new( f9_arg0._controllerIndex ) )
	end
	if not f9_local1 then
		f9_arg0.inWorldManager = f9_arg0:AddLayer( LUI.InWorldManager.new( f9_arg0._controllerIndex ) )
		if f9_local2 then
			f9_arg0.radialMenuLayer = f9_arg0:AddLayer( LUI.RadialMenuLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
		end
		f9_arg0.hudManager = f9_arg0:AddLayer( LUI.HudManager.new( {
			root = f9_arg0
		} ) )
		if Dvar[0x9E5BE3B4BBA4E0E]( 0xD7862EAA83B3B27 ) then
			f9_arg0.touchVirtualGamepadLayer = f9_arg0:AddLayer( LUI.TouchVirtualGamepadLayer.new( {
				root = f9_arg0
			} ) )
		end
		f9_arg0.scriptedWidgetLayer = f9_arg0:AddLayer( LUI.ScriptedWidgetLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
		if f9_local2 then
			local f9_local11 = Dvar[0x54084D7CA2317BB]( 0x65E9A96EB2FF62B )
			if f9_local9 and IsCodcaster() then
				if f9_local11 ~= "br" then
					f9_arg0.codcasterLayer = f9_arg0:AddLayer( LUI.CodcasterLayer.new( f9_arg0._controllerIndex ), {
						exclusive = false
					} )
				else
					f9_arg0.codcasterLayer = f9_arg0:AddLayer( LUI.BRCodcasterLayer.new( f9_arg0._controllerIndex ), {
						exclusive = false
					} )
				end
			end
			f9_arg0.reportPlayerLayer = f9_arg0:AddLayer( LUI.ReportPlayerLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
			f9_arg0.loadingScreenManager = f9_arg0:AddLayer( LUI.LoadingScreenManager.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
			if CONDITIONS.UseSpawnSelection() and not CONDITIONS.IsThirdGameMode() then
				f9_arg0.tacOpsLayer = f9_arg0:AddLayer( LUI.TacOpsLayer.new( f9_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
			f9_arg0.postGameManager = f9_arg0:AddLayer( LUI.PostGameManager.new( f9_arg0._controllerIndex ), {
				priority = f0_local0.POST_GAME
			} )
			if f9_local11 == "br" and not IsCodcaster() then
				f9_arg0.squadEliminatedLayer = f9_arg0:AddLayer( LUI.SquadEliminatedLayer.new( f9_arg0._controllerIndex ), {
					exclusive = false
				} )
				if not Dvar[0x9E5BE3B4BBA4E0E]( 0x50E336E6FB99E84 ) then
					if f9_local5 then
						if Dvar[0x9E5BE3B4BBA4E0E]( 0x65BF2F3CA428A8D ) then
							f9_arg0.inventoryLayer = f9_arg0:AddLayer( LUI.MobileInventoryLayer.new( f9_arg0._controllerIndex ), {
								exclusive = false
							} )
						end
					else
						f9_arg0.inventoryLayer = f9_arg0:AddLayer( LUI.InventoryLayer.new( f9_arg0._controllerIndex ), {
							exclusive = false
						} )
					end
				end
				if CONDITIONS.IsBRTutorialMap() or CONDITIONS.IsBMTutorialMap() then
					f9_arg0.brTutorialEndGameFlowLayer = f9_arg0:AddLayer( LUI.BRTutorialEndGameFlowLayer.new( f9_arg0._controllerIndex ), {
						exclusive = false
					} )
				end
			end
			f9_arg0.scoreboardLayer = f9_arg0:AddLayer( LUI.ScoreboardLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
			f9_arg0.hostMigrationManager = f9_arg0:AddLayer( LUI.HostMigrationManager.new(), {
				exclusive = true,
				priority = f0_local0.HOST_MIGRATION
			} )
			if f9_local6 then
				f9_arg0.gunsmithDebug = f9_arg0:AddLayer( LUI.GunsmithDebug.new( f9_arg0._controllerIndex ) )
			end
		end
		if Engine[0x74423E76DECE3E4]() then
			f9_arg0.binkSkipPromptLayer = f9_arg0:AddLayer( LUI.BinkSkipPromptLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
			f9_arg0.Snakecam = f9_arg0:AddLayer( LUI.Snakecam.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
		end
	end
	if not f9_local1 and f9_local2 and Dvar[0x54084D7CA2317BB]( 0x65E9A96EB2FF62B ) == "br" and not IsCodcaster() then
		f9_arg0.brTransitionManager = f9_arg0:AddLayer( LUI.BrTransitionManager.new( f9_arg0._controllerIndex ) )
	end
	f9_arg0.flowManager = f9_arg0:AddLayer( LUI.FlowManager.new( f9_arg0, f9_arg0._controllerIndex ), {
		useMobileSafeAreaPadding = true
	} )
	f9_arg0.URIManager = f9_arg0:AddLayer( URI.Manager.new( f9_arg0._controllerIndex ) )
	if not CONDITIONS.IsThirdGameMode() then
		f9_arg0.subtitlesLayer = f9_arg0:AddLayer( LUI.SubtitlesLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if Engine[0x1DCFAFA7CE6F8D0]() and not f9_local1 then
		f9_arg0.ps4LightbarManager = f9_arg0:AddLayer( LUI.PS4LightbarManager.new( f9_arg0._controllerIndex ) )
	end
	if f9_local2 and not f9_local1 then
		f9_arg0.UIButtonCombinationLayer = f9_arg0:AddLayer( LUI.UIButtonCombinationLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if Engine[0x74423E76DECE3E4]() and not f9_local1 then
		f9_arg0.SafeLayer = f9_arg0:AddLayer( LUI.SafeLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if Engine[0x74423E76DECE3E4]() and not f9_local1 then
		f9_arg0.radialMenuLayer = f9_arg0:AddLayer( LUI.RadialMenuLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
		if CONDITIONS.LevelHasCrafting() then
			f9_arg0.SPCraftingRadialMenuLayer = f9_arg0:AddLayer( LUI.SPCraftingRadialMenuLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
			f9_arg0.SPCraftingMenuLayer = f9_arg0:AddLayer( LUI.SPCraftingMenuLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
		end
		f9_arg0.SPCruiseMissileLayer = f9_arg0:AddLayer( LUI.SPCruiseMissileLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if f9_local3 and not f9_local1 and not GameX.IsSplitscreen() and Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_town" then
		f9_arg0.townIntro = f9_arg0:AddLayer( LUI.TownIntro.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if f9_local3 and not f9_local1 then
		if not CONDITIONS.IsWaveGameType() and not CONDITIONS.IsSpecOpsGameType() then
			f9_arg0.dpadPopupLayer = f9_arg0:AddLayer( LUI.DpadPopupLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
			f9_arg0.birdsEyeLayer = f9_arg0:AddLayer( LUI.BirdsEyeLayer.new( f9_arg0._controllerIndex ), {
				exclusive = false
			} )
			if Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_raid_complex" then
				f9_arg0.timedUseMeterLayer = f9_arg0:AddLayer( LUI.TimedUseMeterLayer.new( f9_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
		end
		if CONDITIONS.IsIncursionGameType() or CONDITIONS.IsMissionsGameType() then
			if not Dvar[0x9E5BE3B4BBA4E0E]( 0x50E336E6FB99E84 ) then
				f9_arg0.inventoryLayer = f9_arg0:AddLayer( LUI.InventoryLayer.new( f9_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
			if f9_arg0.dpadPopupLayer == nil and (Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_port02" or Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_raid1" or Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_raid1_maze" or Dvar[0x54084D7CA2317BB]( 0xF237DA69BB64EF6 ) == "cp_raid1_nums") then
				f9_arg0.dpadPopupLayer = f9_arg0:AddLayer( LUI.DpadPopupLayer.new( f9_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
		end
	end
	if not f9_local1 and CONDITIONS.ModeHasBackpack() then
		f9_arg0.inventoryLayer = f9_arg0:AddLayer( LUI.InventoryLayer.new( f9_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	local f9_local11 = CONDITIONS.IsTextChatEnabled( f9_arg0._controllerIndex )
	if f9_local11 then
		f9_local11 = Dvar[0x9E5BE3B4BBA4E0E]( 0x64EF49A9DA44DE7 )
	end
	local f9_local12
	if not f9_local7 and not f9_local8 and not f9_local1 and not f9_local2 and f9_local3 then
		f9_local12 = f9_local3
	elseif f9_local11 then
		f9_local12 = f9_local11
	else
		f9_local12 = not CONDITIONS.IsSplitscreen()
	end
	if f9_local12 then
		if not CONDITIONS.IsLaunchChunk() then
			if CONDITIONS.InFrontend() then
				f9_local12 = CONDITIONS.IsMobileTextChatEnabled()
			else
				f9_local12 = true
			end
		else
			f9_local12 = false
		end
	end
	if f9_local12 then
		f9_arg0.textChat = f9_arg0:AddLayer( LUI.TextChat.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if f9_local4 and not CONDITIONS.IsEdgeToEdgeDisplay() then
		f9_arg0.fadeFrameLayer = f9_arg0:AddLayer( LUI.AspectRatioFadeFrameLayer.new( f9_arg0._controllerIndex ) )
	end
	f9_arg0.uiFadeManager = f9_arg0:AddLayer( LUI.UIFadeManager.new( f9_arg0._controllerIndex ) )
	if f9_local1 then
		f9_arg0:addElement( MenuBuilder.BuildRegisteredType( "BuildAndServerText" ) )
	elseif f9_local9 and not IsSystemLink() and not BuiltInEsports[0x9894ED459E76619]() and not Dvar[0x9E5BE3B4BBA4E0E]( 0x6E36CFCF2CD7E51 ) and not Dvar[0x9E5BE3B4BBA4E0E]( 0x2B7DA075887F96F ) then
		f9_arg0:addElement( MenuBuilder.BuildRegisteredType( "MatchID" ) )
	end
	if f9_local4 or f9_local6 then
		local self = LUI.UIElement.new()
		self:SetupFPSCounter()
		self:SetAlignment( LUI.Alignment.Right )
		self:SetRGBFromTable( SWATCHES.genericButton.highlight, 0 )
		self:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -510, _1080p * -10, _1080p * 10, _1080p * 48 )
		self:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
		self:SetFontSize( 38 * _1080p )
		self:SetWordWrap( false )
		self.id = "FPSCounter"
		f9_arg0:addElement( self )
	end
	if f9_local6 then
		f9_arg0:addElement( MenuBuilder.BuildRegisteredType( "DataSourceDebug", {
			controllerIndex = f9_local0
		} ) )
	end
	if CONDITIONS.IsLaunchChunk() then
		f9_arg0.launchChunk = f9_arg0:AddLayer( LUI.LaunchChunkLayer.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if not f9_local5 then
		f9_arg0.telemetryLayer = f9_arg0:AddLayer( LUI.TelemetryLayer.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if f9_local4 then
		f9_arg0.achievementsManager = f9_arg0:AddLayer( LUI.AchievementsManager.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if CONDITIONS.ShowShaderPreloadBanner() then
		f9_arg0.shaderPreloadLayer = f9_arg0:AddLayer( LUI.ShaderPreloadLayer.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if CONDITIONS.MobileSocialBarCreateCondition() then
		f9_arg0.mobileSocialBarLayer = f9_arg0:AddLayer( LUI.MobileSocialBarLayer.new( {
			controllerIndex = f9_local0
		} ), {
			useMobileSafeAreaPadding = true
		} )
	end
	if CONDITIONS.MobileUIDevLayerCreateCondition() then
		f9_arg0.mobileUIDevLayer = f9_arg0:AddLayer( LUI.MobileUIDevLayer.new( {
			controllerIndex = f9_local0
		} ) )
	end
	f9_arg0.toastManager = f9_arg0:AddLayer( LUI.ToastManager.new( {
		controllerIndex = f9_local0
	} ) )
	if f9_local5 and (f9_local1 or CONDITIONS.IsBRGameType()) then
		if Dvar[0x9E5BE3B4BBA4E0E]( 0x5E3BE855B1B70A ) then
			f9_arg0.MobileWaitTimeLayer = f9_arg0:AddLayer( LUI.MobileWaitTimeLayer.new( f9_arg0._controllerIndex ) )
		end
		if CONDITIONS.IsFTUEMobileEnabled() then
			f9_arg0.MobileFTUELayer = f9_arg0:AddLayer( LUI.MobileFTUELayer.new( f9_arg0._controllerIndex ) )
		end
	end
	f9_arg0.mouseCursorTooltipLayer = f9_arg0:AddLayer( LUI.MouseCursorTooltipLayer.new( {
		controllerIndex = f9_local0
	} ) )
	f9_arg0.mouseCursorContextualMenuLayer = f9_arg0:AddLayer( LUI.MouseCursorContextualMenuLayer.new( {
		controllerIndex = f9_local0
	} ) )
	if f9_local1 then
		f9_arg0.webviewManager = f9_arg0:AddLayer( LUI.WebViewManager.new( {
			controllerIndex = f9_local0
		} ) )
		f9_arg0.webviewManager:PostInit()
	end
	if f9_local1 then
		f9_arg0.FrontendPresenceManager = f9_arg0:AddLayer( LUI.FrontendPresenceManager.new( {
			controllerIndex = f9_local0
		} ) )
	end
	if CONDITIONS.IsMobileMSWatermarkEnabled() and (f9_local1 or f9_local2) then
		if f9_local1 then
			DataSources.frontEnd.primaryPlayerUserName = LUI.DataSourceInGlobalModel.new( "frontend.primaryPlayerName" )
		end
		local self = MenuBuilder.BuildRegisteredType( "MobileMilestoneWatermark", {
			controllerIndex = f9_local0
		} )
		self:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
		f9_arg0:addElement( self )
	end
	f9_arg0.debugLayer = f9_arg0:AddLayer( LUI.DebugLayer.new( {
		controllerIndex = f9_local0
	} ) )
	if f9_local6 then
		f9_arg0.prototypeLayer = f9_arg0:AddLayer( LUI.PrototypeLayer.new( {
			controllerIndex = f9_local0
		} ) )
		RatLua.InitLui()
	end
	if f9_local1 then
		STREAMING.Init()
	end
end

LUI.UIRoot.ReloadChatForDebugOption = function ()
	if not Engine[0x2DA54CF5D6B7F02]() then
		return 
	end
	local f8_local0 = Engine[0xEE6F69FEA944B13]()
	if not f8_local0 then
		return 
	elseif f8_local0.textChat then
		f8_local0:RemoveElement( f8_local0.textChat )
		f8_local0.textChat = nil
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x4F6DECB7DC6092E ) then
		local f8_local1 = f8_local0
		local f8_local2 = f8_local0.AddLayer
		local f8_local3 = LUI.TextChat.new
		local f8_local4 = {}
		local f8_local5 = f8_local0._controllerIndex
		if not f8_local5 then
			f8_local5 = Engine[0x45B054C920178E9]()
		end
		f8_local4.controllerIndex = f8_local5
		f8_local0.textChat = f8_local2( f8_local1, f8_local3( f8_local4 ) )
	end
end

LUI.UIRoot.GetControllerIndex = function ( f7_arg0 )
	return f7_arg0._controllerIndex
end

LUI.UIRoot.GetRootFromName = function ( f6_arg0 )
	local f6_local0 = LUI.roots[f6_arg0]
	assert( f6_local0 )
	return f6_local0
end

LUI.UIRoot.GetRootForControllerIndex = function ( f5_arg0 )
	for f5_local3, f5_local4 in pairs( LUI.roots ) do
		if f5_local4._controllerIndex == f5_arg0 then
			return f5_local4
		end
	end
	assert( LUI.primaryRoot )
	return LUI.primaryRoot
end

local f0_local15 = nil
LUI.UIRoot.SetTabName = function ( f4_arg0 )
	local f4_local0
	if not f4_arg0 then
		f4_local0 = f4_arg0
	else
		f4_local0 = nil
	end
	f0_local0 = f4_local0
end

LUI.UIRoot.GetTabName = function ()
	return f0_local0
end

LUI.UIRoot.CreateNavigationHistory = function ( f2_arg0, f2_arg1 )
	local f2_local0 = LUI.UIRoot.GetRootForControllerIndex( f2_arg0 )
	local f2_local1 = {}
	if f2_local0 ~= nil then
		local f2_local2 = f2_local0.flowManager:GetStackTop()
		if f2_local2 ~= nil then
			f2_local2.tabName = f2_arg1
		end
		for f2_local7, f2_local8 in ipairs( f2_local0.flowManager.menuInfoStack ) do
			local f2_local6 = f2_local8.tabName
			if not f2_local6 then
				f2_local6 = f2_local8.name
			end
			f2_local1[f2_local7] = f2_local6
		end
	end
	return f2_local1
end

LUI.UIRoot.GetNavigationHistory = function ( f1_arg0 )
	local f1_local0 = LUI.UIRoot.GetRootForControllerIndex( f1_arg0 )
	local f1_local1 = {}
	if f1_local0 ~= nil then
		for f1_local5, f1_local6 in ipairs( f1_local0.flowManager.menuInfoStack ) do
			f1_local1[f1_local5] = f1_local6.tabName or f1_local6.name
		end
	end
	return f1_local1
end

