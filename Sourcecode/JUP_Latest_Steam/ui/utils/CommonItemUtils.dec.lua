-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
COMMON_ITEM = COMMON_ITEM or {}
COMMON_ITEM.ITEM_COUNT_BITS = 11
COMMON_ITEM.ITEM_COUNT_ALT_BITS = 6
COMMON_ITEM.ITEM_COUNT_RARITY_BITS = 3
COMMON_ITEM.MAX_ITEM_COUNT = BitwiseOperators.lshift( 1, COMMON_ITEM.ITEM_COUNT_BITS )
COMMON_ITEM.MAX_ITEM_COUNT_ALT = BitwiseOperators.lshift( 1, COMMON_ITEM.ITEM_COUNT_ALT_BITS )
COMMON_ITEM.MAX_ITEM_COUNT_RARITY = BitwiseOperators.lshift( 1, COMMON_ITEM.ITEM_COUNT_RARITY_BITS )
COMMON_ITEM.ITEM_COUNT_MASK = COMMON_ITEM.MAX_ITEM_COUNT - 1
COMMON_ITEM.ITEM_COUNT_ALT_MASK = COMMON_ITEM.MAX_ITEM_COUNT_ALT - 1
COMMON_ITEM.ITEM_COUNT_RARITY_MASK = COMMON_ITEM.MAX_ITEM_COUNT_RARITY - 1
COMMON_ITEM.ITEM_COUNT_RIGHT_SHIFT = 0
COMMON_ITEM.ITEM_COUNT_LEFT_SHIFT = COMMON_ITEM.ITEM_COUNT_BITS
COMMON_ITEM.ITEM_COUNT_ALT_SHIFT = COMMON_ITEM.ITEM_COUNT_BITS + COMMON_ITEM.ITEM_COUNT_BITS
COMMON_ITEM.ITEM_COUNT_RARITY_SHIFT = COMMON_ITEM.ITEM_COUNT_BITS + COMMON_ITEM.ITEM_COUNT_BITS + COMMON_ITEM.ITEM_COUNT_ALT_BITS
COMMON_ITEM.ItemSpawnEntryCachedData = {}
local f0_local0 = false
COMMON_ITEM.LoadItemSpawnEntryMaps = function ()
	local f21_local0 = GameType.GetItemZoneList()
	COMMON_ITEM.ItemSpawnEntryMapIDtoBundleName = {}
	COMMON_ITEM.ItemSpawnEntryMapBundleNameToID = {}
	COMMON_ITEM.ItemSpawnEntryMapScriptableToBundleName = {}
	COMMON_ITEM.ItemSpawnEntryMapBundleNameToScriptable = {}
	COMMON_ITEM.ItemSpawnEntryMapBaseWeaponToBundleName = {}
	COMMON_ITEM.ItemSpawnEntryMapBundleNameToBaseWeapon = {}
	COMMON_ITEM.ItemSpawnEntryMapIDtoWeaponRarityBundleNames = {}
	if f21_local0 ~= nil then
		COMMON_ITEM.AddZoneListItemsToMaps( f21_local0 )
	end
	local f21_local1 = Engine[0x6093D047200548]( 0xAE6B1F7EEE01C2 )
	if f21_local1 ~= nil then
		COMMON_ITEM.AddZoneListItemsToMaps( f21_local1 )
	end
	local f21_local2
	if f21_local0 == nil and f21_local1 == nil then
		f21_local2 = false
	else
		f21_local2 = true
	end
	f0_local0 = f21_local2
end

COMMON_ITEM.AddZoneListItemsToMaps = function ( f20_arg0 )
	if not String.IsNilOrEmpty( f20_arg0[0x7C632FCAAC1B70F] ) then
		local f20_local0 = Engine[0x6093D047200548]( 0xD0FBBE9CB5F4E2A .. f20_arg0[0x7C632FCAAC1B70F] )
		if f20_local0 then
			COMMON_ITEM.AddListEntriesToMaps( f20_local0 )
		end
	end
	if f20_arg0[0x1EB633EB96632DF] then
		for f20_local5, f20_local6 in ipairs( f20_arg0[0x1EB633EB96632DF] ) do
			local f20_local7 = f20_local6[0xE2A2FCFE3003C56]
			if f20_local7 then
				local f20_local3 = Engine[0x6093D047200548]( 0x8F311705369A1B1 .. f20_local7 )
				if f20_local3 and f20_local3[0x29E042DB93842A1] ~= nil then
					local f20_local4 = Engine[0x6093D047200548]( 0xD0FBBE9CB5F4E2A .. f20_local3[0x29E042DB93842A1] )
					if f20_local4 then
						COMMON_ITEM.AddListEntriesToMaps( f20_local4 )
					end
				end
			end
		end
	end
end

COMMON_ITEM.AddListEntriesToMaps = function ( f19_arg0 )
	if f19_arg0[0x34158C584FE2866] then
		for f19_local6, f19_local7 in ipairs( f19_arg0[0x34158C584FE2866] ) do
			if f19_local7[0x587321F369E7F3] then
				local f19_local3 = 0xE72F800F81A72EE .. f19_local7[0x587321F369E7F3]
				local f19_local4 = Engine[0x6093D047200548]( f19_local3 )
				if f19_local4 and f19_local4[0x69DBE0110E4D52E] ~= nil then
					COMMON_ITEM.ItemSpawnEntryMapScriptableToBundleName[f19_local4[0x69DBE0110E4D52E]] = f19_local3
					COMMON_ITEM.ItemSpawnEntryMapBundleNameToScriptable[f19_local3] = f19_local4[0x69DBE0110E4D52E]
				end
				if f19_local4 and f19_local4[0x9E9C01960F4C582] ~= nil then
					local f19_local5 = LOOT.GetItemIDFromRef( f19_local4[0x9E9C01960F4C582] )
					if f19_local5 ~= nil and f19_local5 ~= LOOT.emptyID then
						if f19_local4[0x9A3752DC7A3D626] ~= true then
							COMMON_ITEM.ItemSpawnEntryMapIDtoBundleName[f19_local5] = f19_local3
							COMMON_ITEM.ItemSpawnEntryMapBundleNameToID[f19_local3] = f19_local5
						end
						if f19_local4[0x79439EF7BFA9C2D] == "weapon" and f19_local4[0x3A56EF37819B0CA] then
							if not COMMON_ITEM.ItemSpawnEntryMapIDtoWeaponRarityBundleNames[f19_local5] then
								COMMON_ITEM.ItemSpawnEntryMapIDtoWeaponRarityBundleNames[f19_local5] = {}
							end
							COMMON_ITEM.ItemSpawnEntryMapIDtoWeaponRarityBundleNames[f19_local5][f19_local4[0x3A56EF37819B0CA]] = f19_local3
						end
					end
				end
				if f19_local4 and f19_local4[0x79439EF7BFA9C2D] == "weapon" and f19_local4[0x9A3752DC7A3D626] ~= true and f19_local4[0x5B41902194147EC] then
					COMMON_ITEM.ItemSpawnEntryMapBaseWeaponToBundleName[f19_local4[0x5B41902194147EC]] = f19_local3
					COMMON_ITEM.ItemSpawnEntryMapBundleNameToBaseWeapon[f19_local3] = f19_local4[0x5B41902194147EC]
				end
			end
		end
	end
	if f19_arg0[0x6D3DF599F4D6BCA] ~= nil then
		for f19_local6, f19_local7 in ipairs( f19_arg0[0x6D3DF599F4D6BCA] ) do
			local f19_local3 = f19_local7[0x29E042DB93842A1]
			if f19_local3 then
				local f19_local4 = Engine[0x6093D047200548]( 0xD0FBBE9CB5F4E2A .. f19_local3 )
				if f19_local4 then
					COMMON_ITEM.AddListEntriesToMaps( f19_local4 )
				end
			end
		end
	end
end

COMMON_ITEM.GetItemSpawnEntryByID = function ( f18_arg0 )
	if not f0_local0 then
		COMMON_ITEM.LoadItemSpawnEntryMaps()
	end
	if COMMON_ITEM.ItemSpawnEntryCachedData[f18_arg0] == nil then
		local f18_local0 = nil
		if f18_arg0 == LOOT.emptyID then
			f18_local0 = Engine[0x6093D047200548]( 0x7FA8980792286F2 )
		elseif COMMON_ITEM.ItemSpawnEntryMapIDtoBundleName[f18_arg0] ~= nil then
			f18_local0 = Engine[0x6093D047200548]( COMMON_ITEM.ItemSpawnEntryMapIDtoBundleName[f18_arg0] )
		else
			local f18_local1 = LOOT.GetItemRef( f18_arg0 )
			if f18_local1 then
				f18_local0 = f18_local1
			else
				f18_local0 = Engine[0x6093D047200548]( 0xE72F800F81A72EE .. f18_local1 )
			end
		end
		COMMON_ITEM.ItemSpawnEntryCachedData[f18_arg0] = f18_local0
	end
	return COMMON_ITEM.ItemSpawnEntryCachedData[f18_arg0]
end

COMMON_ITEM.GetItemSpawnEntryByScriptable = function ( f17_arg0 )
	if not f0_local0 then
		COMMON_ITEM.LoadItemSpawnEntryMaps()
	end
	local f17_local0 = COMMON_ITEM.ItemSpawnEntryMapScriptableToBundleName[f17_arg0]
	if COMMON_ITEM.ItemSpawnEntryCachedData[f17_arg0] == nil and f17_local0 ~= nil then
		COMMON_ITEM.ItemSpawnEntryCachedData[f17_arg0] = Engine[0x6093D047200548]( f17_local0 )
	end
	return COMMON_ITEM.ItemSpawnEntryCachedData[f17_arg0]
end

COMMON_ITEM.GetItemSpawnEntryNameByBaseWeapon = function ( f16_arg0 )
	if not f0_local0 then
		COMMON_ITEM.LoadItemSpawnEntryMaps()
	end
	if not f16_arg0 then
		return nil
	else
		return COMMON_ITEM.ItemSpawnEntryMapBaseWeaponToBundleName[f16_arg0]
	end
end

COMMON_ITEM.GetLootIDByBundleName = function ( f15_arg0 )
	if not f0_local0 then
		COMMON_ITEM.LoadItemSpawnEntryMaps()
	end
	if COMMON_ITEM.ItemSpawnEntryMapBundleNameToID[f15_arg0] == nil then
		local f15_local0 = Engine[0x6093D047200548]( f15_arg0 )
		local f15_local1
		if f15_local0 then
			f15_local1 = LOOT.GetItemIDFromRef( f15_local0[0x9E9C01960F4C582] )
			if not f15_local1 then
			
			else
				COMMON_ITEM.ItemSpawnEntryMapBundleNameToID[f15_arg0] = f15_local1
			end
		end
		f15_local1 = LOOT.emptyID
	end
	return COMMON_ITEM.ItemSpawnEntryMapBundleNameToID[f15_arg0]
end

COMMON_ITEM.GetItemSpawnEntryNameByID = function ( f14_arg0 )
	if not f14_arg0 then
		return 
	end
	local f14_local0 = COMMON_ITEM.GetItemSpawnEntryByID( f14_arg0 )
	local f14_local1
	if f14_local0 then
		f14_local1 = f14_local0
	else
		f14_local1 = f14_local0[0xB82C186D47BF884]
	end
	return f14_local1
end

COMMON_ITEM.GetItemSpawnEntryDescByID = function ( f13_arg0 )
	if not f13_arg0 then
		return 
	end
	local f13_local0 = COMMON_ITEM.GetItemSpawnEntryByID( f13_arg0 )
	local f13_local1
	if f13_local0 then
		f13_local1 = f13_local0
	else
		f13_local1 = f13_local0[0x7540284B1A6E149]
	end
	return f13_local1
end

COMMON_ITEM.GetItemSpawnEntryImageByID = function ( f12_arg0 )
	if not f12_arg0 then
		return 
	end
	local f12_local0 = COMMON_ITEM.GetItemSpawnEntryByID( f12_arg0 )
	local f12_local1
	if f12_local0 then
		f12_local1 = f12_local0
	else
		f12_local1 = f12_local0[0xBFF4CC56C2092F0]
	end
	return f12_local1
end

COMMON_ITEM.GetItemSpawnEntryRarityByID = function ( f11_arg0 )
	if not f11_arg0 then
		return 
	end
	local f11_local0 = COMMON_ITEM.GetItemSpawnEntryByID( f11_arg0 )
	local f11_local1
	if f11_local0 then
		f11_local1 = f11_local0
	else
		f11_local1 = f11_local0[0x3A56EF37819B0CA]
	end
	return f11_local1
end

COMMON_ITEM.GetItemSpawnEntryMaxCountByID = function ( f10_arg0 )
	if not f10_arg0 then
		return 
	end
	local f10_local0 = COMMON_ITEM.GetItemSpawnEntryByID( f10_arg0 )
	if not f10_local0 then
		return 
	elseif f10_local0[0x5A6FF448FFC0318] then
		return 1
	end
	local f10_local1 = f10_local0[0xA47EE62807D78E0]
	if not f10_local1 then
		f10_local1 = 0
	end
	return f10_local1
end

COMMON_ITEM.GetItemSpawnEntryMaxBackpackCountByID = function ( f9_arg0 )
	if not f9_arg0 then
		return 
	else
		local f9_local0 = COMMON_ITEM.GetItemSpawnEntryByID( f9_arg0 )
		if not f9_local0 then
			return 
		elseif f9_local0[0x5A6FF448FFC0318] then
			return 1
		elseif f9_local0[0x48A83371F53F3C] then
			return f9_local0[0x3F61E828D78AF76] or 0
		else
			return f9_local0[0xA47EE62807D78E0] or 0
		end
	end
end

COMMON_ITEM.GetItemSpawnEntryMaxLoadoutCountByID = function ( f8_arg0 )
	if not f8_arg0 then
		return 
	else
		local f8_local0 = COMMON_ITEM.GetItemSpawnEntryByID( f8_arg0 )
		if not f8_local0 then
			return 
		elseif f8_local0[0x5A6FF448FFC0318] then
			return 1
		elseif f8_local0[0x48A83371F53F3C] then
			return f8_local0[0x11A5688DCF33BF6] or 0
		else
			return f8_local0[0xA47EE62807D78E0] or 0
		end
	end
end

COMMON_ITEM.GetItemSpawnEntryTypeByID = function ( f7_arg0 )
	if not f7_arg0 then
		return 
	end
	local f7_local0 = COMMON_ITEM.GetItemSpawnEntryByID( f7_arg0 )
	local f7_local1
	if f7_local0 then
		f7_local1 = f7_local0
	else
		f7_local1 = f7_local0[0x79439EF7BFA9C2D]
	end
	return f7_local1
end

COMMON_ITEM.GetItemSpawnEntryTypeByScriptable = function ( f6_arg0 )
	if not f6_arg0 then
		return 
	end
	local f6_local0 = COMMON_ITEM.GetItemSpawnEntryByScriptable( f6_arg0 )
	local f6_local1
	if f6_local0 then
		f6_local1 = f6_local0
	else
		f6_local1 = f6_local0[0x79439EF7BFA9C2D]
	end
	return f6_local1
end

COMMON_ITEM.GetItemSpawnEntryRefByID = function ( f5_arg0 )
	if not f5_arg0 then
		return 
	else
		local f5_local0 = COMMON_ITEM.GetItemSpawnEntryByID( f5_arg0 )
		if not f5_local0 then
			return LOOT.GetItemRef( f5_arg0 )
		else
			return f5_local0[0x9E9C01960F4C582]
		end
	end
end

COMMON_ITEM.GetRarityDefBundleByID = function ( f4_arg0, f4_arg1 )
	if not f4_arg0 then
		return nil
	elseif f4_arg1 and f4_arg1 ~= 0 and LOOT.IsWeapon( f4_arg0 ) then
		local f4_local0 = COMMON_ITEM.ItemSpawnEntryMapIDtoWeaponRarityBundleNames[f4_arg0]
		if f4_local0 and f4_local0[f4_arg1] then
			local f4_local1 = Engine[0x6093D047200548]( f4_local0[f4_arg1] )
			if f4_local1 and f4_local1[0xA67E9BBDBE2B021] then
				return Engine[0x6093D047200548]( f4_local1[0xA67E9BBDBE2B021] )
			end
		end
	else
		local f4_local0 = COMMON_ITEM.GetItemSpawnEntryByID( f4_arg0 )
		if f4_local0 and f4_local0[0xA67E9BBDBE2B021] then
			return Engine[0x6093D047200548]( f4_local0[0xA67E9BBDBE2B021] )
		end
	end
	return nil
end

COMMON_ITEM.GetRarityDefBundleByScriptable = function ( f3_arg0 )
	if not f3_arg0 then
		return nil
	else
		local f3_local0 = COMMON_ITEM.GetItemSpawnEntryByScriptable( f3_arg0 )
		if f3_local0 and f3_local0[0xA67E9BBDBE2B021] then
			return Engine[0x6093D047200548]( f3_local0[0xA67E9BBDBE2B021] )
		else
			return nil
		end
	end
end

COMMON_ITEM.UnpackItemCounts = function ( f2_arg0 )
	if not f2_arg0 then
		return {}
	else
		return {
			count = BitwiseOperators.band( BitwiseOperators.rshift( f2_arg0, COMMON_ITEM.ITEM_COUNT_RIGHT_SHIFT ), COMMON_ITEM.ITEM_COUNT_MASK ),
			leftCount = BitwiseOperators.band( BitwiseOperators.rshift( f2_arg0, COMMON_ITEM.ITEM_COUNT_LEFT_SHIFT ), COMMON_ITEM.ITEM_COUNT_MASK ),
			altCount = BitwiseOperators.band( BitwiseOperators.rshift( f2_arg0, COMMON_ITEM.ITEM_COUNT_ALT_SHIFT ), COMMON_ITEM.ITEM_COUNT_ALT_MASK ),
			rarity = BitwiseOperators.band( BitwiseOperators.rshift( f2_arg0, COMMON_ITEM.ITEM_COUNT_RARITY_SHIFT ), COMMON_ITEM.ITEM_COUNT_RARITY_MASK )
		}
	end
end

COMMON_ITEM.IsCommonItemSystemSupportedLootType = function ( f1_arg0 )
	local f1_local0
	if f1_arg0 ~= LOOT.itemTypes.WEAPON and f1_arg0 ~= LOOT.itemTypes.EQUIPMENT and f1_arg0 ~= LOOT.itemTypes.CONSUMABLE and f1_arg0 ~= LOOT.itemTypes.SUPER and f1_arg0 ~= LOOT.itemTypes.ZMSUPER and f1_arg0 ~= LOOT.itemTypes.PERK and f1_arg0 ~= LOOT.itemTypes.STREAK and f1_arg0 ~= LOOT.itemTypes.AMMO then
		f1_local0 = false
	else
		f1_local0 = true
	end
	return f1_local0
end

