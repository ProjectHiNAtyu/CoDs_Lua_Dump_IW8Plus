-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:42
DYN_ATTACHMENT = DYN_ATTACHMENT or {}
DYN_ATTACHMENT.DynamicWidgetType = {
	SCOPEFORE = 11,
	SCOPE = 6,
	BARREL = 9,
	STOCK = 7,
	MUZZLE = 0,
	RECEIVER = 5,
	MAGAZINE = 4,
	SCOPEREAR = 12,
	GUARD = 3,
	LASER = 2,
	OTHER = 10,
	UNDERBARRELALT = 13,
	BIPOD = 14,
	UNDERBARREL = 1,
	FIRETYPE = 8
}
DYN_ATTACHMENT.DynamicAnimationType = {
	SINGLE_ELEMENT = 0,
	MULTIPLE_ELEMENT = 1
}
DYN_ATTACHMENT.DynamicUnderBarrelType = {
	BIPOD = 2,
	LAUNCHER = 1,
	GRIP = 0,
	BAYONET = 3
}
UNDERBARREL_LAUNCHER_SUFFIX = "GL"
UNDERBARREL_BIPOD_SUFFIX = "BI"
UNDERBARREL_BAYONET_SUFFIX = "BA"
DYN_ATTACHMENT.PISTOL_REF = "pi"
DYN_ATTACHMENT.MAX_VISIBLE_ATTACHMENTS = 8
DYN_ATTACHMENT.STREAMER_NAME = "DYN_Streamer"
DYN_ATTACHMENT.GetUnderBarrelType = function ( f32_arg0 )
	return tonumber( StringTable[0x2DCF0973239E909]( CSV.DynamicWeaponUnderBarrelSpecialTable.file, CSV.DynamicWeaponUnderBarrelSpecialTable.cols.ref, f32_arg0, CSV.DynamicWeaponUnderBarrelSpecialTable.cols.type ) )
end

local f0_local0 = function ( f31_arg0, f31_arg1, f31_arg2 )
	local f31_local0 = false
	if f31_arg1 and f31_arg2 then
		local f31_local1 = f31_arg0[f31_arg1].ref
		local f31_local2 = f31_arg0[f31_arg2].ref
		if (f31_local1 == "barshort_charlie725" or f31_local1 == "barcust_charlie725") and (f31_local2 == "guardcust_charlie725" or f31_local2 == "guard_charlie725") then
			f31_local0 = true
		end
	end
	if f31_local0 then
		f31_arg0[f31_arg2].icon = "icon_dyn_attachment_sh_charlie725_guard"
		f31_arg0[f31_arg2].ref = "guard_charlie725"
		f31_arg0[f31_arg2].variantID = 0
	end
end

DYN_ATTACHMENT.UpdateAttachmentTable = function ( f30_arg0 )
	local f30_local0 = DYN_ATTACHMENT.DynamicUnderBarrelType.GRIP
	local f30_local1, f30_local2 = nil
	for f30_local3 = 1, #f30_arg0, 1 do
		local f30_local6 = f30_arg0[f30_local3]
		local f30_local7 = f30_local6.type
		if f30_local7 == DYN_ATTACHMENT.DynamicWidgetType.UNDERBARREL or f30_local7 == DYN_ATTACHMENT.DynamicWidgetType.UNDERBARRELALT or f30_local7 == DYN_ATTACHMENT.DynamicWidgetType.BIPOD then
			f30_local0 = DYN_ATTACHMENT.GetUnderBarrelType( f30_local6.ref )
		end
		if f30_local7 == DYN_ATTACHMENT.DynamicWidgetType.BARREL then
			f30_local1 = f30_local3
		end
		if f30_local7 == DYN_ATTACHMENT.DynamicWidgetType.GUARD then
			f30_local2 = f30_local3
		end
	end
	if f30_local1 then
		local f30_local3 = f30_arg0[f30_local1].animateSeq
		if f30_local0 == DYN_ATTACHMENT.DynamicUnderBarrelType.LAUNCHER then
			f30_local3 = f30_local3 .. UNDERBARREL_LAUNCHER_SUFFIX
		elseif f30_local0 == DYN_ATTACHMENT.DynamicUnderBarrelType.BIPOD then
			f30_local3 = f30_local3 .. UNDERBARREL_BIPOD_SUFFIX
		elseif f30_local0 == DYN_ATTACHMENT.DynamicUnderBarrelType.BAYONET then
			f30_local3 = f30_local3 .. UNDERBARREL_BAYONET_SUFFIX
		end
		f30_arg0[f30_local1].animateSeq = f30_local3
	end
	f0_local0( f30_arg0, f30_local1, f30_local2 )
end

DYN_ATTACHMENT.IsDynamicAttachmentIconsEnabled = function ()
	return Dvar[0x9E5BE3B4BBA4E0E]( "#x35bd67d8dc6fba927" )
end

DYN_ATTACHMENT.ShouldShowInteractiveWeaponIcon = function ( f28_arg0 )
	if CONDITIONS.InGame() then
		local f28_local0 = DataSources.inGame.HUD.hints.interactiveObject.popup.shouldShow:GetValue( f28_arg0 )
		local f28_local1 = DataSources.inGame.HUD.hints.interactiveObject.weapon.baseName:GetValue( f28_arg0 )
		local f28_local2
		if f28_local0 then
			f28_local2 = f28_local0
		elseif f28_local1 then
			f28_local2 = f28_local1
		elseif 0 >= #f28_local1 or f28_local1 == "none" then
			f28_local2 = false
		else
			f28_local2 = true
		end
		return f28_local2
	else
		return false
	end
end

DYN_ATTACHMENT.GetFireTypeIcon = function ( f27_arg0 )
	return ATTACHMENT.FireTypeIcon[f27_arg0]
end

DYN_ATTACHMENT.GetAltModeFireTypeStringRef = function ( f26_arg0 )
	return ATTACHMENT.AltModeFireTypeStringRef[f26_arg0]
end

DYN_ATTACHMENT.FormatDynamicAttachmentIcon = function ( f25_arg0 )
	if f25_arg0 == nil or #f25_arg0 == 0 then
		return ""
	else
		local f25_local0 = LUI.Split( f25_arg0, "/" )
		f25_local0 = LUI.Split( f25_local0[#f25_local0], "\\" )
		return string.gsub( f25_local0[#f25_local0], ".png", "" )
	end
end

DYN_ATTACHMENT.IsAttachmentVariantIconEnable = function ()
	return CONDITIONS.IsMultiplayer()
end

DYN_ATTACHMENT.FormatDynamicAttachmentVariantIcon = function ( f23_arg0, f23_arg1, f23_arg2 )
	local f23_local0 = DYN_ATTACHMENT.FormatDynamicAttachmentIcon( f23_arg1 )
	if DYN_ATTACHMENT.IsAttachmentVariantIconEnable() and f23_arg0 and f23_arg2 and 0 < f23_arg2 then
		local f23_local1 = f23_arg2 + CSV.DynamicWeaponVariantIconMapTable.cols.base
		if f23_local1 > CSV.DynamicWeaponVariantIconMapTable.cols.imageVariantMaxCol then
			local f23_local2 = StringTable[0x2DCF0973239E909]( CSV.DynamicWeaponVariantIconMapTable2.file, CSV.DynamicWeaponVariantIconMapTable2.cols.ref, f23_arg0, f23_local1 - CSV.DynamicWeaponVariantIconMapTable.cols.imageVariantMaxCol + CSV.DynamicWeaponVariantIconMapTable2.cols.base )
			if f23_local2 and 0 < #f23_local2 then
				return f23_local2
			end
		end
		local f23_local2 = StringTable[0x2DCF0973239E909]( CSV.DynamicWeaponVariantIconMapTable.file, CSV.DynamicWeaponVariantIconMapTable.cols.ref, f23_arg0, f23_local1 )
		if f23_local2 and 0 < #f23_local2 then
			return f23_local2
		end
	end
	return f23_local0
end

DYN_ATTACHMENT.FormatDynamicAttachmentVariantAnimation = function ( f22_arg0, f22_arg1, f22_arg2 )
	if DYN_ATTACHMENT.IsAttachmentVariantIconEnable() and f22_arg0 and f22_arg2 and 0 < f22_arg2 then
		local f22_local0 = f22_arg2 + CSV.DynamicWeaponVariantIconMapTableAnim.cols.baseAnimation
		if f22_local0 > CSV.DynamicWeaponVariantIconMapTableAnim.cols.animationVariantMaxCol then
			local f22_local1 = StringTable[0x2DCF0973239E909]( CSV.DynamicWeaponVariantIconMapTableAnim2.file, CSV.DynamicWeaponVariantIconMapTableAnim2.cols.ref, f22_arg0, f22_local0 - CSV.DynamicWeaponVariantIconMapTableAnim.cols.animationVariantMaxCol + CSV.DynamicWeaponVariantIconMapTableAnim2.cols.baseAnimation )
			if f22_local1 and 0 < #f22_local1 then
				return f22_local1
			end
		end
		local f22_local1 = StringTable[0x2DCF0973239E909]( CSV.DynamicWeaponVariantIconMapTableAnim.file, CSV.DynamicWeaponVariantIconMapTableAnim.cols.ref, f22_arg0, f22_local0 )
		if f22_local1 and 0 < #f22_local1 then
			return f22_local1
		end
	end
	return f22_arg1
end

DYN_ATTACHMENT.IsDynamicAttachmentIconOverriden = function ( f21_arg0 )
	local f21_local0
	if f21_arg0 then
		f21_local0 = f21_arg0
	else
		f21_local0 = 0 < #f21_arg0
	end
	return f21_local0
end

DYN_ATTACHMENT.GetDynamicAttachmentType = function ( f20_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.DynamicWeaponAttachmentTable.file, CSV.DynamicWeaponAttachmentTable.cols.ref, f20_arg0, CSV.DynamicWeaponAttachmentTable.cols.type )
end

DYN_ATTACHMENT.GetDynamicAttachmentIcon = function ( f19_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.DynamicWeaponAttachmentTable.file, CSV.DynamicWeaponAttachmentTable.cols.ref, f19_arg0, CSV.DynamicWeaponAttachmentTable.cols.icon )
end

DYN_ATTACHMENT.GetDynamicAttachmentAnimationSeq = function ( f18_arg0 )
	return StringTable[0x2DCF0973239E909]( CSV.DynamicWeaponAttachmentTable.file, CSV.DynamicWeaponAttachmentTable.cols.ref, f18_arg0, CSV.DynamicWeaponAttachmentTable.cols.animateSeq )
end

DYN_ATTACHMENT.GetDynamicAttachmentDataByRef = function ( f17_arg0 )
	local f17_local0, f17_local1 = ATTACHMENT.GetRefAndVariantID( f17_arg0 )
	local f17_local2 = {
		ref = f17_local0,
		icon = DYN_ATTACHMENT.GetDynamicAttachmentIcon( f17_local0 ),
		type = tonumber( DYN_ATTACHMENT.GetDynamicAttachmentType( f17_local0 ) ),
		animateSeq = DYN_ATTACHMENT.GetDynamicAttachmentAnimationSeq( f17_local0 )
	}
	local f17_local3 = tonumber
	local f17_local4
	if f17_local1 and not f17_local1 then
		f17_local4 = f17_local1
	else
		f17_local4 = 0
	end
	f17_local2.variantID = f17_local3( f17_local4 )
	return f17_local2
end

DYN_ATTACHMENT.GetDynamicAttachmentsTable = function ( f16_arg0 )
	local f16_local0 = LUI.Split( f16_arg0, "+" )
	local f16_local1 = {}
	for f16_local2 = 2, #f16_local0, 1 do
		table.insert( f16_local1, DYN_ATTACHMENT.GetDynamicAttachmentDataByRef( f16_local0[f16_local2] ) )
	end
	table.insert( f16_local1, {
		fireType = 0,
		type = DYN_ATTACHMENT.DynamicWidgetType.OTHER
	} )
	return f16_local1
end

DYN_ATTACHMENT.GetDynamicAttachmentsTableByRef = function ( f15_arg0, f15_arg1 )
	local f15_local0 = {}
	if f15_arg0 then
		for f15_local1 = 1, #f15_arg0, 1 do
			local f15_local4 = nil
			if f15_arg1 then
				f15_local4 = f15_arg0[f15_local1][f15_arg1]
			else
				f15_local4 = f15_arg0[f15_local1]
			end
			table.insert( f15_local0, DYN_ATTACHMENT.GetDynamicAttachmentDataByRef( f15_local4 ) )
		end
	end
	table.insert( f15_local0, {
		fireType = 0,
		type = DYN_ATTACHMENT.DynamicWidgetType.OTHER
	} )
	return f15_local0
end

DYN_ATTACHMENT.GetKillCamDynamicAttachmentRefTable = function ( f14_arg0, f14_arg1 )
	return LUI.Split( Game[0x28624DEF6F708C8]( f14_arg1, "ui_killcam_killedby_attachments_str" ), "+" )
end

DYN_ATTACHMENT.GetDynamicAttachmentIndexTable = function ( f13_arg0 )
	if not CONDITIONS.InGame() then
		return {}
	else
		local f13_local0 = DataSources.inGame.HUD.hints.interactiveObject.weapon.weaponAttachmentsIndexString:GetValue( f13_arg0 )
		if f13_local0 == nil or #f13_local0 == 0 then
			return {}
		else
			return LUI.Split( f13_local0, " " )
		end
	end
end

DYN_ATTACHMENT.GetDynamicAttachmentAnimationTable = function ( f12_arg0 )
	if f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.RECEIVER then
		return CSV.DynamicWeaponReceiverTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.MUZZLE then
		return CSV.DynamicWeaponMuzzleTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.UNDERBARREL then
		return CSV.DynamicWeaponUnderBarrelTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.UNDERBARRELALT then
		return CSV.DynamicWeaponUnderBarrelTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.BIPOD then
		return CSV.DynamicWeaponUnderBarrelTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.LASER then
		return CSV.DynamicWeaponLaserTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.BARREL then
		return CSV.DynamicWeaponBarrelTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.GUARD then
		return CSV.DynamicWeaponGuardTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.MAGAZINE then
		return CSV.DynamicWeaponMagazineTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.SCOPE then
		return CSV.DynamicWeaponScopeTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.SCOPEFORE then
		return CSV.DynamicWeaponScopeTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.SCOPEREAR then
		return CSV.DynamicWeaponScopeTable
	elseif f12_arg0 == DYN_ATTACHMENT.DynamicWidgetType.STOCK then
		return CSV.DynamicWeaponStockTable
	else
		
	end
end

DYN_ATTACHMENT.GetDynamicAttachmentAnimationType = function ( f11_arg0 )
	if f11_arg0 == DYN_ATTACHMENT.DynamicWidgetType.RECEIVER then
		return DYN_ATTACHMENT.DynamicAnimationType.MULTIPLE_ELEMENT
	elseif f11_arg0 == DYN_ATTACHMENT.DynamicWidgetType.BARREL then
		return DYN_ATTACHMENT.DynamicAnimationType.MULTIPLE_ELEMENT
	else
		return DYN_ATTACHMENT.DynamicAnimationType.SINGLE_ELEMENT
	end
end

DYN_ATTACHMENT.GetDynamicAttachmentAnimationDataFromCSVTable = function ( f10_arg0, f10_arg1 )
	local f10_local0 = StringTable[0x6E34EAC0192FA9F]( f10_arg0.file, f10_arg1 )
	local f10_local1 = f10_local0[f10_arg0.cols.elementName + 1]
	local f10_local2 = f10_local0[f10_arg0.cols.left + 1]
	local f10_local3 = f10_local0[f10_arg0.cols.right + 1]
	local f10_local4 = f10_local0[f10_arg0.cols.top + 1]
	local f10_local5 = f10_local0[f10_arg0.cols.bottom + 1]
	local f10_local6 = f10_local0[f10_arg0.cols.scale + 1]
	local f10_local7 = f10_local0[f10_arg0.cols.priority + 1]
	local f10_local8 = f10_local0[f10_arg0.cols.material + 1]
	if f10_local1 == nil or #f10_local1 == 0 then
		return nil
	else
		return {
			elementName = f10_local1,
			left = tonumber( f10_local2 ),
			right = tonumber( f10_local3 ),
			top = tonumber( f10_local4 ),
			bottom = tonumber( f10_local5 ),
			scale = tonumber( f10_local6 ) - 1,
			priority = tonumber( f10_local7 ),
			image = f10_local8
		}
	end
end

DYN_ATTACHMENT.GetDynamicAttachmentAnimationData = function ( f9_arg0, f9_arg1, f9_arg2, f9_arg3 )
	f9_arg1 = string.gsub( f9_arg1, "(.-)%s*$", "%1" )
	local f9_local0 = nil
	if f9_arg3 then
		f9_local0 = CSV.DynamicWeaponAnimationTable
	else
		f9_local0 = DYN_ATTACHMENT.GetDynamicAttachmentAnimationTable( f9_arg0 )
	end
	if f9_local0 then
		if f9_arg3 or DYN_ATTACHMENT.GetDynamicAttachmentAnimationType( f9_arg0 ) == DYN_ATTACHMENT.DynamicAnimationType.SINGLE_ELEMENT then
			local f9_local1 = StringTable[0x8073B436CDE1BF]( f9_local0.file, f9_local0.cols.animateSeq, f9_arg1 )
			if f9_local1 == -1 then
				return nil
			else
				return DYN_ATTACHMENT.GetDynamicAttachmentAnimationDataFromCSVTable( f9_local0, f9_local1 )
			end
		else
			local f9_local2 = StringTable[0xF6B0CC3002991DB]( f9_local0.file, {
				{
					col = f9_local0.cols.animateSeq,
					key = f9_arg1
				},
				{
					col = f9_local0.cols.elementName,
					key = f9_arg2
				}
			} )
			if f9_local2 == -1 then
				return nil
			else
				return DYN_ATTACHMENT.GetDynamicAttachmentAnimationDataFromCSVTable( f9_local0, f9_local2 )
			end
		end
	else
		
	end
end

DYN_ATTACHMENT.SetupWidgetStreamer = function ( f8_arg0, f8_arg1, f8_arg2 )
	if not f8_arg0.streamer then
		f8_arg0.streamer = LUI.UIElement.new()
		f8_arg0.streamer.id = DYN_ATTACHMENT.STREAMER_NAME
		f8_arg0:addElement( f8_arg0.streamer )
	end
	f8_arg0.streamer:SetupImageTableStreamer( f8_arg1, f8_arg2 )
end

DYN_ATTACHMENT.SetupWeaponAttachmentStreamer = function ( f7_arg0, f7_arg1, f7_arg2 )
	local f7_local0 = {}
	for f7_local1 = 1, #f7_arg1, 1 do
		local f7_local4 = f7_arg1[f7_local1]
		if f7_local4.type then
			local f7_local5 = DYN_ATTACHMENT.FormatDynamicAttachmentVariantIcon( f7_local4.ref, f7_local4.icon )
			if DYN_ATTACHMENT.IsDynamicAttachmentIconOverriden( f7_local5 ) then
				table.insert( f7_local0, RegisterMaterial( f7_local5 ) )
			end
		end
	end
	DYN_ATTACHMENT.SetupWidgetStreamer( f7_arg0, f7_local0, f7_arg2 )
end

DYN_ATTACHMENT.SetupGunsmithAttachmentStreamer = function ( f6_arg0, f6_arg1, f6_arg2, f6_arg3 )
	local f6_local0 = {}
	for f6_local1 = 1, #f6_arg1, 1 do
		if f6_arg1[f6_local1][f6_arg2] and 0 < #f6_arg1[f6_local1][f6_arg2] then
			table.insert( f6_local0, RegisterMaterial( f6_arg1[f6_local1][f6_arg2] ) )
		end
	end
	DYN_ATTACHMENT.SetupWidgetStreamer( f6_arg0, f6_local0, f6_arg3 )
end

DYN_ATTACHMENT.SetupLoadoutWeaponAttachmentStreamer = function ( f5_arg0, f5_arg1 )
	Streaming[0xE493C1B436663F6]( true )
	local f5_local0 = LOADOUT.GetLoadoutsPlayerData( f5_arg1 )
	for f5_local1 = 0, #f5_local0 - 1, 1 do
		local f5_local4 = f5_local0[f5_local1]
		for f5_local5 = 0, #f5_local4.weaponSetups - 1, 1 do
			local f5_local8 = WEAPON.GenerateWeaponTable( f5_local4.weaponSetups[f5_local5] )
			DYN_ATTACHMENT.SetupWeaponAttachmentStreamer( f5_arg0, DYN_ATTACHMENT.GetDynamicAttachmentsTable( WEAPON.GetWeaponModelName( f5_local8.weapon, f5_local8, {
				keepAkimbo = true,
				includeStickers = true,
				includeAttachments = true,
				includeCamos = true,
				useGuntableOverride = false
			} ) ), true )
		end
	end
	local f5_local1 = LOADOUT.GetDefaultLoadouts( f5_arg1 )
	for f5_local2 = 1, #f5_local1, 1 do
		local f5_local5 = f5_local1[f5_local2]
		for f5_local6 = 1, #f5_local5.weapons, 1 do
			local f5_local8 = f5_local5.weapons[f5_local6]
			DYN_ATTACHMENT.SetupWeaponAttachmentStreamer( f5_arg0, DYN_ATTACHMENT.GetDynamicAttachmentsTable( WEAPON.GetWeaponModelName( f5_local8.ref, f5_local8, {
				keepAkimbo = true,
				includeStickers = true,
				includeAttachments = true,
				isDefault = true,
				includeCamos = true,
				useGuntableOverride = false
			} ) ), true )
		end
	end
end

DYN_ATTACHMENT.SetupFavoriteWeaponAttachmentStreamer = function ( f4_arg0, f4_arg1, f4_arg2 )
	Streaming[0xE493C1B436663F6]( true )
	local f4_local0 = {}
	for f4_local7, f4_local8 in pairs( f4_arg2 ) do
		for f4_local4, f4_local5 in ipairs( f4_local8 ) do
			table.insert( f4_local0, f4_local5 )
		end
	end
	for f4_local7, f4_local8 in ipairs( f4_local0 ) do
		local f4_local9 = OPERATOR.GetFavoriteWeaponAsTable( f4_local8.ref )
		DYN_ATTACHMENT.SetupWeaponAttachmentStreamer( f4_arg0, DYN_ATTACHMENT.GetDynamicAttachmentsTable( WEAPON.GetWeaponModelName( f4_local9.weapon, f4_local9, {
			keepAkimbo = true,
			includeStickers = true,
			includeAttachments = true,
			includeCamos = true,
			useGuntableOverride = false
		} ) ), true )
	end
end

DYN_ATTACHMENT.PlayDynamicAttachmentAnimation = function ( f3_arg0, f3_arg1, f3_arg2, f3_arg3, f3_arg4 )
	local f3_local0 = DYN_ATTACHMENT.GetDynamicAttachmentAnimationData( f3_arg1, f3_arg2, f3_arg3, f3_arg4 )
	if f3_local0 then
		local f3_local1 = false
		local f3_local2
		if f3_arg3 and not f3_arg3 then
			f3_local2 = f3_arg3
		else
			f3_local2 = f3_local0.elementName
		end
		local f3_local3 = f3_local0.left
		local f3_local4 = f3_local0.right
		local f3_local5 = f3_local0.top
		local f3_local6 = f3_local0.bottom
		local f3_local7 = f3_local0.scale
		local f3_local8 = f3_local0.image
		local f3_local9 = f3_local0.priority
		if f3_arg0[f3_local2] then
			f3_arg0[f3_local2]:SetScale( f3_local7 )
			if f3_local3 and f3_local4 and f3_local5 and f3_local6 then
				f3_local1 = true
				f3_arg0[f3_local2]:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * f3_local3, _1080p * f3_local4, _1080p * f3_local5, _1080p * f3_local6 )
			end
			if f3_local8 and 0 < #f3_local8 then
				f3_local1 = true
				f3_arg0[f3_local2]:setImage( RegisterMaterial( f3_local8 ) )
			end
			if f3_local9 and f3_arg0[f3_local2]:getPriority() ~= f3_local9 then
				f3_arg0[f3_local2]:setPriority( f3_local9 )
			end
		end
		return f3_local1
	else
		
	end
end

DYN_ATTACHMENT.ApplyDynamicAttachmentData = function ( f2_arg0, f2_arg1, f2_arg2, f2_arg3 )
	assert( f2_arg1 )
	assert( f2_arg2 )
	local f2_local0 = false
	local f2_local1 = f2_arg3.animateSeq
	if f2_local1 and 0 < #f2_local1 then
		f2_local0 = DYN_ATTACHMENT.PlayDynamicAttachmentAnimation( f2_arg1, f2_arg3.type, DYN_ATTACHMENT.FormatDynamicAttachmentVariantAnimation( f2_arg3.ref, f2_local1, f2_arg3.variantID ) )
	end
	local f2_local2 = DYN_ATTACHMENT.FormatDynamicAttachmentVariantIcon( f2_arg3.ref, f2_arg3.icon, f2_arg3.variantID )
	if DYN_ATTACHMENT.IsDynamicAttachmentIconOverriden( f2_local2 ) then
		f2_local0 = true
		f2_arg2:setImage( RegisterMaterial( f2_local2 ) )
	end
	local f2_local3 = f2_arg1
	local f2_local4 = f2_arg1.SetAlpha
	local f2_local5
	if f2_local0 then
		f2_local5 = 1
	else
		f2_local5 = 0
	end
	f2_local4( f2_local3, f2_local5 )
	f2_local3 = f2_arg2
	f2_local4 = f2_arg2.SetAlpha
	if f2_local0 then
		f2_local5 = 1
	else
		f2_local5 = 0
	end
	f2_local4( f2_local3, f2_local5 )
end

DYN_ATTACHMENT.MergeAttachmentsByWeaponModel = function ( f1_arg0, f1_arg1 )
	local f1_local0 = {}
	for f1_local1 = 1, #f1_arg1, 1 do
		local f1_local4 = tonumber( DYN_ATTACHMENT.GetDynamicAttachmentType( f1_arg1[f1_local1] ) )
		if f1_local4 then
			f1_local0[f1_local4] = f1_local1
		end
	end
	local f1_local1 = LUI.Split( f1_arg0, "+" )
	for f1_local2 = 2, #f1_local1, 1 do
		local f1_local6 = LUI.Split( f1_local1[f1_local2], "|" )
		if not f1_local0[tonumber( DYN_ATTACHMENT.GetDynamicAttachmentType( f1_local6[1] ) )] then
			table.insert( f1_arg1, f1_local1[f1_local2] )
		end
	end
	return f1_arg1
end

