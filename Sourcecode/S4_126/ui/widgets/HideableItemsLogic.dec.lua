-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
local f0_local0 = 200
local f0_local1 = 150
local f0_local2 = 200
local f0_local3 = 150
local f0_local4 = function ( f68_arg0, f68_arg1 )
	if f68_arg1[f68_arg0] and f68_arg1[f68_arg0].focusable ~= f68_arg0._focusable and f68_arg0.SetFocusable then
		f68_arg0:SetFocusable( f68_arg1[f68_arg0].focusable )
	end
	if f68_arg0:getFirstChild() then
		
	else
		
	end
end

local f0_local5 = function ( f67_arg0, f67_arg1 )
	if not f67_arg1 then
		local f67_local0 = f67_arg1
	else
		local f67_local0 = 0
	end
	local f67_local1 = {}
	if f67_arg0._focusable and f67_arg0.SetFocusable then
		f67_local1[f67_arg0] = {
			focusable = f67_arg0._focusable
		}
		f67_arg0:SetFocusable( false )
	end
	local f67_local2 = f67_arg0:getFirstChild()
end

local f0_local6 = function ( f66_arg0, f66_arg1, f66_arg2 )
	local f66_local0 = {
		_userData = f66_arg0._hideable:HideElement( f66_arg1, f66_arg2 )
	}
	local f66_local1 = f0_local0( f66_arg1 )
	if 0 < CountTableKeys( f66_local1 ) then
		f66_local0.focus = f66_local1
	end
	return f66_local0
end

local f0_local7 = function ( f65_arg0, f65_arg1, f65_arg2, f65_arg3 )
	if f65_arg2.focus ~= nil then
		f0_local0( f65_arg1, f65_arg2.focus )
	end
	f65_arg0._hideable:ShowElement( f65_arg1, f65_arg3, f65_arg2._userData )
end

local f0_local8 = function ( f64_arg0, f64_arg1, f64_arg2, f64_arg3 )
	if not f64_arg3 then
		f64_arg3 = false
	end
	if f64_arg1 and not f64_arg0._hideable.hidden then
		for f64_local3, f64_local4 in ipairs( f64_arg0._hideable.items ) do
			f64_local4.item:SetAlpha( f64_arg0._hideable.alphas[f64_local4.item] )
		end
		f64_arg0._hideable.hidden = f64_arg1
		f64_local0 = f64_arg0:getAllFocusedChildren()
		f64_local1 = nil
		for f64_local8, f64_local9 in ipairs( f64_arg0._hideable.items ) do
			for f64_local5, f64_local6 in ipairs( f64_local0 ) do
				if f64_local9.item == f64_local6 or f64_local6:isDescendentOf( f64_local9.item ) then
					f64_local1 = f64_local6
					f64_local9.item:processEvent( {
						name = "lose_focus",
						controller = f64_arg2
					} )
					break
				end
			end
		end
		if f64_local1 ~= nil then
			f64_arg0._hideable.prevFocusedItem = f64_local1
			f64_arg0._hideable:FocusNearestElement( f64_local1, f64_arg2 )
		else
			f64_arg0._hideable.prevFocusedItem = nil
		end
		f64_local9.item._allowUnhideTween = false
		f64_local9.prevHiddenState = f0_local0( f64_arg0, f64_local9.item, f64_arg3 )
	elseif not f64_arg1 and f64_arg0._hideable.hidden then
		f64_arg0._hideable.hidden = f64_arg1
		for f64_local3, f64_local4 in ipairs( f64_arg0._hideable.items ) do
			if f64_local4.prevHiddenState ~= nil then
				f0_local0( f64_arg0, f64_local4.item, f64_local4.prevHiddenState, f64_arg3 )
				f64_local4.prevHiddenState = nil
			end
		end
		if #f64_arg0:getAllFocusedChildren() == 0 and f64_arg0._hideable.prevFocusedItem then
			f64_arg0._hideable.prevFocusedItem:processEvent( {
				name = "gain_focus",
				controller = f64_arg2
			} )
			f64_arg0._hideable.prevFocusedItem = nil
		end
	end
end

local f0_local9 = function ( f63_arg0, f63_arg1 )
	local f63_local0 = f63_arg0._hideable
	local f63_local1 = nil
	local f63_local2 = f63_arg0:getAllFocusedChildren()
	local f63_local3
	if 0 < #f63_local2 then
		f63_local3 = f63_local2[1].saveData
		if not f63_local3 then
		
		else
			local f63_local4 = LUI.IsLastInputMouseNavigation( f63_arg1 )
			if f63_local4 then
				f63_local4 = f63_arg0:IsUsingActiveOnMouseOverBehavior()
			end
			if not f63_local3 and f63_local4 and f63_arg0._activeElement and f63_arg0._targetPosition then
				f63_local3 = {
					targetPosition = f63_arg0._targetPosition
				}
			end
			if f63_local3 then
				local f63_local5 = f63_local3.targetPosition.x
				local f63_local6 = f63_local3.targetPosition.y
				for f63_local7 = 1, f63_arg0:GetNumChildren(), 1 do
					local f63_local10 = f63_arg0:_GetPositionForIndex( f63_local7 - 1, {
						relativePosition = false
					} )
					if f63_local10.x == f63_local5 and f63_local10.y == f63_local6 then
						f63_local1 = f63_local7 - 1
						break
					end
				end
			end
			if f63_local1 and f63_local0.hidden then
				return f63_local0.newIndexToIndexMap[f63_local1]
			else
				return f63_local1
			end
		end
	end
	f63_local3 = nil
end

local f0_local10 = {
	SCROLLING_VERTICAL = 2,
	FIXED_HORIZONTAL = 1,
	FIXED_VERTICAL = 0,
	GRID = 4,
	SCROLLING_HORIZONTAL = 3
}
local f0_local11 = function ( f62_arg0 )
	if f62_arg0 == f0_local0.FIXED_VERTICAL then
		return "FIXED_VERTICAL"
	elseif f62_arg0 == f0_local0.FIXED_HORIZONTAL then
		return "FIXED_HORIZONTAL"
	elseif f62_arg0 == f0_local0.SCROLLING_VERTICAL then
		return "SCROLLING_VERTICAL"
	elseif f62_arg0 == f0_local0.SCROLLING_HORIZONTAL then
		return "SCROLLING_HORIZONTAL"
	elseif f62_arg0 == f0_local0.GRID then
		return "GRID"
	else
		return "UNKNOWN"
	end
end

local f0_local12 = function ( f61_arg0 )
	local f61_local0 = f61_arg0:GetNumColumns()
	local f61_local1 = f61_arg0:GetMaxVisibleColumns()
	local f61_local2 = f61_arg0:GetNumRows()
	local f61_local3 = f61_arg0:GetMaxVisibleRows()
	local f61_local4 = f61_arg0:GetMaxVisibleRows() * f61_arg0:GetMaxVisibleColumns() < f61_arg0:GetNumChildren()
	local f61_local5 = nil
	if f61_local1 == 1 then
		if f61_local4 then
			f61_local5 = f0_local0.SCROLLING_VERTICAL
		else
			f61_local5 = f0_local0.FIXED_VERTICAL
		end
	elseif f61_local3 == 1 then
		if f61_local4 then
			f61_local5 = f0_local0.SCROLLING_HORIZONTAL
		else
			f61_local5 = f0_local0.FIXED_HORIZONTAL
		end
	else
		f61_local5 = f0_local0.GRID
	end
	return f61_local5
end

local f0_local13 = {
	UNINITIALISED = 0,
	UNHIDDEN = 1,
	SCROLLING = 5,
	UNHIDING = 4,
	HIDDEN = 2,
	HIDING = 3
}
local f0_local14 = function ( f60_arg0 )
	return {
		enableHidingCallback = false,
		enableUnhidingCallback = false,
		hidden = false,
		state = f0_local0.UNINITIALISED,
		items = f60_arg0,
		newItems = {},
		newIndexToIndexMap = {},
		indexToNewIndexMap = {},
		states = {
			[f0_local0.UNINITIALISED] = {},
			[f0_local0.UNHIDDEN] = {},
			[f0_local0.HIDDEN] = {},
			[f0_local0.HIDING] = {
				newlyVisibleChildren = {},
				alphas = {}
			},
			[f0_local0.UNHIDING] = {
				newlyVisibleChildren = {}
			},
			[f0_local0.SCROLLING] = {}
		},
		alphas = {},
		fadeDuration = f0_local0,
		collapseDuration = f0_local0
	}
end

local f0_local15 = function ( f59_arg0 )
	local f59_local0 = {}
	local f59_local1 = nil
	for f59_local6, f59_local7 in ipairs( f59_arg0:GetBuiltChildren() ) do
		if f59_local7._gridContentColumnIndex ~= nil and f59_local7._gridContentRowIndex ~= nil then
			local f59_local5 = f59_arg0:GetContentIndex( f59_local7._gridContentColumnIndex, f59_local7._gridContentRowIndex, {
				relativePosition = false
			} )
			f59_local0[f59_local5 + 1] = f59_local7
			if f59_local1 == nil then
				f59_local1 = f59_local5 + 1
				if f59_local7._gridContentColumnIndex ~= 0 or f59_local7._gridContentRowIndex ~= 0 then
					DebugPrint( "Warning: HideableItemsLogic.SetItemsHiddenGrid will not animate correctly" )
				end
			end
		end
	end
	return f59_local0, f59_local1
end

local f0_local16 = function ( f58_arg0, f58_arg1 )
	for f58_local3, f58_local4 in ipairs( f58_arg0:GetBuiltChildren() ) do
		if f58_local4._gridContentColumnIndex ~= nil and f58_local4._gridContentRowIndex ~= nil and f58_arg1 == f58_arg0:GetContentIndex( f58_local4._gridContentColumnIndex, f58_local4._gridContentRowIndex, {
			relativePosition = false
		} ) + 1 then
			return true
		end
	end
	return false
end

local f0_local17 = function ( f57_arg0, f57_arg1 )
	for f57_local3, f57_local4 in ipairs( f57_arg0:GetBuiltChildren() ) do
		if f57_local4._gridContentColumnIndex ~= nil and f57_local4._gridContentRowIndex ~= nil and f57_arg0:GetContentIndex( f57_local4._gridContentColumnIndex, f57_local4._gridContentRowIndex, {
			relativePosition = false
		} ) + 1 == f57_arg1 then
			return f57_local4
		end
	end
end

local f0_local18 = function ( f56_arg0 )
	local f56_local0 = {
		x = f56_arg0:GetContentOffset( LUI.DIRECTION.horizontal ),
		y = f56_arg0:GetContentOffset( LUI.DIRECTION.vertical )
	}
	return (f56_local0.x and f56_local0.x or 0) + (f56_local0.y and f56_local0.y or 0)
end

local f0_local19 = function ( f55_arg0 )
	local f55_local0 = f55_arg0._hideable
	if f55_local0.defaultFocusIndex_ then
		if f55_local0.defaultFocusIndexNew_ then
			return {
				focus = f55_arg0:GetPositionForIndex( f55_local0.defaultFocusIndexNew_, {
					relativePosition = false
				} )
			}
		else
			return {}
		end
	elseif #f55_local0.newItems == 0 then
		return {
			previousFocus = f55_arg0._defaultFocus
		}
	else
		
	end
end

local f0_local20 = function ( f54_arg0 )
	local f54_local0 = f54_arg0._hideable
	if f54_local0.defaultFocusIndex_ then
		f54_arg0:SetDefaultFocus( f54_arg0:GetPositionForIndex( f54_local0.defaultFocusIndex_, {
			relativePosition = false
		} ) )
	elseif f54_local0.previousDefaultFocus then
		f54_arg0:SetDefaultFocus( f54_local0.previousDefaultFocus )
	end
	f54_local0.previousDefaultFocus = nil
end

local f0_local21 = function ( f53_arg0, f53_arg1, f53_arg2 )
	if f53_arg2 ~= nil then
		local f53_local0 = f53_arg0._hideable
		if f53_local0.indexToNewIndexMap[f53_arg2] ~= nil then
			if 0 < #f53_local0.newItems then
				local f53_local1 = f53_arg0:GetPositionForIndex( f53_arg2, {
					relativePosition = false
				} )
				f53_arg0:RemoveFocusFromChild( true )
				if LUI.IsLastInputMouseNavigation( f53_arg1 ) and f53_arg0:IsUsingActiveOnMouseOverBehavior() then
					f53_arg0:SetDefaultFocus( f53_local1 )
					f53_arg0:MouseSetActiveToDefaultFocus( f53_arg1 )
				else
					f53_arg0:SetFocusedPosition( f53_local1, true )
				end
			end
		else
			if 0 < #f53_local0.newItems then
				local f53_local2 = f53_arg0:GetPositionForIndex( f53_arg0:GetFocusPositionIndex(), {
					relativePosition = false
				} )
				f53_arg0:RemoveFocusFromChild( true )
				if LUI.IsLastInputMouseNavigation( f53_arg1 ) and f53_arg0:IsUsingActiveOnMouseOverBehavior() then
					f53_arg0:SetDefaultFocus( f53_local2 )
					f53_arg0:MouseSetActiveToDefaultFocus( f53_arg1 )
				else
					f53_arg0:SetFocusedPosition( f53_local2, true )
				end
			end
			f53_local0.prevFocussedItemIndex_ = f53_arg2
		end
	end
end

local f0_local22 = function ( f52_arg0, f52_arg1, f52_arg2 )
	local f52_local0 = f52_arg0._hideable
	if f52_arg2 then
		local f52_local1 = f52_arg0:GetPositionForIndex( f52_arg2, {
			relativePosition = false
		} )
		if LUI.IsLastInputMouseNavigation( f52_arg1 ) and f52_arg0:IsUsingActiveOnMouseOverBehavior() then
			f52_arg0:SetDefaultFocus( f52_local1 )
			f52_arg0:MouseSetActiveToDefaultFocus( f52_arg1 )
		else
			f52_arg0:RemoveFocusFromChild( true )
			f52_arg0:SetFocusedPosition( f52_local1, true )
		end
	elseif f52_arg2 == nil and f52_local0.prevFocussedItemIndex_ ~= nil then
		local f52_local1 = f52_arg0:GetPositionForIndex( f52_local0.prevFocussedItemIndex_, {
			relativePosition = false
		} )
		if LUI.IsLastInputMouseNavigation( f52_arg1 ) and f52_arg0:IsUsingActiveOnMouseOverBehavior() then
			f52_arg0:SetDefaultFocus( f52_local1 )
			f52_arg0:MouseSetActiveToDefaultFocus( f52_arg1 )
		else
			f52_arg0:RemoveFocusFromChild( true )
			f52_arg0:SetFocusedPosition( f52_local1, true )
		end
	end
	f52_local0.prevFocussedItemIndex_ = nil
end

local f0_local23 = function ( f51_arg0, f51_arg1, f51_arg2 )
	local f51_local0 = f51_arg0._hideable
	local f51_local1 = f0_local0( f51_arg0, f51_arg1 )
	f51_local0.hidden = true
	f51_local0.previousDefaultFocus = nil
	local f51_local2 = f0_local0( f51_arg0 )
	if f51_local2 then
		f51_local0.previousDefaultFocus = f51_local2.previousFocus
	end
	f51_arg0:SetDefaultFocus( nil )
	f51_arg0._targetPosition = nil
	f51_arg0._shouldFocus = nil
	f51_arg0:SetNumChildren( #f51_local0.newItems )
	f51_arg0:RefreshContent()
	if f51_arg2 then
		if f0_local0( f51_arg0, f51_arg2 + 1 ) then
			f0_local0( f51_arg0, f51_arg1, f51_arg2 )
		else
			f51_arg0:FocusFirstItem()
		end
	else
		f0_local0( f51_arg0, f51_arg1, f51_local1 )
	end
	if f51_local2 then
		f51_arg0:SetDefaultFocus( f51_local2.focus )
	end
end

local f0_local24 = function ( f50_arg0, f50_arg1 )
	local f50_local0 = f50_arg0._hideable
	local f50_local1 = f0_local0( f50_arg0, f50_arg1 )
	f50_local0.hidden = false
	f50_arg0:RemoveFocusFromChild( true )
	f50_arg0._targetPosition = nil
	f50_arg0._shouldFocus = nil
	f50_arg0:SetNumChildren( #f50_local0.items )
	f50_arg0:RefreshContent()
	f0_local0( f50_arg0 )
	f0_local0( f50_arg0, f50_arg1, f50_local1 )
end

local f0_local25 = function ( f48_arg0, f48_arg1 )
	local f48_local0 = f48_arg0:GetSpacingX()
	local f48_local1 = f48_arg0:GetSpacingY()
	local f48_local2 = {
		x = f48_arg1.left,
		y = f48_arg1.top
	}
	local f48_local3 = {
		x = f48_arg1.right - f48_arg1.left + f48_local0,
		y = f48_arg1.bottom - f48_arg1.top + f48_local1
	}
	return function ( f49_arg0, f49_arg1 )
		assert( f48_arg0 ~= nil )
		assert( f48_arg0 ~= nil )
		return {
			x = f48_arg0.x + f49_arg0 * f48_arg0.x,
			y = f48_arg0.y + f49_arg1 * f48_arg0.y
		}
	end
	
end

local f0_local26 = function ( f47_arg0 )
	f47_arg0:SetEnableLayout( true )
	local f47_local0 = f47_arg0._hideable.states[f0_local0.HIDING]
	for f47_local4, f47_local5 in pairs( f47_local0.alphas ) do
		f47_local4:SetAlpha( f47_local5 )
	end
	f47_local0.alphas = {}
end

local f0_local27 = function ( f46_arg0 )
	f46_arg0:SetEnableLayout( true )
end

local f0_local28 = function ( f41_arg0, f41_arg1, f41_arg2 )
	local f41_local0 = f41_arg0._hideable
	local f41_local1 = f41_local0.gridType
	local f41_local2, f41_local3 = f0_local0( f41_arg0 )
	local f41_local4 = f0_local0( f41_arg0, f41_local3 )
	assert( f41_local4 )
	local f41_local5 = f41_local4:GetCurrentAnchorsAndPositions()
	local f41_local6 = f0_local0( f41_arg0, f41_local5 )
	local f41_local7 = {
		x = f41_local5.left,
		y = f41_local5.top
	}
	local f41_local8 = {}
	for f41_local12, f41_local13 in pairs( f41_local2 ) do
		local f41_local14 = f41_local13:GetCurrentAnchorsAndPositions()
		f41_local8[f41_local12] = {
			x = f41_local14.left,
			y = f41_local14.top,
			width = f41_local14.right - f41_local14.left,
			height = f41_local14.bottom - f41_local14.top
		}
	end
	f41_local9 = function ( f45_arg0, f45_arg1 )
		if f41_arg0.ItemPosition then
			local f45_local0 = f41_arg0.ItemPosition( f45_arg0, true )
			assert( f45_local0 ~= nil )
			return {
				x = f41_arg0.x + f45_local0.x,
				y = f41_arg0.y + f45_local0.y
			}
		else
			local f45_local0 = f41_arg0[f45_arg1]
			if f45_local0 then
				return {
					x = f45_local0.x,
					y = f45_local0.y
				}
			else
				local f45_local1 = f41_arg0.EstimateIndexGridPosition( f45_arg1 )
				return f41_arg0( f45_local1.x, f45_local1.y )
			end
		end
	end
	
	f41_local10 = f41_local0.states[f0_local0.HIDING]
	f41_local10.newlyVisibleChildren = {}
	for f41_local14, f41_local15 in ipairs( f41_local0.items ) do
		if f41_local0.indexToNewIndexMap[f41_local14 - 1] ~= nil and f41_local2[f41_local14] == nil then
			f41_local10.newlyVisibleChildren[f41_local14] = true
		end
	end
	f41_local10.alphas = {}
	for f41_local14, f41_local15 in pairs( f41_local2 ) do
		f41_local10.alphas[f41_local15] = f41_local15:GetAlpha()
	end
	f41_local10.firstChildBounds = f41_local5
	f41_arg0:SetEnableLayout( false )
	f41_local11 = function ( f44_arg0, f44_arg1, f44_arg2, f44_arg3, f44_arg4 )
		return {
			child = f44_arg0,
			width = f44_arg1,
			height = f44_arg2,
			order = f44_arg3,
			targetPosition = f44_arg4
		}
	end
	
	f41_local12 = {}
	f41_local13 = 0
	for f41_local24, f41_local25 in pairs( f41_local2 ) do
		local f41_local26 = f41_local0.indexToNewIndexMap[f41_local24 - 1]
		local f41_local17
		if f41_local26 then
			f41_local17 = f41_local26 + 1
			if not f41_local17 then
			
			else
				if f41_local17 ~= nil then
					local f41_local18 = f41_local8[f41_local24].width
					local f41_local19 = f41_local8[f41_local24].height
					local f41_local20 = f41_local9( f41_local24, f41_local17 )
					if f41_local1 == f0_local0.GRID then
						local f41_local21 = f41_local25._gridContentRowIndex
						local f41_local22 = f41_local2[f41_local17] and f41_local2[f41_local17]._gridContentRowIndex or f41_local21
						if f41_local21 ~= f41_local22 then
							local f41_local23 = f41_arg0:GetMaxVisibleColumns() * f41_local21 + f41_local25._gridContentColumnIndex
							f41_local12[f41_local22] = f41_local12[f41_local22] or {}
							table.insert( f41_local12[f41_local22], f41_local11( f41_local25, f41_local18, f41_local19, f41_local23, f41_local20 ) )
						else
							f41_local25:SetLeft( f41_local20.x, f41_local0.collapseDuration )
							f41_local25:SetRight( f41_local20.x + f41_local18, f41_local0.collapseDuration )
							f41_local25:SetTop( f41_local20.y, f41_local0.collapseDuration )
							f41_local25:SetBottom( f41_local20.y + f41_local19, f41_local0.collapseDuration )
						end
						f41_local13 = math.max( f41_local13, f41_local0.collapseDuration )
					end
					f41_local25:SetLeft( f41_local20.x, f41_local0.collapseDuration )
					f41_local25:SetRight( f41_local20.x + f41_local18, f41_local0.collapseDuration )
					f41_local25:SetTop( f41_local20.y, f41_local0.collapseDuration )
					f41_local25:SetBottom( f41_local20.y + f41_local19, f41_local0.collapseDuration )
					f41_local13 = math.max( f41_local13, f41_local0.collapseDuration )
				end
				f41_local0.alphas[f41_local25] = f41_local25:GetAlpha()
				f41_local25:SetAlpha( 0, f41_local0.fadeDuration )
				f41_local13 = math.max( f41_local13, f41_local0.fadeDuration )
			end
		end
		f41_local17 = nil
	end
	for f41_local24, f41_local25 in pairs( f41_local12 ) do
		table.sort( f41_local25, function ( f43_arg0, f43_arg1 )
			return f43_arg0.order < f43_arg1.order
		end )
		local f41_local28 = f41_arg0:GetMaxVisibleColumns()
		for f41_local18, f41_local19 in ipairs( f41_local25 ) do
			f41_local19.column = f41_local28
			f41_local28 = f41_local28 + 1
		end
	end
	for f41_local24, f41_local25 in pairs( f41_local12 ) do
		for f41_local27, f41_local18 in ipairs( f41_local25 ) do
			local f41_local19 = f41_local6( f41_local18.column, 0 )
			local f41_local20 = {
				x = f41_local19.x,
				y = f41_local18.targetPosition.y
			}
			f41_local18.child:SetLeft( f41_local20.x )
			f41_local18.child:SetRight( f41_local20.x + f41_local18.width )
			f41_local18.child:SetTop( f41_local20.y )
			f41_local18.child:SetBottom( f41_local20.y + f41_local18.height )
			f41_local18.child:SetLeft( f41_local18.targetPosition.x, f41_local0.collapseDuration )
			f41_local18.child:SetRight( f41_local18.targetPosition.x + f41_local18.width, f41_local0.collapseDuration )
			f41_local18.child:SetTop( f41_local18.targetPosition.y, f41_local0.collapseDuration )
			f41_local18.child:SetBottom( f41_local18.targetPosition.y + f41_local18.height, f41_local0.collapseDuration )
		end
	end
	f41_local0.enableHidingCallback = true
	f41_local14 = f41_arg0:Wait( f41_local13 )
	f41_local14.onComplete = function ()
		if f41_arg0.enableHidingCallback then
			f41_arg0( f41_arg0 )
			f41_arg0()
		end
	end
	
end

local f0_local29 = function ( f39_arg0, f39_arg1 )
	local f39_local0 = CountTableKeys( f39_arg1 )
	local f39_local1 = f39_arg0._hideable
	local f39_local2
	if f39_local0 <= 4 then
		f39_local2 = 1
	elseif f39_local0 <= 8 then
		f39_local2 = 0.66
	else
		f39_local2 = 0.33
	end
	local f39_local3 = 0
	for f39_local9, f39_local10 in ipairs( f39_arg0:GetBuiltChildren() ) do
		if f39_local10._gridContentColumnIndex ~= nil and f39_local10._gridContentRowIndex ~= nil and f39_arg1[f39_arg0:GetContentIndex( f39_local10._gridContentColumnIndex, f39_local10._gridContentRowIndex, {
			relativePosition = false
		} ) + 1] then
			local f39_local7 = f39_local10:GetAlpha()
			f39_local1.alphas[f39_local10] = f39_local7
			f39_local10:SetAlpha( 0 )
			if 0 < f39_local3 then
				local f39_local8 = f39_local10:Wait( f39_local3 * f39_local2 * f39_local1.fadeDuration / 2 )
				f39_local8.onComplete = function ()
					f39_arg0:SetAlpha( f39_arg0, f39_arg0.fadeDuration )
				end
				
			else
				f39_local10:SetAlpha( f39_local7, f39_local1.fadeDuration )
			end
			f39_local3 = f39_local3 + 1
		end
	end
end

local f0_local30 = function ( f34_arg0, f34_arg1, f34_arg2 )
	local f34_local0 = f34_arg0._hideable
	local f34_local1 = f34_local0.gridType
	local f34_local2, f34_local3 = f0_local0( f34_arg0 )
	local f34_local4 = nil
	if f34_local3 ~= nil then
		local f34_local5 = f0_local0( f34_arg0, f34_local3 )
		assert( f34_local5 )
		f34_local4 = f34_local5:GetCurrentAnchorsAndPositions()
	else
		f34_local4 = f34_local0.states[f0_local0.HIDDEN].firstChildBounds
		f34_local0.states[f0_local0.HIDDEN].firstChildBounds = nil
	end
	assert( f34_local4 ~= nil )
	local f34_local5 = f0_local0( f34_arg0, f34_local4 )
	local f34_local6 = {
		x = f34_local4.left,
		y = f34_local4.top
	}
	local f34_local7 = {}
	for f34_local11, f34_local12 in pairs( f34_local2 ) do
		local f34_local13 = f34_local12:GetCurrentAnchorsAndPositions()
		f34_local7[f34_local11] = {
			x = f34_local13.left,
			y = f34_local13.top,
			width = f34_local13.right - f34_local13.left,
			height = f34_local13.bottom - f34_local13.top
		}
	end
	f34_local8 = function ( f38_arg0, f38_arg1 )
		if f34_arg0.ItemPosition then
			local f38_local0 = f34_arg0.ItemPosition( f38_arg0, false )
			assert( f38_local0 ~= nil )
			return {
				x = f34_arg0.x + f38_local0.x,
				y = f34_arg0.y + f38_local0.y
			}, 0
		end
		local f38_local0, f38_local1 = nil
		if f38_arg1 and f34_arg0[f38_arg1] then
			local f38_local2 = f34_arg0[f38_arg1]
			f38_local1 = {
				x = f38_local2.x,
				y = f38_local2.y
			}
			if f34_arg0[f38_arg1] then
				local f38_local3 = f34_arg0[f38_arg1]._gridContentRowIndex
				if not f38_local3 then
					f38_local0 = f38_local3
				end
			end
			f38_local0 = nil
		else
			local f38_local2 = f34_arg0.EstimateIndexGridPosition( f38_arg0 )
			f38_local0 = f38_local2.y
			f38_local1 = f34_arg0( f38_local2.x, f38_local2.y )
		end
		return f38_local1, f38_local0
	end
	
	f34_arg0:SetEnableLayout( false )
	f34_local9 = function ( f37_arg0, f37_arg1, f37_arg2, f37_arg3, f37_arg4 )
		return {
			child = f37_arg0,
			width = f37_arg1,
			height = f37_arg2,
			order = f37_arg3,
			targetPosition = f37_arg4
		}
	end
	
	f34_local10 = {}
	f34_local11 = 0
	for f34_local21, f34_local22 in pairs( f34_local2 ) do
		local f34_local23 = f34_local21 - 1
		local f34_local24 = f34_local7[f34_local21].width
		local f34_local25 = f34_local7[f34_local21].height
		local f34_local26 = f34_local7[f34_local21]
		local f34_local27 = f34_local0.newIndexToIndexMap[f34_local23]
		local f34_local15
		if f34_local27 then
			f34_local15 = f34_local27 + 1
			if not f34_local15 then
			
			else
				local f34_local16, f34_local17 = f34_local8( f34_local21, f34_local15 )
				if f34_local1 == f0_local0.GRID then
					local f34_local18 = f34_local22._gridContentColumnIndex
					local f34_local19 = f34_local22._gridContentRowIndex
					if f34_local19 ~= f34_local17 then
						local f34_local20 = -(f34_arg0:GetMaxVisibleColumns() * f34_local19 + f34_local18)
						f34_local10[f34_local17] = f34_local10[f34_local17] or {}
						table.insert( f34_local10[f34_local17], f34_local9( f34_local22, f34_local24, f34_local25, f34_local20, f34_local16 ) )
					else
						f34_local22:SetLeft( f34_local16.x, f34_local0.collapseDuration )
						f34_local22:SetRight( f34_local16.x + f34_local24, f34_local0.collapseDuration )
						f34_local22:SetTop( f34_local16.y, f34_local0.collapseDuration )
						f34_local22:SetBottom( f34_local16.y + f34_local25, f34_local0.collapseDuration )
					end
					f34_local11 = math.max( f34_local11, f34_local0.collapseDuration )
				end
				f34_local22:SetLeft( f34_local16.x, f34_local0.collapseDuration )
				f34_local22:SetRight( f34_local16.x + f34_local24, f34_local0.collapseDuration )
				f34_local22:SetTop( f34_local16.y, f34_local0.collapseDuration )
				f34_local22:SetBottom( f34_local16.y + f34_local25, f34_local0.collapseDuration )
				f34_local11 = math.max( f34_local11, f34_local0.collapseDuration )
			end
		end
		f34_local15 = nil
	end
	for f34_local21, f34_local22 in pairs( f34_local10 ) do
		table.sort( f34_local22, function ( f36_arg0, f36_arg1 )
			return f36_arg0.order < f36_arg1.order
		end )
		local f34_local23 = -1
		for f34_local27, f34_local15 in ipairs( f34_local22 ) do
			f34_local15.column = f34_local23
			f34_local23 = f34_local23 - 1
		end
	end
	for f34_local21, f34_local22 in pairs( f34_local10 ) do
		for f34_local26, f34_local27 in ipairs( f34_local22 ) do
			local f34_local15 = f34_local5( f34_local27.column, 0 )
			local f34_local16 = {
				x = f34_local15.x,
				y = f34_local27.targetPosition.y
			}
			f34_local27.child:SetLeft( f34_local16.x )
			f34_local27.child:SetRight( f34_local16.x + f34_local27.width )
			f34_local27.child:SetTop( f34_local16.y )
			f34_local27.child:SetBottom( f34_local16.y + f34_local27.height )
			f34_local27.child:SetLeft( f34_local27.targetPosition.x, f34_local0.collapseDuration )
			f34_local27.child:SetRight( f34_local27.targetPosition.x + f34_local27.width, f34_local0.collapseDuration )
			f34_local27.child:SetTop( f34_local27.targetPosition.y, f34_local0.collapseDuration )
			f34_local27.child:SetBottom( f34_local27.targetPosition.y + f34_local27.height, f34_local0.collapseDuration )
		end
	end
	f34_local12 = f34_local0.states[f0_local0.UNHIDING]
	f34_local12.newlyVisibleChildren = {}
	for f34_local22, f34_local23 in ipairs( f34_local0.items ) do
		if f34_local0.indexToNewIndexMap[f34_local22 - 1] ~= nil and f34_local2[f34_local22] == nil then
			f34_local12.newlyVisibleChildren[f34_local22] = true
		end
	end
	if 0 < f34_local11 then
		f34_local0.enableUnhidingCallback = true
		f34_local13 = f34_arg0:Wait( f34_local11 )
		f34_local13.onComplete = function ()
			if f34_arg0.enableUnhidingCallback then
				f34_arg0( f34_arg0 )
				f34_arg0()
			end
		end
		
	else
		f0_local0( f34_arg0 )
		f34_arg2()
	end
end

local f0_local31 = function ( f27_arg0, f27_arg1, f27_arg2, f27_arg3 )
	local f27_local0 = f27_arg0._hideable
	f27_local0.state = f27_arg3
	if f27_arg3 == f0_local0.HIDDEN then
		if f27_local0.adjustSizeToContent then
			f27_arg0:SetAdjustSizeToContent( false )
		end
		local f27_local1 = assert
		local f27_local2
		if f27_arg2 ~= f0_local0.UNHIDDEN and f27_arg2 ~= f0_local0.HIDING then
			f27_local2 = false
		else
			f27_local2 = true
		end
		f27_local1( f27_local2 )
		f27_local1 = nil
		if f27_arg2 == f0_local0.HIDING then
			f27_local0.states[f0_local0.HIDDEN].firstChildBounds = f27_local0.states[f0_local0.HIDING].firstChildBounds
			f27_local0.states[f0_local0.HIDING].firstChildBounds = nil
			f27_local1 = f27_local0.states[f0_local0.HIDING].focussedItemIndex_
			f27_local0.states[f0_local0.HIDING].focussedItemIndex_ = nil
		else
			local f27_local3 = f27_local0.states[f0_local0.HIDDEN]
			f27_local2, f27_local4 = f0_local0( f27_arg0 )
			local f27_local5 = f0_local0( f27_arg0, f27_local4 )
			assert( f27_local5 )
			f27_local3.firstChildBounds = f27_local5:GetCurrentAnchorsAndPositions()
		end
		f0_local0( f27_arg0, f27_arg1, f27_local1 )
		if f27_arg2 == f0_local0.HIDING then
			local f27_local3 = f27_local0.states[f0_local0.HIDING]
			f0_local0( f27_arg0, f27_local3.newlyVisibleChildren )
			f27_local3.newlyVisibleChildren = {}
		end
		if f27_local0.OnItemsHidden then
			f27_local0.OnLayout = function ()
				f27_arg0:OnItemsHidden( true, f27_arg0, f27_arg0 == f27_arg0.UNHIDDEN )
			end
			
		end
	elseif f27_arg3 == f0_local0.UNHIDDEN then
		if f27_local0.adjustSizeToContent then
			f27_arg0:SetAdjustSizeToContent( true )
		end
		local f27_local1 = assert
		local f27_local2
		if f27_arg2 ~= f0_local0.HIDDEN and f27_arg2 ~= f0_local0.UNHIDING then
			f27_local2 = false
		else
			f27_local2 = true
		end
		f27_local1( f27_local2 )
		f0_local0( f27_arg0, f27_arg1 )
		if f27_arg2 == f0_local0.UNHIDING then
			for f27_local4, f27_local5 in ipairs( f27_arg0:GetBuiltChildren() ) do
				if f27_local5._gridContentColumnIndex ~= nil and f27_local5._gridContentRowIndex ~= nil and f27_local0.indexToNewIndexMap[f27_arg0:GetContentIndex( f27_local5._gridContentColumnIndex, f27_local5._gridContentRowIndex, {
					relativePosition = false
				} )] == nil then
					local f27_local6 = f27_local5:GetAlpha()
					f27_local0.alphas[f27_local5] = f27_local6
					f27_local5:SetAlpha( 0 )
					f27_local5:SetAlpha( f27_local6, f27_local0.fadeDuration )
				end
			end
			f27_local1 = f27_local0.states[f0_local0.UNHIDING]
			f0_local0( f27_arg0, f27_local1.newlyVisibleChildren )
			f27_local1.newlyVisibleChildren = {}
		end
		if f27_local0.OnItemsHidden then
			f27_local0.OnLayout = function ()
				f27_arg0:OnItemsHidden( false, f27_arg0, f27_arg0 == f27_arg0.HIDDEN )
			end
			
		end
	elseif f27_arg3 == f0_local0.HIDING then
		if f27_local0.adjustSizeToContent then
			f27_arg0:SetAdjustSizeToContent( false )
		end
		local f27_local1 = assert
		local f27_local2
		if f27_arg2 ~= f0_local0.UNHIDDEN and f27_arg2 ~= f0_local0.SCROLLING then
			f27_local2 = false
		else
			f27_local2 = true
		end
		f27_local1( f27_local2 )
		f27_local1 = nil
		if f27_arg2 == f0_local0.SCROLLING then
			local f27_local3 = f27_local0.states[f0_local0.SCROLLING]
			f27_local0.states[f0_local0.HIDING].focussedItemIndex_ = f27_local3.focussedItemIndex_
			f27_local3.focussedItemIndex_ = nil
		else
			f27_local0.states[f0_local0.HIDING].focussedItemIndex_ = nil
		end
		f0_local0( f27_arg0, f27_arg1, function ()
			f27_arg0( f27_arg0, f27_arg0, f27_arg0.HIDING, f27_arg0.HIDDEN )
		end )
	elseif f27_arg3 == f0_local0.UNHIDING then
		local f27_local1 = assert
		local f27_local2
		if f27_arg2 ~= f0_local0.HIDDEN and f27_arg2 ~= f0_local0.SCROLLING then
			f27_local2 = false
		else
			f27_local2 = true
		end
		f27_local1( f27_local2 )
		f0_local0( f27_arg0, f27_arg1, function ()
			f27_arg0( f27_arg0, f27_arg0, f27_arg0.UNHIDING, f27_arg0.UNHIDDEN )
		end )
	elseif f27_arg3 == f0_local0.SCROLLING then
		local f27_local1 = assert
		local f27_local2
		if f27_arg2 ~= f0_local0.UNHIDDEN and f27_arg2 ~= f0_local0.HIDDEN then
			f27_local2 = false
		else
			f27_local2 = true
		end
		f27_local1( f27_local2 )
		if f27_arg2 ~= f0_local0.UNHIDDEN or not f0_local0.HIDING then
			f27_local1 = f0_local0.UNHIDING
		end
		f27_local0.states[f0_local0.SCROLLING].focussedItemIndex_ = f0_local0( f27_arg0, f27_arg1 )
		f27_arg0:SetPosition( {
			x = 0,
			y = 0
		}, false )
		f27_arg0:NotifyWhenPositionIsVisible( 0, 0 )
		f27_local0.OnPositionVisible = function ( f29_arg0, f29_arg1 )
			f27_arg0.OnPositionVisible = nil
			f27_arg0( f27_arg0, f27_arg0, f27_arg0.SCROLLING, f27_arg0 )
		end
		
		local f27_local4 = f27_arg0:Wait( 500 )
		f27_local4.onComplete = function ()
			if f27_arg0.OnPositionVisible then
				f27_arg0:SetTargetRow( 0, false, true )
				f27_arg0:SetTargetColumn( 0, false, true )
				f27_arg0:NotifyWhenPositionIsVisible( 0, 0 )
			end
		end
		
	end
end

local f0_local32 = function ( f25_arg0 )
	local f25_local0 = f25_arg0._hideable
	f25_local0.gridType = f0_local0( f25_arg0 )
	f25_local0.adjustSizeToContent = f25_arg0._adjustSizeToContent
	local f25_local1 = f25_arg0:GetNumColumns()
	local f25_local2 = f25_arg0:GetNumRows()
	local f25_local3 = f25_arg0:GetPrimaryAxis()
	f25_local0.EstimateIndexGridPosition = function ( f26_arg0 )
		local f26_local0 = f26_arg0 - 1
		if f25_arg0 == LUI.DIRECTION.horizontal then
			local f26_local1 = f25_arg0
			assert( 0 < f26_local1 )
			local f26_local2 = math.floor( f26_local0 / f26_local1 )
			return {
				x = f26_local0 - f26_local2 * f26_local1,
				y = f26_local2
			}
		else
			local f26_local1 = f25_arg0
			assert( 0 < f26_local1 )
			local f26_local2 = math.floor( f26_local0 / f26_local1 )
			return {
				x = f26_local2,
				y = f26_local0 - f26_local2 * f26_local1
			}
		end
	end
	
end

local f0_local33 = function ( f24_arg0, f24_arg1, f24_arg2, f24_arg3 )
	local f24_local0 = f24_arg0._hideable
	if not f24_local0.animated then
		f24_arg3 = true
	end
	if f24_local0.state == f0_local0.UNINITIALISED then
		if f24_arg1 and not f24_local0.pendingEvent then
			f24_local0.pendingEvent = {
				hidden = f24_arg1,
				controllerIndex = f24_arg2,
				instantly = f24_arg3
			}
		elseif not f24_arg1 and f24_local0.pendingEvent then
			f24_local0.pendingEvent = nil
		end
		return 
	elseif f24_local0.state == f0_local0.UNHIDDEN and f24_arg1 then
		for f24_local5, f24_local6 in ipairs( f24_arg0:GetBuiltChildren() ) do
			local f24_local7 = f24_local6
			local f24_local8 = f24_local6.SetAlpha
			local f24_local4 = f24_local0.alphas[f24_local6]
			if not f24_local4 then
				f24_local4 = 1
			end
		end
		if f24_arg3 then
			f0_local0( f24_arg0, f24_arg2, f0_local0.UNHIDDEN, f0_local0.HIDDEN )
		elseif f0_local0( f24_arg0 ) > LUI.UIGrid.GRID_EPSILON then
			f0_local0( f24_arg0, f24_arg2, f0_local0.UNHIDDEN, f0_local0.SCROLLING )
		else
			f0_local0( f24_arg0, f24_arg2, f0_local0.UNHIDDEN, f0_local0.HIDING )
		end
		f24_local8( f24_local7, f24_local4 )
	elseif f24_local0.state == f0_local0.HIDDEN and not f24_arg1 then
		for f24_local5, f24_local6 in ipairs( f24_arg0:GetBuiltChildren() ) do
			local f24_local7 = f24_local6
			local f24_local8 = f24_local6.SetAlpha
			local f24_local4 = f24_local0.alphas[f24_local6]
			if not f24_local4 then
				f24_local4 = 1
			end
		end
		if f24_arg3 then
			f0_local0( f24_arg0, f24_arg2, f0_local0.HIDDEN, f0_local0.UNHIDDEN )
		elseif f0_local0( f24_arg0 ) > LUI.UIGrid.GRID_EPSILON then
			f0_local0( f24_arg0, f24_arg2, f0_local0.HIDDEN, f0_local0.SCROLLING )
		else
			f0_local0( f24_arg0, f24_arg2, f0_local0.HIDDEN, f0_local0.UNHIDING )
		end
		f24_local8( f24_local7, f24_local4 )
	elseif f24_local0.state == f0_local0.HIDING and not f24_arg1 then
		f24_local0.enableHidingCallback = false
		f0_local0( f24_arg0 )
		f0_local0( f24_arg0, f24_arg2, f0_local0.HIDDEN, f0_local0.UNHIDDEN )
	elseif f24_local0.state == f0_local0.UNHIDING and f24_arg1 then
		f24_local0.enableUnhidingCallback = false
		f0_local0( f24_arg0 )
		f0_local0( f24_arg0, f24_arg2, f0_local0.UNHIDDEN, f0_local0.HIDDEN )
	elseif f24_local0.state == f0_local0.SCROLLING then
		f24_local0.OnPositionVisible = nil
		f24_arg0:SetTargetRow( 0, false, true )
		f24_arg0:SetTargetColumn( 0, false, true )
		if f24_local0.hidden and not f24_arg1 then
			f0_local0( f24_arg0, f24_arg2, f0_local0.HIDDEN, f0_local0.UNHIDDEN )
		elseif not f24_local0.hidden and f24_arg1 then
			f0_local0( f24_arg0, f24_arg2, f0_local0.UNHIDDEN, f0_local0.HIDDEN )
		end
	end
end

local f0_local34 = function ( f23_arg0 )
	local f23_local0 = f23_arg0._hideable
	if f23_local0.state == f0_local0.UNINITIALISED then
		assert( not f23_local0.hidden, "SetItemsHidden is uninitialised, cannot unhide it" )
		f0_local0( f23_arg0 )
		f23_local0.state = f0_local0.UNHIDDEN
		f23_local0.hidden = false
		if f23_local0.pendingEvent then
			local f23_local1 = f23_local0.pendingEvent
			f0_local0( f23_arg0, f23_local1.hidden, f23_local1.controllerIndex, f23_local1.instantly )
			f23_local0.pendingEvent = {}
		end
	end
	if f23_local0.OnLayout then
		f23_local0.OnLayout()
		f23_local0.OnLayout = nil
	end
end

LUI.HasHideableItemsLogic = function ( f22_arg0, f22_arg1 )
	return f22_arg0._hideable ~= nil
end

LUI.AddHideableItemsLogic = function ( f18_arg0, f18_arg1, f18_arg2 )
	assert( f18_arg2.items )
	assert( f18_arg0._hideable == nil, "LUI.AddHideableItemsLogic expects to be called at most once per widget" )
	local f18_local0 = {}
	local f18_local1 = {}
	for f18_local5, f18_local6 in ipairs( f18_arg2.items ) do
		table.insert( f18_local0, {
			item = f18_local6
		} )
		f18_local1[f18_local6] = f18_local6:GetAlpha()
	end
	f18_arg0._hideable = {
		items = f18_local0,
		hidden = f18_arg2.hidden or false,
		FocusNearestElement = f18_arg2.FocusNearestElement or function ( f21_arg0, f21_arg1, f21_arg2 )
			
		end
		,
		ShowElement = f18_arg2.ShowElement or function ( f20_arg0, f20_arg1, f20_arg2, f20_arg3 )
			
		end
		,
		HideElement = f18_arg2.HideElement or function ( f19_arg0, f19_arg1, f19_arg2 )
			
		end
		,
		alphas = f18_local1
	}
	f18_arg0.SetItemsHidden = f0_local0
	if f18_arg0._hideable.hidden then
		f18_arg0._hideable.hidden = false
		f18_arg0:SetItemsHidden( true, f18_arg1, true )
	end
end

LUI.AddHideableItemsLogicToGrid = function ( f11_arg0, f11_arg1, f11_arg2 )
	assert( f11_arg0 ~= nil )
	assert( f11_arg0._hideable == nil, "LUI.AddHideableItemsLogicToGrid expects to be called at most once per widget" )
	local f11_local0 = f0_local0( f11_arg2.items )
	f11_local0.animated = f11_arg2.animated or false
	if f11_arg2.OnItemsHidden then
		f11_local0.OnItemsHidden = f11_arg2.OnItemsHidden
	end
	if f11_arg2.ItemPosition then
		f11_local0.ItemPosition = f11_arg2.ItemPosition
	end
	if f11_arg2.durationMultiplier then
		f11_local0.fadeDuration = f0_local0 * f11_arg2.durationMultiplier
		f11_local0.collapseDuration = f0_local0 * f11_arg2.durationMultiplier
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( "#x3872653e256e51daa" ) then
		f11_local0.animated = f11_arg2.animated or true
	end
	for f11_local4, f11_local5 in ipairs( f11_arg2.items ) do
		if not f11_arg2.IsHideableItem( f11_local5 ) then
			table.insert( f11_local0.newItems, f11_local5 )
			f11_local0.newIndexToIndexMap[#f11_local0.newItems - 1] = f11_local4 - 1
			f11_local0.indexToNewIndexMap[f11_local4 - 1] = #f11_local0.newItems - 1
		end
	end
	local f11_local6
	if f11_arg2.defaultFocusIndex then
		f11_local0.defaultFocusIndex_ = f11_arg2.defaultFocusIndex
		f11_local0.defaultFocusIndexNew_ = nil
		local f11_local7 = #f11_local0.items
		local f11_local8 = f11_arg2.IsHideableItem( f11_local0.items[f11_local0.defaultFocusIndex_ + 1] )
		f11_local6 = f11_local0.defaultFocusIndex_
		f11_local0.defaultFocusIndexNew_ = f11_local6
	end
	f11_local1 = f11_local7 and f11_local8 or f11_local6
	f11_local6 = f0_local0
	f11_arg0.SetItemsHidden = f11_local1
	f11_arg0._GetContentIndex = f11_arg0.GetContentIndex
	f11_arg0.GetContentIndex = function ( f17_arg0, f17_arg1, f17_arg2, f17_arg3 )
		local f17_local0 = f17_arg0:_GetContentIndex( f17_arg1, f17_arg2, f17_arg3 )
		if f17_arg0._hideable and f17_arg0._hideable.hidden then
			return f17_arg0._hideable.newIndexToIndexMap[f17_local0] or 0
		else
			return f17_local0
		end
	end
	
	f11_arg0._GetFocusPositionIndex = f11_arg0.GetFocusPositionIndex
	f11_arg0.GetFocusPositionIndex = function ( f16_arg0, f16_arg1 )
		local f16_local0 = f16_arg0:_GetFocusPositionIndex( f16_arg0, f16_arg1 )
		if f16_arg0._hideable and f16_arg0._hideable.hidden then
			return f16_arg0._hideable.newIndexToIndexMap[f16_local0] or 0
		else
			return f16_local0
		end
	end
	
	f11_arg0._GetPositionForIndex = f11_arg0.GetPositionForIndex
	f11_arg0.GetPositionForIndex = function ( f15_arg0, f15_arg1, f15_arg2 )
		if f15_arg0._hideable and f15_arg0._hideable.hidden then
			local f15_local0 = f15_arg0._hideable.indexToNewIndexMap[f15_arg1]
			local f15_local1 = f15_arg0
			local f15_local2 = f15_arg0._GetPositionForIndex
			local f15_local3
			if not f15_local0 then
				f15_local3 = f15_local0
			else
				f15_local3 = f15_arg1
			end
			return f15_local2( f15_local1, f15_local3, f15_arg2 )
		else
			return f15_arg0:_GetPositionForIndex( f15_arg1, f15_arg2 )
		end
	end
	
	if not f11_arg0._addedLayoutInitialisedHandler then
		f11_arg0:SetNotifyOnLayoutInit( true )
		f11_arg0:addEventHandler( "layout_initialized", function ( f14_arg0, f14_arg1 )
			if f14_arg0._hideable then
				f11_arg0( f14_arg0 )
			end
		end )
		f11_arg0:addEventHandler( "grid_size_updated", function ( f13_arg0, f13_arg1 )
			if f11_arg0._hideable then
				f11_arg0( f11_arg0 )
			end
		end )
		f11_arg0._addedLayoutInitialisedHandler = true
	end
	if not f11_arg0._addedPositionVisibleHandler then
		f11_arg0:addEventHandler( "position_visible", function ( f12_arg0, f12_arg1 )
			if f12_arg0._hideable and f12_arg0._hideable.OnPositionVisible then
				f12_arg0._hideable.OnPositionVisible( f12_arg1.column, f12_arg1.row )
			end
		end )
		f11_arg0._addedPositionVisibleHandler = true
	end
	f11_arg0._hideable = f11_local0
	f11_arg0:SetNumChildren( #f11_local0.items )
	if 0 < #f11_local0.items and f11_local0.defaultFocusIndex_ then
		f11_arg0:SetDefaultFocus( f11_arg0:GetPositionForIndex( f11_local0.defaultFocusIndex_, {
			relativePosition = false
		} ) )
	end
	if 0 < #f11_local0.items and f11_arg2.hidden == true then
		f11_arg0:SetItemsHidden( true, f11_arg1, true )
	end
end

LUI.RemoveHideableItemsLogic = function ( f10_arg0, f10_arg1, f10_arg2 )
	assert( f10_arg0._hideable ~= nil, "LUI.RemoveHideableItemsLogic called but no HideableItemsLogic was found" )
	if f10_arg0._hideable.hidden and (f10_arg2 == nil or f10_arg2.resetState ~= false) then
		f10_arg0:SetItemsHidden( false, f10_arg1, true )
	end
	if f10_arg0._GetContentIndex then
		f10_arg0.GetContentIndex = f10_arg0._GetContentIndex
		f10_arg0._GetContentIndex = nil
	end
	if f10_arg0._GetFocusPositionIndex then
		f10_arg0.GetFocusPositionIndex = f10_arg0._GetFocusPositionIndex
		f10_arg0._GetFocusPositionIndex = nil
	end
	if f10_arg0._GetPositionForIndex then
		f10_arg0.GetPositionForIndex = f10_arg0._GetPositionForIndex
		f10_arg0._GetPositionForIndex = nil
	end
	f10_arg0._hideable = nil
	f10_arg0.SetItemsHidden = nil
end

LUI.HideableItemsUtils = {}
LUI.HideableItemsUtils.FocusNearestElementList = function ( f8_arg0, f8_arg1, f8_arg2 )
	local f8_local0 = FocusType.MouseOver
	if LUI.IsLastInputGamepad( f8_arg2 ) then
		f8_local0 = FocusType.Gamepad
	end
	local f8_local1 = function ( f9_arg0, f9_arg1 )
		local f9_local0 = 1
		if f9_arg0:getFirstChild() then
			
		else
			
		end
		return nil
	end
	
	f8_local1 = f8_local1( f8_arg0, f8_arg1 )
	if f8_local1 then
		local f8_local2 = 1
		if f8_arg0:getFirstChild() then
			
		else
			
		end
		local f8_local3 = 0
		for f8_local4 = f8_local1 + 1, f8_local2, 1 do
			local f8_local7 = f8_arg0:GetElementAtIndex( f8_local4 )
			if f8_local7 and f8_local7:TreeCanFocus( f8_local0 ) then
				f8_local3 = f8_local4
				break
			end
		end
		if f8_local3 == 0 then
			for f8_local4 = f8_local1 - 1, 1, -1 do
				local f8_local7 = f8_arg0:GetElementAtIndex( f8_local4 )
				if f8_local7 and f8_local7:TreeCanFocus( f8_local0 ) then
					f8_local3 = f8_local4
					break
				end
			end
		end
		if 0 < f8_local3 then
			local f8_local4 = f8_arg0:GetElementAtIndex( f8_local3 )
			f8_local4:processEvent( {
				name = "gain_focus",
				controller = f8_arg2
			} )
			return f8_local4
		end
	end
	return nil
end

LUI.HideableItemsUtils.ShowElementVerticalList = function ( f6_arg0, f6_arg1, f6_arg2, f6_arg3 )
	local f6_local0 = f6_arg1
	local f6_local1 = f6_arg1.SetAnchorsAndPosition
	local f6_local2 = 0
	local f6_local3 = 1
	local f6_local4 = 0
	local f6_local5 = 1
	local f6_local6 = 0
	local f6_local7 = 430 * _1080p
	local f6_local8 = 0
	local f6_local9 = 50 * _1080p
	local f6_local10
	if f6_arg2 then
		f6_local10 = 0
	else
		f6_local10 = f0_local0
	end
	f6_local1( f6_local0, f6_local2, f6_local3, f6_local4, f6_local5, f6_local6, f6_local7, f6_local8, f6_local9, f6_local10 )
	if f6_arg2 then
		f6_arg1:SetAlpha( f6_arg3.alpha )
	else
		f6_arg1._allowUnhideTween = true
		f6_local1 = f6_arg1:Wait( f0_local0 )
		f6_local1.onComplete = function ()
			if f6_arg0._allowUnhideTween then
				f6_arg0:SetAlpha( f6_arg0.alpha, f6_arg0 )
			end
		end
		
	end
end

LUI.HideableItemsUtils.HideElementVerticalList = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = {
		alpha = f5_arg1:GetAlpha()
	}
	if f5_local0.alpha ~= 0 then
		f5_arg1:SetAlpha( 0 )
	end
	local f5_local1 = f5_arg1
	local f5_local2 = f5_arg1.SetAnchorsAndPosition
	local f5_local3 = 0
	local f5_local4 = 1
	local f5_local5 = 0
	local f5_local6 = 1
	local f5_local7 = 0
	local f5_local8 = 430 * _1080p
	local f5_local9 = 0
	local f5_local10 = 0 * _1080p
	local f5_local11
	if f5_arg2 then
		f5_local11 = 0
	else
		f5_local11 = f0_local0
	end
	f5_local2( f5_local1, f5_local3, f5_local4, f5_local5, f5_local6, f5_local7, f5_local8, f5_local9, f5_local10, f5_local11 )
	return f5_local0
end

LUI.HideableItemsUtils.FocusNearestElementInArray = function ( f4_arg0, f4_arg1, f4_arg2, f4_arg3 )
	local f4_local0 = FocusType.MouseOver
	if LUI.IsLastInputGamepad( f4_arg2 ) then
		f4_local0 = FocusType.Gamepad
	end
	local f4_local1 = nil
	for f4_local5, f4_local6 in ipairs( f4_arg3 ) do
		if f4_local6 == f4_arg1 or f4_arg1:isDescendentOf( f4_local6 ) then
			f4_local1 = f4_local5
			break
		end
	end
	if f4_local1 then
		f4_local2 = nil
		for f4_local3 = f4_local1 + 1, #f4_arg3, 1 do
			if f4_arg3[f4_local3]:TreeCanFocus( f4_local0 ) then
				f4_local2 = f4_arg3[f4_local3]
				break
			end
		end
		if f4_local2 == nil then
			for f4_local3 = f4_local1 - 1, 1, -1 do
				if f4_arg3[f4_local3]:TreeCanFocus( f4_local0 ) then
					f4_local2 = f4_arg3[f4_local3]
					break
				end
			end
		end
		if f4_local2 ~= nil then
			f4_local2:processEvent( {
				name = "gain_focus",
				controller = f4_arg2
			} )
		end
	end
end

LUI.HideableItemsUtils.GetChildren = function ( f3_arg0 )
	local f3_local0 = {}
	local f3_local1 = f3_arg0:getFirstChild()
	if f3_local1 then
		table.insert( f3_local0, f3_local1 )
	end
	if f3_local1 then
		
	else
		
	end
	return f3_local0
end

LUI.HideableItemsUtils.NavigationMap = function ( f2_arg0, f2_arg1 )
	local f2_local0 = {}
	for f2_local4, f2_local5 in ipairs( f2_arg1 ) do
		if f2_local5.navigation then
			f2_local0[f2_local5] = LUI.ShallowCopy( f2_local5.navigation )
		end
	end
	return f2_local0
end

LUI.HideableItemsUtils.RoutedNavigationMap = function ( f1_arg0, f1_arg1, f1_arg2 )
	local f1_local0 = LUI.HideableItemsUtils.NavigationMap( f1_arg0, f1_arg1 )
	for f1_local8, f1_local9 in pairs( f1_local0 ) do
		if LUI.IsItemInArray( f1_arg2, f1_local8 ) ~= nil then
			if f1_local9.up and f1_local9.down then
				local f1_local4 = f1_local9.up
				local f1_local5
				if LUI.IsItemInArray( f1_arg1, f1_local4 ) and not f1_local4 then
					f1_local5 = f1_local4
				else
					f1_local5 = f1_local4:getParent()
				end
				assert( f1_local5 ~= nil )
				local f1_local6 = f1_local9.down
				local f1_local7
				if LUI.IsItemInArray( f1_arg1, f1_local6 ) and not f1_local6 then
					f1_local7 = f1_local6
				else
					f1_local7 = f1_local6:getParent()
				end
				assert( f1_local7 ~= nil )
				if f1_local0[f1_local5] then
					f1_local0[f1_local5].down = f1_local6
				end
				if f1_local0[f1_local7] then
					f1_local0[f1_local7].up = f1_local4
				end
			end
			if f1_local9.left and f1_local9.right then
				local f1_local4 = f1_local9.left
				local f1_local5
				if LUI.IsItemInArray( f1_arg1, f1_local4 ) and not f1_local4 then
					f1_local5 = f1_local4
				else
					f1_local5 = f1_local4:getParent()
				end
				assert( f1_local5 ~= nil )
				local f1_local6 = f1_local9.right
				local f1_local7
				if LUI.IsItemInArray( f1_arg1, f1_local6 ) and not f1_local6 then
					f1_local7 = f1_local6
				else
					f1_local7 = f1_local6:getParent()
				end
				assert( f1_local7 ~= nil )
				if f1_local0[f1_local5] then
					f1_local0[f1_local5].right = f1_local6
				end
				if f1_local0[f1_local7] then
					f1_local0[f1_local7].left = f1_local4
				end
			end
		end
	end
	return f1_local0
end

