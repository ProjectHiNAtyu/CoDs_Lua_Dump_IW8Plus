-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:01
PlayercardUtils = PlayercardUtils or {}
PlayercardUtils.PlayerCardModelPath = "frontEnd.MP.conquest.Headquarters.callingCardEditors.smallPlayerCard"
PlayercardUtils.GetDataSources = function ( f2_arg0 )
	assert( f2_arg0 )
	local f2_local0 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".fullName" )
	local f2_local1 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".crossplayName" )
	local f2_local2 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".crossplayNameWithHash" )
	local f2_local3 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".platformName" )
	local f2_local4 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".platformNameWithHash" )
	local f2_local5 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".prestige" )
	local f2_local6 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".rank" )
	local f2_local7 = LUI.AggregateDataSource.new( f2_local6, {
		f2_local6,
		f2_local5
	}, "rankIcon", Rank.MakeRankIconAggregateFunction( f2_local6, f2_local5 ) )
	local f2_local8 = LUI.AggregateDataSource.new( f2_local6, {
		f2_local6,
		f2_local5
	}, "display", Rank.MakeRankDisplayAggregateFunction( f2_local6, f2_local5, true ) )
	local f2_local9 = f2_local5:Filter( "isMasterPrestige", Rank.IsMasterPrestige )
	local f2_local10 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".customEmblemEquipped" )
	local f2_local11 = LUI.FilteredDataSource.new( LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".emblemIndex" ), "emblem", function ( f3_arg0, f3_arg1 )
		return EmblemEditorUtils.GetEmblemImageFromID( f3_arg0 )
	end )
	local f2_local12 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".backgroundIndex" )
	local f2_local13 = f2_local12:Filter( "background", CallingCardUtils.GetCardTexture )
	local f2_local14 = Engine[0x29DFACECF20DE0E]( f2_arg0 )
	local f2_local15 = LUI.DataSourceInControllerModel.new( PlayercardUtils.PlayerCardModelPath .. ".xuid", f2_local14 )
	f2_local15:SetValue( f2_arg0, f2_local14 )
	return {
		xuid = f2_local15,
		fullName = f2_local0,
		crossplayName = f2_local1,
		crossplayNameWithHash = f2_local2,
		platformName = f2_local3,
		platformNameWithHash = f2_local4,
		displayRank = f2_local8,
		rankIcon = f2_local7,
		rank = f2_local6,
		isMasterPrestige = f2_local9,
		emblem = f2_local11,
		customEmblemEquipped = f2_local10,
		prestige = f2_local5,
		background = f2_local13
	}
end

PlayercardUtils.PlayerDataFromDataSource = function ( f1_arg0 )
	assert( f1_arg0, "Controller index not provided to PlayercardUtils.PlayerDataFromDataSource." )
	local f1_local0 = PlayercardUtils.GetDataSources( f1_arg0 )
	local f1_local1 = {}
	local f1_local2 = f1_local0.xuid
	local f1_local3 = assert
	local f1_local4
	if f1_local2 then
		f1_local4 = f1_local2
	else
		f1_local4 = type( f1_local2 ) == "table"
	end
	f1_local3( f1_local4 )
	f1_local1.xuid = f1_local2:GetValue( f1_arg0 )
	f1_local3 = f1_local0.fullName
	local f1_local5 = assert
	local f1_local6
	if f1_local3 then
		f1_local6 = f1_local3
	else
		f1_local6 = type( f1_local3 ) == "table"
	end
	f1_local5( f1_local6 )
	f1_local1.fullName = f1_local3:GetValue( f1_arg0 )
	f1_local5 = f1_local0.crossplayName
	f1_local4 = assert
	local f1_local7
	if f1_local5 then
		f1_local7 = f1_local5
	else
		f1_local7 = type( f1_local5 ) == "table"
	end
	f1_local4( f1_local7 )
	f1_local1.crossplayName = f1_local5:GetValue( f1_arg0 )
	f1_local4 = f1_local0.crossplayNameWithHash
	f1_local6 = assert
	local f1_local8
	if f1_local4 then
		f1_local8 = f1_local4
	else
		f1_local8 = type( f1_local4 ) == "table"
	end
	f1_local6( f1_local8 )
	f1_local1.crossplayNameWithHash = f1_local4:GetValue( f1_arg0 )
	f1_local6 = f1_local0.platformName
	f1_local7 = assert
	local f1_local9
	if f1_local6 then
		f1_local9 = f1_local6
	else
		f1_local9 = type( f1_local6 ) == "table"
	end
	f1_local7( f1_local9 )
	f1_local1.platformName = f1_local6:GetValue( f1_arg0 )
	f1_local7 = f1_local0.platformNameWithHash
	f1_local8 = assert
	local f1_local10
	if f1_local7 then
		f1_local10 = f1_local7
	else
		f1_local10 = type( f1_local7 ) == "table"
	end
	f1_local8( f1_local10 )
	f1_local1.platformNameWithHash = f1_local7:GetValue( f1_arg0 )
	f1_local8 = f1_local0.background
	f1_local9 = assert
	local f1_local11
	if f1_local8 then
		f1_local11 = f1_local8
	else
		f1_local11 = type( f1_local8 ) == "table"
	end
	f1_local9( f1_local11 )
	f1_local1.backgroundMaterial = f1_local8:GetValue( f1_arg0 )
	f1_local9 = f1_local0.emblem
	f1_local10 = assert
	local f1_local12
	if f1_local9 then
		f1_local12 = f1_local9
	else
		f1_local12 = type( f1_local9 ) == "table"
	end
	f1_local10( f1_local12 )
	f1_local1.emblemMaterial = f1_local9:GetValue( f1_arg0 )
	f1_local10 = f1_local0.rank
	f1_local11 = assert
	local f1_local13
	if f1_local10 then
		f1_local13 = f1_local10
	else
		f1_local13 = type( f1_local10 ) == "table"
	end
	f1_local11( f1_local13 )
	f1_local1.baseRank = f1_local10:GetValue( f1_arg0 )
	f1_local11 = f1_local0.prestige
	f1_local12 = assert
	local f1_local14
	if f1_local11 then
		f1_local14 = f1_local11
	else
		f1_local14 = type( f1_local11 ) == "table"
	end
	f1_local12( f1_local14 )
	f1_local1.prestige = f1_local11:GetValue( f1_arg0 )
	f1_local1.clientPlatform = Engine[0x5AE97B58D7132F3]()
	f1_local1.presencePlatform = ClientPlatformToPresencePlatform[f1_local1.clientPlatform]
	if CONDITIONS.IsBattleNetSocial() then
		f1_local1.onlineStatus = Social[0xCF9F41416A7542]( Engine[0x29DFACECF20DE0E]( 0 ), true )
	else
		f1_local1.onlineStatus = BattleNetOnlineStatus.ONLINE
	end
	f1_local1.cardType = FRIENDS.ProfileCardType.YOU_TYPE
	f1_local1.isMyPlayer = true
	return f1_local1
end

