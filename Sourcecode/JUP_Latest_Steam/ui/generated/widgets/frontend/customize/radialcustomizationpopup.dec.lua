-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
module( ..., package.seeall )
require( "ui.generated.widgets.ingame.radialmenu" )
local f0_local0 = function ( f17_arg0, f17_arg1, f17_arg2 )
	local f17_local0 = LUI.IsLastInputGamepad( f17_arg1 )
	local f17_local1 = f17_arg0
	local f17_local2 = f17_arg0.SetKeepSelectionWhileInDeadZone
	local f17_local3
	if f17_local0 then
		f17_local3 = f17_local0
	else
		f17_local3 = not f17_arg2
	end
	f17_local2( f17_local1, f17_local3 )
	f17_arg0:SetUseBothThumbsticks( true )
	f17_arg0:SetActive( true )
	f17_arg0:SetAlpha( 1 )
	f17_local2 = f17_arg0.CancelLabel
	f17_local1 = f17_local2
	f17_local2 = f17_local2.setText
	if f17_local0 then
		f17_local3 = Engine[0xED84C33EC5F01EA]( 0x678DCE0E97FD19C )
		if not f17_local3 then
		
		else
			f17_local2( f17_local1, f17_local3 )
			f17_local2 = f17_arg0.CommandsLabel
			f17_local1 = f17_local2
			f17_local2 = f17_local2.setText
			if f17_local0 then
				f17_local3 = Engine[0xED84C33EC5F01EA]( 0xB0E1D6DE9ECB360 )
				if not f17_local3 then
				
				else
					f17_local2( f17_local1, f17_local3 )
					f17_local2 = f17_arg0.CommandsButton
					f17_local1 = f17_local2
					f17_local2 = f17_local2.setText
					if f17_local0 then
						f17_local3 = Engine[0xED84C33EC5F01EA]( 0xD1BDFA3B4C1D8FF )
						if not f17_local3 then
						
						else
							f17_local2( f17_local1, f17_local3 )
							f17_local2 = f17_arg0.CancelMouseButton
							f17_local1 = f17_local2
							f17_local2 = f17_local2.setText
							if f17_local0 then
								f17_local3 = Engine[0xED84C33EC5F01EA]( 0x4C4B7B2FF4A57EE )
								if not f17_local3 then
								
								else
									f17_local2( f17_local1, f17_local3 )
									f17_local2 = f17_arg0.SelectButtonLabel
									f17_local1 = f17_local2
									f17_local2 = f17_local2.setText
									if f17_local0 then
										f17_local3 = Engine[0xED84C33EC5F01EA]( 0x7D9DC9E3291E103 )
										if not f17_local3 then
										
										else
											f17_local2( f17_local1, f17_local3 )
											f17_local2 = f17_arg0.SelectButtonPrompt
											f17_local1 = f17_local2
											f17_local2 = f17_local2.setText
											if f17_local0 then
												f17_local3 = Engine[0xED84C33EC5F01EA]( 0xA19AA58784CBA8E )
												if not f17_local3 then
												
												else
													f17_local2( f17_local1, f17_local3 )
													if f17_arg2 then
														f17_arg0:SetAllowNavigation( false )
													end
													f17_local2 = Engine[0x4F2A2C997DB66C9]() == 1
													local f17_local4 = f17_arg0.Hint
													f17_local3 = f17_local4
													f17_local4 = f17_local4.setText
													local f17_local5
													if f17_local2 then
														f17_local5 = Engine[0xED84C33EC5F01EA]( 0x3902583DCEECE36 )
														if not f17_local5 then
														
														else
															f17_local4( f17_local3, f17_local5 )
														end
													end
													f17_local5 = Engine[0xED84C33EC5F01EA]( 0x6DD13FD78B93551 )
												end
											end
											f17_local3 = ""
										end
									end
									f17_local3 = ""
								end
							end
							f17_local3 = ""
						end
					end
					f17_local3 = ""
				end
			end
			f17_local3 = ""
		end
	end
	f17_local3 = ""
end

local f0_local1 = function ( f16_arg0, f16_arg1 )
	local f16_local0 = f16_arg0.RadialMenu:GetSelectedWidget()
	f16_local0.Icon:setImage( f16_arg0.RadialButton.Image:GetImage() )
	ACTIONS.AnimateSequence( f16_local0, "Available" )
	ACTIONS.AnimateSequence( f16_local0, "Pulse" )
	local f16_local1 = f16_arg0:Wait( 400 )
	f16_local1.onComplete = f16_arg1
end

local f0_local2 = function ( f11_arg0, f11_arg1, f11_arg2 )
	if not f11_arg2.previewMode then
		local f11_local0 = function ( f14_arg0, f14_arg1 )
			if f11_arg0._hasEquipped then
				
			else
				
			end
			local f14_local0 = f11_arg0.RadialMenu:GetSelectedIndex()
			if GESTURES.IsGimmeSlotActive( f14_local0, f11_arg0 ) then
				
			else
				
			end
			if f14_arg1.qualifier == "keyboard" and f14_local0 < 0 then
				
			else
				
			end
			f11_arg0:deregisterEventHandler( "button_secondary" )
			f11_arg0.menu:EquipSelection( f11_arg0, f14_local0 )
			f11_arg0._hasEquipped = true
			f11_arg0( f11_arg0, function ()
				f14_arg0.menu:ClosePopupAction( f14_arg0 )
				ACTIONS.LeaveMenu( f14_arg0 )
			end )
		end
		
		f11_arg0.RadialMenu:addEventHandler( "leftmousedown", f11_local0 )
		f11_arg0:AddGamepadEventCallback( "button_primary", f11_local0 )
	else
		f11_arg0:AddGamepadEventCallback( "button_alt1", function ( f13_arg0, f13_arg1 )
			f11_arg0.menu:ClosePopupPreviewAction()
			ACTIONS.LeaveMenu( f13_arg0 )
		end )
	end
	f11_arg0:AddGamepadEventCallback( "button_secondary", function ( f12_arg0, f12_arg1 )
		local f12_local0 = f12_arg1.controller or f11_arg0
		if not f11_arg0.previewMode then
			f11_arg0.menu:ClosePopupAction( f12_local0 )
		else
			f11_arg0.menu:ClosePopupPreviewAction()
		end
		ACTIONS.LeaveMenu( f12_arg0 )
	end )
end

local f0_local3 = function ( f7_arg0, f7_arg1, f7_arg2 )
	f7_arg0.RadialButton = MenuBuilder.BuildRegisteredType( "RadialCustomizationButton", {
		controllerIndex = f7_arg1
	} )
	f7_arg0.RadialButton.id = "FocusedButton"
	ACTIONS.AnimateSequence( f7_arg0.RadialButton, "ButtonOver" )
	f7_arg0.RadialButton.Image:setImage( f7_arg2.button.Image:GetImage() )
	f7_arg0.RadialButton:SetQuality( f7_arg2.button.rarity )
	f7_arg0.RadialButton:SetSelected( f7_arg2.button.isSelected )
	f7_arg0.RadialButton:SetFavorite( f7_arg2.button.isFavorite )
	f7_arg0:addElement( f7_arg0.RadialButton )
	local f7_local0 = f7_arg2.button:GetAnchorsAndPosition()
	local f7_local1 = function ()
		f7_arg0.RadialButton:SetAnchorsAndPosition( f7_arg0.leftAnchor, f7_arg0.rightAnchor, f7_arg0.topAnchor, f7_arg0.bottomAnchor, f7_arg0.left + f7_arg0.gridLeft, f7_arg0.right + f7_arg0.gridLeft, f7_arg0.top + f7_arg0.gridTop, f7_arg0.bottom + f7_arg0.gridTop )
	end
	
	f7_local1()
	f7_local1 = 0
	local f7_local2 = 10
	local f7_local3 = nil
	local f7_local4 = function ( f8_arg0 )
		local f8_local0 = f7_arg0.button:GetAnchorsAndPosition()
		if f7_arg0 == f8_local0 then
			f7_arg0 = f7_arg0 + 1
		else
			f7_arg0 = f8_local0
		end
		if f7_arg0 <= f7_arg0 then
			f8_arg0 = false
		end
		f7_arg0()
		if f8_arg0 then
			local f8_local1 = f7_arg0:Wait( 16 )
			f8_local1.onComplete = function ()
				f8_arg0( f8_arg0 )
			end
			
		end
	end
	
	f7_local4( true )
end

local f0_local4 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0._controllerIndex = f2_arg1
	f0_local0( f2_arg0, f2_arg1, f2_arg2 )
	if f2_arg2.button and f2_arg2.gridLeft and f2_arg2.gridTop then
		f0_local0( f2_arg0, f2_arg1, f2_arg2 )
	end
	if f2_arg2.previewMode then
		f2_arg0:SetHandleMouse( true )
		f2_arg0:addEventHandler( "rightmousedown", function ( f6_arg0, f6_arg1 )
			f2_arg0.menu:ClosePopupPreviewAction()
			ACTIONS.LeaveMenu( f6_arg0 )
		end )
		ACTIONS.AnimateSequence( f2_arg0.RadialMenu, "PreviewMode" )
	end
	f2_arg0:registerEventHandler( "opening_quick_access_menu", function ( element, event )
		ACTIONS.LeaveMenu( element )
	end )
	f2_arg0.RadialMenu:SubscribeToInputTypeModel( f2_arg1, function ( f4_arg0, f4_arg1 )
		if f4_arg1.CommandsLabel and f4_arg1.CommandsButton then
			local f4_local0 = f4_arg1._controllerIndex
			if CONDITIONS.IsKbm( f4_local0 ) then
				f4_arg1.CommandsLabel:setText( "" )
				f4_arg1.CommandsButton:setText( "" )
				f4_arg1:SetKeepSelectionWhileInDeadZone( false )
			else
				f4_arg1.CommandsLabel:setText( Engine[0xED84C33EC5F01EA]( 0xB0E1D6DE9ECB360 ) )
				f4_arg1.CommandsButton:setText( Engine[0xED84C33EC5F01EA]( 0xD1BDFA3B4C1D8FF ) )
				f4_arg1:SetKeepSelectionWhileInDeadZone( true )
			end
			f2_arg0( f2_arg0, f4_local0, f2_arg0.previewMode )
		end
	end )
	f2_arg0.RadialMenu:SetDisableInfiniteOuterRadius( true )
	f2_arg0.Darkener:SetHandleMouse( true )
	f2_arg0.Darkener:addEventHandler( "leftmouseup", function ( f3_arg0, f3_arg1 )
		ACTIONS.LeaveMenu( f2_arg0 )
	end )
end

function RadialCustomizationPopup( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = f1_local0.UIElement.new()
	f1_local2:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920, 0, 1080 )
	f1_local2.id = "RadialCustomizationPopup"
	local f1_local3
	if f1_arg1 then
		f1_local3 = f1_arg1
	else
		f1_local3 = f1_arg1.controllerIndex
	end
	f1_local3 = f1_local0.ValidateControllerIndex( f1_local2, f1_local3 )
	local f1_local4 = nil
	f1_local4 = f1_local0.UIImage.new()
	f1_local4[0x8B72E07B55C3AC0] = "Darkener"
	ACTIONS.ScaleFullscreen( f1_local4 )
	f1_local4:SetRGB( SWATCHES[0x1F5A9ABAC207F9D][0x8088E72737CAC80], 0 )
	f1_local4:SetAlpha( 0.5, 0 )
	f1_local4:SetAnchorsAndPosition( 0, 0, 0, 0, 2, 0, 0, 0 )
	f1_local2:addElement( f1_local4 )
	f1_local2[0x67F203F7FCD6A7D] = f1_local4
	local f1_local5 = nil
	f1_local5 = f1_local1.BuildRegisteredType( 0xF2B4E8C9AEEB8C1, {
		controllerIndex = f1_local3
	} )
	f1_local5[0x8B72E07B55C3AC0] = "RadialMenu"
	f1_local5:SetAnchorsAndPosition( 0, 1, 0, 1, 1264, 1776, 284, 796 )
	f1_local2:addElement( f1_local5 )
	f1_local2[0xF2B4E8C9AEEB8C1] = f1_local5
	f0_local0( f1_local2, f1_local3, f1_arg1 )
	return f1_local2
end

MenuBuilder.registerType( 0x5C5A24642AA1BE3, RadialCustomizationPopup )
LockTable( _M )
