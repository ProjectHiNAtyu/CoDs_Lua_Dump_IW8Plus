-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:03
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.events.seasonaleventsmenueventselectionbutton" )
require( "ui.generated.widgets.scrollbar.horizontalscrollbar" )
require( "ui.generated.widgets.frontend.challenges.weeklychallengesbutton" )
require( "ui.generated.menus.frontend.events.seasonaleventsingleeventmenu" )
local f0_local0 = function ( f9_arg0, f9_arg1 )
	f9_arg0.NoEventHeader:SetVisible( not f9_arg1 )
	f9_arg0.NoEventBody:SetVisible( not f9_arg1 )
	f9_arg0.NoEventBorder:SetVisible( not f9_arg1 )
	f9_arg0.NoEventBacker:SetVisible( not f9_arg1 )
	f9_arg0.EventGrid:SetVisible( f9_arg1 )
end

local f0_local1 = function ( f6_arg0 )
	f6_arg0._allEventData = SEASONAL_EVENT.GetAllActiveSeasonalEventDataForGameMode()
	f0_local0( f6_arg0, 0 < #f6_arg0._allEventData )
	f6_arg0.EventGrid:SetNumChildren( #f6_arg0._allEventData )
	f6_arg0.EventGrid:SetVisible( 0 < #f6_arg0._allEventData )
	f6_arg0.EventGrid:SetRefreshChild( function ( f7_arg0, f7_arg1, f7_arg2 )
		local f7_local0 = f6_arg0.EventGrid:GetContentIndex( f7_arg1, f7_arg2 ) + 1
		SEASONAL_EVENT.SetSelectedSeasonalEventIndex( f7_local0 )
		f7_arg0:SetupButton( f6_arg0._allEventData[f7_local0] )
		f7_arg0:registerEventHandler( "button_action", function ( element, event )
			SEASONAL_EVENT.OpenSingleEventMenu( f7_arg0._controllerIndex, f7_arg0 )
		end )
	end )
	f6_arg0.EventGrid:RefreshContent()
end

local f0_local2 = function ( f5_arg0 )
	f5_arg0.EventGrid.navigation = {}
	if f5_arg0.WeeklyChallengesButton then
		f5_arg0.EventGrid.navigation.down = f5_arg0.WeeklyChallengesButton
		f5_arg0.WeeklyChallengesButton.navigation = {}
		local f5_local0 = f5_arg0.WeeklyChallengesButton.navigation
		local f5_local1
		if 0 < #f5_arg0._allEventData then
			f5_local1 = f5_arg0.EventGrid
		else
			f5_local1 = false
		end
		f5_local0.up = f5_local1
		f5_local0 = ACTIONS.GainFocus
		local f5_local2 = f5_arg0
		local f5_local3
		if 0 < #f5_arg0._allEventData then
			f5_local3 = f5_arg0.EventGrid.id
			if not f5_local3 then
			
			else
				f5_local0( f5_local2, f5_local3, f5_arg0._controllerIndex )
			end
		end
		f5_local3 = f5_arg0.WeeklyChallengesButton.id
	elseif 0 < #f5_arg0._allEventData then
		ACTIONS.GainFocus( f5_arg0, f5_arg0.EventGrid.id, f5_arg0._controllerIndex )
	end
end

local f0_local3 = function ( f4_arg0, f4_arg1, f4_arg2 )
	f4_arg0._controllerIndex = f4_arg1
	f0_local0( f4_arg0 )
	f0_local0( f4_arg0 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xF7C1E81117A6E6F ) then
		SEASONAL_EVENT.ResetSeasonalEventOnboardingData( f4_arg1 )
		Engine[0xC5A4E68319C6904]( f4_arg1, Onboarding.tutorials.MINI_STORE )
		Engine[0xC5A4E68319C6904]( f4_arg1, Onboarding.tutorials.SEASONAL_EVENT_CHALLENGE )
		Engine[0xC5A4E68319C6904]( f4_arg1, Onboarding.tutorials.SEASONAL_EVENT_FIELDREP )
	end
end

function SeasonalEventsMenuEventSelection( f1_arg0, f1_arg1 )
	local f1_local0 = CONDITIONS
	local f1_local1 = LUI
	local f1_local2 = MenuBuilder
	local f1_local3 = f1_local1.UIElement.new()
	f1_local3:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920, 0, 1080 )
	f1_local3.id = "SeasonalEventsMenuEventSelection"
	local f1_local4
	if f1_arg1 then
		f1_local4 = f1_arg1
	else
		f1_local4 = f1_arg1.controllerIndex
	end
	f1_local4 = f1_local1.ValidateControllerIndex( f1_local3, f1_local4 )
	local f1_local5 = nil
	f1_local5 = f1_local1.UIImage.new()
	f1_local5[0x8B72E07B55C3AC0] = "Background"
	ACTIONS.ScaleFullscreen( f1_local5 )
	f1_local5:setImage( RegisterMaterial( 0x7893E493532A212 ), 0 )
	f1_local3:addElement( f1_local5 )
	f1_local3[0xD4176E7CA246EDD] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local1.UIGrid.new( {
		maxVisibleColumns = 3,
		maxVisibleRows = 1,
		columnWidth = 575,
		rowHeight = 775,
		spacingX = 10,
		wrapY = false,
		spacingY = 0,
		wrapX = false,
		controllerIndex = f1_local4,
		buildChild = function ()
			return f1_arg0.BuildRegisteredType( 0xE0E66452253B7F5, {
				controllerIndex = f1_arg0
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		primaryAxis = f1_local1.DIRECTION.horizontal,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1],
		verticalAlignment = f1_local1.Alignment.Middle,
		activeBehaviorType = GRID_AND_LIST.ActiveBehaviorType.NONE
	} )
	f1_local6[0x8B72E07B55C3AC0] = "EventGrid"
	f1_local6:setUseStencil( true )
	f1_local6:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -875, 875, -500, 400 )
	f1_local3:addElement( f1_local6 )
	f1_local3[0x9B078D1300016F3] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local2.BuildRegisteredType( 0x40DD6E46A5A464D, {
		controllerIndex = f1_local4
	} )
	f1_local7[0x8B72E07B55C3AC0] = "Scrollbar"
	f1_local7:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -345, 345, 376, 394 )
	f1_local3:addElement( f1_local7 )
	f1_local3[0xF0042112D8663D9] = f1_local7
	local f1_local8 = nil
	if f1_local0.IsWeeklyChallengeEnabled() then
		f1_local8 = f1_local2.BuildRegisteredType( 0x6FCC562FC6CE178, {
			controllerIndex = f1_local4
		} )
		f1_local8[0x8B72E07B55C3AC0] = "WeeklyChallengesButton"
		f1_local8:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -875, 875, -140, -65 )
		f1_local3:addElement( f1_local8 )
		f1_local3[0x6FCC562FC6CE178] = f1_local8
	end
	local f1_local9 = nil
	f1_local9 = f1_local1.UIImage.new()
	f1_local9[0x8B72E07B55C3AC0] = "NoEventBacker"
	f1_local9:SetRGB( SWATCHES[0x2B125210C0B2BB1][0xFF7ED79AE6DFB7D], 0 )
	f1_local9:SetAlpha( 0.55, 0 )
	f1_local9:setImage( RegisterMaterial( 0x7EF4FFF949DF5EF ), 0 )
	f1_local9:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -875, 875, -500, 400 )
	f1_local3:addElement( f1_local9 )
	f1_local3[0xDE7CDDE05846736] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local1.UIBorder.new( {
		borderThicknessTop = 1,
		borderThicknessLeft = 1,
		borderThicknessRight = 1,
		borderThicknessBottom = 1
	} )
	f1_local10[0x8B72E07B55C3AC0] = "NoEventBorder"
	f1_local10:SetVisible( false )
	f1_local10:SetRGB( SWATCHES[0x4DF62CF810D16C2][0xB08095720360577], 0 )
	f1_local10:SetAlpha( 0.25, 0 )
	f1_local10:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -875, 875, -500, 400 )
	f1_local3:addElement( f1_local10 )
	f1_local3[0xE4099E80F2329F4] = f1_local10
	local f1_local11 = nil
	f1_local11 = f1_local1.UIStyledText.new()
	f1_local11[0x8B72E07B55C3AC0] = "NoEventBody"
	f1_local11:SetVisible( false )
	f1_local11:SetRGB( SWATCHES[0x2B125210C0B2BB1][0x241D6F6276E2F07], 0 )
	f1_local11:setText( Engine[0xED84C33EC5F01EA]( 0xDA328DA5D35804B ), 0 )
	f1_local11:SetFontStyle( FONT_STYLES[0x9ECFA58C69AC41A] )
	f1_local11:SetWordWrap( true )
	f1_local11:SetAlignment( f1_local1.Alignment.Center )
	f1_local11:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -600.5, 600.5, -50, 83 )
	f1_local3:addElement( f1_local11 )
	f1_local3[0x74696D609C1C00A] = f1_local11
	local f1_local12 = nil
	f1_local12 = f1_local1.UIStyledText.new()
	f1_local12[0x8B72E07B55C3AC0] = "NoEventHeader"
	f1_local12:SetVisible( false )
	f1_local12:SetRGB( SWATCHES[0x2B125210C0B2BB1][0x241D6F6276E2F07], 0 )
	f1_local12:setText( Engine[0xED84C33EC5F01EA]( 0xEE55120388533EE ), 0 )
	f1_local12:setCaseStyle( f1_local1.CaseStyle.Uppercase )
	f1_local12:SetFontStyle( FONT_STYLES[0xD62C8E957F1D540] )
	f1_local12:SetWordWrap( true )
	f1_local12:SetAlignment( f1_local1.Alignment.Center )
	f1_local12:SetVerticalAlignment( f1_local1.Alignment.Bottom )
	f1_local12:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -600, 600, -182, -60 )
	f1_local3:addElement( f1_local12 )
	f1_local3[0xDCF69555180DB37] = f1_local12
	local f1_local13 = f1_local1.UIScrollbar.new
	local f1_local14 = {
		direction = f1_local1.DIRECTION.horizontal,
		eventListener = f1_local7,
		startCap = f1_local7[0x7C139B2191BD22D],
		endCap = f1_local7[0xC50558A6315134A],
		sliderArea = f1_local7[0x1267DA9A256716D]
	}
	local f1_local15 = f1_local7[0x1267DA9A256716D]
	if f1_local15 then
		f1_local15 = f1_local7[0x1267DA9A256716D][0x5EE00EDE8E0841C]
	end
	f1_local14.slider = f1_local15
	f1_local15 = f1_local7[0x1267DA9A256716D]
	if f1_local15 then
		f1_local15 = f1_local7[0x1267DA9A256716D][0x491B3F5BB7699CD]
	end
	f1_local14.fixedSizeSlider = f1_local15
	f1_local6:AddScrollbar( f1_local13( f1_local14 ) )
	f0_local0( f1_local3, f1_local4, f1_arg1 )
	return f1_local3
end

MenuBuilder.registerType( 0xD8C33B5D9DC74E1, SeasonalEventsMenuEventSelection )
LockTable( _M )
