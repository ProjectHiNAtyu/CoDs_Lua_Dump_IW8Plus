-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:04
module( ..., package.seeall )
local f0_local0 = {
	WON = 1,
	MY_TEAM = 2
}
local f0_local1 = function ( f3_arg0, f3_arg1, f3_arg2 )
	local f3_local0 = f3_arg0.Bracket
	local f3_local1 = LUI.FlowManager.GetScopedData( TOURNAMENT.GetMenuName( "arena" ) )
	local f3_local2 = f3_arg2.teams[f3_arg1]
	f3_local0.TeamName:setText( f3_local2.name )
	f3_local0.ReadyFlash:SetRGB( SWATCHES[0x790B416E6ED10B2][0x9CFEFD47432B18B] )
	local f3_local3 = f3_arg2.canSpectate or f3_arg2.complete
	local f3_local4 = f3_local0.Wins
	local f3_local5 = f3_local4
	f3_local4 = f3_local4.setText
	local f3_local6
	if f3_local3 then
		f3_local6 = f3_local2.wins
		if not f3_local6 then
		
		else
			f3_local4( f3_local5, f3_local6 )
			if f3_arg0._matchData and f3_local2.wins ~= f3_arg0._matchData.teams[f3_arg1].wins and not f3_local1.firstBracketUpdate then
				ACTIONS.AnimateSequence( f3_local0, "ScoreFlash" )
			end
			if f3_local2.won and f3_arg0._state ~= f0_local0.WON and f3_arg2.complete then
				f3_arg0._state = f0_local0.WON
				f3_local0.Wins:SetRGB( SWATCHES[0x790B416E6ED10B2][0x7A1BD7EBD91826B] )
				f3_local0.TeamName:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
				f3_local0.Wins:SetFont( FONTS.GetFont( FONTS.PrimaryBold.File ) )
				f3_local4 = ACTIONS.AnimateSequence
				f3_local5 = f3_local0
				if f3_local2.isMyTeam then
					f3_local6 = "WonMyTeam"
				else
					f3_local6 = "WonNotMyTeam"
				end
				f3_local4( f3_local5, f3_local6 )
			elseif not f3_local2.won and f3_local2.isMyTeam and f3_arg0._state ~= f0_local0.MY_TEAM then
				ACTIONS.AnimateSequence( f3_local0, "MyTeam" )
				f3_arg0._state = f0_local0.MY_TEAM
				f3_local0.ScoreBacker:SetRGB( SWATCHES[0x790B416E6ED10B2][0x9CFEFD47432B18B] )
				f3_local0.TeamName:SetFont( FONTS.GetFont( FONTS.PrimaryRegular.File ) )
			end
			if not f3_arg2.complete then
				if f3_arg2.isMyMatch then
					ACTIONS.AnimateSequence( f3_local0, "MyMatch" )
				end
				if f3_arg2.canSpectate then
					if f3_arg0._matchData and f3_arg0._matchData.canSpectate ~= f3_arg2.canSpectate then
						ACTIONS.AnimateSequence( f3_local0, "InProgress" )
					else
						ACTIONS.AnimateSequence( f3_local0, "InProgressSnap" )
					end
				elseif f3_arg2.isMyMatch then
					f3_local4 = f3_local0.YouIndicator
					f3_local5 = f3_local4
					f3_local4 = f3_local4.SetAlpha
					if f3_local2.isMyTeam then
						f3_local6 = 1
					else
						f3_local6 = 0
					end
					f3_local4( f3_local5, f3_local6 )
					ACTIONS.AnimateSequence( f3_local0, "MyMatch" )
					if f3_arg0._matchData and f3_arg0._matchData.canSpectate ~= f3_arg2.canSpectate then
						ACTIONS.AnimateSequence( f3_local0, "MyMatchWaiting" )
					else
						ACTIONS.AnimateSequence( f3_local0, "MyMatchWaitingSnap" )
					end
				else
					ACTIONS.AnimateSequence( f3_local0, "NotMyMatchWaitingSnap" )
				end
			else
				f3_local0.YouIndicator:SetAlpha( 0 )
				if f3_arg0._matchData and f3_arg0._matchData.complete ~= f3_arg2.complete then
					ACTIONS.AnimateSequence( f3_local0, "Completed" )
				else
					ACTIONS.AnimateSequence( f3_local0, "CompletedSnap" )
				end
				if not f3_local2.won and f3_arg0._matchData and f3_arg0._matchData.complete ~= f3_arg2.complete then
					ACTIONS.AnimateSequence( f3_local0, "Lost" )
					if f3_local2.isMyTeam then
						f3_local0.TeamName:SetAlpha( 0.6 )
						f3_local0.TeamName:SetRGB( SWATCHES[0xD3025590F862C5B][0xC5803D8A5526C67] )
					end
				elseif not f3_local2.won then
					ACTIONS.AnimateSequence( f3_local0, "LostSnap" )
					if f3_local2.isMyTeam then
						f3_local0.TeamName:SetAlpha( 0.6 )
						f3_local0.TeamName:SetRGB( SWATCHES[0xD3025590F862C5B][0xC5803D8A5526C67] )
					end
				end
			end
			if not f3_arg0._fullTeamReady then
				f3_local4 = true
				for f3_local7 = 1, #f3_local2.players, 1 do
					if f3_local4 then
						f3_local4 = f3_local2.players[f3_local7].ready
					end
				end
				if f3_local4 and f3_arg2.isMyMatch then
					f3_arg0._fullTeamReady = true
					if not f3_local1.firstBracketUpdate then
						ACTIONS.AnimateSequence( f3_local0, "TeamReadyFlash" )
						Engine[0xC4146BA76D0F982]( f3_local2.isMyTeam and 0xED1FA7F90C496B8 or 0x2371B1BFCB28C96 )
					end
				end
			end
			f3_arg0._matchData = f3_arg2
		end
	end
	f3_local6 = Engine[0xED84C33EC5F01EA]( 0x46A3DCE81DD0406 )
end

local f0_local2 = function ( f2_arg0, f2_arg1, f2_arg2 )
	local Bracket = MenuBuilder.BuildRegisteredType
	local f2_local1
	if f2_arg2.isLeft then
		f2_local1 = "BracketTeamRightSide"
	else
		f2_local1 = "BracketTeamLeftSide"
	end
	Bracket = Bracket( f2_local1, {
		controllerIndex = f2_arg1
	} )
	local f2_local2
	if f2_arg2.isLeft then
		f2_local2 = "BracketTeamRightSide"
	else
		f2_local2 = "BracketTeamLeftSide"
	end
	Bracket.id = f2_local2
	Bracket:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	f2_arg0:addElement( Bracket )
	f2_arg0.Bracket = Bracket
	
	f2_arg0.Update = f0_local0
	if f2_arg2.bracketTeam == 1 then
		f2_arg0.Bracket.TeamColor:SetBottom( 2 )
	else
		f2_arg0.Bracket.TeamColor:SetTop( -2 )
	end
end

function BracketTeam( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = f1_local0.UIElement.new()
	f1_local1:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 302, 0, 38 )
	f1_local1.id = "BracketTeam"
	local f1_local2
	if f1_arg1 then
		f1_local2 = f1_arg1
	else
		f1_local2 = f1_arg1.controllerIndex
	end
	f0_local0( f1_local1, f1_local0.ValidateControllerIndex( f1_local1, f1_local2 ), f1_arg1 )
	return f1_local1
end

MenuBuilder.registerType( 0xDE5A2877E41629A, BracketTeam )
LockTable( _M )
