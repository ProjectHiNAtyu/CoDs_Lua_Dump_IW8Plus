-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:52
module( ..., package.seeall )
local f0_local0 = "-1"
local f0_local1 = "Unknown"
local f0_local2 = Teams.allies
local f0_local3 = function ( f17_arg0, f17_arg1 )
	local f17_local0 = Dvar.CFHDGABACF( "scr_br_teamsize" )
	local f17_local1 = nil
	local f17_local2 = 1
	local f17_local3 = Game.DJABDGEIID( Game.DHEDEIHGF() or f0_local0 )
	if not f17_local3 then
		f17_local1 = f17_local3
	else
		f17_local1 = f17_local2
	end
	if 0 >= f17_local1 or not f17_local1 then
		f17_local1 = f17_local2
	end
	if CONDITIONS.IsSquadAsTeamEnabled() and CONDITIONS.InGame() then
		local f17_local4 = Game.CGEEGJIBJE( DataSources.inGame.player.BRData.squadIndex:GetValue( f17_arg1 ) )
		local f17_local5 = Dvar.CFHDGABACF( "RRNTNNKNP" )
		if f17_local4 < f17_local5 and not f17_local4 then
			f17_local1 = f17_local4
		else
			f17_local1 = f17_local5
		end
	end
	if f17_local1 < f17_local0 and not f17_local1 then
		f17_local3 = f17_local1
	else
		f17_local3 = f17_local0
	end
	if f17_arg0.PlayerGrid:GetNumRows() ~= f17_local3 then
		f17_arg0.PlayerGrid:SetNumChildren( f17_local3 )
	end
	f17_arg0.PlayerGrid:RefreshContent()
end

local f0_local4 = function ( menu, controller )
	local self = LUI.UITimer.new( {
		event = "forceSquadScoreboardRefresh",
		interval = 500
	} )
	self.id = "BRSquadScoreboardForcedRefreshTimer"
	menu:addElement( self )
	menu:registerEventHandler( "forceSquadScoreboardRefresh", function ( element, event )
		local f16_local0 = menu
		local f16_local1 = element
		local f16_local2 = event.controller
		if not f16_local2 then
			f16_local2 = menu
			if not f16_local2 then
				f16_local2 = Engine.IJEBHJIJF()
			end
		end
		f16_local0( f16_local1, f16_local2 )
	end )
end

function PostLoadFunc( f12_arg0, f12_arg1, f12_arg2 )
	f12_arg0.PlayerGrid:SetRefreshChild( function ( f14_arg0, f14_arg1, f14_arg2 )
		local f14_local0 = f12_arg0.PlayerGrid:GetContentIndex( f14_arg1, f14_arg2 )
		f14_arg0.index = f14_local0
		local f14_local1, f14_local2 = nil
		local f14_local3 = Game.DHEDEIHGF()
		if not f14_local3 then
			f14_local1 = f14_local3
		else
			f14_local1 = f12_arg0
		end
		f14_local2 = Game.DGCJIFGJBD( f14_local1, f14_local0, true, CONDITIONS.IsSquadAsTeamEnabled() )
		if f14_local2 then
			local f14_local4 = f14_local2.clientNum
			if f14_local4 then
				f14_local4 = f14_local2.clientNum == Game.DBACJGFHDD()
			end
			f14_local2.isCurrentPlayer = f14_local4
			f14_local4 = f14_local2.isCurrentPlayer
			if not f14_local4 then
				f14_local4 = SCOREBOARD.IsAARScoreboard() or f14_local2.isBot
			end
			f14_arg0.MicDisplay:SetIsScoreboardState( true )
			f14_arg0.MicDisplay:SetState( f14_local2.isMicOn, f14_local2.isMuted )
			f14_arg0.MicDisplay:SetForceHideState( f14_local4 )
			local f14_local5 = PROGRESSION.GetPlayerProgressionData( {
				_combinedRankNum = f14_local2.rank,
				_prestigeLevel = PROGRESSION.ValidatePrestigeLevel( f14_local2.prestige, {
					_isBackendPrestigeLevel = true
				} )
			} )
			f14_local2.rankDisplay = f14_local5._rankDisplay
			local f14_local6 = Game.HGEFIIJID( f14_local2.clientNum )
			if f14_local2.isCurrentPlayer then
				ACTIONS.AnimateSequence( f14_arg0, "Player" )
			else
				ACTIONS.AnimateSequence( f14_arg0, "NonPlayer" )
			end
			f14_arg0.Rank:setText( f14_local2.rankDisplay or "" )
			local f14_local7 = CONDITIONS.InGame()
			if f14_local7 then
				f14_local7 = CONDITIONS.IsDisplayNameTag()
				if f14_local7 then
					f14_local7 = Game.DDHAAEGIEI( f12_arg0 )
					if f14_local7 then
						f14_local7 = f14_local2.fullNameWithHash
						if f14_local7 then
							f14_local7 = 0 < #f14_local2.fullNameWithHash
						end
					end
				end
			end
			if f14_local7 then
				f14_arg0.Gamertag:setText( f14_local2.fullNameWithHash )
			else
				f14_arg0.Gamertag:setText( f14_local2.name or f12_arg0 )
			end
			f14_arg0.Score1:setText( f14_local2.score or f12_arg0 )
			f14_arg0.Score2:setText( f14_local2.kills or f12_arg0 )
			f14_arg0.Score3:setText( f14_local2.assists or f12_arg0 )
			f14_arg0.RankIcon:setImage( RegisterMaterial( f14_local6 ) )
			f14_arg0.RankIcon2:setImage( RegisterMaterial( f14_local6 ) )
			f14_arg0.Playercard:setImage( RegisterMaterial( CallingCardUtils.GetCardTexture( Game.BABEFDCDIG( f14_local2.clientNum ) ) ) )
		end
	end )
	f0_local0( f12_arg0, f12_arg1 )
	f0_local0( f12_arg0, f12_arg1 )
	local f12_local0 = LUI.DataSourceFromOmnvar.new( "ui_scorelimit" )
	local f12_local1 = DataSources.inGame.MP.match.teamScoreFriendly
	local f12_local2 = DataSources.inGame.MP.match.teamScoreEnemy
	local f12_local3 = 0
	local f12_local4 = 0
	if CONDITIONS.IsWZRatRace() then
		ACTIONS.AnimateSequence( f12_arg0, "RatRaceScores" )
	end
	local f12_local5 = function ()
		local f13_local0 = f12_arg0:GetValue( f12_arg0 )
		local f13_local1 = f12_arg0:GetValue( f12_arg0 )
		local f13_local2 = f12_arg0:GetValue( f12_arg0 )
		if CONDITIONS.IsWZRatRace() then
			f13_local0 = (Dvar.CFHDGABACF( "scr_dmz_win_cost" ) or 1000) * 10
		end
		if f13_local1 and f13_local2 and f13_local0 then
			if CONDITIONS.IsWZRatRace() then
				local f13_local3 = f13_local1 * BRLOOT.TEAM_CASH_SCALAR
				local f13_local4 = f13_local2 * BRLOOT.TEAM_CASH_SCALAR
				f12_arg0.FriendlyScore:setText( BRLOOT.GetAbbreviatedNumber( f13_local3 ) )
				f12_arg0.EnemyScore:setText( BRLOOT.GetAbbreviatedNumber( f13_local4 ) )
			else
				f12_arg0.FriendlyScore:setText( f13_local1 )
				f12_arg0.EnemyScore:setText( f13_local2 )
			end
			local f13_local3 = 1 - f13_local1 / f13_local0
			local f13_local4 = 1 - f13_local2 / f13_local0
			f12_arg0.FriendlyScoreBar.Fill:SetRightAnchor( f13_local3, 200, LUI.EASING.outQuadratic )
			f12_arg0.EnemyScoreBar.Fill:SetRightAnchor( f13_local4, 200, LUI.EASING.outQuadratic )
			if f12_arg0 ~= f13_local2 then
				f12_arg0 = f13_local2
				ACTIONS.AnimateSequence( f12_arg0, "FlashEnemyScore" )
			end
			if f12_arg0 ~= f13_local1 then
				f12_arg0 = f13_local1
				ACTIONS.AnimateSequence( f12_arg0, "FlashFriendlyScore" )
			end
		end
	end
	
	f12_arg0.FriendlyScoreBar.Fill:SetRightAnchor( 1 )
	f12_arg0.EnemyScoreBar.Fill:SetRightAnchor( 1 )
	f12_arg0:SubscribeToModel( f12_local1:GetModel( f12_arg1 ), f12_local5 )
	f12_arg0:SubscribeToModel( f12_local2:GetModel( f12_arg1 ), f12_local5 )
end

function BRMenuMapSquadScores( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 400 * _1080p, 0, 490 * _1080p )
	self.id = "BRMenuMapSquadScores"
	self._animationSets = self._animationSets or {}
	self._sequences = self._sequences or {}
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	local BackgroundContainer = nil
	
	BackgroundContainer = MenuBuilder.BuildRegisteredType( "DoubleNotchedBacker", {
		controllerIndex = f1_local1
	} )
	BackgroundContainer.id = "BackgroundContainer"
	BackgroundContainer:SetAlpha( 0.5, 0 )
	BackgroundContainer.WZWipPromptBackground:setImage( RegisterMaterial( "ui_mp_wz_bkg_button_4" ), 0 )
	BackgroundContainer:SetAnchorsAndPosition( 0, 0, 0, 0, 0, 0, 0, 0 )
	self:addElement( BackgroundContainer )
	self.BackgroundContainer = BackgroundContainer
	
	local PlayerGrid = nil
	
	PlayerGrid = LUI.UIGrid.new( {
		scrollingThresholdX = 1,
		maxVisibleRows = 4,
		maxVelocity = 5000,
		adjustSizeToContent = false,
		scrollingThresholdY = 1,
		wrapX = true,
		maxVisibleColumns = 1,
		wrapY = false,
		arrowsVerticalOffset = 0,
		forcePrimaryAxisScrolling = true,
		buildArrowsLabel = false,
		springCoefficient = 400,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "BRMenuMapSquadScoresRow", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f10_arg0, f10_arg1, f10_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.vertical,
		spacingX = _1080p * 6,
		spacingY = _1080p * 6,
		columnWidth = _1080p * 400,
		rowHeight = _1080p * 60,
		horizontalAlignment = LUI.Alignment.Left,
		verticalAlignment = LUI.Alignment.Top
	} )
	PlayerGrid.id = "PlayerGrid"
	PlayerGrid:setUseStencil( false )
	PlayerGrid:SetAnchorsAndPosition( 0, 1, 1, 0, 0, _1080p * 400, _1080p * -279, _1080p * 24 )
	self:addElement( PlayerGrid )
	self.PlayerGrid = PlayerGrid
	
	local TitleSquad = nil
	
	TitleSquad = LUI.UIText.new()
	TitleSquad.id = "TitleSquad"
	TitleSquad:SetRGBFromTable( SWATCHES.WZGlobalSwatches.WZText, 0 )
	TitleSquad:setText( Engine.CBBHFCGDIC( "BR_RUMBLE/SQUADSCORES" ), 0 )
	TitleSquad:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	TitleSquad:SetAlignment( LUI.Alignment.Left )
	TitleSquad:SetOptOutRightToLeftAlignmentFlip( true )
	TitleSquad:SetAnchorsAndPosition( 0, 0, 1, 0, _1080p * 20, _1080p * -20, _1080p * -345, _1080p * -315 )
	self:addElement( TitleSquad )
	self.TitleSquad = TitleSquad
	
	local BG = nil
	
	BG = LUI.UIImage.new()
	BG.id = "BG"
	BG:SetRGBFromInt( 0, 0 )
	BG:SetAlpha( 0, 0 )
	BG:SetAnchorsAndPosition( 0, 1, 0, 1, 0, _1080p * 400, _1080p * 484, _1080p * 765 )
	self:addElement( BG )
	self.BG = BG
	
	local Debug = nil
	
	Debug = LUI.UIText.new()
	Debug.id = "Debug"
	Debug:SetAlpha( 0, 0 )
	Debug:setText( "12345", 0 )
	Debug:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	Debug:SetAlignment( LUI.Alignment.Left )
	Debug:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 24, _1080p * 337, _1080p * 499, _1080p * 517 )
	self:addElement( Debug )
	self.Debug = Debug
	
	local Score = nil
	
	Score = LUI.UIStyledText.new()
	Score.id = "Score"
	Score:SetRGBFromTable( SWATCHES.WZGlobalSwatches.WZDescription, 0 )
	Score:setText( Engine.CBBHFCGDIC( "LUA_MENU/SCORE" ), 0 )
	Score:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	Score:SetAlignment( LUI.Alignment.Left )
	Score:SetVerticalAlignment( LUI.Alignment.Center )
	Score:SetOptOutRightToLeftAlignmentFlip( true )
	Score:SetAnchorsAndPosition( 0, 0, 1, 0, _1080p * 46, _1080p * -258, _1080p * -310, _1080p * -286 )
	self:addElement( Score )
	self.Score = Score
	
	local Kills = nil
	
	Kills = LUI.UIStyledText.new()
	Kills.id = "Kills"
	Kills:SetRGBFromTable( SWATCHES.WZGlobalSwatches.WZDescription, 0 )
	Kills:setText( Engine.CBBHFCGDIC( "LUA_MENU/KILLS" ), 0 )
	Kills:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	Kills:SetAlignment( LUI.Alignment.Center )
	Kills:SetVerticalAlignment( LUI.Alignment.Center )
	Kills:SetOptOutRightToLeftAlignmentFlip( true )
	Kills:SetAnchorsAndPosition( 0, 0, 1, 0, _1080p * 150, _1080p * -154, _1080p * -310, _1080p * -286 )
	self:addElement( Kills )
	self.Kills = Kills
	
	local Assists = nil
	
	Assists = LUI.UIStyledText.new()
	Assists.id = "Assists"
	Assists:SetRGBFromTable( SWATCHES.WZGlobalSwatches.WZDescription, 0 )
	Assists:setText( Engine.CBBHFCGDIC( "MPUI/ASSISTS" ), 0 )
	Assists:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
	Assists:SetAlignment( LUI.Alignment.Center )
	Assists:SetVerticalAlignment( LUI.Alignment.Center )
	Assists:SetOptOutRightToLeftAlignmentFlip( true )
	Assists:SetAnchorsAndPosition( 0, 0, 1, 0, _1080p * 284, _1080p * -20, _1080p * -310, _1080p * -286 )
	self:addElement( Assists )
	self.Assists = Assists
	
	local TitleTeam = nil
	
	TitleTeam = LUI.UIText.new()
	TitleTeam.id = "TitleTeam"
	TitleTeam:SetRGBFromTable( SWATCHES.WZGlobalSwatches.WZText, 0 )
	TitleTeam:setText( Engine.CBBHFCGDIC( "MP_BR_INGAME/TEAM_SCORES" ), 0 )
	TitleTeam:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	TitleTeam:SetAlignment( LUI.Alignment.Left )
	TitleTeam:SetOptOutRightToLeftAlignmentFlip( true )
	TitleTeam:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 20, _1080p * -20, _1080p * 17, _1080p * 47 )
	self:addElement( TitleTeam )
	self.TitleTeam = TitleTeam
	
	local FriendlyScore = nil
	
	FriendlyScore = LUI.UIStyledText.new()
	FriendlyScore.id = "FriendlyScore"
	FriendlyScore:SetRGBFromTable( SWATCHES.Scoreboard.friendlyTeam, 0 )
	FriendlyScore:setText( "123", 0 )
	FriendlyScore:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	FriendlyScore:SetAlignment( LUI.Alignment.Right )
	FriendlyScore:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 10, _1080p * 96, _1080p * 43, _1080p * 93 )
	self:addElement( FriendlyScore )
	self.FriendlyScore = FriendlyScore
	
	local EnemyScore = nil
	
	EnemyScore = LUI.UIStyledText.new()
	EnemyScore.id = "EnemyScore"
	EnemyScore:SetRGBFromTable( SWATCHES.Scoreboard.enemyTeam, 0 )
	EnemyScore:setText( "123", 0 )
	EnemyScore:SetFont( FONTS.GetFont( FONTS.MainBold.File ) )
	EnemyScore:SetAlignment( LUI.Alignment.Right )
	EnemyScore:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 8, _1080p * 94, _1080p * 86, _1080p * 122 )
	self:addElement( EnemyScore )
	self.EnemyScore = EnemyScore
	
	local EnemyScoreBar = nil
	
	EnemyScoreBar = MenuBuilder.BuildRegisteredType( "BRMenuMapSquadScoreBar", {
		controllerIndex = f1_local1
	} )
	EnemyScoreBar.id = "EnemyScoreBar"
	EnemyScoreBar.Fill:SetRGBFromTable( SWATCHES.Scoreboard.enemyTeam, 0 )
	EnemyScoreBar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 105, _1080p * 366, _1080p * 96, _1080p * 102 )
	self:addElement( EnemyScoreBar )
	self.EnemyScoreBar = EnemyScoreBar
	
	local FriendlyScoreBar = nil
	
	FriendlyScoreBar = MenuBuilder.BuildRegisteredType( "BRMenuMapSquadScoreBar", {
		controllerIndex = f1_local1
	} )
	FriendlyScoreBar.id = "FriendlyScoreBar"
	FriendlyScoreBar.Fill:SetRGBFromTable( SWATCHES.Scoreboard.friendlyTeam, 0 )
	FriendlyScoreBar:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 105, _1080p * 366, _1080p * 71, _1080p * 81 )
	self:addElement( FriendlyScoreBar )
	self.FriendlyScoreBar = FriendlyScoreBar
	
	self._sequences.DefaultSequence = function ()
		
	end
	
	self._sequences.ModThreeStats = function ()
		
	end
	
	self._sequences.ModFourStats = function ()
		
	end
	
	self._sequences.ModTwoStats = function ()
		
	end
	
	self._sequences.NoRank = function ()
		
	end
	
	local f1_local16 = nil
	FriendlyScore:RegisterAnimationSequence( "FlashFriendlyScore", {
		{
			value = 11591679,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			duration = 500,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.Scoreboard.friendlyTeam
		}
	} )
	FriendlyScoreBar:RegisterAnimationSequence( "FlashFriendlyScore", {
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			child = self.FriendlyScoreBar.Fill
		},
		{
			duration = 500,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.Scoreboard.friendlyTeam,
			child = self.FriendlyScoreBar.Fill
		}
	} )
	self._sequences.FlashFriendlyScore = function ()
		menu:AnimateSequence( "FlashFriendlyScore" )
		menu:AnimateSequence( "FlashFriendlyScore" )
	end
	
	local f1_local17 = nil
	EnemyScore:RegisterAnimationSequence( "FlashEnemyScore", {
		{
			value = 16758197,
			duration = 0,
			property = TWEEN_PROPERTY.RGB
		},
		{
			duration = 500,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.Scoreboard.enemyTeam
		}
	} )
	EnemyScoreBar:RegisterAnimationSequence( "FlashEnemyScore", {
		{
			value = 16777215,
			duration = 0,
			property = TWEEN_PROPERTY.RGB,
			child = self.EnemyScoreBar.Fill
		},
		{
			duration = 500,
			property = TWEEN_PROPERTY.RGB,
			value = SWATCHES.Scoreboard.enemyTeam,
			child = self.EnemyScoreBar.Fill
		}
	} )
	self._sequences.FlashEnemyScore = function ()
		menu:AnimateSequence( "FlashEnemyScore" )
		menu:AnimateSequence( "FlashEnemyScore" )
	end
	
	local f1_local18 = nil
	FriendlyScore:RegisterAnimationSequence( "RatRaceScores", {
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 8
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 52
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 98
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 86
		},
		{
			value = false,
			duration = 0,
			property = TWEEN_PROPERTY.Text_Style_Word_Wrap
		}
	} )
	EnemyScore:RegisterAnimationSequence( "RatRaceScores", {
		{
			value = false,
			duration = 0,
			property = TWEEN_PROPERTY.Text_Style_Word_Wrap
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Left,
			value = _1080p * 8
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Top,
			value = _1080p * 86
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Right,
			value = _1080p * 98
		},
		{
			duration = 0,
			property = TWEEN_PROPERTY.Bottom,
			value = _1080p * 112
		}
	} )
	self._sequences.RatRaceScores = function ()
		menu:AnimateSequence( "RatRaceScores" )
		menu:AnimateSequence( "RatRaceScores" )
	end
	
	PostLoadFunc( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "BRMenuMapSquadScores", BRMenuMapSquadScores )
LockTable( _M )
