-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
LUI.AchievementsManager = LUI.Class( LUI.UIElement )
local f0_local0 = function ( f12_arg0 )
	if CONDITIONS.IsPC() then
		f12_arg0.achievementsList = LUI.AchievementsManager.GetAchievements( f12_arg0._controllerIndex, false )
	end
end

local f0_local1 = function ( f10_arg0, f10_arg1 )
	if #f10_arg0.achievementsList <= 0 then
		f0_local0( f10_arg0 )
	end
	if f10_arg1 + 1 == nil or f10_arg0.achievementsList[f10_arg1 + 1] == nil then
		
	end
	local f10_local0 = LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0x17F0717CCB6C4EA ), f10_arg0.achievementsList[f10_arg1 + 1].name, LUI.ToastManager.ToastNotificationType.Unlocks )
	if CONDITIONS.InFrontend() then
		LUI.ToastManager.CreateToast( f10_arg0._controllerIndex, f10_local0, LUI.ToastManager.ToastAction( Engine[0xED84C33EC5F01EA]( 0xF635E25722D1A9F ), function ( f11_arg0 )
			LUI.FlowManager.RequestAddMenu( "PCAchievementsMenu", false, f10_arg0._controllerIndex, false )
		end, true ) )
	else
		LUI.ToastManager.CreateToast( f10_arg0._controllerIndex, f10_local0 )
	end
end

LUI.AchievementsManager.init = function ( f9_arg0, f9_arg1 )
	LUI.UIElement.init( f9_arg0 )
	local f9_local0 = f9_arg1.controllerIndex
	if not f9_local0 then
		f9_local0 = Engine[0x45B054C920178E9]()
	end
	f9_arg0._controllerIndex = f9_local0
	f9_arg0.id = "AchievementsManager"
end

LUI.AchievementsManager.ShouldBeVisible = function ( f8_arg0 )
	return true
end

LUI.AchievementsManager.TrapsInput = function ( f7_arg0 )
	return false
end

LUI.AchievementsManager.InitLayer = function ( f5_arg0 )
	f5_arg0.achievementsList = {}
	f0_local0( f5_arg0 )
	if not CONDITIONS[0x8601D4FFBB8C991]() then
		f5_arg0:registerEventHandler( "achievement_unlocked", function ( element, event )
			f5_arg0( element, event.achievementIndex )
		end )
	end
end

LUI.AchievementsManager.ClearLayer = function ( f4_arg0, f4_arg1 )
	f4_arg0:closeChildren()
end

LUI.AchievementsManager.GetLayer = function ()
	local f3_local0 = Engine[0xEE6F69FEA944B13]()
	return f3_local0.achievementsManager
end

LUI.AchievementsManager.GetAchievements = function ( f1_arg0, f1_arg1 )
	local f1_local0 = Achievement[0x4226E6C6A70C253]()
	local f1_local1 = 4
	local f1_local2 = 1
	local f1_local3 = {}
	local f1_local4 = {
		WALL_OF_DUTY = 9,
		DAREDEVIL = 10
	}
	local f1_local5 = function ( f2_arg0 )
		local f2_local0
		if f2_arg0 ~= f1_arg0.WALL_OF_DUTY and f2_arg0 ~= f1_arg0.DAREDEVIL then
			f2_local0 = false
		else
			f2_local0 = true
		end
		return f2_local0
	end
	
	if f1_local0 then
		for f1_local6 = 0, f1_local0 - 1, 1 do
			local f1_local9 = Achievement[0xF27F45F33AB6D6]( f1_local6 )
			local f1_local10 = Achievement[0x4CED9603A20284F]( f1_local9 )
			if not Achievement[0xE89EEFAD5BD6DEE]( f1_arg0, f1_local9 ) then
				local f1_local11 = {
					id = f1_local10,
					nameId = Achievement[0xC457C39F67E5649]( f1_local9 )
				}
				local f1_local12
				if f1_local5( f1_local10 ) and not f1_local1 then
					f1_local12 = f1_local1
				else
					f1_local12 = Achievement[0x45DEE132C6B12C3]( f1_local9 )
				end
				f1_local11.gameMode = f1_local12
				f1_local11.name = Achievement[0xB96A81BE57A0E4E]( f1_local9 )
				f1_local11.description = Achievement[0xE2A204E2E918814]( f1_local9 )
				f1_local11.image = Achievement[0x218AD34152FC06F]( f1_local9 )
				f1_local11.score = Achievement[0xFED0C3041A28148]( f1_local9 )
				if Achievement[0x2711E67947D673]( f1_arg0, f1_local9 ) then
					f1_local11.isCompleted = true
				end
				if f1_arg1 then
					if f1_local11.isCompleted then
						table.insert( f1_local3, f1_local2, f1_local11 )
						f1_local2 = f1_local2 + 1
					else
						table.insert( f1_local3, f1_local11 )
					end
				end
				f1_local3[f1_local6 + 1] = f1_local11
			end
		end
	end
	return f1_local3
end

