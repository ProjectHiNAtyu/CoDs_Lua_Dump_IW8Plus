-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
module( ..., package.seeall )
FenceMultiLogin = LUI.Class( LUI.Fence )
FenceMultiLogin.init = function ( f10_arg0 )
	LUI.Fence.init( f10_arg0 )
end

FenceMultiLogin.Start = function ( f9_arg0 )
	f9_arg0._state = LUI.Fence.STATE.pass
end

FenceMultiLogin.Stop = function ( f8_arg0 )
	
end

FenceMultiLogin.OnBackOut = function ( f7_arg0 )
	
end

local f0_local0 = function ( f6_arg0 )
	if Engine[0x9258F49F515F97B]() and Fences[0x9C8C5221A00B7FD]() then
		f6_arg0._state = LUI.Fence.STATE.fail
		DebugPrint( "FenceMultiLogin FAILED" )
	end
end

FenceMultiLogin.PostFail = function ( f5_arg0 )
	if f5_arg0._state ~= LUI.Fence.STATE.fail then
		f0_local0( f5_arg0 )
	end
	if f5_arg0._state == LUI.Fence.STATE.fail then
		LUI.FlowManager.RequestPopupMenu( nil, "popup_multi_login_error", false, nil, false, nil, nil, true, true )
	end
end

FenceMultiLogin.UpdateState = function ( f4_arg0 )
	assert( f4_arg0._state ~= LUI.Fence.STATE.fail )
	f4_arg0._state = LUI.Fence.STATE.pass
	f0_local0( f4_arg0 )
end

function PopupFenceMultiLoginError( f1_arg0, f1_arg1 )
	local f1_local0 = {
		no_close_button = true
	}
	if CONDITIONS.IsMobileOrMobileSim() then
		f1_local0.popup_title = Engine[0xED84C33EC5F01EA]( 0xE95AF73D41F8E7F )
		f1_local0.message_text = Engine[0xED84C33EC5F01EA]( 0x53E913DE63F6A2 )
		f1_local0.button_text = Engine[0xED84C33EC5F01EA]( 0xD4451C220F39405 )
		f1_local0.confirmation_action = function ( f3_arg0, f3_arg1 )
			if Engine[0xE25E29D8ADE8F27]() and CONDITIONS.MobileIsBootPresentationEnabled() then
				if Dvar[0x9E5BE3B4BBA4E0E]( 0xD8F2C82D5785199 ) then
					CODACCOUNT.Logout( f3_arg1.controller )
				else
					Web[0x6619998FDF1FBBC]()
					LUI.FlowManager.RequestCloseAllMenus()
					LUI.FlowManager.RequestAddMenu( "MainMenuMobile", false, f3_arg1.controller, true )
				end
				return 
			else
				
			end
		end
		
	else
		f1_local0.popup_title = Engine[0xED84C33EC5F01EA]( 0xD09E09A43DE9B80 )
		f1_local0.message_text = Engine[0xED84C33EC5F01EA]( 0x8A0259549BA9505 )
		f1_local0.button_text = Engine[0xED84C33EC5F01EA]( CONDITIONS.IsConsoleGame() and 0xD527AB5C53CB7AA or 0x4E76830223A336F )
		f1_local0.confirmation_action = function ( f2_arg0, f2_arg1 )
			if CONDITIONS.IsConsoleGame() then
				Engine[0x34C623E28A1C5E7]( "" )
			else
				Engine[0xDEE6107B26F8BB6]()
			end
		end
		
	end
	local f1_local1 = MenuBuilder.BuildRegisteredType( "generic_confirmation_popup", f1_local0 )
	f1_local1.id = "popup_multi_login_error"
	return f1_local1
end

MenuBuilder.registerType( "popup_multi_login_error", PopupFenceMultiLoginError )
LUI.Fence.Register( "multiLogin", FenceMultiLogin )
LockTable( _M )
