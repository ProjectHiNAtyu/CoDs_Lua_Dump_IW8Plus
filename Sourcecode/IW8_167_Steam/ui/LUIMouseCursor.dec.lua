-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 17-11-2025 01:21
LUI.UIMouseCursor = LUI.Class( LUI.UIElement )
LUI.UIMouseCursor.priority = 1000
LUI.UIMouseCursor.mouseTimeout = 3000
LUI.UIMouseCursor.cinematicHideDelay = 2000
local f0_local0 = function ( f7_arg0, f7_arg1 )
	f7_arg0.lastMoveTime = Engine.BFBIDEGDFB()
	if f7_arg0.showCursor == 0 then
		f7_arg0:SetAlpha( 1 )
		f7_arg0.showCursor = 1
		if Engine.ECADDGAFF() then
			Engine.DDGIGAGHC( true )
		end
	end
	if f7_arg0.hiddenInCinematic then
		f7_arg0:SetAlpha( f7_arg0.showCursor )
		f7_arg0.hiddenInCinematic = false
		if Engine.ECADDGAFF() then
			Engine.DDGIGAGHC( f7_arg0.showCursor == 1 )
		end
	end
end

local f0_local1 = function ( f6_arg0, f6_arg1 )
	local f6_local0 = f6_arg0.lastMoveTime + LUI.UIMouseCursor.cinematicHideDelay <= Engine.BFBIDEGDFB()
	local f6_local1 = Engine.IGAJBFHE()
	if f6_local1 and not f6_arg0.hiddenInCinematic and f6_local0 and not f6_arg0._forceIsVisible then
		f6_arg0:SetAlpha( 0 )
		f6_arg0.hiddenInCinematic = true
		if Engine.ECADDGAFF() then
			Engine.DDGIGAGHC( false )
		end
	elseif not (not (not f6_local0 or not f6_local1) or not f6_arg0.hiddenInCinematic) or f6_arg0._forceIsVisible then
		f6_arg0:SetAlpha( f6_arg0.showCursor )
		f6_arg0.hiddenInCinematic = false
		if Engine.ECADDGAFF() then
			Engine.DDGIGAGHC( f6_arg0.showCursor == 1 )
		end
	end
end

MouseCursorType = {
	CURSOR_TYPE_ARROW_NORMAL = {
		id = 0,
		material = "ui_cursor_arrow_normal"
	},
	CURSOR_TYPE_ARROW_ACTIVE = {
		id = 1,
		material = "ui_cursor_arrow_active"
	},
	CURSOR_TYPE_ARROW_UNAVAILABLE = {
		id = 2
	},
	CURSOR_TYPE_ARROW_INACTIVE = {
		id = 3
	},
	CURSOR_TYPE_ARROW_CONTEXTUAL = {
		id = 4,
		material = "ui_cursor_arrow_contextual"
	},
	CURSOR_TYPE_ROTATION_NORMAL = {
		id = 5,
		material = "ui_cursor_arrow_rotation"
	},
	CURSOR_TYPE_ROTATION_ACTIVE = {
		id = 6
	},
	CURSOR_TYPE_ROTATION_UNAVAILABLE = {
		id = 7
	},
	CURSOR_TYPE_ARROW_PANFOURWAYS = {
		id = 8,
		material = "ui_cursor_arrow_panfourways"
	},
	CURSOR_TYPE_IBEAM = {
		id = 9,
		material = "ui_cursor_i_beam"
	},
	CURSOR_TYPE_WIN_ARROW = {
		id = 10
	},
	CURSOR_TYPE_WIN_HAND = {
		id = 11
	},
	CURSOR_TYPE_WIN_IBEAM = {
		id = 12
	}
}
LUI.UIMouseCursor.ForceCursorVisibility = function ( f5_arg0 )
	local f5_local0 = Engine.DBFFAEEFGJ()
	f5_local0 = f5_local0.cursor
	if f5_local0 ~= nil then
		f5_local0._forceIsVisible = f5_arg0
	end
end

LUI.UIMouseCursor.SetVisible = function ( f4_arg0 )
	local f4_local0 = Engine.DBFFAEEFGJ()
	f4_local0 = f4_local0.cursor
	if f4_local0 then
		local f4_local1 = f4_local0
		local f4_local2 = f4_local0.SetAlpha
		local f4_local3
		if f4_arg0 then
			f4_local3 = 1
		else
			f4_local3 = 0
		end
		f4_local2( f4_local1, f4_local3 )
		if Engine.ECADDGAFF() then
			Engine.DDGIGAGHC( f4_arg0 )
		end
	end
end

LUI.UIMouseCursor.UpdateMouseCursor = function ( f3_arg0, f3_arg1 )
	local f3_local0 = MouseCursorType.CURSOR_TYPE_ARROW_NORMAL
	if f3_arg0 and f3_arg0:isElementVisible() then
		local f3_local1 = LUI.MouseCursorContextualMenuLayer.GetLayer()
		local f3_local2
		if f3_local1 then
			f3_local2 = f3_local1
		else
			f3_local2 = f3_local1:AnyValidContextualDataConditions( f3_arg0, f3_arg1, nil )
		end
		if f3_local2 then
			f3_local0 = MouseCursorType.CURSOR_TYPE_ARROW_CONTEXTUAL
		elseif f3_arg0._mouseCursorTypeOverride then
			f3_local0 = f3_arg0._mouseCursorTypeOverride
		elseif f3_arg0.handleMouseButton then
			f3_local0 = MouseCursorType.CURSOR_TYPE_ARROW_ACTIVE
		end
	end
	local f3_local3 = Engine.DBFFAEEFGJ()
	f3_local3 = f3_local3.cursor
	if f3_local3 then
		f3_local3._controllerIndex = f3_arg1
		f3_local3:SetMouseCursorController( f3_arg1 )
		if f3_local3._currentCursorType ~= f3_local0 then
			f3_local3._currentCursorType = f3_local0
			if Engine.ECADDGAFF() then
				Engine.DCEDEGBFEJ( f3_local0.id )
			else
				local f3_local1 = RegisterMaterial
				local f3_local4 = f3_local0.material
				if not f3_local4 then
					f3_local4 = MouseCursorType.CURSOR_TYPE_ARROW_NORMAL.material
				end
				f3_local1 = f3_local1( f3_local4 )
				assert( f3_local1, "Cursor material " .. tostring( f3_local0.material ) .. " invalid or not loaded" )
				f3_local3:setImage( f3_local1 )
			end
		end
	end
end

LUI.UIMouseCursor.init = function ( f1_arg0, f1_arg1 )
	LUI.UIMouseCursor.super.init( f1_arg0 )
	f1_arg0.id = "UIMouseCursor"
	f1_arg0:SetupMouseCursor()
	f1_arg0:SetAnchorsAndPosition( 0, 1, 0, 1, -32, 32, -32, 32 )
	f1_arg0:setImage( RegisterMaterial( "ui_cursor_arrow_normal" ) )
	f1_arg0:setPriority( LUI.UIMouseCursor.priority )
	f1_arg0.lastMoveTime = Engine.BFBIDEGDFB()
	f1_arg0.showCursor = 0
	f1_arg0.hiddenInCinematic = false
	f1_arg0:SetAlpha( 0 )
	f1_arg0:registerEventHandler( "mousemove", f0_local0 )
	f1_arg0:registerEventHandler( "mousedown", f0_local0 )
	if not Dvar.IBEGCHEFE( "NOMOKSKQRM" ) then
		local self = LUI.UITimer.new( {
			interval = 1000,
			broadcastToRoot = false,
			disposable = false,
			event = {
				name = "update_mouse"
			},
			eventTarget = f1_arg0
		} )
		self.id = "updateTimer"
		f1_arg0:addElement( self )
		f1_arg0:registerEventHandler( "update_mouse", f0_local0 )
	end
	f1_arg0:registerEventHandler( "update_input_type", function ( element, event )
		if LUI.IsLastInputGamepad( event.controllerIndex ) and element.showCursor == 1 then
			element:SetAlpha( 0, 400 )
			element.showCursor = 0
			if Engine.ECADDGAFF() then
				Engine.DDGIGAGHC( false )
			end
		end
	end )
end

