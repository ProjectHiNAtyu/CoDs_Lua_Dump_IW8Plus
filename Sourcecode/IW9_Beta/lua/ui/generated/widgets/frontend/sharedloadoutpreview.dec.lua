-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:01
module( ..., package.seeall )
require( "ui.generated.widgets.genericbutton" )
require( "ui.generated.widgets.frontend.mp.cas.loadoutweaponbutton" )
require( "ui.generated.widgets.frontend.mp.cas.loadoutitemperkbutton" )
require( "ui.generated.widgets.frontend.mp.cas.loadoutitembutton" )
local f0_local0 = function ( f18_arg0, f18_arg1 )
	local f18_local0 = LOADOUT.GetLoadoutSquadMember( f18_arg0 )
	f18_local0 = f18_local0.loadouts[f18_arg1]
end

local f0_local1 = function ( f17_arg0, f17_arg1, f17_arg2 )
	local f17_local0 = f17_arg2.loadoutPerks[0]:get()
	local f17_local1 = f17_arg2.loadoutPerks[1]:get()
	local f17_local2 = f17_arg2.loadoutPerks[2]:get()
	local f17_local3 = f17_arg2.extraPerks[0]:get()
	local f17_local4 = f17_arg2.extraPerks[1]:get()
	local f17_local5 = f17_arg2.extraPerks[2]:get()
	local f17_local6 = {}
	if f17_arg2.usingSpecialist:get() == 1 then
		f17_local6 = {
			f17_local0,
			f17_local1,
			f17_local2,
			f17_local3,
			f17_local4,
			f17_local5
		}
	else
		f17_local6 = {
			f17_local0,
			f17_local1,
			f17_local2
		}
	end
	f17_arg0:SetupButton( f17_arg1, f17_local6 )
end

local f0_local2 = function ( f16_arg0, f16_arg1, f16_arg2, f16_arg3 )
	local f16_local0 = f16_arg3.equipmentSetups[0].equipment:get()
	local f16_local1 = f16_arg3.equipmentSetups[1].equipment:get()
	f16_arg0:SetupButton( f16_arg2, f16_local0, LOOT.itemTypes.EQUIPMENT, 0xCCC460329644DD6, EQUIPMENT.lethalSlot )
	f16_arg1:SetupButton( f16_arg2, f16_local1, LOOT.itemTypes.EQUIPMENT, 0x5697A9175B26F79, EQUIPMENT.tacticalSlot )
end

local f0_local3 = function ( f15_arg0, f15_arg1, f15_arg2, f15_arg3 )
	f15_arg0:SetupButton( f15_arg1, f15_arg2, f15_arg3.weaponSetups[f15_arg2] )
end

local f0_local4 = function ( f14_arg0, f14_arg1, f14_arg2 )
	local f14_local0 = LoadoutSharing[0x4CB65381EB0EE6D]( f14_arg1 )
	local f14_local1 = f14_local0.sharedLoadouts[f14_arg2]
	f0_local0( f14_arg0.PrimaryWeaponButton, f14_arg1, WEAPON.PrimarySlot, f14_local1 )
	f0_local0( f14_arg0.SecondaryWeaponButton, f14_arg1, WEAPON.SecondarySlot, f14_local1 )
	f0_local0( f14_arg0.PerkGridItem, f14_arg1, f14_local1 )
	f0_local0( f14_arg0.EquipmentGridItem, f14_arg0.TacticalGridItem, f14_arg1, f14_local1 )
	if f14_local1.usingSpecialist:get() == 1 then
		ACTIONS.AnimateSequence( f14_arg0, "Specialist" )
	else
		ACTIONS.AnimateSequence( f14_arg0, "NoSpecialist" )
	end
end

local f0_local5 = function ( f8_arg0, f8_arg1, f8_arg2 )
	f8_arg0:registerAndCallEventHandler( "loadout_received", function ()
		local f10_local0 = LoadoutSharing[0x8A1F5C8F1583B63]()
		if f10_local0.numSharedLoadouts == 0 then
			f8_arg0.PrimaryWeaponButton:RemoveFromParent()
			f8_arg0.SecondaryWeaponButton:RemoveFromParent()
			f8_arg0.PerkGridItem:RemoveFromParent()
			f8_arg0.EquipmentGridItem:RemoveFromParent()
			f8_arg0.TacticalGridItem:RemoveFromParent()
		else
			f8_arg0:addElement( f8_arg0.PrimaryWeaponButton )
			f8_arg0:addElement( f8_arg0.SecondaryWeaponButton )
			f8_arg0:addElement( f8_arg0.PerkGridItem )
			f8_arg0:addElement( f8_arg0.EquipmentGridItem )
			f8_arg0:addElement( f8_arg0.TacticalGridItem )
			f8_arg0.PrimaryWeaponButton:SetButtonDisabled( true )
			f8_arg0.SecondaryWeaponButton:SetButtonDisabled( true )
			f8_arg0.PerkGridItem:SetButtonDisabled( true )
			f8_arg0.EquipmentGridItem:SetButtonDisabled( true )
			f8_arg0.TacticalGridItem:SetButtonDisabled( true )
			f8_arg0.PrimaryWeaponButton:SetMouseFocusBlocker( true )
			f8_arg0.SecondaryWeaponButton:SetMouseFocusBlocker( true )
			f8_arg0.PerkGridItem:SetMouseFocusBlocker( true )
			f8_arg0.EquipmentGridItem:SetMouseFocusBlocker( true )
			f8_arg0.TacticalGridItem:SetMouseFocusBlocker( true )
		end
		f8_arg0.SharedLoadouts:SetRefreshChild( function ( f11_arg0, f11_arg1, f11_arg2 )
			f11_arg0.Text:setText( LoadoutSharing[0x7A3CC764C55BCE4]( f10_local0, f10_local0[f11_arg2] ) )
			f11_arg0:registerEventHandler( "button_action", function ()
				LOADOUT.OpenSaveSharedLoadoutPopup( f11_arg0, f11_arg0[f11_arg0] )
			end )
			f11_arg0:registerEventHandler( "gain_focus", function ()
				f11_arg0( f11_arg0, f11_arg0, LoadoutSharing[0xE982F5205CFAC1E]( f11_arg0[f11_arg0] ) )
			end )
		end )
		f8_arg0.SharedLoadouts:SetNumRows( f10_local0.numSharedLoadouts )
		f8_arg0.SharedLoadouts:SetNumColumns( 1 )
		f8_arg0.SharedLoadouts:RefreshContent()
	end )
	f8_arg0:registerEventHandler( "shared_loadout_saved", function ( element, event )
		f8_arg0()
		f8_arg0( f8_arg0, event.options.saveIndex )
	end )
	f0_local0( f8_arg0, f8_arg1, 0 )
end

States = {
	[0xAD14C6E7156B923] = function ( f4_arg0, f4_arg1 )
		local f4_local0 = function ( f7_arg0, f7_arg1 )
			
		end
		
		f4_arg0.PerkGridItem:RegisterAnimationSequence( "Specialist", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Bottom_Anchor
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Top_Anchor
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 565
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 759
			}
		} )
		f4_arg0.EquipmentGridItem:RegisterAnimationSequence( "Specialist", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Bottom_Anchor
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Top_Anchor
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 763
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 849
			}
		} )
		f4_arg0.TacticalGridItem:RegisterAnimationSequence( "Specialist", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Right_Anchor
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Left_Anchor
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 554
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 958
			},
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Bottom_Anchor
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Top_Anchor
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 853
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 939
			}
		} )
		local f4_local1 = function ( f6_arg0, f6_arg1 )
			f6_arg0.PerkGridItem:AnimateSequence( "Specialist" )
			f6_arg0.EquipmentGridItem:AnimateSequence( "Specialist" )
			f6_arg0.TacticalGridItem:AnimateSequence( "Specialist" )
		end
		
		f4_arg0.PerkGridItem:RegisterAnimationSequence( "NoSpecialist", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Bottom_Anchor
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Top_Anchor
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 565
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 679
			}
		} )
		f4_arg0.EquipmentGridItem:RegisterAnimationSequence( "NoSpecialist", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Bottom_Anchor
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Top_Anchor
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 690
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 776
			}
		} )
		f4_arg0.TacticalGridItem:RegisterAnimationSequence( "NoSpecialist", {
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Right_Anchor
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Left_Anchor
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 552
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 956
			},
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Bottom_Anchor
			},
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Top_Anchor
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Top,
				value = _1080p * 781
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Bottom,
				value = _1080p * 867
			}
		} )
		f4_arg0._sequences = {
			DefaultSequence = f4_local0,
			Specialist = f4_local1,
			NoSpecialist = function ( f5_arg0, f5_arg1 )
				f5_arg0.PerkGridItem:AnimateSequence( "NoSpecialist" )
				f5_arg0.EquipmentGridItem:AnimateSequence( "NoSpecialist" )
				f5_arg0.TacticalGridItem:AnimateSequence( "NoSpecialist" )
			end
		}
		f4_arg0._sequenceLengths = {
			NoSpecialist = 0,
			DefaultSequence = 0,
			Specialist = 0
		}
	end
}
function SharedLoadoutPreview( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "SharedLoadoutPreview"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local SharedLoadouts = nil
	
	SharedLoadouts = LUI.UIGrid.new( {
		maxVisibleRows = 10,
		maxVisibleColumns = 1,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "GenericButton", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		spacingX = _1080p * 8,
		spacingY = _1080p * 8,
		columnWidth = _1080p * 420,
		rowHeight = _1080p * 38
	} )
	SharedLoadouts.id = "SharedLoadouts"
	SharedLoadouts:SetMaxVisibleRows( 10 )
	SharedLoadouts:SetRowSpacing( 8 )
	SharedLoadouts:setUseStencil( false )
	SharedLoadouts:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 83, _1080p * 503, _1080p * 170, _1080p * 350 )
	self:addElement( SharedLoadouts )
	self.SharedLoadouts = SharedLoadouts
	
	local PrimaryWeaponButton = nil
	
	PrimaryWeaponButton = MenuBuilder.BuildRegisteredType( "LoadoutWeaponButton", {
		controllerIndex = f1_local1
	} )
	PrimaryWeaponButton.id = "PrimaryWeaponButton"
	PrimaryWeaponButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 556, _1080p * 960, _1080p * 170, _1080p * 360 )
	self:addElement( PrimaryWeaponButton )
	self.PrimaryWeaponButton = PrimaryWeaponButton
	
	local SecondaryWeaponButton = nil
	
	SecondaryWeaponButton = MenuBuilder.BuildRegisteredType( "LoadoutWeaponButton", {
		controllerIndex = f1_local1
	} )
	SecondaryWeaponButton.id = "SecondaryWeaponButton"
	SecondaryWeaponButton:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 554.5, _1080p * 958.5, _1080p * 367.75, _1080p * 557.75 )
	self:addElement( SecondaryWeaponButton )
	self.SecondaryWeaponButton = SecondaryWeaponButton
	
	local PerkGridItem = nil
	
	PerkGridItem = MenuBuilder.BuildRegisteredType( "LoadoutItemPerkButton", {
		controllerIndex = f1_local1
	} )
	PerkGridItem.id = "PerkGridItem"
	PerkGridItem:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 553, _1080p * 957, _1080p * 565.5, _1080p * 762.5 )
	self:addElement( PerkGridItem )
	self.PerkGridItem = PerkGridItem
	
	local EquipmentGridItem = nil
	
	EquipmentGridItem = MenuBuilder.BuildRegisteredType( "LoadoutItemButton", {
		controllerIndex = f1_local1
	} )
	EquipmentGridItem.id = "EquipmentGridItem"
	EquipmentGridItem:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 553.5, _1080p * 955.5, _1080p * 770.25, _1080p * 856.25 )
	self:addElement( EquipmentGridItem )
	self.EquipmentGridItem = EquipmentGridItem
	
	local TacticalGridItem = nil
	
	TacticalGridItem = MenuBuilder.BuildRegisteredType( "LoadoutItemButton", {
		controllerIndex = f1_local1
	} )
	TacticalGridItem.id = "TacticalGridItem"
	TacticalGridItem:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 552, _1080p * 956, _1080p * 864, _1080p * 950 )
	self:addElement( TacticalGridItem )
	self.TacticalGridItem = TacticalGridItem
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "SharedLoadoutPreview", SharedLoadoutPreview )
LockTable( _M )
