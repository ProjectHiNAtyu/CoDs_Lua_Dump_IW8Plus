-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
LUI.UIRoot = LUI.Class( LUI.UIElement )
local f0_local0 = {
	POST_GAME = 0,
	HOST_MIGRATION = 1
}
GlobalInputEvents = {
	mute_voicechat = true,
	quick_options = true,
	decline_notification = true,
	accept_notification = true,
	quick_social = true,
	mute_sound = true
}
local f0_local1 = function ( f48_arg0, f48_arg1 )
	return GlobalInputEvents[f48_arg1.button]
end

LUI.UIRoot.TryAddMouseCursor = function ( f47_arg0, f47_arg1 )
	local f47_local0
	if f47_arg1 and not f47_arg1 then
		f47_local0 = f47_arg1
	else
		f47_local0 = "base"
	end
	f47_arg0._flagCursor[f47_local0] = true
	if Engine.EABCCIBFIG() and not f47_arg0.cursor then
		f47_arg0.cursor = LUI.UIMouseCursor.new()
		f47_arg0:addElement( f47_arg0.cursor )
		if Engine.ECADDGAFF() then
			local f47_local1 = f47_arg0:GetControllerIndex()
			if not f47_local1 then
				f47_local1 = Engine.IJEBHJIJF()
			end
			if LUI.IsLastInputKeyboardMouse( f47_local1 ) then
				Engine.DDGIGAGHC( true )
			end
		end
	end
end

LUI.UIRoot.RemoveMouseCursor = function ( f46_arg0, f46_arg1 )
	local f46_local0
	if f46_arg1 and not f46_arg1 then
		f46_local0 = f46_arg1
	else
		f46_local0 = "base"
	end
	f46_arg0._flagCursor[f46_local0] = false
	local f46_local1 = true
	for f46_local5, f46_local6 in pairs( f46_arg0._flagCursor ) do
		if f46_local6 then
			f46_local1 = false
			break
		end
	end
	if f46_arg0.cursor and f46_local1 then
		f46_arg0.cursor:closeTree()
		f46_arg0.cursor = nil
		if Engine.ECADDGAFF() then
			Engine.DDGIGAGHC( false )
		end
		if f46_arg0.mouseCursorTooltipLayer then
			f46_local2 = f46_arg0:GetControllerIndex()
			if not f46_local2 then
				f46_local2 = Engine.IJEBHJIJF()
			end
			f46_arg0.mouseCursorTooltipLayer:ClearTooltipData( f46_arg0, f46_local2, nil )
		end
	end
end

LUI.UIRoot.BlockButtonInput = function ( f45_arg0, f45_arg1, f45_arg2 )
	if f45_arg1 then
		f45_arg0.m_blockButtonInput = true
	else
		f45_arg0.m_blockButtonInput = false
	end
end

LUI.UIRoot.IsButtonInputBlocked = function ( f44_arg0 )
	return f44_arg0.m_blockButtonInput
end

LUI.UIRoot.PixelsToUnits = function ( f43_arg0, f43_arg1, f43_arg2 )
	return f43_arg0:RootPixelsToUnits( f43_arg1, f43_arg2 )
end

local f0_local2 = function ( f42_arg0, f42_arg1 )
	local f42_local0 = false
	local f42_local1 = false
	if f42_arg0.flowManager and not f42_arg0.flowManager:IsStackEmpty() then
		f42_local0 = true
	elseif f42_arg0.binkSkipPromptLayer and f42_arg0.binkSkipPromptLayer:ShouldBeVisible() and f42_arg0.binkSkipPromptLayer:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.Snakecam and f42_arg0.Snakecam:ShouldBeVisible() and f42_arg0.Snakecam:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.loadingScreenManager and f42_arg0.loadingScreenManager:ShouldBeVisible() and f42_arg0.loadingScreenManager:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.scoreboardLayer and f42_arg0.scoreboardLayer:ShouldBeVisible() and f42_arg0.scoreboardLayer:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.squadEliminatedLayer and f42_arg0.squadEliminatedLayer:ShouldBeVisible() and f42_arg0.squadEliminatedLayer:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.textChat and f42_arg0.textChat:ShouldBeVisible() and f42_arg0.textChat:TrapsInput( f42_arg1 ) then
		f42_local0, f42_local1 = f42_arg0.textChat:InputsTrappedOrInteresting( f42_arg1 )
	elseif f42_arg0.radialMenuLayer and f42_arg0.radialMenuLayer:ShouldBeVisible() and f42_arg0.radialMenuLayer:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.reportPlayerLayer and f42_arg0.reportPlayerLayer:ShouldBeVisible() and f42_arg0.reportPlayerLayer:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.tacOpsLayer and f42_arg0.tacOpsLayer:ShouldBeVisible() and f42_arg0.tacOpsLayer:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.brQuickInventoryLayer and f42_arg0.brQuickInventoryLayer:ShouldBeVisible() and f42_arg0.brQuickInventoryLayer:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.dpadPopupLayer and f42_arg0.dpadPopupLayer:ShouldBeVisible() and f42_arg0.dpadPopupLayer:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.birdsEyeLayer and f42_arg0.birdsEyeLayer:ShouldBeVisible() and f42_arg0.birdsEyeLayer:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.timedUseMeterLayer and f42_arg0.timedUseMeterLayer:ShouldBeVisible() and f42_arg0.timedUseMeterLayer:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.codcasterLayer and f42_arg0.codcasterLayer:ShouldBeVisible() and f42_arg0.codcasterLayer:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif f42_arg0.gunsmithDebug and f42_arg0.gunsmithDebug:ShouldBeVisible() and f42_arg0.gunsmithDebug:TrapsInput( f42_arg1 ) then
		f42_local0 = true
	elseif Engine.BHICADFIHA() and f42_arg0.uiDebugLayer:TrapsInput( f42_arg0, f42_arg1 ) then
		f42_local0 = true
	elseif f0_local0( f42_arg0, f42_arg1 ) then
		f42_local0 = true
	end
	if f42_local0 or f42_local1 then
		table.insert( f42_arg0.inputQueue, f42_arg1 )
		if 4 < #f42_arg0.inputQueue then
			table.remove( f42_arg0.inputQueue, 1 )
		end
	end
	return f42_local0
end

LUI.UIRoot.QueueMouseInput = function ( f41_arg0, f41_arg1, f41_arg2, f41_arg3, f41_arg4, f41_arg5, f41_arg6, f41_arg7 )
	return f0_local0( f41_arg0, {
		name = f41_arg3,
		rootName = f41_arg2,
		controller = f41_arg1,
		button = f41_arg4,
		down = f41_arg5,
		x = f41_arg6,
		y = f41_arg7
	} )
end

LUI.UIRoot.QueueInput = function ( f40_arg0, f40_arg1, f40_arg2, f40_arg3, f40_arg4, f40_arg5, f40_arg6, f40_arg7, f40_arg8 )
	return f0_local0( f40_arg0, {
		name = "gamepad_button",
		controller = f40_arg1,
		rootName = f40_arg2,
		button = f40_arg4,
		qualifier = f40_arg5,
		down = f40_arg3,
		x = f40_arg6,
		y = f40_arg7,
		resetInputs = f40_arg8
	} )
end

local f0_local3 = {}
local f0_local4 = 0
LUI.UIRoot.ProcessQueue = function ( f38_arg0, f38_arg1 )
	local f38_local0 = #f38_arg1
	if 8 < f38_local0 then
		DebugPrint( "LUI WARNING: Processing " .. f38_local0 .. " global events in one frame." )
		if Dvar.IBEGCHEFE( "lui_debug_events_enabled" ) then
			DebugPrint( "-----Starting event enumeration:" )
			for f38_local1 = 1, f38_local0, 1 do
				if f38_arg1[f38_local1].name == "omnvar_update" then
					DebugPrint( "Event omnvar " .. f38_local1 .. ": " .. f38_arg1[f38_local1].omnvar )
				else
					DebugPrint( "Event " .. f38_local1 .. ": " .. f38_arg1[f38_local1].name )
				end
			end
			DebugPrint( "-----Ending event enumeration:" )
		end
	end
	local f38_local1 = nil
	for f38_local2 = 1, f38_local0, 1 do
		local f38_local5 = f38_local2
		f38_local1 = f38_arg1[1]
		table.remove( f38_arg1, 1 )
		LUI.UIRoot.ProcessEventNow( f38_arg0, f38_local1 )
		if Dvar.IBEGCHEFE( "lui_debug_events_enabled" ) and f38_local1.name ~= "run_frame" then
			local f38_local6 = -1
			local f38_local7 = f38_local1.name
			if f38_local1.name == "omnvar_update" then
				f38_local7 = f38_local1.omnvar
			end
			for f38_local8 = 1, #f0_local0, 1 do
				if f0_local0[f38_local8].eventName == f38_local7 then
					f38_local6 = f38_local8
					break
				end
			end
			if f38_local6 ~= -1 then
				f0_local0[f38_local6].count = f0_local0[f38_local6].count + 1
				f0_local0[f38_local6].added = f0_local0
			end
			if #f0_local0 < 50 then
				table.insert( f0_local0, {
					eventName = f38_local7,
					count = 1,
					added = f0_local0
				} )
			end
			for f38_local8 = #f0_local0, 1, -1 do
				if f0_local0[f38_local8].count == 1 and f0_local0[f38_local8].added + 1800 < f0_local0 then
					table.remove( f0_local0, f38_local8 )
				end
			end
		end
	end
	if Dvar.IBEGCHEFE( "lui_debug_events_enabled" ) then
		table.sort( f0_local0, function ( f39_arg0, f39_arg1 )
			return f39_arg1.count < f39_arg0.count
		end )
		f0_local0 = f0_local0 + 1
		if f0_local0 % 200 == 0 then
			DebugPrint( "-----Starting event enumeration:" )
			for f38_local5, f38_local6 in ipairs( f0_local0 ) do
				DebugPrint( "Event: " .. f38_local6.eventName .. ", Count: " .. f38_local6.count )
			end
			DebugPrint( "-----Ending event enumeration:" )
		end
	end
end

LUI.UIRoot.ProcessEvents = function ( f37_arg0 )
	Engine.DJAFAHJFED( "LUI.UIRoot.ProcessEvents" )
	f37_arg0:ProcessQueue( f37_arg0.eventQueue )
	Engine.BJCDJGCFJJ()
end

LUI.UIRoot.ProcessInputs = function ( f36_arg0 )
	Engine.DJAFAHJFED( "LUI.UIRoot.ProcessInputs" )
	f36_arg0:ProcessQueue( f36_arg0.inputQueue )
	Engine.BJCDJGCFJJ()
end

LUI.UIRoot.ProcessEvent = function ( f35_arg0, f35_arg1 )
	if f35_arg1.immediate == true then
		return LUI.UIRoot.ProcessEventNow( f35_arg0, f35_arg1 )
	else
		table.insert( f35_arg0.eventQueue, f35_arg1 )
		return false
	end
end

LUI.UIRoot.ProcessEventNow = function ( f34_arg0, f34_arg1 )
	Engine.DJAFAHJFED( "LUI.UIRoot.ProcessEventNow" )
	if not f34_arg0.debugPrintIgnoreEvents[f34_arg1.name] and Dvar.IBEGCHEFE( "lui_print_events" ) then
		DebugPrint( "Processing event " .. f34_arg1.name )
		if f34_arg1.name == "gamepad_button" then
			DebugPrint( "button " .. f34_arg1.button )
		end
	end
	if f34_arg0.m_blockButtonInput and (f34_arg1.name == "gamepad_button" or f34_arg1.name == "mouseup") then
		DebugPrint( "Blocking Button input for " .. f34_arg1.button .. "  because m_ignoreButtonInput is true" )
		Engine.BJCDJGCFJJ()
		return false
	elseif IsMouseEvent( f34_arg1.name, f34_arg1.qualifier ) then
		local f34_local0 = f34_arg0.flowManager:GetTopMostOpenMenuInfo()
		if f34_local0 and f34_local0.isControllerExclusive then
			local f34_local1
			if f34_local0.controller and f34_arg1.controller and f34_local0.controller ~= f34_arg1.controller then
				f34_local1 = false
			else
				f34_local1 = true
			end
			if not f34_local1 then
				return true
			end
		end
		f34_arg1.root = f34_arg0
		f34_arg0:UpdateInputType( f34_arg1 )
		if IsMouseInputEvent( f34_arg1.name, f34_arg1.qualifier ) then
			LUI.UIRoot.ProcessMouseButtonEvent( f34_arg0, f34_arg1 )
		else
			LUI.UIRoot.ProcessMouseMoveEvent( f34_arg0, f34_arg1 )
		end
		if f34_arg0.cursor then
			f34_arg0.cursor:processEvent( f34_arg1 )
		end
		Engine.BJCDJGCFJJ()
		return true
	elseif f34_arg1.target and f34_arg1.target ~= f34_arg0 then
		Engine.BJCDJGCFJJ()
		return f34_arg1.target:processEvent( f34_arg1 )
	elseif IsInputEvent( f34_arg1.name ) then
		if f34_arg1.name ~= "gamepad_sticks" then
			f34_arg0:ClearFocusStack()
		end
		f34_arg0:UpdateInputType( f34_arg1 )
		if not AnyActiveMenusInStack( f34_arg0 ) and f34_arg0.gunsmithDebug then
			f34_arg0.gunsmithDebug:processEvent( f34_arg1 )
		end
		local f34_local0 = false
		local f34_local1 = AnyActiveMenusInStack( f34_arg0 )
		local f34_local2 = Engine.EAIICIFIFA()
		if Engine.BHICADFIHA() and LUI.UIDebugLayer and LUI.UIDebugLayer.ProcessEvent( f34_arg0, f34_arg1 ) then
			f34_local0 = true
		elseif f34_arg0.toastManager and f34_arg0.toastManager:processEvent( f34_arg1 ) then
			f34_local0 = true
		elseif f34_arg0.mouseCursorContextualMenuLayer and f34_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f34_arg0.mouseCursorContextualMenuLayer:processEvent( f34_arg1 ) then
			f34_local0 = true
		elseif f34_arg0.textChat and f34_arg0.textChat:ShouldBeVisible() and f34_arg0.textChat:processEvent( f34_arg1 ) then
			f34_local0 = true
			f34_local1 = true
		elseif AnyActiveMenusInStack( f34_arg0 ) or f0_local0( f34_arg0, f34_arg1 ) then
			if not f34_local0 then
				f34_local0 = f34_arg0.flowManager:processEvent( f34_arg1 )
			end
		elseif f34_arg0.binkSkipPromptLayer and f34_arg0.binkSkipPromptLayer:ShouldBeVisible() then
			if not f34_local0 then
				f34_local0 = f34_arg0.binkSkipPromptLayer:processEvent( f34_arg1 )
			end
		elseif f34_arg0.Snakecam and f34_arg0.Snakecam:ShouldBeVisible() then
			if not f34_local0 then
				f34_local0 = f34_arg0.Snakecam:processEvent( f34_arg1 )
			end
		elseif f34_arg0.loadingScreenManager and f34_arg0.loadingScreenManager:ShouldBeVisible() then
			if not f34_local0 then
				f34_local0 = f34_arg0.loadingScreenManager:processEvent( f34_arg1 )
			end
		elseif f34_arg0.codcasterLayer and f34_arg0.codcasterLayer:ShouldBeVisible() then
			if not f34_arg0.codcasterLayer:processEvent( f34_arg1 ) and f34_arg0.scoreboardLayer and not f34_local0 then
				f34_local0 = f34_arg0.scoreboardLayer:processEvent( f34_arg1 )
			end
			f34_local1 = true
		elseif f34_arg0.scoreboardLayer and not f34_local2 and f34_arg0.scoreboardLayer:TrapsInput( f34_arg1 ) then
			if not f34_local0 then
				f34_local0 = f34_arg0.scoreboardLayer:processEvent( f34_arg1 )
			end
		elseif f34_arg0.scoreboardLayer and f34_local2 and LUI.ScoreboardLayer.IsShowingScoreboard( f34_arg0.scoreboardLayer ) then
			if not f34_local0 then
				f34_local0 = f34_arg0.scoreboardLayer:processEvent( f34_arg1 )
			end
		elseif f34_arg0.squadEliminatedLayer and f34_arg0.squadEliminatedLayer:ShouldBeVisible() and f34_arg0.squadEliminatedLayer:TrapsInput( f34_arg1 ) then
			if not f34_local0 then
				f34_local0 = f34_arg0.squadEliminatedLayer:processEvent( f34_arg1 )
			end
		elseif f34_arg0.dpadPopupLayer and LUI.DpadPopupLayer.IsShowingDpadPopup( f34_arg0.dpadPopupLayer ) then
			if not f34_local0 then
				f34_local0 = f34_arg0.dpadPopupLayer:processEvent( f34_arg1 )
			end
		elseif f34_arg0.birdsEyeLayer and LUI.BirdsEyeLayer.IsShowingBirdsEye( f34_arg0.birdsEyeLayer ) then
			if not f34_local0 then
				f34_local0 = f34_arg0.birdsEyeLayer:processEvent( f34_arg1 )
			end
		elseif f34_arg0.timedUseMeterLayer and LUI.TimedUseMeterLayer.IsShowingTimedUseMeter( f34_arg0.timedUseMeterLayer ) then
			if not f34_local0 then
				f34_local0 = f34_arg0.timedUseMeterLayer:processEvent( f34_arg1 )
			end
		elseif f34_arg0.brQuickInventoryLayer and f34_arg0.brQuickInventoryLayer:TrapsInput( f34_arg1 ) then
			if not f34_local0 then
				f34_local0 = f34_arg0.brQuickInventoryLayer:processEvent( f34_arg1 )
			end
		elseif f34_arg0.reportPlayerLayer and f34_arg0.reportPlayerLayer:TrapsInput( f34_arg1 ) then
			if not f34_local0 then
				f34_local0 = f34_arg0.reportPlayerLayer:processEvent( f34_arg1 )
			end
		elseif f34_arg0.tacOpsLayer and f34_arg0.tacOpsLayer:TrapsInput( f34_arg1 ) then
			if not f34_local0 then
				f34_local0 = f34_arg0.tacOpsLayer:processEvent( f34_arg1 )
			end
		elseif f34_arg0.telemetryLayer and f34_arg0.telemetryLayer:ShouldBeVisible() and f34_arg0.telemetryLayer:TrapsInput() then
			if not f34_local0 then
				f34_local0 = f34_arg0.telemetryLayer:processEvent( f34_arg1 )
			end
		elseif f34_arg0.achievementsManager and f34_arg0.achievementsManager:ShouldBeVisible() and f34_arg0.achievementsManager:TrapsInput() and not f34_local0 then
			f34_local0 = f34_arg0.achievementsManager:processEvent( f34_arg1 )
		end
		if not f34_local1 and f34_arg0.radialMenuLayer and f34_arg0.radialMenuLayer:ShouldBeVisible() and not f34_local0 then
			f34_local0 = f34_arg0.radialMenuLayer:processEvent( f34_arg1 )
		end
		Engine.BJCDJGCFJJ()
		return f34_local0
	elseif f34_arg1.name == "text_edit_is_typing" then
		f34_arg0:UpdateInputType( f34_arg1 )
	end
	f34_arg0:UpdateInputConnected( f34_arg1 )
	local f34_local0 = LUI.UIElement.processEvent( f34_arg0, f34_arg1 )
	Engine.BJCDJGCFJJ()
	return f34_local0
end

local f0_local5 = function ( f33_arg0, f33_arg1, f33_arg2, f33_arg3, f33_arg4 )
	f33_arg1:applyElementTransform()
	local f33_local0 = false
	local f33_local1, f33_local2 = ProjectRootCoordinate( f33_arg0, f33_arg3, f33_arg4 )
	if f33_local1 and f33_local2 and f33_arg1:getLastChild() then
		
	else
		
	end
	f33_arg1:undoElementTransform()
	return false
end

LUI.UIRoot.ComputeCurrentMouseFocus = function ( f32_arg0, f32_arg1, f32_arg2, f32_arg3, f32_arg4 )
	local f32_local0 = {}
	if not f32_arg1._blockMouseMove then
		local f32_local1, f32_local2 = ProjectRootCoordinate( f32_arg0, f32_arg2, f32_arg3 )
		if f32_local1 and f32_local2 and f32_arg1.handleMouseMove and f32_arg1:IsPositionInside( f32_local1, f32_local2 ) then
			table.insert( f32_local0, f32_arg1 )
		end
	end
	f0_local0( f32_arg0, f32_arg1, f32_local0, f32_arg2, f32_arg3 )
	if f32_arg4 then
		for f32_local1 = #f32_local0, 1, -1 do
			if not f32_local0[f32_local1]:isDescendentOf( f32_arg4 ) then
				table.remove( f32_local0, f32_local1 )
			end
		end
	end
	return f32_local0
end

LUI.UIRoot.ComputeCurrentMouseFocusFromEvent = function ( f31_arg0, f31_arg1 )
	local f31_local0 = f31_arg1.rootName
	local f31_local1 = Engine.DBFFAEEFGJ()
	if not f31_local0 then
		f31_local0 = f31_local1.name
	end
	return LUI.UIRoot.ComputeCurrentMouseFocus( f31_local0, f31_arg0, f31_arg1.x, f31_arg1.y, f31_local1.lockedFocusToChildrenOf )
end

LUI.UIRoot.LockFocusStackToChildrenOfElement = function ( f30_arg0 )
	local f30_local0 = Engine.DBFFAEEFGJ()
	f30_local0.lockedFocusToChildrenOf = f30_arg0
	return true
end

LUI.UIRoot.UnlockFocusStackToChildrenOfElement = function ()
	local f29_local0 = Engine.DBFFAEEFGJ()
	f29_local0.lockedFocusToChildrenOf = nil
	return true
end

LUI.UIRoot.GetActiveLayer = function ( f28_arg0 )
	assert( f28_arg0 )
	local f28_local0 = nil
	if f28_arg0.scoreboardLayer and f28_arg0.scoreboardLayer:ShouldBeVisible() and f28_arg0.scoreboardLayer:IsShowingScoreboard() then
		f28_local0 = f28_arg0.scoreboardLayer
	elseif f28_arg0.brQuickInventoryLayer and f28_arg0.brQuickInventoryLayer:ShouldBeVisible() and f28_arg0.brQuickInventoryLayer:IsShowingQuickInventory() then
		f28_local0 = f28_arg0.brQuickInventoryLayer
	elseif f28_arg0.radialMenuLayer and f28_arg0.radialMenuLayer:ShouldBeVisible() then
		f28_local0 = f28_arg0.radialMenuLayer
	elseif f28_arg0.tacOpsLayer and f28_arg0.tacOpsLayer:ShouldBeVisible() then
		f28_local0 = f28_arg0.tacOpsLayer
	elseif f28_arg0.binkSkipPromptLayer and f28_arg0.binkSkipPromptLayer:ShouldBeVisible() then
		f28_local0 = f28_arg0.binkSkipPromptLayer
	elseif f28_arg0.squadEliminatedLayer and f28_arg0.squadEliminatedLayer:ShouldBeVisible() then
		f28_local0 = f28_arg0.squadEliminatedLayer
	elseif f28_arg0.loadingScreenManager and f28_arg0.loadingScreenManager:ShouldBeVisible() then
		f28_local0 = f28_arg0.loadingScreenManager
	end
	return f28_local0
end

LUI.UIRoot.ProcessMouseMoveEvent = function ( f27_arg0, f27_arg1 )
	local f27_local0 = {}
	if f27_arg0.mouseCursorContextualMenuLayer and f27_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f27_arg0.mouseCursorContextualMenuLayer:IsOpened() then
		table.insert( f27_local0, f27_arg0.mouseCursorContextualMenuLayer )
	else
		if Engine.BHICADFIHA() and f27_arg0.uiDebugLayer then
			table.insert( f27_local0, f27_arg0.uiDebugLayer )
		end
		if f27_arg0.toastManager then
			table.insert( f27_local0, f27_arg0.toastManager )
		end
		if f27_arg0.textChat and f27_arg0.textChat:ShouldBeVisible() then
			table.insert( f27_local0, f27_arg0.textChat )
		end
		if f27_arg0.shaderPreloadLayer and f27_arg0.shaderPreloadLayer:ShouldBeVisible() then
			table.insert( f27_local0, f27_arg0.shaderPreloadLayer )
		end
		if AnyActiveMenusInStack( f27_arg0 ) then
			local f27_local1 = table.insert
			local f27_local2 = f27_local0
			local f27_local3 = f27_arg0.flowManager:GetTopMostOpenMenuInfo()
			f27_local1( f27_local2, f27_local3.menu )
		end
		local f27_local1 = LUI.UIRoot.GetActiveLayer( f27_arg0 )
		if f27_local1 and f27_local1.handleMouseMove then
			table.insert( f27_local0, f27_local1 )
		end
	end
	if not f27_arg0.lockedFocusStack then
		f27_arg0.focusStack = {}
		for f27_local3, f27_local5 in ipairs( f27_local0 ) do
			f27_arg0.focusStack = LUI.UIRoot.ComputeCurrentMouseFocusFromEvent( f27_local5, f27_arg1 )
			if 0 < #f27_arg0.focusStack then
				break
			end
		end
		f27_arg1.focusStack = f27_arg0.focusStack
	else
		local f27_local1 = {}
		for f27_local5, f27_local6 in ipairs( f27_local0 ) do
			f27_local1 = LUI.UIRoot.ComputeCurrentMouseFocusFromEvent( f27_local6, f27_arg1 )
			if 0 < #f27_local1 then
				break
			end
		end
		f27_arg1.focusStack = {}
		for f27_local5, f27_local6 in ipairs( f27_local1 ) do
			for f27_local7, f27_local8 in ipairs( f27_arg0.focusStack ) do
				if f27_local6 == f27_local8 then
					table.insert( f27_arg1.focusStack, f27_local6 )
				end
			end
		end
	end
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain( f27_arg0 )
	end
	for f27_local3, f27_local5 in ipairs( f27_local0 ) do
		if LUI.FocusDebug ~= nil then
			LUI.FocusDebug.BeginFocusChainLayer( f27_local5 )
		end
		f27_local5:processEventNoDispatch( f27_arg1 )
		if LUI.FocusDebug ~= nil then
			LUI.FocusDebug.EndFocusChainItem()
		end
	end
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.EndFocusChain( f27_arg0 )
	end
	LUI.UIMouseCursor.UpdateMouseCursor( f27_arg1.focusStack[#f27_arg1.focusStack], f27_arg1.controller )
	return true
end

LUI.UIRoot.ProcessMouseButtonEvent = function ( f26_arg0, f26_arg1 )
	if not f26_arg0.focusStack then
		return false
	end
	local f26_local0 = LUI.ShallowCopy( f26_arg0.focusStack )
	local f26_local1 = LUI.UIRoot.GetActiveLayer( f26_arg0 )
	if f26_local1 and not f26_local1.handleMouseMove and f26_local1.handleMouseButton then
		table.insert( f26_local0, f26_local1 )
	end
	local f26_local2 = false
	local f26_local3 = false
	if 0 < #f26_local0 and f26_arg1.name == "mousedown" then
		f26_arg0.lockedFocusStack = true
		f26_local2 = true
	elseif f26_arg1.name == "mouseup" then
		if f26_arg0.lockedFocusStack then
			f26_arg0.lockedFocusStack = false
			f26_local2 = true
			f26_local3 = true
		elseif #f26_arg0.focusStack == 0 then
			Engine.HJJJIGAC( f26_arg1.controller )
		end
	elseif f26_arg1.name == "gamepad_button" and f26_arg1.qualifier == "mousewheel" then
		f26_local2 = true
	end
	if f26_arg0.mouseCursorContextualMenuLayer and f26_arg0.mouseCursorContextualMenuLayer:ShouldBeVisible() and f26_arg0.mouseCursorContextualMenuLayer:processEvent( f26_arg1 ) then
		f26_local2 = false
	end
	if f26_arg0.textChat and f26_arg0.textChat:ShouldBeVisible() and not LUI.UIElement.isDescendentOf( f26_local0[#f26_local0], f26_arg0.textChat ) and f26_arg1.name == "mouseup" then
		f26_arg0.textChat:processEvent( {
			name = "minimize_chat"
		} )
	end
	if f26_local2 then
		local f26_local4 = f26_arg1.dispatchChildren
		f26_arg1.dispatchChildren = false
		local f26_local5 = {}
		local f26_local6 = f26_local0[#f26_local0]
		if f26_local6 and f26_local6 ~= self then
			
		else
			
		end
		for f26_local7 = #f26_local5, 1, -1 do
			f26_local5[f26_local7]:applyElementTransform()
		end
		local f26_local7 = f26_arg1.rootName
		if not f26_local7 then
			local f26_local8 = Engine.DBFFAEEFGJ()
			f26_local7 = f26_local8.name
		end
		f26_local8 = 1
		for f26_local9 = #f26_local0, 1, -1 do
			if f26_local0[f26_local9].handleMouseButton then
				f26_arg1.mouseX, f26_arg1.mouseY = ProjectRootCoordinate( f26_local7, f26_arg1.x, f26_arg1.y )
				f26_arg1.inside = f26_local0[f26_local9]:IsPositionInside( REG15, REG16 )
				if f26_local0[f26_local9]:processEvent( f26_arg1 ) then
					break
				end
			end
			f26_local0[f26_local9]:undoElementTransform()
			f26_local8 = f26_local8 + 1
		end
		for f26_local9 = f26_local8, #f26_local5, 1 do
			f26_local5[f26_local9]:undoElementTransform()
		end
		f26_arg1.dispatchChildren = f26_local4
	end
	if f26_local3 then
		Engine.HJJJIGAC( f26_arg1.controller )
	end
	return true
end

LUI.UIRoot.ClearFocusStack = function ( f25_arg0 )
	f25_arg0.lockedFocusStack = false
	f25_arg0.focusStack = {}
	if f25_arg0.cursor and f25_arg0.cursor._controllerIndex then
		LUI.UIMouseCursor.UpdateMouseCursor( nil, f25_arg0.cursor._controllerIndex )
	end
	if LUI.FocusDebug ~= nil then
		LUI.FocusDebug.StartFocusChain()
		LUI.FocusDebug.EndFocusChain()
	end
end

LUI.UIRoot.UpdatePublisherVariables = function ( f24_arg0, f24_arg1 )
	if f24_arg0.flowManager then
		f24_arg0.flowManager:processEvent( {
			name = "update_publisher_variables"
		} )
	end
	return true
end

LUI.UIRoot.AddLayer = function ( f23_arg0, f23_arg1, f23_arg2 )
	assert( f23_arg1.id )
	assert( f23_arg1.InitLayer )
	assert( f23_arg1.ShouldBeVisible )
	assert( f23_arg1.ClearLayer )
	table.insert( f23_arg0.layers, f23_arg1 )
	local f23_local0
	if not f23_arg2 then
		f23_local0 = f23_arg2
	else
		f23_local0 = {}
	end
	f23_arg1.options = f23_local0
	if f23_arg1.options.exclusive then
		assert( f23_arg1.options.priority )
	end
	f23_arg1.layerEnabled = false
	f23_local0 = _720 * 16 / 18
	f23_arg1:SetAnchorsAndPosition( 0.5, 0.5, 0, 0, -f23_local0, f23_local0, 0, 0 )
	f23_arg0:addElement( f23_arg1 )
	return f23_arg1
end

LUI.UIRoot.UpdateLayers = function ( f22_arg0 )
	Engine.DJAFAHJFED( "LUI.UIRoot.UpdateLayers" )
	Engine.DJAFAHJFED( "Calc Exclusive Layer" )
	local f22_local0 = nil
	for f22_local4, f22_local5 in pairs( f22_arg0.layers ) do
		if f22_local5:ShouldBeVisible() and f22_local5.options.exclusive and (f22_local0 == nil or f22_local0.options.priority < f22_local5.options.priority) then
			f22_local0 = f22_local5
		end
	end
	Engine.BJCDJGCFJJ()
	Engine.DJAFAHJFED( "Layer Frames" )
	for f22_local4, f22_local5 in pairs( f22_arg0.layers ) do
		local f22_local6 = f22_local5:ShouldBeVisible()
		if f22_local6 then
			if f22_local0 ~= nil and f22_local0 ~= f22_local5 then
				f22_local6 = false
			else
				f22_local6 = true
			end
		end
		if f22_local5.layerEnabled ~= f22_local6 then
			if f22_local6 then
				Engine.DJAFAHJFED( "Layer:InitLayer " .. f22_local5.id )
				f22_local5:InitLayer()
				Engine.BJCDJGCFJJ()
			else
				Engine.DJAFAHJFED( "Layer:ClearLayer " .. f22_local5.id )
				f22_local5:ClearLayer()
				Engine.BJCDJGCFJJ()
			end
			f22_local5.layerEnabled = f22_local6
		end
		if f22_local5.layerEnabled and f22_local5.Frame then
			Engine.DJAFAHJFED( "Layer:Frame " .. f22_local5.id )
			f22_local5:Frame()
			Engine.BJCDJGCFJJ()
		end
	end
	Engine.BJCDJGCFJJ()
	Engine.BJCDJGCFJJ()
end

LUI.UIRoot.HandleErrors = function ( f21_arg0 )
	Engine.DJAFAHJFED( "LUI.UIRoot.HandleErrors" )
	local f21_local0 = Dvar.DHEEJCCJBH( "OMSSQKRMLQ" )
	if f21_local0 and 0 < #f21_local0 then
		if Engine.DBFCJBDJEC() and Engine.DBDHEJCHCI() then
			
		elseif CONDITIONS.IsTrialLicense() and Dvar.IBEGCHEFE( "showUpsellDialog" ) then
			LUI.FlowManager.RequestPopupMenu( nil, "ShowUpsellDialogPopup", true, f21_arg0._controllerIndex, false, {
				controllerIndex = f21_arg0._controllerIndex
			} )
		elseif not LUI.FlowManager.IsInStack( "error_popmenu" ) then
			DebugPrint( "Opening error popup for message: " .. tostring( f21_local0 ) .. ", length: " .. tostring( #f21_local0 ) )
			if not CONDITIONS.IsQABotSkipActive() then
				LUI.FlowManager.RequestPopupMenu( nil, "error_popmenu" )
			end
		end
	end
	if Engine.BHICADFIHA() and not Engine.CAADCDEEIA() then
		local f21_local1 = Engine.CHBCJJFDI()
		if f21_local1 and 0 < f21_local1 and not LUI.FlowManager.IsInStack( "error_popmenu" ) and not LUI.FlowManager.IsInStack( "LoadErrorPopup" ) then
			LUI.FlowManager.RequestPopupMenu( nil, "LoadErrorPopup" )
		end
	end
	local f21_local1 = 0
	local f21_local2 = false
	local f21_local3 = CONDITIONS.IsGamepadEnabled()
	local f21_local4 = false
	local f21_local5 = LUI.FlowManager.IsInStack( "ControllerRemovedPopup" )
	local f21_local6 = Engine.FJCIBEDII()
	if f21_arg0._controllerIndex == nil then
		for f21_local7 = 0, Engine.DCJGJDDEHE() - 1, 1 do
			if Engine.EACCHAIHIB( f21_local7 ) then
				f21_local1 = f21_local7
				f21_local2 = true
				break
			end
		end
		for f21_local7 = 0, Engine.DCJGJDDEHE() - 1, 1 do
			if Engine.JDFDCGCIJ( f21_local7 ) then
				f21_local4 = true
			end
		end
	else
		local f21_local7 = f21_arg0._controllerIndex
		f21_local2 = Engine.EACCHAIHIB( f21_local7 )
		if f21_local2 == true then
			f21_local1 = f21_local7
		end
		f21_local4 = Engine.JDFDCGCIJ( f21_local7 )
	end
	if f21_local2 and not f21_local5 and (not f21_local4 or f21_local6 and LUI.IsLastInputGamepad( f21_local1 )) then
		Engine.CGACCJCHEC( f21_local1 )
		LUI.FlowManager.RequestPopupMenu( nil, "ControllerRemovedPopup", false, nil, false, {
			missingControllerIndex = f21_local1
		}, nil, true )
	elseif f21_local5 and (not f21_local2 or f21_local4 and not f21_local6) then
		if f21_arg0._controllerIndex then
			LUI.FlowManager.RequestLeaveMenuByNameWithController( "ControllerRemovedPopup", f21_arg0._controllerIndex, true )
		else
			LUI.FlowManager.RequestLeaveMenuByName( "ControllerRemovedPopup", true )
		end
	end
	f21_arg0:ConnectionPopups( f21_arg0 )
	local f21_local8 = Engine.BHBHCBJACC()
	local f21_local9 = LUI.FlowManager.IsInStack( "WaitingForTransientsPopMenu" )
	if f21_local8 and not f21_local9 then
		LUI.FlowManager.RequestPopupMenu( nil, "WaitingForTransientsPopMenu", false, nil, false, {}, nil, true )
	elseif f21_local9 and not f21_local8 then
		LUI.FlowManager.RequestLeaveMenuByName( "WaitingForTransientsPopMenu", true )
	end
	Engine.BJCDJGCFJJ()
end

LUI.UIRoot.Frame = function ( f20_arg0, f20_arg1 )
	Engine.DJAFAHJFED( "LUI.UIRoot.Frame" )
	if not Engine.DDJFBBJAIG() and Game.HJHDJDCBF() then
		InitInGameDataSources()
	end
	f20_arg0:ProcessEvents()
	f20_arg0:UpdateLayers()
	f20_arg0:ProcessInputs()
	f20_arg0:HandleErrors()
	SOUNDS.UpdateLoopingSounds()
	Engine.BJCDJGCFJJ()
	return true
end

LUI.UIRoot.UpdateGameMode = function ( f19_arg0, f19_arg1 )
	local f19_local0 = f19_arg1.currentGameMode
	CoD.UpdateGameMode( f19_local0, f19_arg1.previousGameMode )
	THEMES.UpdateTheme( {
		currentGameMode = f19_local0,
		isMainMenu = f19_local0 == 0
	} )
	LUI.UIRoot.UpdateClansNotificationHandler( f19_arg0, f19_local0, f19_arg1.previousGameMode )
	return true
end

LUI.UIRoot.PlayerDataAvailable = function ( f18_arg0, f18_arg1 )
	DebugPrint( "PlayerData is now available!  controller=" .. f18_arg1.controllerIndex .. ", statsSource=" .. f18_arg1.statsSource )
	MP_COMMON.ValidatePlayerData( f18_arg1.controllerIndex, f18_arg1.statsSource )
	return true
end

LUI.UIRoot.InventoryAddItem = function ( f17_arg0, f17_arg1 )
	Challenge.ActivateAchievementForNewItem( f17_arg1.controller, f17_arg1.id )
end

LUI.UIRoot.InventoryUpdateItem = function ( f16_arg0, f16_arg1 )
	
end

LUI.UIRoot.InventoryDeleteItem = function ( f15_arg0, f15_arg1 )
	
end

LUI.UIRoot.InventoryDownloadComplete = function ( f14_arg0, f14_arg1 )
	if f14_arg1.type == "player" then
		Challenge.FixupActivationTokens( f14_arg1.controller )
	end
end

LUI.UIRoot.PreviewItem = function ( f13_arg0, f13_arg1 )
	local f13_local0 = LOOT.GetTypeForID( f13_arg1.lootID )
	if LOOT.CanPreview( f13_local0, f13_arg1.lootID ) then
		STORE.PreviewItem( f13_arg1.controller, f13_local0, f13_arg1.lootID )
	end
end

LUI.UIRoot.UpdateInputType = function ( f12_arg0, f12_arg1 )
	f12_arg0:UpdateInputConnected( f12_arg1 )
	if not Engine.EABCCIBFIG() then
		return 
	end
	assert( f12_arg1.controller )
	local f12_local0 = f12_arg1.inputType and f12_arg1.inputType or Engine.CBCJDCHCCD( f12_arg1.controller )
	if f12_arg0.lastInputType ~= f12_local0 then
		f12_arg0.lastInputType = f12_local0
		f12_arg0:processEvent( {
			name = "update_input_type",
			controllerIndex = f12_arg1.controller
		} )
	end
end

LUI.UIRoot.UpdateInputConnected = function ( f11_arg0, f11_arg1 )
	local f11_local0 = f11_arg0._controllerIndex
	if not f11_local0 then
		f11_local0 = Engine.IJEBHJIJF()
	end
	local f11_local1 = OPTIONS.IsGamepadConnected( f11_local0 )
	local f11_local2 = Engine.JDFDCGCIJ( f11_local0 )
	if f11_arg0.keyboardConnected ~= f11_local2 then
		local f11_local3 = Engine.IEJEJEI()
		if not f11_local3 and not f11_arg0.systemUiOpened then
			f11_arg0.keyboardConnected = f11_local2
			f11_arg0.connectionChanged = true
			f11_arg0:dispatchEventToChildren( {
				name = "input_connection",
				controllerIndex = f11_local0
			} )
		elseif f11_local3 then
			f11_arg0.systemUiOpened = true
		else
			f11_arg0.systemUiOpened = false
		end
	elseif f11_arg0.gamepadConnected ~= f11_local1 then
		f11_arg0.gamepadConnected = f11_local1
		f11_arg0.connectionChanged = true
		f11_arg0:dispatchEventToChildren( {
			name = "input_connection",
			controllerIndex = f11_local0
		} )
	end
end

LUI.UIRoot.ConnectionPopups = function ( f10_arg0 )
	local f10_local0 = CONDITIONS.IsGamepadEnabled()
	if not (not f10_arg0.connectionChanged and (not f10_local0 or f10_arg0.gamepadConnected)) or not f10_local0 and not f10_arg0.keyboardConnected then
		local f10_local1 = LUI.FlowManager.IsInStack( "keyboardremoved_inputswap_popup" )
		local f10_local2 = LUI.FlowManager.IsInStack( "controllerremoved_inputswap_popup" )
		local f10_local3 = MenuUtils.CanShowConnectionPopups()
		local f10_local4
		if not f10_arg0.keyboardConnected then
			f10_local4 = f10_arg0.gamepadConnected
		else
			f10_local4 = false
		end
		local f10_local5
		if not f10_arg0.gamepadConnected then
			f10_local5 = f10_arg0.keyboardConnected
		else
			f10_local5 = false
		end
		if f10_local4 and not f10_local0 then
			if not f10_local1 and f10_local3 then
				LUI.FlowManager.RequestPopupMenu( nil, "keyboardremoved_inputswap_popup" )
			end
		elseif f10_local5 and f10_local0 then
			if not f10_local2 and f10_local3 then
				LUI.FlowManager.RequestPopupMenu( nil, "controllerremoved_inputswap_popup" )
			end
		else
			f10_arg0.connectionChanged = false
		end
		if f10_local1 and (f10_arg0.keyboardConnected or not f10_local3) then
			LUI.FlowManager.RequestLeaveMenuByName( "keyboardremoved_inputswap_popup", true )
		elseif f10_local2 and (f10_arg0.gamepadConnected or not f10_local3) then
			LUI.FlowManager.RequestLeaveMenuByName( "controllerremoved_inputswap_popup", true )
		end
	end
end

LUI.UIRoot.SetLuiLayerKeycatch = function ( f9_arg0, f9_arg1, f9_arg2 )
	local f9_local0 = Engine.DBFFAEEFGJ()
	if not f9_local0 then
		return 
	elseif f9_local0.layerLUIKeycatch[f9_arg1] == nil then
		f9_local0.layerLUIKeycatch[f9_arg1] = {}
	end
	local f9_local1 = f9_local0.layerLUIKeycatch[f9_arg1]
	if f9_arg2 then
		local f9_local2 = false
		for f9_local6, f9_local7 in pairs( f9_local1 ) do
			if 0 < f9_local7 then
				f9_local2 = true
				break
			end
		end
		f9_local1[f9_arg0.id] = f9_local1[f9_arg0.id] and f9_local1[f9_arg0.id] + 1 or 1
		if not f9_local2 then
			Engine.CECBDGIHED( f9_arg1, f9_arg2 )
			f9_local0:TryAddMouseCursor( "layerKeyCatch" )
		end
	elseif f9_local1[f9_arg0.id] then
		local f9_local2 = f9_arg0.id
		local f9_local3 = f9_local1[f9_arg0.id]
		if f9_local3 then
			f9_local3 = f9_local1[f9_arg0.id] - 1
		end
		f9_local1[f9_local2] = f9_local3
		if 0 < f9_local1[f9_arg0.id] then
			return 
		end
		f9_local1[f9_arg0.id] = nil
		f9_local2 = true
		for f9_local6, f9_local7 in pairs( f9_local1 ) do
			if 0 < f9_local7 then
				f9_local2 = false
				break
			end
		end
		if f9_local2 then
			Engine.CECBDGIHED( f9_arg1, f9_arg2 )
			f9_local0:RemoveMouseCursor( "layerKeyCatch" )
		end
	end
end

LUI.UIRoot.init = function ( f8_arg0, f8_arg1, f8_arg2 )
	LUI.UIRoot.super.init( f8_arg0 )
	f8_arg0:SetAnchors( 0.5, 0.5, 0.5, 0.5 )
	local f8_local0
	if not f8_arg1 then
		f8_local0 = f8_arg1
	else
		f8_local0 = Engine.IJEBHJIJF()
	end
	THEMES.UpdateTheme()
	f8_arg0._flagCursor = {
		layerKeyCatch = false,
		base = false
	}
	f8_arg0.id = "LUIRoot"
	f8_arg0.isaroot = true
	f8_arg0._controllerIndex = f8_arg1
	f8_arg0.name = f8_arg2
	f8_arg0.layers = {}
	f8_arg0.eventQueue = {}
	f8_arg0.inputQueue = {}
	f8_arg0.lastInputType = Engine.CBCJDCHCCD( f8_local0 )
	f8_arg0.layerLUIKeycatch = {}
	f8_arg0.keyboardConnected = Engine.JDFDCGCIJ( f8_local0 )
	f8_arg0.gamepadConnected = OPTIONS.IsGamepadConnected( f8_local0 )
	f8_arg0.systemUiOpened = false
	f8_arg0.connectionChanged = false
	f8_arg0.focusStack = {}
	f8_arg0.debugPrintIgnoreEvents = {
		mousemove = true,
		gamepad_sticks = true,
		process_events = true
	}
	Engine.BHICHBJEHH( f8_local0, false )
	Dvar.DHEGHJJJHI( "NRSSTPLOSQ", false )
	LUI.roots[f8_arg2] = f8_arg0
	if LUI.primaryRoot == nil then
		LUI.primaryRoot = f8_arg0
	end
	f8_arg0.processEvent = LUI.UIRoot.ProcessEvent
	f8_arg0:registerEventHandler( "run_frame", LUI.UIRoot.Frame )
	f8_arg0:registerEventHandler( "update_game_mode", LUI.UIRoot.UpdateGameMode )
	f8_arg0:registerEventHandler( "update_publisher_variables", LUI.UIRoot.UpdatePublisherVariables )
	f8_arg0:addEventHandler( "empty_menu_stack", LUI.UIRoot.ClearFocusStack )
	f8_arg0:registerEventHandler( "gamer_profile_input_type_updated", LUI.UIRoot.UpdateInputType )
	f8_arg0:registerEventHandler( "playerdata_available", LUI.UIRoot.PlayerDataAvailable )
	f8_arg0:registerEventHandler( "Inventory_AddItem", LUI.UIRoot.InventoryAddItem )
	f8_arg0:registerEventHandler( "Inventory_UpdateItem", LUI.UIRoot.InventoryUpdateItem )
	f8_arg0:registerEventHandler( "Inventory_DeleteItem", LUI.UIRoot.InventoryDeleteItem )
	f8_arg0:registerEventHandler( "Inventory_DownloadComplete", LUI.UIRoot.InventoryDownloadComplete )
	f8_arg0:registerEventHandler( "PreviewItem", LUI.UIRoot.PreviewItem )
	if UIDebugOverlayUtils and f8_arg0 == LUI.primaryRoot then
		f8_arg0:registerEventHandler( "debug_overlay_frame", UIDebugOverlayUtils.FrameEvent )
	end
	f8_arg0.eventCatcher = EventCatcher.new()
	f8_arg0.eventCatcher:setupRoot( f8_arg0 )
	local f8_local1 = Engine.DDJFBBJAIG()
	local f8_local2 = Engine.EAAHGICFBD()
	local f8_local3 = Engine.EAIICIFIFA()
	local f8_local4 = Engine.CGABICJHAI()
	local f8_local5 = Engine.BHICADFIHA()
	local f8_local6 = Engine.DBFCJBDJEC()
	local f8_local7 = Engine.ECHCFGDDDF()
	if f8_local1 or f8_local2 then
		f8_arg0.fadeManager = f8_arg0:AddLayer( LUI.FadeManager.new( f8_arg0._controllerIndex ) )
	end
	if not f8_local1 then
		f8_arg0.inWorldManager = f8_arg0:AddLayer( LUI.InWorldManager.new( f8_arg0._controllerIndex ) )
		f8_arg0.hudManager = f8_arg0:AddLayer( LUI.HudManager.new( {
			root = f8_arg0
		} ) )
		if f8_local2 then
			local f8_local8 = Dvar.DHEEJCCJBH( "MOLPOSLOMO" )
			local self
			if f8_local8 == "br" then
				self = not CONDITIONS.IsLaze()
			else
				self = false
			end
			if f8_local7 and not self then
				f8_arg0.codcasterLayer = f8_arg0:AddLayer( LUI.CodcasterLayer.new( f8_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
			f8_arg0.reportPlayerLayer = f8_arg0:AddLayer( LUI.ReportPlayerLayer.new( f8_arg0._controllerIndex ), {
				exclusive = false
			} )
			f8_arg0.loadingScreenManager = f8_arg0:AddLayer( LUI.LoadingScreenManager.new( f8_arg0._controllerIndex ), {
				exclusive = false
			} )
			if f8_local8 == "arm" then
				f8_arg0.tacOpsLayer = f8_arg0:AddLayer( LUI.TacOpsLayer.new( f8_arg0._controllerIndex ), {
					exclusive = false
				} )
			end
			f8_arg0.postGameManager = f8_arg0:AddLayer( LUI.PostGameManager.new( f8_arg0._controllerIndex ), {
				priority = f0_local0.POST_GAME
			} )
			if self then
				f8_arg0.squadEliminatedLayer = f8_arg0:AddLayer( LUI.SquadEliminatedLayer.new( f8_arg0._controllerIndex ), {
					exclusive = false
				} )
				if not Dvar.IBEGCHEFE( "ui_disable_quick_inventory" ) then
					f8_arg0.brQuickInventoryLayer = f8_arg0:AddLayer( LUI.BRQuickInventoryLayer.new( f8_arg0._controllerIndex ), {
						exclusive = false
					} )
				end
				if CONDITIONS.IsBRTutorialMap() or CONDITIONS.IsBMTutorialMap() then
					f8_arg0.brTutorialEndGameFlowLayer = f8_arg0:AddLayer( LUI.BRTutorialEndGameFlowLayer.new( f8_arg0._controllerIndex ), {
						exclusive = false
					} )
				end
			end
			f8_arg0.scoreboardLayer = f8_arg0:AddLayer( LUI.ScoreboardLayer.new( f8_arg0._controllerIndex ), {
				exclusive = false
			} )
			f8_arg0.hostMigrationManager = f8_arg0:AddLayer( LUI.HostMigrationManager.new(), {
				exclusive = true,
				priority = f0_local0.HOST_MIGRATION
			} )
			if f8_local5 then
				f8_arg0.gunsmithDebug = f8_arg0:AddLayer( LUI.GunsmithDebug.new( f8_arg0._controllerIndex ) )
			end
		end
		if Engine.CAADCDEEIA() then
			f8_arg0.binkSkipPromptLayer = f8_arg0:AddLayer( LUI.BinkSkipPromptLayer.new( f8_arg0._controllerIndex ), {
				exclusive = false
			} )
			f8_arg0.Snakecam = f8_arg0:AddLayer( LUI.Snakecam.new( f8_arg0._controllerIndex ), {
				exclusive = false
			} )
		end
	end
	if not f8_local1 and f8_local2 and Dvar.DHEEJCCJBH( "MOLPOSLOMO" ) == "br" and not CONDITIONS.IsLaze() then
		f8_arg0.brTransitionManager = f8_arg0:AddLayer( LUI.BrTransitionManager.new( f8_arg0._controllerIndex ) )
	end
	f8_arg0.flowManager = f8_arg0:AddLayer( LUI.FlowManager.new( f8_arg0, f8_arg1 ) )
	if not f8_local1 and not CONDITIONS.IsThirdGameMode() then
		f8_arg0.subtitlesLayer = f8_arg0:AddLayer( LUI.SubtitlesLayer.new( f8_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if Engine.CIEGIACHAE() and not f8_local1 then
		f8_arg0.ps4LightbarManager = f8_arg0:AddLayer( LUI.PS4LightbarManager.new( f8_arg0._controllerIndex ) )
	end
	if not f8_local1 and f8_local2 then
		f8_arg0.radialMenuLayer = f8_arg0:AddLayer( LUI.RadialMenuLayer.new( f8_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if f8_local3 and not f8_local1 and not GameX.IsSplitscreen() and Dvar.DHEEJCCJBH( "NSQLTTMRMP" ) == "cp_town" then
		f8_arg0.townIntro = f8_arg0:AddLayer( LUI.TownIntro.new( f8_arg0._controllerIndex ), {
			exclusive = false
		} )
	end
	if f8_local3 and not f8_local1 and not CONDITIONS.IsWaveGameType() and not CONDITIONS.IsSpecOpsGameType() then
		f8_arg0.dpadPopupLayer = f8_arg0:AddLayer( LUI.DpadPopupLayer.new( f8_arg0._controllerIndex ), {
			exclusive = false
		} )
		f8_arg0.birdsEyeLayer = f8_arg0:AddLayer( LUI.BirdsEyeLayer.new( f8_arg0._controllerIndex ), {
			exclusive = false
		} )
		if Dvar.DHEEJCCJBH( "NSQLTTMRMP" ) == "cp_raid_complex" then
			f8_arg0.timedUseMeterLayer = f8_arg0:AddLayer( LUI.TimedUseMeterLayer.new( f8_arg0._controllerIndex ), {
				exclusive = false
			} )
		end
	end
	local f8_local8
	if not f8_local6 and not f8_local1 and not f8_local2 and f8_local3 then
		f8_local8 = f8_local3
	else
		f8_local8 = Dvar.IBEGCHEFE( "LKSKPKTOON" )
		if f8_local8 then
			f8_local8 = not CONDITIONS.IsSplitscreen()
		end
	end
	if f8_local8 then
		f8_local8 = not CONDITIONS.IsLaunchChunk()
	end
	if f8_local8 then
		f8_arg0.textChat = f8_arg0:AddLayer( LUI.TextChat.new( {
			controllerIndex = f8_local0
		} ) )
	end
	if f8_local4 then
		f8_arg0.fadeFrameLayer = f8_arg0:AddLayer( LUI.AspectRatioFadeFrameLayer.new( f8_arg0._controllerIndex ) )
	end
	if f8_local1 or f8_local2 then
		f8_arg0.uiFadeManager = f8_arg0:AddLayer( LUI.UIFadeManager.new( f8_arg0._controllerIndex ) )
	end
	if f8_local1 then
		f8_arg0:addElement( MenuBuilder.BuildRegisteredType( "BuildAndServerText" ) )
	elseif f8_local7 and not IsSystemLink() and not Dvar.IBEGCHEFE( "LMKKMPMOSO" ) and not Dvar.IBEGCHEFE( "lui_footage_capture_enabled" ) then
		f8_arg0:addElement( MenuBuilder.BuildRegisteredType( "MatchID" ) )
	end
	if f8_local4 or f8_local5 then
		local self = LUI.UIElement.new()
		self:SetupFPSCounter()
		self:SetAlignment( LUI.Alignment.Right )
		self:SetRGBFromTable( SWATCHES.genericButton.highlight, 0 )
		self:SetAnchorsAndPosition( 1, 0, 0, 1, _1080p * -510, _1080p * -10, _1080p * 10, _1080p * 48 )
		self:SetFont( FONTS.GetFont( FONTS.MainRegular.File ) )
		self:SetFontSize( 38 * _1080p )
		self:SetWordWrap( false )
		self.id = "FPSCounter"
		f8_arg0:addElement( self )
	end
	if f8_local5 then
		f8_arg0:addElement( MenuBuilder.BuildRegisteredType( "DataSourceDebug", {
			controllerIndex = f8_local0
		} ) )
	end
	if CONDITIONS.IsLaunchChunk() then
		f8_arg0.launchChunk = f8_arg0:AddLayer( LUI.LaunchChunkLayer.new( {
			controllerIndex = f8_local0
		} ) )
	end
	f8_arg0.toastManager = f8_arg0:AddLayer( LUI.ToastManager.new( {
		controllerIndex = f8_local0
	} ) )
	if f8_local4 then
		if f8_local6 or Engine.ECAJCAJJGF() or Engine.CHDGBEFDHB() then
			f8_arg0.telemetryLayer = f8_arg0:AddLayer( LUI.TelemetryLayer.new( {
				controllerIndex = f8_local0
			} ) )
			if not Engine.CHDGBEFDHB() then
				f8_arg0.achievementsManager = f8_arg0:AddLayer( LUI.AchievementsManager.new( {
					controllerIndex = f8_local0
				} ) )
			end
		end
		if f8_local1 then
			f8_arg0.clearCacheLayer = f8_arg0:AddLayer( LUI.ClearCacheLayer.new( {
				controllerIndex = f8_local0
			} ) )
			if ShaderUpload then
				f8_arg0.shaderPreloadLayer = f8_arg0:AddLayer( LUI.ShaderPreloadLayer.new( {
					controllerIndex = f8_local0
				} ) )
			end
		end
	end
	f8_arg0.mouseCursorTooltipLayer = f8_arg0:AddLayer( LUI.MouseCursorTooltipLayer.new( {
		controllerIndex = f8_local0
	} ) )
	f8_arg0.mouseCursorContextualMenuLayer = f8_arg0:AddLayer( LUI.MouseCursorContextualMenuLayer.new( {
		controllerIndex = f8_local0
	} ) )
	if f8_local1 then
		f8_arg0.webviewManager = f8_arg0:AddLayer( LUI.WebViewManager.new( {
			controllerIndex = f8_local0
		} ) )
		f8_arg0.webviewManager:PostInit()
	end
	f8_arg0.debugLayer = f8_arg0:AddLayer( LUI.DebugLayer.new( {
		controllerIndex = f8_local0
	} ) )
	if f8_local5 then
		f8_arg0.uiDebugLayer = f8_arg0:AddLayer( LUI.UIDebugLayer.new( {
			controllerIndex = f8_local0
		} ) )
	end
end

LUI.UIRoot.ReloadChatForDebugOption = function ()
	if not Engine.BHICADFIHA() then
		return 
	end
	local f7_local0 = Engine.DBFFAEEFGJ()
	if not f7_local0 then
		return 
	elseif f7_local0.textChat then
		f7_local0:RemoveElement( f7_local0.textChat )
		f7_local0.textChat = nil
	end
	if Dvar.IBEGCHEFE( "LKSKPKTOON" ) then
		local f7_local1 = f7_local0
		local f7_local2 = f7_local0.AddLayer
		local f7_local3 = LUI.TextChat.new
		local f7_local4 = {}
		local f7_local5 = f7_local0._controllerIndex
		if not f7_local5 then
			f7_local5 = Engine.IJEBHJIJF()
		end
		f7_local4.controllerIndex = f7_local5
		f7_local0.textChat = f7_local2( f7_local1, f7_local3( f7_local4 ) )
	end
end

LUI.UIRoot.GetControllerIndex = function ( f6_arg0 )
	return f6_arg0._controllerIndex
end

LUI.UIRoot.GetRootFromName = function ( f5_arg0 )
	local f5_local0 = LUI.roots[f5_arg0]
	assert( f5_local0 )
	return f5_local0
end

LUI.UIRoot.GetRootForControllerIndex = function ( f4_arg0 )
	for f4_local3, f4_local4 in pairs( LUI.roots ) do
		if f4_local4._controllerIndex == f4_arg0 then
			return f4_local4
		end
	end
	assert( LUI.primaryRoot )
	return LUI.primaryRoot
end

LUI.UIRoot.UpdateClansNotificationHandler = function ( f3_arg0, f3_arg1, f3_arg2 )
	local f3_local0 = f3_arg1 == CoD.PlayMode.Core
	if f3_local0 and f3_arg1 ~= f3_arg2 then
		f3_arg0:registerEventHandler( CLANS.CLAN_EVENTS.NOTIFICATION, LUI.UIRoot.ClanNotification )
	elseif not isClanUIEnabled or not f3_local0 then
		f3_arg0:registerEventHandler( CLANS.CLAN_EVENTS.NOTIFICATION, nil )
	end
end

LUI.UIRoot.RefreshSocialMenu = function ( f2_arg0 )
	if Engine.DDJFBBJAIG() and CONDITIONS.IsMenuInStack( "SocialMenu" ) then
		LUI.FlowManager.RequestRestoreMenu( "SocialMenu", true, f2_arg0 )
		LUI.FlowManager.RequestLeaveMenuByName( "SocialMenu", true, true )
		LUI.FlowManager.RequestAddMenu( "SocialMenu", true, f2_arg0, false, nil, true )
	end
end

LUI.UIRoot.ClanNotification = function ( f1_arg0, f1_arg1 )
	local f1_local0 = f1_arg1.options
	local f1_local1 = f1_local0.controllerIndex
	local f1_local2 = Engine.CBBHFCGDIC( "CLANS/NAME_AND_TAG", Engine.JCBDICCAH( f1_local0.clanTag or "" ), Engine.JCBDICCAH( f1_local0.clanName or "" ) )
	if CONDITIONS.IsClanUIEnabled() then
		if f1_local0.genEventName == CLANS.CLAN_EVENTS.ACTIVE_CLAN_CHANGE then
			local f1_local3 = f1_local0.clanId
		elseif f1_local0.genEventName == CLANS.CLAN_EVENTS.LEFT_CLAN_ACTIVE then
			CLANS.RemoveClanCosmetics( f1_local1 )
			CLANS.DispatchClanNotification( f1_arg0, Engine.CBBHFCGDIC( "CLANS/CLAN_LEFT" ), f1_local2 )
			LUI.UIRoot.RefreshSocialMenu( f1_local1 )
		elseif f1_local0.genEventName == CLANS.CLAN_EVENTS.DELETED then
			CLANS.RemoveClanCosmetics( f1_local1 )
			CLANS.DispatchClanNotification( f1_arg0, Engine.CBBHFCGDIC( "CLANS/CLAN_DISBANDED" ), f1_local2 )
			LUI.UIRoot.RefreshSocialMenu( f1_local1 )
		elseif f1_local0.genEventName == CLANS.CLAN_EVENTS.INITIALIZED or f1_local0.genEventName == CLANS.CLAN_EVENTS.KICKED then
			LUI.FlowManager.RequestLeaveMenuByName( "ClanPreviewScreen", false, true )
			LUI.UIRoot.RefreshSocialMenu( f1_local1 )
			CLANS.RemoveClanCosmetics( f1_local1 )
			local f1_local3
			if f1_local0.genEventName == CLANS.CLAN_EVENTS.INITIALIZED then
				f1_local3 = "CLANS/JOINING_CLAN"
			else
				f1_local3 = "CLANS/KICKED"
			end
			CLANS.DispatchClanNotification( f1_arg0, Engine.CBBHFCGDIC( f1_local3 ), f1_local2 )
			LUI.UIRoot.RefreshSocialMenu( f1_local1 )
		elseif f1_local0.genEventName == CLANS.CLAN_EVENTS.CREATED then
			CLANS.DispatchClanNotification( f1_arg0, Engine.CBBHFCGDIC( "CLANS/CREATED_CLAN" ), f1_local2 )
			LUI.UIRoot.RefreshSocialMenu( f1_local1 )
		elseif f1_local0.genEventName == CLANS.CLAN_EVENTS.TAG_UPDATED then
			if Engine.DIHDIGEBJF( f1_local1 ) == ClanTagType.OFFICIAL then
				Engine.GGIHFEAGD( f1_local1, ClanTagType.OFFICIAL )
			end
		elseif f1_local0.genEventName == CLANS.CLAN_EVENTS.INVITE_RECEIVED then
			if Engine.DDJFBBJAIG() then
				CLANS.DispatchClanNotification( f1_arg0, Engine.CBBHFCGDIC( "CLANS/INVITE_RECEIVED" ), "" )
			end
		elseif f1_local0.genEventName == CLANS.CLAN_EVENTS.INVITE_SENT then
			if Engine.DDJFBBJAIG() then
				CLANS.DispatchClanNotification( f1_arg0, Engine.CBBHFCGDIC( "LUA_MENU/CLAN_INVITE_SENT" ), "" )
			end
		else
			local f1_local3 = CLANS.GetRoleChangeEventData( f1_local0.genEventName )
			if f1_local3 then
				CLANS.DispatchClanNotification( f1_arg0, f1_local3.header, f1_local3.description )
			end
			if CLANS.IsRemoveCosmeticsEvent( f1_local0.genEventName ) then
				CLANS.RemoveClanCosmetics( f1_local1 )
			end
		end
	elseif CLANS.IsRemoveCosmeticsEvent( f1_local0.genEventName ) then
		CLANS.RemoveClanCosmetics( f1_local1 )
	end
end

