-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 30-11-2025 17:02
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.battlemapv2.bpmapwidget" )
require( "ui.generated.widgets.frontend.battlemapv2.bpfactioninspectpanel" )
require( "ui.generated.widgets.frontend.battlemapv2.bpinspectpanel" )
require( "ui.generated.widgets.frontend.battlemapv2.bppurchasebutton" )
require( "ui.generated.widgets.frontend.battlemap.battlemapcinematicframe" )
require( "ui.generated.widgets.frontend.battlemapv2.bpbootupdetails" )
local f0_local0 = 25
local f0_local1 = 24
local f0_local2 = 28
local f0_local3 = 2000
local f0_local4 = 150
local f0_local5 = 1800
local f0_local6 = 300
local f0_local7 = 800
local f0_local8 = 5000
local f0_local9 = 5000
local f0_local10 = 3300
local f0_local11 = 200
local f0_local12 = 2800
local f0_local13 = 750
local f0_local14 = 750
local f0_local15 = 1500
local f0_local16 = 20
local f0_local17 = 200
local f0_local18 = 2000
local f0_local19 = 300
local f0_local20 = 300
local f0_local21 = 100
local f0_local22 = 800
local f0_local23 = 110
local f0_local24 = 0.8
local f0_local25 = 0.6
local f0_local26 = 100
local f0_local27 = 4000
local f0_local28 = "BattleMapSector"
local f0_local29 = 25
local f0_local30 = 0.09
local f0_local31 = 1000
local f0_local32 = function ( f83_arg0, f83_arg1, f83_arg2 )
	
end

local f0_local33 = function ( f82_arg0 )
	return BATTLEMAP.GetBaseMenuScopedData( f82_arg0 )
end

local f0_local34 = function ( f81_arg0 )
	return f81_arg0._state
end

local f0_local35 = function ( f80_arg0 )
	local f80_local0
	if f80_arg0._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION or f80_arg0._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING then
		f80_local0 = false
	else
		f80_local0 = true
	end
	local f80_local1
	if f80_local0 then
		f80_local1 = f80_local0
	else
		if not f80_arg0._needFixUp then
			if f80_arg0._isPremium and f80_arg0._isBlackCellOwned then
				f80_local1 = f80_arg0._isPremium
				if f80_local1 then
					if 0 >= BATTLEMAP.GetTokenMaxAvailable( f80_arg0._controllerIndex, f80_arg0._season ) then
						f80_local1 = false
					end
				else
					f80_arg0._showPurchaseButton = f80_local1
					ACTIONS.AnimateSequence( f80_arg0, f80_arg0._showPurchaseButton and 0x57CE7A3C260217 or 0xC0A83E6107A33A2 )
				end
			end
			f80_local1 = true
		end
		f80_local1 = false
	end
	f80_arg0._showPurchaseButton = f80_local1
	ACTIONS.AnimateSequence( f80_arg0, f80_arg0._showPurchaseButton and 0x57CE7A3C260217 or 0xC0A83E6107A33A2 )
end

local f0_local36 = function ( f79_arg0 )
	for f79_local0 = 1, f79_arg0._maxSectorCount, 1 do
		local f79_local3 = f79_arg0._battleMap[f0_local0 .. tostring( f79_local0 - 1 )]
		if f79_local3 and f79_local3.PlayNewIndicator then
			f79_local3:PlayNewIndicator()
		end
	end
end

local f0_local37 = function ( f78_arg0, f78_arg1, f78_arg2, f78_arg3 )
	f78_arg0._focusIndex = f78_arg1
	f0_local0( f78_arg0, f78_arg2, "Focusing on sector" .. tostring( f78_arg0._focusIndex - 1 ) )
	local f78_local0 = {}
	local f78_local1 = BATTLEMAP.CanGetSectorState( f78_arg3._type )
	if f78_local1 then
		if f78_arg3._state == BATTLEMAP.SectorState.ACTIVE and f78_arg3._type ~= BATTLEMAP.SectorType.LIMITED_TIME then
			f78_local1 = BATTLEMAP.CanSpendTokenMaxSector( f78_arg2, f78_arg1, f78_local0 )
		else
			f78_local1 = false
		end
	end
	f78_arg0._canClaim = f78_local1
	f78_local1 = f78_arg3._type == BATTLEMAP.SectorType.EVENT
	local f78_local2 = f78_arg3._type == BATTLEMAP.SectorType.FACTION
	local f78_local3 = f78_arg0._battleMap
	local f78_local4 = f78_local3
	f78_local3 = f78_local3.DisplaySectorInfo
	local f78_local5
	if not f78_local1 then
		f78_local5 = not f78_local2
	else
		f78_local5 = false
	end
	f78_local3( f78_local4, f78_local5, f78_local2 )
	if f78_arg0.FactionInspect then
		f78_arg0.FactionInspect:SetVisible( f78_local2 )
	end
	if f78_local2 then
		f78_arg0._battleMap:RepositionFocusReticle( f78_arg0, f78_arg2, f78_arg3, f78_arg0._canClaim, f78_local0 )
		f78_arg0.InspectPanel:UpdateSectorState( f78_arg0._controllerIndex, f78_arg1, f78_arg3._type, f78_arg3._state, f78_arg3._factionType )
		f78_arg0.InspectPanel:RemoveAllBlackCellToggles( f78_arg2 )
		if f78_arg0.FactionInspect then
			f78_arg0.FactionInspect:UpdateFactionInfo( f78_arg2, {
				factionType = f78_arg3._factionType,
				sectorState = f78_arg3._state,
				challengeID = f78_arg3._factionChallengeID,
				challengeKind = f78_arg3._factionChallengeKind
			} )
		end
		f78_arg0.BattlePassPurchaseButton:ForceBlackCellState( f78_arg2, false )
		f0_local0( f78_arg0 )
	elseif not f78_local1 then
		f78_arg0._battleMap:RepositionFocusReticle( f78_arg0, f78_arg2, f78_arg3, f78_arg0._canClaim, f78_local0 )
		f78_local3 = f78_arg3._type == BATTLEMAP.SectorType.BLACK_CELL
		local f78_local6 = f78_arg3._type == BATTLEMAP.SectorType.INSTANT
		f78_local4 = f78_arg3._type == BATTLEMAP.SectorType.FINAL
		f78_local5 = f78_arg3._state
		if f78_local3 then
			if BATTLEPASS.IsBlackCellOwned( f78_arg2, f78_arg0._season ) then
				local f78_local7 = BATTLEMAP.SectorState.COMPLETED
				if not f78_local7 then
					f78_local5 = f78_local7
				end
			end
			f78_local5 = BATTLEMAP.SectorState.LOCKED
		elseif f78_local6 then
			if f78_arg0._isPremium then
				local f78_local7 = BATTLEMAP.SectorState.COMPLETED
				if not f78_local7 then
					f78_local5 = f78_local7
				end
			end
			f78_local5 = BATTLEMAP.SectorState.LOCKED
		elseif f78_local4 then
			if BATTLEMAP.AreAllBaseSectorsComplete( f78_arg2, f78_arg0._season ) then
				local f78_local7 = BATTLEMAP.SectorState.COMPLETED
				if not f78_local7 then
					f78_local5 = f78_local7
				else
					f78_local5 = BATTLEMAP.SectorState.LOCKED
				end
			end
			f78_local5 = BATTLEMAP.SectorState.LOCKED
		end
		f78_arg0.InspectPanel:UpdateSectorState( f78_arg0._controllerIndex, f78_arg1, f78_arg3._type, f78_local5 )
		local f78_local7 = BATTLEMAP.GetSectorUnlockData( f78_arg0._controllerIndex, f78_arg0._season, f78_arg3._index )
		f78_arg0.InspectPanel:RemoveAllBlackCellToggles( f78_arg2 )
		f78_arg0.InspectPanel:SetupRewardButtons( f78_arg0._controllerIndex, f78_local7, f78_arg3._type, f78_arg0._isPremium, f78_arg0._isComplete )
		if not BATTLEMAP.AUTO_TOGGLE_BLACKCELL_ON_MAP then
			f78_arg0.InspectPanel:SetAutoBlackCellToggleForAllRewards( f78_arg0._controllerIndex, false, not f78_arg0._isBlackCellOwned )
		end
		local f78_local8 = f78_local7[BATTLEMAP.NUM_UNLOCKS_PER_SECTOR]
		local f78_local9 = BATTLEMAP.SectionForLootType( f78_local8.lootRef, f78_local8.lootType )
		Engine[0x685AE31DEDA30A4]( f78_local9 )
		BATTLEMAP.UpdateBattleMapModel( f78_arg0, f78_local8, true )
		BATTLEMAP.SendBattlemapSectorUpdateToServer( f78_local8.rewardRef, BATTLEMAP.BATTLEMAP_SCENES[f78_local9], nil, -1, true )
		f78_arg0._isBlackCellSectorFocused = f78_local3
		f0_local0( f78_arg0 )
		if f78_arg0._isBlackCellSectorFocused and not f78_arg0._ownsBlackCell then
			f78_arg0.BattlePassPurchaseButton:ForceBlackCellState( f78_arg2, true )
		else
			f78_arg0.BattlePassPurchaseButton:ForceBlackCellState( f78_arg2, false )
			if f78_arg0._isPremium or f78_local6 then
				f78_arg0.InspectPanel:ResetSectorTags( f78_arg2 )
			end
		end
	end
	if f78_arg0._state == BATTLEMAP.BattlePassStates.NORMAL then
		f78_arg0._battleMap.Darkener:SetAlpha( 0, 200 )
	end
end

local f0_local38 = function ( f76_arg0 )
	if not f76_arg0._canClaim then
		
	else
		
	end
	f76_arg0:UpdateMapState( f76_arg0._controllerIndex, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR_WAIT )
	BATTLEMAP.SpendTokenMaxSector( f76_arg0, f76_arg0._controllerIndex, f76_arg0._focusIndex, function ( f77_arg0 )
		if f77_arg0.success then
			BATTLEPASS.UpdateBattlePassStatusMenuTabLabel( f76_arg0._controllerIndex )
			f76_arg0:UpdateBattleMap()
			f76_arg0:UpdateMapState( f76_arg0._controllerIndex, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR, {
				nextState = f76_arg0._isComplete and BATTLEMAP.BattlePassStates.COMPLETE or BATTLEMAP.BattlePassStates.NORMAL
			} )
		elseif f77_arg0.errorCode then
			LUI.ToastManager.CreateToast( f76_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xE4D24CA2FAD477A ), BATTLEMAP.GetSpendTokenErrorMessage( f77_arg0.errorCode ), LUI.ToastManager.ToastNotificationType.Warnings ) )
			f76_arg0._battleMap.FocusReticle:UpdateClaimButton( f76_arg0._controllerIndex, f76_arg0._canClaim )
			f76_arg0:UpdateMapState( f76_arg0._controllerIndex, BATTLEMAP.BattlePassStates.NORMAL )
		end
	end )
	f0_local0( f76_arg0, f76_arg0._controllerIndex, "claimed sector" .. tostring( f76_arg0._focusIndex ) )
	if LUI.IsGamepadActiveInputMethodForPrompts( f76_arg0._controllerIndex ) then
		f76_arg0._battleMap.FocusReticle.HoldProgress:SetProgress( 0 )
	else
		f76_arg0._battleMap.FocusReticle.HoldProgressKBM:SetProgress( 0 )
	end
end

local f0_local39 = function ( f71_arg0, f71_arg1, f71_arg2 )
	local f71_local0 = f71_arg0._battleMap[f0_local0 .. tostring( f71_arg1 - 1 )]
	if f71_local0 then
		local f71_local1 = BATTLEMAP.GetSector( f71_arg0._season, f71_arg1 )
		local f71_local2
		if f71_local1 then
			f71_local2 = f71_local1
		else
			f71_local2 = Engine[0x6093D047200548]( "battlemapsector:" .. f71_local1[0xE03357C933EFDCA] )
		end
		local f71_local3 = BATTLEMAP.GetSectorType( f71_arg1, f71_arg0._season )
		f71_local0.menu = f71_arg0
		f71_local0:SetupSector( f71_arg0._controllerIndex, f71_arg1, f71_local2, f71_arg0._activeSectorIndex == f71_arg1, f71_arg0._isPremium, f71_arg0._isComplete, f71_arg0._isBlackCellOwned )
		f71_local0._type = f71_local3
		local f71_local4
		if f71_arg2 then
			f71_local4 = f71_arg2.state
			if not f71_local4 then
			
			else
				local f71_local5
				if f71_local4 == BATTLEMAP.BattlePassStates.ONBOARDING and f71_arg1 ~= BATTLEMAP.FIRST_SECTOR_INDEX then
					f71_local5 = false
				else
					f71_local5 = true
				end
				f71_local0:SetFocusable( f71_local5 )
				if not f71_local0.eventHandlersAdded and f71_local0._type and f71_local0._type ~= BATTLEMAP.SectorType.FACTION then
					if CONDITIONS.IsMobileOrMobileSim() then
						f71_local0:registerEventHandler( "button_action", function ( element, event )
							f71_arg0( f71_arg0, f71_arg0, f71_arg0._controllerIndex, element )
							Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpSectorSelect )
							local f75_local0 = f71_arg0( f71_arg0 )
							f75_local0.previewSectorIndex = f71_arg0
						end )
					else
						f71_local0:registerEventHandler( "button_action", function ( element, event )
							local f74_local0
							if f71_arg0._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING or f71_arg0._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION or f71_arg0._state == BATTLEMAP.BattlePassStates.NORMAL then
								f74_local0 = false
							else
								f74_local0 = true
							end
							if f74_local0 then
								return 
							elseif f71_arg0._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION and f71_arg0 ~= BATTLEMAP.FIRST_SECTOR_INDEX then
								return 
							elseif f71_arg0._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING and f71_arg0 ~= BATTLEMAP.LIMITED_TIME_SECTOR + 1 then
								return 
							end
							Engine[0xC4146BA76D0F982]( SOUND_SETS.default.action )
							Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpSectorSelect )
							if BATTLEMAP.UseBattleMapLandingScreen() then
								LUI.FlowManager.RequestAddMenu( BATTLEPASS.GetBattlePassSectorPreviewMenuRef(), true, f71_arg0._controllerIndex, false, {
									sectorIndex = f71_arg0._focusIndex
								}, true )
							end
							f71_arg0:UpdateMapState( event.controller, BATTLEMAP.BattlePassStates.ENTER_SECTOR )
						end )
						f71_local0:SetupContextualMenu()
						f71_local0:AddContextualMenuAction( {
							id = "claimSector",
							actionName = Engine[0xED84C33EC5F01EA]( 0xA66AFE423018F51, Engine[0x7D3158A9539A355]( BATTLEMAP.GetSectorDisplayName( f71_arg1 - 1 ) ) ),
							conditionFunction = function ()
								return f71_arg0._canClaim
							end,
							actionFunction = function ()
								f71_arg0( f71_arg0 )
							end
						} )
					end
				end
				f71_local0.eventHandlersAdded = true
			end
		end
		f71_local4 = BATTLEMAP.BattlePassStates.NORMAL
	end
end

local f0_local40 = function ( f63_arg0 )
	f63_arg0:registerEventHandler( "gamepad_sticks", function ( element, event )
		if GLOBAL_PANEL.IsOpen() then
			return 
		elseif f63_arg0._state ~= BATTLEMAP.BattlePassStates.NORMAL then
			return true
		elseif f63_arg0.InspectPanel._autoSwitchOpen then
			return true
		end
		local f70_local0 = f63_arg0._battleMap[f63_arg0 .. tostring( f63_arg0._focusIndex - 1 )]
		local f70_local1 = BATTLEMAP.GetSectorUINavigation( f63_arg0._season, f70_local0._index )
		local f70_local2 = f70_local1[0x0 .. BATTLEMAP.GetStickDirection( event.leftStickDirection )]
		if not f70_local2 or not f70_local2 then
			f70_local2 = 0
		end
		if event.leftStickMagnitude <= 0.5 then
			f63_arg0._isCoolDown = false
		elseif 0 <= f70_local2 and 0.5 < event.leftStickMagnitude then
			local f70_local3 = f63_arg0._battleMap[f63_arg0 .. tostring( f70_local2 )]
			if f70_local3 and not f63_arg0._isCoolDown then
				f70_local0:processEvent( {
					name = "lose_focus",
					controller = f63_arg0._controllerIndex
				} )
				f63_arg0._focusIndex = f70_local2
				f70_local3:processEvent( {
					name = "gain_focus",
					controller = f63_arg0._controllerIndex
				} )
				f63_arg0._isCoolDown = true
				return true
			end
		end
	end )
	f63_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		local f69_local0
		if element._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING or element._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION or element._state == BATTLEMAP.BattlePassStates.NORMAL then
			f69_local0 = false
		else
			f69_local0 = true
		end
		if f69_local0 then
			return true
		elseif element.InspectPanel._autoSwitchOpen then
			return true
		elseif not event.down then
			return 
		elseif event.button == "secondary" then
			local f69_local1 = f63_arg0( element )
			f69_local1.previousFocusedSectorIndex = nil
			if LUI.FlowManager.IsMenuOnTop( "BPMap" ) then
				ACTIONS.LeaveMenu( f63_arg0 )
			end
		end
		if event.button == "alt1" and element._showPurchaseButton then
			element.InspectPanel:SetInputLock( true )
			if element.BattlePassPurchaseButton:GetState() == BATTLEMAP.PurchaseButtonStates.BUY_TOKENS then
				BATTLEMAP.OpenTokenPurchaseMenu( element, element._controllerIndex )
			else
				element.BattlePassPurchaseButton:ShowPurchasePopup( element._controllerIndex )
			end
			return true
		end
		local f69_local1 = CONDITIONS.IsDvarBoolEnabled( 0xA13EF367F52B485 )
		if f69_local1 then
			f69_local1 = CONDITIONS.IsPublicMatch()
			if f69_local1 then
				f69_local1 = SEASONAL_EVENT.IsAnyEventActive()
			end
		end
		if f69_local1 and event.button == "left_trigger" then
			SEASONAL_EVENT.OpenEventMenu( element._controllerIndex )
		end
		if (event.qualifier == "dpad" or event.qualifier == "keyboard") and (event.button == "up" or event.button == "down" or event.button == "left" or event.button == "right") then
			if element._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION or element._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING then
				return 
			end
			local f69_local2 = element._battleMap[f63_arg0 .. tostring( element._focusIndex - 1 )]
			local f69_local3 = BATTLEMAP.GetSectorUINavigation( element._season, f69_local2._index )
			local f69_local4 = nil
			f69_local4 = element._battleMap[f63_arg0 .. tostring( f69_local3[0x0 .. event.button] or 0 )]
			if f69_local4 then
				f69_local2:processEvent( {
					name = "lose_focus",
					controller = element._controllerIndex
				} )
				element._focusIndex = f69_local4._index
				f69_local4:processEvent( {
					name = "gain_focus",
					controller = element._controllerIndex
				} )
				return true
			end
		end
	end )
	if BATTLEMAP.CLAIM_SECTOR_ENABLED and not CONDITIONS.IsMobileOrMobileSim() then
		LUI.AddUIHoldButtonLogic( f63_arg0._battleMap.FocusReticle.HoldProgress, f63_arg0._controllerIndex, {
			initProgress = -8.679223789306992E+209,
			requireFocus = false,
			clickKeyboardAndMouse = false,
			hideAfterFill = false,
			buttons = {
				right_trigger = function ( f68_arg0, f68_arg1 )
					local f68_local0 = f63_arg0._canClaim
					if f68_local0 then
						f68_local0 = LUI.IsGamepadActiveInputMethodForPrompts( f68_arg0 )
					end
					return f68_local0
				end,
				start = function ( f67_arg0, f67_arg1 )
					local f67_local0 = f63_arg0._canClaim
					if f67_local0 then
						f67_local0 = LUI.IsKBMActiveInputMethodForPrompts( f67_arg0 )
					end
					return f67_local0
				end
			},
			fill = f63_arg0._battleMap.FocusReticle.HoldProgress,
			duration = f0_local0,
			easing = LUI.EASING.inCubic,
			onStart = function ()
				if f63_arg0._canClaim then
					f63_arg0._battleMap.Darkener:SetAlpha( 0.3, 200 )
				end
			end,
			onFill = function ()
				f63_arg0( f63_arg0 )
			end,
			onPress = function ()
				f63_arg0._battleMap.Darkener:SetAlpha( 0, 200 )
			end
		} )
	end
end

local f0_local41 = function ( f59_arg0, f59_arg1 )
	f59_arg0._needFixUp = BATTLEPASS.NeedFixUp( f59_arg1 )
	if not f59_arg0._needFixUp then
		
	else
		
	end
	local f59_local0 = function ( f62_arg0, f62_arg1, f62_arg2 )
		f62_arg0:UpdateBattleMap()
		if f62_arg2 == BATTLEPASS.PurchaseCallbackKeys.FAILURE then
			local f62_local0 = BATTLEPASS.GetErrorMessage( f62_arg1.errorCode, f62_arg1.itemID )
			LUI.ToastManager.CreateToast( f62_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xD09E09A43DE9B80 ), Engine[0xED84C33EC5F01EA]( 0x1535E9C7C234B06 ), LUI.ToastManager.ToastNotificationType.Warnings ) )
		elseif BATTLEPASS.PurchaseCallbackKeys.SUCCESS then
			f62_arg0._needFixUp = nil
			f62_arg0._isBlackCellOwned = BATTLEPASS.IsBlackCellOwned( f62_arg0._controllerIndex, f62_arg0._season )
			f62_arg0._isPremium = BATTLEPASS.IsOwned( f62_arg0._controllerIndex, f62_arg0._season ) or f62_arg0._isBlackCellOwned
			f62_arg0.BattlePassPurchaseButton:SetupButtonState( f62_arg0._controllerIndex, f62_arg0._isPremium, f62_arg0._isBlackCellOwned, f62_arg0._isComplete, f62_arg0._needFixUp, f62_arg0._season )
			LUI.ToastManager.CreateToast( f62_arg0._controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xCCE79999F4C1E08 ), Engine[0xED84C33EC5F01EA]( 0x8A652B104F95343 ), LUI.ToastManager.ToastNotificationType.Warnings ) )
		end
	end
	
	BATTLEPASS.RegisterPurchaseCallbacks( f59_arg0, f59_arg1, {
		[BATTLEPASS.PurchaseCallbackKeys.SUCCESS] = function ( f61_arg0, f61_arg1 )
			f59_arg0( f61_arg0, f61_arg1, BATTLEPASS.PurchaseCallbackKeys.SUCCESS )
		end,
		[BATTLEPASS.PurchaseCallbackKeys.FAILURE] = function ( f60_arg0, f60_arg1 )
			f59_arg0( f60_arg0, f60_arg1, BATTLEPASS.PurchaseCallbackKeys.FAILURE )
		end
	} )
	BATTLEPASS.FixUp( f59_arg1 )
	LUI.ToastManager.CreateToast( f59_arg1, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0xCBAAD4E81DD6968 ), Engine[0xED84C33EC5F01EA]( 0x24482DFF76E8C3F ), LUI.ToastManager.ToastNotificationType.Warnings ) )
end

local f0_local42 = function ( f58_arg0, f58_arg1, f58_arg2 )
	local f58_local0, f58_local1 = BATTLEMAP.GetNumberOfCompleteSectorsAndRewards( f58_arg0._controllerIndex, f58_arg0._season )
	f58_arg0._isComplete = f58_local0 == BATTLEMAP.NUM_BASE_SECTORS
	f58_arg0.BattlePassPurchaseButton:SetupButtonState( f58_arg0._controllerIndex, f58_arg0._isPremium, f58_arg0._isBlackCellOwned, f58_arg0._isComplete, f58_arg0._needFixUp, f58_arg0._season )
	f0_local0( f58_arg0 )
	local f58_local2
	if f58_arg1 or BATTLEPASS.GetAutoSpendState( f58_arg0._controllerIndex ) and not f58_arg0._isComplete then
		f58_local2 = BATTLEMAP.GetActiveSectorIndex( f58_arg0._controllerIndex )
		if not f58_local2 then
		
		else
			f58_arg0._activeSectorIndex = f58_local2
			f58_arg0.InspectPanel.BPTokenProgress:UpdateAmount( f58_arg0._controllerIndex )
			for f58_local2 = 1, f58_arg0._maxSectorCount, 1 do
				f0_local0( f58_arg0, f58_local2, f58_arg2 )
			end
		end
	end
	f58_local2 = -1
end

local f0_local43 = function ( f56_arg0, f56_arg1 )
	f0_local0( f56_arg0, f56_arg0._controllerIndex )
	f56_arg0._isBlackCellOwned = BATTLEPASS.IsBlackCellOwned( f56_arg0._controllerIndex, f56_arg0._season )
	f56_arg0._isPremium = BATTLEPASS.IsOwned( f56_arg0._controllerIndex, f56_arg0._season ) or f56_arg0._isBlackCellOwned
	local f56_local0 = BATTLEMAP.GetSeasonBundle( f56_arg0._season )
	f56_arg0._maxSectorCount = #f56_local0[0x8C959E160CAD874]
	f56_arg0:UpdateBattleMap( nil, f56_arg1 )
	for f56_local1 = f56_arg0._maxSectorCount + 1, f0_local0, 1 do
		local f56_local4 = f56_arg0._battleMap[f0_local0 .. tostring( f56_local1 - 1 )]
		if f56_local4 then
			f56_local4:closeTree()
			f56_local4 = nil
		end
	end
	local f56_local1 = f0_local0( f56_arg0 )
	if not f56_arg1.sectorFocusIndex and not f56_local1.previousFocusedSectorIndex then
		local f56_local5 = f56_arg0._isComplete
		local f56_local6 = BATTLEMAP.FINAL_SECTOR + 1
		local f56_local7 = BATTLEMAP.GetActiveSectorIndex( f56_arg0._controllerIndex )
	end
	f56_arg0._focusIndex = f56_local5 and f56_local6 or f56_local7
	f56_local1.previousFocusedSectorIndex = nil
	local f56_local2 = {}
	for f56_local3 = 1, f56_arg0._maxSectorCount, 1 do
		local f56_local9 = f56_arg0._battleMap[f0_local0 .. f56_local3 - 1]
		if f56_local9 then
			table.insert( f56_local2, f56_local9 )
		end
	end
	MenuUtils.SetupActiveStateOnNonListButtons( f56_arg0, f56_arg0._controllerIndex, {
		buttonList = f56_local2,
		[1] = f56_arg0._battleMap[f0_local0 .. tostring( f56_arg0._focusIndex - 1 )]
	} )
	f56_arg0:SubscribeToInputTypeModel( f56_arg0._controllerIndex, function ( f57_arg0, f57_arg1 )
		if LUI.IsLastInputMouseNavigation( f57_arg1._controllerIndex ) and f57_arg1._focusIndex and f57_arg1._battleMap[f56_arg0 .. f57_arg1._focusIndex] then
			ACTIONS.GainFocus( f57_arg1._battleMap, f57_arg1._battleMap[f56_arg0 .. f57_arg1._focusIndex - 1].id, f57_arg1._controllerIndex )
		end
	end )
end

local f0_local44 = function ( f55_arg0, f55_arg1 )
	if f55_arg1.hideFocusDetails then
		ACTIONS.AnimateSequence( f55_arg0._battleMap.FocusReticle, 0xEDBCA4D2276E77D )
	end
	if f55_arg1.hideFocusSelector then
		ACTIONS.AnimateSequence( f55_arg0._battleMap.FocusReticle, 0xB210BC0D929FEC4 )
	end
	if f55_arg1.hidePurchaseButton then
		ACTIONS.AnimateSequence( f55_arg0, 0xC0A83E6107A33A2 )
	end
end

local f0_local45 = function ( f54_arg0, f54_arg1 )
	f54_arg0:dispatchEventToRoot( {
		name = "update_tab_visibility",
		showTabs = f54_arg1
	} )
end

local f0_local46 = function ( f52_arg0, f52_arg1 )
	local f52_local0 = 1
	local f52_local1 = f52_arg0._battleMap:getAllChildren()
	for f52_local2 = #f52_local1, 1, -1 do
		local f52_local5 = f52_local1[f52_local2]
		if f52_local5.SetupSector and f52_local5._type then
			local f52_local6 = f52_local5:Wait( f52_arg1 * f52_local0 )
			f52_local6.onComplete = function ()
				f52_arg0:SetAlpha( 1 )
				ACTIONS.AnimateSequence( f52_arg0, 0x33B85BFCFA332A4 )
			end
			
			f52_local0 = f52_local0 + 1
		end
	end
end

local f0_local47 = function ( f51_arg0, f51_arg1, f51_arg2, f51_arg3, f51_arg4 )
	for f51_local0 = 1, f51_arg0._maxSectorCount, 1 do
		local f51_local3 = f51_arg0._battleMap[f0_local0 .. tostring( f51_local0 - 1 )]
		if f51_local3 then
			local f51_local4
			if f51_local0 ~= f51_arg1 then
				if not f51_arg2 then
					f51_local4 = f51_arg2
				elseif f51_arg3 then
					f51_local4 = f51_arg3
				else
					f51_local4 = f51_arg3[f51_local0]
				end
			else
				f51_local4 = true
			end
			local f51_local5
			if f51_local4 then
				f51_local5 = 1
			else
				if f51_arg4 then
					f51_local5 = f0_local0
					if not f51_local5 then
					
					else
						local f51_local6 = f51_local3
						local f51_local7 = f51_local3.SetAlpha
						local f51_local8 = f51_local5
						local f51_local9 = 200
						local f51_local10
						if f51_local4 then
							f51_local10 = LUI.EASING.outCubic
							if not f51_local10 then
							
							else
								f51_local7( f51_local6, f51_local8, f51_local9, f51_local10 )
							end
						end
						f51_local10 = LUI.EASING.inCubic
					end
				end
				f51_local5 = 0
			end
			local f51_local6 = f51_local3
			local f51_local7 = f51_local3.SetAlpha
			local f51_local8 = f51_local5
			local f51_local9 = 200
			local f51_local10
			if f51_local4 then
				f51_local10 = LUI.EASING.outCubic
				if not f51_local10 then
				
				else
					f51_local7( f51_local6, f51_local8, f51_local9, f51_local10 )
				end
			end
			f51_local10 = LUI.EASING.inCubic
		end
	end
	f51_arg0._battleMap.MapLegend:SetVisible( f51_arg2 )
end

local f0_local48 = function ( f24_arg0, f24_arg1, f24_arg2, f24_arg3 )
	f24_arg0._state = f24_arg2
	if f24_arg3 and f24_arg3.forceFocusIndex then
		f24_arg0._focusIndex = f24_arg3.forceFocusIndex
	end
	local f24_local0 = f24_arg0
	local f24_local1 = f24_arg0.SetMouseFocusBlocker
	local f24_local2
	if f24_arg0._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING or f24_arg0._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION or f24_arg0._state == BATTLEMAP.BattlePassStates.NORMAL then
		f24_local2 = false
	else
		f24_local2 = true
	end
	f24_local1( f24_local0, f24_local2 )
	f24_arg0.InspectPanel:SetInputLock( f24_arg0._state ~= BATTLEMAP.BattlePassStates.NORMAL )
	f24_local1 = function ( f50_arg0, f50_arg1 )
		local f50_local0 = f24_arg0._battleMap[f24_arg0 .. tostring( f24_arg0._focusIndex - 1 )]
		local f50_local1 = f50_local0
		local f50_local2 = f50_local0.processEvent
		local f50_local3 = {}
		local f50_local4
		if f50_arg0 then
			f50_local4 = "gain_focus"
		else
			f50_local4 = "lose_focus"
		end
		f50_local3.name = f50_local4
		f50_local3.controller = f24_arg0._controllerIndex
		f50_local2( f50_local1, f50_local3 )
		if not f50_arg1 then
			f50_local1 = f50_local0
			f50_local2 = f50_local0.processEvent
			f50_local3 = {}
			if f50_arg0 then
				f50_local4 = "button_over"
			else
				f50_local4 = "button_up"
			end
			f50_local3.name = f50_local4
			f50_local3.controller = f24_arg0._controllerIndex
			f50_local2( f50_local1, f50_local3 )
		end
		if BATTLEMAP.AUTO_TOGGLE_BLACKCELL_ON_MAP then
			f50_local2 = f24_arg0._state == BATTLEMAP.BattlePassStates.NORMAL
			local f50_local5 = f24_arg0.InspectPanel
			f50_local3 = f50_local5
			f50_local5 = f50_local5.SetAutoBlackCellToggleForAllRewards
			f50_local4 = f24_arg0
			local f50_local6 = f50_local2
			if f50_local2 then
				
			else
				
			end
			f50_local5( f50_local3, f50_local4, f50_local6, not f24_arg0._isBlackCellOwned )
		end
		return f50_local0
	end
	
	if f24_arg0._state == BATTLEMAP.BattlePassStates.ONBOARDING then
		if GL_HACK.IsGlobalPanelTipKilled() then
			Onboarding.BattlePass.MarkCompleted( f24_arg1 )
			f24_arg0:UpdateMapState( f24_arg1, BATTLEMAP.BattlePassStates.NORMAL )
		else
			f24_local1( false )
			f0_local0( f24_arg0, {
				hidePurchaseButton = true,
				hideFocusDetails = true,
				hideFocusSelector = true
			} )
			f24_arg0.InspectPanel:SetNoInteractionOnboarding( true )
			BATTLEMAP.DoOnboarding( f24_arg0, f24_arg1 )
		end
	elseif f24_arg0._state == BATTLEMAP.BattlePassStates.MAP_BOOT then
		if CONDITIONS.ShouldDisplayBattlepassBootup() then
			f24_local1( false )
			f0_local0( f24_arg0, {
				hidePurchaseButton = true,
				hideFocusDetails = true,
				hideFocusSelector = true
			} )
			ACTIONS.AnimateSequence( f24_arg0, 0x67B893A709AB37 )
			f24_arg0._battleMap:SetVisible( false )
			if f24_arg0._battleMap.ClassifiedText then
				f24_arg0._battleMap.ClassifiedText:SetVisible( false )
			end
			if f24_arg0._battleMap.ClassifiedTimer then
				f24_arg0._battleMap.ClassifiedTimer:SetVisible( false )
			end
			f24_arg0._battleMap.MapLegend:SetVisible( false )
			f24_arg0._battleMap.Darkener:SetAlpha( 1 )
			f0_local0( f24_arg0, nil )
			Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpIntroBootup )
			if f24_arg0.CinematicFrame then
				f0_local0( f24_arg0, false )
				f24_arg0.CinematicFrame:StartCinematic( "bp_boot_up", 0 )
			end
			local f24_local3 = {}
			f24_local0 = 0
			f24_local2 = 0
			for f24_local4 = 1, f24_arg0._maxSectorCount, 1 do
				local f24_local7 = BATTLEMAP.GetSectorType( f24_local4, f24_arg0._season )
				for f24_local11, f24_local12 in ipairs( BATTLEMAP.GetSectorUnlockData( f24_arg1, f24_arg0._season, f24_local4 ) ) do
					f24_local0 = f24_local0 + 1
					if f24_local12.lootType == LOOT.itemTypes.CURRENCY_PACK and (f24_local7 == BATTLEMAP.SectorType.START or f24_local7 == BATTLEMAP.SectorType.BASE) then
						f24_local3[f24_local4] = true
						f24_local2 = f24_local2 + f24_local12.currencyPackAmount
					end
				end
			end
			local f24_local4 = f24_arg0:Wait( f0_local0 )
			f24_local4.onComplete = function ()
				f24_arg0._battleMap:SetVisible( true )
				f24_arg0._battleMap.Darkener:SetAlpha( 0, 200 )
				f24_arg0.BootUpDetails:SetVisible( true )
				f24_arg0.BootUpDetails:PlayLoadingBP()
				local f40_local0 = f24_arg0:Wait( f24_arg0 )
				f40_local0.onComplete = function ()
					f40_local0._battleMap.MapLegend:SetVisible( true )
					f40_local0.BootUpDetails:PlayInitializingRewards( f40_local0 )
					f40_local0( f40_local0, f40_local0 )
					local f41_local0 = f40_local0:Wait( f40_local0 )
					f41_local0.onComplete = function ()
						f41_local0.BootUpDetails:PlayCodPoints( f41_local0 )
						for f42_local3, f42_local4 in pairs( f41_local0 ) do
							local f42_local5 = f41_local0._battleMap[f41_local0 .. tostring( f42_local3 - 1 )]
							if f42_local5 and f42_local5.PlayCODPoint then
								f42_local5:PlayCODPoint( f41_local0 )
							end
						end
						f41_local0._battleMap.Darkener:SetAlpha( 0.5, 200 )
						f41_local0( f41_local0, nil, nil, f41_local0, true )
						f42_local0 = f41_local0:Wait( f41_local0 )
						f42_local0.onComplete = function ()
							local f43_local0 = function ()
								if f43_local0._battleMap.ClassifiedText then
									f43_local0._battleMap.ClassifiedText:SetVisible( true )
								end
								if f43_local0._battleMap.ClassifiedTimer then
									f43_local0._battleMap.ClassifiedTimer:SetVisible( true )
								end
								f43_local0._battleMap.Darkener:SetAlpha( 0, 200 )
								f43_local0( f43_local0, nil, true, nil, true )
								f43_local0.BootUpDetails:SetVisible( false )
								local f48_local0 = f43_local0:Wait( f43_local0 )
								f48_local0.onComplete = function ()
									if f48_local0.CinematicFrame then
										f48_local0( f48_local0, true )
										f48_local0.CinematicFrame:StopCinematic( 0 )
									end
									ACTIONS.AnimateSequence( f48_local0, 0x853294F5A21A65E )
									f48_local0:UpdateMapState( f48_local0, f48_local0 and f48_local0.nextState or BATTLEMAP.BattlePassStates.ONBOARDING )
								end
								
							end
							
							local f43_local1 = {
								{
									type = BATTLEMAP.SectorType.INSTANT,
									[BATTLEMAP.BONUS_SECTOR_INDEX] = true,
									sfx = SOUND_SETS.battlePass.bpIntroBootupInstant
								},
								{
									type = BATTLEMAP.SectorType.FINAL,
									[BATTLEMAP.FINAL_SECTOR + 1] = true,
									sfx = SOUND_SETS.battlePass.bpIntroBootupFinal
								}
							}
							local f43_local2 = nil
							local f43_local3 = false
							local f43_local4 = {
								type = BATTLEMAP.SectorType.FACTION,
								sfx = SOUND_SETS.battlePass.bpIntroBootupFaction
							}
							for f43_local5 = 1, f42_local0._maxSectorCount, 1 do
								local f43_local8 = BATTLEMAP.GetSectorType( f43_local5, f42_local0._season )
								if f43_local8 == BATTLEMAP.SectorType.FACTION and f42_local0._battleMap[f42_local0 .. tostring( f43_local5 - 1 )] then
									f43_local4[f43_local5] = true
									f43_local3 = true
								end
								if f43_local8 == BATTLEMAP.SectorType.BLACK_CELL then
									f43_local2 = f43_local5
								end
							end
							if f43_local2 then
								table.insert( f43_local1, {
									type = BATTLEMAP.SectorType.BLACK_CELL,
									[f43_local2] = true,
									sfx = SOUND_SETS.battlePass.bpIntroBootupBlackCell
								} )
							end
							if f43_local3 then
								table.insert( f43_local1, f43_local4 )
							end
							local f43_local5 = function ( f47_arg0, f47_arg1 )
								for f47_local4, f47_local5 in pairs( f47_arg0 ) do
									if type( f47_local4 ) == "number" then
										local f47_local3 = f43_local0._battleMap[f43_local0 .. tostring( f47_local4 - 1 )]
										if f47_local3 then
											if f47_arg1 then
												f47_local3:UpdateFocusState()
											else
												f47_local3:UpdateIdleState()
											end
										end
										f43_local0( f43_local0, {
											hidePurchaseButton = true
										} )
									end
								end
							end
							
							local f43_local6 = nil
							local f43_local7 = function ( f44_arg0 )
								if #f43_local0 < f44_arg0 then
									f43_local0()
								end
								local f44_local0 = f43_local0[f44_arg0]
								f43_local0( f44_local0, true )
								f43_local0( f43_local0, nil, nil, f44_local0, true )
								f43_local0.BootUpDetails:PlaySector( f44_local0.type )
								if f44_local0.sfx then
									Engine[0xC4146BA76D0F982]( f44_local0.sfx )
								end
								local f44_local1 = f43_local0:Wait( f43_local0 )
								f44_local1.onComplete = function ()
									f44_arg0( f44_arg0, false )
									local f45_local0 = f44_arg0:Wait( f44_arg0 )
									f45_local0.onComplete = function ()
										f45_local0( f45_local0 + 1 )
									end
									
								end
								
							end
							
							f43_local7( 1 )
						end
						
					end
					
				end
				
			end
			
		end
		f24_arg0:UpdateMapState( f24_arg1, BATTLEMAP.BattlePassStates.ONBOARDING )
	elseif f24_arg0._state == BATTLEMAP.BattlePassStates.MAP_FORCE_SELECTION then
		local f24_local3 = f24_arg0._battleMap[f0_local0 .. tostring( f24_arg0._focusIndex - 1 )]
		f24_local0 = f24_arg0.BPMapWidget
		local f24_local4 = f24_local0
		f24_local0 = f24_local0.ShowSelectionPrompt
		local f24_local5 = f24_arg1
		local f24_local6 = f24_local3
		local f24_local13
		if f24_arg3 then
			f24_local13 = f24_arg3.ctaText
			if not f24_local13 then
			
			else
				f24_local0( f24_local4, f24_local5, f24_local6, f24_local13 )
				ACTIONS.AnimateSequence( f24_arg0._battleMap.FocusReticle, "ShowSelector" )
				f24_local1( true )
				for f24_local0 = 1, f24_arg0._maxSectorCount, 1 do
					f24_local6 = f24_arg0._battleMap[f0_local0 .. tostring( f24_local0 - 1 )]
					if f24_local6 then
						f24_local6:SetMouseFocusBlocker( f24_local6 ~= f24_local3 )
					end
				end
			end
		end
		f24_local13 = Engine[0xED84C33EC5F01EA]( 0x311E9D2BDCCA69F )
	elseif f24_arg0._state == BATTLEMAP.BattlePassStates.SPEND_SELECTION then
		if not f24_arg0._onboardingPopup and f24_arg0.InspectPanel and f24_arg0.InspectPanel.OpenAutoSwitchPanel then
			local f24_local3 = LUI.FlowManager.RequestPopupMenu
			f24_local2 = nil
			local f24_local4 = "BPAutoSwitchPopup"
			local f24_local5 = false
			local f24_local6
			if not f24_arg1 then
				f24_local6 = f24_arg1
			else
				f24_local6 = 0
			end
			f24_local3( f24_local2, f24_local4, f24_local5, f24_local6, false, {
				isAutoSpendOn = true,
				showTooltips = true,
				shouldSelectOption = true,
				backButtonCallBack = function ()
					f24_arg0:UpdateMapState( f24_arg0, BATTLEMAP.BattlePassStates.NORMAL )
					ACTIONS.LeaveMenuByName( "BPAutoSwitchPopup" )
				end
			}, nil, nil, true )
		end
		DataSources.alwaysLoaded.shouldShowBPSpendSelection:SetValue( f24_arg1, false )
	elseif f24_arg0._state == BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING then
		if GL_HACK.IsGlobalPanelTipKilled() then
			Onboarding.BattlePassChallenges.MarkCompleted( f24_arg1 )
			f24_arg0:UpdateMapState( f24_arg1, BATTLEMAP.BattlePassStates.NORMAL )
		else
			f24_local1( false )
			f0_local0( f24_arg0, {
				hideFocusDetails = true,
				hideFocusSelector = true
			} )
			f24_arg0._focusIndex = BATTLEMAP.LIMITED_TIME_SECTOR + 1
			local f24_local3 = f24_local1( true )
			f24_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
			f0_local0( f24_arg0, f24_arg0._focusIndex )
			TIP.CreateTips( Onboarding.Tips.BattlePass.CHALLENGE_SECTOR_OVERVIEW( f24_arg1, f24_local3 ) )
			f24_arg0:addEventHandler( "bp_challenge_onboarding", function ()
				f24_arg0:UpdateMapState( f24_arg0, BATTLEMAP.BattlePassStates.ENTER_SECTOR, {
					nextState = BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING
				} )
			end )
		end
	elseif f24_arg0._state == BATTLEMAP.BattlePassStates.CLOSE_MAP then
		Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpMapClose )
		local f24_local3 = LUI.FlowManager.RequestAddMenu
		f24_local2 = BATTLEPASS.GetBattlePassSectorPreviewMenuRef()
		local f24_local4 = true
		local f24_local5 = f24_arg1
		local f24_local6 = false
		local f24_local13 = {
			isFromMap = true,
			sectorIndex = f24_arg0._focusIndex
		}
		local f24_local7
		if f24_arg3 then
			f24_local7 = f24_arg3
		else
			f24_local7 = f24_arg3.nextState
		end
		f24_local13.state = f24_local7
		f24_local3( f24_local2, f24_local4, f24_local5, f24_local6, f24_local13, true )
	elseif f24_arg0._state == BATTLEMAP.BattlePassStates.ENTER_SECTOR then
		local f24_local3 = f24_local1( true, true )
		f0_local0( f24_arg0, {
			hideFocusDetails = true,
			hideFocusSelector = true
		} )
		if f24_arg0.CinematicFrame then
			f0_local0( f24_arg0, false )
			f24_arg0.CinematicFrame:SetVisible( true )
			f24_arg0.CinematicFrame:StartCinematic( "bp_map_transition_intro", f0_local0 )
		end
		f24_local0 = f24_arg0:Wait( f0_local0 )
		f24_local0.onComplete = function ()
			f24_arg0.Blackout:SetVisible( true )
			local f35_local0 = f24_arg0:Wait( f24_arg0 - f24_arg0 )
			f35_local0.onComplete = function ()
				if f35_local0.CinematicFrame then
					f35_local0.CinematicFrame:StopCinematic( f35_local0 )
				end
				local f36_local0 = f35_local0:Wait( f35_local0 )
				f36_local0.onComplete = function ()
					local f37_local0 = f36_local0
					local f37_local1 = f37_local0
					f37_local0 = f37_local0.UpdateMapState
					local f37_local2 = f36_local0
					local f37_local3 = BATTLEMAP.BattlePassStates.CLOSE_MAP
					local f37_local4 = {}
					local f37_local5 = f36_local0
					if f37_local5 then
						f37_local5 = f36_local0.nextState
					end
					f37_local4.nextState = f37_local5
					f37_local0( f37_local1, f37_local2, f37_local3, f37_local4 )
				end
				
			end
			
		end
		
	elseif f24_arg0._state == BATTLEMAP.BattlePassStates.PURCHASE_PASS then
		f24_local1( true )
		f24_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
		f0_local0( f24_arg0, f24_arg0._focusIndex )
		if f24_arg0.CinematicFrame then
			ACTIONS.AnimateSequence( f24_arg0, 0x6739456D393D597 )
			f0_local0( f24_arg0, false )
			f24_arg0.CinematicFrame:SetVisible( true )
			f24_arg0.CinematicFrame:StartCinematic( "bp_celebration_purchased", 0 )
			f24_arg0.CinematicFrame:PlayBattlePassPurchaseAnim()
		end
		local f24_local3 = f24_arg0:Wait( f0_local0 )
		f24_local3.onComplete = function ()
			if f24_arg0.CinematicFrame then
				ACTIONS.AnimateSequence( f24_arg0, 0x88538BB599EA558 )
				f24_arg0( f24_arg0, true )
				f24_arg0.CinematicFrame:StopCinematic( 0 )
			end
			f24_arg0:UpdateBattleMap()
			f24_arg0:UpdateMapState( f24_arg0, BATTLEMAP.BattlePassStates.TOKEN_CELEBRATION, {
				nextState = BATTLEMAP.BattlePassStates.UNLOCK_SECTOR,
				forceFocusIndex = BATTLEMAP.BONUS_SECTOR_INDEX
			} )
			if not Onboarding.BattlePass.WasCompleted( f24_arg0 ) then
				local f34_local0 = f24_arg0( f24_arg0 )
				f34_local0.state = BATTLEMAP.BattlePassStates.ONBOARDING
			elseif DataSources.alwaysLoaded.shouldShowBPSpendSelection:GetValue( f24_arg0 ) then
				local f34_local0 = f24_arg0( f24_arg0 )
				f34_local0.state = BATTLEMAP.BattlePassStates.SPEND_SELECTION
			end
		end
		
	elseif f24_arg0._state == BATTLEMAP.BattlePassStates.PURCHASE_BLACK_CELL then
		f24_local1( true )
		f24_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
		f0_local0( f24_arg0, f24_arg0._focusIndex )
		local f24_local3 = f0_local0( f24_arg0 )
		if not f24_local3.tokensPurchased then
			f24_local3.tokensPurchased = BATTLEPASS.GetStoreBundleTokenAmount( STORE.UI.GetBlackCellBundle( f24_arg1 ) )
		end
		if f24_arg0.CinematicFrame then
			ACTIONS.AnimateSequence( f24_arg0, 0x6739456D393D597 )
			f0_local0( f24_arg0, false )
			f24_arg0.CinematicFrame:SetVisible( true )
			f24_arg0.CinematicFrame:StartCinematic( "bp_celebration_black_cell", 0 )
			f24_arg0.CinematicFrame:PlayBlackCellPurchaseAnim()
		end
		f24_local0 = f24_arg0:Wait( f0_local0 )
		f24_local0.onComplete = function ()
			if f24_arg0.CinematicFrame then
				f24_arg0.CinematicFrame:StopCinematic( 0 )
				f24_arg0( f24_arg0, false )
			end
			ACTIONS.AnimateSequence( f24_arg0, 0x88538BB599EA558 )
			f24_arg0:UpdateBattleMap()
			f24_arg0:UpdateMapState( f24_arg0, BATTLEMAP.BattlePassStates.TOKEN_CELEBRATION, {
				nextState = BATTLEMAP.BattlePassStates.UNLOCK_SECTOR,
				forceFocusIndex = BATTLEMAP.BLACK_CELL + 1
			} )
			if not Onboarding.BattlePass.WasCompleted( f24_arg0 ) then
				local f33_local0 = f24_arg0( f24_arg0 )
				f33_local0.state = BATTLEMAP.BattlePassStates.ONBOARDING
			elseif DataSources.alwaysLoaded.shouldShowBPSpendSelection:GetValue( f24_arg0 ) then
				local f33_local0 = f24_arg0( f24_arg0 )
				f33_local0.state = BATTLEMAP.BattlePassStates.SPEND_SELECTION
			end
		end
		
	elseif f24_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_SECTOR_WAIT then
		f24_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
		f0_local0( f24_arg0, f24_arg0._focusIndex )
		f0_local0( f24_arg0, {
			hideFocusDetails = true
		} )
		ACTIONS.AnimateSequence( f24_arg0._battleMap.FocusReticle, 0xA0CEAFC241F0970 )
	elseif f24_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_SECTOR_DELAY then
		f24_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
		f0_local0( f24_arg0, f24_arg0._focusIndex )
		f0_local0( f24_arg0, {
			hideFocusDetails = true,
			hideFocusSelector = true
		} )
		local f24_local3 = f24_arg0:Wait( f0_local0 )
		f24_local3.onComplete = function ()
			f24_arg0:UpdateMapState( f24_arg0, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR, {
				nextState = f24_arg0._isComplete and BATTLEMAP.BattlePassStates.COMPLETE or BATTLEMAP.BattlePassStates.NORMAL
			} )
		end
		
	else
		if f24_arg0._state == BATTLEMAP.BattlePassStates.UNLOCK_SECTOR then
			f24_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
			f0_local0( f24_arg0, f24_arg0._focusIndex )
			f0_local0( f24_arg0, {
				hideFocusDetails = true,
				hideFocusSelector = true
			} )
			local f24_local3 = f24_local1( true, true )
			Engine[0xC4146BA76D0F982]( SOUND_SETS.battlePass.bpUnlockSectorMap )
			f24_local3:UnlockSector()
			f24_arg0.InspectPanel:HideAllCheckmarks()
			f24_local0 = f24_arg0:Wait( f0_local0 )
			f24_local0.onComplete = function ()
				local f29_local0 = f24_arg0:GetAnchorsAndPosition()
				f24_arg0._battleMap.UnlockReticle:SetAnchorsAndPosition( f29_local0.leftAnchor, f29_local0.rightAnchor, f29_local0.topAnchor, f29_local0.bottomAnchor, f29_local0.left, f29_local0.right, f29_local0.top, f29_local0.bottom )
				ACTIONS.AnimateSequence( f24_arg0._battleMap.UnlockReticle, 0x537C0BE7B2E528B )
				f24_arg0.InspectPanel:PlayUnlockMulti( {
					nil,
					1,
					2,
					3,
					4,
					5
				}, 1, true )
				local f29_local1 = f24_arg0:Wait( f24_arg0 )
				f29_local1.onComplete = function ()
					f29_local0.InspectPanel:PlaySheenMulti( {
						nil,
						1,
						2,
						3,
						4,
						5
					} )
					f29_local0( true )
					local f30_local0 = BATTLEMAP.GetAdjacentSectorNames( f29_local0._focusIndex, true )
					local f30_local1 = {}
					local f30_local2 = 0
					for f30_local7, f30_local8 in ipairs( f30_local0 ) do
						local f30_local9 = f30_local8 + 1
						local f30_local6 = BATTLEMAP.CanGetSectorState( BATTLEMAP.GetSectorType( f30_local9, f29_local0._season ) )
						if f30_local6 then
							f30_local6 = BATTLEMAP.GetSectorState( f29_local0, f30_local9, f29_local0._season )
						end
						if f30_local6 == BATTLEMAP.SectorState.ACTIVE then
							f30_local1[f30_local9] = true
							f30_local2 = f30_local2 + 1
						end
					end
					if f29_local0._type == BATTLEMAP.SectorType.BLACK_CELL then
						Onboarding.BattlePass.MarkBlackCellBattlePassCelebrationSeen( f29_local0 )
					end
					f30_local3 = function ()
						local f31_local0 = f30_local0
						if f31_local0 then
							f31_local0 = f30_local0.nextState
						end
						if not f31_local0 then
							local f31_local1 = f30_local0()
							if f31_local1.state then
								f31_local0 = f31_local1.state
								f31_local1.state = nil
							else
								f31_local0 = BATTLEMAP.BattlePassStates.NORMAL
							end
						end
						f30_local0:UpdateMapState( f30_local0, f31_local0 )
					end
					
					if 0 < f30_local2 then
						f29_local0( f29_local0, f29_local0._focusIndex, nil, f30_local1 )
						f30_local4 = f29_local0:Wait( f29_local0 )
						f30_local4.onComplete = f30_local3
					else
						f30_local3()
					end
				end
				
			end
			
			f24_arg0.InspectPanel:UpdateCompletionPercent( f24_arg1 )
		end
		if f24_arg0._state == BATTLEMAP.BattlePassStates.COMPLETE then
			f24_arg0._isComplete = true
			f24_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
			f0_local0( f24_arg0, nil, true )
			f0_local0( f24_arg0, {
				hideFocusDetails = true,
				hideFocusSelector = true
			} )
			f24_arg0._focusIndex = BATTLEMAP.FINAL_SECTOR + 1
			f24_local1( false )
			if f24_arg0.CinematicFrame then
				f0_local0( f24_arg0, false )
				f24_arg0.CinematicFrame:StartCinematic( "bp_purchased_complete" )
				f24_arg0.CinematicFrame:PlayBattlePassCompleteAnim()
				f24_arg0.CinematicFrame:setPriority( f0_local0 )
			end
			local f24_local3 = f24_arg0:Wait( f0_local0 )
			f24_local3.onComplete = function ()
				if f24_arg0.CinematicFrame then
					f24_arg0.CinematicFrame:StopCinematic( 0 )
					f24_arg0.CinematicFrame:setPriority( f24_arg0 )
					f24_arg0( f24_arg0, true )
				end
				local f27_local0 = f24_arg0:Wait( f24_arg0 )
				f27_local0.onComplete = function ()
					if f27_local0._isPremium then
						f27_local0:UpdateMapState( f27_local0, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR, {
							nextState = BATTLEMAP.BattlePassStates.NORMAL,
							forceFocusIndex = BATTLEMAP.FINAL_SECTOR + 1
						} )
					else
						f27_local0:UpdateMapState( f27_local0, BATTLEMAP.BattlePassStates.NORMAL )
					end
				end
				
			end
			
		else
			if f24_arg0._state == BATTLEMAP.BattlePassStates.TOKEN_CELEBRATION then
				local f24_local3 = f0_local0( f24_arg0 )
				f24_local0 = f24_local3.tokensPurchased
				f24_local3.tokensPurchased = nil
				f24_local2 = function ()
					f24_arg0:UpdateMapState( f24_arg0, BATTLEMAP.BattlePassStates.UNLOCK_SECTOR )
				end
				
				f24_local1( true, true )
				if f24_local0 == nil or f24_local0 <= 0 then
					f24_local2()
					return 
				end
				f24_arg0._battleMap.Darkener:SetAlpha( f0_local0, 200 )
				f0_local0( f24_arg0, f24_arg0._focusIndex )
				f0_local0( f24_arg0, {
					hideFocusDetails = true,
					hideFocusSelector = true
				} )
				f24_local1( false )
				if f24_arg0.CinematicFrame then
					f0_local0( f24_arg0, false )
					f24_arg0.CinematicFrame:StartCinematic( "bp_aar_manual" )
					f24_arg0.CinematicFrame:PlayBattlePassTokenEarned( f24_local0, f24_arg0.InspectPanel.BPTokenProgress, false )
					f24_arg0.CinematicFrame:setPriority( f0_local0 )
				end
				local f24_local4 = f24_arg0:Wait( f0_local0 )
				f24_local4.onComplete = function ()
					if f24_arg0.CinematicFrame then
						f24_arg0.CinematicFrame:StopCinematic( 0 )
						f24_arg0.CinematicFrame:setPriority( f24_arg0 )
						f24_arg0( f24_arg0, true )
					end
					f24_arg0()
				end
				
			end
			f24_local1( true )
			f24_arg0._battleMap.Darkener:SetAlpha( 0, 200 )
			f0_local0( f24_arg0, nil, true )
			ACTIONS.AnimateSequence( f24_arg0._battleMap.FocusReticle, 0x16064B810921ABA )
			ACTIONS.AnimateSequence( f24_arg0._battleMap.FocusReticle, 0x1AD24787FCCF859 )
			f24_arg0.InspectPanel:SetNoInteractionOnboarding( false )
		end
	end
end

local f0_local49 = function ( f23_arg0 )
	if f23_arg0._focusIndex then
		f23_arg0._battleMap[f0_local0 .. tostring( f23_arg0._focusIndex - 1 )]:processEvent( {
			name = "lose_focus",
			controller = f23_arg0._controllerIndex
		} )
	end
	local f23_local0 = f0_local0( f23_arg0 )
	f23_local0.previousFocusedSectorIndex = f23_arg0._focusIndex
end

local f0_local50 = function ( f22_arg0, f22_arg1 )
	ACTIONS.AnimateSequence( f22_arg0, 0xD8E0C3D2CAE13A2 )
	LUI.FlowManager.RequestErrorPopup( f22_arg1, Engine[0xED84C33EC5F01EA]( 0xD09E09A43DE9B80 ), Engine[0xED84C33EC5F01EA]( 0x2D1270EC2170BC1 ) )
end

local f0_local51 = function ( f21_arg0, f21_arg1, f21_arg2 )
	f0_local0( f21_arg0, f21_arg1 )
	FrontEndScene.HideAllCharacters()
	CLIENT_MODEL.InitBattlePassModels()
	ACTIONS.AnimateSequence( f21_arg0, 0x88538BB599EA558 )
	local f21_local0 = f0_local0( f21_arg0 )
	local f21_local1 = f21_arg2.state
	if not f21_local1 then
		f21_local1 = f21_local0.state
		if not f21_local1 then
			f21_local1 = BATTLEMAP.BattlePassStates.NORMAL
		end
	end
	f0_local0( f21_arg0, f21_arg2 )
	f0_local0( f21_arg0 )
	f21_arg0:UpdateMapState( f21_arg1, BATTLEMAP.BattlePassStates.MAP_SETUP )
	f21_arg0.InspectPanel:SetNoInteraction()
	f21_arg0.InspectPanel.BPTokenProgress:SetupInputs()
	f0_local0( f21_arg0 )
	local f21_local2 = BATTLEMAP.IsLimitedTimeEnabled()
	if f21_local2 then
		if f21_local1 == BATTLEMAP.BattlePassStates.NORMAL and not f21_arg2.isLastOnboarding and not Onboarding.BattlePassChallenges.WasCompleted( f21_arg1 ) and not BATTLEMAP.IsLimitedTimeClassified() then
			f21_local2 = BATTLEMAP.HasLimitedTimeSector()
		else
			f21_local2 = false
		end
	end
	if f21_local0.showPurchasePopup then
		f21_local0.showPurchasePopup = nil
		LUI.FlowManager.RequestAddMenu( "BattlePassPurchasePopup", true, f21_arg1, false, {
			storeFetchSuccess = true
		}, true )
	elseif f21_local2 then
		f21_arg0:UpdateMapState( f21_arg1, BATTLEMAP.BattlePassStates.BP_CHALLENGE_ONBOARDING )
	else
		f21_arg0:UpdateMapState( f21_arg1, f21_local1 )
		f21_local0.state = nil
		f21_local0.fromBattlePassIntro = false
		LUI.FlowManager.TriggerSlideInBottom( f21_arg0.InspectPanel, 500, 700, LUI.EASING.inOutQuartic )
	end
end

local f0_local52 = function ( f18_arg0, f18_arg1, f18_arg2 )
	STORE.Popups.OpenGenericFetchPopup( f18_arg1 )
	local f18_local0 = function ( f19_arg0 )
		LUI.DeferredFence.Attach( f19_arg0, f18_arg0, "ACHIEVEMENTENGINE", LUI.DeferredFence.Criticality.LOW, LUI.DeferredFence.BackOutMethod.NONE, function ( f20_arg0, f20_arg1 )
			if f20_arg0._achievementEngineFenceRetrieved or f20_arg1.fenceState ~= LUI.Fence.FenceObjectState.PASSING and f20_arg1.fenceState ~= LUI.Fence.FenceObjectState.FAILED then
				return 
			end
			f20_arg0._achievementEngineFenceRetrieved = true
			STORE.Popups.CloseGenericFetchPopup( f19_arg0 )
			if f20_arg1.fenceState == LUI.Fence.FenceObjectState.PASSING then
				f19_arg0( f19_arg0, f19_arg0, f19_arg0 )
			else
				f19_arg0:HandleFenceError( f19_arg0 )
			end
		end )
	end
	
	local f18_local1
	if f18_arg0:GetCurrentMenu() == nil then
		f18_local1 = "menu_create"
	else
		f18_local1 = "tab_create"
	end
	f18_arg0:addEventHandler( f18_local1, f18_local0 )
end

local f0_local53 = function ( f11_arg0, f11_arg1, f11_arg2 )
	f11_arg0.UpdateBattleMap = f0_local0
	f11_arg0.UpdateFocusSector = f0_local0
	f11_arg0.UpdateMapState = f0_local0
	f11_arg0.SaveState = f0_local0
	f11_arg0.HandleFenceError = f0_local0
	f11_arg0.GetState = f0_local0
	f11_arg0._controllerIndex = f11_arg1
	f11_arg0._battleMap = f11_arg0.BPMapWidget
	f11_arg0._season = SEASON.GetCurrentSeason()
	f11_arg0._ownsBlackCell = STORE.UI.DoesPlayerOwnBlackCellBundle( f11_arg1 )
	f11_arg0.isQuickAccessShortcutsDisabled = true
	if f11_arg0._battleMap and f11_arg0._battleMap.FocusReticle then
		f11_arg0._battleMap.FocusReticle:SetOnFillCallback( f11_arg0, f0_local0 )
	end
	if f11_arg0._battleMap.MapLegend then
		f11_arg0._battleMap.MapLegend:SetArrowDirection( false )
	end
	ACTIONS.AnimateSequence( f11_arg0, 0x6739456D393D597 )
	local f11_local0 = f0_local0( f11_arg0 )
	local f11_local1 = f11_local0.isFromUpsell or f11_local0.isFromPurchase
	f11_local0.isFromUpsell = nil
	f11_local0.isFromPurchase = nil
	if f11_local0.achievementEngineFenceError then
		f11_local0.achievementEngineFenceError = nil
		f11_arg0:HandleFenceError( f11_arg1 )
	elseif f11_local1 then
		f0_local0( f11_arg0, f11_arg1, f11_arg2 )
	else
		f0_local0( f11_arg0, f11_arg1, f11_arg2 )
	end
	f11_arg0:addEventHandler( "gain_focus", function ( f17_arg0, f17_arg1 )
		return true
	end )
	f11_arg0:registerEventHandler( "close_auto_switch", function ( element, event )
		f11_arg0:UpdateBattleMap( event.toggleState )
	end )
	f11_arg0:addEventHandler( "tab_create", function ( f15_arg0, f15_arg1 )
		if f15_arg0:GetCurrentMenu() then
			f15_arg0:dispatchEventToCurrentMenu( {
				name = "battlepass_menu_opened",
				controllerIndex = f15_arg1.controller or f11_arg0
			} )
		end
	end )
	f11_arg0:addEventHandler( "tab_destroy", function ( f14_arg0, f14_arg1 )
		local f14_local0 = f11_arg0()
		if f14_local0 then
			f14_local0.prevSection = nil
		end
		if f14_arg0:GetCurrentMenu() then
			f14_arg0:dispatchEventToCurrentMenu( {
				name = "battlepass_menu_closed",
				controllerIndex = f14_arg1.controller or f11_arg0
			} )
		end
		CLIENT_MODEL.HideAllBattlePassModels()
	end )
	f11_arg0:addEventHandler( "purchase_bp_or_blackcell", function ( f13_arg0, f13_arg1 )
		if f13_arg0._showPurchaseButton then
			f13_arg0.BattlePassPurchaseButton:ShowPurchasePopup( f11_arg0._controllerIndex )
		end
	end )
	f11_arg0:addEventHandler( "leavemenu", function ( f12_arg0, f12_arg1 )
		UNLOCK_CRITERIA.UnlockRedirectToUnlockSource()
	end )
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		local f2_local0 = function ( f10_arg0, f10_arg1 )
			
		end
		
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0x57CE7A3C260217, {
			nil,
			nil,
			1,
			0,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = TWEEN_PROPERTY.Visibility,
			[5] = LUI.Visibility.Visible
		} )
		local f2_local1 = function ( f9_arg0, f9_arg1 )
			f9_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0x57CE7A3C260217 )
		end
		
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0xC0A83E6107A33A2, {
			nil,
			nil,
			0,
			0,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Alpha,
			[4] = TWEEN_PROPERTY.Visibility,
			[5] = LUI.Visibility.Hidden
		} )
		local f2_local2 = function ( f8_arg0, f8_arg1 )
			f8_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0xC0A83E6107A33A2 )
		end
		
		f2_arg0[0x777B4213DF10F75]:RegisterAnimationSequence( 0x67B893A709AB37, {
			nil,
			nil,
			0,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0x67B893A709AB37, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f2_local3 = function ( f7_arg0, f7_arg1 )
			f7_arg0[0x777B4213DF10F75]:AnimateSequence( 0x67B893A709AB37 )
			f7_arg0[0x789F59964A52CEF]:AnimateSequence( 0x67B893A709AB37 )
		end
		
		f2_arg0[0x777B4213DF10F75]:RegisterAnimationSequence( 0x853294F5A21A65E, {
			nil,
			nil,
			1,
			0,
			[1] = TWEEN_PROPERTY.Alpha
		} )
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0x853294F5A21A65E, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		local f2_local4 = function ( f6_arg0, f6_arg1 )
			f6_arg0[0x777B4213DF10F75]:AnimateSequence( 0x853294F5A21A65E )
			f6_arg0[0x789F59964A52CEF]:AnimateSequence( 0x853294F5A21A65E )
		end
		
		f2_arg0[0x827960E7D0BB747]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0xD8E0C3D2CAE13A2, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f2_local5 = function ( f5_arg0, f5_arg1 )
			f5_arg0[0x827960E7D0BB747]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
			f5_arg0[0x789F59964A52CEF]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
			f5_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0xD8E0C3D2CAE13A2 )
		end
		
		f2_arg0[0x827960E7D0BB747]:RegisterAnimationSequence( 0x6739456D393D597, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0x6739456D393D597, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0x6739456D393D597, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		f2_arg0[0x7C35992B346089F]:RegisterAnimationSequence( 0x6739456D393D597, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Hidden
		} )
		local f2_local6 = function ( f4_arg0, f4_arg1 )
			f4_arg0[0x827960E7D0BB747]:AnimateSequence( 0x6739456D393D597 )
			f4_arg0[0x789F59964A52CEF]:AnimateSequence( 0x6739456D393D597 )
			f4_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0x6739456D393D597 )
			f4_arg0[0x7C35992B346089F]:AnimateSequence( 0x6739456D393D597 )
		end
		
		f2_arg0[0x827960E7D0BB747]:RegisterAnimationSequence( 0x88538BB599EA558, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f2_arg0[0x789F59964A52CEF]:RegisterAnimationSequence( 0x88538BB599EA558, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f2_arg0[0x6E52D9244E6FE65]:RegisterAnimationSequence( 0x88538BB599EA558, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f2_arg0[0x7C35992B346089F]:RegisterAnimationSequence( 0x88538BB599EA558, {
			nil,
			nil,
			nil,
			0,
			[1] = TWEEN_PROPERTY.Visibility,
			[2] = LUI.Visibility.Visible
		} )
		f2_arg0[0x49D85F0EF1CEC84] = {
			[0xEF6C3AB55C07BEF] = f2_local0,
			[0x57CE7A3C260217] = f2_local1,
			[0xC0A83E6107A33A2] = f2_local2,
			[0x67B893A709AB37] = f2_local3,
			[0x853294F5A21A65E] = f2_local4,
			[0xD8E0C3D2CAE13A2] = f2_local5,
			[0x6739456D393D597] = f2_local6,
			[0x88538BB599EA558] = function ( f3_arg0, f3_arg1 )
				f3_arg0[0x827960E7D0BB747]:AnimateSequence( 0x88538BB599EA558 )
				f3_arg0[0x789F59964A52CEF]:AnimateSequence( 0x88538BB599EA558 )
				f3_arg0[0x6E52D9244E6FE65]:AnimateSequence( 0x88538BB599EA558 )
				f3_arg0[0x7C35992B346089F]:AnimateSequence( 0x88538BB599EA558 )
			end
		}
		f2_arg0[0xD97E59A206E4A54] = {
			[0x67B893A709AB37] = 0,
			[0x88538BB599EA558] = 0,
			[0xC0A83E6107A33A2] = 0,
			[0x57CE7A3C260217] = 0,
			[0x853294F5A21A65E] = 0,
			[0x6739456D393D597] = 0,
			[0xD8E0C3D2CAE13A2] = 0,
			[0xEF6C3AB55C07BEF] = 0
		}
	end
}
function BPMap( f1_arg0, f1_arg1 )
	local f1_local0 = LUI
	local f1_local1 = MenuBuilder
	local f1_local2 = TWEEN_PROPERTY
	local f1_local3 = f1_local0.UIElement.new()
	f1_local3:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920, 0, 1080 )
	f1_local3.id = "BPMap"
	f1_local3[0xBD5D934D3CD91E5] = States
	local f1_local4
	if f1_arg1 then
		f1_local4 = f1_arg1
	else
		f1_local4 = f1_arg1.controllerIndex
	end
	f1_local4 = f1_local0.ValidateControllerIndex( f1_local3, f1_local4 )
	local f1_local5 = nil
	f1_local5 = f1_local0.UIImage.new()
	f1_local5[0x8B72E07B55C3AC0] = "Background"
	ACTIONS.ScaleFullscreen( f1_local5 )
	f1_local5:SetRGB( SWATCHES[0x1F5A9ABAC207F9D][0x8088E72737CAC80], 0 )
	f1_local3:addElement( f1_local5 )
	f1_local3[0xD4176E7CA246EDD] = f1_local5
	local f1_local6 = nil
	f1_local6 = f1_local1.BuildRegisteredType( 0x827960E7D0BB747, {
		controllerIndex = f1_local4
	} )
	f1_local6[0x8B72E07B55C3AC0] = "BPMapWidget"
	f1_local6:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -960, 960, -1080, 0 )
	f1_local3:addElement( f1_local6 )
	f1_local3[0x827960E7D0BB747] = f1_local6
	local f1_local7 = nil
	f1_local7 = f1_local1.BuildRegisteredType( 0xEF0727E53B65393, {
		controllerIndex = f1_local4
	} )
	f1_local7[0x8B72E07B55C3AC0] = "FactionInspect"
	f1_local7:SetVisible( false )
	f1_local7:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -960, 960, -1080, 0 )
	f1_local3:addElement( f1_local7 )
	f1_local3[0x777B4213DF10F75] = f1_local7
	local f1_local8 = nil
	f1_local8 = f1_local1.BuildRegisteredType( 0xE44E7F2B6C76989, {
		controllerIndex = f1_local4
	} )
	f1_local8[0x8B72E07B55C3AC0] = "InspectPanel"
	f1_local8:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -960, 960, -375, 0 )
	f1_local3:addElement( f1_local8 )
	f1_local3[0x789F59964A52CEF] = f1_local8
	local f1_local9 = nil
	f1_local9 = f1_local1.BuildRegisteredType( 0xF0CB2EDC46E9704, {
		controllerIndex = f1_local4
	} )
	f1_local9[0x8B72E07B55C3AC0] = "BattlePassPurchaseButton"
	f1_local9:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, 586, 908, -387, -321 )
	f1_local3:addElement( f1_local9 )
	f1_local3[0x6E52D9244E6FE65] = f1_local9
	local f1_local10 = nil
	f1_local10 = f1_local0.UIImage.new()
	f1_local10[0x8B72E07B55C3AC0] = "Blackout"
	f1_local10:SetVisible( false )
	f1_local10:SetRGB( 0, 0 )
	f1_local10:setPriority( 23 )
	f1_local3:addElement( f1_local10 )
	f1_local3[0x59F568B9152C568] = f1_local10
	local f1_local11 = nil
	f1_local11 = f1_local1.BuildRegisteredType( 0xCF0BF932F6A3BC5, {
		controllerIndex = f1_local4
	} )
	f1_local11[0x8B72E07B55C3AC0] = "CinematicFrame"
	f1_local11:SetAlpha( 0, 0 )
	f1_local11:setPriority( 24 )
	f1_local11:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, -960, 960, -540, 540 )
	f1_local3:addElement( f1_local11 )
	f1_local3[0x7C35992B346089F] = f1_local11
	local f1_local12 = nil
	f1_local12 = f1_local1.BuildRegisteredType( 0x27F6E3D6196F52C, {
		controllerIndex = f1_local4
	} )
	f1_local12[0x8B72E07B55C3AC0] = "BootUpDetails"
	f1_local12:SetVisible( false )
	f1_local12:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, -800, 800, -275, -54 )
	f1_local3:addElement( f1_local12 )
	f1_local3[0xC386684DCC8B266] = f1_local12
	f0_local0( f1_local3, f1_local4, f1_arg1 )
	return f1_local3
end

MenuBuilder.registerType( 0x18A340BDBF122AF, BPMap )
LockTable( _M )
