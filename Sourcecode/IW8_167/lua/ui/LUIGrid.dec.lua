-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
LUI.UIGrid = LUI.Class( LUI.UIElement )
LUI.UIDataSourceGrid = LUI.Class( LUI.UIGrid )
LUI.UIPeekingGrid = LUI.Class( LUI.UIGrid )
LUI.UIGrid.ARROW_FOR = {
	next = 1,
	previous = 0
}
local f0_local0 = nil
LUI.UIGrid.GRID_EPSILON = 0.01
local f0_local1 = function ( f118_arg0 )
	f118_arg0.DebugBackground = LUI.UIImage.new()
	f118_arg0.DebugBackground.id = "DebugBackground"
	f118_arg0.DebugBackground:SetRGBFromTable( {
		g = -8.679223792368794E+209,
		b = 4.667261640415006E-62,
		r = -9.255965340288647E+61
	} )
	f118_arg0:addEventHandler( "layout_initialized", function ( f121_arg0, f121_arg1 )
		f121_arg0.DebugBackground:addElementBefore( f121_arg0 )
	end )
	f118_arg0.DebugBackground._updateDebugBackgroundTimer = LUI.UITimer.new( {
		event = "debug_update_pos_and_size",
		interval = 32,
		eventTarget = f118_arg0
	} )
	f118_arg0.DebugBackground:addElement( f118_arg0.DebugBackground._updateDebugBackgroundTimer )
	f118_arg0:registerEventHandler( "debug_update_pos_and_size", function ( element, event )
		local f120_local0 = element:GetCurrentAnchorsAndPositions()
		if element.DebugBackground and element.DebugBackground:getParent() then
			element.DebugBackground:SetAnchorsAndPosition( f120_local0.leftAnchor, f120_local0.rightAnchor, f120_local0.topAnchor, f120_local0.bottomAnchor, f120_local0.left, f120_local0.right, f120_local0.top, f120_local0.bottom )
			element.DebugBackground:SetAlpha( element:GetAlpha() )
			element.DebugBackground:SetScale( element:GetScale() )
		end
	end )
	local f118_local0 = f118_arg0.closeTree
	f118_arg0.closeTree = function ( f119_arg0 )
		f118_arg0( f119_arg0 )
		f119_arg0.DebugBackground:closeTree()
		f119_arg0.DebugBackground = nil
	end
	
end

LUI.UIGrid.init = function ( f108_arg0, f108_arg1 )
	Engine.BHFFIBEFFH( "UIGrid", "widget" )
	assert( f108_arg1 )
	assert( type( f108_arg1.maxVisibleRows ) == "number" )
	assert( type( f108_arg1.maxVisibleColumns ) == "number" )
	local f108_local0 = assert
	local f108_local1
	if f108_arg1.buildChild ~= nil and type( f108_arg1.buildChild ) ~= "function" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.refreshChild ~= nil and type( f108_arg1.refreshChild ) ~= "function" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.measureRow ~= nil and type( f108_arg1.measureRow ) ~= "function" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.rowHeight ~= nil and type( f108_arg1.rowHeight ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	f108_local1 = f108_arg1.rowHeight
	if not f108_local1 then
		f108_local1 = f108_arg1.measureRow
		if not f108_local1 then
			f108_local1 = not f108_arg1.buildChild
		end
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.measureColumn ~= nil and type( f108_arg1.measureColumn ) ~= "function" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.columnWidth ~= nil and type( f108_arg1.columnWidth ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	f108_local1 = f108_arg1.columnWidth
	if not f108_local1 then
		f108_local1 = f108_arg1.measureColumn
		if not f108_local1 then
			f108_local1 = not f108_arg1.buildChild
		end
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.isPositionFocusable ~= nil and type( f108_arg1.isPositionFocusable ) ~= "function" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.wrapX ~= nil and type( f108_arg1.wrapX ) ~= "boolean" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.wrapY ~= nil and type( f108_arg1.wrapY ) ~= "boolean" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.spacingX ~= nil and type( f108_arg1.spacingX ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.spacingY ~= nil and type( f108_arg1.spacingY ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.horizontalAlignment ~= nil and type( f108_arg1.horizontalAlignment ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.verticalAlignment ~= nil and type( f108_arg1.verticalAlignment ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.defaultFocus ~= nil and type( f108_arg1.defaultFocus ) ~= "table" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.numRows ~= nil and type( f108_arg1.numRows ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.numColumns ~= nil and type( f108_arg1.numColumns ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.numChildren ~= nil and type( f108_arg1.numChildren ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.scrollingThresholdX ~= nil and type( f108_arg1.scrollingThresholdX ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.scrollingThresholdY ~= nil and type( f108_arg1.scrollingThresholdY ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.maxVelocity ~= nil and type( f108_arg1.maxVelocity ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.springCoefficient ~= nil and type( f108_arg1.springCoefficient ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.primaryAxis ~= nil and type( f108_arg1.primaryAxis ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.adjustSizeToContent ~= nil and type( f108_arg1.adjustSizeToContent ) ~= "boolean" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.alwaysSnap ~= nil and type( f108_arg1.alwaysSnap ) ~= "boolean" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.disableMouseWheel ~= nil and type( f108_arg1.disableMouseWheel ) ~= "boolean" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.arrowsEnabled ~= nil and type( f108_arg1.arrowsEnabled ) ~= "boolean" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.widgetsAlwaysVisible ~= nil and type( f108_arg1.widgetsAlwaysVisible ) ~= "boolean" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.directionalInputEnabled ~= nil and type( f108_arg1.directionalInputEnabled ) ~= "boolean" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.buildArrowsLabel ~= nil and type( f108_arg1.buildArrowsLabel ) ~= "boolean" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.arrowsVerticalOffset ~= nil and type( f108_arg1.arrowsVerticalOffset ) ~= "number" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.alwaysTrapMouseWheel ~= nil and type( f108_arg1.alwaysTrapMouseWheel ) ~= "boolean" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_local0 = assert
	if f108_arg1.countFunction ~= nil and type( f108_arg1.countFunction ) ~= "function" then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	f108_arg1.adjustSizeToContent = f108_arg1.adjustSizeToContent == true
	f108_arg1.spacingX = f108_arg1.spacingX or 0
	f108_arg1.spacingY = f108_arg1.spacingY or 0
	f108_arg1.maxVelocity = f108_arg1.maxVelocity or 5000
	f108_arg1.springCoefficient = f108_arg1.springCoefficient or 400
	f108_arg1.arrowsVerticalOffset = f108_arg1.arrowsVerticalOffset or f108_arg1.spacingY
	if not f108_arg1.primaryAxis then
		if f108_arg1.maxVisibleColumns == 1 and 1 < f108_arg1.maxVisibleRows then
			f108_arg1.primaryAxis = LUI.DIRECTION.vertical
		else
			f108_arg1.primaryAxis = LUI.DIRECTION.horizontal
		end
	end
	f108_local0 = assert
	if f108_arg1.primaryAxis ~= LUI.DIRECTION.horizontal and f108_arg1.primaryAxis ~= LUI.DIRECTION.vertical then
		f108_local1 = false
	else
		f108_local1 = true
	end
	f108_local0( f108_local1 )
	LUI.UIGrid.super.init( f108_arg0 )
	f108_arg0.id = "UIGrid"
	f108_arg0._controllerIndex = f108_arg1.controllerIndex
	f108_arg0._isPositionFocusable = f108_arg1.isPositionFocusable
	f108_arg0._rowHeight = f108_arg1.rowHeight
	f108_arg0._columnWidth = f108_arg1.columnWidth
	f108_arg0._spacingX = f108_arg1.spacingX
	f108_arg0._spacingY = f108_arg1.spacingY
	f108_arg0._wrapX = f108_arg1.wrapX or false
	f108_arg0._wrapY = f108_arg1.wrapY or false
	f108_arg0._defaultFocus = f108_arg1.defaultFocus or nil
	f108_arg0._scrollingThresholdX = f108_arg1.scrollingThresholdX or 1
	f108_arg0._scrollingThresholdY = f108_arg1.scrollingThresholdY or 1
	f108_arg0._scrollingThresholdPixelX = f108_arg1.scrollingThresholdPixelX or 0
	f108_arg0._scrollingThresholdPixelY = f108_arg1.scrollingThresholdPixelY or 0
	f108_arg0._permittedQualifiers = f108_arg1.permittedQualifiers or {}
	f108_arg0._horizontalAlignment = f108_arg1.horizontalAlignment
	f108_arg0._verticalAlignment = f108_arg1.verticalAlignment
	f108_arg0._alwaysSnap = f108_arg1.alwaysSnap == true
	f108_arg0._disableMouseWheel = f108_arg1.disableMouseWheel
	f108_arg0._arrowsEnabled = f108_arg1.arrowsEnabled ~= false
	f108_arg0._widgetsAlwaysVisible = f108_arg1.widgetsAlwaysVisible or false
	f108_arg0._directionalInputEnabled = f108_arg1.directionalInputEnabled ~= false
	f108_arg0._alwaysTrapMouseWheel = f108_arg1.alwaysTrapMouseWheel or false
	f108_arg0._buildChild = f108_arg1.buildChild
	f108_arg0._onNewTargetFocusPosition = f108_arg1.onNewTargetFocusPosition or nil
	f108_arg0._arrows = {}
	f108_arg0._itemNumbers = {}
	f108_arg0._scrollbars = {}
	f108_arg0._mouseWheelScrollingVerticalOffsetPx = f108_arg1.mouseWheelScrollingOffsetPx or 16
	f108_arg0._mouseWheelScrollingHorizontalOffsetPx = f108_arg1.mouseWheelScrollingOffsetPx or 56
	f108_arg0._showNumbersAndArrowsKBM = false
	f108_arg0._updateArrowVisibilityOnRefresh = true
	f108_arg0._countFunction = f108_arg1.countFunction or nil
	if Engine.BHICADFIHA() then
		f108_arg0._refreshChild = f108_arg1.refreshChild
		f108_arg0._isGrid = true
	end
	f108_arg0:registerEventHandler( "position_visible", function ( element, event )
		assert( event.row and event.column )
		assert( event.child )
		if element._targetPosition and event.child ~= event._childInFocus and element._shouldFocus and event.row == element._targetPosition.y and event.column == element._targetPosition.x then
			if element._isWrapping then
				element._isWrapping = false
			end
			element:GiveFocusToChild( event.child )
		end
	end )
	f108_arg0:registerEventHandler( "restore_focus", f108_arg0.restoreFocus )
	f108_arg0:registerEventHandler( "gain_focus", function ( element, event )
		return element:GainFocus( event )
	end )
	f108_arg0:registerEventHandler( "lose_focus", function ( element, event )
		return element:LoseFocus( event )
	end )
	f108_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		return element:GamepadButton( event )
	end )
	f108_arg0:registerEventHandler( "update_input_type", LUI.UIGrid.UpdateNumbersArrowsAndScrolling )
	f108_arg0:registerEventHandler( "grid_size_updated", function ( element, event )
		element:UpdateNumbersArrowsAndScrolling()
	end )
	f108_arg0:registerEventHandler( "ensure_line_visible", function ( element, event )
		element:EnsureLineVisible( event.direction, event.line, event.force )
	end )
	if Engine.EABCCIBFIG() then
		f108_arg0:addEventHandler( "update_current_grid_focus", function ( f111_arg0, f111_arg1 )
			local f111_local0, f111_local1 = f111_arg0:GetChildPosition( f111_arg1.child )
			if f111_arg1.focusType == FocusType.MouseOver and f111_local0 and f111_local1 then
				local f111_local2, f111_local3 = f111_arg0:GetColumnBoundaries()
				local f111_local4, f111_local5 = f111_arg0:GetRowBoundaries()
				if f111_local2 and f111_local4 then
					f111_local0 = LUI.clamp( f111_local0, f111_local2, f111_local3 )
					f111_local1 = LUI.clamp( f111_local1, f111_local4, f111_local5 )
				end
			end
			local f111_local2 = f111_arg0._targetPosition
			if f111_local2 then
				if f111_arg0._targetPosition.x ~= f111_local0 or f111_arg0._targetPosition.y ~= f111_local1 then
					f111_local2 = false
				else
					f111_local2 = true
				end
			end
			if not f111_local2 and f111_local0 and f111_local1 then
				f111_arg0._targetPosition = {
					x = f111_local0,
					y = f111_local1
				}
				f111_arg0._childInFocus = f111_arg0:GetElementAtPosition( f111_local0, f111_local1 )
				f111_arg0:PositionChanged()
				f111_arg0._shouldFocus = true
				f111_arg0:FocusChanged( f111_arg1.focusType )
			end
		end )
	end
	f108_arg0:SetHandleMouse( true )
	f108_arg0:OverrideMouseCursorType( MouseCursorType.CURSOR_TYPE_ARROW_NORMAL )
	f108_arg0:registerEventHandler( "mousedown", function ()
		return true
	end )
	f108_arg0:registerEventHandler( "mouseup", function ()
		return true
	end )
	f108_arg0:SetupUIGrid( f108_arg1 )
	if f108_arg1.buildArrowsLabel then
		f108_arg0:BuildGridCountArrows( nil, f108_arg1.arrowsVerticalOffset )
	end
	if Dvar.IBEGCHEFE( "lui_enable_grid_background_debugging" ) then
		f0_local0( f108_arg0 )
	end
	Engine.DCHDDCJCEG( "UIGrid", "widget" )
end

LUI.UIGrid.SetScrollingThreshold = function ( f107_arg0, f107_arg1, f107_arg2 )
	local f107_local0
	if not f107_arg1 then
		f107_local0 = f107_arg1
	else
		f107_local0 = f107_arg0._scrollingThresholdX
	end
	f107_arg0._scrollingThresholdX = f107_local0
	if not f107_arg2 then
		f107_local0 = f107_arg2
	else
		f107_local0 = f107_arg0._scrollingThresholdY
	end
	f107_arg0._scrollingThresholdY = f107_local0
end

LUI.UIGrid.GetSpacingX = function ( f106_arg0 )
	return f106_arg0._spacingX
end

LUI.UIGrid.GetSpacingY = function ( f105_arg0 )
	return f105_arg0._spacingY
end

LUI.UIGrid.GetRowHeight = function ( f104_arg0 )
	return f104_arg0._rowHeight
end

LUI.UIGrid.GetColumnWidth = function ( f103_arg0 )
	return f103_arg0._columnWidth
end

LUI.UIGrid.SetRefreshChild = function ( f102_arg0, f102_arg1 )
	if Engine.BHICADFIHA() then
		f102_arg0._refreshChild = f102_arg1
	end
	f102_arg0:SetRefreshChildInC( f102_arg1 )
end

LUI.UIGrid.ColumnRowToPrimarySecondary = function ( f101_arg0, f101_arg1, f101_arg2 )
	if f101_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		return f101_arg1, f101_arg2
	else
		return f101_arg2, f101_arg1
	end
end

LUI.UIGrid.PrimarySecondaryToColumnRow = function ( f100_arg0, f100_arg1, f100_arg2 )
	if f100_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		return f100_arg1, f100_arg2
	else
		return f100_arg2, f100_arg1
	end
end

LUI.UIGrid.SetNumChildren = function ( f99_arg0, f99_arg1, f99_arg2 )
	if f99_arg0.maxAllocatedChildren then
		assert( f99_arg1 <= f99_arg0.maxAllocatedChildren, "LUIGrid: Trying to set more than the max number of allowed children." )
	end
	if f99_arg2 and f99_arg2.shouldRemoveExcessChildren then
		f99_arg0.maxAllocatedChildren = f99_arg1
		local f99_local0 = f99_arg0:GetBuiltChildren()
		local f99_local1 = #f99_local0
		if 0 < f99_local1 - f99_arg1 then
			for f99_local2 = f99_local1, f99_arg1 + 1, -1 do
				local f99_local5 = f99_local0[f99_local2]
				f99_arg0:RemoveElement( f99_local5 )
				f99_local5:closeTree()
				f99_local5 = nil
			end
		end
		f99_arg0:SetNumChildrenInC( f99_arg1, f99_arg2.shouldRemoveExcessChildren )
	else
		f99_arg0:SetNumChildrenInC( f99_arg1 )
	end
	if f99_arg0._targetPosition then
		if f99_arg0._shouldFocus then
			f99_arg0:SetFocusedPosition( f99_arg0._targetPosition, true )
		else
			f99_arg0:SetPosition( f99_arg0._targetPosition, true )
		end
	else
		f99_arg0:SetTargetColumnToDefault()
		f99_arg0:SetTargetRowToDefault()
	end
end

LUI.UIGrid.SetNumColumns = function ( f98_arg0, f98_arg1 )
	f98_arg0:SetNumColumnsInC( f98_arg1 )
	if f98_arg0._targetPosition then
		if f98_arg0._shouldFocus then
			f98_arg0:SetFocusedPosition( f98_arg0._targetPosition, true )
		else
			f98_arg0:SetPosition( f98_arg0._targetPosition, true )
		end
	else
		f98_arg0:SetTargetColumnToDefault()
	end
end

LUI.UIGrid.SetNumRows = function ( f97_arg0, f97_arg1 )
	f97_arg0:SetNumRowsInC( f97_arg1 )
	if f97_arg0._targetPosition then
		if f97_arg0._shouldFocus then
			f97_arg0:SetFocusedPosition( f97_arg0._targetPosition, true )
		else
			f97_arg0:SetPosition( f97_arg0._targetPosition, true )
		end
	else
		f97_arg0:SetTargetRowToDefault()
	end
end

LUI.UIGrid.EnsureLineVisible = function ( f96_arg0, f96_arg1, f96_arg2, f96_arg3 )
	local f96_local0 = assert
	local f96_local1
	if (f96_arg1 ~= LUI.DIRECTION.vertical or f96_arg0._verticalAlignment ~= LUI.Alignment.Top and f96_arg0._verticalAlignment ~= nil) and (f96_arg1 ~= LUI.DIRECTION.horizontal or f96_arg0._horizontalAlignment ~= LUI.Alignment.Left and f96_arg0._horizontalAlignment ~= nil) then
		f96_local1 = false
	else
		f96_local1 = true
	end
	f96_local0( f96_local1 )
	f96_local0, f96_local2, f96_local1 = nil
	if f96_arg1 == LUI.DIRECTION.horizontal then
		f96_local0 = f96_arg0.SetTargetColumn
		f96_local2 = f96_arg0.GetColumnBoundaries
		f96_local1 = f96_arg0.ComputeColumnLeftFromRight
	else
		f96_local0 = f96_arg0.SetTargetRow
		f96_local2 = f96_arg0.GetRowBoundaries
		f96_local1 = f96_arg0.ComputeRowTopFromBottom
	end
	local f96_local3, f96_local4 = f96_local2( f96_arg0 )
	local f96_local5 = false
	if f96_arg2 < f96_local3 then
		f96_local0( f96_arg0, f96_arg2, true, false )
		f96_local5 = true
	elseif f96_local4 < f96_arg2 then
		f96_local0( f96_arg0, f96_local1( f96_arg0, f96_arg2 ), true, false )
		f96_local5 = true
	end
	if not f96_local5 and f96_arg3 then
		f96_local0( f96_arg0, f96_arg2, true, false )
		f96_local5 = true
	end
	if f96_local5 then
		f96_arg0:UpdateNumbersArrowsAndScrolling()
	end
end

LUI.UIGrid.HandleScrollbarDrag = function ( f95_arg0, f95_arg1 )
	local f95_local0 = f95_arg1.scrollbar
	if f95_arg1.dragStart or not f95_arg0._dragTargetRef then
		f95_arg0._dragTargetRef = {
			x = f95_arg1.targetX,
			y = f95_arg1.targetY
		}
	end
	local f95_local1 = f95_arg1.targetX - f95_arg0._dragTargetRef.x
	local f95_local2 = f95_arg1.targetY - f95_arg0._dragTargetRef.y
	if f95_local1 == 0 and f95_local2 == 0 then
		return false
	end
	local f95_local3 = f95_arg0:GetContentSize( f95_local0:GetDirection() )
	if f95_local3 and 0 < f95_local3 then
		if f95_local0:GetDirection() == LUI.DIRECTION.vertical then
			local f95_local4 = f95_local2 * f95_local3
			local f95_local5, f95_local6 = f95_arg0:GetRowBoundaries()
			local f95_local7 = f95_arg0
			local f95_local8 = f95_arg0.ConvertRowPixelToLine
			local f95_local9
			if 0 <= f95_local4 and not f95_local6 then
				f95_local9 = f95_local6
			else
				f95_local9 = f95_local5
			end
			f95_local8 = f95_local8( f95_local7, f95_local9, f95_local4 )
			f95_arg0:SetPositionInternal( {
				x = f95_arg0:GetTargetColumn(),
				y = f95_local8,
				x = f95_arg0:GetTargetColumn(),
				y = f95_local8
			}, true, false, false )
		else
			local f95_local4 = f95_local1 * f95_local3
			local f95_local5, f95_local6 = f95_arg0:GetColumnBoundaries()
			local f95_local7 = f95_arg0
			local f95_local8 = f95_arg0.ConvertColumnPixelToLine
			local f95_local9
			if 0 <= f95_local4 and not f95_local6 then
				f95_local9 = f95_local6
			else
				f95_local9 = f95_local5
			end
			f95_local8 = f95_local8( f95_local7, f95_local9, f95_local4 )
			f95_arg0:SetPositionInternal( {
				x = f95_local8,
				y = f95_arg0:GetTargetRow(),
				x = f95_local8,
				y = f95_arg0:GetTargetRow()
			}, true, false, false )
		end
		f95_arg0:UpdateScrolling()
		f95_arg0._dragTargetRef = {
			x = f95_arg1.targetX,
			y = f95_arg1.targetY
		}
	end
	return true
end

LUI.UIGrid.HandleScrollbarSet = function ( f94_arg0, f94_arg1 )
	if f94_arg1.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
		f94_arg0:SetPositionInternal( {
			x = f94_arg0:GetTargetColumn(),
			y = f94_arg0:ConvertRowPixelToLine( 0, (f94_arg0:GetContentSize( LUI.DIRECTION.vertical ) or 1) * f94_arg1.targetY )
		}, true )
	else
		f94_arg0:SetPositionInternal( {
			x = f94_arg0:ConvertColumnPixelToLine( 0, (f94_arg0:GetContentSize( LUI.DIRECTION.horizontal ) or 1) * f94_arg1.targetX ),
			y = f94_arg0:GetTargetRow()
		}, true )
	end
end

LUI.UIGrid.AddScrollbar = function ( f91_arg0, f91_arg1 )
	if f91_arg1._slider then
		f91_arg1._slider.mouseWheelTarget = f91_arg0
	elseif f91_arg1._fixedSizeSlider then
		f91_arg1._fixedSizeSlider.mouseWheelTarget = f91_arg0
	end
	f91_arg1:LinkTo( f91_arg0 )
	f91_arg0:SetHandleMouseMove( true )
	table.insert( f91_arg0._scrollbars, f91_arg1 )
	f91_arg0:SetNotifyOnLayoutInit( true )
	if not f91_arg1._customScrolling then
		f91_arg0:registerEventHandler( "scrollbar_previous", function ( element, event )
			if event.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
				element:Scroll( "up" )
			else
				element:Scroll( "left" )
			end
			return true
		end )
		f91_arg0:registerEventHandler( "scrollbar_next", function ( element, event )
			if event.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
				element:Scroll( "down" )
			else
				element:Scroll( "right" )
			end
			return true
		end )
		f91_arg0:registerEventHandler( "scrollbar_drag", f91_arg0.HandleScrollbarDrag )
		f91_arg0:registerEventHandler( "scrollbar_set", f91_arg0.HandleScrollbarSet )
	end
end

LUI.UIGrid.SetArrowsEnabled = function ( f90_arg0, f90_arg1 )
	f90_arg0._arrowsEnabled = f90_arg1
end

LUI.UIGrid.SetWidgetsAlwaysVisible = function ( f89_arg0, f89_arg1 )
	f89_arg0._widgetsAlwaysVisible = f89_arg1
end

LUI.UIGrid.SetWraps = function ( f88_arg0, f88_arg1, f88_arg2 )
	if f88_arg1 ~= nil then
		f88_arg0._wrapX = f88_arg1
	end
	if f88_arg2 ~= nil then
		f88_arg0._wrapY = f88_arg2
	end
end

LUI.UIGrid.SetCustomArrowScrollAmount = function ( f87_arg0, f87_arg1 )
	f87_arg0._customArrowScrollAmount = f87_arg1
end

LUI.UIGrid.SetUpdateArrowVisibilityOnRefresh = function ( f86_arg0, f86_arg1 )
	f86_arg0._updateArrowVisibilityOnRefresh = f86_arg1
end

LUI.UIGrid.AddArrow = function ( f84_arg0, f84_arg1, f84_arg2 )
	assert( type( f84_arg1 ) == "userdata" )
	local f84_local0
	if not f84_arg2 then
		f84_local0 = f84_arg2
	else
		f84_local0 = f84_arg1.id
	end
	f84_arg0._arrows[f84_local0] = f84_arg1
	if f84_arg1.id == "ArrowUp" or f84_arg1.id == "ArrowDown" or f84_arg1.id == "ArrowRight" or f84_arg1.id == "ArrowLeft" then
		f84_arg1:registerEventHandler( "button_action", function ( element, event )
			if f84_arg0._arrowsEnabled then
				local f85_local0 = "up"
				if f84_arg0.id == "ArrowDown" then
					f85_local0 = "down"
				elseif f84_arg0.id == "ArrowRight" then
					f85_local0 = "right"
				elseif f84_arg0.id == "ArrowLeft" then
					f85_local0 = "left"
				end
				if f84_arg0._customArrowScrollAmount then
					f84_arg0:ScrollAmount( f85_local0, f84_arg0._customArrowScrollAmount )
				else
					f84_arg0:Scroll( f85_local0 )
				end
			end
		end )
	end
end

LUI.UIGrid.AddItemNumbers = function ( f83_arg0, f83_arg1, f83_arg2 )
	assert( type( f83_arg1 ) == "userdata" )
	assert( f83_arg1.setText )
	local f83_local0
	if not f83_arg2 then
		f83_local0 = f83_arg2
	else
		f83_local0 = f83_arg1.id
	end
	local f83_local1 = assert
	local f83_local2
	if f83_local0 then
		f83_local2 = f83_local0
	else
		f83_local2 = 0 < #f83_local0
	end
	f83_local1( f83_local2 )
	f83_arg0._itemNumbers[f83_local0] = f83_arg1
end

LUI.UIGrid.SetLastFocusIndexDataSource = function ( f82_arg0, f82_arg1 )
	assert( type( f82_arg1 ) == "table" )
	f82_arg0._lastFocusIndexDataSource = f82_arg1
	f82_arg0:SetLastFocusIndex( f82_arg0._targetPosition )
end

LUI.UIGrid.SetLastFocusIndex = function ( f81_arg0, f81_arg1 )
	if f81_arg0._lastFocusIndexDataSource then
		f81_arg0._lastFocusIndexDataSource:SetValue( f81_arg0._controllerIndex, f81_arg1 )
	end
end

LUI.UIGrid.FocusFirstItem = function ( f80_arg0 )
	f80_arg0:SetFocusedPosition( {
		x = 0,
		y = 0
	}, true )
end

LUI.UIGrid.GetFocusPositionIndex = function ( f79_arg0, f79_arg1 )
	if not f79_arg0._targetPosition then
		return nil
	elseif not f79_arg1 then
		f79_arg1 = {}
	end
	if f79_arg1.relativePosition == nil then
		f79_arg1.relativePosition = true
	end
	local f79_local0 = nil
	local f79_local1 = f79_arg0:GetFocusPosition( LUI.DIRECTION.horizontal )
	local f79_local2 = f79_arg0:GetFocusPosition( LUI.DIRECTION.vertical )
	if f79_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f79_arg1.relativePosition then
			f79_local0 = f79_local1 + f79_local2 * f79_arg0:GetMaxVisibleColumns()
		else
			f79_local0 = f79_local1 + f79_local2 * f79_arg0:GetNumColumns()
		end
	elseif f79_arg1.relativePosition then
		f79_local0 = f79_local2 + f79_local1 * f79_arg0:GetMaxVisibleRows()
	else
		f79_local0 = f79_local2 + f79_local1 * f79_arg0:GetNumRows()
	end
	local f79_local3 = f79_arg0:GetNumChildren()
	if f79_local3 then
		if f79_arg1.clampContentIndexToDatasetLength and f79_local3 <= f79_local0 then
			f79_local0 = f79_local3 - 1
		else
			f79_local0 = f79_local0 % f79_local3
		end
	end
	return f79_local0
end

LUI.UIGrid.SetSnapOnWrapEnabled = function ( f78_arg0, f78_arg1 )
	f78_arg0._snapOnWrap = f78_arg1
end

LUI.UIGrid.SetMouseWheelScrollingOffsetPx = function ( f77_arg0, f77_arg1, f77_arg2 )
	local f77_local0
	if f77_arg1 and not f77_arg1 then
		f77_local0 = f77_arg1
	else
		f77_local0 = f77_arg0._mouseWheelScrollingVerticalOffsetPx
	end
	f77_arg0._mouseWheelScrollingVerticalOffsetPx = f77_local0
	if f77_arg2 and not f77_arg2 then
		f77_local0 = f77_arg2
	else
		f77_local0 = f77_arg0._mouseWheelScrollingHorizontalOffsetPx
	end
	f77_arg0._mouseWheelScrollingHorizontalOffsetPx = f77_local0
end

LUI.UIGrid.BuildGridCountArrows = function ( f73_arg0, f73_arg1, f73_arg2 )
	f73_arg0.GridCountArrows = MenuBuilder.BuildRegisteredType( "GridCountArrows", {
		controllerIndex = f73_arg0._controllerIndex
	} )
	f73_arg0.GridCountArrows.id = "GridCountArrows"
	local f73_local0 = function ()
		local f76_local0, f76_local1, f76_local2, f76_local3 = f73_arg0:getLocalRect()
		local f76_local4 = f76_local0 + (f76_local2 - f76_local0) / 2
		local f76_local5, f76_local6, f76_local7, f76_local8 = f73_arg0.GridCountArrows:getLocalRect()
		local f76_local9 = f76_local7 - f76_local5
		local f76_local10 = f76_local8 - f76_local6
		f76_local5 = f76_local4 - f76_local9 / 2
		f76_local7 = f76_local5 + f76_local9
		f76_local6 = f76_local3 + f73_arg0
		f73_arg0.GridCountArrows:SetAnchorsAndPosition( 0, 1, 0, 1, f76_local5, f76_local7, f76_local6, f76_local6 + f76_local10 )
	end
	
	f73_arg0:SetNotifyOnLayoutInit( true )
	f73_arg0:addEventHandler( "layout_initialized", function ()
		f73_arg0()
		local f75_local0 = f73_arg0
		if not f75_local0 then
			f75_local0 = f73_arg0:getParent()
		end
		f73_arg0 = f75_local0
		f73_arg0:addElement( f73_arg0.GridCountArrows )
	end )
	f73_arg0:addEventHandler( "grid_size_updated", function ()
		f73_arg0()
	end )
	f73_arg0:AddItemNumbers( f73_arg0.GridCountArrows.ListCount )
	f73_arg0:AddArrow( f73_arg0.GridCountArrows.ArrowUp )
	f73_arg0:AddArrow( f73_arg0.GridCountArrows.ArrowDown )
	f73_arg0.GridCountArrows.ArrowUp:SetupArrow( LUI.BEARING.up )
	f73_arg0.GridCountArrows.ArrowDown:SetupArrow( LUI.BEARING.down )
end

LUI.UIGrid.GetChildPosition = function ( f72_arg0, f72_arg1 )
	for f72_local3, f72_local4 in ipairs( f72_arg0:GetBuiltChildren() ) do
		if f72_arg1:isDescendentOf( f72_local4 ) then
			return f72_local4._gridContentColumnIndex, f72_local4._gridContentRowIndex
		end
	end
	return nil, nil
end

LUI.UIDataSourceGrid.init = function ( f70_arg0, f70_arg1 )
	Engine.BHFFIBEFFH( "UIDataSourceGrid", "widget" )
	assert( f70_arg1 )
	assert( f70_arg1.controllerIndex )
	f70_arg1.numChildren = nil
	f70_arg1.numRows = nil
	f70_arg1.numColumns = nil
	f70_arg1.refreshChild = function ( f71_arg0, f71_arg1, f71_arg2 )
		f70_arg0:SetGridChildDataSource( f71_arg0, f71_arg1, f71_arg2 )
	end
	
	LUI.UIDataSourceGrid.super.init( f70_arg0, f70_arg1 )
	if f70_arg1.dataSource then
		f70_arg0:SetGridDataSource( f70_arg1.dataSource )
	else
		f70_arg0:SetNumChildren( 0 )
	end
	Engine.DCHDDCJCEG( "UIDataSourceGrid", "widget" )
end

LUI.UIDataSourceGrid.SetGridChildDataSource = function ( f69_arg0, f69_arg1, f69_arg2, f69_arg3 )
	if f69_arg0._gridDataSource then
		f69_arg1:SetDataSource( f69_arg0._gridDataSource:GetDataSourceAtIndex( f69_arg0:GetContentIndex( f69_arg2, f69_arg3 ), f69_arg0._controllerIndex ), f69_arg0._controllerIndex )
	end
end

LUI.UIDataSourceGrid.SetGridDataSource = function ( f67_arg0, f67_arg1 )
	assert( type( f67_arg1 ) == "table" )
	assert( type( f67_arg1.GetDataSourceAtIndex ) == "function" )
	if f67_arg0._gridDataSource == f67_arg1 then
		
	else
		
	end
	for f67_local3, f67_local4 in ipairs( f67_arg0:GetBuiltChildren() ) do
		f67_local4:SetDataSource( nil, f67_arg0._controllerIndex )
	end
	f67_arg0._pendingRefresh = true
	f67_arg0._gridDataSource = f67_arg1
	if f67_arg0._countSubscription then
		f67_arg0:UnsubscribeFromModel( f67_arg0._countSubscription )
	end
	f67_local0 = f67_arg0._gridDataSource:GetCountModel( f67_arg0._controllerIndex )
	if f67_local0 then
		f67_arg0._countSubscription = f67_arg0:SubscribeToModel( f67_local0, function ( f68_arg0 )
			local f68_local0 = DataModel.JJEHAEBDF( f68_arg0 )
			if f68_local0 then
				f67_arg0:SetNumChildren( f68_local0 )
				f67_arg0:RefreshContent()
			end
		end )
	else
		f67_local1 = f67_arg0._gridDataSource:GetCountValue( f67_arg0._controllerIndex )
		assert( f67_local1 )
		f67_arg0:SetNumChildren( f67_local1 )
		f67_arg0:RefreshContent()
	end
	for f67_local4, f67_local5 in ipairs( f67_arg0._scrollbars ) do
		f67_local5:SetLinkedGridDataSource( f67_arg1 )
	end
	if f67_arg0._pendingRefresh then
		f67_arg0._pendingRefresh = nil
		f67_arg0:RefreshContent()
	end
end

LUI.UIDataSourceGrid.SetGridDataSourceThroughElement = function ( f66_arg0, f66_arg1, f66_arg2 )
	local f66_local0 = DataLink.new( {
		target = f66_arg0,
		source = f66_arg1,
		relativeDataSourcePath = f66_arg2,
		type = DataLink.TYPES.gridDataSource
	} )
	f66_local0:Link()
	f66_local0:Refresh()
	return f66_local0
end

LUI.UIDataSourceGrid.GetGridDataSource = function ( f65_arg0 )
	return f65_arg0._gridDataSource
end

LUI.UIDataSourceGrid.GetDefaultFocus = function ( f64_arg0 )
	if not f64_arg0._gridDataSource then
		return nil
	else
		local f64_local0 = f64_arg0._gridDataSource:GetDefaultFocusIndex( f64_arg0._controllerIndex )
		if f64_local0 then
			if type( f64_local0 ) == "table" then
				return f64_local0
			else
				return f64_arg0:GetPositionForIndex( f64_local0, {
					relativePosition = false
				} )
			end
		else
			return nil
		end
	end
end

LUI.UIGrid.addElement = function ( f63_arg0, f63_arg1 )
	assert( false, "Forbidden" )
end

LUI.UIGrid.closeChildren = function ( f62_arg0 )
	for f62_local3, f62_local4 in ipairs( f62_arg0:GetBuiltChildren() ) do
		f62_local4:closeTree()
	end
end

LUI.UIGrid.LoseFocus = function ( f61_arg0, f61_arg1 )
	if f61_arg0:ProcessEventToChildInFocus( f61_arg1 ) then
		f61_arg0._childInFocus = nil
	end
	f61_arg0._targetPosition = nil
	f61_arg0._shouldFocus = nil
end

LUI.UIGrid.ProcessEventToChildInFocus = function ( f60_arg0, f60_arg1 )
	if f60_arg0._childInFocus then
		return f60_arg0._childInFocus:processEvent( f60_arg1 )
	else
		return false
	end
end

LUI.UIGrid.GetVisibleChildInFocus = function ( f59_arg0 )
	assert( f59_arg0._childInFocus )
	return f59_arg0._childInFocus
end

LUI.UIGrid.GainFocus = function ( f58_arg0, f58_arg1 )
	local f58_local0 = assert
	local f58_local1 = f58_arg0:GetNumColumns()
	if f58_local1 then
		f58_local1 = f58_arg0:GetNumRows()
	end
	f58_local0( f58_local1, "Either grid columns or rows are not set. Try calling grid:SetNumColumns() or grid:SetNumRows()" )
	if f58_arg0._navigateLikeUIList and f58_arg1.direction then
		if f58_arg1.direction == "down" then
			f58_arg0:SetFocusedPosition( {
				x = 0,
				y = 0
			}, true, nil, f58_arg1.isWrap )
		elseif f58_arg1.direction == "up" then
			f58_arg0:SetFocusedPosition( {
				x = 0,
				y = f58_arg0:GetNumRows()
			}, true, nil, f58_arg1.isWrap )
		elseif f58_arg1.direction == "left" then
			f58_arg0:SetFocusedPosition( {
				x = 0,
				y = 0
			}, true, nil, f58_arg1.isWrap )
		elseif f58_arg1.direction == "right" then
			f58_arg0:SetFocusedPosition( {
				y = 0,
				x = f58_arg0:GetNumColumns()
			}, true, nil, f58_arg1.isWrap )
		end
	else
		f58_local0 = f58_arg0:GetDefaultFocus()
		if f58_local0 then
			assert( f58_arg0:IsPositionFocusable( f58_local0 ), "defaultFocus is invalid, value is { x = " .. tostring( f58_local0.x ) .. ", y = " .. tostring( f58_local0.y ) .. " }" )
			local f58_local2 = true
			if f58_arg1 then
				f58_local2 = f58_arg1.shouldPlayButtonSound
			end
			f58_arg0:SetFocusedPosition( f58_local0, true, nil, nil, f58_local2 )
		else
			local f58_local2, f58_local1 = f58_arg0:restoreState()
			if f58_local1 == 0 then
				local f58_local3 = f58_arg0._targetPosition
				if not f58_local3 then
					f58_local3 = f58_arg0:GetFirstFocusablePosition()
				end
				if f58_local3 then
					f58_arg0:SetFocusedPosition( f58_local3, true, nil, nil, f58_arg1.shouldPlayButtonSound )
				end
			end
		end
	end
	return f58_arg0._targetPosition ~= nil
end

LUI.UIGrid.restoreFocus = function ( f57_arg0, f57_arg1 )
	if f57_arg0.id == f57_arg1.id and f57_arg0:GetNumColumns() ~= 0 and f57_arg0:GetNumRows() ~= 0 then
		assert( f57_arg1.data )
		f57_arg0:SetTargetRow( f57_arg1.data.targetRow, true, true )
		f57_arg0:SetTargetColumn( f57_arg1.data.targetColumn, true, true )
		f57_arg0:SetFocusedPosition( f57_arg1.data.targetPosition, true )
		return true
	else
		return f57_arg0:dispatchEventToChildren( f57_arg1 )
	end
end

LUI.UIGrid.getAllFocusedChildren = function ( f56_arg0, f56_arg1 )
	if not f56_arg1 then
		f56_arg1 = {}
	end
	if f56_arg0._targetPosition and f56_arg0._shouldFocus then
		f56_arg0.saveData = {
			targetPosition = f56_arg0._targetPosition,
			targetRow = f56_arg0:GetTargetRow(),
			targetColumn = f56_arg0:GetTargetColumn()
		}
		table.insert( f56_arg1, f56_arg0 )
	end
	return f56_arg1
end

LUI.UIGrid.GetHorizontalAlignment = function ( f55_arg0 )
	return f55_arg0._horizontalAlignment
end

LUI.UIGrid.GetVerticalAlignment = function ( f54_arg0 )
	return f54_arg0._verticalAlignment
end

LUI.UIGrid.GetFocusableIndicesFromPosition = function ( f53_arg0, f53_arg1 )
	local f53_local0 = f53_arg0:GetNumColumns()
	local f53_local1 = f53_arg0:GetNumRows()
	if f53_local1 == 0 or f53_local0 == 0 then
		return nil
	end
	local f53_local2 = f53_arg1.x
	local f53_local3 = f53_arg1.y
	local f53_local4 = {}
	local f53_local5 = {
		x = f53_local2 - 1,
		y = f53_local3
	}
	local f53_local6 = {
		x = f53_local2 + 1,
		y = f53_local3
	}
	local f53_local7 = {
		x = f53_local2,
		y = f53_local3 - 1
	}
	local f53_local8 = {
		x = f53_local2,
		y = f53_local3 + 1
	}
	if f53_arg0._wrapX then
		if f53_local5.x < 0 then
			f53_local5.x = f53_local0 - 1
		end
		if f53_local0 - 1 < f53_local6.x then
			f53_local6.x = 0
		end
	end
	if f53_arg0._wrapY then
		if f53_local7.y < 0 then
			f53_local7.y = f53_local1 - 1
		end
		if f53_local1 - 1 < f53_local8.y then
			f53_local8.y = 0
		end
	end
	table.insert( f53_local4, {
		x = f53_local2,
		y = f53_local3
	} )
	table.insert( f53_local4, f53_local5 )
	table.insert( f53_local4, f53_local6 )
	table.insert( f53_local4, f53_local7 )
	table.insert( f53_local4, f53_local8 )
	if Engine.CGABICJHAI() then
		table.insert( f53_local4, {
			x = f53_local2 + 1,
			y = f53_local3 - 1
		} )
		table.insert( f53_local4, {
			x = f53_local2 - 1,
			y = f53_local3 + 1
		} )
		table.insert( f53_local4, {
			x = f53_local2 - 1,
			y = f53_local3 - 1
		} )
		table.insert( f53_local4, {
			x = f53_local2 + 1,
			y = f53_local3 + 1
		} )
	end
	local f53_local9 = {}
	for f53_local10 = 1, #f53_local4, 1 do
		local f53_local13 = {
			x = f53_local4[f53_local10].x,
			y = f53_local4[f53_local10].y
		}
		if f53_arg0:IsPositionInDataSet( f53_local13.x, f53_local13.y ) then
			local f53_local14 = f53_arg0:GetContentIndex( f53_local13.x, f53_local13.y, {
				relativePosition = false
			} ) + 1
			if not LUI.IsItemInArray( f53_local9, f53_local14 ) then
				table.insert( f53_local9, f53_local14 )
			end
		end
	end
	return f53_local9
end

LUI.UIGrid.IsPositionFocusable = function ( f52_arg0, f52_arg1 )
	if not f52_arg0:IsPositionInDataSet( f52_arg1.x, f52_arg1.y ) then
		return false
	elseif f52_arg0._isPositionFocusable then
		return f52_arg0._isPositionFocusable( f52_arg1.x, f52_arg1.y )
	end
	local f52_local0 = nil
	if f52_arg0._buildChild then
		local f52_local1 = f52_arg0:GetBuiltChildren()
		f52_local0 = f52_local1[1]
	else
		f52_local0 = f52_arg0:GetElementAtPosition( f52_arg1.x, f52_arg1.y )
	end
	assert( f52_local0 )
	return f52_local0:TreeCanFocus( FocusType.ListSelection )
end

LUI.UIGrid.GetFirstFocusablePosition = function ( f51_arg0 )
	local f51_local0 = {
		x = 0,
		y = 0
	}
	if f51_arg0:IsPositionFocusable( f51_local0 ) then
		return f51_local0
	elseif f51_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		f51_local0 = {
			x = 1,
			y = 0
		}
	else
		f51_local0 = {
			x = 0,
			y = 1
		}
	end
	if f51_arg0:IsPositionFocusable( f51_local0 ) then
		return f51_local0
	elseif f51_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		f51_local0 = {
			x = 0,
			y = 1
		}
	else
		f51_local0 = {
			x = 1,
			y = 0
		}
	end
	if f51_arg0:IsPositionFocusable( f51_local0 ) then
		return f51_local0
	end
	f51_local0 = {
		x = 0,
		y = 0
	}
	local f51_local1 = f51_arg0:GetNumColumns()
	local f51_local2 = f51_arg0:GetNumRows()
	if f51_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f51_local0.y < f51_local2 then
			
		end
	elseif f51_local0.x < f51_local1 then
		
	end
	return nil
end

LUI.UIGrid.GetNextFocusablePosition = function ( f50_arg0, f50_arg1, f50_arg2 )
	assert( math.abs( f50_arg2 ) == 1 )
	local f50_local0 = f50_arg0:GetNumColumns()
	local f50_local1 = f50_arg0:GetNumRows()
	if f50_local1 == 0 or f50_local0 == 0 then
		return nil
	end
	local f50_local2, f50_local3, f50_local4, f50_local5, f50_local6 = nil
	if f50_arg1 == LUI.DIRECTION.horizontal then
		f50_local2 = "x"
		f50_local3 = "y"
		f50_local4 = f50_arg0._wrapX
		f50_local5 = f50_local0
		f50_local6 = f50_local1
	else
		f50_local2 = "y"
		f50_local3 = "x"
		f50_local4 = f50_arg0._wrapY
		f50_local5 = f50_local1
		f50_local6 = f50_local0
	end
	local f50_local7 = false
	local f50_local8 = LUI.ShallowCopy( f50_arg0._targetPosition )
	f50_local8.x = math.floor( f50_local8.x )
	f50_local8.y = math.floor( f50_local8.y )
	return f50_local8, f50_local7
end

LUI.UIGrid.PositionChanged = function ( f49_arg0 )
	if f49_arg0._onNewTargetFocusPosition then
		f49_arg0._onNewTargetFocusPosition()
	end
end

LUI.UIGrid.SetNewTargetOnFocusHandler = function ( f47_arg0, f47_arg1, f47_arg2 )
	assert( type( f47_arg2 ) == "function", "A valid function must be defined here." )
	local f47_local0 = f47_arg0
	f47_arg0._onNewTargetFocusPosition = function ()
		f47_arg0( f47_arg0, f47_arg0._targetPosition )
	end
	
end

LUI.UIGrid.SetGridItemClickHandler = function ( f44_arg0, f44_arg1 )
	assert( f44_arg1.scope, "The scope of which contains the grid must be specified for processing the event." )
	local f44_local0 = f44_arg0:GetBuiltChildren()
	assert( f44_local0, "a grid must have built children before assigning it a click event" )
	for f44_local5, f44_local6 in ipairs( f44_local0 ) do
		local f44_local4 = f44_local6
		if not f44_local6.inputEnabled and f44_local6.Button then
			f44_local4 = f44_local6.Button
		end
		f44_local4:registerEventHandler( "button_action", function ( element, event )
			f44_arg0:processEvent( {
				name = "grid_item_clicked",
				element = element,
				controller = event.controller
			} )
		end )
		if f44_arg1.processDisabledClick then
			f44_local4:registerEventHandler( "button_action_disable", function ( element, event )
				f44_arg0:processEvent( {
					name = "grid_item_clicked",
					element = element,
					controller = event.controller
				} )
			end )
		end
	end
end

LUI.UIGrid.SetFocusedPosition = function ( f43_arg0, f43_arg1, f43_arg2, f43_arg3, f43_arg4, f43_arg5 )
	f43_arg0:SetPositionInternal( f43_arg1, f43_arg2, true, f43_arg3, f43_arg4, f43_arg5 )
	f43_arg0:FocusChanged()
	f43_arg0:PositionChanged()
end

LUI.UIGrid.SetPosition = function ( f42_arg0, f42_arg1, f42_arg2, f42_arg3 )
	f42_arg0:SetPositionInternal( f42_arg1, f42_arg2, false, f42_arg3 )
	f42_arg0:PositionChanged()
end

LUI.UIGrid.SetPositionInternal = function ( f41_arg0, f41_arg1, f41_arg2, f41_arg3, f41_arg4, f41_arg5, f41_arg6 )
	f41_arg4 = f41_arg4 ~= false
	f41_arg1 = LUI.ShallowCopy( f41_arg1 )
	assert( f41_arg1.x and f41_arg1.y )
	local f41_local0 = f41_arg0._targetPosition
	if f41_local0 then
		f41_local0 = LUI.ShallowCopy( f41_arg0._targetPosition )
	end
	local f41_local1 = f41_arg0:GetNumColumns()
	local f41_local2 = f41_arg0:GetNumRows()
	if f41_local1 == 0 or f41_local2 == 0 then
		f41_arg0:RemoveFocusFromChild( f41_arg2 )
		f41_arg0._shouldFocus = false
		f41_arg0._targetPosition = nil
		f41_arg0:SetLastFocusIndex( nil )
		f41_arg0:UpdateNumbersArrowsAndScrolling()
		return 
	end
	f41_arg0._shouldFocus = f41_arg3
	if f41_local1 then
		local f41_local3 = LUI.clamp
		local f41_local4 = f41_arg1.x
		local f41_local5 = 0
		local f41_local6
		if f41_arg3 and not f41_arg1.skipTargetColumnAdjustment then
			f41_local6 = f41_local1 - 1
			if not f41_local6 then
			
			else
				f41_arg1.x = f41_local3( f41_local4, f41_local5, f41_local6 )
			end
		end
		f41_local6 = f41_local1
	end
	if f41_local2 then
		local f41_local3 = LUI.clamp
		local f41_local4 = f41_arg1.y
		local f41_local5 = 0
		local f41_local6
		if f41_arg3 and not f41_arg1.skipTargetRowAdjustment then
			f41_local6 = f41_local2 - 1
			if not f41_local6 then
			
			else
				f41_arg1.y = f41_local3( f41_local4, f41_local5, f41_local6 )
			end
		end
		f41_local6 = f41_local2
	end
	if f41_arg3 and not f41_arg0:IsPositionInDataSet( f41_arg1.x, f41_arg1.y ) then
		local f41_local3, f41_local7 = f41_arg0:ColumnRowToPrimarySecondary( math.floor( f41_arg1.x ), math.floor( f41_arg1.y ) )
		local f41_local4, f41_local5 = f41_arg0:PrimarySecondaryToColumnRow( f41_local3, f41_local7 )
		if 0 < f41_local7 and not f41_arg0:IsPositionInDataSet( f41_local4, f41_local5 ) then
			
		else
			
		end
		if 0 < f41_local3 and not f41_arg0:IsPositionInDataSet( f41_local4, f41_local5 ) then
			
		else
			
		end
		f41_arg1.x = f41_local4
		f41_arg1.y = f41_local5
	end
	if f41_local0 and f41_local0.x == f41_arg1.x and f41_local0.y == f41_arg1.y then
		if not f41_arg3 then
			f41_arg0:RemoveFocusFromChild( f41_arg2 )
			return 
		end
		local f41_local3 = f41_arg0:GetElementAtPosition( f41_local0.x, f41_local0.y )
		if f41_local3 and (f41_local3:isInFocus() or 0 < #f41_local3:getAllFocusedChildren()) then
			return 
		end
	end
	local f41_local3 = f41_local0 == nil
	f41_arg0:RemoveFocusFromChild( f41_arg2 )
	if not f41_arg0._targetPosition then
		f41_arg0._targetPosition = {}
	end
	f41_arg0._targetPosition.x = f41_arg1.x
	f41_arg0._targetPosition.y = f41_arg1.y
	local f41_local7 = not f41_arg1.skipTargetRowAdjustment
	local f41_local4 = f41_arg1.y
	local f41_local5, f41_local6 = f41_arg0:GetRowBoundaries()
	local f41_local8 = LUI.clamp( f41_arg0._scrollingThresholdY, 0, f41_arg0:GetMaxVisibleRows() - 1 )
	local f41_local9 = f41_arg0._scrollingThresholdPixelY
	local f41_local10 = f41_local5
	local f41_local11 = f41_local6
	local f41_local12
	if not f41_local3 then
		f41_local12 = f41_local3
	else
		f41_local12 = f41_arg1.y < f41_local0.y
	end
	local f41_local13
	if not f41_local3 then
		f41_local13 = f41_local3
	else
		f41_local13 = f41_local0.y < f41_arg1.y
	end
	if not f41_arg4 then
		f41_local8 = 0
		f41_local9 = 0
	end
	if f41_arg3 and f41_local7 then
		if f41_local13 then
			f41_local4 = math.floor( f41_local4 + 1 )
			if f41_local2 and f41_local4 < f41_local2 - f41_local8 then
				local f41_local14 = f41_arg0:ConvertRowPixelToLine( f41_local4, -f41_arg0:GetRowSpacing() )
				if 0 < f41_local14 then
					f41_local4 = f41_local14
				end
			end
		elseif f41_local12 then
			f41_local4 = math.floor( f41_local4 )
		end
	end
	if 0 < f41_local9 then
		if f41_local12 then
			local f41_local14 = f41_arg0:ConvertRowPixelToLine( math.max( 0, f41_local4 ), -f41_local9 )
			if f41_local14 < f41_local5 then
				f41_local10 = f41_local14
				f41_local11 = f41_arg0:ComputeRowBottomFromTop( f41_local10 )
			end
		elseif f41_local13 then
			local f41_local14 = f41_arg0:ConvertRowPixelToLine( math.min( f41_local2, f41_local4 ), f41_local9 )
			if f41_local6 < f41_local14 then
				f41_local11 = f41_local14
				f41_local10 = f41_arg0:ComputeRowTopFromBottom( f41_local11 )
			end
		end
	elseif f41_local12 and f41_local4 < f41_local5 + f41_local8 then
		f41_local10 = f41_local4 - f41_local8
		f41_local11 = f41_arg0:ComputeRowBottomFromTop( f41_local10 )
	elseif f41_local13 and f41_local6 - f41_local8 < f41_local4 then
		f41_local11 = f41_local4 + f41_local8
		f41_local10 = f41_arg0:ComputeRowTopFromBottom( f41_local11 )
	end
	if f41_local10 ~= f41_local5 or f41_local11 ~= f41_local6 then
		if f41_arg0._verticalAlignment == LUI.Alignment.Middle then
			local f41_local14 = assert
			local f41_local15
			if not f41_local12 then
				f41_local15 = f41_local12
			else
				f41_local15 = f41_local13
			end
			f41_local14( f41_local15 )
			if f41_local12 then
				f41_local4 = f41_local4 + math.floor( f41_arg0:GetMaxVisibleRows() / 2 ) - f41_local8
			elseif f41_local13 then
				f41_local4 = f41_local4 - math.floor( f41_arg0:GetMaxVisibleRows() / 2 ) + f41_local8
			end
		elseif f41_arg0._verticalAlignment == LUI.Alignment.Bottom and not f41_local11 then
			f41_local4 = f41_local11
		else
			f41_local4 = f41_local10
		end
		f41_arg0:SetTargetRow( f41_local4, true, f41_arg2 )
	end
	local f41_local14 = not f41_arg1.skipTargetColumnAdjustment
	local f41_local16 = f41_arg1.x
	local f41_local15, f41_local17 = f41_arg0:GetColumnBoundaries()
	local f41_local18 = LUI.clamp( f41_arg0._scrollingThresholdX, 0, f41_arg0:GetMaxVisibleColumns() - 1 )
	local f41_local19 = f41_arg0._scrollingThresholdPixelX
	local f41_local20 = f41_local15
	local f41_local21 = f41_local17
	local f41_local22
	if not f41_local3 then
		f41_local22 = f41_local3
	else
		f41_local22 = f41_arg1.x < f41_local0.x
	end
	local f41_local23
	if not f41_local3 then
		f41_local23 = f41_local3
	else
		f41_local23 = f41_local0.x < f41_arg1.x
	end
	if not f41_arg4 then
		f41_local18 = 0
	end
	if f41_arg3 and f41_local14 then
		if f41_local23 then
			f41_local16 = math.floor( f41_local16 + 1 )
			if f41_local1 and f41_local16 < f41_local1 - f41_local18 then
				local f41_local24 = f41_arg0:ConvertColumnPixelToLine( f41_local16, -f41_arg0:GetColumnSpacing() )
				if 0 < f41_local24 then
					f41_local16 = f41_local24
				end
			end
		elseif f41_local22 then
			f41_local16 = math.floor( f41_local16 )
		end
	end
	if 0 < f41_local19 then
		if f41_local22 then
			local f41_local24 = f41_arg0:ConvertColumnPixelToLine( math.max( 0, f41_local16 ), -f41_local19 )
			if f41_local24 < f41_local15 then
				f41_local20 = f41_local24
				f41_local21 = f41_arg0:ComputeColumnRightFromLeft( f41_local20 )
			end
		elseif f41_local23 then
			local f41_local24 = f41_arg0:ConvertColumnPixelToLine( math.min( f41_local1, f41_local16 ), f41_local19 )
			if f41_local17 < f41_local24 then
				f41_local21 = f41_local24
				f41_local20 = f41_arg0:ComputeColumnLeftFromRight( f41_local21 )
			end
		end
	elseif f41_local22 and f41_local16 < f41_local15 + f41_local18 then
		f41_local20 = f41_local16 - f41_local18
		f41_local21 = f41_arg0:ComputeColumnRightFromLeft( f41_local20 )
	elseif f41_local23 and f41_local17 - f41_local18 < f41_local16 then
		f41_local21 = f41_local16 + f41_local18
		f41_local20 = f41_arg0:ComputeColumnLeftFromRight( f41_local21 )
	end
	if f41_local20 ~= f41_local15 or f41_local21 ~= f41_local17 then
		if f41_arg0._horizontalAlignment == LUI.Alignment.Center then
			local f41_local24 = assert
			local f41_local25
			if not f41_local22 then
				f41_local25 = f41_local22
			else
				f41_local25 = f41_local23
			end
			f41_local24( f41_local25 )
			if f41_local22 then
				f41_local16 = f41_local16 + math.floor( f41_arg0:GetMaxVisibleColumns() / 2 ) - f41_local18
			elseif f41_local23 then
				f41_local16 = f41_local16 - math.floor( f41_arg0:GetMaxVisibleColumns() / 2 ) + f41_local18
			end
		elseif f41_arg0._horizontalAlignment == LUI.Alignment.Right and not f41_local21 then
			f41_local16 = f41_local21
		else
			f41_local16 = f41_local20
		end
		f41_arg0:SetTargetColumn( f41_local16, true, f41_arg2 )
	end
	if f41_arg0._pendingRefresh then
		f41_arg0._pendingRefresh = nil
		f41_arg0:RefreshContent()
	end
	if f41_arg3 then
		local f41_local24 = f41_arg0:GetElementAtPosition( f41_arg0._targetPosition.x, f41_arg0._targetPosition.y )
		if f41_local24 then
			local f41_local26 = nil
			if f41_local13 then
				f41_local26 = "down"
			elseif f41_local12 then
				f41_local26 = "up"
			elseif f41_local23 then
				f41_local26 = "right"
			elseif f41_local22 then
				f41_local26 = "left"
			end
			if f41_arg0._isWrapping then
				f41_arg0._isWrapping = false
			end
			f41_arg0:GiveFocusToChild( f41_local24, f41_local26, f41_arg5, f41_arg6 )
		else
			f41_arg0:NotifyWhenPositionIsVisible( f41_arg0._targetPosition.x, f41_arg0._targetPosition.y )
		end
	end
	f41_arg0:UpdateScrolling()
	f41_arg0:UpdateNumbersAndArrows()
end

LUI.UIGrid.RemoveFocusFromChild = function ( f40_arg0, f40_arg1 )
	if f40_arg0._childInFocus then
		f40_arg0._childInFocus:processEvent( {
			name = "lose_focus",
			snap = f40_arg1
		} )
		f40_arg0._childInFocus = nil
	end
end

LUI.UIGrid.GiveFocusToChild = function ( f39_arg0, f39_arg1, f39_arg2, f39_arg3, f39_arg4 )
	f39_arg1:processEvent( {
		name = "gain_focus",
		direction = f39_arg2,
		isWrap = f39_arg3,
		shouldPlayButtonSound = f39_arg4
	} )
	f39_arg0._childInFocus = f39_arg1
end

LUI.UIGrid.AdjustFocusedTargetPosition = function ( f38_arg0, f38_arg1, f38_arg2 )
	local f38_local0 = f38_arg0:GetElementAtPosition( f38_arg1.x, f38_arg1.y )
	if f38_local0 and f38_local0.GetFocusTargetPositionOffset then
		local f38_local1 = f38_local0:GetFocusTargetPositionOffset( f38_arg1, f38_arg2 )
		if f38_local1 then
			f38_arg1.x = f38_arg1.x + f38_local1.x
			f38_arg1.y = f38_arg1.y + f38_local1.y
			f38_arg1.skipTargetColumnAdjustment = f38_local1.x ~= 0
			f38_arg1.skipTargetRowAdjustment = f38_local1.y ~= 0
		end
	end
end

LUI.UIGrid.FocusNextElement = function ( f37_arg0, f37_arg1, f37_arg2, f37_arg3, f37_arg4, f37_arg5 )
	if not f37_arg0._directionalInputEnabled then
		return false
	end
	local f37_local0, f37_local1, f37_local2, f37_local3 = nil
	if f37_arg2 == "up" then
		f37_local2 = LUI.DIRECTION.vertical
		f37_local3 = -1
	elseif f37_arg2 == "down" then
		f37_local2 = LUI.DIRECTION.vertical
		f37_local3 = 1
	elseif f37_arg2 == "left" then
		f37_local2 = LUI.DIRECTION.horizontal
		f37_local3 = -1
	elseif f37_arg2 == "right" then
		f37_local2 = LUI.DIRECTION.horizontal
		f37_local3 = 1
	end
	if f37_local2 and f37_local3 and f37_arg0._targetPosition then
		f37_local0, f37_local1 = f37_arg0:GetNextFocusablePosition( f37_local2, f37_local3 )
	end
	if f37_local0 then
		f37_arg0:AdjustFocusedTargetPosition( f37_local0, f37_arg2, f37_local1 )
		local f37_local4 = f37_arg0._alwaysSnap
		if not f37_local4 then
			if f37_local1 then
				f37_local4 = f37_local1
			else
				f37_local4 = f37_arg0._snapOnWrap
			end
		end
		if f37_local1 then
			f37_arg0._isWrapping = true
			f37_arg0._pendingRefresh = true
		end
		f37_arg0:SetFocusedPosition( f37_local0, f37_local4 == true, nil, f37_local1 )
		f37_arg0:FocusMoved( f37_arg2 )
		f37_arg0:saveState()
		return true
	end
	local f37_local4 = f37_arg0:getParent()
	if f37_local4 and f37_local4:FocusNextElement( f37_arg0, f37_arg2, f37_arg3, f37_arg4, f37_arg5 ) then
		return true
	end
	return false
end

LUI.UIGrid.ScrollAmount = function ( f36_arg0, f36_arg1, f36_arg2 )
	if f36_arg1 == "up" or f36_arg1 == "down" then
		local f36_local0, f36_local1 = f36_arg0:GetRowBoundaries()
		local f36_local2 = f36_arg0:GetNumRows()
		local f36_local3 = f36_local0
		if f36_arg1 == "up" and (not f36_local2 or 0 < f36_local0) then
			f36_local3 = f36_local3 - f36_arg2
		elseif f36_arg1 == "down" and (not f36_local2 or f36_local1 < f36_local2) then
			f36_local3 = f36_local3 + f36_local1 - f36_local0 + f36_arg2
		else
			return false
		end
		if f36_local3 ~= f36_local0 then
			f36_arg0:SetPositionInternal( {
				x = f36_arg0._targetPosition and f36_arg0._targetPosition.x or 0,
				y = f36_local3
			}, true, false, false )
		end
		return true
	elseif f36_arg1 == "left" or f36_arg1 == "right" then
		local f36_local0, f36_local1 = f36_arg0:GetColumnBoundaries()
		local f36_local2 = f36_arg0:GetNumColumns()
		local f36_local3 = f36_local0
		if f36_arg1 == "left" and (not f36_local2 or 0 < f36_local0) then
			f36_local3 = f36_local3 - f36_arg2
		elseif f36_arg1 == "right" and (not f36_local2 or f36_local1 < f36_local2) then
			f36_local3 = f36_local3 + f36_local1 - f36_local0 + f36_arg2
		else
			return false
		end
		if f36_local3 ~= f36_local0 then
			f36_arg0:SetPositionInternal( {
				x = f36_local3,
				y = f36_arg0._targetPosition and f36_arg0._targetPosition.y or 0
			}, true, false, false )
		end
		return true
	else
		return false
	end
end

LUI.UIGrid.Scroll = function ( f35_arg0, f35_arg1 )
	local f35_local0 = 0
	if f35_arg1 == "up" or f35_arg1 == "down" then
		local f35_local1, f35_local2 = f35_arg0:GetRowBoundaries()
		if not f35_local1 or not f35_local2 then
			return 
		elseif f35_arg1 == "up" then
			f35_local0 = f35_local1 - math.floor( f35_local1 )
		else
			f35_local0 = math.ceil( f35_local2 ) - f35_local2
		end
	else
		local f35_local1, f35_local2 = f35_arg0:GetColumnBoundaries()
		if not f35_local1 or not f35_local2 then
			return 
		elseif f35_arg1 == "left" then
			f35_local0 = f35_local1 - math.floor( f35_local1 )
		else
			f35_local0 = math.ceil( f35_local2 ) - f35_local2
		end
	end
	if f35_local0 < 0.01 then
		local f35_local1 = 1 + f35_local0
		if not f35_local1 then
			f35_local0 = f35_local1
		else
			
		end
	end
	LUI.UIGrid.ScrollAmount( f35_arg0, f35_arg1, f35_local0 )
end

LUI.UIGrid.SetDirectionalInputEnabled = function ( f34_arg0, f34_arg1 )
	f34_arg0._directionalInputEnabled = f34_arg1
end

LUI.UIGrid.HandleMouseScroll = function ( f33_arg0, f33_arg1 )
	local f33_local0 = nil
	if f33_arg1 == "up" or f33_arg1 == "down" then
		local f33_local1, f33_local2 = f33_arg0:GetRowBoundaries()
		if f33_arg1 == "up" then
			f33_local0 = f33_local1 - f33_arg0:ConvertRowPixelToLine( f33_local1, -f33_arg0._mouseWheelScrollingVerticalOffsetPx )
		else
			f33_local0 = f33_arg0:ConvertRowPixelToLine( f33_local2, f33_arg0._mouseWheelScrollingVerticalOffsetPx ) - f33_local2
		end
	else
		local f33_local1, f33_local2 = f33_arg0:GetColumnBoundaries()
		if f33_arg1 == "left" then
			f33_local0 = f33_local1 - f33_arg0:ConvertColumnPixelToLine( f33_local1, -f33_arg0._mouseWheelScrollingHorizontalOffsetPx )
		else
			f33_local0 = f33_arg0:ConvertColumnPixelToLine( f33_local2, f33_arg0._mouseWheelScrollingHorizontalOffsetPx ) - f33_local2
		end
	end
	f33_arg0:ScrollAmount( f33_arg1, math.abs( f33_local0 ) )
end

LUI.UIGrid.GamepadButton = function ( f32_arg0, f32_arg1 )
	if f32_arg1.down then
		local f32_local0
		if f32_arg1.button ~= "up" and f32_arg1.button ~= "down" and f32_arg1.button ~= "left" and f32_arg1.button ~= "right" then
			f32_local0 = false
		else
			f32_local0 = true
		end
		if f32_local0 then
			if not f32_arg0._directionalInputEnabled then
				return false
			elseif f32_arg0._isWrapping then
				return true
			end
		end
		if 0 < #f32_arg0._permittedQualifiers and f32_arg1.qualifier and f32_local0 and not LUI.IsItemInArray( f32_arg0._permittedQualifiers, f32_arg1.qualifier ) then
			return false
		elseif f32_arg1.qualifier == "mousewheel" and not f32_arg0._disableMouseWheel then
			local f32_local1 = f32_arg1.button
			local f32_local2 = false
			for f32_local6, f32_local7 in ipairs( f32_arg0._scrollbars ) do
				if f32_local7.isVisible and f32_local7:GetDirection() == LUI.DIRECTION.vertical then
					f32_local2 = false
					break
				elseif f32_local7.isVisible and f32_local7:GetDirection() ~= LUI.DIRECTION.vertical then
					f32_local2 = true
				end
			end
			if f32_arg0:GetNumRows() == 0 or f32_arg0:GetNumColumns() == 0 then
				return false
			elseif not (f32_arg0:GetNumRows() ~= 1 or 1 >= f32_arg0:GetNumColumns()) or f32_local2 then
				if f32_local1 == "up" then
					f32_local1 = "left"
				elseif f32_local1 == "down" then
					f32_local1 = "right"
				end
			end
			f32_local3, f32_local4 = ProjectRootCoordinate( f32_arg1.rootName, f32_arg1.x, f32_arg1.y )
			if f32_local3 == nil or f32_local4 == nil then
				return 
			end
			f32_local5 = f32_arg0:IsPositionInside( f32_local3, f32_local4 )
			if not f32_local5 then
				f32_local5 = f32_arg0._alwaysTrapMouseWheel
			end
			if not f32_local5 then
				for f32_local10, f32_local11 in ipairs( f32_arg0._scrollbars ) do
					if f32_local11.GetWidget then
						local f32_local9 = f32_local11:GetWidget()
						if not f32_local9._blockMouseMove then
							f32_local5 = f32_local9:IsPositionInside( f32_local3, f32_local4 )
						else
							f32_local5 = false
						end
					end
					if f32_local5 then
						break
					end
				end
			end
			if f32_local5 or f32_arg1.forceScrollMove then
				f32_arg0:HandleMouseScroll( f32_local1 )
			end
		end
		if not LUI.IsLastInputMouseNavigation( f32_arg1.controller ) then
			for f32_local4, f32_local5 in ipairs( f32_arg0._scrollbars ) do
				local f32_local6 = nil
				if f32_local5.id then
					f32_local6 = f32_local5
				elseif f32_local5.GetWidget then
					f32_local6 = f32_local5:GetWidget()
				end
				if f32_local6 then
					f32_local6:processEvent( {
						name = "lose_focus"
					} )
				end
			end
			for f32_local4, f32_local5 in pairs( f32_arg0._arrows ) do
				f32_local5:processEvent( {
					name = "lose_focus"
				} )
			end
		end
		if f32_arg0._targetPosition then
			if not f32_arg0._childInFocus and f32_arg0._shouldFocus then
				return f32_arg0:FocusNextElement( f32_arg0, f32_arg1.button, FocusType.Gamepad, f32_arg1.qualifier, f32_arg1.controller )
			else
				return f32_arg0:dispatchEventToChildren( f32_arg1 )
			end
		end
	end
	return f32_arg0:dispatchEventToChildren( f32_arg1 )
end

LUI.UIGrid.SetDefaultFocus = function ( f31_arg0, f31_arg1 )
	f31_arg0._defaultFocus = f31_arg1
end

LUI.UIGrid.GetDefaultFocus = function ( f30_arg0 )
	if type( f30_arg0._defaultFocus ) == "function" then
		return f30_arg0._defaultFocus()
	else
		return f30_arg0._defaultFocus
	end
end

LUI.UIGrid.FocusMoved = function ( f29_arg0, f29_arg1 )
	local f29_local0 = "grid_focus_" .. f29_arg1 .. "_moved"
	for f29_local4, f29_local5 in pairs( f29_arg0._arrows ) do
		f29_local5:processEvent( {
			name = f29_local0
		} )
	end
end

LUI.UIGrid.SetCountFunction = function ( f28_arg0, f28_arg1 )
	if f28_arg1 then
		f28_arg0._countFunction = f28_arg1
	end
end

LUI.UIGrid.ShouldDisplayNumbersAndArrows = function ( f27_arg0 )
	if not f27_arg0._showNumbersAndArrowsKBM and not LUI.IsLastInputGamepad( f27_arg0._controllerIndex ) then
		return false
	else
		local f27_local0
		if f27_arg0:GetMaxVisibleRows() * f27_arg0:GetMaxVisibleColumns() >= f27_arg0:GetNumChildren() then
			f27_local0 = f27_arg0._widgetsAlwaysVisible
		else
			f27_local0 = true
		end
	end
	return f27_local0
end

local f0_local2 = function ( f26_arg0 )
	local f26_local0, f26_local1 = nil
	local f26_local2 = f26_arg0:ShouldDisplayNumbersAndArrows()
	if f26_arg0._countFunction then
		f26_local0, f26_local1 = f26_arg0._countFunction()
	else
		local f26_local3 = f26_arg0:GetNumRows()
		local f26_local4 = f26_arg0:GetNumColumns()
		local f26_local5 = f26_arg0:GetNumChildren()
		if f26_local5 < 0 then
			f26_local0 = 0
			f26_local1 = 0
		elseif f26_arg0._targetPosition then
			if f26_local4 == 1 then
				f26_local0 = 1 + f26_arg0._targetPosition.y
				f26_local1 = f26_local3
			elseif f26_local3 == 1 then
				f26_local0 = 1 + f26_arg0._targetPosition.x
				if not f26_local4 then
					f26_local1 = f26_local4
				else
					f26_local1 = f26_local5
				end
			else
				f26_local0 = 1 + f26_arg0._targetPosition.x + f26_arg0._targetPosition.y * f26_local4
				f26_local1 = f26_local5
			end
		else
			f26_local0 = 0
			f26_local1 = f26_local5
		end
		f26_local0 = LUI.clamp( math.floor( f26_local0 ), 0, f26_local1 )
	end
	for f26_local7, f26_local8 in pairs( f26_arg0._itemNumbers ) do
		local f26_local6 = ""
		if f26_local2 then
			f26_local6 = Engine.CBBHFCGDIC( "LUA_MENU/X_OF_Y", f26_local0, f26_local1 )
		end
		f26_local8:setText( f26_local6 )
	end
end

f0_local0 = function ( f25_arg0 )
	local f25_local0 = {}
	local f25_local1 = f25_arg0:GetNumRows()
	local f25_local2 = f25_arg0:GetNumColumns()
	local f25_local3 = f25_arg0:GetNumChildren()
	local f25_local4 = f25_arg0:ShouldDisplayNumbersAndArrows()
	f25_arg0:SetArrowsEnabled( f25_local4 )
	local f25_local5, f25_local6, f25_local7, f25_local8 = nil
	if LUI.IsLastInputKeyboardMouse( Engine.IJEBHJIJF() ) then
		f25_local5, f25_local6 = f25_arg0:GetRowBoundaries()
		f25_local7, f25_local8 = f25_arg0:GetColumnBoundaries()
	elseif f25_arg0._targetPosition then
		f25_local5 = f25_arg0._targetPosition.y
		f25_local6 = f25_arg0._targetPosition.y + 1
		f25_local7 = f25_arg0._targetPosition.x
		f25_local8 = f25_arg0._targetPosition.x + 1
	end
	if 0 <= f25_local3 and f25_local5 and f25_local6 and f25_local7 and f25_local8 then
		if f25_local5 == 0 and f25_local1 and 0 <= f25_local1 and not f25_arg0._wrapY then
			table.insert( f25_local0, "grid_focus_up_blocked" )
		else
			table.insert( f25_local0, "grid_focus_up_not_blocked" )
		end
		if f25_local1 and f25_local1 <= f25_local6 and not f25_arg0._wrapY then
			table.insert( f25_local0, "grid_focus_down_blocked" )
		else
			table.insert( f25_local0, "grid_focus_down_not_blocked" )
		end
		if f25_local7 == 0 and f25_local2 and 0 <= f25_local2 and not f25_arg0._wrapX then
			table.insert( f25_local0, "grid_focus_left_blocked" )
		else
			table.insert( f25_local0, "grid_focus_left_not_blocked" )
		end
		if f25_local2 and f25_local2 <= f25_local8 and not f25_arg0._wrapX then
			table.insert( f25_local0, "grid_focus_right_blocked" )
		else
			table.insert( f25_local0, "grid_focus_right_not_blocked" )
		end
	else
		table.insert( f25_local0, "grid_focus_up_blocked" )
		table.insert( f25_local0, "grid_focus_down_blocked" )
		table.insert( f25_local0, "grid_focus_left_blocked" )
		table.insert( f25_local0, "grid_focus_right_blocked" )
	end
	for f25_local18, f25_local19 in pairs( f25_arg0._arrows ) do
		for f25_local15, f25_local16 in ipairs( f25_local0 ) do
			if f25_arg0._updateArrowVisibilityOnRefresh then
				local f25_local12 = f25_local19
				local f25_local13 = f25_local19.SetAlpha
				local f25_local14
				if f25_local4 then
					f25_local14 = 1
				else
					f25_local14 = 0
				end
				f25_local13( f25_local12, f25_local14 )
			end
			if f25_local4 then
				f25_local19:processEvent( {
					name = f25_local16
				} )
			end
		end
	end
end

LUI.UIGrid.UpdateScrolling = function ( f24_arg0 )
	for f24_local3, f24_local4 in ipairs( f24_arg0._scrollbars ) do
		f24_local4:UpdateScrolling()
	end
end

LUI.UIGrid.SetScrollbarKBMStyle = function ( f23_arg0, f23_arg1 )
	for f23_local3, f23_local4 in ipairs( f23_arg0._scrollbars ) do
		f23_local4:SetKBMStyle( f23_arg1 )
	end
end

LUI.UIGrid.UpdateNumbersAndArrows = function ( f22_arg0 )
	f0_local0( f22_arg0 )
	f0_local0( f22_arg0 )
end

LUI.UIGrid.UpdateNumbersArrowsAndScrolling = function ( f21_arg0 )
	f21_arg0:UpdateNumbersAndArrows()
	f21_arg0:UpdateScrolling()
end

LUI.UIGrid.FocusChanged = function ( f20_arg0, f20_arg1 )
	if not f20_arg0._targetPosition then
		return 
	else
		f0_local0( f20_arg0 )
		f20_arg0:SetLastFocusIndex( f20_arg0:GetContentIndex( f20_arg0._targetPosition.x, f20_arg0._targetPosition.y ) )
	end
end

LUI.UIGrid.GetPositionForIndex = function ( f19_arg0, f19_arg1, f19_arg2 )
	if not f19_arg2 then
		f19_arg2 = {}
	end
	if f19_arg2.relativePosition == nil then
		f19_arg2.relativePosition = true
	end
	local f19_local0 = f19_arg0:GetNumChildren()
	if f19_local0 then
		f19_arg1 = LUI.clamp( f19_arg1, 0, f19_local0 - 1 )
	end
	local f19_local1, f19_local2 = nil
	if f19_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f19_arg2.relativePosition then
			local f19_local3 = f19_arg0:GetMaxVisibleColumns()
			f19_local1 = f19_arg1 % f19_local3
			f19_local2 = math.floor( f19_arg1 / f19_local3 )
		else
			local f19_local3 = f19_arg0:GetNumColumns()
			f19_local2 = math.floor( f19_arg1 / f19_local3 )
			f19_local1 = f19_arg1 - f19_local2 * f19_local3
		end
	elseif f19_arg2.relativePosition then
		local f19_local3 = f19_arg0:GetMaxVisibleRows()
		f19_local2 = f19_arg1 % f19_local3
		f19_local1 = math.floor( f19_arg1 / f19_local3 )
	else
		local f19_local3 = f19_arg0:GetNumRows()
		f19_local1 = math.floor( f19_arg1 / f19_local3 )
		f19_local2 = f19_arg1 - f19_local1 * f19_local3
	end
	return {
		x = f19_local1,
		y = f19_local2
	}
end

LUI.UIGrid.GetContentIndex = function ( f18_arg0, f18_arg1, f18_arg2, f18_arg3 )
	if not f18_arg3 then
		f18_arg3 = {}
	end
	if f18_arg3.relativePosition == nil then
		f18_arg3.relativePosition = true
	end
	local f18_local0 = nil
	if f18_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f18_arg3.relativePosition then
			f18_local0 = f18_arg1 + f18_arg2 * f18_arg0:GetMaxVisibleColumns()
		else
			f18_local0 = f18_arg1 + f18_arg2 * f18_arg0:GetNumColumns()
		end
	elseif f18_arg3.relativePosition then
		f18_local0 = f18_arg2 + f18_arg1 * f18_arg0:GetMaxVisibleRows()
	else
		f18_local0 = f18_arg2 + f18_arg1 * f18_arg0:GetNumRows()
	end
	local f18_local1 = f18_arg0:GetNumChildren()
	if f18_local1 then
		f18_local0 = f18_local0 % f18_local1
	end
	return f18_local0
end

LUI.UIGrid.GetContentSize = function ( f17_arg0, f17_arg1 )
	if f17_arg1 == LUI.DIRECTION.horizontal then
		return f17_arg0:GetHorizontalContentSize()
	else
		return f17_arg0:GetVerticalContentSize()
	end
end

LUI.UIGrid.GetContentCount = function ( f16_arg0, f16_arg1 )
	if f16_arg1 == LUI.DIRECTION.horizontal then
		return f16_arg0:GetNumColumns()
	else
		return f16_arg0:GetNumRows()
	end
end

LUI.UIGrid.GetContentVisibleSize = function ( f15_arg0, f15_arg1 )
	if f15_arg1 == LUI.DIRECTION.horizontal then
		return f15_arg0:GetColumnVisibleSize()
	else
		return f15_arg0:GetRowVisibleSize()
	end
end

LUI.UIGrid.GetContentOffset = function ( f14_arg0, f14_arg1 )
	local f14_local0, f14_local1 = f14_arg0:GetRowPixelBoundaries()
	local f14_local2, f14_local3 = f14_arg0:GetColumnPixelBoundaries()
	if f14_arg1 == LUI.DIRECTION.horizontal then
		return f14_local2
	else
		return f14_local0
	end
end

LUI.UIGrid.GetFocusPosition = function ( f13_arg0, f13_arg1 )
	if not f13_arg0._targetPosition then
		return nil
	elseif f13_arg1 == LUI.DIRECTION.horizontal then
		return LUI.clamp( math.floor( f13_arg0._targetPosition.x ), 0, f13_arg0:GetNumColumns() - 1 )
	else
		return LUI.clamp( math.floor( f13_arg0._targetPosition.y ), 0, f13_arg0:GetNumRows() - 1 )
	end
end

LUI.UIGrid.GetDefaultPosition = function ( f12_arg0, f12_arg1 )
	local f12_local0 = f12_arg0:GetDefaultFocus()
	if f12_local0 then
		if f12_arg1 == LUI.DIRECTION.horizontal then
			return f12_local0.x
		else
			return f12_local0.y
		end
	else
		return nil
	end
end

LUI.UIGrid.SetShouldFocus = function ( f11_arg0, f11_arg1 )
	f11_arg0._shouldFocus = f11_arg1
end

LUI.UIGrid.SetNavigateLikeUIList = function ( f10_arg0, f10_arg1 )
	f10_arg0._navigateLikeUIList = f10_arg1
end

LUI.UIDataSourceGrid.FocusChanged = function ( f9_arg0 )
	LUI.UIDataSourceGrid.super.FocusChanged( f9_arg0 )
	if f9_arg0._targetPosition then
		f9_arg0:SetDataSource( f9_arg0._gridDataSource:GetDataSourceAtIndex( f9_arg0:GetContentIndex( math.floor( f9_arg0._targetPosition.x ), math.floor( f9_arg0._targetPosition.y ) ), f9_arg0._controllerIndex ), f9_arg0._controllerIndex )
	end
end

LUI.UIPeekingGrid.init = function ( f8_arg0, f8_arg1 )
	f8_arg1.ensureClampedTargetLineOnDimensionsUpdate = false
	LUI.UIGrid.init( f8_arg0, f8_arg1 )
	assert( f8_arg1.buildChild, "Peeking Grid only works as an homogenous grid right now." )
	local f8_local0 = assert
	local f8_local1
	if f8_arg1.verticalAlignment and f8_arg1.verticalAlignment ~= LUI.Alignment.Top then
		f8_local1 = false
	else
		f8_local1 = true
	end
	f8_local0( f8_local1, "Peeking Grid only supports Top vertical alignment right now." )
end

LUI.UIPeekingGrid.SetPositionInternal = function ( f7_arg0, f7_arg1, f7_arg2, f7_arg3, f7_arg4, f7_arg5, f7_arg6 )
	f7_arg1 = LUI.ShallowCopy( f7_arg1 )
	assert( f7_arg1.x and f7_arg1.y )
	if f7_arg0:GetNumColumns() == 0 or f7_arg0:GetNumRows() == 0 then
		f7_arg0:RemoveFocusFromChild( f7_arg2 )
		f7_arg0._shouldFocus = false
		f7_arg0._targetPosition = nil
		f7_arg0:SetLastFocusIndex( nil )
		f7_arg0:UpdateNumbersArrowsAndScrolling()
		return 
	end
	f7_arg0._shouldFocus = f7_arg3
	if f7_arg3 and not f7_arg0:IsPositionInDataSet( f7_arg1.x, f7_arg1.y ) then
		local f7_local0, f7_local1 = f7_arg0:ColumnRowToPrimarySecondary( math.floor( f7_arg1.x ), math.floor( f7_arg1.y ) )
		local f7_local2, f7_local3 = f7_arg0:PrimarySecondaryToColumnRow( f7_local0, f7_local1 )
		if 0 < f7_local1 and not f7_arg0:IsPositionInDataSet( f7_local2, f7_local3 ) then
			
		else
			
		end
		if 0 < f7_local0 and not f7_arg0:IsPositionInDataSet( f7_local2, f7_local3 ) then
			
		else
			
		end
		f7_arg1.x = f7_local2
		f7_arg1.y = f7_local3
	end
	if f7_arg0._targetPosition and f7_arg0._targetPosition.x == f7_arg1.x and f7_arg0._targetPosition.y == f7_arg1.y then
		if not f7_arg3 then
			f7_arg0:RemoveFocusFromChild( f7_arg2 )
			return 
		end
		local f7_local0 = f7_arg0:GetElementAtPosition( f7_arg0._targetPosition.x, f7_arg0._targetPosition.y )
		if f7_local0 and (f7_local0:isInFocus() or 0 < #f7_local0:getAllFocusedChildren()) then
			return 
		end
	end
	local f7_local0 = f7_arg0._targetPosition == nil
	f7_arg0:RemoveFocusFromChild( f7_arg2 )
	f7_arg1.y = LUI.clamp( f7_arg1.y, 0, f7_arg0:GetNumRows() - 1 )
	if f7_arg3 then
		f7_arg1.y = math.floor( f7_arg1.y )
	end
	f7_arg0:SetTargetRow( f7_arg1.y, false, f7_arg2 )
	if f7_arg0._pendingRefresh then
		f7_arg0._pendingRefresh = nil
		f7_arg0:RefreshContent()
	end
	f7_arg0._targetPosition = f7_arg1
	f7_arg0._targetPosition.skipTargetRowAdjustment = nil
	f7_arg0._targetPosition.skipTargetColumnAdjustment = nil
	if f7_arg3 then
		local f7_local1 = f7_arg0:GetElementAtPosition( f7_arg0._targetPosition.x, f7_arg0._targetPosition.y )
		if f7_local1 then
			local f7_local2 = nil
			if scrollDown then
				f7_local2 = "down"
			elseif scrollUp then
				f7_local2 = "up"
			elseif scrollRight then
				f7_local2 = "right"
			elseif scrollLeft then
				f7_local2 = "left"
			end
			if f7_arg0._isWrapping then
				f7_arg0._isWrapping = false
			end
			f7_arg0:GiveFocusToChild( f7_local1, f7_local2, f7_arg5, f7_arg6 )
		else
			f7_arg0:NotifyWhenPositionIsVisible( f7_arg0._targetPosition.x, f7_arg0._targetPosition.y )
		end
	end
	f7_arg0:UpdateScrolling()
	f7_arg0:UpdateNumbersAndArrows()
end

LUI.UIPeekingGrid.ScrollAmount = function ( f6_arg0, f6_arg1, f6_arg2 )
	if f6_arg1 == "up" or f6_arg1 == "down" then
		local f6_local0, f6_local1 = f6_arg0:GetRowBoundaries()
		local f6_local2 = f6_local0
		if f6_arg1 == "up" then
			f6_local2 = f6_local2 - f6_arg2
		elseif f6_arg1 == "down" then
			f6_local2 = f6_local2 + f6_arg2
			if f6_arg0._targetPosition and f6_arg0._targetPosition.y == f6_local2 then
				f6_arg0._targetPosition.y = f6_local0
			end
		else
			return false
		end
		if f6_local2 ~= f6_local0 then
			f6_arg0:SetPositionInternal( {
				x = f6_arg0._targetPosition and f6_arg0._targetPosition.x or 0,
				y = f6_local2
			}, false, false, false )
		end
		return true
	elseif f6_arg1 == "left" or f6_arg1 == "right" then
		local f6_local0, f6_local1 = f6_arg0:GetColumnBoundaries()
		local f6_local2 = f6_arg0:GetNumColumns()
		local f6_local3 = f6_local0
		if f6_arg1 == "left" and (not f6_local2 or 0 < f6_local0) then
			f6_local3 = f6_local3 - f6_arg2
		elseif f6_arg1 == "right" and (not f6_local2 or f6_local1 < f6_local2) then
			f6_local3 = f6_local3 + f6_local1 - f6_local0 + f6_arg2
		else
			return false
		end
		if f6_local3 ~= f6_local0 then
			f6_arg0:SetPositionInternal( {
				x = f6_local3,
				y = f6_arg0._targetPosition and f6_arg0._targetPosition.y or 0
			}, false, false, false )
		end
		return true
	else
		return false
	end
end

LUI.UIPeekingGrid.HandleMouseScroll = function ( f5_arg0, f5_arg1 )
	local f5_local0 = assert
	local f5_local1
	if f5_arg1 ~= "up" and f5_arg1 ~= "down" then
		f5_local1 = false
	else
		f5_local1 = true
	end
	f5_local0( f5_local1, "Peeking Grid only supports up and down scrolling right now." )
	f5_local0 = nil
	f5_local2, f5_local1 = f5_arg0:GetRowBoundaries()
	if f5_arg1 == "up" then
		f5_local0 = math.floor( f5_local2 )
	else
		f5_local0 = math.floor( f5_local2 + 1 )
	end
	if f5_local0 == f5_local2 then
		f5_local0 = 1
	else
		f5_local0 = f5_local0 - f5_local2
	end
	f5_arg0:ScrollAmount( f5_arg1, math.abs( f5_local0 ) )
end

LUI.UIPeekingGrid.HandleScrollbarDrag = function ( f4_arg0, f4_arg1 )
	local f4_local0 = f4_arg1.scrollbar
	if f4_arg1.dragStart or not f4_arg0._dragTargetRef then
		f4_arg0._dragTargetRef = {
			x = f4_arg1.targetX,
			y = f4_arg1.targetY
		}
	end
	local f4_local1 = f4_arg1.targetY - f4_arg0._dragTargetRef.y
	if f4_local1 == 0 then
		return false
	end
	f4_arg0._dragTargetRef = {
		x = f4_arg1.targetX,
		y = f4_arg1.targetY
	}
	local f4_local2 = f4_arg0:GetContentSize( f4_local0:GetDirection() )
	if f4_local2 and 0 < f4_local2 and f4_local0:GetDirection() == LUI.DIRECTION.vertical then
		local f4_local3 = f4_local1 * f4_local2
		local f4_local4, f4_local5 = f4_arg0:GetRowBoundaries()
		f4_arg0:SetPositionInternal( {
			x = f4_arg0:GetTargetColumn(),
			y = f4_arg0:ConvertRowPixelToLine( f4_local4, f4_local3 )
		}, true, false, false )
	end
	return true
end

LUI.UIPeekingGrid.HandleScrollbarSet = function ( f3_arg0, f3_arg1 )
	if f3_arg1.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
		f3_arg0:SetPositionInternal( {
			x = f3_arg0:GetTargetColumn(),
			y = math.floor( f3_arg0:ConvertRowPixelToLine( 0, (f3_arg0:GetContentSize( LUI.DIRECTION.vertical ) or 1) * f3_arg1.targetY ) )
		}, false )
	end
end

LUI.UIPeekingGrid.GetContentSize = function ( f2_arg0, f2_arg1 )
	if f2_arg1 == LUI.DIRECTION.horizontal then
		return f2_arg0:GetHorizontalContentSize()
	else
		local f2_local0 = f2_arg0:GetVerticalContentSize()
		local f2_local1 = f2_arg0:GetContentVisibleSize( f2_arg1 )
		local f2_local2 = f2_arg0:GetRowHeight()
		if f2_local0 == nil or f2_local1 == nil or f2_local2 == nil then
			return nil
		else
			return f2_local0 + f2_local1 - f2_local2
		end
	end
end

LUI.UIPeekingGrid.restoreFocus = function ( f1_arg0, f1_arg1 )
	if f1_arg0.id == f1_arg1.id and f1_arg0:GetNumColumns() ~= 0 and f1_arg0:GetNumRows() ~= 0 then
		assert( f1_arg1.data )
		f1_arg0:SetTargetRow( f1_arg1.data.targetRow, false, true )
		f1_arg0:SetTargetColumn( f1_arg1.data.targetColumn, false, true )
		f1_arg0:SetFocusedPosition( f1_arg1.data.targetPosition, true )
		return true
	else
		return f1_arg0:dispatchEventToChildren( f1_arg1 )
	end
end

LUI.UIGrid.id = "LUIGrid"
LUI.UIDataSourceGrid.id = "LUIDataSourceGrid"
LUI.UIPeekingGrid.id = "LUIPeekingGrid"
