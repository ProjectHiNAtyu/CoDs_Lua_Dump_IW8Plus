-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 04-10-2025 21:43
module( ..., package.seeall )
require( "ui.widgets.SocialMissingElementPlaceholder" )
require( "ui.frontEnd.mp.ATVIAndPlatformPlayerInfo" )
require( "ui.widgets.mp.LPVictoryFlames" )
require( "ui.frontEnd.mp.LPTop250SkillDivText" )
require( "ui.widgets.PlayerDetailsRankInfoRanks" )
require( "ui.widgets.SocialListSeparator" )
local f0_local0 = function ( f4_arg0, f4_arg1 )
	if f4_arg1.inputType and f4_arg1.onlineStatus ~= BattleNetOnlineStatus.APPEAR_OFFLINE then
		FRIENDS.SetTextAndImageWidgetsAlpha( f4_arg0.InputText, f4_arg0.InputImage, 1 )
		f4_arg0.MissingInputImage:SetAlpha( 0 )
	else
		f4_arg0.InputImage:SetAlpha( 0 )
		f4_arg0.MissingInputImage:SetAlpha( 1 )
	end
end

local f0_local1 = function ( f3_arg0, f3_arg1, f3_arg2 )
	f3_arg0.InputText:SetAlpha( 1 )
	f3_arg0.InputImage:SetAlpha( 1 )
	f3_arg0.MissingInputImage:SetAlpha( 1 )
	f3_arg0.ATVIPlayerInfo:SetAlpha( 1 )
	f3_arg0.PlatformPlayerInfo:SetAlpha( 1 )
	if f3_arg2.inputType and f3_arg2.isOnline then
		local f3_local0 = f3_arg2.inputType == LUI.INPUT_TYPE.gamepad
		local f3_local1 = f3_arg0.InputImage
		local f3_local2 = f3_local1
		f3_local1 = f3_local1.setImage
		local f3_local3 = RegisterMaterial
		local f3_local4
		if f3_local0 then
			f3_local4 = "v_ui_icon_input_controller"
		else
			f3_local4 = "v_ui_icon_input_mousekeyboard"
		end
		f3_local1( f3_local2, f3_local3( f3_local4 ) )
		f3_local1 = f3_arg0.InputText
		f3_local2 = f3_local1
		f3_local1 = f3_local1.setText
		f3_local3 = Engine[0xED84C33EC5F01EA]
		if f3_local0 then
			f3_local4 = "PLATFORM_UI/PLAYING_WITH_CONTROLLER"
		else
			f3_local4 = "MPUI/PLAY_WITH_KBM"
		end
		f3_local1( f3_local2, f3_local3( f3_local4 ) )
	else
		f3_arg0.InputText:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/INPUT_NOT_AVAILABLE" ) )
	end
	f3_arg0.ATVIPlayerInfo:UpdatePlayerInfoContent( f3_arg1, f3_arg2, f3_arg0.ATVIPlayerInfo.Modes.ATVI_INFO )
	f3_arg0.PlatformPlayerInfo:UpdatePlayerInfoContent( f3_arg1, f3_arg2, f3_arg0.PlatformPlayerInfo.Modes.PLATFORM_INFO )
	f0_local0( f3_arg0, f3_arg2 )
	f3_arg0.Ranks:UpdatePlayerDetails( f3_arg1, f3_arg2 )
	if CONDITIONS.IsLeaguePlay() then
		LEAGUE_PLAY.SetupPlayerID( f3_arg2, {
			rankIcon = f3_arg0.Medal,
			skillDivIcon = f3_arg0.LPSkillDivIcon,
			top250Text = f3_arg0.LPTop250SkillDivText,
			victoryFlames = f3_arg0.LPVictoryFlames
		} )
		f3_arg0.Medal:SetAlpha( 1 )
	else
		local f3_local0 = PROGRESSION.GetRankBigIcon( f3_arg2.baseRank, f3_arg2.prestige )
		if f3_local0 and 0 < #f3_local0 then
			f3_arg0.Medal:SetAlpha( 1 )
			f3_arg0.Medal:setImage( RegisterMaterial( f3_local0 ) )
		end
		f3_arg0.LPSkillDivIcon:SetVisibility( LUI.Visibility.Hidden )
		f3_arg0.LPTop250SkillDivText:Setup( nil )
		f3_arg0.LPVictoryFlames:Setup( nil )
	end
	if not FRIENDS.IsValidXUID( f3_arg2.xuid ) then
		f3_arg0.InputText:SetAlpha( 0 )
		f3_arg0.InputImage:SetAlpha( 0 )
		f3_arg0.MissingInputImage:SetAlpha( 0 )
		f3_arg0.ATVIPlayerInfo:SetAlpha( 0 )
		f3_arg0.PlatformPlayerInfo:SetAlpha( 0 )
		f3_arg0.Divider:SetAlpha( 0 )
		f3_arg0.Medal:SetAlpha( 0 )
		f3_arg0.Ranks:SetAlpha( 0 )
		f3_arg0.MissingInfo:SetAlpha( 1 )
		f3_arg0.MissingInfo:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 4, _1080p * -59, _1080p * 53, _1080p * 214 )
	else
		f3_arg0.MissingInfo:SetAlpha( 0 )
		f3_arg0.MissingInfo:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 11, _1080p * -59, _1080p * 183, _1080p * 214 )
		f3_arg0.Divider:SetAlpha( 0.25, 0 )
		f3_arg0.Medal:SetAlpha( 1 )
		f3_arg0.Ranks:SetAlpha( 1 )
	end
end

local f0_local2 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.UpdatePlayerDetails = f0_local0
end

function PlayerDetailsMoreInfos( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 390 * _1080p, 0, 240 * _1080p )
	self.id = "PlayerDetailsMoreInfos"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local MissingInputImage = nil
	
	MissingInputImage = MenuBuilder.BuildRegisteredType( "SocialMissingElementPlaceholder", {
		controllerIndex = f1_local1
	} )
	MissingInputImage.id = "MissingInputImage"
	MissingInputImage:SetAlpha( 0, 0 )
	MissingInputImage.CrossLine1:SetTop( _1080p * -14, 0 )
	MissingInputImage.CrossLine1:SetBottom( _1080p * 14, 0 )
	MissingInputImage.CrossLine2:SetTop( _1080p * -14, 0 )
	MissingInputImage.CrossLine2:SetBottom( _1080p * 14, 0 )
	MissingInputImage.Border:SetAlpha( 0, 0 )
	MissingInputImage:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 11, _1080p * 45, _1080p * 178, _1080p * 212 )
	self:addElement( MissingInputImage )
	self.MissingInputImage = MissingInputImage
	
	local InputImage = nil
	
	InputImage = LUI.UIImage.new()
	InputImage.id = "InputImage"
	InputImage:setImage( RegisterMaterial( "v_ui_icon_input_controller" ), 0 )
	InputImage:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 3, _1080p * 52, _1080p * 170, _1080p * 219 )
	self:addElement( InputImage )
	self.InputImage = InputImage
	
	local InputText = nil
	
	InputText = LUI.UIStyledText.new()
	InputText.id = "InputText"
	InputText:SetRGBFromInt( 10330010, 0 )
	InputText:setText( Engine[0xED84C33EC5F01EA]( "PLATFORM_UI/PLAYING_WITH_CONTROLLER" ), 0 )
	InputText:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_MBodyText.font.File ) )
	InputText:SetFontSize( FONT_STYLES.fontStyle_MBodyText.size )
	InputText:SetMinFontSize( FONT_STYLES.fontStyle_MBodyText.minSize )
	InputText:SetWordWrap( true )
	InputText:SetTracking( FONT_STYLES.fontStyle_MBodyText.tracking * _1080p, 0 )
	InputText:SetLeading( FONT_STYLES.fontStyle_MBodyText.leading * _1080p, 0 )
	InputText:SetAlignment( LUI.Alignment.Left )
	InputText:SetOptOutRightToLeftAlignmentFlip( true )
	InputText:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 62, _1080p * -8, _1080p * 183, _1080p * 214 )
	self:addElement( InputText )
	self.InputText = InputText
	
	local MissingInfo = nil
	
	MissingInfo = LUI.UIStyledText.new()
	MissingInfo.id = "MissingInfo"
	MissingInfo:SetRGBFromInt( 10330010, 0 )
	MissingInfo:SetAlpha( 0, 0 )
	MissingInfo:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/NO_INFORMATION_FOUND" ), 0 )
	MissingInfo:SetFont( FONTS.GetFont( FONT_STYLES.fontStyle_MBodyText.font.File ) )
	MissingInfo:SetFontSize( FONT_STYLES.fontStyle_MBodyText.size )
	MissingInfo:SetMinFontSize( FONT_STYLES.fontStyle_MBodyText.minSize )
	MissingInfo:SetWordWrap( true )
	MissingInfo:SetTracking( FONT_STYLES.fontStyle_MBodyText.tracking * _1080p, 0 )
	MissingInfo:SetLeading( FONT_STYLES.fontStyle_MBodyText.leading * _1080p, 0 )
	MissingInfo:SetAlignment( LUI.Alignment.Left )
	MissingInfo:SetOptOutRightToLeftAlignmentFlip( true )
	MissingInfo:SetAnchorsAndPosition( 0, 0, 0, 1, _1080p * 11, _1080p * -59, _1080p * 183, _1080p * 214 )
	self:addElement( MissingInfo )
	self.MissingInfo = MissingInfo
	
	local PlatformPlayerInfo = nil
	
	PlatformPlayerInfo = MenuBuilder.BuildRegisteredType( "ATVIAndPlatformPlayerInfo", {
		controllerIndex = f1_local1
	} )
	PlatformPlayerInfo.id = "PlatformPlayerInfo"
	PlatformPlayerInfo.Icon:setImage( RegisterMaterial( "v_ui_icon_atvi" ), 0 )
	PlatformPlayerInfo:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * -6, _1080p * 382, _1080p * 285, _1080p * 344 )
	self:addElement( PlatformPlayerInfo )
	self.PlatformPlayerInfo = PlatformPlayerInfo
	
	local ATVIPlayerInfo = nil
	
	ATVIPlayerInfo = MenuBuilder.BuildRegisteredType( "ATVIAndPlatformPlayerInfo", {
		controllerIndex = f1_local1
	} )
	ATVIPlayerInfo.id = "ATVIPlayerInfo"
	ATVIPlayerInfo.Icon:setImage( RegisterMaterial( "v_ui_icon_atvi" ), 0 )
	ATVIPlayerInfo:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * -6, _1080p * 382, _1080p * 221, _1080p * 281 )
	self:addElement( ATVIPlayerInfo )
	self.ATVIPlayerInfo = ATVIPlayerInfo
	
	local Divider = nil
	
	Divider = LUI.UIImage.new()
	Divider.id = "Divider"
	Divider:SetRGBFromTable( SWATCHES.text.vTextOffWhite, 0 )
	Divider:SetAlpha( 0.25, 0 )
	Divider:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * 166, _1080p * 168 )
	self:addElement( Divider )
	self.Divider = Divider
	
	local LPVictoryFlames = nil
	
	LPVictoryFlames = MenuBuilder.BuildRegisteredType( "LPVictoryFlames", {
		controllerIndex = f1_local1
	} )
	LPVictoryFlames.id = "LPVictoryFlames"
	LPVictoryFlames:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 4, _1080p * 110, _1080p * 50, _1080p * 156 )
	self:addElement( LPVictoryFlames )
	self.LPVictoryFlames = LPVictoryFlames
	
	local Medal = nil
	
	Medal = LUI.UIImage.new()
	Medal.id = "Medal"
	Medal:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 4, _1080p * 110, _1080p * 50, _1080p * 156 )
	self:addElement( Medal )
	self.Medal = Medal
	
	local LPSkillDivIcon = nil
	
	LPSkillDivIcon = LUI.UIImage.new()
	LPSkillDivIcon.id = "LPSkillDivIcon"
	LPSkillDivIcon:SetVisibility( LUI.Visibility.Hidden )
	LPSkillDivIcon:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 4, _1080p * 110, _1080p * 50, _1080p * 156 )
	self:addElement( LPSkillDivIcon )
	self.LPSkillDivIcon = LPSkillDivIcon
	
	local LPTop250SkillDivText = nil
	
	LPTop250SkillDivText = MenuBuilder.BuildRegisteredType( "LPTop250SkillDivText", {
		controllerIndex = f1_local1
	} )
	LPTop250SkillDivText.id = "LPTop250SkillDivText"
	LPTop250SkillDivText:SetScale( -0.79, 0 )
	LPTop250SkillDivText:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * -199, _1080p * 313, _1080p * -153, _1080p * 359 )
	self:addElement( LPTop250SkillDivText )
	self.LPTop250SkillDivText = LPTop250SkillDivText
	
	local Ranks = nil
	
	Ranks = MenuBuilder.BuildRegisteredType( "PlayerDetailsRankInfoRanks", {
		controllerIndex = f1_local1
	} )
	Ranks.id = "Ranks"
	Ranks:SetAnchorsAndPosition( 0, 1, 0, 1, _1080p * 124, _1080p * 320, _1080p * 50, _1080p * 156 )
	self:addElement( Ranks )
	self.Ranks = Ranks
	
	local Header = nil
	
	Header = MenuBuilder.BuildRegisteredType( "SocialListSeparator", {
		controllerIndex = f1_local1
	} )
	Header.id = "Header"
	Header.Name:setText( Engine[0xED84C33EC5F01EA]( "LUA_MENU/ADDITIONAL_INFO" ), 0 )
	Header:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, _1080p * -28, _1080p * 40 )
	self:addElement( Header )
	self.Header = Header
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "PlayerDetailsMoreInfos", PlayerDetailsMoreInfos )
LockTable( _M )
