-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:01
LUI.Fence = LUI.Class()
LUI.Fence.fenceTypes = {}
LUI.Fence.STATE = {
	block = 1,
	pass = 0,
	fail = 2
}
LUI.Fence.FenceObjectState = {
	PASSING = 4,
	FAILED = 8,
	IDLE = 1,
	ACTIVE = 2
}
LUI.Fence.Register = function ( f42_arg0, f42_arg1 )
	assert( type( f42_arg1.UpdateState ) == "function" )
	assert( not LUI.Fence.fenceTypes[f42_arg0] )
	LUI.Fence.fenceTypes[f42_arg0] = f42_arg1
end

LUI.Fence.Instantiate = function ( f41_arg0, f41_arg1, f41_arg2, f41_arg3 )
	local f41_local0 = LUI.Fence.fenceTypes[f41_arg0]
	assert( f41_local0, "Could not instantiate fence class for '" .. f41_arg0 .. "', is it missing?" )
	return f41_local0.new( f41_arg1, f41_arg2, f41_arg3 )
end

LUI.Fence.init = function ( f40_arg0 )
	f40_arg0._state = LUI.Fence.STATE.block
end

LUI.Fence.Start = function ( f39_arg0 )
	
end

LUI.Fence.Frame = function ( f38_arg0 )
	
end

LUI.Fence.Stop = function ( f37_arg0 )
	
end

LUI.Fence.State = function ( f36_arg0 )
	assert( f36_arg0._state )
	return f36_arg0._state
end

LUI.Fence.AreFencesPassed = function ( f35_arg0, f35_arg1 )
	for f35_local3, f35_local4 in ipairs( f35_arg1 ) do
		if Fences[0x6C6D08978B8C65]( f35_arg0, f35_local4 ) ~= LUI.Fence.FenceObjectState.PASSING then
			return false
		end
	end
	return true
end

LUI.FenceGroup = LUI.Class()
LUI.FenceGroup.STATE = {
	block = 1,
	pass = 0,
	fail = 2,
	abort = 3
}
LUI.FenceGroup.init = function ( f34_arg0, f34_arg1, f34_arg2, f34_arg3 )
	assert( 0 < #f34_arg1 )
	f34_arg0._fences = {}
	f34_arg0._state = nil
	for f34_local3, f34_local4 in ipairs( f34_arg1 ) do
		table.insert( f34_arg0._fences, LUI.Fence.Instantiate( f34_local4, f34_arg0, f34_arg2, f34_arg3 ) )
	end
	f34_arg0._activeFenceIndex = 0
end

LUI.FenceGroup.Reset = function ( f33_arg0 )
	local f33_local0 = f33_arg0._fences[f33_arg0._activeFenceIndex]
	if f33_local0 then
		f33_local0:Stop()
	end
	f33_arg0._state = nil
	f33_arg0._activeFenceIndex = 0
end

LUI.FenceGroup.Frame = function ( f32_arg0, f32_arg1 )
	if f32_arg0._busy then
		return 
	end
	f32_arg0._busy = true
	assert( f32_arg0._state ~= LUI.FenceGroup.STATE.fail )
	assert( f32_arg0._state ~= LUI.FenceGroup.STATE.abort )
	assert( f32_arg0._activeFenceIndex )
	f32_arg0._gameModeKey = f32_arg1
	if f32_arg0._activeFenceIndex < 1 then
		f32_arg0._activeFenceIndex = 1
		f32_arg0._fences[f32_arg0._activeFenceIndex]:Start()
	end
	local f32_local0 = f32_arg0._state
	local f32_local1 = LUI.FenceGroup.STATE.pass
	for f32_local5, f32_local6 in ipairs( f32_arg0._fences ) do
		if f32_local6:State() == LUI.Fence.STATE.fail then
			f32_local1 = LUI.FenceGroup.STATE.fail
			break
		elseif f32_arg0._activeFenceIndex <= f32_local5 then
			break
		end
	end
	if f32_local1 ~= LUI.FenceGroup.STATE.fail then
		for f32_local5, f32_local6 in ipairs( f32_arg0._fences ) do
			assert( f32_local5 <= f32_arg0._activeFenceIndex )
			local f32_local7 = f32_local6:State()
			if f32_local7 ~= LUI.Fence.STATE.fail then
				f32_local6:UpdateState()
				f32_local6:Frame()
				f32_local7 = f32_local6:State()
			end
			if f32_local7 == LUI.Fence.STATE.pass then
				if f32_local5 == f32_arg0._activeFenceIndex then
					f32_arg0._fences[f32_arg0._activeFenceIndex]:Stop()
					f32_arg0._activeFenceIndex = f32_arg0._activeFenceIndex + 1
					if f32_arg0._activeFenceIndex <= #f32_arg0._fences then
						f32_arg0._fences[f32_arg0._activeFenceIndex]:Start( f32_arg0._gameModeKey )
					end
				end
			end
			if f32_local7 == LUI.Fence.STATE.block then
				f32_local1 = LUI.FenceGroup.STATE.block
				if f32_local5 < f32_arg0._activeFenceIndex then
					if f32_arg0._activeFenceIndex <= #f32_arg0._fences then
					
					else
						f32_arg0._activeFenceIndex = f32_local5
						f32_arg0._fences[f32_arg0._activeFenceIndex]:Start()
						break
					end
					f32_arg0._fences[f32_arg0._activeFenceIndex]:Stop()
				end
			elseif f32_local7 == LUI.Fence.STATE.fail then
				if f32_local5 == f32_arg0._activeFenceIndex then
				
				else
					f32_local1 = LUI.FenceGroup.STATE.fail
					break
				end
				f32_arg0._fences[f32_arg0._activeFenceIndex]:Stop()
				f32_arg0._activeFenceIndex = nil
			end
			assert( false, "Unexpected fence state" )
		end
	end
	assert( f32_arg0._state == f32_local0 )
	if f32_local1 ~= f32_arg0._state then
		f32_arg0._state = f32_local1
		if f32_arg0._state == LUI.FenceGroup.STATE.pass then
			f32_arg0:OnPass()
		elseif f32_arg0._state == LUI.FenceGroup.STATE.block then
			f32_arg0:OnBlock()
		elseif f32_arg0._state == LUI.FenceGroup.STATE.fail then
			f32_arg0:BackOut()
			f32_arg0:Fail()
		end
	end
	f32_arg0._busy = false
end

LUI.FenceGroup.Abort = function ( f31_arg0 )
	if f31_arg0._fences[f31_arg0._activeFenceIndex] then
		f31_arg0._fences[f31_arg0._activeFenceIndex]:Stop()
	end
	f31_arg0._state = LUI.FenceGroup.STATE.abort
	f31_arg0._activeFenceIndex = nil
end

LUI.FenceGroup.BackOut = function ( f30_arg0 )
	for f30_local0 = #f30_arg0._fences, 1, -1 do
		local f30_local3 = f30_arg0._fences[f30_local0]
		if f30_local3.OnBackOut then
			f30_local3:OnBackOut()
		end
	end
end

LUI.FenceGroup.Fail = function ( f29_arg0 )
	f29_arg0:OnFail()
	for f29_local0 = 1, #f29_arg0._fences, 1 do
		local f29_local3 = f29_arg0._fences[#f29_arg0._fences - f29_local0 + 1]
		if f29_local3.PostFail then
			f29_local3:PostFail()
		end
	end
end

LUI.FenceGroup.OnPass = function ( f28_arg0 )
	DebugPrint( "Fence passes" )
end

LUI.FenceGroup.OnBlock = function ( f27_arg0 )
	DebugPrint( "Fence blocks" )
end

LUI.FenceGroup.OnFail = function ( f26_arg0 )
	DebugPrint( "Fence failed" )
end

LUI.FenceGroup.Passes = function ( f25_arg0 )
	return f25_arg0._state == LUI.FenceGroup.STATE.pass
end

LUI.DeferredFence = LUI.Class()
LUI.DeferredFence.Criticality = {
	LOW = 0,
	VITAL = 4,
	MODERATE = 2,
	MAJOR = 3,
	MINOR = 1
}
LUI.DeferredFence.BackOutMethod = {
	LEAVE_MENU = 0,
	LEAVE_TAB = 1,
	NONE = 4294967295
}
local f0_local0 = LUI.DeferredFence.Criticality.LOW
local f0_local1 = LUI.DeferredFence.Criticality.VITAL
local f0_local2 = LUI.DeferredFence.BackOutMethod.NONE
local f0_local3 = LUI.DeferredFence.BackOutMethod.LEAVE_TAB
local f0_local4 = 5000
local f0_local5 = {}
local f0_local6 = {
	[LUI.DeferredFence.Criticality.MAJOR] = true,
	[LUI.DeferredFence.Criticality.VITAL] = true
}
local f0_local7 = {
	[LUI.DeferredFence.BackOutMethod.LEAVE_MENU] = function ( f24_arg0, f24_arg1 )
		LUI.FlowManager.RequestLeaveMenu( f24_arg0, false, false )
	end,
	[LUI.DeferredFence.BackOutMethod.LEAVE_TAB] = function ( f23_arg0, f23_arg1 )
		local f23_local0
		if f23_arg0 then
			f23_local0 = f23_arg0
		else
			f23_local0 = f23_arg0:GetCurrentMenu()
		end
		local f23_local1
		if f23_arg1 then
			f23_local1 = f23_arg1
		elseif f23_arg1.qualifier == "keyboard" or f23_arg1.qualifier == "gamepad" then
			f23_local1 = false
		else
			f23_local1 = true
		end
		local f23_local2
		if f23_arg1 then
			f23_local2 = f23_arg1.controller
			if not f23_local2 then
			
			else
				local f23_local3
				if f23_local1 then
					f23_local3 = FocusType.MouseOver
					if not f23_local3 then
					
					else
						if f23_local0 then
							local f23_local4 = f23_local0.MainMenuTabs or f23_local0.MPTabsMenu
							if f23_local4 and f23_local4.Tabs then
								f23_local4.Tabs:FocusTab( f23_local2, f23_local4.Tabs:GetNextEnabledTab( f23_local2, 1, true ), f23_local3 )
							end
						end
					end
				end
				f23_local3 = FocusType.Gamepad
			end
		end
		f23_local2 = Engine[0x45B054C920178E9]()
	end
}
local f0_local8 = {
	[LUI.DeferredFence.Criticality.LOW] = function ( f22_arg0, f22_arg1, f22_arg2, f22_arg3, f22_arg4 )
		return f22_arg4( f22_arg1, f22_arg2 )
	end,
	[LUI.DeferredFence.Criticality.MINOR] = function ( f21_arg0, f21_arg1, f21_arg2, f21_arg3, f21_arg4 )
		if f21_arg2.fenceState == LUI.Fence.FenceObjectState.FAILED then
			LUI.ToastManager.CreateToast( f21_arg2.controllerIndex, LUI.ToastManager.StandardEmphasisToast( Engine[0xED84C33EC5F01EA]( 0x30C0162BD2B61EF ), Fences[0xA7D80C060789546]( f21_arg2.controllerIndex, f21_arg0 ), LUI.ToastManager.ToastNotificationType.Warnings ) )
		end
		return f21_arg4( f21_arg1, f21_arg2 )
	end,
	[LUI.DeferredFence.Criticality.MODERATE] = function ( f19_arg0, f19_arg1, f19_arg2, f19_arg3, f19_arg4 )
		if f19_arg2.fenceState == LUI.Fence.FenceObjectState.FAILED then
			LUI.FlowManager.RequestPopupMenu( nil, "DeferredFenceFailedPopup", false, f19_arg2.controllerIndex, false, {
				controllerIndex = f19_arg2.controllerIndex,
				message = Fences[0xA7D80C060789546]( f19_arg2.controllerIndex, f19_arg0 ),
				criticality = LUI.DeferredFence.Criticality.MODERATE,
				buttons = {
					{
						label = Engine[0xED84C33EC5F01EA]( 0x5C33DA8F6CE65B0 ),
						action = function ( f20_arg0, f20_arg1 )
							LUI.FlowManager.RequestLeaveMenu( f20_arg0, true )
						end
					}
				}
			}, nil, false, false )
		end
		return f19_arg4( f19_arg1, f19_arg2 )
	end,
	[LUI.DeferredFence.Criticality.MAJOR] = function ( f16_arg0, f16_arg1, f16_arg2, f16_arg3, f16_arg4 )
		if f16_arg2.fenceState == LUI.Fence.FenceObjectState.IDLE or f16_arg2.fenceState == LUI.Fence.FenceObjectState.ACTIVE then
			LUI.FlowManager.RequestPopupMenu( nil, "DeferredFenceInProgressPopup", false, f16_arg2.controllerIndex, false, {
				controllerIndex = f16_arg2.controllerIndex,
				criticality = LUI.DeferredFence.Criticality.MAJOR,
				fenceName = f16_arg0,
				onCancel = function ( f18_arg0, f18_arg1 )
					LUI.FlowManager.RequestLeaveMenu( f18_arg0, true, false )
					f16_arg0[f16_arg0]( f16_arg0, f18_arg1 )
				end
			}, nil, false, false )
		elseif f16_arg2.fenceState == LUI.Fence.FenceObjectState.PASSING then
			LUI.FlowManager.RequestLeaveMenuByName( "DeferredFenceInProgressPopup", false, false )
		elseif f16_arg2.fenceState == LUI.Fence.FenceObjectState.FAILED then
			LUI.FlowManager.RequestLeaveMenuByName( "DeferredFenceInProgressPopup", false, false )
			LUI.FlowManager.RequestPopupMenu( nil, "DeferredFenceFailedPopup", false, f16_arg2.controllerIndex, false, {
				controllerIndex = f16_arg2.controllerIndex,
				message = Fences[0xA7D80C060789546]( f16_arg2.controllerIndex, f16_arg0 ),
				criticality = LUI.DeferredFence.Criticality.MAJOR,
				buttons = {
					{
						label = Engine[0xED84C33EC5F01EA]( 0x5C33DA8F6CE65B0 ),
						action = function ( f17_arg0, f17_arg1 )
							LUI.FlowManager.RequestLeaveMenu( f17_arg0, true )
						end
					}
				}
			}, nil, false, false )
		end
		return f16_arg4( f16_arg1, f16_arg2 )
	end,
	[LUI.DeferredFence.Criticality.VITAL] = function ( f13_arg0, f13_arg1, f13_arg2, f13_arg3, f13_arg4 )
		if f13_arg2.fenceState == LUI.Fence.FenceObjectState.IDLE or f13_arg2.fenceState == LUI.Fence.FenceObjectState.ACTIVE then
			LUI.FlowManager.RequestPopupMenu( nil, "DeferredFenceInProgressPopup", false, f13_arg2.controllerIndex, false, {
				controllerIndex = f13_arg2.controllerIndex,
				criticality = LUI.DeferredFence.Criticality.VITAL,
				fenceName = f13_arg0,
				onCancel = function ( f15_arg0, f15_arg1 )
					LUI.FlowManager.RequestLeaveMenu( f15_arg0, true, false )
					f13_arg0[f13_arg0]( f13_arg0, f15_arg1 )
				end
			}, nil, false, false )
		elseif f13_arg2.fenceState == LUI.Fence.FenceObjectState.PASSING then
			LUI.FlowManager.RequestLeaveMenuByName( "DeferredFenceInProgressPopup", false, false )
		elseif f13_arg2.fenceState == LUI.Fence.FenceObjectState.FAILED then
			LUI.FlowManager.RequestLeaveMenuByName( "DeferredFenceInProgressPopup", false, false )
			LUI.FlowManager.RequestPopupMenu( nil, "DeferredFenceFailedPopup", false, f13_arg2.controllerIndex, false, {
				controllerIndex = f13_arg2.controllerIndex,
				message = Fences[0xA7D80C060789546]( f13_arg2.controllerIndex, f13_arg0 ),
				criticality = LUI.DeferredFence.Criticality.VITAL,
				buttons = {
					{
						label = Engine[0xED84C33EC5F01EA]( 0x3956F54E845F7DE ),
						action = function ( f14_arg0, f14_arg1 )
							LUI.FlowManager.RequestLeaveMenu( f14_arg0, true )
							f13_arg0[f13_arg0]( f13_arg0, f14_arg1 )
						end
					}
				}
			}, nil, false, false )
		end
		return f13_arg4( f13_arg1, f13_arg2 )
	end
}
local f0_local9 = function ( f12_arg0, f12_arg1 )
	if f12_arg1 == LUI.DeferredFence.BackOutMethod.NONE then
		
	elseif f12_arg1 == LUI.DeferredFence.BackOutMethod.LEAVE_MENU then
		
	elseif f12_arg1 == LUI.DeferredFence.BackOutMethod.LEAVE_TAB then
		local f12_local0
		if f12_arg0 then
			f12_local0 = f12_arg0
		else
			f12_local0 = f12_arg0:GetCurrentMenu()
		end
		assert( f12_local0, "Fence backout method " .. f12_arg1 .. " requires menu" )
		local f12_local1 = assert
		local f12_local2
		if f12_local0.MainMenuTabs then
			f12_local2 = f12_local0.MainMenuTabs.Tabs
			if not f12_local2 then
				f12_local2 = f12_local0.MPTabsMenu
				if f12_local2 then
					f12_local2 = f12_local0.MPTabsMenu.Tabs
				end
			end
		else
			f12_local2 = f12_local0.MPTabsMenu
			if f12_local2 then
				f12_local2 = f12_local0.MPTabsMenu.Tabs
			end
		end
		f12_local1( f12_local2, "Fence backout method " .. f12_arg1 .. " requires menu with MPTabsMenu or MainMenuTabs" )
	else
		assert( false, "Fence back out method not supported: " .. f12_arg1 )
	end
end

local f0_local10 = function ( f11_arg0, f11_arg1, f11_arg2, f11_arg3, f11_arg4, f11_arg5, f11_arg6 )
	local f11_local0 = assert
	local f11_local1
	if f11_arg0 then
		f11_local1 = f11_arg0
	else
		f11_local1 = type( f11_arg0 ) == "userdata"
	end
	f11_local0( f11_local1, "Attempt to attach fence with invalid element" )
	f11_local0 = assert
	if f11_arg1 then
		f11_local1 = f11_arg1
	elseif type( f11_arg1 ) ~= "number" or 0 > f11_arg1 then
		f11_local1 = false
	else
		f11_local1 = true
	end
	local f11_local2 = "Attempt to attach fence with controllerIndex: '"
	local f11_local3
	if not f11_arg1 then
		f11_local3 = f11_arg1
	else
		f11_local3 = ""
	end
	f11_local0( f11_local1, f11_local2 .. f11_local3 .. "'" )
	f11_local0 = assert
	if f11_arg2 then
		f11_local1 = f11_arg2
	elseif type( f11_arg2 ) ~= "string" or 0 >= #f11_arg2 then
		f11_local1 = false
	else
		f11_local1 = true
	end
	f11_local2 = "Attempt to attach fence with fenceName: '"
	if not f11_arg2 then
		f11_local3 = f11_arg2
	else
		f11_local3 = ""
	end
	f11_local0( f11_local1, f11_local2 .. f11_local3 .. "'" )
	f11_local0 = assert
	if f0_local0 ~= LUI.DeferredFence.Criticality.LOW or f0_local0 ~= LUI.DeferredFence.Criticality.VITAL then
		f11_local1 = false
	else
		f11_local1 = true
	end
	f11_local0( f11_local1, "Fence criticality values have changed, update min/max" )
	f11_local0 = assert
	if f11_arg3 then
		f11_local1 = f11_arg3
	elseif type( f11_arg3 ) ~= "number" or f0_local0 > f11_arg3 or f11_arg3 > f0_local0 then
		f11_local1 = false
	else
		f11_local1 = true
	end
	f11_local2 = "Attaching a fence requires criticality between "
	f11_local3 = f0_local0
	local f11_local4 = "-"
	local f11_local5 = f0_local0
	local f11_local6 = ", given: "
	local f11_local7
	if not f11_arg3 then
		f11_local7 = f11_arg3
	else
		f11_local7 = "nil"
	end
	f11_local0( f11_local1, f11_local2 .. f11_local3 .. f11_local4 .. f11_local5 .. f11_local6 .. f11_local7 )
	f11_local0 = assert
	if f0_local0 ~= LUI.DeferredFence.BackOutMethod.NONE or f0_local0 ~= LUI.DeferredFence.BackOutMethod.LEAVE_TAB then
		f11_local1 = false
	else
		f11_local1 = true
	end
	f11_local0( f11_local1, "Fence back out method values have changed, update min/max" )
	f11_local0 = assert
	if f11_arg4 then
		f11_local1 = f11_arg4
	elseif type( f11_arg4 ) ~= "number" or f0_local0 > f11_arg4 or f11_arg4 > f0_local0 then
		f11_local1 = false
	else
		f11_local1 = true
	end
	f11_local2 = "Attaching a fence requires back out method in range "
	f11_local3 = f0_local0
	f11_local4 = "-"
	f11_local5 = f0_local0
	f11_local6 = ", given"
	if not f11_arg4 then
		f11_local7 = f11_arg4
	else
		f11_local7 = "nil"
	end
	f11_local0( f11_local1, f11_local2 .. f11_local3 .. f11_local4 .. f11_local5 .. f11_local6 .. f11_local7 )
	f11_local0 = assert
	if f11_arg5 then
		f11_local1 = f11_arg5
	else
		f11_local1 = type( f11_arg5 ) == "function"
	end
	f11_local0( f11_local1, "Attempt to attach fence with invalid function 'onFenceStateChanged'" )
	f11_local0 = assert
	if f11_arg6 ~= nil and type( f11_arg6 ) ~= "boolean" then
		f11_local1 = false
	else
		f11_local1 = true
	end
	f11_local0( f11_local1 )
	f11_local0 = {}
	for f11_local3, f11_local4 in pairs( LUI.DeferredFence.Criticality ) do
		f11_local0[f11_local4] = f11_local3
		assert( LUI.DeferredFence.Criticality[f11_local0[f11_local4]] == f11_local4 )
	end
	f11_local8 = {}
	for f11_local4, f11_local5 in pairs( LUI.DeferredFence.BackOutMethod ) do
		f11_local8[f11_local5] = f11_local4
		assert( LUI.DeferredFence.BackOutMethod[f11_local8[f11_local5]] == f11_local5 )
	end
	if f0_local0[f11_arg3] then
		assert( f0_local0 < f11_arg4, "Attaching " .. f11_local0[f11_arg3] .. " fence requires a back out method greater than " .. f11_local8[f11_arg4] )
		f0_local0( f11_arg0, f11_arg4 )
	end
	f11_local1 = assert
	f11_local3 = f0_local0[f11_arg3]
	if f11_local3 then
		f11_local3 = type( f0_local0[f11_arg3] ) == "function"
	end
	f11_local1( f11_local3, "Undefined handler for fence criticality " .. f11_local0[f11_arg3] )
end

LUI.DeferredFence.IsFenceComplete = function ( f10_arg0 )
	local f10_local0 = assert
	local f10_local1
	if f10_arg0 then
		f10_local1 = f10_arg0
	else
		f10_local1 = type( f10_arg0 ) == "number"
	end
	f10_local0( f10_local1 )
	if f10_arg0 ~= LUI.Fence.FenceObjectState.PASSING and f10_arg0 ~= LUI.Fence.FenceObjectState.FAILED then
		f10_local0 = false
	else
		f10_local0 = true
	end
	return f10_local0
end

LUI.DeferredFence.DetachAll = function ( f9_arg0 )
	for f9_local0 = #f0_local0, 1, -1 do
		if f0_local0[f9_local0].element == f9_arg0 then
			table.remove( f0_local0, f9_local0 )
		end
	end
end

LUI.DeferredFence.Attach = function ( f7_arg0, f7_arg1, f7_arg2, f7_arg3, f7_arg4, f7_arg5, f7_arg6 )
	f0_local0( f7_arg0, f7_arg1, f7_arg2, f7_arg3, f7_arg4, f7_arg5, f7_arg6 )
	local f7_local0 = "fence_" .. string.lower( f7_arg2 ) .. "_changed"
	local f7_local1 = function ( f8_arg0, f8_arg1 )
		local f8_local0 = {
			criticality = f7_arg0,
			fenceName = f7_arg0,
			element = f8_arg0,
			event = f8_arg1,
			backOutMethod = f7_arg0,
			onFenceStateChanged = f7_arg0
		}
		for f8_local4, f8_local5 in ipairs( f7_arg0 ) do
			if f8_local5.onFenceStateChanged == f8_local0.onFenceStateChanged then
				table.remove( f7_arg0, f8_local4 )
			end
		end
		table.insert( f7_arg0, f8_local0 )
	end
	
	if f7_arg6 then
		local f7_local2 = Fences[0x6C6D08978B8C65]( f7_arg1, f7_arg2 )
		f7_arg0:registerAndCallEventHandler( f7_local0, f7_local1, {
			controllerIndex = f7_arg1,
			fenceState = f7_local2
		} )
		return f7_local2
	else
		f7_arg0:registerEventHandler( f7_local0, f7_local1 )
		return Fences[0x5D874D3BFE6FCB3]( f7_arg1, f7_arg2 )
	end
end

LUI.DeferredFence.DeferredFenceUpdate = function ()
	if f0_local0 and 0 < #f0_local0 then
		table.sort( f0_local0, function ( f6_arg0, f6_arg1 )
			if f6_arg1.criticality < f6_arg0.criticality then
				return true
			else
				
			end
		end )
		if 0 < #f0_local0 then
			
		else
			
		end
	end
end

MenuBuilder.registerType( "DeferredFenceInProgressPopup", function ( f2_arg0, f2_arg1 )
	assert( f2_arg1 )
	assert( f2_arg1.onCancel )
	assert( f2_arg1.controllerIndex )
	assert( f2_arg1.fenceName )
	local f2_local0 = Engine[0xED84C33EC5F01EA]( 0x58B683665736D48 )
	f2_arg1.hideDarkener = true
	f2_arg1.disableIntro = false
	f2_arg1.message = f2_local0
	f2_arg1.onStatusUpdateCallback = function ( f4_arg0 )
		local f4_local0 = Fences[0x7E779F6CED13F21]( f4_arg0, f2_arg0.fenceName )
		if not f4_local0 then
			f4_local0 = ""
		end
		return f4_local0
	end
	
	f2_arg1.onMessageUpdateCallback = function ( f3_arg0 )
		local f3_local0 = Fences[0x16D16AAE1F86E41]( f3_arg0, f2_arg0.fenceName )
		if not f3_local0 then
			f3_local0 = f2_arg0
		end
		return f3_local0
	end
	
	local f2_local1 = MenuBuilder.BuildRegisteredType( "FenceDialogPopup", f2_arg1 )
	f2_local1.id = "DeferredFenceInProgressPopup"
	return f2_local1
end )
MenuBuilder.registerType( "DeferredFenceFailedPopup", function ( f1_arg0, f1_arg1 )
	assert( f1_arg1 )
	assert( f1_arg1.message )
	assert( f1_arg1.buttons )
	assert( f1_arg1.controllerIndex )
	f1_arg1.title = Engine[0xED84C33EC5F01EA]( 0x2620520B89194C2 )
	local f1_local0 = MenuBuilder.BuildRegisteredType( "GenericImagePopup", f1_arg1 )
	f1_local0.id = "DeferredFenceFailedPopup"
	return f1_local0
end )
