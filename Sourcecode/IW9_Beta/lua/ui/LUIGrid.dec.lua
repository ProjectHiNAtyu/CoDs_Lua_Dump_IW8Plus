-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 12-11-2025 23:01
LUI.UIGrid = LUI.Class( LUI.UIElement )
LUI.UIDataSourceGrid = LUI.Class( LUI.UIGrid )
LUI.UIPeekingGrid = LUI.Class( LUI.UIGrid )
LUI.UICarouselGrid = LUI.Class( LUI.UIPeekingGrid )
LUI.UIGrid.ARROW_FOR = {
	next = 1,
	previous = 0
}
local f0_local0 = nil
LUI.UIGrid.GRID_EPSILON = 0.01
local f0_local1 = 0.04
local f0_local2 = 30
local f0_local3 = 2000
local f0_local4 = 1000
local f0_local5 = 3000
local f0_local6 = 0.5
local f0_local7 = function ( f200_arg0 )
	f200_arg0.DebugBackground = LUI.UIImage.new()
	f200_arg0.DebugBackground.id = "DebugBackground"
	f200_arg0.DebugBackground:SetRGBFromTable( {
		g = -8.679223792368794E+209,
		b = 4.667261640415006E-62,
		r = -9.255965340288647E+61
	} )
	f200_arg0:addEventHandler( "layout_initialized", function ( f203_arg0, f203_arg1 )
		f203_arg0.DebugBackground:addElementBefore( f203_arg0 )
	end )
	f200_arg0.DebugBackground._updateDebugBackgroundTimer = LUI.UITimer.new( {
		event = "debug_update_pos_and_size",
		interval = 32,
		eventTarget = f200_arg0
	} )
	f200_arg0.DebugBackground:addElement( f200_arg0.DebugBackground._updateDebugBackgroundTimer )
	f200_arg0:registerEventHandler( "debug_update_pos_and_size", function ( element, event )
		local f202_local0 = element:GetAnchorsAndPosition()
		if element.DebugBackground and element.DebugBackground:getParent() then
			element.DebugBackground:SetAnchorsAndPosition( f202_local0.leftAnchor, f202_local0.rightAnchor, f202_local0.topAnchor, f202_local0.bottomAnchor, f202_local0.left, f202_local0.right, f202_local0.top, f202_local0.bottom )
			element.DebugBackground:SetAlpha( element:GetAlpha() )
			element.DebugBackground:SetScale( element:GetScale() )
		end
	end )
	local f200_local0 = f200_arg0.closeTree
	f200_arg0.closeTree = function ( f201_arg0 )
		f200_arg0( f201_arg0 )
		f201_arg0.DebugBackground:closeTree()
		f201_arg0.DebugBackground = nil
	end
	
end

LUI.UIGrid.init = function ( f182_arg0, f182_arg1 )
	Engine[0x20F70AE94873E0B]( "UIGrid", "widget" )
	assert( f182_arg1 )
	assert( type( f182_arg1.maxVisibleRows ) == "number" )
	assert( type( f182_arg1.maxVisibleColumns ) == "number" )
	local f182_local0 = assert
	local f182_local1
	if f182_arg1.buildChild ~= nil and type( f182_arg1.buildChild ) ~= "function" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.refreshChild ~= nil and type( f182_arg1.refreshChild ) ~= "function" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.measureRow ~= nil and type( f182_arg1.measureRow ) ~= "function" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.rowHeight ~= nil and type( f182_arg1.rowHeight ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	f182_local1 = f182_arg1.rowHeight
	if not f182_local1 then
		f182_local1 = f182_arg1.measureRow
		if not f182_local1 then
			f182_local1 = not f182_arg1.buildChild
		end
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.measureColumn ~= nil and type( f182_arg1.measureColumn ) ~= "function" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.columnWidth ~= nil and type( f182_arg1.columnWidth ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	f182_local1 = f182_arg1.columnWidth
	if not f182_local1 then
		f182_local1 = f182_arg1.measureColumn
		if not f182_local1 then
			f182_local1 = not f182_arg1.buildChild
		end
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.isPositionFocusable ~= nil and type( f182_arg1.isPositionFocusable ) ~= "function" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.wrapX ~= nil and type( f182_arg1.wrapX ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.wrapY ~= nil and type( f182_arg1.wrapY ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.spacingX ~= nil and type( f182_arg1.spacingX ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.spacingY ~= nil and type( f182_arg1.spacingY ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.horizontalAlignment ~= nil and type( f182_arg1.horizontalAlignment ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.verticalAlignment ~= nil and type( f182_arg1.verticalAlignment ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.defaultFocus ~= nil and type( f182_arg1.defaultFocus ) ~= "table" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.numRows ~= nil and type( f182_arg1.numRows ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.numColumns ~= nil and type( f182_arg1.numColumns ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.numChildren ~= nil and type( f182_arg1.numChildren ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.scrollingThresholdX ~= nil and type( f182_arg1.scrollingThresholdX ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.scrollingThresholdY ~= nil and type( f182_arg1.scrollingThresholdY ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.maxVelocity ~= nil and type( f182_arg1.maxVelocity ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.springCoefficient ~= nil and type( f182_arg1.springCoefficient ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.primaryAxis ~= nil and type( f182_arg1.primaryAxis ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.adjustSizeToContent ~= nil and type( f182_arg1.adjustSizeToContent ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.alwaysSnap ~= nil and type( f182_arg1.alwaysSnap ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.disableMouseWheel ~= nil and type( f182_arg1.disableMouseWheel ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.arrowsEnabled ~= nil and type( f182_arg1.arrowsEnabled ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.widgetsAlwaysVisible ~= nil and type( f182_arg1.widgetsAlwaysVisible ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.directionalInputEnabled ~= nil and type( f182_arg1.directionalInputEnabled ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.buildArrowsLabel ~= nil and type( f182_arg1.buildArrowsLabel ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.arrowsVerticalOffset ~= nil and type( f182_arg1.arrowsVerticalOffset ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.alwaysShowGridCountArrows ~= nil and type( f182_arg1.alwaysShowGridCountArrows ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.alwaysTrapMouseWheel ~= nil and type( f182_arg1.alwaysTrapMouseWheel ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.countFunction ~= nil and type( f182_arg1.countFunction ) ~= "function" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.mouseDragScroll ~= nil and type( f182_arg1.mouseDragScroll ) ~= "boolean" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_local0 = assert
	if f182_arg1.scrollButtonPixelThreshold ~= nil and type( f182_arg1.scrollButtonPixelThreshold ) ~= "number" then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	f182_arg1.adjustSizeToContent = f182_arg1.adjustSizeToContent == true
	f182_arg1.spacingX = f182_arg1.spacingX or 0
	f182_arg1.spacingY = f182_arg1.spacingY or 0
	f182_arg1.maxVelocity = f182_arg1.maxVelocity or 5000
	f182_arg1.springCoefficient = f182_arg1.springCoefficient or 400
	f182_arg1.arrowsVerticalOffset = f182_arg1.arrowsVerticalOffset or f182_arg1.spacingY
	if not f182_arg1.primaryAxis then
		if f182_arg1.maxVisibleColumns == 1 and 1 < f182_arg1.maxVisibleRows then
			f182_arg1.primaryAxis = LUI.DIRECTION.vertical
		else
			f182_arg1.primaryAxis = LUI.DIRECTION.horizontal
		end
	end
	f182_local0 = assert
	if f182_arg1.primaryAxis ~= LUI.DIRECTION.horizontal and f182_arg1.primaryAxis ~= LUI.DIRECTION.vertical then
		f182_local1 = false
	else
		f182_local1 = true
	end
	f182_local0( f182_local1 )
	LUI.UIGrid.super.init( f182_arg0 )
	f182_arg0.id = "UIGrid"
	f182_arg0._controllerIndex = f182_arg1.controllerIndex
	f182_arg0._isPositionFocusable = f182_arg1.isPositionFocusable
	f182_arg0._rowHeight = f182_arg1.rowHeight
	f182_arg0._columnWidth = f182_arg1.columnWidth
	f182_arg0._spacingX = f182_arg1.spacingX
	f182_arg0._spacingY = f182_arg1.spacingY
	if f182_arg1.wrapX ~= nil and f182_arg1.wrapX ~= true then
		f182_local0 = false
	else
		f182_local0 = true
	end
	f182_arg0._wrapX = f182_local0
	if f182_arg1.wrapY ~= nil and f182_arg1.wrapY ~= true then
		f182_local0 = false
	else
		f182_local0 = true
	end
	f182_arg0._wrapY = f182_local0
	f182_arg0._defaultFocus = f182_arg1.defaultFocus or nil
	f182_arg0._scrollingThresholdX = f182_arg1.scrollingThresholdX or 1
	f182_arg0._scrollingThresholdY = f182_arg1.scrollingThresholdY or 1
	f182_arg0._scrollingThresholdPixelX = f182_arg1.scrollingThresholdPixelX or 0
	f182_arg0._scrollingThresholdPixelY = f182_arg1.scrollingThresholdPixelY or 0
	f182_arg0._permittedQualifiers = f182_arg1.permittedQualifiers or {}
	f182_local0 = f182_arg1.horizontalAlignment
	if not f182_local0 then
		f182_local0 = LUI.Alignment.Left
	end
	f182_arg0._horizontalAlignment = f182_local0
	f182_local0 = f182_arg1.verticalAlignment
	if not f182_local0 then
		f182_local0 = LUI.Alignment.Top
	end
	f182_arg0._verticalAlignment = f182_local0
	f182_arg0._alwaysSnap = f182_arg1.alwaysSnap == true
	f182_arg0._disableMouseWheel = f182_arg1.disableMouseWheel
	f182_arg0._arrowsEnabled = f182_arg1.arrowsEnabled ~= false
	f182_arg0._scrollButtonsEnabled = f182_arg1.scrollButtonsEnabled ~= false
	f182_arg0._widgetsAlwaysVisible = f182_arg1.widgetsAlwaysVisible or false
	f182_arg0._directionalInputEnabled = f182_arg1.directionalInputEnabled ~= false
	f182_arg0._alwaysTrapMouseWheel = f182_arg1.alwaysTrapMouseWheel or false
	f182_arg0._buildChild = f182_arg1.buildChild
	f182_arg0._onNewTargetFocusPosition = f182_arg1.onNewTargetFocusPosition or nil
	f182_arg0._arrows = {}
	f182_arg0._itemNumbers = {}
	f182_arg0._scrollbars = {}
	f182_arg0._scrollButtons = {}
	f182_arg0._mouseWheelScrollingVerticalOffsetPx = f182_arg1.mouseWheelScrollingOffsetPx or 16
	f182_arg0._mouseWheelScrollingHorizontalOffsetPx = f182_arg1.mouseWheelScrollingOffsetPx or 56
	f182_arg0._showNumbersAndArrowsKBM = f182_arg1.alwaysShowGridCountArrows or false
	f182_arg0._updateArrowVisibilityOnRefresh = true
	f182_arg0._countFunction = f182_arg1.countFunction or nil
	f182_arg0._mouseDragScroll = f182_arg1.mouseDragScroll or false
	f182_arg0._gridCurrentActiveIndex = -1
	f182_arg0._scrollButtonPixelThreshold = f182_arg1.scrollButtonPixelThreshold or 100
	f182_arg0._loseActiveOnRefresh = true
	if Engine[0x2DA54CF5D6B7F02]() then
		f182_arg0._refreshChild = f182_arg1.refreshChild
		f182_arg0._isGrid = true
	end
	f182_arg0:registerEventHandler( "position_visible", function ( element, event )
		assert( event.row and event.column )
		assert( event.child )
		if element._targetPosition and event.child ~= event._childInFocus and element._shouldFocus and event.row == element._targetPosition.y and event.column == element._targetPosition.x then
			if element._isWrapping then
				element._isWrapping = false
			end
			element:GiveFocusToChild( event.child )
		end
	end )
	if CONDITIONS.IsMobileOrMobileSim() then
		f182_arg0:registerEventHandler( "restore_focus", function ( element, event )
			
		end )
	else
		f182_arg0:registerEventHandler( "restore_focus", f182_arg0.restoreFocus )
	end
	f182_arg0:registerEventHandler( "update_grid_list_focus", function ( element, event )
		if event.focusType == FocusType.MouseOver and event.child and event.child._gridContentColumnIndex and event.child._gridContentRowIndex then
			element:SetPositionInternal( {
				x = event.child._gridContentColumnIndex,
				y = event.child._gridContentRowIndex
			}, true, true, false, nil, false )
		end
	end )
	f182_arg0:registerEventHandler( "gain_focus", function ( element, event )
		return element:GainFocus( event )
	end )
	f182_arg0:registerEventHandler( "lose_focus", function ( element, event )
		return element:LoseFocus( event )
	end )
	f182_arg0:registerEventHandler( "gamepad_button", function ( element, event )
		return element:GamepadButton( event )
	end )
	f182_arg0:registerEventHandler( "update_input_type", function ( element, event )
		element:UpdateNumbersArrowsAndScrolling()
		for f193_local3, f193_local4 in ipairs( element._scrollbars ) do
			if f193_local4.UpdateInputType then
				f193_local4:UpdateInputType( element, event )
			end
		end
	end )
	f182_arg0:registerEventHandler( "grid_size_updated", function ( element, event )
		element:UpdateNumbersArrowsAndScrolling()
	end )
	f182_arg0:registerEventHandler( "ensure_line_visible", function ( element, event )
		element:EnsureLineVisible( event.direction, event.line, event.force )
	end )
	f182_arg0:registerEventHandler( "mousedrag", function ( element, event )
		element:HandleMouseDrag( event )
	end )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xD7862EAA83B3B27 ) then
		f182_arg0:SetHandleTouchInput( true )
		f182_arg0:registerEventHandler( "touchbegin", function ( element, event )
			return element:HandleTouchBegin( event )
		end )
		f182_arg0:registerEventHandler( "touchmove", function ( element, event )
			return element:HandleTouchMove( event )
		end )
		f182_arg0:registerEventHandler( "touchend", function ( element, event )
			return element:HandleTouchEnd( event )
		end )
	end
	f182_local0 = Dvar[0x9E5BE3B4BBA4E0E]( 0xDDED29F271B83DF )
	if Engine[0x5EE05AD994388B6]() then
		f182_arg0:addEventHandler( "update_grid_list_focus_active", function ( f186_arg0, f186_arg1 )
			if not f186_arg1.child then
				return 
			end
			local f186_local0, f186_local1 = f186_arg0:GetChildPosition( f186_arg1.child )
			local f186_local2 = f186_arg1.focusType == FocusType.MouseOver
			if f186_local2 and f186_local0 and f186_local1 then
				local f186_local3, f186_local4 = f186_arg0:GetColumnBoundaries()
				local f186_local5, f186_local6 = f186_arg0:GetRowBoundaries()
				if f186_local3 and f186_local5 then
					f186_local0 = LUI.clamp( f186_local0, f186_local3, f186_local4 )
					f186_local1 = LUI.clamp( f186_local1, f186_local5, f186_local6 )
				end
			end
			local f186_local3 = f186_arg0:IsAlreadyFocused( f186_local0, f186_local1 ) and f186_arg0._targetPosition
			if not f186_local3 and f186_local0 and f186_local1 then
				f186_arg0._targetPosition = {
					x = f186_local0,
					y = f186_local1
				}
				f186_arg0._childInFocus = f186_arg0:GetElementAtPosition( f186_local0, f186_local1 )
				f186_arg0:SetFocusedPosition( f186_arg0._targetPosition, true )
				f186_arg0._shouldFocus = true
				if f182_arg0 then
					f186_arg0._shouldFocus = true
				end
				f186_arg0:FocusChanged( f186_arg1.focusType )
			end
			if f186_arg0:IsUsingActiveOnMouseOverBehavior() and f186_local2 and (not f186_local3 or not f186_arg1.child.isActive) then
				f186_arg0:TryRequestActiveOnChildFocus( f186_arg0._childInFocus )
			end
		end )
		f182_arg0.neverSaveState = f182_local0
	end
	f182_arg0:SetHandleMouse( true )
	f182_arg0:OverrideMouseCursorType( MouseCursorType.CURSOR_TYPE_ARROW_NORMAL )
	f182_arg0:registerEventHandler( "mousedown", function ( element, event )
		element:MouseButtonEvent( event )
	end )
	f182_arg0:registerEventHandler( "mouseup", function ( element, event )
		element:MouseButtonEvent( event )
	end )
	f182_arg0:registerEventHandler( "request_inactive_to_built_children", function ( element, event )
		element:RequestInactiveToBuiltChildren( event )
	end )
	f182_arg0:SetupUIGrid( f182_arg1 )
	if f182_arg1.buildArrowsLabel then
		f182_arg0:BuildGridCountArrows( nil, f182_arg1.arrowsVerticalOffset )
	end
	if Dvar[0x9E5BE3B4BBA4E0E]( 0x10EED251950D38F ) then
		f0_local0( f182_arg0 )
	end
	Engine[0xFE34BB8C92CDBEE]( "UIGrid", "widget" )
end

LUI.UIGrid.IsAlreadyFocused = function ( f181_arg0, f181_arg1, f181_arg2 )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xDDED29F271B83DF ) then
		local f181_local0 = f181_arg0.saveData
		if f181_local0 then
			f181_local0 = f181_arg0.saveData.targetPosition
			if f181_local0 then
				if f181_arg0.saveData.targetPosition.x ~= f181_arg1 or f181_arg0.saveData.targetPosition.y ~= f181_arg2 then
					f181_local0 = false
				else
					f181_local0 = true
				end
			end
		end
		return f181_local0
	end
	local f181_local0 = f181_arg0._targetPosition
	if f181_local0 then
		if f181_arg0._targetPosition.x ~= f181_arg1 or f181_arg0._targetPosition.y ~= f181_arg2 then
			f181_local0 = false
		else
			f181_local0 = true
		end
	end
	return f181_local0
end

LUI.UIGrid.GetSpacingX = function ( f180_arg0 )
	return f180_arg0._spacingX
end

LUI.UIGrid.GetSpacingY = function ( f179_arg0 )
	return f179_arg0._spacingY
end

LUI.UIGrid.GetRowHeight = function ( f178_arg0 )
	return f178_arg0._rowHeight
end

LUI.UIGrid.GetColumnWidth = function ( f177_arg0 )
	return f177_arg0._columnWidth
end

LUI.UIGrid.SetCurrentActiveIndex = function ( f176_arg0, f176_arg1 )
	local f176_local0, f176_local1 = f176_arg0:GetChildPosition( f176_arg1 )
	if f176_local0 and f176_local1 then
		f176_arg0._gridCurrentActiveIndex = f176_arg0:GetContentIndex( f176_local0, f176_local1 )
	end
end

LUI.UIGrid.GetCurrentActiveIndex = function ( f175_arg0 )
	return f175_arg0._gridCurrentActiveIndex
end

LUI.UIGrid.SetCollapsableScrollbarOnTouch = function ( f172_arg0, f172_arg1 )
	f172_arg0:addEventHandler( "touchbegin", function ( f174_arg0, f174_arg1 )
		for f174_local3, f174_local4 in ipairs( f174_arg0._scrollbars ) do
			f174_local4:ShowScrollbar( f174_arg1 )
		end
	end )
	f172_arg0:addEventHandler( "touchend", function ( f173_arg0, f173_arg1 )
		for f173_local3, f173_local4 in ipairs( f173_arg0._scrollbars ) do
			f173_local4:HideScrollbar( f173_arg1 )
		end
	end )
	for f172_local3, f172_local4 in ipairs( f172_arg0._scrollbars ) do
		f172_local4:HideScrollbar( {
			controller = f172_arg1
		} )
	end
end

local f0_local8 = function ( f170_arg0, f170_arg1 )
	return function ( f171_arg0, f171_arg1, f171_arg2 )
		f170_arg0( f171_arg0, f171_arg1, f171_arg2 )
		if f171_arg0.RegisterParentActiveBehavior then
			f171_arg0:RegisterParentActiveBehavior()
		end
		local f171_local0 = f170_arg0._controllerIndex
		if not f171_local0 then
			f171_local0 = Engine[0x45B054C920178E9]()
		end
		if LUI.IsLastInputMouseNavigation( f171_local0 ) and f170_arg0._loseActiveOnRefresh ~= false then
			if f170_arg0._gridCurrentActiveIndex == f170_arg0:GetContentIndex( f171_arg1, f171_arg2 ) then
				if f170_arg0:IsUsingActiveOnMouseOverBehavior() then
					f170_arg0:processEvent( {
						name = "update_grid_list_focus_active",
						child = f171_arg0,
						focusType = FocusType.MouseOver
					} )
				else
					f170_arg0:TryRequestActiveOnChildFocus( f171_arg0 )
				end
			elseif f171_arg0.isActive then
				f171_arg0:dispatchEventToParent( {
					name = "request_active"
				} )
			end
		end
	end
	
end

LUI.UIGrid.SetRefreshChild = function ( f169_arg0, f169_arg1 )
	if Engine[0x2DA54CF5D6B7F02]() then
		f169_arg0._refreshChild = f169_arg1
	end
	if f169_arg0:GetUsingSetActiveBehaviorType() ~= nil then
		f169_arg0._activeRefreshChild = f0_local0( f169_arg0, f169_arg1 )
		f169_arg0:SetRefreshChildInC( f169_arg0._activeRefreshChild )
	else
		f169_arg0:SetRefreshChildInC( f169_arg1 )
	end
end

LUI.UIGrid.ColumnRowToPrimarySecondary = function ( f168_arg0, f168_arg1, f168_arg2 )
	if f168_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		return f168_arg1, f168_arg2
	else
		return f168_arg2, f168_arg1
	end
end

LUI.UIGrid.PrimarySecondaryToColumnRow = function ( f167_arg0, f167_arg1, f167_arg2 )
	if f167_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		return f167_arg1, f167_arg2
	else
		return f167_arg2, f167_arg1
	end
end

LUI.UIGrid.SetNumChildren = function ( f166_arg0, f166_arg1, f166_arg2 )
	if f166_arg0.maxAllocatedChildren then
		assert( f166_arg1 <= f166_arg0.maxAllocatedChildren, "LUIGrid: Trying to set more than the max number of allowed children." )
	end
	if f166_arg2 and f166_arg2.shouldRemoveExcessChildren then
		f166_arg0.maxAllocatedChildren = f166_arg1
		local f166_local0 = f166_arg0:GetBuiltChildren()
		local f166_local1 = #f166_local0
		if 0 < f166_local1 - f166_arg1 then
			for f166_local2 = f166_local1, f166_arg1 + 1, -1 do
				local f166_local5 = f166_local0[f166_local2]
				f166_arg0:RemoveElement( f166_local5 )
				f166_local5:closeTree()
				f166_local5 = nil
			end
		end
		f166_arg0:SetNumChildrenInC( f166_arg1, f166_arg2.shouldRemoveExcessChildren )
	else
		f166_arg0:SetNumChildrenInC( f166_arg1 )
	end
	if f166_arg0._targetPosition then
		if f166_arg0._shouldFocus then
			f166_arg0:SetFocusedPosition( f166_arg0._targetPosition, true )
		else
			f166_arg0:SetPosition( f166_arg0._targetPosition, true )
		end
	else
		f166_arg0:SetTargetColumnToDefault()
		f166_arg0:SetTargetRowToDefault()
	end
	if f166_arg0:GetUsingSetActiveBehaviorType() ~= nil then
		f166_arg0:RegisterParentActiveBehavior()
	end
end

LUI.UIGrid.SetNumColumns = function ( f165_arg0, f165_arg1 )
	f165_arg0:SetNumColumnsInC( f165_arg1 )
	if f165_arg0._targetPosition then
		if f165_arg0._shouldFocus then
			f165_arg0:SetFocusedPosition( f165_arg0._targetPosition, true )
		else
			f165_arg0:SetPosition( f165_arg0._targetPosition, true )
		end
	else
		f165_arg0:SetTargetColumnToDefault()
	end
end

LUI.UIGrid.SetNumRows = function ( f164_arg0, f164_arg1 )
	f164_arg0:SetNumRowsInC( f164_arg1 )
	if f164_arg0._targetPosition then
		if f164_arg0._shouldFocus then
			f164_arg0:SetFocusedPosition( f164_arg0._targetPosition, true )
		else
			f164_arg0:SetPosition( f164_arg0._targetPosition, true )
		end
	else
		f164_arg0:SetTargetRowToDefault()
	end
end

LUI.UIGrid.EnsureLineVisible = function ( f163_arg0, f163_arg1, f163_arg2, f163_arg3 )
	local f163_local0 = assert
	local f163_local1
	if (f163_arg1 ~= LUI.DIRECTION.vertical or f163_arg0._verticalAlignment ~= LUI.Alignment.Top and f163_arg0._verticalAlignment ~= nil) and (f163_arg1 ~= LUI.DIRECTION.horizontal or f163_arg0._horizontalAlignment ~= LUI.Alignment.Left and f163_arg0._horizontalAlignment ~= nil) then
		f163_local1 = false
	else
		f163_local1 = true
	end
	f163_local0( f163_local1 )
	f163_local0, f163_local2, f163_local1 = nil
	if f163_arg1 == LUI.DIRECTION.horizontal then
		f163_local0 = f163_arg0.SetTargetColumn
		f163_local2 = f163_arg0.GetColumnBoundaries
		f163_local1 = f163_arg0.ComputeColumnLeftFromRight
	else
		f163_local0 = f163_arg0.SetTargetRow
		f163_local2 = f163_arg0.GetRowBoundaries
		f163_local1 = f163_arg0.ComputeRowTopFromBottom
	end
	local f163_local3, f163_local4 = f163_local2( f163_arg0 )
	local f163_local5 = false
	if f163_arg2 < f163_local3 then
		f163_local0( f163_arg0, f163_arg2, true, false )
		f163_local5 = true
	elseif f163_local4 < f163_arg2 then
		f163_local0( f163_arg0, f163_local1( f163_arg0, f163_arg2 ), true, false )
		f163_local5 = true
	end
	if not f163_local5 and f163_arg3 then
		f163_local0( f163_arg0, f163_arg2, true, false )
		f163_local5 = true
	end
	if f163_local5 then
		f163_arg0:UpdateNumbersArrowsAndScrolling()
	end
end

LUI.UIGrid.HandleScrollbarDrag = function ( f162_arg0, f162_arg1 )
	local f162_local0 = f162_arg1.scrollbar
	if f162_arg1.dragStart or not f162_arg0._dragTargetRef then
		f162_arg0._dragTargetRef = {
			x = f162_arg1.targetX,
			y = f162_arg1.targetY
		}
	end
	local f162_local1 = f162_arg1.targetX - f162_arg0._dragTargetRef.x
	local f162_local2 = f162_arg1.targetY - f162_arg0._dragTargetRef.y
	if f162_local1 == 0 and f162_local2 == 0 then
		return false
	end
	local f162_local3 = f162_arg0:GetContentSizeByAxis( f162_local0:GetDirection() )
	if f162_local3 and 0 < f162_local3 then
		local f162_local4 = {}
		if f162_local0:GetDirection() == LUI.DIRECTION.vertical then
			local f162_local5 = f162_local2 * f162_local3
			local f162_local6, f162_local7 = f162_arg0:GetRowBoundaries()
			local f162_local8 = f162_arg0
			local f162_local9 = f162_arg0.ConvertRowPixelToLine
			local f162_local10
			if 0 <= f162_local5 and not f162_local7 then
				f162_local10 = f162_local7
			else
				f162_local10 = f162_local6
			end
			f162_local9 = f162_local9( f162_local8, f162_local10, f162_local5 )
			f162_local4 = {
				x = f162_arg0:GetTargetColumn(),
				y = f162_local9,
				x = f162_arg0:GetTargetColumn(),
				y = f162_local9
			}
			f162_arg0:SetPositionInternal( f162_local4, true, false, false )
		else
			local f162_local5 = f162_local1 * f162_local3
			local f162_local6, f162_local7 = f162_arg0:GetColumnBoundaries()
			local f162_local8 = f162_arg0
			local f162_local9 = f162_arg0.ConvertColumnPixelToLine
			local f162_local10
			if 0 <= f162_local5 and not f162_local7 then
				f162_local10 = f162_local7
			else
				f162_local10 = f162_local6
			end
			f162_local9 = f162_local9( f162_local8, f162_local10, f162_local5 )
			f162_local4 = {
				x = f162_local9,
				y = f162_arg0:GetTargetRow(),
				x = f162_local9,
				y = f162_arg0:GetTargetRow()
			}
			f162_arg0:SetPositionInternal( f162_local4, true, false, false )
		end
		f162_arg0:UpdateScrolling()
		f162_arg0:PositionChanged()
		f162_arg0._dragTargetRef = {
			x = f162_arg1.targetX,
			y = f162_arg1.targetY
		}
		if f162_arg0:IsSnapOnScrollBarMouseDrag() then
			if not f162_arg0._mouseDragTargetPosition then
				f162_arg0._mouseDragTargetPosition = {}
			end
			f162_arg0._mouseDragTargetPosition.x = f162_local4.x
			f162_arg0._mouseDragTargetPosition.y = f162_local4.y
		end
	end
	return true
end

LUI.UIGrid.HandleScrollbarSet = function ( f161_arg0, f161_arg1 )
	if f161_arg1.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
		f161_arg0:SetPositionInternal( {
			x = f161_arg0:GetTargetColumn(),
			y = f161_arg0:ConvertRowPixelToLine( 0, (f161_arg0:GetContentSizeByAxis( LUI.DIRECTION.vertical ) or 1) * f161_arg1.targetY )
		}, true )
	else
		f161_arg0:SetPositionInternal( {
			x = f161_arg0:ConvertColumnPixelToLine( 0, (f161_arg0:GetContentSizeByAxis( LUI.DIRECTION.horizontal ) or 1) * f161_arg1.targetX ),
			y = f161_arg0:GetTargetRow()
		}, true )
	end
end

LUI.UIGrid.HandleScrollbarMouseUp = function ( f160_arg0, f160_arg1 )
	local f160_local0 = f160_arg1.scrollbar
	if f160_arg0:IsSnapOnScrollBarMouseDrag() and f160_arg1.scrollbarWasDragged and f160_arg0._mouseDragTargetPosition and next( f160_arg0._mouseDragTargetPosition ) then
		f160_arg0:SetPositionInternal( {
			x = math.floor( f160_arg0._mouseDragTargetPosition.x + f0_local0 ),
			y = math.floor( f160_arg0._mouseDragTargetPosition.y + f0_local0 ),
			_mouseDragForceSnap = true
		}, false, false, false )
	end
	return true
end

LUI.UIGrid.AddScrollbar = function ( f157_arg0, f157_arg1 )
	if f157_arg1._slider then
		f157_arg1._slider.mouseWheelTarget = f157_arg0
	elseif f157_arg1._fixedSizeSlider then
		f157_arg1._fixedSizeSlider.mouseWheelTarget = f157_arg0
	end
	f157_arg1:LinkTo( f157_arg0 )
	f157_arg0:SetHandleMouseMove( true )
	table.insert( f157_arg0._scrollbars, f157_arg1 )
	f157_arg0:SetNotifyOnLayoutInit( true )
	if not f157_arg1._customScrolling then
		f157_arg0:registerEventHandler( "scrollbar_previous", function ( element, event )
			if event.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
				element:Scroll( "up" )
			else
				element:Scroll( "left" )
			end
			return true
		end )
		f157_arg0:registerEventHandler( "scrollbar_next", function ( element, event )
			if event.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
				element:Scroll( "down" )
			else
				element:Scroll( "right" )
			end
			return true
		end )
		f157_arg0:registerEventHandler( "scrollbar_drag", f157_arg0.HandleScrollbarDrag )
		f157_arg0:registerEventHandler( "scrollbar_mouse_up", f157_arg0.HandleScrollbarMouseUp )
		f157_arg0:registerEventHandler( "scrollbar_set", f157_arg0.HandleScrollbarSet )
	end
end

LUI.UIGrid.SetArrowsEnabled = function ( f156_arg0, f156_arg1 )
	f156_arg0._arrowsEnabled = f156_arg1
end

LUI.UIGrid.SetScrollButtonsEnabled = function ( f155_arg0, f155_arg1 )
	f155_arg0._scrollButtonsEnabled = f155_arg1
end

LUI.UIGrid.SetWidgetsAlwaysVisible = function ( f154_arg0, f154_arg1 )
	f154_arg0._widgetsAlwaysVisible = f154_arg1
end

LUI.UIGrid.SetWraps = function ( f153_arg0, f153_arg1, f153_arg2 )
	if f153_arg1 ~= nil then
		f153_arg0._wrapX = f153_arg1
	end
	if f153_arg2 ~= nil then
		f153_arg0._wrapY = f153_arg2
	end
end

LUI.UIGrid.AddArrow = function ( f151_arg0, f151_arg1, f151_arg2 )
	assert( type( f151_arg1 ) == "userdata" )
	local f151_local0
	if not f151_arg2 then
		f151_local0 = f151_arg2
	else
		f151_local0 = f151_arg1.id
	end
	f151_arg0._arrows[f151_local0] = f151_arg1
	if f151_arg1.id == "ArrowUp" or f151_arg1.id == "ArrowDown" or f151_arg1.id == "ArrowRight" or f151_arg1.id == "ArrowLeft" then
		f151_arg1:registerEventHandler( "button_action", function ( element, event )
			if f151_arg0._arrowsEnabled then
				local f152_local0 = "up"
				if f151_arg0.id == "ArrowDown" then
					f152_local0 = "down"
				elseif f151_arg0.id == "ArrowRight" then
					f152_local0 = "right"
				elseif f151_arg0.id == "ArrowLeft" then
					f152_local0 = "left"
				end
				f151_arg0:Scroll( f152_local0 )
			end
		end )
	end
end

LUI.UIGrid.AddScrollButton = function ( f149_arg0, f149_arg1, f149_arg2 )
	assert( type( f149_arg1 ) == "userdata" )
	local f149_local0
	if not f149_arg2 then
		f149_local0 = f149_arg2
	else
		f149_local0 = f149_arg1.id
	end
	f149_arg0._scrollButtons[f149_local0] = f149_arg1
	if f149_local0 == "upScrollButton" or f149_local0 == "downScrollButton" or f149_local0 == "leftScrollButton" or f149_local0 == "rightScrollButton" then
		f149_arg1:registerEventHandler( "button_action", function ( element, event )
			if f149_arg0._scrollButtonsEnabled then
				local f150_local0 = {
					y = 0,
					x = f149_arg0:GetTargetColumn()
				}
				if f149_arg0 == "downScrollButton" then
					f150_local0 = {
						x = f149_arg0:GetTargetColumn(),
						y = f149_arg0:GetNumRows()
					}
				elseif f149_arg0 == "leftScrollButton" then
					f150_local0 = {
						x = 0,
						y = f149_arg0:GetTargetRow()
					}
				elseif f149_arg0 == "rightScrollButton" then
					f150_local0 = {
						x = f149_arg0:GetNumColumns(),
						y = f149_arg0:GetTargetRow()
					}
				end
				f149_arg0:SetPosition( f150_local0, true, false, false )
				f149_arg0:StopInertialScrolling()
			end
		end )
	end
end

LUI.UIGrid.AddItemNumbers = function ( f148_arg0, f148_arg1, f148_arg2 )
	assert( type( f148_arg1 ) == "userdata" )
	assert( f148_arg1.setText )
	local f148_local0
	if not f148_arg2 then
		f148_local0 = f148_arg2
	else
		f148_local0 = f148_arg1.id
	end
	local f148_local1 = assert
	local f148_local2
	if f148_local0 then
		f148_local2 = f148_local0
	else
		f148_local2 = 0 < #f148_local0
	end
	f148_local1( f148_local2 )
	f148_arg0._itemNumbers[f148_local0] = f148_arg1
end

LUI.UIGrid.SetLastFocusIndexDataSource = function ( f147_arg0, f147_arg1 )
	assert( type( f147_arg1 ) == "table" )
	f147_arg0._lastFocusIndexDataSource = f147_arg1
	f147_arg0:SetLastFocusIndex( f147_arg0._targetPosition )
end

LUI.UIGrid.SetLastFocusIndex = function ( f146_arg0, f146_arg1 )
	if f146_arg0._lastFocusIndexDataSource then
		f146_arg0._lastFocusIndexDataSource:SetValue( f146_arg0._controllerIndex, f146_arg1 )
	end
end

LUI.UIGrid.FocusFirstItem = function ( f145_arg0, f145_arg1 )
	local f145_local0 = {
		x = 0,
		y = 0
	}
	if f145_arg1 ~= false then
		f145_arg0:SetFocusedPosition( f145_local0, true )
	else
		f145_arg0:SetPosition( f145_local0, true )
	end
end

LUI.UIGrid.FocusLastItem = function ( f144_arg0, f144_arg1 )
	local f144_local0 = {
		x = f144_arg0:GetNumColumns(),
		y = f144_arg0:GetNumRows()
	}
	if f144_arg1 ~= false then
		f144_arg0:SetFocusedPosition( f144_local0, true )
	else
		f144_arg0:SetPosition( f144_local0, true )
	end
end

LUI.UIGrid.GetFocusPositionIndex = function ( f143_arg0, f143_arg1 )
	if not f143_arg0._targetPosition then
		return nil
	elseif not f143_arg1 then
		f143_arg1 = {}
	end
	if f143_arg1.relativePosition == nil then
		f143_arg1.relativePosition = true
	end
	local f143_local0 = nil
	local f143_local1 = f143_arg0:GetFocusPosition( LUI.DIRECTION.horizontal )
	local f143_local2 = f143_arg0:GetFocusPosition( LUI.DIRECTION.vertical )
	if f143_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f143_arg1.relativePosition then
			f143_local0 = f143_local1 + f143_local2 * f143_arg0:GetMaxVisibleColumns()
		else
			f143_local0 = f143_local1 + f143_local2 * f143_arg0:GetNumColumns()
		end
	elseif f143_arg1.relativePosition then
		f143_local0 = f143_local2 + f143_local1 * f143_arg0:GetMaxVisibleRows()
	else
		f143_local0 = f143_local2 + f143_local1 * f143_arg0:GetNumRows()
	end
	local f143_local3 = f143_arg0:GetNumChildren()
	if f143_local3 then
		if f143_arg1.clampContentIndexToDatasetLength and f143_local3 <= f143_local0 then
			f143_local0 = f143_local3 - 1
		else
			f143_local0 = f143_local0 % f143_local3
		end
	end
	return f143_local0
end

LUI.UIGrid.IsFirstItemFocused = function ( f142_arg0 )
	return f142_arg0:GetFocusPositionIndex() == 0
end

LUI.UIGrid.IsLastItemFocused = function ( f141_arg0 )
	return f141_arg0:GetFocusPositionIndex() == f141_arg0:GetNumChildren() - 1
end

LUI.UIGrid.SetSnapOnWrapEnabled = function ( f140_arg0, f140_arg1 )
	f140_arg0._snapOnWrap = f140_arg1
end

LUI.UIGrid.SetSnapOnScrollBarMouseDrag = function ( f139_arg0, f139_arg1 )
	f139_arg0._snapOnScrollBarMouseDrag = f139_arg1
end

LUI.UIGrid.IsSnapOnScrollBarMouseDrag = function ( f138_arg0 )
	return f138_arg0._snapOnScrollBarMouseDrag
end

LUI.UIGrid.SetMouseWheelScrollingOffsetPx = function ( f137_arg0, f137_arg1, f137_arg2 )
	local f137_local0
	if f137_arg1 and not f137_arg1 then
		f137_local0 = f137_arg1
	else
		f137_local0 = f137_arg0._mouseWheelScrollingVerticalOffsetPx
	end
	f137_arg0._mouseWheelScrollingVerticalOffsetPx = f137_local0
	if f137_arg2 and not f137_arg2 then
		f137_local0 = f137_arg2
	else
		f137_local0 = f137_arg0._mouseWheelScrollingHorizontalOffsetPx
	end
	f137_arg0._mouseWheelScrollingHorizontalOffsetPx = f137_local0
end

LUI.UIGrid.BuildGridCountArrows = function ( f133_arg0, f133_arg1, f133_arg2 )
	f133_arg0.GridCountArrows = MenuBuilder.BuildRegisteredType( "GridCountArrows", {
		controllerIndex = f133_arg0._controllerIndex
	} )
	f133_arg0.GridCountArrows.id = "GridCountArrows"
	local f133_local0 = function ()
		local f136_local0, f136_local1, f136_local2, f136_local3 = f133_arg0:getLocalRect()
		local f136_local4 = f136_local0 + (f136_local2 - f136_local0) / 2
		local f136_local5, f136_local6, f136_local7, f136_local8 = f133_arg0.GridCountArrows:getLocalRect()
		local f136_local9 = f136_local7 - f136_local5
		local f136_local10 = f136_local8 - f136_local6
		f136_local5 = f136_local4 - f136_local9 / 2
		f136_local7 = f136_local5 + f136_local9
		f136_local6 = f136_local3 + f133_arg0
		f133_arg0.GridCountArrows:SetAnchorsAndPosition( 0, 1, 0, 1, f136_local5, f136_local7, f136_local6, f136_local6 + f136_local10 )
	end
	
	f133_arg0:SetNotifyOnLayoutInit( true )
	f133_arg0:addEventHandler( "layout_initialized", function ()
		f133_arg0()
		local f135_local0 = f133_arg0
		if not f135_local0 then
			f135_local0 = f133_arg0:getParent()
		end
		f133_arg0 = f135_local0
		f133_arg0:addElement( f133_arg0.GridCountArrows )
	end )
	f133_arg0:addEventHandler( "grid_size_updated", function ()
		f133_arg0()
	end )
	f133_arg0:AddItemNumbers( f133_arg0.GridCountArrows.ListCount )
	f133_arg0:AddArrow( f133_arg0.GridCountArrows.ArrowUp )
	f133_arg0:AddArrow( f133_arg0.GridCountArrows.ArrowDown )
	f133_arg0.GridCountArrows.ArrowUp:SetupArrow( LUI.BEARING.up )
	f133_arg0.GridCountArrows.ArrowDown:SetupArrow( LUI.BEARING.down )
end

LUI.UIGrid.SetHorizontalAlignment = function ( f132_arg0, f132_arg1 )
	f132_arg0._horizontalAlignment = f132_arg1
	f132_arg0:SetHorizontalAlignmentInC( f132_arg1 )
end

LUI.UIGrid.SetVerticalAlignment = function ( f131_arg0, f131_arg1 )
	f131_arg0._verticalAlignment = f131_arg1
	f131_arg0:SetVerticalAlignmentInC( f131_arg1 )
end

LUI.UIGrid.SetScrollThresholdX = function ( f130_arg0, f130_arg1 )
	local f130_local0
	if not f130_arg1 then
		f130_local0 = f130_arg1
	else
		f130_local0 = 1
	end
	f130_arg0._scrollingThresholdX = f130_local0
end

LUI.UIGrid.SetScrollThresholdY = function ( f129_arg0, f129_arg1 )
	local f129_local0
	if not f129_arg1 then
		f129_local0 = f129_arg1
	else
		f129_local0 = 1
	end
	f129_arg0._scrollingThresholdY = f129_local0
end

LUI.UIGrid.SetAlwaysSnap = function ( f128_arg0, f128_arg1 )
	f128_arg0._alwaysSnap = f128_arg1
end

LUI.UIGrid.SetLinkedGrid = function ( f127_arg0, f127_arg1 )
	f127_arg0._linkedGrid = f127_arg1
end

local f0_local9 = 0.05
local f0_local10 = 0.1
LUI.UIGrid.UpdateStickInputDirection_ButtonLess = function ( f126_arg0, f126_arg1 )
	if not LUI.IsLastInputGamepad( f126_arg1.controller ) then
		f126_arg0._scrollDirection = nil
		return 
	end
	local f126_local0 = f126_arg1.leftStickPitch or 0
	if math.abs( f126_local0 ) < f0_local0 then
		f126_arg0._scrollDirection = nil
		return 
	else
		local f126_local1
		if 0 < f126_local0 then
			f126_local1 = "up"
		else
			f126_local1 = "down"
		end
	end
	f126_arg0._scrollDirection = f126_local1
	return true
end

LUI.UIGrid.UpdateButtonInputDirection_ButtonLess = function ( f125_arg0, f125_arg1 )
	if f125_arg1.qualifier ~= "keyboard" then
		return 
	end
	f125_arg0._scrollDirection = nil
	if f125_arg1.down then
		if f125_arg1.button == "up" then
			f125_arg0._scrollDirection = "up"
		elseif f125_arg1.button == "down" then
			f125_arg0._scrollDirection = "down"
		end
	end
	return true
end

LUI.UIGrid.UpdateScroll_ButtonLess = function ( f124_arg0 )
	if f124_arg0._scrollDirection then
		f124_arg0:ScrollAmount( f124_arg0._scrollDirection, f0_local0 )
	end
end

LUI.UIGrid.GetChildPosition = function ( f123_arg0, f123_arg1 )
	for f123_local3, f123_local4 in ipairs( f123_arg0:GetBuiltChildren() ) do
		if f123_arg1:isDescendentOf( f123_local4 ) then
			return f123_local4._gridContentColumnIndex, f123_local4._gridContentRowIndex
		end
	end
	return nil, nil
end

LUI.UIDataSourceGrid.init = function ( f121_arg0, f121_arg1 )
	Engine[0x20F70AE94873E0B]( "UIDataSourceGrid", "widget" )
	assert( f121_arg1 )
	assert( f121_arg1.controllerIndex )
	f121_arg1.numChildren = nil
	f121_arg1.numRows = nil
	f121_arg1.numColumns = nil
	f121_arg1.refreshChild = function ( f122_arg0, f122_arg1, f122_arg2 )
		f121_arg0:SetGridChildDataSource( f122_arg0, f122_arg1, f122_arg2 )
	end
	
	LUI.UIDataSourceGrid.super.init( f121_arg0, f121_arg1 )
	if f121_arg1.dataSource then
		f121_arg0:SetGridDataSource( f121_arg1.dataSource )
	else
		f121_arg0:SetNumChildren( 0 )
	end
	Engine[0xFE34BB8C92CDBEE]( "UIDataSourceGrid", "widget" )
end

LUI.UIDataSourceGrid.SetGridChildDataSource = function ( f120_arg0, f120_arg1, f120_arg2, f120_arg3 )
	if f120_arg0._gridDataSource then
		f120_arg1:SetDataSource( f120_arg0._gridDataSource:GetDataSourceAtIndex( f120_arg0:GetContentIndex( f120_arg2, f120_arg3 ), f120_arg0._controllerIndex ), f120_arg0._controllerIndex )
	end
end

LUI.UIDataSourceGrid.SetGridDataSource = function ( f118_arg0, f118_arg1 )
	assert( type( f118_arg1 ) == "table" )
	assert( type( f118_arg1.GetDataSourceAtIndex ) == "function" )
	if f118_arg0._gridDataSource == f118_arg1 then
		
	else
		
	end
	for f118_local3, f118_local4 in ipairs( f118_arg0:GetBuiltChildren() ) do
		f118_local4:SetDataSource( nil, f118_arg0._controllerIndex )
	end
	f118_arg0._pendingRefresh = true
	f118_arg0._gridDataSource = f118_arg1
	if f118_arg0._countSubscription then
		f118_arg0:UnsubscribeFromModel( f118_arg0._countSubscription )
	end
	f118_local0 = f118_arg0._gridDataSource:GetCountModel( f118_arg0._controllerIndex )
	if f118_local0 then
		f118_arg0._countSubscription = f118_arg0:SubscribeToModel( f118_local0, function ( f119_arg0 )
			local f119_local0 = DataModel[0x614D394F6F9A18D]( f119_arg0 )
			if f119_local0 then
				f118_arg0:SetNumChildren( f119_local0 )
				f118_arg0:RefreshContent()
			end
		end )
	else
		f118_local1 = f118_arg0._gridDataSource:GetCountValue( f118_arg0._controllerIndex )
		assert( f118_local1 )
		f118_arg0:SetNumChildren( f118_local1 )
		f118_arg0:RefreshContent()
	end
	for f118_local4, f118_local5 in ipairs( f118_arg0._scrollbars ) do
		f118_local5:SetLinkedGridDataSource( f118_arg1 )
	end
	if f118_arg0._pendingRefresh then
		f118_arg0._pendingRefresh = nil
		f118_arg0:RefreshContent()
	end
end

LUI.UIDataSourceGrid.SetGridDataSourceThroughElement = function ( f117_arg0, f117_arg1, f117_arg2 )
	local f117_local0 = DataLink.new( {
		target = f117_arg0,
		source = f117_arg1,
		relativeDataSourcePath = f117_arg2,
		type = DataLink.TYPES.gridDataSource
	} )
	f117_local0:Link()
	f117_local0:Refresh()
	return f117_local0
end

LUI.UIDataSourceGrid.GetGridDataSource = function ( f116_arg0 )
	return f116_arg0._gridDataSource
end

LUI.UIDataSourceGrid.GetDefaultFocus = function ( f115_arg0 )
	if not f115_arg0._gridDataSource then
		return nil
	else
		local f115_local0 = f115_arg0._gridDataSource:GetDefaultFocusIndex( f115_arg0._controllerIndex )
		if f115_local0 then
			if type( f115_local0 ) == "table" then
				return f115_local0
			else
				return f115_arg0:GetPositionForIndex( f115_local0, {
					relativePosition = false
				} )
			end
		else
			return nil
		end
	end
end

LUI.UIGrid.addElement = function ( f114_arg0, f114_arg1 )
	assert( false, "Forbidden" )
end

LUI.UIGrid.closeChildren = function ( f113_arg0 )
	f113_arg0:StopInertialScrolling()
	for f113_local3, f113_local4 in ipairs( f113_arg0:GetBuiltChildren() ) do
		f113_local4:closeTree()
	end
end

LUI.UIGrid.LoseFocus = function ( f112_arg0, f112_arg1 )
	if f112_arg0:ProcessEventToChildInFocus( f112_arg1 ) then
		f112_arg0._childInFocus = nil
	end
	f112_arg0._targetPosition = nil
	f112_arg0._shouldFocus = nil
end

LUI.UIGrid.ProcessEventToChildInFocus = function ( f111_arg0, f111_arg1 )
	if f111_arg0._childInFocus then
		return f111_arg0._childInFocus:processEvent( f111_arg1 )
	else
		return false
	end
end

LUI.UIGrid.GetVisibleChildInFocus = function ( f110_arg0 )
	assert( f110_arg0._childInFocus )
	return f110_arg0._childInFocus
end

LUI.UIGrid.GainFocus = function ( f109_arg0, f109_arg1 )
	local f109_local0 = assert
	local f109_local1 = f109_arg0:GetNumColumns()
	if f109_local1 then
		f109_local1 = f109_arg0:GetNumRows()
	end
	f109_local0( f109_local1, "Either grid columns or rows are not set. Try calling grid:SetNumColumns() or grid:SetNumRows()" )
	if f109_arg0._navigateLikeUIList and f109_arg1.direction then
		if f109_arg1.direction == "down" then
			f109_arg0:SetFocusedPosition( {
				x = 0,
				y = 0
			}, true, nil, f109_arg1.isWrap )
		elseif f109_arg1.direction == "up" then
			f109_arg0:SetFocusedPosition( {
				x = 0,
				y = f109_arg0:GetNumRows()
			}, true, nil, f109_arg1.isWrap )
		elseif f109_arg1.direction == "left" then
			f109_arg0:SetFocusedPosition( {
				x = 0,
				y = 0
			}, true, nil, f109_arg1.isWrap )
		elseif f109_arg1.direction == "right" then
			f109_arg0:SetFocusedPosition( {
				y = 0,
				x = f109_arg0:GetNumColumns()
			}, true, nil, f109_arg1.isWrap )
		end
	else
		f109_local0 = f109_arg0:GetDefaultFocus()
		local f109_local2 = Dvar[0x9E5BE3B4BBA4E0E]( 0xDDED29F271B83DF )
		if f109_local2 then
			if f109_arg1 then
				f109_local2 = f109_arg1
			else
				f109_local2 = f109_arg1.fromEnsureFocus
			end
		end
		if f109_local0 and not f109_local2 then
			assert( 0 < f109_arg0:GetNumChildren(), "Tried to focus an empty grid" )
			assert( f109_arg0:IsPositionFocusable( f109_local0 ), "defaultFocus is invalid, value is { x = " .. tostring( f109_local0.x ) .. ", y = " .. tostring( f109_local0.y ) .. " }" )
			f109_local1 = true
			if f109_arg1 then
				f109_local1 = f109_arg1.shouldPlayButtonSound
			end
			f109_arg0:SetFocusedPosition( f109_local0, true, nil, nil, f109_local1 )
		else
			local f109_local1, f109_local3 = f109_arg0:restoreState()
			if f109_local3 == 0 then
				local f109_local4 = f109_arg0._targetPosition
				if not f109_local4 then
					f109_local4 = f109_arg0:GetFirstFocusablePosition()
				end
				if f109_local4 then
					local f109_local5 = false
					if f109_arg1 then
						f109_local5 = f109_arg1.shouldPlayButtonSound
					end
					f109_arg0:SetFocusedPosition( f109_local4, true, nil, nil, f109_local5 )
				end
			end
		end
	end
	return f109_arg0._targetPosition ~= nil
end

LUI.UIGrid.restoreFocus = function ( f108_arg0, f108_arg1 )
	if f108_arg0.id == f108_arg1.id and f108_arg0:GetNumColumns() ~= 0 and f108_arg0:GetNumRows() ~= 0 then
		assert( f108_arg1.data )
		f108_arg0:SetTargetRow( f108_arg1.data.targetRow, true, true )
		f108_arg0:SetTargetColumn( f108_arg1.data.targetColumn, true, true )
		f108_arg0:SetFocusedPosition( f108_arg1.data.targetPosition, true )
		if f108_arg1.controller and LUI.IsLastInputMouseNavigation( f108_arg1.controller ) then
			f108_arg0:processEvent( {
				name = "update_grid_list_focus_active",
				child = f108_arg0:GetElementAtPosition( f108_arg1.data.targetPosition.x, f108_arg1.data.targetPosition.y ),
				focusType = FocusType.MouseOver
			} )
		end
		return true
	else
		return f108_arg0:dispatchEventToChildren( f108_arg1 )
	end
end

LUI.UIGrid.getAllFocusedChildren = function ( f107_arg0, f107_arg1 )
	if not f107_arg1 then
		f107_arg1 = {}
	end
	if f107_arg0._targetPosition and f107_arg0._shouldFocus then
		f107_arg0.saveData = {
			targetPosition = LUI.ShallowCopy( f107_arg0._targetPosition ),
			targetRow = f107_arg0:GetTargetRow(),
			targetColumn = f107_arg0:GetTargetColumn()
		}
		table.insert( f107_arg1, f107_arg0 )
	end
	return f107_arg1
end

LUI.UIGrid.GetHorizontalAlignment = function ( f106_arg0 )
	return f106_arg0._horizontalAlignment
end

LUI.UIGrid.GetVerticalAlignment = function ( f105_arg0 )
	return f105_arg0._verticalAlignment
end

LUI.UIGrid.GetFocusableIndicesFromPosition = function ( f104_arg0, f104_arg1 )
	local f104_local0 = f104_arg0:GetNumColumns()
	local f104_local1 = f104_arg0:GetNumRows()
	if f104_local1 == 0 or f104_local0 == 0 then
		return nil
	end
	local f104_local2 = f104_arg1.x
	local f104_local3 = f104_arg1.y
	local f104_local4 = {}
	local f104_local5 = {
		x = f104_local2 - 1,
		y = f104_local3
	}
	local f104_local6 = {
		x = f104_local2 + 1,
		y = f104_local3
	}
	local f104_local7 = {
		x = f104_local2,
		y = f104_local3 - 1
	}
	local f104_local8 = {
		x = f104_local2,
		y = f104_local3 + 1
	}
	if f104_arg0._wrapX then
		if f104_local5.x < 0 then
			f104_local5.x = f104_local0 - 1
		end
		if f104_local0 - 1 < f104_local6.x then
			f104_local6.x = 0
		end
	end
	if f104_arg0._wrapY then
		if f104_local7.y < 0 then
			f104_local7.y = f104_local1 - 1
		end
		if f104_local1 - 1 < f104_local8.y then
			f104_local8.y = 0
		end
	end
	table.insert( f104_local4, {
		x = f104_local2,
		y = f104_local3
	} )
	table.insert( f104_local4, f104_local5 )
	table.insert( f104_local4, f104_local6 )
	table.insert( f104_local4, f104_local7 )
	table.insert( f104_local4, f104_local8 )
	if Engine[0x575E9C5B9AAB6F4]() then
		table.insert( f104_local4, {
			x = f104_local2 + 1,
			y = f104_local3 - 1
		} )
		table.insert( f104_local4, {
			x = f104_local2 - 1,
			y = f104_local3 + 1
		} )
		table.insert( f104_local4, {
			x = f104_local2 - 1,
			y = f104_local3 - 1
		} )
		table.insert( f104_local4, {
			x = f104_local2 + 1,
			y = f104_local3 + 1
		} )
	end
	local f104_local9 = {}
	for f104_local10 = 1, #f104_local4, 1 do
		local f104_local13 = {
			x = f104_local4[f104_local10].x,
			y = f104_local4[f104_local10].y
		}
		if f104_arg0:IsPositionInDataSet( f104_local13.x, f104_local13.y ) then
			local f104_local14 = f104_arg0:GetContentIndex( f104_local13.x, f104_local13.y, {
				relativePosition = false
			} ) + 1
			if not LUI.IsItemInArray( f104_local9, f104_local14 ) then
				table.insert( f104_local9, f104_local14 )
			end
		end
	end
	return f104_local9
end

LUI.UIGrid.GetContentSize = function ( f103_arg0 )
	local f103_local0 = f103_arg0:GetHorizontalContentSize() or 0
	local f103_local1 = f103_arg0:GetVerticalContentSize()
	if not f103_local1 then
		f103_local1 = 0
	end
	return f103_local0, f103_local1
end

LUI.UIGrid.IsPositionFocusable = function ( f102_arg0, f102_arg1 )
	if not f102_arg0:IsPositionInDataSet( f102_arg1.x, f102_arg1.y ) then
		return false
	elseif f102_arg0._isPositionFocusable then
		return f102_arg0._isPositionFocusable( f102_arg1.x, f102_arg1.y )
	end
	local f102_local0 = nil
	if f102_arg0._buildChild then
		local f102_local1 = f102_arg0:GetBuiltChildren()
		f102_local0 = f102_local1[1]
	else
		f102_local0 = f102_arg0:GetElementAtPosition( f102_arg1.x, f102_arg1.y )
	end
	assert( f102_local0 )
	return f102_local0:TreeCanFocus( FocusType.ListSelection )
end

LUI.UIGrid.GetFirstFocusablePosition = function ( f101_arg0 )
	local f101_local0 = {
		x = 0,
		y = 0
	}
	if f101_arg0:IsPositionFocusable( f101_local0 ) then
		return f101_local0
	elseif f101_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		f101_local0 = {
			x = 1,
			y = 0
		}
	else
		f101_local0 = {
			x = 0,
			y = 1
		}
	end
	if f101_arg0:IsPositionFocusable( f101_local0 ) then
		return f101_local0
	elseif f101_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		f101_local0 = {
			x = 0,
			y = 1
		}
	else
		f101_local0 = {
			x = 1,
			y = 0
		}
	end
	if f101_arg0:IsPositionFocusable( f101_local0 ) then
		return f101_local0
	end
	f101_local0 = {
		x = 0,
		y = 0
	}
	local f101_local1 = f101_arg0:GetNumColumns()
	local f101_local2 = f101_arg0:GetNumRows()
	if f101_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f101_local0.y < f101_local2 then
			
		end
	elseif f101_local0.x < f101_local1 then
		
	end
	return nil
end

LUI.UIGrid.GetNextFocusablePosition = function ( f100_arg0, f100_arg1, f100_arg2 )
	assert( math.abs( f100_arg2 ) == 1 )
	local f100_local0 = f100_arg0:GetNumColumns()
	local f100_local1 = f100_arg0:GetNumRows()
	if f100_local1 == 0 or f100_local0 == 0 then
		return nil
	end
	local f100_local2, f100_local3, f100_local4, f100_local5, f100_local6 = nil
	if f100_arg1 == LUI.DIRECTION.horizontal then
		f100_local2 = "x"
		f100_local3 = "y"
		f100_local4 = f100_arg0._wrapX
		f100_local5 = f100_local0
		f100_local6 = f100_local1
	else
		f100_local2 = "y"
		f100_local3 = "x"
		f100_local4 = f100_arg0._wrapY
		f100_local5 = f100_local1
		f100_local6 = f100_local0
	end
	local f100_local7 = false
	local f100_local8 = nil
	if not f100_arg0._targetPosition then
		f100_local8 = f100_arg0:GetFirstFocusablePosition()
	else
		f100_local8 = LUI.ShallowCopy( f100_arg0._targetPosition )
		f100_local8.x = math.floor( f100_local8.x )
		f100_local8.y = math.floor( f100_local8.y )
	end
	return f100_local8, f100_local7
end

LUI.UIGrid.SetOnNewTargetFocusPosition = function ( f99_arg0, f99_arg1 )
	f99_arg0._onNewTargetFocusPosition = f99_arg1
end

LUI.UIGrid.PositionChanged = function ( f98_arg0 )
	if f98_arg0._onNewTargetFocusPosition then
		f98_arg0:_onNewTargetFocusPosition()
	end
end

LUI.UIGrid.SetFocusedPosition = function ( f97_arg0, f97_arg1, f97_arg2, f97_arg3, f97_arg4, f97_arg5 )
	if not f97_arg0:IsPositionFocusable( f97_arg1 ) then
		local f97_local0, f97_local1 = nil
		if 1 < f97_arg0:GetNumRows() then
			f97_local0 = LUI.DIRECTION.vertical
			f97_local1 = -1
		else
			f97_local0 = LUI.DIRECTION.horizontal
			f97_local1 = -1
		end
		local f97_local2 = f97_arg0:GetNextFocusablePosition( f97_local0, f97_local1 )
		if f97_local2 then
			f97_arg1 = f97_local2
		end
	end
	f97_arg0:SetPositionInternal( f97_arg1, f97_arg2, true, f97_arg3, f97_arg4, f97_arg5 )
	f97_arg0:FocusChanged()
	f97_arg0:PositionChanged()
end

LUI.UIGrid.SetPosition = function ( f96_arg0, f96_arg1, f96_arg2, f96_arg3 )
	f96_arg0:SetPositionInternal( f96_arg1, f96_arg2, false, f96_arg3 )
	f96_arg0:PositionChanged()
end

LUI.UIGrid.SetPositionInternal = function ( f95_arg0, f95_arg1, f95_arg2, f95_arg3, f95_arg4, f95_arg5, f95_arg6 )
	f95_arg4 = f95_arg4 ~= false
	f95_arg1 = LUI.ShallowCopy( f95_arg1 )
	assert( f95_arg1.x and f95_arg1.y )
	local f95_local0 = f95_arg0._targetPosition
	if f95_local0 then
		f95_local0 = LUI.ShallowCopy( f95_arg0._targetPosition )
	end
	local f95_local1 = f95_arg0:GetNumColumns()
	local f95_local2 = f95_arg0:GetNumRows()
	if f95_local1 == 0 or f95_local2 == 0 then
		f95_arg0:RemoveFocusFromChild( f95_arg2 )
		f95_arg0._shouldFocus = false
		f95_arg0._targetPosition = nil
		f95_arg0:SetLastFocusIndex( nil )
		f95_arg0:UpdateNumbersArrowsAndScrolling()
		return 
	end
	f95_arg0._shouldFocus = f95_arg3
	if f95_local1 then
		local f95_local3 = LUI.clamp
		local f95_local4 = f95_arg1.x
		local f95_local5 = 0
		local f95_local6
		if f95_arg3 and not f95_arg1.skipTargetColumnAdjustment then
			f95_local6 = f95_local1 - 1
			if not f95_local6 then
			
			else
				f95_arg1.x = f95_local3( f95_local4, f95_local5, f95_local6 )
			end
		end
		f95_local6 = f95_local1
	end
	if f95_local2 then
		local f95_local3 = LUI.clamp
		local f95_local4 = f95_arg1.y
		local f95_local5 = 0
		local f95_local6
		if f95_arg3 and not f95_arg1.skipTargetRowAdjustment then
			f95_local6 = f95_local2 - 1
			if not f95_local6 then
			
			else
				f95_arg1.y = f95_local3( f95_local4, f95_local5, f95_local6 )
			end
		end
		f95_local6 = f95_local2
	end
	if f95_arg3 and not f95_arg0:IsPositionInDataSet( f95_arg1.x, f95_arg1.y ) then
		local f95_local3, f95_local7 = f95_arg0:ColumnRowToPrimarySecondary( math.floor( f95_arg1.x ), math.floor( f95_arg1.y ) )
		local f95_local4, f95_local5 = f95_arg0:PrimarySecondaryToColumnRow( f95_local3, f95_local7 )
		if 0 < f95_local7 and not f95_arg0:IsPositionInDataSet( f95_local4, f95_local5 ) then
			
		else
			
		end
		if 0 < f95_local3 and not f95_arg0:IsPositionInDataSet( f95_local4, f95_local5 ) then
			
		else
			
		end
		f95_arg1.x = f95_local4
		f95_arg1.y = f95_local5
	end
	if f95_local0 and f95_local0.x == f95_arg1.x and f95_local0.y == f95_arg1.y then
		if not f95_arg3 then
			f95_arg0:RemoveFocusFromChild( f95_arg2 )
			return 
		end
		local f95_local3 = f95_arg0:GetElementAtPosition( f95_local0.x, f95_local0.y )
		if f95_local3 and (f95_local3:isInFocus() or 0 < #f95_local3:getAllFocusedChildren()) then
			return 
		end
	end
	local f95_local3 = f95_local0 == nil
	f95_arg0:RemoveFocusFromChild( f95_arg2 )
	if not f95_arg0._targetPosition then
		f95_arg0._targetPosition = {}
	end
	f95_arg0._targetPosition.x = f95_arg1.x
	f95_arg0._targetPosition.y = f95_arg1.y
	local f95_local7 = not f95_arg1.skipTargetRowAdjustment
	local f95_local4 = f95_arg1.y
	local f95_local5, f95_local6 = f95_arg0:GetRowBoundaries()
	local f95_local8 = LUI.clamp( f95_arg0._scrollingThresholdY, 0, f95_arg0:GetMaxVisibleRows() - 1 )
	local f95_local9 = f95_arg0._scrollingThresholdPixelY
	local f95_local10 = f95_local5
	local f95_local11 = f95_local6
	local f95_local12
	if not f95_local3 then
		f95_local12 = f95_local3
	else
		f95_local12 = f95_arg1.y < f95_local0.y
	end
	local f95_local13
	if not f95_local3 then
		f95_local13 = f95_local3
	else
		f95_local13 = f95_local0.y < f95_arg1.y
	end
	if not f95_arg4 then
		f95_local8 = 0
		f95_local9 = 0
	end
	if f95_arg3 and f95_local7 then
		if f95_local13 then
			f95_local4 = math.floor( f95_local4 + 1 )
			if f95_local2 and f95_local4 < f95_local2 - f95_local8 then
				local f95_local14 = f95_arg0:ConvertRowPixelToLine( f95_local4, -f95_arg0:GetRowSpacing() )
				if 0 < f95_local14 then
					f95_local4 = f95_local14
				end
			end
		elseif f95_local12 then
			f95_local4 = math.floor( f95_local4 )
		end
	end
	if 0 < f95_local9 then
		if f95_local12 then
			local f95_local14 = f95_arg0:ConvertRowPixelToLine( math.max( 0, f95_local4 ), -f95_local9 )
			if f95_local14 < f95_local5 then
				f95_local10 = f95_local14
				f95_local11 = f95_arg0:ComputeRowBottomFromTop( f95_local10 )
			end
		elseif f95_local13 then
			local f95_local14 = f95_arg0:ConvertRowPixelToLine( math.min( f95_local2, f95_local4 ), f95_local9 )
			if f95_local6 < f95_local14 then
				f95_local11 = f95_local14
				f95_local10 = f95_arg0:ComputeRowTopFromBottom( f95_local11 )
			end
		end
	else
		if f95_local12 and f95_local4 < f95_local5 + f95_local8 then
			f95_local10 = f95_local4 - f95_local8
			f95_local11 = f95_arg0:ComputeRowBottomFromTop( f95_local10 )
		elseif f95_local13 and f95_local6 - f95_local8 < f95_local4 then
			f95_local11 = f95_local4 + f95_local8
			f95_local10 = f95_arg0:ComputeRowTopFromBottom( f95_local11 )
		end
		if f95_arg1._mouseDragForceSnap then
			f95_local11 = math.floor( f95_local11 )
			f95_local10 = math.floor( f95_local10 )
		end
	end
	if f95_local10 ~= f95_local5 or f95_local11 ~= f95_local6 then
		if f95_arg0._verticalAlignment == LUI.Alignment.Middle then
			local f95_local14 = assert
			local f95_local15
			if not f95_local12 then
				f95_local15 = f95_local12
			else
				f95_local15 = f95_local13
			end
			f95_local14( f95_local15 )
			if f95_local12 then
				f95_local4 = f95_local4 + math.floor( f95_arg0:GetMaxVisibleRows() / 2 ) - f95_local8
			elseif f95_local13 then
				f95_local4 = f95_local4 - math.floor( f95_arg0:GetMaxVisibleRows() / 2 ) + f95_local8
			end
		elseif f95_arg0._verticalAlignment == LUI.Alignment.Bottom and not f95_local11 then
			f95_local4 = f95_local11
		else
			f95_local4 = f95_local10
		end
		f95_arg0:SetTargetRow( f95_local4, true, f95_arg2 )
	end
	local f95_local14 = not f95_arg1.skipTargetColumnAdjustment
	local f95_local16 = f95_arg1.x
	local f95_local15, f95_local17 = f95_arg0:GetColumnBoundaries()
	local f95_local18 = LUI.clamp( f95_arg0._scrollingThresholdX, 0, f95_arg0:GetMaxVisibleColumns() - 1 )
	local f95_local19 = f95_arg0._scrollingThresholdPixelX
	local f95_local20 = f95_local15
	local f95_local21 = f95_local17
	local f95_local22
	if not f95_local3 then
		f95_local22 = f95_local3
	else
		f95_local22 = f95_arg1.x < f95_local0.x
	end
	local f95_local23
	if not f95_local3 then
		f95_local23 = f95_local3
	else
		f95_local23 = f95_local0.x < f95_arg1.x
	end
	if not f95_arg4 then
		f95_local18 = 0
	end
	if f95_arg3 and f95_local14 then
		if f95_local23 then
			f95_local16 = math.floor( f95_local16 + 1 )
			if f95_local1 and f95_local16 < f95_local1 - f95_local18 then
				local f95_local24 = f95_arg0:ConvertColumnPixelToLine( f95_local16, -f95_arg0:GetColumnSpacing() )
				if 0 < f95_local24 then
					f95_local16 = f95_local24
				end
			end
		elseif f95_local22 then
			f95_local16 = math.floor( f95_local16 )
		end
	end
	if 0 < f95_local19 then
		if f95_local22 then
			local f95_local24 = f95_arg0:ConvertColumnPixelToLine( math.max( 0, f95_local16 ), -f95_local19 )
			if f95_local24 < f95_local15 then
				f95_local20 = f95_local24
				f95_local21 = f95_arg0:ComputeColumnRightFromLeft( f95_local20 )
			end
		elseif f95_local23 then
			local f95_local24 = f95_arg0:ConvertColumnPixelToLine( math.min( f95_local1, f95_local16 ), f95_local19 )
			if f95_local17 < f95_local24 then
				f95_local21 = f95_local24
				f95_local20 = f95_arg0:ComputeColumnLeftFromRight( f95_local21 )
			end
		end
	else
		if f95_local22 and f95_local16 < f95_local15 + f95_local18 then
			f95_local20 = f95_local16 - f95_local18
			f95_local21 = f95_arg0:ComputeColumnRightFromLeft( f95_local20 )
		elseif f95_local23 and f95_local17 - f95_local18 < f95_local16 then
			f95_local21 = f95_local16 + f95_local18
			f95_local20 = f95_arg0:ComputeColumnLeftFromRight( f95_local21 )
		end
		if f95_arg1._mouseDragForceSnap then
			f95_local20 = math.floor( f95_local20 )
			f95_local21 = math.floor( f95_local21 )
		end
	end
	if f95_local20 ~= f95_local15 or f95_local21 ~= f95_local17 then
		if f95_arg0._horizontalAlignment == LUI.Alignment.Center then
			local f95_local24 = assert
			local f95_local25
			if not f95_local22 then
				f95_local25 = f95_local22
			else
				f95_local25 = f95_local23
			end
			f95_local24( f95_local25 )
			if f95_local22 then
				f95_local16 = f95_local16 + math.floor( f95_arg0:GetMaxVisibleColumns() / 2 ) - f95_local18
			elseif f95_local23 then
				f95_local16 = f95_local16 - math.floor( f95_arg0:GetMaxVisibleColumns() / 2 ) + f95_local18
			end
		elseif f95_arg0._horizontalAlignment == LUI.Alignment.Right and not f95_local21 then
			f95_local16 = f95_local21
		else
			f95_local16 = f95_local20
		end
		f95_arg0:SetTargetColumn( f95_local16, true, f95_arg2 )
	end
	if f95_arg0._pendingRefresh then
		f95_arg0._pendingRefresh = nil
		f95_arg0:RefreshContent()
	end
	f95_arg0:UpdateNumbersAndArrows()
	if f95_arg3 and not f95_arg0._pendingLinkedGridUpdate then
		local f95_local24 = f95_arg0:GetElementAtPosition( f95_arg0._targetPosition.x, f95_arg0._targetPosition.y )
		if f95_local24 then
			local f95_local26 = nil
			if f95_local13 then
				f95_local26 = "down"
			elseif f95_local12 then
				f95_local26 = "up"
			elseif f95_local23 then
				f95_local26 = "right"
			elseif f95_local22 then
				f95_local26 = "left"
			end
			if f95_arg0._isWrapping then
				f95_arg0._isWrapping = false
			end
			f95_arg0:GiveFocusToChild( f95_local24, f95_local26, f95_arg5, f95_arg6 )
		else
			f95_arg0:NotifyWhenPositionIsVisible( f95_arg0._targetPosition.x, f95_arg0._targetPosition.y )
		end
	end
	f95_arg0:UpdateScrolling()
	if f95_arg0._linkedGrid and not f95_arg0._pendingLinkedGridUpdate then
		f95_arg0._linkedGrid._pendingLinkedGridUpdate = true
		f95_arg0._linkedGrid:SetPositionInternal( f95_arg1, f95_arg2, f95_arg3, f95_arg4, f95_arg5, f95_arg6 )
	end
	f95_arg0._pendingLinkedGridUpdate = false
end

LUI.UIGrid.RemoveFocusFromChild = function ( f94_arg0, f94_arg1 )
	if f94_arg0._childInFocus then
		f94_arg0._childInFocus:processEvent( {
			name = "lose_focus",
			snap = f94_arg1
		} )
		f94_arg0._childInFocus = nil
	end
end

LUI.UIGrid.GiveFocusToChild = function ( f93_arg0, f93_arg1, f93_arg2, f93_arg3, f93_arg4 )
	f93_arg1:processEvent( {
		name = "gain_focus",
		direction = f93_arg2,
		isWrap = f93_arg3,
		shouldPlayButtonSound = f93_arg4,
		controller = f93_arg0._controllerIndex
	} )
	f93_arg0._childInFocus = f93_arg1
end

LUI.UIGrid.AdjustFocusedTargetPosition = function ( f92_arg0, f92_arg1, f92_arg2 )
	local f92_local0 = f92_arg0:GetElementAtPosition( f92_arg1.x, f92_arg1.y )
	if f92_local0 and f92_local0.GetFocusTargetPositionOffset then
		local f92_local1 = f92_local0:GetFocusTargetPositionOffset( f92_arg1, f92_arg2 )
		if f92_local1 then
			f92_arg1.x = f92_arg1.x + f92_local1.x
			f92_arg1.y = f92_arg1.y + f92_local1.y
			f92_arg1.skipTargetColumnAdjustment = f92_local1.x ~= 0
			f92_arg1.skipTargetRowAdjustment = f92_local1.y ~= 0
		end
	end
end

LUI.UIGrid.FocusNextElement = function ( f91_arg0, f91_arg1, f91_arg2, f91_arg3, f91_arg4, f91_arg5 )
	if not f91_arg0._directionalInputEnabled then
		return false
	end
	local f91_local0, f91_local1, f91_local2, f91_local3 = nil
	if f91_arg2 == "up" then
		f91_local2 = LUI.DIRECTION.vertical
		f91_local3 = -1
	elseif f91_arg2 == "down" then
		f91_local2 = LUI.DIRECTION.vertical
		f91_local3 = 1
	elseif f91_arg2 == "left" then
		f91_local2 = LUI.DIRECTION.horizontal
		f91_local3 = -1
	elseif f91_arg2 == "right" then
		f91_local2 = LUI.DIRECTION.horizontal
		f91_local3 = 1
	end
	if f91_local2 and f91_local3 and f91_arg0._targetPosition then
		f91_local0, f91_local1 = f91_arg0:GetNextFocusablePosition( f91_local2, f91_local3 )
	end
	if f91_local0 then
		f91_arg0:AdjustFocusedTargetPosition( f91_local0, f91_arg2, f91_local1 )
		local f91_local4 = f91_arg0._alwaysSnap
		if not f91_local4 then
			if f91_local1 then
				f91_local4 = f91_local1
			else
				f91_local4 = f91_arg0._snapOnWrap
			end
		end
		if f91_local1 then
			f91_arg0._isWrapping = true
			f91_arg0._pendingRefresh = true
		end
		f91_arg0:SetFocusedPosition( f91_local0, f91_local4 == true, nil, f91_local1 )
		f91_arg0:FocusMoved( f91_arg2 )
		f91_arg0:saveState()
		return true
	end
	local f91_local4 = f91_arg0:getParent()
	if f91_local4 and f91_local4:FocusNextElement( f91_arg0, f91_arg2, f91_arg3, f91_arg4, f91_arg5 ) then
		return true
	end
	return false
end

LUI.UIGrid.ScrollAmount = function ( f90_arg0, f90_arg1, f90_arg2 )
	if f90_arg1 == "up" or f90_arg1 == "down" then
		local f90_local0, f90_local1 = f90_arg0:GetRowBoundaries()
		local f90_local2 = f90_arg0:GetNumRows()
		local f90_local3 = f90_local0
		if f90_arg1 == "up" and (not f90_local2 or 0 < f90_local0) then
			f90_local3 = f90_local3 - f90_arg2
		elseif f90_arg1 == "down" and (not f90_local2 or f90_local1 < f90_local2) then
			f90_local3 = f90_local3 + f90_local1 - f90_local0 + f90_arg2
		else
			return false
		end
		if f90_local3 ~= f90_local0 then
			f90_arg0:SetPositionInternal( {
				x = f90_arg0._targetPosition and f90_arg0._targetPosition.x or 0,
				y = f90_local3
			}, true, false, false )
		end
		return true
	elseif f90_arg1 == "left" or f90_arg1 == "right" then
		local f90_local0, f90_local1 = f90_arg0:GetColumnBoundaries()
		local f90_local2 = f90_arg0:GetNumColumns()
		local f90_local3 = f90_local0
		if f90_arg1 == "left" and (not f90_local2 or 0 < f90_local0) then
			f90_local3 = f90_local3 - f90_arg2
		elseif f90_arg1 == "right" and (not f90_local2 or f90_local1 < f90_local2) then
			f90_local3 = f90_local3 + f90_local1 - f90_local0 + f90_arg2
		else
			return false
		end
		if f90_local3 ~= f90_local0 then
			f90_arg0:SetPositionInternal( {
				x = f90_local3,
				y = f90_arg0._targetPosition and f90_arg0._targetPosition.y or 0
			}, true, false, false )
		end
		return true
	else
		return false
	end
end

LUI.UIGrid.Scroll = function ( f89_arg0, f89_arg1 )
	local f89_local0 = 0
	if f89_arg1 == "up" or f89_arg1 == "down" then
		local f89_local1, f89_local2 = f89_arg0:GetRowBoundaries()
		if not f89_local1 or not f89_local2 then
			return 
		elseif f89_arg1 == "up" then
			f89_local0 = f89_local1 - math.floor( f89_local1 )
		else
			f89_local0 = math.ceil( f89_local2 ) - f89_local2
		end
	else
		local f89_local1, f89_local2 = f89_arg0:GetColumnBoundaries()
		if not f89_local1 or not f89_local2 then
			return 
		elseif f89_arg1 == "left" then
			f89_local0 = f89_local1 - math.floor( f89_local1 )
		else
			f89_local0 = math.ceil( f89_local2 ) - f89_local2
		end
	end
	if f89_local0 < 0.01 then
		local f89_local1 = 1 + f89_local0
		if not f89_local1 then
			f89_local0 = f89_local1
		else
			
		end
	end
	f89_arg0:ScrollAmount( f89_arg1, f89_local0 )
end

LUI.UIGrid.SetDirectionalInputEnabled = function ( f88_arg0, f88_arg1 )
	f88_arg0._directionalInputEnabled = f88_arg1
end

LUI.UIGrid.HandleMouseScroll = function ( f87_arg0, f87_arg1 )
	local f87_local0 = nil
	if f87_arg1 == "up" or f87_arg1 == "down" then
		local f87_local1, f87_local2 = f87_arg0:GetRowBoundaries()
		if f87_arg1 == "up" then
			f87_local0 = f87_local1 - f87_arg0:ConvertRowPixelToLine( f87_local1, -f87_arg0._mouseWheelScrollingVerticalOffsetPx )
		else
			f87_local0 = f87_arg0:ConvertRowPixelToLine( f87_local2, f87_arg0._mouseWheelScrollingVerticalOffsetPx ) - f87_local2
		end
	else
		local f87_local1, f87_local2 = f87_arg0:GetColumnBoundaries()
		if f87_arg1 == "left" then
			f87_local0 = f87_local1 - f87_arg0:ConvertColumnPixelToLine( f87_local1, -f87_arg0._mouseWheelScrollingHorizontalOffsetPx )
		else
			f87_local0 = f87_arg0:ConvertColumnPixelToLine( f87_local2, f87_arg0._mouseWheelScrollingHorizontalOffsetPx ) - f87_local2
		end
	end
	f87_arg0:ScrollAmount( f87_arg1, math.abs( f87_local0 ) )
	f87_arg0:PositionChanged()
end

LUI.UIGrid.HandleMouseDrag = function ( f86_arg0, f86_arg1 )
	if f86_arg0:GetNumRows() == 0 or f86_arg0:GetNumColumns() == 0 then
		return false
	elseif not f86_arg0._mouseDragInfo or not f86_arg0._mouseDragInfo.lastEventX or not f86_arg0._mouseDragInfo.lastEventY then
		f86_arg0._mouseDragInfo = nil
		return false
	else
		local f86_local0 = f86_arg0:ApplyScrollingOffset( f86_arg0._mouseDragInfo.lastEventX - f86_arg1.x, f86_arg0._mouseDragInfo.lastEventY - f86_arg1.y, false )
		f86_arg0._mouseDragInfo.lastEventX = f86_arg1.x
		f86_arg0._mouseDragInfo.lastEventY = f86_arg1.y
		return f86_local0
	end
end

LUI.UIGrid.MouseButtonEvent = function ( f85_arg0, f85_arg1 )
	if f85_arg0._mouseDragScroll then
		local f85_local0 = f85_arg1.button .. f85_arg1.name
		local f85_local1 = f85_arg1.name == "mousedown"
		local f85_local2
		if f85_arg1.button == "left" then
			f85_local2 = f85_arg0.m_leftMouseDown
		else
			f85_local2 = false
		end
		if f85_local1 ~= f85_local2 and f85_arg1.button == "left" then
			local f85_local3
			if not f85_local1 then
				f85_local3 = f85_local1
			else
				f85_local3 = nil
			end
			f85_arg0.m_leftMouseDown = f85_local3
			f85_arg0._mouseDragInfo = {}
			f85_arg0._mouseDragInfo.lastEventX = f85_arg1.x
			f85_arg0._mouseDragInfo.lastEventY = f85_arg1.y
		end
	end
	return true
end

LUI.UIGrid.GamepadButton = function ( f84_arg0, f84_arg1 )
	if f84_arg1.down then
		local f84_local0
		if f84_arg1.button ~= "up" and f84_arg1.button ~= "down" and f84_arg1.button ~= "left" and f84_arg1.button ~= "right" then
			f84_local0 = false
		else
			f84_local0 = true
		end
		if f84_local0 then
			if not f84_arg0._directionalInputEnabled then
				return false
			elseif f84_arg0._isWrapping then
				return true
			end
		end
		if 0 < #f84_arg0._permittedQualifiers and f84_arg1.qualifier and f84_local0 and not LUI.IsItemInArray( f84_arg0._permittedQualifiers, f84_arg1.qualifier ) then
			return false
		elseif f84_arg1.qualifier == "mousewheel" and not f84_arg0._disableMouseWheel then
			local f84_local1 = f84_arg1.button
			local f84_local2 = false
			for f84_local6, f84_local7 in ipairs( f84_arg0._scrollbars ) do
				if f84_local7.isVisible and f84_local7:GetDirection() == LUI.DIRECTION.vertical then
					f84_local2 = false
					break
				elseif f84_local7.isVisible and f84_local7:GetDirection() ~= LUI.DIRECTION.vertical then
					f84_local2 = true
				end
			end
			if f84_arg0:GetNumRows() == 0 or f84_arg0:GetNumColumns() == 0 then
				return false
			elseif not (f84_arg0:GetNumRows() ~= 1 or 1 >= f84_arg0:GetNumColumns()) or f84_local2 then
				if f84_local1 == "up" then
					f84_local1 = "left"
				elseif f84_local1 == "down" then
					f84_local1 = "right"
				end
			end
			f84_local3 = f84_arg1.mouseX
			f84_local4 = f84_arg1.mouseY
			if f84_local3 == nil or f84_local4 == nil then
				return 
			end
			f84_local5 = f84_arg0:IsPositionInside( f84_local3, f84_local4 )
			if not f84_local5 then
				f84_local5 = f84_arg0._alwaysTrapMouseWheel
			end
			if not f84_local5 then
				for f84_local10, f84_local11 in ipairs( f84_arg0._scrollbars ) do
					if f84_local11.GetWidget then
						local f84_local9 = f84_local11:GetWidget()
						if not f84_local9._blockMouseMove then
							f84_local5 = f84_local9:IsPositionInside( f84_local3, f84_local4 )
						else
							f84_local5 = false
						end
					end
					if f84_local5 then
						break
					end
				end
			end
			if f84_local5 or f84_arg1.forceScrollMove then
				f84_arg0:HandleMouseScroll( f84_local1 )
			end
		end
		if not LUI.IsLastInputMouseNavigation( f84_arg1.controller ) then
			for f84_local4, f84_local5 in ipairs( f84_arg0._scrollbars ) do
				local f84_local6 = nil
				if f84_local5.id then
					f84_local6 = f84_local5
				elseif f84_local5.GetWidget then
					f84_local6 = f84_local5:GetWidget()
				end
				if f84_local6 then
					f84_local6:processEvent( {
						name = "lose_focus"
					} )
				end
			end
			for f84_local4, f84_local5 in pairs( f84_arg0._arrows ) do
				f84_local5:processEvent( {
					name = "lose_focus"
				} )
			end
		end
		if f84_arg0._targetPosition then
			if not f84_arg0._childInFocus and f84_arg0._shouldFocus then
				return f84_arg0:FocusNextElement( f84_arg0, f84_arg1.button, FocusType.Gamepad, f84_arg1.qualifier, f84_arg1.controller )
			else
				return f84_arg0:dispatchEventToChildren( f84_arg1 )
			end
		end
	end
	return f84_arg0:dispatchEventToChildren( f84_arg1 )
end

LUI.UIGrid.HandleTouchBegin = function ( f83_arg0, f83_arg1 )
	f83_arg0:StopInertialScrolling()
	if f83_arg0:GetNumRows() == 0 or f83_arg0:GetNumColumns() == 0 then
		return false
	else
		f83_arg0._touchInfo = {}
		f83_arg0._touchInfo.hasMoved = false
		f83_arg0._touchInfo.lastEventX = f83_arg1.unitsX
		f83_arg0._touchInfo.lastEventY = f83_arg1.unitsY
		f83_arg0._touchInfo.lastMovedX = f83_arg0._touchInfo.lastEventX
		f83_arg0._touchInfo.lastMovedY = f83_arg0._touchInfo.lastEventY
		f83_arg0._touchInfo.lastMovedTime = Engine[0x6991337AE950F99]()
		return true
	end
end

LUI.UIGrid.HandleTouchMove = function ( f82_arg0, f82_arg1 )
	if f82_arg0:GetNumRows() == 0 or f82_arg0:GetNumColumns() == 0 then
		return false
	elseif not f82_arg0._touchInfo or not f82_arg0._touchInfo.lastEventX or not f82_arg0._touchInfo.lastEventY or not f82_arg0._touchInfo.lastMovedX or not f82_arg0._touchInfo.lastMovedY or not f82_arg0._touchInfo.lastMovedTime then
		f82_arg0._touchInfo = nil
		return false
	end
	local f82_local0 = f82_arg0._touchInfo.lastEventX - f82_arg1.unitsX
	local f82_local1 = f82_arg0._touchInfo.lastEventY - f82_arg1.unitsY
	local f82_local2 = f82_arg0._touchInfo.lastMovedX - f82_arg1.unitsX
	local f82_local3 = f82_arg0._touchInfo.lastMovedY - f82_arg1.unitsY
	local f82_local4
	if 0 < f82_local0 == 0 < f82_local2 and not f82_local2 then
		f82_local4 = f82_local2
	else
		f82_local4 = f82_local0
	end
	local f82_local5
	if 0 < f82_local1 == 0 < f82_local3 and not f82_local3 then
		f82_local5 = f82_local3
	else
		f82_local5 = f82_local1
	end
	if not f82_arg0._touchInfo.hasMoved then
		local f82_local6 = math.sqrt( f82_local4 ^ 2 + f82_local5 ^ 2 ) * Engine[0x4018840B6EAAC61]()
		local f82_local7 = Mobile[0x62F3D1C63173F]()
		if f82_local7 and 0 < f82_local7.ppi and f82_local6 < f0_local0 * f82_local7.ppi then
			return false
		end
	end
	local f82_local6 = f82_arg0:ApplyScrollingOffset( f82_local4, f82_local5, false )
	f82_arg0._touchInfo.lastEventX = f82_arg1.unitsX
	f82_arg0._touchInfo.lastEventY = f82_arg1.unitsY
	if f82_local6 then
		if not f82_arg0._touchInfo.hasMoved then
			f82_arg0:processEventNoDispatch( {
				name = "grid_scroll_begin",
				time = f82_arg1.time,
				controller = f82_arg1.controller
			} )
		end
		f82_arg0._touchInfo.hasMoved = true
		f82_arg0._touchInfo.lastMovedX = f82_arg0._touchInfo.lastEventX
		f82_arg0._touchInfo.lastMovedY = f82_arg0._touchInfo.lastEventY
		local f82_local7 = Engine[0x6991337AE950F99]()
		local f82_local8 = (f82_local7 - f82_arg0._touchInfo.lastMovedTime) / 1000
		f82_arg0._touchInfo.lastMovedTime = f82_local7
		f82_arg0._touchInfo.lastSpeedX = f82_local4 / f82_local8
		f82_arg0._touchInfo.lastSpeedY = f82_local5 / f82_local8
		return true
	end
	return false
end

LUI.UIGrid.HandleTouchEnd = function ( f81_arg0, f81_arg1 )
	local f81_local0 = false
	if f81_arg0._touchInfo and f81_arg0._touchInfo.hasMoved then
		f81_local0 = true
		if f81_arg0._touchInfo.lastSpeedX and f81_arg0._touchInfo.lastSpeedY then
			f81_arg0._eventControllerIndex = f81_arg1.controller
			f81_arg0:StartInertialScrolling( f81_arg0._touchInfo.lastSpeedX, f81_arg0._touchInfo.lastSpeedY )
		end
	end
	f81_arg0._touchInfo = nil
	return f81_local0
end

LUI.UIGrid.ApplyScrollingOffset = function ( f80_arg0, f80_arg1, f80_arg2, f80_arg3 )
	local f80_local0 = false
	local f80_local1 = f80_arg0:GetTargetRow()
	if f80_arg2 ~= 0 then
		local f80_local2, f80_local3 = f80_arg0:GetRowBoundaries()
		local f80_local4
		if 0 <= f80_arg2 and not f80_local3 then
			f80_local4 = f80_local3
		else
			f80_local4 = f80_local2
		end
		local f80_local5 = f80_arg0:ConvertRowPixelToLine( f80_local4, f80_arg2 )
		if math.abs( f80_local5 - f80_local4 ) > LUI.UIGrid.GRID_EPSILON then
			f80_local1 = f80_local5
			f80_local0 = true
		end
	end
	local f80_local2 = f80_arg0:GetTargetColumn()
	if f80_arg1 ~= 0 then
		local f80_local3, f80_local4 = f80_arg0:GetColumnBoundaries()
		local f80_local5
		if 0 <= f80_arg1 and not f80_local4 then
			f80_local5 = f80_local4
		else
			f80_local5 = f80_local3
		end
		local f80_local6 = f80_arg0:ConvertColumnPixelToLine( f80_local5, f80_arg1 )
		if math.abs( f80_local6 - f80_local5 ) > LUI.UIGrid.GRID_EPSILON then
			f80_local2 = f80_local6
			f80_local0 = true
		end
	end
	if f80_local0 then
		f80_arg0:SetPositionInternal( {
			x = f80_local2,
			y = f80_local1
		}, true, false, false, nil, true, f80_arg3 )
		f80_arg0:PositionChanged()
	end
	return f80_local0
end

LUI.UIGrid.StartInertialScrolling = function ( f78_arg0, f78_arg1, f78_arg2 )
	f78_arg0:StopInertialScrolling()
	f78_arg0._inertialScrolling = {}
	f78_arg0._inertialScrolling.startTime = Engine[0x6991337AE950F99]()
	f78_arg0._inertialScrolling.lastTime = f78_arg0._inertialScrolling.startTime
	f78_arg0._inertialScrolling.speedX = f78_arg1
	f78_arg0._inertialScrolling.speedY = f78_arg2
	local f78_local0 = "inertialScrollingTimer_" .. f78_arg0.id
	f78_arg0._inertialScrolling.timer = LUI.UITimer.new( {
		interval = 20,
		event = f78_local0
	} )
	f78_arg0._inertialScrolling.timer.id = "_" .. f78_local0
	f78_arg0._inertialScrolling.timer:addElementAfter( f78_arg0 )
	f78_arg0:registerEventHandler( f78_local0, function ( element, event )
		element:UpdateInertialScrolling()
	end )
end

LUI.UIGrid.UpdateInertialScrolling = function ( f75_arg0 )
	if not f75_arg0._inertialScrolling then
		
	else
		
	end
	local f75_local0 = Engine[0x6991337AE950F99]()
	local f75_local1 = (f75_local0 - f75_arg0._inertialScrolling.lastTime) / 1000
	local f75_local2 = function ( f77_arg0 )
		local f77_local0 = f75_arg0 * f75_arg0
		local f77_local1 = math.abs( f77_arg0 )
		if f75_arg0 < f77_local1 and f75_arg0 < f75_arg0 - f75_arg0._inertialScrolling.startTime then
			f77_local0 = math.max( f77_local0, f77_local1 - f75_arg0 )
		end
		if 0 < f77_arg0 then
			local f77_local2 = math.min( f77_local0, f77_arg0 )
			if not f77_local2 then
				f77_local0 = f77_local2
			end
		end
		f77_local0 = math.max( -f77_local0, f77_arg0 )
	end
	
	local f75_local3 = function ( f76_arg0 )
		return f75_arg0 * (0 and math.min( f76_arg0, f75_arg0 ) or math.max( f76_arg0, -f75_arg0 ))
	end
	
	f75_arg0._inertialScrolling.speedX = f75_local2( f75_arg0._inertialScrolling.speedX )
	f75_arg0._inertialScrolling.speedY = f75_local2( f75_arg0._inertialScrolling.speedY )
	local f75_local4 = f75_arg0:ApplyScrollingOffset( f75_local3( f75_arg0._inertialScrolling.speedX ), f75_local3( f75_arg0._inertialScrolling.speedY ), true )
	if not f75_arg0._inertialScrolling then
		return 
	elseif f75_local4 then
		f75_arg0._inertialScrolling.lastTime = f75_local0
	end
	if math.abs( f75_arg0._inertialScrolling.speedX ) < f0_local0 and math.abs( f75_arg0._inertialScrolling.speedY ) < f0_local0 then
		f75_arg0:StopInertialScrolling()
	end
end

LUI.UIGrid.StopInertialScrolling = function ( f74_arg0 )
	if f74_arg0._inertialScrolling then
		if f74_arg0._inertialScrolling.timer then
			f74_arg0._inertialScrolling.timer:RemoveFromParent()
			f74_arg0._inertialScrolling.timer:closeTree()
		end
		f74_arg0:processEventNoDispatch( {
			name = "grid_scroll_end",
			time = Engine[0x6991337AE950F99](),
			controller = f74_arg0._eventControllerIndex
		} )
		f74_arg0._inertialScrolling = nil
	end
end

LUI.UIGrid.SetDefaultFocus = function ( f73_arg0, f73_arg1 )
	f73_arg0._defaultFocus = f73_arg1
end

LUI.UIGrid.GetDefaultFocus = function ( f72_arg0 )
	if type( f72_arg0._defaultFocus ) == "function" then
		return f72_arg0._defaultFocus()
	else
		return f72_arg0._defaultFocus
	end
end

LUI.UIGrid.FocusMoved = function ( f71_arg0, f71_arg1 )
	local f71_local0 = "grid_focus_" .. f71_arg1 .. "_moved"
	for f71_local4, f71_local5 in pairs( f71_arg0._arrows ) do
		f71_local5:processEvent( {
			name = f71_local0
		} )
	end
end

LUI.UIGrid.SetCountFunction = function ( f70_arg0, f70_arg1 )
	if f70_arg1 then
		f70_arg0._countFunction = f70_arg1
	end
end

LUI.UIGrid.ShouldDisplayNumbersAndArrows = function ( f69_arg0 )
	if not f69_arg0._showNumbersAndArrowsKBM and not LUI.IsLastInputGamepad( f69_arg0._controllerIndex ) then
		return false
	else
		local f69_local0
		if f69_arg0:GetMaxVisibleRows() * f69_arg0:GetMaxVisibleColumns() >= f69_arg0:GetNumChildren() then
			f69_local0 = f69_arg0._widgetsAlwaysVisible
		else
			f69_local0 = true
		end
	end
	return f69_local0
end

local f0_local11 = function ( f68_arg0 )
	local f68_local0, f68_local1 = nil
	local f68_local2 = f68_arg0:ShouldDisplayNumbersAndArrows()
	if f68_arg0._countFunction then
		f68_local0, f68_local1 = f68_arg0._countFunction()
	else
		local f68_local3 = f68_arg0:GetNumRows()
		local f68_local4 = f68_arg0:GetNumColumns()
		local f68_local5 = f68_arg0:GetNumChildren()
		if f68_local5 < 0 then
			f68_local0 = 0
			f68_local1 = 0
		elseif f68_arg0._targetPosition then
			if f68_local4 == 1 then
				f68_local0 = 1 + f68_arg0._targetPosition.y
				f68_local1 = f68_local3
			elseif f68_local3 == 1 then
				f68_local0 = 1 + f68_arg0._targetPosition.x
				if not f68_local4 then
					f68_local1 = f68_local4
				else
					f68_local1 = f68_local5
				end
			else
				f68_local0 = 1 + f68_arg0._targetPosition.x + f68_arg0._targetPosition.y * f68_local4
				f68_local1 = f68_local5
			end
		else
			f68_local0 = 0
			f68_local1 = f68_local5
		end
		f68_local0 = LUI.clamp( math.floor( f68_local0 ), 0, f68_local1 )
	end
	for f68_local7, f68_local8 in pairs( f68_arg0._itemNumbers ) do
		local f68_local6 = ""
		if f68_local2 then
			f68_local6 = Engine[0xED84C33EC5F01EA]( 0x74821ADAF79FD0F, f68_local0, f68_local1 )
		end
		f68_local8:setText( f68_local6 )
	end
end

f0_local0 = function ( f67_arg0 )
	local f67_local0 = {}
	local f67_local1 = f67_arg0:GetNumRows()
	local f67_local2 = f67_arg0:GetNumColumns()
	local f67_local3 = f67_arg0:GetNumChildren()
	local f67_local4 = f67_arg0:ShouldDisplayNumbersAndArrows()
	f67_arg0:SetArrowsEnabled( f67_local4 )
	local f67_local5, f67_local6, f67_local7, f67_local8 = nil
	if LUI.IsLastInputKeyboardMouse( Engine[0x45B054C920178E9]() ) then
		f67_local5, f67_local6 = f67_arg0:GetRowBoundaries()
		f67_local7, f67_local8 = f67_arg0:GetColumnBoundaries()
	elseif f67_arg0._targetPosition then
		f67_local5 = f67_arg0._targetPosition.y
		f67_local6 = f67_arg0._targetPosition.y + 1
		f67_local7 = f67_arg0._targetPosition.x
		f67_local8 = f67_arg0._targetPosition.x + 1
	end
	if 0 <= f67_local3 and f67_local5 and f67_local6 and f67_local7 and f67_local8 then
		if f67_local5 == 0 and f67_local1 and 0 <= f67_local1 and not f67_arg0._wrapY then
			table.insert( f67_local0, "grid_focus_up_blocked" )
		else
			table.insert( f67_local0, "grid_focus_up_not_blocked" )
		end
		if f67_local1 and f67_local1 <= f67_local6 and not f67_arg0._wrapY then
			table.insert( f67_local0, "grid_focus_down_blocked" )
		else
			table.insert( f67_local0, "grid_focus_down_not_blocked" )
		end
		if f67_local7 == 0 and f67_local2 and 0 <= f67_local2 and not f67_arg0._wrapX then
			table.insert( f67_local0, "grid_focus_left_blocked" )
		else
			table.insert( f67_local0, "grid_focus_left_not_blocked" )
		end
		if f67_local2 and f67_local2 <= f67_local8 and not f67_arg0._wrapX then
			table.insert( f67_local0, "grid_focus_right_blocked" )
		else
			table.insert( f67_local0, "grid_focus_right_not_blocked" )
		end
	else
		table.insert( f67_local0, "grid_focus_up_blocked" )
		table.insert( f67_local0, "grid_focus_down_blocked" )
		table.insert( f67_local0, "grid_focus_left_blocked" )
		table.insert( f67_local0, "grid_focus_right_blocked" )
	end
	for f67_local18, f67_local19 in ipairs( f67_local0 ) do
		f67_arg0:processEventNoDispatch( {
			name = f67_local19
		} )
		for f67_local15, f67_local16 in pairs( f67_arg0._arrows ) do
			if f67_arg0._updateArrowVisibilityOnRefresh then
				local f67_local12 = f67_local16
				local f67_local13 = f67_local16.SetAlpha
				local f67_local14
				if f67_local4 then
					f67_local14 = 1
				else
					f67_local14 = 0
				end
				f67_local13( f67_local12, f67_local14 )
			end
			if f67_local4 then
				f67_local16:processEvent( {
					name = f67_local19
				} )
			end
		end
	end
end

local f0_local12 = function ( f66_arg0 )
	for f66_local5, f66_local6 in pairs( f66_arg0._scrollButtons ) do
		if f66_local5 == "upScrollButton" then
			local f66_local3, f66_local4 = f66_arg0:GetRowPixelBoundaries()
			f66_local6:SetVisible( f66_arg0._scrollButtonPixelThreshold <= f66_local3 )
		end
		if f66_local5 == "downScrollButton" then
			local f66_local3, f66_local4 = f66_arg0:GetRowPixelBoundaries()
			f66_local6:SetVisible( f66_local4 + f66_arg0._scrollButtonPixelThreshold <= f66_arg0:GetVerticalContentSize() )
		end
		if f66_local5 == "leftScrollButton" then
			local f66_local3, f66_local4 = f66_arg0:GetColumnPixelBoundaries()
			f66_local6:SetVisible( f66_arg0._scrollButtonPixelThreshold <= f66_local3 )
		end
		if f66_local5 == "rightScrollButton" then
			local f66_local3, f66_local4 = f66_arg0:GetColumnPixelBoundaries()
			f66_local6:SetVisible( f66_local4 + f66_arg0._scrollButtonPixelThreshold <= f66_arg0:GetHorizontalContentSize() )
		end
	end
end

LUI.UIGrid.UpdateScrolling = function ( f65_arg0 )
	for f65_local3, f65_local4 in ipairs( f65_arg0._scrollbars ) do
		f65_local4:UpdateScrolling()
	end
end

LUI.UIGrid.SetScrollbarKBMStyle = function ( f64_arg0, f64_arg1 )
	for f64_local3, f64_local4 in ipairs( f64_arg0._scrollbars ) do
		f64_local4:SetKBMStyle( f64_arg1 )
	end
end

LUI.UIGrid.UpdateNumbersAndArrows = function ( f63_arg0 )
	f0_local0( f63_arg0 )
	f0_local0( f63_arg0 )
	f0_local0( f63_arg0 )
end

LUI.UIGrid.SetActiveParentBehaviorGridAndList = function ( f60_arg0, f60_arg1 )
	LUI.UIGrid.super.SetActiveParentBehaviorGridAndList( f60_arg0, f60_arg1 )
	f60_arg0:addEventHandler( "update_input_type", function ( f62_arg0, f62_arg1 )
		if LUI.IsLastInputMouseNavigation( f62_arg1.controllerIndex ) then
			if not f62_arg0._targetPosition then
				return 
			end
			f62_arg0:TryRequestActiveOnChildFocus( f62_arg0:GetElementAtPosition( f62_arg0._targetPosition.x, f62_arg0._targetPosition.y ) )
		end
	end, {
		controllerIndex = f60_arg1
	} )
	if f60_arg0:IsUsingActiveOnTouchEndBehavior( f60_arg0 ) or f60_arg0:IsUsingActiveOnTouchBeginBehavior( f60_arg0 ) then
		local f60_local0
		if f60_arg0:IsUsingActiveOnTouchEndBehavior( f60_arg0 ) then
			f60_local0 = "update_grid_touchend_active"
		else
			f60_local0 = "update_grid_touchbegin_active"
		end
		f60_arg0:addEventHandler( f60_local0, function ( f61_arg0, f61_arg1 )
			if not f61_arg1.child.isActive then
				f61_arg0:TryRequestActiveOnChildFocus( f61_arg1.child )
				return true
			else
				
			end
		end )
	end
end

LUI.UIGrid.MouseSetActiveToDefaultFocus = function ( f59_arg0, f59_arg1 )
	if not LUI.IsLastInputMouseNavigation( f59_arg1 ) then
		return 
	end
	local f59_local0 = f59_arg0:GetDefaultFocus()
	if not f59_local0 then
		f59_local0 = f59_arg0:GetFirstFocusablePosition()
	end
	if f59_local0 then
		local f59_local1 = f59_arg0:GetElementAtPosition( f59_local0.x, f59_local0.y )
		if f59_local1 and not f59_local1.isActive then
			f59_local1:dispatchEventToParent( {
				name = "request_active"
			} )
			if f59_arg0:IsUsingActiveOnMouseOverBehavior() then
				f59_arg0:processEvent( {
					name = "update_grid_list_focus_active",
					child = f59_local1,
					focusType = FocusType.MouseOver
				} )
			else
				f59_arg0:TryRequestActiveOnChildFocus( f59_local1 )
			end
		end
	end
end

LUI.UIGrid.ResetMouseActiveOnGridUpdate = function ( f58_arg0, f58_arg1, f58_arg2 )
	if LUI.IsLastInputMouseNavigation( f58_arg1 ) then
		f58_arg0:SetDefaultFocus( f58_arg2 )
		local f58_local0 = f58_arg0:GetElementAtPosition( f58_arg2.x, f58_arg2.y )
		if f58_local0 then
			f58_local0:dispatchEventToParent( {
				name = "request_active",
				target = f58_local0
			} )
			f58_arg0:processEvent( {
				name = "update_grid_list_focus_active",
				child = f58_local0,
				focusType = FocusType.MouseOver
			} )
		end
	end
end

LUI.UIGrid.GetActiveElement = function ( f57_arg0 )
	return f57_arg0._activeElement
end

LUI.UIGrid.UpdateNumbersArrowsAndScrolling = function ( f56_arg0 )
	f56_arg0:UpdateNumbersAndArrows()
	f56_arg0:UpdateScrolling()
end

LUI.UIGrid.RequestInactiveToBuiltChildren = function ( f55_arg0, f55_arg1 )
	for f55_local3, f55_local4 in ipairs( f55_arg0:GetBuiltChildren() ) do
		f55_local4:processEvent( {
			name = "request_inactive",
			ignoreDispatcherElem = f55_arg1.ignoreDispatcherElem
		} )
	end
end

LUI.UIGrid.FocusChanged = function ( f54_arg0, f54_arg1 )
	if not f54_arg0._targetPosition then
		return 
	end
	f0_local0( f54_arg0 )
	f54_arg0:SetLastFocusIndex( f54_arg0:GetContentIndex( f54_arg0._targetPosition.x, f54_arg0._targetPosition.y ) )
	if Dvar[0x9E5BE3B4BBA4E0E]( 0xDDED29F271B83DF ) then
		f54_arg0:saveState()
	end
end

LUI.UIGrid.GetPositionForIndex = function ( f53_arg0, f53_arg1, f53_arg2 )
	if not f53_arg2 then
		f53_arg2 = {}
	end
	if f53_arg2.relativePosition == nil then
		f53_arg2.relativePosition = true
	end
	local f53_local0 = f53_arg0:GetNumChildren()
	if f53_local0 then
		f53_arg1 = LUI.clamp( f53_arg1, 0, f53_local0 - 1 )
	end
	local f53_local1, f53_local2 = nil
	if f53_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f53_arg2.relativePosition then
			local f53_local3 = f53_arg0:GetMaxVisibleColumns()
			f53_local1 = f53_arg1 % f53_local3
			f53_local2 = math.floor( f53_arg1 / f53_local3 )
		else
			local f53_local3 = f53_arg0:GetNumColumns()
			f53_local2 = math.floor( f53_arg1 / f53_local3 )
			f53_local1 = f53_arg1 - f53_local2 * f53_local3
		end
	elseif f53_arg2.relativePosition then
		local f53_local3 = f53_arg0:GetMaxVisibleRows()
		f53_local2 = f53_arg1 % f53_local3
		f53_local1 = math.floor( f53_arg1 / f53_local3 )
	else
		local f53_local3 = f53_arg0:GetNumRows()
		f53_local1 = math.floor( f53_arg1 / f53_local3 )
		f53_local2 = f53_arg1 - f53_local1 * f53_local3
	end
	return {
		x = f53_local1,
		y = f53_local2
	}
end

LUI.UIGrid.GetContentIndex = function ( f52_arg0, f52_arg1, f52_arg2, f52_arg3 )
	if not f52_arg3 then
		f52_arg3 = {}
	end
	if f52_arg3.relativePosition == nil then
		f52_arg3.relativePosition = true
	end
	local f52_local0 = nil
	if f52_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		if f52_arg3.relativePosition then
			f52_local0 = f52_arg1 + f52_arg2 * f52_arg0:GetMaxVisibleColumns()
		else
			f52_local0 = f52_arg1 + f52_arg2 * f52_arg0:GetNumColumns()
		end
	elseif f52_arg3.relativePosition then
		f52_local0 = f52_arg2 + f52_arg1 * f52_arg0:GetMaxVisibleRows()
	else
		f52_local0 = f52_arg2 + f52_arg1 * f52_arg0:GetNumRows()
	end
	local f52_local1 = f52_arg0:GetNumChildren()
	if f52_local1 then
		f52_local0 = f52_local0 % f52_local1
	end
	return f52_local0
end

LUI.UIGrid.GetContentSizeByAxis = function ( f51_arg0, f51_arg1 )
	if f51_arg1 == LUI.DIRECTION.horizontal then
		return f51_arg0:GetHorizontalContentSize()
	else
		return f51_arg0:GetVerticalContentSize()
	end
end

LUI.UIGrid.GetContentCount = function ( f50_arg0, f50_arg1 )
	if f50_arg1 == LUI.DIRECTION.horizontal then
		return f50_arg0:GetNumColumns()
	else
		return f50_arg0:GetNumRows()
	end
end

LUI.UIGrid.GetContentVisibleSize = function ( f49_arg0, f49_arg1 )
	if f49_arg1 == LUI.DIRECTION.horizontal then
		return f49_arg0:GetColumnVisibleSize()
	else
		return f49_arg0:GetRowVisibleSize()
	end
end

LUI.UIGrid.GetContentOffset = function ( f48_arg0, f48_arg1 )
	local f48_local0, f48_local1 = f48_arg0:GetRowPixelBoundaries()
	local f48_local2, f48_local3 = f48_arg0:GetColumnPixelBoundaries()
	if f48_arg1 == LUI.DIRECTION.horizontal then
		return f48_local2
	else
		return f48_local0
	end
end

LUI.UIGrid.GetMaxVisibleLines = function ( f47_arg0, f47_arg1 )
	if f47_arg1 == LUI.DIRECTION.horizontal then
		return f47_arg0:GetMaxVisibleColumns()
	else
		return f47_arg0:GetMaxVisibleRows()
	end
end

LUI.UIGrid.SetMaxVisibleGridLines = function ( f46_arg0, f46_arg1, f46_arg2 )
	if f46_arg1 == LUI.DIRECTION.horizontal then
		return f46_arg0:SetMaxVisibleColumns( f46_arg2 )
	else
		return f46_arg0:SetMaxVisibleRows( f46_arg2 )
	end
end

LUI.UIGrid.GetFocusPosition = function ( f45_arg0, f45_arg1 )
	if not f45_arg0._targetPosition then
		return nil
	elseif f45_arg1 == LUI.DIRECTION.horizontal then
		return LUI.clamp( math.floor( f45_arg0._targetPosition.x ), 0, f45_arg0:GetNumColumns() - 1 )
	else
		return LUI.clamp( math.floor( f45_arg0._targetPosition.y ), 0, f45_arg0:GetNumRows() - 1 )
	end
end

LUI.UIGrid.GetDefaultPosition = function ( f44_arg0, f44_arg1 )
	local f44_local0 = f44_arg0:GetDefaultFocus()
	if f44_local0 then
		if f44_arg1 == LUI.DIRECTION.horizontal then
			return f44_local0.x
		else
			return f44_local0.y
		end
	else
		return nil
	end
end

LUI.UIGrid.SetTargetLine = function ( f43_arg0, f43_arg1, f43_arg2, f43_arg3, f43_arg4 )
	if f43_arg1 == LUI.DIRECTION.horizontal then
		f43_arg0:SetTargetColumn( f43_arg2, f43_arg3, f43_arg4 )
	else
		f43_arg0:SetTargetRow( f43_arg2, f43_arg3, f43_arg4 )
	end
end

LUI.UIGrid.SetShouldFocus = function ( f42_arg0, f42_arg1 )
	f42_arg0._shouldFocus = f42_arg1
end

LUI.UIGrid.SetNavigateLikeUIList = function ( f41_arg0, f41_arg1 )
	f41_arg0._navigateLikeUIList = f41_arg1
end

LUI.UIGrid.RegisterGamepadEventHandlers = function ( f39_arg0, f39_arg1, f39_arg2, f39_arg3, f39_arg4 )
	if f39_arg3 == nil or f39_arg2 == nil then
		LUI.FlowManager.RequestDevErrorPopup( "Missing ButtonHelperBar or ButtonHelperText", "Must pass a ButtonHelperBar element and ButtonHelperText element to RegisterGamepadEventHandlers in order to use generic grid view input on a grid." )
	end
	f39_arg2:addEventHandler( "gamepad_button", function ( f40_arg0, f40_arg1 )
		if f39_arg0._gridExpandable and not f39_arg0._gridLocked and f40_arg1.down and f40_arg1.button == "left_trigger" then
			if f39_arg0._gridViewActive then
				f39_arg0:CondenseGrid( f39_arg0, f39_arg0 )
				if f39_arg0 and f39_arg0.condensedRows then
					f39_arg0:SetMaxVisibleRows( f39_arg0.condensedRows )
				end
			else
				f39_arg0:ExpandGrid( f39_arg0, f39_arg0 )
				if f39_arg0 and f39_arg0.expandedRows then
					f39_arg0:SetMaxVisibleRows( f39_arg0.expandedRows )
				end
			end
			return true
		else
			
		end
	end )
end

LUI.UIGrid.RefreshGridViewPrompt = function ( f38_arg0, f38_arg1 )
	if f38_arg1 then
		if f38_arg0._gridExpandable then
			f38_arg1:PushButtonPrompt( {
				side = "right",
				priority = 1,
				ignoreTooltipPrompt = true,
				useTextButtons = true,
				button_ref = "button_left_trigger",
				helper_text = Engine[0xED84C33EC5F01EA]( f38_arg0._gridViewActive and 0x7FF1B80B72368BB or 0x49D881382C1FD7 )
			} )
		else
			f38_arg1:PopButtonPrompt( {
				button_ref = "button_left_trigger"
			} )
		end
	end
end

LUI.UIGrid.ExpandGrid = function ( f36_arg0, f36_arg1, f36_arg2 )
	f36_arg0._gridViewActive = true
	local f36_local0 = {
		onComplete = function ()
			f36_arg0._gridLocked = false
		end
	}
	if f36_arg0.parentSwapToGridViewAnim then
		ACTIONS.AnimateSequence( f36_arg1, f36_arg0.parentSwapToGridViewAnim )
	end
	ACTIONS.AnimateSequence( f36_arg1, f36_arg0.gridChangeToGridViewAnim, f36_local0 )
	if f36_arg1._sequenceLengths[f36_arg0.gridChangeToGridViewAnim] ~= 0 then
		f36_arg0._gridLocked = true
	end
	f36_arg0:RefreshGridViewPrompt( f36_arg2 )
end

LUI.UIGrid.CondenseGrid = function ( f34_arg0, f34_arg1, f34_arg2 )
	f34_arg0._gridViewActive = false
	local f34_local0 = {
		onComplete = function ()
			f34_arg0._gridLocked = false
		end
	}
	if f34_arg0.parentSwapToDetailViewAnim then
		ACTIONS.AnimateSequence( f34_arg1, f34_arg0.parentSwapToDetailViewAnim )
	end
	ACTIONS.AnimateSequence( f34_arg1, f34_arg0.gridChangeToDetailViewAnim, f34_local0 )
	if f34_arg1._sequenceLengths[f34_arg0.gridChangeToDetailViewAnim] ~= 0 then
		f34_arg0._gridLocked = true
	end
	f34_arg0:RefreshGridViewPrompt( f34_arg2 )
end

LUI.UIGrid.SetGridViewAction = function ( f33_arg0, f33_arg1, f33_arg2, f33_arg3 )
	if f33_arg2 == nil then
		LUI.FlowManager.RequestDevErrorPopup( "Missing ButtonHelperText", "Must pass a ButtonHelperText element to SetGridViewAction in order to use generic grid view input on a grid." )
		return 
	end
	local f33_local0 = 0 < f33_arg3
	if f33_local0 ~= f33_arg0._gridExpandable then
		if f33_local0 then
			f33_arg0:EnableGridViewAction( f33_arg2 )
		else
			f33_arg0:DisableGridViewAction( f33_arg1, f33_arg2 )
		end
	end
end

LUI.UIGrid.EnableGridViewAction = function ( f32_arg0, f32_arg1 )
	f32_arg0._gridExpandable = true
	f32_arg0:RefreshGridViewPrompt( f32_arg1 )
end

LUI.UIGrid.DisableGridViewAction = function ( f31_arg0, f31_arg1, f31_arg2 )
	f31_arg0._gridExpandable = false
	if f31_arg0._gridViewActive then
		f31_arg0:CondenseGrid( f31_arg1, f31_arg2 )
	end
	f31_arg0:RefreshGridViewPrompt( f31_arg2 )
end

LUI.UIDataSourceGrid.FocusChanged = function ( f30_arg0 )
	LUI.UIDataSourceGrid.super.FocusChanged( f30_arg0 )
	if f30_arg0._targetPosition then
		f30_arg0:SetDataSource( f30_arg0._gridDataSource:GetDataSourceAtIndex( f30_arg0:GetContentIndex( math.floor( f30_arg0._targetPosition.x ), math.floor( f30_arg0._targetPosition.y ) ), f30_arg0._controllerIndex ), f30_arg0._controllerIndex )
	end
end

LUI.UIPeekingGrid.init = function ( f29_arg0, f29_arg1 )
	f29_arg1.ensureClampedTargetLineOnDimensionsUpdate = false
	LUI.UIGrid.init( f29_arg0, f29_arg1 )
	assert( f29_arg1.buildChild, "Peeking Grid only works as an homogenous grid right now." )
	local f29_local0 = assert
	local f29_local1
	if f29_arg1.verticalAlignment and f29_arg1.verticalAlignment ~= LUI.Alignment.Top then
		f29_local1 = false
	else
		f29_local1 = true
	end
	f29_local0( f29_local1, "Peeking Grid only supports Top vertical alignment right now." )
end

LUI.UIPeekingGrid.SetPositionInternal = function ( f28_arg0, f28_arg1, f28_arg2, f28_arg3, f28_arg4, f28_arg5, f28_arg6, f28_arg7 )
	f28_arg1 = LUI.ShallowCopy( f28_arg1 )
	assert( f28_arg1.x and f28_arg1.y )
	if f28_arg0:GetNumColumns() == 0 or f28_arg0:GetNumRows() == 0 then
		f28_arg0:RemoveFocusFromChild( f28_arg2 )
		f28_arg0._shouldFocus = false
		f28_arg0._targetPosition = nil
		f28_arg0:SetLastFocusIndex( nil )
		f28_arg0:UpdateNumbersArrowsAndScrolling()
		return 
	elseif not f28_arg7 then
		f28_arg0:StopInertialScrolling()
	end
	f28_arg0._shouldFocus = f28_arg3
	if f28_arg3 and not f28_arg0:IsPositionInDataSet( f28_arg1.x, f28_arg1.y ) then
		local f28_local0, f28_local1 = f28_arg0:ColumnRowToPrimarySecondary( math.floor( f28_arg1.x ), math.floor( f28_arg1.y ) )
		local f28_local2, f28_local3 = f28_arg0:PrimarySecondaryToColumnRow( f28_local0, f28_local1 )
		if 0 < f28_local1 and not f28_arg0:IsPositionInDataSet( f28_local2, f28_local3 ) then
			
		else
			
		end
		if 0 < f28_local0 and not f28_arg0:IsPositionInDataSet( f28_local2, f28_local3 ) then
			
		else
			
		end
		f28_arg1.x = f28_local2
		f28_arg1.y = f28_local3
	end
	if f28_arg0._targetPosition and f28_arg0._targetPosition.x == f28_arg1.x and f28_arg0._targetPosition.y == f28_arg1.y then
		if not f28_arg3 then
			f28_arg0:RemoveFocusFromChild( f28_arg2 )
			return 
		end
		local f28_local0 = f28_arg0:GetElementAtPosition( f28_arg0._targetPosition.x, f28_arg0._targetPosition.y )
		if f28_local0 and (f28_local0:isInFocus() or 0 < #f28_local0:getAllFocusedChildren()) then
			return 
		end
	end
	local f28_local0 = f28_arg0._targetPosition == nil
	f28_arg0:RemoveFocusFromChild( f28_arg2 )
	f28_arg1.y = LUI.clamp( f28_arg1.y, 0, f28_arg0:GetNumRows() - 1 )
	if f28_arg3 then
		f28_arg1.y = math.floor( f28_arg1.y )
	end
	f28_arg0:SetTargetRow( f28_arg1.y, false, f28_arg2 )
	if f28_arg0._pendingRefresh then
		f28_arg0._pendingRefresh = nil
		f28_arg0:RefreshContent()
	end
	f28_arg0._targetPosition = f28_arg1
	f28_arg0._targetPosition.skipTargetRowAdjustment = nil
	f28_arg0._targetPosition.skipTargetColumnAdjustment = nil
	f28_arg0:UpdateNumbersAndArrows()
	if f28_arg3 and not f28_arg0._pendingLinkedGridUpdate then
		local f28_local1 = f28_arg0:GetElementAtPosition( f28_arg0._targetPosition.x, f28_arg0._targetPosition.y )
		if f28_local1 then
			local f28_local2 = nil
			if scrollDown then
				f28_local2 = "down"
			elseif scrollUp then
				f28_local2 = "up"
			elseif scrollRight then
				f28_local2 = "right"
			elseif scrollLeft then
				f28_local2 = "left"
			end
			if f28_arg0._isWrapping then
				f28_arg0._isWrapping = false
			end
			f28_arg0:GiveFocusToChild( f28_local1, f28_local2, f28_arg5, f28_arg6 )
		else
			f28_arg0:NotifyWhenPositionIsVisible( f28_arg0._targetPosition.x, f28_arg0._targetPosition.y )
		end
	end
	f28_arg0:UpdateScrolling()
	if f28_arg0._linkedGrid and not f28_arg0._pendingLinkedGridUpdate then
		f28_arg0._pendingLinkedGridUpdate = true
		f28_arg0._linkedGrid:SetPositionInternal( f28_arg1, f28_arg2, f28_arg3, f28_arg4, f28_arg5, f28_arg6, f28_arg7 )
	end
	f28_arg0._pendingLinkedGridUpdate = false
end

LUI.UIPeekingGrid.ScrollAmount = function ( f27_arg0, f27_arg1, f27_arg2 )
	if f27_arg1 == "up" or f27_arg1 == "down" then
		local f27_local0, f27_local1 = f27_arg0:GetRowBoundaries()
		local f27_local2 = f27_local0
		if f27_arg1 == "up" then
			f27_local2 = f27_local2 - f27_arg2
		elseif f27_arg1 == "down" then
			f27_local2 = f27_local2 + f27_arg2
			if f27_arg0._targetPosition and f27_arg0._targetPosition.y == f27_local2 then
				f27_arg0._targetPosition.y = f27_local0
			end
		else
			return false
		end
		if f27_local2 ~= f27_local0 then
			f27_arg0:SetPositionInternal( {
				x = f27_arg0._targetPosition and f27_arg0._targetPosition.x or 0,
				y = f27_local2
			}, false, false, false )
		end
		return true
	elseif f27_arg1 == "left" or f27_arg1 == "right" then
		local f27_local0, f27_local1 = f27_arg0:GetColumnBoundaries()
		local f27_local2 = f27_arg0:GetNumColumns()
		local f27_local3 = f27_local0
		if f27_arg1 == "left" and (not f27_local2 or 0 < f27_local0) then
			f27_local3 = f27_local3 - f27_arg2
		elseif f27_arg1 == "right" and (not f27_local2 or f27_local1 < f27_local2) then
			f27_local3 = f27_local3 + f27_local1 - f27_local0 + f27_arg2
		else
			return false
		end
		if f27_local3 ~= f27_local0 then
			f27_arg0:SetPositionInternal( {
				x = f27_local3,
				y = f27_arg0._targetPosition and f27_arg0._targetPosition.y or 0
			}, true, false, false )
		end
		return true
	else
		return false
	end
end

LUI.UIPeekingGrid.HandleMouseScroll = function ( f26_arg0, f26_arg1 )
	if f26_arg1 == "up" or f26_arg1 == "down" then
		local f26_local0 = nil
		local f26_local1, f26_local2 = f26_arg0:GetRowBoundaries()
		if f26_arg1 == "up" then
			f26_local0 = math.floor( f26_local1 )
		else
			f26_local0 = math.floor( f26_local1 + 1 )
		end
		if f26_local0 == f26_local1 then
			f26_local0 = 1
		else
			f26_local0 = f26_local0 - f26_local1
		end
		f26_arg0:ScrollAmount( f26_arg1, math.abs( f26_local0 ) )
	end
end

LUI.UIPeekingGrid.HandleScrollbarDrag = function ( f25_arg0, f25_arg1 )
	local f25_local0 = f25_arg1.scrollbar
	if f25_arg1.dragStart or not f25_arg0._dragTargetRef then
		f25_arg0._dragTargetRef = {
			x = f25_arg1.targetX,
			y = f25_arg1.targetY
		}
	end
	local f25_local1 = f25_arg1.targetY - f25_arg0._dragTargetRef.y
	if f25_local1 == 0 then
		return false
	end
	f25_arg0._dragTargetRef = {
		x = f25_arg1.targetX,
		y = f25_arg1.targetY
	}
	local f25_local2 = f25_arg0:GetContentSizeByAxis( f25_local0:GetDirection() )
	if f25_local2 and 0 < f25_local2 and f25_local0:GetDirection() == LUI.DIRECTION.vertical then
		local f25_local3 = f25_local1 * f25_local2
		local f25_local4, f25_local5 = f25_arg0:GetRowBoundaries()
		local f25_local6 = {
			x = f25_arg0:GetTargetColumn(),
			y = f25_arg0:ConvertRowPixelToLine( f25_local4, f25_local3 )
		}
		f25_arg0:SetPositionInternal( f25_local6, true, false, false )
		if f25_arg0:IsSnapOnScrollBarMouseDrag() then
			if not f25_arg0._mouseDragTargetPosition then
				f25_arg0._mouseDragTargetPosition = {}
			end
			f25_arg0._mouseDragTargetPosition.x = f25_local6.x
			f25_arg0._mouseDragTargetPosition.y = f25_local6.y
		end
	end
	return true
end

LUI.UIPeekingGrid.HandleScrollbarSet = function ( f24_arg0, f24_arg1 )
	if f24_arg1.scrollbar:GetDirection() == LUI.DIRECTION.vertical then
		f24_arg0:SetPositionInternal( {
			x = f24_arg0:GetTargetColumn(),
			y = math.floor( f24_arg0:ConvertRowPixelToLine( 0, (f24_arg0:GetContentSizeByAxis( LUI.DIRECTION.vertical ) or 1) * f24_arg1.targetY ) )
		}, false )
	end
end

LUI.UIPeekingGrid.GetContentSizeByAxis = function ( f23_arg0, f23_arg1 )
	if f23_arg1 == LUI.DIRECTION.horizontal then
		return f23_arg0:GetHorizontalContentSize()
	else
		local f23_local0 = f23_arg0:GetVerticalContentSize()
		local f23_local1 = f23_arg0:GetContentVisibleSize( f23_arg1 )
		local f23_local2 = f23_arg0:GetRowHeight()
		if f23_local0 == nil or f23_local1 == nil or f23_local2 == nil then
			return nil
		else
			return f23_local0 + f23_local1 - f23_local2
		end
	end
end

LUI.UIPeekingGrid.restoreFocus = function ( f22_arg0, f22_arg1 )
	if f22_arg0.id == f22_arg1.id and f22_arg0:GetNumColumns() ~= 0 and f22_arg0:GetNumRows() ~= 0 then
		assert( f22_arg1.data )
		f22_arg0:SetTargetRow( f22_arg1.data.targetRow, false, true )
		f22_arg0:SetTargetColumn( f22_arg1.data.targetColumn, false, true )
		f22_arg0:SetFocusedPosition( f22_arg1.data.targetPosition, true )
		if f22_arg1.controller and LUI.IsLastInputMouseNavigation( f22_arg1.controller ) then
			f22_arg0:processEvent( {
				name = "update_grid_list_focus_active",
				child = f22_arg0:GetElementAtPosition( f22_arg1.data.targetPosition.x, f22_arg1.data.targetPosition.y ),
				focusType = FocusType.MouseOver
			} )
		end
		return true
	else
		return f22_arg0:dispatchEventToChildren( f22_arg1 )
	end
end

LUI.UICarouselGrid.init = function ( f21_arg0, f21_arg1 )
	f21_arg1.ensureClampedTargetLineOnDimensionsUpdate = false
	LUI.UIPeekingGrid.init( f21_arg0, f21_arg1 )
	f21_arg0._fixedTargetIndex = 1
	f21_arg0._focusedContentPositionOffset = 1
	f21_arg0._contentStartIndex = 0
	f21_arg0._lockedCooldownTime = 300
	assert( f21_arg1.buildChild, "Carousel Grid only works as an homogenous grid right now." )
	local f21_local0 = assert
	local f21_local1
	if f21_arg0:GetMaxVisibleRows() ~= 1 and f21_arg0:GetMaxVisibleColumns() ~= 1 then
		f21_local1 = false
	else
		f21_local1 = true
	end
	f21_local0( f21_local1, "Carousel only supports one dimensional grids" )
end

LUI.UICarouselGrid.RefreshDisplayContentData = function ( f20_arg0 )
	local f20_local0 = f20_arg0._contentStartIndex
	f20_arg0._displayContentData = {}
	local f20_local1 = f20_arg0:GetMaxVisibleLines( f20_arg0:GetPrimaryAxis() )
	for f20_local2 = 1, f20_local1 + 1, 1 do
		local f20_local5 = f20_local0 + 1
		if #f20_arg0._contentData < f20_local5 then
			f20_local5 = f20_local5 - #f20_arg0._contentData
		end
		f20_arg0._displayContentData[f20_local2] = f20_arg0._contentData[f20_local5]
		f20_local0 = f20_local0 + 1
	end
end

LUI.UICarouselGrid.SetContentData = function ( f18_arg0, f18_arg1 )
	local f18_local0 = assert
	local f18_local1
	if f18_arg1 then
		f18_local1 = f18_arg1
	else
		f18_local1 = type( f18_arg1 ) == "table"
	end
	f18_local0( f18_local1, "Carousel Grid data needs to be a lua table." )
	f18_local0 = assert
	if f18_arg0:GetMaxVisibleRows() > #f18_arg1 and f18_arg0:GetMaxVisibleColumns() > #f18_arg1 then
		f18_local1 = false
	else
		f18_local1 = true
	end
	f18_local0( f18_local1 )
	assert( 2 <= #f18_arg1, "Do not use Carousel Grid for any content that is less than 2 items." )
	f18_arg0._contentStartIndex = #f18_arg1 - 1
	f18_arg0._contentData = LUI.DeepCopy( f18_arg1 )
	f18_arg0:RefreshDisplayContentData()
	f18_arg0:RefreshContent()
	f18_arg0:addEventHandler( "layout_initialized", function ( f19_arg0, f19_arg1 )
		if not LUI.IsLastInputGamepad( f18_arg0._controllerIndex ) and not f18_arg0._initCarouselGridContentPosition then
			local f19_local0 = f18_arg0._focusedContentPositionOffset + f18_arg0._fixedTargetIndex
			local f19_local1
			if f18_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal and not f19_local0 then
				f19_local1 = f19_local0
			else
				f19_local1 = 0
			end
			local f19_local2
			if f18_arg0:GetPrimaryAxis() == LUI.DIRECTION.vertical and not f19_local0 then
				f19_local2 = f19_local0
			else
				f19_local2 = 0
			end
			f18_arg0:SetPositionInternal( {
				x = f19_local1,
				y = f19_local2
			}, true, true, nil, nil, true )
		end
	end )
end

LUI.UICarouselGrid.HandleMouseScroll = function ( f17_arg0, f17_arg1 )
	local f17_local0 = assert
	local f17_local1
	if f17_arg1 ~= "left" and f17_arg1 ~= "right" then
		f17_local1 = false
	else
		f17_local1 = true
	end
	f17_local0( f17_local1, "Carousel Grid only supports left and right scrolling right now." )
	f17_local0 = nil
	f17_local2, f17_local1 = f17_arg0:GetColumnBoundaries()
	if f17_arg1 == "left" then
		f17_local0 = math.floor( f17_local2 )
	else
		f17_local0 = math.floor( f17_local2 + 1 )
	end
	if f17_local0 == f17_local2 then
		f17_local0 = 1
	else
		f17_local0 = f17_local0 - f17_local2
	end
	f17_arg0:ScrollAmount( f17_arg1, math.abs( f17_local0 ) )
end

LUI.UICarouselGrid.SetUseAutoScrollTimer = function ( f16_arg0, f16_arg1 )
	f16_arg0._useAutoScrollTimer = f16_arg1
end

LUI.UICarouselGrid.GetDisplayContentData = function ( f15_arg0 )
	return f15_arg0._displayContentData
end

LUI.UICarouselGrid.UpdateContentStartIndex = function ( f14_arg0, f14_arg1 )
	f14_arg1 = LUI.ShallowCopy( f14_arg1 )
	assert( f14_arg1.x and f14_arg1.y )
	local f14_local0 = f14_arg0:GetMaxVisibleLines( f14_arg0:GetPrimaryAxis() )
	local f14_local1 = f14_arg0:GetPrimaryAxis()
	local f14_local2 = LUI.DIRECTION.horizontal
	f14_local1 = REG12 and f14_arg1.x or f14_arg1.y
	f14_local2 = f14_arg0._targetPosition
	if f14_local2 then
		f14_local2 = LUI.ShallowCopy( f14_arg0._targetPosition )
	end
	if f14_local2 == nil and not f14_arg0._useAutoScrollTimer then
		return 
	end
	local f14_local3 = f14_arg0._fixedTargetIndex - 1
	if f14_local3 < 0 then
		f14_local3 = f14_local0 - 1
	end
	local f14_local4 = f14_arg0._fixedTargetIndex + 1
	if f14_local0 - 1 < f14_local3 then
		f14_local3 = 0
	end
	local f14_local5 = f14_local1 == f14_local3
	local f14_local6 = f14_local1 == f14_local4
	if f14_local5 then
		f14_arg0._contentStartIndex = f14_arg0._contentStartIndex - 1
		if f14_arg0._contentStartIndex < 0 then
			f14_arg0._contentStartIndex = #f14_arg0._contentData - 1
		end
	elseif f14_local6 then
		f14_arg0._contentStartIndex = f14_arg0._contentStartIndex + 1
		if #f14_arg0._contentData - 1 < f14_arg0._contentStartIndex then
			f14_arg0._contentStartIndex = 0
		end
	end
end

LUI.UICarouselGrid.ShouldDisplayNumbersAndArrows = function ( f13_arg0 )
	local f13_local0
	if f13_arg0:GetMaxVisibleRows() * f13_arg0:GetMaxVisibleColumns() >= f13_arg0:GetNumChildren() then
		f13_local0 = f13_arg0._widgetsAlwaysVisible
	else
		f13_local0 = true
	end
	return f13_local0
end

LUI.UICarouselGrid.BuildGridCountArrows = function ( f12_arg0, f12_arg1, f12_arg2 )
	LUI.UIPeekingGrid.BuildGridCountArrows( f12_arg0, f12_arg1, f12_arg2 )
	if f12_arg0.GridCountArrows and not LUI.IsLastInputGamepad( f12_arg0._controllerIndex ) then
		f12_arg0.GridCountArrows:BuildMouseWheelIcon( f12_arg0._controllerIndex )
	else
		f12_arg0.GridCountArrows:RemoveMouseWheelIcon( f12_arg0._controllerIndex )
	end
end

LUI.UICarouselGrid.UpdateNumbersAndArrows = function ( f11_arg0 )
	if not f11_arg0:ShouldDisplayNumbersAndArrows() then
		for f11_local3, f11_local4 in pairs( f11_arg0._itemNumbers ) do
			f11_local4:setText( "" )
		end
		return 
	else
		local f11_local0 = f11_arg0._selectedIndex
		local f11_local1 = #f11_arg0._contentData
		if not f11_local0 then
			f11_local0 = f11_arg0._contentStartIndex + f11_arg0._fixedTargetIndex + f11_arg0._focusedContentPositionOffset
			if f11_local1 < f11_local0 then
				f11_local0 = f11_local0 - f11_local1
			elseif f11_local0 < 1 then
				f11_local0 = f11_local1
			end
		end
		for f11_local5, f11_local6 in pairs( f11_arg0._itemNumbers ) do
			f11_local6:setText( Engine[0xED84C33EC5F01EA]( 0x74821ADAF79FD0F, f11_local0, f11_local1 ) )
		end
	end
end

LUI.UICarouselGrid.SetSelectedItemIndex = function ( f10_arg0, f10_arg1 )
	f10_arg0._selectedIndex = f10_arg1
end

LUI.UICarouselGrid.IsScrollLocked = function ( f9_arg0 )
	return f9_arg0._scrollLocked
end

LUI.UICarouselGrid.ScrollAmount = function ( f6_arg0, f6_arg1, f6_arg2 )
	if f6_arg0:IsScrollLocked() then
		
	else
		
	end
	f6_arg0._scrollLocked = true
	local f6_local0 = f6_arg0:getParent()
	if f6_local0._recursiveScrollTimer == nil then
		f6_local0._recursiveScrollTimer = LUI.UIElement.new()
		f6_local0:addElement( f6_local0._recursiveScrollTimer )
	end
	local f6_local1 = 0
	f6_arg0.recursiveScroll = function ()
		local f7_local0 = f6_arg0 <= f6_arg0
		if not f7_local0 then
			LUI.UICarouselGrid.super.ScrollAmount( f6_arg0, f6_arg0, 1 )
			local f7_local1 = f6_arg0._recursiveScrollTimer:Wait( f6_arg0._lockedCooldownTime, true )
			f7_local1.onComplete = function ()
				f7_local0 = f7_local0 + 1
				f7_local0.recursiveScroll()
			end
			
		else
			f6_arg0._scrollLocked = false
		end
	end
	
	f6_arg0.recursiveScroll()
end

LUI.UICarouselGrid.Scroll = function ( f5_arg0, f5_arg1 )
	f5_arg0:ScrollAmount( f5_arg1, 1 )
end

LUI.UICarouselGrid.IsAlreadyFocused = function ( f4_arg0, f4_arg1, f4_arg2 )
	if f4_arg2 ~= f4_arg0._fixedTargetIndex and f4_arg1 ~= f4_arg0._fixedTargetIndex then
		return true
	end
	local f4_local0 = f4_arg0._targetPosition
	if f4_local0 then
		if f4_arg0._targetPosition.x ~= f4_arg1 or f4_arg0._targetPosition.y ~= f4_arg2 then
			f4_local0 = false
		else
			f4_local0 = true
		end
	end
	return f4_local0
end

LUI.UICarouselGrid.RefreshContentPositionInternal = function ( f2_arg0, f2_arg1, f2_arg2, f2_arg3, f2_arg4, f2_arg5, f2_arg6 )
	local f2_local0 = function ( f3_arg0, f3_arg1, f3_arg2, f3_arg3, f3_arg4, f3_arg5, f3_arg6 )
		local f3_local0 = f3_arg0:GetPrimaryAxis()
		local f3_local1 = LUI.DIRECTION.horizontal
		f3_local0 = REG19 and f3_arg0._fixedTargetIndex or 0
		f3_local1 = f3_arg0:GetPrimaryAxis()
		local f3_local2 = LUI.DIRECTION.vertical
		f3_local1 = REG22 and f3_arg0._fixedTargetIndex or 0
		f3_arg0:SetTargetColumn( f3_local0, false, false )
		f3_arg0:SetTargetRow( f3_local1, false, false )
		f3_arg0:RefreshDisplayContentData()
		f3_arg0:RefreshContent()
		if not f3_arg0._targetPosition then
			f3_arg0._targetPosition = {}
		end
		f3_arg0._targetPosition.x = f3_local0
		f3_arg0._targetPosition.y = f3_local1
		if f3_arg3 then
			f3_local2 = f3_arg0:GetPrimaryAxis()
			local f3_local3 = LUI.DIRECTION.horizontal
			f3_local2 = REG25 and f3_arg0._focusedContentPositionOffset or 0
			f3_local3 = f3_arg0:GetPrimaryAxis()
			local f3_local4 = LUI.DIRECTION.vertical
			f3_local4 = f3_arg0:GetElementAtPosition( f3_arg0._targetPosition.x + f3_local2, f3_arg0._targetPosition.y + (REG28 and f3_arg0._focusedContentPositionOffset or 0) )
			if f3_local4 then
				f3_arg0:GiveFocusToChild( f3_local4, nil, f3_arg5, f3_arg6 )
			else
				f3_arg0:NotifyWhenPositionIsVisible( f3_arg0._targetPosition.x, f3_arg0._targetPosition.y )
			end
		end
	end
	
	f2_local0( f2_arg0, f2_arg1, f2_arg2, f2_arg3, f2_arg4, f2_arg5, f2_arg6 )
end

LUI.UICarouselGrid.SetPositionInternal = function ( f1_arg0, f1_arg1, f1_arg2, f1_arg3, f1_arg4, f1_arg5, f1_arg6 )
	local f1_local0
	if f1_arg0:GetPrimaryAxis() == LUI.DIRECTION.horizontal then
		f1_local0 = "x"
	else
		f1_local0 = "y"
	end
	local f1_local1 = f1_arg0:GetMaxVisibleLines( f1_arg0:GetPrimaryAxis() )
	f1_arg1 = LUI.ShallowCopy( f1_arg1 )
	assert( f1_arg1.x and f1_arg1.y )
	local f1_local2 = f1_arg0._fixedTargetIndex - 1
	if f1_local2 < 0 then
		f1_local2 = f1_local1 - 1
	end
	local f1_local3 = f1_arg0._fixedTargetIndex + 1
	if f1_local1 - 1 < f1_local3 then
		f1_local3 = 0
	end
	f1_arg1[f1_local0] = LUI.clamp( f1_arg1[f1_local0], f1_local2, f1_local3 )
	if f1_arg0:GetNumColumns() == 0 or f1_arg0:GetNumRows() == 0 then
		f1_arg0:RemoveFocusFromChild( f1_arg2 )
		f1_arg0._shouldFocus = false
		f1_arg0._targetPosition = nil
		f1_arg0:SetLastFocusIndex( nil )
		f1_arg0:UpdateNumbersAndArrows()
		return 
	end
	f1_arg0._shouldFocus = f1_arg3
	if f1_arg3 and not f1_arg0:IsPositionInDataSet( f1_arg1.x, f1_arg1.y ) then
		local f1_local4, f1_local5 = f1_arg0:ColumnRowToPrimarySecondary( math.floor( f1_arg1.x ), math.floor( f1_arg1.y ) )
		local f1_local6, f1_local7 = f1_arg0:PrimarySecondaryToColumnRow( f1_local4, f1_local5 )
		if 0 < f1_local5 and not f1_arg0:IsPositionInDataSet( f1_local6, f1_local7 ) then
			
		else
			
		end
		if 0 < f1_local4 and not f1_arg0:IsPositionInDataSet( f1_local6, f1_local7 ) then
			
		else
			
		end
		f1_arg1.x = f1_local6
		f1_arg1.y = f1_local7
	end
	if f1_arg0._targetPosition and f1_arg0._targetPosition.x == f1_arg1.x and f1_arg0._targetPosition.y == f1_arg1.y then
		if not f1_arg3 then
			f1_arg0:RemoveFocusFromChild( f1_arg2 )
			return 
		end
		local f1_local4 = f1_arg0:GetElementAtPosition( f1_arg0._targetPosition.x, f1_arg0._targetPosition.y )
		if f1_local4 and (f1_local4:isInFocus() or 0 < #f1_local4:getAllFocusedChildren()) then
			return 
		end
	end
	local f1_local4 = f1_arg0._targetPosition == nil
	f1_arg0:RemoveFocusFromChild( f1_arg2 )
	f1_arg1[f1_local0] = LUI.clamp( f1_arg1[f1_local0], 0, f1_arg0:GetNumChildren() - 1 )
	if f1_arg3 then
		f1_arg1[f1_local0] = math.floor( f1_arg1[f1_local0] )
	end
	f1_arg0:SetTargetLine( f1_arg0:GetPrimaryAxis(), f1_arg1[f1_local0], false, f1_arg2 )
	f1_arg0:UpdateContentStartIndex( f1_arg1 )
	if f1_arg0._pendingRefresh then
		f1_arg0._pendingRefresh = nil
		f1_arg0:RefreshContent()
	end
	f1_arg0._targetPosition = f1_arg1
	f1_arg0._targetPosition.skipTargetRowAdjustment = nil
	f1_arg0._targetPosition.skipTargetColumnAdjustment = nil
	f1_arg0:UpdateNumbersAndArrows()
	f1_arg0:UpdateScrolling()
	f1_arg0:RefreshContentPositionInternal( f1_arg1, f1_arg2, f1_arg3, f1_arg4, f1_arg5, f1_arg6 )
end

LUI.UIGrid.id = "LUIGrid"
LUI.UIDataSourceGrid.id = "LUIDataSourceGrid"
LUI.UICarouselGrid.id = "LUICarouselGrid"
LUI.UIPeekingGrid.id = "LUIPeekingGrid"
