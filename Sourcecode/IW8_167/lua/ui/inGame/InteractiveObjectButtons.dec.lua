-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-07-2025 21:51
module( ..., package.seeall )
local f0_local0 = function ( f2_arg0, f2_arg1, f2_arg2 )
	f2_arg0.instances = {}
	local f2_local0 = DataSources.inGame.HUD.hints.interactiveObject.button
	local f2_local1 = f2_local0.targetEntity:GetModel( f2_arg1 )
	local f2_local2 = f2_local0.shouldShow:GetModel( f2_arg1 )
	local f2_local3 = f2_local0.style:GetModel( f2_arg1 )
	f2_arg0:SubscribeToModel( f2_local1, function ( f3_arg0 )
		local f3_local0 = DataModel.JJEHAEBDF( f3_arg0 )
		local f3_local1 = f2_arg0.dismiss:GetModel( f2_arg0 )
		DataModel.DBEBGEAJHJ( f3_local1, true )
		for f3_local5, f3_local6 in pairs( f2_arg0.instances ) do
			local f3_local7 = f3_local6:Wait( 500 )
			f3_local7.onComplete = function ()
				f3_arg0:SetDataSource( nil, f3_arg0 )
				f3_arg0:SetEntityNum( nil )
				f3_arg0:closeTree()
				if f3_arg0.instances[f3_arg0] == f3_arg0 then
					f3_arg0.instances[f3_arg0] = nil
				end
			end
			
		end
		DataModel.DBEBGEAJHJ( f3_local1, false )
		if f2_arg0.instances[f3_local0] then
			f2_arg0.instances[f3_local0]:closeTree()
			f2_arg0.instances[f3_local0] = nil
		end
		if CONDITIONS.IsBRGameType( f2_arg0 ) and not CONDITIONS.IsRealismMode( f2_arg0, f2_arg0 ) then
			f3_local2 = Game.DFFJEIIAD( f2_arg0 )
			if BRLOOT.ShouldShowLootCard( f2_arg0 ) then
				if f3_local2 then
					f3_local3 = DataModel.DBEBGEAJHJ
					f3_local5 = DataSources.inGame.HUD.hints.interactiveObject.lootCard.targetEntityOverride:GetModel( f2_arg0 )
					if f3_local0 > BRLOOT.MAX_GENTITIES and not f3_local0 then
						f3_local6 = f3_local0
					else
						f3_local6 = BRLOOT.INVALID_TARGET_ENTITY
					end
					f3_local3( f3_local5, f3_local6 )
				end
				return 
			end
		end
		f3_local2 = DataModel.JJEHAEBDF( f2_arg0 )
		f3_local3 = DataModel.JJEHAEBDF( f2_arg0 )
		f3_local4, f3_local5 = nil
		if f3_local2 then
			if f3_local3 == HINT_STYLES.circle then
				f3_local4 = "InteractiveObjectButton"
				f3_local5 = {
					snapEdges = true,
					buttonHintMinScale = Dvar.BJJCJHDBII( "ROSSSPSSP" ),
					buttonHintMaxScale = Dvar.BJJCJHDBII( "cg_buttonHintMaxScale" ),
					buttonHintNaturalDistance = Dvar.BJJCJHDBII( "NSOMOMMLML" )
				}
			elseif f3_local3 == HINT_STYLES.buddyBoost then
				f3_local4 = "InteractiveBuddyBoost"
				f3_local5 = {
					snapEdges = false,
					buttonHintMaxScale = 1,
					buttonHintNaturalDistance = 130,
					buttonHintMinScale = 4.6672616413205735E-62
				}
			end
		end
		if f3_local4 then
			f3_local6 = MenuBuilder.BuildRegisteredType( f3_local4, f2_arg0 )
			f3_local6.id = "hint_" .. f3_local0
			local f3_local7 = CONDITIONS.IsBRGameType( f2_arg0 )
			f3_local6:SetupAnchoredElement( {
				applyLensDistortion = true,
				entityNum = f3_local0,
				snapToScreenEdges = f3_local5.snapEdges,
				minScale = f3_local5.buttonHintMinScale,
				maxScale = f3_local5.buttonHintMaxScale,
				naturalDistance = f3_local5.buttonHintNaturalDistance,
				enableDistanceBasedSnapCheck = f3_local7,
				useDistanceBasedFading = f3_local7
			} )
			f3_local6:SubscribeToModelThroughElement( f3_local6, "targetEntityTag", function ( f4_arg0 )
				f3_arg0:SetEntityTag( DataModel.JJEHAEBDF( f4_arg0 ) )
			end )
			f3_local6:SetDataSource( f2_arg0, f2_arg0 )
			f2_arg0.instances[f3_local0] = f3_local6
			f2_arg0:addElement( f2_arg0.instances[f3_local0] )
		end
	end )
end

function InteractiveObjectButtons( menu, controller )
	local self = LUI.UIElement.new()
	self:SetAnchorsAndPosition( 0, 1, 0, 1, 0, 1920 * _1080p, 0, 1080 * _1080p )
	self.id = "InteractiveObjectButtons"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	if not f1_local1 and not Engine.DDJFBBJAIG() then
		f1_local1 = self:getRootController()
	end
	assert( f1_local1 )
	local f1_local2 = self
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "InteractiveObjectButtons", InteractiveObjectButtons )
LockTable( _M )
