-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:49
module( ..., package.seeall )
require( "ui.generated.widgets.frontend.menutitle" )
require( "ui.generated.widgets.frontend.missioncommandtilecontainer" )
require( "ui.generated.widgets.scrollbar.horizontalscrollbar" )
require( "ui.generated.widgets.genericsidebuttonsrow" )
local f0_local0 = 437
local f0_local1 = 703
local f0_local2 = 22
local f0_local3 = 402
local f0_local4 = {
	UPGRADE = 2,
	PMC = 1,
	LOCATION = 3,
	NOTES = 4
}
local f0_local5 = function ( f10_arg0, f10_arg1 )
	local f10_local0 = {}
	if f10_arg1 == f0_local0.PMC then
		local f10_local1 = DMZ.GetDataForActivePMCMissions( f10_arg0 )
		local f10_local2 = DMZ.GetFactionReputationProgressCompletionPercent( f10_arg0 )
		f10_local0.progress = f10_local2
		f10_local0.buttonPrimaryActionText = Engine[0xED84C33EC5F01EA]( 0xCF5E568C8623335 )
		f10_local0.cardData = {
			icon = "ui_dmz_missions_objectives_missions",
			tileName = Engine[0xED84C33EC5F01EA]( 0xCDEA6DEDD04ED7B ),
			tileDesc = Engine[0xED84C33EC5F01EA]( 0x851B65AF7A6DDDE ),
			progress = f10_local2,
			missions = f10_local1
		}
		f10_local0.FocusAction = function ( f15_arg0 )
			LUI.FlowManager.RequestAddMenu( "PMCMissionSelect", false, f10_arg0, false )
			return true
		end
		
		f10_local0.SetupExtraWidget = function ( f14_arg0 )
			ACTIONS.AnimateSequence( f14_arg0.MissionCommandTile, "FactionImage" )
			
			local FactionWidget = MenuBuilder.BuildRegisteredType( "MissionCommandTileFactionProgress", {
				controllerIndex = f14_arg0._controllerIndex
			} )
			f14_arg0:addElement( FactionWidget )
			f14_arg0.FactionWidget = FactionWidget
			
			f14_arg0.FactionWidget:SetAnchorsAndPosition( 0, 1, 0, 1, f10_arg0 * _1080p, f10_arg0 * _1080p, f10_arg0 * _1080p, f10_arg0 * _1080p )
			f14_arg0.FactionWidget:SetAlpha( 0.7, 0 )
		end
		
	elseif f10_arg1 == f0_local0.UPGRADE then
		local f10_local1 = DMZ.GetPassiveUpgradeProgressCompletionPercent( f10_arg0 )
		f10_local0.progress = f10_local1
		f10_local0.buttonPrimaryActionText = Engine[0xED84C33EC5F01EA]( 0x50BF552A6F2910B )
		f10_local0.cardData = {
			icon = "ui_dmz_missions_objectives_upgrades",
			tileName = Engine[0xED84C33EC5F01EA]( 0x49DFF93D7EBCAC9 ),
			tileDesc = Engine[0xED84C33EC5F01EA]( 0x6A460DC3C1B5900 ),
			progress = f10_local1
		}
		f10_local0.FocusAction = function ( f13_arg0 )
			LUI.FlowManager.RequestAddMenu( "DMZBase", false, f13_arg0, false )
			return true
		end
		
	else
		if f10_arg1 == f0_local0.LOCATION then
			local f10_local3 = AAR.GetDMZLocationChallengesPercentComplete( AAR.GetWeaponCaseChallengeData( f10_arg0 ), AAR.GetDMZBlueprintChallengeData( f10_arg0 ) ) * 100
			f10_local0.progress = f10_local3
			f10_local0.buttonPrimaryActionText = Engine[0xED84C33EC5F01EA]( 0x35519827BB721C8 )
			f10_local0.cardData = {
				icon = "ui_dmz_missions_objectives_location_objectives",
				tileName = Engine[0xED84C33EC5F01EA]( 0xE046E6B03ACF088 ),
				tileDesc = Engine[0xED84C33EC5F01EA]( 0x52EA2BD46B39F85 ),
				progress = f10_local3
			}
			f10_local0.FocusAction = function ( f12_arg0 )
				LUI.FlowManager.RequestAddMenu( "DMZChallengeSelect", false, f12_arg0, nil, {
					weaponCaseChallenges = f10_arg0,
					blueprintChallenges = f10_arg0
				}, true )
				return true
			end
			
		end
		if f10_arg1 == f0_local0.NOTES then
			local f10_local1 = DMZ.GetCollectedNotesProgressPercent( f10_arg0 )
			f10_local0.progress = f10_local1
			f10_local0.buttonPrimaryActionText = Engine[0xED84C33EC5F01EA]( 0x70C16D45CF8FF43 )
			f10_local0.cardData = {
				icon = "ui_dmz_missions_objectives_notes",
				tileName = Engine[0xED84C33EC5F01EA]( 0xA8232B5F7CB85A8 ),
				tileDesc = Engine[0xED84C33EC5F01EA]( 0x6970ADD7A58EE2B ),
				progress = f10_local1
			}
			f10_local0.FocusAction = function ( f11_arg0 )
				LUI.FlowManager.RequestAddMenu( "DMZNotes", true, f11_arg0, nil, nil, true )
				return true
			end
			
		end
	end
	return f10_local0
end

local f0_local6 = function ( f4_arg0, f4_arg1, f4_arg2 )
	local f4_local0 = {
		removeMask = true,
		removeTextBacker = true,
		removeEquipBanner = true,
		imageSize = "None",
		removeText = true
	}
	local f4_local1 = 0
	for f4_local5, f4_local6 in pairs( f0_local0 ) do
		f4_local1 = f4_local1 + 1
	end
	f4_arg0.MissionObjectiveButtons:SetNumChildren( f4_local1 )
	f4_arg0.MissionObjectiveButtons:TouchMouseSetActiveToDefaultFocusMenuCreate( f4_arg1 )
	f4_arg0.MissionObjectiveButtons:SetRefreshChild( function ( f6_arg0, f6_arg1, f6_arg2 )
		local f6_local0 = f4_arg0( f4_arg0, f4_arg0.MissionObjectiveButtons:GetContentIndex( f6_arg1, f6_arg2 ) + 1 )
		f4_arg0.primaryActionText = f6_local0.buttonPrimaryActionText
		f6_arg0:SetupButton( f4_arg0 )
		f6_arg0.MissionCommandTile:SetupCard( f6_local0.cardData )
		ACTIONS.AnimateSequence( f6_arg0.MissionCommandTile, "ShowProgressBar" )
		f6_arg0:registerEventHandler( "button_action", function ( element, event )
			if element:isInFocus() then
				f6_arg0.FocusAction( event.controller )
			end
		end )
		f6_arg0:addEventHandler( "button_over", function ( f8_arg0, f8_arg1 )
			ACTIONS.AnimateSequence( f8_arg0.MissionCommandTile, "ButtonOver" )
			ACTIONS.AnimateSequence( f8_arg0.MissionCommandTile, "Glint" )
			if f8_arg0.FactionWidget then
				f8_arg0.FactionWidget:SetAlpha( 1, 0 )
			end
		end )
		f6_arg0:addEventHandler( "button_up", function ( f7_arg0, f7_arg1 )
			ACTIONS.AnimateSequence( f7_arg0.MissionCommandTile, "ButtonUp" )
			ACTIONS.AnimateSequence( f7_arg0.MissionCommandTile, "NoGlint" )
			if f7_arg0.FactionWidget then
				f7_arg0.FactionWidget:SetAlpha( 0.7, 0 )
			end
		end )
		if f6_local0.SetupExtraWidget then
			f6_local0.SetupExtraWidget( f6_arg0 )
		end
	end )
	f4_arg0.MissionObjectiveButtons:RefreshContent()
	f4_arg0.MissionObjectiveButtons:SetupSideArrows( f4_arg0.SideArrows, 0 )
	ACTIONS.AnimateSequence( f4_arg0.MenuTitle, "TitleOnly" )
	f4_arg0.MenuTitle:SetTitle( Engine[0xED84C33EC5F01EA]( 0xC3A21B41B39D46A ) )
	if not CONDITIONS.IsMobileOrMobileSim() then
		f4_arg0.MenuTitle:SetupBackButton( f4_arg1 )
	end
	f4_arg0:AddGamepadEventCallback( "button_secondary", function ( f5_arg0, f5_arg1 )
		ACTIONS.LeaveMenu( f4_arg0 )
	end )
end

function MissionCommand( menu, controller )
	local self = LUI.UIHorizontalNavigator.new()
	self.id = "MissionCommand"
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local RightVignette = nil
	
	RightVignette = LUI.UIImage.new()
	RightVignette.id = "RightVignette"
	ACTIONS.ScaleFullscreen( RightVignette )
	RightVignette:SetRGBFromInt( 0, 0 )
	RightVignette:SetAlpha( 0.75, 0 )
	RightVignette:setImage( RegisterMaterial( 0x595907DB53CDC3A ), 0 )
	RightVignette:SetUMin( 1, 0 )
	RightVignette:SetUMax( 0, 0 )
	RightVignette:SetBlendMode( BLEND_MODE.multiply )
	RightVignette:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -540, _1080p * 540 )
	self:addElement( RightVignette )
	self.RightVignette = RightVignette
	
	local LeftVignette = nil
	
	LeftVignette = LUI.UIImage.new()
	LeftVignette.id = "LeftVignette"
	ACTIONS.ScaleFullscreen( LeftVignette )
	LeftVignette:SetRGBFromInt( 0, 0 )
	LeftVignette:SetAlpha( 0.75, 0 )
	LeftVignette:setImage( RegisterMaterial( 0x595907DB53CDC3A ), 0 )
	LeftVignette:SetBlendMode( BLEND_MODE.multiply )
	LeftVignette:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -540, _1080p * 540 )
	self:addElement( LeftVignette )
	self.LeftVignette = LeftVignette
	
	local Darkener = nil
	
	Darkener = LUI.UIImage.new()
	Darkener.id = "Darkener"
	ACTIONS.ScaleFullscreen( Darkener )
	Darkener:SetRGBFromInt( 0, 0 )
	Darkener:SetAlpha( 0.6, 0 )
	Darkener:SetBlendMode( BLEND_MODE.multiply )
	Darkener:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -960, _1080p * 960, _1080p * -540, _1080p * 540 )
	self:addElement( Darkener )
	self.Darkener = Darkener
	
	local Gradient = nil
	
	Gradient = LUI.UIImage.new()
	Gradient.id = "Gradient"
	ACTIONS.AspectRatioScaleAdjustment( self, Gradient, LAYOUT.AspectRatioImageScalePct.FADEFRAME_STANDARD )
	Gradient:SetRGBFromTable( SWATCHES.IW9StyleGuide.styleGuideWarm01, 0 )
	Gradient:SetAlpha( 0.5, 0 )
	Gradient:SetHorizontalPivot( LUI.HorizontalPivot.Right )
	Gradient:SetVerticalPivot( LUI.VerticalPivot.Bottom )
	Gradient:setImage( RegisterMaterial( 0xD0547D8662069B5 ), 0 )
	Gradient:SetAnchorsAndPosition( 1, 0, 1, 0, _1080p * -1920, _1080p * -248, _1080p * -672, 0 )
	self:addElement( Gradient )
	self.Gradient = Gradient
	
	local MenuTitle = nil
	
	MenuTitle = MenuBuilder.BuildRegisteredType( "MenuTitle", {
		controllerIndex = f1_local1
	} )
	MenuTitle.id = "MenuTitle"
	MenuTitle.MenuTitle:setText( Engine[0xED84C33EC5F01EA]( 0xECB687C6D943854 ), 0 )
	MenuTitle.ModeTitle:setText( "", 0 )
	MenuTitle:SetAnchorsAndPosition( 0, 0, 0, 1, 0, 0, 0, _1080p * 80 )
	self:addElement( MenuTitle )
	self.MenuTitle = MenuTitle
	
	local MissionObjectiveButtons = nil
	
	MissionObjectiveButtons = LUI.UIGrid.new( {
		maxVisibleColumns = 4,
		maxVisibleRows = 1,
		wrapY = false,
		wrapX = false,
		controllerIndex = f1_local1,
		buildChild = function ()
			return MenuBuilder.BuildRegisteredType( "MissionCommandTileContainer", {
				controllerIndex = menu
			} )
		end,
		refreshChild = function ( f2_arg0, f2_arg1, f2_arg2 )
			
		end,
		primaryAxis = LUI.DIRECTION.horizontal,
		spacingX = _1080p * 16,
		spacingY = _1080p * 10,
		columnWidth = _1080p * 424,
		rowHeight = _1080p * 816,
		scrollType = Enum[0x92A69278394394][0xEDF5C0F5CCFACE1],
		verticalAlignment = LUI.Alignment.Middle
	} )
	MissionObjectiveButtons.id = "MissionObjectiveButtons"
	MissionObjectiveButtons:setUseStencil( false )
	MissionObjectiveButtons:SetActiveOnMouseOverBehavior( f1_local1 )
	MissionObjectiveButtons:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -868, _1080p * 868, _1080p * -420, _1080p * 480 )
	self:addElement( MissionObjectiveButtons )
	self.MissionObjectiveButtons = MissionObjectiveButtons
	
	local HorizontalScrollbar = nil
	
	HorizontalScrollbar = MenuBuilder.BuildRegisteredType( "HorizontalScrollbar", {
		controllerIndex = f1_local1
	} )
	HorizontalScrollbar.id = "HorizontalScrollbar"
	HorizontalScrollbar:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -345, _1080p * 345, _1080p * 480, _1080p * 498 )
	self:addElement( HorizontalScrollbar )
	self.HorizontalScrollbar = HorizontalScrollbar
	
	local SideArrows = nil
	
	SideArrows = MenuBuilder.BuildRegisteredType( "GenericSideButtonsRow", {
		controllerIndex = f1_local1
	} )
	SideArrows.id = "SideArrows"
	SideArrows:SetAnchorsAndPosition( 0.5, 0.5, 1, 0, _1080p * -900, _1080p * 900, _1080p * -951, _1080p * 186 )
	self:addElement( SideArrows )
	self.SideArrows = SideArrows
	
	local f1_local11 = LUI.UIScrollbar.new
	local f1_local12 = {
		direction = LUI.DIRECTION.horizontal,
		eventListener = HorizontalScrollbar,
		startCap = HorizontalScrollbar.startCap,
		endCap = HorizontalScrollbar.endCap,
		sliderArea = HorizontalScrollbar.sliderArea
	}
	local f1_local13 = HorizontalScrollbar.sliderArea
	if f1_local13 then
		f1_local13 = HorizontalScrollbar.sliderArea.slider
	end
	f1_local12.slider = f1_local13
	f1_local13 = HorizontalScrollbar.sliderArea
	if f1_local13 then
		f1_local13 = HorizontalScrollbar.sliderArea.fixedSizeSlider
	end
	f1_local12.fixedSizeSlider = f1_local13
	MissionObjectiveButtons:AddScrollbar( f1_local11( f1_local12 ) )
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "MissionCommand", MissionCommand )
LockTable( _M )
