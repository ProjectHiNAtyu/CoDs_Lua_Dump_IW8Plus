-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 13-10-2025 14:16
LUI.LUIMixedElementPool = LUI.Class()
LUI.LUIMixedElementPool.init = function ( f6_arg0, f6_arg1 )
	local f6_local0 = assert
	local f6_local1 = f6_arg1.maxPoolSize
	if f6_local1 then
		f6_local1 = 0 < f6_arg1.maxPoolSize
	end
	f6_local0( f6_local1 )
	f6_arg0._pool = {}
	f6_arg0.id = f6_arg1.id or ""
	f6_arg0._buildElementTable = {}
	f6_arg0._maxPoolSize = f6_arg1.maxPoolSize
	f6_arg0._sendEventOnAllocate = f6_arg1.sendEventOnAllocate or false
end

LUI.LUIMixedElementPool.RegisterElementType = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = assert
	local f5_local1 = f5_arg0._buildElementTable
	if f5_local1 then
		f5_local1 = not f5_arg0._buildElementTable[f5_arg1]
	end
	f5_local0( f5_local1 )
	f5_arg0._buildElementTable[f5_arg1] = f5_arg2
end

LUI.LUIMixedElementPool.AllocateElement = function ( f4_arg0, f4_arg1 )
	assert( f4_arg0._pool )
	local f4_local0, f4_local1 = nil
	for f4_local5, f4_local6 in ipairs( f4_arg0._pool ) do
		if f4_local6.inUse == false then
			if f4_local6.poolType == f4_arg1 then
				f4_local6.inUse = true
				if f4_arg0._sendEventOnAllocate then
					f4_local6:processEvent( {
						name = "pooled_on_allocate"
					} )
				end
				return f4_local6
			end
			f4_local0 = f4_local6
			f4_local1 = f4_local5
		end
	end
	f4_local2 = assert
	f4_local4 = f4_arg0._buildElementTable
	if f4_local4 then
		f4_local4 = f4_arg0._buildElementTable[f4_arg1]
	end
	f4_local2( f4_local4 )
	if f4_arg0._maxPoolSize <= #f4_arg0._pool then
		f4_local2 = assert
		if f4_local0 then
			f4_local4 = f4_local0
		else
			f4_local4 = f4_local1
		end
		f4_local2( f4_local4 )
		if f4_local0 and f4_local1 then
			table.remove( f4_arg0._pool, f4_local1 )
			f4_local0:closeTree()
		end
	end
	f4_local2 = nil
	f4_local2 = f4_arg0._buildElementTable[f4_arg1]()
	f4_local2.pooledElement = true
	f4_local2.poolType = f4_arg1
	table.insert( f4_arg0._pool, 1, f4_local2 )
	f4_local2.inUse = true
	if f4_local2 and f4_arg0._sendEventOnAllocate then
		f4_local2:processEvent( {
			name = "pooled_on_allocate"
		} )
	end
	return f4_local2
end

LUI.LUIMixedElementPool.DeallocateElement = function ( f3_arg0, f3_arg1 )
	if f3_arg1.pooledElement then
		f3_arg1.inUse = false
		return true
	else
		return false
	end
end

LUI.LUIMixedElementPool.DeallocateAllElements = function ( f2_arg0 )
	for f2_local3, f2_local4 in ipairs( f2_arg0._pool ) do
		f2_local4.inUse = false
	end
end

LUI.LUIMixedElementPool.IsTypeValid = function ( f1_arg0, f1_arg1 )
	return f1_arg0._buildElementTable[f1_arg1] ~= nil
end

