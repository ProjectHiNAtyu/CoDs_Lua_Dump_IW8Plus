-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-11-2025 08:48
module( ..., package.seeall )
local f0_local0 = function ()
	Engine[0x3DACD106DDC0D71]()
end

local f0_local1 = {
	[STORE.BundleTypes.FREE] = "store_purchased_bundle_free",
	[STORE.BundleTypes.REGULAR] = "store_purchased_bundle_regular",
	[STORE.BundleTypes.HIGHVALUE] = "store_purchased_bundle_hi_value",
	[STORE.BundleTypes.UPGRADE] = "store_purchased_bundle_vault"
}
local f0_local2 = {
	[STORE.BundleTypes.FREE] = 0xFC36870A07E3DFF,
	[STORE.BundleTypes.REGULAR] = 0xA069F80ED7AE7BB,
	[STORE.BundleTypes.HIGHVALUE] = 0x5672A829F71CD11,
	[STORE.BundleTypes.UPGRADE] = 0xDD61E3D9E161DF3
}
local f0_local3 = function ( f5_arg0, f5_arg1, f5_arg2 )
	local f5_local0 = STORE.UI.GetBundleTypeForCelebration( f5_arg1, f5_arg2.bundle )
	Engine[0xFCF332AA8AC9B0F]( f0_local0[f5_local0], VideoPlaybackFlags.PAUSE_LAST_FRAME )
	Engine[0xC4146BA76D0F982]( f0_local0[f5_local0] )
	f5_arg0.TitleImage:setImage( RegisterMaterial( STORE.Bundles.GetTitleImage( f5_arg2.bundle ) ) )
	ACTIONS.AnimateSequence( f5_arg0, "Intro" )
	local f5_local1 = f5_arg0:Wait( 3000, true )
	f5_local1.onComplete = function ()
		if f5_arg0.onCompleteFunc then
			f5_arg0.onCompleteFunc( f5_arg0.parent, f5_arg0.bundle, f5_arg0 )
		end
		ACTIONS.LeaveMenu( f5_arg0 )
	end
	
end

States = {
	[0xAD14C6E7156B923] = function ( f2_arg0, f2_arg1 )
		local f2_local0 = function ( f4_arg0, f4_arg1 )
			
		end
		
		f2_arg0.PurchasedText:RegisterAnimationSequence( "Intro", {
			{
				duration = 0,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.IW9StyleGuide.styleGuideCool01
			},
			{
				value = 9,
				duration = 0,
				property = TWEEN_PROPERTY.Scale
			},
			{
				value = 1,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Tracking,
				value = 0 * _1080p
			},
			{
				value = 0,
				duration = 200,
				property = TWEEN_PROPERTY.Scale,
				easing = LUI.EASING.outQuadratic
			},
			{
				duration = 200,
				property = TWEEN_PROPERTY.Tracking,
				value = 0 * _1080p,
				easing = LUI.EASING.snap
			},
			{
				duration = 1000,
				property = TWEEN_PROPERTY.RGB,
				value = SWATCHES.genericMenu.blackBackground,
				easing = LUI.EASING.snap
			},
			{
				value = 0,
				duration = 1200,
				property = TWEEN_PROPERTY.Alpha,
				easing = LUI.EASING.snap
			},
			{
				duration = 1000,
				property = TWEEN_PROPERTY.Tracking,
				value = 5 * _1080p
			}
		} )
		f2_arg0.TitleImage:RegisterAnimationSequence( "Intro", {
			{
				value = 0,
				duration = 0,
				property = TWEEN_PROPERTY.Alpha
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 144
			},
			{
				duration = 0,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 656
			},
			{
				value = 1,
				duration = 1300,
				property = TWEEN_PROPERTY.Alpha,
				easing = LUI.EASING.snap
			},
			{
				duration = 1300,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * 144,
				easing = LUI.EASING.snap
			},
			{
				duration = 1300,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 656,
				easing = LUI.EASING.snap
			},
			{
				duration = -28,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * -256
			},
			{
				duration = -28,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 256
			},
			{
				duration = 1600,
				property = TWEEN_PROPERTY.Left,
				value = _1080p * -356
			},
			{
				duration = 1600,
				property = TWEEN_PROPERTY.Right,
				value = _1080p * 156
			}
		} )
		f2_arg0._sequences = {
			DefaultSequence = f2_local0,
			Intro = function ( f3_arg0, f3_arg1 )
				f3_arg0.PurchasedText:AnimateSequence( "Intro" )
				f3_arg0.TitleImage:AnimateSequence( "Intro" )
			end
		}
		f2_arg0._sequenceLengths = {
			DefaultSequence = 0,
			Intro = 3000
		}
	end
}
function StorePurchaseCelbrationPopup( menu, controller )
	local self = LUI.UIElement.new()
	self.id = "StorePurchaseCelbrationPopup"
	self.__states = States
	local f1_local1
	if controller then
		f1_local1 = controller
	else
		f1_local1 = controller.controllerIndex
	end
	f1_local1 = LUI.ValidateControllerIndex( self, f1_local1 )
	local f1_local2 = self
	local Background = nil
	
	Background = LUI.UIImage.new()
	Background.id = "Background"
	ACTIONS.ScaleFullscreen( Background )
	Background:SetRGBFromInt( 0, 0 )
	self:addElement( Background )
	self.Background = Background
	
	local Cinematic = nil
	
	Cinematic = MenuBuilder.BuildRegisteredType( "Cinematic", {
		controllerIndex = f1_local1
	} )
	Cinematic.id = "Cinematic"
	ACTIONS.AspectRatioScaleAdjustment( self, Cinematic, LAYOUT.AspectRatioImageScalePct.FADEFRAME_MEDIUM )
	self:addElement( Cinematic )
	self.Cinematic = Cinematic
	
	local PurchasedText = nil
	
	PurchasedText = LUI.UIStyledText.new()
	PurchasedText.id = "PurchasedText"
	PurchasedText:SetRGBFromTable( SWATCHES.genericMenu.blackBackground, 0 )
	PurchasedText:setText( ToUpperCase( Engine[0xED84C33EC5F01EA]( 0xCF3BA01C117FB58 ) ), 0 )
	PurchasedText:SetFont( FONTS.GetFont( FONTS.SecondaryRegular.File ) )
	PurchasedText:SetFontSize( 70 * _PT )
	PurchasedText:SetMinFontSize( 70 * _PT )
	PurchasedText:SetWordWrap( true )
	PurchasedText:SetAlignment( LUI.Alignment.Center )
	PurchasedText:SetSDFRenderingEnabled( true )
	PurchasedText:SetAnchorsAndPosition( 0, 0, 0.5, 0.5, 0, 0, _1080p * -35, _1080p * 35 )
	self:addElement( PurchasedText )
	self.PurchasedText = PurchasedText
	
	local TitleImage = nil
	
	TitleImage = LUI.UIImage.new()
	TitleImage.id = "TitleImage"
	TitleImage:SetAlpha( 0, 0 )
	TitleImage:SetAnchorsAndPosition( 0.5, 0.5, 0.5, 0.5, _1080p * -256, _1080p * 256, _1080p * -128, _1080p * 128 )
	self:addElement( TitleImage )
	self.TitleImage = TitleImage
	
	f0_local0( self, f1_local1, controller )
	return self
end

MenuBuilder.registerType( "StorePurchaseCelbrationPopup", StorePurchaseCelbrationPopup )
LUI.FlowManager.RegisterStackPopBehaviour( "StorePurchaseCelbrationPopup", f0_local0 )
LockTable( _M )
